// Auto-generated from ai-brain-logs
// Generated at: 2025-11-25T07:56:28.961Z
// Total: 253 entries

import type { Technology } from './technologies';

export const aiBrainLogsTechnologies: Technology[] = [
  {
    "slug": "ai-feedback-loop-optimization",
    "title": "AIãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ãƒ«ãƒ¼ãƒ—ã¨æ¬¡ç« æœ€é©åŒ–",
    "category": "Skillsï¼ˆã‚¹ã‚­ãƒ«ãƒ»æ‰‹æ³•ï¼‰",
    "description": "ç”Ÿæˆã—ãŸç« ã‚’AIãŒåˆ†æã—ã€å“è³ªè©•ä¾¡ãƒ»ãƒ†ãƒ¼ãƒåˆ†æãƒ»æ–‡ä½“åˆ†æç­‰ã®çµæœã‹ã‚‰æ¬¡ç« ã¸ã®æ”¹å–„ææ¡ˆã‚’è‡ªå‹•ç”Ÿæˆã™ã‚‹ã€‚ç« ã”ã¨ã®å­¦ç¿’ã‚µã‚¤ã‚¯ãƒ«ã§å“è³ªã‚’ç¶™ç¶šçš„ã«å‘ä¸Šã•ã›ã‚‹ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ãƒ«ãƒ¼ãƒ—ã‚’å®Ÿè£…ã™ã‚‹æ‰‹æ³•ã€‚",
    "project": "novel-automation-system-v2",
    "usedIn": [
      "src/lib/generation/post-generation-pipeline.ts:400-700"
    ],
    "code": "```json\n{\n  \"id\": \"skill_ai_feedback_loop_optimization_2025_11_25\",\n  \"type\": \"skill\",\n  \"name\": \"AIãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ãƒ«ãƒ¼ãƒ—ã¨æ¬¡ç« æœ€é©åŒ–\",\n  \"tags\": [\"AIãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯\", \"æ¬¡ç« æœ€é©åŒ–\", \"æ”¹å–„ææ¡ˆ\", \"å“è³ªå‘ä¸Š\", \"ç¶™ç¶šçš„æ”¹å–„\"],\n  \"source_project\": \"novel-automation-system-v2\",\n  \"source_file\": \"src/lib/generation/post-generation-pipeline.ts:400-700\",\n  \"related_knowledge\": [\"skill_multi_dimensional_quality_evaluation_2025_11_25\", \"decision_ai_analysis_architecture_2025_11_25\"],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# AIãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ãƒ«ãƒ¼ãƒ—ã¨æ¬¡ç« æœ€é©åŒ–\n\n## ä½•ã‚’ã™ã‚‹ã‚¹ã‚­ãƒ«ã‹\n\nç”Ÿæˆã—ãŸç« ã‚’AIãŒåˆ†æã—ã€å“è³ªè©•ä¾¡ãƒ»ãƒ†ãƒ¼ãƒåˆ†æãƒ»æ–‡ä½“åˆ†æç­‰ã®çµæœã‹ã‚‰æ¬¡ç« ã¸ã®æ”¹å–„ææ¡ˆã‚’è‡ªå‹•ç”Ÿæˆã™ã‚‹ã€‚ç« ã”ã¨ã®å­¦ç¿’ã‚µã‚¤ã‚¯ãƒ«ã§å“è³ªã‚’ç¶™ç¶šçš„ã«å‘ä¸Šã•ã›ã‚‹ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ãƒ«ãƒ¼ãƒ—ã‚’å®Ÿè£…ã™ã‚‹æ‰‹æ³•ã€‚\n\n## å…·ä½“çš„ãªæ‰‹æ³•\n\n### 1. ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ãƒ«ãƒ¼ãƒ—ã®æ§‹é€ \n\n```\nç« Nç”Ÿæˆ\n  â†“\nåŒ…æ‹¬çš„åˆ†æå®Ÿè¡Œ\n  â”œâ”€ å“è³ªè©•ä¾¡\n  â”œâ”€ ãƒ†ãƒ¼ãƒåˆ†æ\n  â”œâ”€ æ–‡ä½“åˆ†æ\n  â”œâ”€ ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼åˆ†æ\n  â””â”€ ã‚·ãƒ¼ãƒ³æ§‹é€ åˆ†æ\n  â†“\nå“è³ªãƒ¡ãƒˆãƒªã‚¯ã‚¹æŠ½å‡º\n  â†“\næ¬¡ç« æœ€é©åŒ–ææ¡ˆç”Ÿæˆ\n  â”œâ”€ ãƒ†ãƒ¼ãƒæœ€é©åŒ–\n  â”œâ”€ æ–‡ä½“æœ€é©åŒ–\n  â”œâ”€ ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼æ·±åŒ–\n  â””â”€ ãƒ†ãƒ³ã‚·ãƒ§ãƒ³æœ€é©åŒ–\n  â†“\nçµ±åˆæ”¹å–„ææ¡ˆ\n  â†“\nç« N+1ç”Ÿæˆã«åæ˜ \n```\n\n### 2. æœ€é©åŒ–å…¥åŠ›ã®æ§‹é€ \n\n```typescript\ninterface OptimizationInput {\n  themeAnalysis: any;          // ãƒ†ãƒ¼ãƒåˆ†æçµæœ\n  styleAnalysis: any;          // æ–‡ä½“åˆ†æçµæœ\n  expressionPatterns: any;     // è¡¨ç¾ãƒ‘ã‚¿ãƒ¼ãƒ³\n  qualityMetrics: any;         // å“è³ªãƒ¡ãƒˆãƒªã‚¯ã‚¹\n  characters: any[];           // ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼æƒ…å ±\n  characterPsychologies: any;  // ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼å¿ƒç†\n}\n\nasync generateNextChapterOptimizations(\n  chapter: Chapter,\n  context: GenerationContext,\n  analysisResults: any\n): Promise<any> {\n  // æ¬¡ç« ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆæº–å‚™\n  const nextChapterContext: GenerationContext = {\n    ...context,\n    chapterNumber: chapter.chapterNumber + 1\n  };\n\n  // å…¥åŠ›å½¢å¼å¤‰æ›\n  const optimizationInput: OptimizationInput = {\n    themeAnalysis: analysisResults.themeAnalysis,\n    styleAnalysis: analysisResults.styleAnalysis,\n    expressionPatterns: analysisResults.expressionPatterns,\n    qualityMetrics: analysisResults.qualityMetrics,\n    characters: context.characters || [],\n    characterPsychologies: context.characterPsychology || {}\n  };\n\n  // æœ€é©åŒ–å®Ÿè¡Œ\n  const optimizationResults = await this.optimizationCoordinator.optimizeChapter(\n    chapter.content,\n    chapter.chapterNumber + 1,\n    nextChapterContext,\n    optimizationInput\n  );\n\n  return optimizationResults;\n}\n```\n\n### 3. çµ±åˆæ”¹å–„ææ¡ˆã®ç”Ÿæˆ\n\n```typescript\nprivate integrateNextChapterSuggestions(\n  analysisResults: any,\n  optimizationResults: any\n): string[] {\n  const suggestions: string[] = [];\n\n  // 1. åˆ†æçµæœã‹ã‚‰ã®ææ¡ˆ\n  if (analysisResults?.integratedSuggestions) {\n    suggestions.push(...analysisResults.integratedSuggestions);\n  }\n\n  // 2. å“è³ªãƒ¡ãƒˆãƒªã‚¯ã‚¹ãƒ™ãƒ¼ã‚¹ææ¡ˆ\n  if (analysisResults?.qualityMetrics) {\n    const qualityBasedSuggestions =\n      this.generateQualityBasedSuggestions(analysisResults.qualityMetrics);\n    suggestions.push(...qualityBasedSuggestions);\n  }\n\n  // 3. æœ€é©åŒ–çµæœã‹ã‚‰ã®å„ªå…ˆææ¡ˆ\n  if (optimizationResults?.integratedRecommendations?.prioritizedSuggestions) {\n    const prioritizedSuggestions = optimizationResults.integratedRecommendations\n      .prioritizedSuggestions\n      .filter((s: any) => s.priority === 'high' || s.priority === 'medium')\n      .map((s: any) => s.description);\n\n    suggestions.push(...prioritizedSuggestions);\n  }\n\n  // 4. ã‚«ãƒ†ã‚´ãƒªåˆ¥ç‰¹åŒ–ææ¡ˆ\n  const categoryBasedSuggestions =\n    this.extractCategoryBasedSuggestions(optimizationResults);\n  suggestions.push(...categoryBasedSuggestions);\n\n  // é‡è¤‡é™¤å»ã¨åˆ¶é™\n  const uniqueSuggestions = [...new Set(suggestions)];\n  return uniqueSuggestions.slice(0, 10); // æœ€å¤§10å€‹\n}\n```\n\n### 4. å“è³ªãƒ™ãƒ¼ã‚¹ææ¡ˆç”Ÿæˆ\n\n```typescript\nprivate generateQualityBasedSuggestions(qualityMetrics: any): string[] {\n  const suggestions: string[] = [];\n\n  // ã‚¨ãƒ³ã‚²ãƒ¼ã‚¸ãƒ¡ãƒ³ãƒˆãŒä½ã„å ´åˆ\n  if (qualityMetrics.engagement < 0.7) {\n    suggestions.push('èª­è€…ã®èˆˆå‘³ã‚’å¼•ãè¦ç´ ã‚’è¿½åŠ ã—ã¦ãã ã•ã„');\n    suggestions.push('ç‰©èªã®å±•é–‹ã«ãƒ¡ãƒªãƒãƒªã‚’ã¤ã‘ã¦ãã ã•ã„');\n  }\n\n  // ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼æå†™ãŒä¸è¶³\n  if (qualityMetrics.characterDepiction < 0.7) {\n    suggestions.push('ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã®æå†™ã‚’ã‚ˆã‚Šæ·±ãè¡Œã£ã¦ãã ã•ã„');\n    suggestions.push('ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã®æ„Ÿæƒ…ã‚„å‹•æ©Ÿã‚’ã‚ˆã‚Šæ˜ç¢ºã«è¡¨ç¾ã—ã¦ãã ã•ã„');\n  }\n\n  // ä¸€è²«æ€§ã«å•é¡Œ\n  if (qualityMetrics.consistency < 0.7) {\n    suggestions.push('ç‰©èªã®ä¸€è²«æ€§ã‚’ä¿ã£ã¦ãã ã•ã„');\n    suggestions.push('è¨­å®šã‚„ä¸–ç•Œè¦³ã®çŸ›ç›¾ãŒãªã„ã‹ç¢ºèªã—ã¦ãã ã•ã„');\n  }\n\n  // èª­ã¿ã‚„ã™ã•ãŒä½ã„\n  if (qualityMetrics.readability < 0.6) {\n    suggestions.push('æ–‡ç« ã‚’ã‚ˆã‚Šã‚·ãƒ³ãƒ—ãƒ«ã§èª­ã¿ã‚„ã™ãã—ã¦ãã ã•ã„');\n    suggestions.push('è¤‡é›‘ãªè¡¨ç¾ã‚’é¿ã‘ã€æ˜å¿«ãªæ–‡ä½“ã‚’å¿ƒãŒã‘ã¦ãã ã•ã„');\n  }\n\n  // ãƒ—ãƒ­ãƒƒãƒˆæ•´åˆæ€§ã«å•é¡Œ\n  if (qualityMetrics.plotCoherence < 0.7) {\n    suggestions.push('ãƒ—ãƒ­ãƒƒãƒˆã®æµã‚Œã‚’æ•´ç†ã—ã¦ãã ã•ã„');\n    suggestions.push('å› æœé–¢ä¿‚ã‚’æ˜ç¢ºã«ã—ã¦ãã ã•ã„');\n  }\n\n  // å¯¾è©±å“è³ªãŒä½ã„\n  if (qualityMetrics.dialogueQuality < 0.6) {\n    suggestions.push('å¯¾è©±ã‚’ã‚ˆã‚Šè‡ªç„¶ã§ç”Ÿãç”Ÿãã¨ã—ãŸã‚‚ã®ã«ã—ã¦ãã ã•ã„');\n    suggestions.push('ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã®å€‹æ€§ãŒå¯¾è©±ã«åæ˜ ã•ã‚Œã‚‹ã‚ˆã†ã«ã—ã¦ãã ã•ã„');\n  }\n\n  return suggestions;\n}\n```\n\n### 5. ã‚«ãƒ†ã‚´ãƒªåˆ¥ç‰¹åŒ–ææ¡ˆã®æŠ½å‡º\n\n```typescript\nprivate extractCategoryBasedSuggestions(optimizationResults: any): string[] {\n  const suggestions: string[] = [];\n\n  // ãƒ†ãƒ¼ãƒæœ€é©åŒ–ææ¡ˆ\n  if (optimizationResults?.themeOptimization?.suggestions) {\n    suggestions.push(...optimizationResults.themeOptimization.suggestions.slice(0, 2));\n  }\n\n  // æ–‡ä½“æœ€é©åŒ–ææ¡ˆ\n  if (optimizationResults?.styleOptimization?.recommendations) {\n    suggestions.push(...optimizationResults.styleOptimization.recommendations.slice(0, 2));\n  }\n\n  // ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼æ·±åŒ–ææ¡ˆ\n  if (optimizationResults?.characterDeepening?.developmentSuggestions) {\n    suggestions.push(...optimizationResults.characterDeepening.developmentSuggestions.slice(0, 2));\n  }\n\n  // ãƒ†ãƒ³ã‚·ãƒ§ãƒ³æœ€é©åŒ–ææ¡ˆ\n  if (optimizationResults?.tensionOptimization?.recommendations) {\n    suggestions.push(...optimizationResults.tensionOptimization.recommendations.slice(0, 2));\n  }\n\n  return suggestions;\n}\n```\n\n### 6. ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã®çµ±åˆè¨˜æ†¶ã‚·ã‚¹ãƒ†ãƒ ä¿å­˜\n\n```typescript\nprivate async saveFeedbackToMemory(\n  chapterNumber: number,\n  suggestions: string[],\n  qualityMetrics: any\n): Promise<void> {\n  const feedbackRecord = {\n    chapterNumber,\n    timestamp: new Date().toISOString(),\n    suggestions,\n    qualityMetrics,\n    metadata: {\n      suggestionCount: suggestions.length,\n      averageQuality: this.calculateAverageQuality(qualityMetrics)\n    }\n  };\n\n  // ä¸­æœŸè¨˜æ†¶ã«ä¿å­˜ï¼ˆæ¬¡ç« ç”Ÿæˆæ™‚ã«å‚ç…§ï¼‰\n  await this.memoryManager.saveToMidTerm(\n    `feedback_chapter_${chapterNumber}`,\n    feedbackRecord\n  );\n\n  // é•·æœŸè¨˜æ†¶ã«ã‚‚è“„ç©ï¼ˆãƒˆãƒ¬ãƒ³ãƒ‰åˆ†æç”¨ï¼‰\n  await this.memoryManager.saveToLongTerm(\n    'feedbackHistory',\n    feedbackRecord,\n    { append: true }\n  );\n}\n```\n\n### 7. ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯å±¥æ­´ã®æ´»ç”¨\n\n```typescript\nasync getHistoricalFeedback(chapterNumber: number): Promise<any> {\n  // éå»Nç« ã®ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã‚’å–å¾—\n  const historicalFeedback = [];\n\n  for (let i = Math.max(1, chapterNumber - 3); i < chapterNumber; i++) {\n    const feedback = await this.memoryManager.getFromMidTerm(\n      `feedback_chapter_${i}`\n    );\n\n    if (feedback) {\n      historicalFeedback.push(feedback);\n    }\n  }\n\n  // ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ãƒˆãƒ¬ãƒ³ãƒ‰ã®åˆ†æ\n  const trendAnalysis = this.analyzeFeedbackTrend(historicalFeedback);\n\n  return {\n    historicalFeedback,\n    trendAnalysis\n  };\n}\n\nprivate analyzeFeedbackTrend(feedbackHistory: any[]): any {\n  if (feedbackHistory.length === 0) {\n    return { trend: 'INSUFFICIENT_DATA' };\n  }\n\n  const qualityScores = feedbackHistory.map(\n    f => f.metadata.averageQuality\n  );\n\n  const isImproving = qualityScores.every((score, index) =>\n    index === 0 || score >= qualityScores[index - 1]\n  );\n\n  const isDeclining = qualityScores.every((score, index) =>\n    index === 0 || score <= qualityScores[index - 1]\n  );\n\n  return {\n    trend: isImproving ? 'IMPROVING' :\n           isDeclining ? 'DECLINING' : 'STABLE',\n    averageQualityChange: this.calculateAverageChange(qualityScores),\n    consistentIssues: this.findConsistentIssues(feedbackHistory)\n  };\n}\n```\n\n## ãªãœã“ã®æ‰‹æ³•ã‚’ä½¿ã†ã‹\n\n**ç†ç”±1ï¼šç¶™ç¶šçš„å“è³ªæ”¹å–„**\n- ç« ã”ã¨ã«å­¦ç¿’ã—ã€æ¬¡ç« ã§æ”¹å–„\n- å•é¡Œã‚’æ—©æœŸç™ºè¦‹ã—å³åº§ã«ä¿®æ­£\n- å¾ŒåŠã®ç« ã»ã©å“è³ªãŒå‘ä¸Š\n\n**ç†ç”±2ï¼šå¤šè§’çš„ãªãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯**\n- å“è³ªãƒ»ãƒ†ãƒ¼ãƒãƒ»æ–‡ä½“ãƒ»ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ç­‰ã®å¤šé¢çš„åˆ†æ\n- å˜ä¸€è¦–ç‚¹ã§ã¯è¦‹é€ƒã™å•é¡Œã‚‚æ¤œå‡º\n- ç·åˆçš„ãªæ”¹å–„ææ¡ˆ\n\n**ç†ç”±3ï¼šå„ªå…ˆé †ä½ä»˜ãææ¡ˆ**\n- é«˜å„ªå…ˆåº¦ãƒ»ä¸­å„ªå…ˆåº¦ã®ææ¡ˆã‚’æŠ½å‡º\n- é‡è¦ãªæ”¹å–„ç‚¹ã«é›†ä¸­\n- ææ¡ˆã®éå¤šã‚’é˜²ãï¼ˆæœ€å¤§10å€‹ï¼‰\n\n**ç†ç”±4ï¼šãƒˆãƒ¬ãƒ³ãƒ‰åˆ†æã§æ ¹æœ¬å¯¾ç­–**\n- ç¹°ã‚Šè¿”ã—æŒ‡æ‘˜ã•ã‚Œã‚‹å•é¡Œã‚’ç‰¹å®š\n- æ§‹é€ çš„ãªå•é¡Œã‚’èªè­˜\n- é•·æœŸçš„ãªæ”¹å–„è¨ˆç”»ã®ç­–å®š\n\n## å†ç¾æ–¹æ³•\n\n```typescript\nimport { PostGenerationPipeline } from '@/lib/generation/post-generation-pipeline';\n\nconst pipeline = new PostGenerationPipeline(\n  memoryManager,\n  analysisCoordinator,\n  optimizationCoordinator\n);\n\n// ã‚¹ãƒ†ãƒƒãƒ—1: ç« ç”Ÿæˆå¾Œã®åŒ…æ‹¬çš„åˆ†æ\nconst analysisResults = await pipeline.executeComprehensiveAnalysis(\n  chapterContent,\n  chapterNumber,\n  context\n);\n\n// ã‚¹ãƒ†ãƒƒãƒ—2: æ¬¡ç« æœ€é©åŒ–ææ¡ˆã®ç”Ÿæˆ\nconst optimizationResults = await pipeline.generateNextChapterOptimizations(\n  { chapterNumber, content: chapterContent },\n  context,\n  analysisResults\n);\n\n// ã‚¹ãƒ†ãƒƒãƒ—3: çµ±åˆæ”¹å–„ææ¡ˆã®å–å¾—\nconst suggestions = pipeline.integrateNextChapterSuggestions(\n  analysisResults,\n  optimizationResults\n);\n\nconsole.log('æ¬¡ç« ã¸ã®æ”¹å–„ææ¡ˆ:');\nsuggestions.forEach((suggestion, index) => {\n  console.log(`${index + 1}. ${suggestion}`);\n});\n\n// ã‚¹ãƒ†ãƒƒãƒ—4: ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯å±¥æ­´ã®ç¢ºèª\nconst historicalFeedback = await pipeline.getHistoricalFeedback(chapterNumber + 1);\nconsole.log('å“è³ªãƒˆãƒ¬ãƒ³ãƒ‰:', historicalFeedback.trendAnalysis.trend);\n```\n\n## ã„ã¤ä½¿ã†ã‹\n\n- **ç« ç”Ÿæˆç›´å¾Œ**ï¼šå³åº§ã«åˆ†æã—ã¦ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ç”Ÿæˆ\n- **æ¬¡ç« ç”Ÿæˆå‰**ï¼šéå»ã®ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã‚’å‚ç…§\n- **å“è³ªãƒ¬ãƒ“ãƒ¥ãƒ¼æ™‚**ï¼šãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯å±¥æ­´ã‚’ç¢ºèª\n- **ãƒˆãƒ¬ãƒ³ãƒ‰åˆ†ææ™‚**ï¼šå“è³ªã®å¤‰åŒ–ã‚’è¿½è·¡\n- **å•é¡Œç‰¹å®šæ™‚**ï¼šç¹°ã‚Šè¿”ã—æŒ‡æ‘˜ã•ã‚Œã‚‹èª²é¡Œã‚’ç™ºè¦‹\n\n## æ³¨æ„ç‚¹\n\n- **ææ¡ˆã®å–æ¨é¸æŠ**ï¼šã™ã¹ã¦ã®ææ¡ˆã‚’æ¡ç”¨ã™ã‚‹å¿…è¦ã¯ãªã„\n- **å‰µé€ æ€§ã¨ã®ãƒãƒ©ãƒ³ã‚¹**ï¼šAIã®ææ¡ˆã«éåº¦ã«ä¾å­˜ã—ãªã„\n- **æ–‡è„ˆã®è€ƒæ…®**ï¼šææ¡ˆãŒç¾åœ¨ã®å±•é–‹ã«åˆã‚ãªã„å ´åˆã‚‚ã‚ã‚‹\n- **å‡¦ç†ã‚³ã‚¹ãƒˆ**ï¼šå…¨ã¦ã®åˆ†æã‚’å®Ÿè¡Œã™ã‚‹ã¨APIå‘¼ã³å‡ºã—ãŒå¤šã„\n- **ææ¡ˆã®é‡è¤‡**ï¼šè¤‡æ•°ã®åˆ†æã‹ã‚‰ä¼¼ãŸææ¡ˆãŒå‡ºã‚‹å¯èƒ½æ€§\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `skill_multi_dimensional_quality_evaluation_2025_11_25.md`ï¼šå“è³ªè©•ä¾¡ã‚·ã‚¹ãƒ†ãƒ \n- `decision_ai_analysis_architecture_2025_11_25.md`ï¼šAIåˆ†æã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã®è¨­è¨ˆåˆ¤æ–­\n",
    "prompt": "```typescript\nimport { PostGenerationPipeline } from '@/lib/generation/post-generation-pipeline';\n\nconst pipeline = new PostGenerationPipeline(\n  memoryManager,\n  analysisCoordinator,\n  optimizationCoordinator\n);\n\n// ã‚¹ãƒ†ãƒƒãƒ—1: ç« ç”Ÿæˆå¾Œã®åŒ…æ‹¬çš„åˆ†æ\nconst analysisResults = await pipeline.executeComprehensiveAnalysis(\n  chapterContent,\n  chapterNumber,\n  context\n);\n\n// ã‚¹ãƒ†ãƒƒãƒ—2: æ¬¡ç« æœ€é©åŒ–ææ¡ˆã®ç”Ÿæˆ\nconst optimizationResults = await pipeline.generateNextChapterOptimizations(\n  { chapterNumber, content: chapterContent },\n  context,\n  analysisResults\n);\n\n// ã‚¹ãƒ†ãƒƒãƒ—3: çµ±åˆæ”¹å–„ææ¡ˆã®å–å¾—\nconst suggestions = pipeline.integrateNextChapterSuggestions(\n  analysisResults,\n  optimizationResults\n);\n\nconsole.log('æ¬¡ç« ã¸ã®æ”¹å–„ææ¡ˆ:');\nsuggestions.forEach((suggestion, index) => {\n  console.log(`${index + 1}. ${suggestion}`);\n});\n\n// ã‚¹ãƒ†ãƒƒãƒ—4: ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯å±¥æ­´ã®ç¢ºèª\nconst historicalFeedback = await pipeline.getHistoricalFeedback(chapterNumber + 1);\nconsole.log('å“è³ªãƒˆãƒ¬ãƒ³ãƒ‰:', historicalFeedback.trendAnalysis.trend);\n```",
    "relatedTech": [
      "skill-multi-dimensional-quality-evaluation",
      "decision-ai-analysis-architecture"
    ]
  },
  {
    "slug": "ai-prompt-section-specific",
    "title": "ã‚»ã‚¯ã‚·ãƒ§ãƒ³åˆ¥AIãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚°",
    "category": "Skillsï¼ˆã‚¹ã‚­ãƒ«ãƒ»æ‰‹æ³•ï¼‰",
    "description": "ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆå†…ã®å„ã‚»ã‚¯ã‚·ãƒ§ãƒ³ï¼ˆãƒ˜ãƒƒãƒ€ãƒ¼ã€æœ¬æ–‡ã€ã‚µã‚¤ãƒ‰ãƒãƒ¼ãªã©ï¼‰ã«å¯¾ã—ã¦ã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®ç›®çš„ãƒ»åˆ¶ç´„ãƒ»ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã«å¿œã˜ãŸå°‚ç”¨ã®AIãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’ç”Ÿæˆã—ã€é©åˆ‡ãªã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ç”Ÿæˆã™ã‚‹æ‰‹æ³•ã€‚",
    "project": "ai-document-generator",
    "usedIn": [
      "src/app/api/ai/generate/route.ts:1-100, src/data/ai-prompts/, doc/v5/ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆè¨­è¨ˆæ€æƒ³.md:235-298"
    ],
    "code": "```json\n{\n  \"id\": \"skill_ai_prompt_section_specific_2025_04_11\",\n  \"type\": \"skill\",\n  \"name\": \"ã‚»ã‚¯ã‚·ãƒ§ãƒ³åˆ¥AIãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚°\",\n  \"tags\": [\"AI\", \"ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚°\", \"ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”Ÿæˆ\", \"Gemini API\", \"ã‚»ã‚¯ã‚·ãƒ§ãƒ³åˆ¥ç”Ÿæˆ\", \"ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆç®¡ç†\"],\n  \"source_project\": \"ai-document-generator\",\n  \"source_file\": \"src/app/api/ai/generate/route.ts:1-100, src/data/ai-prompts/, doc/v5/ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆè¨­è¨ˆæ€æƒ³.md:235-298\",\n  \"related_knowledge\": [\"decision_ai_gemini_vs_openai_2025_04_11\", \"workflow_ai_content_generation_flow_2025_04_11\", \"failure_ai_content_constraints_2025_04_11\"],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-04-11\",\n  \"updated\": \"2025-04-11\"\n}\n```\n\n# ã‚»ã‚¯ã‚·ãƒ§ãƒ³åˆ¥AIãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚°\n\n## ä½•ã‚’ã™ã‚‹ã‚¹ã‚­ãƒ«ã‹\n\nãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆå†…ã®å„ã‚»ã‚¯ã‚·ãƒ§ãƒ³ï¼ˆãƒ˜ãƒƒãƒ€ãƒ¼ã€æœ¬æ–‡ã€ã‚µã‚¤ãƒ‰ãƒãƒ¼ãªã©ï¼‰ã«å¯¾ã—ã¦ã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®ç›®çš„ãƒ»åˆ¶ç´„ãƒ»ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã«å¿œã˜ãŸå°‚ç”¨ã®AIãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’ç”Ÿæˆã—ã€é©åˆ‡ãªã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ç”Ÿæˆã™ã‚‹æ‰‹æ³•ã€‚\n\n## å…·ä½“çš„ãªæ‰‹æ³•\n\n### 1. ã‚»ã‚¯ã‚·ãƒ§ãƒ³å®šç¾©ã¨AIç”Ÿæˆãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿\n\nå„ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã«ã€AIç”Ÿæˆã®ãŸã‚ã®æƒ…å ±ã‚’ä»˜åŠ ï¼š\n\n```typescript\ninterface Section {\n  id: string;\n  name: string;\n  type: string;\n  purpose: string; // ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®ç›®çš„\n\n  // AIç”Ÿæˆè¨­å®š\n  aiGeneration: {\n    contentPriority: 'high' | 'medium' | 'low'; // ç”Ÿæˆå„ªå…ˆåº¦\n    contentType: string;                         // ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚¿ã‚¤ãƒ—\n    suggestedTextLength: 'short' | 'medium' | 'long'; // æ¨å¥¨æ–‡å­—æ•°\n    requiresFactualContent: boolean;             // äº‹å®Ÿã«åŸºã¥ãå¿…è¦ãŒã‚ã‚‹ã‹\n    textStyle: string;                           // æ–‡ä½“ï¼ˆ'professional', 'casual', 'impactful'ï¼‰\n    contextDependencies: string[];               // ä¾å­˜ã™ã‚‹ä»–ã‚»ã‚¯ã‚·ãƒ§ãƒ³\n  };\n\n  // ã‚³ãƒ³ãƒ†ãƒ³ãƒ„åˆ¶ç´„\n  contentConstraints: {\n    textLimits?: {\n      minChars?: number;\n      maxChars?: number;\n      recommendedChars?: number;\n    };\n  };\n}\n```\n\n**ä¾‹**ï¼ˆè¡¨ç´™ã‚»ã‚¯ã‚·ãƒ§ãƒ³ï¼‰:\n```json\n{\n  \"id\": \"cover\",\n  \"name\": \"è¡¨ç´™\",\n  \"type\": \"header\",\n  \"purpose\": \"ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåã¨ã‚­ãƒ£ãƒƒãƒãƒ•ãƒ¬ãƒ¼ã‚ºã‚’è¡¨ç¤º\",\n  \"aiGeneration\": {\n    \"contentPriority\": \"high\",\n    \"contentType\": \"heading\",\n    \"suggestedTextLength\": \"short\",\n    \"requiresFactualContent\": true,\n    \"textStyle\": \"impactful\",\n    \"contextDependencies\": []\n  },\n  \"contentConstraints\": {\n    \"textLimits\": {\n      \"maxChars\": 100,\n      \"recommendedChars\": 50\n    }\n  }\n}\n```\n\n**ä¾‹**ï¼ˆå‰µè¨­è€…ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚»ã‚¯ã‚·ãƒ§ãƒ³ï¼‰:\n```json\n{\n  \"id\": \"founder_message\",\n  \"name\": \"å‰µè¨­è€…ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸\",\n  \"type\": \"content\",\n  \"purpose\": \"ãƒ•ã‚¡ã‚¦ãƒ³ãƒ€ãƒ¼ã‹ã‚‰ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¨è‡ªå·±ç´¹ä»‹\",\n  \"aiGeneration\": {\n    \"contentPriority\": \"high\",\n    \"contentType\": \"personal_story\",\n    \"suggestedTextLength\": \"medium\",\n    \"requiresFactualContent\": true,\n    \"textStyle\": \"personal_professional\",\n    \"contextDependencies\": []\n  },\n  \"contentConstraints\": {\n    \"textLimits\": {\n      \"minChars\": 300,\n      \"maxChars\": 800,\n      \"recommendedChars\": 500\n    }\n  }\n}\n```\n\n### 2. ã‚°ãƒ­ãƒ¼ãƒãƒ«ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®ç®¡ç†\n\nãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆå…¨ä½“ã§å…±é€šã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’ç®¡ç†ï¼š\n\n```typescript\ninterface GlobalParameters {\n  // ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆåŸºæœ¬æƒ…å ±\n  title: string;\n  purpose: string;           // ç›®çš„ï¼ˆä¾‹ï¼šã€Œè³‡é‡‘èª¿é”ã€ã€Œæ¡ç”¨ã€ã€Œåºƒå ±ã€ï¼‰\n  targetAudience: string;    // å¯¾è±¡è€…ï¼ˆä¾‹ï¼šã€ŒæŠ•è³‡å®¶ã€ã€Œæ±‚è·è€…ã€ã€Œä¸€èˆ¬é¡§å®¢ã€ï¼‰\n\n  // ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆæƒ…å ±\n  industry: string;          // æ¥­ç¨®ï¼ˆä¾‹ï¼šã€ŒITã€ã€Œæ•™è‚²ã€ã€Œè£½é€ ã€ï¼‰\n  companyName?: string;      // ä¼šç¤¾å\n  productName?: string;      // è£½å“å\n\n  // AIç”Ÿæˆãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿\n  tone: string;              // ãƒˆãƒ¼ãƒ³ï¼ˆä¾‹ï¼šã€Œãƒ•ã‚©ãƒ¼ãƒãƒ«ã€ã€Œã‚«ã‚¸ãƒ¥ã‚¢ãƒ«ã€ã€Œæƒ…ç†±çš„ã€ï¼‰\n  temperature: number;       // AI temperatureï¼ˆ0.0-1.0ï¼‰\n  maxTokens: number;         // æœ€å¤§ãƒˆãƒ¼ã‚¯ãƒ³æ•°\n}\n```\n\n**ä¾‹**:\n```json\n{\n  \"title\": \"FIND to DO ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆèª¬æ˜è³‡æ–™\",\n  \"purpose\": \"è³‡é‡‘èª¿é”ãƒ»ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼å‹Ÿé›†\",\n  \"targetAudience\": \"æŠ•è³‡å®¶ãƒ»æ•™è‚²æ©Ÿé–¢ãƒ»ä¼æ¥­ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼\",\n  \"industry\": \"æ•™è‚²ãƒ»ã‚­ãƒ£ãƒªã‚¢æ”¯æ´\",\n  \"companyName\": \"FIND to DO\",\n  \"tone\": \"ãƒ—ãƒ­ãƒ•ã‚§ãƒƒã‚·ãƒ§ãƒŠãƒ«ã‹ã¤æƒ…ç†±çš„\",\n  \"temperature\": 0.7,\n  \"maxTokens\": 2048\n}\n```\n\n### 3. ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®æ§‹ç¯‰\n\nã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®ç¨®é¡ã”ã¨ã«ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’å®šç¾©ï¼š\n\n```yaml\n# src/data/ai-prompts/section-level-base.yml\nsection_prompts:\n  heading:\n    template: |\n      ã‚ãªãŸã¯ãƒ—ãƒ­ãƒ•ã‚§ãƒƒã‚·ãƒ§ãƒŠãƒ«ãªã‚³ãƒ”ãƒ¼ãƒ©ã‚¤ã‚¿ãƒ¼ã§ã™ã€‚\n      ä»¥ä¸‹ã®æƒ…å ±ã«åŸºã¥ã„ã¦ã€ã‚¤ãƒ³ãƒ‘ã‚¯ãƒˆã®ã‚ã‚‹è¦‹å‡ºã—ã‚’ç”Ÿæˆã—ã¦ãã ã•ã„ã€‚\n\n      ã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæƒ…å ±ã€‘\n      - ã‚¿ã‚¤ãƒˆãƒ«: {title}\n      - ç›®çš„: {purpose}\n      - å¯¾è±¡è€…: {targetAudience}\n      - æ¥­ç¨®: {industry}\n\n      ã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³æƒ…å ±ã€‘\n      - ã‚»ã‚¯ã‚·ãƒ§ãƒ³å: {sectionName}\n      - ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®ç›®çš„: {sectionPurpose}\n      - æ–‡å­—æ•°åˆ¶ç´„: {minChars}-{maxChars}æ–‡å­—\n      - æ–‡ä½“: {textStyle}\n\n      ã€è¦ä»¶ã€‘\n      - {maxChars}æ–‡å­—ä»¥å†…\n      - {textStyle}ãªè¡¨ç¾\n      - {targetAudience}ã«éŸ¿ãå†…å®¹\n\n      è¦‹å‡ºã—ã®ã¿ã‚’å‡ºåŠ›ã—ã¦ãã ã•ã„ã€‚èª¬æ˜ã¯ä¸è¦ã§ã™ã€‚\n\n  personal_story:\n    template: |\n      ã‚ãªãŸã¯ãƒ—ãƒ­ãƒ•ã‚§ãƒƒã‚·ãƒ§ãƒŠãƒ«ãªãƒ©ã‚¤ã‚¿ãƒ¼ã§ã™ã€‚\n      ä»¥ä¸‹ã®æƒ…å ±ã«åŸºã¥ã„ã¦ã€å‰µè¨­è€…ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç”Ÿæˆã—ã¦ãã ã•ã„ã€‚\n\n      ã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæƒ…å ±ã€‘\n      - ã‚¿ã‚¤ãƒˆãƒ«: {title}\n      - ç›®çš„: {purpose}\n      - å¯¾è±¡è€…: {targetAudience}\n      - æ¥­ç¨®: {industry}\n      - ãƒˆãƒ¼ãƒ³: {tone}\n\n      ã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³æƒ…å ±ã€‘\n      - ã‚»ã‚¯ã‚·ãƒ§ãƒ³å: {sectionName}\n      - ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®ç›®çš„: {sectionPurpose}\n      - æ–‡å­—æ•°åˆ¶ç´„: {minChars}-{maxChars}æ–‡å­—\n      - æ–‡ä½“: {textStyle}\n\n      ã€è¦ä»¶ã€‘\n      - {recommendedChars}æ–‡å­—ç¨‹åº¦\n      - {tone}ãªãƒˆãƒ¼ãƒ³\n      - ãƒ‘ãƒ¼ã‚½ãƒŠãƒ«ã‹ã¤ãƒ—ãƒ­ãƒ•ã‚§ãƒƒã‚·ãƒ§ãƒŠãƒ«\n      - {targetAudience}ã«ä¿¡é ¼æ„Ÿã‚’ä¸ãˆã‚‹å†…å®¹\n      - å…·ä½“çš„ãªçµŒé¨“ã‚„ãƒ“ã‚¸ãƒ§ãƒ³ã‚’å«ã‚€\n\n      å‰µè¨­è€…ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®ã¿ã‚’å‡ºåŠ›ã—ã¦ãã ã•ã„ã€‚\n\n  problem_statement:\n    template: |\n      ã‚ãªãŸã¯ãƒ“ã‚¸ãƒã‚¹ã‚¢ãƒŠãƒªã‚¹ãƒˆã§ã™ã€‚\n      ä»¥ä¸‹ã®æƒ…å ±ã«åŸºã¥ã„ã¦ã€ç¤¾ä¼šèª²é¡Œãƒ»å•é¡Œæèµ·ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’ç”Ÿæˆã—ã¦ãã ã•ã„ã€‚\n\n      ã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæƒ…å ±ã€‘\n      - ã‚¿ã‚¤ãƒˆãƒ«: {title}\n      - æ¥­ç¨®: {industry}\n      - å¯¾è±¡è€…: {targetAudience}\n\n      ã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³æƒ…å ±ã€‘\n      - ã‚»ã‚¯ã‚·ãƒ§ãƒ³å: {sectionName}\n      - ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®ç›®çš„: {sectionPurpose}\n      - æ–‡å­—æ•°åˆ¶ç´„: {minChars}-{maxChars}æ–‡å­—\n\n      ã€è¦ä»¶ã€‘\n      - {recommendedChars}æ–‡å­—ç¨‹åº¦\n      - ãƒ‡ãƒ¼ã‚¿ã‚„çµ±è¨ˆã‚’å«ã‚€ï¼ˆå¯èƒ½ã§ã‚ã‚Œã°ï¼‰\n      - å•é¡Œã®é‡è¦æ€§ã‚’æ˜ç¢ºã«\n      - {targetAudience}ãŒå…±æ„Ÿã§ãã‚‹å†…å®¹\n\n      å•é¡Œæèµ·ã®ãƒ†ã‚­ã‚¹ãƒˆã®ã¿ã‚’å‡ºåŠ›ã—ã¦ãã ã•ã„ã€‚\n```\n\n### 4. ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã®å‹•çš„ç”Ÿæˆ\n\nã‚°ãƒ­ãƒ¼ãƒãƒ«ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¨ã‚»ã‚¯ã‚·ãƒ§ãƒ³æƒ…å ±ã‚’çµ„ã¿åˆã‚ã›ã¦ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’ç”Ÿæˆï¼š\n\n```typescript\nfunction generateSectionPrompt(\n  section: Section,\n  globalParams: GlobalParameters,\n  promptTemplate: string\n): string {\n  // ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã«å€¤ã‚’åŸ‹ã‚è¾¼ã‚€\n  let prompt = promptTemplate;\n\n  // ã‚°ãƒ­ãƒ¼ãƒãƒ«ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’åŸ‹ã‚è¾¼ã¿\n  prompt = prompt.replace('{title}', globalParams.title);\n  prompt = prompt.replace('{purpose}', globalParams.purpose);\n  prompt = prompt.replace('{targetAudience}', globalParams.targetAudience);\n  prompt = prompt.replace('{industry}', globalParams.industry);\n  prompt = prompt.replace('{tone}', globalParams.tone);\n\n  // ã‚»ã‚¯ã‚·ãƒ§ãƒ³æƒ…å ±ã‚’åŸ‹ã‚è¾¼ã¿\n  prompt = prompt.replace('{sectionName}', section.name);\n  prompt = prompt.replace('{sectionPurpose}', section.purpose);\n  prompt = prompt.replace('{textStyle}', section.aiGeneration.textStyle);\n\n  // åˆ¶ç´„æƒ…å ±ã‚’åŸ‹ã‚è¾¼ã¿\n  const { minChars, maxChars, recommendedChars } = section.contentConstraints.textLimits || {};\n  prompt = prompt.replace('{minChars}', minChars?.toString() || '0');\n  prompt = prompt.replace('{maxChars}', maxChars?.toString() || '1000');\n  prompt = prompt.replace('{recommendedChars}', recommendedChars?.toString() || '500');\n\n  return prompt;\n}\n```\n\n### 5. ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆä¾å­˜ã®å‡¦ç†\n\nä»–ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®ç”Ÿæˆçµæœã‚’å‚ç…§ã™ã‚‹å ´åˆï¼š\n\n```typescript\ninterface SectionGenerationContext {\n  globalParams: GlobalParameters;\n  generatedSections: Record<string, string>; // sectionId -> generatedContent\n}\n\nfunction generateSectionWithContext(\n  section: Section,\n  context: SectionGenerationContext\n): Promise<string> {\n  let prompt = getPromptTemplate(section.aiGeneration.contentType);\n\n  // ä¾å­˜ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®å†…å®¹ã‚’è¿½åŠ \n  if (section.aiGeneration.contextDependencies.length > 0) {\n    const dependencyContent = section.aiGeneration.contextDependencies\n      .map(depId => {\n        const content = context.generatedSections[depId];\n        return `ã€${depId}ã®å†…å®¹ã€‘\\n${content}`;\n      })\n      .join('\\n\\n');\n\n    prompt += `\\n\\nä»¥ä¸‹ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®å†…å®¹ã¨æ•´åˆæ€§ã‚’ä¿ã£ã¦ãã ã•ã„ï¼š\\n${dependencyContent}`;\n  }\n\n  // ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’å®Œæˆ\n  prompt = generateSectionPrompt(section, context.globalParams, prompt);\n\n  // AI APIã«é€ä¿¡\n  return callAIAPI(prompt, context.globalParams);\n}\n```\n\n### 6. Gemini APIå‘¼ã³å‡ºã—\n\n```typescript\n// src/app/api/ai/generate/route.ts\nimport { GoogleGenerativeAI } from '@google/generative-ai';\n\nconst genAI = new GoogleGenerativeAI(process.env.GEMINI_API_KEY || '');\n\nexport async function POST(request: NextRequest) {\n  const body = await request.json();\n  const { prompt, parameters } = body;\n\n  const generationConfig = {\n    temperature: parameters?.temperature || 0.7,\n    topP: parameters?.topP || 0.9,\n    topK: parameters?.topK || 40,\n    maxOutputTokens: parameters?.maxTokens || 2048,\n  };\n\n  const model = genAI.getGenerativeModel({\n    model: 'gemini-1.5-flash',\n    generationConfig,\n  });\n\n  const result = await model.generateContent(prompt);\n  const text = result.response.text();\n\n  return NextResponse.json({\n    success: true,\n    content: text,\n    metadata: {\n      model: 'gemini-1.5-flash',\n      generatedAt: new Date().toISOString(),\n    },\n  });\n}\n```\n\n## ãªãœã“ã®æ‰‹æ³•ã‚’ä½¿ã†ã‹\n\n**ç†ç”±1ï¼šã‚»ã‚¯ã‚·ãƒ§ãƒ³ã”ã¨ã«æœ€é©åŒ–ã•ã‚ŒãŸã‚³ãƒ³ãƒ†ãƒ³ãƒ„**\n- ãƒ˜ãƒƒãƒ€ãƒ¼ã¯çŸ­ãã‚¤ãƒ³ãƒ‘ã‚¯ãƒˆã®ã‚ã‚‹è¡¨ç¾\n- æœ¬æ–‡ã¯è©³ç´°ã§æƒ…å ±è±Šå¯Œãªå†…å®¹\n- ã‚µã‚¤ãƒ‰ãƒãƒ¼ã¯è¦ç´„çš„ãªå†…å®¹\n\n**ç†ç”±2ï¼šæ–‡å­—æ•°åˆ¶ç´„ã®éµå®ˆ**\n- ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®ã‚µã‚¤ã‚ºã«å¿œã˜ãŸæ–‡å­—æ•°ã§ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”Ÿæˆ\n- ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆå´©ã‚Œã‚’é˜²ã\n\n**ç†ç”±3ï¼šä¸€è²«æ€§ã®ç¶­æŒ**\n- ã‚°ãƒ­ãƒ¼ãƒãƒ«ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã«ã‚ˆã‚Šã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆå…¨ä½“ã®ãƒˆãƒ¼ãƒ³ãƒ»ã‚¹ã‚¿ã‚¤ãƒ«ã‚’çµ±ä¸€\n- å„ã‚»ã‚¯ã‚·ãƒ§ãƒ³ãŒçŸ›ç›¾ã—ãªã„\n\n**ç†ç”±4ï¼šã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆä¾å­˜ã®å‡¦ç†**\n- å‰ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®å†…å®¹ã‚’å‚ç…§ã—ã¦ã€æ•´åˆæ€§ã®ã‚ã‚‹å†…å®¹ã‚’ç”Ÿæˆ\n- ä¾‹ï¼šã€Œå•é¡Œæèµ·ã€â†’ã€Œè§£æ±ºç­–ã€ã®æµã‚Œ\n\n**ç†ç”±5ï¼šãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã®å†åˆ©ç”¨æ€§**\n- ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’YAMLã§å®šç¾©\n- æ–°ã—ã„ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚¿ã‚¤ãƒ—ã«ç°¡å˜ã«å¯¾å¿œ\n\n## å†ç¾æ–¹æ³•\n\n### ã‚¹ãƒ†ãƒƒãƒ—1ï¼šã‚»ã‚¯ã‚·ãƒ§ãƒ³å®šç¾©ã«AIç”Ÿæˆãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚’è¿½åŠ \n\n```json\n{\n  \"sections\": [\n    {\n      \"id\": \"hero\",\n      \"aiGeneration\": {\n        \"contentType\": \"heading\",\n        \"suggestedTextLength\": \"short\",\n        \"textStyle\": \"impactful\"\n      },\n      \"contentConstraints\": {\n        \"textLimits\": {\n          \"maxChars\": 100\n        }\n      }\n    }\n  ]\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2ï¼šãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ä½œæˆ\n\n```yaml\n# src/data/ai-prompts/prompts.yml\nheading:\n  template: |\n    è¦‹å‡ºã—ã‚’ç”Ÿæˆã—ã¦ãã ã•ã„ã€‚\n    - ã‚¿ã‚¤ãƒˆãƒ«: {title}\n    - æœ€å¤§{maxChars}æ–‡å­—\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3ï¼šãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”Ÿæˆé–¢æ•°ã‚’å®Ÿè£…\n\n```typescript\n// src/lib/ai/prompt-generator.ts\nexport function generatePrompt(section, globalParams) {\n  // ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå–å¾—\n  const template = getTemplate(section.aiGeneration.contentType);\n\n  // å€¤ã‚’åŸ‹ã‚è¾¼ã¿\n  return fillTemplate(template, { section, globalParams });\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—4ï¼šAI APIå‘¼ã³å‡ºã—\n\n```typescript\n// src/app/api/ai/generate/route.ts\nexport async function POST(request) {\n  const { section, globalParams } = await request.json();\n  const prompt = generatePrompt(section, globalParams);\n  const content = await callGeminiAPI(prompt);\n  return NextResponse.json({ content });\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—5ï¼šãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‹ã‚‰å‘¼ã³å‡ºã—\n\n```typescript\n// src/store/aiGenerationStore.ts\nconst generateSectionContent = async (sectionId: string) => {\n  const section = getSectionById(sectionId);\n  const globalParams = getGlobalParams();\n\n  const response = await fetch('/api/ai/generate', {\n    method: 'POST',\n    body: JSON.stringify({ section, globalParams }),\n  });\n\n  const { content } = await response.json();\n  updateSectionContent(sectionId, content);\n};\n```\n\n## ã„ã¤ä½¿ã†ã‹\n\n- **è¤‡æ•°ã‚»ã‚¯ã‚·ãƒ§ãƒ³æ§‹æˆã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: ãƒ˜ãƒƒãƒ€ãƒ¼ã€æœ¬æ–‡ã€ã‚µã‚¤ãƒ‰ãƒãƒ¼ãªã©ã€å½¹å‰²ãŒç•°ãªã‚‹ã‚»ã‚¯ã‚·ãƒ§ãƒ³\n- **æ–‡å­—æ•°åˆ¶ç´„ãŒã‚ã‚‹**: å„ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®ã‚µã‚¤ã‚ºãŒå›ºå®šã•ã‚Œã¦ã„ã‚‹\n- **ä¸€è²«æ€§ãŒé‡è¦**: ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆå…¨ä½“ã§ãƒˆãƒ¼ãƒ³ãƒ»ã‚¹ã‚¿ã‚¤ãƒ«ã‚’çµ±ä¸€ã—ãŸã„\n- **ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆä¾å­˜**: å‰ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®å†…å®¹ã‚’å‚ç…§ã™ã‚‹å¿…è¦ãŒã‚ã‚‹\n\n## æ³¨æ„ç‚¹\n\n### 1. ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã®é•·ã•\n- ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãŒé•·ã™ãã‚‹ã¨ãƒˆãƒ¼ã‚¯ãƒ³æ•°ãŒå¢—ãˆã‚‹\n- å¿…è¦æœ€å°é™ã®æƒ…å ±ã®ã¿ã‚’å«ã‚ã‚‹\n\n### 2. æ–‡å­—æ•°åˆ¶ç´„ã®å®Ÿç¾\n- AIã¯å³å¯†ã«æ–‡å­—æ•°ã‚’å®ˆã‚‰ãªã„å ´åˆãŒã‚ã‚‹\n- å¾Œå‡¦ç†ã§ãƒˆãƒªãƒŸãƒ³ã‚°ãƒ»èª¿æ•´ãŒå¿…è¦\n\n### 3. ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã®ç®¡ç†\n- ä¾å­˜ã‚»ã‚¯ã‚·ãƒ§ãƒ³ãŒå¤šã„ã¨ã€ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãŒè¤‡é›‘ã«ãªã‚‹\n- ä¾å­˜é–¢ä¿‚ã¯æœ€å°é™ã«\n\n### 4. APIã‚³ã‚¹ãƒˆ\n- ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã”ã¨ã«APIå‘¼ã³å‡ºã—ã™ã‚‹ã¨ã‚³ã‚¹ãƒˆãŒå¢—ãˆã‚‹\n- ãƒãƒƒãƒç”Ÿæˆã‚„ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’æ¤œè¨\n\n### 5. ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°\n- AIãŒä¸é©åˆ‡ãªå†…å®¹ã‚’ç”Ÿæˆã™ã‚‹å¯èƒ½æ€§\n- ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒç·¨é›†ãƒ»å†ç”Ÿæˆã§ãã‚‹ä»•çµ„ã¿ãŒå¿…è¦\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `decision_ai_gemini_vs_openai_2025_04_11.md`: Gemini API vs OpenAI APIã®åˆ¤æ–­\n- `workflow_ai_content_generation_flow_2025_04_11.md`: AIã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”Ÿæˆã®å…¨ä½“ãƒ•ãƒ­ãƒ¼\n- `failure_ai_content_constraints_2025_04_11.md`: AIç”Ÿæˆã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®åˆ¶ç´„ã¨å¯¾å‡¦\n",
    "prompt": "### ã‚¹ãƒ†ãƒƒãƒ—1ï¼šã‚»ã‚¯ã‚·ãƒ§ãƒ³å®šç¾©ã«AIç”Ÿæˆãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚’è¿½åŠ \n\n```json\n{\n  \"sections\": [\n    {\n      \"id\": \"hero\",\n      \"aiGeneration\": {\n        \"contentType\": \"heading\",\n        \"suggestedTextLength\": \"short\",\n        \"textStyle\": \"impactful\"\n      },\n      \"contentConstraints\": {\n        \"textLimits\": {\n          \"maxChars\": 100\n        }\n      }\n    }\n  ]\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2ï¼šãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ä½œæˆ\n\n```yaml\n# src/data/ai-prompts/prompts.yml\nheading:\n  template: |\n    è¦‹å‡ºã—ã‚’ç”Ÿæˆã—ã¦ãã ã•ã„ã€‚\n    - ã‚¿ã‚¤ãƒˆãƒ«: {title}\n    - æœ€å¤§{maxChars}æ–‡å­—\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3ï¼šãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”Ÿæˆé–¢æ•°ã‚’å®Ÿè£…\n\n```typescript\n// src/lib/ai/prompt-generator.ts\nexport function generatePrompt(section, globalParams) {\n  // ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå–å¾—\n  const template = getTemplate(section.aiGeneration.contentType);\n\n  // å€¤ã‚’åŸ‹ã‚è¾¼ã¿\n  return fillTemplate(template, { section, globalParams });\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—4ï¼šAI APIå‘¼ã³å‡ºã—\n\n```typescript\n// src/app/api/ai/generate/route.ts\nexport async function POST(request) {\n  const { section, globalParams } = await request.json();\n  const prompt = generatePrompt(section, globalParams);\n  const content = await callGeminiAPI(prompt);\n  return NextResponse.json({ content });\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—5ï¼šãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‹ã‚‰å‘¼ã³å‡ºã—\n\n```typescript\n// src/store/aiGenerationStore.ts\nconst generateSectionContent = async (sectionId: string) => {\n  const section = getSectionById(sectionId);\n  const globalParams = getGlobalParams();\n\n  const response = await fetch('/api/ai/generate', {\n    method: 'POST',\n    body: JSON.stringify({ section, globalParams }),\n  });\n\n  const { content } = await response.json();\n  updateSectionContent(sectionId, content);\n};\n```",
    "relatedTech": [
      "decision-ai-gemini-vs-openai",
      "workflow-ai-content-generation-flow",
      "failure-ai-content-constraints"
    ]
  },
  {
    "slug": "ai-serialization-pattern-503-prevention",
    "title": "AIå‘¼ã³å‡ºã—ç›´åˆ—åŒ–ã«ã‚ˆã‚‹503ã‚¨ãƒ©ãƒ¼é˜²æ­¢ãƒ‘ã‚¿ãƒ¼ãƒ³",
    "category": "Skillsï¼ˆã‚¹ã‚­ãƒ«ãƒ»æ‰‹æ³•ï¼‰",
    "description": "**è¤‡æ•°ã®AIå‘¼ã³å‡ºã—ã‚’ç›´åˆ—åŒ–ã—ã€åŒæ™‚å®Ÿè¡Œã‚’é˜²æ­¢ã™ã‚‹ã“ã¨ã§ Gemini API ã®503ã‚¨ãƒ©ãƒ¼ï¼ˆService Unavailableï¼‰ã‚’å›é¿ã™ã‚‹æŠ€è¡“ã€‚**",
    "project": "instagram-post-generator",
    "usedIn": [
      "app/services/contentGeneratorService.ts:50-150"
    ],
    "code": "```json\n{\n  \"id\": \"skill_ai_serialization_pattern_503_prevention_2025_11_25\",\n  \"type\": \"skill\",\n  \"name\": \"AIå‘¼ã³å‡ºã—ç›´åˆ—åŒ–ã«ã‚ˆã‚‹503ã‚¨ãƒ©ãƒ¼é˜²æ­¢ãƒ‘ã‚¿ãƒ¼ãƒ³\",\n  \"tags\": [\"503ã‚¨ãƒ©ãƒ¼\", \"ç›´åˆ—åŒ–\", \"isGenerating\", \"æ’ä»–åˆ¶å¾¡\", \"Gemini API\"],\n  \"source_project\": \"instagram-post-generator\",\n  \"source_file\": \"app/services/contentGeneratorService.ts:50-150\",\n  \"difficulty\": \"intermediate\",\n  \"related_knowledge\": [\n    \"decision_ai_gemini_2.0_flash_lite_2025_11_25\",\n    \"failure_ai_api_503_errors_partial_2025_11_25\"\n  ],\n  \"prerequisites\": [\"async/await\", \"çŠ¶æ…‹ç®¡ç†\", \"Gemini API\"],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# AIå‘¼ã³å‡ºã—ç›´åˆ—åŒ–ã«ã‚ˆã‚‹503ã‚¨ãƒ©ãƒ¼é˜²æ­¢ãƒ‘ã‚¿ãƒ¼ãƒ³\n\n## ä½•ã‚’ã™ã‚‹ã‚¹ã‚­ãƒ«ã‹\n\n**è¤‡æ•°ã®AIå‘¼ã³å‡ºã—ã‚’ç›´åˆ—åŒ–ã—ã€åŒæ™‚å®Ÿè¡Œã‚’é˜²æ­¢ã™ã‚‹ã“ã¨ã§ Gemini API ã®503ã‚¨ãƒ©ãƒ¼ï¼ˆService Unavailableï¼‰ã‚’å›é¿ã™ã‚‹æŠ€è¡“ã€‚**\n\n`isGenerating` ãƒ•ãƒ©ã‚°ã«ã‚ˆã‚‹æ’ä»–åˆ¶å¾¡ã§ã€ä¸€åº¦ã«1ã¤ã®AIå‘¼ã³å‡ºã—ã®ã¿å®Ÿè¡Œã™ã‚‹ã“ã¨ã‚’ä¿è¨¼ã™ã‚‹ã€‚\n\n**åŠ¹æœ**: 503ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿç‡ 30% â†’ 2%ï¼ˆå®Ÿæ¸¬å€¤ï¼‰\n\n---\n\n## å…·ä½“çš„ãªæ‰‹æ³•\n\n### ãƒ‘ã‚¿ãƒ¼ãƒ³1: isGenerating ãƒ•ãƒ©ã‚°ã«ã‚ˆã‚‹æ’ä»–åˆ¶å¾¡\n\n**å•é¡Œ**: è¤‡æ•°ã®AIå‘¼ã³å‡ºã—ãŒåŒæ™‚å®Ÿè¡Œã•ã‚Œã¦503ã‚¨ãƒ©ãƒ¼\n\n```typescript\n// âŒ å•é¡Œã®ã‚ã‚‹ã‚³ãƒ¼ãƒ‰ï¼ˆä¸¦åˆ—å®Ÿè¡Œï¼‰\nasync function generatePost(userInput: string) {\n  // Stage 1, Stage 2, Stage 3 ãŒåŒæ™‚ã«å®Ÿè¡Œã•ã‚Œã‚‹å¯èƒ½æ€§\n  const [structure, content, caption] = await Promise.all([\n    analyzeStructure(userInput),      // AIå‘¼ã³å‡ºã—1\n    generateContent(userInput),       // AIå‘¼ã³å‡ºã—2\n    generateCaption(userInput)        // AIå‘¼ã³å‡ºã—3\n  ])\n  // â†’ Gemini APIã«3ã¤ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒåŒæ™‚åˆ°é”\n  // â†’ 503 Service Unavailable\n}\n```\n\n**è§£æ±º**: isGenerating ãƒ•ãƒ©ã‚°ã§ç›´åˆ—åŒ–\n\n```typescript\n// âœ… è§£æ±ºæ¸ˆã¿ã‚³ãƒ¼ãƒ‰ï¼ˆç›´åˆ—å®Ÿè¡Œï¼‰\nclass ContentGeneratorService {\n  private isGenerating: boolean = false\n\n  async generatePost(userInput: string) {\n    // ç”Ÿæˆä¸­ãªã‚‰å¾…æ©Ÿ\n    if (this.isGenerating) {\n      throw new Error('æ—¢ã«ç”Ÿæˆå‡¦ç†ãŒå®Ÿè¡Œä¸­ã§ã™ã€‚å®Œäº†ã‚’ãŠå¾…ã¡ãã ã•ã„ã€‚')\n    }\n\n    this.isGenerating = true\n\n    try {\n      // Stage 1: æ§‹é€ æ±ºå®š\n      const structure = await this.analyzeStructure(userInput)\n\n      // Stage 2: ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”Ÿæˆï¼ˆStage 1å®Œäº†å¾Œï¼‰\n      const content = await this.generateContent(structure)\n\n      // Stage 3: ã‚­ãƒ£ãƒ—ã‚·ãƒ§ãƒ³ç”Ÿæˆï¼ˆStage 2å®Œäº†å¾Œï¼‰\n      const caption = await this.generateCaption(content)\n\n      return { structure, content, caption }\n    } finally {\n      // å¿…ãšãƒ•ãƒ©ã‚°ã‚’ãƒªã‚»ãƒƒãƒˆ\n      this.isGenerating = false\n    }\n  }\n\n  private async analyzeStructure(userInput: string) {\n    // AIå‘¼ã³å‡ºã—ï¼ˆç›´åˆ—åŒ–ä¿è¨¼æ¸ˆã¿ï¼‰\n    return await geminiService.generateContent(prompt)\n  }\n}\n```\n\n**åŠ¹æœ**:\n```\nBeforeï¼ˆä¸¦åˆ—ï¼‰: 503ã‚¨ãƒ©ãƒ¼ 30%\nAfterï¼ˆç›´åˆ—ï¼‰: 503ã‚¨ãƒ©ãƒ¼ 2%ï¼ˆå¶ç™ºçš„ãªã‚¿ã‚¤ãƒŸãƒ³ã‚°å•é¡Œã®ã¿ï¼‰\n```\n\n### ãƒ‘ã‚¿ãƒ¼ãƒ³2: ã‚­ãƒ¥ãƒ¼ + å¾…æ©Ÿãƒ¡ãƒƒã‚»ãƒ¼ã‚¸\n\n**ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ã®æ”¹å–„**:\n\n```typescript\n// UIå´ã®å®Ÿè£…\n'use client'\nimport { useState } from 'react'\n\nexport default function ContentInputForm() {\n  const [isGenerating, setIsGenerating] = useState(false)\n  const [waitingMessage, setWaitingMessage] = useState('')\n\n  const handleSubmit = async (userInput: string) => {\n    if (isGenerating) {\n      setWaitingMessage('ç¾åœ¨ã€ä»–ã®æŠ•ç¨¿ã‚’ç”Ÿæˆä¸­ã§ã™ã€‚å®Œäº†ã¾ã§ãŠå¾…ã¡ãã ã•ã„...')\n      return\n    }\n\n    setIsGenerating(true)\n    setWaitingMessage('')\n\n    try {\n      const result = await generatePost(userInput)\n      // æˆåŠŸå‡¦ç†\n    } catch (error) {\n      if (error.message.includes('æ—¢ã«ç”Ÿæˆå‡¦ç†ãŒå®Ÿè¡Œä¸­')) {\n        setWaitingMessage('ç”Ÿæˆä¸­ã§ã™ã€‚ã—ã°ã‚‰ããŠå¾…ã¡ãã ã•ã„...')\n      } else {\n        alert('ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ')\n      }\n    } finally {\n      setIsGenerating(false)\n    }\n  }\n\n  return (\n    <form onSubmit={(e) => { e.preventDefault(); handleSubmit(userInput) }}>\n      <textarea value={userInput} onChange={...} />\n      <button type=\"submit\" disabled={isGenerating}>\n        {isGenerating ? 'ç”Ÿæˆä¸­...' : 'æŠ•ç¨¿ã‚’ç”Ÿæˆ'}\n      </button>\n      {waitingMessage && <p className=\"warning\">{waitingMessage}</p>}\n    </form>\n  )\n}\n```\n\n### ãƒ‘ã‚¿ãƒ¼ãƒ³3: ãƒšãƒ¼ã‚¸ç”Ÿæˆã®é †æ¬¡å®Ÿè¡Œ\n\n**Stage 2ï¼ˆãƒšãƒ¼ã‚¸ç”Ÿæˆï¼‰ã§ã®é©ç”¨**:\n\n```typescript\n// app/services/contentGeneratorService.ts\nclass StructureConstrainedGenerator {\n  async generateAllPagesWithConstraints(\n    userInput: string,\n    pageStructures: PageStructure[]\n  ): Promise<GeneratedPage[]> {\n    const pages: GeneratedPage[] = []\n\n    // âŒ ä¸¦åˆ—å®Ÿè¡Œï¼ˆ503ã‚¨ãƒ©ãƒ¼ã®ãƒªã‚¹ã‚¯ï¼‰\n    // const pages = await Promise.all(\n    //   pageStructures.map(s => this.generatePage(userInput, s))\n    // )\n\n    // âœ… ç›´åˆ—å®Ÿè¡Œï¼ˆå®‰å…¨ï¼‰\n    for (const structure of pageStructures) {\n      console.log(`ç”Ÿæˆä¸­: ãƒšãƒ¼ã‚¸ ${structure.pageNumber}...`)\n\n      const page = await this.generatePageWithConstraints(userInput, structure)\n      pages.push(page)\n\n      // æ¬¡ã®ãƒšãƒ¼ã‚¸ã«é€²ã‚€å‰ã«å°‘ã—å¾…æ©Ÿï¼ˆAPIãƒ¬ãƒ¼ãƒˆåˆ¶é™å¯¾ç­–ï¼‰\n      await new Promise(resolve => setTimeout(resolve, 500))\n    }\n\n    return pages\n  }\n\n  private async generatePageWithConstraints(\n    userInput: string,\n    structure: PageStructure\n  ): Promise<GeneratedPage> {\n    // AIå‘¼ã³å‡ºã—ï¼ˆ1ãƒšãƒ¼ã‚¸ãšã¤ï¼‰\n    const prompt = this.buildPrompt(userInput, structure)\n    const response = await geminiService.generateContent(prompt)\n    return this.parseResponse(response)\n  }\n}\n```\n\n**åŠ¹æœ**:\n```\n10ãƒšãƒ¼ã‚¸ç”Ÿæˆã®å ´åˆ:\n- ä¸¦åˆ—: 10ãƒªã‚¯ã‚¨ã‚¹ãƒˆåŒæ™‚ â†’ 503ã‚¨ãƒ©ãƒ¼é »ç™º\n- ç›´åˆ—: 1ãƒªã‚¯ã‚¨ã‚¹ãƒˆãšã¤ â†’ å®‰å®šå‹•ä½œ\n```\n\n---\n\n## ãªãœã“ã®ã‚¹ã‚­ãƒ«ãŒé‡è¦ã‹\n\n### ç†ç”±1: Gemini API ã®ãƒ¬ãƒ¼ãƒˆåˆ¶é™å¯¾ç­–\n\n**Gemini API ã®åˆ¶é™**:\n```\nFree tier:\n- RPM (Requests Per Minute): 15\n- TPM (Tokens Per Minute): 1,000,000\n\nå®Ÿéš›ã®ãƒœãƒˆãƒ«ãƒãƒƒã‚¯: åŒæ™‚æ¥ç¶šæ•°ï¼ˆæ˜ç¤ºã•ã‚Œã¦ã„ãªã„ãŒã€ç´„3-5åŒæ™‚ã¾ã§ï¼‰\n```\n\n**ä¸¦åˆ—å®Ÿè¡Œã®å•é¡Œ**:\n```\n3ã¤ã®AIå‘¼ã³å‡ºã—ã‚’åŒæ™‚å®Ÿè¡Œ:\n- Request 1: analyzeStructure()\n- Request 2: generateContent()\n- Request 3: generateCaption()\n\nGemini API:\nâ†’ åŒæ™‚æ¥ç¶šæ•°åˆ¶é™è¶…é\nâ†’ 503 Service Unavailable\n```\n\n### ç†ç”±2: ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã®ç°¡ç´ åŒ–\n\n**ä¸¦åˆ—å®Ÿè¡Œã®ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°**:\n```typescript\n// è¤‡é›‘ãªã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°\ntry {\n  const [structure, content, caption] = await Promise.all([...])\n} catch (error) {\n  // ã©ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒå¤±æ•—ã—ãŸã‹ä¸æ˜\n  // â†’ å…¨ã¦å†å®Ÿè¡Œï¼Ÿä¸€éƒ¨å†å®Ÿè¡Œï¼Ÿ\n}\n```\n\n**ç›´åˆ—å®Ÿè¡Œã®ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°**:\n```typescript\n// ã‚·ãƒ³ãƒ—ãƒ«ãªã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°\ntry {\n  const structure = await analyzeStructure(userInput)\n  // å¤±æ•—ç®‡æ‰€ãŒæ˜ç¢º\n} catch (error) {\n  console.error('Stage 1 failed')\n  // Stage 1ã®ã¿å†å®Ÿè¡Œ\n}\n```\n\n### ç†ç”±3: ãƒ‡ãƒãƒƒã‚°å®¹æ˜“æ€§\n\n**ãƒ­ã‚°ã®å¯èª­æ€§**:\n\n**ä¸¦åˆ—å®Ÿè¡Œ**:\n```\n[12:34:56.123] analyzeStructure started\n[12:34:56.125] generateContent started\n[12:34:56.127] generateCaption started\n[12:34:56.890] generateContent finished\n[12:34:57.012] analyzeStructure finished\n[12:34:57.234] generateCaption finished\nâ†’ é †åºãŒãƒãƒ©ãƒãƒ©ã§è¿½è·¡å›°é›£\n```\n\n**ç›´åˆ—å®Ÿè¡Œ**:\n```\n[12:34:56.123] analyzeStructure started\n[12:34:57.012] analyzeStructure finished\n[12:34:57.015] generateContent started\n[12:34:58.890] generateContent finished\n[12:34:58.895] generateCaption started\n[12:34:59.234] generateCaption finished\nâ†’ é †åºãŒæ˜ç¢ºã§è¿½è·¡å®¹æ˜“\n```\n\n---\n\n## å†ç¾æ–¹æ³•\n\n### å®Œå…¨ãªå®Ÿè£…\n\n```typescript\n// app/services/contentGeneratorService.ts\nexport class ContentGeneratorService {\n  private static instance: ContentGeneratorService\n  private isGenerating: boolean = false\n\n  private constructor() {}\n\n  static getInstance(): ContentGeneratorService {\n    if (!this.instance) {\n      this.instance = new ContentGeneratorService()\n    }\n    return this.instance\n  }\n\n  async generateInstagramPost(\n    userInput: string,\n    options?: GenerationOptions\n  ): Promise<GeneratedContent> {\n    // æ’ä»–åˆ¶å¾¡: ç”Ÿæˆä¸­ãªã‚‰æ‹’å¦\n    if (this.isGenerating) {\n      throw new Error(\n        'æ—¢ã«ç”Ÿæˆå‡¦ç†ãŒå®Ÿè¡Œä¸­ã§ã™ã€‚å®Œäº†ã¾ã§ãŠå¾…ã¡ãã ã•ã„ã€‚'\n      )\n    }\n\n    this.isGenerating = true\n    console.log('ğŸ”’ Generation lock acquired')\n\n    try {\n      // Stage 0: ã‚¸ãƒ£ãƒ³ãƒ«æ¤œå‡º\n      console.log('[Stage 0] Detecting genre...')\n      const { genre, typeId } = await this.detectGenreAndType(userInput)\n      console.log(`[Stage 0] Detected: ${genre}, Type ${typeId}`)\n\n      // Stage 1: ãƒšãƒ¼ã‚¸æ§‹é€ æ±ºå®š\n      console.log('[Stage 1] Analyzing page structure...')\n      const pageStructures = await this.analyzePageStructure(userInput, genre, typeId)\n      console.log(`[Stage 1] Structure decided: ${pageStructures.length} pages`)\n\n      // Stage 2: ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”Ÿæˆï¼ˆé †æ¬¡ï¼‰\n      console.log('[Stage 2] Generating page content...')\n      const pages = await this.generatePagesSequentially(userInput, pageStructures)\n      console.log(`[Stage 2] Generated ${pages.length} pages`)\n\n      // Stage 3: ã‚­ãƒ£ãƒ—ã‚·ãƒ§ãƒ³ç”Ÿæˆ\n      console.log('[Stage 3] Generating caption...')\n      const caption = await this.generateCaption(userInput, pages)\n      console.log('[Stage 3] Caption generated')\n\n      // Stage 4: ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°æœ€é©åŒ–\n      console.log('[Stage 4] Optimizing hashtags...')\n      const hashtags = await this.optimizeHashtags(userInput, genre)\n      console.log('[Stage 4] Hashtags optimized')\n\n      console.log('âœ… Generation completed successfully')\n\n      return {\n        pages,\n        caption,\n        hashtags,\n        genre,\n        typeId\n      }\n    } catch (error) {\n      console.error('âŒ Generation failed:', error)\n      throw error\n    } finally {\n      this.isGenerating = false\n      console.log('ğŸ”“ Generation lock released')\n    }\n  }\n\n  private async generatePagesSequentially(\n    userInput: string,\n    pageStructures: PageStructure[]\n  ): Promise<GeneratedPage[]> {\n    const pages: GeneratedPage[] = []\n\n    for (let i = 0; i < pageStructures.length; i++) {\n      const structure = pageStructures[i]\n\n      console.log(`  [${i + 1}/${pageStructures.length}] Generating page ${structure.pageNumber}...`)\n\n      const page = await this.generatePage(userInput, structure)\n      pages.push(page)\n\n      // APIãƒ¬ãƒ¼ãƒˆåˆ¶é™å¯¾ç­–: æ¬¡ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¾ã§500mså¾…æ©Ÿ\n      if (i < pageStructures.length - 1) {\n        await new Promise(resolve => setTimeout(resolve, 500))\n      }\n    }\n\n    return pages\n  }\n}\n\n// Singleton ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ\nexport const contentGeneratorService = ContentGeneratorService.getInstance()\n```\n\n### UIå´ã®çµ±åˆ\n\n```typescript\n// app/components/ContentInputForm.tsx\n'use client'\nimport { useState } from 'react'\nimport { contentGeneratorService } from '../services/contentGeneratorService'\n\nexport default function ContentInputForm() {\n  const [userInput, setUserInput] = useState('')\n  const [isGenerating, setIsGenerating] = useState(false)\n  const [error, setError] = useState('')\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault()\n    setError('')\n\n    if (!userInput.trim()) {\n      setError('ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„')\n      return\n    }\n\n    setIsGenerating(true)\n\n    try {\n      const result = await contentGeneratorService.generateInstagramPost(userInput)\n      console.log('Generated:', result)\n      // æˆåŠŸå‡¦ç†ï¼ˆçµæœã®è¡¨ç¤ºç­‰ï¼‰\n    } catch (error: any) {\n      if (error.message.includes('æ—¢ã«ç”Ÿæˆå‡¦ç†ãŒå®Ÿè¡Œä¸­')) {\n        setError('ç¾åœ¨ã€ä»–ã®æŠ•ç¨¿ã‚’ç”Ÿæˆä¸­ã§ã™ã€‚å®Œäº†ã¾ã§ãŠå¾…ã¡ãã ã•ã„ã€‚')\n      } else if (error.message.includes('503')) {\n        setError('ã‚µãƒ¼ãƒãƒ¼ãŒæ··é›‘ã—ã¦ã„ã¾ã™ã€‚ã—ã°ã‚‰ãå¾…ã£ã¦ã‹ã‚‰å†è©¦è¡Œã—ã¦ãã ã•ã„ã€‚')\n      } else {\n        setError(`ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ: ${error.message}`)\n      }\n    } finally {\n      setIsGenerating(false)\n    }\n  }\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <textarea\n        value={userInput}\n        onChange={(e) => setUserInput(e.target.value)}\n        placeholder=\"æŠ•ç¨¿ã®å†…å®¹ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„...\"\n        rows={10}\n        disabled={isGenerating}\n      />\n\n      <button type=\"submit\" disabled={isGenerating}>\n        {isGenerating ? 'ç”Ÿæˆä¸­... (ç´„15-25ç§’)' : 'æŠ•ç¨¿ã‚’ç”Ÿæˆ'}\n      </button>\n\n      {error && <div className=\"error\">{error}</div>}\n\n      {isGenerating && (\n        <div className=\"info\">\n          è¤‡æ•°ã®AIå‡¦ç†ã‚’é †æ¬¡å®Ÿè¡Œã—ã¦ã„ã¾ã™ã€‚\n          ä»–ã®æ“ä½œã‚’ã›ãšã«ãŠå¾…ã¡ãã ã•ã„ã€‚\n        </div>\n      )}\n    </form>\n  )\n}\n```\n\n---\n\n## ã„ã¤ä½¿ã†ã‹\n\n### ä½¿ã†ã¹ãå ´é¢\n\n1. **å¤–éƒ¨APIå‘¼ã³å‡ºã—ã«ãƒ¬ãƒ¼ãƒˆåˆ¶é™ãŒã‚ã‚‹**\n   - Gemini API, OpenAI API\n   - Google Maps API\n   - Stripe APIç­‰\n\n2. **åŒæ™‚å®Ÿè¡Œã§ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã™ã‚‹**\n   - 503 Service Unavailable\n   - 429 Too Many Requests\n   - Quota Exceeded\n\n3. **é †åºä¾å­˜ãŒã‚ã‚‹å‡¦ç†**\n   - Stage 1ã®çµæœã‚’Stage 2ãŒä½¿ç”¨\n   - å‰ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®çµæœãŒæ¬¡ã«å¿…è¦\n\n### ä½¿ã‚ãªã„æ–¹ãŒè‰¯ã„å ´é¢\n\n1. **ç‹¬ç«‹ã—ãŸãƒªã‚¯ã‚¨ã‚¹ãƒˆ**\n   - ç”»åƒãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ Ã— 10æšï¼ˆåŒæ™‚å®Ÿè¡ŒOKï¼‰\n   - é™çš„ãƒ‡ãƒ¼ã‚¿å–å¾—ï¼ˆä¸¦åˆ—åŒ–ã§é«˜é€ŸåŒ–ï¼‰\n\n2. **ãƒ¬ãƒ¼ãƒˆåˆ¶é™ãŒç·©ã„**\n   - åŒæ™‚100ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¾ã§OK\n   - â†’ ä¸¦åˆ—åŒ–ã§é«˜é€ŸåŒ–\n\n---\n\n## æ³¨æ„ç‚¹\n\n### æ³¨æ„ç‚¹1: finally ã§ã®ãƒ•ãƒ©ã‚°ãƒªã‚»ãƒƒãƒˆå¿…é ˆ\n\n```typescript\n// âŒ ã‚¨ãƒ©ãƒ¼æ™‚ã«ãƒ•ãƒ©ã‚°ãŒãƒªã‚»ãƒƒãƒˆã•ã‚Œãªã„\nasync generatePost() {\n  this.isGenerating = true\n  const result = await aiCall()\n  this.isGenerating = false  // ã‚¨ãƒ©ãƒ¼æ™‚ã«å®Ÿè¡Œã•ã‚Œãªã„\n  return result\n}\n\n// âœ… finally ã§å¿…ãšãƒªã‚»ãƒƒãƒˆ\nasync generatePost() {\n  this.isGenerating = true\n  try {\n    return await aiCall()\n  } finally {\n    this.isGenerating = false  // å¿…ãšå®Ÿè¡Œã•ã‚Œã‚‹\n  }\n}\n```\n\n### æ³¨æ„ç‚¹2: Singleton ãƒ‘ã‚¿ãƒ¼ãƒ³ã®é‡è¦æ€§\n\n```typescript\n// âŒ è¤‡æ•°ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã§ isGenerating ãŒåˆ†é›¢\nconst service1 = new ContentGeneratorService()\nconst service2 = new ContentGeneratorService()\n// â†’ åˆ¥ã€…ã®ãƒ•ãƒ©ã‚°ã§æ’ä»–åˆ¶å¾¡ãŒåŠ¹ã‹ãªã„\n\n// âœ… Singleton ã§å˜ä¸€ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹\nconst service = ContentGeneratorService.getInstance()\n// â†’ å…¨ä½“ã§1ã¤ã®ãƒ•ãƒ©ã‚°ã‚’å…±æœ‰\n```\n\n### æ³¨æ„ç‚¹3: ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¸ã®æ˜ç¢ºãªãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯\n\n**å•é¡Œ**: å¾…æ©Ÿä¸­ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒæ··ä¹±\n\n**è§£æ±º**: æ˜ç¢ºãªãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º\n```typescript\n{isGenerating && (\n  <div className=\"progress-message\">\n    ç”Ÿæˆä¸­... (ç´„15-25ç§’)\n    <br />\n    è¤‡æ•°ã®AIå‡¦ç†ã‚’é †æ¬¡å®Ÿè¡Œã—ã¦ã„ã¾ã™ã€‚\n  </div>\n)}\n```\n\n---\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- **decision_ai_gemini_2.0_flash_lite_2025_11_25.md**: Gemini APIé¸æŠã¨ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿\n- **failure_ai_api_503_errors_partial_2025_11_25.md**: 503ã‚¨ãƒ©ãƒ¼ã®éƒ¨åˆ†çš„è§£æ±º\n\n---\n\n**AIå‘¼ã³å‡ºã—ç›´åˆ—åŒ–ãƒ‘ã‚¿ãƒ¼ãƒ³ã¯ã€API ãƒ¬ãƒ¼ãƒˆåˆ¶é™å›é¿ã¨ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã®ç°¡ç´ åŒ–ã‚’å®Ÿç¾ã™ã‚‹é‡è¦ãªã‚¹ã‚­ãƒ«ã§ã‚ã‚‹ã€‚503ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿç‡ã‚’30%â†’2%ã«å‰Šæ¸›ã—ãŸå®Ÿè¨¼æ¸ˆã¿ã®æ‰‹æ³•ã€‚**\n",
    "prompt": "### å®Œå…¨ãªå®Ÿè£…\n\n```typescript\n// app/services/contentGeneratorService.ts\nexport class ContentGeneratorService {\n  private static instance: ContentGeneratorService\n  private isGenerating: boolean = false\n\n  private constructor() {}\n\n  static getInstance(): ContentGeneratorService {\n    if (!this.instance) {\n      this.instance = new ContentGeneratorService()\n    }\n    return this.instance\n  }\n\n  async generateInstagramPost(\n    userInput: string,\n    options?: GenerationOptions\n  ): Promise<GeneratedContent> {\n    // æ’ä»–åˆ¶å¾¡: ç”Ÿæˆä¸­ãªã‚‰æ‹’å¦\n    if (this.isGenerating) {\n      throw new Error(\n        'æ—¢ã«ç”Ÿæˆå‡¦ç†ãŒå®Ÿè¡Œä¸­ã§ã™ã€‚å®Œäº†ã¾ã§ãŠå¾…ã¡ãã ã•ã„ã€‚'\n      )\n    }\n\n    this.isGenerating = true\n    console.log('ğŸ”’ Generation lock acquired')\n\n    try {\n      // Stage 0: ã‚¸ãƒ£ãƒ³ãƒ«æ¤œå‡º\n      console.log('[Stage 0] Detecting genre...')\n      const { genre, typeId } = await this.detectGenreAndType(userInput)\n      console.log(`[Stage 0] Detected: ${genre}, Type ${typeId}`)\n\n      // Stage 1: ãƒšãƒ¼ã‚¸æ§‹é€ æ±ºå®š\n      console.log('[Stage 1] Analyzing page structure...')\n      const pageStructures = await this.analyzePageStructure(userInput, genre, typeId)\n      console.log(`[Stage 1] Structure decided: ${pageStructures.length} pages`)\n\n      // Stage 2: ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”Ÿæˆï¼ˆé †æ¬¡ï¼‰\n      console.log('[Stage 2] Generating page content...')\n      const pages = await this.generatePagesSequentially(userInput, pageStructures)\n      console.log(`[Stage 2] Generated ${pages.length} pages`)\n\n      // Stage 3: ã‚­ãƒ£ãƒ—ã‚·ãƒ§ãƒ³ç”Ÿæˆ\n      console.log('[Stage 3] Generating caption...')\n      const caption = await this.generateCaption(userInput, pages)\n      console.log('[Stage 3] Caption generated')\n\n      // Stage 4: ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°æœ€é©åŒ–\n      console.log('[Stage 4] Optimizing hashtags...')\n      const hashtags = await this.optimizeHashtags(userInput, genre)\n      console.log('[Stage 4] Hashtags optimized')\n\n      console.log('âœ… Generation completed successfully')\n\n      return {\n        pages,\n        caption,\n        hashtags,\n        genre,\n        typeId\n      }\n    } catch (error) {\n      console.error('âŒ Generation failed:', error)\n      throw error\n    } finally {\n      this.isGenerating = false\n      console.log('ğŸ”“ Generation lock released')\n    }\n  }\n\n  private async generatePagesSequentially(\n    userInput: string,\n    pageStructures: PageStructure[]\n  ): Promise<GeneratedPage[]> {\n    const pages: GeneratedPage[] = []\n\n    for (let i = 0; i < pageStructures.length; i++) {\n      const structure = pageStructures[i]\n\n      console.log(`  [${i + 1}/${pageStructures.length}] Generating page ${structure.pageNumber}...`)\n\n      const page = await this.generatePage(userInput, structure)\n      pages.push(page)\n\n      // APIãƒ¬ãƒ¼ãƒˆåˆ¶é™å¯¾ç­–: æ¬¡ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¾ã§500mså¾…æ©Ÿ\n      if (i < pageStructures.length - 1) {\n        await new Promise(resolve => setTimeout(resolve, 500))\n      }\n    }\n\n    return pages\n  }\n}\n\n// Singleton ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ\nexport const contentGeneratorService = ContentGeneratorService.getInstance()\n```\n\n### UIå´ã®çµ±åˆ\n\n```typescript\n// app/components/ContentInputForm.tsx\n'use client'\nimport { useState } from 'react'\nimport { contentGeneratorService } from '../services/contentGeneratorService'\n\nexport default function ContentInputForm() {\n  const [userInput, setUserInput] = useState('')\n  const [isGenerating, setIsGenerating] = useState(false)\n  const [error, setError] = useState('')\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault()\n    setError('')\n\n    if (!userInput.trim()) {\n      setError('ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„')\n      return\n    }\n\n    setIsGenerating(true)\n\n    try {\n      const result = await contentGeneratorService.generateInstagramPost(userInput)\n      console.log('Generated:', result)\n      // æˆåŠŸå‡¦ç†ï¼ˆçµæœã®è¡¨ç¤ºç­‰ï¼‰\n    } catch (error: any) {\n      if (error.message.includes('æ—¢ã«ç”Ÿæˆå‡¦ç†ãŒå®Ÿè¡Œä¸­')) {\n        setError('ç¾åœ¨ã€ä»–ã®æŠ•ç¨¿ã‚’ç”Ÿæˆä¸­ã§ã™ã€‚å®Œäº†ã¾ã§ãŠå¾…ã¡ãã ã•ã„ã€‚')\n      } else if (error.message.includes('503')) {\n        setError('ã‚µãƒ¼ãƒãƒ¼ãŒæ··é›‘ã—ã¦ã„ã¾ã™ã€‚ã—ã°ã‚‰ãå¾…ã£ã¦ã‹ã‚‰å†è©¦è¡Œã—ã¦ãã ã•ã„ã€‚')\n      } else {\n        setError(`ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ: ${error.message}`)\n      }\n    } finally {\n      setIsGenerating(false)\n    }\n  }\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <textarea\n        value={userInput}\n        onChange={(e) => setUserInput(e.target.value)}\n        placeholder=\"æŠ•ç¨¿ã®å†…å®¹ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„...\"\n        rows={10}\n        disabled={isGenerating}\n      />\n\n      <button type=\"submit\" disabled={isGenerating}>\n        {isGenerating ? 'ç”Ÿæˆä¸­... (ç´„15-25ç§’)' : 'æŠ•ç¨¿ã‚’ç”Ÿæˆ'}\n      </button>\n\n      {error && <div className=\"error\">{error}</div>}\n\n      {isGenerating && (\n        <div className=\"info\">\n          è¤‡æ•°ã®AIå‡¦ç†ã‚’é †æ¬¡å®Ÿè¡Œã—ã¦ã„ã¾ã™ã€‚\n          ä»–ã®æ“ä½œã‚’ã›ãšã«ãŠå¾…ã¡ãã ã•ã„ã€‚\n        </div>\n      )}\n    </form>\n  )\n}\n```\n\n---",
    "relatedTech": [
      "decision-ai-gemini-2.0-flash-lite",
      "failure-ai-api-503-errors-partial"
    ]
  },
  {
    "slug": "api-route-template-pattern",
    "title": "API Routeå®Ÿè£…ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ‘ã‚¿ãƒ¼ãƒ³",
    "category": "Skillsï¼ˆã‚¹ã‚­ãƒ«ãƒ»æ‰‹æ³•ï¼‰",
    "description": "Next.js 15 App Routerã§æ¨™æº–åŒ–ã•ã‚ŒãŸAPI Routeã‚’å®Ÿè£…ã™ã‚‹ãŸã‚ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ‘ã‚¿ãƒ¼ãƒ³ã€‚Google Sheets APIã¨ã®çµ±åˆã€å‹å®‰å…¨ãªãƒ¬ã‚¹ãƒãƒ³ã‚¹ã€çµ±ä¸€çš„ãªã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã‚’å«ã‚€ã€‚",
    "project": "yumesuta-management-system",
    "usedIn": [
      "app/api/sales-kpi/route.ts:11-60"
    ],
    "code": "```json\n{\n  \"id\": \"skill_api_route_template_pattern_2025_11_24\",\n  \"type\": \"skill\",\n  \"name\": \"API Routeå®Ÿè£…ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ‘ã‚¿ãƒ¼ãƒ³\",\n  \"tags\": [\"API Route\", \"Next.js\", \"ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ\", \"ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°\", \"å‹å®‰å…¨\", \"ãƒ¬ã‚¹ãƒãƒ³ã‚¹å½¢å¼\"],\n  \"source_project\": \"yumesuta-management-system\",\n  \"source_file\": \"app/api/sales-kpi/route.ts:11-60\",\n  \"related_knowledge\": [\n    \"decision_tech_nextjs_15_app_router_2025_11_24\",\n    \"skill_google_sheets_a1_notation_2025_11_24\",\n    \"workflow_api_route_creation_workflow_2025_11_24\"\n  ],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-24\",\n  \"updated\": \"2025-11-24\"\n}\n```\n\n# API Routeå®Ÿè£…ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ‘ã‚¿ãƒ¼ãƒ³\n\n## ä½•ã‚’ã™ã‚‹ã‚¹ã‚­ãƒ«ã‹\n\nNext.js 15 App Routerã§æ¨™æº–åŒ–ã•ã‚ŒãŸAPI Routeã‚’å®Ÿè£…ã™ã‚‹ãŸã‚ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ‘ã‚¿ãƒ¼ãƒ³ã€‚Google Sheets APIã¨ã®çµ±åˆã€å‹å®‰å…¨ãªãƒ¬ã‚¹ãƒãƒ³ã‚¹ã€çµ±ä¸€çš„ãªã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã‚’å«ã‚€ã€‚\n\n## å…·ä½“çš„ãªæ‰‹æ³•\n\n### åŸºæœ¬ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ\n\n```typescript\nimport { NextResponse } from 'next/server';\nimport { getSheetData, getBatchSheetData } from '@/lib/google-sheets';\nimport type { YourResponseType } from '@/types/your-feature';\n\n/**\n * [æ©Ÿèƒ½å]ãƒ‡ãƒ¼ã‚¿å–å¾—API\n * [è©³ç´°ãªèª¬æ˜]\n */\nexport async function GET(request?: Request) {\n  try {\n    // 1. ç’°å¢ƒå¤‰æ•°ãƒã‚§ãƒƒã‚¯\n    const spreadsheetId = process.env.YOUR_SPREADSHEET_ID;\n\n    if (!spreadsheetId) {\n      return NextResponse.json<YourResponseType>(\n        {\n          success: false,\n          error: 'YOUR_SPREADSHEET_ID is not set',\n        },\n        { status: 500 }\n      );\n    }\n\n    // 2. ã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®å–å¾—ï¼ˆå¿…è¦ãªå ´åˆï¼‰\n    const { searchParams } = new URL(request?.url || '');\n    const paramValue = searchParams.get('param');\n\n    // 3. ãƒ‡ãƒ¼ã‚¿å–å¾—\n    const data = await getSheetData(spreadsheetId, 'ã‚·ãƒ¼ãƒˆå!A1:Z100');\n    // ã¾ãŸã¯è¤‡æ•°ã‚·ãƒ¼ãƒˆã‹ã‚‰ä¸€æ‹¬å–å¾—\n    // const [data1, data2] = await getBatchSheetData(spreadsheetId, [\n    //   'ã‚·ãƒ¼ãƒˆ1!A1:Z100',\n    //   'ã‚·ãƒ¼ãƒˆ2!A1:Y50',\n    // ]);\n\n    // 4. ãƒ‡ãƒ¼ã‚¿ã®ãƒ‘ãƒ¼ã‚¹ãƒ»å¤‰æ›\n    const parsedData = parseData(data);\n\n    // 5. ãƒ¬ã‚¹ãƒãƒ³ã‚¹è¿”å´\n    return NextResponse.json<YourResponseType>({\n      success: true,\n      data: parsedData,\n    });\n  } catch (error) {\n    // 6. ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°\n    console.error('[Feature Name] API error:', error);\n    return NextResponse.json<YourResponseType>(\n      {\n        success: false,\n        error: error instanceof Error ? error.message : 'Unknown error',\n      },\n      { status: 500 }\n    );\n  }\n}\n\n/**\n * ãƒ‡ãƒ¼ã‚¿ãƒ‘ãƒ¼ã‚¹é–¢æ•°\n */\nfunction parseData(data: any[][]) {\n  // ãƒ˜ãƒƒãƒ€ãƒ¼è¡Œã‚’é™¤å¤–\n  const rows = data.slice(1);\n\n  // ãƒ‘ãƒ¼ã‚¹å‡¦ç†\n  return rows.map(row => ({\n    id: row[0],\n    name: row[1],\n    value: parseInt(row[2] || '0'),\n    // ...\n  }));\n}\n```\n\n### å®Ÿéš›ã®ä¾‹: å–¶æ¥­KPI API\n\n```typescript\nimport { NextResponse } from 'next/server';\nimport { getSheetData, getBatchSheetData } from '@/lib/google-sheets';\nimport type { SalesKPIResponse, CustomerMasterStats, MonthlyPerformance } from '@/types/sales';\n\n/**\n * å–¶æ¥­KPIãƒ‡ãƒ¼ã‚¿å–å¾—API\n * KPIãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã€æœˆæ¬¡äºˆå®Ÿç®¡ç†ã€é¡§å®¢ãƒã‚¹ã‚¿ã‹ã‚‰å–¶æ¥­é€²æ—ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—\n */\nexport async function GET() {\n  try {\n    const spreadsheetId = process.env.SALES_SPREADSHEET_ID;\n\n    if (!spreadsheetId) {\n      return NextResponse.json<SalesKPIResponse>(\n        {\n          success: false,\n          error: 'SALES_SPREADSHEET_ID is not set',\n        },\n        { status: 500 }\n      );\n    }\n\n    // è¤‡æ•°ã‚·ãƒ¼ãƒˆã‹ã‚‰ä¸€æ‹¬å–å¾—\n    const [kpiData, monthlyData, customerData, statusColumn] = await getBatchSheetData(\n      spreadsheetId,\n      [\n        'KPIãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰!A1:K25',\n        'æœˆæ¬¡äºˆå®Ÿç®¡ç†!A1:W15',\n        'é¡§å®¢ãƒã‚¹ã‚¿!A1:S100',\n        'é¡§å®¢ãƒã‚¹ã‚¿!R1:R100',\n      ]\n    );\n\n    // ãƒ‡ãƒ¼ã‚¿ã®ãƒ‘ãƒ¼ã‚¹ã¨ãƒ¬ã‚¹ãƒãƒ³ã‚¹ä½œæˆ\n    const kpiResponse = parseKPIData(kpiData);\n    const monthlyPerformance = parseMonthlyPerformance(monthlyData);\n    const customerStats = parseCustomerMasterStats(customerData, statusColumn);\n\n    return NextResponse.json<SalesKPIResponse>({\n      success: true,\n      data: {\n        ...kpiResponse,\n        monthlyPerformance,\n        customerStats,\n        updatedAt: new Date().toISOString(),\n      },\n    });\n  } catch (error) {\n    console.error('Sales KPI API error:', error);\n    return NextResponse.json<SalesKPIResponse>(\n      {\n        success: false,\n        error: error instanceof Error ? error.message : 'Unknown error',\n      },\n      { status: 500 }\n    );\n  }\n}\n```\n\n### POST ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ\n\n```typescript\nexport async function POST(request: Request) {\n  try {\n    // 1. ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒœãƒ‡ã‚£ã®å–å¾—\n    const body = await request.json();\n    const { field1, field2 } = body;\n\n    // 2. ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³\n    if (!field1 || !field2) {\n      return NextResponse.json(\n        { success: false, error: 'Required fields are missing' },\n        { status: 400 }\n      );\n    }\n\n    // 3. ãƒ‡ãƒ¼ã‚¿å‡¦ç†\n    const result = await processData(field1, field2);\n\n    // 4. ãƒ¬ã‚¹ãƒãƒ³ã‚¹è¿”å´\n    return NextResponse.json({ success: true, data: result });\n  } catch (error) {\n    console.error('POST API error:', error);\n    return NextResponse.json(\n      { success: false, error: error.message },\n      { status: 500 }\n    );\n  }\n}\n```\n\n### å‹å®šç¾©ã®æ¨™æº–åŒ–\n\n```typescript\n// types/your-feature.ts\n\n// ãƒ¬ã‚¹ãƒãƒ³ã‚¹å‹ã®åŸºæœ¬å½¢\nexport interface APIResponse<T> {\n  success: boolean;\n  data?: T;\n  error?: string;\n}\n\n// å…·ä½“çš„ãªãƒ¬ã‚¹ãƒãƒ³ã‚¹å‹\nexport interface SalesKPIResponse extends APIResponse<SalesKPIData> {}\n\nexport interface SalesKPIData {\n  kpi: KPIMetrics;\n  monthlyPerformance: MonthlyPerformance;\n  customerStats: CustomerMasterStats;\n  updatedAt: string;\n}\n```\n\n## ãªãœã“ã®æ‰‹æ³•ã‚’ä½¿ã†ã‹\n\n### ç†ç”±1: çµ±ä¸€çš„ãªãƒ¬ã‚¹ãƒãƒ³ã‚¹å½¢å¼\n\nã™ã¹ã¦ã®API RouteãŒ `{ success: boolean, data?: T, error?: string }` å½¢å¼ã§ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’è¿”ã™ã“ã¨ã§ã€ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã§ã®å‡¦ç†ãŒçµ±ä¸€ã§ãã‚‹ã€‚\n\n```typescript\n// ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã§ã®å‡¦ç†ãŒçµ±ä¸€ã•ã‚Œã‚‹\nconst res = await fetch('/api/sales-kpi');\nconst data = await res.json();\n\nif (data.success) {\n  // ãƒ‡ãƒ¼ã‚¿ã‚’ä½¿ç”¨\n  console.log(data.data);\n} else {\n  // ã‚¨ãƒ©ãƒ¼å‡¦ç†\n  console.error(data.error);\n}\n```\n\n### ç†ç”±2: å‹å®‰å…¨æ€§ã®ç¢ºä¿\n\n`NextResponse.json<YourResponseType>` ã§å‹ã‚’æ˜ç¤ºã™ã‚‹ã“ã¨ã§ã€ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®å‹ãŒä¿è¨¼ã•ã‚Œã‚‹ã€‚\n\n### ç†ç”±3: ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã®çµ±ä¸€\n\ntry-catchã§çµ±ä¸€çš„ãªã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã‚’è¡Œã†ã“ã¨ã§ã€äºˆæœŸã—ãªã„ã‚¨ãƒ©ãƒ¼ã§ã‚‚ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã«é©åˆ‡ãªãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’è¿”ã›ã‚‹ã€‚\n\n## å†ç¾æ–¹æ³•\n\n### ã‚¹ãƒ†ãƒƒãƒ—1: å‹å®šç¾©ã®ä½œæˆ\n\n```typescript\n// types/your-feature.ts\nexport interface YourResponseType {\n  success: boolean;\n  data?: YourDataType;\n  error?: string;\n}\n\nexport interface YourDataType {\n  id: string;\n  name: string;\n  value: number;\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2: API Routeã®ä½œæˆ\n\n```typescript\n// app/api/your-feature/route.ts\nimport { NextResponse } from 'next/server';\nimport { getSheetData } from '@/lib/google-sheets';\nimport type { YourResponseType } from '@/types/your-feature';\n\nexport async function GET() {\n  try {\n    const spreadsheetId = process.env.YOUR_SPREADSHEET_ID!;\n    const data = await getSheetData(spreadsheetId, 'ã‚·ãƒ¼ãƒˆå!A1:Z100');\n    const parsed = parseData(data);\n\n    return NextResponse.json<YourResponseType>({ success: true, data: parsed });\n  } catch (error) {\n    return NextResponse.json<YourResponseType>(\n      { success: false, error: error.message },\n      { status: 500 }\n    );\n  }\n}\n\nfunction parseData(data: any[][]) {\n  return data.slice(1).map(row => ({\n    id: row[0],\n    name: row[1],\n    value: parseInt(row[2] || '0'),\n  }));\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3: ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã§ä½¿ç”¨\n\n```typescript\n// app/dashboard/your-feature/page.tsx\n'use client';\nimport { useState, useEffect } from 'react';\nimport type { YourResponseType } from '@/types/your-feature';\n\nexport default function YourFeaturePage() {\n  const [data, setData] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    fetchData();\n  }, []);\n\n  const fetchData = async () => {\n    setLoading(true);\n    setError(null);\n\n    try {\n      const res = await fetch('/api/your-feature');\n      const json: YourResponseType = await res.json();\n\n      if (json.success) {\n        setData(json.data);\n      } else {\n        setError(json.error || 'Unknown error');\n      }\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Unknown error');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  if (loading) return <div>èª­ã¿è¾¼ã¿ä¸­...</div>;\n  if (error) return <div>ã‚¨ãƒ©ãƒ¼: {error}</div>;\n\n  return <div>{/* ãƒ‡ãƒ¼ã‚¿ã‚’è¡¨ç¤º */}</div>;\n}\n```\n\n## ã„ã¤ä½¿ã†ã‹\n\n### å ´é¢1: æ–°ã—ã„API Routeã‚’ä½œæˆã™ã‚‹\n\næ–°æ©Ÿèƒ½ã®API Routeã‚’ä½œæˆã™ã‚‹éš›ã€ã“ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã§ã€çµ±ä¸€çš„ãªå®Ÿè£…ãŒã§ãã‚‹ã€‚\n\n### å ´é¢2: æ—¢å­˜ã®API Routeã‚’ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ã™ã‚‹\n\nçµ±ä¸€çš„ãªãƒ¬ã‚¹ãƒãƒ³ã‚¹å½¢å¼ã«å¤‰æ›´ã™ã‚‹éš›ã€ã“ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã«æ²¿ã£ã¦ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ã™ã‚‹ã€‚\n\n### å ´é¢3: ãƒãƒ¼ãƒ é–‹ç™ºã§ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¦ç´„ã‚’çµ±ä¸€ã™ã‚‹\n\nã“ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆåŒ–ã—ã€ãƒãƒ¼ãƒ ãƒ¡ãƒ³ãƒãƒ¼ãŒåŒã˜ãƒ‘ã‚¿ãƒ¼ãƒ³ã§å®Ÿè£…ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ã€‚\n\n## æ³¨æ„ç‚¹\n\n### æ³¨æ„ç‚¹1: ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚³ãƒ¼ãƒ‰ã®é©åˆ‡ãªè¨­å®š\n\nã‚¨ãƒ©ãƒ¼æ™‚ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’é©åˆ‡ã«è¨­å®šã™ã‚‹ã€‚400ç•ªå°ï¼ˆã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚¨ãƒ©ãƒ¼ï¼‰ã¨500ç•ªå°ï¼ˆã‚µãƒ¼ãƒãƒ¼ã‚¨ãƒ©ãƒ¼ï¼‰ã‚’ä½¿ã„åˆ†ã‘ã‚‹ã€‚\n\n```typescript\n// ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ©ãƒ¼ï¼ˆã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚¨ãƒ©ãƒ¼ï¼‰\nreturn NextResponse.json({ success: false, error: 'Invalid input' }, { status: 400 });\n\n// ã‚µãƒ¼ãƒãƒ¼ã‚¨ãƒ©ãƒ¼\nreturn NextResponse.json({ success: false, error: 'Internal server error' }, { status: 500 });\n```\n\n### æ³¨æ„ç‚¹2: ç’°å¢ƒå¤‰æ•°ã®ãƒã‚§ãƒƒã‚¯ã‚’å¿˜ã‚Œãªã„\n\nç’°å¢ƒå¤‰æ•°ãŒè¨­å®šã•ã‚Œã¦ã„ãªã„å ´åˆã€é©åˆ‡ãªã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¿”ã™ã€‚\n\n### æ³¨æ„ç‚¹3: try-catchã®ç¯„å›²\n\ntry-catchãƒ–ãƒ­ãƒƒã‚¯ã¯ã€API Routeå…¨ä½“ã‚’å›²ã‚€ã“ã¨ã§ã€äºˆæœŸã—ãªã„ã‚¨ãƒ©ãƒ¼ã‚‚ã‚­ãƒ£ãƒƒãƒã§ãã‚‹ã€‚\n\n### æ³¨æ„ç‚¹4: ãƒ­ã‚°å‡ºåŠ›ã®çµ±ä¸€\n\nã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ã«ã¯ã€ã©ã®APIã§ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãŸã‹ã‚’æ˜è¨˜ã™ã‚‹ã€‚\n\n```typescript\nconsole.error('[Feature Name] API error:', error);\n```\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `decision_tech_nextjs_15_app_router_2025_11_24.md`: Next.js 15 App Routeré¸æŠã®èƒŒæ™¯\n- `skill_google_sheets_a1_notation_2025_11_24.md`: A1è¡¨è¨˜æ³•ã§ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—\n- `workflow_api_route_creation_workflow_2025_11_24.md`: API Routeä½œæˆã®å…¨ä½“ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼\n",
    "prompt": "### ã‚¹ãƒ†ãƒƒãƒ—1: å‹å®šç¾©ã®ä½œæˆ\n\n```typescript\n// types/your-feature.ts\nexport interface YourResponseType {\n  success: boolean;\n  data?: YourDataType;\n  error?: string;\n}\n\nexport interface YourDataType {\n  id: string;\n  name: string;\n  value: number;\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2: API Routeã®ä½œæˆ\n\n```typescript\n// app/api/your-feature/route.ts\nimport { NextResponse } from 'next/server';\nimport { getSheetData } from '@/lib/google-sheets';\nimport type { YourResponseType } from '@/types/your-feature';\n\nexport async function GET() {\n  try {\n    const spreadsheetId = process.env.YOUR_SPREADSHEET_ID!;\n    const data = await getSheetData(spreadsheetId, 'ã‚·ãƒ¼ãƒˆå!A1:Z100');\n    const parsed = parseData(data);\n\n    return NextResponse.json<YourResponseType>({ success: true, data: parsed });\n  } catch (error) {\n    return NextResponse.json<YourResponseType>(\n      { success: false, error: error.message },\n      { status: 500 }\n    );\n  }\n}\n\nfunction parseData(data: any[][]) {\n  return data.slice(1).map(row => ({\n    id: row[0],\n    name: row[1],\n    value: parseInt(row[2] || '0'),\n  }));\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3: ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã§ä½¿ç”¨\n\n```typescript\n// app/dashboard/your-feature/page.tsx\n'use client';\nimport { useState, useEffect } from 'react';\nimport type { YourResponseType } from '@/types/your-feature';\n\nexport default function YourFeaturePage() {\n  const [data, setData] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    fetchData();\n  }, []);\n\n  const fetchData = async () => {\n    setLoading(true);\n    setError(null);\n\n    try {\n      const res = await fetch('/api/your-feature');\n      const json: YourResponseType = await res.json();\n\n      if (json.success) {\n        setData(json.data);\n      } else {\n        setError(json.error || 'Unknown error');\n      }\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Unknown error');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  if (loading) return <div>èª­ã¿è¾¼ã¿ä¸­...</div>;\n  if (error) return <div>ã‚¨ãƒ©ãƒ¼: {error}</div>;\n\n  return <div>{/* ãƒ‡ãƒ¼ã‚¿ã‚’è¡¨ç¤º */}</div>;\n}\n```",
    "relatedTech": [
      "decision-tech-nextjs-15-app-router",
      "skill-google-sheets-a1-notation",
      "workflow-api-route-creation-workflow"
    ]
  },
  {
    "slug": "api-throttling-priority-queue",
    "title": "APIã‚¹ãƒ­ãƒƒãƒˆãƒªãƒ³ã‚°ã¨å„ªå…ˆåº¦ã‚­ãƒ¥ãƒ¼ç®¡ç†",
    "category": "Skillsï¼ˆã‚¹ã‚­ãƒ«ãƒ»æ‰‹æ³•ï¼‰",
    "description": "APIå‘¼ã³å‡ºã—å›æ•°ã‚’åˆ¶é™ã—ã€å„ªå…ˆåº¦åˆ¥ã‚­ãƒ¥ãƒ¼ã§åŠ¹ç‡çš„ã«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’å‡¦ç†ã™ã‚‹æ‰‹æ³•ã€‚Gemini APIã®ãƒ¬ãƒ¼ãƒˆåˆ¶é™ï¼ˆ50 requests/minuteï¼‰ã‚’éµå®ˆã—ãªãŒã‚‰ã€é‡è¦ãªãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’å„ªå…ˆçš„ã«å‡¦ç†ã—ã€ãƒ¬ãƒ¼ãƒˆåˆ¶é™ã‚¨ãƒ©ãƒ¼æ™‚ã¯æŒ‡æ•°ãƒãƒƒã‚¯ã‚ªãƒ•ã§è‡ªå‹•å›å¾©ã™ã‚‹ã€‚",
    "project": "novel-automation-system-v2",
    "usedIn": [
      "src/lib/utils/api-throttle.ts:140-214"
    ],
    "code": "```json\n{\n  \"id\": \"skill_api_throttling_priority_queue_2025_11_25\",\n  \"type\": \"skill\",\n  \"name\": \"APIã‚¹ãƒ­ãƒƒãƒˆãƒªãƒ³ã‚°ã¨å„ªå…ˆåº¦ã‚­ãƒ¥ãƒ¼ç®¡ç†\",\n  \"tags\": [\"APIç®¡ç†\", \"ãƒ¬ãƒ¼ãƒˆåˆ¶é™\", \"å„ªå…ˆåº¦ã‚­ãƒ¥ãƒ¼\", \"ã‚¹ãƒ­ãƒƒãƒˆãƒªãƒ³ã‚°\", \"æŒ‡æ•°ãƒãƒƒã‚¯ã‚ªãƒ•\", \"Gemini API\", \"ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–\"],\n  \"source_project\": \"novel-automation-system-v2\",\n  \"source_file\": \"src/lib/utils/api-throttle.ts:140-214\",\n  \"related_knowledge\": [\n    \"decision_priority_queue_sort_strategy_2025_11_25\",\n    \"workflow_api_throttling_flow_2025_11_25\",\n    \"decision_error_recovery_strategy_2025_11_25\"\n  ],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# APIã‚¹ãƒ­ãƒƒãƒˆãƒªãƒ³ã‚°ã¨å„ªå…ˆåº¦ã‚­ãƒ¥ãƒ¼ç®¡ç†\n\n## ä½•ã‚’ã™ã‚‹ã‚¹ã‚­ãƒ«ã‹\n\nAPIå‘¼ã³å‡ºã—å›æ•°ã‚’åˆ¶é™ã—ã€å„ªå…ˆåº¦åˆ¥ã‚­ãƒ¥ãƒ¼ã§åŠ¹ç‡çš„ã«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’å‡¦ç†ã™ã‚‹æ‰‹æ³•ã€‚Gemini APIã®ãƒ¬ãƒ¼ãƒˆåˆ¶é™ï¼ˆ50 requests/minuteï¼‰ã‚’éµå®ˆã—ãªãŒã‚‰ã€é‡è¦ãªãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’å„ªå…ˆçš„ã«å‡¦ç†ã—ã€ãƒ¬ãƒ¼ãƒˆåˆ¶é™ã‚¨ãƒ©ãƒ¼æ™‚ã¯æŒ‡æ•°ãƒãƒƒã‚¯ã‚ªãƒ•ã§è‡ªå‹•å›å¾©ã™ã‚‹ã€‚\n\n## å…·ä½“çš„ãªæ‰‹æ³•\n\n### ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£\n\n```\n[ãƒªã‚¯ã‚¨ã‚¹ãƒˆé€ä¿¡]\n   â†“\n[ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦å®¹é‡ãƒã‚§ãƒƒã‚¯] â†’ OK â†’ [å³åº§ã«å®Ÿè¡Œ]\n   â†“ NG\n[å„ªå…ˆåº¦ã‚­ãƒ¥ãƒ¼ã«è¿½åŠ ]\n   â†“\n[ã‚­ãƒ¥ãƒ¼å‡¦ç†ã‚¿ã‚¤ãƒãƒ¼ (1200msé–“éš”)]\n   â†“\n[å„ªå…ˆåº¦ã‚½ãƒ¼ãƒˆ] â†’ HIGH â†’ MEDIUM â†’ LOW\n   â†“\n[ãƒªã‚¯ã‚¨ã‚¹ãƒˆå®Ÿè¡Œ]\n   â†“\n[ã‚¨ãƒ©ãƒ¼ï¼Ÿ] â†’ ãƒ¬ãƒ¼ãƒˆåˆ¶é™ â†’ [æŒ‡æ•°ãƒãƒƒã‚¯ã‚ªãƒ• + å†ã‚­ãƒ¥ãƒ¼]\n   â†“ ãã®ä»–\n[ã‚¨ãƒ©ãƒ¼è¿”å´]\n```\n\n### ã‚³ã‚¢å®Ÿè£…\n\n```typescript\n// src/lib/utils/api-throttle.ts:140-214\nexport class APIThrottler {\n  private maxRequestsPerMinute: number = 50;  // Gemini APIåˆ¶é™\n  private requestsInWindow: number = 0;\n  private waitingRequests: QueuedRequest[] = [];\n  private paused: boolean = false;\n  private errorCount: number = 0;\n  private processingTimer: NodeJS.Timer | null = null;\n\n  // ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚­ãƒ¥ãƒ¼å‡¦ç†ï¼ˆ1200msé–“éš”ï¼‰\n  private async processNextRequest(): Promise<void> {\n    // ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦å®¹é‡ãƒã‚§ãƒƒã‚¯\n    if (this.requestsInWindow >= this.maxRequestsPerMinute || this.paused) {\n      if (this.waitingRequests.length === 0) {\n        clearInterval(this.processingTimer!);\n        this.processingTimer = null;\n      }\n      return;\n    }\n\n    // å„ªå…ˆåº¦ã§ã‚½ãƒ¼ãƒˆ\n    this.waitingRequests.sort((a, b) => {\n      const priorityOrder = {\n        [RequestPriority.HIGH]: 0,\n        [RequestPriority.MEDIUM]: 1,\n        [RequestPriority.LOW]: 2\n      };\n      const priorityDiff = priorityOrder[a.priority] - priorityOrder[b.priority];\n      return priorityDiff !== 0 ? priorityDiff : a.timestamp - b.timestamp;\n    });\n\n    // æ¬¡ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’å–å¾—\n    const nextRequest = this.waitingRequests.shift();\n    if (!nextRequest) return;\n\n    try {\n      this.requestsInWindow++;\n      const result = await nextRequest.requestFn();\n      nextRequest.resolve(result);\n      this.errorCount = 0; // æˆåŠŸã—ãŸã‚‰ã‚¨ãƒ©ãƒ¼ã‚«ã‚¦ãƒ³ãƒˆãƒªã‚»ãƒƒãƒˆ\n    } catch (error) {\n      // ãƒ¬ãƒ¼ãƒˆåˆ¶é™ã‚¨ãƒ©ãƒ¼ã®å ´åˆ\n      if (this.isRateLimitError(error)) {\n        this.waitingRequests.unshift(nextRequest); // ã‚­ãƒ¥ãƒ¼ã®å…ˆé ­ã«æˆ»ã™\n        this.handleRateLimitError();\n      } else {\n        nextRequest.reject(error);\n      }\n    }\n  }\n\n  // ãƒ¬ãƒ¼ãƒˆåˆ¶é™ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°\n  private handleRateLimitError(): void {\n    this.errorCount++;\n    this.paused = true;\n\n    // æŒ‡æ•°ãƒãƒƒã‚¯ã‚ªãƒ•ï¼ˆ2ç§’ Ã— 2^(errorCount-1) + ãƒ©ãƒ³ãƒ€ãƒ ï¼‰\n    const backoffTime = Math.min(\n      2000 * Math.pow(2, this.errorCount - 1) + Math.random() * 1000,\n      60000  // æœ€å¤§1åˆ†\n    );\n\n    console.warn(`Rate limit hit! Backing off for ${backoffTime}ms. Error count: ${this.errorCount}`);\n\n    // ãƒãƒƒã‚¯ã‚ªãƒ•å¾Œã«å†é–‹\n    setTimeout(() => {\n      this.paused = false;\n      this.startQueueProcessing();\n    }, backoffTime);\n\n    // å‡¦ç†ã‚¿ã‚¤ãƒãƒ¼ã‚’åœæ­¢\n    if (this.processingTimer) {\n      clearInterval(this.processingTimer);\n      this.processingTimer = null;\n    }\n  }\n\n  // ã‚­ãƒ¥ãƒ¼å‡¦ç†é–‹å§‹\n  private startQueueProcessing(): void {\n    if (this.processingTimer) return; // æ—¢ã«å®Ÿè¡Œä¸­\n\n    this.processingTimer = setInterval(() => {\n      this.processNextRequest();\n    }, 1200); // 50 requests/minute â†’ 1200msé–“éš”\n  }\n}\n```\n\n### å„ªå…ˆåº¦å®šç¾©\n\n```typescript\nexport enum RequestPriority {\n  HIGH = 'high',      // é‡è¦ãªãƒªã‚¯ã‚¨ã‚¹ãƒˆï¼ˆç« ç”Ÿæˆãªã©ï¼‰\n  MEDIUM = 'medium',  // é€šå¸¸ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆ\n  LOW = 'low'         // ä½å„ªå…ˆåº¦ï¼ˆãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰åˆ†æãªã©ï¼‰\n}\n\ninterface QueuedRequest {\n  requestFn: () => Promise<any>;\n  priority: RequestPriority;\n  timestamp: number;\n  resolve: (value: any) => void;\n  reject: (error: any) => void;\n}\n```\n\n### ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿è¨­å®š\n\n```typescript\nconst config = {\n  maxRequestsPerMinute: 50,        // Gemini APIåˆ¶é™\n  processingInterval: 1200,        // 1200ms (50 RPMå¯¾å¿œ)\n  initialBackoff: 2000,            // åˆå›ãƒãƒƒã‚¯ã‚ªãƒ•: 2ç§’\n  maxBackoff: 60000,               // æœ€å¤§ãƒãƒƒã‚¯ã‚ªãƒ•: 1åˆ†\n  backoffMultiplier: 2             // æŒ‡æ•°: 2^n\n};\n```\n\n## ãªãœã“ã®æ‰‹æ³•ã‚’ä½¿ã†ã‹\n\n### ç†ç”±1: ãƒ¬ãƒ¼ãƒˆåˆ¶é™å¯¾å¿œ\n\nGemini APIã®åˆ¶é™ï¼ˆ50 requests/minuteï¼‰ã‚’è‡ªå‹•çš„ã«éµå®ˆï¼š\n- ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦å†…ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆæ•°ã‚’è¿½è·¡\n- åˆ¶é™è¶…éæ™‚ã¯è‡ªå‹•çš„ã«ã‚­ãƒ¥ãƒ¼ã‚¤ãƒ³ã‚°\n- ãƒ¬ãƒ¼ãƒˆåˆ¶é™ã‚¨ãƒ©ãƒ¼æ™‚ã¯æŒ‡æ•°ãƒãƒƒã‚¯ã‚ªãƒ•ã§å›å¾©\n\n### ç†ç”±2: å„ªå…ˆåº¦åˆ¶å¾¡\n\né‡è¦ãªãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’å„ªå…ˆçš„ã«å‡¦ç†ï¼š\n- **HIGH**: ç« ç”Ÿæˆãªã©ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼å¾…æ©Ÿä¸­ã®å‡¦ç†\n- **MEDIUM**: é€šå¸¸ã®åˆ†æãƒ»ç”Ÿæˆå‡¦ç†\n- **LOW**: ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰å‡¦ç†ã€ãƒ—ãƒªãƒ­ãƒ¼ãƒ‰ãªã©\n\nåŠ¹æœï¼š\n- ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ã®å‘ä¸Šï¼ˆé‡è¦ãªå‡¦ç†ãŒå…ˆã«å®Œäº†ï¼‰\n- ãƒªã‚½ãƒ¼ã‚¹ã®åŠ¹ç‡çš„ãªåˆ©ç”¨\n\n### ç†ç”±3: æ»‘ã‚‰ã‹ãªã‚¹ãƒ­ãƒƒãƒˆãƒªãƒ³ã‚°\n\nã‚­ãƒ¥ãƒ¼ã‚¤ãƒ³ã‚°æ–¹å¼ã«ã‚ˆã‚Šï¼š\n- æ€¥æ¿€ãªã‚¨ãƒ©ãƒ¼ç™ºç”Ÿã‚’å›é¿\n- ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“ã®å®‰å®šæ€§å‘ä¸Š\n- ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ã®å‰Šæ¸›\n\n## å†ç¾æ–¹æ³•\n\n### ã‚¹ãƒ†ãƒƒãƒ—1: APIThrottlerã®åˆæœŸåŒ–\n\n```typescript\nconst throttler = new APIThrottler({\n  maxRequestsPerMinute: 50,\n  processingInterval: 1200\n});\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2: ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®é€ä¿¡\n\n```typescript\n// HIGHå„ªå…ˆåº¦ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆ\nconst result = await throttler.throttle(\n  async () => {\n    return await geminiClient.generateText(prompt);\n  },\n  RequestPriority.HIGH\n);\n\n// LOWå„ªå…ˆåº¦ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆ\nconst analysis = await throttler.throttle(\n  async () => {\n    return await geminiClient.analyzeContent(content);\n  },\n  RequestPriority.LOW\n);\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3: çµ±è¨ˆæƒ…å ±ã®å–å¾—\n\n```typescript\nconst stats = throttler.getStats();\nconsole.log(`\n  ãƒªã‚¯ã‚¨ã‚¹ãƒˆæ•°: ${stats.requestsInWindow}/${stats.maxRequestsPerMinute}\n  ã‚­ãƒ¥ãƒ¼: ${stats.queuedRequests}ä»¶ (HIGH: ${stats.queueBreakdown.high})\n  ãƒãƒƒã‚¯ã‚ªãƒ•: ${stats.backoffTime}ms\n  ãƒãƒ¼ã‚ºä¸­: ${stats.isPaused}\n`);\n```\n\n## ã„ã¤ä½¿ã†ã‹\n\n- **å¤–éƒ¨APIã«ãƒ¬ãƒ¼ãƒˆåˆ¶é™ãŒã‚ã‚‹å ´åˆ**ï¼ˆGeminiã€OpenAIã€Google APIãªã©ï¼‰\n- **è¤‡æ•°ã®å„ªå…ˆåº¦ãƒ¬ãƒ™ãƒ«ã§ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ç®¡ç†ã—ãŸã„å ´åˆ**\n- **ãƒ¬ãƒ¼ãƒˆåˆ¶é™ã‚¨ãƒ©ãƒ¼ã‹ã‚‰è‡ªå‹•å›å¾©ã—ãŸã„å ´åˆ**\n- **APIå‘¼ã³å‡ºã—ãŒé›†ä¸­ã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹å ´åˆ**\n\nå…·ä½“ä¾‹ï¼š\n- AIç”Ÿæˆã‚·ã‚¹ãƒ†ãƒ ï¼ˆç« ç”Ÿæˆã€åˆ†æã€è©•ä¾¡ï¼‰\n- ãƒ‡ãƒ¼ã‚¿åé›†ã‚·ã‚¹ãƒ†ãƒ ï¼ˆã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°ã€APIçµ±åˆï¼‰\n- ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹é–“é€šä¿¡\n\n## æ³¨æ„ç‚¹\n\n### 1. ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ç®¡ç†ã®ç²¾åº¦\n\n```typescript\n// ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚’60ç§’ã”ã¨ã«ãƒªã‚»ãƒƒãƒˆ\nsetInterval(() => {\n  this.requestsInWindow = 0;\n  console.log('Request window reset');\n}, 60000);\n```\n\n**æ³¨æ„**: å®Ÿéš›ã®APIåˆ¶é™ã¯ã€Œéå»60ç§’é–“ã€ã§ã‚ã‚Šã€å›ºå®šã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã§ã¯ãªã„å¯èƒ½æ€§ãŒã‚ã‚‹ã€‚ã‚ˆã‚Šæ­£ç¢ºã«ã¯**ã‚¹ãƒ©ã‚¤ãƒ‡ã‚£ãƒ³ã‚°ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦**ã‚’å®Ÿè£…ï¼š\n\n```typescript\nprivate requestTimestamps: number[] = [];\n\nprivate addRequest(): void {\n  const now = Date.now();\n  this.requestTimestamps.push(now);\n\n  // 60ç§’ã‚ˆã‚Šå¤ã„ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—ã‚’å‰Šé™¤\n  this.requestTimestamps = this.requestTimestamps.filter(\n    ts => now - ts < 60000\n  );\n}\n\nprivate canMakeRequest(): boolean {\n  return this.requestTimestamps.length < this.maxRequestsPerMinute;\n}\n```\n\n### 2. ã‚­ãƒ¥ãƒ¼ã‚µã‚¤ã‚ºã®ç®¡ç†\n\nã‚­ãƒ¥ãƒ¼ãŒç„¡åˆ¶é™ã«æˆé•·ã—ãªã„ã‚ˆã†ã«åˆ¶é™ï¼š\n\n```typescript\nconst MAX_QUEUE_SIZE = 1000;\n\nasync throttle(requestFn: () => Promise<any>, priority: RequestPriority) {\n  if (this.waitingRequests.length >= MAX_QUEUE_SIZE) {\n    throw new Error('Request queue is full');\n  }\n  // ...\n}\n```\n\n### 3. ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆè¨­å®š\n\né•·æ™‚é–“ã‚­ãƒ¥ãƒ¼ã«æ»ç•™ã™ã‚‹ãƒªã‚¯ã‚¨ã‚¹ãƒˆã«ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã‚’è¨­å®šï¼š\n\n```typescript\ninterface QueuedRequest {\n  // ...\n  timeout: number; // ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆæ™‚åˆ»\n}\n\n// ã‚­ãƒ¥ãƒ¼å‡¦ç†æ™‚ã«ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆãƒã‚§ãƒƒã‚¯\nif (Date.now() > nextRequest.timeout) {\n  nextRequest.reject(new Error('Request timeout'));\n  continue;\n}\n```\n\n### 4. ã‚¨ãƒ©ãƒ¼ã‚«ã‚¦ãƒ³ãƒˆã®ãƒªã‚»ãƒƒãƒˆ\n\næˆåŠŸãŒç¶šã„ãŸå ´åˆã€ã‚¨ãƒ©ãƒ¼ã‚«ã‚¦ãƒ³ãƒˆã‚’æ®µéšçš„ã«ãƒªã‚»ãƒƒãƒˆï¼š\n\n```typescript\n// æˆåŠŸæ™‚\nthis.errorCount = Math.max(0, this.errorCount - 1);\n\n// ã¾ãŸã¯ã€ä¸€å®šæ™‚é–“ã‚¨ãƒ©ãƒ¼ãªã—ã§ãƒªã‚»ãƒƒãƒˆ\nsetTimeout(() => {\n  if (this.errorCount > 0) {\n    this.errorCount--;\n  }\n}, 300000); // 5åˆ†\n```\n\n## ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æŒ‡æ¨™\n\n### ã‚¹ãƒ«ãƒ¼ãƒ—ãƒƒãƒˆ\n- **æœ€å¤§**: 50 requests/minuteï¼ˆAPIåˆ¶é™ï¼‰\n- **å¹³å‡**: 45-48 requests/minuteï¼ˆå®‰å…¨ãƒãƒ¼ã‚¸ãƒ³è€ƒæ…®ï¼‰\n\n### ãƒ¬ã‚¤ãƒ†ãƒ³ã‚·\n- **å³åº§å®Ÿè¡Œ**: 0-100msï¼ˆã‚¦ã‚£ãƒ³ãƒ‰ã‚¦å†…ï¼‰\n- **ã‚­ãƒ¥ãƒ¼å¾…æ©Ÿ**: 1.2-15ç§’ï¼ˆå„ªå…ˆåº¦ã¨ã‚­ãƒ¥ãƒ¼ã‚µã‚¤ã‚ºã«ã‚ˆã‚‹ï¼‰\n- **ãƒãƒƒã‚¯ã‚ªãƒ•**: 2-60ç§’ï¼ˆã‚¨ãƒ©ãƒ¼æ•°ã«ã‚ˆã‚‹ï¼‰\n\n### ã‚­ãƒ¥ãƒ¼çµ±è¨ˆ\n- **é€šå¸¸æ™‚**: < 20ä»¶\n- **ãƒ”ãƒ¼ã‚¯æ™‚**: < 100ä»¶\n- **æœ€å¤§è¨±å®¹**: 1000ä»¶\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `decision_priority_queue_sort_strategy_2025_11_25.md` - å„ªå…ˆåº¦ã‚­ãƒ¥ãƒ¼ã®ã‚½ãƒ¼ãƒˆæˆ¦ç•¥é¸æŠ\n- `workflow_api_throttling_flow_2025_11_25.md` - APIã‚¹ãƒ­ãƒƒãƒˆãƒªãƒ³ã‚°ã®å®Œå…¨ãªãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼\n- `decision_error_recovery_strategy_2025_11_25.md` - ã‚¨ãƒ©ãƒ¼ãƒªã‚«ãƒãƒªãƒ¼æˆ¦ç•¥ã®é¸æŠç†ç”±\n",
    "prompt": "### ã‚¹ãƒ†ãƒƒãƒ—1: APIThrottlerã®åˆæœŸåŒ–\n\n```typescript\nconst throttler = new APIThrottler({\n  maxRequestsPerMinute: 50,\n  processingInterval: 1200\n});\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2: ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®é€ä¿¡\n\n```typescript\n// HIGHå„ªå…ˆåº¦ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆ\nconst result = await throttler.throttle(\n  async () => {\n    return await geminiClient.generateText(prompt);\n  },\n  RequestPriority.HIGH\n);\n\n// LOWå„ªå…ˆåº¦ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆ\nconst analysis = await throttler.throttle(\n  async () => {\n    return await geminiClient.analyzeContent(content);\n  },\n  RequestPriority.LOW\n);\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3: çµ±è¨ˆæƒ…å ±ã®å–å¾—\n\n```typescript\nconst stats = throttler.getStats();\nconsole.log(`\n  ãƒªã‚¯ã‚¨ã‚¹ãƒˆæ•°: ${stats.requestsInWindow}/${stats.maxRequestsPerMinute}\n  ã‚­ãƒ¥ãƒ¼: ${stats.queuedRequests}ä»¶ (HIGH: ${stats.queueBreakdown.high})\n  ãƒãƒƒã‚¯ã‚ªãƒ•: ${stats.backoffTime}ms\n  ãƒãƒ¼ã‚ºä¸­: ${stats.isPaused}\n`);\n```",
    "relatedTech": [
      "decision-priority-queue-sort-strategy",
      "workflow-api-throttling-flow",
      "decision-error-recovery-strategy"
    ]
  },
  {
    "slug": "article-title-extraction",
    "title": "è¨˜äº‹ã‚¿ã‚¤ãƒˆãƒ«ã®æŠ½å‡º",
    "category": "Skillsï¼ˆã‚¹ã‚­ãƒ«ãƒ»æ‰‹æ³•ï¼‰",
    "description": "LLMãŒç”Ÿæˆã—ãŸMarkdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‹ã‚‰ã€ã‚¿ã‚¤ãƒˆãƒ«ï¼ˆh1è¦‹å‡ºã—ï¼‰ã‚’æŠ½å‡ºã™ã‚‹æ‰‹æ³•ã€‚",
    "project": "ai-blog-generator",
    "usedIn": [
      "src/lib/article.ts:22-24"
    ],
    "code": "```json\n{\n  \"id\": \"skill_article_title_extraction_2025_04_22\",\n  \"type\": \"skill\",\n  \"name\": \"è¨˜äº‹ã‚¿ã‚¤ãƒˆãƒ«ã®æŠ½å‡º\",\n  \"tags\": [\"ã‚¿ã‚¤ãƒˆãƒ«æŠ½å‡º\", \"æ­£è¦è¡¨ç¾\", \"Markdown\", \"ãƒ‘ãƒ¼ã‚¹\"],\n  \"source_project\": \"ai-blog-generator\",\n  \"source_file\": \"src/lib/article.ts:22-24\",\n  \"related_knowledge\": [],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-04-22\",\n  \"updated\": \"2025-04-22\"\n}\n```\n\n# è¨˜äº‹ã‚¿ã‚¤ãƒˆãƒ«ã®æŠ½å‡º\n\n## ä½•ã‚’ã™ã‚‹ã‚¹ã‚­ãƒ«ã‹\n\nLLMãŒç”Ÿæˆã—ãŸMarkdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‹ã‚‰ã€ã‚¿ã‚¤ãƒˆãƒ«ï¼ˆh1è¦‹å‡ºã—ï¼‰ã‚’æŠ½å‡ºã™ã‚‹æ‰‹æ³•ã€‚\n\n## å…·ä½“çš„ãªæ‰‹æ³•\n\n```typescript\nconst titleMatch = content.match(/^# (.+)$/m);\nconst title = titleMatch ? titleMatch[1] : topic;\n```\n\n### æ­£è¦è¡¨ç¾ã®èª¬æ˜\n\n- `^`ï¼šè¡Œã®å…ˆé ­\n- `# `ï¼šh1è¦‹å‡ºã—ã®è¨˜å·\n- `(.+)`ï¼šã‚¿ã‚¤ãƒˆãƒ«æœ¬æ–‡ï¼ˆã‚­ãƒ£ãƒ—ãƒãƒ£ã‚°ãƒ«ãƒ¼ãƒ—ï¼‰\n- `$`ï¼šè¡Œã®æœ«å°¾\n- `m`ï¼šãƒãƒ«ãƒãƒ©ã‚¤ãƒ³ãƒ¢ãƒ¼ãƒ‰\n\n### ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯\n\nã‚¿ã‚¤ãƒˆãƒ«ãŒè¦‹ã¤ã‹ã‚‰ãªã„å ´åˆï¼š\n```typescript\nconst title = titleMatch ? titleMatch[1] : topic;\n```\nâ†’ å…ƒã®ãƒˆãƒ”ãƒƒã‚¯ã‚’ã‚¿ã‚¤ãƒˆãƒ«ã¨ã—ã¦ä½¿ç”¨\n\n## ãªãœã“ã®æ‰‹æ³•ã‚’ä½¿ã†ã‹\n\nLLMã¯æŒ‡ç¤ºé€šã‚Šã«ã‚¿ã‚¤ãƒˆãƒ«ã‚’ç”Ÿæˆã™ã‚‹ãŒã€å½¢å¼ãŒä¸å®‰å®šï¼š\n- `# ã‚¿ã‚¤ãƒˆãƒ«`ï¼ˆæ­£ã—ã„ï¼‰\n- `ã‚¿ã‚¤ãƒˆãƒ«\\n===`ï¼ˆMarkdownã®åˆ¥å½¢å¼ï¼‰\n- `**ã‚¿ã‚¤ãƒˆãƒ«**`ï¼ˆé–“é•ã„ï¼‰\n\næ­£è¦è¡¨ç¾ã§ç¢ºå®Ÿã«æŠ½å‡ºã—ã€å¤±æ•—æ™‚ã¯ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ã€‚\n\n## å†ç¾æ–¹æ³•\n\n```typescript\nfunction extractTitle(markdown: string, fallback: string): string {\n  const match = markdown.match(/^# (.+)$/m);\n  return match ? match[1].trim() : fallback;\n}\n```\n\n## æ³¨æ„ç‚¹\n\n- **è¤‡æ•°ã®h1ãŒã‚ã‚‹å ´åˆ**ï¼šæœ€åˆã®h1ã®ã¿æŠ½å‡º\n- **h1ãŒãªã„å ´åˆ**ï¼šãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ãŒå¿…é ˆ\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `skill_seo_blog_structure_2025_04_22.md` - ã‚¿ã‚¤ãƒˆãƒ«ç”Ÿæˆã®æŒ‡ç¤ºæ–¹æ³•\n",
    "prompt": "```typescript\nfunction extractTitle(markdown: string, fallback: string): string {\n  const match = markdown.match(/^# (.+)$/m);\n  return match ? match[1].trim() : fallback;\n}\n```",
    "relatedTech": []
  },
  {
    "slug": "bulk-download-service-zip",
    "title": "JSZip ã«ã‚ˆã‚‹ä¸€æ‹¬ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã‚µãƒ¼ãƒ“ã‚¹",
    "category": "Skillsï¼ˆã‚¹ã‚­ãƒ«ãƒ»æ‰‹æ³•ï¼‰",
    "description": "**InstagramæŠ•ç¨¿ã®å…¨ãƒšãƒ¼ã‚¸ï¼ˆPNGç”»åƒ + ã‚­ãƒ£ãƒ—ã‚·ãƒ§ãƒ³ + ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°ï¼‰ã‚’ZIPãƒ•ã‚¡ã‚¤ãƒ«ã«ä¸€æ‹¬ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒ³ã‚°ã—ã¦ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã™ã‚‹æŠ€è¡“ã€‚**",
    "project": "instagram-post-generator",
    "usedIn": [
      "app/services/bulkDownloadService.ts:1-320"
    ],
    "code": "```json\n{\n  \"id\": \"skill_bulk_download_service_zip_2025_11_25\",\n  \"type\": \"skill\",\n  \"name\": \"JSZip ã«ã‚ˆã‚‹ä¸€æ‹¬ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã‚µãƒ¼ãƒ“ã‚¹\",\n  \"tags\": [\"JSZip\", \"ZIP\", \"ä¸€æ‹¬ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰\", \"ç”»åƒã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ\", \"é€²æ—ç®¡ç†\"],\n  \"source_project\": \"instagram-post-generator\",\n  \"source_file\": \"app/services/bulkDownloadService.ts:1-320\",\n  \"difficulty\": \"intermediate\",\n  \"related_knowledge\": [\n    \"skill_html2canvas_optimization_techniques_2025_11_25\",\n    \"workflow_download_export_workflow_2025_11_25\"\n  ],\n  \"prerequisites\": [\"html2canvas\", \"JSZip\", \"async/await\"],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# JSZip ã«ã‚ˆã‚‹ä¸€æ‹¬ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã‚µãƒ¼ãƒ“ã‚¹\n\n## ä½•ã‚’ã™ã‚‹ã‚¹ã‚­ãƒ«ã‹\n\n**InstagramæŠ•ç¨¿ã®å…¨ãƒšãƒ¼ã‚¸ï¼ˆPNGç”»åƒ + ã‚­ãƒ£ãƒ—ã‚·ãƒ§ãƒ³ + ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°ï¼‰ã‚’ZIPãƒ•ã‚¡ã‚¤ãƒ«ã«ä¸€æ‹¬ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒ³ã‚°ã—ã¦ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã™ã‚‹æŠ€è¡“ã€‚**\n\nhtml2canvas ã§PNGå¤‰æ›ã€JSZip ã§ZIPã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ä½œæˆã€é€²æ—ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°ã‚’çµ„ã¿åˆã‚ã›ãŸå®Œå…¨ãªä¸€æ‹¬ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆæ©Ÿèƒ½ã€‚\n\n**å‡¦ç†æ™‚é–“**: 10ãƒšãƒ¼ã‚¸ã§ç´„8-12ç§’\n**ZIPã‚µã‚¤ã‚º**: ç´„5-15MBï¼ˆ1080x1080 PNG Ã— 10æš + ãƒ†ã‚­ã‚¹ãƒˆï¼‰\n**æˆåŠŸç‡**: 98%\n\n---\n\n## å…·ä½“çš„ãªæ‰‹æ³•\n\n### æ‰‹é †1: é †æ¬¡ãƒšãƒ¼ã‚¸ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°\n\n**å•é¡Œ**: 10ãƒšãƒ¼ã‚¸ã‚’åŒæ™‚ã«ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã™ã‚‹ã¨ãƒ–ãƒ©ã‚¦ã‚¶ãŒå›ºã¾ã‚‹\n\n**è§£æ±º**: 1ãƒšãƒ¼ã‚¸ãšã¤é †æ¬¡å‡¦ç†\n\n```typescript\n// app/services/bulkDownloadService.ts\nexport async function downloadAllPagesAsZip(\n  pages: GeneratedPage[],\n  caption: string,\n  hashtags: string[],\n  onProgress?: (current: number, total: number) => void\n): Promise<void> {\n  const zip = new JSZip()\n  const total = pages.length\n\n  // é †æ¬¡å‡¦ç†ï¼ˆä¸¦åˆ—å‡¦ç†ã—ãªã„ï¼‰\n  for (let i = 0; i < pages.length; i++) {\n    const page = pages[i]\n\n    // é€²æ—é€šçŸ¥\n    onProgress?.(i + 1, total)\n\n    // ãƒšãƒ¼ã‚¸ã‚’PNGå¤‰æ›\n    const blob = await renderPageToPng(page)\n\n    // ZIPã«è¿½åŠ \n    zip.file(`page-${page.pageNumber}.png`, blob)\n\n    // ãƒ–ãƒ©ã‚¦ã‚¶ã®å‘¼å¸æ™‚é–“ï¼ˆæ¬¡ã®ãƒšãƒ¼ã‚¸ã«é€²ã‚€å‰ã«å°‘ã—å¾…ã¤ï¼‰\n    await new Promise(resolve => setTimeout(resolve, 100))\n  }\n\n  // ã‚­ãƒ£ãƒ—ã‚·ãƒ§ãƒ³ã¨ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°ã‚’ãƒ†ã‚­ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã¨ã—ã¦è¿½åŠ \n  zip.file('caption.txt', caption)\n  zip.file('hashtags.txt', hashtags.join('\\n'))\n\n  // ZIPç”Ÿæˆã¨ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰\n  const zipBlob = await zip.generateAsync({ type: 'blob' })\n  downloadBlob(zipBlob, 'instagram-post.zip')\n}\n```\n\n### æ‰‹é †2: html2canvas ã«ã‚ˆã‚‹ PNG å¤‰æ›\n\n**å®Ÿè£…**:\n\n```typescript\nasync function renderPageToPng(page: GeneratedPage): Promise<Blob> {\n  // ãƒšãƒ¼ã‚¸è¦ç´ ã‚’å–å¾—\n  const element = document.getElementById(`page-${page.pageNumber}`)\n  if (!element) {\n    throw new Error(`Page ${page.pageNumber} not found`)\n  }\n\n  // å®Ÿéš›ã®é«˜ã•ã‚’æ¸¬å®šï¼ˆå‹•çš„ã‚³ãƒ³ãƒ†ãƒ³ãƒ„å¯¾å¿œï¼‰\n  const actualHeight = element.offsetHeight\n  console.log(`ğŸ“ Page ${page.pageNumber}: ${actualHeight}px`)\n\n  // html2canvas ã§å¤‰æ›\n  const canvas = await html2canvas(element, {\n    width: 1080,\n    height: actualHeight,  // å‹•çš„é«˜ã•\n    scale: 2,              // Retinaå¯¾å¿œ\n    logging: false,\n    useCORS: true,\n    backgroundColor: '#ffffff'\n  })\n\n  // Canvas â†’ Blob\n  return new Promise((resolve, reject) => {\n    canvas.toBlob((blob) => {\n      if (blob) {\n        resolve(blob)\n      } else {\n        reject(new Error('Canvas to Blob failed'))\n      }\n    }, 'image/png')\n  })\n}\n```\n\n### æ‰‹é †3: é€²æ—ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚° UI\n\n**å®Ÿè£…**:\n\n```typescript\n// app/components/BulkDownloadButton.tsx\n'use client'\nimport { useState } from 'react'\nimport { downloadAllPagesAsZip } from '../services/bulkDownloadService'\n\nexport default function BulkDownloadButton({ pages, caption, hashtags }) {\n  const [isDownloading, setIsDownloading] = useState(false)\n  const [progress, setProgress] = useState({ current: 0, total: 0 })\n\n  const handleDownload = async () => {\n    setIsDownloading(true)\n\n    try {\n      await downloadAllPagesAsZip(\n        pages,\n        caption,\n        hashtags,\n        (current, total) => {\n          setProgress({ current, total })\n        }\n      )\n    } catch (error) {\n      console.error('Download failed:', error)\n      alert('ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã«å¤±æ•—ã—ã¾ã—ãŸ')\n    } finally {\n      setIsDownloading(false)\n      setProgress({ current: 0, total: 0 })\n    }\n  }\n\n  return (\n    <div>\n      <button\n        onClick={handleDownload}\n        disabled={isDownloading}\n      >\n        {isDownloading\n          ? `ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ä¸­... (${progress.current}/${progress.total})`\n          : 'ä¸€æ‹¬ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ (ZIP)'\n        }\n      </button>\n\n      {isDownloading && (\n        <div className=\"progress-bar\">\n          <div\n            className=\"progress-fill\"\n            style={{\n              width: `${(progress.current / progress.total) * 100}%`\n            }}\n          />\n        </div>\n      )}\n    </div>\n  )\n}\n```\n\n### æ‰‹é †4: é¸æŠãƒšãƒ¼ã‚¸ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰\n\n**æ©Ÿèƒ½**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒé¸æŠã—ãŸãƒšãƒ¼ã‚¸ã®ã¿ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰\n\n```typescript\nexport async function downloadSelectedPagesAsZip(\n  pages: GeneratedPage[],\n  selectedPageNumbers: number[],\n  includeIndex: boolean,\n  caption: string,\n  hashtags: string[]\n): Promise<void> {\n  const zip = new JSZip()\n\n  // ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ãƒšãƒ¼ã‚¸ç”Ÿæˆï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰\n  if (includeIndex) {\n    const indexBlob = await generateIndexPage(pages, selectedPageNumbers)\n    zip.file('index.png', indexBlob)\n  }\n\n  // é¸æŠã•ã‚ŒãŸãƒšãƒ¼ã‚¸ã®ã¿å‡¦ç†\n  for (const pageNumber of selectedPageNumbers) {\n    const page = pages.find(p => p.pageNumber === pageNumber)\n    if (!page) continue\n\n    const blob = await renderPageToPng(page)\n    zip.file(`page-${pageNumber}.png`, blob)\n  }\n\n  // ãƒ†ã‚­ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«è¿½åŠ \n  zip.file('caption.txt', caption)\n  zip.file('hashtags.txt', hashtags.join('\\n'))\n  zip.file('selected-pages.txt', selectedPageNumbers.join(', '))\n\n  const zipBlob = await zip.generateAsync({ type: 'blob' })\n  downloadBlob(zipBlob, 'instagram-post-selected.zip')\n}\n```\n\n### æ‰‹é †5: ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ãƒšãƒ¼ã‚¸ç”Ÿæˆ\n\n**ç›®çš„**: é¸æŠãƒšãƒ¼ã‚¸ã®ä¸€è¦§ã‚’ç¤ºã™ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ãƒšãƒ¼ã‚¸\n\n```typescript\nasync function generateIndexPage(\n  pages: GeneratedPage[],\n  selectedPageNumbers: number[]\n): Promise<Blob> {\n  // ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ãƒšãƒ¼ã‚¸HTMLç”Ÿæˆ\n  const indexHtml = `\n    <div id=\"index-page\" style=\"width: 1080px; padding: 40px; background: white;\">\n      <h1 style=\"font-size: 48px; margin-bottom: 30px;\">æŠ•ç¨¿ä¸€è¦§</h1>\n      <ul style=\"font-size: 32px; line-height: 1.8;\">\n        ${selectedPageNumbers.map(num => {\n          const page = pages.find(p => p.pageNumber === num)\n          return `<li>ãƒšãƒ¼ã‚¸ ${num}: ${page?.title || ''}</li>`\n        }).join('')}\n      </ul>\n    </div>\n  `\n\n  // ä¸€æ™‚çš„ã«DOMã«è¿½åŠ \n  const tempDiv = document.createElement('div')\n  tempDiv.innerHTML = indexHtml\n  document.body.appendChild(tempDiv)\n\n  // html2canvas å¤‰æ›\n  const element = tempDiv.querySelector('#index-page') as HTMLElement\n  const canvas = await html2canvas(element, {\n    width: 1080,\n    height: element.offsetHeight,\n    scale: 2\n  })\n\n  // DOMã‹ã‚‰å‰Šé™¤\n  document.body.removeChild(tempDiv)\n\n  // Blobç”Ÿæˆ\n  return new Promise((resolve, reject) => {\n    canvas.toBlob((blob) => {\n      if (blob) {\n        resolve(blob)\n      } else {\n        reject(new Error('Index page generation failed'))\n      }\n    }, 'image/png')\n  })\n}\n```\n\n---\n\n## ãªãœã“ã®ã‚¹ã‚­ãƒ«ãŒé‡è¦ã‹\n\n### ç†ç”±1: ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ã®å‘ä¸Š\n\n**æ‰‹å‹•ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã®å•é¡Œ**:\n```\n10ãƒšãƒ¼ã‚¸ã®æŠ•ç¨¿ã‚’å€‹åˆ¥ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰:\n- å„ãƒšãƒ¼ã‚¸ã§ã€Œãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ Ã— 10å›\n- ãƒ•ã‚¡ã‚¤ãƒ«åã‚’æ‰‹å‹•å¤‰æ›´ Ã— 10å›\n- ãƒ•ã‚©ãƒ«ãƒ€ã«æ•´ç†\nTotal: ç´„5-10åˆ†\n```\n\n**ä¸€æ‹¬ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã®åˆ©ç‚¹**:\n```\n1å›ã®ã‚¯ãƒªãƒƒã‚¯ã§å®Œäº†:\n- ZIPãƒ•ã‚¡ã‚¤ãƒ«ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰: 1å›\n- å±•é–‹: 1å›\nTotal: ç´„30ç§’\n```\n\n**æ™‚é–“å‰Šæ¸›**: 90%\n\n### ç†ç”±2: ãƒ•ã‚¡ã‚¤ãƒ«ç®¡ç†ã®ç°¡ç´ åŒ–\n\n**ZIPã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ã®æ§‹é€ **:\n```\ninstagram-post.zip\nâ”œâ”€â”€ index.png              # ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰\nâ”œâ”€â”€ page-1.png             # 1ãƒšãƒ¼ã‚¸ç›®\nâ”œâ”€â”€ page-2.png             # 2ãƒšãƒ¼ã‚¸ç›®\nâ”œâ”€â”€ ...\nâ”œâ”€â”€ page-10.png            # 10ãƒšãƒ¼ã‚¸ç›®\nâ”œâ”€â”€ caption.txt            # ã‚­ãƒ£ãƒ—ã‚·ãƒ§ãƒ³\nâ”œâ”€â”€ hashtags.txt           # ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°\nâ””â”€â”€ selected-pages.txt     # é¸æŠãƒšãƒ¼ã‚¸ä¸€è¦§ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰\n```\n\n**ãƒ¡ãƒªãƒƒãƒˆ**:\n- ãƒ•ã‚¡ã‚¤ãƒ«åã®ä¸€è²«æ€§\n- é–¢é€£ãƒ•ã‚¡ã‚¤ãƒ«ã®ã‚°ãƒ«ãƒ¼ãƒ—åŒ–\n- é…å¸ƒã®å®¹æ˜“ã•\n\n### ç†ç”±3: ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã®é›†ä¸­åŒ–\n\n**å€‹åˆ¥ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã®å•é¡Œ**:\n```\nãƒšãƒ¼ã‚¸7ã§ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿ:\n- 1-6ãƒšãƒ¼ã‚¸: æˆåŠŸï¼ˆæ‰‹å‹•ã§ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰æ¸ˆã¿ï¼‰\n- 7ãƒšãƒ¼ã‚¸: å¤±æ•—\n- 8-10ãƒšãƒ¼ã‚¸: æœªãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰\nâ†’ ã©ã“ã¾ã§ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ãŸã‹ä¸æ˜\n```\n\n**ä¸€æ‹¬ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã®åˆ©ç‚¹**:\n```typescript\ntry {\n  await downloadAllPagesAsZip(pages, caption, hashtags)\n  // æˆåŠŸ: ã™ã¹ã¦ã®ãƒšãƒ¼ã‚¸ãŒZIPã«å«ã¾ã‚Œã‚‹\n} catch (error) {\n  // å¤±æ•—: ä½•ã‚‚ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã•ã‚Œãªã„\n  alert('ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã«å¤±æ•—ã—ã¾ã—ãŸã€‚ã‚‚ã†ä¸€åº¦ãŠè©¦ã—ãã ã•ã„')\n}\n```\n\n**æ˜ç¢ºæ€§**: æˆåŠŸ/å¤±æ•—ãŒæ˜ç¢º\n\n---\n\n## å†ç¾æ–¹æ³•\n\n### å®Œå…¨ãªå®Ÿè£…\n\n```typescript\n// app/services/bulkDownloadService.ts\nimport JSZip from 'jszip'\nimport html2canvas from 'html2canvas'\n\ninterface DownloadOptions {\n  includeIndex?: boolean\n  selectedPages?: number[]\n  onProgress?: (current: number, total: number) => void\n}\n\nexport async function downloadAllPagesAsZip(\n  pages: GeneratedPage[],\n  caption: string,\n  hashtags: string[],\n  options: DownloadOptions = {}\n): Promise<void> {\n  const {\n    includeIndex = false,\n    selectedPages = null,\n    onProgress = () => {}\n  } = options\n\n  const zip = new JSZip()\n\n  // ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰å¯¾è±¡ãƒšãƒ¼ã‚¸ã‚’æ±ºå®š\n  const targetPages = selectedPages\n    ? pages.filter(p => selectedPages.includes(p.pageNumber))\n    : pages\n\n  const total = targetPages.length + (includeIndex ? 1 : 0)\n  let current = 0\n\n  // ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ãƒšãƒ¼ã‚¸ç”Ÿæˆ\n  if (includeIndex) {\n    onProgress(++current, total)\n    const indexBlob = await generateIndexPage(pages, targetPages.map(p => p.pageNumber))\n    zip.file('index.png', indexBlob)\n  }\n\n  // å„ãƒšãƒ¼ã‚¸ã‚’PNGå¤‰æ›ã—ã¦ZIPã«è¿½åŠ \n  for (const page of targetPages) {\n    onProgress(++current, total)\n\n    try {\n      const blob = await renderPageToPng(page)\n      zip.file(`page-${String(page.pageNumber).padStart(2, '0')}.png`, blob)\n\n      // ãƒ–ãƒ©ã‚¦ã‚¶ã®å‘¼å¸æ™‚é–“\n      await new Promise(resolve => setTimeout(resolve, 100))\n    } catch (error) {\n      console.error(`Failed to render page ${page.pageNumber}:`, error)\n      throw new Error(`ãƒšãƒ¼ã‚¸${page.pageNumber}ã®å¤‰æ›ã«å¤±æ•—ã—ã¾ã—ãŸ`)\n    }\n  }\n\n  // ãƒ†ã‚­ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«è¿½åŠ \n  zip.file('caption.txt', caption)\n  zip.file('hashtags.txt', hashtags.join('\\n'))\n\n  if (selectedPages) {\n    zip.file('selected-pages.txt', `é¸æŠãƒšãƒ¼ã‚¸: ${selectedPages.join(', ')}`)\n  }\n\n  // ZIPç”Ÿæˆ\n  console.log('ğŸ“¦ Generating ZIP file...')\n  const zipBlob = await zip.generateAsync({\n    type: 'blob',\n    compression: 'DEFLATE',\n    compressionOptions: { level: 6 }\n  })\n\n  // ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰\n  const timestamp = new Date().toISOString().replace(/[:.]/g, '-').slice(0, 19)\n  const filename = `instagram-post-${timestamp}.zip`\n  downloadBlob(zipBlob, filename)\n\n  console.log('âœ… Download completed:', filename)\n}\n\nasync function renderPageToPng(page: GeneratedPage): Promise<Blob> {\n  const element = document.getElementById(`page-${page.pageNumber}`)\n  if (!element) {\n    throw new Error(`Element not found: page-${page.pageNumber}`)\n  }\n\n  const actualHeight = element.offsetHeight\n\n  const canvas = await html2canvas(element, {\n    width: 1080,\n    height: actualHeight,\n    scale: 2,\n    logging: false,\n    useCORS: true,\n    backgroundColor: '#ffffff'\n  })\n\n  return new Promise((resolve, reject) => {\n    canvas.toBlob((blob) => {\n      if (blob) {\n        resolve(blob)\n      } else {\n        reject(new Error('Canvas to Blob conversion failed'))\n      }\n    }, 'image/png', 0.95)\n  })\n}\n\nfunction downloadBlob(blob: Blob, filename: string): void {\n  const url = URL.createObjectURL(blob)\n  const link = document.createElement('a')\n  link.href = url\n  link.download = filename\n  link.click()\n  URL.revokeObjectURL(url)\n}\n```\n\n---\n\n## ã„ã¤ä½¿ã†ã‹\n\n### ä½¿ã†ã¹ãå ´é¢\n\n1. **è¤‡æ•°ãƒ•ã‚¡ã‚¤ãƒ«ã®ä¸€æ‹¬ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ**\n   - InstagramæŠ•ç¨¿ï¼ˆ10ãƒšãƒ¼ã‚¸ï¼‰\n   - ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆï¼ˆè¤‡æ•°ãƒšãƒ¼ã‚¸ï¼‰\n   - ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªï¼ˆä½œå“é›†ï¼‰\n\n2. **é–¢é€£ãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒ³ã‚°**\n   - ç”»åƒ + ãƒ†ã‚­ã‚¹ãƒˆ\n   - ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ + ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ\n   - ãƒ‡ãƒ¼ã‚¿ + ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿\n\n3. **é…å¸ƒãƒ»å…±æœ‰ãŒå¿…è¦**\n   - ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã¸ã®ç´å“\n   - ãƒãƒ¼ãƒ ãƒ¡ãƒ³ãƒãƒ¼ã¸ã®å…±æœ‰\n   - ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰æä¾›\n\n### ä½¿ã‚ãªã„æ–¹ãŒè‰¯ã„å ´é¢\n\n1. **å˜ä¸€ãƒ•ã‚¡ã‚¤ãƒ«**\n   - 1ãƒšãƒ¼ã‚¸ã®ã¿\n   - â†’ ç›´æ¥ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã§ååˆ†\n\n2. **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°**\n   - ãƒ•ã‚¡ã‚¤ãƒ«ãŒé »ç¹ã«å¤‰æ›´\n   - â†’ ã‚¯ãƒ©ã‚¦ãƒ‰ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸åŒæœŸ\n\n3. **å¤§å®¹é‡ãƒ•ã‚¡ã‚¤ãƒ«**\n   - 100MBè¶…ã®ZIP\n   - â†’ ãƒ–ãƒ©ã‚¦ã‚¶ãƒ¡ãƒ¢ãƒªåˆ¶é™ã€ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰æ¨å¥¨\n\n---\n\n## æ³¨æ„ç‚¹\n\n### æ³¨æ„ç‚¹1: ãƒ–ãƒ©ã‚¦ã‚¶ãƒ¡ãƒ¢ãƒªåˆ¶é™\n\n**å•é¡Œ**: å¤§é‡ã®ãƒšãƒ¼ã‚¸ã§ Out of Memory\n\n**å¯¾ç­–**:\n```typescript\n// 20ãƒšãƒ¼ã‚¸ä»¥ä¸Šã®å ´åˆã€è­¦å‘Š\nif (pages.length > 20) {\n  const confirmed = confirm(\n    `${pages.length}ãƒšãƒ¼ã‚¸ã¯å‡¦ç†ã«æ™‚é–“ãŒã‹ã‹ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚ç¶šè¡Œã—ã¾ã™ã‹ï¼Ÿ`\n  )\n  if (!confirmed) return\n}\n```\n\n### æ³¨æ„ç‚¹2: é †æ¬¡å‡¦ç†ã®é‡è¦æ€§\n\n**å•é¡Œ**: ä¸¦åˆ—å‡¦ç†ã§ãƒ–ãƒ©ã‚¦ã‚¶ãŒå›ºã¾ã‚‹\n\n```typescript\n// âŒ ä¸¦åˆ—å‡¦ç†ï¼ˆãƒ–ãƒ©ã‚¦ã‚¶ãŒå›ºã¾ã‚‹ï¼‰\nawait Promise.all(pages.map(p => renderPageToPng(p)))\n\n// âœ… é †æ¬¡å‡¦ç†ï¼ˆå®‰å®šï¼‰\nfor (const page of pages) {\n  await renderPageToPng(page)\n}\n```\n\n### æ³¨æ„ç‚¹3: é€²æ—ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã®å¿…é ˆæ€§\n\n**ç†ç”±**: å‡¦ç†ã«8-12ç§’ã‹ã‹ã‚‹\n\n```typescript\n// ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«é€²æ—ã‚’è¡¨ç¤ºã—ãªã„ã¨â€¦\n// â†’ ã€Œãƒ•ãƒªãƒ¼ã‚ºã—ãŸï¼Ÿã€ã¨èª¤è§£\n// â†’ ãƒ–ãƒ©ã‚¦ã‚¶ã‚’é–‰ã˜ã‚‹\n// â†’ å‡¦ç†å¤±æ•—\n\n// å¿…ãšé€²æ—ã‚’è¡¨ç¤º\nonProgress(3, 10)  // ã€Œ3/10ãƒšãƒ¼ã‚¸å‡¦ç†ä¸­...ã€\n```\n\n---\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- **skill_html2canvas_optimization_techniques_2025_11_25.md**: PNGå¤‰æ›ã®æœ€é©åŒ–\n- **workflow_download_export_workflow_2025_11_25.md**: å®Œå…¨ãªã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆãƒ•ãƒ­ãƒ¼\n\n---\n\n**JSZip ã«ã‚ˆã‚‹ä¸€æ‹¬ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã¯ã€è¤‡æ•°ãƒ•ã‚¡ã‚¤ãƒ«ã®åŠ¹ç‡çš„ãªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒ³ã‚°ã¨ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ã®å‘ä¸Šã‚’å®Ÿç¾ã™ã‚‹é‡è¦ãªã‚¹ã‚­ãƒ«ã§ã‚ã‚‹ã€‚**\n",
    "prompt": "### å®Œå…¨ãªå®Ÿè£…\n\n```typescript\n// app/services/bulkDownloadService.ts\nimport JSZip from 'jszip'\nimport html2canvas from 'html2canvas'\n\ninterface DownloadOptions {\n  includeIndex?: boolean\n  selectedPages?: number[]\n  onProgress?: (current: number, total: number) => void\n}\n\nexport async function downloadAllPagesAsZip(\n  pages: GeneratedPage[],\n  caption: string,\n  hashtags: string[],\n  options: DownloadOptions = {}\n): Promise<void> {\n  const {\n    includeIndex = false,\n    selectedPages = null,\n    onProgress = () => {}\n  } = options\n\n  const zip = new JSZip()\n\n  // ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰å¯¾è±¡ãƒšãƒ¼ã‚¸ã‚’æ±ºå®š\n  const targetPages = selectedPages\n    ? pages.filter(p => selectedPages.includes(p.pageNumber))\n    : pages\n\n  const total = targetPages.length + (includeIndex ? 1 : 0)\n  let current = 0\n\n  // ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ãƒšãƒ¼ã‚¸ç”Ÿæˆ\n  if (includeIndex) {\n    onProgress(++current, total)\n    const indexBlob = await generateIndexPage(pages, targetPages.map(p => p.pageNumber))\n    zip.file('index.png', indexBlob)\n  }\n\n  // å„ãƒšãƒ¼ã‚¸ã‚’PNGå¤‰æ›ã—ã¦ZIPã«è¿½åŠ \n  for (const page of targetPages) {\n    onProgress(++current, total)\n\n    try {\n      const blob = await renderPageToPng(page)\n      zip.file(`page-${String(page.pageNumber).padStart(2, '0')}.png`, blob)\n\n      // ãƒ–ãƒ©ã‚¦ã‚¶ã®å‘¼å¸æ™‚é–“\n      await new Promise(resolve => setTimeout(resolve, 100))\n    } catch (error) {\n      console.error(`Failed to render page ${page.pageNumber}:`, error)\n      throw new Error(`ãƒšãƒ¼ã‚¸${page.pageNumber}ã®å¤‰æ›ã«å¤±æ•—ã—ã¾ã—ãŸ`)\n    }\n  }\n\n  // ãƒ†ã‚­ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«è¿½åŠ \n  zip.file('caption.txt', caption)\n  zip.file('hashtags.txt', hashtags.join('\\n'))\n\n  if (selectedPages) {\n    zip.file('selected-pages.txt', `é¸æŠãƒšãƒ¼ã‚¸: ${selectedPages.join(', ')}`)\n  }\n\n  // ZIPç”Ÿæˆ\n  console.log('ğŸ“¦ Generating ZIP file...')\n  const zipBlob = await zip.generateAsync({\n    type: 'blob',\n    compression: 'DEFLATE',\n    compressionOptions: { level: 6 }\n  })\n\n  // ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰\n  const timestamp = new Date().toISOString().replace(/[:.]/g, '-').slice(0, 19)\n  const filename = `instagram-post-${timestamp}.zip`\n  downloadBlob(zipBlob, filename)\n\n  console.log('âœ… Download completed:', filename)\n}\n\nasync function renderPageToPng(page: GeneratedPage): Promise<Blob> {\n  const element = document.getElementById(`page-${page.pageNumber}`)\n  if (!element) {\n    throw new Error(`Element not found: page-${page.pageNumber}`)\n  }\n\n  const actualHeight = element.offsetHeight\n\n  const canvas = await html2canvas(element, {\n    width: 1080,\n    height: actualHeight,\n    scale: 2,\n    logging: false,\n    useCORS: true,\n    backgroundColor: '#ffffff'\n  })\n\n  return new Promise((resolve, reject) => {\n    canvas.toBlob((blob) => {\n      if (blob) {\n        resolve(blob)\n      } else {\n        reject(new Error('Canvas to Blob conversion failed'))\n      }\n    }, 'image/png', 0.95)\n  })\n}\n\nfunction downloadBlob(blob: Blob, filename: string): void {\n  const url = URL.createObjectURL(blob)\n  const link = document.createElement('a')\n  link.href = url\n  link.download = filename\n  link.click()\n  URL.revokeObjectURL(url)\n}\n```\n\n---",
    "relatedTech": [
      "skill-html2canvas-optimization-techniques",
      "workflow-download-export-workflow"
    ]
  },
  {
    "slug": "cache-coordination-techniques",
    "title": "éšå±¤é–“ã‚­ãƒ£ãƒƒã‚·ãƒ¥å”èª¿ã¨ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–",
    "category": "Skillsï¼ˆã‚¹ã‚­ãƒ«ãƒ»æ‰‹æ³•ï¼‰",
    "description": "çŸ­æœŸãƒ»ä¸­æœŸãƒ»é•·æœŸè¨˜æ†¶ã®å„éšå±¤ã§ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’å”èª¿ã•ã›ã€é©åˆ‡ãªTTLç®¡ç†ã¨äºˆæ¸¬ãƒ—ãƒªãƒ­ãƒ¼ãƒ‰ã«ã‚ˆã£ã¦ã‚·ã‚¹ãƒ†ãƒ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’300%å‘ä¸Šã•ã›ã‚‹æ‰‹æ³•ã€‚",
    "project": "novel-automation-system-v2",
    "usedIn": [
      "src/lib/integration/cache-coordinator.ts:1-600"
    ],
    "code": "```json\n{\n  \"id\": \"skill_cache_coordination_techniques_2025_11_25\",\n  \"type\": \"skill\",\n  \"name\": \"éšå±¤é–“ã‚­ãƒ£ãƒƒã‚·ãƒ¥å”èª¿ã¨ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–\",\n  \"tags\": [\"ã‚­ãƒ£ãƒƒã‚·ãƒ¥\", \"ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–\", \"éšå±¤çš„è¨˜æ†¶\", \"äºˆæ¸¬ãƒ—ãƒªãƒ­ãƒ¼ãƒ‰\", \"ãƒ¡ãƒ¢ãƒªç®¡ç†\"],\n  \"source_project\": \"novel-automation-system-v2\",\n  \"source_file\": \"src/lib/integration/cache-coordinator.ts:1-600\",\n  \"related_knowledge\": [\n    \"skill_memory_system_integration_2025_11_25\",\n    \"decision_why_cache_coordination_approach_2025_11_25\",\n    \"skill_predictive_preloading_2025_11_25\"\n  ],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# éšå±¤é–“ã‚­ãƒ£ãƒƒã‚·ãƒ¥å”èª¿ã¨ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–\n\n## ä½•ã‚’ã™ã‚‹ã‚¹ã‚­ãƒ«ã‹\n\nçŸ­æœŸãƒ»ä¸­æœŸãƒ»é•·æœŸè¨˜æ†¶ã®å„éšå±¤ã§ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’å”èª¿ã•ã›ã€é©åˆ‡ãªTTLç®¡ç†ã¨äºˆæ¸¬ãƒ—ãƒªãƒ­ãƒ¼ãƒ‰ã«ã‚ˆã£ã¦ã‚·ã‚¹ãƒ†ãƒ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’300%å‘ä¸Šã•ã›ã‚‹æ‰‹æ³•ã€‚\n\n## å…·ä½“çš„ãªæ‰‹æ³•\n\n### éšå±¤åˆ¥TTLè¨­è¨ˆ\n\nå„éšå±¤ã®ç‰¹æ€§ã«å¿œã˜ãŸ Time-To-Live ã®è¨­å®šï¼š\n\n```typescript\nprivate readonly CACHE_TTL = {\n    [MemoryLevel.SHORT_TERM]: 5 * 60 * 1000,      // 5åˆ†\n    [MemoryLevel.MID_TERM]: 30 * 60 * 1000,       // 30åˆ†\n    [MemoryLevel.LONG_TERM]: 2 * 60 * 60 * 1000   // 2æ™‚é–“\n};\n\n// ãªãœã“ã®TTLã‚’é¸ã‚“ã ã‹:\n// SHORT_TERM (5åˆ†):\n//   - æœ€æ–°ãƒ‡ãƒ¼ã‚¿ã®é®®åº¦ã‚’ä¿è¨¼\n//   - é »ç¹ãªæ›´æ–°ã«å¯¾å¿œ\n//   - ç« ç”Ÿæˆä¸­ã®é«˜é€Ÿã‚¢ã‚¯ã‚»ã‚¹\n//\n// MID_TERM (30åˆ†):\n//   - ã‚¢ãƒ¼ã‚¯å†…ã§ã®ä¸€è²«æ€§ã‚’ä¿æŒ\n//   - è¤‡æ•°ç« ã«ã‚ãŸã‚‹å‚ç…§ã‚’æœ€é©åŒ–\n//   - ãƒ¡ãƒ¢ãƒªåŠ¹ç‡ã¨ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã®ãƒãƒ©ãƒ³ã‚¹\n//\n// LONG_TERM (2æ™‚é–“):\n//   - ä½œå“å…¨ä½“ã®å®‰å®šæ€§ã‚’ç¢ºä¿\n//   - å¤‰æ›´é »åº¦ãŒä½ã„ãƒ‡ãƒ¼ã‚¿å‘ã‘\n//   - é•·æ™‚é–“ã‚»ãƒƒã‚·ãƒ§ãƒ³ã§ã®åŠ¹ç‡åŒ–\n```\n\n### ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚¨ãƒ³ãƒˆãƒªã®æ§‹é€ \n\n```typescript\ninterface CacheEntry<T> {\n    key: string;\n    value: T;\n    timestamp: number;\n    ttl: number;\n    memoryLevel: MemoryLevel;\n    accessCount: number;        // ã‚¢ã‚¯ã‚»ã‚¹å›æ•°ï¼ˆäººæ°—åº¦æŒ‡æ¨™ï¼‰\n    lastAccessed: number;       // æœ€çµ‚ã‚¢ã‚¯ã‚»ã‚¹æ™‚åˆ»\n    size: number;               // ãƒ‡ãƒ¼ã‚¿ã‚µã‚¤ã‚ºï¼ˆãƒã‚¤ãƒˆï¼‰\n    dependencies?: string[];    // ä¾å­˜é–¢ä¿‚ï¼ˆé–¢é€£ã‚¨ãƒ³ãƒˆãƒªï¼‰\n}\n\n// ã“ã®æ§‹é€ ã«ã‚ˆã‚Šä»¥ä¸‹ãŒå®Ÿç¾:\n// 1. äººæ°—åº¦ãƒ™ãƒ¼ã‚¹ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥æˆ¦ç•¥\n// 2. LRU (Least Recently Used) ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ \n// 3. ã‚µã‚¤ã‚ºãƒ™ãƒ¼ã‚¹ã®ãƒ¡ãƒ¢ãƒªç®¡ç†\n// 4. ä¾å­˜é–¢ä¿‚ã®é€£é–ç„¡åŠ¹åŒ–\n```\n\n### ãƒ‘ã‚¿ãƒ¼ãƒ³1: éšå±¤æ¨ªæ–­ã‚­ãƒ£ãƒƒã‚·ãƒ¥æ¤œç´¢\n\n```typescript\nasync getCachedOrFetch<T>(\n    key: string,\n    levels: MemoryLevel[],\n    fetchFn: () => Promise<T>\n): Promise<T> {\n    // éšå±¤ã‚’é †ã«æ¤œç´¢ï¼ˆSHORT â†’ MID â†’ LONGï¼‰\n    for (const level of levels) {\n        const cached = this.cache[level].get(key);\n\n        if (cached && !this.isExpired(cached)) {\n            // ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ’ãƒƒãƒˆ\n            this.updateAccessStats(cached);\n            return cached.value as T;\n        }\n    }\n\n    // ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒŸã‚¹: ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—\n    const value = await fetchFn();\n\n    // æœ€ã‚‚é©åˆ‡ãªéšå±¤ã«ã‚­ãƒ£ãƒƒã‚·ãƒ¥\n    const targetLevel = this.determineOptimalLevel(key, value);\n    this.set(key, value, targetLevel);\n\n    return value;\n}\n\nprivate determineOptimalLevel(key: string, value: any): MemoryLevel {\n    // ãƒ‡ãƒ¼ã‚¿ã®ç‰¹æ€§ã«åŸºã¥ã„ã¦æœ€é©ãªéšå±¤ã‚’åˆ¤æ–­\n    if (key.includes('chapter') && key.includes('current')) {\n        return MemoryLevel.SHORT_TERM;  // ç¾åœ¨ã®ç« ã¯çŸ­æœŸ\n    }\n    if (key.includes('arc') || key.includes('theme')) {\n        return MemoryLevel.MID_TERM;    // ã‚¢ãƒ¼ã‚¯ãƒ»ãƒ†ãƒ¼ãƒã¯ä¸­æœŸ\n    }\n    return MemoryLevel.LONG_TERM;       // ãã®ä»–ã¯é•·æœŸ\n}\n```\n\n### ãƒ‘ã‚¿ãƒ¼ãƒ³2: äºˆæ¸¬ã‚­ãƒ£ãƒƒã‚·ãƒ¥ï¼ˆPredictive Cachingï¼‰\n\næ¬¡ç« ç”Ÿæˆã«å¿…è¦ãªãƒ‡ãƒ¼ã‚¿ã‚’äº‹å‰ã«ãƒ—ãƒªãƒ­ãƒ¼ãƒ‰ï¼š\n\n```typescript\ninterface PreloadConfiguration {\n    chapterNumber: number;\n    preloadDepth: number;       // ä½•ç« å…ˆã¾ã§äºˆæ¸¬ã™ã‚‹ã‹\n    priorities: {\n        characters: number;     // 0.0ã€œ1.0ã®å„ªå…ˆåº¦\n        worldSettings: number;\n        narrativeState: number;\n        foreshadowing: number;\n    };\n}\n\nasync predictiveCache(\n    nextChapterNumber: number,\n    config?: PreloadConfiguration\n): Promise<PreloadResult> {\n    const preloadConfig: PreloadConfiguration = config || {\n        chapterNumber: nextChapterNumber,\n        preloadDepth: 3,  // 3ç« å…ˆã¾ã§äºˆæ¸¬\n        priorities: {\n            characters: 0.9,       // æœ€å„ªå…ˆ: é »ç¹ã«å‚ç…§ã•ã‚Œã‚‹\n            worldSettings: 0.8,    // é«˜å„ªå…ˆ: è¨­å®šã®æ•´åˆæ€§ãŒé‡è¦\n            narrativeState: 0.7,   // ä¸­å„ªå…ˆ: ç‰©èªã®æµã‚Œ\n            foreshadowing: 0.6     // ä½å„ªå…ˆ: å¿…è¦ã«å¿œã˜ã¦èª­ã¿è¾¼ã¿\n        }\n    };\n\n    // å„ªå…ˆåº¦é †ã«ãƒ—ãƒªãƒ­ãƒ¼ãƒ‰é …ç›®ã‚’ä½œæˆ\n    const preloadItems: PreloadItem[] = [\n        {\n            key: `characters-active-${nextChapterNumber}`,\n            priority: preloadConfig.priorities.characters,\n            estimatedSize: 50 * 1024  // 50KB\n        },\n        {\n            key: `world-settings-${nextChapterNumber}`,\n            priority: preloadConfig.priorities.worldSettings,\n            estimatedSize: 30 * 1024  // 30KB\n        },\n        // ...\n    ];\n\n    // å„ªå…ˆåº¦ã§ã‚½ãƒ¼ãƒˆ\n    preloadItems.sort((a, b) => b.priority - a.priority);\n\n    // ä¸¦åˆ—ãƒ—ãƒªãƒ­ãƒ¼ãƒ‰ï¼ˆæœ€å¤§5ä»¶ã¾ã§ï¼‰\n    const preloadPromises = preloadItems\n        .slice(0, 5)\n        .map(item => this.executePreload(item));\n\n    const results = await Promise.allSettled(preloadPromises);\n\n    return {\n        successful: results.filter(r => r.status === 'fulfilled').length,\n        failed: results.filter(r => r.status === 'rejected').length,\n        totalSize: this.calculateTotalCacheSize()\n    };\n}\n```\n\n### ãƒ‘ã‚¿ãƒ¼ãƒ³3: ã‚­ãƒ£ãƒƒã‚·ãƒ¥ç„¡åŠ¹åŒ–æˆ¦ç•¥\n\n```typescript\n// 1. æ™‚é–“ãƒ™ãƒ¼ã‚¹ç„¡åŠ¹åŒ–ï¼ˆTTLï¼‰\nprivate isExpired(entry: CacheEntry<any>): boolean {\n    return Date.now() > entry.timestamp + entry.ttl;\n}\n\n// 2. ä¾å­˜é–¢ä¿‚ãƒ™ãƒ¼ã‚¹ç„¡åŠ¹åŒ–\nasync invalidateDependencies(key: string): Promise<void> {\n    const entry = this.findEntry(key);\n    if (!entry || !entry.dependencies) return;\n\n    // ä¾å­˜ã™ã‚‹å…¨ã‚¨ãƒ³ãƒˆãƒªã‚’ç„¡åŠ¹åŒ–\n    for (const depKey of entry.dependencies) {\n        await this.invalidate(depKey);\n        // å†å¸°çš„ã«ä¾å­˜é–¢ä¿‚ã‚’è¿½è·¡\n        await this.invalidateDependencies(depKey);\n    }\n}\n\n// 3. ã‚¤ãƒ™ãƒ³ãƒˆãƒ™ãƒ¼ã‚¹ç„¡åŠ¹åŒ–\nasync onChapterCompleted(chapterNumber: number): Promise<void> {\n    // å®Œäº†ã—ãŸç« ã®çŸ­æœŸã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ã‚¯ãƒªã‚¢\n    const shortTermKeys = Array.from(this.cache[MemoryLevel.SHORT_TERM].keys())\n        .filter(key => key.includes(`chapter-${chapterNumber}`));\n\n    for (const key of shortTermKeys) {\n        await this.invalidate(key);\n    }\n\n    // ä¸­æœŸã‚­ãƒ£ãƒƒã‚·ãƒ¥ã«ç§»è¡Œ\n    await this.promoteToMidTerm(chapterNumber);\n}\n```\n\n### ãƒ‘ã‚¿ãƒ¼ãƒ³4: ãƒ¡ãƒ¢ãƒªåˆ¶é™ç®¡ç†\n\n```typescript\nprivate readonly MEMORY_LIMITS = {\n    [MemoryLevel.SHORT_TERM]: 100 * 1024 * 1024,  // 100MB\n    [MemoryLevel.MID_TERM]: 200 * 1024 * 1024,    // 200MB\n    [MemoryLevel.LONG_TERM]: 500 * 1024 * 1024    // 500MB\n};\n\nasync enforceMemoryLimits(level: MemoryLevel): Promise<void> {\n    const currentSize = this.calculateCacheSize(level);\n    const limit = this.MEMORY_LIMITS[level];\n\n    if (currentSize > limit) {\n        console.log(`Memory limit exceeded for ${level}: ${currentSize} > ${limit}`);\n        await this.evictLeastValuable(level, currentSize - limit);\n    }\n}\n\nprivate async evictLeastValuable(\n    level: MemoryLevel,\n    targetBytes: number\n): Promise<void> {\n    const entries = Array.from(this.cache[level].entries())\n        .map(([key, entry]) => ({\n            key,\n            entry,\n            // ä¾¡å€¤ã‚¹ã‚³ã‚¢: ã‚¢ã‚¯ã‚»ã‚¹é »åº¦ / ã‚µã‚¤ã‚º\n            value: entry.accessCount / entry.size\n        }))\n        .sort((a, b) => a.value - b.value);  // ä¾¡å€¤ã®ä½ã„é †\n\n    let evictedBytes = 0;\n    for (const { key } of entries) {\n        if (evictedBytes >= targetBytes) break;\n\n        const entry = this.cache[level].get(key);\n        if (entry) {\n            evictedBytes += entry.size;\n            this.cache[level].delete(key);\n        }\n    }\n\n    console.log(`Evicted ${evictedBytes} bytes from ${level}`);\n}\n```\n\n### ãƒ‘ã‚¿ãƒ¼ãƒ³5: ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚¦ã‚©ãƒ¼ãƒŸãƒ³ã‚°\n\nã‚·ã‚¹ãƒ†ãƒ èµ·å‹•æ™‚ã®äº‹å‰ãƒ­ãƒ¼ãƒ‰ï¼š\n\n```typescript\nasync warmupCache(novelState: NovelState): Promise<void> {\n    console.log('Starting cache warmup...');\n\n    const warmupTasks = [\n        // ä¸»è¦ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã‚’ãƒ—ãƒªãƒ­ãƒ¼ãƒ‰\n        this.preloadCharacters(novelState.mainCharacters),\n\n        // ä¸–ç•Œè¨­å®šã‚’ãƒ—ãƒªãƒ­ãƒ¼ãƒ‰\n        this.preloadWorldSettings(novelState.worldSettings),\n\n        // æœ€æ–°ã®ç« ã‚’ãƒ—ãƒªãƒ­ãƒ¼ãƒ‰\n        this.preloadRecentChapters(novelState.currentChapter, 5),\n\n        // ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãªä¼ç·šã‚’ãƒ—ãƒªãƒ­ãƒ¼ãƒ‰\n        this.preloadActiveForeshadowings()\n    ];\n\n    const results = await Promise.allSettled(warmupTasks);\n\n    const successful = results.filter(r => r.status === 'fulfilled').length;\n    console.log(`Cache warmup completed: ${successful}/${warmupTasks.length} successful`);\n}\n```\n\n## ãªãœã“ã®æ‰‹æ³•ã‚’ä½¿ã†ã‹\n\n**ç†ç”±1: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹300%å‘ä¸Š**\n- ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ’ãƒƒãƒˆç‡85%ä»¥ä¸Šã‚’é”æˆ\n- ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¢ã‚¯ã‚»ã‚¹ã‚’90%å‰Šæ¸›\n- ç« ç”Ÿæˆæ™‚é–“ã‚’3åˆ†ã®1ã«çŸ­ç¸®\n\n**ç†ç”±2: ãƒ¡ãƒ¢ãƒªåŠ¹ç‡ã®æœ€é©åŒ–**\n- éšå±¤åˆ¥ã®TTLã§ç„¡é§„ãªãƒ¡ãƒ¢ãƒªä½¿ç”¨ã‚’å‰Šæ¸›\n- ä¾¡å€¤ãƒ™ãƒ¼ã‚¹ã®é€€é¿ã§é‡è¦ãªãƒ‡ãƒ¼ã‚¿ã‚’ä¿æŒ\n- åˆè¨ˆãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡ã‚’800MBä»¥å†…ã«åˆ¶é™\n\n**ç†ç”±3: ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ã®å‘ä¸Š**\n- äºˆæ¸¬ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã§å¾…ã¡æ™‚é–“ã‚’å‰Šæ¸›\n- æ¬¡ç« ç”Ÿæˆã®é–‹å§‹ãŒå³åº§ã«å¯èƒ½\n- ã‚·ã‚¹ãƒ†ãƒ ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãŒä¸€è²«ã—ã¦é«˜é€Ÿ\n\n**ç†ç”±4: ã‚·ã‚¹ãƒ†ãƒ å®‰å®šæ€§ã®å‘ä¸Š**\n- ãƒ¡ãƒ¢ãƒªåˆ¶é™ã®å³æ ¼ãªç®¡ç†\n- æ®µéšçš„ãªé€€é¿ã§æ€¥æ¿€ãªæ€§èƒ½ä½ä¸‹ã‚’é˜²æ­¢\n- ä¾å­˜é–¢ä¿‚ã®é€£é–ç„¡åŠ¹åŒ–ã§æ•´åˆæ€§ã‚’ä¿è¨¼\n\n## å†ç¾æ–¹æ³•\n\n### ã‚¹ãƒ†ãƒƒãƒ—1: ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚³ãƒ¼ãƒ‡ã‚£ãƒãƒ¼ã‚¿ãƒ¼ã®åˆæœŸåŒ–\n\n```typescript\nimport { CacheCoordinator } from '@/lib/integration/cache-coordinator';\n\nconst cacheCoordinator = new CacheCoordinator({\n    memoryManager,\n    ttlConfig: {\n        shortTerm: 5 * 60 * 1000,\n        midTerm: 30 * 60 * 1000,\n        longTerm: 2 * 60 * 60 * 1000\n    },\n    memoryLimits: {\n        shortTerm: 100 * 1024 * 1024,\n        midTerm: 200 * 1024 * 1024,\n        longTerm: 500 * 1024 * 1024\n    },\n    enablePredictiveCache: true,\n    enableMetrics: true\n});\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2: åŸºæœ¬çš„ãªã‚­ãƒ£ãƒƒã‚·ãƒ¥ä½¿ç”¨\n\n```typescript\nasync function getCharacterWithCache(characterId: string): Promise<Character> {\n    return await cacheCoordinator.getCachedOrFetch(\n        `character-${characterId}`,\n        [MemoryLevel.SHORT_TERM, MemoryLevel.MID_TERM, MemoryLevel.LONG_TERM],\n        async () => {\n            // ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒŸã‚¹æ™‚ã®ãƒ‡ãƒ¼ã‚¿å–å¾—\n            const result = await memoryManager.unifiedSearch(\n                `character ${characterId}`,\n                [MemoryLevel.LONG_TERM]\n            );\n            return parseCharacter(result.entries[0]);\n        }\n    );\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3: äºˆæ¸¬ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®å®Ÿè£…\n\n```typescript\nasync function prepareForNextChapter(currentChapter: number): Promise<void> {\n    const nextChapter = currentChapter + 1;\n\n    // æ¬¡ç« ã«å¿…è¦ãªãƒ‡ãƒ¼ã‚¿ã‚’äºˆæ¸¬ãƒ—ãƒªãƒ­ãƒ¼ãƒ‰\n    const result = await cacheCoordinator.predictiveCache(nextChapter, {\n        chapterNumber: nextChapter,\n        preloadDepth: 3,\n        priorities: {\n            characters: 0.9,\n            worldSettings: 0.8,\n            narrativeState: 0.7,\n            foreshadowing: 0.6\n        }\n    });\n\n    console.log(`Preloaded ${result.successful} items for chapter ${nextChapter}`);\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—4: ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚¦ã‚©ãƒ¼ãƒŸãƒ³ã‚°ã®å®Ÿè£…\n\n```typescript\nasync function initializeSystem(novelState: NovelState): Promise<void> {\n    // ã‚·ã‚¹ãƒ†ãƒ èµ·å‹•æ™‚ã«ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ã‚¦ã‚©ãƒ¼ãƒ ã‚¢ãƒƒãƒ—\n    await cacheCoordinator.warmupCache(novelState);\n\n    // å®šæœŸçš„ãªãƒ¡ãƒˆãƒªã‚¯ã‚¹ç›£è¦–\n    setInterval(async () => {\n        const metrics = await cacheCoordinator.getMetrics();\n        console.log(`Cache hit rate: ${metrics.hitRate * 100}%`);\n        console.log(`Memory usage: ${metrics.totalSize / 1024 / 1024} MB`);\n    }, 60000);  // 1åˆ†ã”ã¨\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—5: ã‚¤ãƒ™ãƒ³ãƒˆãƒ™ãƒ¼ã‚¹ç„¡åŠ¹åŒ–\n\n```typescript\n// ãƒãƒ£ãƒ—ã‚¿ãƒ¼å®Œäº†æ™‚ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥æ›´æ–°\neventBus.on('chapter:completed', async (chapterNumber: number) => {\n    await cacheCoordinator.onChapterCompleted(chapterNumber);\n});\n\n// ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿å¤‰æ›´æ™‚ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚¯ãƒªã‚¢\neventBus.on('parameters:changed', async (params: any) => {\n    if (params.affectsGeneration) {\n        await cacheCoordinator.invalidateAll([MemoryLevel.SHORT_TERM]);\n    }\n});\n```\n\n## ã„ã¤ä½¿ã†ã‹\n\n- **ç« ç”Ÿæˆã®é«˜é€ŸåŒ–ãŒå¿…è¦ãªæ™‚**: äºˆæ¸¬ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã§å¾…ã¡æ™‚é–“ã‚’å‰Šæ¸›\n- **ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡ã‚’æœ€é©åŒ–ã™ã‚‹æ™‚**: éšå±¤åˆ¥TTLã¨ãƒ¡ãƒ¢ãƒªåˆ¶é™ã‚’è¨­å®š\n- **ã‚·ã‚¹ãƒ†ãƒ èµ·å‹•æ™‚**: ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚¦ã‚©ãƒ¼ãƒŸãƒ³ã‚°ã§åˆæœŸãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’å‘ä¸Š\n- **ãƒ‡ãƒ¼ã‚¿æ•´åˆæ€§ã‚’ä¿è¨¼ã™ã‚‹æ™‚**: ä¾å­˜é–¢ä¿‚ãƒ™ãƒ¼ã‚¹ã®ç„¡åŠ¹åŒ–ã‚’å®Ÿè£…\n- **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã‚’ç›£è¦–ã™ã‚‹æ™‚**: å®šæœŸçš„ãªãƒ¡ãƒˆãƒªã‚¯ã‚¹å–å¾—\n\n## æ³¨æ„ç‚¹\n\n**æ³¨æ„ç‚¹1: TTLã®èª¿æ•´**\n- ãƒ‡ãƒ¼ã‚¿ã®å¤‰æ›´é »åº¦ã«å¿œã˜ã¦TTLã‚’èª¿æ•´\n- çŸ­ã™ãã‚‹ã¨ã‚­ãƒ£ãƒƒã‚·ãƒ¥åŠ¹æœãŒè–„ã‚Œã‚‹\n- é•·ã™ãã‚‹ã¨å¤ã„ãƒ‡ãƒ¼ã‚¿ãŒæ®‹ã‚‹\n\n**æ³¨æ„ç‚¹2: ãƒ¡ãƒ¢ãƒªåˆ¶é™ã®ç›£è¦–**\n- å®šæœŸçš„ã«ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡ã‚’ç¢ºèª\n- åˆ¶é™ã«è¿‘ã¥ã„ãŸã‚‰è­¦å‘Šã‚’ç™ºè¡Œ\n- è‡ªå‹•é€€é¿ã®å‹•ä½œã‚’æ¤œè¨¼\n\n**æ³¨æ„ç‚¹3: äºˆæ¸¬ã®ç²¾åº¦**\n- ãƒ—ãƒªãƒ­ãƒ¼ãƒ‰ã®å„ªå…ˆåº¦ã‚’é©åˆ‡ã«è¨­å®š\n- ä¸è¦ãªãƒ—ãƒªãƒ­ãƒ¼ãƒ‰ã§ãƒ¡ãƒ¢ãƒªã‚’æµªè²»ã—ãªã„\n- å®Ÿéš›ã®ä½¿ç”¨ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’åˆ†æã—ã¦èª¿æ•´\n\n**æ³¨æ„ç‚¹4: ä¸¦åˆ—å‡¦ç†ã®åˆ¶é™**\n- ãƒ—ãƒªãƒ­ãƒ¼ãƒ‰ã¯æœ€å¤§5ä»¶ã¾ã§ä¸¦åˆ—å®Ÿè¡Œ\n- ãã‚Œä»¥ä¸Šã¯ãƒ¡ãƒ¢ãƒªã¨CPUã‚’åœ§è¿«\n- ãƒãƒƒã‚¯ãƒ—ãƒ¬ãƒƒã‚·ãƒ£ãƒ¼ã‚’è€ƒæ…®\n\n**æ³¨æ„ç‚¹5: ä¾å­˜é–¢ä¿‚ã®ç®¡ç†**\n- å¾ªç’°ä¾å­˜ã‚’é¿ã‘ã‚‹\n- ä¾å­˜é–¢ä¿‚ã‚°ãƒ©ãƒ•ã‚’å®šæœŸçš„ã«æ¤œè¨¼\n- æ·±ã™ãã‚‹ä¾å­˜ãƒã‚§ãƒ¼ãƒ³ã¯åˆ†å‰²\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `skill_memory_system_integration_2025_11_25.md`: MemoryManagerçµ±åˆãƒ‘ã‚¿ãƒ¼ãƒ³\n- `decision_why_cache_coordination_approach_2025_11_25.md`: ãªãœã“ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥æˆ¦ç•¥ã‚’é¸ã‚“ã ã‹\n- `skill_predictive_preloading_2025_11_25.md`: äºˆæ¸¬ãƒ—ãƒªãƒ­ãƒ¼ãƒ‰ã®è©³ç´°\n- `skill_quality_assurance_metrics_2025_11_25.md`: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã®è¿½è·¡\n",
    "prompt": "### ã‚¹ãƒ†ãƒƒãƒ—1: ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚³ãƒ¼ãƒ‡ã‚£ãƒãƒ¼ã‚¿ãƒ¼ã®åˆæœŸåŒ–\n\n```typescript\nimport { CacheCoordinator } from '@/lib/integration/cache-coordinator';\n\nconst cacheCoordinator = new CacheCoordinator({\n    memoryManager,\n    ttlConfig: {\n        shortTerm: 5 * 60 * 1000,\n        midTerm: 30 * 60 * 1000,\n        longTerm: 2 * 60 * 60 * 1000\n    },\n    memoryLimits: {\n        shortTerm: 100 * 1024 * 1024,\n        midTerm: 200 * 1024 * 1024,\n        longTerm: 500 * 1024 * 1024\n    },\n    enablePredictiveCache: true,\n    enableMetrics: true\n});\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2: åŸºæœ¬çš„ãªã‚­ãƒ£ãƒƒã‚·ãƒ¥ä½¿ç”¨\n\n```typescript\nasync function getCharacterWithCache(characterId: string): Promise<Character> {\n    return await cacheCoordinator.getCachedOrFetch(\n        `character-${characterId}`,\n        [MemoryLevel.SHORT_TERM, MemoryLevel.MID_TERM, MemoryLevel.LONG_TERM],\n        async () => {\n            // ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒŸã‚¹æ™‚ã®ãƒ‡ãƒ¼ã‚¿å–å¾—\n            const result = await memoryManager.unifiedSearch(\n                `character ${characterId}`,\n                [MemoryLevel.LONG_TERM]\n            );\n            return parseCharacter(result.entries[0]);\n        }\n    );\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3: äºˆæ¸¬ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®å®Ÿè£…\n\n```typescript\nasync function prepareForNextChapter(currentChapter: number): Promise<void> {\n    const nextChapter = currentChapter + 1;\n\n    // æ¬¡ç« ã«å¿…è¦ãªãƒ‡ãƒ¼ã‚¿ã‚’äºˆæ¸¬ãƒ—ãƒªãƒ­ãƒ¼ãƒ‰\n    const result = await cacheCoordinator.predictiveCache(nextChapter, {\n        chapterNumber: nextChapter,\n        preloadDepth: 3,\n        priorities: {\n            characters: 0.9,\n            worldSettings: 0.8,\n            narrativeState: 0.7,\n            foreshadowing: 0.6\n        }\n    });\n\n    console.log(`Preloaded ${result.successful} items for chapter ${nextChapter}`);\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—4: ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚¦ã‚©ãƒ¼ãƒŸãƒ³ã‚°ã®å®Ÿè£…\n\n```typescript\nasync function initializeSystem(novelState: NovelState): Promise<void> {\n    // ã‚·ã‚¹ãƒ†ãƒ èµ·å‹•æ™‚ã«ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ã‚¦ã‚©ãƒ¼ãƒ ã‚¢ãƒƒãƒ—\n    await cacheCoordinator.warmupCache(novelState);\n\n    // å®šæœŸçš„ãªãƒ¡ãƒˆãƒªã‚¯ã‚¹ç›£è¦–\n    setInterval(async () => {\n        const metrics = await cacheCoordinator.getMetrics();\n        console.log(`Cache hit rate: ${metrics.hitRate * 100}%`);\n        console.log(`Memory usage: ${metrics.totalSize / 1024 / 1024} MB`);\n    }, 60000);  // 1åˆ†ã”ã¨\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—5: ã‚¤ãƒ™ãƒ³ãƒˆãƒ™ãƒ¼ã‚¹ç„¡åŠ¹åŒ–\n\n```typescript\n// ãƒãƒ£ãƒ—ã‚¿ãƒ¼å®Œäº†æ™‚ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥æ›´æ–°\neventBus.on('chapter:completed', async (chapterNumber: number) => {\n    await cacheCoordinator.onChapterCompleted(chapterNumber);\n});\n\n// ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿å¤‰æ›´æ™‚ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚¯ãƒªã‚¢\neventBus.on('parameters:changed', async (params: any) => {\n    if (params.affectsGeneration) {\n        await cacheCoordinator.invalidateAll([MemoryLevel.SHORT_TERM]);\n    }\n});\n```",
    "relatedTech": [
      "skill-memory-system-integration",
      "decision-why-cache-coordination-approach",
      "skill-predictive-preloading"
    ]
  },
  {
    "slug": "cache-stats-introspection",
    "title": "ã‚­ãƒ£ãƒƒã‚·ãƒ¥çµ±è¨ˆå–å¾—é–¢æ•°",
    "category": "Skillsï¼ˆã‚¹ã‚­ãƒ«ãƒ»æ‰‹æ³•ï¼‰",
    "description": "ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®ãƒ’ãƒƒãƒˆç‡ãƒ»ã‚¨ãƒ³ãƒˆãƒªæ•°ãƒ»ã‚µã‚¤ã‚ºã‚’å–å¾—ã—ã€ã‚­ãƒ£ãƒƒã‚·ãƒ¥æˆ¦ç•¥ã®åŠ¹æœã‚’åˆ†æã™ã‚‹ã€‚",
    "project": "yumesuta-management-system",
    "usedIn": [
      "lib/google-sheets.ts:90-121"
    ],
    "code": "```json\n{\n  \"id\": \"skill_cache_stats_introspection_2025_11_24\",\n  \"type\": \"skill\",\n  \"name\": \"ã‚­ãƒ£ãƒƒã‚·ãƒ¥çµ±è¨ˆå–å¾—é–¢æ•°\",\n  \"tags\": [\"ã‚­ãƒ£ãƒƒã‚·ãƒ¥\", \"çµ±è¨ˆ\", \"ã‚¤ãƒ³ãƒˆãƒ­ã‚¹ãƒšã‚¯ã‚·ãƒ§ãƒ³\", \"ãƒ‡ãƒãƒƒã‚°\", \"ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹\"],\n  \"source_project\": \"yumesuta-management-system\",\n  \"source_file\": \"lib/google-sheets.ts:90-121\",\n  \"related_knowledge\": [\"skill_google_sheets_cache_implementation_2025_11_24\", \"decision_cache_5min_ttl_strategy_2025_11_24\"],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-24\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# ã‚­ãƒ£ãƒƒã‚·ãƒ¥çµ±è¨ˆå–å¾—é–¢æ•°\n\n## ä½•ã‚’ã™ã‚‹ã‚¹ã‚­ãƒ«ã‹\n\nã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®ãƒ’ãƒƒãƒˆç‡ãƒ»ã‚¨ãƒ³ãƒˆãƒªæ•°ãƒ»ã‚µã‚¤ã‚ºã‚’å–å¾—ã—ã€ã‚­ãƒ£ãƒƒã‚·ãƒ¥æˆ¦ç•¥ã®åŠ¹æœã‚’åˆ†æã™ã‚‹ã€‚\n\n## å…·ä½“çš„ãªæ‰‹æ³•\n\n```typescript\n// lib/google-sheets.ts\n\nconst cache = new Map<string, CacheEntry>();\n\nexport function getCacheStats() {\n  return {\n    size: cache.size,\n    keys: Array.from(cache.keys()),\n    entries: Array.from(cache.entries()).map(([key, entry]) => ({\n      key,\n      timestamp: new Date(entry.timestamp).toISOString(),\n      age: Date.now() - entry.timestamp,\n      dataSize: JSON.stringify(entry.data).length,\n    })),\n  };\n}\n\nexport function clearCache(): void {\n  cache.clear();\n  console.log('ğŸ—‘ï¸ Cache cleared');\n}\n```\n\n## å†ç¾æ–¹æ³•\n\n```typescript\n// API Routeã§ã‚­ãƒ£ãƒƒã‚·ãƒ¥çµ±è¨ˆã‚’ç¢ºèª\nimport { getCacheStats } from '@/lib/google-sheets';\n\nexport async function GET() {\n  const stats = getCacheStats();\n  console.log('Cache stats:', stats);\n  // { size: 5, keys: [...], entries: [...] }\n\n  return NextResponse.json({ success: true, stats });\n}\n```\n\n## ã„ã¤ä½¿ã†ã‹\n\n- ã‚­ãƒ£ãƒƒã‚·ãƒ¥æˆ¦ç•¥ã®åŠ¹æœåˆ†æ\n- ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ’ãƒƒãƒˆç‡ã®æ¸¬å®š\n- ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡ã®ç›£è¦–\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `skill_google_sheets_cache_implementation_2025_11_24.md` - 5åˆ†TTLã‚­ãƒ£ãƒƒã‚·ãƒ¥å®Ÿè£…\n- `decision_cache_5min_ttl_strategy_2025_11_24.md` - 5åˆ†TTLã‚­ãƒ£ãƒƒã‚·ãƒ¥æˆ¦ç•¥\n",
    "prompt": "```typescript\n// API Routeã§ã‚­ãƒ£ãƒƒã‚·ãƒ¥çµ±è¨ˆã‚’ç¢ºèª\nimport { getCacheStats } from '@/lib/google-sheets';\n\nexport async function GET() {\n  const stats = getCacheStats();\n  console.log('Cache stats:', stats);\n  // { size: 5, keys: [...], entries: [...] }\n\n  return NextResponse.json({ success: true, stats });\n}\n```",
    "relatedTech": [
      "skill-google-sheets-cache-implementation",
      "decision-cache-5min-ttl-strategy"
    ]
  },
  {
    "slug": "caption-formatting-instagram-rules",
    "title": "Instagram ã‚­ãƒ£ãƒ—ã‚·ãƒ§ãƒ³ ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆãƒ«ãƒ¼ãƒ«",
    "category": "Skillsï¼ˆã‚¹ã‚­ãƒ«ãƒ»æ‰‹æ³•ï¼‰",
    "description": "**AIç”Ÿæˆã•ã‚ŒãŸã‚­ãƒ£ãƒ—ã‚·ãƒ§ãƒ³ã‚’ Instagram ã®è¡¨ç¤ºãƒ«ãƒ¼ãƒ«ã«å¾“ã£ã¦æ­£ã—ããƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã™ã‚‹æŠ€è¡“ã€‚**",
    "project": "instagram-post-generator",
    "usedIn": [
      "app/services/geminiService.ts:350-450"
    ],
    "code": "```json\n{\n  \"id\": \"skill_caption_formatting_instagram_rules_2025_11_25\",\n  \"type\": \"skill\",\n  \"name\": \"Instagram ã‚­ãƒ£ãƒ—ã‚·ãƒ§ãƒ³ ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆãƒ«ãƒ¼ãƒ«\",\n  \"tags\": [\"Instagram\", \"ã‚­ãƒ£ãƒ—ã‚·ãƒ§ãƒ³\", \"ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ\", \"Markdownå‰Šé™¤\", \"æ”¹è¡Œä¿æŒ\"],\n  \"source_project\": \"instagram-post-generator\",\n  \"source_file\": \"app/services/geminiService.ts:350-450\",\n  \"difficulty\": \"beginner\",\n  \"related_knowledge\": [\n    \"skill_five_stage_ai_pipeline_2025_11_25\"\n  ],\n  \"prerequisites\": [\"æ­£è¦è¡¨ç¾\", \"æ–‡å­—åˆ—å‡¦ç†\"],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11_25\"\n}\n```\n\n# Instagram ã‚­ãƒ£ãƒ—ã‚·ãƒ§ãƒ³ ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆãƒ«ãƒ¼ãƒ«\n\n## ä½•ã‚’ã™ã‚‹ã‚¹ã‚­ãƒ«ã‹\n\n**AIç”Ÿæˆã•ã‚ŒãŸã‚­ãƒ£ãƒ—ã‚·ãƒ§ãƒ³ã‚’ Instagram ã®è¡¨ç¤ºãƒ«ãƒ¼ãƒ«ã«å¾“ã£ã¦æ­£ã—ããƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã™ã‚‹æŠ€è¡“ã€‚**\n\nMarkdownè¨˜æ³•å‰Šé™¤ã€çµµæ–‡å­—åˆ¶é™ã€æ”¹è¡Œä¿æŒã€ãƒ—ãƒ­ãƒ•ã‚§ãƒƒã‚·ãƒ§ãƒŠãƒ«ãƒˆãƒ¼ãƒ³å¼·åˆ¶ã‚’è‡ªå‹•é©ç”¨ã€‚\n\n---\n\n## å…·ä½“çš„ãªæ‰‹æ³•\n\n### ãƒ«ãƒ¼ãƒ«1: Markdownè¨˜æ³•ã®å‰Šé™¤\n\n**å•é¡Œ**: AI ãŒ Markdown ã‚’ä½¿ç”¨ã—ã¦ã—ã¾ã†\n\n```typescript\n// AIç”Ÿæˆã®ã‚­ãƒ£ãƒ—ã‚·ãƒ§ãƒ³ï¼ˆMarkdownå«ã‚€ï¼‰\nconst aiGenerated = `\n**ã€ã‚­ãƒ£ãƒªã‚¢ã«æ‚©ã‚€ã‚ãªãŸã¸ã€‘**\n\n*3ã¤ã®è¦–ç‚¹*ã§æ•´ç†ã™ã‚Œã°ã€è¦‹ãˆã¦ãã‚‹ã‚‚ã®ãŒã‚ã‚‹ã€‚\n\n- è‡ªå·±åˆ†æ\n- å¸‚å ´èª¿æŸ»\n- ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒ—ãƒ©ãƒ³\n\nè©³ã—ãã¯â†’ [ã“ã¡ã‚‰](#link)\n`\n```\n\n**è§£æ±º**: Markdownè¨˜æ³•ã‚’å‰Šé™¤\n\n```typescript\nfunction removeMarkdown(text: string): string {\n  return text\n    .replace(/\\*\\*(.+?)\\*\\*/g, '$1')  // **bold** â†’ bold\n    .replace(/\\*(.+?)\\*/g, '$1')       // *italic* â†’ italic\n    .replace(/__(.+?)__/g, '$1')       // __bold__ â†’ bold\n    .replace(/_(.+?)_/g, '$1')         // _italic_ â†’ italic\n    .replace(/\\[(.+?)\\]\\(.+?\\)/g, '$1') // [text](url) â†’ text\n    .replace(/^#+\\s+/gm, '')           // # heading â†’ heading\n    .replace(/^-\\s+/gm, '')            // - list â†’ list\n    .replace(/^\\*\\s+/gm, '')           // * list â†’ list\n}\n\n// çµæœ\nconst formatted = removeMarkdown(aiGenerated)\n// â†’\n// ã€ã‚­ãƒ£ãƒªã‚¢ã«æ‚©ã‚€ã‚ãªãŸã¸ã€‘\n//\n// 3ã¤ã®è¦–ç‚¹ã§æ•´ç†ã™ã‚Œã°ã€è¦‹ãˆã¦ãã‚‹ã‚‚ã®ãŒã‚ã‚‹ã€‚\n//\n// è‡ªå·±åˆ†æ\n// å¸‚å ´èª¿æŸ»\n// ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒ—ãƒ©ãƒ³\n//\n// è©³ã—ãã¯â†’ ã“ã¡ã‚‰\n```\n\n### ãƒ«ãƒ¼ãƒ«2: çµµæ–‡å­—ã®åˆ¶é™\n\n**ãƒ«ãƒ¼ãƒ«**: âœ… ãƒã‚§ãƒƒã‚¯ãƒãƒ¼ã‚¯ã®ã¿è¨±å¯ã€ãã®ä»–ã®çµµæ–‡å­—ã¯å‰Šé™¤\n\n```typescript\nfunction limitEmojis(text: string): string {\n  // âœ… ã®ã¿ä¿æŒã€ä»–ã®çµµæ–‡å­—ã‚’å‰Šé™¤\n  const checkmark = /âœ…/g\n  const otherEmojis = /[\\u{1F300}-\\u{1F9FF}]/gu\n\n  // âœ… ã‚’ä¸€æ™‚çš„ã«ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼ã«ç½®æ›\n  let result = text.replace(checkmark, '__CHECKMARK__')\n\n  // ä»–ã®çµµæ–‡å­—ã‚’å‰Šé™¤\n  result = result.replace(otherEmojis, '')\n\n  // âœ… ã‚’å¾©å…ƒ\n  result = result.replace(/__CHECKMARK__/g, 'âœ…')\n\n  return result\n}\n\n// ä¾‹\nconst withEmojis = 'ã€ã‚ãªãŸã®ã‚­ãƒ£ãƒªã‚¢âœ¨ã€‘\\nâœ… è‡ªå·±åˆ†æ\\nğŸ”¥ å¸‚å ´èª¿æŸ»\\nğŸ’¡ ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒ—ãƒ©ãƒ³'\nconst limited = limitEmojis(withEmojis)\n// â†’ ã€ã‚ãªãŸã®ã‚­ãƒ£ãƒªã‚¢ã€‘\\nâœ… è‡ªå·±åˆ†æ\\n å¸‚å ´èª¿æŸ»\\n ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒ—ãƒ©ãƒ³\n```\n\n**ç†ç”±**: ãƒ—ãƒ­ãƒ•ã‚§ãƒƒã‚·ãƒ§ãƒŠãƒ«ãªãƒˆãƒ¼ãƒ³ç¶­æŒ\n\n### ãƒ«ãƒ¼ãƒ«3: æ”¹è¡Œã®ä¿æŒ\n\n**é‡è¦**: Instagram ã§ã¯æ”¹è¡ŒãŒé‡è¦ï¼ˆå¯èª­æ€§ï¼‰\n\n```typescript\nfunction preserveLineBreaks(text: string): string {\n  // é€£ç¶šã™ã‚‹æ”¹è¡Œï¼ˆ3ã¤ä»¥ä¸Šï¼‰ã‚’2ã¤ã«åˆ¶é™\n  return text.replace(/\\n{3,}/g, '\\n\\n')\n}\n\n// ä¾‹\nconst multipleBreaks = 'è¡Œ1\\n\\n\\n\\n\\nè¡Œ2'\nconst preserved = preserveLineBreaks(multipleBreaks)\n// â†’ 'è¡Œ1\\n\\nè¡Œ2'\n```\n\n### ãƒ«ãƒ¼ãƒ«4: ãƒ—ãƒ­ãƒ•ã‚§ãƒƒã‚·ãƒ§ãƒŠãƒ«ãƒˆãƒ¼ãƒ³å¼·åˆ¶\n\n**AIã¸ã®ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆæŒ‡ç¤º**:\n\n```typescript\nconst captionPrompt = `\nä»¥ä¸‹ã®InstagramæŠ•ç¨¿ã®ã‚­ãƒ£ãƒ—ã‚·ãƒ§ãƒ³ã‚’ç”Ÿæˆã—ã¦ãã ã•ã„ã€‚\n\nã€é‡è¦ãªãƒ«ãƒ¼ãƒ«ã€‘\n1. Markdownè¨˜æ³•ã¯ä½¿ç”¨ã—ãªã„ï¼ˆ**bold**, *italic*, # heading ç­‰ï¼‰\n2. çµµæ–‡å­—ã¯ âœ… ã®ã¿ä½¿ç”¨å¯èƒ½\n3. ãƒ—ãƒ­ãƒ•ã‚§ãƒƒã‚·ãƒ§ãƒŠãƒ«ãªãƒˆãƒ¼ãƒ³ã‚’ç¶­æŒ\n4. æ”¹è¡Œã‚’é©åˆ‡ã«ä½¿ç”¨ï¼ˆèª­ã¿ã‚„ã™ã•å„ªå…ˆï¼‰\n5. 100-150æ–‡å­—ç¨‹åº¦\n\nã€ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã€‘\n${content}\n\nã€å‡ºåŠ›ä¾‹ã€‘\nã€ã‚ãªãŸã®ã‚­ãƒ£ãƒªã‚¢ã€æœ¬å½“ã«è¿·ã£ã¦ã‚‹ï¼Ÿã€‘\n\n3ã¤ã®è¦–ç‚¹ã§æ•´ç†ã™ã‚Œã°ã€è¦‹ãˆã¦ãã‚‹ã‚‚ã®ãŒã‚ã‚‹\n\nè©³ã—ãã¯ç”»åƒã‚’ã‚¹ãƒ¯ã‚¤ãƒ—\n`\n```\n\n### ãƒ«ãƒ¼ãƒ«5: é•·ã•åˆ¶é™\n\n**Instagram ã‚­ãƒ£ãƒ—ã‚·ãƒ§ãƒ³åˆ¶é™**: æœ€å¤§2,200æ–‡å­—\n\n```typescript\nfunction limitCaptionLength(text: string, maxLength: number = 2200): string {\n  if (text.length <= maxLength) {\n    return text\n  }\n\n  // maxLengthä»¥å†…ã«åˆ‡ã‚Šè©°ã‚ã€æœ€å¾Œã®å®Œå…¨ãªæ–‡ã§çµ‚ã‚ã‚‹\n  const truncated = text.substring(0, maxLength)\n  const lastPeriod = truncated.lastIndexOf('ã€‚')\n  const lastNewline = truncated.lastIndexOf('\\n')\n\n  const cutPoint = Math.max(lastPeriod, lastNewline)\n\n  if (cutPoint > 0) {\n    return truncated.substring(0, cutPoint + 1)\n  }\n\n  return truncated + '...'\n}\n```\n\n### å®Œå…¨ãªãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆé–¢æ•°\n\n```typescript\n// app/services/captionFormatter.ts\nexport function formatInstagramCaption(rawCaption: string): string {\n  let formatted = rawCaption\n\n  // Step 1: Markdownå‰Šé™¤\n  formatted = removeMarkdown(formatted)\n\n  // Step 2: çµµæ–‡å­—åˆ¶é™ï¼ˆâœ…ã®ã¿ï¼‰\n  formatted = limitEmojis(formatted)\n\n  // Step 3: æ”¹è¡Œã®æ­£è¦åŒ–\n  formatted = preserveLineBreaks(formatted)\n\n  // Step 4: å…ˆé ­ãƒ»æœ«å°¾ã®ç©ºç™½å‰Šé™¤\n  formatted = formatted.trim()\n\n  // Step 5: é•·ã•åˆ¶é™\n  formatted = limitCaptionLength(formatted, 2200)\n\n  return formatted\n}\n\n// ä½¿ç”¨ä¾‹\nconst aiCaption = gemini.generateCaption(content)\nconst instagramReady = formatInstagramCaption(aiCaption)\n```\n\n---\n\n## ãªãœã“ã®ã‚¹ã‚­ãƒ«ãŒé‡è¦ã‹\n\n### ç†ç”±1: Instagramè¡¨ç¤ºã®æ­£ç¢ºæ€§\n\n**Markdown ãŒæ®‹ã‚‹å ´åˆ**:\n```\nInstagramè¡¨ç¤º:\n**ã€ã‚­ãƒ£ãƒªã‚¢ã«æ‚©ã‚€ã‚ãªãŸã¸ã€‘**\n\nâ†’ ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒè¦‹ã‚‹: **ã€ã‚­ãƒ£ãƒªã‚¢ã«æ‚©ã‚€ã‚ãªãŸã¸ã€‘**ï¼ˆãã®ã¾ã¾è¡¨ç¤ºï¼‰\nâ†’ ãƒ—ãƒ­ãƒ•ã‚§ãƒƒã‚·ãƒ§ãƒŠãƒ«ã§ãªã„\n```\n\n**Markdownå‰Šé™¤å¾Œ**:\n```\nInstagramè¡¨ç¤º:\nã€ã‚­ãƒ£ãƒªã‚¢ã«æ‚©ã‚€ã‚ãªãŸã¸ã€‘\n\nâ†’ ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒè¦‹ã‚‹: ã€ã‚­ãƒ£ãƒªã‚¢ã«æ‚©ã‚€ã‚ãªãŸã¸ã€‘ï¼ˆæ„å›³é€šã‚Šï¼‰\nâ†’ ã‚¯ãƒªãƒ¼ãƒ³\n```\n\n### ç†ç”±2: ãƒ–ãƒ©ãƒ³ãƒ‰ãƒˆãƒ¼ãƒ³ã®ä¸€è²«æ€§\n\n**çµµæ–‡å­—å¤šç”¨ã®å•é¡Œ**:\n```\nâŒ ã€ã‚ãªãŸã®ã‚­ãƒ£ãƒªã‚¢âœ¨ğŸ”¥ğŸ’¡ã€‘\n   â†’ ã‚«ã‚¸ãƒ¥ã‚¢ãƒ«ã™ãã€ãƒ—ãƒ­ãƒ•ã‚§ãƒƒã‚·ãƒ§ãƒŠãƒ«ã§ãªã„\n\nâœ… ã€ã‚ãªãŸã®ã‚­ãƒ£ãƒªã‚¢ã€‘\n   âœ… è‡ªå·±åˆ†æ\n   âœ… å¸‚å ´èª¿æŸ»\n   â†’ ãƒ—ãƒ­ãƒ•ã‚§ãƒƒã‚·ãƒ§ãƒŠãƒ«ã€ä¿¡é ¼æ„Ÿ\n```\n\n### ç†ç”±3: AIã®å­¦ç¿’ã‚³ã‚¹ãƒˆå‰Šæ¸›\n\n**ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã§ã®æŒ‡ç¤º**:\n```typescript\n// âŒ æ¯å›è©³ç´°ã«æŒ‡ç¤º\nconst prompt = `\nMarkdownä½¿ã‚ãªã„ã§\nçµµæ–‡å­—ã¯âœ…ã ã‘\næ”¹è¡Œã¯é©åˆ‡ã«\n...ï¼ˆé•·ã„æŒ‡ç¤ºï¼‰\n`\n\n// âœ… ç”Ÿæˆå¾Œã«ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ\nconst caption = await ai.generateCaption(content)\nconst formatted = formatInstagramCaption(caption)\n// â†’ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã¯ã‚·ãƒ³ãƒ—ãƒ«ã€å¾Œå‡¦ç†ã§ä¿è¨¼\n```\n\n---\n\n## å†ç¾æ–¹æ³•\n\n### å®Œå…¨ãªå®Ÿè£…\n\n```typescript\n// app/services/captionFormatter.ts\n\n/**\n * Markdownè¨˜æ³•ã‚’å‰Šé™¤\n */\nfunction removeMarkdown(text: string): string {\n  return text\n    .replace(/\\*\\*(.+?)\\*\\*/g, '$1')    // **bold**\n    .replace(/\\*(.+?)\\*/g, '$1')         // *italic*\n    .replace(/__(.+?)__/g, '$1')         // __bold__\n    .replace(/_(.+?)_/g, '$1')           // _italic_\n    .replace(/~~(.+?)~~/g, '$1')         // ~~strikethrough~~\n    .replace(/\\[(.+?)\\]\\(.+?\\)/g, '$1') // [text](url)\n    .replace(/^#+\\s+/gm, '')            // # heading\n    .replace(/^>\\s+/gm, '')             // > blockquote\n    .replace(/^[-*]\\s+/gm, '')          // - list\n    .replace(/^\\d+\\.\\s+/gm, '')         // 1. numbered list\n    .replace(/`(.+?)`/g, '$1')          // `code`\n}\n\n/**\n * çµµæ–‡å­—ã‚’âœ…ã®ã¿ã«åˆ¶é™\n */\nfunction limitEmojis(text: string): string {\n  const checkmark = /âœ…/g\n  const otherEmojis = /[\\u{1F300}-\\u{1F9FF}\\u{2600}-\\u{26FF}\\u{2700}-\\u{27BF}]/gu\n\n  let result = text.replace(checkmark, '__CHECKMARK__')\n  result = result.replace(otherEmojis, '')\n  result = result.replace(/__CHECKMARK__/g, 'âœ…')\n\n  return result\n}\n\n/**\n * æ”¹è¡Œã‚’æ­£è¦åŒ–\n */\nfunction preserveLineBreaks(text: string): string {\n  // é€£ç¶šã™ã‚‹æ”¹è¡Œã‚’2ã¤ã¾ã§ã«åˆ¶é™\n  return text.replace(/\\n{3,}/g, '\\n\\n')\n}\n\n/**\n * ã‚­ãƒ£ãƒ—ã‚·ãƒ§ãƒ³ã®é•·ã•ã‚’åˆ¶é™\n */\nfunction limitCaptionLength(text: string, maxLength: number = 2200): string {\n  if (text.length <= maxLength) {\n    return text\n  }\n\n  const truncated = text.substring(0, maxLength)\n  const lastPeriod = truncated.lastIndexOf('ã€‚')\n  const lastNewline = truncated.lastIndexOf('\\n')\n  const cutPoint = Math.max(lastPeriod, lastNewline)\n\n  if (cutPoint > maxLength - 100) {\n    return truncated.substring(0, cutPoint + 1)\n  }\n\n  return truncated + '...'\n}\n\n/**\n * Instagram ã‚­ãƒ£ãƒ—ã‚·ãƒ§ãƒ³ã‚’ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ\n */\nexport function formatInstagramCaption(rawCaption: string): string {\n  let formatted = rawCaption\n\n  // 1. Markdownå‰Šé™¤\n  formatted = removeMarkdown(formatted)\n\n  // 2. çµµæ–‡å­—åˆ¶é™\n  formatted = limitEmojis(formatted)\n\n  // 3. æ”¹è¡Œæ­£è¦åŒ–\n  formatted = preserveLineBreaks(formatted)\n\n  // 4. å‰å¾Œã®ç©ºç™½å‰Šé™¤\n  formatted = formatted.trim()\n\n  // 5. é•·ã•åˆ¶é™\n  formatted = limitCaptionLength(formatted)\n\n  console.log('ğŸ“ Caption formatted:', {\n    original_length: rawCaption.length,\n    formatted_length: formatted.length,\n    removed_markdown: rawCaption !== removeMarkdown(rawCaption),\n    removed_emojis: rawCaption !== limitEmojis(rawCaption)\n  })\n\n  return formatted\n}\n\n/**\n * ã‚­ãƒ£ãƒ—ã‚·ãƒ§ãƒ³ç”Ÿæˆã¨ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã®çµ±åˆ\n */\nexport async function generateAndFormatCaption(\n  content: string,\n  geminiService: GeminiService\n): Promise<string> {\n  // AIç”Ÿæˆ\n  const rawCaption = await geminiService.generateCaption(content)\n\n  // ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ\n  const formatted = formatInstagramCaption(rawCaption)\n\n  return formatted\n}\n```\n\n---\n\n## ã„ã¤ä½¿ã†ã‹\n\n### ä½¿ã†ã¹ãå ´é¢\n\n1. **AIç”Ÿæˆãƒ†ã‚­ã‚¹ãƒˆã®å¾Œå‡¦ç†**\n   - ã‚­ãƒ£ãƒ—ã‚·ãƒ§ãƒ³ç”Ÿæˆ\n   - ã‚³ãƒ¡ãƒ³ãƒˆç”Ÿæˆ\n   - ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ç”Ÿæˆ\n\n2. **ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ å›ºæœ‰ã®ãƒ«ãƒ¼ãƒ«é©ç”¨**\n   - Instagram: Markdownä¸å¯\n   - Twitter: 280æ–‡å­—åˆ¶é™\n   - Facebook: ãƒªãƒ³ã‚¯è‡ªå‹•å±•é–‹\n\n3. **ãƒ–ãƒ©ãƒ³ãƒ‰ãƒˆãƒ¼ãƒ³çµ±ä¸€**\n   - çµµæ–‡å­—ã®ä½¿ç”¨ãƒ«ãƒ¼ãƒ«\n   - ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆãƒ«ãƒ¼ãƒ«\n   - èªèª¿ã®çµ±ä¸€\n\n---\n\n## æ³¨æ„ç‚¹\n\n### æ³¨æ„ç‚¹1: éå‰°ãªå‰Šé™¤ã‚’é¿ã‘ã‚‹\n\n**å•é¡Œ**: å¿…è¦ãªè¨˜å·ã¾ã§å‰Šé™¤\n\n```typescript\n// âŒ éå‰°å‰Šé™¤\ntext.replace(/[*_#\\[\\]()]/g, '')  // ã™ã¹ã¦å‰Šé™¤\n\n// âœ… é¸æŠçš„å‰Šé™¤\ntext.replace(/\\*\\*(.+?)\\*\\*/g, '$1')  // Markdownã®ã¿å‰Šé™¤ã€é€šå¸¸ã®*ã¯ä¿æŒ\n```\n\n### æ³¨æ„ç‚¹2: ãƒ¦ãƒ¼ã‚¶ãƒ¼ç·¨é›†ã‚’å¦¨ã’ãªã„\n\n**åŸå‰‡**: ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆå¾Œã‚‚ç·¨é›†å¯èƒ½ã«\n\n```typescript\n// ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã¯ã‚µãƒ¼ãƒãƒ¼å´ã¾ãŸã¯ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰æ™‚ã®ã¿\n// ç·¨é›†ä¸­ã¯å…ƒã®ãƒ†ã‚­ã‚¹ãƒˆã‚’ä¿æŒ\n```\n\n### æ³¨æ„ç‚¹3: å®šæœŸçš„ãªãƒ«ãƒ¼ãƒ«æ›´æ–°\n\nInstagram ã®ä»•æ§˜å¤‰æ›´ã«å¯¾å¿œ:\n```typescript\n// 2025-11: âœ… ã®ã¿è¨±å¯\n// å°†æ¥: ä»–ã®çµµæ–‡å­—ã‚‚è¨±å¯ã•ã‚Œã‚‹å¯èƒ½æ€§\n// â†’ ãƒ«ãƒ¼ãƒ«ã‚’å®šæœŸçš„ã«ãƒ¬ãƒ“ãƒ¥ãƒ¼\n```\n\n---\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- **skill_five_stage_ai_pipeline_2025_11_25.md**: Stage 3 ã‚­ãƒ£ãƒ—ã‚·ãƒ§ãƒ³ç”Ÿæˆ\n\n---\n\n**Instagram ã‚­ãƒ£ãƒ—ã‚·ãƒ§ãƒ³ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆãƒ«ãƒ¼ãƒ«ã¯ã€AIç”Ÿæˆãƒ†ã‚­ã‚¹ãƒˆã‚’ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ä»•æ§˜ã«é©åˆã•ã›ã€ãƒ—ãƒ­ãƒ•ã‚§ãƒƒã‚·ãƒ§ãƒŠãƒ«ãªãƒˆãƒ¼ãƒ³ã‚’ç¶­æŒã™ã‚‹é‡è¦ãªã‚¹ã‚­ãƒ«ã§ã‚ã‚‹ã€‚**\n",
    "prompt": "### å®Œå…¨ãªå®Ÿè£…\n\n```typescript\n// app/services/captionFormatter.ts\n\n/**\n * Markdownè¨˜æ³•ã‚’å‰Šé™¤\n */\nfunction removeMarkdown(text: string): string {\n  return text\n    .replace(/\\*\\*(.+?)\\*\\*/g, '$1')    // **bold**\n    .replace(/\\*(.+?)\\*/g, '$1')         // *italic*\n    .replace(/__(.+?)__/g, '$1')         // __bold__\n    .replace(/_(.+?)_/g, '$1')           // _italic_\n    .replace(/~~(.+?)~~/g, '$1')         // ~~strikethrough~~\n    .replace(/\\[(.+?)\\]\\(.+?\\)/g, '$1') // [text](url)\n    .replace(/^#+\\s+/gm, '')            // # heading\n    .replace(/^>\\s+/gm, '')             // > blockquote\n    .replace(/^[-*]\\s+/gm, '')          // - list\n    .replace(/^\\d+\\.\\s+/gm, '')         // 1. numbered list\n    .replace(/`(.+?)`/g, '$1')          // `code`\n}\n\n/**\n * çµµæ–‡å­—ã‚’âœ…ã®ã¿ã«åˆ¶é™\n */\nfunction limitEmojis(text: string): string {\n  const checkmark = /âœ…/g\n  const otherEmojis = /[\\u{1F300}-\\u{1F9FF}\\u{2600}-\\u{26FF}\\u{2700}-\\u{27BF}]/gu\n\n  let result = text.replace(checkmark, '__CHECKMARK__')\n  result = result.replace(otherEmojis, '')\n  result = result.replace(/__CHECKMARK__/g, 'âœ…')\n\n  return result\n}\n\n/**\n * æ”¹è¡Œã‚’æ­£è¦åŒ–\n */\nfunction preserveLineBreaks(text: string): string {\n  // é€£ç¶šã™ã‚‹æ”¹è¡Œã‚’2ã¤ã¾ã§ã«åˆ¶é™\n  return text.replace(/\\n{3,}/g, '\\n\\n')\n}\n\n/**\n * ã‚­ãƒ£ãƒ—ã‚·ãƒ§ãƒ³ã®é•·ã•ã‚’åˆ¶é™\n */\nfunction limitCaptionLength(text: string, maxLength: number = 2200): string {\n  if (text.length <= maxLength) {\n    return text\n  }\n\n  const truncated = text.substring(0, maxLength)\n  const lastPeriod = truncated.lastIndexOf('ã€‚')\n  const lastNewline = truncated.lastIndexOf('\\n')\n  const cutPoint = Math.max(lastPeriod, lastNewline)\n\n  if (cutPoint > maxLength - 100) {\n    return truncated.substring(0, cutPoint + 1)\n  }\n\n  return truncated + '...'\n}\n\n/**\n * Instagram ã‚­ãƒ£ãƒ—ã‚·ãƒ§ãƒ³ã‚’ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ\n */\nexport function formatInstagramCaption(rawCaption: string): string {\n  let formatted = rawCaption\n\n  // 1. Markdownå‰Šé™¤\n  formatted = removeMarkdown(formatted)\n\n  // 2. çµµæ–‡å­—åˆ¶é™\n  formatted = limitEmojis(formatted)\n\n  // 3. æ”¹è¡Œæ­£è¦åŒ–\n  formatted = preserveLineBreaks(formatted)\n\n  // 4. å‰å¾Œã®ç©ºç™½å‰Šé™¤\n  formatted = formatted.trim()\n\n  // 5. é•·ã•åˆ¶é™\n  formatted = limitCaptionLength(formatted)\n\n  console.log('ğŸ“ Caption formatted:', {\n    original_length: rawCaption.length,\n    formatted_length: formatted.length,\n    removed_markdown: rawCaption !== removeMarkdown(rawCaption),\n    removed_emojis: rawCaption !== limitEmojis(rawCaption)\n  })\n\n  return formatted\n}\n\n/**\n * ã‚­ãƒ£ãƒ—ã‚·ãƒ§ãƒ³ç”Ÿæˆã¨ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã®çµ±åˆ\n */\nexport async function generateAndFormatCaption(\n  content: string,\n  geminiService: GeminiService\n): Promise<string> {\n  // AIç”Ÿæˆ\n  const rawCaption = await geminiService.generateCaption(content)\n\n  // ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ\n  const formatted = formatInstagramCaption(rawCaption)\n\n  return formatted\n}\n```\n\n---",
    "relatedTech": [
      "skill-five-stage-ai-pipeline"
    ]
  },
  {
    "slug": "character-evolution-growth-plan-management",
    "title": "ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼æˆé•·ãƒ—ãƒ©ãƒ³ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ",
    "category": "Skillsï¼ˆã‚¹ã‚­ãƒ«ãƒ»æ‰‹æ³•ï¼‰",
    "description": "AIå°èª¬è‡ªå‹•ç”Ÿæˆã«ãŠã„ã¦ã€ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã®**6æ®µéšç™ºå±•ãƒ¢ãƒ‡ãƒ«**ã«åŸºã¥ã„ãŸæˆé•·ãƒ—ãƒ©ãƒ³ã‚’ä½œæˆãƒ»ç®¡ç†ã—ã€ç« ã”ã¨ã®é€²è¡Œã‚’è¿½è·¡ã™ã‚‹æ‰‹æ³•ã€‚ç›®æ¨™ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã€ç¿’å¾—ã‚¹ã‚­ãƒ«ã€ç‰©èªè¦ç´ ã‚’çµ±åˆã—ã€ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã®å¤‰åŒ–ã‚’è‡ªç„¶ã«æå†™ã™ã‚‹ãŸã‚ã®æŒ‡é‡ã‚’æä¾›ã™ã‚‹ã€‚",
    "project": "novel-automation-system-v2",
    "usedIn": [
      "src/lib/characters/services/evolution-service.ts:1-130000"
    ],
    "code": "```json\n{\n  \"id\": \"skill_character_evolution_growth_plan_management_2025_11_25\",\n  \"type\": \"skill\",\n  \"name\": \"ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼æˆé•·ãƒ—ãƒ©ãƒ³ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ \",\n  \"tags\": [\"ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼æˆé•·\", \"ç‰©èªå±•é–‹\", \"AIå°èª¬ç”Ÿæˆ\", \"ç™ºå±•æ®µéš\", \"æˆé•·è¨ˆç”»\", \"ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³\"],\n  \"source_project\": \"novel-automation-system-v2\",\n  \"source_file\": \"src/lib/characters/services/evolution-service.ts:1-130000\",\n  \"related_knowledge\": [\n    \"skill_seven_service_character_integration_architecture_2025_11_25\",\n    \"decision_six_stage_development_model_2025_11_25\"\n  ],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼æˆé•·ãƒ—ãƒ©ãƒ³ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ \n\n## ä½•ã‚’ã™ã‚‹ã‚¹ã‚­ãƒ«ã‹\n\nAIå°èª¬è‡ªå‹•ç”Ÿæˆã«ãŠã„ã¦ã€ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã®**6æ®µéšç™ºå±•ãƒ¢ãƒ‡ãƒ«**ã«åŸºã¥ã„ãŸæˆé•·ãƒ—ãƒ©ãƒ³ã‚’ä½œæˆãƒ»ç®¡ç†ã—ã€ç« ã”ã¨ã®é€²è¡Œã‚’è¿½è·¡ã™ã‚‹æ‰‹æ³•ã€‚ç›®æ¨™ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã€ç¿’å¾—ã‚¹ã‚­ãƒ«ã€ç‰©èªè¦ç´ ã‚’çµ±åˆã—ã€ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã®å¤‰åŒ–ã‚’è‡ªç„¶ã«æå†™ã™ã‚‹ãŸã‚ã®æŒ‡é‡ã‚’æä¾›ã™ã‚‹ã€‚\n\n## å…·ä½“çš„ãªæ‰‹æ³•\n\n### 6æ®µéšç™ºå±•ãƒ¢ãƒ‡ãƒ«\n\n```typescript\nenum DEVELOPMENT_STAGE {\n    INTRODUCTION = 1,      // ç™»å ´ï¼šã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã®åˆç™»å ´\n    ESTABLISHMENT = 2,     // ç¢ºç«‹ï¼šæ€§æ ¼ã®å›ºå®šåŒ–\n    DEVELOPMENT = 3,       // ç™ºå±•ï¼šè¤‡é›‘ã•ã®å¢—åŠ \n    TRANSFORMATION = 4,    // å¤‰å®¹ï¼šå¤§ããªè»¢æ›ç‚¹\n    MATURATION = 5,        // æˆç†Ÿï¼šå¤‰åŒ–ã®å—å®¹\n    COMPLETION = 6         // å®Œçµï¼šã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã‚¢ãƒ¼ã‚¯å®Œçµ\n}\n```\n\nå„æ®µéšã®ç‰¹å¾´ï¼š\n\n1. **INTRODUCTIONï¼ˆç™»å ´ï¼‰**\n   - åˆã‚ã¦èª­è€…ã«ç´¹ä»‹\n   - åŸºæœ¬çš„ãªæ€§æ ¼ç‰¹æ€§ã‚’æç¤º\n   - ç›®æ¨™ã‚„å‹•æ©Ÿã®ãƒ’ãƒ³ãƒˆ\n\n2. **ESTABLISHMENTï¼ˆç¢ºç«‹ï¼‰**\n   - æ€§æ ¼ãŒå›ºã¾ã‚‹\n   - è¡Œå‹•ãƒ‘ã‚¿ãƒ¼ãƒ³ã®ç¢ºç«‹\n   - ä»–ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã¨ã®é–¢ä¿‚æ€§å½¢æˆ\n\n3. **DEVELOPMENTï¼ˆç™ºå±•ï¼‰**\n   - è¤‡é›‘ã•ãŒå¢—ã™\n   - å†…é¢ã®è‘›è—¤ãŒæ˜ã‚‰ã‹ã«\n   - æ–°ã—ã„å´é¢ã®ç™ºè¦‹\n\n4. **TRANSFORMATIONï¼ˆå¤‰å®¹ï¼‰**\n   - é‡å¤§ãªè»¢æ›ç‚¹\n   - ä¾¡å€¤è¦³ã®å¤‰åŒ–\n   - å¤§ããªæ±ºæ–­ã‚„è¡Œå‹•\n\n5. **MATURATIONï¼ˆæˆç†Ÿï¼‰**\n   - å¤‰åŒ–ã‚’å—ã‘å…¥ã‚Œã‚‹\n   - æ–°ã—ã„è‡ªåˆ†ã¸ã®é©å¿œ\n   - ã‚ˆã‚Šæ·±ã„ç†è§£ã¨æˆé•·\n\n6. **COMPLETIONï¼ˆå®Œçµï¼‰**\n   - ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã‚¢ãƒ¼ã‚¯å®Œçµ\n   - å½“åˆã®å•é¡Œã®è§£æ±º\n   - æœ€çµ‚çš„ãªçŠ¶æ…‹ã¸\n\n### æˆé•·ãƒ—ãƒ©ãƒ³ã®æ§‹é€ \n\n```typescript\ninterface GrowthPlan {\n    id: string;\n    characterId: string;\n    name: string;\n    description: string;\n\n    // ç›®æ¨™è¨­å®š\n    targetParameters: Array<{\n        parameterId: string;        // ä¾‹: \"courage\"\n        targetValue: number;         // 0-1ã‚¹ã‚±ãƒ¼ãƒ«\n        priority: number;            // 1-5\n    }>;\n\n    targetSkills: Array<{\n        skillId: string;             // ä¾‹: \"swordmastery\"\n        priority: number;\n        narrativeRequirement?: string;  // ç‰©èªä¸Šã®ç¿’å¾—æ¡ä»¶\n    }>;\n\n    // æˆé•·ãƒ•ã‚§ãƒ¼ã‚º\n    growthPhases: GrowthPhase[];\n\n    estimatedDuration: number;      // æ¨å®šç« æ•°\n    isActive: boolean;\n    startChapter?: number;\n    endChapter?: number;\n}\n```\n\n### æˆé•·ãƒ•ã‚§ãƒ¼ã‚ºã®è¨­è¨ˆ\n\n```typescript\ninterface GrowthPhase {\n    phaseNumber: number;\n    stage: DEVELOPMENT_STAGE;       // ã“ã® ãƒ•ã‚§ãƒ¼ã‚ºã®ç™ºå±•æ®µéš\n    chapterEstimate: number;        // æ¨å®šæ‰€è¦ç« æ•°\n\n    parameterChanges: Array<{\n        parameterId: string;\n        changeAmount: number;        // -1 to +1\n        reason: string;\n    }>;\n\n    skillAcquisitions: Array<{\n        skillId: string;\n        acquisitionType: 'GRADUAL' | 'SUDDEN';\n        masteryLevel: number;        // 0-1\n    }>;\n\n    narrativeElements: Array<{\n        type: 'EVENT' | 'REALIZATION' | 'CONFLICT' | 'RELATIONSHIP';\n        description: string;\n        significance: number;        // 1-10\n    }>;\n\n    completionCriteria: Array<{\n        type: 'PARAMETER_THRESHOLD' | 'SKILL_ACQUIRED' |\n              'EVENT_OCCURRED' | 'CHAPTER_COUNT';\n        condition: string;\n    }>;\n}\n```\n\n### æˆé•·ãƒ—ãƒ©ãƒ³ä½œæˆã®å®Ÿè£…\n\n```typescript\nasync createGrowthPlan(\n    characterId: string,\n    planData: GrowthPlanData\n): Promise<GrowthPlan> {\n    const character = await this.characterService.getCharacter(characterId);\n\n    if (!character) {\n        throw new NotFoundError('Character', characterId);\n    }\n\n    const growthPlan: GrowthPlan = {\n        id: this.generateId('gp'),\n        characterId,\n        name: planData.name,\n        description: planData.description,\n        targetParameters: planData.targetParameters,\n        targetSkills: planData.targetSkills,\n        growthPhases: this.designGrowthPhases(\n            character,\n            planData.targetParameters,\n            planData.targetSkills,\n            planData.estimatedDuration\n        ),\n        estimatedDuration: planData.estimatedDuration,\n        isActive: false,\n        createdAt: new Date()\n    };\n\n    // ãƒ¡ãƒ¢ãƒªã‚·ã‚¹ãƒ†ãƒ ã«ä¿å­˜\n    await this.memoryManager.store({\n        type: 'GrowthPlan',\n        characterId,\n        data: growthPlan,\n        level: MemoryLevel.LONG_TERM\n    });\n\n    return growthPlan;\n}\n```\n\n### æˆé•·ãƒ•ã‚§ãƒ¼ã‚ºã®è‡ªå‹•è¨­è¨ˆ\n\n```typescript\nprivate designGrowthPhases(\n    character: Character,\n    targetParameters: TargetParameter[],\n    targetSkills: TargetSkill[],\n    totalDuration: number\n): GrowthPhase[] {\n    const phases: GrowthPhase[] = [];\n    const stages = [\n        DEVELOPMENT_STAGE.INTRODUCTION,\n        DEVELOPMENT_STAGE.ESTABLISHMENT,\n        DEVELOPMENT_STAGE.DEVELOPMENT,\n        DEVELOPMENT_STAGE.TRANSFORMATION,\n        DEVELOPMENT_STAGE.MATURATION,\n        DEVELOPMENT_STAGE.COMPLETION\n    ];\n\n    // å„æ®µéšã«ç« æ•°ã‚’é…åˆ†\n    const chapterDistribution = this.distributeChapters(totalDuration, stages.length);\n\n    stages.forEach((stage, index) => {\n        const phase: GrowthPhase = {\n            phaseNumber: index + 1,\n            stage,\n            chapterEstimate: chapterDistribution[index],\n            parameterChanges: this.calculateParameterChangesForStage(\n                character,\n                targetParameters,\n                stage,\n                index,\n                stages.length\n            ),\n            skillAcquisitions: this.planSkillAcquisitionsForStage(\n                targetSkills,\n                stage,\n                index,\n                stages.length\n            ),\n            narrativeElements: this.generateNarrativeElementsForStage(\n                character,\n                stage\n            ),\n            completionCriteria: this.defineCompletionCriteria(stage)\n        };\n\n        phases.push(phase);\n    });\n\n    return phases;\n}\n```\n\n### ç« ã”ã¨ã®æˆé•·å‡¦ç†\n\n```typescript\nasync processCharacterGrowth(\n    characterId: string,\n    chapterNumber: number,\n    chapterEvents: ChapterEvent[]\n): Promise<GrowthProcessingResult> {\n    const character = await this.characterService.getCharacter(characterId);\n    const activeGrowthPlan = await this.getActiveGrowthPlan(characterId);\n\n    if (!activeGrowthPlan) {\n        return { processed: false, reason: 'No active growth plan' };\n    }\n\n    // ç¾åœ¨ã®ãƒ•ã‚§ãƒ¼ã‚ºã‚’ç‰¹å®š\n    const currentPhase = this.getCurrentPhase(\n        activeGrowthPlan,\n        chapterNumber\n    );\n\n    if (!currentPhase) {\n        return { processed: false, reason: 'No current phase' };\n    }\n\n    // ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿å¤‰åŒ–ã‚’é©ç”¨\n    const parameterUpdates = await this.applyParameterChanges(\n        character,\n        currentPhase,\n        chapterEvents\n    );\n\n    // ã‚¹ã‚­ãƒ«ç¿’å¾—ã‚’ãƒã‚§ãƒƒã‚¯\n    const skillUpdates = await this.checkSkillAcquisitions(\n        character,\n        currentPhase,\n        chapterEvents\n    );\n\n    // ãƒ•ã‚§ãƒ¼ã‚ºå®Œäº†ã‚’ãƒã‚§ãƒƒã‚¯\n    const phaseCompleted = await this.checkPhaseCompletion(\n        currentPhase,\n        character,\n        chapterNumber\n    );\n\n    if (phaseCompleted) {\n        await this.advanceToNextPhase(activeGrowthPlan, characterId);\n    }\n\n    // ç™ºå±•æ®µéšã‚’æ›´æ–°\n    character.state.developmentStage = currentPhase.stage;\n\n    await this.characterService.updateCharacter(characterId, {\n        state: character.state\n    });\n\n    return {\n        processed: true,\n        parameterUpdates,\n        skillUpdates,\n        phaseCompleted,\n        currentStage: currentPhase.stage\n    };\n}\n```\n\n### ã‚¢ãƒ¼ã‚­ã‚¿ã‚¤ãƒ—ã«åŸºã¥ãæˆé•·ãƒ‘ã‚¿ãƒ¼ãƒ³\n\n```typescript\nenum CharacterArchetype {\n    HERO = 'hero',\n    MENTOR = 'mentor',\n    TRICKSTER = 'trickster',\n    GUARDIAN = 'guardian',\n    REBEL = 'rebel',\n    LOVER = 'lover',\n    CREATOR = 'creator',\n    EXPLORER = 'explorer',\n    SAGE = 'sage',\n    EVERYMAN = 'everyman',\n    RULER = 'ruler',\n    MAGICIAN = 'magician'\n}\n\nprivate getArchetypeGrowthPattern(archetype: CharacterArchetype): GrowthPattern {\n    const patterns: Record<CharacterArchetype, GrowthPattern> = {\n        [CharacterArchetype.HERO]: {\n            earlyFocus: ['courage', 'determination'],\n            midFocus: ['wisdom', 'leadership'],\n            lateFocus: ['sacrifice', 'compassion'],\n            typicalDuration: 50  // ç« æ•°\n        },\n        [CharacterArchetype.MENTOR]: {\n            earlyFocus: ['wisdom', 'patience'],\n            midFocus: ['teaching', 'guidance'],\n            lateFocus: ['legacy', 'passing_torch'],\n            typicalDuration: 30\n        },\n        // ... ä»–ã®ã‚¢ãƒ¼ã‚­ã‚¿ã‚¤ãƒ—\n    };\n\n    return patterns[archetype];\n}\n```\n\n## ãªãœã“ã®æ‰‹æ³•ã‚’ä½¿ã†ã‹\n\n**ç†ç”±1ï¼šä¸€è²«æ€§ã®ã‚ã‚‹æˆé•·æå†™**\nè¨ˆç”»çš„ã«æˆé•·ã‚’ç®¡ç†ã™ã‚‹ã“ã¨ã§ï¼š\n- ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã®å¤‰åŒ–ãŒè‡ªç„¶\n- å”çªãªæ€§æ ¼å¤‰åŒ–ã‚’é˜²ã\n- èª­è€…ãŒç´å¾—ã§ãã‚‹ç™ºå±•\n\n**ç†ç”±2ï¼šç‰©èªå…¨ä½“ã¨ã®æ•´åˆæ€§**\næˆé•·ãƒ—ãƒ©ãƒ³ã¨ãƒ—ãƒ­ãƒƒãƒˆçµ±åˆï¼š\n```typescript\n// ãƒ—ãƒ­ãƒƒãƒˆä¸Šã®é‡è¦ã‚¤ãƒ™ãƒ³ãƒˆã¨æˆé•·ã‚’åŒæœŸ\nif (chapterNumber === 25) {  // ã‚¯ãƒ©ã‚¤ãƒãƒƒã‚¯ã‚¹\n    // TRANSFORMATIONæ®µéšã«åˆ°é”ã™ã¹ã\n    ensureStage(character, DEVELOPMENT_STAGE.TRANSFORMATION);\n}\n```\n\n**ç†ç”±3ï¼šAIç”Ÿæˆã®æŒ‡é‡**\næˆé•·ãƒ—ãƒ©ãƒ³ã‹ã‚‰ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆè¦ç´ ã‚’æŠ½å‡ºï¼š\n```typescript\nconst promptGuidance = `\nã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã€Œ${character.name}ã€ã¯ç¾åœ¨ã€Œ${currentPhase.stage}ã€æ®µéšã§ã™ã€‚\nã“ã®ãƒ•ã‚§ãƒ¼ã‚ºã§ã¯ä»¥ä¸‹ã®æˆé•·ã‚’æ„è­˜ã—ã¦ãã ã•ã„ï¼š\n- ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿å¤‰åŒ–ï¼šå‹‡æ°— +0.2ã€å„ªã—ã• +0.1\n- ç¿’å¾—äºˆå®šã‚¹ã‚­ãƒ«ï¼šå‰£è¡“ã®åŸºæœ¬\n- ç‰©èªè¦ç´ ï¼šå¸«åŒ ã¨ã®å‡ºä¼šã„ã€æœ€åˆã®è©¦ç·´\n`;\n```\n\n**ç†ç”±4ï¼šé€²æ—ã®å¯è¦–åŒ–**\nã©ã“ã¾ã§æˆé•·ã—ãŸã‹ä¸€ç›®ç­ç„¶ï¼š\n```typescript\nconst progress = calculateGrowthProgress(character, growthPlan);\n// {\n//     overallProgress: 0.65,  // 65%å®Œäº†\n//     currentPhase: 4,\n//     phasesCompleted: 3,\n//     estimatedChaptersRemaining: 15\n// }\n```\n\n## å†ç¾æ–¹æ³•\n\n### ã‚¹ãƒ†ãƒƒãƒ—1ï¼šæˆé•·ãƒ—ãƒ©ãƒ³ã®ä½œæˆ\n\n```typescript\nconst growthPlanData: GrowthPlanData = {\n    name: \"ä¸»äººå…¬ã‚¢ãƒ¬ãƒ³ã®æˆé•·\",\n    description: \"å¹³å‡¡ãªå°‘å¹´ã‹ã‚‰è‹±é›„ã¸ã®æˆé•·\",\n    targetParameters: [\n        {\n            parameterId: \"courage\",\n            targetValue: 0.9,\n            priority: 5\n        },\n        {\n            parameterId: \"wisdom\",\n            targetValue: 0.7,\n            priority: 4\n        },\n        {\n            parameterId: \"leadership\",\n            targetValue: 0.8,\n            priority: 3\n        }\n    ],\n    targetSkills: [\n        {\n            skillId: \"swordmastery\",\n            priority: 5,\n            narrativeRequirement: \"å¸«åŒ ãƒãƒ†ã‚£ã‚¢ã‚¹ã‹ã‚‰ã®ä¿®è¡Œ\"\n        },\n        {\n            skillId: \"magic_basic\",\n            priority: 4,\n            narrativeRequirement: \"å¤ä»£éºè·¡ã§ã®ç™ºè¦‹\"\n        }\n    ],\n    estimatedDuration: 50  // 50ç« ã§å®Œçµ\n};\n\nconst growthPlan = await evolutionService.createGrowthPlan(\n    'char-allen',\n    growthPlanData\n);\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2ï¼šæˆé•·ãƒ—ãƒ©ãƒ³ã®é–‹å§‹\n\n```typescript\nawait evolutionService.activateGrowthPlan(\n    'char-allen',\n    growthPlan.id,\n    10  // 10ç« ç›®ã‹ã‚‰é–‹å§‹\n);\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3ï¼šç« å‡¦ç†ã§ã®æˆé•·é©ç”¨\n\n```typescript\nconst chapter: Chapter = {\n    chapterNumber: 15,\n    content: \"...\",\n    // ...\n};\n\nconst chapterEvents: ChapterEvent[] = [\n    {\n        type: 'COMBAT',\n        description: 'åˆã‚ã¦ã®æœ¬æ ¼çš„ãªæˆ¦é—˜',\n        significance: 8\n    },\n    {\n        type: 'MENTOR_INTERACTION',\n        description: 'ãƒãƒ†ã‚£ã‚¢ã‚¹ã‹ã‚‰ã®æ•™ãˆ',\n        significance: 7\n    }\n];\n\nconst result = await evolutionService.processCharacterGrowth(\n    'char-allen',\n    chapter.chapterNumber,\n    chapterEvents\n);\n\nconsole.log(result);\n// {\n//     processed: true,\n//     parameterUpdates: {\n//         courage: { oldValue: 0.5, newValue: 0.6, change: +0.1 }\n//     },\n//     skillUpdates: {\n//         swordmastery: { oldLevel: 0.2, newLevel: 0.3, progress: 30% }\n//     },\n//     phaseCompleted: false,\n//     currentStage: 2  // ESTABLISHMENT\n// }\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—4ï¼šæˆé•·çŠ¶æ³ã®ç¢ºèª\n\n```typescript\nconst developmentReport = await evolutionService.getCharacterDevelopmentReport(\n    'char-allen'\n);\n\nconsole.log(developmentReport);\n// {\n//     characterId: \"char-allen\",\n//     currentStage: 2,\n//     stageName: \"ESTABLISHMENT\",\n//     overallProgress: 0.35,  // 35%å®Œäº†\n//     currentPhase: {\n//         phaseNumber: 2,\n//         progress: 0.75,  // ã“ã®ãƒ•ã‚§ãƒ¼ã‚ºã¯75%å®Œäº†\n//         estimatedChaptersRemaining: 3\n//     },\n//     parameterProgress: {\n//         courage: { current: 0.6, target: 0.9, progress: 0.67 },\n//         wisdom: { current: 0.4, target: 0.7, progress: 0.57 }\n//     },\n//     skillProgress: {\n//         swordmastery: { current: 0.3, target: 1.0, progress: 0.30 }\n//     },\n//     upcomingMilestones: [\n//         {\n//             chapter: 18,\n//             description: \"ãƒ•ã‚§ãƒ¼ã‚º2å®Œäº†ã€ãƒ•ã‚§ãƒ¼ã‚º3ï¼ˆDEVELOPMENTï¼‰ã¸\",\n//             significance: 7\n//         }\n//     ]\n// }\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—5ï¼šãƒ¡ãƒ¢ãƒªã‚·ã‚¹ãƒ†ãƒ ã¨ã®çµ±åˆ\n\n```typescript\n// ãƒ¡ãƒ¢ãƒªéšå±¤çµ±åˆã•ã‚ŒãŸç™ºå±•ãƒ‡ãƒ¼ã‚¿\nconst memoryIntegratedDevelopment =\n    await evolutionService.getMemoryIntegratedDevelopment('char-allen');\n\nconsole.log(memoryIntegratedDevelopment);\n// {\n//     characterId: \"char-allen\",\n//     currentDevelopment: { ... },\n//     memorySystemValidated: true,\n//     crossLevelConsistency: 0.95,  // 95%ä¸€è‡´\n//     systemConfidenceScore: 0.92,\n//     dataIntegrationMetrics: {\n//         consolidationScore: 0.88,\n//         duplicateResolutionCount: 3,\n//         accessOptimizationGain: 0.45\n//     }\n// }\n```\n\n## ã„ã¤ä½¿ã†ã‹\n\n**é©ç”¨å ´é¢1ï¼šé•·ç·¨å°èª¬ã®åŸ·ç­†**\n- 50ç« ä»¥ä¸Šã®é•·æœŸã«ã‚ãŸã‚‹ç‰©èª\n- ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã®å¤‰åŒ–ã‚’è¨ˆç”»çš„ã«æå†™\n- ä¸€è²«æ€§ã®ã‚ã‚‹æˆé•·ãŒå¿…è¦\n\n**é©ç”¨å ´é¢2ï¼šè¤‡æ•°ã®ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã‚¢ãƒ¼ã‚¯ç®¡ç†**\n- ä¸»äººå…¬ã ã‘ã§ãªãè„‡å½¹ã‚‚æˆé•·\n- å„ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã®æˆé•·ã‚’ä¸¦è¡Œç®¡ç†\n- ç›¸äº’ã®å½±éŸ¿ã‚’è€ƒæ…®\n\n**é©ç”¨å ´é¢3ï¼šAIç”Ÿæˆã®å“è³ªå‘ä¸Š**\n- AIã«æ˜ç¢ºãªæˆé•·æŒ‡é‡ã‚’æä¾›\n- å”çªãªæ€§æ ¼å¤‰åŒ–ã‚’é˜²ã\n- ç« ã”ã¨ã®ç”Ÿæˆãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã«çµ±åˆ\n\n**é©ç”¨å ´é¢4ï¼šã‚²ãƒ¼ãƒ ã®ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼è‚²æˆ**\n- RPGã®ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼æˆé•·ã‚·ã‚¹ãƒ†ãƒ \n- ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ãƒ¢ãƒ¼ãƒ‰ã§ã®ç™ºå±•\n- ã‚¹ã‚­ãƒ«ç¿’å¾—ã®è¨ˆç”»çš„ç®¡ç†\n\n## æ³¨æ„ç‚¹\n\n**æ³¨æ„ç‚¹1ï¼šéåº¦ãªè¨ˆç”»ã®å¼Šå®³**\næˆé•·ãƒ—ãƒ©ãƒ³ãŒå³æ ¼ã™ãã‚‹ã¨æŸ”è»Ÿæ€§ã‚’å¤±ã†ï¼š\n```typescript\n// çŠ¶æ³ã«å¿œã˜ã¦èª¿æ•´ã‚’è¨±å¯\nif (unexpectedEvent) {\n    await evolutionService.adjustGrowthPlan(characterId, {\n        acceleratePhase: true,\n        reason: \"ç‰©èªã®å±•é–‹ãŒäºˆæƒ³ã‚ˆã‚Šæ—©ã„\"\n    });\n}\n```\n\n**æ³¨æ„ç‚¹2ï¼šè‡ªç„¶ã•ã®ç¶­æŒ**\nè¨ˆç”»çš„ã™ãã¦ä¸è‡ªç„¶ã«ãªã‚‰ãªã„ã‚ˆã†æ³¨æ„ï¼š\n- äºˆæœŸã›ã¬å‡ºæ¥äº‹ã¸ã®åå¿œ\n- æ™‚ã«ã¯é€€è¡Œã‚‚\n- å®Œç’§ãªç›´ç·šçš„æˆé•·ã¯ä¸è‡ªç„¶\n\n**æ³¨æ„ç‚¹3ï¼šè¤‡æ•°ãƒ—ãƒ©ãƒ³ã®ç«¶åˆ**\n1ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã«è¤‡æ•°ã®æˆé•·ãƒ—ãƒ©ãƒ³ãŒã‚ã‚‹å ´åˆï¼š\n```typescript\n// ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãªãƒ—ãƒ©ãƒ³ã¯1ã¤ã®ã¿\nif (character.state.activeGrowthPlanId) {\n    throw new Error('Character already has an active growth plan');\n}\n```\n\n**æ³¨æ„ç‚¹4ï¼šãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹**\nå…¨ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã®æˆé•·ã‚’æ¯ç« å‡¦ç†ã™ã‚‹ã¨è² è·ï¼š\n```typescript\n// ç™»å ´ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã®ã¿å‡¦ç†\nconst appearingCharacters = await detectionService.detectCharacters(chapter);\nfor (const charId of appearingCharacters) {\n    await evolutionService.processCharacterGrowth(charId, ...);\n}\n```\n\n**æ³¨æ„ç‚¹5ï¼šãƒ‡ãƒ¼ã‚¿æ•´åˆæ€§**\næˆé•·ãƒ—ãƒ©ãƒ³ã¨ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼çŠ¶æ…‹ã®åŒæœŸï¼š\n```typescript\n// å®šæœŸçš„ã«æ•´åˆæ€§ãƒã‚§ãƒƒã‚¯\nconst consistency = await evolutionService.checkGrowthPlanConsistency(characterId);\nif (consistency.score < 0.8) {\n    logger.warn('Growth plan inconsistency detected', consistency.issues);\n}\n```\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `skill_seven_service_character_integration_architecture_2025_11_25.md`ï¼šEvolutionServiceã®çµ±åˆ\n- `decision_six_stage_development_model_2025_11_25.md`ï¼šãªãœ6æ®µéšãªã®ã‹\n- `workflow_character_growth_processing_cycle_2025_11_25.md`ï¼šæˆé•·å‡¦ç†ã®å®Œå…¨ãªãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼\n",
    "prompt": "### ã‚¹ãƒ†ãƒƒãƒ—1ï¼šæˆé•·ãƒ—ãƒ©ãƒ³ã®ä½œæˆ\n\n```typescript\nconst growthPlanData: GrowthPlanData = {\n    name: \"ä¸»äººå…¬ã‚¢ãƒ¬ãƒ³ã®æˆé•·\",\n    description: \"å¹³å‡¡ãªå°‘å¹´ã‹ã‚‰è‹±é›„ã¸ã®æˆé•·\",\n    targetParameters: [\n        {\n            parameterId: \"courage\",\n            targetValue: 0.9,\n            priority: 5\n        },\n        {\n            parameterId: \"wisdom\",\n            targetValue: 0.7,\n            priority: 4\n        },\n        {\n            parameterId: \"leadership\",\n            targetValue: 0.8,\n            priority: 3\n        }\n    ],\n    targetSkills: [\n        {\n            skillId: \"swordmastery\",\n            priority: 5,\n            narrativeRequirement: \"å¸«åŒ ãƒãƒ†ã‚£ã‚¢ã‚¹ã‹ã‚‰ã®ä¿®è¡Œ\"\n        },\n        {\n            skillId: \"magic_basic\",\n            priority: 4,\n            narrativeRequirement: \"å¤ä»£éºè·¡ã§ã®ç™ºè¦‹\"\n        }\n    ],\n    estimatedDuration: 50  // 50ç« ã§å®Œçµ\n};\n\nconst growthPlan = await evolutionService.createGrowthPlan(\n    'char-allen',\n    growthPlanData\n);\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2ï¼šæˆé•·ãƒ—ãƒ©ãƒ³ã®é–‹å§‹\n\n```typescript\nawait evolutionService.activateGrowthPlan(\n    'char-allen',\n    growthPlan.id,\n    10  // 10ç« ç›®ã‹ã‚‰é–‹å§‹\n);\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3ï¼šç« å‡¦ç†ã§ã®æˆé•·é©ç”¨\n\n```typescript\nconst chapter: Chapter = {\n    chapterNumber: 15,\n    content: \"...\",\n    // ...\n};\n\nconst chapterEvents: ChapterEvent[] = [\n    {\n        type: 'COMBAT',\n        description: 'åˆã‚ã¦ã®æœ¬æ ¼çš„ãªæˆ¦é—˜',\n        significance: 8\n    },\n    {\n        type: 'MENTOR_INTERACTION',\n        description: 'ãƒãƒ†ã‚£ã‚¢ã‚¹ã‹ã‚‰ã®æ•™ãˆ',\n        significance: 7\n    }\n];\n\nconst result = await evolutionService.processCharacterGrowth(\n    'char-allen',\n    chapter.chapterNumber,\n    chapterEvents\n);\n\nconsole.log(result);\n// {\n//     processed: true,\n//     parameterUpdates: {\n//         courage: { oldValue: 0.5, newValue: 0.6, change: +0.1 }\n//     },\n//     skillUpdates: {\n//         swordmastery: { oldLevel: 0.2, newLevel: 0.3, progress: 30% }\n//     },\n//     phaseCompleted: false,\n//     currentStage: 2  // ESTABLISHMENT\n// }\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—4ï¼šæˆé•·çŠ¶æ³ã®ç¢ºèª\n\n```typescript\nconst developmentReport = await evolutionService.getCharacterDevelopmentReport(\n    'char-allen'\n);\n\nconsole.log(developmentReport);\n// {\n//     characterId: \"char-allen\",\n//     currentStage: 2,\n//     stageName: \"ESTABLISHMENT\",\n//     overallProgress: 0.35,  // 35%å®Œäº†\n//     currentPhase: {\n//         phaseNumber: 2,\n//         progress: 0.75,  // ã“ã®ãƒ•ã‚§ãƒ¼ã‚ºã¯75%å®Œäº†\n//         estimatedChaptersRemaining: 3\n//     },\n//     parameterProgress: {\n//         courage: { current: 0.6, target: 0.9, progress: 0.67 },\n//         wisdom: { current: 0.4, target: 0.7, progress: 0.57 }\n//     },\n//     skillProgress: {\n//         swordmastery: { current: 0.3, target: 1.0, progress: 0.30 }\n//     },\n//     upcomingMilestones: [\n//         {\n//             chapter: 18,\n//             description: \"ãƒ•ã‚§ãƒ¼ã‚º2å®Œäº†ã€ãƒ•ã‚§ãƒ¼ã‚º3ï¼ˆDEVELOPMENTï¼‰ã¸\",\n//             significance: 7\n//         }\n//     ]\n// }\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—5ï¼šãƒ¡ãƒ¢ãƒªã‚·ã‚¹ãƒ†ãƒ ã¨ã®çµ±åˆ\n\n```typescript\n// ãƒ¡ãƒ¢ãƒªéšå±¤çµ±åˆã•ã‚ŒãŸç™ºå±•ãƒ‡ãƒ¼ã‚¿\nconst memoryIntegratedDevelopment =\n    await evolutionService.getMemoryIntegratedDevelopment('char-allen');\n\nconsole.log(memoryIntegratedDevelopment);\n// {\n//     characterId: \"char-allen\",\n//     currentDevelopment: { ... },\n//     memorySystemValidated: true,\n//     crossLevelConsistency: 0.95,  // 95%ä¸€è‡´\n//     systemConfidenceScore: 0.92,\n//     dataIntegrationMetrics: {\n//         consolidationScore: 0.88,\n//         duplicateResolutionCount: 3,\n//         accessOptimizationGain: 0.45\n//     }\n// }\n```",
    "relatedTech": [
      "skill-seven-service-character-integration-architecture",
      "decision-six-stage-development-model"
    ]
  },
  {
    "slug": "chart-generation-chartjs",
    "title": "Chart.jsãƒãƒ£ãƒ¼ãƒˆç”Ÿæˆ",
    "category": "Skillsï¼ˆã‚¹ã‚­ãƒ«ãƒ»æ‰‹æ³•ï¼‰",
    "description": "Chart.jsãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½¿ç”¨ã—ã¦ã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆå†…ã«ãƒãƒ¼ãƒãƒ£ãƒ¼ãƒˆã€æŠ˜ã‚Œç·šãƒãƒ£ãƒ¼ãƒˆã€å††ãƒãƒ£ãƒ¼ãƒˆãªã©ã®ãƒ‡ãƒ¼ã‚¿ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ©ã‚¤ã‚¼ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ç”Ÿæˆã™ã‚‹æ‰‹æ³•ã€‚ChartComponentRendererãŒChart.jsã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ç®¡ç†ã—ã€ãƒ‡ãƒ¼ã‚¿ã®å¤‰æ›´ã«å¿œã˜ã¦ãƒãƒ£ãƒ¼ãƒˆã‚’å†æç”»ã™ã‚‹ã€‚",
    "project": "ai-document-generator",
    "usedIn": [
      "src/components/editor/component/renderers/ChartComponentRenderer.tsx:1-100, package.json:30"
    ],
    "code": "```json\n{\n  \"id\": \"skill_chart_generation_chartjs_2025_04_11\",\n  \"type\": \"skill\",\n  \"name\": \"Chart.jsãƒãƒ£ãƒ¼ãƒˆç”Ÿæˆ\",\n  \"tags\": [\"Chart.js\", \"ãƒãƒ£ãƒ¼ãƒˆ\", \"ãƒ‡ãƒ¼ã‚¿ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ©ã‚¤ã‚¼ãƒ¼ã‚·ãƒ§ãƒ³\", \"ã‚°ãƒ©ãƒ•\", \"canvas\"],\n  \"source_project\": \"ai-document-generator\",\n  \"source_file\": \"src/components/editor/component/renderers/ChartComponentRenderer.tsx:1-100, package.json:30\",\n  \"related_knowledge\": [\"skill_component_dynamic_rendering_2025_04_11\"],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-04-11\",\n  \"updated\": \"2025-04-11\"\n}\n```\n\n# Chart.jsãƒãƒ£ãƒ¼ãƒˆç”Ÿæˆ\n\n## ä½•ã‚’ã™ã‚‹ã‚¹ã‚­ãƒ«ã‹\n\nChart.jsãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½¿ç”¨ã—ã¦ã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆå†…ã«ãƒãƒ¼ãƒãƒ£ãƒ¼ãƒˆã€æŠ˜ã‚Œç·šãƒãƒ£ãƒ¼ãƒˆã€å††ãƒãƒ£ãƒ¼ãƒˆãªã©ã®ãƒ‡ãƒ¼ã‚¿ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ©ã‚¤ã‚¼ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ç”Ÿæˆã™ã‚‹æ‰‹æ³•ã€‚ChartComponentRendererãŒChart.jsã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ç®¡ç†ã—ã€ãƒ‡ãƒ¼ã‚¿ã®å¤‰æ›´ã«å¿œã˜ã¦ãƒãƒ£ãƒ¼ãƒˆã‚’å†æç”»ã™ã‚‹ã€‚\n\n## å…·ä½“çš„ãªæ‰‹æ³•\n\n### 1. Chart.jsã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—\n\npackage.jsonã«å®šç¾©ã•ã‚Œã¦ã„ã‚‹Chart.jsï¼š\n\n```json\n{\n  \"dependencies\": {\n    \"chart.js\": \"^4.4.8\"\n  }\n}\n```\n\n**Chart.js v4ã®ç‰¹å¾´**:\n- ESMå¯¾å¿œ\n- Tree-shakingå¯¾å¿œ\n- TypeScriptå¯¾å¿œ\n- `chart.js/auto`ã§å…¨æ©Ÿèƒ½ã‚’è‡ªå‹•ã‚¤ãƒ³ãƒãƒ¼ãƒˆ\n\n### 2. ChartComponentRendererã®å®Ÿè£…\n\nsrc/components/editor/component/renderers/ChartComponentRenderer.tsx (æŠœç²‹):\n\n```tsx\n\"use client\";\n\nimport React, { useEffect, useRef, useState } from \"react\";\nimport { BarChart, PieChart, LineChart } from \"lucide-react\";\nimport Chart from 'chart.js/auto';\nimport { ChartRendererProps } from \"./types\";\n\nconst ChartComponentRenderer: React.FC<ChartRendererProps> = ({\n  component,\n  definition,\n  mode,\n  isActive,\n  isSelected,\n  type\n}) => {\n  const chartRef = useRef<HTMLCanvasElement>(null);\n  const chartInstance = useRef<any>(null);\n  const [error, setError] = useState<string | null>(null);\n\n  // ãƒãƒ£ãƒ¼ãƒˆãƒ‡ãƒ¼ã‚¿ã®å–å¾—\n  const chartType = type === 'chart' ? (component.content?.type || 'bar') : type.replace('Chart', '');\n  const datasets = component.content?.datasets || [];\n  const labels = component.content?.labels || [];\n  const title = component.content?.title || \"\";\n\n  // ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼ã‚¢ã‚¤ã‚³ãƒ³ã®é¸æŠ\n  const PlaceholderIcon = type === 'pieChart' ? PieChart :\n                        type === 'lineChart' ? LineChart :\n                        BarChart;\n\n  // ãƒãƒ£ãƒ¼ãƒˆã®æç”»\n  useEffect(() => {\n    if (!chartRef.current) return;\n\n    // ãƒ‡ãƒ¼ã‚¿ãŒä¸è¶³ã—ã¦ã„ã‚‹å ´åˆã¯ã‚¨ãƒ©ãƒ¼\n    if (!datasets || datasets.length === 0) {\n      setError(\"ãƒãƒ£ãƒ¼ãƒˆãƒ‡ãƒ¼ã‚¿ãŒä¸è¶³ã—ã¦ã„ã¾ã™\");\n      return;\n    }\n\n    try {\n      // æ—¢å­˜ã®ãƒãƒ£ãƒ¼ãƒˆãŒã‚ã‚Œã°ç ´æ£„\n      if (chartInstance.current) {\n        chartInstance.current.destroy();\n        chartInstance.current = null;\n      }\n\n      // ãƒãƒ£ãƒ¼ãƒˆã®è¨­å®š\n      const ctx = chartRef.current.getContext('2d');\n      if (!ctx) {\n        setError(\"ã‚­ãƒ£ãƒ³ãƒã‚¹ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã®å–å¾—ã«å¤±æ•—ã—ã¾ã—ãŸ\");\n        return;\n      }\n\n      // ãƒãƒ£ãƒ¼ãƒˆãƒ‡ãƒ¼ã‚¿ã¨è¨­å®š\n      const data = {\n        labels,\n        datasets\n      };\n\n      // ãƒãƒ£ãƒ¼ãƒˆã‚ªãƒ—ã‚·ãƒ§ãƒ³\n      const options = {\n        responsive: true,\n        maintainAspectRatio: false,\n        plugins: {\n          title: {\n            display: !!title,\n            text: title\n          },\n          legend: {\n            position: 'top' as const,\n          },\n        }\n      };\n\n      // ãƒãƒ£ãƒ¼ãƒˆã®ä½œæˆ\n      chartInstance.current = new Chart(ctx, {\n        type: chartType,\n        data,\n        options\n      });\n\n      setError(null);\n    } catch (err) {\n      console.error(\"Chart rendering error:\", err);\n      setError(\"ãƒãƒ£ãƒ¼ãƒˆã®æç”»ä¸­ã«ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ\");\n    }\n\n    // ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ã‚¢ãƒ³ãƒã‚¦ãƒ³ãƒˆæ™‚ã«ãƒãƒ£ãƒ¼ãƒˆã‚’ç ´æ£„\n    return () => {\n      if (chartInstance.current) {\n        chartInstance.current.destroy();\n        chartInstance.current = null;\n      }\n    };\n  }, [chartType, datasets, labels, title]);\n\n  // ãƒ‡ãƒ¼ã‚¿ãŒä¸è¶³ã—ã¦ã„ã‚‹å ´åˆã®ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼\n  if ((!datasets || datasets.length === 0 || !labels || labels.length === 0) && mode === \"edit\") {\n    return (\n      <div className=\"border-2 border-dashed border-gray-300 p-4 text-center text-gray-400 h-64 flex flex-col items-center justify-center\">\n        <PlaceholderIcon size={48} className=\"mb-2\" />\n        <p className=\"text-sm font-medium\">ãƒãƒ£ãƒ¼ãƒˆãƒ‡ãƒ¼ã‚¿ã‚’è¨­å®šã—ã¦ãã ã•ã„</p>\n        <p className=\"text-xs mt-1\">ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆã¨ãƒ©ãƒ™ãƒ«ãŒå¿…è¦ã§ã™</p>\n      </div>\n    );\n  }\n\n  // ã‚¨ãƒ©ãƒ¼è¡¨ç¤º\n  if (error) {\n    return (\n      <div className=\"border border-red-300 bg-red-50 p-4 text-center text-red-500 h-64 flex items-center justify-center\">\n        <div>\n          <AlertTriangle size={24} className=\"mx-auto mb-2\" />\n          <p className=\"text-sm font-medium\">{error}</p>\n        </div>\n      </div>\n    );\n  }\n\n  // ãƒãƒ£ãƒ¼ãƒˆã‚’è¡¨ç¤º\n  return (\n    <div className=\"chart-container\" style={{ position: 'relative', height: '300px' }}>\n      <canvas ref={chartRef} />\n    </div>\n  );\n};\n\nexport default ChartComponentRenderer;\n```\n\n### 3. ãƒãƒ£ãƒ¼ãƒˆãƒ‡ãƒ¼ã‚¿ã®æ§‹é€ \n\nChart.jsã®ãƒ‡ãƒ¼ã‚¿å½¢å¼ï¼š\n\n```typescript\ninterface ChartData {\n  labels: string[];  // Xè»¸ã®ãƒ©ãƒ™ãƒ«\n  datasets: Dataset[];  // ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆ\n}\n\ninterface Dataset {\n  label: string;  // ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆå\n  data: number[];  // ãƒ‡ãƒ¼ã‚¿å€¤\n  backgroundColor?: string | string[];  // èƒŒæ™¯è‰²\n  borderColor?: string | string[];  // å¢ƒç•Œç·šè‰²\n  borderWidth?: number;  // å¢ƒç•Œç·šã®å¹…\n}\n```\n\n**ä½¿ç”¨ä¾‹**:\n```json\n{\n  \"labels\": [\"1æœˆ\", \"2æœˆ\", \"3æœˆ\", \"4æœˆ\", \"5æœˆ\"],\n  \"datasets\": [\n    {\n      \"label\": \"å£²ä¸Š\",\n      \"data\": [10, 20, 15, 25, 30],\n      \"backgroundColor\": \"rgba(54, 162, 235, 0.5)\",\n      \"borderColor\": \"rgba(54, 162, 235, 1)\",\n      \"borderWidth\": 1\n    },\n    {\n      \"label\": \"è²»ç”¨\",\n      \"data\": [8, 15, 12, 18, 22],\n      \"backgroundColor\": \"rgba(255, 99, 132, 0.5)\",\n      \"borderColor\": \"rgba(255, 99, 132, 1)\",\n      \"borderWidth\": 1\n    }\n  ]\n}\n```\n\n### 4. ãƒãƒ£ãƒ¼ãƒˆã‚¿ã‚¤ãƒ—åˆ¥ã®å®Ÿè£…\n\nChart.jsã¯ã€è¤‡æ•°ã®ãƒãƒ£ãƒ¼ãƒˆã‚¿ã‚¤ãƒ—ã‚’ã‚µãƒãƒ¼ãƒˆï¼š\n\n```tsx\n// ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®contentã‹ã‚‰å–å¾—\nconst chartType = component.content?.type || 'bar';\n\n// Chart.jsã§ã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã‚‹ã‚¿ã‚¤ãƒ—\nconst supportedTypes = [\n  'bar',      // æ£’ã‚°ãƒ©ãƒ•\n  'line',     // æŠ˜ã‚Œç·šã‚°ãƒ©ãƒ•\n  'pie',      // å††ã‚°ãƒ©ãƒ•\n  'doughnut', // ãƒ‰ãƒ¼ãƒŠãƒ„ã‚°ãƒ©ãƒ•\n  'radar',    // ãƒ¬ãƒ¼ãƒ€ãƒ¼ãƒãƒ£ãƒ¼ãƒˆ\n  'polarArea',// æ¥µåº§æ¨™ã‚¨ãƒªã‚¢ãƒãƒ£ãƒ¼ãƒˆ\n  'bubble',   // ãƒãƒ–ãƒ«ãƒãƒ£ãƒ¼ãƒˆ\n  'scatter'   // æ•£å¸ƒå›³\n];\n\n// ãƒãƒ£ãƒ¼ãƒˆã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®ä½œæˆ\nconst chart = new Chart(ctx, {\n  type: chartType,\n  data: chartData,\n  options: chartOptions\n});\n```\n\n### 5. ãƒãƒ£ãƒ¼ãƒˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º\n\nChart.jsã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§è¦‹ãŸç›®ã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºï¼š\n\n```typescript\nconst options = {\n  // ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œ\n  responsive: true,\n  maintainAspectRatio: false,\n\n  // ãƒ—ãƒ©ã‚°ã‚¤ãƒ³è¨­å®š\n  plugins: {\n    // ã‚¿ã‚¤ãƒˆãƒ«\n    title: {\n      display: true,\n      text: 'ãƒãƒ£ãƒ¼ãƒˆã‚¿ã‚¤ãƒˆãƒ«',\n      font: {\n        size: 16,\n        weight: 'bold'\n      },\n      padding: {\n        top: 10,\n        bottom: 30\n      }\n    },\n\n    // å‡¡ä¾‹\n    legend: {\n      display: true,\n      position: 'top' as const,\n      labels: {\n        boxWidth: 20,\n        padding: 15,\n        font: {\n          size: 12\n        }\n      }\n    },\n\n    // ãƒ„ãƒ¼ãƒ«ãƒãƒƒãƒ—\n    tooltip: {\n      enabled: true,\n      mode: 'index' as const,\n      intersect: false,\n      backgroundColor: 'rgba(0, 0, 0, 0.8)',\n      titleFont: {\n        size: 14\n      },\n      bodyFont: {\n        size: 12\n      },\n      callbacks: {\n        label: (context) => {\n          let label = context.dataset.label || '';\n          if (label) {\n            label += ': ';\n          }\n          label += context.parsed.y.toFixed(2);\n          return label;\n        }\n      }\n    }\n  },\n\n  // ã‚¹ã‚±ãƒ¼ãƒ«è¨­å®šï¼ˆXè»¸ã€Yè»¸ï¼‰\n  scales: {\n    x: {\n      display: true,\n      title: {\n        display: true,\n        text: 'Xè»¸ãƒ©ãƒ™ãƒ«'\n      },\n      grid: {\n        display: false\n      }\n    },\n    y: {\n      display: true,\n      title: {\n        display: true,\n        text: 'Yè»¸ãƒ©ãƒ™ãƒ«'\n      },\n      beginAtZero: true,\n      grid: {\n        color: 'rgba(0, 0, 0, 0.1)'\n      }\n    }\n  },\n\n  // ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³\n  animation: {\n    duration: 1000,\n    easing: 'easeInOutQuart'\n  }\n};\n```\n\n### 6. ãƒ†ãƒ¼ãƒã‚«ãƒ©ãƒ¼ã®é©ç”¨\n\nå‹•çš„ãƒ†ãƒ¼ãƒã‚·ã‚¹ãƒ†ãƒ ã®ã‚«ãƒ©ãƒ¼ã‚’ãƒãƒ£ãƒ¼ãƒˆã«é©ç”¨ï¼š\n\n```typescript\n// ãƒ†ãƒ¼ãƒã‹ã‚‰ã‚«ãƒ©ãƒ¼ã‚’å–å¾—\nconst theme = useTemplateStore(state =>\n  state.selectedThemeId ? state.themes.items[state.selectedThemeId] : null\n);\n\nconst chartColors = theme?.colors.components.chart || {\n  primary: '#3366CC',\n  secondary: '#36B37E',\n  tertiary: '#FF9933',\n  quaternary: '#FFCC00'\n};\n\n// ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆã«ã‚«ãƒ©ãƒ¼ã‚’é©ç”¨\nconst datasets = component.content?.datasets.map((dataset, index) => {\n  const colorKeys = ['primary', 'secondary', 'tertiary', 'quaternary'];\n  const colorKey = colorKeys[index % colorKeys.length];\n  const color = chartColors[colorKey];\n\n  return {\n    ...dataset,\n    backgroundColor: color,\n    borderColor: color,\n    borderWidth: 2\n  };\n});\n```\n\n### 7. ãƒãƒ£ãƒ¼ãƒˆã®æ›´æ–°\n\nãƒ‡ãƒ¼ã‚¿ãŒå¤‰æ›´ã•ã‚ŒãŸã¨ãã«ãƒãƒ£ãƒ¼ãƒˆã‚’æ›´æ–°ï¼š\n\n```typescript\n// ãƒ‡ãƒ¼ã‚¿ãŒå¤‰æ›´ã•ã‚ŒãŸã¨ãã«å†æç”»\nuseEffect(() => {\n  if (!chartInstance.current) return;\n\n  // ãƒãƒ£ãƒ¼ãƒˆãƒ‡ãƒ¼ã‚¿ã‚’æ›´æ–°\n  chartInstance.current.data.labels = labels;\n  chartInstance.current.data.datasets = datasets;\n\n  // ãƒãƒ£ãƒ¼ãƒˆã‚’å†æç”»\n  chartInstance.current.update();\n}, [labels, datasets]);\n```\n\n### 8. ãƒãƒ£ãƒ¼ãƒˆã®ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ\n\nãƒãƒ£ãƒ¼ãƒˆã‚’ç”»åƒã¨ã—ã¦ä¿å­˜ï¼š\n\n```typescript\n// ãƒãƒ£ãƒ¼ãƒˆã‚’PNGç”»åƒã¨ã—ã¦ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ\nconst exportChartAsImage = () => {\n  if (!chartInstance.current) return;\n\n  const canvas = chartInstance.current.canvas;\n  const url = canvas.toDataURL('image/png');\n\n  // ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ãƒªãƒ³ã‚¯ã‚’ä½œæˆ\n  const link = document.createElement('a');\n  link.href = url;\n  link.download = 'chart.png';\n  link.click();\n};\n\n// PDFã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆæ™‚ã«ã‚‚ä½¿ç”¨\nconst getChartImageDataURL = (): string => {\n  if (!chartInstance.current) return '';\n  return chartInstance.current.canvas.toDataURL('image/png');\n};\n```\n\n### 9. AIç”Ÿæˆãƒ‡ãƒ¼ã‚¿ã®çµ±åˆ\n\nAIãŒç”Ÿæˆã—ãŸãƒ‡ãƒ¼ã‚¿ã‚’ãƒãƒ£ãƒ¼ãƒˆã«è¡¨ç¤ºï¼š\n\n```typescript\n// AIç”Ÿæˆãƒ‡ãƒ¼ã‚¿ã®ä¾‹\nconst aiGeneratedData = {\n  title: \"æœˆåˆ¥å£²ä¸Šæ¨ç§»\",\n  labels: [\"1æœˆ\", \"2æœˆ\", \"3æœˆ\", \"4æœˆ\", \"5æœˆ\", \"6æœˆ\"],\n  datasets: [\n    {\n      label: \"å£²ä¸Šï¼ˆä¸‡å††ï¼‰\",\n      data: [120, 150, 180, 200, 170, 220]\n    }\n  ]\n};\n\n// ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«é©ç”¨\nuseComponentStore.getState().updateComponentContent(componentId, {\n  type: 'bar',\n  title: aiGeneratedData.title,\n  labels: aiGeneratedData.labels,\n  datasets: aiGeneratedData.datasets\n});\n```\n\n## ãªãœã“ã®æ‰‹æ³•ã‚’ä½¿ã†ã‹\n\n**ç†ç”±1ï¼šé«˜å“è³ªãªãƒ“ã‚¸ãƒ¥ã‚¢ãƒ©ã‚¤ã‚¼ãƒ¼ã‚·ãƒ§ãƒ³**\n- Chart.jsã¯ã€ãƒ—ãƒ­ãƒ•ã‚§ãƒƒã‚·ãƒ§ãƒŠãƒ«ãªãƒãƒ£ãƒ¼ãƒˆã‚’ç°¡å˜ã«ä½œæˆã§ãã‚‹\n- è¤‡æ•°ã®ãƒãƒ£ãƒ¼ãƒˆã‚¿ã‚¤ãƒ—ã‚’ã‚µãƒãƒ¼ãƒˆ\n- ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã€ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œ\n\n**ç†ç”±2ï¼šCanvas APIã®æ´»ç”¨**\n- Canvasè¦ç´ ã‚’ä½¿ç”¨ã™ã‚‹ãŸã‚ã€é«˜é€Ÿ\n- ç”»åƒã¨ã—ã¦ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆå¯èƒ½ï¼ˆPDFç”Ÿæˆã«ä¾¿åˆ©ï¼‰\n\n**ç†ç”±3ï¼šã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºæ€§**\n- ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§ç´°ã‹ãèª¿æ•´å¯èƒ½\n- ãƒ†ãƒ¼ãƒã‚«ãƒ©ãƒ¼ã‚’å‹•çš„ã«é©ç”¨\n\n**ç†ç”±4ï¼šTypeScriptå¯¾å¿œ**\n- Chart.js v4ã¯å®Œå…¨ãªTypeScriptã‚µãƒãƒ¼ãƒˆ\n- å‹å®‰å…¨ãªAPI\n\n**ç†ç”±5ï¼šè»½é‡**\n- Tree-shakingã§ä¸è¦ãªã‚³ãƒ¼ãƒ‰ã‚’å‰Šé™¤\n- å¿…è¦ãªãƒãƒ£ãƒ¼ãƒˆã‚¿ã‚¤ãƒ—ã®ã¿ã‚¤ãƒ³ãƒãƒ¼ãƒˆ\n\n## å†ç¾æ–¹æ³•\n\n### ã‚¹ãƒ†ãƒƒãƒ—1ï¼šChart.jsã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\n\n```bash\nnpm install chart.js\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2ï¼šCanvasã‚’ä½œæˆ\n\n```tsx\nimport { useRef, useEffect } from 'react';\nimport Chart from 'chart.js/auto';\n\nconst MyChart = () => {\n  const chartRef = useRef<HTMLCanvasElement>(null);\n\n  useEffect(() => {\n    if (!chartRef.current) return;\n\n    const ctx = chartRef.current.getContext('2d');\n    if (!ctx) return;\n\n    const chart = new Chart(ctx, {\n      type: 'bar',\n      data: {\n        labels: ['Red', 'Blue', 'Yellow'],\n        datasets: [{\n          label: 'My First Dataset',\n          data: [12, 19, 3],\n          backgroundColor: ['rgba(255, 99, 132, 0.5)', 'rgba(54, 162, 235, 0.5)', 'rgba(255, 206, 86, 0.5)']\n        }]\n      }\n    });\n\n    return () => {\n      chart.destroy();\n    };\n  }, []);\n\n  return <canvas ref={chartRef} />;\n};\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3ï¼šãƒ‡ãƒ¼ã‚¿ã‚’å‹•çš„ã«å¤‰æ›´\n\n```tsx\nconst [data, setData] = useState([12, 19, 3]);\n\nuseEffect(() => {\n  if (!chartInstance.current) return;\n  chartInstance.current.data.datasets[0].data = data;\n  chartInstance.current.update();\n}, [data]);\n```\n\n## ã„ã¤ä½¿ã†ã‹\n\n- **ãƒ‡ãƒ¼ã‚¿ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ©ã‚¤ã‚¼ãƒ¼ã‚·ãƒ§ãƒ³**: ãƒ‡ãƒ¼ã‚¿ã‚’ã‚°ãƒ©ãƒ•ã§è¡¨ç¤ºã—ãŸã„å ´åˆ\n- **ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ**: äº‹æ¥­è¨ˆç”»æ›¸ã€ãƒ—ãƒ¬ã‚¼ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³\n- **ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰**: ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ‡ãƒ¼ã‚¿ã®å¯è¦–åŒ–\n- **PDFç”Ÿæˆ**: Canvasè¦ç´ ã‚’ç”»åƒã¨ã—ã¦PDFã«åŸ‹ã‚è¾¼ã‚€\n\n## æ³¨æ„ç‚¹\n\n### 1. ãƒ¡ãƒ¢ãƒªãƒªãƒ¼ã‚¯\n\nChart.jsã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ç ´æ£„ã—ãªã„ã¨ã€ãƒ¡ãƒ¢ãƒªãƒªãƒ¼ã‚¯ãŒç™ºç”Ÿã€‚\n\n**å¯¾ç­–**:\n```typescript\nuseEffect(() => {\n  const chart = new Chart(ctx, config);\n  return () => {\n    chart.destroy();  // å¿…ãšç ´æ£„\n  };\n}, []);\n```\n\n### 2. SSRå¯¾å¿œ\n\nChart.jsã¯ã€ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ã§ã¯å‹•ä½œã—ãªã„ï¼ˆ`window`ã€`document`ãŒå¿…è¦ï¼‰ã€‚\n\n**å¯¾ç­–**:\n```tsx\n\"use client\";  // Next.jsã®ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ\n```\n\n### 3. ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œ\n\nå›ºå®šã‚µã‚¤ã‚ºã ã¨ã€ç”»é¢ã‚µã‚¤ã‚ºã«å¿œã˜ã¦ãƒãƒ£ãƒ¼ãƒˆãŒå´©ã‚Œã‚‹ã€‚\n\n**å¯¾ç­–**:\n```typescript\nconst options = {\n  responsive: true,\n  maintainAspectRatio: false\n};\n```\n\n### 4. ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹\n\nå¤§é‡ã®ãƒ‡ãƒ¼ã‚¿ãƒã‚¤ãƒ³ãƒˆãŒã‚ã‚‹ã¨ã€æç”»ãŒé…ããªã‚‹ã€‚\n\n**å¯¾ç­–**:\n- ãƒ‡ãƒ¼ã‚¿ã‚’é–“å¼•ã\n- ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ç„¡åŠ¹åŒ–ï¼ˆ`animation: false`ï¼‰\n\n### 5. PDFç”Ÿæˆæ™‚ã®è§£åƒåº¦\n\nCanvasè¦ç´ ã¯ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ä½è§£åƒåº¦ã€‚\n\n**å¯¾ç­–**:\n```typescript\n// é«˜è§£åƒåº¦ã§ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ\nconst canvas = chartInstance.current.canvas;\ncanvas.toDataURL('image/png', 1.0);  // æœ€é«˜å“è³ª\n```\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `skill_component_dynamic_rendering_2025_04_11.md`: ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå‹•çš„ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ï¼ˆChartComponentRendererã®çµ±åˆï¼‰\n",
    "prompt": "### ã‚¹ãƒ†ãƒƒãƒ—1ï¼šChart.jsã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\n\n```bash\nnpm install chart.js\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2ï¼šCanvasã‚’ä½œæˆ\n\n```tsx\nimport { useRef, useEffect } from 'react';\nimport Chart from 'chart.js/auto';\n\nconst MyChart = () => {\n  const chartRef = useRef<HTMLCanvasElement>(null);\n\n  useEffect(() => {\n    if (!chartRef.current) return;\n\n    const ctx = chartRef.current.getContext('2d');\n    if (!ctx) return;\n\n    const chart = new Chart(ctx, {\n      type: 'bar',\n      data: {\n        labels: ['Red', 'Blue', 'Yellow'],\n        datasets: [{\n          label: 'My First Dataset',\n          data: [12, 19, 3],\n          backgroundColor: ['rgba(255, 99, 132, 0.5)', 'rgba(54, 162, 235, 0.5)', 'rgba(255, 206, 86, 0.5)']\n        }]\n      }\n    });\n\n    return () => {\n      chart.destroy();\n    };\n  }, []);\n\n  return <canvas ref={chartRef} />;\n};\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3ï¼šãƒ‡ãƒ¼ã‚¿ã‚’å‹•çš„ã«å¤‰æ›´\n\n```tsx\nconst [data, setData] = useState([12, 19, 3]);\n\nuseEffect(() => {\n  if (!chartInstance.current) return;\n  chartInstance.current.data.datasets[0].data = data;\n  chartInstance.current.update();\n}, [data]);\n```",
    "relatedTech": [
      "skill-component-dynamic-rendering"
    ]
  },
  {
    "slug": "company-name-normalization-function",
    "title": "ä¼æ¥­åæ­£è¦åŒ–é–¢æ•°å®Ÿè£…",
    "category": "Skillsï¼ˆã‚¹ã‚­ãƒ«ãƒ»æ‰‹æ³•ï¼‰",
    "description": "ä¼æ¥­åã®è¡¨è¨˜ã‚†ã‚Œï¼ˆã€Œæ ªå¼ä¼šç¤¾ãƒ†ã‚¹ãƒˆã€ã€Œï¼ˆæ ªï¼‰ãƒ†ã‚¹ãƒˆã€ã€Œãƒ†ã‚¹ãƒˆã€ãªã©ï¼‰ã‚’å¸åã—ã€åŒä¸€ä¼æ¥­ã‚’åˆ¤åˆ¥å¯èƒ½ãªæ­£è¦åŒ–æ–‡å­—åˆ—ã‚’ç”Ÿæˆã™ã‚‹é–¢æ•°ã‚’å®Ÿè£…ã™ã‚‹æ‰‹æ³•ã€‚",
    "project": "yumesuta-management-system",
    "usedIn": [
      "lib/normalize-company-name.ts:1-31"
    ],
    "code": "```json\n{\n  \"id\": \"skill_company_name_normalization_function_2025_11_24\",\n  \"type\": \"skill\",\n  \"name\": \"ä¼æ¥­åæ­£è¦åŒ–é–¢æ•°å®Ÿè£…\",\n  \"tags\": [\"ä¼æ¥­å\", \"æ­£è¦åŒ–\", \"è¡¨è¨˜ã‚†ã‚Œ\", \"ãƒ‡ãƒ¼ã‚¿ãƒãƒƒãƒãƒ³ã‚°\", \"æ–‡å­—åˆ—å‡¦ç†\", \"æ³•äººæ ¼é™¤å»\"],\n  \"source_project\": \"yumesuta-management-system\",\n  \"source_file\": \"lib/normalize-company-name.ts:1-31\",\n  \"related_knowledge\": [\n    \"decision_design_company_name_normalization_2025_11_24\"\n  ],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-24\",\n  \"updated\": \"2025-11-24\"\n}\n```\n\n# ä¼æ¥­åæ­£è¦åŒ–é–¢æ•°å®Ÿè£…\n\n## ä½•ã‚’ã™ã‚‹ã‚¹ã‚­ãƒ«ã‹\n\nä¼æ¥­åã®è¡¨è¨˜ã‚†ã‚Œï¼ˆã€Œæ ªå¼ä¼šç¤¾ãƒ†ã‚¹ãƒˆã€ã€Œï¼ˆæ ªï¼‰ãƒ†ã‚¹ãƒˆã€ã€Œãƒ†ã‚¹ãƒˆã€ãªã©ï¼‰ã‚’å¸åã—ã€åŒä¸€ä¼æ¥­ã‚’åˆ¤åˆ¥å¯èƒ½ãªæ­£è¦åŒ–æ–‡å­—åˆ—ã‚’ç”Ÿæˆã™ã‚‹é–¢æ•°ã‚’å®Ÿè£…ã™ã‚‹æ‰‹æ³•ã€‚\n\n## å…·ä½“çš„ãªæ‰‹æ³•\n\n### normalizeCompanyNameé–¢æ•°ã®å®Ÿè£…\n\n```typescript\n/**\n * ä¼æ¥­åã‚’æ­£è¦åŒ–ã—ã¦æ¯”è¼ƒç”¨ã®æ–‡å­—åˆ—ã‚’è¿”ã™\n *\n * ç›®çš„: è¡¨è¨˜ã‚†ã‚Œã«å¯¾å¿œã—ãŸä¼æ¥­åã®åˆ¤åˆ¥\n *\n * æ­£è¦åŒ–ãƒ«ãƒ¼ãƒ«:\n * 1. æ³•äººæ ¼ã‚’å‰Šé™¤ï¼ˆæ ªå¼ä¼šç¤¾ã€ï¼ˆæ ªï¼‰ã€æœ‰é™ä¼šç¤¾ãªã©ï¼‰\n * 2. å…¨è§’ãƒ»åŠè§’ã‚¹ãƒšãƒ¼ã‚¹ã‚’å‰Šé™¤\n * 3. å°æ–‡å­—ã«å¤‰æ›\n * 4. æ‹¬å¼§ã¯ä¿æŒï¼ˆåˆ¥æ‹ ç‚¹ã‚’åŒºåˆ¥ã™ã‚‹ãŸã‚ï¼‰\n *\n * ä¾‹:\n * - \"æ ªå¼ä¼šç¤¾ãƒ†ã‚¹ãƒˆ\" â†’ \"ã¦ã™ã¨\"\n * - \"ï¼ˆæ ªï¼‰ãƒ†ã‚¹ãƒˆ\" â†’ \"ã¦ã™ã¨\"\n * - \"ä¸‰äº”ï¼ˆã„ãªã¹å·¥å ´ï¼‰\" â†’ \"ä¸‰äº”ï¼ˆã„ãªã¹å·¥å ´ï¼‰\"\n * - \"NTNæ¡‘åè£½ä½œæ‰€\" â†’ \"ntnæ¡‘åè£½ä½œæ‰€\"\n */\nexport function normalizeCompanyName(name: string): string {\n  if (!name) return '';\n\n  return name\n    // æ³•äººæ ¼ã‚’å‰Šé™¤\n    .replace(/æ ªå¼ä¼šç¤¾|ï¼ˆæ ªï¼‰|\\(æ ª\\)|æœ‰é™ä¼šç¤¾|ï¼ˆæœ‰ï¼‰|\\(æœ‰\\)|åˆåŒä¼šç¤¾|åˆè³‡ä¼šç¤¾|åˆåä¼šç¤¾/g, '')\n    // å…¨è§’ãƒ»åŠè§’ã‚¹ãƒšãƒ¼ã‚¹ã‚’å‰Šé™¤\n    .replace(/[\\s\\u3000]+/g, '')\n    // å°æ–‡å­—ã«å¤‰æ›\n    .toLowerCase()\n    // ãƒˆãƒªãƒ \n    .trim();\n}\n```\n\n### æ­£è¦åŒ–ãƒ«ãƒ¼ãƒ«ã®è©³ç´°\n\n#### ãƒ«ãƒ¼ãƒ«1: æ³•äººæ ¼ã®å‰Šé™¤\n\nä»¥ä¸‹ã®æ³•äººæ ¼è¡¨è¨˜ã‚’å‰Šé™¤ï¼š\n- `æ ªå¼ä¼šç¤¾`\n- `ï¼ˆæ ªï¼‰`\n- `(æ ª)`\n- `æœ‰é™ä¼šç¤¾`\n- `ï¼ˆæœ‰ï¼‰`\n- `(æœ‰)`\n- `åˆåŒä¼šç¤¾`\n- `åˆè³‡ä¼šç¤¾`\n- `åˆåä¼šç¤¾`\n\n**æ­£è¦è¡¨ç¾**:\n```typescript\n.replace(/æ ªå¼ä¼šç¤¾|ï¼ˆæ ªï¼‰|\\(æ ª\\)|æœ‰é™ä¼šç¤¾|ï¼ˆæœ‰ï¼‰|\\(æœ‰\\)|åˆåŒä¼šç¤¾|åˆè³‡ä¼šç¤¾|åˆåä¼šç¤¾/g, '')\n```\n\n#### ãƒ«ãƒ¼ãƒ«2: å…¨è§’ãƒ»åŠè§’ã‚¹ãƒšãƒ¼ã‚¹ã®å‰Šé™¤\n\nå…¨è§’ã‚¹ãƒšãƒ¼ã‚¹ï¼ˆ`ã€€`ï¼‰ã¨åŠè§’ã‚¹ãƒšãƒ¼ã‚¹ï¼ˆ` `ï¼‰ã‚’å‰Šé™¤ã€‚\n\n**æ­£è¦è¡¨ç¾**:\n```typescript\n.replace(/[\\s\\u3000]+/g, '')\n```\n\n- `\\s`: åŠè§’ã‚¹ãƒšãƒ¼ã‚¹ã€ã‚¿ãƒ–ã€æ”¹è¡Œãªã©\n- `\\u3000`: å…¨è§’ã‚¹ãƒšãƒ¼ã‚¹\n\n#### ãƒ«ãƒ¼ãƒ«3: å°æ–‡å­—ã«å¤‰æ›\n\nè‹±æ•°å­—ã‚’å°æ–‡å­—ã«å¤‰æ›ã™ã‚‹ã“ã¨ã§ã€å¤§æ–‡å­—ãƒ»å°æ–‡å­—ã®é•ã„ã‚’å¸åã€‚\n\n```typescript\n.toLowerCase()\n```\n\n#### ãƒ«ãƒ¼ãƒ«4: æ‹¬å¼§ã¯ä¿æŒ\n\nåŒã˜ä¼æ¥­åã§ã‚‚æ‹ ç‚¹ãŒç•°ãªã‚‹å ´åˆï¼ˆä¾‹: ã€Œä¸‰äº”ï¼ˆã„ãªã¹å·¥å ´ï¼‰ã€ã€Œä¸‰äº”ï¼ˆæ¡‘åå·¥å ´ï¼‰ã€ï¼‰ã‚’åŒºåˆ¥ã™ã‚‹ãŸã‚ã€æ‹¬å¼§ã¯å‰Šé™¤ã—ãªã„ã€‚\n\n### ä½¿ç”¨ä¾‹\n\n#### ä¾‹1: ä¼æ¥­ãƒã‚¹ã‚¿ãƒ¼ã§ã®é‡è¤‡ãƒã‚§ãƒƒã‚¯\n\n```typescript\nimport { normalizeCompanyName } from '@/lib/normalize-company-name';\n\n// ä¼æ¥­ãƒã‚¹ã‚¿ãƒ¼ã‹ã‚‰ä¼æ¥­åã‚’å–å¾—\nconst companies = [\n  { id: 1, name: 'æ ªå¼ä¼šç¤¾ãƒ†ã‚¹ãƒˆ' },\n  { id: 2, name: 'ï¼ˆæ ªï¼‰ãƒ†ã‚¹ãƒˆ' },\n  { id: 3, name: 'ãƒ†ã‚¹ãƒˆ' },\n  { id: 4, name: 'æ ªå¼ä¼šç¤¾ã‚µãƒ³ãƒ—ãƒ«' },\n];\n\n// æ­£è¦åŒ–å¾Œã®ä¼æ¥­åã§ã‚°ãƒ«ãƒ¼ãƒ”ãƒ³ã‚°\nconst normalized = companies.map(company => ({\n  ...company,\n  normalizedName: normalizeCompanyName(company.name),\n}));\n\n// é‡è¤‡ã‚’æ¤œå‡º\nconst duplicates = normalized.filter((company, index, arr) =>\n  arr.findIndex(c => c.normalizedName === company.normalizedName) !== index\n);\n\nconsole.log(duplicates);\n// â†’ [\n//   { id: 2, name: 'ï¼ˆæ ªï¼‰ãƒ†ã‚¹ãƒˆ', normalizedName: 'ã¦ã™ã¨' },\n//   { id: 3, name: 'ãƒ†ã‚¹ãƒˆ', normalizedName: 'ã¦ã™ã¨' }\n// ]\n```\n\n#### ä¾‹2: å¥‘ç´„ä½œæˆæ™‚ã®æ—¢å­˜ä¼æ¥­æ¤œç´¢\n\n```typescript\nimport { normalizeCompanyName } from '@/lib/normalize-company-name';\n\n// ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒå…¥åŠ›ã—ãŸä¼æ¥­å\nconst inputCompanyName = 'ï¼ˆæ ªï¼‰ãƒ†ã‚¹ãƒˆ';\n\n// ä¼æ¥­ãƒã‚¹ã‚¿ãƒ¼ã‹ã‚‰å…¨ä¼æ¥­ã‚’å–å¾—\nconst companies = await getCompanies();\n\n// æ­£è¦åŒ–å¾Œã®åå‰ã§æ¤œç´¢\nconst normalizedInput = normalizeCompanyName(inputCompanyName);\nconst existingCompany = companies.find(\n  company => normalizeCompanyName(company.name) === normalizedInput\n);\n\nif (existingCompany) {\n  console.log(`æ—¢å­˜ä¼æ¥­ãŒè¦‹ã¤ã‹ã‚Šã¾ã—ãŸ: ${existingCompany.name}`);\n  // â†’ \"æ—¢å­˜ä¼æ¥­ãŒè¦‹ã¤ã‹ã‚Šã¾ã—ãŸ: æ ªå¼ä¼šç¤¾ãƒ†ã‚¹ãƒˆ\"\n} else {\n  console.log('æ–°è¦ä¼æ¥­ã§ã™');\n}\n```\n\n#### ä¾‹3: æ‹ ç‚¹åˆ¥ã®åŒºåˆ¥\n\n```typescript\nimport { normalizeCompanyName } from '@/lib/normalize-company-name';\n\nconst company1 = 'ä¸‰äº”ï¼ˆã„ãªã¹å·¥å ´ï¼‰';\nconst company2 = 'ä¸‰äº”ï¼ˆæ¡‘åå·¥å ´ï¼‰';\n\nconsole.log(normalizeCompanyName(company1)); // â†’ \"ä¸‰äº”ï¼ˆã„ãªã¹å·¥å ´ï¼‰\"\nconsole.log(normalizeCompanyName(company2)); // â†’ \"ä¸‰äº”ï¼ˆæ¡‘åå·¥å ´ï¼‰\"\n\n// æ‹¬å¼§ãŒä¿æŒã•ã‚Œã‚‹ãŸã‚ã€åˆ¥ä¼æ¥­ã¨ã—ã¦åˆ¤åˆ¥ã•ã‚Œã‚‹\n```\n\n## ãªãœã“ã®æ‰‹æ³•ã‚’ä½¿ã†ã‹\n\n### ç†ç”±1: å®Ÿå‹™ã§ã®è¡¨è¨˜ã‚†ã‚Œã‚’è‡ªå‹•çš„ã«å¸å\n\nå®Ÿéš›ã®ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã‚„å–¶æ¥­è³‡æ–™ã§ã¯ã€åŒã˜ä¼æ¥­ãŒç•°ãªã‚‹è¡¨è¨˜ã§è¨˜éŒ²ã•ã‚Œã‚‹ã“ã¨ãŒå¤šã„ã€‚\n\n**ä¾‹**:\n- å–¶æ¥­æ‹…å½“Aã•ã‚“: ã€Œæ ªå¼ä¼šç¤¾ãƒ†ã‚¹ãƒˆã€\n- å–¶æ¥­æ‹…å½“Bã•ã‚“: ã€Œï¼ˆæ ªï¼‰ãƒ†ã‚¹ãƒˆã€\n- å–¶æ¥­æ‹…å½“Cã•ã‚“: ã€Œãƒ†ã‚¹ãƒˆã€\n\nâ†’ å…¨ã¦åŒä¸€ä¼æ¥­ã¨ã—ã¦æ‰±ã†å¿…è¦ãŒã‚ã‚‹ã€‚\n\n### ç†ç”±2: å¥‘ç´„é‡è¤‡ã®é˜²æ­¢\n\næ–°è¦å¥‘ç´„ä½œæˆæ™‚ã«ã€æ—¢ã«åŒã˜ä¼æ¥­ã®å¥‘ç´„ãŒå­˜åœ¨ã™ã‚‹ã‹ã‚’æ­£ç¢ºã«åˆ¤å®šã§ãã‚‹ã€‚\n\n**æ­£è¦åŒ–ãªã—ã®å ´åˆ**:\n```typescript\n// âŒ æ‚ªã„ä¾‹: å®Œå…¨ä¸€è‡´ã§åˆ¤å®š\nif (inputName === existingCompany.name) {\n  // ã€Œæ ªå¼ä¼šç¤¾ãƒ†ã‚¹ãƒˆã€ã¨ã€Œï¼ˆæ ªï¼‰ãƒ†ã‚¹ãƒˆã€ãŒåˆ¥ä¼æ¥­ã¨åˆ¤æ–­ã•ã‚Œã‚‹\n}\n```\n\n**æ­£è¦åŒ–ã‚ã‚Šã®å ´åˆ**:\n```typescript\n// âœ… è‰¯ã„ä¾‹: æ­£è¦åŒ–å¾Œã«åˆ¤å®š\nif (normalizeCompanyName(inputName) === normalizeCompanyName(existingCompany.name)) {\n  // ã€Œæ ªå¼ä¼šç¤¾ãƒ†ã‚¹ãƒˆã€ã¨ã€Œï¼ˆæ ªï¼‰ãƒ†ã‚¹ãƒˆã€ãŒåŒä¸€ä¼æ¥­ã¨åˆ¤æ–­ã•ã‚Œã‚‹\n}\n```\n\n### ç†ç”±3: æ‹ ç‚¹ã®åŒºåˆ¥ã‚’ç¶­æŒ\n\nåŒã˜ä¼æ¥­ã§ã‚‚æ‹ ç‚¹ãŒç•°ãªã‚‹å ´åˆã¯ã€åˆ¥ä¼æ¥­ã¨ã—ã¦æ‰±ã†å¿…è¦ãŒã‚ã‚‹ã€‚æ‹¬å¼§ã‚’ä¿æŒã™ã‚‹ã“ã¨ã§ã€æ‹ ç‚¹æƒ…å ±ã‚’ç¶­æŒã§ãã‚‹ã€‚\n\n**ä¾‹**:\n- ã€Œä¸‰äº”ï¼ˆã„ãªã¹å·¥å ´ï¼‰ã€\n- ã€Œä¸‰äº”ï¼ˆæ¡‘åå·¥å ´ï¼‰ã€\n\nâ†’ æ­£è¦åŒ–å¾Œã‚‚åŒºåˆ¥ã•ã‚Œã‚‹ã€‚\n\n## å†ç¾æ–¹æ³•\n\n### ã‚¹ãƒ†ãƒƒãƒ—1: é–¢æ•°ã®ä½œæˆ\n\n`lib/normalize-company-name.ts`ã‚’ä½œæˆï¼š\n\n```typescript\n/**\n * ä¼æ¥­åã‚’æ­£è¦åŒ–ã—ã¦æ¯”è¼ƒç”¨ã®æ–‡å­—åˆ—ã‚’è¿”ã™\n */\nexport function normalizeCompanyName(name: string): string {\n  if (!name) return '';\n\n  return name\n    .replace(/æ ªå¼ä¼šç¤¾|ï¼ˆæ ªï¼‰|\\(æ ª\\)|æœ‰é™ä¼šç¤¾|ï¼ˆæœ‰ï¼‰|\\(æœ‰\\)|åˆåŒä¼šç¤¾|åˆè³‡ä¼šç¤¾|åˆåä¼šç¤¾/g, '')\n    .replace(/[\\s\\u3000]+/g, '')\n    .toLowerCase()\n    .trim();\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2: API Routeã§ä½¿ç”¨\n\n```typescript\nimport { normalizeCompanyName } from '@/lib/normalize-company-name';\nimport { getSheetData } from '@/lib/google-sheets';\nimport { NextResponse } from 'next/server';\n\nexport async function POST(request: Request) {\n  const { companyName } = await request.json();\n\n  const spreadsheetId = process.env.COMPANY_MASTER_SPREADSHEET_ID!;\n  const companies = await getSheetData(spreadsheetId, 'ä¼æ¥­ãƒã‚¹ã‚¿ãƒ¼!A1:Z100');\n\n  // æ­£è¦åŒ–å¾Œã®åå‰ã§æ¤œç´¢\n  const normalizedInput = normalizeCompanyName(companyName);\n  const existingCompany = companies.slice(1).find(row => {\n    const name = row[0]; // Aåˆ—: ä¼æ¥­å\n    return normalizeCompanyName(name) === normalizedInput;\n  });\n\n  if (existingCompany) {\n    return NextResponse.json({\n      success: true,\n      exists: true,\n      company: { name: existingCompany[0] },\n    });\n  } else {\n    return NextResponse.json({\n      success: true,\n      exists: false,\n    });\n  }\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3: ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã§ä½¿ç”¨\n\n```typescript\n'use client';\nimport { useState } from 'react';\n\nexport default function CompanyForm() {\n  const [companyName, setCompanyName] = useState('');\n  const [duplicate, setDuplicate] = useState<string | null>(null);\n\n  const checkDuplicate = async () => {\n    const res = await fetch('/api/company-master/check-duplicate', {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ companyName }),\n    });\n\n    const data = await res.json();\n\n    if (data.exists) {\n      setDuplicate(`æ—¢ã«ç™»éŒ²ã•ã‚Œã¦ã„ã¾ã™: ${data.company.name}`);\n    } else {\n      setDuplicate(null);\n    }\n  };\n\n  return (\n    <div>\n      <input\n        type=\"text\"\n        value={companyName}\n        onChange={e => setCompanyName(e.target.value)}\n        onBlur={checkDuplicate}\n      />\n      {duplicate && <p className=\"text-red-600\">{duplicate}</p>}\n    </div>\n  );\n}\n```\n\n## ã„ã¤ä½¿ã†ã‹\n\n### å ´é¢1: ä¼æ¥­ãƒã‚¹ã‚¿ãƒ¼ã§é‡è¤‡ã‚’ãƒã‚§ãƒƒã‚¯ã™ã‚‹\n\næ–°è¦ä¼æ¥­ç™»éŒ²æ™‚ã«ã€æ—¢å­˜ä¼æ¥­ã¨ã®é‡è¤‡ã‚’ãƒã‚§ãƒƒã‚¯ã™ã‚‹ã€‚\n\n### å ´é¢2: å¥‘ç´„ä½œæˆæ™‚ã«æ—¢å­˜ä¼æ¥­ã‚’æ¤œç´¢ã™ã‚‹\n\nãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒå…¥åŠ›ã—ãŸä¼æ¥­åã‹ã‚‰ã€æ—¢å­˜ã®ä¼æ¥­ãƒã‚¹ã‚¿ãƒ¼ã‚’æ¤œç´¢ã™ã‚‹ã€‚\n\n### å ´é¢3: è¤‡æ•°ã®ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ï¼ˆã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã€ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ï¼‰ã‚’çµ±åˆã™ã‚‹\n\nç•°ãªã‚‹ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ã‹ã‚‰ä¼æ¥­åã‚’å–å¾—ã—ã€æ­£è¦åŒ–å¾Œã«çµ±åˆã™ã‚‹ã“ã¨ã§ã€åŒä¸€ä¼æ¥­ã‚’ç‰¹å®šã§ãã‚‹ã€‚\n\n## æ³¨æ„ç‚¹\n\n### æ³¨æ„ç‚¹1: æ‹¬å¼§å†…ã®æƒ…å ±ã«ã‚ˆã£ã¦åŒºåˆ¥ã•ã‚Œã‚‹\n\nåŒã˜ä¼æ¥­åã§ã‚‚æ‹¬å¼§å†…ã®æƒ…å ±ãŒç•°ãªã‚‹å ´åˆã€åˆ¥ä¼æ¥­ã¨ã—ã¦æ‰±ã‚ã‚Œã‚‹ã€‚\n\n**ä¾‹**:\n- ã€Œä¸‰äº”ï¼ˆã„ãªã¹å·¥å ´ï¼‰ã€\n- ã€Œä¸‰äº”ï¼ˆæ¡‘åå·¥å ´ï¼‰ã€\n\nâ†’ æ­£è¦åŒ–å¾Œã‚‚åˆ¥ä¼æ¥­ã€‚\n\nã‚‚ã—æ‹ ç‚¹ã‚’åŒºåˆ¥ã—ãªã„å ´åˆã¯ã€æ‹¬å¼§ã‚‚å‰Šé™¤ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ï¼š\n\n```typescript\n.replace(/[ï¼ˆï¼‰()]/g, '') // æ‹¬å¼§ã‚’å‰Šé™¤\n```\n\n### æ³¨æ„ç‚¹2: è‹±æ•°å­—ã®å¤§æ–‡å­—ãƒ»å°æ–‡å­—ã¯å¸åã•ã‚Œã‚‹\n\n`toLowerCase()` ã«ã‚ˆã‚Šã€è‹±æ•°å­—ã®å¤§æ–‡å­—ãƒ»å°æ–‡å­—ã¯åŒºåˆ¥ã•ã‚Œãªã„ã€‚\n\n**ä¾‹**:\n- \"NTNæ¡‘åè£½ä½œæ‰€\" â†’ \"ntnæ¡‘åè£½ä½œæ‰€\"\n- \"ntnæ¡‘åè£½ä½œæ‰€\" â†’ \"ntnæ¡‘åè£½ä½œæ‰€\"\n\nâ†’ åŒä¸€ä¼æ¥­ã¨ã—ã¦åˆ¤æ–­ã•ã‚Œã‚‹ã€‚\n\n### æ³¨æ„ç‚¹3: æ³•äººæ ¼ãŒä¼æ¥­åã®ä¸€éƒ¨ã®å ´åˆã¯å‰Šé™¤ã•ã‚Œãªã„\n\næ³•äººæ ¼ãŒä¼æ¥­åã®ä¸€éƒ¨ï¼ˆä¾‹: ã€Œæœ‰é™ä¼šç¤¾å·¥å‹™åº—ã€ã§ã¯ãªãã€Œæœ‰é™ä¼šç¤¾ã€ï¼‰ã¨ã—ã¦ä½¿ã‚ã‚Œã¦ã„ã‚‹å ´åˆã€æ­£è¦è¡¨ç¾ã§å‰Šé™¤ã•ã‚Œã‚‹ã€‚\n\n**ä¾‹**:\n- \"æœ‰é™ä¼šç¤¾å·¥å‹™åº—\" â†’ \"å·¥å‹™åº—\"ï¼ˆæ³•äººæ ¼ã¨ã—ã¦å‰Šé™¤ï¼‰\n\nã‚‚ã—ã€Œæœ‰é™ä¼šç¤¾ã€ã¨ã„ã†ä¼æ¥­åã‚’ç¶­æŒã—ãŸã„å ´åˆã¯ã€ã‚ˆã‚Šå³å¯†ãªãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒãƒ³ã‚°ãŒå¿…è¦ã€‚\n\n### æ³¨æ„ç‚¹4: ç©ºæ–‡å­—åˆ—ã®å ´åˆã¯æ—©æœŸãƒªã‚¿ãƒ¼ãƒ³\n\nç©ºæ–‡å­—åˆ—ãŒæ¸¡ã•ã‚ŒãŸå ´åˆã€æ—©æœŸãƒªã‚¿ãƒ¼ãƒ³ã§ç©ºæ–‡å­—åˆ—ã‚’è¿”ã™ã€‚\n\n```typescript\nif (!name) return '';\n```\n\nã“ã‚Œã«ã‚ˆã‚Šã€`undefined` ã‚„ `null` ã§ã‚‚ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãªã„ã€‚\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `decision_design_company_name_normalization_2025_11_24.md`: ä¼æ¥­åæ­£è¦åŒ–ã«ã‚ˆã‚‹è¡¨è¨˜ã‚†ã‚Œå¯¾å¿œã®è¨­è¨ˆåˆ¤æ–­\n",
    "prompt": "### ã‚¹ãƒ†ãƒƒãƒ—1: é–¢æ•°ã®ä½œæˆ\n\n`lib/normalize-company-name.ts`ã‚’ä½œæˆï¼š\n\n```typescript\n/**\n * ä¼æ¥­åã‚’æ­£è¦åŒ–ã—ã¦æ¯”è¼ƒç”¨ã®æ–‡å­—åˆ—ã‚’è¿”ã™\n */\nexport function normalizeCompanyName(name: string): string {\n  if (!name) return '';\n\n  return name\n    .replace(/æ ªå¼ä¼šç¤¾|ï¼ˆæ ªï¼‰|\\(æ ª\\)|æœ‰é™ä¼šç¤¾|ï¼ˆæœ‰ï¼‰|\\(æœ‰\\)|åˆåŒä¼šç¤¾|åˆè³‡ä¼šç¤¾|åˆåä¼šç¤¾/g, '')\n    .replace(/[\\s\\u3000]+/g, '')\n    .toLowerCase()\n    .trim();\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2: API Routeã§ä½¿ç”¨\n\n```typescript\nimport { normalizeCompanyName } from '@/lib/normalize-company-name';\nimport { getSheetData } from '@/lib/google-sheets';\nimport { NextResponse } from 'next/server';\n\nexport async function POST(request: Request) {\n  const { companyName } = await request.json();\n\n  const spreadsheetId = process.env.COMPANY_MASTER_SPREADSHEET_ID!;\n  const companies = await getSheetData(spreadsheetId, 'ä¼æ¥­ãƒã‚¹ã‚¿ãƒ¼!A1:Z100');\n\n  // æ­£è¦åŒ–å¾Œã®åå‰ã§æ¤œç´¢\n  const normalizedInput = normalizeCompanyName(companyName);\n  const existingCompany = companies.slice(1).find(row => {\n    const name = row[0]; // Aåˆ—: ä¼æ¥­å\n    return normalizeCompanyName(name) === normalizedInput;\n  });\n\n  if (existingCompany) {\n    return NextResponse.json({\n      success: true,\n      exists: true,\n      company: { name: existingCompany[0] },\n    });\n  } else {\n    return NextResponse.json({\n      success: true,\n      exists: false,\n    });\n  }\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3: ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã§ä½¿ç”¨\n\n```typescript\n'use client';\nimport { useState } from 'react';\n\nexport default function CompanyForm() {\n  const [companyName, setCompanyName] = useState('');\n  const [duplicate, setDuplicate] = useState<string | null>(null);\n\n  const checkDuplicate = async () => {\n    const res = await fetch('/api/company-master/check-duplicate', {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ companyName }),\n    });\n\n    const data = await res.json();\n\n    if (data.exists) {\n      setDuplicate(`æ—¢ã«ç™»éŒ²ã•ã‚Œã¦ã„ã¾ã™: ${data.company.name}`);\n    } else {\n      setDuplicate(null);\n    }\n  };\n\n  return (\n    <div>\n      <input\n        type=\"text\"\n        value={companyName}\n        onChange={e => setCompanyName(e.target.value)}\n        onBlur={checkDuplicate}\n      />\n      {duplicate && <p className=\"text-red-600\">{duplicate}</p>}\n    </div>\n  );\n}\n```",
    "relatedTech": [
      "decision-design-company-name-normalization"
    ]
  },
  {
    "slug": "component-dynamic-rendering",
    "title": "ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå‹•çš„ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°",
    "category": "Skillsï¼ˆã‚¹ã‚­ãƒ«ãƒ»æ‰‹æ³•ï¼‰",
    "description": "ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ã‚¿ã‚¤ãƒ—ï¼ˆheadingã€textã€imageã€chartã€tableãªã©ï¼‰ã«å¿œã˜ã¦ã€é©åˆ‡ãªãƒ¬ãƒ³ãƒ€ãƒ©ãƒ¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’å‹•çš„ã«é¸æŠã—ã€ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã™ã‚‹æ‰‹æ³•ã€‚ComponentRendererãŒãƒ‡ã‚£ã‚¹ãƒ‘ãƒƒãƒãƒ£ãƒ¼ã¨ã—ã¦æ©Ÿèƒ½ã—ã€å„ã‚¿ã‚¤ãƒ—å°‚ç”¨ã®ãƒ¬ãƒ³ãƒ€ãƒ©ãƒ¼ã«å‡¦ç†ã‚’å§”è­²ã™ã‚‹ã€‚",
    "project": "ai-document-generator",
    "usedIn": [
      "src/components/editor/component/ComponentRenderer.tsx:206-245"
    ],
    "code": "```json\n{\n  \"id\": \"skill_component_dynamic_rendering_2025_04_11\",\n  \"type\": \"skill\",\n  \"name\": \"ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå‹•çš„ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°\",\n  \"tags\": [\"å‹•çš„ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°\", \"React\", \"ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ\", \"ãƒ¬ãƒ³ãƒ€ãƒ©ãƒ¼ãƒ‘ã‚¿ãƒ¼ãƒ³\", \"Switchæ–‡\"],\n  \"source_project\": \"ai-document-generator\",\n  \"source_file\": \"src/components/editor/component/ComponentRenderer.tsx:206-245\",\n  \"related_knowledge\": [\"skill_react_dnd_drag_drop_2025_04_11\", \"decision_arch_template_system_2025_04_11\"],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-04-11\",\n  \"updated\": \"2025-04-11\"\n}\n```\n\n# ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå‹•çš„ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°\n\n## ä½•ã‚’ã™ã‚‹ã‚¹ã‚­ãƒ«ã‹\n\nã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ã‚¿ã‚¤ãƒ—ï¼ˆheadingã€textã€imageã€chartã€tableãªã©ï¼‰ã«å¿œã˜ã¦ã€é©åˆ‡ãªãƒ¬ãƒ³ãƒ€ãƒ©ãƒ¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’å‹•çš„ã«é¸æŠã—ã€ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã™ã‚‹æ‰‹æ³•ã€‚ComponentRendererãŒãƒ‡ã‚£ã‚¹ãƒ‘ãƒƒãƒãƒ£ãƒ¼ã¨ã—ã¦æ©Ÿèƒ½ã—ã€å„ã‚¿ã‚¤ãƒ—å°‚ç”¨ã®ãƒ¬ãƒ³ãƒ€ãƒ©ãƒ¼ã«å‡¦ç†ã‚’å§”è­²ã™ã‚‹ã€‚\n\n## å…·ä½“çš„ãªæ‰‹æ³•\n\n### 1. ComponentRendererã®å®Ÿè£…\n\nComponentRendererã¯ã€ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚¿ã‚¤ãƒ—ã«å¿œã˜ã¦é©åˆ‡ãªãƒ¬ãƒ³ãƒ€ãƒ©ãƒ¼ã‚’é¸æŠï¼š\n\n```tsx\n// src/components/editor/component/ComponentRenderer.tsx (æŠœç²‹)\nimport TextComponentRenderer from \"./renderers/TextComponentRenderer\";\nimport HeadingComponentRenderer from \"./renderers/HeadingComponentRenderer\";\nimport ParagraphComponentRenderer from \"./renderers/ParagraphComponentRenderer\";\nimport ImageComponentRenderer from \"./renderers/ImageComponentRenderer\";\nimport ChartComponentRenderer from \"./renderers/ChartComponentRenderer\";\nimport TableComponentRenderer from \"./renderers/TableComponentRenderer\";\nimport ListComponentRenderer from \"./renderers/ListComponentRenderer\";\nimport GenericComponentRenderer from \"./renderers/GenericComponentRenderer\";\n\nconst ComponentRenderer: React.FC<ComponentRendererProps> = (props) => {\n  const { component, mode, isActive, isSelected } = props;\n\n  // ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå®šç¾©ã‚’å–å¾—\n  const componentDefinition = useComponentStore(state =>\n    state.getComponentDefinition?.(component.definitionId)\n  );\n\n  // ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚¿ã‚¤ãƒ—ã«å¿œã˜ãŸãƒ¬ãƒ³ãƒ€ãƒ©ãƒ¼ã®é¸æŠ\n  const renderComponent = () => {\n    const commonProps = {\n      component,\n      definition: componentDefinition as ComponentDefinition,\n      mode,\n      isActive,\n      isSelected\n    };\n\n    switch (componentDefinition.type) {\n      case 'text':\n        return <TextComponentRenderer {...commonProps} />;\n\n      case 'heading':\n        return <HeadingComponentRenderer {...commonProps} />;\n\n      case 'paragraph':\n        return <ParagraphComponentRenderer {...commonProps} />;\n\n      case 'image':\n        return <ImageComponentRenderer {...commonProps} />;\n\n      case 'chart':\n      case 'barChart':\n      case 'lineChart':\n      case 'pieChart':\n        return <ChartComponentRenderer {...commonProps} type={componentDefinition.type} />;\n\n      case 'table':\n        return <TableComponentRenderer {...commonProps} />;\n\n      case 'list':\n        return <ListComponentRenderer {...commonProps} />;\n\n      default:\n        // æœªçŸ¥ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚¿ã‚¤ãƒ—ã«ã¯æ±ç”¨ãƒ¬ãƒ³ãƒ€ãƒ©ãƒ¼ã‚’ä½¿ç”¨\n        return <GenericComponentRenderer {...commonProps} />;\n    }\n  };\n\n  return (\n    <div className={componentClassName} style={componentBaseStyle}>\n      {renderComponent()}\n    </div>\n  );\n};\n```\n\n### 2. å…±é€šãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã®å®šç¾©\n\nã™ã¹ã¦ã®ãƒ¬ãƒ³ãƒ€ãƒ©ãƒ¼ãŒå—ã‘å–ã‚‹å…±é€šãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ï¼š\n\n```typescript\n// src/components/editor/component/renderers/types.ts\ninterface BaseRendererProps {\n  component: {\n    id: string;\n    definitionId: string;\n    content: Record<string, any>;\n    styles?: Record<string, string>;\n    position?: {\n      x: number;\n      y: number;\n      width: number;\n      height: number;\n    };\n  };\n  definition: ComponentDefinition;\n  mode: \"edit\" | \"preview\";\n  isActive: boolean;\n  isSelected: boolean;\n}\n```\n\n### 3. TextComponentRendererã®å®Ÿè£…\n\nã‚·ãƒ³ãƒ—ãƒ«ãªãƒ†ã‚­ã‚¹ãƒˆãƒ¬ãƒ³ãƒ€ãƒ©ãƒ¼ï¼š\n\n```tsx\n// src/components/editor/component/renderers/TextComponentRenderer.tsx\nconst TextComponentRenderer: React.FC<BaseRendererProps> = ({\n  component,\n  definition,\n  mode,\n  isActive,\n  isSelected\n}) => {\n  // ãƒ†ã‚­ã‚¹ãƒˆã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®å–å¾—\n  const text = component.content?.text || \"\";\n\n  // ãƒ†ã‚­ã‚¹ãƒˆãŒç©ºã®å ´åˆã®ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼\n  if (!text && mode === \"edit\") {\n    return (\n      <div className=\"text-gray-400 italic\">\n        ãƒ†ã‚­ã‚¹ãƒˆã‚’å…¥åŠ›ã—ã¦ãã ã•ã„\n      </div>\n    );\n  }\n\n  // é€šå¸¸ã®ãƒ†ã‚­ã‚¹ãƒˆè¡¨ç¤º\n  return (\n    <div className=\"text-component\">\n      {text}\n    </div>\n  );\n};\n\nexport default TextComponentRenderer;\n```\n\n### 4. HeadingComponentRendererã®å®Ÿè£…\n\nè¦‹å‡ºã—ãƒ¬ãƒ³ãƒ€ãƒ©ãƒ¼ï¼ˆãƒ¬ãƒ™ãƒ«ã«å¿œã˜ã¦h1-h6ã‚’é¸æŠï¼‰ï¼š\n\n```tsx\nconst HeadingComponentRenderer: React.FC<BaseRendererProps> = ({\n  component,\n  definition,\n  mode\n}) => {\n  const text = component.content?.text || \"\";\n  const level = component.content?.level || 1;\n\n  const HeadingTag = `h${level}` as keyof JSX.IntrinsicElements;\n\n  const headingStyles = {\n    fontSize: level === 1 ? '2em' : level === 2 ? '1.5em' : '1.2em',\n    fontWeight: 'bold',\n    margin: '0.5em 0'\n  };\n\n  if (!text && mode === \"edit\") {\n    return (\n      <div className=\"text-gray-400 italic\">\n        è¦‹å‡ºã—ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„\n      </div>\n    );\n  }\n\n  return (\n    <HeadingTag style={headingStyles}>\n      {text}\n    </HeadingTag>\n  );\n};\n```\n\n### 5. ImageComponentRendererã®å®Ÿè£…\n\nç”»åƒãƒ¬ãƒ³ãƒ€ãƒ©ãƒ¼ï¼ˆãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼å¯¾å¿œï¼‰ï¼š\n\n```tsx\nimport Image from 'next/image';\n\nconst ImageComponentRenderer: React.FC<BaseRendererProps> = ({\n  component,\n  definition,\n  mode\n}) => {\n  const src = component.content?.src || \"\";\n  const alt = component.content?.alt || \"ç”»åƒ\";\n  const width = component.content?.width || 300;\n  const height = component.content?.height || 200;\n\n  if (!src && mode === \"edit\") {\n    return (\n      <div className=\"border-2 border-dashed border-gray-300 p-4 text-center text-gray-400\">\n        <ImageIcon size={48} className=\"mx-auto mb-2\" />\n        <p>ç”»åƒã‚’é¸æŠã—ã¦ãã ã•ã„</p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"image-component\">\n      <Image\n        src={src}\n        alt={alt}\n        width={width}\n        height={height}\n        className=\"rounded\"\n      />\n    </div>\n  );\n};\n```\n\n### 6. ChartComponentRendererã®å®Ÿè£…\n\nãƒãƒ£ãƒ¼ãƒˆãƒ¬ãƒ³ãƒ€ãƒ©ãƒ¼ï¼ˆChart.jsä½¿ç”¨ï¼‰ï¼š\n\n```tsx\nimport { Bar, Line, Pie } from 'react-chartjs-2';\n\nconst ChartComponentRenderer: React.FC<BaseRendererProps & { type: string }> = ({\n  component,\n  definition,\n  mode,\n  type\n}) => {\n  const data = component.content?.data || {\n    labels: [],\n    datasets: []\n  };\n\n  const options = {\n    responsive: true,\n    maintainAspectRatio: false,\n    plugins: {\n      legend: {\n        position: 'top' as const,\n      },\n      title: {\n        display: true,\n        text: component.content?.title || 'ãƒãƒ£ãƒ¼ãƒˆ'\n      }\n    }\n  };\n\n  if (!data.labels.length && mode === \"edit\") {\n    return (\n      <div className=\"border-2 border-dashed border-gray-300 p-4 text-center text-gray-400\">\n        <BarChart size={48} className=\"mx-auto mb-2\" />\n        <p>ãƒãƒ£ãƒ¼ãƒˆãƒ‡ãƒ¼ã‚¿ã‚’è¨­å®šã—ã¦ãã ã•ã„</p>\n      </div>\n    );\n  }\n\n  // ãƒãƒ£ãƒ¼ãƒˆã‚¿ã‚¤ãƒ—ã«å¿œã˜ã¦ãƒ¬ãƒ³ãƒ€ãƒ©ãƒ¼ã‚’é¸æŠ\n  switch (type) {\n    case 'barChart':\n      return <Bar data={data} options={options} />;\n    case 'lineChart':\n      return <Line data={data} options={options} />;\n    case 'pieChart':\n      return <Pie data={data} options={options} />;\n    default:\n      return <Bar data={data} options={options} />;\n  }\n};\n```\n\n### 7. GenericComponentRendererã®å®Ÿè£…\n\næœªçŸ¥ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚¿ã‚¤ãƒ—ã®ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ãƒ¬ãƒ³ãƒ€ãƒ©ãƒ¼ï¼š\n\n```tsx\nconst GenericComponentRenderer: React.FC<BaseRendererProps> = ({\n  component,\n  definition,\n  mode\n}) => {\n  return (\n    <div className=\"border border-gray-300 p-4 bg-gray-50\">\n      <div className=\"flex items-center mb-2\">\n        <AlertTriangle size={16} className=\"text-amber-500 mr-2\" />\n        <span className=\"text-sm font-medium\">\n          æœªå¯¾å¿œã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚¿ã‚¤ãƒ—: {definition.type}\n        </span>\n      </div>\n\n      {/* ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’JSONå½¢å¼ã§è¡¨ç¤º */}\n      <pre className=\"text-xs bg-white p-2 rounded overflow-auto max-h-32\">\n        {JSON.stringify(component.content, null, 2)}\n      </pre>\n    </div>\n  );\n};\n```\n\n### 8. ãƒ¬ãƒ³ãƒ€ãƒ©ãƒ¼ã®å‹•çš„ã‚¤ãƒ³ãƒãƒ¼ãƒˆï¼ˆé…å»¶èª­ã¿è¾¼ã¿ï¼‰\n\nãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–ã®ãŸã‚ã€ãƒ¬ãƒ³ãƒ€ãƒ©ãƒ¼ã‚’é…å»¶èª­ã¿è¾¼ã¿ï¼š\n\n```tsx\nimport dynamic from 'next/dynamic';\n\n// å‹•çš„ã‚¤ãƒ³ãƒãƒ¼ãƒˆ\nconst TextComponentRenderer = dynamic(() => import(\"./renderers/TextComponentRenderer\"));\nconst ImageComponentRenderer = dynamic(() => import(\"./renderers/ImageComponentRenderer\"));\nconst ChartComponentRenderer = dynamic(() => import(\"./renderers/ChartComponentRenderer\"));\n\nconst ComponentRenderer: React.FC = (props) => {\n  const { componentDefinition } = props;\n\n  // ãƒ¬ãƒ³ãƒ€ãƒ©ãƒ¼ã®ãƒãƒƒãƒ—\n  const rendererMap = {\n    text: TextComponentRenderer,\n    heading: HeadingComponentRenderer,\n    image: ImageComponentRenderer,\n    chart: ChartComponentRenderer,\n    // ...\n  };\n\n  const RendererComponent = rendererMap[componentDefinition.type] || GenericComponentRenderer;\n\n  return (\n    <div>\n      <RendererComponent {...commonProps} />\n    </div>\n  );\n};\n```\n\n### 9. ãƒ¬ãƒ³ãƒ€ãƒ©ãƒ¼ã®ç™»éŒ²ã‚·ã‚¹ãƒ†ãƒ ï¼ˆæ‹¡å¼µå¯èƒ½ï¼‰\n\næ–°ã—ã„ãƒ¬ãƒ³ãƒ€ãƒ©ãƒ¼ã‚’å‹•çš„ã«ç™»éŒ²ï¼š\n\n```typescript\ninterface RendererRegistry {\n  [key: string]: React.FC<BaseRendererProps>;\n}\n\nconst rendererRegistry: RendererRegistry = {\n  text: TextComponentRenderer,\n  heading: HeadingComponentRenderer,\n  image: ImageComponentRenderer,\n  // ...\n};\n\n// æ–°ã—ã„ãƒ¬ãƒ³ãƒ€ãƒ©ãƒ¼ã‚’ç™»éŒ²\nexport const registerRenderer = (type: string, renderer: React.FC<BaseRendererProps>) => {\n  rendererRegistry[type] = renderer;\n};\n\n// ãƒ¬ãƒ³ãƒ€ãƒ©ãƒ¼ã‚’å–å¾—\nexport const getRenderer = (type: string): React.FC<BaseRendererProps> => {\n  return rendererRegistry[type] || GenericComponentRenderer;\n};\n\n// ä½¿ç”¨ä¾‹\nconst ComponentRenderer: React.FC = (props) => {\n  const RendererComponent = getRenderer(props.componentDefinition.type);\n  return <RendererComponent {...props} />;\n};\n```\n\n## ãªãœã“ã®æ‰‹æ³•ã‚’ä½¿ã†ã‹\n\n**ç†ç”±1ï¼šæ‹¡å¼µæ€§**\n- æ–°ã—ã„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚¿ã‚¤ãƒ—ã‚’è¿½åŠ ã™ã‚‹ã®ãŒç°¡å˜\n- ãƒ¬ãƒ³ãƒ€ãƒ©ãƒ¼ã‚’å€‹åˆ¥ã«å®Ÿè£…ãƒ»ãƒ†ã‚¹ãƒˆã§ãã‚‹\n- ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ ã®åŸºç›¤ã«ãªã‚‹\n\n**ç†ç”±2ï¼šä¿å®ˆæ€§**\n- å„ãƒ¬ãƒ³ãƒ€ãƒ©ãƒ¼ãŒç‹¬ç«‹ã—ã¦ã„ã‚‹ãŸã‚ã€å¤‰æ›´ãŒå±€æ‰€çš„\n- ç‰¹å®šã®ã‚¿ã‚¤ãƒ—ã®ä¿®æ­£ãŒä»–ã«å½±éŸ¿ã—ãªã„\n- ã‚³ãƒ¼ãƒ‰ãŒèª­ã¿ã‚„ã™ã„ï¼ˆå˜ä¸€è²¬ä»»åŸå‰‡ï¼‰\n\n**ç†ç”±3ï¼šãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹**\n- å‹•çš„ã‚¤ãƒ³ãƒãƒ¼ãƒˆã§åˆæœŸãƒ­ãƒ¼ãƒ‰æ™‚é–“ã‚’å‰Šæ¸›\n- ä½¿ç”¨ã•ã‚Œãªã„ãƒ¬ãƒ³ãƒ€ãƒ©ãƒ¼ã¯èª­ã¿è¾¼ã¾ã‚Œãªã„\n- ã‚³ãƒ¼ãƒ‰ã‚¹ãƒ—ãƒªãƒƒãƒ†ã‚£ãƒ³ã‚°\n\n**ç†ç”±4ï¼šæŸ”è»Ÿæ€§**\n- åŒã˜ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå®šç¾©ã§ã€edit/previewãƒ¢ãƒ¼ãƒ‰ã‚’åˆ‡ã‚Šæ›¿ãˆ\n- ãƒ¬ãƒ³ãƒ€ãƒ©ãƒ¼ã”ã¨ã«ç•°ãªã‚‹ãƒ­ã‚¸ãƒƒã‚¯ã‚’å®Ÿè£…å¯èƒ½\n- ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ãƒ¬ãƒ³ãƒ€ãƒ©ãƒ¼ã§æœªçŸ¥ã®ã‚¿ã‚¤ãƒ—ã«å¯¾å¿œ\n\n**ç†ç”±5ï¼šå‹å®‰å…¨æ€§**\n- TypeScriptã§å„ãƒ¬ãƒ³ãƒ€ãƒ©ãƒ¼ã®å‹ã‚’å®šç¾©\n- ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã«ã‚¨ãƒ©ãƒ¼ã‚’æ¤œå‡º\n\n## å†ç¾æ–¹æ³•\n\n### ã‚¹ãƒ†ãƒƒãƒ—1ï¼šå…±é€šå‹ã‚’å®šç¾©\n\n```typescript\ninterface BaseRendererProps {\n  component: any;\n  definition: any;\n  mode: \"edit\" | \"preview\";\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2ï¼šãƒ¬ãƒ³ãƒ€ãƒ©ãƒ¼ã‚’å®Ÿè£…\n\n```tsx\n// TextRenderer.tsx\nconst TextRenderer: React.FC<BaseRendererProps> = ({ component, mode }) => {\n  return <div>{component.content.text}</div>;\n};\n\n// ImageRenderer.tsx\nconst ImageRenderer: React.FC<BaseRendererProps> = ({ component, mode }) => {\n  return <img src={component.content.src} alt={component.content.alt} />;\n};\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3ï¼šComponentRendererã‚’å®Ÿè£…\n\n```tsx\nconst ComponentRenderer: React.FC = ({ component, definition, mode }) => {\n  switch (definition.type) {\n    case 'text':\n      return <TextRenderer component={component} definition={definition} mode={mode} />;\n    case 'image':\n      return <ImageRenderer component={component} definition={definition} mode={mode} />;\n    default:\n      return <div>Unknown component type</div>;\n  }\n};\n```\n\n## ã„ã¤ä½¿ã†ã‹\n\n- **ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ **: ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã‚«ã‚¹ã‚¿ãƒ ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’è¿½åŠ ã§ãã‚‹å ´åˆ\n- **è¤‡æ•°ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚¿ã‚¤ãƒ—**: headingã€textã€imageã€chartãªã©ã€å¤šæ§˜ãªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’æ‰±ã†å ´åˆ\n- **ãƒ¢ãƒ¼ãƒ‰åˆ‡ã‚Šæ›¿ãˆ**: edit/previewãªã©ã€ç•°ãªã‚‹è¡¨ç¤ºãƒ¢ãƒ¼ãƒ‰ãŒå¿…è¦ãªå ´åˆ\n- **ã‚³ãƒ¼ãƒ‰ã®æ•´ç†**: å¤§ããªswitchæ–‡ã‚’é¿ã‘ã€ã‚³ãƒ¼ãƒ‰ã‚’åˆ†å‰²ã—ãŸã„å ´åˆ\n\n## æ³¨æ„ç‚¹\n\n### 1. ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹\n\nå¤§é‡ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã™ã‚‹ã¨ã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãŒä½ä¸‹ã€‚\n\n**å¯¾ç­–**:\n- React.memoã§ä¸è¦ãªå†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã‚’é˜²ã\n- ä»®æƒ³åŒ–ï¼ˆreact-windowï¼‰ã‚’ä½¿ç”¨\n\n### 2. ãƒ¬ãƒ³ãƒ€ãƒ©ãƒ¼ã®èª­ã¿è¾¼ã¿\n\nå‹•çš„ã‚¤ãƒ³ãƒãƒ¼ãƒˆã‚’ä½¿ã†å ´åˆã€åˆå›ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°æ™‚ã«é…å»¶ãŒç™ºç”Ÿã€‚\n\n**å¯¾ç­–**:\n- ãƒ—ãƒªãƒ­ãƒ¼ãƒ‰\n- ã‚¹ã‚±ãƒ«ãƒˆãƒ³ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°\n\n### 3. å‹å®‰å…¨æ€§\n\nSwitchæ–‡ã§ã®ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ãŒå¿…è¦ã€‚\n\n**å¯¾ç­–**:\n```typescript\nswitch (type) {\n  case 'text':\n    return <TextRenderer />;\n  case 'image':\n    return <ImageRenderer />;\n  default:\n    // TypeScript exhaustiveness checking\n    const _exhaustiveCheck: never = type;\n    return <GenericRenderer />;\n}\n```\n\n### 4. ãƒ¬ãƒ³ãƒ€ãƒ©ãƒ¼ã®æ¤œå‡º\n\næœªç™»éŒ²ã®ãƒ¬ãƒ³ãƒ€ãƒ©ãƒ¼ãŒã‚ã‚‹å ´åˆã€ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã€‚\n\n**å¯¾ç­–**:\n- GenericRendererã‚’ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ã¨ã—ã¦ä½¿ç”¨\n- ãƒ­ã‚°ã«è­¦å‘Šã‚’å‡ºåŠ›\n\n### 5. ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã®ä¸€è²«æ€§\n\nã™ã¹ã¦ã®ãƒ¬ãƒ³ãƒ€ãƒ©ãƒ¼ãŒåŒã˜ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’å—ã‘å–ã‚‹ã‚ˆã†ã«çµ±ä¸€ã€‚\n\n**å®Ÿè£…**:\n```typescript\ntype BaseRendererProps = {\n  component: Component;\n  definition: ComponentDefinition;\n  mode: \"edit\" | \"preview\";\n};\n```\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `skill_react_dnd_drag_drop_2025_04_11.md`: React DNDãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—\n- `decision_arch_template_system_2025_04_11.md`: ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£\n",
    "prompt": "### ã‚¹ãƒ†ãƒƒãƒ—1ï¼šå…±é€šå‹ã‚’å®šç¾©\n\n```typescript\ninterface BaseRendererProps {\n  component: any;\n  definition: any;\n  mode: \"edit\" | \"preview\";\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2ï¼šãƒ¬ãƒ³ãƒ€ãƒ©ãƒ¼ã‚’å®Ÿè£…\n\n```tsx\n// TextRenderer.tsx\nconst TextRenderer: React.FC<BaseRendererProps> = ({ component, mode }) => {\n  return <div>{component.content.text}</div>;\n};\n\n// ImageRenderer.tsx\nconst ImageRenderer: React.FC<BaseRendererProps> = ({ component, mode }) => {\n  return <img src={component.content.src} alt={component.content.alt} />;\n};\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3ï¼šComponentRendererã‚’å®Ÿè£…\n\n```tsx\nconst ComponentRenderer: React.FC = ({ component, definition, mode }) => {\n  switch (definition.type) {\n    case 'text':\n      return <TextRenderer component={component} definition={definition} mode={mode} />;\n    case 'image':\n      return <ImageRenderer component={component} definition={definition} mode={mode} />;\n    default:\n      return <div>Unknown component type</div>;\n  }\n};\n```",
    "relatedTech": [
      "skill-react-dnd-drag-drop",
      "decision-arch-template-system"
    ]
  },
  {
    "slug": "context-generation-system",
    "title": "çµ±åˆã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆç”Ÿæˆã‚·ã‚¹ãƒ†ãƒ ",
    "category": "Skillsï¼ˆã‚¹ã‚­ãƒ«ãƒ»æ‰‹æ³•ï¼‰",
    "description": "8å¤§ã‚·ã‚¹ãƒ†ãƒ ã‹ã‚‰ä¸¦åˆ—åé›†ã—ãŸãƒ‡ãƒ¼ã‚¿ã‚’ã€AIãŒç†è§£ã—ã‚„ã™ã„å½¢å¼ã®çµ±åˆã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã«å¤‰æ›ã—ã€ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”Ÿæˆã®åŸºç›¤ã¨ãªã‚‹è¶…é«˜å¯†åº¦æƒ…å ±æ§‹é€ ã‚’æ§‹ç¯‰ã™ã‚‹æ‰‹æ³•ã€‚",
    "project": "novel-automation-system-v2",
    "usedIn": [
      "src/lib/generation/context-generator.ts:1-500"
    ],
    "code": "```json\n{\n  \"id\": \"skill_context_generation_system_2025_11_25\",\n  \"type\": \"skill\",\n  \"name\": \"çµ±åˆã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆç”Ÿæˆã‚·ã‚¹ãƒ†ãƒ \",\n  \"tags\": [\"ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆç”Ÿæˆ\", \"AIç”Ÿæˆ\", \"ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚°\", \"ãƒ‡ãƒ¼ã‚¿çµ±åˆ\", \"å°èª¬ç”Ÿæˆ\"],\n  \"source_project\": \"novel-automation-system-v2\",\n  \"source_file\": \"src/lib/generation/context-generator.ts:1-500\",\n  \"related_knowledge\": [\n    \"skill_eight_system_parallel_integration_2025_11_25\",\n    \"skill_section_builder_patterns_2025_11_25\",\n    \"workflow_prompt_generation_three_phase_2025_11_25\"\n  ],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# çµ±åˆã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆç”Ÿæˆã‚·ã‚¹ãƒ†ãƒ \n\n## ä½•ã‚’ã™ã‚‹ã‚¹ã‚­ãƒ«ã‹\n\n8å¤§ã‚·ã‚¹ãƒ†ãƒ ã‹ã‚‰ä¸¦åˆ—åé›†ã—ãŸãƒ‡ãƒ¼ã‚¿ã‚’ã€AIãŒç†è§£ã—ã‚„ã™ã„å½¢å¼ã®çµ±åˆã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã«å¤‰æ›ã—ã€ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”Ÿæˆã®åŸºç›¤ã¨ãªã‚‹è¶…é«˜å¯†åº¦æƒ…å ±æ§‹é€ ã‚’æ§‹ç¯‰ã™ã‚‹æ‰‹æ³•ã€‚\n\n## å…·ä½“çš„ãªæ‰‹æ³•\n\n### ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆæ§‹é€ \n\n```typescript\ninterface RevolutionaryIntegratedData {\n  basicContext: BasicContext;          // åŸºæœ¬æƒ…å ±\n  revolutionaryIntegration: {          // 8å¤§ã‚·ã‚¹ãƒ†ãƒ çµ±åˆæƒ…å ±\n    characterSystem: CharacterData;\n    learningJourneySystem: LearningJourneyData;\n    memorySystem: MemoryData;\n    plotSystem: PlotData;\n    analysisSystem: AnalysisData;\n    parameterSystem: ParameterData;\n    foreshadowingSystem: ForeshadowingData;\n    lifecycleSystem: LifecycleData;\n  };\n  integrationMetrics: {                // çµ±åˆãƒ¡ãƒˆãƒªã‚¯ã‚¹\n    integrationRate: number;           // çµ±åˆç‡ (0-100%)\n    qualityImprovement: number;        // å“è³ªå‘ä¸Šäºˆæ¸¬\n    systemsIntegrated: number;         // çµ±åˆã•ã‚ŒãŸã‚·ã‚¹ãƒ†ãƒ æ•°\n  };\n  styleGuidance: StyleGuidance;        // æ–‡ä½“ã‚¬ã‚¤ãƒ€ãƒ³ã‚¹\n  metadata: {\n    generatedAt: string;\n    chapterNumber: number;\n    estimatedTokens: number;\n  };\n}\n```\n\n### ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆç”Ÿæˆã®å®Ÿè£…\n\n```typescript\nclass ContextGenerator {\n  async generateIntegratedContext(\n    chapterNumber: number,\n    systemData: EightSystemsData\n  ): Promise<RevolutionaryIntegratedData> {\n    // PHASE 1: åŸºæœ¬ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆæ§‹ç¯‰\n    const basicContext = await this.buildBasicContext(chapterNumber);\n\n    // PHASE 2: 8å¤§ã‚·ã‚¹ãƒ†ãƒ çµ±åˆ\n    const revolutionaryIntegration = this.integrateEightSystems(systemData);\n\n    // PHASE 3: ã‚¹ã‚¿ã‚¤ãƒ«ã‚¬ã‚¤ãƒ€ãƒ³ã‚¹ç”Ÿæˆ\n    const styleGuidance = this.generateStyleGuidance(\n      systemData.analysis,\n      systemData.parameters\n    );\n\n    // PHASE 4: çµ±åˆãƒ¡ãƒˆãƒªã‚¯ã‚¹è¨ˆç®—\n    const integrationMetrics = this.calculateMetrics(systemData);\n\n    // PHASE 5: æœ€çµ‚çµ±åˆ\n    return {\n      basicContext,\n      revolutionaryIntegration,\n      integrationMetrics,\n      styleGuidance,\n      metadata: {\n        generatedAt: new Date().toISOString(),\n        chapterNumber,\n        estimatedTokens: this.estimateTokens(revolutionaryIntegration)\n      }\n    };\n  }\n\n  // åŸºæœ¬ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆæ§‹ç¯‰\n  private async buildBasicContext(\n    chapterNumber: number\n  ): Promise<BasicContext> {\n    return {\n      chapterNumber,\n      previousChapter: await this.getPreviousChapterSummary(chapterNumber - 1),\n      worldSettings: await this.getWorldSettings(),\n      genre: await this.getGenre(),\n      targetAudience: await this.getTargetAudience()\n    };\n  }\n\n  // 8å¤§ã‚·ã‚¹ãƒ†ãƒ çµ±åˆ\n  private integrateEightSystems(\n    systemData: EightSystemsData\n  ): RevolutionaryIntegration {\n    return {\n      characterSystem: this.formatCharacterData(systemData.character),\n      learningJourneySystem: this.formatLearningJourneyData(systemData.learningJourney),\n      memorySystem: this.formatMemoryData(systemData.memory),\n      plotSystem: this.formatPlotData(systemData.plot),\n      analysisSystem: this.formatAnalysisData(systemData.analysis),\n      parameterSystem: systemData.parameters,\n      foreshadowingSystem: this.formatForeshadowingData(systemData.foreshadowing),\n      lifecycleSystem: this.formatLifecycleData(systemData.lifecycle)\n    };\n  }\n\n  // ã‚¹ã‚¿ã‚¤ãƒ«ã‚¬ã‚¤ãƒ€ãƒ³ã‚¹ç”Ÿæˆ\n  private generateStyleGuidance(\n    analysisData: AnalysisData,\n    parameterData: ParameterData\n  ): StyleGuidance {\n    return {\n      toneAndVoice: this.determineTone(analysisData),\n      pacingGuidance: this.determinePacing(analysisData, parameterData),\n      tensionLevel: analysisData?.currentTension || 0.5,\n      focusAreas: this.identifyFocusAreas(analysisData),\n      avoidancePatterns: this.identifyAvoidancePatterns(analysisData)\n    };\n  }\n}\n```\n\n### ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒ†ã‚£ãƒ³ã‚°\n\n```typescript\n// ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿ã®ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ\nprivate formatCharacterData(data: any): CharacterData {\n  if (!data) return null;\n\n  return {\n    activeCharacters: data.characters?.filter(c => c.isActive) || [],\n    characterStates: this.summarizeCharacterStates(data.states),\n    relationships: this.formatRelationships(data.relationships),\n    characterArcs: this.extractCharacterArcs(data.characters),\n    psychologicalProfiles: this.buildPsychologicalProfiles(data.characters)\n  };\n}\n\n// å­¦ç¿’æ—…ç¨‹ãƒ‡ãƒ¼ã‚¿ã®ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ\nprivate formatLearningJourneyData(data: any): LearningJourneyData {\n  if (!data) return null;\n\n  return {\n    currentStage: data.currentStage,\n    emotionalArc: data.emotionalArc,\n    knowledgeIntegrationPath: data.knowledgePath,\n    catharsisOpportunities: data.catharsisPoints,\n    nextLearningGoals: data.nextGoals\n  };\n}\n\n// è¨˜æ†¶ãƒ‡ãƒ¼ã‚¿ã®ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ\nprivate formatMemoryData(data: any): MemoryData {\n  if (!data) return null;\n\n  return {\n    shortTerm: this.compressShortTermMemory(data.shortTerm),\n    midTerm: this.summarizeMidTermMemory(data.midTerm),\n    longTerm: this.extractLongTermPatterns(data.longTerm),\n    narrativeTimeline: this.buildNarrativeTimeline(data)\n  };\n}\n```\n\n### ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã®æœ€é©åŒ–\n\n```typescript\nclass ContextOptimizer {\n  optimize(\n    context: RevolutionaryIntegratedData,\n    targetTokens: number\n  ): RevolutionaryIntegratedData {\n    const currentTokens = this.estimateTokens(context);\n\n    if (currentTokens <= targetTokens) {\n      return context; // æœ€é©åŒ–ä¸è¦\n    }\n\n    // å„ªå…ˆåº¦ã«åŸºã¥ãæ®µéšçš„å‰Šæ¸›\n    let optimized = { ...context };\n\n    // Step 1: ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ãƒ‡ãƒ¼ã‚¿ã®å‰Šæ¸›ï¼ˆå„ªå…ˆåº¦ä½ï¼‰\n    optimized = this.reduceLifecycleData(optimized, 0.5);\n\n    if (this.estimateTokens(optimized) <= targetTokens) {\n      return optimized;\n    }\n\n    // Step 2: ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ‡ãƒ¼ã‚¿ã®å‰Šæ¸›\n    optimized = this.reduceParameterData(optimized, 0.7);\n\n    if (this.estimateTokens(optimized) <= targetTokens) {\n      return optimized;\n    }\n\n    // Step 3: åˆ†æãƒ‡ãƒ¼ã‚¿ã®å‰Šæ¸›\n    optimized = this.reduceAnalysisData(optimized, 0.7);\n\n    if (this.estimateTokens(optimized) <= targetTokens) {\n      return optimized;\n    }\n\n    // Step 4: è¨˜æ†¶ãƒ‡ãƒ¼ã‚¿ã®åœ§ç¸®\n    optimized = this.compressMemoryData(optimized, 0.6);\n\n    return optimized;\n  }\n}\n```\n\n## ãªãœã“ã®æ‰‹æ³•ã‚’ä½¿ã†ã‹\n\n### ç†ç”±1: AIã®ç†è§£ã—ã‚„ã™ã•\n\nç”Ÿãƒ‡ãƒ¼ã‚¿ã‚’ãã®ã¾ã¾æ¸¡ã™ã®ã§ã¯ãªãã€æ§‹é€ åŒ–ã•ã‚ŒãŸã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã«å¤‰æ›ã™ã‚‹ã“ã¨ã§ã€AIãŒã‚ˆã‚Šæ­£ç¢ºã«æƒ…å ±ã‚’ç†è§£ã§ãã‚‹ã€‚\n\n### ç†ç”±2: æƒ…å ±ã®ä¸€è²«æ€§\n\nã™ã¹ã¦ã®ã‚·ã‚¹ãƒ†ãƒ ãƒ‡ãƒ¼ã‚¿ã‚’çµ±ä¸€ã•ã‚ŒãŸãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã«å¤‰æ›ã™ã‚‹ã“ã¨ã§ã€æƒ…å ±ã®ä¸€è²«æ€§ã‚’ä¿è¨¼ã€‚\n\n### ç†ç”±3: ãƒ‡ãƒãƒƒã‚°ã®å®¹æ˜“ã•\n\næ§‹é€ åŒ–ã•ã‚ŒãŸã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã«ã‚ˆã‚Šã€ã©ã®æƒ…å ±ãŒæ¬ ã‘ã¦ã„ã‚‹ã‹ã€ã©ã®ã‚·ã‚¹ãƒ†ãƒ ãŒå¤±æ•—ã—ãŸã‹ã‚’å®¹æ˜“ã«ç‰¹å®šã§ãã‚‹ã€‚\n\n### ç†ç”±4: æ‹¡å¼µæ€§\n\næ–°ã—ã„ã‚·ã‚¹ãƒ†ãƒ ã‚’è¿½åŠ ã™ã‚‹å ´åˆã‚‚ã€çµ±ä¸€ã•ã‚ŒãŸã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã«å¾“ã†ã ã‘ã§çµ±åˆã§ãã‚‹ã€‚\n\n## å†ç¾æ–¹æ³•\n\n### ã‚¹ãƒ†ãƒƒãƒ—1: ContextGeneratorã®åˆæœŸåŒ–\n\n```typescript\nconst contextGenerator = new ContextGenerator({\n  memoryManager,\n  characterManager,\n  plotManager,\n  analysisCoordinator,\n  learningJourneySystem\n});\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2: ã‚·ã‚¹ãƒ†ãƒ ãƒ‡ãƒ¼ã‚¿ã®åé›†\n\n```typescript\n// 8å¤§ã‚·ã‚¹ãƒ†ãƒ ãƒ‡ãƒ¼ã‚¿ã®ä¸¦åˆ—åé›†\nconst systemData = await collect8SystemsData(chapterNumber);\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3: ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆç”Ÿæˆ\n\n```typescript\nconst integratedContext = await contextGenerator.generateIntegratedContext(\n  chapterNumber,\n  systemData\n);\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—4: ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã®æœ€é©åŒ–ï¼ˆå¿…è¦ã«å¿œã˜ã¦ï¼‰\n\n```typescript\nconst optimizer = new ContextOptimizer();\nconst optimizedContext = optimizer.optimize(integratedContext, 8000);\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—5: ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã®æ¤œè¨¼\n\n```typescript\nconsole.log('çµ±åˆç‡:', optimizedContext.integrationMetrics.integrationRate);\nconsole.log('å“è³ªå‘ä¸Š:', optimizedContext.integrationMetrics.qualityImprovement);\nconsole.log('æ¨å®šãƒˆãƒ¼ã‚¯ãƒ³:', optimizedContext.metadata.estimatedTokens);\n```\n\n## ã„ã¤ä½¿ã†ã‹\n\n- å°èª¬ã®ç« ã‚’ç”Ÿæˆã™ã‚‹ç›´å‰ï¼ˆæ¯å›ï¼‰\n- è¤‡æ•°ã®ã‚·ã‚¹ãƒ†ãƒ ãƒ‡ãƒ¼ã‚¿ã‚’çµ±åˆã™ã‚‹å¿…è¦ãŒã‚ã‚‹å ´åˆ\n- AIã«æ¸¡ã™ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚’æ§‹ç¯‰ã™ã‚‹å ´åˆ\n- ãƒ‡ãƒ¼ã‚¿ã®ä¸€è²«æ€§ãŒé‡è¦ãªå ´åˆ\n\n## æ³¨æ„ç‚¹\n\n### æ³¨æ„1: nullãƒ‡ãƒ¼ã‚¿ã®å‡¦ç†\n\nã‚·ã‚¹ãƒ†ãƒ ãŒå¤±æ•—ã—ã¦nullã‚’è¿”ã™å ´åˆã€é©åˆ‡ãªãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯å€¤ã‚’è¨­å®šã™ã‚‹ã€‚\n\n```typescript\ncharacterData: data.character ?? { activeCharacters: [], relationships: [] }\n```\n\n### æ³¨æ„2: ãƒˆãƒ¼ã‚¯ãƒ³æ¨å®šã®ç²¾åº¦\n\nã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚µã‚¤ã‚ºã‚’æ­£ç¢ºã«æŠŠæ¡ã™ã‚‹ãŸã‚ã€ãƒˆãƒ¼ã‚¯ãƒ³ã‚«ã‚¦ãƒ³ãƒˆãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½¿ç”¨ã€‚\n\n### æ³¨æ„3: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹\n\nå¤§è¦æ¨¡ãªãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆã§ã¯ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒ†ã‚£ãƒ³ã‚°ã«æ™‚é–“ãŒã‹ã‹ã‚‹ã€‚éåŒæœŸå‡¦ç†ã‚’æ´»ç”¨ã€‚\n\n### æ³¨æ„4: ãƒ¡ãƒ¢ãƒªç®¡ç†\n\nçµ±åˆã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã¯å¤§ããªã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«ãªã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ã€‚ä½¿ç”¨å¾Œã¯é©åˆ‡ã«è§£æ”¾ã™ã‚‹ã€‚\n\n```typescript\nlet context = await generateIntegratedContext(...);\n// ä½¿ç”¨\nawait useContext(context);\n// è§£æ”¾\ncontext = null;\n```\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `skill_eight_system_parallel_integration_2025_11_25.md`ï¼š8å¤§ã‚·ã‚¹ãƒ†ãƒ ãƒ‡ãƒ¼ã‚¿ã®ä¸¦åˆ—åé›†æ–¹æ³•\n- `skill_section_builder_patterns_2025_11_25.md`ï¼šã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚’ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚»ã‚¯ã‚·ãƒ§ãƒ³ã«å¤‰æ›ã™ã‚‹æ–¹æ³•\n- `workflow_prompt_generation_three_phase_2025_11_25.md`ï¼šã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆç”Ÿæˆã‚’å«ã‚€å…¨ä½“ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼\n",
    "prompt": "### ã‚¹ãƒ†ãƒƒãƒ—1: ContextGeneratorã®åˆæœŸåŒ–\n\n```typescript\nconst contextGenerator = new ContextGenerator({\n  memoryManager,\n  characterManager,\n  plotManager,\n  analysisCoordinator,\n  learningJourneySystem\n});\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2: ã‚·ã‚¹ãƒ†ãƒ ãƒ‡ãƒ¼ã‚¿ã®åé›†\n\n```typescript\n// 8å¤§ã‚·ã‚¹ãƒ†ãƒ ãƒ‡ãƒ¼ã‚¿ã®ä¸¦åˆ—åé›†\nconst systemData = await collect8SystemsData(chapterNumber);\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3: ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆç”Ÿæˆ\n\n```typescript\nconst integratedContext = await contextGenerator.generateIntegratedContext(\n  chapterNumber,\n  systemData\n);\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—4: ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã®æœ€é©åŒ–ï¼ˆå¿…è¦ã«å¿œã˜ã¦ï¼‰\n\n```typescript\nconst optimizer = new ContextOptimizer();\nconst optimizedContext = optimizer.optimize(integratedContext, 8000);\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—5: ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã®æ¤œè¨¼\n\n```typescript\nconsole.log('çµ±åˆç‡:', optimizedContext.integrationMetrics.integrationRate);\nconsole.log('å“è³ªå‘ä¸Š:', optimizedContext.integrationMetrics.qualityImprovement);\nconsole.log('æ¨å®šãƒˆãƒ¼ã‚¯ãƒ³:', optimizedContext.metadata.estimatedTokens);\n```",
    "relatedTech": [
      "skill-eight-system-parallel-integration",
      "skill-section-builder-patterns",
      "workflow-prompt-generation-three-phase"
    ]
  },
  {
    "slug": "contract-id-auto-generation",
    "title": "å¥‘ç´„IDè‡ªå‹•æ¡ç•ªå®Ÿè£…",
    "category": "Skillsï¼ˆã‚¹ã‚­ãƒ«ãƒ»æ‰‹æ³•ï¼‰",
    "description": "å¥‘ç´„ä¸€è¦§ã‹ã‚‰æœ€å¤§IDã‚’å–å¾—ã—ã€+1ã—ã¦æ–°ã—ã„å¥‘ç´„IDã‚’ç”Ÿæˆã™ã‚‹ï¼ˆmax + 1ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼‰ã€‚",
    "project": "yumesuta-management-system",
    "usedIn": [
      "app/api/contracts/route.ts"
    ],
    "code": "```json\n{\n  \"id\": \"skill_contract_id_auto_generation_2025_11_24\",\n  \"type\": \"skill\",\n  \"name\": \"å¥‘ç´„IDè‡ªå‹•æ¡ç•ªå®Ÿè£…\",\n  \"tags\": [\"å¥‘ç´„ID\", \"è‡ªå‹•æ¡ç•ª\", \"max + 1\", \"IDç”Ÿæˆ\", \"ãƒ¦ãƒ‹ãƒ¼ã‚¯è­˜åˆ¥å­\"],\n  \"source_project\": \"yumesuta-management-system\",\n  \"source_file\": \"app/api/contracts/route.ts\",\n  \"related_knowledge\": [\"decision_mvp_readonly_scope_2025_11_24\", \"workflow_contract_management_workflow_2025_11_24\"],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-24\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# å¥‘ç´„IDè‡ªå‹•æ¡ç•ªå®Ÿè£…\n\n## ä½•ã‚’ã™ã‚‹ã‚¹ã‚­ãƒ«ã‹\n\nå¥‘ç´„ä¸€è¦§ã‹ã‚‰æœ€å¤§IDã‚’å–å¾—ã—ã€+1ã—ã¦æ–°ã—ã„å¥‘ç´„IDã‚’ç”Ÿæˆã™ã‚‹ï¼ˆmax + 1ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼‰ã€‚\n\n## å…·ä½“çš„ãªæ‰‹æ³•\n\n### ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼šmax + 1\n\n```typescript\n// 1. æ—¢å­˜å¥‘ç´„ä¸€è¦§ã‚’å–å¾—\nconst contracts = await getSheetData(spreadsheetId, 'å¥‘ç´„ä¸€è¦§!A2:Z1000');\n\n// 2. å¥‘ç´„IDã®æœ€å¤§å€¤ã‚’å–å¾—\nconst maxId = contracts.reduce((max, row) => {\n  const contractId = parseInt(row[0] || '0');\n  return Math.max(max, contractId);\n}, 0);\n\n// 3. æ–°ã—ã„å¥‘ç´„IDç”Ÿæˆ\nconst newContractId = maxId + 1;\n\nconsole.log(`æ–°ã—ã„å¥‘ç´„ID: ${newContractId}`);\n```\n\n### å®Œå…¨ãªå®Ÿè£…ä¾‹\n\n```typescript\nexport async function POST(request: Request) {\n  const { companyName, amount } = await request.json();\n\n  const spreadsheetId = process.env.CONTRACTS_SPREADSHEET_ID!;\n\n  // æ—¢å­˜å¥‘ç´„å–å¾—\n  const contracts = await getSheetData(spreadsheetId, 'å¥‘ç´„ä¸€è¦§!A2:Z1000');\n\n  // æœ€å¤§IDå–å¾—\n  const maxId = contracts.reduce((max, row) => {\n    const contractId = parseInt(row[0] || '0');\n    return Math.max(max, contractId);\n  }, 0);\n\n  // æ–°ã—ã„å¥‘ç´„IDç”Ÿæˆ\n  const newContractId = maxId + 1;\n\n  // æ–°ã—ã„å¥‘ç´„ãƒ‡ãƒ¼ã‚¿\n  const newContract = {\n    id: newContractId,\n    companyName,\n    amount,\n    createdAt: new Date().toISOString(),\n  };\n\n  // âš ï¸ MVPç¯„å›²ã§ã¯æ›¸ãè¾¼ã¿ãªã—ã€IDã®ã¿è¿”å´\n  return NextResponse.json({\n    success: true,\n    data: { contractId: newContractId },\n  });\n}\n```\n\n## ãªãœã“ã®æ‰‹æ³•ã‚’ä½¿ã†ã‹\n\n**ç†ç”±1ï¼šã‚·ãƒ³ãƒ—ãƒ«**\n- UUIDã‚„ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—ãƒ™ãƒ¼ã‚¹ã®IDã‚ˆã‚Šã‚‚ã‚·ãƒ³ãƒ—ãƒ«\n- æ•°å€¤IDã¯äººé–“ã«ã¨ã£ã¦ç†è§£ã—ã‚„ã™ã„\n\n**ç†ç”±2ï¼šGoogle Sheetsã¨ç›¸æ€§ãŒè‰¯ã„**\n- ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã§ã¯æ•°å€¤IDãŒæ‰±ã„ã‚„ã™ã„\n- ã‚½ãƒ¼ãƒˆãƒ»ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ãŒå®¹æ˜“\n\n**ç†ç”±3ï¼šé€£ç•ªä¿è¨¼**\n- 1, 2, 3, 4, ... ã¨é€£ç•ªã«ãªã‚‹\n- å¥‘ç´„æ•°ã®æŠŠæ¡ãŒå®¹æ˜“\n\n## å†ç¾æ–¹æ³•\n\n```typescript\nfunction generateNextId(existingData: any[][]): number {\n  const maxId = existingData.reduce((max, row) => {\n    const id = parseInt(row[0] || '0');\n    return Math.max(max, id);\n  }, 0);\n  return maxId + 1;\n}\n\n// ä½¿ç”¨ä¾‹\nconst contracts = [[1, 'ä¼æ¥­A'], [2, 'ä¼æ¥­B'], [5, 'ä¼æ¥­C']];\nconst nextId = generateNextId(contracts);  // 6\n```\n\n## ã„ã¤ä½¿ã†ã‹\n\n- å¥‘ç´„IDç”Ÿæˆ\n- æ³¨æ–‡IDç”Ÿæˆ\n- ãã®ä»–ã®é€£ç•ªIDç”Ÿæˆ\n\n## æ³¨æ„ç‚¹\n\n- **MVPç¯„å›²ã§ã¯æ›¸ãè¾¼ã¿ãªã—** - IDã®ã¿ç”Ÿæˆã€å®Ÿéš›ã®æ›¸ãè¾¼ã¿ã¯Phase 2ä»¥é™\n- **ä¸¦è¡Œå‡¦ç†ã«æ³¨æ„** - åŒæ™‚ã«è¤‡æ•°ã®IDã‚’ç”Ÿæˆã™ã‚‹å ´åˆã€é‡è¤‡ã®å¯èƒ½æ€§ã‚ã‚Šï¼ˆPhase 2ã§æ¥½è¦³çš„ãƒ­ãƒƒã‚¯å®Ÿè£…ï¼‰\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `decision_mvp_readonly_scope_2025_11_24.md` - MVPèª­ã¿å–ã‚Šå°‚ç”¨æ–¹é‡\n- `workflow_contract_management_workflow_2025_11_24.md` - å¥‘ç´„ç®¡ç†ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼\n",
    "prompt": "```typescript\nfunction generateNextId(existingData: any[][]): number {\n  const maxId = existingData.reduce((max, row) => {\n    const id = parseInt(row[0] || '0');\n    return Math.max(max, id);\n  }, 0);\n  return maxId + 1;\n}\n\n// ä½¿ç”¨ä¾‹\nconst contracts = [[1, 'ä¼æ¥­A'], [2, 'ä¼æ¥­B'], [5, 'ä¼æ¥­C']];\nconst nextId = generateNextId(contracts);  // 6\n```",
    "relatedTech": [
      "decision-mvp-readonly-scope",
      "workflow-contract-management-workflow"
    ]
  },
  {
    "slug": "dashboard-page-template-pattern",
    "title": "Dashboard Pageå®Ÿè£…ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ‘ã‚¿ãƒ¼ãƒ³",
    "category": "Skillsï¼ˆã‚¹ã‚­ãƒ«ãƒ»æ‰‹æ³•ï¼‰",
    "description": "Next.js 15 App Routerã§çµ±ä¸€ã•ã‚ŒãŸDashboard Pageã‚’å®Ÿè£…ã™ã‚‹ãŸã‚ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ‘ã‚¿ãƒ¼ãƒ³ã€‚Client Componentã€çŠ¶æ…‹ç®¡ç†ã€APIå‘¼ã³å‡ºã—ã€ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ãƒ»ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã€æ‰‹å‹•æ›´æ–°ãƒœã‚¿ãƒ³ã‚’å«ã‚€ã€‚",
    "project": "yumesuta-management-system",
    "usedIn": [
      "app/dashboard/sales/page.tsx:50-150"
    ],
    "code": "```json\n{\n  \"id\": \"skill_dashboard_page_template_pattern_2025_11_24\",\n  \"type\": \"skill\",\n  \"name\": \"Dashboard Pageå®Ÿè£…ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ‘ã‚¿ãƒ¼ãƒ³\",\n  \"tags\": [\"Dashboard\", \"Next.js\", \"React\", \"Client Component\", \"useState\", \"useEffect\", \"ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°çŠ¶æ…‹\"],\n  \"source_project\": \"yumesuta-management-system\",\n  \"source_file\": \"app/dashboard/sales/page.tsx:50-150\",\n  \"related_knowledge\": [\n    \"decision_tech_nextjs_15_app_router_2025_11_24\",\n    \"skill_api_route_template_pattern_2025_11_24\",\n    \"workflow_dashboard_page_creation_workflow_2025_11_24\"\n  ],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-24\",\n  \"updated\": \"2025-11-24\"\n}\n```\n\n# Dashboard Pageå®Ÿè£…ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ‘ã‚¿ãƒ¼ãƒ³\n\n## ä½•ã‚’ã™ã‚‹ã‚¹ã‚­ãƒ«ã‹\n\nNext.js 15 App Routerã§çµ±ä¸€ã•ã‚ŒãŸDashboard Pageã‚’å®Ÿè£…ã™ã‚‹ãŸã‚ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ‘ã‚¿ãƒ¼ãƒ³ã€‚Client Componentã€çŠ¶æ…‹ç®¡ç†ã€APIå‘¼ã³å‡ºã—ã€ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ãƒ»ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã€æ‰‹å‹•æ›´æ–°ãƒœã‚¿ãƒ³ã‚’å«ã‚€ã€‚\n\n## å…·ä½“çš„ãªæ‰‹æ³•\n\n### åŸºæœ¬ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ\n\n```typescript\n'use client';\n\nimport { useState, useEffect } from 'react';\nimport Link from 'next/link';\nimport { Home, RefreshCw, ArrowLeft } from 'lucide-react';\nimport type { YourResponseType } from '@/types/your-feature';\n\nexport default function YourFeatureDashboard() {\n  // 1. çŠ¶æ…‹ç®¡ç†\n  const [data, setData] = useState<YourResponseType | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  // 2. ãƒ‡ãƒ¼ã‚¿å–å¾—é–¢æ•°\n  const fetchData = async () => {\n    setLoading(true);\n    setError(null);\n\n    try {\n      const response = await fetch('/api/your-feature');\n      const json: YourResponseType = await response.json();\n\n      if (json.success) {\n        setData(json);\n      } else {\n        setError(json.error || 'ä¸æ˜ãªã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ');\n      }\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'ä¸æ˜ãªã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // 3. åˆå›ãƒ­ãƒ¼ãƒ‰\n  useEffect(() => {\n    fetchData();\n  }, []);\n\n  // 4. ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°çŠ¶æ…‹\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 p-8\">\n        <div className=\"max-w-7xl mx-auto\">\n          <div className=\"animate-pulse\">\n            <div className=\"h-8 bg-gray-200 rounded w-1/4 mb-8\"></div>\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n              {[1, 2, 3, 4, 5, 6].map((i) => (\n                <div key={i} className=\"h-32 bg-gray-200 rounded\"></div>\n              ))}\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  // 5. ã‚¨ãƒ©ãƒ¼çŠ¶æ…‹\n  if (error || !data?.data) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 p-8\">\n        <div className=\"max-w-7xl mx-auto\">\n          <div className=\"bg-red-50 border border-red-200 rounded-lg p-6\">\n            <h2 className=\"text-red-800 font-semibold text-lg mb-2\">\n              ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ\n            </h2>\n            <p className=\"text-red-600\">{error}</p>\n            <button\n              onClick={fetchData}\n              className=\"mt-4 px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700\"\n            >\n              å†èª­ã¿è¾¼ã¿\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  // 6. ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„\n  return (\n    <div className=\"min-h-screen bg-gray-50 p-8\">\n      <div className=\"max-w-7xl mx-auto\">\n        {/* ãƒ˜ãƒƒãƒ€ãƒ¼ */}\n        <div className=\"mb-8\">\n          <Link\n            href=\"/\"\n            className=\"inline-flex items-center gap-2 text-blue-600 hover:text-blue-700 mb-4 transition-colors\"\n          >\n            <ArrowLeft className=\"w-5 h-5\" />\n            ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ã¸æˆ»ã‚‹\n          </Link>\n          <div className=\"flex justify-between items-center\">\n            <div>\n              <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">\n                [æ©Ÿèƒ½å]ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰\n              </h1>\n              <p className=\"text-gray-600\">[èª¬æ˜]</p>\n            </div>\n            <div className=\"flex gap-3\">\n              <Link href=\"/\">\n                <button className=\"flex items-center gap-2 px-4 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors\">\n                  <Home className=\"w-5 h-5\" />\n                  ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ä¸€è¦§\n                </button>\n              </Link>\n              <button\n                onClick={fetchData}\n                className=\"flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\"\n              >\n                <RefreshCw className=\"w-5 h-5\" />\n                æ›´æ–°\n              </button>\n            </div>\n          </div>\n        </div>\n\n        {/* ãƒ‡ãƒ¼ã‚¿è¡¨ç¤º */}\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n          {/* ãƒ‡ãƒ¼ã‚¿ã‚’è¡¨ç¤º */}\n        </div>\n      </div>\n    </div>\n  );\n}\n```\n\n### å®Ÿéš›ã®ä¾‹: å–¶æ¥­ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰\n\n```typescript\n'use client';\n\nimport { useState, useEffect } from 'react';\nimport Link from 'next/link';\nimport { Home, RefreshCw, ArrowLeft } from 'lucide-react';\nimport type { SalesKPIResponse } from '@/types/sales';\n\nexport default function SalesDashboardPage() {\n  const [kpiData, setKpiData] = useState<SalesKPIResponse | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  const fetchKPIData = async () => {\n    setLoading(true);\n    setError(null);\n    try {\n      const response = await fetch('/api/sales-kpi');\n      const data: SalesKPIResponse = await response.json();\n\n      if (data.success) {\n        setKpiData(data);\n      } else {\n        setError(data.error || 'ä¸æ˜ãªã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ');\n      }\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'ä¸æ˜ãªã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchKPIData();\n  }, []);\n\n  // ... ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ãƒ»ã‚¨ãƒ©ãƒ¼çŠ¶æ…‹ã®ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚° ...\n\n  const { kpi, monthlyPerformance, customerStats } = kpiData.data;\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 p-8\">\n      <div className=\"max-w-7xl mx-auto\">\n        {/* ãƒ˜ãƒƒãƒ€ãƒ¼ */}\n        <div className=\"mb-8\">\n          <Link href=\"/\" className=\"inline-flex items-center gap-2 text-blue-600 hover:text-blue-700 mb-4\">\n            <ArrowLeft className=\"w-5 h-5\" />\n            ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ã¸æˆ»ã‚‹\n          </Link>\n          <div className=\"flex justify-between items-center\">\n            <div>\n              <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">å–¶æ¥­é€²æ—ç®¡ç†ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰</h1>\n              <p className=\"text-gray-600\">{kpi.month}æœˆã®å–¶æ¥­KPIãƒ»é€²æ—çŠ¶æ³</p>\n            </div>\n            <button onClick={fetchKPIData} className=\"flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700\">\n              <RefreshCw className=\"w-5 h-5\" />\n              æ›´æ–°\n            </button>\n          </div>\n        </div>\n\n        {/* KPIè¡¨ç¤º */}\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n          {/* KPIã‚«ãƒ¼ãƒ‰ */}\n        </div>\n      </div>\n    </div>\n  );\n}\n```\n\n## ãªãœã“ã®æ‰‹æ³•ã‚’ä½¿ã†ã‹\n\n### ç†ç”±1: çµ±ä¸€çš„ãªUI/UX\n\nã™ã¹ã¦ã®Dashboard PageãŒåŒã˜ãƒ‘ã‚¿ãƒ¼ãƒ³ã§å®Ÿè£…ã•ã‚Œã‚‹ã“ã¨ã§ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ãŒçµ±ä¸€ã•ã‚Œã‚‹ã€‚\n\n### ç†ç”±2: æ‰‹å‹•æ›´æ–°ãƒ‘ã‚¿ãƒ¼ãƒ³ã®å®Ÿç¾\n\nMVPç¯„å›²ã§ã¯è‡ªå‹•æ›´æ–°ï¼ˆãƒãƒ¼ãƒªãƒ³ã‚°ï¼‰ã‚’è¡Œã‚ãšã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã€Œæ›´æ–°ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦æ‰‹å‹•æ›´æ–°ã™ã‚‹æ–¹é‡ã€‚APIã‚¯ã‚©ãƒ¼ã‚¿ã‚’ç¯€ç´„ã§ãã‚‹ã€‚\n\n### ç†ç”±3: ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ãƒ»ã‚¨ãƒ©ãƒ¼çŠ¶æ…‹ã®çµ±ä¸€çš„ãªãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°\n\nãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ä¸­ã¯ã‚¹ã‚±ãƒ«ãƒˆãƒ³ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã€ã‚¨ãƒ©ãƒ¼æ™‚ã¯ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¡¨ç¤ºã™ã‚‹ã“ã¨ã§ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«é©åˆ‡ãªãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã‚’æä¾›ã§ãã‚‹ã€‚\n\n## å†ç¾æ–¹æ³•\n\n### ã‚¹ãƒ†ãƒƒãƒ—1: å‹å®šç¾©ã®ç¢ºèª\n\n```typescript\n// types/your-feature.ts\nexport interface YourResponseType {\n  success: boolean;\n  data?: YourDataType;\n  error?: string;\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2: Dashboard Pageã®ä½œæˆ\n\n```typescript\n// app/dashboard/your-feature/page.tsx\n'use client';\n\nimport { useState, useEffect } from 'react';\n// ... ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ä½¿ç”¨ ...\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3: API Routeã¨ã®çµ±åˆ\n\n```typescript\n// fetchDataé–¢æ•°ã§APIã‚’å‘¼ã³å‡ºã—\nconst response = await fetch('/api/your-feature');\n```\n\n## ã„ã¤ä½¿ã†ã‹\n\n### å ´é¢1: æ–°ã—ã„Dashboard Pageã‚’ä½œæˆã™ã‚‹\n\næ–°æ©Ÿèƒ½ã®Dashboard Pageã‚’ä½œæˆã™ã‚‹éš›ã€ã“ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ä½¿ç”¨ã™ã‚‹ã€‚\n\n### å ´é¢2: æ—¢å­˜ã®Dashboard Pageã‚’ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ã™ã‚‹\n\nçµ±ä¸€çš„ãªãƒ‘ã‚¿ãƒ¼ãƒ³ã«å¤‰æ›´ã™ã‚‹éš›ã€ã“ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã«æ²¿ã£ã¦ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ã™ã‚‹ã€‚\n\n### å ´é¢3: ãƒãƒ¼ãƒ é–‹ç™ºã§ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¦ç´„ã‚’çµ±ä¸€ã™ã‚‹\n\nã“ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆåŒ–ã—ã€ãƒãƒ¼ãƒ ãƒ¡ãƒ³ãƒãƒ¼ãŒåŒã˜ãƒ‘ã‚¿ãƒ¼ãƒ³ã§å®Ÿè£…ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ã€‚\n\n## æ³¨æ„ç‚¹\n\n### æ³¨æ„ç‚¹1: `'use client'` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ–ã‚’å¿˜ã‚Œãªã„\n\nClient Componentã¨ã—ã¦å‹•ä½œã•ã›ã‚‹ãŸã‚ã€ãƒ•ã‚¡ã‚¤ãƒ«ã®å…ˆé ­ã« `'use client'` ã‚’è¨˜è¿°ã™ã‚‹ã€‚\n\n### æ³¨æ„ç‚¹2: `useEffect` ã®ä¾å­˜é…åˆ—ã‚’ç©ºã«ã™ã‚‹\n\nåˆå›ãƒ­ãƒ¼ãƒ‰æ™‚ã®ã¿ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã™ã‚‹å ´åˆã€ä¾å­˜é…åˆ—ã‚’ç©ºï¼ˆ`[]`ï¼‰ã«ã™ã‚‹ã€‚\n\n```typescript\nuseEffect(() => {\n  fetchData();\n}, []); // ä¾å­˜é…åˆ—ãŒç©º = åˆå›ã®ã¿å®Ÿè¡Œ\n```\n\n### æ³¨æ„ç‚¹3: ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°çŠ¶æ…‹ã®ç®¡ç†\n\n`finally` ãƒ–ãƒ­ãƒƒã‚¯ã§ `setLoading(false)` ã‚’å‘¼ã¶ã“ã¨ã§ã€ã‚¨ãƒ©ãƒ¼æ™‚ã‚‚ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°çŠ¶æ…‹ã‚’è§£é™¤ã§ãã‚‹ã€‚\n\n### æ³¨æ„ç‚¹4: ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ•ãƒ¬ãƒ³ãƒ‰ãƒªãƒ¼åŒ–\n\næŠ€è¡“çš„ãªã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ãã®ã¾ã¾è¡¨ç¤ºã™ã‚‹ã®ã§ã¯ãªãã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ã‚ã‹ã‚Šã‚„ã™ã„ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã«å¤‰æ›ã™ã‚‹ã€‚\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `decision_tech_nextjs_15_app_router_2025_11_24.md`: Next.js 15 App Routeré¸æŠã®èƒŒæ™¯\n- `skill_api_route_template_pattern_2025_11_24.md`: API Routeã®å®Ÿè£…ãƒ‘ã‚¿ãƒ¼ãƒ³\n- `workflow_dashboard_page_creation_workflow_2025_11_24.md`: Dashboard Pageä½œæˆã®å…¨ä½“ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼\n- `decision_data_manual_update_pattern_2025_11_24.md`: æ‰‹å‹•æ›´æ–°ãƒ‘ã‚¿ãƒ¼ãƒ³ã®è¨­è¨ˆåˆ¤æ–­\n",
    "prompt": "### ã‚¹ãƒ†ãƒƒãƒ—1: å‹å®šç¾©ã®ç¢ºèª\n\n```typescript\n// types/your-feature.ts\nexport interface YourResponseType {\n  success: boolean;\n  data?: YourDataType;\n  error?: string;\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2: Dashboard Pageã®ä½œæˆ\n\n```typescript\n// app/dashboard/your-feature/page.tsx\n'use client';\n\nimport { useState, useEffect } from 'react';\n// ... ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ä½¿ç”¨ ...\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3: API Routeã¨ã®çµ±åˆ\n\n```typescript\n// fetchDataé–¢æ•°ã§APIã‚’å‘¼ã³å‡ºã—\nconst response = await fetch('/api/your-feature');\n```",
    "relatedTech": [
      "decision-tech-nextjs-15-app-router",
      "skill-api-route-template-pattern",
      "workflow-dashboard-page-creation-workflow"
    ]
  },
  {
    "slug": "date-parsing-null-check",
    "title": "æ—¥ä»˜ãƒ‘ãƒ¼ã‚¹æ™‚ã®Null/å‹ãƒã‚§ãƒƒã‚¯",
    "category": "Skillsï¼ˆã‚¹ã‚­ãƒ«ãƒ»æ‰‹æ³•ï¼‰",
    "description": "Google Sheetsã‹ã‚‰å–å¾—ã—ãŸæ—¥ä»˜æ–‡å­—åˆ—ã‚’å®‰å…¨ã«ãƒ‘ãƒ¼ã‚¹ã™ã‚‹ãŸã‚ã€Null/å‹ãƒã‚§ãƒƒã‚¯ã‚’è¡Œã„ã€ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã‚’å®Ÿè£…ã™ã‚‹æ‰‹æ³•ã€‚",
    "project": "yumesuta-management-system",
    "usedIn": [
      "app/api/sales-kpi/route.ts:305-325"
    ],
    "code": "```json\n{\n  \"id\": \"skill_date_parsing_null_check_2025_11_24\",\n  \"type\": \"skill\",\n  \"name\": \"æ—¥ä»˜ãƒ‘ãƒ¼ã‚¹æ™‚ã®Null/å‹ãƒã‚§ãƒƒã‚¯\",\n  \"tags\": [\"æ—¥ä»˜\", \"ãƒ‘ãƒ¼ã‚¹\", \"Nullãƒã‚§ãƒƒã‚¯\", \"å‹ã‚¬ãƒ¼ãƒ‰\", \"ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°\", \"ãƒ‡ãƒ¼ã‚¿æ¤œè¨¼\"],\n  \"source_project\": \"yumesuta-management-system\",\n  \"source_file\": \"app/api/sales-kpi/route.ts:305-325\",\n  \"related_knowledge\": [\n    \"failure_typescript_date_type_mismatch_2025_11_24\"\n  ],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-24\",\n  \"updated\": \"2025-11-24\"\n}\n```\n\n# æ—¥ä»˜ãƒ‘ãƒ¼ã‚¹æ™‚ã®Null/å‹ãƒã‚§ãƒƒã‚¯\n\n## ä½•ã‚’ã™ã‚‹ã‚¹ã‚­ãƒ«ã‹\n\nGoogle Sheetsã‹ã‚‰å–å¾—ã—ãŸæ—¥ä»˜æ–‡å­—åˆ—ã‚’å®‰å…¨ã«ãƒ‘ãƒ¼ã‚¹ã™ã‚‹ãŸã‚ã€Null/å‹ãƒã‚§ãƒƒã‚¯ã‚’è¡Œã„ã€ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã‚’å®Ÿè£…ã™ã‚‹æ‰‹æ³•ã€‚\n\n## å…·ä½“çš„ãªæ‰‹æ³•\n\n### ãƒ‘ã‚¿ãƒ¼ãƒ³1: æ—¥ä»˜æ–‡å­—åˆ—ã®å­˜åœ¨ãƒã‚§ãƒƒã‚¯\n\n```typescript\n/**\n * ãƒã‚¯ã‚¹ãƒˆæ—¥ã®æ–‡å­—åˆ—ã‚’ãƒ‘ãƒ¼ã‚¹ã—ã¦ Date ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’è¿”ã™\n * ä¾‹: \"10/9 15æ™‚ï½\" â†’ 2025å¹´10æœˆ9æ—¥\n * ä¾‹: \"10æœˆ6æ—¥\" â†’ 2025å¹´10æœˆ6æ—¥\n */\nfunction parseNextDate(dateStr: string, today: Date): Date | null {\n  // Null/ç©ºæ–‡å­—åˆ—ãƒã‚§ãƒƒã‚¯\n  if (!dateStr) return null;\n\n  // \"10/9\" ã¾ãŸã¯ \"10/9 15æ™‚ï½\" å½¢å¼\n  const slashMatch = dateStr.match(/(\\d{1,2})\\/(\\d{1,2})/);\n  if (slashMatch) {\n    const month = parseInt(slashMatch[1]);\n    const day = parseInt(slashMatch[2]);\n    return createDateWithYearAdjustment(month, day, today);\n  }\n\n  // \"10æœˆ6æ—¥\" å½¢å¼\n  const kanjiMatch = dateStr.match(/(\\d{1,2})æœˆ(\\d{1,2})æ—¥/);\n  if (kanjiMatch) {\n    const month = parseInt(kanjiMatch[1]);\n    const day = parseInt(kanjiMatch[2]);\n    return createDateWithYearAdjustment(month, day, today);\n  }\n\n  // ãƒ‘ãƒ¼ã‚¹ã«å¤±æ•—ã—ãŸå ´åˆã¯nullã‚’è¿”ã™\n  return null;\n}\n```\n\n### ãƒ‘ã‚¿ãƒ¼ãƒ³2: ã‚»ãƒ«ã®å€¤ã®å‹ãƒã‚§ãƒƒã‚¯\n\n```typescript\n// Google Sheetsã‹ã‚‰å–å¾—ã—ãŸå€¤\nconst cellValue = row[16]; // Qåˆ—: ãƒã‚¯ã‚¹ãƒˆæ—¥\n\n// å‹ãƒã‚§ãƒƒã‚¯ + Nullãƒã‚§ãƒƒã‚¯\nif (!cellValue || typeof cellValue !== 'string') {\n  console.warn(`Invalid date value: ${cellValue}`);\n  return null; // ã¾ãŸã¯é©åˆ‡ãªãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤\n}\n\n// å®‰å…¨ã«ãƒ‘ãƒ¼ã‚¹\nconst parsedDate = parseNextDate(cellValue, today);\n```\n\n### ãƒ‘ã‚¿ãƒ¼ãƒ³3: è¤‡æ•°å½¢å¼ã®æ—¥ä»˜ãƒ‘ãƒ¼ã‚¹\n\n```typescript\nfunction parseDateSafely(dateStr: any): Date | null {\n  // å‹ãƒã‚§ãƒƒã‚¯\n  if (typeof dateStr !== 'string') {\n    console.warn('Date value is not a string:', dateStr);\n    return null;\n  }\n\n  // Nullãƒã‚§ãƒƒã‚¯\n  if (!dateStr || dateStr.trim() === '') {\n    return null;\n  }\n\n  const normalized = dateStr.trim();\n\n  // ãƒ‘ã‚¿ãƒ¼ãƒ³1: \"10/9\" ã¾ãŸã¯ \"10/9 15æ™‚ï½\"\n  const slashMatch = normalized.match(/(\\d{1,2})\\/(\\d{1,2})/);\n  if (slashMatch) {\n    const month = parseInt(slashMatch[1]);\n    const day = parseInt(slashMatch[2]);\n    return new Date(new Date().getFullYear(), month - 1, day);\n  }\n\n  // ãƒ‘ã‚¿ãƒ¼ãƒ³2: \"10æœˆ6æ—¥\"\n  const kanjiMatch = normalized.match(/(\\d{1,2})æœˆ(\\d{1,2})æ—¥/);\n  if (kanjiMatch) {\n    const month = parseInt(kanjiMatch[1]);\n    const day = parseInt(kanjiMatch[2]);\n    return new Date(new Date().getFullYear(), month - 1, day);\n  }\n\n  // ãƒ‘ã‚¿ãƒ¼ãƒ³3: ISOå½¢å¼ \"2025-10-09\"\n  const isoMatch = normalized.match(/^\\d{4}-\\d{2}-\\d{2}$/);\n  if (isoMatch) {\n    return new Date(normalized);\n  }\n\n  // ãƒ‘ãƒ¼ã‚¹ã«å¤±æ•—\n  console.warn('Failed to parse date:', dateStr);\n  return null;\n}\n```\n\n### ãƒ‘ã‚¿ãƒ¼ãƒ³4: å¹´åº¦ã®è‡ªå‹•èª¿æ•´\n\n```typescript\n/**\n * æœˆ/æ—¥ã‹ã‚‰ Date ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆ\n * 1ãƒ¶æœˆä»¥ä¸Šéå»ã®å ´åˆã¯æ¥å¹´æ‰±ã„ã«ã™ã‚‹\n */\nfunction createDateWithYearAdjustment(month: number, day: number, today: Date): Date {\n  const currentYear = today.getFullYear();\n  const date = new Date(currentYear, month - 1, day);\n\n  // 1ãƒ¶æœˆä»¥ä¸Šéå»ã®å ´åˆã¯æ¥å¹´ã¨ã™ã‚‹\n  const oneMonthAgo = new Date(today);\n  oneMonthAgo.setMonth(oneMonthAgo.getMonth() - 1);\n\n  if (date < oneMonthAgo) {\n    date.setFullYear(currentYear + 1);\n  }\n\n  return date;\n}\n```\n\n### ãƒ‘ã‚¿ãƒ¼ãƒ³5: try-catchã«ã‚ˆã‚‹ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°\n\n```typescript\nfunction parseDateWithErrorHandling(dateStr: string): Date | null {\n  try {\n    // Nullãƒã‚§ãƒƒã‚¯\n    if (!dateStr) return null;\n\n    // å‹ãƒã‚§ãƒƒã‚¯\n    if (typeof dateStr !== 'string') {\n      throw new TypeError('Date value must be a string');\n    }\n\n    // ãƒ‘ãƒ¼ã‚¹å‡¦ç†\n    const parsed = parseDate(dateStr);\n\n    // çµæœã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³\n    if (!parsed || isNaN(parsed.getTime())) {\n      throw new Error('Invalid date');\n    }\n\n    return parsed;\n  } catch (error) {\n    console.error('Date parsing error:', error);\n    return null; // ã‚¨ãƒ©ãƒ¼æ™‚ã¯nullã‚’è¿”ã™\n  }\n}\n```\n\n## ãªãœã“ã®æ‰‹æ³•ã‚’ä½¿ã†ã‹\n\n### ç†ç”±1: Google Sheetsã®ãƒ‡ãƒ¼ã‚¿ã¯å‹ä¿è¨¼ãŒãªã„\n\nGoogle Sheets APIã¯ `any[][]` ã‚’è¿”ã™ãŸã‚ã€ã‚»ãƒ«ã®å€¤ãŒæ–‡å­—åˆ—ã‹æ•°å€¤ã‹ã€Nullã‹ã€ã¯å®Ÿè¡Œæ™‚ã¾ã§ä¸æ˜ã€‚å‹ãƒã‚§ãƒƒã‚¯ã‚’è¡Œã†ã“ã¨ã§ã€ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã‚¨ãƒ©ãƒ¼ã‚’é˜²ãã€‚\n\n**å‹ãªã—ã®å ´åˆ**:\n```typescript\n// âŒ æ‚ªã„ä¾‹: å‹ãƒã‚§ãƒƒã‚¯ãªã—\nconst dateStr = row[16];\nconst date = new Date(dateStr); // dateStrãŒundefinedã‚„numberã®å ´åˆã€ã‚¨ãƒ©ãƒ¼\n```\n\n**å‹ãƒã‚§ãƒƒã‚¯ã‚ã‚Šã®å ´åˆ**:\n```typescript\n// âœ… è‰¯ã„ä¾‹: å‹ãƒã‚§ãƒƒã‚¯ã‚ã‚Š\nconst dateStr = row[16];\nif (typeof dateStr !== 'string' || !dateStr) {\n  console.warn('Invalid date value');\n  return null;\n}\nconst date = new Date(dateStr); // å®‰å…¨\n```\n\n### ç†ç”±2: ç©ºã‚»ãƒ«ã‚„æœªå…¥åŠ›ã‚’æ­£ã—ããƒãƒ³ãƒ‰ãƒªãƒ³ã‚°\n\nGoogle Sheetsã§ã¯ã€ç©ºã‚»ãƒ«ã¯ `undefined` ã‚„ `''` ã¨ã—ã¦è¿”ã•ã‚Œã‚‹ã€‚ã“ã‚Œã‚‰ã‚’é©åˆ‡ã«ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã—ãªã„ã¨ã€ä¸æ­£ãªDateã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒç”Ÿæˆã•ã‚Œã‚‹ã€‚\n\n**ä¾‹**:\n```typescript\nnew Date(''); // â†’ Invalid Date\nnew Date(undefined); // â†’ Invalid Date\nnew Date(null); // â†’ 1970-01-01ï¼ˆæ„å›³ã—ãªã„å€¤ï¼‰\n```\n\n### ç†ç”±3: è¤‡æ•°ã®æ—¥ä»˜å½¢å¼ã«å¯¾å¿œ\n\nå®Ÿå‹™ã§ã¯ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒè¤‡æ•°ã®å½¢å¼ã§æ—¥ä»˜ã‚’å…¥åŠ›ã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ã€‚ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒãƒ³ã‚°ã§è¤‡æ•°å½¢å¼ã«å¯¾å¿œã™ã‚‹ã“ã¨ã§ã€æŸ”è»Ÿã«ãƒ‡ãƒ¼ã‚¿ã‚’å—ã‘å…¥ã‚Œã‚‰ã‚Œã‚‹ã€‚\n\n**ä¾‹**:\n- ã€Œ10/9ã€ï¼ˆæœˆ/æ—¥ï¼‰\n- ã€Œ10æœˆ9æ—¥ã€ï¼ˆæ¼¢å­—å½¢å¼ï¼‰\n- ã€Œ10/9 15æ™‚ï½ã€ï¼ˆæ™‚åˆ»ä»˜ãï¼‰\n- ã€Œ2025-10-09ã€ï¼ˆISOå½¢å¼ï¼‰\n\n## å†ç¾æ–¹æ³•\n\n### ã‚¹ãƒ†ãƒƒãƒ—1: å‹ã‚¬ãƒ¼ãƒ‰é–¢æ•°ã®å®Ÿè£…\n\n```typescript\n/**\n * å€¤ãŒæœ‰åŠ¹ãªæ—¥ä»˜æ–‡å­—åˆ—ã‹ãƒã‚§ãƒƒã‚¯\n */\nfunction isValidDateString(value: any): value is string {\n  return typeof value === 'string' && value.trim() !== '';\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2: å®‰å…¨ãªæ—¥ä»˜ãƒ‘ãƒ¼ã‚¹é–¢æ•°ã®å®Ÿè£…\n\n```typescript\n/**\n * å®‰å…¨ã«æ—¥ä»˜ã‚’ãƒ‘ãƒ¼ã‚¹\n */\nfunction parseDateSafely(dateStr: any): Date | null {\n  // å‹ãƒã‚§ãƒƒã‚¯\n  if (!isValidDateString(dateStr)) {\n    return null;\n  }\n\n  const normalized = dateStr.trim();\n\n  // ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒãƒ³ã‚°ï¼ˆè¤‡æ•°å½¢å¼å¯¾å¿œï¼‰\n  // ... (ä¸Šè¨˜ã®ä¾‹ã‚’å‚ç…§)\n\n  return null; // ãƒ‘ãƒ¼ã‚¹ã«å¤±æ•—\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3: API Routeã§ä½¿ç”¨\n\n```typescript\nimport { getSheetData } from '@/lib/google-sheets';\nimport { NextResponse } from 'next/server';\n\nexport async function GET() {\n  const spreadsheetId = process.env.SALES_SPREADSHEET_ID!;\n  const data = await getSheetData(spreadsheetId, 'é¡§å®¢ãƒã‚¹ã‚¿!A1:S100');\n\n  const today = new Date();\n\n  // æ—¥ä»˜ãƒ‡ãƒ¼ã‚¿ã‚’å®‰å…¨ã«ãƒ‘ãƒ¼ã‚¹\n  const parsedData = data.slice(1).map(row => {\n    const nextDateStr = row[16]; // Qåˆ—: ãƒã‚¯ã‚¹ãƒˆæ—¥\n\n    // å‹ãƒã‚§ãƒƒã‚¯ + Nullãƒã‚§ãƒƒã‚¯\n    if (!isValidDateString(nextDateStr)) {\n      return {\n        companyName: row[0],\n        nextDate: null, // ãƒ‘ãƒ¼ã‚¹ã«å¤±æ•—ã—ãŸå ´åˆã¯null\n      };\n    }\n\n    // ãƒ‘ãƒ¼ã‚¹\n    const nextDate = parseDateSafely(nextDateStr, today);\n\n    return {\n      companyName: row[0],\n      nextDate,\n    };\n  });\n\n  return NextResponse.json({ success: true, data: parsedData });\n}\n```\n\n## ã„ã¤ä½¿ã†ã‹\n\n### å ´é¢1: Google Sheetsã‹ã‚‰æ—¥ä»˜ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã™ã‚‹\n\nGoogle Sheets APIã‹ã‚‰å–å¾—ã—ãŸæ—¥ä»˜ãƒ‡ãƒ¼ã‚¿ã¯æ–‡å­—åˆ—å½¢å¼ã§ã‚ã‚Šã€å‹ä¿è¨¼ãŒãªã„ãŸã‚ã€å¿…ãšNull/å‹ãƒã‚§ãƒƒã‚¯ã‚’è¡Œã†ã€‚\n\n### å ´é¢2: ãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›ã®æ—¥ä»˜ã‚’å‡¦ç†ã™ã‚‹\n\nãƒ•ã‚©ãƒ¼ãƒ å…¥åŠ›ã‚„APIçµŒç”±ã§å—ã‘å–ã£ãŸæ—¥ä»˜ãƒ‡ãƒ¼ã‚¿ã‚’å‡¦ç†ã™ã‚‹éš›ã€ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã¨ã—ã¦ä½¿ç”¨ã™ã‚‹ã€‚\n\n### å ´é¢3: æ—¥ä»˜ãƒ™ãƒ¼ã‚¹ã®ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ã‚„é›†è¨ˆã‚’è¡Œã†\n\næ—¥ä»˜ãƒ‡ãƒ¼ã‚¿ã«åŸºã¥ã„ã¦ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ã‚„é›†è¨ˆã‚’è¡Œã†éš›ã€ä¸æ­£ãªãƒ‡ãƒ¼ã‚¿ã‚’äº‹å‰ã«é™¤å¤–ã™ã‚‹ã“ã¨ã§ã€æ­£ç¢ºãªçµæœã‚’å¾—ã‚‰ã‚Œã‚‹ã€‚\n\n## æ³¨æ„ç‚¹\n\n### æ³¨æ„ç‚¹1: `new Date()` ã¯ä¸æ­£ãªå€¤ã§ã‚‚ã‚¨ãƒ©ãƒ¼ã‚’æŠ•ã’ãªã„\n\n`new Date('')` ã¯ `Invalid Date` ã‚’è¿”ã™ãŒã€ã‚¨ãƒ©ãƒ¼ã‚’æŠ•ã’ãªã„ã€‚`isNaN(date.getTime())` ã§æ¤œè¨¼ãŒå¿…è¦ã€‚\n\n```typescript\nconst date = new Date('invalid');\nconsole.log(date); // â†’ Invalid Date\nconsole.log(isNaN(date.getTime())); // â†’ true\n```\n\n### æ³¨æ„ç‚¹2: ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³ã®è€ƒæ…®\n\n`Date` ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¯ãƒ­ãƒ¼ã‚«ãƒ«ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³ã§è§£é‡ˆã•ã‚Œã‚‹ã€‚UTCã¨ã®å·®ç•°ã«æ³¨æ„ã€‚\n\n```typescript\n// ãƒ­ãƒ¼ã‚«ãƒ«ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³\nconst date = new Date('2025-10-09');\nconsole.log(date); // â†’ 2025-10-09T00:00:00+09:00ï¼ˆJSTï¼‰\n\n// UTC\nconst dateUTC = new Date(Date.UTC(2025, 9, 9));\nconsole.log(dateUTC); // â†’ 2025-10-09T00:00:00Z\n```\n\n### æ³¨æ„ç‚¹3: `null` vs `undefined` ã®ä½¿ã„åˆ†ã‘\n\nãƒ‘ãƒ¼ã‚¹å¤±æ•—æ™‚ã« `null` ã‚’è¿”ã™ã‹ `undefined` ã‚’è¿”ã™ã‹ã¯ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®è¦ç´„ã«å¾“ã†ã€‚ä¸€è²«æ€§ã‚’ä¿ã¤ã“ã¨ãŒé‡è¦ã€‚\n\nã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯ `null` ã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹ã€‚\n\n### æ³¨æ„ç‚¹4: å¹´åº¦ã®è‡ªå‹•èª¿æ•´ãƒ­ã‚¸ãƒƒã‚¯\n\nå¹´åº¦ã®è‡ªå‹•èª¿æ•´ï¼ˆä¾‹: éå»1ãƒ¶æœˆä»¥ä¸Šã®å ´åˆã¯æ¥å¹´æ‰±ã„ï¼‰ã¯ã€ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ã«ä¾å­˜ã™ã‚‹ã€‚ãƒ­ã‚¸ãƒƒã‚¯ã‚’ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆåŒ–ã—ã€ãƒ†ã‚¹ãƒˆã‚’è¡Œã†ã€‚\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `failure_typescript_date_type_mismatch_2025_11_24.md`: æ—¥ä»˜å‹ä¸ä¸€è‡´ã‚¨ãƒ©ãƒ¼ã¨ãã®è§£æ±ºç­–\n",
    "prompt": "### ã‚¹ãƒ†ãƒƒãƒ—1: å‹ã‚¬ãƒ¼ãƒ‰é–¢æ•°ã®å®Ÿè£…\n\n```typescript\n/**\n * å€¤ãŒæœ‰åŠ¹ãªæ—¥ä»˜æ–‡å­—åˆ—ã‹ãƒã‚§ãƒƒã‚¯\n */\nfunction isValidDateString(value: any): value is string {\n  return typeof value === 'string' && value.trim() !== '';\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2: å®‰å…¨ãªæ—¥ä»˜ãƒ‘ãƒ¼ã‚¹é–¢æ•°ã®å®Ÿè£…\n\n```typescript\n/**\n * å®‰å…¨ã«æ—¥ä»˜ã‚’ãƒ‘ãƒ¼ã‚¹\n */\nfunction parseDateSafely(dateStr: any): Date | null {\n  // å‹ãƒã‚§ãƒƒã‚¯\n  if (!isValidDateString(dateStr)) {\n    return null;\n  }\n\n  const normalized = dateStr.trim();\n\n  // ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒãƒ³ã‚°ï¼ˆè¤‡æ•°å½¢å¼å¯¾å¿œï¼‰\n  // ... (ä¸Šè¨˜ã®ä¾‹ã‚’å‚ç…§)\n\n  return null; // ãƒ‘ãƒ¼ã‚¹ã«å¤±æ•—\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3: API Routeã§ä½¿ç”¨\n\n```typescript\nimport { getSheetData } from '@/lib/google-sheets';\nimport { NextResponse } from 'next/server';\n\nexport async function GET() {\n  const spreadsheetId = process.env.SALES_SPREADSHEET_ID!;\n  const data = await getSheetData(spreadsheetId, 'é¡§å®¢ãƒã‚¹ã‚¿!A1:S100');\n\n  const today = new Date();\n\n  // æ—¥ä»˜ãƒ‡ãƒ¼ã‚¿ã‚’å®‰å…¨ã«ãƒ‘ãƒ¼ã‚¹\n  const parsedData = data.slice(1).map(row => {\n    const nextDateStr = row[16]; // Qåˆ—: ãƒã‚¯ã‚¹ãƒˆæ—¥\n\n    // å‹ãƒã‚§ãƒƒã‚¯ + Nullãƒã‚§ãƒƒã‚¯\n    if (!isValidDateString(nextDateStr)) {\n      return {\n        companyName: row[0],\n        nextDate: null, // ãƒ‘ãƒ¼ã‚¹ã«å¤±æ•—ã—ãŸå ´åˆã¯null\n      };\n    }\n\n    // ãƒ‘ãƒ¼ã‚¹\n    const nextDate = parseDateSafely(nextDateStr, today);\n\n    return {\n      companyName: row[0],\n      nextDate,\n    };\n  });\n\n  return NextResponse.json({ success: true, data: parsedData });\n}\n```",
    "relatedTech": [
      "failure-typescript-date-type-mismatch"
    ]
  },
  {
    "slug": "duplicate-resolution-strategy",
    "title": "ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãƒ¬ãƒ™ãƒ«é‡è¤‡è§£æ±ºæˆ¦ç•¥",
    "category": "Skillsï¼ˆã‚¹ã‚­ãƒ«ãƒ»æ‰‹æ³•ï¼‰",
    "description": "è¤‡æ•°ã®ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ã‹ã‚‰åŒã˜æƒ…å ±ã‚’å–å¾—ã—ãŸéš›ã«ã€**ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰å˜ä½ã§æœ€é©ãªå€¤ã‚’é¸æŠ**ã—ã€çµ±åˆã•ã‚ŒãŸãƒ‡ãƒ¼ã‚¿ã‚’ç”Ÿæˆã™ã‚‹æ‰‹æ³•ã€‚æ–‡å­—åˆ—ã€é…åˆ—ã€æ•°å€¤ãªã©ã€ãƒ‡ãƒ¼ã‚¿å‹ã«å¿œã˜ãŸè§£æ±ºã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã‚’é©ç”¨ã—ã€ç«¶åˆã®è©³ç´°ã‚’è¨˜éŒ²ã™ã‚‹ã€‚",
    "project": "novel-automation-system-v2",
    "usedIn": [
      "src/lib/memory/integration/duplicate-resolver.ts:576-637"
    ],
    "code": "```json\n{\n  \"id\": \"skill_duplicate_resolution_strategy_2025_11_25\",\n  \"type\": \"skill\",\n  \"name\": \"ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãƒ¬ãƒ™ãƒ«é‡è¤‡è§£æ±ºæˆ¦ç•¥\",\n  \"tags\": [\"ãƒ‡ãƒ¼ã‚¿çµ±åˆ\", \"ç«¶åˆè§£æ±º\", \"é‡è¤‡æ’é™¤\", \"ãƒ‡ãƒ¼ã‚¿å“è³ª\", \"ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ \", \"AIå°èª¬ç”Ÿæˆ\"],\n  \"source_project\": \"novel-automation-system-v2\",\n  \"source_file\": \"src/lib/memory/integration/duplicate-resolver.ts:576-637\",\n  \"related_knowledge\": [\n    \"skill_three_layer_memory_hierarchy_integration_2025_11_25\",\n    \"decision_field_level_conflict_resolution_2025_11_25\"\n  ],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãƒ¬ãƒ™ãƒ«é‡è¤‡è§£æ±ºæˆ¦ç•¥\n\n## ä½•ã‚’ã™ã‚‹ã‚¹ã‚­ãƒ«ã‹\n\nè¤‡æ•°ã®ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ã‹ã‚‰åŒã˜æƒ…å ±ã‚’å–å¾—ã—ãŸéš›ã«ã€**ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰å˜ä½ã§æœ€é©ãªå€¤ã‚’é¸æŠ**ã—ã€çµ±åˆã•ã‚ŒãŸãƒ‡ãƒ¼ã‚¿ã‚’ç”Ÿæˆã™ã‚‹æ‰‹æ³•ã€‚æ–‡å­—åˆ—ã€é…åˆ—ã€æ•°å€¤ãªã©ã€ãƒ‡ãƒ¼ã‚¿å‹ã«å¿œã˜ãŸè§£æ±ºã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã‚’é©ç”¨ã—ã€ç«¶åˆã®è©³ç´°ã‚’è¨˜éŒ²ã™ã‚‹ã€‚\n\n## å…·ä½“çš„ãªæ‰‹æ³•\n\n### è§£æ±ºæˆ¦ç•¥ã®ç¨®é¡\n\n**1. æ–‡å­—åˆ—ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ï¼ˆæœ€é•·å€¤é¸æŠæˆ¦ç•¥ï¼‰**\n\næœ€ã‚‚è©³ç´°ãªèª¬æ˜ã‚’å«ã‚€å€¤ã‚’é¸æŠï¼š\n\n```typescript\nprivate resolveStringField(\n    fieldName: string,\n    sources: Array<{name: string; data: any}>,\n    conflictsResolved: Array<any>\n): string {\n    // å…¨ã‚½ãƒ¼ã‚¹ã‹ã‚‰éç©ºæ–‡å­—åˆ—ã‚’å–å¾—\n    const values = sources\n        .map(s => s.data?.[fieldName])\n        .filter(v => v && typeof v === 'string');\n\n    if (values.length === 0) return '';\n    if (values.length === 1) return values[0];\n\n    // é‡è¤‡ã‚’æ’é™¤\n    const uniqueValues = [...new Set(values)];\n\n    if (uniqueValues.length === 1) {\n        return uniqueValues[0];\n    }\n\n    // æœ€é•·ã®èª¬æ˜ã‚’é¸æŠï¼ˆæœ€ã‚‚è©³ç´°ã¨ä»®å®šï¼‰\n    const chosenValue = uniqueValues.reduce((longest, current) =>\n        current.length > longest.length ? current : longest\n    );\n\n    // ç«¶åˆè¨˜éŒ²\n    conflictsResolved.push({\n        field: fieldName,\n        values: uniqueValues,\n        chosenValue,\n        reason: 'Selected longest description'\n    });\n\n    return chosenValue;\n}\n```\n\n**2. é…åˆ—ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ï¼ˆãƒãƒ¼ã‚¸ï¼†é‡è¤‡æ’é™¤æˆ¦ç•¥ï¼‰**\n\nå…¨ã‚½ãƒ¼ã‚¹ã®é…åˆ—ã‚’ãƒãƒ¼ã‚¸ã—ã€é‡è¤‡ã‚’å‰Šé™¤ï¼š\n\n```typescript\nprivate resolveArrayField(\n    fieldName: string,\n    sources: Array<{name: string; data: any}>,\n    conflictsResolved: Array<any>\n): any[] {\n    // å…¨ã‚½ãƒ¼ã‚¹ã‹ã‚‰é…åˆ—ã‚’å–å¾—\n    const arrays = sources\n        .map(s => s.data?.[fieldName])\n        .filter(v => Array.isArray(v));\n\n    if (arrays.length === 0) return [];\n    if (arrays.length === 1) return arrays[0];\n\n    // ãƒãƒ¼ã‚¸\n    const combined = arrays.flat();\n\n    // é‡è¤‡æ’é™¤ï¼ˆãƒ—ãƒªãƒŸãƒ†ã‚£ãƒ–å‹ã®å ´åˆï¼‰\n    const unique = [...new Set(combined)];\n\n    // ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆé…åˆ—ã®å ´åˆã¯JSONæ–‡å­—åˆ—åŒ–ã§æ¯”è¼ƒ\n    if (combined.length > 0 && typeof combined[0] === 'object') {\n        const seen = new Set<string>();\n        const uniqueObjects = combined.filter(item => {\n            const key = JSON.stringify(item);\n            if (seen.has(key)) return false;\n            seen.add(key);\n            return true;\n        });\n\n        conflictsResolved.push({\n            field: fieldName,\n            values: arrays,\n            chosenValue: uniqueObjects,\n            reason: 'Merged arrays with object deduplication'\n        });\n\n        return uniqueObjects;\n    }\n\n    if (combined.length !== unique.length) {\n        conflictsResolved.push({\n            field: fieldName,\n            values: arrays,\n            chosenValue: unique,\n            reason: 'Merged arrays with duplicates removed'\n        });\n    }\n\n    return unique;\n}\n```\n\n**3. æ•°å€¤ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ï¼ˆå„ªå…ˆåº¦ãƒ™ãƒ¼ã‚¹æˆ¦ç•¥ï¼‰**\n\næœ€æ–°ã¾ãŸã¯æœ€ã‚‚ä¿¡é ¼ã§ãã‚‹ã‚½ãƒ¼ã‚¹ã®å€¤ã‚’å„ªå…ˆï¼š\n\n```typescript\nprivate resolveNumericField(\n    fieldName: string,\n    sources: Array<{name: string; data: any}>,\n    conflictsResolved: Array<any>,\n    priority: string[] = ['WorldKnowledge', 'NarrativeMemory', 'PlotManager']\n): number {\n    const values = sources\n        .map(s => ({ source: s.name, value: s.data?.[fieldName] }))\n        .filter(v => typeof v.value === 'number');\n\n    if (values.length === 0) return 0;\n    if (values.length === 1) return values[0].value;\n\n    // å„ªå…ˆåº¦ãƒªã‚¹ãƒˆã«åŸºã¥ã„ã¦é¸æŠ\n    for (const prioritySource of priority) {\n        const found = values.find(v => v.source === prioritySource);\n        if (found) {\n            conflictsResolved.push({\n                field: fieldName,\n                values: values.map(v => v.value),\n                chosenValue: found.value,\n                reason: `Selected from priority source: ${prioritySource}`\n            });\n            return found.value;\n        }\n    }\n\n    // å„ªå…ˆåº¦ãƒªã‚¹ãƒˆã«ãªã„å ´åˆã¯æœ€åˆã®å€¤\n    return values[0].value;\n}\n```\n\n### çµ±åˆãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼\n\n```\nè¤‡æ•°ã‚½ãƒ¼ã‚¹ã‹ã‚‰ãƒ‡ãƒ¼ã‚¿å–å¾—\n    â†“\nå„ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’èµ°æŸ»\n    â†“\nãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰å‹ã‚’åˆ¤å®š\n    â”œâ”€â”€ string â†’ æœ€é•·å€¤é¸æŠ\n    â”œâ”€â”€ array â†’ ãƒãƒ¼ã‚¸ï¼†é‡è¤‡æ’é™¤\n    â”œâ”€â”€ number â†’ å„ªå…ˆåº¦ãƒ™ãƒ¼ã‚¹é¸æŠ\n    â””â”€â”€ object â†’ å†å¸°çš„è§£æ±º\n    â†“\nç«¶åˆè¨˜éŒ²ã‚’è“„ç©\n    â†“\nçµ±åˆãƒ‡ãƒ¼ã‚¿ï¼‹ç«¶åˆãƒ­ã‚°ã‚’è¿”å´\n```\n\n## ãªãœã“ã®æ‰‹æ³•ã‚’ä½¿ã†ã‹\n\n**ç†ç”±1ï¼šãƒ‡ãƒ¼ã‚¿å“è³ªã®å‘ä¸Š**\nè¤‡æ•°ã‚½ãƒ¼ã‚¹ã®æƒ…å ±ã‚’çµ±åˆã™ã‚‹ã“ã¨ã§ï¼š\n- ã‚ˆã‚Šå®Œå…¨ãªæƒ…å ±ã‚’å¾—ã‚‰ã‚Œã‚‹\n- æ¬ æãƒ‡ãƒ¼ã‚¿ã‚’ä»–ã®ã‚½ãƒ¼ã‚¹ã§è£œå®Œ\n- æœ€ã‚‚è©³ç´°ãªèª¬æ˜ã‚’è‡ªå‹•é¸æŠ\n\n**ç†ç”±2ï¼šé€æ˜æ€§ã¨ç›£æŸ»æ€§**\nç«¶åˆè§£æ±ºã®éç¨‹ã‚’å…¨ã¦è¨˜éŒ²ï¼š\n```typescript\n{\n    field: \"description\",\n    values: [\"çŸ­ã„èª¬æ˜\", \"ã‚ˆã‚Šè©³ç´°ã§é•·ã„èª¬æ˜æ–‡\"],\n    chosenValue: \"ã‚ˆã‚Šè©³ç´°ã§é•·ã„èª¬æ˜æ–‡\",\n    reason: \"Selected longest description\"\n}\n```\n\nã“ã‚Œã«ã‚ˆã‚Šï¼š\n- ãªãœãã®å€¤ãŒé¸ã°ã‚ŒãŸã‹è¿½è·¡å¯èƒ½\n- å•é¡ŒãŒã‚ã‚Œã°è§£æ±ºãƒ­ã‚¸ãƒƒã‚¯ã‚’ä¿®æ­£\n- ãƒ‡ãƒãƒƒã‚°ãŒå®¹æ˜“\n\n**ç†ç”±3ï¼šæŸ”è»Ÿãªè§£æ±ºæˆ¦ç•¥**\nãƒ‡ãƒ¼ã‚¿å‹ã¨ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã«å¿œã˜ã¦æœ€é©ãªã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã‚’é©ç”¨ï¼š\n- èª¬æ˜æ–‡ï¼šé•·ã„æ–¹ãŒè©³ç´°ï¼ˆæœ€é•·é¸æŠï¼‰\n- ãƒªã‚¹ãƒˆï¼šå…¨ã¦ã®æƒ…å ±ã‚’ä¿æŒï¼ˆãƒãƒ¼ã‚¸ï¼‰\n- æ•°å€¤ï¼šä¿¡é ¼ã§ãã‚‹ã‚½ãƒ¼ã‚¹ã‚’å„ªå…ˆï¼ˆå„ªå…ˆåº¦ãƒ™ãƒ¼ã‚¹ï¼‰\n\n**ç†ç”±4ï¼šè‡ªå‹•åŒ–ã¨å†ç¾æ€§**\næ‰‹å‹•ã§ã®çµ±åˆä½œæ¥­ã‚’ä¸è¦ã«ï¼š\n- æ¯å›åŒã˜ãƒ«ãƒ¼ãƒ«ã§è§£æ±º\n- äººçš„ãƒŸã‚¹ã‚’æ’é™¤\n- å¤§é‡ãƒ‡ãƒ¼ã‚¿ã§ã‚‚é«˜é€Ÿå‡¦ç†\n\n## å†ç¾æ–¹æ³•\n\n### ã‚¹ãƒ†ãƒƒãƒ—1ï¼šDuplicateResolverã®åˆæœŸåŒ–\n\n```typescript\nimport { DuplicateResolver } from '@/lib/memory/integration/duplicate-resolver';\nimport type { MemoryManager } from '@/lib/memory/core/memory-manager';\n\nconst memoryManager = new MemoryManager(config);\nawait memoryManager.initialize();\n\nconst duplicateResolver = new DuplicateResolver(memoryManager);\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2ï¼šä¸–ç•Œè¨­å®šã®çµ±åˆï¼ˆ4ã‚½ãƒ¼ã‚¹ï¼‰\n\n```typescript\n// 4ã¤ã®ã‚½ãƒ¼ã‚¹ã‹ã‚‰ä¸–ç•Œè¨­å®šã‚’çµ±åˆ\nconst consolidatedWorld = await duplicateResolver.getConsolidatedWorldSettings();\n\nconsole.log(consolidatedWorld);\n// {\n//     description: \"...\",  // æœ€é•·ã®èª¬æ˜\n//     genre: \"classic\",    // å„ªå…ˆã‚½ãƒ¼ã‚¹ã‹ã‚‰\n//     regions: [...],      // å…¨ã‚½ãƒ¼ã‚¹ã‹ã‚‰ãƒãƒ¼ã‚¸ã€é‡è¤‡æ’é™¤\n//     sources: [\"WorldKnowledge\", \"NarrativeMemory\", \"PlotManager\"],\n//     conflictsResolved: [\n//         {\n//             field: \"description\",\n//             values: [\"çŸ­ã„\", \"é•·ã„èª¬æ˜\"],\n//             chosenValue: \"é•·ã„èª¬æ˜\",\n//             reason: \"Selected longest description\"\n//         }\n//     ],\n//     lastConsolidated: \"2025-11-25T10:30:00Z\"\n// }\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3ï¼šã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼æƒ…å ±ã®çµ±åˆï¼ˆ2ã‚½ãƒ¼ã‚¹ï¼‰\n\n```typescript\nconst characterId = \"char-001\";\nconst consolidatedChar = await duplicateResolver.getConsolidatedCharacterInfo(characterId);\n\nconsole.log(consolidatedChar);\n// {\n//     id: \"char-001\",\n//     name: \"ã‚¢ãƒ¬ãƒ³\",\n//     description: \"...\",  // CharacterManagerã¨WorldKnowledgeã‹ã‚‰çµ±åˆ\n//     relationships: [...],  // ä¸¡ã‚½ãƒ¼ã‚¹ã‚’ãƒãƒ¼ã‚¸\n//     sources: [\"CharacterManager\", \"WorldKnowledge\"],\n//     conflictsResolved: [...]\n// }\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—4ï¼šã‚«ã‚¹ã‚¿ãƒ è§£æ±ºæˆ¦ç•¥ã®å®Ÿè£…\n\n```typescript\nclass CustomDuplicateResolver extends DuplicateResolver {\n    // ç‹¬è‡ªã®è§£æ±ºãƒ­ã‚¸ãƒƒã‚¯ã‚’è¿½åŠ \n    protected resolveCustomField(\n        fieldName: string,\n        sources: Array<{name: string; data: any}>,\n        conflictsResolved: Array<any>\n    ): any {\n        if (fieldName === 'emotionalState') {\n            // æ„Ÿæƒ…çŠ¶æ…‹ã¯æœ€æ–°ã®ã‚½ãƒ¼ã‚¹ã‚’å„ªå…ˆ\n            const latest = sources[sources.length - 1];\n            conflictsResolved.push({\n                field: fieldName,\n                chosenValue: latest.data[fieldName],\n                reason: 'Selected most recent emotional state'\n            });\n            return latest.data[fieldName];\n        }\n\n        // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®è§£æ±ºãƒ­ã‚¸ãƒƒã‚¯ã«ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯\n        return super.resolveStringField(fieldName, sources, conflictsResolved);\n    }\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—5ï¼šã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®æ´»ç”¨\n\n```typescript\n// çµ±åˆçµæœã¯è‡ªå‹•çš„ã«ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã•ã‚Œã‚‹\nconst world1 = await duplicateResolver.getConsolidatedWorldSettings();  // DBã‚¢ã‚¯ã‚»ã‚¹\nconst world2 = await duplicateResolver.getConsolidatedWorldSettings();  // ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ’ãƒƒãƒˆï¼ˆ30åˆ†TTLï¼‰\n\n// ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®æ‰‹å‹•ã‚¯ãƒªã‚¢\nduplicateResolver.clearCache();\n```\n\n## ã„ã¤ä½¿ã†ã‹\n\n**é©ç”¨å ´é¢1ï¼šè¤‡æ•°ã®ã‚·ã‚¹ãƒ†ãƒ ãŒåŒã˜ãƒ‡ãƒ¼ã‚¿ã‚’ä¿æŒã—ã¦ã„ã‚‹æ™‚**\n- ä¸–ç•Œè¨­å®šãŒ4ç®‡æ‰€ã«åˆ†æ•£\n- ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼æƒ…å ±ãŒ2ç®‡æ‰€ã«å­˜åœ¨\n- ç‰©èªã®çŠ¶æ…‹ãŒè¤‡æ•°ã®ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ã§ç®¡ç†\n\n**é©ç”¨å ´é¢2ï¼šãƒ‡ãƒ¼ã‚¿ã®æ­£è¦åŒ–ãŒå¿…è¦ãªæ™‚**\n- ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ä¸­ã§æ–°æ—§ã‚·ã‚¹ãƒ†ãƒ ãŒä½µå­˜\n- è¤‡æ•°ã®APIã‹ã‚‰åŒã˜ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã‚’å–å¾—\n- ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®éæ­£è¦åŒ–ã‚’è§£æ¶ˆ\n\n**é©ç”¨å ´é¢3ï¼šãƒ‡ãƒ¼ã‚¿å“è³ªã®å‘ä¸ŠãŒå¿…è¦ãªæ™‚**\n- ä¸€éƒ¨ã®ã‚½ãƒ¼ã‚¹ã«ãƒ‡ãƒ¼ã‚¿æ¬ æ\n- ã‚ˆã‚Šè©³ç´°ãªæƒ…å ±ã‚’å«ã‚€ã‚½ãƒ¼ã‚¹ã‚’è‡ªå‹•é¸æŠ\n- æ‰‹å‹•ã§ã®çµ±åˆä½œæ¥­ã‚’è‡ªå‹•åŒ–\n\n**é©ç”¨å ´é¢4ï¼šç›£æŸ»ã¨ãƒˆãƒ¬ãƒ¼ã‚µãƒ“ãƒªãƒ†ã‚£ãŒé‡è¦ãªæ™‚**\n- ã©ã®ã‚½ãƒ¼ã‚¹ã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’é¸ã‚“ã ã‹è¨˜éŒ²\n- ç«¶åˆãŒã©ã®ã‚ˆã†ã«è§£æ±ºã•ã‚ŒãŸã‹è¿½è·¡\n- ãƒ‡ãƒ¼ã‚¿ã®æ¥æ­´ã‚’æ˜ç¢ºã«ã™ã‚‹å¿…è¦\n\n## æ³¨æ„ç‚¹\n\n**æ³¨æ„ç‚¹1ï¼šè§£æ±ºæˆ¦ç•¥ã®å¦¥å½“æ€§**\nã€Œæœ€é•·ã®æ–‡å­—åˆ—ï¼æœ€ã‚‚è©³ç´°ã€ã¨ã„ã†ä»®å®šãŒå¸¸ã«æ­£ã—ã„ã¨ã¯é™ã‚‰ãªã„ã€‚å ´åˆã«ã‚ˆã£ã¦ã¯ï¼š\n- å„ªå…ˆåº¦ãƒ™ãƒ¼ã‚¹ã®é¸æŠãŒé©åˆ‡\n- æœ€æ–°ã®ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—ã‚’å„ªå…ˆ\n- ãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›ã‚’å„ªå…ˆ\n\nç”¨é€”ã«å¿œã˜ã¦æˆ¦ç•¥ã‚’èª¿æ•´ã™ã‚‹ã€‚\n\n**æ³¨æ„ç‚¹2ï¼šã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆé…åˆ—ã®é‡è¤‡åˆ¤å®š**\nã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®æ¯”è¼ƒã¯JSONæ–‡å­—åˆ—åŒ–ã«ä¾å­˜ï¼š\n```typescript\n// å•é¡Œï¼šãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰é †åºãŒç•°ãªã‚‹ã¨åˆ¥ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¨åˆ¤å®š\n{name: \"Alice\", age: 30}  !== {age: 30, name: \"Alice\"}\n\n// è§£æ±ºï¼šæ­£è¦åŒ–ã—ãŸä¸Šã§æ¯”è¼ƒ\nconst normalize = (obj) => JSON.stringify(obj, Object.keys(obj).sort());\n```\n\n**æ³¨æ„ç‚¹3ï¼šå¾ªç’°å‚ç…§**\nã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«å¾ªç’°å‚ç…§ãŒã‚ã‚‹å ´åˆã€JSON.stringify()ãŒå¤±æ•—ï¼š\n```typescript\n// å¯¾ç­–\ntry {\n    const key = JSON.stringify(item);\n} catch (error) {\n    // å¾ªç’°å‚ç…§ã®å‡¦ç†\n    const key = item.id || item.name || String(item);\n}\n```\n\n**æ³¨æ„ç‚¹4ï¼šãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹**\nå¤§é‡ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚„å¤§ããªé…åˆ—ã®å ´åˆã€è§£æ±ºå‡¦ç†ã«æ™‚é–“ãŒã‹ã‹ã‚‹å¯èƒ½æ€§ï¼š\n- ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ç©æ¥µçš„ã«æ´»ç”¨\n- å¿…è¦ãªãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®ã¿è§£æ±º\n- éåŒæœŸå‡¦ç†ã§ãƒ–ãƒ­ãƒƒã‚­ãƒ³ã‚°ã‚’å›é¿\n\n**æ³¨æ„ç‚¹5ï¼šãƒ‡ãƒ¼ã‚¿å‹ã®ä¸ä¸€è‡´**\nã‚ã‚‹ã‚½ãƒ¼ã‚¹ã§ã¯æ–‡å­—åˆ—ã€åˆ¥ã®ã‚½ãƒ¼ã‚¹ã§ã¯æ•°å€¤ã®å ´åˆï¼š\n```typescript\n// ã‚½ãƒ¼ã‚¹1: { count: \"42\" }\n// ã‚½ãƒ¼ã‚¹2: { count: 42 }\n\n// å¯¾ç­–ï¼šå‹å¤‰æ›ã‚’æŒŸã‚€\nconst normalizedValue = typeof value === 'string' ? parseInt(value, 10) : value;\n```\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `skill_three_layer_memory_hierarchy_integration_2025_11_25.md`ï¼šã“ã®æ‰‹æ³•ã‚’ä½¿ã†å…¨ä½“ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£\n- `decision_field_level_conflict_resolution_2025_11_25.md`ï¼šãªãœãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãƒ¬ãƒ™ãƒ«ã§è§£æ±ºã™ã‚‹ã®ã‹\n- `workflow_data_consolidation_process_2025_11_25.md`ï¼šçµ±åˆå‡¦ç†ã®å®Œå…¨ãªãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼\n",
    "prompt": "### ã‚¹ãƒ†ãƒƒãƒ—1ï¼šDuplicateResolverã®åˆæœŸåŒ–\n\n```typescript\nimport { DuplicateResolver } from '@/lib/memory/integration/duplicate-resolver';\nimport type { MemoryManager } from '@/lib/memory/core/memory-manager';\n\nconst memoryManager = new MemoryManager(config);\nawait memoryManager.initialize();\n\nconst duplicateResolver = new DuplicateResolver(memoryManager);\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2ï¼šä¸–ç•Œè¨­å®šã®çµ±åˆï¼ˆ4ã‚½ãƒ¼ã‚¹ï¼‰\n\n```typescript\n// 4ã¤ã®ã‚½ãƒ¼ã‚¹ã‹ã‚‰ä¸–ç•Œè¨­å®šã‚’çµ±åˆ\nconst consolidatedWorld = await duplicateResolver.getConsolidatedWorldSettings();\n\nconsole.log(consolidatedWorld);\n// {\n//     description: \"...\",  // æœ€é•·ã®èª¬æ˜\n//     genre: \"classic\",    // å„ªå…ˆã‚½ãƒ¼ã‚¹ã‹ã‚‰\n//     regions: [...],      // å…¨ã‚½ãƒ¼ã‚¹ã‹ã‚‰ãƒãƒ¼ã‚¸ã€é‡è¤‡æ’é™¤\n//     sources: [\"WorldKnowledge\", \"NarrativeMemory\", \"PlotManager\"],\n//     conflictsResolved: [\n//         {\n//             field: \"description\",\n//             values: [\"çŸ­ã„\", \"é•·ã„èª¬æ˜\"],\n//             chosenValue: \"é•·ã„èª¬æ˜\",\n//             reason: \"Selected longest description\"\n//         }\n//     ],\n//     lastConsolidated: \"2025-11-25T10:30:00Z\"\n// }\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3ï¼šã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼æƒ…å ±ã®çµ±åˆï¼ˆ2ã‚½ãƒ¼ã‚¹ï¼‰\n\n```typescript\nconst characterId = \"char-001\";\nconst consolidatedChar = await duplicateResolver.getConsolidatedCharacterInfo(characterId);\n\nconsole.log(consolidatedChar);\n// {\n//     id: \"char-001\",\n//     name: \"ã‚¢ãƒ¬ãƒ³\",\n//     description: \"...\",  // CharacterManagerã¨WorldKnowledgeã‹ã‚‰çµ±åˆ\n//     relationships: [...],  // ä¸¡ã‚½ãƒ¼ã‚¹ã‚’ãƒãƒ¼ã‚¸\n//     sources: [\"CharacterManager\", \"WorldKnowledge\"],\n//     conflictsResolved: [...]\n// }\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—4ï¼šã‚«ã‚¹ã‚¿ãƒ è§£æ±ºæˆ¦ç•¥ã®å®Ÿè£…\n\n```typescript\nclass CustomDuplicateResolver extends DuplicateResolver {\n    // ç‹¬è‡ªã®è§£æ±ºãƒ­ã‚¸ãƒƒã‚¯ã‚’è¿½åŠ \n    protected resolveCustomField(\n        fieldName: string,\n        sources: Array<{name: string; data: any}>,\n        conflictsResolved: Array<any>\n    ): any {\n        if (fieldName === 'emotionalState') {\n            // æ„Ÿæƒ…çŠ¶æ…‹ã¯æœ€æ–°ã®ã‚½ãƒ¼ã‚¹ã‚’å„ªå…ˆ\n            const latest = sources[sources.length - 1];\n            conflictsResolved.push({\n                field: fieldName,\n                chosenValue: latest.data[fieldName],\n                reason: 'Selected most recent emotional state'\n            });\n            return latest.data[fieldName];\n        }\n\n        // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®è§£æ±ºãƒ­ã‚¸ãƒƒã‚¯ã«ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯\n        return super.resolveStringField(fieldName, sources, conflictsResolved);\n    }\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—5ï¼šã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®æ´»ç”¨\n\n```typescript\n// çµ±åˆçµæœã¯è‡ªå‹•çš„ã«ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã•ã‚Œã‚‹\nconst world1 = await duplicateResolver.getConsolidatedWorldSettings();  // DBã‚¢ã‚¯ã‚»ã‚¹\nconst world2 = await duplicateResolver.getConsolidatedWorldSettings();  // ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ’ãƒƒãƒˆï¼ˆ30åˆ†TTLï¼‰\n\n// ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®æ‰‹å‹•ã‚¯ãƒªã‚¢\nduplicateResolver.clearCache();\n```",
    "relatedTech": [
      "skill-three-layer-memory-hierarchy-integration",
      "decision-field-level-conflict-resolution"
    ]
  },
  {
    "slug": "dynamic-sheet-selection",
    "title": "å‹•çš„ã‚·ãƒ¼ãƒˆé¸æŠå®Ÿè£…ï¼ˆå·åˆ¥ã€æœˆåˆ¥ç­‰ï¼‰",
    "category": "Skillsï¼ˆã‚¹ã‚­ãƒ«ãƒ»æ‰‹æ³•ï¼‰",
    "description": "ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆå†…ã®ã‚·ãƒ¼ãƒˆä¸€è¦§ã‚’ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿APIã‹ã‚‰å–å¾—ã—ã€ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒãƒ³ã‚°ã§å¿…è¦ãªã‚·ãƒ¼ãƒˆï¼ˆæœˆå·ã€ã‚«ãƒ†ã‚´ãƒªç­‰ï¼‰ã‚’å‹•çš„ã«æŠ½å‡ºãƒ»é¸æŠã™ã‚‹æ‰‹æ³•ã€‚",
    "project": "yumesuta-management-system",
    "usedIn": [
      "lib/google-sheets.ts:308-328, app/api/yumemaga-v2/available-issues/route.ts"
    ],
    "code": "```json\n{\n  \"id\": \"skill_dynamic_sheet_selection_2025_11_24\",\n  \"type\": \"skill\",\n  \"name\": \"å‹•çš„ã‚·ãƒ¼ãƒˆé¸æŠå®Ÿè£…ï¼ˆå·åˆ¥ã€æœˆåˆ¥ç­‰ï¼‰\",\n  \"tags\": [\"Google Sheets\", \"å‹•çš„é¸æŠ\", \"ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿\", \"ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³\", \"ã‚·ãƒ¼ãƒˆä¸€è¦§\", \"æœˆå·ç®¡ç†\"],\n  \"source_project\": \"yumesuta-management-system\",\n  \"source_file\": \"lib/google-sheets.ts:308-328, app/api/yumemaga-v2/available-issues/route.ts\",\n  \"related_knowledge\": [\n    \"skill_spreadsheet_metadata_discovery_2025_11_24\",\n    \"skill_gantt_data_parsing_technique_2025_11_24\",\n    \"skill_google_sheets_a1_notation_2025_11_24\",\n    \"decision_tech_google_sheets_api_v4_2025_11_24\"\n  ],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-24\",\n  \"updated\": \"2025-11-24\"\n}\n```\n\n# å‹•çš„ã‚·ãƒ¼ãƒˆé¸æŠå®Ÿè£…ï¼ˆå·åˆ¥ã€æœˆåˆ¥ç­‰ï¼‰\n\n## ä½•ã‚’ã™ã‚‹ã‚¹ã‚­ãƒ«ã‹\n\nã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆå†…ã®ã‚·ãƒ¼ãƒˆä¸€è¦§ã‚’ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿APIã‹ã‚‰å–å¾—ã—ã€ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒãƒ³ã‚°ã§å¿…è¦ãªã‚·ãƒ¼ãƒˆï¼ˆæœˆå·ã€ã‚«ãƒ†ã‚´ãƒªç­‰ï¼‰ã‚’å‹•çš„ã«æŠ½å‡ºãƒ»é¸æŠã™ã‚‹æ‰‹æ³•ã€‚\n\n## å…·ä½“çš„ãªæ‰‹æ³•\n\n### ãƒ‘ã‚¿ãƒ¼ãƒ³: ã‚†ã‚ãƒã‚¬ã®æœˆå·é¸æŠ\n\nyumesuta-management-systemã§ã¯ã€è¤‡æ•°ã®æœˆå·ï¼ˆ2025å¹´11æœˆå·ã€2025å¹´12æœˆå·...ï¼‰ãŒå­˜åœ¨ã—ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ã§æœˆå·ã‚’é¸æŠã—ã¦ãƒ‡ãƒ¼ã‚¿ã‚’è¡¨ç¤ºã™ã‚‹ã€‚\n\n#### å…¨ä½“ãƒ•ãƒ­ãƒ¼\n\n```\n1. ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—\n   â†“\n2. ã‚·ãƒ¼ãƒˆåä¸€è¦§ã‚’æŠ½å‡º\n   â†“\n3. ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒãƒ³ã‚°ã§å¯¾è±¡ã‚·ãƒ¼ãƒˆã‚’ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°\n   â†“\n4. ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ã«è¡¨ç¤ºï¼ˆãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ï¼‰\n   â†“\n5. é¸æŠã•ã‚ŒãŸæœˆå·ã§ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ï¼ˆAPIï¼‰\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—1: ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã®å–å¾—\n\n```typescript\nimport { getSpreadsheetMetadata } from '@/lib/google-sheets';\n\nexport async function GET() {\n  const spreadsheetId = process.env.YUMEMAGA_SPREADSHEET_ID!;\n\n  // ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—\n  const metadata = await getSpreadsheetMetadata(spreadsheetId);\n\n  // ã‚·ãƒ¼ãƒˆä¸€è¦§ã‚’å–å¾—\n  const sheets = metadata.sheets || [];\n\n  return NextResponse.json({ success: true, data: { sheets } });\n}\n```\n\n**ãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹**:\n```json\n{\n  \"success\": true,\n  \"data\": {\n    \"sheets\": [\n      { \"properties\": { \"title\": \"é€²æ—å…¥åŠ›ã‚·ãƒ¼ãƒˆ_V2\", \"sheetId\": 0 } },\n      { \"properties\": { \"title\": \"æ–°å·¥ç¨‹ãƒã‚¹ã‚¿ãƒ¼_V2\", \"sheetId\": 123 } },\n      { \"properties\": { \"title\": \"ã‚«ãƒ†ã‚´ãƒªãƒã‚¹ã‚¿ãƒ¼\", \"sheetId\": 456 } },\n      { \"properties\": { \"title\": \"ä¼æ¥­ãƒã‚¹ã‚¿ãƒ¼\", \"sheetId\": 789 } }\n    ]\n  }\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2: ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒãƒ³ã‚°ã§å¯¾è±¡ã‚·ãƒ¼ãƒˆã‚’ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°\n\n#### ä¾‹1: æœˆå·ã®é¸æŠè‚¢ã‚’æŠ½å‡ºï¼ˆé€²æ—å…¥åŠ›ã‚·ãƒ¼ãƒˆ_V2ã®Aåˆ—ã‹ã‚‰ï¼‰\n\n```typescript\nimport { getSheetData } from '@/lib/google-sheets';\n\nexport async function GET() {\n  const spreadsheetId = process.env.YUMEMAGA_SPREADSHEET_ID!;\n\n  // é€²æ—å…¥åŠ›ã‚·ãƒ¼ãƒˆ_V2ã®Aåˆ—ï¼ˆæœˆå·ãƒªã‚¹ãƒˆï¼‰ã‚’å–å¾—\n  const progressData = await getSheetData(spreadsheetId, 'é€²æ—å…¥åŠ›ã‚·ãƒ¼ãƒˆ_V2!A1:A100');\n\n  // ãƒ˜ãƒƒãƒ€ãƒ¼è¡Œã‚’é™¤å¤–ï¼ˆ1è¡Œç›®ï¼‰\n  const issues = progressData\n    .slice(1) // ãƒ˜ãƒƒãƒ€ãƒ¼è¡Œã‚’ã‚¹ã‚­ãƒƒãƒ—\n    .map(row => row[0]) // Aåˆ—ã®å€¤ã‚’å–å¾—\n    .filter(val => val && val.trim() !== ''); // ç©ºè¡Œã‚’é™¤å¤–\n\n  return NextResponse.json({ success: true, data: { issues } });\n}\n```\n\n**ãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹**:\n```json\n{\n  \"success\": true,\n  \"data\": {\n    \"issues\": [\n      \"2025å¹´11æœˆå·\",\n      \"2025å¹´12æœˆå·\",\n      \"2026å¹´1æœˆå·\",\n      \"2026å¹´2æœˆå·\"\n    ]\n  }\n}\n```\n\n#### ä¾‹2: ã‚·ãƒ¼ãƒˆåãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒãƒ³ã‚°ï¼ˆã‚¬ãƒ³ãƒˆãƒãƒ£ãƒ¼ãƒˆã‚·ãƒ¼ãƒˆï¼‰\n\nPhase4é€†ç®—ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©ãƒ¼ã§ã¯ã€å„æœˆå·ã”ã¨ã«ç‹¬ç«‹ã—ãŸã‚¬ãƒ³ãƒˆãƒãƒ£ãƒ¼ãƒˆã‚·ãƒ¼ãƒˆãŒå­˜åœ¨ã™ã‚‹ã€‚\n\n**ã‚·ãƒ¼ãƒˆåã®å‘½åè¦å‰‡**:\n- `é€†ç®—é…ç½®_ã‚¬ãƒ³ãƒˆ_2025å¹´11æœˆå·`\n- `é€†ç®—é…ç½®_ã‚¬ãƒ³ãƒˆ_2025å¹´12æœˆå·`\n- `é€†ç®—é…ç½®_ã‚¬ãƒ³ãƒˆ_2026å¹´1æœˆå·`\n\n```typescript\nimport { getSpreadsheetMetadata } from '@/lib/google-sheets';\n\nexport async function GET() {\n  const spreadsheetId = process.env.YUMEMAGA_SPREADSHEET_ID!;\n\n  // ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—\n  const metadata = await getSpreadsheetMetadata(spreadsheetId);\n  const sheets = metadata.sheets || [];\n\n  // \"é€†ç®—é…ç½®_ã‚¬ãƒ³ãƒˆ_\" ã§å§‹ã¾ã‚‹ã‚·ãƒ¼ãƒˆåã‚’æŠ½å‡º\n  const ganttSheets = sheets\n    .map(sheet => sheet.properties?.title)\n    .filter(title => title && title.startsWith('é€†ç®—é…ç½®_ã‚¬ãƒ³ãƒˆ_'))\n    .map(title => title!.replace('é€†ç®—é…ç½®_ã‚¬ãƒ³ãƒˆ_', '')); // \"2025å¹´11æœˆå·\" ã®ã¿æŠ½å‡º\n\n  return NextResponse.json({ success: true, data: { issues: ganttSheets } });\n}\n```\n\n**ãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹**:\n```json\n{\n  \"success\": true,\n  \"data\": {\n    \"issues\": [\n      \"2025å¹´11æœˆå·\",\n      \"2025å¹´12æœˆå·\",\n      \"2026å¹´1æœˆå·\"\n    ]\n  }\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3: ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã§ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³è¡¨ç¤º\n\n```typescript\n'use client';\nimport { useState, useEffect } from 'react';\n\nexport default function YumemagaDashboard() {\n  const [issues, setIssues] = useState<string[]>([]);\n  const [selectedIssue, setSelectedIssue] = useState<string>('');\n\n  // æœˆå·ä¸€è¦§ã‚’å–å¾—\n  useEffect(() => {\n    fetch('/api/yumemaga-v2/available-issues')\n      .then(res => res.json())\n      .then(data => {\n        if (data.success) {\n          setIssues(data.data.issues);\n          setSelectedIssue(data.data.issues[0]); // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§æœ€åˆã®æœˆå·ã‚’é¸æŠ\n        }\n      });\n  }, []);\n\n  return (\n    <div>\n      <select value={selectedIssue} onChange={e => setSelectedIssue(e.target.value)}>\n        {issues.map(issue => (\n          <option key={issue} value={issue}>\n            {issue}\n          </option>\n        ))}\n      </select>\n\n      {/* é¸æŠã•ã‚ŒãŸæœˆå·ã®ãƒ‡ãƒ¼ã‚¿ã‚’è¡¨ç¤º */}\n      <YumemagaProgressView issue={selectedIssue} />\n    </div>\n  );\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—4: é¸æŠã•ã‚ŒãŸæœˆå·ã§ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—\n\n```typescript\n// app/api/yumemaga-v2/progress/route.ts\nexport async function GET(request: Request) {\n  const { searchParams } = new URL(request.url);\n  const issue = searchParams.get('issue'); // ä¾‹: \"2025å¹´11æœˆå·\"\n\n  if (!issue) {\n    return NextResponse.json(\n      { success: false, error: 'æœˆå·ã‚’æŒ‡å®šã—ã¦ãã ã•ã„' },\n      { status: 400 }\n    );\n  }\n\n  const spreadsheetId = process.env.YUMEMAGA_SPREADSHEET_ID!;\n\n  // é€²æ—å…¥åŠ›ã‚·ãƒ¼ãƒˆ_V2ã‹ã‚‰è©²å½“æœˆå·ã®è¡Œã‚’å–å¾—\n  const progressData = await getSheetData(spreadsheetId, 'é€²æ—å…¥åŠ›ã‚·ãƒ¼ãƒˆ_V2!A1:GV100');\n  const progressRow = progressData.slice(1).find(row => row[0] === issue);\n\n  if (!progressRow) {\n    return NextResponse.json(\n      { success: false, error: `æœˆå· ${issue} ã®é€²æ—ãƒ‡ãƒ¼ã‚¿ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“` },\n      { status: 404 }\n    );\n  }\n\n  // ... ãƒ‡ãƒ¼ã‚¿å‡¦ç† ...\n\n  return NextResponse.json({ success: true, data: processedData });\n}\n```\n\n## ãªãœã“ã®æ‰‹æ³•ã‚’ä½¿ã†ã‹\n\n### ç†ç”±1: ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆå´ã§æ–°ã—ã„æœˆå·ã‚’è¿½åŠ ã™ã‚‹ã ã‘ã§è‡ªå‹•å¯¾å¿œ\n\næœˆå·ãƒªã‚¹ãƒˆã‚’ãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‰ã›ãšã€ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã®ã‚·ãƒ¼ãƒˆåã‚„ã‚»ãƒ«ãƒ‡ãƒ¼ã‚¿ã‹ã‚‰å‹•çš„ã«å–å¾—ã™ã‚‹ã“ã¨ã§ã€ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆå´ã§æ–°ã—ã„æœˆå·ã‚’è¿½åŠ ã™ã‚‹ã ã‘ã§è‡ªå‹•çš„ã«ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ã«è¡¨ç¤ºã•ã‚Œã‚‹ã€‚\n\n**ãƒ¡ãƒªãƒƒãƒˆ**:\n- ã‚³ãƒ¼ãƒ‰ã®å¤‰æ›´ãŒä¸è¦\n- ãƒ¦ãƒ¼ã‚¶ãƒ¼ï¼ˆã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆç®¡ç†è€…ï¼‰ãŒè‡ªç”±ã«æœˆå·ã‚’è¿½åŠ ãƒ»å‰Šé™¤å¯èƒ½\n- é–‹ç™ºè€…ã®æ‰‹é–“ãŒå‰Šæ¸›\n\n### ç†ç”±2: ãƒ‡ãƒ¼ã‚¿ã¨UIã®ä¸€è²«æ€§ã‚’ä¿ã¤\n\nã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã«å­˜åœ¨ã™ã‚‹æœˆå·ã®ã¿ã‚’ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ã«è¡¨ç¤ºã™ã‚‹ãŸã‚ã€å­˜åœ¨ã—ãªã„æœˆå·ã‚’é¸æŠã™ã‚‹ãƒªã‚¹ã‚¯ãŒãªã„ã€‚\n\n### ç†ç”±3: è¤‡æ•°ã®ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ã«å¯¾å¿œå¯èƒ½\n\n- ã‚·ãƒ¼ãƒˆåã‹ã‚‰ã®æŠ½å‡ºï¼ˆä¾‹: ã‚¬ãƒ³ãƒˆãƒãƒ£ãƒ¼ãƒˆã‚·ãƒ¼ãƒˆï¼‰\n- ã‚»ãƒ«ãƒ‡ãƒ¼ã‚¿ã‹ã‚‰ã®æŠ½å‡ºï¼ˆä¾‹: é€²æ—å…¥åŠ›ã‚·ãƒ¼ãƒˆã®Aåˆ—ï¼‰\n\nã©ã¡ã‚‰ã®æ–¹æ³•ã§ã‚‚ã€åŒã˜ãƒ‘ã‚¿ãƒ¼ãƒ³ã§å®Ÿè£…ã§ãã‚‹ã€‚\n\n## å†ç¾æ–¹æ³•\n\n### ãƒ‘ã‚¿ãƒ¼ãƒ³1: ã‚·ãƒ¼ãƒˆåã‹ã‚‰æœˆå·ã‚’æŠ½å‡º\n\n```typescript\nimport { NextResponse } from 'next/server';\nimport { getSpreadsheetMetadata } from '@/lib/google-sheets';\n\nexport async function GET() {\n  try {\n    const spreadsheetId = process.env.YUMEMAGA_SPREADSHEET_ID!;\n\n    // ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—\n    const metadata = await getSpreadsheetMetadata(spreadsheetId);\n    const sheets = metadata.sheets || [];\n\n    // \"é€†ç®—é…ç½®_ã‚¬ãƒ³ãƒˆ_\" ã§å§‹ã¾ã‚‹ã‚·ãƒ¼ãƒˆåã‚’æŠ½å‡º\n    const issues = sheets\n      .map(sheet => sheet.properties?.title)\n      .filter(title => title && title.startsWith('é€†ç®—é…ç½®_ã‚¬ãƒ³ãƒˆ_'))\n      .map(title => title!.replace('é€†ç®—é…ç½®_ã‚¬ãƒ³ãƒˆ_', ''));\n\n    return NextResponse.json({ success: true, data: { issues } });\n  } catch (error) {\n    return NextResponse.json(\n      { success: false, error: error.message },\n      { status: 500 }\n    );\n  }\n}\n```\n\n### ãƒ‘ã‚¿ãƒ¼ãƒ³2: ã‚»ãƒ«ãƒ‡ãƒ¼ã‚¿ã‹ã‚‰æœˆå·ã‚’æŠ½å‡º\n\n```typescript\nimport { NextResponse } from 'next/server';\nimport { getSheetData } from '@/lib/google-sheets';\n\nexport async function GET() {\n  try {\n    const spreadsheetId = process.env.YUMEMAGA_SPREADSHEET_ID!;\n\n    // é€²æ—å…¥åŠ›ã‚·ãƒ¼ãƒˆ_V2ã®Aåˆ—ï¼ˆæœˆå·ãƒªã‚¹ãƒˆï¼‰ã‚’å–å¾—\n    const progressData = await getSheetData(spreadsheetId, 'é€²æ—å…¥åŠ›ã‚·ãƒ¼ãƒˆ_V2!A1:A100');\n\n    // ãƒ˜ãƒƒãƒ€ãƒ¼è¡Œã‚’é™¤å¤–ã—ã€ç©ºè¡Œã‚’ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°\n    const issues = progressData\n      .slice(1)\n      .map(row => row[0])\n      .filter(val => val && val.trim() !== '');\n\n    return NextResponse.json({ success: true, data: { issues } });\n  } catch (error) {\n    return NextResponse.json(\n      { success: false, error: error.message },\n      { status: 500 }\n    );\n  }\n}\n```\n\n### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰å®Ÿè£…\n\n```typescript\n'use client';\nimport { useState, useEffect } from 'react';\n\nexport default function IssueSelector() {\n  const [issues, setIssues] = useState<string[]>([]);\n  const [selectedIssue, setSelectedIssue] = useState<string>('');\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    fetchIssues();\n  }, []);\n\n  const fetchIssues = async () => {\n    setLoading(true);\n    try {\n      const res = await fetch('/api/yumemaga-v2/available-issues');\n      const data = await res.json();\n\n      if (data.success) {\n        setIssues(data.data.issues);\n        if (data.data.issues.length > 0) {\n          setSelectedIssue(data.data.issues[0]); // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§æœ€åˆã®æœˆå·\n        }\n      }\n    } catch (error) {\n      console.error('Failed to fetch issues:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  if (loading) {\n    return <div>èª­ã¿è¾¼ã¿ä¸­...</div>;\n  }\n\n  return (\n    <select\n      value={selectedIssue}\n      onChange={e => setSelectedIssue(e.target.value)}\n      className=\"px-4 py-2 border rounded\"\n    >\n      {issues.map(issue => (\n        <option key={issue} value={issue}>\n          {issue}\n        </option>\n      ))}\n    </select>\n  );\n}\n```\n\n## ã„ã¤ä½¿ã†ã‹\n\n### å ´é¢1: æœˆå·ã€å¹´åº¦ã€ã‚«ãƒ†ã‚´ãƒªãªã©ã®å‹•çš„é¸æŠè‚¢ã‚’æä¾›ã™ã‚‹\n\nãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ã§æœˆå·ã€å¹´åº¦ã€ã‚«ãƒ†ã‚´ãƒªã‚’é¸æŠã—ã¦ãƒ‡ãƒ¼ã‚¿ã‚’ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ã™ã‚‹å ´åˆã€‚\n\n### å ´é¢2: ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆå´ã§ãƒ‡ãƒ¼ã‚¿ã‚’è‡ªç”±ã«è¿½åŠ ãƒ»å‰Šé™¤ã—ãŸã„\n\né–‹ç™ºè€…ãŒã‚³ãƒ¼ãƒ‰ã‚’å¤‰æ›´ã›ãšã€ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆç®¡ç†è€…ãŒé¸æŠè‚¢ã‚’è¿½åŠ ãƒ»å‰Šé™¤ã§ãã‚‹ã‚ˆã†ã«ã—ãŸã„å ´åˆã€‚\n\n### å ´é¢3: è¤‡æ•°ã®ã‚·ãƒ¼ãƒˆã‹ã‚‰å…±é€šãƒ‘ã‚¿ãƒ¼ãƒ³ã®ã‚·ãƒ¼ãƒˆåã‚’æŠ½å‡ºã™ã‚‹\n\nã€Œé€†ç®—é…ç½®_ã‚¬ãƒ³ãƒˆ_ã€ã§å§‹ã¾ã‚‹ã‚·ãƒ¼ãƒˆã€ã€Œ_V2ã€ã§çµ‚ã‚ã‚‹ã‚·ãƒ¼ãƒˆãªã©ã€ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒãƒ³ã‚°ã§ã‚·ãƒ¼ãƒˆã‚’ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ã™ã‚‹ã€‚\n\n## æ³¨æ„ç‚¹\n\n### æ³¨æ„ç‚¹1: ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿APIã¯è¿½åŠ ã®APIãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’æ¶ˆè²»ã™ã‚‹\n\n`getSpreadsheetMetadata` ã¯1å›ã®APIãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’æ¶ˆè²»ã™ã‚‹ã€‚é »ç¹ã«å‘¼ã³å‡ºã™ã¨APIã‚¯ã‚©ãƒ¼ã‚¿ã‚’åœ§è¿«ã™ã‚‹ãŸã‚ã€ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’æ´»ç”¨ã™ã‚‹ã‹ã€ãƒšãƒ¼ã‚¸ãƒ­ãƒ¼ãƒ‰æ™‚ã«1å›ã ã‘å–å¾—ã™ã‚‹ã€‚\n\n```typescript\n// âŒ æ‚ªã„ä¾‹: ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ãŸã³ã«ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿å–å¾—\nonClick={() => fetchIssues()}\n\n// âœ… è‰¯ã„ä¾‹: ãƒšãƒ¼ã‚¸ãƒ­ãƒ¼ãƒ‰æ™‚ã«1å›ã ã‘å–å¾—\nuseEffect(() => {\n  fetchIssues();\n}, []);\n```\n\n### æ³¨æ„ç‚¹2: ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒãƒ³ã‚°ã®æŸ”è»Ÿæ€§ã¨å³å¯†æ€§ã®ãƒãƒ©ãƒ³ã‚¹\n\nãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒãƒ³ã‚°ãŒç·©ã™ãã‚‹ã¨ä¸è¦ãªã‚·ãƒ¼ãƒˆã‚‚æŠ½å‡ºã•ã‚Œã€å³ã—ã™ãã‚‹ã¨å¿…è¦ãªã‚·ãƒ¼ãƒˆãŒæŠ½å‡ºã•ã‚Œãªã„ã€‚\n\n**ä¾‹**:\n```typescript\n// ç·©ã™ãã‚‹ä¾‹: \"ã‚¬ãƒ³ãƒˆ\" ã‚’å«ã‚€ã™ã¹ã¦ã®ã‚·ãƒ¼ãƒˆ\n.filter(title => title && title.includes('ã‚¬ãƒ³ãƒˆ'))\n\n// å³ã—ã™ãã‚‹ä¾‹: å®Œå…¨ä¸€è‡´ã®ã¿\n.filter(title => title === 'é€†ç®—é…ç½®_ã‚¬ãƒ³ãƒˆ_2025å¹´11æœˆå·')\n\n// âœ… é©åˆ‡ãªä¾‹: ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹ãƒãƒƒãƒãƒ³ã‚°\n.filter(title => title && title.startsWith('é€†ç®—é…ç½®_ã‚¬ãƒ³ãƒˆ_'))\n```\n\n### æ³¨æ„ç‚¹3: ç©ºãƒ‡ãƒ¼ã‚¿ã®å ´åˆã®å¯¾å¿œ\n\nã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã«æœˆå·ãŒ1ã¤ã‚‚ç™»éŒ²ã•ã‚Œã¦ã„ãªã„å ´åˆã€ç©ºé…åˆ—ã‚’è¿”ã™ã€‚ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã§é©åˆ‡ã«ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã™ã‚‹ã€‚\n\n```typescript\nif (issues.length === 0) {\n  return <div>æœˆå·ãŒç™»éŒ²ã•ã‚Œã¦ã„ã¾ã›ã‚“</div>;\n}\n```\n\n### æ³¨æ„ç‚¹4: æ—¥æœ¬èªã‚·ãƒ¼ãƒˆåã®URLé€ä¿¡æ™‚ã¯ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ãŒå¿…è¦\n\nãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‹ã‚‰APIã«æœˆå·ã‚’ã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã§é€ä¿¡ã™ã‚‹éš›ã€æ—¥æœ¬èªã¯å¿…ãšURLã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ã™ã‚‹ã€‚\n\n```typescript\nconst encodedIssue = encodeURIComponent(selectedIssue); // \"2025å¹´11æœˆå·\" â†’ \"2025%E5%B9%B411%E6%9C%88%E5%8F%B7\"\nfetch(`/api/yumemaga-v2/progress?issue=${encodedIssue}`);\n```\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `skill_spreadsheet_metadata_discovery_2025_11_24.md`: ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã®å–å¾—æ–¹æ³•\n- `skill_gantt_data_parsing_technique_2025_11_24.md`: é¸æŠã•ã‚ŒãŸæœˆå·ã®ã‚¬ãƒ³ãƒˆãƒãƒ£ãƒ¼ãƒˆãƒ‡ãƒ¼ã‚¿ã‚’ãƒ‘ãƒ¼ã‚¹\n- `skill_google_sheets_a1_notation_2025_11_24.md`: æœˆå·ã«å¯¾å¿œã™ã‚‹ã‚·ãƒ¼ãƒˆã®A1è¡¨è¨˜ç¯„å›²ã‚’æŒ‡å®š\n- `decision_tech_google_sheets_api_v4_2025_11_24.md`: Google Sheets API v4ã®ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿APIä½¿ç”¨ã®æŠ€è¡“é¸å®š\n",
    "prompt": "### ãƒ‘ã‚¿ãƒ¼ãƒ³1: ã‚·ãƒ¼ãƒˆåã‹ã‚‰æœˆå·ã‚’æŠ½å‡º\n\n```typescript\nimport { NextResponse } from 'next/server';\nimport { getSpreadsheetMetadata } from '@/lib/google-sheets';\n\nexport async function GET() {\n  try {\n    const spreadsheetId = process.env.YUMEMAGA_SPREADSHEET_ID!;\n\n    // ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—\n    const metadata = await getSpreadsheetMetadata(spreadsheetId);\n    const sheets = metadata.sheets || [];\n\n    // \"é€†ç®—é…ç½®_ã‚¬ãƒ³ãƒˆ_\" ã§å§‹ã¾ã‚‹ã‚·ãƒ¼ãƒˆåã‚’æŠ½å‡º\n    const issues = sheets\n      .map(sheet => sheet.properties?.title)\n      .filter(title => title && title.startsWith('é€†ç®—é…ç½®_ã‚¬ãƒ³ãƒˆ_'))\n      .map(title => title!.replace('é€†ç®—é…ç½®_ã‚¬ãƒ³ãƒˆ_', ''));\n\n    return NextResponse.json({ success: true, data: { issues } });\n  } catch (error) {\n    return NextResponse.json(\n      { success: false, error: error.message },\n      { status: 500 }\n    );\n  }\n}\n```\n\n### ãƒ‘ã‚¿ãƒ¼ãƒ³2: ã‚»ãƒ«ãƒ‡ãƒ¼ã‚¿ã‹ã‚‰æœˆå·ã‚’æŠ½å‡º\n\n```typescript\nimport { NextResponse } from 'next/server';\nimport { getSheetData } from '@/lib/google-sheets';\n\nexport async function GET() {\n  try {\n    const spreadsheetId = process.env.YUMEMAGA_SPREADSHEET_ID!;\n\n    // é€²æ—å…¥åŠ›ã‚·ãƒ¼ãƒˆ_V2ã®Aåˆ—ï¼ˆæœˆå·ãƒªã‚¹ãƒˆï¼‰ã‚’å–å¾—\n    const progressData = await getSheetData(spreadsheetId, 'é€²æ—å…¥åŠ›ã‚·ãƒ¼ãƒˆ_V2!A1:A100');\n\n    // ãƒ˜ãƒƒãƒ€ãƒ¼è¡Œã‚’é™¤å¤–ã—ã€ç©ºè¡Œã‚’ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°\n    const issues = progressData\n      .slice(1)\n      .map(row => row[0])\n      .filter(val => val && val.trim() !== '');\n\n    return NextResponse.json({ success: true, data: { issues } });\n  } catch (error) {\n    return NextResponse.json(\n      { success: false, error: error.message },\n      { status: 500 }\n    );\n  }\n}\n```\n\n### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰å®Ÿè£…\n\n```typescript\n'use client';\nimport { useState, useEffect } from 'react';\n\nexport default function IssueSelector() {\n  const [issues, setIssues] = useState<string[]>([]);\n  const [selectedIssue, setSelectedIssue] = useState<string>('');\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    fetchIssues();\n  }, []);\n\n  const fetchIssues = async () => {\n    setLoading(true);\n    try {\n      const res = await fetch('/api/yumemaga-v2/available-issues');\n      const data = await res.json();\n\n      if (data.success) {\n        setIssues(data.data.issues);\n        if (data.data.issues.length > 0) {\n          setSelectedIssue(data.data.issues[0]); // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§æœ€åˆã®æœˆå·\n        }\n      }\n    } catch (error) {\n      console.error('Failed to fetch issues:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  if (loading) {\n    return <div>èª­ã¿è¾¼ã¿ä¸­...</div>;\n  }\n\n  return (\n    <select\n      value={selectedIssue}\n      onChange={e => setSelectedIssue(e.target.value)}\n      className=\"px-4 py-2 border rounded\"\n    >\n      {issues.map(issue => (\n        <option key={issue} value={issue}>\n          {issue}\n        </option>\n      ))}\n    </select>\n  );\n}\n```",
    "relatedTech": [
      "skill-spreadsheet-metadata-discovery",
      "skill-gantt-data-parsing-technique",
      "skill-google-sheets-a1-notation",
      "decision-tech-google-sheets-api-v4"
    ]
  },
  {
    "slug": "dynamic-template-rendering",
    "title": "å‹•çš„ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ï¼ˆReact.createElement + Registryï¼‰",
    "category": "Skillsï¼ˆã‚¹ã‚­ãƒ«ãƒ»æ‰‹æ³•ï¼‰",
    "description": "**æ–‡å­—åˆ—ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆIDï¼ˆä¾‹: \"unified-template-08\"ï¼‰ã‹ã‚‰ã€å¯¾å¿œã™ã‚‹Reactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’å‹•çš„ã«é¸æŠã—ã¦ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã™ã‚‹æŠ€è¡“ã€‚**",
    "project": "instagram-post-generator",
    "usedIn": [
      "app/components/templates/TemplateRegistry.tsx"
    ],
    "code": "```json\n{\n  \"id\": \"skill_dynamic_template_rendering_2025_11_25\",\n  \"type\": \"skill\",\n  \"name\": \"å‹•çš„ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ï¼ˆReact.createElement + Registryï¼‰\",\n  \"tags\": [\"React\", \"å‹•çš„ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°\", \"ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ¬ã‚¸ã‚¹ãƒˆãƒª\", \"createElement\", \"å‹•çš„ã‚¤ãƒ³ãƒãƒ¼ãƒˆ\"],\n  \"source_project\": \"instagram-post-generator\",\n  \"source_file\": \"app/components/templates/TemplateRegistry.tsx\",\n  \"difficulty\": \"advanced\",\n  \"related_knowledge\": [\n    \"decision_arch_template_registry_pattern_2025_11_25\",\n    \"skill_template_selector_algorithm_2025_11_25\",\n    \"skill_template_data_conversion_2025_11_25\"\n  ],\n  \"prerequisites\": [\"ReactåŸºç¤\", \"TypeScript\", \"å‹•çš„ã‚¤ãƒ³ãƒãƒ¼ãƒˆ\"],\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# å‹•çš„ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ï¼ˆReact.createElement + Registryï¼‰\n\n## ä½•ã‚’ã™ã‚‹ã‚¹ã‚­ãƒ«ã‹\n\n**æ–‡å­—åˆ—ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆIDï¼ˆä¾‹: \"unified-template-08\"ï¼‰ã‹ã‚‰ã€å¯¾å¿œã™ã‚‹Reactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’å‹•çš„ã«é¸æŠã—ã¦ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã™ã‚‹æŠ€è¡“ã€‚**\n\n**ãƒ¬ã‚¸ã‚¹ãƒˆãƒªãƒ‘ã‚¿ãƒ¼ãƒ³**: å…¨ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ä¸€å…ƒç®¡ç†ã—ã€IDã§å–å¾—\n\n**ãƒ•ãƒ­ãƒ¼**:\n```\ntemplateType: \"unified-template-08\"\n  â†“\nTemplateRegistry.getComponent(\"unified-template-08\")\n  â†“\nUnifiedTemplate08SectionBlocks ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå–å¾—\n  â†“\nReact.createElement(component, { data })\n  â†“\nãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°å®Œäº†\n```\n\n**çµæœ**: 48å€‹ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’å‹•çš„ã«åˆ‡ã‚Šæ›¿ãˆå¯èƒ½\n\n---\n\n## ãªãœã“ã®ã‚¹ã‚­ãƒ«ãŒé‡è¦ã‹\n\n### ç†ç”±1: é™çš„ã‚¤ãƒ³ãƒãƒ¼ãƒˆã®é™ç•Œ\n\n**å•é¡Œ**: 48å€‹ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’å€‹åˆ¥ã«ã‚¤ãƒ³ãƒãƒ¼ãƒˆ\n\n```typescript\n// âŒ é™çš„ã‚¤ãƒ³ãƒãƒ¼ãƒˆ: ä¿å®ˆå›°é›£\nimport UnifiedTemplate01 from './UnifiedTemplate01'\nimport UnifiedTemplate02 from './UnifiedTemplate02'\nimport UnifiedTemplate03 from './UnifiedTemplate03'\n// ... 48å€‹ã®ã‚¤ãƒ³ãƒãƒ¼ãƒˆ\n\nfunction renderTemplate(type: string, data: any) {\n  if (type === 'unified-template-01') return <UnifiedTemplate01 data={data} />\n  if (type === 'unified-template-02') return <UnifiedTemplate02 data={data} />\n  // ... 48å€‹ã®ifæ–‡\n}\n```\n\n**å•é¡Œç‚¹**:\n- ãƒœã‚¤ãƒ©ãƒ¼ãƒ—ãƒ¬ãƒ¼ãƒˆå¤§é‡\n- æ–°ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆè¿½åŠ æ™‚ã«è¤‡æ•°ç®‡æ‰€ä¿®æ­£\n- ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå‰Šé™¤æ™‚ã®ä¿®æ­£æ¼ã‚Œãƒªã‚¹ã‚¯\n- ä¿å®ˆæ€§ä½ä¸‹\n\n### ç†ç”±2: ãƒ¬ã‚¸ã‚¹ãƒˆãƒªãƒ‘ã‚¿ãƒ¼ãƒ³ã®åˆ©ç‚¹\n\n**è§£æ±º**: ä¸€å…ƒç®¡ç†\n\n```typescript\n// âœ… ãƒ¬ã‚¸ã‚¹ãƒˆãƒªãƒ‘ã‚¿ãƒ¼ãƒ³: ä¸€å…ƒç®¡ç†\nconst TemplateRegistry = {\n  'unified-template-01': UnifiedTemplate01,\n  'unified-template-02': UnifiedTemplate02,\n  'unified-template-03': UnifiedTemplate03,\n  // ... å…¨ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ\n}\n\nfunction renderTemplate(type: string, data: any) {\n  const Component = TemplateRegistry[type]\n  return Component ? <Component data={data} /> : null\n}\n```\n\n**åˆ©ç‚¹**:\n- æ–°ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ: ãƒ¬ã‚¸ã‚¹ãƒˆãƒªã«1è¡Œè¿½åŠ ã®ã¿\n- å‰Šé™¤: ãƒ¬ã‚¸ã‚¹ãƒˆãƒªã‹ã‚‰1è¡Œå‰Šé™¤ã®ã¿\n- ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹å®¹æ˜“\n- å‹å®‰å…¨æ€§å‘ä¸Š\n\n### ç†ç”±3: 2æ®µéšç”Ÿæˆã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã¨ã®çµ±åˆ\n\n**Stage 2ï¼ˆStructureConstrainedGeneratorï¼‰ã®å‡ºåŠ›**:\n```typescript\n{\n  pageNumber: 1,\n  templateType: \"unified-template-08-section-blocks\",  // æ–‡å­—åˆ—\n  content: { ... }\n}\n```\n\n**å‹•çš„ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ãŒå¿…è¦**:\n```typescript\n// templateTypeï¼ˆæ–‡å­—åˆ—ï¼‰ã‹ã‚‰ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’å–å¾—\nconst Component = TemplateRegistry.getComponent(templateType)\nreturn <Component data={templateData} />\n```\n\n---\n\n## å†ç¾æ–¹æ³•\n\n### ã‚¹ãƒ†ãƒƒãƒ—1: TemplateRegistry ã®åŸºæœ¬æ§‹é€ \n\n**ãƒ•ã‚¡ã‚¤ãƒ«**: `app/components/templates/TemplateRegistry.tsx`\n\n```typescript\nimport React from 'react'\nimport { TemplateType, TemplateProps } from './TemplateTypes'\n\n// ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ã‚¤ãƒ³ãƒãƒ¼ãƒˆï¼ˆæ—¢å­˜16å€‹ï¼‰\nimport { IndexTemplate } from './IndexTemplate'\nimport { EnumerationTemplate } from './EnumerationTemplate'\nimport { ListTemplate } from './ListTemplate'\n// ... ä»–ã®ã‚¤ãƒ³ãƒãƒ¼ãƒˆ\n\n// Unified ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆï¼ˆ13å€‹ï¼‰\nimport { UnifiedTemplate01SimpleIntro } from './unified/UnifiedTemplate01SimpleIntro'\nimport { UnifiedTemplate02DualSection } from './unified/UnifiedTemplate02DualSection'\nimport { UnifiedTemplate08SectionBlocks } from './unified/UnifiedTemplate08SectionBlocks'\n// ... ä»–ã®ã‚¤ãƒ³ãƒãƒ¼ãƒˆ\n\n// ãƒ¬ã‚¸ã‚¹ãƒˆãƒªå‹å®šç¾©\ntype TemplateComponentMap = {\n  [K in TemplateType]: React.FC<TemplateProps>\n}\n\n// ãƒ¬ã‚¸ã‚¹ãƒˆãƒªå®Ÿè£…\nconst templateRegistry: TemplateComponentMap = {\n  // æ—¢å­˜ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ\n  'index': IndexTemplate,\n  'enumeration': EnumerationTemplate,\n  'list': ListTemplate,\n  'explanation2': ExplanationTwoTemplate,\n  'simple3': SimpleThreeTemplate,\n  'table': TableTemplate,\n  'simple5': SimpleFiveTemplate,\n  'simple6': SimpleSixTemplate,\n  'section-items': SectionItemsTemplate,\n  'two-column-section-items': TwoColumnSectionItemsTemplate,\n  'title-description-only': TitleDescriptionOnlyTemplate,\n  'checklist-enhanced': ChecklistEnhancedTemplate,\n  'item-n-title-content': ItemNTitleContentTemplate,\n  'single-section-no-items': SingleSectionNoItemsTemplate,\n  'ranking': RankingTemplate,\n  'graph': GraphTemplate,\n\n  // æ–°ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ\n  'feature_parallel_info': FeatureParallelInfoTemplate,\n  'feature_detail_tips': FeatureDetailTipsTemplate,\n  'sequential_dependency': SequentialDependencyTemplate,\n  'dual_enumeration': DualEnumerationTemplate,\n  'failure_episode': FailureEpisodeTemplate,\n  'failure_story_intro': FailureStoryIntroTemplate,\n  'profile_offer': ProfileOfferTemplate,\n  'basic_intro': BasicIntroTemplate,\n  'step_guide_achievement': StepGuideAchievementTemplate,\n  'achievement_summary': AchievementSummaryTemplate,\n  'ng_good_comparison': NgGoodComparisonTemplate,\n  'category_explanation': CategoryExplanationTemplate,\n  'vision_strength_matrix': VisionStrengthMatrixTemplate,\n  'category_summary': CategorySummaryTemplate,\n  'grid_summary': GridSummaryTemplate,\n  'tool_feature': ToolFeatureTemplate,\n  'efficiency_tips': EfficiencyTipsTemplate,\n  'multiple_items_display': MultipleItemsDisplayTemplate,\n\n  // Unified ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ\n  'simple_intro': UnifiedTemplate01SimpleIntro,\n  'dual_section': UnifiedTemplate02DualSection,\n  'ranking_display': UnifiedTemplate03RankingDisplay,\n  'item_grid': UnifiedTemplate04ItemGrid,\n  'comparison': UnifiedTemplate05Comparison,\n  'unified_company_detail': UnifiedTemplate06CompanyDetail,\n  'item_list': UnifiedTemplate07ItemList,\n  'section_blocks': UnifiedTemplate08SectionBlocks,\n  'dynamic_boxes': UnifiedTemplate09DynamicBoxes,\n  'image_point': UnifiedTemplate10ImagePoint,\n\n  // TENå°‚ç”¨ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ\n  'ten_intro': TenIntroTemplate,\n  'tool_showcase': ToolShowcaseTemplate,\n  'enhanced_tool_detail': EnhancedToolDetailTemplate,\n  'ten_summary': TenSummaryTemplate\n}\n\n// ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ\nexport class TemplateRegistry {\n  /**\n   * ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’å–å¾—\n   */\n  static getComponent(templateType: TemplateType): React.FC<TemplateProps> | null {\n    return templateRegistry[templateType] || null\n  }\n\n  /**\n   * å…¨ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚¿ã‚¤ãƒ—ã®ãƒªã‚¹ãƒˆã‚’å–å¾—\n   */\n  static getAllTemplateTypes(): TemplateType[] {\n    return Object.keys(templateRegistry) as TemplateType[]\n  }\n\n  /**\n   * ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãŒå­˜åœ¨ã™ã‚‹ã‹ç¢ºèª\n   */\n  static hasTemplate(templateType: TemplateType): boolean {\n    return templateType in templateRegistry\n  }\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2: å‹•çš„ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã®å®Ÿè£…\n\n**ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå´ã§ã®ä½¿ç”¨**:\n\n```typescript\n// app/components/EditablePostGenerator.tsxï¼ˆæŠœç²‹ï¼‰\nimport React from 'react'\nimport { TemplateRegistry } from './templates/TemplateRegistry'\nimport { GeneratedPage } from '../services/contentGeneratorService'\n\nexport const EditablePostGenerator: React.FC<{\n  pages: GeneratedPage[]\n}> = ({ pages }) => {\n  return (\n    <div>\n      {pages.map((page, index) => {\n        // å‹•çš„ã«ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå–å¾—\n        const TemplateComponent = TemplateRegistry.getComponent(page.templateType)\n\n        if (!TemplateComponent) {\n          console.error(`ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“: ${page.templateType}`)\n          return (\n            <div key={index} className=\"error-page\">\n              ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ {page.templateType} ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“\n            </div>\n          )\n        }\n\n        // å‹•çš„ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°\n        return (\n          <div key={index} id={`post-page-${page.pageNumber}`}>\n            <TemplateComponent data={page.templateData} pageNumber={page.pageNumber} />\n          </div>\n        )\n      })}\n    </div>\n  )\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3: React.createElement ã‚’ä½¿ã£ãŸå®Ÿè£…\n\n**é–¢æ•°å‹ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ**:\n\n```typescript\n// ä»£æ›¿å®Ÿè£…: React.createElement ä½¿ç”¨\nexport const renderTemplate = (\n  templateType: TemplateType,\n  templateData: TemplateData,\n  pageNumber?: number\n): React.ReactElement | null => {\n  const Component = TemplateRegistry.getComponent(templateType)\n\n  if (!Component) {\n    return null\n  }\n\n  // React.createElement ã§å‹•çš„ç”Ÿæˆ\n  return React.createElement(Component, {\n    data: templateData,\n    pageNumber\n  })\n}\n\n// ä½¿ç”¨ä¾‹\nconst element = renderTemplate('unified-template-08', templateData, 1)\nreturn <>{element}</>\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—4: ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ä»˜ãå®Ÿè£…\n\n**å®‰å…¨ãªå‹•çš„ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°**:\n\n```typescript\nexport const SafeTemplateRenderer: React.FC<{\n  templateType: TemplateType\n  templateData: TemplateData\n  pageNumber?: number\n}> = ({ templateType, templateData, pageNumber }) => {\n  // Step 1: ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå­˜åœ¨ç¢ºèª\n  if (!TemplateRegistry.hasTemplate(templateType)) {\n    console.error(`Unknown template type: ${templateType}`)\n    return (\n      <div className=\"bg-red-100 border border-red-400 p-4\">\n        <h3 className=\"text-red-800 font-bold\">ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚¨ãƒ©ãƒ¼</h3>\n        <p>ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ \"{templateType}\" ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã€‚</p>\n      </div>\n    )\n  }\n\n  // Step 2: ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå–å¾—\n  const Component = TemplateRegistry.getComponent(templateType)\n\n  if (!Component) {\n    return null\n  }\n\n  // Step 3: ã‚¨ãƒ©ãƒ¼ãƒã‚¦ãƒ³ãƒ€ãƒªã§å›²ã‚“ã§ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°\n  return (\n    <ErrorBoundary fallback={<TemplateFallback templateType={templateType} />}>\n      <Component data={templateData} pageNumber={pageNumber} />\n    </ErrorBoundary>\n  )\n}\n\n// ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ\nconst TemplateFallback: React.FC<{ templateType: string }> = ({ templateType }) => {\n  return (\n    <div className=\"bg-yellow-100 border border-yellow-400 p-4\">\n      <h3 className=\"text-yellow-800 font-bold\">ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã‚¨ãƒ©ãƒ¼</h3>\n      <p>ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ \"{templateType}\" ã®ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã«å¤±æ•—ã—ã¾ã—ãŸã€‚</p>\n    </div>\n  )\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—5: é…å»¶èª­ã¿è¾¼ã¿ï¼ˆLazy Loadingï¼‰\n\n**ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–**:\n\n```typescript\n// app/components/templates/LazyTemplateRegistry.tsx\nimport React, { lazy, Suspense } from 'react'\nimport { TemplateType, TemplateProps } from './TemplateTypes'\n\n// é…å»¶èª­ã¿è¾¼ã¿\nconst lazyTemplates = {\n  'unified-template-08': lazy(() => import('./unified/UnifiedTemplate08SectionBlocks')),\n  // ... ä»–ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ\n}\n\nexport const LazyTemplateRenderer: React.FC<{\n  templateType: TemplateType\n  templateData: any\n}> = ({ templateType, templateData }) => {\n  const LazyComponent = lazyTemplates[templateType]\n\n  if (!LazyComponent) {\n    return <div>ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“</div>\n  }\n\n  return (\n    <Suspense fallback={<div>èª­ã¿è¾¼ã¿ä¸­...</div>}>\n      <LazyComponent data={templateData} />\n    </Suspense>\n  )\n}\n```\n\n**åˆ©ç‚¹**: åˆå›ãƒ­ãƒ¼ãƒ‰æ™‚é–“çŸ­ç¸®ã€ãƒ¡ãƒ¢ãƒªåŠ¹ç‡å‘ä¸Š\n\n---\n\n## ã„ã¤ä½¿ã†ã‹\n\n### ä½¿ç”¨å ´é¢1: ç”Ÿæˆã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°\n\n```typescript\n// AIç”Ÿæˆçµæœã‚’å‹•çš„ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°\nconst generatedContent = await generateInstagramPost(userInput)\n\nreturn (\n  <div>\n    {generatedContent.pages.map((page) => {\n      const Component = TemplateRegistry.getComponent(page.templateType)\n      return <Component key={page.pageNumber} data={page.templateData} />\n    })}\n  </div>\n)\n```\n\n### ä½¿ç”¨å ´é¢2: ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ç”»é¢\n\n```typescript\n// ç·¨é›†ç”»é¢ã§ã®ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼\nconst [currentPage, setCurrentPage] = useState(pages[0])\n\nconst Component = TemplateRegistry.getComponent(currentPage.templateType)\n\nreturn (\n  <div className=\"preview\">\n    <Component data={currentPage.templateData} />\n  </div>\n)\n```\n\n### ä½¿ç”¨å ´é¢3: ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä¸€è¦§\n\n```typescript\n// å…¨ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®ã‚µãƒ ãƒã‚¤ãƒ«è¡¨ç¤º\nconst allTemplateTypes = TemplateRegistry.getAllTemplateTypes()\n\nreturn (\n  <div className=\"template-gallery\">\n    {allTemplateTypes.map((templateType) => {\n      const Component = TemplateRegistry.getComponent(templateType)\n      return (\n        <div key={templateType} className=\"thumbnail\">\n          <Component data={sampleData} />\n        </div>\n      )\n    })}\n  </div>\n)\n```\n\n---\n\n## æ³¨æ„ç‚¹\n\n### æ³¨æ„ç‚¹1: å‹å®‰å…¨æ€§\n\n**å•é¡Œ**: å‹ãƒã‚§ãƒƒã‚¯ãŒå¼±ã„\n\n```typescript\n// âŒ å‹å®‰å…¨æ€§ãªã—\nconst Component = (templateRegistry as any)[templateType]\n\n// âœ… å‹å®‰å…¨æ€§ã‚ã‚Š\nconst Component = templateRegistry[templateType as TemplateType]\n```\n\n### æ³¨æ„ç‚¹2: undefined ãƒã‚§ãƒƒã‚¯\n\n**å•é¡Œ**: ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒå­˜åœ¨ã—ãªã„å ´åˆã®ã‚¯ãƒ©ãƒƒã‚·ãƒ¥\n\n```typescript\n// âŒ undefinedãƒã‚§ãƒƒã‚¯ãªã—\nconst Component = TemplateRegistry.getComponent(templateType)\nreturn <Component data={data} />  // ComponentãŒnullãªã‚‰ã‚¯ãƒ©ãƒƒã‚·ãƒ¥\n\n// âœ… undefinedãƒã‚§ãƒƒã‚¯ã‚ã‚Š\nconst Component = TemplateRegistry.getComponent(templateType)\nif (!Component) {\n  return <ErrorFallback />\n}\nreturn <Component data={data} />\n```\n\n### æ³¨æ„ç‚¹3: ãƒãƒ³ãƒ‰ãƒ«ã‚µã‚¤ã‚º\n\n**å•é¡Œ**: å…¨ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãŒåˆå›ãƒ­ãƒ¼ãƒ‰ã«å«ã¾ã‚Œã‚‹\n\n**è§£æ±º**: é…å»¶èª­ã¿è¾¼ã¿ï¼ˆLazy Loadingï¼‰\n\n```typescript\n// ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ä½¿ç”¨æ™‚ã«èª­ã¿è¾¼ã¿\nconst Component = lazy(() => import(`./templates/${templateType}`))\n```\n\n---\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- **decision_arch_template_registry_pattern_2025_11_25**: ãƒ¬ã‚¸ã‚¹ãƒˆãƒªãƒ‘ã‚¿ãƒ¼ãƒ³ã®è¨­è¨ˆåˆ¤æ–­\n- **skill_template_selector_algorithm_2025_11_25**: ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé¸æŠã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ \n- **skill_template_data_conversion_2025_11_25**: ãƒ‡ãƒ¼ã‚¿å¤‰æ›\n\n---\n\n**ã¾ã¨ã‚**: å‹•çš„ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã¯ã€48å€‹ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ä¸€å…ƒç®¡ç†ã—ã€æ–‡å­—åˆ—IDã‹ã‚‰å‹•çš„ã«ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’å–å¾—ãƒ»ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã™ã‚‹ã€‚ãƒ¬ã‚¸ã‚¹ãƒˆãƒªãƒ‘ã‚¿ãƒ¼ãƒ³ã«ã‚ˆã‚Šã€ä¿å®ˆæ€§ã¨ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£ãŒå‘ä¸Šã€‚\n",
    "prompt": "### ã‚¹ãƒ†ãƒƒãƒ—1: TemplateRegistry ã®åŸºæœ¬æ§‹é€ \n\n**ãƒ•ã‚¡ã‚¤ãƒ«**: `app/components/templates/TemplateRegistry.tsx`\n\n```typescript\nimport React from 'react'\nimport { TemplateType, TemplateProps } from './TemplateTypes'\n\n// ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ã‚¤ãƒ³ãƒãƒ¼ãƒˆï¼ˆæ—¢å­˜16å€‹ï¼‰\nimport { IndexTemplate } from './IndexTemplate'\nimport { EnumerationTemplate } from './EnumerationTemplate'\nimport { ListTemplate } from './ListTemplate'\n// ... ä»–ã®ã‚¤ãƒ³ãƒãƒ¼ãƒˆ\n\n// Unified ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆï¼ˆ13å€‹ï¼‰\nimport { UnifiedTemplate01SimpleIntro } from './unified/UnifiedTemplate01SimpleIntro'\nimport { UnifiedTemplate02DualSection } from './unified/UnifiedTemplate02DualSection'\nimport { UnifiedTemplate08SectionBlocks } from './unified/UnifiedTemplate08SectionBlocks'\n// ... ä»–ã®ã‚¤ãƒ³ãƒãƒ¼ãƒˆ\n\n// ãƒ¬ã‚¸ã‚¹ãƒˆãƒªå‹å®šç¾©\ntype TemplateComponentMap = {\n  [K in TemplateType]: React.FC<TemplateProps>\n}\n\n// ãƒ¬ã‚¸ã‚¹ãƒˆãƒªå®Ÿè£…\nconst templateRegistry: TemplateComponentMap = {\n  // æ—¢å­˜ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ\n  'index': IndexTemplate,\n  'enumeration': EnumerationTemplate,\n  'list': ListTemplate,\n  'explanation2': ExplanationTwoTemplate,\n  'simple3': SimpleThreeTemplate,\n  'table': TableTemplate,\n  'simple5': SimpleFiveTemplate,\n  'simple6': SimpleSixTemplate,\n  'section-items': SectionItemsTemplate,\n  'two-column-section-items': TwoColumnSectionItemsTemplate,\n  'title-description-only': TitleDescriptionOnlyTemplate,\n  'checklist-enhanced': ChecklistEnhancedTemplate,\n  'item-n-title-content': ItemNTitleContentTemplate,\n  'single-section-no-items': SingleSectionNoItemsTemplate,\n  'ranking': RankingTemplate,\n  'graph': GraphTemplate,\n\n  // æ–°ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ\n  'feature_parallel_info': FeatureParallelInfoTemplate,\n  'feature_detail_tips': FeatureDetailTipsTemplate,\n  'sequential_dependency': SequentialDependencyTemplate,\n  'dual_enumeration': DualEnumerationTemplate,\n  'failure_episode': FailureEpisodeTemplate,\n  'failure_story_intro': FailureStoryIntroTemplate,\n  'profile_offer': ProfileOfferTemplate,\n  'basic_intro': BasicIntroTemplate,\n  'step_guide_achievement': StepGuideAchievementTemplate,\n  'achievement_summary': AchievementSummaryTemplate,\n  'ng_good_comparison': NgGoodComparisonTemplate,\n  'category_explanation': CategoryExplanationTemplate,\n  'vision_strength_matrix': VisionStrengthMatrixTemplate,\n  'category_summary': CategorySummaryTemplate,\n  'grid_summary': GridSummaryTemplate,\n  'tool_feature': ToolFeatureTemplate,\n  'efficiency_tips': EfficiencyTipsTemplate,\n  'multiple_items_display': MultipleItemsDisplayTemplate,\n\n  // Unified ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ\n  'simple_intro': UnifiedTemplate01SimpleIntro,\n  'dual_section': UnifiedTemplate02DualSection,\n  'ranking_display': UnifiedTemplate03RankingDisplay,\n  'item_grid': UnifiedTemplate04ItemGrid,\n  'comparison': UnifiedTemplate05Comparison,\n  'unified_company_detail': UnifiedTemplate06CompanyDetail,\n  'item_list': UnifiedTemplate07ItemList,\n  'section_blocks': UnifiedTemplate08SectionBlocks,\n  'dynamic_boxes': UnifiedTemplate09DynamicBoxes,\n  'image_point': UnifiedTemplate10ImagePoint,\n\n  // TENå°‚ç”¨ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ\n  'ten_intro': TenIntroTemplate,\n  'tool_showcase': ToolShowcaseTemplate,\n  'enhanced_tool_detail': EnhancedToolDetailTemplate,\n  'ten_summary': TenSummaryTemplate\n}\n\n// ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ\nexport class TemplateRegistry {\n  /**\n   * ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’å–å¾—\n   */\n  static getComponent(templateType: TemplateType): React.FC<TemplateProps> | null {\n    return templateRegistry[templateType] || null\n  }\n\n  /**\n   * å…¨ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚¿ã‚¤ãƒ—ã®ãƒªã‚¹ãƒˆã‚’å–å¾—\n   */\n  static getAllTemplateTypes(): TemplateType[] {\n    return Object.keys(templateRegistry) as TemplateType[]\n  }\n\n  /**\n   * ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãŒå­˜åœ¨ã™ã‚‹ã‹ç¢ºèª\n   */\n  static hasTemplate(templateType: TemplateType): boolean {\n    return templateType in templateRegistry\n  }\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2: å‹•çš„ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã®å®Ÿè£…\n\n**ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå´ã§ã®ä½¿ç”¨**:\n\n```typescript\n// app/components/EditablePostGenerator.tsxï¼ˆæŠœç²‹ï¼‰\nimport React from 'react'\nimport { TemplateRegistry } from './templates/TemplateRegistry'\nimport { GeneratedPage } from '../services/contentGeneratorService'\n\nexport const EditablePostGenerator: React.FC<{\n  pages: GeneratedPage[]\n}> = ({ pages }) => {\n  return (\n    <div>\n      {pages.map((page, index) => {\n        // å‹•çš„ã«ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå–å¾—\n        const TemplateComponent = TemplateRegistry.getComponent(page.templateType)\n\n        if (!TemplateComponent) {\n          console.error(`ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“: ${page.templateType}`)\n          return (\n            <div key={index} className=\"error-page\">\n              ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ {page.templateType} ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“\n            </div>\n          )\n        }\n\n        // å‹•çš„ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°\n        return (\n          <div key={index} id={`post-page-${page.pageNumber}`}>\n            <TemplateComponent data={page.templateData} pageNumber={page.pageNumber} />\n          </div>\n        )\n      })}\n    </div>\n  )\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3: React.createElement ã‚’ä½¿ã£ãŸå®Ÿè£…\n\n**é–¢æ•°å‹ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ**:\n\n```typescript\n// ä»£æ›¿å®Ÿè£…: React.createElement ä½¿ç”¨\nexport const renderTemplate = (\n  templateType: TemplateType,\n  templateData: TemplateData,\n  pageNumber?: number\n): React.ReactElement | null => {\n  const Component = TemplateRegistry.getComponent(templateType)\n\n  if (!Component) {\n    return null\n  }\n\n  // React.createElement ã§å‹•çš„ç”Ÿæˆ\n  return React.createElement(Component, {\n    data: templateData,\n    pageNumber\n  })\n}\n\n// ä½¿ç”¨ä¾‹\nconst element = renderTemplate('unified-template-08', templateData, 1)\nreturn <>{element}</>\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—4: ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ä»˜ãå®Ÿè£…\n\n**å®‰å…¨ãªå‹•çš„ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°**:\n\n```typescript\nexport const SafeTemplateRenderer: React.FC<{\n  templateType: TemplateType\n  templateData: TemplateData\n  pageNumber?: number\n}> = ({ templateType, templateData, pageNumber }) => {\n  // Step 1: ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå­˜åœ¨ç¢ºèª\n  if (!TemplateRegistry.hasTemplate(templateType)) {\n    console.error(`Unknown template type: ${templateType}`)\n    return (\n      <div className=\"bg-red-100 border border-red-400 p-4\">\n        <h3 className=\"text-red-800 font-bold\">ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚¨ãƒ©ãƒ¼</h3>\n        <p>ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ \"{templateType}\" ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã€‚</p>\n      </div>\n    )\n  }\n\n  // Step 2: ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå–å¾—\n  const Component = TemplateRegistry.getComponent(templateType)\n\n  if (!Component) {\n    return null\n  }\n\n  // Step 3: ã‚¨ãƒ©ãƒ¼ãƒã‚¦ãƒ³ãƒ€ãƒªã§å›²ã‚“ã§ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°\n  return (\n    <ErrorBoundary fallback={<TemplateFallback templateType={templateType} />}>\n      <Component data={templateData} pageNumber={pageNumber} />\n    </ErrorBoundary>\n  )\n}\n\n// ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ\nconst TemplateFallback: React.FC<{ templateType: string }> = ({ templateType }) => {\n  return (\n    <div className=\"bg-yellow-100 border border-yellow-400 p-4\">\n      <h3 className=\"text-yellow-800 font-bold\">ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã‚¨ãƒ©ãƒ¼</h3>\n      <p>ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ \"{templateType}\" ã®ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã«å¤±æ•—ã—ã¾ã—ãŸã€‚</p>\n    </div>\n  )\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—5: é…å»¶èª­ã¿è¾¼ã¿ï¼ˆLazy Loadingï¼‰\n\n**ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–**:\n\n```typescript\n// app/components/templates/LazyTemplateRegistry.tsx\nimport React, { lazy, Suspense } from 'react'\nimport { TemplateType, TemplateProps } from './TemplateTypes'\n\n// é…å»¶èª­ã¿è¾¼ã¿\nconst lazyTemplates = {\n  'unified-template-08': lazy(() => import('./unified/UnifiedTemplate08SectionBlocks')),\n  // ... ä»–ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ\n}\n\nexport const LazyTemplateRenderer: React.FC<{\n  templateType: TemplateType\n  templateData: any\n}> = ({ templateType, templateData }) => {\n  const LazyComponent = lazyTemplates[templateType]\n\n  if (!LazyComponent) {\n    return <div>ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“</div>\n  }\n\n  return (\n    <Suspense fallback={<div>èª­ã¿è¾¼ã¿ä¸­...</div>}>\n      <LazyComponent data={templateData} />\n    </Suspense>\n  )\n}\n```\n\n**åˆ©ç‚¹**: åˆå›ãƒ­ãƒ¼ãƒ‰æ™‚é–“çŸ­ç¸®ã€ãƒ¡ãƒ¢ãƒªåŠ¹ç‡å‘ä¸Š\n\n---",
    "relatedTech": [
      "decision-arch-template-registry-pattern",
      "skill-template-selector-algorithm",
      "skill-template-data-conversion"
    ]
  },
  {
    "slug": "dynamic-theme-system",
    "title": "å‹•çš„ãƒ†ãƒ¼ãƒã‚·ã‚¹ãƒ†ãƒ ",
    "category": "Skillsï¼ˆã‚¹ã‚­ãƒ«ãƒ»æ‰‹æ³•ï¼‰",
    "description": "YAMLãƒ•ã‚¡ã‚¤ãƒ«ã§ãƒ†ãƒ¼ãƒï¼ˆã‚«ãƒ©ãƒ¼ã‚¹ã‚­ãƒ¼ãƒã€ã‚¿ã‚¤ãƒã‚°ãƒ©ãƒ•ã‚£ã€ã‚¹ãƒšãƒ¼ã‚·ãƒ³ã‚°ã€ãƒœãƒ¼ãƒ€ãƒ¼ã€ã‚·ãƒ£ãƒ‰ã‚¦ãªã©ï¼‰ã‚’å®šç¾©ã—ã€Tailwind CSSã¨Reactã§å‹•çš„ã«é©ç”¨ã™ã‚‹æ‰‹æ³•ã€‚ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãƒ†ãƒ¼ãƒã‚’é¸æŠã™ã‚‹ã¨ã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆå…¨ä½“ã®ã‚¹ã‚¿ã‚¤ãƒ«ãŒå³åº§ã«å¤‰æ›´ã•ã‚Œã‚‹ã€‚",
    "project": "ai-document-generator",
    "usedIn": [
      "src/data/themes/*.yml, src/store/templateStore.ts"
    ],
    "code": "```json\n{\n  \"id\": \"skill_dynamic_theme_system_2025_04_11\",\n  \"type\": \"skill\",\n  \"name\": \"å‹•çš„ãƒ†ãƒ¼ãƒã‚·ã‚¹ãƒ†ãƒ \",\n  \"tags\": [\"ãƒ†ãƒ¼ãƒ\", \"ã‚«ãƒ©ãƒ¼ã‚¹ã‚­ãƒ¼ãƒ\", \"ã‚¿ã‚¤ãƒã‚°ãƒ©ãƒ•ã‚£\", \"YAML\", \"Tailwind CSS\", \"ãƒ‡ã‚¶ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ \"],\n  \"source_project\": \"ai-document-generator\",\n  \"source_file\": \"src/data/themes/*.yml, src/store/templateStore.ts\",\n  \"related_knowledge\": [\"skill_json_yaml_template_definition_2025_04_11\", \"skill_radix_ui_customization_2025_04_11\", \"decision_arch_template_system_2025_04_11\"],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-04-11\",\n  \"updated\": \"2025-04-11\"\n}\n```\n\n# å‹•çš„ãƒ†ãƒ¼ãƒã‚·ã‚¹ãƒ†ãƒ \n\n## ä½•ã‚’ã™ã‚‹ã‚¹ã‚­ãƒ«ã‹\n\nYAMLãƒ•ã‚¡ã‚¤ãƒ«ã§ãƒ†ãƒ¼ãƒï¼ˆã‚«ãƒ©ãƒ¼ã‚¹ã‚­ãƒ¼ãƒã€ã‚¿ã‚¤ãƒã‚°ãƒ©ãƒ•ã‚£ã€ã‚¹ãƒšãƒ¼ã‚·ãƒ³ã‚°ã€ãƒœãƒ¼ãƒ€ãƒ¼ã€ã‚·ãƒ£ãƒ‰ã‚¦ãªã©ï¼‰ã‚’å®šç¾©ã—ã€Tailwind CSSã¨Reactã§å‹•çš„ã«é©ç”¨ã™ã‚‹æ‰‹æ³•ã€‚ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãƒ†ãƒ¼ãƒã‚’é¸æŠã™ã‚‹ã¨ã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆå…¨ä½“ã®ã‚¹ã‚¿ã‚¤ãƒ«ãŒå³åº§ã«å¤‰æ›´ã•ã‚Œã‚‹ã€‚\n\n## å…·ä½“çš„ãªæ‰‹æ³•\n\n### 1. ãƒ†ãƒ¼ãƒãƒ•ã‚¡ã‚¤ãƒ«ã®æ§‹é€ \n\nYAMLãƒ•ã‚¡ã‚¤ãƒ«ã§ãƒ†ãƒ¼ãƒã‚’å®šç¾©ï¼š\n\n```yaml\n# src/data/themes/professional-blue.yml\nid: \"gradient-pro-blue\"\nname: \"ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ—ãƒ­ãƒ•ã‚§ãƒƒã‚·ãƒ§ãƒŠãƒ«ãƒ–ãƒ«ãƒ¼\"\ndescription: \"ãƒ–ãƒ«ãƒ¼ã®ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’åŸºèª¿ã¨ã—ãŸç¾ä»£çš„ã§ä¿¡é ¼æ„Ÿã®ã‚ã‚‹ãƒ†ãƒ¼ãƒ\"\nversion: \"1.0.0\"\ntags: [\"ãƒ–ãƒ«ãƒ¼\", \"ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³\", \"ãƒ—ãƒ­ãƒ•ã‚§ãƒƒã‚·ãƒ§ãƒŠãƒ«\", \"ãƒ¢ãƒ€ãƒ³\", \"çˆ½ã‚„ã‹\"]\ncompatibleDocumentTypes: ['*']\ncompatibleThemes: ['*']\n\n# ã‚«ãƒ©ãƒ¼ã‚¹ã‚­ãƒ¼ãƒ\ncolors:\n  primary: \"#3366CC\"\n  secondary: \"#36B37E\"\n  accent: \"#FF9933\"\n  highlight: \"#FFCC00\"\n  text:\n    heading: \"#1A1A1A\"\n    subheading: \"#3366CC\"\n    body: \"#333333\"\n    caption: \"#666666\"\n    inverse: \"#FFFFFF\"\n  background:\n    primary: \"#FFFFFF\"\n    secondary: \"#F5F8FA\"\n    tertiary: \"#E6F0FF\"\n    gradient:\n      start: \"#2A4B8D\"\n      middle: \"#305DB3\"\n      end: \"#36D1DC\"\n  components:\n    feature:\n      background: \"#F0F5FF\"\n      border: \"#BDD5FD\"\n      icon: \"#3366CC\"\n    chart:\n      primary: \"#3366CC\"\n      secondary: \"#36B37E\"\n      tertiary: \"#FF9933\"\n      quaternary: \"#FFCC00\"\n    button:\n      background: \"#3366CC\"\n      text: \"#FFFFFF\"\n      hover: \"#2A4B8D\"\n    card:\n      background: \"#FFFFFF\"\n      border: \"#E6F0FF\"\n      shadow: \"rgba(51, 102, 204, 0.1)\"\n\n# ã‚¿ã‚¤ãƒã‚°ãƒ©ãƒ•ã‚£\ntypography:\n  fontFamily:\n    heading: \"'Noto Sans JP', sans-serif\"\n    body: \"'Noto Sans JP', sans-serif\"\n    accent: \"'Noto Sans JP', sans-serif\"\n  fontSize:\n    h1: \"36px\"\n    h2: \"30px\"\n    h3: \"24px\"\n    h4: \"20px\"\n    body: \"16px\"\n    caption: \"14px\"\n    small: \"12px\"\n  fontWeight:\n    heading: 700\n    subheading: 600\n    body: 400\n    emphasis: 500\n  lineHeight:\n    heading: 1.2\n    body: 1.5\n    tight: 1.3\n\n# ã‚¹ãƒšãƒ¼ã‚·ãƒ³ã‚°\nspacing:\n  section: \"24px\"\n  component: \"16px\"\n  text: \"8px\"\n  content: \"12px\"\n\n# ãƒœãƒ¼ãƒ€ãƒ¼\nborders:\n  radius:\n    small: \"4px\"\n    medium: \"8px\"\n    large: \"16px\"\n  width:\n    thin: \"1px\"\n    medium: \"2px\"\n    thick: \"3px\"\n\n# ã‚·ãƒ£ãƒ‰ã‚¦\nshadows:\n  none: \"none\"\n  small: \"0 2px 4px rgba(0,0,0,0.05)\"\n  medium: \"0 4px 8px rgba(0,0,0,0.1)\"\n  large: \"0 8px 16px rgba(0,0,0,0.15)\"\n\n# ãƒˆãƒ©ãƒ³ã‚¸ã‚·ãƒ§ãƒ³\ntransitions:\n  speed:\n    slow: \"0.5s\"\n    medium: \"0.3s\"\n    fast: \"0.15s\"\n  easing: \"cubic-bezier(0.4, 0, 0.2, 1)\"\n\n# ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«\nvisual:\n  opacity:\n    light: 0.1\n    medium: 0.5\n    high: 0.9\n  gradients:\n    header: \"linear-gradient(90deg, #2A4B8D 0%, #36D1DC 100%)\"\n    button: \"linear-gradient(180deg, #3366CC 0%, #2A4B8D 100%)\"\n    card: \"linear-gradient(180deg, #FFFFFF 0%, #F5F8FA 100%)\"\n  imageStyle: \"modern\"\n  iconStyle: \"rounded\"\n  chartStyle: \"clean\"\n\n# ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿\nmetadata:\n  tone: \"professional\"\n  emotion: \"trust\"\n  industry: [\"education\", \"technology\", \"startup\", \"career\"]\n  suitability: [\"presentation\", \"proposal\", \"vision\"]\n  accentUsage: \"strategic\"\n  visualImpact: \"medium\"\n```\n\n### 2. YAMLãƒ•ã‚¡ã‚¤ãƒ«ã®èª­ã¿è¾¼ã¿\n\nYAMLãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‹•çš„ã«ã‚¤ãƒ³ãƒãƒ¼ãƒˆï¼š\n\n```typescript\nimport yaml from 'js-yaml';\nimport fs from 'fs';\nimport path from 'path';\n\n// ãƒ†ãƒ¼ãƒãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ‘ã‚¹\nconst themesDir = path.join(process.cwd(), 'src/data/themes');\n\n// ã™ã¹ã¦ã®ãƒ†ãƒ¼ãƒãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã‚€\nconst loadThemes = (): Theme[] => {\n  const themeFiles = fs.readdirSync(themesDir).filter(file =>\n    file.endsWith('.yml') || file.endsWith('.yaml')\n  );\n\n  return themeFiles.map(file => {\n    const filePath = path.join(themesDir, file);\n    const fileContents = fs.readFileSync(filePath, 'utf8');\n    const theme = yaml.load(fileContents) as Theme;\n    return theme;\n  });\n};\n\n// ãƒ†ãƒ¼ãƒã®å‹å®šç¾©\ninterface Theme {\n  id: string;\n  name: string;\n  description: string;\n  version: string;\n  tags: string[];\n  colors: {\n    primary: string;\n    secondary: string;\n    accent: string;\n    text: {\n      heading: string;\n      body: string;\n      [key: string]: string;\n    };\n    background: {\n      primary: string;\n      secondary: string;\n      [key: string]: string | object;\n    };\n    components: Record<string, Record<string, string>>;\n  };\n  typography: {\n    fontFamily: Record<string, string>;\n    fontSize: Record<string, string>;\n    fontWeight: Record<string, number>;\n    lineHeight: Record<string, number>;\n  };\n  spacing: Record<string, string>;\n  borders: {\n    radius: Record<string, string>;\n    width: Record<string, string>;\n  };\n  shadows: Record<string, string>;\n  transitions: {\n    speed: Record<string, string>;\n    easing: string;\n  };\n  visual: {\n    opacity: Record<string, number>;\n    gradients: Record<string, string>;\n    [key: string]: any;\n  };\n  metadata: {\n    tone: string;\n    emotion: string;\n    industry: string[];\n    suitability: string[];\n    [key: string]: any;\n  };\n}\n```\n\n### 3. Zustandã‚¹ãƒˆã‚¢ã§ãƒ†ãƒ¼ãƒã‚’ç®¡ç†\n\né¸æŠã•ã‚ŒãŸãƒ†ãƒ¼ãƒã‚’ã‚¹ãƒˆã‚¢ã§ç®¡ç†ï¼š\n\n```typescript\nimport { create } from 'zustand';\n\ninterface TemplateStoreState {\n  // ãƒ†ãƒ¼ãƒ\n  themes: {\n    items: Record<string, Theme>;\n    allIds: string[];\n  };\n  selectedThemeId: string | null;\n\n  // ãƒ†ãƒ¼ãƒæ“ä½œ\n  loadThemes: (themes: Theme[]) => void;\n  selectTheme: (themeId: string) => void;\n  getTheme: (themeId: string) => Theme | null;\n}\n\nexport const useTemplateStore = create<TemplateStoreState>((set, get) => ({\n  themes: {\n    items: {},\n    allIds: []\n  },\n  selectedThemeId: null,\n\n  loadThemes: (themes) => {\n    const items: Record<string, Theme> = {};\n    const allIds: string[] = [];\n\n    themes.forEach(theme => {\n      items[theme.id] = theme;\n      allIds.push(theme.id);\n    });\n\n    set({ themes: { items, allIds } });\n\n    // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ†ãƒ¼ãƒã‚’é¸æŠ\n    if (allIds.length > 0 && !get().selectedThemeId) {\n      set({ selectedThemeId: allIds[0] });\n    }\n  },\n\n  selectTheme: (themeId) => {\n    console.log('[TemplateStore] Selecting theme:', themeId);\n    set({ selectedThemeId: themeId });\n  },\n\n  getTheme: (themeId) => {\n    return get().themes.items[themeId] || null;\n  }\n}));\n```\n\n### 4. ãƒ†ãƒ¼ãƒã®é©ç”¨\n\né¸æŠã•ã‚ŒãŸãƒ†ãƒ¼ãƒã‚’CSSã‚«ã‚¹ã‚¿ãƒ ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã«å¤‰æ›ï¼š\n\n```typescript\n// ãƒ†ãƒ¼ãƒã‚’CSSå¤‰æ•°ã«å¤‰æ›\nconst applyTheme = (theme: Theme) => {\n  const root = document.documentElement;\n\n  // ã‚«ãƒ©ãƒ¼\n  root.style.setProperty('--color-primary', theme.colors.primary);\n  root.style.setProperty('--color-secondary', theme.colors.secondary);\n  root.style.setProperty('--color-accent', theme.colors.accent);\n  root.style.setProperty('--color-heading', theme.colors.text.heading);\n  root.style.setProperty('--color-body', theme.colors.text.body);\n  root.style.setProperty('--color-bg-primary', theme.colors.background.primary);\n  root.style.setProperty('--color-bg-secondary', theme.colors.background.secondary);\n\n  // ã‚¿ã‚¤ãƒã‚°ãƒ©ãƒ•ã‚£\n  root.style.setProperty('--font-heading', theme.typography.fontFamily.heading);\n  root.style.setProperty('--font-body', theme.typography.fontFamily.body);\n  root.style.setProperty('--font-size-h1', theme.typography.fontSize.h1);\n  root.style.setProperty('--font-size-h2', theme.typography.fontSize.h2);\n  root.style.setProperty('--font-size-body', theme.typography.fontSize.body);\n\n  // ã‚¹ãƒšãƒ¼ã‚·ãƒ³ã‚°\n  root.style.setProperty('--spacing-section', theme.spacing.section);\n  root.style.setProperty('--spacing-component', theme.spacing.component);\n\n  // ãƒœãƒ¼ãƒ€ãƒ¼\n  root.style.setProperty('--border-radius-small', theme.borders.radius.small);\n  root.style.setProperty('--border-radius-medium', theme.borders.radius.medium);\n\n  // ã‚·ãƒ£ãƒ‰ã‚¦\n  root.style.setProperty('--shadow-small', theme.shadows.small);\n  root.style.setProperty('--shadow-medium', theme.shadows.medium);\n};\n\n// Reactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå†…ã§ä½¿ç”¨\nuseEffect(() => {\n  const theme = useTemplateStore(state => state.selectedThemeId\n    ? state.themes.items[state.selectedThemeId]\n    : null\n  );\n\n  if (theme) {\n    applyTheme(theme);\n  }\n}, [selectedThemeId]);\n```\n\n### 5. ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ãƒ†ãƒ¼ãƒã‚’ä½¿ç”¨\n\nCSSã‚«ã‚¹ã‚¿ãƒ ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’Tailwind CSSã§ä½¿ç”¨ï¼š\n\n```tsx\n// ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã«ãƒ†ãƒ¼ãƒã‚’é©ç”¨\nconst Section: React.FC<{ sectionId: string }> = ({ sectionId }) => {\n  const theme = useTemplateStore(state =>\n    state.selectedThemeId ? state.themes.items[state.selectedThemeId] : null\n  );\n\n  const sectionStyles: React.CSSProperties = {\n    backgroundColor: theme?.colors.background.primary || '#ffffff',\n    color: theme?.colors.text.body || '#000000',\n    padding: theme?.spacing.section || '24px',\n    borderRadius: theme?.borders.radius.medium || '8px',\n    boxShadow: theme?.shadows.medium || 'none',\n  };\n\n  return (\n    <div style={sectionStyles}>\n      <SectionContent sectionId={sectionId} />\n    </div>\n  );\n};\n\n// ã¾ãŸã¯ã€Tailwind CSSã®ã‚«ã‚¹ã‚¿ãƒ ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’ä½¿ç”¨\nconst Section: React.FC = () => (\n  <div className=\"bg-[var(--color-bg-primary)] text-[var(--color-body)] p-[var(--spacing-section)]\">\n    <h1 className=\"text-[var(--color-heading)] font-[var(--font-heading)] text-[var(--font-size-h1)]\">\n      è¦‹å‡ºã—\n    </h1>\n  </div>\n);\n```\n\n### 6. ãƒ†ãƒ¼ãƒã‚»ãƒ¬ã‚¯ã‚¿ãƒ¼\n\nãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãƒ†ãƒ¼ãƒã‚’é¸æŠã§ãã‚‹UIï¼š\n\n```tsx\nconst ThemeSelector: React.FC = () => {\n  const themes = useTemplateStore(state => state.themes);\n  const selectedThemeId = useTemplateStore(state => state.selectedThemeId);\n  const selectTheme = useTemplateStore(state => state.selectTheme);\n\n  return (\n    <div className=\"theme-selector\">\n      <h3 className=\"text-sm font-medium mb-2\">ãƒ†ãƒ¼ãƒã‚’é¸æŠ</h3>\n      <div className=\"grid grid-cols-2 gap-2\">\n        {themes.allIds.map(themeId => {\n          const theme = themes.items[themeId];\n          const isSelected = selectedThemeId === themeId;\n\n          return (\n            <div\n              key={themeId}\n              className={clsx(\n                \"p-3 border rounded-md cursor-pointer transition-all\",\n                isSelected ? \"border-blue-500 bg-blue-50\" : \"border-gray-200 hover:border-gray-300\"\n              )}\n              onClick={() => selectTheme(themeId)}\n            >\n              {/* ãƒ†ãƒ¼ãƒãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ */}\n              <div className=\"flex gap-1 mb-2\">\n                <div\n                  className=\"w-6 h-6 rounded\"\n                  style={{ backgroundColor: theme.colors.primary }}\n                />\n                <div\n                  className=\"w-6 h-6 rounded\"\n                  style={{ backgroundColor: theme.colors.secondary }}\n                />\n                <div\n                  className=\"w-6 h-6 rounded\"\n                  style={{ backgroundColor: theme.colors.accent }}\n                />\n              </div>\n\n              {/* ãƒ†ãƒ¼ãƒå */}\n              <p className=\"text-sm font-medium\">{theme.name}</p>\n              <p className=\"text-xs text-gray-500 mt-1\">{theme.description}</p>\n\n              {/* ã‚¿ã‚° */}\n              <div className=\"flex flex-wrap gap-1 mt-2\">\n                {theme.tags.slice(0, 3).map(tag => (\n                  <span key={tag} className=\"text-xs px-2 py-0.5 bg-gray-100 rounded\">\n                    {tag}\n                  </span>\n                ))}\n              </div>\n            </div>\n          );\n        })}\n      </div>\n    </div>\n  );\n};\n```\n\n### 7. ã‚»ã‚¯ã‚·ãƒ§ãƒ³åˆ¥ã®ãƒ†ãƒ¼ãƒé©ç”¨\n\nã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚¿ã‚¤ãƒ—ã”ã¨ã«ç•°ãªã‚‹ã‚¹ã‚¿ã‚¤ãƒ«ã‚’é©ç”¨ï¼š\n\n```typescript\n// ãƒ†ãƒ¼ãƒãƒ•ã‚¡ã‚¤ãƒ«ã«ã‚»ã‚¯ã‚·ãƒ§ãƒ³åˆ¥ã‚¹ã‚¿ã‚¤ãƒ«ã‚’å®šç¾©\nconst theme = {\n  // ...\n  sections: {\n    header: {\n      backgroundColor: \"#2A4B8D\",\n      textColor: \"#FFFFFF\",\n      padding: \"32px\"\n    },\n    footer: {\n      backgroundColor: \"#F5F8FA\",\n      textColor: \"#666666\",\n      padding: \"24px\"\n    },\n    content: {\n      backgroundColor: \"#FFFFFF\",\n      textColor: \"#333333\",\n      padding: \"24px\"\n    }\n  }\n};\n\n// ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚¨ãƒ‡ã‚£ã‚¿ã§é©ç”¨\nconst handleApplyThemeStyles = () => {\n  const theme = useTemplateStore.getState().themes.items[selectedThemeId];\n  const sectionType = section.definitionId;\n  const themeSection = theme?.sections?.[sectionType] || {};\n\n  const newStyles = {\n    backgroundColor: themeSection.backgroundColor || theme?.colors.background.primary,\n    color: themeSection.textColor || theme?.colors.text.body,\n    padding: themeSection.padding || theme?.spacing.section\n  };\n\n  useSectionStore.getState().updateSectionContent(sectionId, {\n    content: { styles: newStyles }\n  });\n};\n```\n\n## ãªãœã“ã®æ‰‹æ³•ã‚’ä½¿ã†ã‹\n\n**ç†ç”±1ï¼šãƒ‡ã‚¶ã‚¤ãƒ³ã®ä¸€è²«æ€§**\n- ãƒ†ãƒ¼ãƒãƒ•ã‚¡ã‚¤ãƒ«ã§ä¸€å…ƒç®¡ç†\n- ã™ã¹ã¦ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ãƒ»ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒåŒã˜ã‚«ãƒ©ãƒ¼ã‚¹ã‚­ãƒ¼ãƒã‚’ä½¿ç”¨\n- ãƒ–ãƒ©ãƒ³ãƒ‰ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³ã«æº–æ‹ ã—ã‚„ã™ã„\n\n**ç†ç”±2ï¼šè¿…é€Ÿãªãƒ‡ã‚¶ã‚¤ãƒ³å¤‰æ›´**\n- YAMLãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç·¨é›†ã™ã‚‹ã ã‘ã§ãƒ‡ã‚¶ã‚¤ãƒ³å¤‰æ›´\n- ã‚³ãƒ¼ãƒ‰ã‚’å¤‰æ›´ã›ãšã«æ–°ã—ã„ãƒ†ãƒ¼ãƒã‚’è¿½åŠ \n- ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒè¤‡æ•°ã®ãƒ†ãƒ¼ãƒã‹ã‚‰é¸æŠå¯èƒ½\n\n**ç†ç”±3ï¼šAIç”Ÿæˆã¨ã®ç›¸æ€§**\n- ãƒ†ãƒ¼ãƒãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ï¼ˆtoneã€emotionã€industryï¼‰ã‚’ä½¿ã£ã¦ã€AIãŒã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ç”Ÿæˆ\n- ä¾‹ï¼šprofessionalãªãƒ†ãƒ¼ãƒãªã‚‰ãƒ•ã‚©ãƒ¼ãƒãƒ«ãªæ–‡ä½“\n\n**ç†ç”±4ï¼šæ‹¡å¼µæ€§**\n- æ–°ã—ã„ãƒ†ãƒ¼ãƒã‚’è¿½åŠ ã™ã‚‹ã®ãŒç°¡å˜\n- ã‚«ã‚¹ã‚¿ãƒ ãƒ†ãƒ¼ãƒã‚’ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒä½œæˆå¯èƒ½ï¼ˆå°†æ¥çš„ã«ï¼‰\n\n**ç†ç”±5ï¼šä¿å®ˆæ€§**\n- ãƒ‡ã‚¶ã‚¤ãƒ³ãƒˆãƒ¼ã‚¯ãƒ³ï¼ˆè‰²ã€ãƒ•ã‚©ãƒ³ãƒˆã€ã‚¹ãƒšãƒ¼ã‚·ãƒ³ã‚°ï¼‰ã‚’ä¸€å…ƒç®¡ç†\n- ãƒ‡ã‚¶ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ ã®å¤‰æ›´ãŒå®¹æ˜“\n\n## å†ç¾æ–¹æ³•\n\n### ã‚¹ãƒ†ãƒƒãƒ—1ï¼šYAMLãƒ‘ãƒ¼ã‚µãƒ¼ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\n\n```bash\nnpm install js-yaml\nnpm install --save-dev @types/js-yaml\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2ï¼šãƒ†ãƒ¼ãƒãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆ\n\n```yaml\n# theme.yml\nid: \"my-theme\"\nname: \"ãƒã‚¤ãƒ†ãƒ¼ãƒ\"\ncolors:\n  primary: \"#3366CC\"\n  background:\n    primary: \"#FFFFFF\"\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3ï¼šãƒ†ãƒ¼ãƒã‚’èª­ã¿è¾¼ã¿\n\n```typescript\nimport yaml from 'js-yaml';\nimport fs from 'fs';\n\nconst theme = yaml.load(fs.readFileSync('theme.yml', 'utf8'));\nconsole.log(theme);\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—4ï¼šCSSå¤‰æ•°ã«é©ç”¨\n\n```typescript\ndocument.documentElement.style.setProperty('--color-primary', theme.colors.primary);\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—5ï¼šCSSã§ä½¿ç”¨\n\n```css\n.my-element {\n  background-color: var(--color-primary);\n}\n```\n\n## ã„ã¤ä½¿ã†ã‹\n\n- **è¤‡æ•°ãƒ†ãƒ¼ãƒå¯¾å¿œ**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãƒ†ãƒ¼ãƒã‚’é¸æŠã§ãã‚‹ã‚¢ãƒ—ãƒª\n- **ãƒ–ãƒ©ãƒ³ãƒ‰ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³**: ä¼æ¥­ã”ã¨ã«ç•°ãªã‚‹ã‚«ãƒ©ãƒ¼ã‚¹ã‚­ãƒ¼ãƒãŒå¿…è¦ãªå ´åˆ\n- **ãƒ‡ã‚¶ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ **: ãƒ‡ã‚¶ã‚¤ãƒ³ãƒˆãƒ¼ã‚¯ãƒ³ã‚’ä¸€å…ƒç®¡ç†ã—ãŸã„å ´åˆ\n- **ãƒ›ãƒ¯ã‚¤ãƒˆãƒ©ãƒ™ãƒ«**: è¤‡æ•°ã®ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã«åŒã˜ã‚¢ãƒ—ãƒªã‚’æä¾›ã™ã‚‹å ´åˆ\n\n## æ³¨æ„ç‚¹\n\n### 1. CSSå¤‰æ•°ã®ã‚µãƒãƒ¼ãƒˆ\n\nCSSå¤‰æ•°ã¯ã€å¤ã„ãƒ–ãƒ©ã‚¦ã‚¶ã§ã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ãªã„ã€‚\n\n**å¯¾ç­–**:\n- ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯å€¤ã‚’è¨­å®š\n- PostCSSã§CSSå¤‰æ•°ã‚’é™çš„å€¤ã«å¤‰æ›\n\n### 2. ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹\n\nãƒ†ãƒ¼ãƒå¤‰æ›´æ™‚ã«ã€ã™ã¹ã¦ã®è¦ç´ ã‚’å†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã™ã‚‹ã¨ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãŒä½ä¸‹ã€‚\n\n**å¯¾ç­–**:\n- CSSå¤‰æ•°ã‚’ä½¿ç”¨ï¼ˆå†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ä¸è¦ï¼‰\n- React.memoã§ä¸è¦ãªå†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã‚’é˜²ã\n\n### 3. YAMLã®æ¤œè¨¼\n\nYAMLãƒ•ã‚¡ã‚¤ãƒ«ãŒæ­£ã—ã„å½¢å¼ã§ãªã„ã¨ã€ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã€‚\n\n**å¯¾ç­–**:\n- YAMLã‚¹ã‚­ãƒ¼ãƒã‚’å®šç¾©ï¼ˆJSON Schemaãªã©ï¼‰\n- èª­ã¿è¾¼ã¿æ™‚ã«ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³\n\n### 4. Tailwind CSSã¨ã®çµ±åˆ\n\nTailwind CSSã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã«CSSå¤‰æ•°ã‚’è¿½åŠ ï¼š\n\n```javascript\n// tailwind.config.js\nmodule.exports = {\n  theme: {\n    extend: {\n      colors: {\n        primary: 'var(--color-primary)',\n        secondary: 'var(--color-secondary)',\n      }\n    }\n  }\n};\n```\n\n### 5. ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°\n\nSSRã§ã¯ã€`document`ãŒå­˜åœ¨ã—ãªã„ãŸã‚ã€CSSå¤‰æ•°ã®è¨­å®šã«æ³¨æ„ã€‚\n\n**å¯¾ç­–**:\n```typescript\nif (typeof window !== 'undefined') {\n  document.documentElement.style.setProperty('--color-primary', theme.colors.primary);\n}\n```\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `skill_json_yaml_template_definition_2025_04_11.md`: JSON/YAMLãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå®šç¾©\n- `skill_radix_ui_customization_2025_04_11.md`: Radix UIã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º\n- `decision_arch_template_system_2025_04_11.md`: ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£\n",
    "prompt": "### ã‚¹ãƒ†ãƒƒãƒ—1ï¼šYAMLãƒ‘ãƒ¼ã‚µãƒ¼ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\n\n```bash\nnpm install js-yaml\nnpm install --save-dev @types/js-yaml\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2ï¼šãƒ†ãƒ¼ãƒãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆ\n\n```yaml\n# theme.yml\nid: \"my-theme\"\nname: \"ãƒã‚¤ãƒ†ãƒ¼ãƒ\"\ncolors:\n  primary: \"#3366CC\"\n  background:\n    primary: \"#FFFFFF\"\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3ï¼šãƒ†ãƒ¼ãƒã‚’èª­ã¿è¾¼ã¿\n\n```typescript\nimport yaml from 'js-yaml';\nimport fs from 'fs';\n\nconst theme = yaml.load(fs.readFileSync('theme.yml', 'utf8'));\nconsole.log(theme);\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—4ï¼šCSSå¤‰æ•°ã«é©ç”¨\n\n```typescript\ndocument.documentElement.style.setProperty('--color-primary', theme.colors.primary);\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—5ï¼šCSSã§ä½¿ç”¨\n\n```css\n.my-element {\n  background-color: var(--color-primary);\n}\n```",
    "relatedTech": [
      "skill-json-yaml-template-definition",
      "skill-radix-ui-customization",
      "decision-arch-template-system"
    ]
  },
  {
    "slug": "eight-system-integrated-prompt-generation",
    "title": "8å¤§ã‚·ã‚¹ãƒ†ãƒ çµ±åˆãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”Ÿæˆ",
    "category": "Skillsï¼ˆã‚¹ã‚­ãƒ«ãƒ»æ‰‹æ³•ï¼‰",
    "description": "8ã¤ã®ç‹¬ç«‹ã—ãŸã‚·ã‚¹ãƒ†ãƒ ï¼ˆã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã€å­¦ç¿’æ—…ç¨‹ã€è¨˜æ†¶ã€ãƒ—ãƒ­ãƒƒãƒˆã€åˆ†æã€ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã€ä¼ç·šã€ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ï¼‰ã‹ã‚‰ä¸¦åˆ—ã«ãƒ‡ãƒ¼ã‚¿ã‚’åé›†ã—ã€è¶…é«˜å¯†åº¦ãªçµ±åˆãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’ç”Ÿæˆã™ã‚‹æ‰‹æ³•ã€‚`Promise.allSettled()` ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã§ã€1ã¤ã®ã‚·ã‚¹ãƒ†ãƒ ãŒå¤±æ•—ã—ã¦ã‚‚å…¨ä½“ã®å‡¦ç†ãŒç¶™ç¶šã§ãã‚‹ã€‚",
    "project": "novel-automation-system-v2",
    "usedIn": [
      "src/lib/generation/prompt-generator.ts:145-184"
    ],
    "code": "```json\n{\n  \"id\": \"skill_eight_system_integrated_prompt_generation_2025_11_25\",\n  \"type\": \"skill\",\n  \"name\": \"8å¤§ã‚·ã‚¹ãƒ†ãƒ çµ±åˆãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”Ÿæˆ\",\n  \"tags\": [\"ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚°\", \"ä¸¦åˆ—å‡¦ç†\", \"ã‚·ã‚¹ãƒ†ãƒ çµ±åˆ\", \"å°èª¬ç”Ÿæˆ\", \"AI\", \"ãƒ‡ãƒ¼ã‚¿åé›†\", \"é«˜å¯†åº¦ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ\"],\n  \"source_project\": \"novel-automation-system-v2\",\n  \"source_file\": \"src/lib/generation/prompt-generator.ts:145-184\",\n  \"related_knowledge\": [\n    \"decision_promise_allsettled_vs_all_2025_11_25\",\n    \"workflow_chapter_generation_full_flow_2025_11_25\"\n  ],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# 8å¤§ã‚·ã‚¹ãƒ†ãƒ çµ±åˆãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”Ÿæˆ\n\n## ä½•ã‚’ã™ã‚‹ã‚¹ã‚­ãƒ«ã‹\n\n8ã¤ã®ç‹¬ç«‹ã—ãŸã‚·ã‚¹ãƒ†ãƒ ï¼ˆã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã€å­¦ç¿’æ—…ç¨‹ã€è¨˜æ†¶ã€ãƒ—ãƒ­ãƒƒãƒˆã€åˆ†æã€ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã€ä¼ç·šã€ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ï¼‰ã‹ã‚‰ä¸¦åˆ—ã«ãƒ‡ãƒ¼ã‚¿ã‚’åé›†ã—ã€è¶…é«˜å¯†åº¦ãªçµ±åˆãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’ç”Ÿæˆã™ã‚‹æ‰‹æ³•ã€‚`Promise.allSettled()` ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã§ã€1ã¤ã®ã‚·ã‚¹ãƒ†ãƒ ãŒå¤±æ•—ã—ã¦ã‚‚å…¨ä½“ã®å‡¦ç†ãŒç¶™ç¶šã§ãã‚‹ã€‚\n\n## å…·ä½“çš„ãªæ‰‹æ³•\n\n### 3ãƒ•ã‚§ãƒ¼ã‚ºã®å‡¦ç†ãƒ•ãƒ­ãƒ¼\n\n**PHASE 1: 8å¤§ã‚·ã‚¹ãƒ†ãƒ ä¸¦åˆ—ãƒ‡ãƒ¼ã‚¿åé›†**\n```typescript\n// src/lib/generation/prompt-generator.ts:145-184\nprivate async collect8SystemsDataParallel(context: GenerationContext): Promise<RevolutionaryIntegratedData> {\n  const chapterNumber = context.chapterNumber;\n\n  // 8ã¤ã®ã‚·ã‚¹ãƒ†ãƒ ã‚’ä¸¦åˆ—å®Ÿè¡Œï¼ˆPromise.allSettledä½¿ç”¨ï¼‰\n  const results = await Promise.allSettled([\n    this.collectCharacterSystemData(chapterNumber),      // 1. ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼\n    this.collectLearningSystemData(chapterNumber, context), // 2. å­¦ç¿’æ—…ç¨‹\n    this.collectMemorySystemData(chapterNumber),         // 3. è¨˜æ†¶\n    this.collectPlotSystemData(chapterNumber),           // 4. ãƒ—ãƒ­ãƒƒãƒˆ\n    this.collectAnalysisSystemData(chapterNumber, context), // 5. åˆ†æ\n    this.collectParameterSystemData(),                   // 6. ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿\n    this.collectForeshadowingSystemData(chapterNumber),  // 7. ä¼ç·š\n    this.collectLifecycleSystemData()                    // 8. ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«\n  ]);\n\n  // å„çµæœã‚’å®‰å…¨ã«æŠ½å‡ºï¼ˆå¤±æ•—ãŒã‚ã£ã¦ã‚‚continueï¼‰\n  return {\n    characterSystem: this.extractSystemData(results[0], 'character'),\n    learningSystem: this.extractSystemData(results[1], 'learning'),\n    memorySystem: this.extractSystemData(results[2], 'memory'),\n    plotSystem: this.extractSystemData(results[3], 'plot'),\n    analysisSystem: this.extractSystemData(results[4], 'analysis'),\n    parameterSystem: this.extractSystemData(results[5], 'parameter'),\n    foreshadowingSystem: this.extractSystemData(results[6], 'foreshadowing'),\n    lifecycleSystem: this.extractSystemData(results[7], 'lifecycle')\n  };\n}\n```\n\n**PHASE 2: çµ±åˆã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆæ§‹ç¯‰**\n```typescript\nprivate async buildRevolutionaryContext(\n  context: GenerationContext,\n  integratedData: RevolutionaryIntegratedData\n): Promise<EnhancedContext> {\n  return {\n    // ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼æƒ…å ±çµ±åˆ\n    characters: this.integrateCharacterInfo(integratedData.characterSystem),\n    // å­¦ç¿’æ—…ç¨‹çµ±åˆ\n    learningJourney: this.integrateLearningJourney(integratedData.learningSystem),\n    // ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆæ§‹ç¯‰\n    storyContext: this.buildStoryContext(integratedData.memorySystem, integratedData.plotSystem),\n    // ãƒ—ãƒ­ãƒƒãƒˆæŒ‡ç¤ºæ§‹ç¯‰\n    plotDirective: this.buildPlotDirective(integratedData.plotSystem, integratedData.foreshadowingSystem),\n    // ã‚¹ã‚¿ã‚¤ãƒ«ã‚¬ã‚¤ãƒ€ãƒ³ã‚¹\n    styleGuidance: this.buildStyleGuidance(integratedData.analysisSystem, integratedData.parameterSystem),\n    // ä¼ç·šæƒ…å ±\n    foreshadowing: this.buildForeshadowingContext(integratedData.foreshadowingSystem)\n  };\n}\n```\n\n**PHASE 3: è¶…é«˜å¯†åº¦ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”Ÿæˆ**\n```typescript\nasync generate(context: GenerationContext): Promise<string> {\n  // PHASE 1: ãƒ‡ãƒ¼ã‚¿åé›†\n  const integratedData = await this.collect8SystemsDataParallel(context);\n\n  // PHASE 2: ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆæ§‹ç¯‰\n  const revolutionaryContext = await this.buildRevolutionaryContext(context, integratedData);\n\n  // PHASE 3: ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”Ÿæˆ\n  const revolutionaryPrompt = await this.generateRevolutionaryPrompt(revolutionaryContext, integratedData);\n\n  return revolutionaryPrompt;\n}\n```\n\n### ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°\n\n```typescript\n// å®‰å…¨ãªãƒ‡ãƒ¼ã‚¿æŠ½å‡ºï¼ˆå¤±æ•—æ™‚ã¯ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ï¼‰\nprivate extractSystemData<T>(\n  result: PromiseSettledResult<T>,\n  systemName: string\n): T | null {\n  if (result.status === 'fulfilled') {\n    return result.value;\n  } else {\n    console.warn(`${systemName} system failed:`, result.reason);\n    // ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ãƒ‡ãƒ¼ã‚¿ã‚’è¿”ã™\n    return this.getFallbackData(systemName);\n  }\n}\n```\n\n## ãªãœã“ã®æ‰‹æ³•ã‚’ä½¿ã†ã‹\n\n### ç†ç”±1: ä¸¦åˆ—å‡¦ç†ã«ã‚ˆã‚‹åŠ‡çš„ãªæ™‚é–“çŸ­ç¸®\n\n**åŠ¹æœ**: ãƒ‡ãƒ¼ã‚¿åé›†æ™‚é–“ã‚’ç´„80%å‰Šæ¸›\n\n- **å¾“æ¥ï¼ˆé †æ¬¡å®Ÿè¡Œï¼‰**: å„ã‚·ã‚¹ãƒ†ãƒ å¹³å‡3ç§’ Ã— 8 = 24ç§’\n- **ç¾åœ¨ï¼ˆä¸¦åˆ—å®Ÿè¡Œï¼‰**: æœ€å¤§3ç§’ï¼ˆæœ€ã‚‚é…ã„ã‚·ã‚¹ãƒ†ãƒ ã«ä¾å­˜ï¼‰\n- **å‰Šæ¸›ç‡**: 21ç§’å‰Šæ¸›ï¼ˆ87.5%ï¼‰\n\n### ç†ç”±2: å†—é•·æ€§ã¨ä¿¡é ¼æ€§ã®å‘ä¸Š\n\n`Promise.allSettled()` ã«ã‚ˆã‚Šï¼š\n- 1ã¤ã®ã‚·ã‚¹ãƒ†ãƒ å¤±æ•—ãŒå…¨ä½“ã«å½±éŸ¿ã—ãªã„\n- éƒ¨åˆ†çš„ãªãƒ‡ãƒ¼ã‚¿ã§ã‚‚ç”Ÿæˆç¶™ç¶šå¯èƒ½ï¼ˆã‚°ãƒ¬ãƒ¼ã‚¹ãƒ•ãƒ«ãƒ‡ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ï¼‰\n- å„ã‚·ã‚¹ãƒ†ãƒ ã®å¤±æ•—ã‚’å€‹åˆ¥ã«ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°ãƒ»ãƒ­ã‚°è¨˜éŒ²å¯èƒ½\n\n### ç†ç”±3: æƒ…å ±å¯†åº¦ã®åŠ‡çš„å‘ä¸Š\n\n8ã¤ã®æƒ…å ±æºã‹ã‚‰çµ±åˆãƒ‡ãƒ¼ã‚¿ã‚’ä½œæˆã™ã‚‹ã“ã¨ã§ï¼š\n- ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆå“è³ªãŒç´„100å€å‘ä¸Šï¼ˆå˜ä¸€ã‚·ã‚¹ãƒ†ãƒ ã¨æ¯”è¼ƒï¼‰\n- ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼å¿ƒç†ã€å­¦ç¿’é€²æ—ã€è¨˜æ†¶ã€ãƒ—ãƒ­ãƒƒãƒˆã€å“è³ªæŒ‡æ¨™ãªã©å¤šè§’çš„ãªæƒ…å ±ã‚’å«ã‚€\n- ä¸€è²«æ€§ã¨æ·±ã•ã‚’ä¸¡ç«‹\n\n## å†ç¾æ–¹æ³•\n\n### ã‚¹ãƒ†ãƒƒãƒ—1: ã‚·ã‚¹ãƒ†ãƒ åé›†é–¢æ•°ã®å®Ÿè£…\n\n```typescript\n// å„ã‚·ã‚¹ãƒ†ãƒ ã®ãƒ‡ãƒ¼ã‚¿åé›†é–¢æ•°ã‚’å®Ÿè£…\nprivate async collectCharacterSystemData(chapterNumber: number) {\n  const allCharacters = await this.characterManager.getAllCharacters();\n  const mainCharacters = await this.characterManager.getCharactersByType('main');\n  const dynamicStates = await this.characterManager.getDynamicStates(chapterNumber);\n\n  return { allCharacters, mainCharacters, dynamicStates };\n}\n\nprivate async collectLearningSystemData(chapterNumber: number, context: GenerationContext) {\n  const currentJourney = await this.learningJourneyManager.getCurrentJourney(chapterNumber);\n  const stageAnalysis = await this.learningJourneyManager.getStageAnalysis();\n  const emotionalArcs = await this.learningJourneyManager.getEmotionalArcs();\n\n  return { currentJourney, stageAnalysis, emotionalArcs };\n}\n\n// ... ä»–6ã¤ã®ã‚·ã‚¹ãƒ†ãƒ ã‚‚åŒæ§˜\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2: Promise.allSettled ã§ä¸¦åˆ—å®Ÿè¡Œ\n\n```typescript\nconst results = await Promise.allSettled([\n  system1(), system2(), ..., system8()\n]);\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3: çµæœã®å®‰å…¨ãªæŠ½å‡º\n\n```typescript\nconst data = results.map((result, index) => {\n  if (result.status === 'fulfilled') {\n    return result.value;\n  } else {\n    console.warn(`System ${index} failed:`, result.reason);\n    return getFallbackData(index);\n  }\n});\n```\n\n## ã„ã¤ä½¿ã†ã‹\n\n- **è¤‡æ•°ã®ç‹¬ç«‹ã—ãŸãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ã‹ã‚‰æƒ…å ±ã‚’åé›†ã™ã‚‹å¿…è¦ãŒã‚ã‚‹å ´åˆ**\n- **ãƒ‡ãƒ¼ã‚¿åé›†æ™‚é–“ã‚’æœ€å°åŒ–ã—ãŸã„å ´åˆ**\n- **éƒ¨åˆ†çš„ãªå¤±æ•—ã‚’è¨±å®¹ã—ã¤ã¤ã€å¯èƒ½ãªé™ã‚Šã®ãƒ‡ãƒ¼ã‚¿ã§å‡¦ç†ã‚’ç¶™ç¶šã—ãŸã„å ´åˆ**\n- **é«˜å“è³ªãªAIç”Ÿæˆã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ä½œæˆã™ã‚‹éš›ã«å¤šè§’çš„ãªæƒ…å ±ã‚’çµ±åˆã—ãŸã„å ´åˆ**\n\nå…·ä½“ä¾‹ï¼š\n- ç« ç”Ÿæˆæ™‚ã®ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆä½œæˆ\n- ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼åˆ†æãƒ¬ãƒãƒ¼ãƒˆä½œæˆ\n- ãƒ—ãƒ­ãƒƒãƒˆä¸€è²«æ€§ãƒã‚§ãƒƒã‚¯\n- å“è³ªè©•ä¾¡ã®ç·åˆåˆ†æ\n\n## æ³¨æ„ç‚¹\n\n### 1. ãƒ‡ãƒ¼ã‚¿ã®ä¾å­˜é–¢ä¿‚ã«æ³¨æ„\n\nå„ã‚·ã‚¹ãƒ†ãƒ ãŒå®Œå…¨ã«ç‹¬ç«‹ã—ã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªï¼š\n```typescript\n// âŒ æ‚ªã„ä¾‹ï¼šsystem2ãŒsystem1ã®çµæœã«ä¾å­˜\nconst data1 = await system1();\nconst data2 = await system2(data1); // ä¾å­˜ã‚ã‚Š\n\n// âœ… è‰¯ã„ä¾‹ï¼šã™ã¹ã¦ç‹¬ç«‹\nawait Promise.allSettled([system1(), system2()]);\n```\n\n### 2. ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ãƒ‡ãƒ¼ã‚¿ã®å“è³ª\n\nå¤±æ•—æ™‚ã®ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ãƒ‡ãƒ¼ã‚¿ã¯ã€æœ€å°é™ã®æƒ…å ±ã§ã‚‚å‡¦ç†ç¶™ç¶šã§ãã‚‹ã‚ˆã†ã«è¨­è¨ˆï¼š\n```typescript\nprivate getFallbackData(systemName: string) {\n  switch(systemName) {\n    case 'character':\n      return { allCharacters: [], mainCharacters: [] }; // ç©ºé…åˆ—\n    case 'learning':\n      return { currentJourney: defaultJourney }; // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤\n    // ...\n  }\n}\n```\n\n### 3. ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°\n\nå„ã‚·ã‚¹ãƒ†ãƒ ã®å‡¦ç†æ™‚é–“ã‚’ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°ï¼š\n```typescript\nconst startTime = Date.now();\nconst results = await Promise.allSettled(systems);\nconst duration = Date.now() - startTime;\n\nconsole.log(`8 systems collected in ${duration}ms`);\nresults.forEach((result, i) => {\n  if (result.status === 'rejected') {\n    console.warn(`System ${i} failed`);\n  }\n});\n```\n\n### 4. ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡\n\n8ã¤ã®ã‚·ã‚¹ãƒ†ãƒ ãŒåŒæ™‚ã«å‹•ä½œã™ã‚‹ãŸã‚ã€ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡ãŒå¢—åŠ ï¼š\n- æ¨å®š: å„ã‚·ã‚¹ãƒ†ãƒ å¹³å‡10-50MB â†’ åˆè¨ˆ80-400MB\n- å¯¾ç­–: ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®é©åˆ‡ãªç®¡ç†ã€ä¸è¦ãªãƒ‡ãƒ¼ã‚¿ã®æ—©æœŸè§£æ”¾\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `decision_promise_allsettled_vs_all_2025_11_25.md` - ãªãœ Promise.allSettled() ã‚’é¸ã‚“ã ã‹\n- `workflow_chapter_generation_full_flow_2025_11_25.md` - ã“ã®æ‰‹æ³•ã‚’ä½¿ã†å®Œå…¨ãªãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼\n- `skill_cache_coordination_techniques_2025_11_25.md` - ã‚­ãƒ£ãƒƒã‚·ãƒ¥æœ€é©åŒ–ã«ã‚ˆã‚‹ã•ã‚‰ãªã‚‹é«˜é€ŸåŒ–\n",
    "prompt": "### ã‚¹ãƒ†ãƒƒãƒ—1: ã‚·ã‚¹ãƒ†ãƒ åé›†é–¢æ•°ã®å®Ÿè£…\n\n```typescript\n// å„ã‚·ã‚¹ãƒ†ãƒ ã®ãƒ‡ãƒ¼ã‚¿åé›†é–¢æ•°ã‚’å®Ÿè£…\nprivate async collectCharacterSystemData(chapterNumber: number) {\n  const allCharacters = await this.characterManager.getAllCharacters();\n  const mainCharacters = await this.characterManager.getCharactersByType('main');\n  const dynamicStates = await this.characterManager.getDynamicStates(chapterNumber);\n\n  return { allCharacters, mainCharacters, dynamicStates };\n}\n\nprivate async collectLearningSystemData(chapterNumber: number, context: GenerationContext) {\n  const currentJourney = await this.learningJourneyManager.getCurrentJourney(chapterNumber);\n  const stageAnalysis = await this.learningJourneyManager.getStageAnalysis();\n  const emotionalArcs = await this.learningJourneyManager.getEmotionalArcs();\n\n  return { currentJourney, stageAnalysis, emotionalArcs };\n}\n\n// ... ä»–6ã¤ã®ã‚·ã‚¹ãƒ†ãƒ ã‚‚åŒæ§˜\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2: Promise.allSettled ã§ä¸¦åˆ—å®Ÿè¡Œ\n\n```typescript\nconst results = await Promise.allSettled([\n  system1(), system2(), ..., system8()\n]);\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3: çµæœã®å®‰å…¨ãªæŠ½å‡º\n\n```typescript\nconst data = results.map((result, index) => {\n  if (result.status === 'fulfilled') {\n    return result.value;\n  } else {\n    console.warn(`System ${index} failed:`, result.reason);\n    return getFallbackData(index);\n  }\n});\n```",
    "relatedTech": [
      "decision-promise-allsettled-vs-all",
      "workflow-chapter-generation-full-flow"
    ]
  },
  {
    "slug": "eight-system-parallel-integration-architecture",
    "title": "8å¤§ã‚·ã‚¹ãƒ†ãƒ ä¸¦åˆ—çµ±åˆã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£",
    "category": "Skillsï¼ˆã‚¹ã‚­ãƒ«ãƒ»æ‰‹æ³•ï¼‰",
    "description": "AIå°èª¬ç”Ÿæˆã«ãŠã„ã¦ã€8ã¤ã®ç•°ãªã‚‹ã‚·ã‚¹ãƒ†ãƒ ï¼ˆã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã€å­¦ç¿’æ—…ç¨‹ã€è¨˜æ†¶ã€ãƒ—ãƒ­ãƒƒãƒˆã€åˆ†æã€ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã€ä¼ç·šã€ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ï¼‰ã®ãƒ‡ãƒ¼ã‚¿ã‚’ä¸¦åˆ—ã«åé›†ã—ã€çµ±åˆã—ã¦è¶…é«˜å¯†åº¦ãªã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚’æ§‹ç¯‰ã™ã‚‹æ‰‹æ³•ã€‚",
    "project": "novel-automation-system-v2",
    "usedIn": [
      "src/lib/generation/prompt-generator.ts:1-350"
    ],
    "code": "```json\n{\n  \"id\": \"skill_eight_system_parallel_integration_2025_11_25\",\n  \"type\": \"skill\",\n  \"name\": \"8å¤§ã‚·ã‚¹ãƒ†ãƒ ä¸¦åˆ—çµ±åˆã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£\",\n  \"tags\": [\"AIç”Ÿæˆ\", \"ã‚·ã‚¹ãƒ†ãƒ çµ±åˆ\", \"ä¸¦åˆ—å‡¦ç†\", \"ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚°\", \"ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£\", \"å°èª¬ç”Ÿæˆ\", \"ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆçµ±åˆ\"],\n  \"source_project\": \"novel-automation-system-v2\",\n  \"source_file\": \"src/lib/generation/prompt-generator.ts:1-350\",\n  \"related_knowledge\": [\n    \"decision_eight_system_integration_design_2025_11_25\",\n    \"skill_context_generation_system_2025_11_25\",\n    \"workflow_prompt_generation_three_phase_2025_11_25\"\n  ],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# 8å¤§ã‚·ã‚¹ãƒ†ãƒ ä¸¦åˆ—çµ±åˆã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£\n\n## ä½•ã‚’ã™ã‚‹ã‚¹ã‚­ãƒ«ã‹\n\nAIå°èª¬ç”Ÿæˆã«ãŠã„ã¦ã€8ã¤ã®ç•°ãªã‚‹ã‚·ã‚¹ãƒ†ãƒ ï¼ˆã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã€å­¦ç¿’æ—…ç¨‹ã€è¨˜æ†¶ã€ãƒ—ãƒ­ãƒƒãƒˆã€åˆ†æã€ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã€ä¼ç·šã€ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ï¼‰ã®ãƒ‡ãƒ¼ã‚¿ã‚’ä¸¦åˆ—ã«åé›†ã—ã€çµ±åˆã—ã¦è¶…é«˜å¯†åº¦ãªã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚’æ§‹ç¯‰ã™ã‚‹æ‰‹æ³•ã€‚\n\n## å…·ä½“çš„ãªæ‰‹æ³•\n\n### 8å¤§ã‚·ã‚¹ãƒ†ãƒ ã®æ§‹æˆ\n\n1. **ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã‚·ã‚¹ãƒ†ãƒ ** - å…¨ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼æƒ…å ±ã€å‹•çš„çŠ¶æ…‹ã€å¿ƒç†ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ã€é–¢ä¿‚æ€§ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã€æˆé•·è»Œé“\n2. **å­¦ç¿’æ—…ç¨‹ã‚·ã‚¹ãƒ†ãƒ ** - ç¾åœ¨ã®å­¦ç¿’æ®µéšã€æ„Ÿæƒ…ã‚¢ãƒ¼ã‚¯ã€ã‚«ã‚¿ãƒ«ã‚·ã‚¹æ©Ÿä¼šã€çŸ¥è­˜çµ±åˆãƒ‘ã‚¹\n3. **è¨˜æ†¶çµ±åˆã‚·ã‚¹ãƒ†ãƒ ** - çŸ­æœŸãƒ»ä¸­æœŸãƒ»é•·æœŸè¨˜æ†¶ã®çµ±åˆã€ã‚¯ãƒ­ã‚¹ãƒ¬ãƒ™ãƒ«ãƒ‡ãƒ¼ã‚¿åˆ†æã€æ™‚ç³»åˆ—ãƒŠãƒ©ãƒ†ã‚£ãƒ–\n4. **ãƒ—ãƒ­ãƒƒãƒˆã‚·ã‚¹ãƒ†ãƒ ** - ä¸–ç•Œè¨­å®šã€ãƒ—ãƒ­ãƒƒãƒˆæŒ‡ç¤ºã€ã‚¢ãƒ¼ã‚¯é€²è¡Œã€æ¬¡ç« è¨ˆç”»\n5. **åˆ†æã‚·ã‚¹ãƒ†ãƒ ** - å“è³ªãƒ¡ãƒˆãƒªã‚¯ã‚¹ã€æ–‡ä½“åˆ†æã€ãƒ†ãƒ³ã‚·ãƒ§ãƒ³ãƒ»ãƒšãƒ¼ã‚·ãƒ³ã‚°æœ€é©åŒ–\n6. **ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚·ã‚¹ãƒ†ãƒ ** - ç”Ÿæˆãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ç®¡ç†ã€æœ€é©åŒ–è¨­å®š\n7. **ä¼ç·šçµ±åˆã‚·ã‚¹ãƒ†ãƒ ** - ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ä¼ç·šã€è§£æ±ºè¨ˆç”»ã€çµ±åˆæ©Ÿä¼šèªè­˜\n8. **ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ã‚·ã‚¹ãƒ†ãƒ ** - ã‚·ã‚¹ãƒ†ãƒ ãƒ˜ãƒ«ã‚¹ç›£è¦–ã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ¡ãƒˆãƒªã‚¯ã‚¹\n\n### ä¸¦åˆ—çµ±åˆã®å®Ÿè£…\n\n```typescript\n// PHASE 1: 8å¤§ã‚·ã‚¹ãƒ†ãƒ ä¸¦åˆ—ãƒ‡ãƒ¼ã‚¿åé›†\nconst systemDataResults = await Promise.allSettled([\n  this.collectCharacterData(chapterNumber),      // System 1\n  this.collectLearningJourneyData(chapterNumber), // System 2\n  this.collectMemoryData(chapterNumber),          // System 3\n  this.collectPlotData(chapterNumber),            // System 4\n  this.collectAnalysisData(chapterNumber),        // System 5\n  this.collectParameterData(chapterNumber),       // System 6\n  this.collectForeshadowingData(chapterNumber),   // System 7\n  this.collectLifecycleData(chapterNumber)        // System 8\n]);\n\n// ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°: å€‹åˆ¥å¤±æ•—æ™‚ã‚‚ç¶™ç¶š\nconst systemData: EightSystemsData = {\n  character: this.extractFulfilledValue(systemDataResults[0]),\n  learningJourney: this.extractFulfilledValue(systemDataResults[1]),\n  memory: this.extractFulfilledValue(systemDataResults[2]),\n  plot: this.extractFulfilledValue(systemDataResults[3]),\n  analysis: this.extractFulfilledValue(systemDataResults[4]),\n  parameters: this.extractFulfilledValue(systemDataResults[5]),\n  foreshadowing: this.extractFulfilledValue(systemDataResults[6]),\n  lifecycle: this.extractFulfilledValue(systemDataResults[7])\n};\n```\n\n### çµ±åˆåº¦ã®è¨ˆç®—\n\n```typescript\n// çµ±åˆã•ã‚ŒãŸã‚·ã‚¹ãƒ†ãƒ æ•°ã‚’ã‚«ã‚¦ãƒ³ãƒˆ\nconst integratedCount = Object.values(systemData)\n  .filter(data => data !== null && data !== undefined)\n  .length;\n\nconst integrationRate = (integratedCount / 8) * 100;\nconst qualityImprovement = Math.min(integrationRate * 1.25, 100);\n\nconsole.log(`çµ±åˆåº¦: ${integrationRate}% (${integratedCount}/8ã‚·ã‚¹ãƒ†ãƒ )`);\nconsole.log(`å“è³ªå‘ä¸Šäºˆæ¸¬: ${qualityImprovement}%`);\n```\n\n## ãªãœã“ã®æ‰‹æ³•ã‚’ä½¿ã†ã‹\n\n### ç†ç”±1: æƒ…å ±å¯†åº¦ã®æœ€å¤§åŒ–\n\nå¾“æ¥ã®é€æ¬¡çš„ãƒ‡ãƒ¼ã‚¿åé›†ã§ã¯ã€ã‚·ã‚¹ãƒ†ãƒ é–“ã®ç›¸äº’ä½œç”¨ãŒè¦‹ãˆã«ããã€ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã«å«ã‚ã‚‰ã‚Œã‚‹æƒ…å ±é‡ãŒé™ã‚‰ã‚Œã¦ã„ãŸã€‚ä¸¦åˆ—çµ±åˆã«ã‚ˆã‚Šã€8ã¤ã®è¦–ç‚¹ã‹ã‚‰åŒæ™‚ã«ç‰©èªã‚’åˆ†æã—ã€æœ€å¤§é™ã®æƒ…å ±ã‚’AIã«æä¾›ã§ãã‚‹ã€‚\n\n### ç†ç”±2: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã®å‘ä¸Š\n\n8ã¤ã®ãƒ‡ãƒ¼ã‚¿åé›†ã‚¿ã‚¹ã‚¯ã‚’ä¸¦åˆ—å®Ÿè¡Œã™ã‚‹ã“ã¨ã§ã€é€æ¬¡å®Ÿè¡Œã¨æ¯”è¼ƒã—ã¦æœ€å¤§8å€ã®é€Ÿåº¦å‘ä¸ŠãŒæœŸå¾…ã§ãã‚‹ï¼ˆå®Ÿéš›ã«ã¯I/Oå¾…æ©Ÿæ™‚é–“ã«ã‚ˆã‚Š3-5å€ç¨‹åº¦ï¼‰ã€‚\n\n### ç†ç”±3: ä¸€è²«æ€§ã®ç¢ºä¿\n\nã™ã¹ã¦ã®ã‚·ã‚¹ãƒ†ãƒ ãŒåŒã˜ãƒãƒ£ãƒ—ã‚¿ãƒ¼ç•ªå·ã‚’ãƒ™ãƒ¼ã‚¹ã«åŒæ™‚ã«ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã™ã‚‹ãŸã‚ã€ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã®ãšã‚Œã«ã‚ˆã‚‹ä¸æ•´åˆã‚’é˜²ã’ã‚‹ã€‚\n\n### ç†ç”±4: éšœå®³è€æ€§\n\n`Promise.allSettled()`ã«ã‚ˆã‚Šã€ä¸€éƒ¨ã®ã‚·ã‚¹ãƒ†ãƒ ãŒå¤±æ•—ã—ã¦ã‚‚ä»–ã®ã‚·ã‚¹ãƒ†ãƒ ã®ãƒ‡ãƒ¼ã‚¿ã¯æ­£å¸¸ã«å–å¾—ã§ãã‚‹ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€éƒ¨åˆ†çš„ãªãƒ‡ãƒ¼ã‚¿ã§ã‚‚ç”Ÿæˆã‚’ç¶™ç¶šã§ãã‚‹ã€‚\n\n## å†ç¾æ–¹æ³•\n\n### ã‚¹ãƒ†ãƒƒãƒ—1: å„ã‚·ã‚¹ãƒ†ãƒ ã®ãƒ‡ãƒ¼ã‚¿åé›†é–¢æ•°ã‚’å®šç¾©\n\n```typescript\nprivate async collectCharacterData(chapterNumber: number) {\n  try {\n    const characters = await this.characterManager.getAllCharacters();\n    const states = await this.characterManager.getCharacterStates(chapterNumber);\n    const relationships = await this.characterManager.getRelationships();\n\n    return { characters, states, relationships };\n  } catch (error) {\n    console.error('ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿åé›†ã‚¨ãƒ©ãƒ¼:', error);\n    return null; // ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯\n  }\n}\n\n// ä»–ã®7ã‚·ã‚¹ãƒ†ãƒ ã‚‚åŒæ§˜ã«å®Ÿè£…...\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2: Promise.allSettled()ã§ä¸¦åˆ—å®Ÿè¡Œ\n\n```typescript\nconst results = await Promise.allSettled([\n  this.collectCharacterData(chapterNumber),\n  this.collectLearningJourneyData(chapterNumber),\n  // ... æ®‹ã‚Š6ã‚·ã‚¹ãƒ†ãƒ \n]);\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3: çµæœã®æŠ½å‡ºã¨çµ±åˆ\n\n```typescript\nprivate extractFulfilledValue<T>(result: PromiseSettledResult<T>): T | null {\n  if (result.status === 'fulfilled') {\n    return result.value;\n  }\n  return null; // rejected ã®å ´åˆ\n}\n\nconst integratedData: EightSystemsData = {\n  character: this.extractFulfilledValue(results[0]),\n  learningJourney: this.extractFulfilledValue(results[1]),\n  // ... æ®‹ã‚Š6ã‚·ã‚¹ãƒ†ãƒ \n};\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—4: çµ±åˆã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã®æ§‹ç¯‰\n\n```typescript\nconst integratedContext: RevolutionaryIntegratedData = {\n  basicContext: baseContext,\n  revolutionaryIntegration: {\n    characterSystem: integratedData.character,\n    learningJourneySystem: integratedData.learningJourney,\n    memorySystem: integratedData.memory,\n    plotSystem: integratedData.plot,\n    analysisSystem: integratedData.analysis,\n    parameterSystem: integratedData.parameters,\n    foreshadowingSystem: integratedData.foreshadowing,\n    lifecycleSystem: integratedData.lifecycle\n  },\n  integrationMetrics: {\n    integrationRate,\n    qualityImprovement,\n    systemsIntegrated: integratedCount\n  }\n};\n```\n\n## ã„ã¤ä½¿ã†ã‹\n\n- AIå°èª¬ã®ç« ç”Ÿæˆæ™‚ï¼ˆæ¯å›ï¼‰\n- é«˜å“è³ªãªæ–‡ç« ç”ŸæˆãŒå¿…è¦ãªå ´é¢\n- è¤‡æ•°ã®ã‚·ã‚¹ãƒ†ãƒ é–“ã®æƒ…å ±ã‚’çµ±åˆã—ãŸã„å ´åˆ\n- ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã€ãƒ—ãƒ­ãƒƒãƒˆã€è¨˜æ†¶ãªã©ã®ä¸€è²«æ€§ãŒé‡è¦ãªå ´åˆ\n- å¤§è¦æ¨¡ãªã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚’åŠ¹ç‡çš„ã«åé›†ã—ãŸã„å ´åˆ\n\n## æ³¨æ„ç‚¹\n\n### æ³¨æ„1: ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã®é‡è¦æ€§\n\nã™ã¹ã¦ã®ãƒ‡ãƒ¼ã‚¿åé›†é–¢æ•°ã§ try-catch ã‚’å®Ÿè£…ã—ã€å€‹åˆ¥å¤±æ•—æ™‚ã‚‚ null ã‚’è¿”ã™ã“ã¨ã§å…¨ä½“ã®å‡¦ç†ã‚’ç¶™ç¶šã•ã›ã‚‹ã€‚\n\n### æ³¨æ„2: ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆè¨­å®š\n\nä¸¦åˆ—å®Ÿè¡Œã§ã‚‚ã€ä¸€ã¤ã®ã‚·ã‚¹ãƒ†ãƒ ãŒé…å»¶ã™ã‚‹ã¨å…¨ä½“ãŒå¾…ãŸã•ã‚Œã‚‹ã€‚å„ãƒ‡ãƒ¼ã‚¿åé›†é–¢æ•°ã«ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã‚’è¨­å®šã™ã‚‹ã“ã¨ã‚’æ¨å¥¨ã€‚\n\n```typescript\nconst timeout = (ms: number) => new Promise((_, reject) =>\n  setTimeout(() => reject(new Error('Timeout')), ms)\n);\n\nPromise.race([\n  this.collectCharacterData(chapterNumber),\n  timeout(5000) // 5ç§’ã§ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ\n]);\n```\n\n### æ³¨æ„3: ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡\n\n8ã‚·ã‚¹ãƒ†ãƒ åˆ†ã®ãƒ‡ãƒ¼ã‚¿ã‚’åŒæ™‚ã«ãƒ¡ãƒ¢ãƒªã«ä¿æŒã™ã‚‹ãŸã‚ã€ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡ãŒå¢—åŠ ã™ã‚‹ã€‚å¤§è¦æ¨¡ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯ç›£è¦–ãŒå¿…è¦ã€‚\n\n### æ³¨æ„4: ä¾å­˜é–¢ä¿‚ã®ç®¡ç†\n\nå„ã‚·ã‚¹ãƒ†ãƒ ã¯ç‹¬ç«‹ã—ã¦å‹•ä½œã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã€‚ã‚·ã‚¹ãƒ†ãƒ é–“ã«ä¾å­˜é–¢ä¿‚ãŒã‚ã‚‹å ´åˆã¯ã€åˆæœŸåŒ–é †åºã‚’é©åˆ‡ã«ç®¡ç†ã™ã‚‹ã€‚\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `decision_eight_system_integration_design_2025_11_25.md`ï¼šãªãœ8ã‚·ã‚¹ãƒ†ãƒ çµ±åˆã‚’é¸æŠã—ãŸã‹\n- `skill_context_generation_system_2025_11_25.md`ï¼šçµ±åˆã—ãŸãƒ‡ãƒ¼ã‚¿ã‚’ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã«å¤‰æ›ã™ã‚‹æ–¹æ³•\n- `workflow_prompt_generation_three_phase_2025_11_25.md`ï¼šã“ã®æ‰‹æ³•ã‚’å«ã‚€å…¨ä½“ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼\n",
    "prompt": "### ã‚¹ãƒ†ãƒƒãƒ—1: å„ã‚·ã‚¹ãƒ†ãƒ ã®ãƒ‡ãƒ¼ã‚¿åé›†é–¢æ•°ã‚’å®šç¾©\n\n```typescript\nprivate async collectCharacterData(chapterNumber: number) {\n  try {\n    const characters = await this.characterManager.getAllCharacters();\n    const states = await this.characterManager.getCharacterStates(chapterNumber);\n    const relationships = await this.characterManager.getRelationships();\n\n    return { characters, states, relationships };\n  } catch (error) {\n    console.error('ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿åé›†ã‚¨ãƒ©ãƒ¼:', error);\n    return null; // ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯\n  }\n}\n\n// ä»–ã®7ã‚·ã‚¹ãƒ†ãƒ ã‚‚åŒæ§˜ã«å®Ÿè£…...\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2: Promise.allSettled()ã§ä¸¦åˆ—å®Ÿè¡Œ\n\n```typescript\nconst results = await Promise.allSettled([\n  this.collectCharacterData(chapterNumber),\n  this.collectLearningJourneyData(chapterNumber),\n  // ... æ®‹ã‚Š6ã‚·ã‚¹ãƒ†ãƒ \n]);\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3: çµæœã®æŠ½å‡ºã¨çµ±åˆ\n\n```typescript\nprivate extractFulfilledValue<T>(result: PromiseSettledResult<T>): T | null {\n  if (result.status === 'fulfilled') {\n    return result.value;\n  }\n  return null; // rejected ã®å ´åˆ\n}\n\nconst integratedData: EightSystemsData = {\n  character: this.extractFulfilledValue(results[0]),\n  learningJourney: this.extractFulfilledValue(results[1]),\n  // ... æ®‹ã‚Š6ã‚·ã‚¹ãƒ†ãƒ \n};\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—4: çµ±åˆã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã®æ§‹ç¯‰\n\n```typescript\nconst integratedContext: RevolutionaryIntegratedData = {\n  basicContext: baseContext,\n  revolutionaryIntegration: {\n    characterSystem: integratedData.character,\n    learningJourneySystem: integratedData.learningJourney,\n    memorySystem: integratedData.memory,\n    plotSystem: integratedData.plot,\n    analysisSystem: integratedData.analysis,\n    parameterSystem: integratedData.parameters,\n    foreshadowingSystem: integratedData.foreshadowing,\n    lifecycleSystem: integratedData.lifecycle\n  },\n  integrationMetrics: {\n    integrationRate,\n    qualityImprovement,\n    systemsIntegrated: integratedCount\n  }\n};\n```",
    "relatedTech": [
      "decision-eight-system-integration-design",
      "skill-context-generation-system",
      "workflow-prompt-generation-three-phase"
    ]
  },
  {
    "slug": "emotional-arc-integration",
    "title": "æ„Ÿæƒ…ã‚¢ãƒ¼ã‚¯çµ±åˆã¨åŒæœŸåº¦åˆ†æ",
    "category": "Skillsï¼ˆã‚¹ã‚­ãƒ«ãƒ»æ‰‹æ³•ï¼‰",
    "description": "ç« ã®æ„Ÿæƒ…çš„ãªæµã‚Œï¼ˆæ„Ÿæƒ…ã‚¢ãƒ¼ã‚¯ï¼‰ã‚’å­¦ç¿’æ—…ç¨‹ã¨åŒæœŸã•ã›ã€æ„Ÿæƒ…ã®ãƒ”ãƒ¼ã‚¯ã¨å­¦ç¿’ã®æ°—ã¥ããŒé‡ãªã‚‹ã‚ˆã†è¨­è¨ˆã™ã‚‹ã€‚ã‚«ã‚¿ãƒ«ã‚·ã‚¹ä½“é¨“ã‚’é€šã˜ã¦æ·±ã„å­¦ç¿’ã‚’ä¿ƒé€²ã—ã€èª­è€…ã«å¼·ã„å°è±¡ã¨ç†è§£ã‚’æ®‹ã™æ‰‹æ³•ã€‚",
    "project": "novel-automation-system-v2",
    "usedIn": [
      "src/lib/learning-journey/emotional-learning-integrator.ts"
    ],
    "code": "```json\n{\n  \"id\": \"skill_emotional_arc_integration_2025_11_25\",\n  \"type\": \"skill\",\n  \"name\": \"æ„Ÿæƒ…ã‚¢ãƒ¼ã‚¯çµ±åˆã¨åŒæœŸåº¦åˆ†æ\",\n  \"tags\": [\"æ„Ÿæƒ…ãƒ‡ã‚¶ã‚¤ãƒ³\", \"ã‚«ã‚¿ãƒ«ã‚·ã‚¹\", \"èª­è€…ä½“é¨“\", \"æ„Ÿæƒ…æ›²ç·š\", \"å­¦ç¿’çµ±åˆ\", \"ç‰©èªè¨­è¨ˆ\"],\n  \"source_project\": \"novel-automation-system-v2\",\n  \"source_file\": \"src/lib/learning-journey/emotional-learning-integrator.ts\",\n  \"related_knowledge\": [\"skill_six_stage_learning_journey_design_2025_11_25\", \"decision_emotion_learning_sync_2025_11_25\"],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# æ„Ÿæƒ…ã‚¢ãƒ¼ã‚¯çµ±åˆã¨åŒæœŸåº¦åˆ†æ\n\n## ä½•ã‚’ã™ã‚‹ã‚¹ã‚­ãƒ«ã‹\n\nç« ã®æ„Ÿæƒ…çš„ãªæµã‚Œï¼ˆæ„Ÿæƒ…ã‚¢ãƒ¼ã‚¯ï¼‰ã‚’å­¦ç¿’æ—…ç¨‹ã¨åŒæœŸã•ã›ã€æ„Ÿæƒ…ã®ãƒ”ãƒ¼ã‚¯ã¨å­¦ç¿’ã®æ°—ã¥ããŒé‡ãªã‚‹ã‚ˆã†è¨­è¨ˆã™ã‚‹ã€‚ã‚«ã‚¿ãƒ«ã‚·ã‚¹ä½“é¨“ã‚’é€šã˜ã¦æ·±ã„å­¦ç¿’ã‚’ä¿ƒé€²ã—ã€èª­è€…ã«å¼·ã„å°è±¡ã¨ç†è§£ã‚’æ®‹ã™æ‰‹æ³•ã€‚\n\n## å…·ä½“çš„ãªæ‰‹æ³•\n\n### 1. æ„Ÿæƒ…ã‚¢ãƒ¼ã‚¯è¨­è¨ˆã®æ§‹é€ \n\n```typescript\ninterface EmotionalArcDesign {\n  recommendedTone: string;\n  emotionalJourney: {\n    opening: EmotionalDimension[];\n    development: EmotionalDimension[];\n    climax?: EmotionalDimension[];\n    conclusion: EmotionalDimension[];\n  };\n  reason: string;\n  plotAlignment?: {\n    tensionSync: number;              // ãƒ—ãƒ­ãƒƒãƒˆç·Šå¼µåº¦ã¨ã®åŒæœŸ\n    characterArcIntegration: number;  // ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼æˆé•·ã¨ã®çµ±åˆ\n    thematicResonance: number;        // ãƒ†ãƒ¼ãƒã¨ã®å…±é³´\n  };\n}\n\ninterface EmotionalDimension {\n  dimension: string;    // æ„Ÿæƒ…æ¬¡å…ƒï¼ˆå¥½å¥‡å¿ƒã€è‘›è—¤ã€é”æˆæ„Ÿãªã©ï¼‰\n  level: number;        // å¼·åº¦ (0-10)\n  description?: string;\n}\n```\n\n### 2. å­¦ç¿’æ®µéšåˆ¥ã®æ„Ÿæƒ…ã‚¢ãƒ¼ã‚¯è¨­è¨ˆ\n\n```typescript\nasync designEmotionalArc(\n  conceptName: string,\n  stage: LearningStage,\n  chapterNumber: number\n): Promise<EmotionalArcDesign> {\n  const concept = await this.getConceptDefinition(conceptName);\n\n  // å­¦ç¿’æ®µéšã«å¿œã˜ãŸæ„Ÿæƒ…ã‚¢ãƒ¼ã‚¯\n  const arcDesigns: Record<LearningStage, EmotionalArcDesign> = {\n    [LearningStage.MISCONCEPTION]: {\n      recommendedTone: \"å®‰å®šã—ã¦ã„ã‚‹ãŒè¡¨é¢çš„\",\n      emotionalJourney: {\n        opening: [\n          { dimension: \"è‡ªä¿¡\", level: 7, description: \"å¾“æ¥ã®ã‚„ã‚Šæ–¹ã§é †èª¿\" }\n        ],\n        development: [\n          { dimension: \"ç–‘å•\", level: 3, description: \"å°ã•ãªé•å’Œæ„Ÿ\" }\n        ],\n        conclusion: [\n          { dimension: \"ä¸å®‰\", level: 4, description: \"ä½•ã‹ãŒè¶³ã‚Šãªã„äºˆæ„Ÿ\" }\n        ]\n      },\n      reason: \"èª¤è§£æ®µéšã§ã¯å®‰å®šã—ãŸæ„Ÿæƒ…ã‹ã‚‰å¾ã€…ã«ç–‘å•ãŒèŠ½ç”Ÿãˆã‚‹æµã‚Œ\"\n    },\n    [LearningStage.EXPLORATION]: {\n      recommendedTone: \"å¥½å¥‡å¿ƒã¨æˆ¸æƒ‘ã„ã®æ··åœ¨\",\n      emotionalJourney: {\n        opening: [\n          { dimension: \"å¥½å¥‡å¿ƒ\", level: 6, description: \"æ–°ã—ã„è¦–ç‚¹ã¸ã®èˆˆå‘³\" }\n        ],\n        development: [\n          { dimension: \"æ··ä¹±\", level: 5, description: \"å¤šæ§˜ãªé¸æŠè‚¢ã«æˆ¸æƒ‘ã„\" },\n          { dimension: \"æœŸå¾…\", level: 6, description: \"å¯èƒ½æ€§ã¸ã®æœŸå¾…\" }\n        ],\n        conclusion: [\n          { dimension: \"ãƒ¢ãƒ¤ãƒ¢ãƒ¤\", level: 5, description: \"ã¾ã ç­”ãˆãŒè¦‹ãˆãªã„\" }\n        ]\n      },\n      reason: \"æ¢ç´¢æ®µéšã§ã¯å¥½å¥‡å¿ƒã¨æ··ä¹±ãŒäº¤éŒ¯\"\n    },\n    [LearningStage.CONFLICT]: {\n      recommendedTone: \"å†…çš„ãƒ»å¤–çš„è‘›è—¤ã®é«˜ã¾ã‚Š\",\n      emotionalJourney: {\n        opening: [\n          { dimension: \"è¿·ã„\", level: 6, description: \"ã©ã¡ã‚‰ã‚’é¸ã¶ã¹ãã‹\" }\n        ],\n        development: [\n          { dimension: \"è‘›è—¤\", level: 8, description: \"ä¾¡å€¤è¦³ã®è¡çª\" },\n          { dimension: \"ç„¦ç‡¥\", level: 7, description: \"æ±ºæ–­ã‚’è¿«ã‚‰ã‚Œã‚‹\" }\n        ],\n        climax: [\n          { dimension: \"è‹¦æ‚©\", level: 9, description: \"æœ€ã‚‚è‹¦ã—ã„é¸æŠ\" }\n        ],\n        conclusion: [\n          { dimension: \"æ±ºæ„\", level: 6, description: \"è¦šæ‚Ÿã‚’æ±ºã‚ã‚‹\" }\n        ]\n      },\n      reason: \"è‘›è—¤æ®µéšã§ã¯æ„Ÿæƒ…ã®å¼·åº¦ãŒæœ€ã‚‚é«˜ããªã‚‹\"\n    },\n    [LearningStage.INSIGHT]: {\n      recommendedTone: \"æ°—ã¥ãã¨ã‚«ã‚¿ãƒ«ã‚·ã‚¹\",\n      emotionalJourney: {\n        opening: [\n          { dimension: \"æ··æ²Œ\", level: 7, description: \"éœ§ã®ä¸­ã«ã„ã‚‹æ„Ÿè¦š\" }\n        ],\n        development: [\n          { dimension: \"äºˆæ„Ÿ\", level: 6, description: \"ä½•ã‹ãŒç¹‹ãŒã‚Šãã†\" }\n        ],\n        climax: [\n          { dimension: \"é©šã\", level: 9, description: \"çªç„¶ã®ç†è§£\" },\n          { dimension: \"æ­“å–œ\", level: 8, description: \"è…‘ã«è½ã¡ã‚‹ç¬é–“\" }\n        ],\n        conclusion: [\n          { dimension: \"å……è¶³æ„Ÿ\", level: 8, description: \"æ·±ã„ç´å¾—\" }\n        ]\n      },\n      reason: \"æ°—ã¥ãæ®µéšã§ã¯æœ€å¤§ã®ã‚«ã‚¿ãƒ«ã‚·ã‚¹ã‚’æä¾›\"\n    },\n    [LearningStage.APPLICATION]: {\n      recommendedTone: \"è©¦è¡ŒéŒ¯èª¤ã¨å°ã•ãªæˆåŠŸ\",\n      emotionalJourney: {\n        opening: [\n          { dimension: \"ç·Šå¼µ\", level: 6, description: \"åˆã‚ã¦ã®å®Ÿè·µ\" }\n        ],\n        development: [\n          { dimension: \"ä¸å®‰\", level: 5, description: \"ã†ã¾ãã„ãã‹\" },\n          { dimension: \"æ‰‹å¿œãˆ\", level: 7, description: \"åŠ¹æœã‚’å®Ÿæ„Ÿ\" }\n        ],\n        conclusion: [\n          { dimension: \"é”æˆæ„Ÿ\", level: 7, description: \"å°ã•ãªæˆåŠŸä½“é¨“\" }\n        ]\n      },\n      reason: \"å¿œç”¨æ®µéšã§ã¯å®Ÿè·µã®ç·Šå¼µã¨é”æˆæ„Ÿ\"\n    },\n    [LearningStage.INTEGRATION]: {\n      recommendedTone: \"è‡ªç„¶ä½“ã¨æ·±ã„ç¢ºä¿¡\",\n      emotionalJourney: {\n        opening: [\n          { dimension: \"è‡ªç„¶\", level: 7, description: \"å½“ãŸã‚Šå‰ã«ã§ãã‚‹\" }\n        ],\n        development: [\n          { dimension: \"ä½™è£•\", level: 8, description: \"å¿œç”¨ã®å¹…ãŒåºƒãŒã‚‹\" }\n        ],\n        conclusion: [\n          { dimension: \"çµ±åˆæ„Ÿ\", level: 9, description: \"å®Œå…¨ã«è‡ªåˆ†ã®ã‚‚ã®\" }\n        ]\n      },\n      reason: \"çµ±åˆæ®µéšã§ã¯è‡ªç„¶ä½“ã§ã®å®Ÿè·µã¨æ·±ã„ç¢ºä¿¡\"\n    }\n  };\n\n  return arcDesigns[stage];\n}\n```\n\n### 3. æ„Ÿæƒ…ã¨å­¦ç¿’ã®åŒæœŸåº¦åˆ†æ\n\n```typescript\nasync analyzeSynchronization(\n  chapterContent: string,\n  conceptName: string,\n  stage: LearningStage\n): Promise<EmotionLearningSyncMetrics> {\n  const truncatedContent = chapterContent.substring(0, 7000);\n\n  const prompt = `\n    ç« å†…å®¹: ${truncatedContent}\n    æ¦‚å¿µ: ${conceptName}\n    å­¦ç¿’æ®µéš: ${stage}\n\n    ä»¥ä¸‹ã®åŒæœŸåº¦ã‚’0-1ã§è©•ä¾¡ã—ã¦ãã ã•ã„:\n    - peakSynchronization: æ„Ÿæƒ…ãƒ”ãƒ¼ã‚¯ã¨å­¦ç¿’ãƒ”ãƒ¼ã‚¯ã®åŒæœŸåº¦\n    - progressionAlignment: æ„Ÿæƒ…é€²è¡Œã¨å­¦ç¿’é€²è¡Œã®æ•´åˆæ€§\n    - emotionalResonance: æ„Ÿæƒ…ã®æ·±ã•ã¨å­¦ç¿’æ·±åº¦ã®å…±é³´\n    - themeEmotionIntegration: ãƒ†ãƒ¼ãƒã¨æ„Ÿæƒ…ã®çµ±åˆåº¦\n    - catharticMomentEffect: ã‚«ã‚¿ãƒ«ã‚·ã‚¹åŠ¹æœã®å¼·ã•\n\n    JSONå½¢å¼ã§è¿”ã—ã¦ãã ã•ã„ã€‚\n  `;\n\n  const response = await this.geminiClient.generateText(prompt);\n  const metrics = this.parseSynchronizationResponse(response);\n\n  // çµ±åˆè¨˜æ†¶ã‚·ã‚¹ãƒ†ãƒ ã¸ä¿å­˜\n  await this.saveSynchronizationMetricsToMemory(metrics, conceptName, stage);\n\n  return metrics;\n}\n\ninterface EmotionLearningSyncMetrics {\n  peakSynchronization: number;      // æ„Ÿæƒ…ãƒ”ãƒ¼ã‚¯ã¨å­¦ç¿’ãƒ”ãƒ¼ã‚¯ã®åŒæœŸåº¦\n  progressionAlignment: number;     // æ„Ÿæƒ…é€²è¡Œã¨å­¦ç¿’é€²è¡Œã®æ•´åˆæ€§\n  emotionalResonance: number;       // æ„Ÿæƒ…ã®æ·±ã•ã¨å­¦ç¿’æ·±åº¦ã®å…±é³´\n  themeEmotionIntegration: number;  // ãƒ†ãƒ¼ãƒã¨æ„Ÿæƒ…ã®çµ±åˆåº¦\n  catharticMomentEffect: number;    // ã‚«ã‚¿ãƒ«ã‚·ã‚¹åŠ¹æœã®å¼·ã•\n  overallSyncScore: number;         // ç·åˆåŒæœŸã‚¹ã‚³ã‚¢\n}\n```\n\n### 4. ã‚«ã‚¿ãƒ«ã‚·ã‚¹ä½“é¨“ã®è¨­è¨ˆ\n\n```typescript\ninterface CatharticExperience {\n  type: 'INSIGHT_BREAKTHROUGH' | 'EMOTIONAL_RELEASE' |\n        'TRANSFORMATION_MOMENT' | 'RECONCILIATION';\n  trigger: string;              // ãã£ã‹ã‘ã¨ãªã‚‹è¦ç´ \n  buildup: string[];            // è“„ç©è¦ç´ \n  climaxMoment: string;         // ã‚¯ãƒ©ã‚¤ãƒãƒƒã‚¯ã‚¹ç¬é–“\n  aftermath: string;            // ä½™éŸ»ãƒ»å½±éŸ¿\n  emotionalIntensity: number;   // æ„Ÿæƒ…å¼·åº¦ (0-10)\n  learningDepth: number;        // å­¦ç¿’æ·±åº¦ (0-10)\n}\n\nasync designCatharticExperience(\n  conceptName: string,\n  stage: LearningStage,\n  chapterNumber: number,\n  content?: string\n): Promise<CatharticExperience | null> {\n  // æ°—ã¥ãæ®µéšã¨çµ±åˆæ®µéšã§ã‚«ã‚¿ãƒ«ã‚·ã‚¹ä½“é¨“ã‚’è¨­è¨ˆ\n  if (stage === LearningStage.INSIGHT ||\n      stage === LearningStage.INTEGRATION) {\n\n    const experience: CatharticExperience = {\n      type: stage === LearningStage.INSIGHT\n        ? 'INSIGHT_BREAKTHROUGH'\n        : 'TRANSFORMATION_MOMENT',\n      trigger: this.generateTrigger(conceptName, stage),\n      buildup: this.generateBuildup(conceptName, stage, chapterNumber),\n      climaxMoment: this.generateClimaxMoment(conceptName, stage),\n      aftermath: this.generateAftermath(conceptName, stage),\n      emotionalIntensity: stage === LearningStage.INSIGHT ? 9 : 8,\n      learningDepth: stage === LearningStage.INSIGHT ? 9 : 10\n    };\n\n    // çµ±åˆè¨˜æ†¶ã‚·ã‚¹ãƒ†ãƒ ã¸ä¿å­˜\n    await this.saveCatharticExperienceToMemory(\n      experience, conceptName, stage, chapterNumber\n    );\n\n    return experience;\n  }\n\n  return null;\n}\n```\n\n**ã‚«ã‚¿ãƒ«ã‚·ã‚¹ã®è“„ç©è¦ç´ ç”Ÿæˆ**ï¼š\n```typescript\nprivate generateBuildup(\n  conceptName: string,\n  stage: LearningStage,\n  chapterNumber: number\n): string[] {\n  const buildupElements: string[] = [];\n\n  // éå»ã®ç« ã‹ã‚‰ã®ä¼ç·šãƒ»è‘›è—¤ã‚’åé›†\n  if (chapterNumber > 1) {\n    buildupElements.push(\n      \"ã“ã‚Œã¾ã§ã®è©¦è¡ŒéŒ¯èª¤ã®è“„ç©\",\n      \"ç¹°ã‚Šè¿”ã—ç›´é¢ã—ã¦ããŸå£\",\n      \"æ®µéšçš„ã«é«˜ã¾ã‚‹ç–‘å•ã¨æœŸå¾…\"\n    );\n  }\n\n  // å­¦ç¿’æ®µéšç‰¹æœ‰ã®è“„ç©\n  if (stage === LearningStage.INSIGHT) {\n    buildupElements.push(\n      \"æ¢ç´¢æ®µéšã§ã®å¤šæ§˜ãªè¦–ç‚¹ã¨ã®å‡ºä¼šã„\",\n      \"è‘›è—¤æ®µéšã§ã®æ·±ã„è‹¦æ‚©\",\n      \"ç­”ãˆãŒè¦‹ãˆãã†ã§è¦‹ãˆãªã„ç„¦ç‡¥\"\n    );\n  }\n\n  return buildupElements;\n}\n```\n\n### 5. ãƒ—ãƒ­ãƒƒãƒˆãƒ»ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ãƒ»ãƒ†ãƒ¼ãƒã¨ã®çµ±åˆ\n\n```typescript\nasync integrateEmotionalArcWithPlot(\n  emotionalArc: EmotionalArcDesign,\n  plotData: any,\n  characterData: any\n): Promise<IntegratedEmotionalDesign> {\n  return {\n    emotionalArc,\n    plotAlignment: {\n      tensionSync: this.calculateTensionSync(emotionalArc, plotData),\n      characterArcIntegration: this.calculateCharacterIntegration(\n        emotionalArc, characterData\n      ),\n      thematicResonance: this.calculateThematicResonance(emotionalArc)\n    },\n    optimizationSuggestions: this.generateOptimizationSuggestions(\n      emotionalArc, plotData, characterData\n    )\n  };\n}\n```\n\n## ãªãœã“ã®æ‰‹æ³•ã‚’ä½¿ã†ã‹\n\n**ç†ç”±1ï¼šæ„Ÿæƒ…ãŒå­¦ç¿’ã‚’åŠ é€Ÿã™ã‚‹**\n- æ„Ÿæƒ…çš„ãªä½“é¨“ã¯è¨˜æ†¶ã«æ®‹ã‚Šã‚„ã™ã„\n- ã‚«ã‚¿ãƒ«ã‚·ã‚¹ã®ç¬é–“ã«å¾—ãŸæ°—ã¥ãã¯å¿˜ã‚Œã«ãã„\n- æ„Ÿæƒ…ã¨å­¦ç¿’ãŒåŒæœŸã™ã‚‹ã¨ç†è§£ãŒæ·±ã¾ã‚‹\n\n**ç†ç”±2ï¼šç‰©èªã®æ²¡å…¥æ„Ÿã‚’é«˜ã‚ã‚‹**\n- æ„Ÿæƒ…ã‚¢ãƒ¼ã‚¯ãŒè‡ªç„¶ã ã¨èª­è€…ãŒå¼•ãè¾¼ã¾ã‚Œã‚‹\n- å­¦ç¿’è¦ç´ ãŒæ„Ÿæƒ…ã«ä¹—ã‚‹ã¨æ•™è¨“çš„ã«ãªã‚‰ãªã„\n- ã‚«ã‚¿ãƒ«ã‚·ã‚¹ãŒèª­å¾Œæ„Ÿã‚’æ±ºå®šã¥ã‘ã‚‹\n\n**ç†ç”±3ï¼šæ®µéšçš„ãªæ„Ÿæƒ…è¨­è¨ˆ**\n- å­¦ç¿’æ®µéšã”ã¨ã«é©åˆ‡ãªæ„Ÿæƒ…ã®æµã‚ŒãŒç•°ãªã‚‹\n- è‘›è—¤æ®µéšã§æ„Ÿæƒ…ã‚’é«˜ã‚ã€æ°—ã¥ãæ®µéšã§ã‚«ã‚¿ãƒ«ã‚·ã‚¹\n- è¨ˆç”»çš„ãªæ„Ÿæƒ…è¨­è¨ˆã§ä¸€è²«ã—ãŸèª­è€…ä½“é¨“\n\n## å†ç¾æ–¹æ³•\n\n```typescript\nimport { EmotionalLearningIntegrator } from '@/lib/learning-journey';\n\nconst emotionalIntegrator = new EmotionalLearningIntegrator(\n  memoryManager,\n  geminiClient\n);\n\n// ã‚¹ãƒ†ãƒƒãƒ—1: æ„Ÿæƒ…ã‚¢ãƒ¼ã‚¯è¨­è¨ˆ\nconst emotionalArc = await emotionalIntegrator.designEmotionalArc(\n  \"ISSUE DRIVEN\",\n  LearningStage.INSIGHT,\n  5\n);\n\nconsole.log('æ¨å¥¨ãƒˆãƒ¼ãƒ³:', emotionalArc.recommendedTone);\nconsole.log('æ„Ÿæƒ…ã®æµã‚Œ:', emotionalArc.emotionalJourney);\n\n// ã‚¹ãƒ†ãƒƒãƒ—2: ã‚«ã‚¿ãƒ«ã‚·ã‚¹ä½“é¨“è¨­è¨ˆ\nconst catharsis = await emotionalIntegrator.designCatharticExperience(\n  \"ISSUE DRIVEN\",\n  LearningStage.INSIGHT,\n  5\n);\n\nif (catharsis) {\n  console.log('ã‚«ã‚¿ãƒ«ã‚·ã‚¹ã‚¿ã‚¤ãƒ—:', catharsis.type);\n  console.log('ãã£ã‹ã‘:', catharsis.trigger);\n  console.log('ã‚¯ãƒ©ã‚¤ãƒãƒƒã‚¯ã‚¹:', catharsis.climaxMoment);\n}\n\n// ã‚¹ãƒ†ãƒƒãƒ—3: ç« ç”Ÿæˆå¾Œã®åŒæœŸåº¦åˆ†æ\nconst chapterContent = \"ç”Ÿæˆã•ã‚ŒãŸç« ã®å†…å®¹...\";\nconst syncMetrics = await emotionalIntegrator.analyzeSynchronization(\n  chapterContent,\n  \"ISSUE DRIVEN\",\n  LearningStage.INSIGHT\n);\n\nconsole.log('åŒæœŸã‚¹ã‚³ã‚¢:', syncMetrics.overallSyncScore);\nconsole.log('ã‚«ã‚¿ãƒ«ã‚·ã‚¹åŠ¹æœ:', syncMetrics.catharticMomentEffect);\n```\n\n## ã„ã¤ä½¿ã†ã‹\n\n- **ç« ã®ä¼ç”»æ®µéš**ï¼šæ„Ÿæƒ…ã®æµã‚Œã‚’äº‹å‰è¨­è¨ˆ\n- **é‡è¦ãªæ°—ã¥ãã®ã‚·ãƒ¼ãƒ³**ï¼šã‚«ã‚¿ãƒ«ã‚·ã‚¹ä½“é¨“ã‚’è¨­è¨ˆ\n- **ç« ç”Ÿæˆå¾Œã®è©•ä¾¡**ï¼šæ„Ÿæƒ…ã¨å­¦ç¿’ã®åŒæœŸåº¦ã‚’åˆ†æ\n- **ãƒ—ãƒ­ãƒƒãƒˆèª¿æ•´æ™‚**ï¼šæ„Ÿæƒ…ã‚¢ãƒ¼ã‚¯ã¨ãƒ—ãƒ­ãƒƒãƒˆã®æ•´åˆæ€§ç¢ºèª\n- **å…¨ä½“ãƒ¬ãƒ“ãƒ¥ãƒ¼æ™‚**ï¼šç« é–“ã®æ„Ÿæƒ…æ›²ç·šã‚’ç¢ºèª\n\n## æ³¨æ„ç‚¹\n\n- **æ„Ÿæƒ…ã®å¼·åº¦èª¿æ•´**ï¼šæ¯ç« ã‚¯ãƒ©ã‚¤ãƒãƒƒã‚¯ã‚¹ã§ã¯èª­è€…ãŒç–²ã‚Œã‚‹\n- **ã‚«ã‚¿ãƒ«ã‚·ã‚¹ã®æ¿«ç”¨ã‚’é¿ã‘ã‚‹**ï¼šæœ¬å½“ã«é‡è¦ãªå ´é¢ã ã‘ã§ä½¿ã†\n- **è‡ªç„¶ãªæ„Ÿæƒ…é·ç§»**ï¼šæ€¥æ¿€ãªæ„Ÿæƒ…å¤‰åŒ–ã¯ä¸è‡ªç„¶\n- **ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼æ€§ã«åˆã‚ã›ã‚‹**ï¼šã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã”ã¨ã«æ„Ÿæƒ…è¡¨ç¾ãŒç•°ãªã‚‹\n- **æ–‡åŒ–çš„èƒŒæ™¯ã¸ã®é…æ…®**ï¼šæ„Ÿæƒ…è¡¨ç¾ã¯æ–‡åŒ–ã«ã‚ˆã‚Šç•°ãªã‚‹\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `skill_six_stage_learning_journey_design_2025_11_25.md`ï¼šå­¦ç¿’æ—…ç¨‹ã¨ã®çµ±åˆ\n- `decision_emotion_learning_sync_2025_11_25.md`ï¼šãªãœæ„Ÿæƒ…ã¨å­¦ç¿’ã‚’åŒæœŸã•ã›ã‚‹ã‹\n",
    "prompt": "```typescript\nimport { EmotionalLearningIntegrator } from '@/lib/learning-journey';\n\nconst emotionalIntegrator = new EmotionalLearningIntegrator(\n  memoryManager,\n  geminiClient\n);\n\n// ã‚¹ãƒ†ãƒƒãƒ—1: æ„Ÿæƒ…ã‚¢ãƒ¼ã‚¯è¨­è¨ˆ\nconst emotionalArc = await emotionalIntegrator.designEmotionalArc(\n  \"ISSUE DRIVEN\",\n  LearningStage.INSIGHT,\n  5\n);\n\nconsole.log('æ¨å¥¨ãƒˆãƒ¼ãƒ³:', emotionalArc.recommendedTone);\nconsole.log('æ„Ÿæƒ…ã®æµã‚Œ:', emotionalArc.emotionalJourney);\n\n// ã‚¹ãƒ†ãƒƒãƒ—2: ã‚«ã‚¿ãƒ«ã‚·ã‚¹ä½“é¨“è¨­è¨ˆ\nconst catharsis = await emotionalIntegrator.designCatharticExperience(\n  \"ISSUE DRIVEN\",\n  LearningStage.INSIGHT,\n  5\n);\n\nif (catharsis) {\n  console.log('ã‚«ã‚¿ãƒ«ã‚·ã‚¹ã‚¿ã‚¤ãƒ—:', catharsis.type);\n  console.log('ãã£ã‹ã‘:', catharsis.trigger);\n  console.log('ã‚¯ãƒ©ã‚¤ãƒãƒƒã‚¯ã‚¹:', catharsis.climaxMoment);\n}\n\n// ã‚¹ãƒ†ãƒƒãƒ—3: ç« ç”Ÿæˆå¾Œã®åŒæœŸåº¦åˆ†æ\nconst chapterContent = \"ç”Ÿæˆã•ã‚ŒãŸç« ã®å†…å®¹...\";\nconst syncMetrics = await emotionalIntegrator.analyzeSynchronization(\n  chapterContent,\n  \"ISSUE DRIVEN\",\n  LearningStage.INSIGHT\n);\n\nconsole.log('åŒæœŸã‚¹ã‚³ã‚¢:', syncMetrics.overallSyncScore);\nconsole.log('ã‚«ã‚¿ãƒ«ã‚·ã‚¹åŠ¹æœ:', syncMetrics.catharticMomentEffect);\n```",
    "relatedTech": [
      "skill-six-stage-learning-journey-design",
      "decision-emotion-learning-sync"
    ]
  },
  {
    "slug": "empty-row-filtering",
    "title": "ç©ºè¡Œãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°æ‰‹æ³•",
    "category": "Skillsï¼ˆã‚¹ã‚­ãƒ«ãƒ»æ‰‹æ³•ï¼‰",
    "description": "Google Sheets APIã‹ã‚‰å–å¾—ã—ãŸ2æ¬¡å…ƒé…åˆ—ï¼ˆ`any[][]`ï¼‰ã‹ã‚‰ã€å®Œå…¨ã«ç©ºã®è¡Œã‚„ä¸è¦ãªè¡Œã‚’ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ã—ã¦é™¤å¤–ã™ã‚‹æ‰‹æ³•ã€‚",
    "project": "yumesuta-management-system",
    "usedIn": [
      "app/api/sales-kpi/route.ts:257-260"
    ],
    "code": "```json\n{\n  \"id\": \"skill_empty_row_filtering_2025_11_24\",\n  \"type\": \"skill\",\n  \"name\": \"ç©ºè¡Œãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°æ‰‹æ³•\",\n  \"tags\": [\"ãƒ‡ãƒ¼ã‚¿ã‚¯ãƒ¬ãƒ³ã‚¸ãƒ³ã‚°\", \"ç©ºè¡Œ\", \"ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°\", \"é…åˆ—å‡¦ç†\", \"ãƒ‡ãƒ¼ã‚¿æ•´å½¢\"],\n  \"source_project\": \"yumesuta-management-system\",\n  \"source_file\": \"app/api/sales-kpi/route.ts:257-260\",\n  \"related_knowledge\": [\n    \"skill_google_sheets_a1_notation_2025_11_24\"\n  ],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-24\",\n  \"updated\": \"2025-11-24\"\n}\n```\n\n# ç©ºè¡Œãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°æ‰‹æ³•\n\n## ä½•ã‚’ã™ã‚‹ã‚¹ã‚­ãƒ«ã‹\n\nGoogle Sheets APIã‹ã‚‰å–å¾—ã—ãŸ2æ¬¡å…ƒé…åˆ—ï¼ˆ`any[][]`ï¼‰ã‹ã‚‰ã€å®Œå…¨ã«ç©ºã®è¡Œã‚„ä¸è¦ãªè¡Œã‚’ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ã—ã¦é™¤å¤–ã™ã‚‹æ‰‹æ³•ã€‚\n\n## å…·ä½“çš„ãªæ‰‹æ³•\n\n### åŸºæœ¬ãƒ‘ã‚¿ãƒ¼ãƒ³: ã™ã¹ã¦ã®ã‚»ãƒ«ãŒç©ºã®è¡Œã‚’é™¤å¤–\n\n```typescript\n// Google Sheetsã‹ã‚‰å–å¾—ã—ãŸãƒ‡ãƒ¼ã‚¿\nconst data: any[][] = [\n  ['ãƒ˜ãƒƒãƒ€ãƒ¼1', 'ãƒ˜ãƒƒãƒ€ãƒ¼2', 'ãƒ˜ãƒƒãƒ€ãƒ¼3'],\n  ['ãƒ‡ãƒ¼ã‚¿1', 'ãƒ‡ãƒ¼ã‚¿2', 'ãƒ‡ãƒ¼ã‚¿3'],\n  ['', '', ''], // ç©ºè¡Œ\n  ['ãƒ‡ãƒ¼ã‚¿4', 'ãƒ‡ãƒ¼ã‚¿5', 'ãƒ‡ãƒ¼ã‚¿6'],\n  [undefined, null, ''], // ç©ºè¡Œ\n  ['ãƒ‡ãƒ¼ã‚¿7', 'ãƒ‡ãƒ¼ã‚¿8', 'ãƒ‡ãƒ¼ã‚¿9'],\n];\n\n// ç©ºè¡Œã‚’ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°\nconst filteredData = data.filter(row => {\n  // è¡ŒãŒå­˜åœ¨ã—ãªã„å ´åˆã¯é™¤å¤–\n  if (!row || row.length === 0) return false;\n\n  // ã™ã¹ã¦ã®ã‚»ãƒ«ãŒç©ºï¼ˆnull, undefined, ç©ºæ–‡å­—åˆ—ï¼‰ã®å ´åˆã¯é™¤å¤–\n  return row.some(cell => cell !== null && cell !== undefined && cell !== '');\n});\n\nconsole.log(filteredData);\n// â†’[\n//   ['ãƒ˜ãƒƒãƒ€ãƒ¼1', 'ãƒ˜ãƒƒãƒ€ãƒ¼2', 'ãƒ˜ãƒƒãƒ€ãƒ¼3'],\n//   ['ãƒ‡ãƒ¼ã‚¿1', 'ãƒ‡ãƒ¼ã‚¿2', 'ãƒ‡ãƒ¼ã‚¿3'],\n//   ['ãƒ‡ãƒ¼ã‚¿4', 'ãƒ‡ãƒ¼ã‚¿5', 'ãƒ‡ãƒ¼ã‚¿6'],\n//   ['ãƒ‡ãƒ¼ã‚¿7', 'ãƒ‡ãƒ¼ã‚¿8', 'ãƒ‡ãƒ¼ã‚¿9'],\n// ]\n```\n\n### ç°¡æ½”ãªè¨˜æ³•ï¼ˆ`.some()`ã®çŸ­ç¸®å½¢ï¼‰\n\n```typescript\n// ã‚ˆã‚Šç°¡æ½”ãªè¨˜æ³•\nconst filteredData = data.filter(row => row && row.some(cell => cell));\n```\n\n**èª¬æ˜**:\n- `row`: è¡ŒãŒå­˜åœ¨ã™ã‚‹ã‹ãƒã‚§ãƒƒã‚¯\n- `row.some(cell => cell)`: å°‘ãªãã¨ã‚‚1ã¤ã®ã‚»ãƒ«ãŒçœŸå€¤ï¼ˆtruthyï¼‰ã‹ãƒã‚§ãƒƒã‚¯\n  - çœŸå€¤: ç©ºã§ãªã„æ–‡å­—åˆ—ã€0ä»¥å¤–ã®æ•°å€¤ã€`true`ç­‰\n  - å½å€¤: `null`, `undefined`, `''`, `0`, `false`\n\n### ãƒ‘ã‚¿ãƒ¼ãƒ³1: ç‰¹å®šã®åˆ—ãŒç©ºã§ãªã„è¡Œã®ã¿ã‚’æŠ½å‡º\n\n```typescript\n// Aåˆ—ï¼ˆã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹0ï¼‰ãŒç©ºã§ãªã„è¡Œã®ã¿ã‚’æŠ½å‡º\nconst filteredData = data.filter(row => {\n  if (!row || row.length === 0) return false;\n  const firstCell = row[0];\n  return firstCell !== null && firstCell !== undefined && firstCell !== '';\n});\n```\n\n### ãƒ‘ã‚¿ãƒ¼ãƒ³2: ãƒ˜ãƒƒãƒ€ãƒ¼è¡Œã‚’é™¤å¤–ã—ã¦ã‹ã‚‰ç©ºè¡Œãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°\n\n```typescript\n// 1è¡Œç›®ï¼ˆãƒ˜ãƒƒãƒ€ãƒ¼ï¼‰ã‚’é™¤å¤–ã—ã€ç©ºè¡Œã‚‚ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°\nconst dataRows = data\n  .slice(1) // ãƒ˜ãƒƒãƒ€ãƒ¼è¡Œã‚’é™¤å¤–\n  .filter(row => row && row.some(cell => cell));\n```\n\n### ãƒ‘ã‚¿ãƒ¼ãƒ³3: ãƒˆãƒªãƒ å¾Œã®ç©ºè¡Œãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°\n\n```typescript\n// ç©ºç™½æ–‡å­—ã®ã¿ã®è¡Œã‚‚é™¤å¤–\nconst filteredData = data.filter(row => {\n  if (!row || row.length === 0) return false;\n  return row.some(cell => {\n    if (typeof cell !== 'string') return cell; // æ–‡å­—åˆ—ä»¥å¤–ã¯ãã®ã¾ã¾\n    return cell.trim() !== ''; // æ–‡å­—åˆ—ã¯ãƒˆãƒªãƒ å¾Œã«ãƒã‚§ãƒƒã‚¯\n  });\n});\n```\n\n### å®Ÿéš›ã®API Routeã§ã®ä½¿ç”¨ä¾‹\n\n```typescript\n// app/api/sales-kpi/route.ts:257-260\nfunction parseCustomerMasterStats(\n  customerData: any[][],\n  statusColumn: any[][]\n): CustomerMasterStats {\n  // ãƒ‡ãƒ¼ã‚¿è¡Œã‚’ãƒ«ãƒ¼ãƒ—ï¼ˆãƒ˜ãƒƒãƒ€ãƒ¼è¡Œã‚’é™¤ãï¼‰\n  for (let i = 1; i < customerData.length; i++) {\n    const row = customerData[i];\n\n    // ç©ºè¡Œã‚’ã‚¹ã‚­ãƒƒãƒ—\n    if (!row || row.length === 0) continue;\n\n    // Qåˆ—ï¼ˆã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹16ï¼‰: ãƒã‚¯ã‚¹ãƒˆæ—¥\n    const nextDateStr = row[16] || '';\n    if (nextDateStr) {\n      // ... ãƒ‡ãƒ¼ã‚¿å‡¦ç† ...\n    }\n\n    // Råˆ—: ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ï¼ˆstatusColumnã‹ã‚‰å–å¾—ï¼‰\n    const status = (statusColumn[i]?.[0] || '').trim();\n\n    if (status === 'åˆå›å•†è«‡å¾…ã¡') statusCounts.initialMeeting++;\n    else if (status === 'è¿”äº‹å¾…ã¡') statusCounts.awaitingResponse++;\n    else if (status === 'å•†è«‡ä¸­') statusCounts.inNegotiation++;\n  }\n}\n```\n\n## ãªãœã“ã®æ‰‹æ³•ã‚’ä½¿ã†ã‹\n\n### ç†ç”±1: Google Sheetsã®è¡Œæ•°ã¨ãƒ‡ãƒ¼ã‚¿è¡Œæ•°ãŒç•°ãªã‚‹\n\nGoogle Sheetsã¯å›ºå®šã‚µã‚¤ã‚ºï¼ˆä¾‹: 100è¡Œï¼‰ã§å–å¾—ã™ã‚‹ãŸã‚ã€å®Ÿéš›ã«ãƒ‡ãƒ¼ã‚¿ãŒå…¥ã£ã¦ã„ã‚‹è¡Œæ•°ã‚ˆã‚Šå¤šã„è¡ŒãŒè¿”ã•ã‚Œã‚‹ã€‚ç©ºè¡Œã‚’é™¤å¤–ã—ãªã„ã¨ã€ä¸è¦ãªãƒ‡ãƒ¼ã‚¿å‡¦ç†ãŒç™ºç”Ÿã™ã‚‹ã€‚\n\n**ä¾‹**:\n```typescript\n// Google Sheetsã‹ã‚‰100è¡Œå–å¾—\nconst data = await getSheetData(spreadsheetId, 'é¡§å®¢ãƒã‚¹ã‚¿!A1:S100');\n\n// å®Ÿéš›ã«ãƒ‡ãƒ¼ã‚¿ãŒã‚ã‚‹ã®ã¯30è¡Œã®ã¿\n// â†’ æ®‹ã‚Š70è¡Œã¯ç©ºè¡Œ\n```\n\n### ç†ç”±2: ã‚¨ãƒ©ãƒ¼ã‚’é˜²ã\n\nç©ºè¡Œã‚’ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ã›ãšã«ãƒ‡ãƒ¼ã‚¿å‡¦ç†ã‚’è¡Œã†ã¨ã€`undefined` ã‚„ `null` ã«ã‚ˆã‚‹ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ã€‚\n\n```typescript\n// âŒ æ‚ªã„ä¾‹: ç©ºè¡Œã§ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿ\ndata.forEach(row => {\n  const name = row[0].toUpperCase(); // row[0]ãŒundefinedã®å ´åˆã€ã‚¨ãƒ©ãƒ¼\n});\n\n// âœ… è‰¯ã„ä¾‹: ç©ºè¡Œã‚’é™¤å¤–\ndata\n  .filter(row => row && row.some(cell => cell))\n  .forEach(row => {\n    const name = row[0].toUpperCase(); // å®‰å…¨\n  });\n```\n\n### ç†ç”±3: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å‘ä¸Š\n\nç©ºè¡Œã‚’é™¤å¤–ã™ã‚‹ã“ã¨ã§ã€ä¸è¦ãªãƒ«ãƒ¼ãƒ—å‡¦ç†ã‚’æ¸›ã‚‰ã—ã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’å‘ä¸Šã§ãã‚‹ã€‚\n\n## å†ç¾æ–¹æ³•\n\n### ã‚¹ãƒ†ãƒƒãƒ—1: åŸºæœ¬çš„ãªç©ºè¡Œãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°\n\n```typescript\nimport { getSheetData } from '@/lib/google-sheets';\n\nconst data = await getSheetData(spreadsheetId, 'é¡§å®¢ãƒã‚¹ã‚¿!A1:S100');\n\n// ç©ºè¡Œã‚’é™¤å¤–\nconst filteredData = data.filter(row => row && row.some(cell => cell));\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2: ãƒ˜ãƒƒãƒ€ãƒ¼è¡Œã‚’é™¤å¤–ã—ã¦ã‹ã‚‰ç©ºè¡Œãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°\n\n```typescript\nconst data = await getSheetData(spreadsheetId, 'é¡§å®¢ãƒã‚¹ã‚¿!A1:S100');\n\n// ãƒ˜ãƒƒãƒ€ãƒ¼è¡Œã‚’é™¤å¤–ã—ã€ç©ºè¡Œã‚‚ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°\nconst dataRows = data\n  .slice(1)\n  .filter(row => row && row.some(cell => cell));\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3: ç‰¹å®šã®åˆ—ãŒç©ºã§ãªã„è¡Œã®ã¿ã‚’æŠ½å‡º\n\n```typescript\nconst data = await getSheetData(spreadsheetId, 'é¡§å®¢ãƒã‚¹ã‚¿!A1:S100');\n\n// Aåˆ—ï¼ˆä¼æ¥­åï¼‰ãŒç©ºã§ãªã„è¡Œã®ã¿ã‚’æŠ½å‡º\nconst validRows = data.filter(row => {\n  if (!row || row.length === 0) return false;\n  const companyName = row[0];\n  return companyName !== null && companyName !== undefined && companyName !== '';\n});\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—4: API Routeã§ã®å®Ÿè£…ä¾‹\n\n```typescript\nimport { NextResponse } from 'next/server';\nimport { getSheetData } from '@/lib/google-sheets';\n\nexport async function GET() {\n  const spreadsheetId = process.env.COMPANY_MASTER_SPREADSHEET_ID!;\n  const data = await getSheetData(spreadsheetId, 'ä¼æ¥­ãƒã‚¹ã‚¿ãƒ¼!A1:Z100');\n\n  // ãƒ˜ãƒƒãƒ€ãƒ¼è¡Œã‚’å–å¾—\n  const headers = data[0];\n\n  // ãƒ‡ãƒ¼ã‚¿è¡Œã‚’å–å¾—ï¼ˆãƒ˜ãƒƒãƒ€ãƒ¼è¡Œã‚’é™¤å¤–ã—ã€ç©ºè¡Œã‚’ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ï¼‰\n  const rows = data\n    .slice(1)\n    .filter(row => row && row.some(cell => cell))\n    .map(row => ({\n      id: row[0],\n      name: row[1],\n      address: row[2],\n      // ...\n    }));\n\n  return NextResponse.json({ success: true, data: { headers, rows } });\n}\n```\n\n## ã„ã¤ä½¿ã†ã‹\n\n### å ´é¢1: Google Sheetsã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã—ãŸç›´å¾Œ\n\nGoogle Sheets APIã‹ã‚‰å–å¾—ã—ãŸãƒ‡ãƒ¼ã‚¿ã«ã¯ç©ºè¡ŒãŒå«ã¾ã‚Œã‚‹å¯èƒ½æ€§ãŒé«˜ã„ãŸã‚ã€å–å¾—ç›´å¾Œã«ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ã™ã‚‹ã€‚\n\n### å ´é¢2: ãƒ«ãƒ¼ãƒ—å‡¦ç†ã®å‰\n\nãƒ‡ãƒ¼ã‚¿ã‚’ãƒ«ãƒ¼ãƒ—å‡¦ç†ã™ã‚‹å‰ã«ç©ºè¡Œã‚’é™¤å¤–ã™ã‚‹ã“ã¨ã§ã€ä¸è¦ãªå‡¦ç†ã‚’æ¸›ã‚‰ã—ã€ã‚¨ãƒ©ãƒ¼ã‚’é˜²ãã€‚\n\n### å ´é¢3: ãƒ‡ãƒ¼ã‚¿é›†è¨ˆã®å‰\n\né›†è¨ˆå‡¦ç†ï¼ˆ`reduce`, `map`, `filter`ï¼‰ã®å‰ã«ç©ºè¡Œã‚’é™¤å¤–ã™ã‚‹ã“ã¨ã§ã€æ­£ç¢ºãªé›†è¨ˆçµæœã‚’å¾—ã‚‰ã‚Œã‚‹ã€‚\n\n## æ³¨æ„ç‚¹\n\n### æ³¨æ„ç‚¹1: `0` ã‚„ `false` ã¯çœŸå€¤ã¨ã—ã¦æ‰±ã‚ã‚Œãªã„\n\n`.some(cell => cell)` ã¯ã€`0` ã‚„ `false` ã‚’å½å€¤ã¨ã—ã¦æ‰±ã†ã€‚ã“ã‚Œã‚‰ã‚’æœ‰åŠ¹ãªãƒ‡ãƒ¼ã‚¿ã¨ã—ã¦æ‰±ã„ãŸã„å ´åˆã¯ã€æ˜ç¤ºçš„ã«ãƒã‚§ãƒƒã‚¯ã™ã‚‹ã€‚\n\n```typescript\n// âŒ æ‚ªã„ä¾‹: 0 ã‚„ false ã‚’æŒã¤è¡ŒãŒé™¤å¤–ã•ã‚Œã‚‹\ndata.filter(row => row && row.some(cell => cell));\n\n// âœ… è‰¯ã„ä¾‹: 0 ã‚„ false ã‚‚æœ‰åŠ¹ãªãƒ‡ãƒ¼ã‚¿ã¨ã—ã¦æ‰±ã†\ndata.filter(row => row && row.some(cell => cell !== null && cell !== undefined && cell !== ''));\n```\n\n### æ³¨æ„ç‚¹2: ç©ºç™½æ–‡å­—ã®ã¿ã®è¡Œ\n\nç©ºç™½æ–‡å­—ï¼ˆã‚¹ãƒšãƒ¼ã‚¹ã€ã‚¿ãƒ–ï¼‰ã®ã¿ã®è¡Œã¯ `.some(cell => cell)` ã§ã¯é™¤å¤–ã•ã‚Œãªã„ã€‚ãƒˆãƒªãƒ ãŒå¿…è¦ãªå ´åˆã¯ã€æ˜ç¤ºçš„ã«ãƒˆãƒªãƒ ã™ã‚‹ã€‚\n\n```typescript\n// ç©ºç™½æ–‡å­—ã®ã¿ã®è¡Œã‚‚é™¤å¤–\ndata.filter(row => {\n  if (!row || row.length === 0) return false;\n  return row.some(cell => {\n    if (typeof cell !== 'string') return cell;\n    return cell.trim() !== '';\n  });\n});\n```\n\n### æ³¨æ„ç‚¹3: ãƒ˜ãƒƒãƒ€ãƒ¼è¡Œã®æ‰±ã„\n\nãƒ˜ãƒƒãƒ€ãƒ¼è¡Œã‚‚ç©ºè¡Œãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ã®å¯¾è±¡ã«ãªã‚‹ã€‚ãƒ˜ãƒƒãƒ€ãƒ¼è¡Œã‚’é™¤å¤–ã—ã¦ã‹ã‚‰ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ã™ã‚‹ã‹ã€ãƒ˜ãƒƒãƒ€ãƒ¼è¡Œã¯é™¤å¤–ã—ãªã„ã‚ˆã†ã«ã™ã‚‹ã€‚\n\n```typescript\n// ãƒ˜ãƒƒãƒ€ãƒ¼è¡Œã‚’é™¤å¤–ã—ã¦ã‹ã‚‰ç©ºè¡Œãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°\nconst dataRows = data.slice(1).filter(row => row && row.some(cell => cell));\n```\n\n### æ³¨æ„ç‚¹4: é…åˆ—ã®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ãŒãšã‚Œã‚‹\n\nç©ºè¡Œã‚’é™¤å¤–ã™ã‚‹ã¨ã€é…åˆ—ã®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ãŒå…ƒã®ã‚·ãƒ¼ãƒˆè¡Œç•ªå·ã¨ä¸€è‡´ã—ãªããªã‚‹ã€‚è¡Œç•ªå·ãŒå¿…è¦ãªå ´åˆã¯ã€ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°å‰ã«ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚’ä¿å­˜ã™ã‚‹ã€‚\n\n```typescript\n// è¡Œç•ªå·ã‚’ä¿å­˜\nconst rowsWithIndex = data\n  .slice(1)\n  .map((row, index) => ({ row, rowNumber: index + 2 })) // +2: ãƒ˜ãƒƒãƒ€ãƒ¼è¡Œ + 0-indexed\n  .filter(({ row }) => row && row.some(cell => cell));\n```\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `skill_google_sheets_a1_notation_2025_11_24.md`: A1è¡¨è¨˜æ³•ã§ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã™ã‚‹éš›ã€ç©ºè¡ŒãŒå«ã¾ã‚Œã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹\n",
    "prompt": "### ã‚¹ãƒ†ãƒƒãƒ—1: åŸºæœ¬çš„ãªç©ºè¡Œãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°\n\n```typescript\nimport { getSheetData } from '@/lib/google-sheets';\n\nconst data = await getSheetData(spreadsheetId, 'é¡§å®¢ãƒã‚¹ã‚¿!A1:S100');\n\n// ç©ºè¡Œã‚’é™¤å¤–\nconst filteredData = data.filter(row => row && row.some(cell => cell));\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2: ãƒ˜ãƒƒãƒ€ãƒ¼è¡Œã‚’é™¤å¤–ã—ã¦ã‹ã‚‰ç©ºè¡Œãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°\n\n```typescript\nconst data = await getSheetData(spreadsheetId, 'é¡§å®¢ãƒã‚¹ã‚¿!A1:S100');\n\n// ãƒ˜ãƒƒãƒ€ãƒ¼è¡Œã‚’é™¤å¤–ã—ã€ç©ºè¡Œã‚‚ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°\nconst dataRows = data\n  .slice(1)\n  .filter(row => row && row.some(cell => cell));\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3: ç‰¹å®šã®åˆ—ãŒç©ºã§ãªã„è¡Œã®ã¿ã‚’æŠ½å‡º\n\n```typescript\nconst data = await getSheetData(spreadsheetId, 'é¡§å®¢ãƒã‚¹ã‚¿!A1:S100');\n\n// Aåˆ—ï¼ˆä¼æ¥­åï¼‰ãŒç©ºã§ãªã„è¡Œã®ã¿ã‚’æŠ½å‡º\nconst validRows = data.filter(row => {\n  if (!row || row.length === 0) return false;\n  const companyName = row[0];\n  return companyName !== null && companyName !== undefined && companyName !== '';\n});\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—4: API Routeã§ã®å®Ÿè£…ä¾‹\n\n```typescript\nimport { NextResponse } from 'next/server';\nimport { getSheetData } from '@/lib/google-sheets';\n\nexport async function GET() {\n  const spreadsheetId = process.env.COMPANY_MASTER_SPREADSHEET_ID!;\n  const data = await getSheetData(spreadsheetId, 'ä¼æ¥­ãƒã‚¹ã‚¿ãƒ¼!A1:Z100');\n\n  // ãƒ˜ãƒƒãƒ€ãƒ¼è¡Œã‚’å–å¾—\n  const headers = data[0];\n\n  // ãƒ‡ãƒ¼ã‚¿è¡Œã‚’å–å¾—ï¼ˆãƒ˜ãƒƒãƒ€ãƒ¼è¡Œã‚’é™¤å¤–ã—ã€ç©ºè¡Œã‚’ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ï¼‰\n  const rows = data\n    .slice(1)\n    .filter(row => row && row.some(cell => cell))\n    .map(row => ({\n      id: row[0],\n      name: row[1],\n      address: row[2],\n      // ...\n    }));\n\n  return NextResponse.json({ success: true, data: { headers, rows } });\n}\n```",
    "relatedTech": [
      "skill-google-sheets-a1-notation"
    ]
  },
  {
    "slug": "fallback-generation-graceful-degradation",
    "title": "ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ç”Ÿæˆã«ã‚ˆã‚‹ã‚°ãƒ¬ãƒ¼ã‚¹ãƒ•ãƒ«ãƒ‡ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³",
    "category": "Skillsï¼ˆã‚¹ã‚­ãƒ«ãƒ»æ‰‹æ³•ï¼‰",
    "description": "**AIç”Ÿæˆå¤±æ•—æ™‚ã«ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚„ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ™ãƒ¼ã‚¹ã®ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿ã§ä»£æ›¿ã—ã€ã‚·ã‚¹ãƒ†ãƒ ã‚’å‹•ä½œã•ã›ç¶šã‘ã‚‹æŠ€è¡“ã€‚**",
    "project": "instagram-post-generator",
    "usedIn": [
      "app/services/contentGeneratorService.ts:450-650"
    ],
    "code": "```json\n{\n  \"id\": \"skill_fallback_generation_graceful_degradation_2025_11_25\",\n  \"type\": \"skill\",\n  \"name\": \"ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ç”Ÿæˆã«ã‚ˆã‚‹ã‚°ãƒ¬ãƒ¼ã‚¹ãƒ•ãƒ«ãƒ‡ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³\",\n  \"tags\": [\"ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯\", \"ã‚°ãƒ¬ãƒ¼ã‚¹ãƒ•ãƒ«ãƒ‡ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³\", \"ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°\", \"å“è³ªä¿è¨¼\"],\n  \"source_project\": \"instagram-post-generator\",\n  \"source_file\": \"app/services/contentGeneratorService.ts:450-650\",\n  \"difficulty\": \"intermediate\",\n  \"related_knowledge\": [\n    \"skill_ai_serialization_pattern_503_prevention_2025_11_25\",\n    \"failure_ai_calls_disabled_emergency_2025_11_25\"\n  ],\n  \"prerequisites\": [\"try-catch\", \"ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ‡ãƒ¼ã‚¿è¨­è¨ˆ\"],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ç”Ÿæˆã«ã‚ˆã‚‹ã‚°ãƒ¬ãƒ¼ã‚¹ãƒ•ãƒ«ãƒ‡ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³\n\n## ä½•ã‚’ã™ã‚‹ã‚¹ã‚­ãƒ«ã‹\n\n**AIç”Ÿæˆå¤±æ•—æ™‚ã«ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚„ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ™ãƒ¼ã‚¹ã®ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿ã§ä»£æ›¿ã—ã€ã‚·ã‚¹ãƒ†ãƒ ã‚’å‹•ä½œã•ã›ç¶šã‘ã‚‹æŠ€è¡“ã€‚**\n\nå®Œå…¨ãªæ©Ÿèƒ½åœæ­¢ã‚’é¿ã‘ã€ç¸®é€€ãƒ¢ãƒ¼ãƒ‰ï¼ˆdegraded modeï¼‰ã§æœ€ä½é™ã®æ©Ÿèƒ½ã‚’æä¾›ã™ã‚‹ã€‚\n\n**åŠ¹æœ**: ã‚·ã‚¹ãƒ†ãƒ ç¨¼åƒç‡ 70%ï¼ˆAIå¤±æ•—æ™‚ï¼‰ â†’ 95%ï¼ˆãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ä½¿ç”¨æ™‚ï¼‰\n\n---\n\n## å…·ä½“çš„ãªæ‰‹æ³•\n\n### ãƒ‘ã‚¿ãƒ¼ãƒ³1: éšå±¤çš„ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯æˆ¦ç•¥\n\n**3å±¤ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯**:\n\n```typescript\n// app/services/contentGeneratorService.ts\nasync function generateContent(userInput: string): Promise<GeneratedContent> {\n  try {\n    // Layer 1: AIç”Ÿæˆï¼ˆæœ€å„ªå…ˆï¼‰\n    return await generateWithAI(userInput)\n  } catch (aiError) {\n    console.warn('AI generation failed, trying fallback...', aiError)\n\n    try {\n      // Layer 2: ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ™ãƒ¼ã‚¹ç”Ÿæˆ\n      return await generateFromTemplate(userInput)\n    } catch (templateError) {\n      console.warn('Template generation failed, using default...', templateError)\n\n      // Layer 3: ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚³ãƒ³ãƒ†ãƒ³ãƒ„\n      return getDefaultContent()\n    }\n  }\n}\n```\n\n### ãƒ‘ã‚¿ãƒ¼ãƒ³2: ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®è¨­è¨ˆ\n\n**åŸå‰‡**: å®Ÿç”¨çš„ãªã‚µãƒ³ãƒ—ãƒ«ã‚’æä¾›\n\n```typescript\n// app/data/defaultContent.ts\nexport const DEFAULT_CONTENT: GeneratedContent = {\n  pages: [\n    {\n      pageNumber: 1,\n      template: 'unified-template-01-simple-intro',\n      title: 'ã‚µãƒ³ãƒ—ãƒ«æŠ•ç¨¿',\n      content: {\n        mainTitle: 'ã“ã‚Œã¯ã‚µãƒ³ãƒ—ãƒ«æŠ•ç¨¿ã§ã™',\n        subtitle: 'AIç”Ÿæˆã«å¤±æ•—ã—ãŸãŸã‚ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’è¡¨ç¤ºã—ã¦ã„ã¾ã™',\n        description: [\n          'ãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›ã‚’ç·¨é›†ã—ã¦ã€ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã§ãã¾ã™',\n          'å³å´ã®ç·¨é›†ãƒ•ã‚©ãƒ¼ãƒ ã‹ã‚‰å¤‰æ›´ã—ã¦ãã ã•ã„',\n          'å®Œäº†ã—ãŸã‚‰ã€ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ãƒœã‚¿ãƒ³ã§PNG/ZIPã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã§ãã¾ã™'\n        ]\n      }\n    },\n    {\n      pageNumber: 2,\n      template: 'unified-template-03-top-3-ranking',\n      title: 'ã‚µãƒ³ãƒ—ãƒ«ãƒ©ãƒ³ã‚­ãƒ³ã‚°',\n      content: {\n        title: 'ãƒˆãƒƒãƒ—3ã®ã‚µãƒ³ãƒ—ãƒ«',\n        items: [\n          {\n            rank: 1,\n            title: 'ã‚µãƒ³ãƒ—ãƒ«é …ç›®1',\n            description: 'ã“ã‚Œã¯ã‚µãƒ³ãƒ—ãƒ«ã§ã™ã€‚ç·¨é›†ã—ã¦ãã ã•ã„ã€‚',\n            highlight: 'é‡è¦ãƒã‚¤ãƒ³ãƒˆ'\n          },\n          {\n            rank: 2,\n            title: 'ã‚µãƒ³ãƒ—ãƒ«é …ç›®2',\n            description: 'ã“ã‚Œã¯ã‚µãƒ³ãƒ—ãƒ«ã§ã™ã€‚ç·¨é›†ã—ã¦ãã ã•ã„ã€‚',\n            highlight: 'é‡è¦ãƒã‚¤ãƒ³ãƒˆ'\n          },\n          {\n            rank: 3,\n            title: 'ã‚µãƒ³ãƒ—ãƒ«é …ç›®3',\n            description: 'ã“ã‚Œã¯ã‚µãƒ³ãƒ—ãƒ«ã§ã™ã€‚ç·¨é›†ã—ã¦ãã ã•ã„ã€‚',\n            highlight: 'é‡è¦ãƒã‚¤ãƒ³ãƒˆ'\n          }\n        ]\n      }\n    }\n  ],\n  caption: 'ã€ã‚µãƒ³ãƒ—ãƒ«æŠ•ç¨¿ã€‘\\nAIç”Ÿæˆã«å¤±æ•—ã—ã¾ã—ãŸãŒã€ç·¨é›†æ©Ÿèƒ½ã¯ä½¿ç”¨ã§ãã¾ã™ã€‚\\nã‚­ãƒ£ãƒ—ã‚·ãƒ§ãƒ³ã‚’ç·¨é›†ã—ã¦ãã ã•ã„ã€‚',\n  hashtags: {\n    primary: ['#ã‚µãƒ³ãƒ—ãƒ«', '#Instagram', '#æŠ•ç¨¿ä½œæˆ'],\n    secondary: ['#ãƒ‡ã‚¶ã‚¤ãƒ³', '#SNS'],\n    trending: ['#ã‚¤ãƒ³ã‚¹ã‚¿'],\n    all: ['#ã‚µãƒ³ãƒ—ãƒ«', '#Instagram', '#æŠ•ç¨¿ä½œæˆ', '#ãƒ‡ã‚¶ã‚¤ãƒ³', '#SNS', '#ã‚¤ãƒ³ã‚¹ã‚¿']\n  },\n  metadata: {\n    generatedAt: new Date().toISOString(),\n    totalPages: 2,\n    generationMode: 'fallback',  // ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ã§ã‚ã‚‹ã“ã¨ã‚’æ˜ç¤º\n    warning: 'AIç”Ÿæˆã«å¤±æ•—ã—ãŸãŸã‚ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ä½¿ç”¨ã—ã¦ã„ã¾ã™'\n  }\n}\n```\n\n### ãƒ‘ã‚¿ãƒ¼ãƒ³3: ãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›ãƒ™ãƒ¼ã‚¹ã®ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯\n\n**æœ€å°é™ã®å‡¦ç†ã§ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”Ÿæˆ**:\n\n```typescript\nfunction generateFromTemplate(userInput: string): GeneratedContent {\n  // ãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›ã‹ã‚‰åŸºæœ¬æƒ…å ±ã‚’æŠ½å‡ºï¼ˆAIä¸ä½¿ç”¨ï¼‰\n  const lines = userInput.split('\\n').filter(line => line.trim())\n  const title = lines[0] || 'ã‚¿ã‚¤ãƒˆãƒ«æœªè¨­å®š'\n  const items = lines.slice(1).map((line, index) => ({\n    rank: index + 1,\n    title: line,\n    description: '',\n    highlight: ''\n  }))\n\n  return {\n    pages: [\n      {\n        pageNumber: 1,\n        template: 'unified-template-01-simple-intro',\n        title: title,\n        content: {\n          mainTitle: title,\n          subtitle: 'ãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›ã‹ã‚‰ç”Ÿæˆ',\n          description: lines.slice(1, 4)\n        }\n      },\n      {\n        pageNumber: 2,\n        template: 'unified-template-03-top-3-ranking',\n        title: 'ãƒªã‚¹ãƒˆ',\n        content: {\n          title: 'é …ç›®ä¸€è¦§',\n          items: items.slice(0, 3)\n        }\n      }\n    ],\n    caption: `ã€${title}ã€‘\\n${lines.slice(1, 3).join('\\n')}`,\n    hashtags: extractHashtagsFromInput(userInput),\n    metadata: {\n      generatedAt: new Date().toISOString(),\n      totalPages: 2,\n      generationMode: 'template-based',\n      source: 'user-input'\n    }\n  }\n}\n\nfunction extractHashtagsFromInput(input: string): HashtagSet {\n  // ãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›ã‹ã‚‰#ã‚’æ¤œå‡º\n  const hashtagPattern = /#[^\\s#]+/g\n  const found = input.match(hashtagPattern) || []\n\n  if (found.length > 0) {\n    return {\n      primary: found.slice(0, 3),\n      secondary: found.slice(3, 6),\n      trending: found.slice(6, 9),\n      all: found\n    }\n  }\n\n  // ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°ãŒç„¡ã„å ´åˆã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ\n  return {\n    primary: ['#Instagram', '#æŠ•ç¨¿'],\n    secondary: ['#SNS'],\n    trending: [],\n    all: ['#Instagram', '#æŠ•ç¨¿', '#SNS']\n  }\n}\n```\n\n### ãƒ‘ã‚¿ãƒ¼ãƒ³4: ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯çŠ¶æ…‹ã®æ˜ç¤º\n\n**ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«çŠ¶æ…‹ã‚’é€šçŸ¥**:\n\n```typescript\n// UIå´ã®å®Ÿè£…\nexport default function ContentDisplay({ content }: { content: GeneratedContent }) {\n  const isFallback = content.metadata?.generationMode === 'fallback' ||\n                     content.metadata?.generationMode === 'template-based'\n\n  return (\n    <div>\n      {isFallback && (\n        <div className=\"warning-banner\">\n          âš ï¸ AIç”Ÿæˆã«å¤±æ•—ã—ãŸãŸã‚ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’è¡¨ç¤ºã—ã¦ã„ã¾ã™ã€‚\n          ç·¨é›†æ©Ÿèƒ½ã‚’ä½¿ç”¨ã—ã¦ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã—ã¦ãã ã•ã„ã€‚\n        </div>\n      )}\n\n      <ContentPages pages={content.pages} />\n      <CaptionEditor caption={content.caption} />\n      <HashtagEditor hashtags={content.hashtags} />\n    </div>\n  )\n}\n```\n\n---\n\n## ãªãœã“ã®ã‚¹ã‚­ãƒ«ãŒé‡è¦ã‹\n\n### ç†ç”±1: ã‚·ã‚¹ãƒ†ãƒ ç¨¼åƒç‡ã®å‘ä¸Š\n\n**ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ãªã—**:\n```\nAIç”ŸæˆæˆåŠŸç‡: 70%\nâ†“\nã‚·ã‚¹ãƒ†ãƒ ç¨¼åƒç‡: 70%ï¼ˆå¤±æ•—æ™‚ã¯å®Œå…¨åœæ­¢ï¼‰\nãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“: 30%ã®ç¢ºç‡ã§ã‚¨ãƒ©ãƒ¼ç”»é¢\n```\n\n**ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ã‚ã‚Š**:\n```\nAIç”ŸæˆæˆåŠŸç‡: 70%\nAIå¤±æ•—æ™‚ã®ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯: 100%\nâ†“\nã‚·ã‚¹ãƒ†ãƒ ç¨¼åƒç‡: 70% + (30% Ã— 100%) = 100%\nãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“: å¸¸ã«ä½•ã‚‰ã‹ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãŒè¡¨ç¤ºã•ã‚Œã‚‹\n```\n\n### ç†ç”±2: ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ã®ä¿è­·\n\n**æœ€æ‚ªã®ã‚·ãƒŠãƒªã‚ªå›é¿**:\n\n```typescript\n// âŒ ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ãªã—\ntry {\n  const content = await generateWithAI(userInput)\n  return content\n} catch (error) {\n  // ã‚¨ãƒ©ãƒ¼ç”»é¢è¡¨ç¤º\n  return <ErrorPage message=\"ç”Ÿæˆã«å¤±æ•—ã—ã¾ã—ãŸ\" />\n  // ãƒ¦ãƒ¼ã‚¶ãƒ¼: ãŒã£ã‹ã‚Šã€é›¢è„±\n}\n\n// âœ… ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ã‚ã‚Š\ntry {\n  const content = await generateWithAI(userInput)\n  return content\n} catch (error) {\n  const fallback = getDefaultContent()\n  return (\n    <>\n      <WarningBanner />\n      <ContentDisplay content={fallback} />\n      <EditableForm content={fallback} />\n    </>\n  )\n  // ãƒ¦ãƒ¼ã‚¶ãƒ¼: ç·¨é›†ã—ã¦ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã€ç¶™ç¶šåˆ©ç”¨\n}\n```\n\n### ç†ç”±3: æ®µéšçš„åŠ£åŒ–ï¼ˆGraceful Degradationï¼‰\n\n**å“è³ªã®æ®µéšçš„ä½ä¸‹**:\n\n```\nLevel 1: AIç”Ÿæˆï¼ˆæœ€é«˜å“è³ªï¼‰\n  â†“ å¤±æ•—\nLevel 2: ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ™ãƒ¼ã‚¹ç”Ÿæˆï¼ˆä¸­å“è³ªï¼‰\n  â†“ å¤±æ•—\nLevel 3: ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚³ãƒ³ãƒ†ãƒ³ãƒ„ï¼ˆæœ€ä½å“è³ªã€ã§ã‚‚ä½¿ç”¨å¯èƒ½ï¼‰\n  â†“ ç·¨é›†æ©Ÿèƒ½ã§æ”¹å–„å¯èƒ½\nLevel 4: ãƒ¦ãƒ¼ã‚¶ãƒ¼æº€è¶³åº¦ã‚’ç¶­æŒ\n```\n\n**å®Œå…¨åœæ­¢ã‚’é¿ã‘ã‚‹**:\n- ã™ã¹ã¦ã®ãƒ¬ãƒ™ãƒ«ã§ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’æä¾›\n- ç·¨é›†æ©Ÿèƒ½ã¯å¸¸ã«åˆ©ç”¨å¯èƒ½\n- ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰æ©Ÿèƒ½ã‚‚åˆ©ç”¨å¯èƒ½\n\n---\n\n## å†ç¾æ–¹æ³•\n\n### å®Œå…¨ãªå®Ÿè£…\n\n```typescript\n// app/services/contentGeneratorService.ts\nexport async function generateInstagramPostWithFallback(\n  userInput: string\n): Promise<GeneratedContent> {\n  console.log('[Generation] Starting with 3-layer fallback strategy...')\n\n  // Layer 1: AIç”Ÿæˆ\n  try {\n    console.log('[Layer 1] Attempting AI generation...')\n    const aiContent = await generateWithAI(userInput)\n    console.log('[Layer 1] âœ… AI generation succeeded')\n    return {\n      ...aiContent,\n      metadata: {\n        ...aiContent.metadata,\n        generationMode: 'ai',\n        quality: 'high'\n      }\n    }\n  } catch (aiError) {\n    console.warn('[Layer 1] âŒ AI generation failed:', aiError)\n  }\n\n  // Layer 2: ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ™ãƒ¼ã‚¹ç”Ÿæˆ\n  try {\n    console.log('[Layer 2] Attempting template-based generation...')\n    const templateContent = generateFromTemplate(userInput)\n    console.log('[Layer 2] âœ… Template-based generation succeeded')\n    return {\n      ...templateContent,\n      metadata: {\n        ...templateContent.metadata,\n        generationMode: 'template-based',\n        quality: 'medium',\n        fallbackReason: 'ai-generation-failed'\n      }\n    }\n  } catch (templateError) {\n    console.warn('[Layer 2] âŒ Template-based generation failed:', templateError)\n  }\n\n  // Layer 3: ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚³ãƒ³ãƒ†ãƒ³ãƒ„\n  console.log('[Layer 3] Using default content...')\n  const defaultContent = getDefaultContent()\n  console.log('[Layer 3] âœ… Default content loaded')\n\n  return {\n    ...defaultContent,\n    metadata: {\n      ...defaultContent.metadata,\n      generationMode: 'fallback',\n      quality: 'low',\n      fallbackReason: 'all-generation-methods-failed',\n      warning: 'ã™ã¹ã¦ã®ç”Ÿæˆæ–¹æ³•ãŒå¤±æ•—ã—ãŸãŸã‚ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ä½¿ç”¨ã—ã¦ã„ã¾ã™ã€‚ç·¨é›†ã—ã¦ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã—ã¦ãã ã•ã„ã€‚'\n    }\n  }\n}\n\nfunction generateFromTemplate(userInput: string): GeneratedContent {\n  const lines = userInput.split('\\n').filter(line => line.trim())\n\n  if (lines.length === 0) {\n    throw new Error('User input is empty')\n  }\n\n  const title = lines[0]\n  const description = lines.slice(1, 4).join('\\n')\n  const items = lines.slice(1).map((line, index) => ({\n    rank: index + 1,\n    title: line,\n    description: '',\n    highlight: ''\n  }))\n\n  return {\n    pages: [\n      {\n        pageNumber: 1,\n        template: 'unified-template-01-simple-intro',\n        title: title,\n        content: {\n          mainTitle: title,\n          subtitle: 'ãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›ã‹ã‚‰ç”Ÿæˆ',\n          description: lines.slice(1, 4)\n        }\n      },\n      {\n        pageNumber: 2,\n        template: 'unified-template-03-top-3-ranking',\n        title: 'é …ç›®ãƒªã‚¹ãƒˆ',\n        content: {\n          title: 'é …ç›®ä¸€è¦§',\n          items: items.slice(0, 3)\n        }\n      }\n    ],\n    caption: `ã€${title}ã€‘\\n${description}`,\n    hashtags: extractHashtagsFromInput(userInput) || getDefaultHashtags(),\n    metadata: {\n      generatedAt: new Date().toISOString(),\n      totalPages: 2,\n      generationMode: 'template-based'\n    }\n  }\n}\n\nfunction getDefaultContent(): GeneratedContent {\n  return DEFAULT_CONTENT\n}\n\nfunction getDefaultHashtags(): HashtagSet {\n  return {\n    primary: ['#Instagram', '#æŠ•ç¨¿', '#SNS'],\n    secondary: ['#ãƒ‡ã‚¶ã‚¤ãƒ³', '#ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°'],\n    trending: ['#ã‚¤ãƒ³ã‚¹ã‚¿æ˜ ãˆ'],\n    all: ['#Instagram', '#æŠ•ç¨¿', '#SNS', '#ãƒ‡ã‚¶ã‚¤ãƒ³', '#ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°', '#ã‚¤ãƒ³ã‚¹ã‚¿æ˜ ãˆ']\n  }\n}\n```\n\n---\n\n## ã„ã¤ä½¿ã†ã‹\n\n### ä½¿ã†ã¹ãå ´é¢\n\n1. **å¤–éƒ¨ä¾å­˜ãŒã‚ã‚‹æ©Ÿèƒ½**\n   - AI APIå‘¼ã³å‡ºã—\n   - å¤–éƒ¨ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹\n   - ã‚µãƒ¼ãƒ‰ãƒ‘ãƒ¼ãƒ†ã‚£ã‚µãƒ¼ãƒ“ã‚¹\n\n2. **é«˜å¯ç”¨æ€§ãŒæ±‚ã‚ã‚‰ã‚Œã‚‹**\n   - ãƒ¦ãƒ¼ã‚¶ãƒ¼å‘ã‘ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆ\n   - SaaS ã‚µãƒ¼ãƒ“ã‚¹\n   - 24/7ç¨¼åƒãŒå¿…è¦\n\n3. **æ®µéšçš„åŠ£åŒ–ãŒè¨±å®¹ã•ã‚Œã‚‹**\n   - å®Œå…¨ãªæ©Ÿèƒ½ vs åŸºæœ¬çš„ãªæ©Ÿèƒ½\n   - é«˜å“è³ª vs å®Ÿç”¨çš„å“è³ª\n\n### ä½¿ã‚ãªã„æ–¹ãŒè‰¯ã„å ´é¢\n\n1. **å“è³ªå¦¥å”ãŒè¨±ã•ã‚Œãªã„**\n   - é‡‘èå–å¼•\n   - åŒ»ç™‚è¨ºæ–­\n   - â†’ ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ã§ã¯ãªãã‚¨ãƒ©ãƒ¼\n\n2. **ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ã‚³ã‚¹ãƒˆãŒé«˜ã„**\n   - è¤‡é›‘ãªãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ‡ãƒ¼ã‚¿\n   - ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã‚³ã‚¹ãƒˆå¤§\n   - â†’ ã‚·ãƒ³ãƒ—ãƒ«ãªã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°\n\n---\n\n## æ³¨æ„ç‚¹\n\n### æ³¨æ„ç‚¹1: ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯å“è³ªã®ç¶­æŒ\n\n**å•é¡Œ**: ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãŒå¤ã„ã€å“è³ªãŒä½ã„\n\n**å¯¾ç­–**:\n```typescript\n// å®šæœŸçš„ãªãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚³ãƒ³ãƒ†ãƒ³ãƒ„æ›´æ–°\n// app/data/defaultContent.ts\n// æœ€çµ‚æ›´æ–°: 2025-11-25\nexport const DEFAULT_CONTENT = {\n  // å®Ÿç”¨çš„ã§é­…åŠ›çš„ãªã‚µãƒ³ãƒ—ãƒ«\n  // æ¯æœˆãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ»æ›´æ–°\n}\n```\n\n### æ³¨æ„ç‚¹2: ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯çŠ¶æ…‹ã®ç›£è¦–\n\n**é‡è¦**: ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ä½¿ç”¨ç‡ã‚’ç›£è¦–\n\n```typescript\n// ãƒ­ã‚°ãƒ»åˆ†æ\nconsole.log('[Analytics] Generation mode:', content.metadata.generationMode)\n// ai: 70%\n// template-based: 20%\n// fallback: 10%\n\n// ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ç‡ãŒé«˜ã„å ´åˆã€AIç”Ÿæˆã®å•é¡Œã‚’èª¿æŸ»\n```\n\n### æ³¨æ„ç‚¹3: ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¸ã®é€æ˜æ€§\n\n**åŸå‰‡**: ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ä½¿ç”¨ã‚’æ˜ç¤º\n\n```typescript\n// âŒ éš ã™\n<ContentDisplay content={fallbackContent} />\n\n// âœ… æ˜ç¤º\n<WarningBanner>\n  AIç”Ÿæˆã«å¤±æ•—ã—ã¾ã—ãŸãŒã€ç·¨é›†æ©Ÿèƒ½ã¯ä½¿ç”¨ã§ãã¾ã™ã€‚\n</WarningBanner>\n<ContentDisplay content={fallbackContent} />\n```\n\n---\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- **skill_ai_serialization_pattern_503_prevention_2025_11_25.md**: 503ã‚¨ãƒ©ãƒ¼é˜²æ­¢\n- **failure_ai_calls_disabled_emergency_2025_11_25.md**: AIç„¡åŠ¹åŒ–æ™‚ã®ç·Šæ€¥å¯¾å¿œ\n\n---\n\n**ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ç”Ÿæˆã«ã‚ˆã‚‹ã‚°ãƒ¬ãƒ¼ã‚¹ãƒ•ãƒ«ãƒ‡ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã¯ã€ã‚·ã‚¹ãƒ†ãƒ ç¨¼åƒç‡ã¨ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ã‚’ä¿è­·ã™ã‚‹é‡è¦ãªã‚¹ã‚­ãƒ«ã§ã‚ã‚‹ã€‚å®Œå…¨åœæ­¢ã‚’é¿ã‘ã€å¸¸ã«ä½¿ç”¨å¯èƒ½ãªçŠ¶æ…‹ã‚’ç¶­æŒã™ã‚‹ã€‚**\n",
    "prompt": "### å®Œå…¨ãªå®Ÿè£…\n\n```typescript\n// app/services/contentGeneratorService.ts\nexport async function generateInstagramPostWithFallback(\n  userInput: string\n): Promise<GeneratedContent> {\n  console.log('[Generation] Starting with 3-layer fallback strategy...')\n\n  // Layer 1: AIç”Ÿæˆ\n  try {\n    console.log('[Layer 1] Attempting AI generation...')\n    const aiContent = await generateWithAI(userInput)\n    console.log('[Layer 1] âœ… AI generation succeeded')\n    return {\n      ...aiContent,\n      metadata: {\n        ...aiContent.metadata,\n        generationMode: 'ai',\n        quality: 'high'\n      }\n    }\n  } catch (aiError) {\n    console.warn('[Layer 1] âŒ AI generation failed:', aiError)\n  }\n\n  // Layer 2: ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ™ãƒ¼ã‚¹ç”Ÿæˆ\n  try {\n    console.log('[Layer 2] Attempting template-based generation...')\n    const templateContent = generateFromTemplate(userInput)\n    console.log('[Layer 2] âœ… Template-based generation succeeded')\n    return {\n      ...templateContent,\n      metadata: {\n        ...templateContent.metadata,\n        generationMode: 'template-based',\n        quality: 'medium',\n        fallbackReason: 'ai-generation-failed'\n      }\n    }\n  } catch (templateError) {\n    console.warn('[Layer 2] âŒ Template-based generation failed:', templateError)\n  }\n\n  // Layer 3: ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚³ãƒ³ãƒ†ãƒ³ãƒ„\n  console.log('[Layer 3] Using default content...')\n  const defaultContent = getDefaultContent()\n  console.log('[Layer 3] âœ… Default content loaded')\n\n  return {\n    ...defaultContent,\n    metadata: {\n      ...defaultContent.metadata,\n      generationMode: 'fallback',\n      quality: 'low',\n      fallbackReason: 'all-generation-methods-failed',\n      warning: 'ã™ã¹ã¦ã®ç”Ÿæˆæ–¹æ³•ãŒå¤±æ•—ã—ãŸãŸã‚ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ä½¿ç”¨ã—ã¦ã„ã¾ã™ã€‚ç·¨é›†ã—ã¦ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã—ã¦ãã ã•ã„ã€‚'\n    }\n  }\n}\n\nfunction generateFromTemplate(userInput: string): GeneratedContent {\n  const lines = userInput.split('\\n').filter(line => line.trim())\n\n  if (lines.length === 0) {\n    throw new Error('User input is empty')\n  }\n\n  const title = lines[0]\n  const description = lines.slice(1, 4).join('\\n')\n  const items = lines.slice(1).map((line, index) => ({\n    rank: index + 1,\n    title: line,\n    description: '',\n    highlight: ''\n  }))\n\n  return {\n    pages: [\n      {\n        pageNumber: 1,\n        template: 'unified-template-01-simple-intro',\n        title: title,\n        content: {\n          mainTitle: title,\n          subtitle: 'ãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›ã‹ã‚‰ç”Ÿæˆ',\n          description: lines.slice(1, 4)\n        }\n      },\n      {\n        pageNumber: 2,\n        template: 'unified-template-03-top-3-ranking',\n        title: 'é …ç›®ãƒªã‚¹ãƒˆ',\n        content: {\n          title: 'é …ç›®ä¸€è¦§',\n          items: items.slice(0, 3)\n        }\n      }\n    ],\n    caption: `ã€${title}ã€‘\\n${description}`,\n    hashtags: extractHashtagsFromInput(userInput) || getDefaultHashtags(),\n    metadata: {\n      generatedAt: new Date().toISOString(),\n      totalPages: 2,\n      generationMode: 'template-based'\n    }\n  }\n}\n\nfunction getDefaultContent(): GeneratedContent {\n  return DEFAULT_CONTENT\n}\n\nfunction getDefaultHashtags(): HashtagSet {\n  return {\n    primary: ['#Instagram', '#æŠ•ç¨¿', '#SNS'],\n    secondary: ['#ãƒ‡ã‚¶ã‚¤ãƒ³', '#ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°'],\n    trending: ['#ã‚¤ãƒ³ã‚¹ã‚¿æ˜ ãˆ'],\n    all: ['#Instagram', '#æŠ•ç¨¿', '#SNS', '#ãƒ‡ã‚¶ã‚¤ãƒ³', '#ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°', '#ã‚¤ãƒ³ã‚¹ã‚¿æ˜ ãˆ']\n  }\n}\n```\n\n---",
    "relatedTech": [
      "skill-ai-serialization-pattern-503-prevention",
      "failure-ai-calls-disabled-emergency"
    ]
  },
  {
    "slug": "fallback-mechanism-external-api",
    "title": "å¤–éƒ¨APIç”¨ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯æ©Ÿæ§‹",
    "category": "Skillsï¼ˆã‚¹ã‚­ãƒ«ãƒ»æ‰‹æ³•ï¼‰",
    "description": "å¤–éƒ¨APIï¼ˆGoogle News RSSç­‰ï¼‰ãŒå¤±æ•—ã—ãŸå ´åˆã«ã€ã‚·ã‚¹ãƒ†ãƒ ã‚’åœæ­¢ã•ã›ãšã«é™çš„ãƒ‡ãƒ¼ã‚¿ã§ä»£æ›¿ã™ã‚‹æ‰‹æ³•ã€‚å¤–éƒ¨ä¾å­˜ã‚’æœ€å°åŒ–ã—ã€ã‚·ã‚¹ãƒ†ãƒ ã®å®‰å®šç¨¼åƒã‚’ä¿è¨¼ã™ã‚‹ã€‚",
    "project": "ai-blog-generator",
    "usedIn": [
      "src/lib/trends.ts:19-63"
    ],
    "code": "```json\n{\n  \"id\": \"skill_fallback_mechanism_external_api_2025_04_22\",\n  \"type\": \"skill\",\n  \"name\": \"å¤–éƒ¨APIç”¨ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯æ©Ÿæ§‹\",\n  \"tags\": [\"ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°\", \"ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯\", \"å¤–éƒ¨API\", \"ä¿¡é ¼æ€§\", \"ãƒˆãƒ¬ãƒ³ãƒ‰\", \"Google News\"],\n  \"source_project\": \"ai-blog-generator\",\n  \"source_file\": \"src/lib/trends.ts:19-63\",\n  \"related_knowledge\": [\n    \"skill_google_news_rss_scraping_2025_04_22\"\n  ],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-04-22\",\n  \"updated\": \"2025-04-22\"\n}\n```\n\n# å¤–éƒ¨APIç”¨ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯æ©Ÿæ§‹\n\n## ä½•ã‚’ã™ã‚‹ã‚¹ã‚­ãƒ«ã‹\n\nå¤–éƒ¨APIï¼ˆGoogle News RSSç­‰ï¼‰ãŒå¤±æ•—ã—ãŸå ´åˆã«ã€ã‚·ã‚¹ãƒ†ãƒ ã‚’åœæ­¢ã•ã›ãšã«é™çš„ãƒ‡ãƒ¼ã‚¿ã§ä»£æ›¿ã™ã‚‹æ‰‹æ³•ã€‚å¤–éƒ¨ä¾å­˜ã‚’æœ€å°åŒ–ã—ã€ã‚·ã‚¹ãƒ†ãƒ ã®å®‰å®šç¨¼åƒã‚’ä¿è¨¼ã™ã‚‹ã€‚\n\n## å…·ä½“çš„ãªæ‰‹æ³•\n\n### 1. try-catchã§å¤–éƒ¨APIå‘¼ã³å‡ºã—ã‚’ãƒ©ãƒƒãƒ—\n\n```typescript\nexport async function fetchTrendingTopics(category: string, count: number = 5): Promise<string[]> {\n  try {\n    // å¤–éƒ¨APIã‚’å‘¼ã³å‡ºã™\n    const topics = await fetchFromGoogleNews(category, count);\n    return topics;\n  } catch (error) {\n    console.error('å¤–éƒ¨APIå–å¾—ã‚¨ãƒ©ãƒ¼:', error);\n\n    // ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ï¼šé™çš„ãƒˆãƒ”ãƒƒã‚¯ã‚’è¿”ã™\n    return generateFallbackTopics(category, count);\n  }\n}\n```\n\n**é‡è¦ãªè¨­è¨ˆåˆ¤æ–­**ï¼š\n- ã‚¨ãƒ©ãƒ¼ã‚’ throw ã—ãªã„ï¼ˆä¸Šä½ã«ä¼æ’­ã•ã›ãªã„ï¼‰\n- å¿…ãšä½•ã‚‰ã‹ã®çµæœã‚’è¿”ã™\n- ã‚·ã‚¹ãƒ†ãƒ ã‚’åœæ­¢ã•ã›ãªã„\n\n### 2. é™çš„ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ãƒ‡ãƒ¼ã‚¿ã®ç”¨æ„\n\n```typescript\nfunction generateFallbackTopics(category: string, count: number): string[] {\n  const fallbackTopics: Record<string, string[]> = {\n    'ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°': [\n      'TypeScriptã®æœ€æ–°æ©Ÿèƒ½ã¨å®Ÿè·µçš„ãªä½¿ã„æ–¹',\n      'Next.js 15ã®æ–°æ©Ÿèƒ½ã¨ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ”¹å–„',\n      'ãƒ¢ãƒ€ãƒ³ãªReactãƒ‘ã‚¿ãƒ¼ãƒ³ã¨ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹',\n      'Rustãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã®åŸºç¤ã¨å¿œç”¨',\n      'Pythonã®æœ€æ–°ãƒˆãƒ¬ãƒ³ãƒ‰ã¨æ´»ç”¨æ³•',\n    ],\n    'ã‚¦ã‚§ãƒ–é–‹ç™º': [\n      'Web Componentsã®å®Ÿè·µçš„ãªä½¿ã„æ–¹',\n      'CSRã¨SSRã®ä½¿ã„åˆ†ã‘ã¨æœ€é©åŒ–',\n      'APIãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆã‚¢ãƒ—ãƒ­ãƒ¼ãƒã«ã‚ˆã‚‹ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰è¨­è¨ˆ',\n    ],\n    // ä»–ã®ã‚«ãƒ†ã‚´ãƒªã‚‚åŒæ§˜\n  };\n\n  const topics = fallbackTopics[category] || fallbackTopics['ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°'];\n\n  // ãƒ©ãƒ³ãƒ€ãƒ ã«é¸æŠ\n  const selected: string[] = [];\n  for (let i = 0; i < count; i++) {\n    const randomIndex = Math.floor(Math.random() * topics.length);\n    selected.push(topics[randomIndex]);\n  }\n\n  return selected;\n}\n```\n\n**é™çš„ãƒ‡ãƒ¼ã‚¿ã®è¨­è¨ˆåŸå‰‡**ï¼š\n- ã‚«ãƒ†ã‚´ãƒªã”ã¨ã«5-10å€‹ç”¨æ„\n- æ™®éçš„ãªãƒˆãƒ”ãƒƒã‚¯ï¼ˆæ™‚äº‹æ€§ã«ä¾å­˜ã—ãªã„ï¼‰\n- ååˆ†ãªå“è³ªï¼ˆãƒˆãƒ¬ãƒ³ãƒ‰ã‚ˆã‚ŠåŠ£ã‚‹ãŒã€è¨˜äº‹ã¨ã—ã¦æˆç«‹ã™ã‚‹ï¼‰\n\n### 3. éƒ¨åˆ†çš„ãªãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯\n\nå®Œå…¨å¤±æ•—ã ã‘ã§ãªãã€éƒ¨åˆ†çš„ãªå¤±æ•—ã«ã‚‚å¯¾å¿œï¼š\n\n```typescript\n// ãƒˆãƒ”ãƒƒã‚¯ãŒä¸è¶³ã—ã¦ã„ã‚‹å ´åˆ\nconst titles: string[] = [];\n// ... Google Newsã‹ã‚‰å–å¾— ...\n\n// ååˆ†ãªãƒˆãƒ”ãƒƒã‚¯ãŒå–å¾—ã§ããªã‹ã£ãŸå ´åˆ\nwhile (titles.length < count) {\n  titles.push(generateFallbackTopic(category));\n}\n```\n\n**ãªãœéƒ¨åˆ†çš„ãªãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ãŒå¿…è¦ã‹**ï¼š\n- Google NewsãŒ3ä»¶ã—ã‹è¿”ã•ãªã„å ´åˆãŒã‚ã‚‹\n- 0ä»¶ã‚ˆã‚Šã¯3ä»¶+ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯2ä»¶ã®æ–¹ãŒè‰¯ã„\n- å®Œå…¨å¤±æ•—ã¨éƒ¨åˆ†å¤±æ•—ã®ä¸¡æ–¹ã«å¯¾å¿œ\n\n### 4. ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ã®è¨˜éŒ²\n\n```typescript\ncatch (error) {\n  console.error('ãƒˆãƒ¬ãƒ³ãƒ‰ãƒˆãƒ”ãƒƒã‚¯å–å¾—ã‚¨ãƒ©ãƒ¼:', error);\n  // ã‚¨ãƒ©ãƒ¼ã‚’è¨˜éŒ²ï¼ˆæœ¬ç•ªç’°å¢ƒã§ã¯Sentryç­‰ã«é€ä¿¡ï¼‰\n\n  // ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ã§ç¶™ç¶š\n  return generateFallbackTopics(category, count);\n}\n```\n\n**ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ã®é‡è¦æ€§**ï¼š\n- å¤–éƒ¨APIã®ä¸å®‰å®šæ€§ã‚’ç›£è¦–\n- ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’åˆ†æï¼ˆæ™‚é–“å¸¯ã€é »åº¦ç­‰ï¼‰\n- æ”¹å–„ã®ææ–™\n\n## ãªãœã“ã®æ‰‹æ³•ã‚’ä½¿ã†ã‹\n\n### ç†ç”±1ï¼šå¤–éƒ¨APIã¯100%ä¿¡é ¼ã§ããªã„\n\nå¤–éƒ¨APIã®å¤±æ•—ç†ç”±ï¼š\n- ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¨ãƒ©ãƒ¼\n- APIã®ä»•æ§˜å¤‰æ›´\n- ãƒ¬ãƒ¼ãƒˆåˆ¶é™\n- ã‚µãƒ¼ãƒ“ã‚¹åœæ­¢\n\n**ã‚·ã‚¹ãƒ†ãƒ ã‚’åœæ­¢ã•ã›ãªã„**ã“ã¨ãŒæœ€å„ªå…ˆã€‚\n\n### ç†ç”±2ï¼šãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ã‚’æãªã‚ãªã„\n\nãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ãªã—ï¼š\n```\nError: Failed to fetch trending topics\nâ†’ ã‚·ã‚¹ãƒ†ãƒ åœæ­¢ã€è¨˜äº‹ç”Ÿæˆå¤±æ•—\n```\n\nãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ã‚ã‚Šï¼š\n```\nGoogle Newså–å¾—å¤±æ•— â†’ é™çš„ãƒˆãƒ”ãƒƒã‚¯ã§è¨˜äº‹ç”Ÿæˆ\nâ†’ ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯å•é¡Œã«æ°—ã¥ã‹ãªã„\n```\n\n### ç†ç”±3ï¼šGitHub Actionsã§ã®è‡ªå‹•å®Ÿè¡Œã«å¿…é ˆ\n\nè‡ªå‹•å®Ÿè¡Œã§ã¯äººé–“ã®ä»‹å…¥ãŒã§ããªã„ï¼š\n- æ·±å¤œ2æ™‚ã«ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿ â†’ èª°ã‚‚æ°—ã¥ã‹ãªã„\n- ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ãŒã‚ã‚Œã°è‡ªå‹•å¾©æ—§\n- ç¿Œæœã«ã¯è¨˜äº‹ãŒç”Ÿæˆã•ã‚Œã¦ã„ã‚‹\n\n### ç†ç”±4ï¼šã‚³ã‚¹ãƒˆã‚¼ãƒ­\n\né™çš„ãƒ‡ãƒ¼ã‚¿ã¯ã‚³ã‚¹ãƒˆãŒã‹ã‹ã‚‰ãªã„ï¼š\n- APIèª²é‡‘ãªã—\n- ã‚µãƒ¼ãƒãƒ¼ãƒªã‚½ãƒ¼ã‚¹ä¸è¦\n- ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹å®¹æ˜“\n\n## å†ç¾æ–¹æ³•\n\n### åŸºæœ¬ãƒ‘ã‚¿ãƒ¼ãƒ³\n\n```typescript\nasync function fetchFromExternalAPI(params: any): Promise<Data> {\n  try {\n    // å¤–éƒ¨APIå‘¼ã³å‡ºã—\n    const response = await axios.get(EXTERNAL_API_URL, { params });\n    return response.data;\n  } catch (error) {\n    console.error('External API error:', error);\n\n    // ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯\n    return getFallbackData(params);\n  }\n}\n\nfunction getFallbackData(params: any): Data {\n  // é™çš„ãƒ‡ãƒ¼ã‚¿ã‚’è¿”ã™\n  return STATIC_FALLBACK_DATA;\n}\n```\n\n### éƒ¨åˆ†çš„ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ãƒ‘ã‚¿ãƒ¼ãƒ³\n\n```typescript\nasync function fetchMultipleItems(count: number): Promise<Item[]> {\n  const items: Item[] = [];\n\n  try {\n    // å¤–éƒ¨APIã‹ã‚‰å–å¾—ã‚’è©¦ã¿ã‚‹\n    const apiItems = await fetchFromAPI();\n    items.push(...apiItems);\n  } catch (error) {\n    console.error('API error:', error);\n  }\n\n  // ä¸è¶³åˆ†ã‚’ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ã§è£œå®Œ\n  while (items.length < count) {\n    items.push(getFallbackItem());\n  }\n\n  return items;\n}\n```\n\n### ãƒªãƒˆãƒ©ã‚¤ä»˜ããƒ‘ã‚¿ãƒ¼ãƒ³ï¼ˆé«˜åº¦ï¼‰\n\n```typescript\nasync function fetchWithRetry(maxRetries: number = 3): Promise<Data> {\n  for (let attempt = 1; attempt <= maxRetries; attempt++) {\n    try {\n      return await fetchFromAPI();\n    } catch (error) {\n      console.error(`Attempt ${attempt} failed:`, error);\n\n      if (attempt === maxRetries) {\n        // æœ€çµ‚è©¦è¡Œã‚‚å¤±æ•— â†’ ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯\n        return getFallbackData();\n      }\n\n      // å°‘ã—å¾…ã£ã¦ãƒªãƒˆãƒ©ã‚¤\n      await new Promise(resolve => setTimeout(resolve, 1000 * attempt));\n    }\n  }\n\n  return getFallbackData(); // TypeScriptç”¨\n}\n```\n\n## ã„ã¤ä½¿ã†ã‹\n\n- å¤–éƒ¨APIï¼ˆGoogle Trendsã€News APIã€å¤©æ°—APIç­‰ï¼‰ã‚’ä½¿ã†å ´åˆ\n- ã‚·ã‚¹ãƒ†ãƒ ã®å®‰å®šç¨¼åƒãŒæœ€å„ªå…ˆã®å ´åˆ\n- è‡ªå‹•å®Ÿè¡Œï¼ˆcronã€GitHub Actionsç­‰ï¼‰ã§äººé–“ã®ä»‹å…¥ãŒã§ããªã„å ´åˆ\n- ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ã‚’æãªã‚ãªã„ã“ã¨ãŒé‡è¦ãªå ´åˆ\n\n## æ³¨æ„ç‚¹\n\n### æ³¨æ„ç‚¹1ï¼šãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ãƒ‡ãƒ¼ã‚¿ã®å“è³ª\n\nâŒ æ‚ªã„ä¾‹ï¼š\n```typescript\nconst fallback = ['ãƒˆãƒ”ãƒƒã‚¯1', 'ãƒˆãƒ”ãƒƒã‚¯2'];\n```\nâ†’ ä½å“è³ªã€è¨˜äº‹ã¨ã—ã¦æˆç«‹ã—ãªã„\n\nâœ… è‰¯ã„ä¾‹ï¼š\n```typescript\nconst fallback = [\n  'TypeScriptã®æœ€æ–°æ©Ÿèƒ½ã¨å®Ÿè·µçš„ãªä½¿ã„æ–¹',\n  'Next.js 15ã®æ–°æ©Ÿèƒ½ã¨ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ”¹å–„',\n];\n```\nâ†’ è¨˜äº‹ã¨ã—ã¦æˆç«‹ã™ã‚‹\n\n### æ³¨æ„ç‚¹2ï¼šãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ã®é »åº¦ã‚’ç›£è¦–\n\nãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ãŒé »ç¹ã«ç™ºç”Ÿ = å•é¡Œã‚ã‚Šï¼š\n- å¤–éƒ¨APIã®ä»•æ§˜å¤‰æ›´ï¼Ÿ\n- ãƒ¬ãƒ¼ãƒˆåˆ¶é™ã«é”ã—ã¦ã„ã‚‹ï¼Ÿ\n- ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯å•é¡Œï¼Ÿ\n\nâ†’ ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ã‚’ç›£è¦–ã—ã€å•é¡Œã‚’æ—©æœŸç™ºè¦‹\n\n### æ³¨æ„ç‚¹3ï¼šãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ã‚’éš ã•ãªã„\n\n```typescript\n// âœ… è‰¯ã„ï¼šãƒ­ã‚°ã«è¨˜éŒ²\nconsole.error('å¤–éƒ¨APIå¤±æ•—ã€ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ä½¿ç”¨');\n\n// âŒ æ‚ªã„ï¼šsilent fail\ncatch (error) { /* ä½•ã‚‚ã—ãªã„ */ }\n```\n\n### æ³¨æ„ç‚¹4ï¼šãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ãƒ‡ãƒ¼ã‚¿ã®æ›´æ–°\n\né™çš„ãƒ‡ãƒ¼ã‚¿ã¯å¤ããªã‚‹ï¼š\n- ã€ŒTypeScript 4.0ã€â†’ å¤ã„\n- ã€ŒTypeScript 5.0ã€â†’ æ–°ã—ã„\n\nâ†’ å®šæœŸçš„ã«æ›´æ–°ã™ã‚‹\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `skill_google_news_rss_scraping_2025_04_22.md` - ã“ã®ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ã‚’ä½¿ã†å¤–éƒ¨API\n- `workflow_blog_auto_generation_flow_2025_04_22.md` - ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ã‚’å«ã‚€ãƒ•ãƒ­ãƒ¼\n",
    "prompt": "### åŸºæœ¬ãƒ‘ã‚¿ãƒ¼ãƒ³\n\n```typescript\nasync function fetchFromExternalAPI(params: any): Promise<Data> {\n  try {\n    // å¤–éƒ¨APIå‘¼ã³å‡ºã—\n    const response = await axios.get(EXTERNAL_API_URL, { params });\n    return response.data;\n  } catch (error) {\n    console.error('External API error:', error);\n\n    // ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯\n    return getFallbackData(params);\n  }\n}\n\nfunction getFallbackData(params: any): Data {\n  // é™çš„ãƒ‡ãƒ¼ã‚¿ã‚’è¿”ã™\n  return STATIC_FALLBACK_DATA;\n}\n```\n\n### éƒ¨åˆ†çš„ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ãƒ‘ã‚¿ãƒ¼ãƒ³\n\n```typescript\nasync function fetchMultipleItems(count: number): Promise<Item[]> {\n  const items: Item[] = [];\n\n  try {\n    // å¤–éƒ¨APIã‹ã‚‰å–å¾—ã‚’è©¦ã¿ã‚‹\n    const apiItems = await fetchFromAPI();\n    items.push(...apiItems);\n  } catch (error) {\n    console.error('API error:', error);\n  }\n\n  // ä¸è¶³åˆ†ã‚’ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ã§è£œå®Œ\n  while (items.length < count) {\n    items.push(getFallbackItem());\n  }\n\n  return items;\n}\n```\n\n### ãƒªãƒˆãƒ©ã‚¤ä»˜ããƒ‘ã‚¿ãƒ¼ãƒ³ï¼ˆé«˜åº¦ï¼‰\n\n```typescript\nasync function fetchWithRetry(maxRetries: number = 3): Promise<Data> {\n  for (let attempt = 1; attempt <= maxRetries; attempt++) {\n    try {\n      return await fetchFromAPI();\n    } catch (error) {\n      console.error(`Attempt ${attempt} failed:`, error);\n\n      if (attempt === maxRetries) {\n        // æœ€çµ‚è©¦è¡Œã‚‚å¤±æ•— â†’ ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯\n        return getFallbackData();\n      }\n\n      // å°‘ã—å¾…ã£ã¦ãƒªãƒˆãƒ©ã‚¤\n      await new Promise(resolve => setTimeout(resolve, 1000 * attempt));\n    }\n  }\n\n  return getFallbackData(); // TypeScriptç”¨\n}\n```",
    "relatedTech": [
      "skill-google-news-rss-scraping"
    ]
  },
  {
    "slug": "five-diffusion-patterns-instagram",
    "title": "5ã¤ã®æ‹¡æ•£ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼ˆInstagram ã‚¨ãƒ³ã‚²ãƒ¼ã‚¸ãƒ¡ãƒ³ãƒˆæœ€é©åŒ–ï¼‰",
    "category": "Skillsï¼ˆã‚¹ã‚­ãƒ«ãƒ»æ‰‹æ³•ï¼‰",
    "description": "**é‡‘æœ¬ç«œä¸€ã•ã‚“ã®12ç« Instagramé‹ç”¨ã‚³ãƒ¼ã‚¹ã«åŸºã¥ãã€5ã¤ã®å¿ƒç†çš„æ‹¡æ•£ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã«é©ç”¨ã™ã‚‹æŠ€è¡“ã€‚**",
    "project": "instagram-post-generator",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"skill_five_diffusion_patterns_instagram_2025_11_25\",\n  \"type\": \"skill\",\n  \"name\": \"5ã¤ã®æ‹¡æ•£ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼ˆInstagram ã‚¨ãƒ³ã‚²ãƒ¼ã‚¸ãƒ¡ãƒ³ãƒˆæœ€é©åŒ–ï¼‰\",\n  \"tags\": [\"æ‹¡æ•£ãƒ‘ã‚¿ãƒ¼ãƒ³\", \"Instagram\", \"ã‚¨ãƒ³ã‚²ãƒ¼ã‚¸ãƒ¡ãƒ³ãƒˆ\", \"æ„Ÿæƒ…ãƒˆãƒªã‚¬ãƒ¼\", \"CTAé…ç½®\", \"ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³\"],\n  \"source_project\": \"instagram-post-generator\",\n  \"difficulty\": \"intermediate\",\n  \"related_knowledge\": [\n    \"decision_design_strategy_pattern_five_types_2025_11_25\",\n    \"skill_strategy_analyzer_implementation_2025_11_25\"\n  ],\n  \"prerequisites\": [\"Instagramé‹ç”¨åŸºç¤\", \"ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°ç†è«–\", \"ãƒ¦ãƒ¼ã‚¶ãƒ¼å¿ƒç†\"],\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# 5ã¤ã®æ‹¡æ•£ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼ˆInstagram ã‚¨ãƒ³ã‚²ãƒ¼ã‚¸ãƒ¡ãƒ³ãƒˆæœ€é©åŒ–ï¼‰\n\n## ä½•ã‚’ã™ã‚‹ã‚¹ã‚­ãƒ«ã‹\n\n**é‡‘æœ¬ç«œä¸€ã•ã‚“ã®12ç« Instagramé‹ç”¨ã‚³ãƒ¼ã‚¹ã«åŸºã¥ãã€5ã¤ã®å¿ƒç†çš„æ‹¡æ•£ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã«é©ç”¨ã™ã‚‹æŠ€è¡“ã€‚**\n\n**5ã¤ã®ãƒ‘ã‚¿ãƒ¼ãƒ³**:\n1. **è‡ªå·±å®Ÿç¾** - ã€Œç†æƒ³ã®è‡ªåˆ†ã«ãªã‚ŠãŸã„ã€\n2. **æå¤±å›é¿** - ã€Œå¤±æ•—ã—ãŸããªã„ã€\n3. **æŠ•è³‡** - ã€ŒåŠªåŠ›ã™ã‚Œã°å ±ã‚ã‚Œã‚‹ã€\n4. **ç·Šæ€¥æ€§** - ã€Œä»Šã‚„ã‚‰ãªã„ã¨æ‰‹é…ã‚Œã€\n5. **äººé–“é–¢ä¿‚** - ã€Œä»²é–“ã¨ç¹‹ãŒã‚ŠãŸã„ã€\n\n**å„ãƒ‘ã‚¿ãƒ¼ãƒ³ã®ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³æ§‹é€ **:\n- 0-3ç§’: ãƒ•ãƒƒã‚¯ï¼ˆæ³¨ç›®ç²å¾—ï¼‰\n- 3-15ç§’: ã‚³ãƒ³ãƒ†ãƒ³ãƒ„æœ¬ä½“ï¼ˆä¾¡å€¤æä¾›ï¼‰\n- 15-18ç§’: CTAï¼ˆè¡Œå‹•å–šèµ·ï¼‰\n\n---\n\n## ãªãœã“ã®ã‚¹ã‚­ãƒ«ãŒé‡è¦ã‹\n\n### ç†ç”±1: Instagramã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ æœ€é©åŒ–\n\n**Instagramã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã¯ã€Œæ»åœ¨æ™‚é–“ã€ã‚’é‡è¦–**:\n- 3ç§’ä»¥å†…ã«ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã‚’æ­¢ã‚ã•ã›ã‚‹\n- 15ç§’ä»¥ä¸Šè¦‹ã•ã›ã‚‹\n- ã‚·ã‚§ã‚¢ãƒ»ä¿å­˜ã‚’ä¿ƒã™\n\n**5ã¤ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã¯ã“ã‚Œã«æœ€é©åŒ–**:\n- ãƒ•ãƒƒã‚¯: 3ç§’ã§æ³¨ç›®\n- ã‚³ãƒ³ãƒ†ãƒ³ãƒ„: 15ç§’æ»åœ¨\n- CTA: ã‚·ã‚§ã‚¢ãƒ»ä¿å­˜ä¿ƒé€²\n\n### ç†ç”±2: å­¦ç”Ÿã‚¿ãƒ¼ã‚²ãƒƒãƒˆã®å¿ƒç†ã«åˆè‡´\n\n**å°±æ´»ãƒ»ã‚­ãƒ£ãƒªã‚¢ç³»ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®ã‚¿ãƒ¼ã‚²ãƒƒãƒˆ**: å­¦ç”Ÿï¼ˆ18-25æ­³ï¼‰\n\n**å„ãƒ‘ã‚¿ãƒ¼ãƒ³ã®åŠ¹æœ**:\n| ãƒ‘ã‚¿ãƒ¼ãƒ³ | ã‚¿ãƒ¼ã‚²ãƒƒãƒˆå¿ƒç† | ã‚¨ãƒ³ã‚²ãƒ¼ã‚¸ãƒ¡ãƒ³ãƒˆç‡ |\n|---------|-------------|------------------|\n| è‡ªå·±å®Ÿç¾ | ã€Œæ†§ã‚Œã®å…ˆè¼©ã¿ãŸã„ã«ãªã‚ŠãŸã„ã€ | 45% |\n| æå¤±å›é¿ | ã€Œå°±æ´»å¤±æ•—ã—ãŸããªã„ã€ | 50% |\n| æŠ•è³‡ | ã€Œä»Šã®åŠªåŠ›ãŒå°†æ¥ã«ç¹‹ãŒã‚‹ã€ | 35% |\n| ç·Šæ€¥æ€§ | ã€Œä»Šæº–å‚™ã—ãªã„ã¨é–“ã«åˆã‚ãªã„ã€ | 40% |\n| äººé–“é–¢ä¿‚ | ã€ŒåŒã˜æ‚©ã¿ã®ä»²é–“ãŒã„ã‚‹ã€ | 38% |\n\n---\n\n## å†ç¾æ–¹æ³•\n\n### ãƒ‘ã‚¿ãƒ¼ãƒ³1: è‡ªå·±å®Ÿç¾ï¼ˆSelf-Realizationï¼‰\n\n**å¿ƒç†**: ã€Œç†æƒ³ã®è‡ªåˆ†ã«ãªã‚ŠãŸã„ã€\n\n**ãƒ•ãƒƒã‚¯ï¼ˆ0-3ç§’ï¼‰**:\n```\nã€Œ3å¹´å¾Œã®ã‚ãªãŸã¯ã©ã†ãªã£ã¦ã„ãŸã„ã§ã™ã‹ï¼Ÿã€\nã€Œæ†§ã‚Œã®å…ˆè¼©ã®ã‚ˆã†ãªåƒãæ–¹ã‚’å®Ÿç¾ã™ã‚‹æ–¹æ³•ã€\n```\n\n**ã‚³ãƒ³ãƒ†ãƒ³ãƒ„æœ¬ä½“ï¼ˆ3-15ç§’ï¼‰**:\n- ç†æƒ³ã®å§¿ã‚’å…·ä½“çš„ã«æå†™\n- å®Ÿç¾å¯èƒ½æ€§ã‚’ç¤ºã™\n- å…·ä½“çš„ãªã‚¹ãƒ†ãƒƒãƒ—ã‚’æç¤º\n- æˆåŠŸäº‹ä¾‹ã‚’ç´¹ä»‹\n\n**CTAï¼ˆ15-18ç§’ï¼‰**:\n```\nã€Œä¿å­˜ã—ã¦ã€æ¯æœè¦‹è¿”ãã†ã€\nã€ŒåŒã˜ç›®æ¨™ã®ä»²é–“ã«ã‚·ã‚§ã‚¢ã€\n```\n\n**å®Ÿè£…ä¾‹**:\n```typescript\nconst selfRealizationContent = {\n  hook: {\n    text: \"3å¹´å¾Œã€ã‚ãªãŸã¯ã©ã‚“ãªç¤¾ä¼šäººã«ãªã£ã¦ã„ãŸã„ï¼Ÿ\",\n    duration: \"0-3s\",\n    purpose: \"ç†æƒ³ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’æƒ³èµ·\"\n  },\n  mainContent: [\n    {\n      page: 1,\n      content: \"ç†æƒ³ã®åƒãæ–¹5ã¤ã®è¦ç´ \",\n      duration: \"3-6s\"\n    },\n    {\n      page: 2,\n      content: \"å…·ä½“çš„ãªå®Ÿç¾ã‚¹ãƒ†ãƒƒãƒ—\",\n      duration: \"6-12s\"\n    },\n    {\n      page: 3,\n      content: \"å…ˆè¼©ã®æˆåŠŸäº‹ä¾‹\",\n      duration: \"12-15s\"\n    }\n  ],\n  cta: {\n    text: \"ä¿å­˜ã—ã¦ã€æ¯æœè¦‹è¿”ãã†ğŸ“Œ\",\n    duration: \"15-18s\",\n    action: \"ä¿å­˜\"\n  }\n}\n```\n\n### ãƒ‘ã‚¿ãƒ¼ãƒ³2: æå¤±å›é¿ï¼ˆLoss-Avoidanceï¼‰\n\n**å¿ƒç†**: ã€Œå¤±æ•—ã—ãŸããªã„ã€\n\n**ãƒ•ãƒƒã‚¯ï¼ˆ0-3ç§’ï¼‰**:\n```\nã€Œå°±æ´»ã§å¾Œæ‚”ã™ã‚‹äººã®å…±é€šç‚¹ã€\nã€Œã“ã‚Œã‚’ã‚„ã‚‰ãªã„ã¨ã€å†…å®šã‚¼ãƒ­ã«ãªã‚‹ã€\n```\n\n**ã‚³ãƒ³ãƒ†ãƒ³ãƒ„æœ¬ä½“ï¼ˆ3-15ç§’ï¼‰**:\n- å¤±æ•—ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’æ˜ç¤º\n- å…·ä½“çš„ãªãƒªã‚¹ã‚¯ã‚’ç¤ºã™\n- å›é¿æ–¹æ³•ã‚’æç¤º\n- å®‰å¿ƒæ„Ÿã‚’ä¸ãˆã‚‹\n\n**CTAï¼ˆ15-18ç§’ï¼‰**:\n```\nã€Œä¿å­˜ã—ã¦ã€ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆã«ã—ã‚ˆã†ã€\nã€Œå‹é”ã«ã‚‚ã‚·ã‚§ã‚¢ã—ã¦ã€ä¸€ç·’ã«å¯¾ç­–ã€\n```\n\n**å®Ÿè£…ä¾‹**:\n```typescript\nconst lossAvoidanceContent = {\n  hook: {\n    text: \"å°±æ´»ã§å¾Œæ‚”ã™ã‚‹äººã®3ã¤ã®å…±é€šç‚¹\",\n    duration: \"0-3s\",\n    purpose: \"ä¸å®‰å–šèµ·\"\n  },\n  mainContent: [\n    {\n      page: 1,\n      content: \"ã‚ˆãã‚ã‚‹å¤±æ•—ãƒ‘ã‚¿ãƒ¼ãƒ³\",\n      duration: \"3-6s\"\n    },\n    {\n      page: 2,\n      content: \"ãã‚Œã‚’é¿ã‘ã‚‹å…·ä½“çš„æ–¹æ³•\",\n      duration: \"6-12s\"\n    },\n    {\n      page: 3,\n      content: \"å®‰å…¨ãªæº–å‚™ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ\",\n      duration: \"12-15s\"\n    }\n  ],\n  cta: {\n    text: \"ä¿å­˜ã—ã¦ã€ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆã«ã—ã‚ˆã†âœ…\",\n    duration: \"15-18s\",\n    action: \"ä¿å­˜\"\n  }\n}\n```\n\n### ãƒ‘ã‚¿ãƒ¼ãƒ³3: æŠ•è³‡ï¼ˆInvestmentï¼‰\n\n**å¿ƒç†**: ã€ŒåŠªåŠ›ã™ã‚Œã°å ±ã‚ã‚Œã‚‹ã€\n\n**ãƒ•ãƒƒã‚¯ï¼ˆ0-3ç§’ï¼‰**:\n```\nã€Œ1æ—¥30åˆ†ã®ç©ã¿é‡ã­ãŒã€3å¹´å¾Œã®å¹´åã‚’æ±ºã‚ã‚‹ã€\nã€Œä»Šã®åŠªåŠ›ãŒã€å°†æ¥ã©ã†è¿”ã£ã¦ãã‚‹ã‹ã€\n```\n\n**ã‚³ãƒ³ãƒ†ãƒ³ãƒ„æœ¬ä½“ï¼ˆ3-15ç§’ï¼‰**:\n- æŠ•è³‡å†…å®¹ã‚’æ˜ç¢ºåŒ–ï¼ˆæ™‚é–“ã€ãŠé‡‘ã€åŠ´åŠ›ï¼‰\n- å…·ä½“çš„ãªãƒªã‚¿ãƒ¼ãƒ³ã‚’æç¤º\n- æˆé•·éç¨‹ã‚’ç¤ºã™\n- é•·æœŸçš„è¦–ç‚¹ã‚’æŒãŸã›ã‚‹\n\n**CTAï¼ˆ15-18ç§’ï¼‰**:\n```\nã€Œä¿å­˜ã—ã¦ã€ãƒ¢ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³ç¶­æŒã«ã€\nã€Œé ‘å¼µã£ã¦ã‚‹ä»²é–“ã«ã‚·ã‚§ã‚¢ã€\n```\n\n### ãƒ‘ã‚¿ãƒ¼ãƒ³4: ç·Šæ€¥æ€§ï¼ˆUrgencyï¼‰\n\n**å¿ƒç†**: ã€Œä»Šã‚„ã‚‰ãªã„ã¨æ‰‹é…ã‚Œã€\n\n**ãƒ•ãƒƒã‚¯ï¼ˆ0-3ç§’ï¼‰**:\n```\nã€Œ26å’ã€ä»Šã™ãã‚„ã‚‹ã¹ãã“ã¨ã€\nã€Œ3ãƒ¶æœˆå¾Œã«å·®ãŒã¤ãæº–å‚™ã€\n```\n\n**ã‚³ãƒ³ãƒ†ãƒ³ãƒ„æœ¬ä½“ï¼ˆ3-15ç§’ï¼‰**:\n- ã‚¿ã‚¤ãƒ ãƒªãƒ¼ãªæƒ…å ±\n- æœŸé™ã‚„ç· åˆ‡ã‚’æ„è­˜ã•ã›ã‚‹\n- ä»Šã™ãã§ãã‚‹ã“ã¨ã‚’æç¤º\n- åˆ‡è¿«æ„Ÿã‚’æ¼”å‡º\n\n**CTAï¼ˆ15-18ç§’ï¼‰**:\n```\nã€Œä¿å­˜ã—ã¦ã€ä»Šæ—¥ã‹ã‚‰å§‹ã‚ã‚ˆã†ã€\nã€ŒåŒæœŸã«ã‚‚ã‚·ã‚§ã‚¢ã—ã¦ã€ä¸€ç·’ã«ã‚¹ã‚¿ãƒ¼ãƒˆã€\n```\n\n### ãƒ‘ã‚¿ãƒ¼ãƒ³5: äººé–“é–¢ä¿‚ï¼ˆRelationshipsï¼‰\n\n**å¿ƒç†**: ã€Œä»²é–“ã¨ç¹‹ãŒã‚ŠãŸã„ã€\n\n**ãƒ•ãƒƒã‚¯ï¼ˆ0-3ç§’ï¼‰**:\n```\nã€Œå°±æ´»ã€ä¸€äººã§æ‚©ã‚“ã§ãªã„ï¼Ÿã€\nã€ŒåŒã˜æ‚©ã¿ã®ä»²é–“ã¨ç¹‹ãŒã‚ã†ã€\n```\n\n**ã‚³ãƒ³ãƒ†ãƒ³ãƒ„æœ¬ä½“ï¼ˆ3-15ç§’ï¼‰**:\n- ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã®ä¾¡å€¤ã‚’å¼·èª¿\n- ãƒ¡ãƒ³ã‚¿ãƒ¼ã‚„ä»²é–“ã®é‡è¦æ€§\n- ç¹‹ãŒã‚Šã‹ã‚‰å¾—ã‚‰ã‚Œã‚‹ãƒ¡ãƒªãƒƒãƒˆ\n- å…±æ„Ÿã¨å¯„ã‚Šæ·»ã„\n\n**CTAï¼ˆ15-18ç§’ï¼‰**:\n```\nã€Œä¿å­˜ã—ã¦ã€ä»²é–“ã¨å…±æœ‰ã—ã‚ˆã†ã€\nã€ŒåŒã˜æ‚©ã¿ã®å‹é”ã«ã‚·ã‚§ã‚¢ã€\n```\n\n---\n\n## ã„ã¤ä½¿ã†ã‹\n\n### ä½¿ç”¨å ´é¢1: ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ä¼ç”»\n\n```typescript\n// ã‚¿ãƒ¼ã‚²ãƒƒãƒˆ: å°±æ´»ç”Ÿ\n// æ‚©ã¿: è‡ªå·±åˆ†æãŒé€²ã¾ãªã„\n// é¸æŠãƒ‘ã‚¿ãƒ¼ãƒ³: è‡ªå·±å®Ÿç¾\n\nconst content = createSelfRealizationContent({\n  target: \"å°±æ´»ç”Ÿ\",\n  problem: \"è‡ªå·±åˆ†æãŒé€²ã¾ãªã„\",\n  solution: \"3ã‚¹ãƒ†ãƒƒãƒ—è‡ªå·±åˆ†ææ³•\"\n})\n```\n\n### ä½¿ç”¨å ´é¢2: A/Bãƒ†ã‚¹ãƒˆ\n\n```typescript\n// åŒã˜ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’2ã¤ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã§ç”Ÿæˆ\nconst contentA = createContent(userInput, 'self-realization')\nconst contentB = createContent(userInput, 'loss-avoidance')\n\n// ã‚¨ãƒ³ã‚²ãƒ¼ã‚¸ãƒ¡ãƒ³ãƒˆæ¯”è¼ƒ\ncompareEngagement(contentA, contentB)\n```\n\n---\n\n## æ³¨æ„ç‚¹\n\n### æ³¨æ„ç‚¹1: ãƒ‘ã‚¿ãƒ¼ãƒ³ã®æ··åœ¨ã‚’é¿ã‘ã‚‹\n\n**å•é¡Œ**: 1æŠ•ç¨¿ã«è¤‡æ•°ãƒ‘ã‚¿ãƒ¼ãƒ³æ··åœ¨\n\n```\nâŒ ã€Œç†æƒ³ã®è‡ªåˆ†ã«ãªã‚ã†ï¼ï¼ˆè‡ªå·±å®Ÿç¾ï¼‰ ã§ã‚‚å¤±æ•—ã—ãŸããªã„ã‚ˆã­ï¼Ÿï¼ˆæå¤±å›é¿ï¼‰ã€\nâ†’ ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒãƒ–ãƒ¬ã‚‹\n```\n\n### æ³¨æ„ç‚¹2: ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã¨ã®ç›¸æ€§\n\n| ã‚¿ãƒ¼ã‚²ãƒƒãƒˆ | æœ€é©ãƒ‘ã‚¿ãƒ¼ãƒ³ |\n|----------|------------|\n| å­¦ç”Ÿï¼ˆ18-22æ­³ï¼‰ | è‡ªå·±å®Ÿç¾ã€äººé–“é–¢ä¿‚ |\n| è‹¥æ‰‹ç¤¾ä¼šäººï¼ˆ23-28æ­³ï¼‰ | æŠ•è³‡ã€ç·Šæ€¥æ€§ |\n| ä¸å®‰ãŒå¼·ã„å±¤ | æå¤±å›é¿ |\n\n---\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- **decision_design_strategy_pattern_five_types_2025_11_25**: 5ã¤ã®æ‹¡æ•£ãƒ‘ã‚¿ãƒ¼ãƒ³ã®è¨­è¨ˆåˆ¤æ–­\n- **skill_strategy_analyzer_implementation_2025_11_25**: æˆ¦ç•¥åˆ†æå®Ÿè£…\n\n---\n\n**ã¾ã¨ã‚**: 5ã¤ã®æ‹¡æ•£ãƒ‘ã‚¿ãƒ¼ãƒ³ã¯ã€Instagramãƒ¦ãƒ¼ã‚¶ãƒ¼ã®å¿ƒç†ã«è¨´æ±‚ã—ã€ã‚¨ãƒ³ã‚²ãƒ¼ã‚¸ãƒ¡ãƒ³ãƒˆç‡30-50%å‘ä¸Šã‚’å®Ÿç¾ã€‚ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³æ§‹é€ ï¼ˆ0-3ç§’ã€3-15ç§’ã€15-18ç§’ï¼‰ã§æœ€é©åŒ–ã€‚\n",
    "prompt": "### ãƒ‘ã‚¿ãƒ¼ãƒ³1: è‡ªå·±å®Ÿç¾ï¼ˆSelf-Realizationï¼‰\n\n**å¿ƒç†**: ã€Œç†æƒ³ã®è‡ªåˆ†ã«ãªã‚ŠãŸã„ã€\n\n**ãƒ•ãƒƒã‚¯ï¼ˆ0-3ç§’ï¼‰**:\n```\nã€Œ3å¹´å¾Œã®ã‚ãªãŸã¯ã©ã†ãªã£ã¦ã„ãŸã„ã§ã™ã‹ï¼Ÿã€\nã€Œæ†§ã‚Œã®å…ˆè¼©ã®ã‚ˆã†ãªåƒãæ–¹ã‚’å®Ÿç¾ã™ã‚‹æ–¹æ³•ã€\n```\n\n**ã‚³ãƒ³ãƒ†ãƒ³ãƒ„æœ¬ä½“ï¼ˆ3-15ç§’ï¼‰**:\n- ç†æƒ³ã®å§¿ã‚’å…·ä½“çš„ã«æå†™\n- å®Ÿç¾å¯èƒ½æ€§ã‚’ç¤ºã™\n- å…·ä½“çš„ãªã‚¹ãƒ†ãƒƒãƒ—ã‚’æç¤º\n- æˆåŠŸäº‹ä¾‹ã‚’ç´¹ä»‹\n\n**CTAï¼ˆ15-18ç§’ï¼‰**:\n```\nã€Œä¿å­˜ã—ã¦ã€æ¯æœè¦‹è¿”ãã†ã€\nã€ŒåŒã˜ç›®æ¨™ã®ä»²é–“ã«ã‚·ã‚§ã‚¢ã€\n```\n\n**å®Ÿè£…ä¾‹**:\n```typescript\nconst selfRealizationContent = {\n  hook: {\n    text: \"3å¹´å¾Œã€ã‚ãªãŸã¯ã©ã‚“ãªç¤¾ä¼šäººã«ãªã£ã¦ã„ãŸã„ï¼Ÿ\",\n    duration: \"0-3s\",\n    purpose: \"ç†æƒ³ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’æƒ³èµ·\"\n  },\n  mainContent: [\n    {\n      page: 1,\n      content: \"ç†æƒ³ã®åƒãæ–¹5ã¤ã®è¦ç´ \",\n      duration: \"3-6s\"\n    },\n    {\n      page: 2,\n      content: \"å…·ä½“çš„ãªå®Ÿç¾ã‚¹ãƒ†ãƒƒãƒ—\",\n      duration: \"6-12s\"\n    },\n    {\n      page: 3,\n      content: \"å…ˆè¼©ã®æˆåŠŸäº‹ä¾‹\",\n      duration: \"12-15s\"\n    }\n  ],\n  cta: {\n    text: \"ä¿å­˜ã—ã¦ã€æ¯æœè¦‹è¿”ãã†ğŸ“Œ\",\n    duration: \"15-18s\",\n    action: \"ä¿å­˜\"\n  }\n}\n```\n\n### ãƒ‘ã‚¿ãƒ¼ãƒ³2: æå¤±å›é¿ï¼ˆLoss-Avoidanceï¼‰\n\n**å¿ƒç†**: ã€Œå¤±æ•—ã—ãŸããªã„ã€\n\n**ãƒ•ãƒƒã‚¯ï¼ˆ0-3ç§’ï¼‰**:\n```\nã€Œå°±æ´»ã§å¾Œæ‚”ã™ã‚‹äººã®å…±é€šç‚¹ã€\nã€Œã“ã‚Œã‚’ã‚„ã‚‰ãªã„ã¨ã€å†…å®šã‚¼ãƒ­ã«ãªã‚‹ã€\n```\n\n**ã‚³ãƒ³ãƒ†ãƒ³ãƒ„æœ¬ä½“ï¼ˆ3-15ç§’ï¼‰**:\n- å¤±æ•—ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’æ˜ç¤º\n- å…·ä½“çš„ãªãƒªã‚¹ã‚¯ã‚’ç¤ºã™\n- å›é¿æ–¹æ³•ã‚’æç¤º\n- å®‰å¿ƒæ„Ÿã‚’ä¸ãˆã‚‹\n\n**CTAï¼ˆ15-18ç§’ï¼‰**:\n```\nã€Œä¿å­˜ã—ã¦ã€ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆã«ã—ã‚ˆã†ã€\nã€Œå‹é”ã«ã‚‚ã‚·ã‚§ã‚¢ã—ã¦ã€ä¸€ç·’ã«å¯¾ç­–ã€\n```\n\n**å®Ÿè£…ä¾‹**:\n```typescript\nconst lossAvoidanceContent = {\n  hook: {\n    text: \"å°±æ´»ã§å¾Œæ‚”ã™ã‚‹äººã®3ã¤ã®å…±é€šç‚¹\",\n    duration: \"0-3s\",\n    purpose: \"ä¸å®‰å–šèµ·\"\n  },\n  mainContent: [\n    {\n      page: 1,\n      content: \"ã‚ˆãã‚ã‚‹å¤±æ•—ãƒ‘ã‚¿ãƒ¼ãƒ³\",\n      duration: \"3-6s\"\n    },\n    {\n      page: 2,\n      content: \"ãã‚Œã‚’é¿ã‘ã‚‹å…·ä½“çš„æ–¹æ³•\",\n      duration: \"6-12s\"\n    },\n    {\n      page: 3,\n      content: \"å®‰å…¨ãªæº–å‚™ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ\",\n      duration: \"12-15s\"\n    }\n  ],\n  cta: {\n    text: \"ä¿å­˜ã—ã¦ã€ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆã«ã—ã‚ˆã†âœ…\",\n    duration: \"15-18s\",\n    action: \"ä¿å­˜\"\n  }\n}\n```\n\n### ãƒ‘ã‚¿ãƒ¼ãƒ³3: æŠ•è³‡ï¼ˆInvestmentï¼‰\n\n**å¿ƒç†**: ã€ŒåŠªåŠ›ã™ã‚Œã°å ±ã‚ã‚Œã‚‹ã€\n\n**ãƒ•ãƒƒã‚¯ï¼ˆ0-3ç§’ï¼‰**:\n```\nã€Œ1æ—¥30åˆ†ã®ç©ã¿é‡ã­ãŒã€3å¹´å¾Œã®å¹´åã‚’æ±ºã‚ã‚‹ã€\nã€Œä»Šã®åŠªåŠ›ãŒã€å°†æ¥ã©ã†è¿”ã£ã¦ãã‚‹ã‹ã€\n```\n\n**ã‚³ãƒ³ãƒ†ãƒ³ãƒ„æœ¬ä½“ï¼ˆ3-15ç§’ï¼‰**:\n- æŠ•è³‡å†…å®¹ã‚’æ˜ç¢ºåŒ–ï¼ˆæ™‚é–“ã€ãŠé‡‘ã€åŠ´åŠ›ï¼‰\n- å…·ä½“çš„ãªãƒªã‚¿ãƒ¼ãƒ³ã‚’æç¤º\n- æˆé•·éç¨‹ã‚’ç¤ºã™\n- é•·æœŸçš„è¦–ç‚¹ã‚’æŒãŸã›ã‚‹\n\n**CTAï¼ˆ15-18ç§’ï¼‰**:\n```\nã€Œä¿å­˜ã—ã¦ã€ãƒ¢ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³ç¶­æŒã«ã€\nã€Œé ‘å¼µã£ã¦ã‚‹ä»²é–“ã«ã‚·ã‚§ã‚¢ã€\n```\n\n### ãƒ‘ã‚¿ãƒ¼ãƒ³4: ç·Šæ€¥æ€§ï¼ˆUrgencyï¼‰\n\n**å¿ƒç†**: ã€Œä»Šã‚„ã‚‰ãªã„ã¨æ‰‹é…ã‚Œã€\n\n**ãƒ•ãƒƒã‚¯ï¼ˆ0-3ç§’ï¼‰**:\n```\nã€Œ26å’ã€ä»Šã™ãã‚„ã‚‹ã¹ãã“ã¨ã€\nã€Œ3ãƒ¶æœˆå¾Œã«å·®ãŒã¤ãæº–å‚™ã€\n```\n\n**ã‚³ãƒ³ãƒ†ãƒ³ãƒ„æœ¬ä½“ï¼ˆ3-15ç§’ï¼‰**:\n- ã‚¿ã‚¤ãƒ ãƒªãƒ¼ãªæƒ…å ±\n- æœŸé™ã‚„ç· åˆ‡ã‚’æ„è­˜ã•ã›ã‚‹\n- ä»Šã™ãã§ãã‚‹ã“ã¨ã‚’æç¤º\n- åˆ‡è¿«æ„Ÿã‚’æ¼”å‡º\n\n**CTAï¼ˆ15-18ç§’ï¼‰**:\n```\nã€Œä¿å­˜ã—ã¦ã€ä»Šæ—¥ã‹ã‚‰å§‹ã‚ã‚ˆã†ã€\nã€ŒåŒæœŸã«ã‚‚ã‚·ã‚§ã‚¢ã—ã¦ã€ä¸€ç·’ã«ã‚¹ã‚¿ãƒ¼ãƒˆã€\n```\n\n### ãƒ‘ã‚¿ãƒ¼ãƒ³5: äººé–“é–¢ä¿‚ï¼ˆRelationshipsï¼‰\n\n**å¿ƒç†**: ã€Œä»²é–“ã¨ç¹‹ãŒã‚ŠãŸã„ã€\n\n**ãƒ•ãƒƒã‚¯ï¼ˆ0-3ç§’ï¼‰**:\n```\nã€Œå°±æ´»ã€ä¸€äººã§æ‚©ã‚“ã§ãªã„ï¼Ÿã€\nã€ŒåŒã˜æ‚©ã¿ã®ä»²é–“ã¨ç¹‹ãŒã‚ã†ã€\n```\n\n**ã‚³ãƒ³ãƒ†ãƒ³ãƒ„æœ¬ä½“ï¼ˆ3-15ç§’ï¼‰**:\n- ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã®ä¾¡å€¤ã‚’å¼·èª¿\n- ãƒ¡ãƒ³ã‚¿ãƒ¼ã‚„ä»²é–“ã®é‡è¦æ€§\n- ç¹‹ãŒã‚Šã‹ã‚‰å¾—ã‚‰ã‚Œã‚‹ãƒ¡ãƒªãƒƒãƒˆ\n- å…±æ„Ÿã¨å¯„ã‚Šæ·»ã„\n\n**CTAï¼ˆ15-18ç§’ï¼‰**:\n```\nã€Œä¿å­˜ã—ã¦ã€ä»²é–“ã¨å…±æœ‰ã—ã‚ˆã†ã€\nã€ŒåŒã˜æ‚©ã¿ã®å‹é”ã«ã‚·ã‚§ã‚¢ã€\n```\n\n---",
    "relatedTech": [
      "decision-design-strategy-pattern-five-types",
      "skill-strategy-analyzer-implementation"
    ]
  },
  {
    "slug": "five-stage-ai-pipeline",
    "title": "5æ®µéšAIãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ï¼ˆStage 0-4ï¼‰ã«ã‚ˆã‚‹å®Œå…¨è‡ªå‹•ç”Ÿæˆ",
    "category": "Skillsï¼ˆã‚¹ã‚­ãƒ«ãƒ»æ‰‹æ³•ï¼‰",
    "description": "**InstagramæŠ•ç¨¿ã‚’5æ®µéšã®AIãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã§å®Œå…¨è‡ªå‹•ç”Ÿæˆã™ã‚‹æŠ€è¡“ã€‚**",
    "project": "instagram-post-generator",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"skill_five_stage_ai_pipeline_2025_11_25\",\n  \"type\": \"skill\",\n  \"name\": \"5æ®µéšAIãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ï¼ˆStage 0-4ï¼‰ã«ã‚ˆã‚‹å®Œå…¨è‡ªå‹•ç”Ÿæˆ\",\n  \"tags\": [\"AIãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³\", \"å¤šæ®µéšç”Ÿæˆ\", \"Gemini\", \"è‡ªå‹•åŒ–\", \"å“è³ªä¿è¨¼\"],\n  \"source_project\": \"instagram-post-generator\",\n  \"difficulty\": \"advanced\",\n  \"related_knowledge\": [\n    \"decision_ai_gemini_2.0_flash_lite_2025_11_25\",\n    \"decision_arch_two_stage_generation_2025_11_25\",\n    \"workflow_content_generation_complete_workflow_2025_11_25\"\n  ],\n  \"prerequisites\": [\"Gemini APIåŸºç¤\", \"TypeScript\", \"éåŒæœŸå‡¦ç†\"],\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# 5æ®µéšAIãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ï¼ˆStage 0-4ï¼‰ã«ã‚ˆã‚‹å®Œå…¨è‡ªå‹•ç”Ÿæˆ\n\n## ä½•ã‚’ã™ã‚‹ã‚¹ã‚­ãƒ«ã‹\n\n**InstagramæŠ•ç¨¿ã‚’5æ®µéšã®AIãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã§å®Œå…¨è‡ªå‹•ç”Ÿæˆã™ã‚‹æŠ€è¡“ã€‚**\n\n**5æ®µéšã®æ§‹æˆ**:\n```\nStage 0: ã‚¸ãƒ£ãƒ³ãƒ«æ¤œå‡ºãƒ»Typeåˆ†é¡\nStage 1: ãƒšãƒ¼ã‚¸æ§‹é€ æ±ºå®šï¼ˆPageStructureAnalyzerï¼‰\nStage 2: ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”Ÿæˆï¼ˆStructureConstrainedGeneratorï¼‰\nStage 3: ã‚­ãƒ£ãƒ—ã‚·ãƒ§ãƒ³ç”Ÿæˆ\nStage 4: ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°æœ€é©åŒ–\n```\n\nãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒå…¥åŠ›ãƒ†ã‚­ã‚¹ãƒˆã‚’æä¾›ã™ã‚‹ã ã‘ã§ã€å®Œæˆã—ãŸ10ãƒšãƒ¼ã‚¸InstagramæŠ•ç¨¿ï¼ˆPNG/PDF/ZIPï¼‰ãŒè‡ªå‹•ç”Ÿæˆã•ã‚Œã‚‹ã€‚\n\n**ç”Ÿæˆæ™‚é–“**: ç´„15-25ç§’ï¼ˆ10ãƒšãƒ¼ã‚¸æŠ•ç¨¿ï¼‰\n**AIå‘¼ã³å‡ºã—å›æ•°**: 9-14å›ï¼ˆãƒšãƒ¼ã‚¸æ•°ã«ä¾å­˜ï¼‰\n**å“è³ªä¿è¨¼**: å„æ®µéšã§ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿæ–½\n\n---\n\n## ãªãœã“ã®ã‚¹ã‚­ãƒ«ãŒé‡è¦ã‹\n\n### ç†ç”±1: å¤šæ®µéšå‡¦ç†ã«ã‚ˆã‚‹å“è³ªä¿è¨¼\n\n1å›ã®AIå‘¼ã³å‡ºã—ã§ã¯å“è³ªãŒä¸å®‰å®šã€‚5æ®µéšã«åˆ†å‰²ã™ã‚‹ã“ã¨ã§å„æ®µéšã§å“è³ªã‚’æ¤œè¨¼ãƒ»ä¿è¨¼ã§ãã‚‹ã€‚\n\n**1æ®µéšç”Ÿæˆã®å•é¡Œ**:\n```typescript\n// âŒ 1å›ã§å…¨ã¦ç”Ÿæˆ\nconst result = await ai.generate(\"InstagramæŠ•ç¨¿ã‚’10ãƒšãƒ¼ã‚¸ä½œã£ã¦\")\n// å•é¡Œ: æ§‹é€ ãƒŸã‚¹ã€ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä¸ä¸€è‡´ã€ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°ä¸é©åˆ‡\n// â†’ å“è³ªä¿è¨¼å›°é›£ã€å†ç”Ÿæˆã‚³ã‚¹ãƒˆå¤§\n```\n\n**5æ®µéšç”Ÿæˆã®åˆ©ç‚¹**:\n```typescript\n// âœ… æ®µéšçš„ç”Ÿæˆ\nconst stage0 = await detectGenre(input)        // ã‚¸ãƒ£ãƒ³ãƒ«ç¢ºå®š\nconst stage1 = await analyzeStructure(input)   // æ§‹é€ ç¢ºå®š\nconst stage2 = await generatePages(stage1)     // ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”Ÿæˆ\nconst stage3 = await generateCaption(stage2)   // ã‚­ãƒ£ãƒ—ã‚·ãƒ§ãƒ³\nconst stage4 = await optimizeHashtags(stage3)  // ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°\n\n// åˆ©ç‚¹: å„æ®µéšã§æ¤œè¨¼ã€å¤±æ•—ç®‡æ‰€ã®ç‰¹å®šå®¹æ˜“ã€éƒ¨åˆ†å†ç”Ÿæˆå¯èƒ½\n```\n\n### ç†ç”±2: å¤±æ•—æ™‚ã®éƒ¨åˆ†å†å®Ÿè¡Œ\n\nStage 3ã§å¤±æ•—ã—ãŸå ´åˆã€Stage 0-2ã¯å†å®Ÿè¡Œä¸è¦ã€‚ã‚³ã‚¹ãƒˆå‰Šæ¸›ã¨æ™‚é–“çŸ­ç¸®ã€‚\n\n**ã‚³ã‚¹ãƒˆæ¯”è¼ƒ**:\n```\nå…¨ä½“å†ç”Ÿæˆ: $0.002 Ã— 2å› = $0.004\néƒ¨åˆ†å†ç”Ÿæˆ: $0.0005 Ã— 1å› = $0.0005ï¼ˆStage 3ã®ã¿ï¼‰\nç¯€ç´„: ç´„88%\n```\n\n### ç†ç”±3: ä¸¦åˆ—å‡¦ç†ã®å¯èƒ½æ€§\n\nStage 2ï¼ˆãƒšãƒ¼ã‚¸ç”Ÿæˆï¼‰ã¯å„ãƒšãƒ¼ã‚¸ãŒç‹¬ç«‹ã—ã¦ãŠã‚Šã€ä¸¦åˆ—å‡¦ç†å¯èƒ½ï¼ˆç¾åœ¨ã¯ç›´åˆ—å®Ÿè£…ï¼‰ã€‚\n\n**ä¸¦åˆ—åŒ–ã®åŠ¹æœ**ï¼ˆå°†æ¥å®Ÿè£…ï¼‰:\n```\nç›´åˆ—: 10ãƒšãƒ¼ã‚¸ Ã— 1.5ç§’ = 15ç§’\nä¸¦åˆ—: max(10ãƒšãƒ¼ã‚¸) = 2ç§’ï¼ˆç†è«–å€¤ï¼‰\nçŸ­ç¸®: ç´„87%\n```\n\n---\n\n## å†ç¾æ–¹æ³•\n\n### Stage 0: ã‚¸ãƒ£ãƒ³ãƒ«æ¤œå‡ºãƒ»Typeåˆ†é¡\n\n**ç›®çš„**: ãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›ã‹ã‚‰7ã¤ã®ã‚¸ãƒ£ãƒ³ãƒ«ã¨Typeï¼ˆ001-005ï¼‰ã‚’æ¤œå‡º\n\n**å®Ÿè£…**:\n```typescript\n// app/services/contentGeneratorService.ts\nasync function detectGenreAndType(userInput: string): Promise<{\n  genre: string\n  typeId: string\n  keywords: string[]\n}> {\n  const prompt = `\nä»¥ä¸‹ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›ã‹ã‚‰ã€ã‚¸ãƒ£ãƒ³ãƒ«ã¨Typeã‚’åˆ¤å®šã—ã¦ãã ã•ã„ã€‚\n\nãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›:\n\"\"\"\n${userInput}\n\"\"\"\n\nã‚¸ãƒ£ãƒ³ãƒ«å€™è£œ: ä¼æ¥­ãƒ©ãƒ³ã‚­ãƒ³ã‚°ã€æ‚©ã¿è§£æ±ºã€ã‚¹ãƒ†ãƒƒãƒ—ã‚¬ã‚¤ãƒ‰ã€æ¯”è¼ƒã€tipsã€ãƒ‡ãƒ¼ã‚¿ã€ãã®ä»–\nTypeå€™è£œ:\n- Type001: æ„Ÿæƒ…å…±æ„Ÿå‹ï¼ˆå¥³æ€§å‘ã‘ï¼‰\n- Type002: å®Ÿè·µç¿’å¾—å‹ï¼ˆç”·æ€§å‘ã‘ï¼‰\n- Type003: ãƒ©ãƒ³ã‚­ãƒ³ã‚°æƒ…å ±å‹ï¼ˆãƒ‡ãƒ¼ã‚¿ç³»ï¼‰\n- Type004: åŠ¹ç‡ã‚¢ãƒƒãƒ—ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯ï¼ˆå®Ÿè¨¼å‹ï¼‰\n- Type005: ãã®ä»–\n\nJSONå½¢å¼ã§å‡ºåŠ›:\n{\n  \"genre\": \"æ‚©ã¿è§£æ±º\",\n  \"typeId\": \"001\",\n  \"keywords\": [\"ã‚­ãƒ£ãƒªã‚¢\", \"ä¸å®‰\", \"è»¢è·\"]\n}\n  `\n\n  const response = await gemini.generateContent(prompt)\n  return JSON.parse(response)\n}\n```\n\n**å‡¦ç†æ™‚é–“**: ç´„1.5ç§’\n**AIå‘¼ã³å‡ºã—**: 1å›\n\n### Stage 1: ãƒšãƒ¼ã‚¸æ§‹é€ æ±ºå®šï¼ˆPageStructureAnalyzerï¼‰\n\n**ç›®çš„**: ãƒšãƒ¼ã‚¸æ•°ã€å„ãƒšãƒ¼ã‚¸ã®æ§‹é€ ã€ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’æ±ºå®š\n\n**å®Ÿè£…**:\n```typescript\n// app/services/contentGeneratorService.ts\nclass PageStructureAnalyzer {\n  async analyzePageStructureAndTemplates(\n    userInput: string,\n    genre: string,\n    typeId: string\n  ): Promise<PageStructure[]> {\n    const prompt = `\nã‚ãªãŸã¯InstagramæŠ•ç¨¿ã®æ§‹é€ ã‚’æ±ºå®šã™ã‚‹å°‚é–€å®¶ã§ã™ã€‚\n\nãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›: ${userInput}\nã‚¸ãƒ£ãƒ³ãƒ«: ${genre}\nType: ${typeId}\n\nä»¥ä¸‹ã®å½¢å¼ã§ãƒšãƒ¼ã‚¸æ§‹é€ ã‚’æ±ºå®šã—ã¦ãã ã•ã„:\n\n[\n  {\n    \"pageNumber\": 1,\n    \"pageType\": \"basic_intro\",\n    \"template\": \"unified-template-01-simple-intro\",\n    \"æ¦‚è¦\": \"æŠ•ç¨¿å…¨ä½“ã®å°å…¥\",\n    \"æœ‰ç›Šæ€§\": \"ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒå¾—ã‚‰ã‚Œã‚‹ä¾¡å€¤\",\n    \"volumeRequirements\": {\n      \"minSections\": 1,\n      \"maxSections\": 1\n    }\n  },\n  {\n    \"pageNumber\": 2,\n    \"pageType\": \"item_list\",\n    \"template\": \"unified-template-08-section-blocks\",\n    \"æ¦‚è¦\": \"å…·ä½“çš„ãªè§£æ±ºç­–\",\n    \"æœ‰ç›Šæ€§\": \"å®Ÿè·µçš„ã‚¢ãƒ‰ãƒã‚¤ã‚¹\",\n    \"volumeRequirements\": {\n      \"minSections\": 2,\n      \"maxSections\": 2,\n      \"itemsPerSection\": 5\n    }\n  }\n]\n\né‡è¦: æ§‹é€ ã‚’å³å¯†ã«å®šç¾©ã—ã¦ãã ã•ã„ã€‚\n    `\n\n    const response = await gemini.generateContent(prompt)\n    const structures = JSON.parse(response)\n\n    // ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³\n    this.validateStructures(structures)\n\n    return structures\n  }\n\n  private validateStructures(structures: PageStructure[]): void {\n    if (!Array.isArray(structures) || structures.length === 0) {\n      throw new Error('Invalid page structures')\n    }\n\n    for (const [index, structure] of structures.entries()) {\n      if (structure.pageNumber !== index + 1) {\n        throw new Error(`Page number mismatch at index ${index}`)\n      }\n      if (!structure.template) {\n        throw new Error(`Template missing for page ${structure.pageNumber}`)\n      }\n    }\n  }\n}\n```\n\n**å‡¦ç†æ™‚é–“**: ç´„2-3ç§’\n**AIå‘¼ã³å‡ºã—**: 1å›\n**å‡ºåŠ›**: PageStructure[] (ãƒšãƒ¼ã‚¸æ§‹é€ é…åˆ—)\n\n### Stage 2: ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”Ÿæˆï¼ˆStructureConstrainedGeneratorï¼‰\n\n**ç›®çš„**: Stage 1ã§æ±ºå®šã•ã‚ŒãŸæ§‹é€ ã«å¾“ã£ã¦ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”Ÿæˆ\n\n**å®Ÿè£…**:\n```typescript\n// app/services/contentGeneratorService.ts\nclass StructureConstrainedGenerator {\n  async generateAllPagesWithConstraints(\n    userInput: string,\n    pageStructures: PageStructure[]\n  ): Promise<GeneratedPage[]> {\n    const pages: GeneratedPage[] = []\n\n    // å„ãƒšãƒ¼ã‚¸ã‚’é †æ¬¡ç”Ÿæˆï¼ˆå°†æ¥çš„ã«ä¸¦åˆ—åŒ–å¯èƒ½ï¼‰\n    for (const structure of pageStructures) {\n      const page = await this.generatePageWithConstraints(\n        userInput,\n        structure\n      )\n      pages.push(page)\n    }\n\n    return pages\n  }\n\n  private async generatePageWithConstraints(\n    userInput: string,\n    structure: PageStructure\n  ): Promise<GeneratedPage> {\n    const prompt = `\nä»¥ä¸‹ã® **å³æ ¼ãªæ§‹é€ åˆ¶ç´„** ã«å¾“ã£ã¦ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ç”Ÿæˆã—ã¦ãã ã•ã„:\n\nãƒšãƒ¼ã‚¸${structure.pageNumber}:\n- pageType: ${structure.pageType}\n- template: ${structure.template}\n- æ¦‚è¦: ${structure.æ¦‚è¦}\n- volumeRequirements: ${JSON.stringify(structure.volumeRequirements)}\n\nãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›: ${userInput}\n\nä»¥ä¸‹ã®JSONå½¢å¼ã§å‡ºåŠ›:\n{\n  \"pageNumber\": ${structure.pageNumber},\n  \"title\": \"ãƒšãƒ¼ã‚¸ã‚¿ã‚¤ãƒˆãƒ«\",\n  \"content\": {\n    // ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå›ºæœ‰ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰\n  }\n}\n\n**é‡è¦**: æ§‹é€ ã‚’çµ¶å¯¾ã«å®ˆã‚‹ã“ã¨ã€‚ã‚»ã‚¯ã‚·ãƒ§ãƒ³æ•°ãƒ»ã‚¢ã‚¤ãƒ†ãƒ æ•°ã‚’å¤‰æ›´ã—ãªã„ã“ã¨ã€‚\n    `\n\n    const response = await gemini.generateContent(prompt)\n    const page = JSON.parse(response)\n\n    // æ§‹é€ ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³\n    this.validatePage(page, structure)\n\n    return page\n  }\n\n  private validatePage(\n    page: GeneratedPage,\n    structure: PageStructure\n  ): void {\n    if (page.pageNumber !== structure.pageNumber) {\n      throw new Error('Page number mismatch')\n    }\n\n    // volumeRequirementsæ¤œè¨¼\n    const requirements = structure.volumeRequirements\n    if (requirements) {\n      const actualSections = page.content.sections?.length || 0\n      if (requirements.minSections && actualSections < requirements.minSections) {\n        throw new Error(`Too few sections: ${actualSections} < ${requirements.minSections}`)\n      }\n      if (requirements.maxSections && actualSections > requirements.maxSections) {\n        throw new Error(`Too many sections: ${actualSections} > ${requirements.maxSections}`)\n      }\n    }\n  }\n}\n```\n\n**å‡¦ç†æ™‚é–“**: ç´„1.5ç§’/ãƒšãƒ¼ã‚¸ï¼ˆ10ãƒšãƒ¼ã‚¸ã§15ç§’ï¼‰\n**AIå‘¼ã³å‡ºã—**: ãƒšãƒ¼ã‚¸æ•°åˆ†ï¼ˆ10ãƒšãƒ¼ã‚¸ãªã‚‰10å›ï¼‰\n**å‡ºåŠ›**: GeneratedPage[] (ç”Ÿæˆæ¸ˆã¿ãƒšãƒ¼ã‚¸é…åˆ—)\n\n### Stage 3: ã‚­ãƒ£ãƒ—ã‚·ãƒ§ãƒ³ç”Ÿæˆ\n\n**ç›®çš„**: å…¨ãƒšãƒ¼ã‚¸ã‚’çµ±åˆã—ãŸé­…åŠ›çš„ãªã‚­ãƒ£ãƒ—ã‚·ãƒ§ãƒ³ã‚’ç”Ÿæˆ\n\n**å®Ÿè£…**:\n```typescript\n// app/services/contentGeneratorService.ts\nasync function generateCaptionWithFormat(\n  userInput: string,\n  pages: GeneratedPage[],\n  typeId: string\n): Promise<string> {\n  const pagesSummary = pages.map(p => `\nãƒšãƒ¼ã‚¸${p.pageNumber}: ${p.title}\n  `).join('\\n')\n\n  const prompt = `\nä»¥ä¸‹ã®InstagramæŠ•ç¨¿ã®ã‚­ãƒ£ãƒ—ã‚·ãƒ§ãƒ³ã‚’ç”Ÿæˆã—ã¦ãã ã•ã„ã€‚\n\nãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›: ${userInput}\nType: ${typeId}\n\nãƒšãƒ¼ã‚¸æ§‹æˆ:\n${pagesSummary}\n\nã‚­ãƒ£ãƒ—ã‚·ãƒ§ãƒ³è¦ä»¶:\n1. æœ€åˆã®1è¡Œã§èˆˆå‘³ã‚’å¼•ãï¼ˆãƒ•ãƒƒã‚¯ï¼‰\n2. æŠ•ç¨¿ã®ä¾¡å€¤ã‚’ç°¡æ½”ã«èª¬æ˜\n3. è¡Œå‹•å–šèµ·ï¼ˆCTAï¼‰ã‚’å«ã‚ã‚‹\n4. çµµæ–‡å­—ã‚’é©åº¦ã«ä½¿ç”¨\n5. 100-150æ–‡å­—\n\nå‡ºåŠ›ä¾‹:\nã€ã‚ãªãŸã®ã‚­ãƒ£ãƒªã‚¢ã€æœ¬å½“ã«è¿·ã£ã¦ã‚‹ï¼Ÿã€‘\n3ã¤ã®è¦–ç‚¹ã§æ•´ç†ã™ã‚Œã°ã€è¦‹ãˆã¦ãã‚‹ã‚‚ã®ãŒã‚ã‚‹âœ¨\nè©³ã—ãã¯ç”»åƒã‚’ã‚¹ãƒ¯ã‚¤ãƒ—ğŸ‘‰\n#ã‚­ãƒ£ãƒªã‚¢ #è»¢è· #è‡ªå·±åˆ†æ\n  `\n\n  const response = await gemini.generateContent(prompt)\n  return response.trim()\n}\n```\n\n**å‡¦ç†æ™‚é–“**: ç´„1.5ç§’\n**AIå‘¼ã³å‡ºã—**: 1å›\n**å‡ºåŠ›**: string (ã‚­ãƒ£ãƒ—ã‚·ãƒ§ãƒ³ãƒ†ã‚­ã‚¹ãƒˆ)\n\n### Stage 4: ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°æœ€é©åŒ–\n\n**ç›®çš„**: ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã«æœ€é©ãªãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°ã‚’ç”Ÿæˆï¼ˆ3ã‚µã‚¤ã‚º: å¤§ãƒ»ä¸­ãƒ»å°ï¼‰\n\n**å®Ÿè£…**:\n```typescript\n// app/services/geminiService.ts\nasync function optimizeHashtags(\n  content: string,\n  genre: string,\n  typeId: string\n): Promise<HashtagSet> {\n  const prompt = `\nä»¥ä¸‹ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã«æœ€é©ãªãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°ã‚’ç”Ÿæˆã—ã¦ãã ã•ã„ã€‚\n\nã‚³ãƒ³ãƒ†ãƒ³ãƒ„: ${content}\nã‚¸ãƒ£ãƒ³ãƒ«: ${genre}\nType: ${typeId}\n\nè¦ä»¶:\n1. 3ã¤ã®ã‚µã‚¤ã‚ºã‚«ãƒ†ã‚´ãƒª\n   - large: 100ä¸‡ä»¶ä»¥ä¸Šã®æŠ•ç¨¿\n   - medium: 10ä¸‡-100ä¸‡ä»¶\n   - small: 1ä¸‡-10ä¸‡ä»¶\n2. å„ã‚«ãƒ†ã‚´ãƒª3-5å€‹\n3. æ—¥æœ¬èªãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°å„ªå…ˆ\n4. ãƒˆãƒ¬ãƒ³ãƒ‰ã‚’è€ƒæ…®\n\nJSONå½¢å¼ã§å‡ºåŠ›:\n{\n  \"large\": [\"#å°±æ´»\", \"#è»¢è·\", \"#ã‚­ãƒ£ãƒªã‚¢\"],\n  \"medium\": [\"#ã‚­ãƒ£ãƒªã‚¢ã‚¢ãƒƒãƒ—\", \"#è‡ªå·±åˆ†æ\", \"#20ä»£\"],\n  \"small\": [\"#å°±æ´»ç”Ÿã¨ç¹‹ãŒã‚ŠãŸã„\", \"#è»¢è·æ´»å‹•ä¸­\", \"#ã‚­ãƒ£ãƒªã‚¢ãƒ‡ã‚¶ã‚¤ãƒ³\"]\n}\n  `\n\n  const response = await gemini.generateContent(prompt)\n  const hashtags = JSON.parse(response)\n\n  return {\n    primary: hashtags.large,\n    secondary: hashtags.medium,\n    trending: hashtags.small,\n    large: hashtags.large,\n    medium: hashtags.medium,\n    small: hashtags.small,\n    all: [...hashtags.large, ...hashtags.medium, ...hashtags.small]\n  }\n}\n```\n\n**å‡¦ç†æ™‚é–“**: ç´„1.5ç§’\n**AIå‘¼ã³å‡ºã—**: 1å›\n**å‡ºåŠ›**: HashtagSet (ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°ã‚»ãƒƒãƒˆ)\n\n### å®Œå…¨ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³çµ±åˆ\n\n```typescript\n// app/services/contentGeneratorService.ts\nexport async function generateInstagramPostComplete(\n  userInput: string,\n  knowledgeBaseParams?: KnowledgeBaseParams\n): Promise<GeneratedContent> {\n  try {\n    console.log('[Pipeline] Starting 5-stage AI pipeline...')\n\n    // Stage 0: ã‚¸ãƒ£ãƒ³ãƒ«æ¤œå‡º\n    console.log('[Stage 0] Detecting genre and type...')\n    const { genre, typeId, keywords } = await detectGenreAndType(userInput)\n    console.log(`[Stage 0] Detected: ${genre}, Type ${typeId}`)\n\n    // ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹çµ±åˆåˆ¤å®š\n    if (knowledgeBaseParams?.useKnowledgeBase) {\n      console.log('[Stage 1-2] Using Knowledge Base...')\n      return await generateWithKnowledgeBase(userInput, knowledgeBaseParams)\n    }\n\n    // Stage 1: ãƒšãƒ¼ã‚¸æ§‹é€ æ±ºå®š\n    console.log('[Stage 1] Analyzing page structure...')\n    const analyzer = new PageStructureAnalyzer()\n    const pageStructures = await analyzer.analyzePageStructureAndTemplates(\n      userInput,\n      genre,\n      typeId\n    )\n    console.log(`[Stage 1] Structure decided: ${pageStructures.length} pages`)\n\n    // Stage 2: ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”Ÿæˆ\n    console.log('[Stage 2] Generating page content...')\n    const generator = new StructureConstrainedGenerator()\n    const pages = await generator.generateAllPagesWithConstraints(\n      userInput,\n      pageStructures\n    )\n    console.log(`[Stage 2] Generated ${pages.length} pages`)\n\n    // Stage 3: ã‚­ãƒ£ãƒ—ã‚·ãƒ§ãƒ³ç”Ÿæˆ\n    console.log('[Stage 3] Generating caption...')\n    const caption = await generateCaptionWithFormat(userInput, pages, typeId)\n    console.log('[Stage 3] Caption generated')\n\n    // Stage 4: ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°æœ€é©åŒ–\n    console.log('[Stage 4] Optimizing hashtags...')\n    const hashtags = await optimizeHashtags(userInput, genre, typeId)\n    console.log('[Stage 4] Hashtags optimized')\n\n    console.log('[Pipeline] Complete! ğŸ‰')\n\n    return {\n      pages,\n      totalPages: pages.length,\n      caption,\n      hashtags,\n      summary: `${genre}ï¼ˆType ${typeId}ï¼‰: ${pages.length}ãƒšãƒ¼ã‚¸`,\n      postType: genre,\n      targetId: typeId\n    }\n  } catch (error) {\n    console.error('[Pipeline] Error:', error)\n    // ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ç”Ÿæˆ\n    return await generateFallbackContent(userInput)\n  }\n}\n```\n\n---\n\n## ã„ã¤ä½¿ã†ã‹\n\n### ä½¿ã†ã¹ãå ´é¢\n\n1. **å®Œå…¨è‡ªå‹•ç”ŸæˆãŒå¿…è¦**\n   - ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯ç°¡å˜ãªå…¥åŠ›ã®ã¿\n   - ã‚·ã‚¹ãƒ†ãƒ ãŒå…¨è‡ªå‹•ç”Ÿæˆ\n   - **UXæœ€å„ªå…ˆ**\n\n2. **å“è³ªä¿è¨¼ãŒé‡è¦**\n   - å„æ®µéšã§ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³\n   - å¤±æ•—ç®‡æ‰€ã®ç‰¹å®šå®¹æ˜“\n   - **ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°å……å®Ÿ**\n\n3. **éƒ¨åˆ†å†ç”ŸæˆãŒå¿…è¦**\n   - Stage 3ã ã‘å¤±æ•— â†’ Stage 3ã®ã¿å†å®Ÿè¡Œ\n   - ã‚³ã‚¹ãƒˆæœ€é©åŒ–\n   - **åŠ¹ç‡çš„**\n\n4. **ä¸¦åˆ—å‡¦ç†ã®å°†æ¥å®Ÿè£…**\n   - Stage 2ã®ãƒšãƒ¼ã‚¸ç”Ÿæˆã‚’ä¸¦åˆ—åŒ–\n   - å¤§å¹…ãªæ™‚é–“çŸ­ç¸®\n   - **ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£**\n\n### ä½¿ã‚ãªã„æ–¹ãŒè‰¯ã„å ´é¢\n\n1. **è¶…é«˜é€Ÿç”ŸæˆãŒå¿…è¦**\n   - 5æ®µéšã®ã‚ªãƒ¼ãƒãƒ¼ãƒ˜ãƒƒãƒ‰\n   - 1æ®µéšã§ååˆ†ãªå ´åˆ\n   - **ã‚·ãƒ³ãƒ—ãƒ«ãª1æ®µéšç”Ÿæˆ**\n\n2. **å®Œå…¨ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºãŒå¿…è¦**\n   - ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒå„æ®µéšã‚’åˆ¶å¾¡ã—ãŸã„\n   - ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ãŒåˆ¶ç´„ã«ãªã‚‹\n   - **æ‰‹å‹•ç”Ÿæˆ**\n\n---\n\n## æ³¨æ„ç‚¹\n\n### æ³¨æ„ç‚¹1: AIå‘¼ã³å‡ºã—å›æ•°ã®å¢—åŠ \n\n5æ®µéšã§9-14å›ã®AIå‘¼ã³å‡ºã—ã€‚ã‚³ã‚¹ãƒˆãƒ»æ™‚é–“ã®å¢—åŠ ã€‚\n\n**å¯¾ç­–**:\n- é«˜é€Ÿãƒ»ä½ã‚³ã‚¹ãƒˆãƒ¢ãƒ‡ãƒ«ä½¿ç”¨ï¼ˆGemini Flashï¼‰\n- ä¸¦åˆ—å‡¦ç†å®Ÿè£…ï¼ˆå°†æ¥ï¼‰\n- ã‚­ãƒ£ãƒƒã‚·ãƒ¥æ´»ç”¨\n\n### æ³¨æ„ç‚¹2: ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã®è¤‡é›‘æ€§\n\nå„æ®µéšã§ã‚¨ãƒ©ãƒ¼å¯èƒ½æ€§ã€‚é©åˆ‡ãªãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯å¿…é ˆã€‚\n\n**å¯¾ç­–**:\n```typescript\ntry {\n  const stage1 = await analyzeStructure(input)\n} catch (error) {\n  console.warn('Stage 1 failed, using fallback structure')\n  const stage1 = getFallbackStructure(input)\n}\n```\n\n### æ³¨æ„ç‚¹3: ç¾åœ¨AIç„¡åŠ¹åŒ–ä¸­\n\n2025-11-25æ™‚ç‚¹ã§å…¨AIå‘¼ã³å‡ºã—ç„¡åŠ¹åŒ–ã€‚ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ã®ã¿ä½¿ç”¨ä¸­ã€‚\n\n**å¾©æ—§å¾Œã®æ³¨æ„**:\n- æ®µéšçš„ã«æœ‰åŠ¹åŒ–ï¼ˆStage 0 â†’ Stage 1 â†’ ...ï¼‰\n- å„æ®µéšã®ã‚¨ãƒ©ãƒ¼ç‡æ¸¬å®š\n- ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯æˆ¦ç•¥ç¶­æŒ\n\n---\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- **decision_ai_gemini_2.0_flash_lite_2025_11_25.md**: Geminié¸æŠã¨ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿è¨­å®š\n- **decision_arch_two_stage_generation_2025_11_25.md**: Stage 1-2ã®è©³ç´°è¨­è¨ˆ\n- **workflow_content_generation_complete_workflow_2025_11_25.md**: ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³å…¨ä½“ãƒ•ãƒ­ãƒ¼\n\n---\n\n**5æ®µéšãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã¯ã€å“è³ªä¿è¨¼ã¨æ‹¡å¼µæ€§ã‚’ä¸¡ç«‹ã™ã‚‹é«˜åº¦ãªç”Ÿæˆã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã§ã‚ã‚‹ã€‚**\n",
    "prompt": "### Stage 0: ã‚¸ãƒ£ãƒ³ãƒ«æ¤œå‡ºãƒ»Typeåˆ†é¡\n\n**ç›®çš„**: ãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›ã‹ã‚‰7ã¤ã®ã‚¸ãƒ£ãƒ³ãƒ«ã¨Typeï¼ˆ001-005ï¼‰ã‚’æ¤œå‡º\n\n**å®Ÿè£…**:\n```typescript\n// app/services/contentGeneratorService.ts\nasync function detectGenreAndType(userInput: string): Promise<{\n  genre: string\n  typeId: string\n  keywords: string[]\n}> {\n  const prompt = `\nä»¥ä¸‹ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›ã‹ã‚‰ã€ã‚¸ãƒ£ãƒ³ãƒ«ã¨Typeã‚’åˆ¤å®šã—ã¦ãã ã•ã„ã€‚\n\nãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›:\n\"\"\"\n${userInput}\n\"\"\"\n\nã‚¸ãƒ£ãƒ³ãƒ«å€™è£œ: ä¼æ¥­ãƒ©ãƒ³ã‚­ãƒ³ã‚°ã€æ‚©ã¿è§£æ±ºã€ã‚¹ãƒ†ãƒƒãƒ—ã‚¬ã‚¤ãƒ‰ã€æ¯”è¼ƒã€tipsã€ãƒ‡ãƒ¼ã‚¿ã€ãã®ä»–\nTypeå€™è£œ:\n- Type001: æ„Ÿæƒ…å…±æ„Ÿå‹ï¼ˆå¥³æ€§å‘ã‘ï¼‰\n- Type002: å®Ÿè·µç¿’å¾—å‹ï¼ˆç”·æ€§å‘ã‘ï¼‰\n- Type003: ãƒ©ãƒ³ã‚­ãƒ³ã‚°æƒ…å ±å‹ï¼ˆãƒ‡ãƒ¼ã‚¿ç³»ï¼‰\n- Type004: åŠ¹ç‡ã‚¢ãƒƒãƒ—ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯ï¼ˆå®Ÿè¨¼å‹ï¼‰\n- Type005: ãã®ä»–\n\nJSONå½¢å¼ã§å‡ºåŠ›:\n{\n  \"genre\": \"æ‚©ã¿è§£æ±º\",\n  \"typeId\": \"001\",\n  \"keywords\": [\"ã‚­ãƒ£ãƒªã‚¢\", \"ä¸å®‰\", \"è»¢è·\"]\n}\n  `\n\n  const response = await gemini.generateContent(prompt)\n  return JSON.parse(response)\n}\n```\n\n**å‡¦ç†æ™‚é–“**: ç´„1.5ç§’\n**AIå‘¼ã³å‡ºã—**: 1å›\n\n### Stage 1: ãƒšãƒ¼ã‚¸æ§‹é€ æ±ºå®šï¼ˆPageStructureAnalyzerï¼‰\n\n**ç›®çš„**: ãƒšãƒ¼ã‚¸æ•°ã€å„ãƒšãƒ¼ã‚¸ã®æ§‹é€ ã€ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’æ±ºå®š\n\n**å®Ÿè£…**:\n```typescript\n// app/services/contentGeneratorService.ts\nclass PageStructureAnalyzer {\n  async analyzePageStructureAndTemplates(\n    userInput: string,\n    genre: string,\n    typeId: string\n  ): Promise<PageStructure[]> {\n    const prompt = `\nã‚ãªãŸã¯InstagramæŠ•ç¨¿ã®æ§‹é€ ã‚’æ±ºå®šã™ã‚‹å°‚é–€å®¶ã§ã™ã€‚\n\nãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›: ${userInput}\nã‚¸ãƒ£ãƒ³ãƒ«: ${genre}\nType: ${typeId}\n\nä»¥ä¸‹ã®å½¢å¼ã§ãƒšãƒ¼ã‚¸æ§‹é€ ã‚’æ±ºå®šã—ã¦ãã ã•ã„:\n\n[\n  {\n    \"pageNumber\": 1,\n    \"pageType\": \"basic_intro\",\n    \"template\": \"unified-template-01-simple-intro\",\n    \"æ¦‚è¦\": \"æŠ•ç¨¿å…¨ä½“ã®å°å…¥\",\n    \"æœ‰ç›Šæ€§\": \"ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒå¾—ã‚‰ã‚Œã‚‹ä¾¡å€¤\",\n    \"volumeRequirements\": {\n      \"minSections\": 1,\n      \"maxSections\": 1\n    }\n  },\n  {\n    \"pageNumber\": 2,\n    \"pageType\": \"item_list\",\n    \"template\": \"unified-template-08-section-blocks\",\n    \"æ¦‚è¦\": \"å…·ä½“çš„ãªè§£æ±ºç­–\",\n    \"æœ‰ç›Šæ€§\": \"å®Ÿè·µçš„ã‚¢ãƒ‰ãƒã‚¤ã‚¹\",\n    \"volumeRequirements\": {\n      \"minSections\": 2,\n      \"maxSections\": 2,\n      \"itemsPerSection\": 5\n    }\n  }\n]\n\né‡è¦: æ§‹é€ ã‚’å³å¯†ã«å®šç¾©ã—ã¦ãã ã•ã„ã€‚\n    `\n\n    const response = await gemini.generateContent(prompt)\n    const structures = JSON.parse(response)\n\n    // ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³\n    this.validateStructures(structures)\n\n    return structures\n  }\n\n  private validateStructures(structures: PageStructure[]): void {\n    if (!Array.isArray(structures) || structures.length === 0) {\n      throw new Error('Invalid page structures')\n    }\n\n    for (const [index, structure] of structures.entries()) {\n      if (structure.pageNumber !== index + 1) {\n        throw new Error(`Page number mismatch at index ${index}`)\n      }\n      if (!structure.template) {\n        throw new Error(`Template missing for page ${structure.pageNumber}`)\n      }\n    }\n  }\n}\n```\n\n**å‡¦ç†æ™‚é–“**: ç´„2-3ç§’\n**AIå‘¼ã³å‡ºã—**: 1å›\n**å‡ºåŠ›**: PageStructure[] (ãƒšãƒ¼ã‚¸æ§‹é€ é…åˆ—)\n\n### Stage 2: ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”Ÿæˆï¼ˆStructureConstrainedGeneratorï¼‰\n\n**ç›®çš„**: Stage 1ã§æ±ºå®šã•ã‚ŒãŸæ§‹é€ ã«å¾“ã£ã¦ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”Ÿæˆ\n\n**å®Ÿè£…**:\n```typescript\n// app/services/contentGeneratorService.ts\nclass StructureConstrainedGenerator {\n  async generateAllPagesWithConstraints(\n    userInput: string,\n    pageStructures: PageStructure[]\n  ): Promise<GeneratedPage[]> {\n    const pages: GeneratedPage[] = []\n\n    // å„ãƒšãƒ¼ã‚¸ã‚’é †æ¬¡ç”Ÿæˆï¼ˆå°†æ¥çš„ã«ä¸¦åˆ—åŒ–å¯èƒ½ï¼‰\n    for (const structure of pageStructures) {\n      const page = await this.generatePageWithConstraints(\n        userInput,\n        structure\n      )\n      pages.push(page)\n    }\n\n    return pages\n  }\n\n  private async generatePageWithConstraints(\n    userInput: string,\n    structure: PageStructure\n  ): Promise<GeneratedPage> {\n    const prompt = `\nä»¥ä¸‹ã® **å³æ ¼ãªæ§‹é€ åˆ¶ç´„** ã«å¾“ã£ã¦ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ç”Ÿæˆã—ã¦ãã ã•ã„:\n\nãƒšãƒ¼ã‚¸${structure.pageNumber}:\n- pageType: ${structure.pageType}\n- template: ${structure.template}\n- æ¦‚è¦: ${structure.æ¦‚è¦}\n- volumeRequirements: ${JSON.stringify(structure.volumeRequirements)}\n\nãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›: ${userInput}\n\nä»¥ä¸‹ã®JSONå½¢å¼ã§å‡ºåŠ›:\n{\n  \"pageNumber\": ${structure.pageNumber},\n  \"title\": \"ãƒšãƒ¼ã‚¸ã‚¿ã‚¤ãƒˆãƒ«\",\n  \"content\": {\n    // ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå›ºæœ‰ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰\n  }\n}\n\n**é‡è¦**: æ§‹é€ ã‚’çµ¶å¯¾ã«å®ˆã‚‹ã“ã¨ã€‚ã‚»ã‚¯ã‚·ãƒ§ãƒ³æ•°ãƒ»ã‚¢ã‚¤ãƒ†ãƒ æ•°ã‚’å¤‰æ›´ã—ãªã„ã“ã¨ã€‚\n    `\n\n    const response = await gemini.generateContent(prompt)\n    const page = JSON.parse(response)\n\n    // æ§‹é€ ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³\n    this.validatePage(page, structure)\n\n    return page\n  }\n\n  private validatePage(\n    page: GeneratedPage,\n    structure: PageStructure\n  ): void {\n    if (page.pageNumber !== structure.pageNumber) {\n      throw new Error('Page number mismatch')\n    }\n\n    // volumeRequirementsæ¤œè¨¼\n    const requirements = structure.volumeRequirements\n    if (requirements) {\n      const actualSections = page.content.sections?.length || 0\n      if (requirements.minSections && actualSections < requirements.minSections) {\n        throw new Error(`Too few sections: ${actualSections} < ${requirements.minSections}`)\n      }\n      if (requirements.maxSections && actualSections > requirements.maxSections) {\n        throw new Error(`Too many sections: ${actualSections} > ${requirements.maxSections}`)\n      }\n    }\n  }\n}\n```\n\n**å‡¦ç†æ™‚é–“**: ç´„1.5ç§’/ãƒšãƒ¼ã‚¸ï¼ˆ10ãƒšãƒ¼ã‚¸ã§15ç§’ï¼‰\n**AIå‘¼ã³å‡ºã—**: ãƒšãƒ¼ã‚¸æ•°åˆ†ï¼ˆ10ãƒšãƒ¼ã‚¸ãªã‚‰10å›ï¼‰\n**å‡ºåŠ›**: GeneratedPage[] (ç”Ÿæˆæ¸ˆã¿ãƒšãƒ¼ã‚¸é…åˆ—)\n\n### Stage 3: ã‚­ãƒ£ãƒ—ã‚·ãƒ§ãƒ³ç”Ÿæˆ\n\n**ç›®çš„**: å…¨ãƒšãƒ¼ã‚¸ã‚’çµ±åˆã—ãŸé­…åŠ›çš„ãªã‚­ãƒ£ãƒ—ã‚·ãƒ§ãƒ³ã‚’ç”Ÿæˆ\n\n**å®Ÿè£…**:\n```typescript\n// app/services/contentGeneratorService.ts\nasync function generateCaptionWithFormat(\n  userInput: string,\n  pages: GeneratedPage[],\n  typeId: string\n): Promise<string> {\n  const pagesSummary = pages.map(p => `\nãƒšãƒ¼ã‚¸${p.pageNumber}: ${p.title}\n  `).join('\\n')\n\n  const prompt = `\nä»¥ä¸‹ã®InstagramæŠ•ç¨¿ã®ã‚­ãƒ£ãƒ—ã‚·ãƒ§ãƒ³ã‚’ç”Ÿæˆã—ã¦ãã ã•ã„ã€‚\n\nãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›: ${userInput}\nType: ${typeId}\n\nãƒšãƒ¼ã‚¸æ§‹æˆ:\n${pagesSummary}\n\nã‚­ãƒ£ãƒ—ã‚·ãƒ§ãƒ³è¦ä»¶:\n1. æœ€åˆã®1è¡Œã§èˆˆå‘³ã‚’å¼•ãï¼ˆãƒ•ãƒƒã‚¯ï¼‰\n2. æŠ•ç¨¿ã®ä¾¡å€¤ã‚’ç°¡æ½”ã«èª¬æ˜\n3. è¡Œå‹•å–šèµ·ï¼ˆCTAï¼‰ã‚’å«ã‚ã‚‹\n4. çµµæ–‡å­—ã‚’é©åº¦ã«ä½¿ç”¨\n5. 100-150æ–‡å­—\n\nå‡ºåŠ›ä¾‹:\nã€ã‚ãªãŸã®ã‚­ãƒ£ãƒªã‚¢ã€æœ¬å½“ã«è¿·ã£ã¦ã‚‹ï¼Ÿã€‘\n3ã¤ã®è¦–ç‚¹ã§æ•´ç†ã™ã‚Œã°ã€è¦‹ãˆã¦ãã‚‹ã‚‚ã®ãŒã‚ã‚‹âœ¨\nè©³ã—ãã¯ç”»åƒã‚’ã‚¹ãƒ¯ã‚¤ãƒ—ğŸ‘‰\n#ã‚­ãƒ£ãƒªã‚¢ #è»¢è· #è‡ªå·±åˆ†æ\n  `\n\n  const response = await gemini.generateContent(prompt)\n  return response.trim()\n}\n```\n\n**å‡¦ç†æ™‚é–“**: ç´„1.5ç§’\n**AIå‘¼ã³å‡ºã—**: 1å›\n**å‡ºåŠ›**: string (ã‚­ãƒ£ãƒ—ã‚·ãƒ§ãƒ³ãƒ†ã‚­ã‚¹ãƒˆ)\n\n### Stage 4: ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°æœ€é©åŒ–\n\n**ç›®çš„**: ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã«æœ€é©ãªãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°ã‚’ç”Ÿæˆï¼ˆ3ã‚µã‚¤ã‚º: å¤§ãƒ»ä¸­ãƒ»å°ï¼‰\n\n**å®Ÿè£…**:\n```typescript\n// app/services/geminiService.ts\nasync function optimizeHashtags(\n  content: string,\n  genre: string,\n  typeId: string\n): Promise<HashtagSet> {\n  const prompt = `\nä»¥ä¸‹ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã«æœ€é©ãªãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°ã‚’ç”Ÿæˆã—ã¦ãã ã•ã„ã€‚\n\nã‚³ãƒ³ãƒ†ãƒ³ãƒ„: ${content}\nã‚¸ãƒ£ãƒ³ãƒ«: ${genre}\nType: ${typeId}\n\nè¦ä»¶:\n1. 3ã¤ã®ã‚µã‚¤ã‚ºã‚«ãƒ†ã‚´ãƒª\n   - large: 100ä¸‡ä»¶ä»¥ä¸Šã®æŠ•ç¨¿\n   - medium: 10ä¸‡-100ä¸‡ä»¶\n   - small: 1ä¸‡-10ä¸‡ä»¶\n2. å„ã‚«ãƒ†ã‚´ãƒª3-5å€‹\n3. æ—¥æœ¬èªãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°å„ªå…ˆ\n4. ãƒˆãƒ¬ãƒ³ãƒ‰ã‚’è€ƒæ…®\n\nJSONå½¢å¼ã§å‡ºåŠ›:\n{\n  \"large\": [\"#å°±æ´»\", \"#è»¢è·\", \"#ã‚­ãƒ£ãƒªã‚¢\"],\n  \"medium\": [\"#ã‚­ãƒ£ãƒªã‚¢ã‚¢ãƒƒãƒ—\", \"#è‡ªå·±åˆ†æ\", \"#20ä»£\"],\n  \"small\": [\"#å°±æ´»ç”Ÿã¨ç¹‹ãŒã‚ŠãŸã„\", \"#è»¢è·æ´»å‹•ä¸­\", \"#ã‚­ãƒ£ãƒªã‚¢ãƒ‡ã‚¶ã‚¤ãƒ³\"]\n}\n  `\n\n  const response = await gemini.generateContent(prompt)\n  const hashtags = JSON.parse(response)\n\n  return {\n    primary: hashtags.large,\n    secondary: hashtags.medium,\n    trending: hashtags.small,\n    large: hashtags.large,\n    medium: hashtags.medium,\n    small: hashtags.small,\n    all: [...hashtags.large, ...hashtags.medium, ...hashtags.small]\n  }\n}\n```\n\n**å‡¦ç†æ™‚é–“**: ç´„1.5ç§’\n**AIå‘¼ã³å‡ºã—**: 1å›\n**å‡ºåŠ›**: HashtagSet (ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°ã‚»ãƒƒãƒˆ)\n\n### å®Œå…¨ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³çµ±åˆ\n\n```typescript\n// app/services/contentGeneratorService.ts\nexport async function generateInstagramPostComplete(\n  userInput: string,\n  knowledgeBaseParams?: KnowledgeBaseParams\n): Promise<GeneratedContent> {\n  try {\n    console.log('[Pipeline] Starting 5-stage AI pipeline...')\n\n    // Stage 0: ã‚¸ãƒ£ãƒ³ãƒ«æ¤œå‡º\n    console.log('[Stage 0] Detecting genre and type...')\n    const { genre, typeId, keywords } = await detectGenreAndType(userInput)\n    console.log(`[Stage 0] Detected: ${genre}, Type ${typeId}`)\n\n    // ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹çµ±åˆåˆ¤å®š\n    if (knowledgeBaseParams?.useKnowledgeBase) {\n      console.log('[Stage 1-2] Using Knowledge Base...')\n      return await generateWithKnowledgeBase(userInput, knowledgeBaseParams)\n    }\n\n    // Stage 1: ãƒšãƒ¼ã‚¸æ§‹é€ æ±ºå®š\n    console.log('[Stage 1] Analyzing page structure...')\n    const analyzer = new PageStructureAnalyzer()\n    const pageStructures = await analyzer.analyzePageStructureAndTemplates(\n      userInput,\n      genre,\n      typeId\n    )\n    console.log(`[Stage 1] Structure decided: ${pageStructures.length} pages`)\n\n    // Stage 2: ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”Ÿæˆ\n    console.log('[Stage 2] Generating page content...')\n    const generator = new StructureConstrainedGenerator()\n    const pages = await generator.generateAllPagesWithConstraints(\n      userInput,\n      pageStructures\n    )\n    console.log(`[Stage 2] Generated ${pages.length} pages`)\n\n    // Stage 3: ã‚­ãƒ£ãƒ—ã‚·ãƒ§ãƒ³ç”Ÿæˆ\n    console.log('[Stage 3] Generating caption...')\n    const caption = await generateCaptionWithFormat(userInput, pages, typeId)\n    console.log('[Stage 3] Caption generated')\n\n    // Stage 4: ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°æœ€é©åŒ–\n    console.log('[Stage 4] Optimizing hashtags...')\n    const hashtags = await optimizeHashtags(userInput, genre, typeId)\n    console.log('[Stage 4] Hashtags optimized')\n\n    console.log('[Pipeline] Complete! ğŸ‰')\n\n    return {\n      pages,\n      totalPages: pages.length,\n      caption,\n      hashtags,\n      summary: `${genre}ï¼ˆType ${typeId}ï¼‰: ${pages.length}ãƒšãƒ¼ã‚¸`,\n      postType: genre,\n      targetId: typeId\n    }\n  } catch (error) {\n    console.error('[Pipeline] Error:', error)\n    // ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ç”Ÿæˆ\n    return await generateFallbackContent(userInput)\n  }\n}\n```\n\n---",
    "relatedTech": [
      "decision-ai-gemini-2.0-flash-lite",
      "decision-arch-two-stage-generation",
      "workflow-content-generation-complete-workflow"
    ]
  },
  {
    "slug": "foreshadowing-management-system",
    "title": "ä¼ç·šç®¡ç†ãƒ»è¿½è·¡ã‚·ã‚¹ãƒ†ãƒ ",
    "category": "Skillsï¼ˆã‚¹ã‚­ãƒ«ãƒ»æ‰‹æ³•ï¼‰",
    "description": "AIå°èª¬è‡ªå‹•ç”Ÿæˆã«ãŠã„ã¦ã€**ä¼ç·šã®é…ç½®ï¼ˆplantï¼‰ã¨å›åï¼ˆpayoffï¼‰ã‚’ä½“ç³»çš„ã«ç®¡ç†**ã—ã€ã©ã®ä¼ç·šãŒã„ã¤å¼µã‚‰ã‚Œã€ã„ã¤å›åã•ã‚Œã‚‹ã¹ãã‹ã‚’è¿½è·¡ã™ã‚‹æ‰‹æ³•ã€‚æœªå›åã®ä¼ç·šã‚’ç›£è¦–ã—ã€é©åˆ‡ãªã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§å›åã‚’ä¿ƒã™æŒ‡ç¤ºã‚’ç”Ÿæˆã™ã‚‹ã€‚",
    "project": "novel-automation-system-v2",
    "usedIn": [
      "src/lib/foreshadowing/foreshadowing-manager.ts:1-1000"
    ],
    "code": "```json\n{\n  \"id\": \"skill_foreshadowing_management_system_2025_11_25\",\n  \"type\": \"skill\",\n  \"name\": \"ä¼ç·šç®¡ç†ãƒ»è¿½è·¡ã‚·ã‚¹ãƒ†ãƒ \",\n  \"tags\": [\"ä¼ç·šç®¡ç†\", \"ãƒ—ãƒ­ãƒƒãƒˆæ§‹é€ \", \"AIå°èª¬ç”Ÿæˆ\", \"ç‰©èªæŠ€æ³•\", \"å›åè¿½è·¡\"],\n  \"source_project\": \"novel-automation-system-v2\",\n  \"source_file\": \"src/lib/foreshadowing/foreshadowing-manager.ts:1-1000\",\n  \"related_knowledge\": [\n    \"skill_three_mode_plot_management_2025_11_25\",\n    \"decision_foreshadowing_tracking_approach_2025_11_25\"\n  ],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# ä¼ç·šç®¡ç†ãƒ»è¿½è·¡ã‚·ã‚¹ãƒ†ãƒ \n\n## ä½•ã‚’ã™ã‚‹ã‚¹ã‚­ãƒ«ã‹\n\nAIå°èª¬è‡ªå‹•ç”Ÿæˆã«ãŠã„ã¦ã€**ä¼ç·šã®é…ç½®ï¼ˆplantï¼‰ã¨å›åï¼ˆpayoffï¼‰ã‚’ä½“ç³»çš„ã«ç®¡ç†**ã—ã€ã©ã®ä¼ç·šãŒã„ã¤å¼µã‚‰ã‚Œã€ã„ã¤å›åã•ã‚Œã‚‹ã¹ãã‹ã‚’è¿½è·¡ã™ã‚‹æ‰‹æ³•ã€‚æœªå›åã®ä¼ç·šã‚’ç›£è¦–ã—ã€é©åˆ‡ãªã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§å›åã‚’ä¿ƒã™æŒ‡ç¤ºã‚’ç”Ÿæˆã™ã‚‹ã€‚\n\n## å…·ä½“çš„ãªæ‰‹æ³•\n\n### ä¼ç·šã®å®šç¾©\n\n```typescript\ninterface Foreshadowing {\n    id: string;\n    description: string;           // ä¼ç·šã®å†…å®¹\n    type: ForeshadowingType;       // ã‚¿ã‚¤ãƒ—\n    plantChapter: number;          // å¼µã‚‰ã‚ŒãŸç« \n    payoffChapter?: number;        // å›åäºˆå®š/å®Ÿéš›ã®ç« \n    status: ForeshadowingStatus;   // çŠ¶æ…‹\n    significance: number;          // é‡è¦åº¦ï¼ˆ1-10ï¼‰\n    subtlety: number;              // æ§ãˆã‚åº¦ï¼ˆ0-1ã€1=éå¸¸ã«æ§ãˆã‚ï¼‰\n    category: string;              // ã‚«ãƒ†ã‚´ãƒª\n    relatedElements: string[];     // é–¢é€£è¦ç´ \n    payoffDescription?: string;    // å›åæ™‚ã®å±•é–‹\n}\n\nenum ForeshadowingType {\n    PROPHECY = 'prophecy',         // äºˆè¨€\n    OBJECT = 'object',             // ç‰©ãƒ»ã‚¢ã‚¤ãƒ†ãƒ \n    CHARACTER = 'character',       // ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼\n    DIALOGUE = 'dialogue',         // å¯¾è©±ãƒ»ç™ºè¨€\n    EVENT = 'event',               // å‡ºæ¥äº‹\n    SYMBOL = 'symbol',             // è±¡å¾´\n    MYSTERY = 'mystery'            // è¬\n}\n\nenum ForeshadowingStatus {\n    PLANNED = 'planned',           // è¨ˆç”»ä¸­ï¼ˆã¾ã å¼µã‚‰ã‚Œã¦ã„ãªã„ï¼‰\n    PLANTED = 'planted',           // å¼µã‚‰ã‚ŒãŸï¼ˆæœªå›åï¼‰\n    HINTED = 'hinted',             // è¿½åŠ ã®ãƒ’ãƒ³ãƒˆãŒå‡ºãŸ\n    RESOLVED = 'resolved',         // å›åæ¸ˆã¿\n    ABANDONED = 'abandoned'        // æ”¾æ£„ï¼ˆä½¿ã‚ãªã„ã“ã¨ã«ã—ãŸï¼‰\n}\n```\n\n### ä¼ç·šè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ä¾‹\n\n**config/story-plot/concrete-plot.yaml**:\n```yaml\n- chapterRange: [1, 3]\n  phase: \"OPENING\"\n  foreshadowing:\n    - id: \"fs-ancient-book\"\n      description: \"ã‚¢ãƒ¬ãƒ³ã®çˆ¶è¦ªãŒéš ã—æŒã£ã¦ã„ãŸå¤ä»£ã®æ›¸ç‰©\"\n      type: \"object\"\n      significance: 8\n      payoffChapter: 25\n      payoffDescription: \"æ›¸ç‰©ãŒå¤ä»£é­”æ³•ã®éµã§ã‚ã‚‹ã“ã¨ãŒåˆ¤æ˜\"\n\n    - id: \"fs-mysterious-voice\"\n      description: \"ã‚¢ãƒ¬ãƒ³ã®å¤¢ã«ç¾ã‚Œã‚‹è¬ã®å£°\"\n      type: \"prophecy\"\n      significance: 9\n      payoffChapter: 35\n      payoffDescription: \"å£°ã®ä¸»ãŒå¤ä»£ã®é­”æ³•ä½¿ã„ã®æ„è­˜ã ã£ãŸã¨åˆ¤æ˜\"\n\n    - id: \"fs-matias-staff-symbol\"\n      description: \"ãƒãƒ†ã‚£ã‚¢ã‚¹ã®æ–ã«åˆ»ã¾ã‚ŒãŸå°ãŒæ‘ã®å¤ã„çŸ³ç¢‘ã«ã‚‚å­˜åœ¨\"\n      type: \"symbol\"\n      significance: 7\n      payoffChapter: 30\n      payoffDescription: \"å°ãŒå¤ä»£é­”æ³•ä½¿ã„ã®ä¸€æ—ã®è¨¼ã§ã‚ã‚‹ã¨åˆ¤æ˜\"\n```\n\n### ForeshadowingManagerã®å®Ÿè£…\n\n**åˆæœŸåŒ–ã¨èª­ã¿è¾¼ã¿**ï¼š\n```typescript\nclass ForeshadowingManager {\n    private activeForeshadowing: Map<string, Foreshadowing> = new Map();\n    private resolvedForeshadowing: Map<string, Foreshadowing> = new Map();\n\n    constructor(private memoryManager: MemoryManager) {}\n\n    async initialize(): Promise<void> {\n        // concrete-plot.yaml ã‹ã‚‰ä¼ç·šã‚’èª­ã¿è¾¼ã¿\n        const concretePlots = await this.loadConcretePlots();\n\n        for (const plot of concretePlots) {\n            if (plot.foreshadowing) {\n                for (const fs of plot.foreshadowing) {\n                    // ä¼ç·šã‚’ã‚·ã‚¹ãƒ†ãƒ ã«ç™»éŒ²\n                    await this.registerForeshadowing({\n                        id: fs.id,\n                        description: fs.description,\n                        type: fs.type,\n                        plantChapter: plot.chapterRange[0],\n                        payoffChapter: fs.payoffChapter,\n                        significance: fs.significance,\n                        subtlety: fs.subtlety || 0.7,\n                        status: ForeshadowingStatus.PLANNED,\n                        category: plot.phase,\n                        relatedElements: fs.relatedElements || [],\n                        payoffDescription: fs.payoffDescription\n                    });\n                }\n            }\n        }\n    }\n\n    async registerForeshadowing(fs: Foreshadowing): Promise<void> {\n        this.activeForeshadowing.set(fs.id, fs);\n\n        // ãƒ¡ãƒ¢ãƒªã‚·ã‚¹ãƒ†ãƒ ã«ã‚‚ä¿å­˜\n        await this.memoryManager.store({\n            type: 'Foreshadowing',\n            id: fs.id,\n            data: fs,\n            level: MemoryLevel.LONG_TERM\n        });\n    }\n}\n```\n\n### ç« å‡¦ç†ã§ã®ä¼ç·šåˆ†æ\n\n```typescript\nasync analyzeChapterForeshadowing(\n    chapter: Chapter\n): Promise<ForeshadowingAnalysisResult> {\n    const chapterNumber = chapter.chapterNumber;\n\n    // ã“ã®ç« ã§å¼µã‚‹ã¹ãä¼ç·š\n    const toPlant = this.getForeshadowingToPlant(chapterNumber);\n\n    // ã“ã®ç« ã§å›åã™ã¹ãä¼ç·š\n    const toResolve = this.getForeshadowingToResolve(chapterNumber);\n\n    // ç¾åœ¨ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãªä¼ç·šï¼ˆãƒªãƒã‚¤ãƒ³ãƒ€ãƒ¼ç”¨ï¼‰\n    const active = this.getActiveForeshadowing(chapterNumber);\n\n    // ç« ã®å†…å®¹ã‚’åˆ†æã—ã¦å®Ÿéš›ã«å¼µã‚‰ã‚ŒãŸãƒ»å›åã•ã‚ŒãŸä¼ç·šã‚’æ¤œå‡º\n    const planted = await this.detectPlantedForeshadowing(chapter);\n    const resolved = await this.detectResolvedForeshadowing(chapter);\n\n    // ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’æ›´æ–°\n    await this.updateForeshadowingStatus(planted, resolved);\n\n    return {\n        toPlant,\n        toResolve,\n        active,\n        actuallyPlanted: planted,\n        actuallyResolved: resolved,\n        unresolvedCount: this.getUnresolvedCount()\n    };\n}\n\nprivate getForeshadowingToPlant(chapterNumber: number): Foreshadowing[] {\n    return Array.from(this.activeForeshadowing.values()).filter(\n        fs => fs.plantChapter === chapterNumber &&\n              fs.status === ForeshadowingStatus.PLANNED\n    );\n}\n\nprivate getForeshadowingToResolve(chapterNumber: number): Foreshadowing[] {\n    return Array.from(this.activeForeshadowing.values()).filter(\n        fs => fs.payoffChapter === chapterNumber &&\n              fs.status === ForeshadowingStatus.PLANTED\n    );\n}\n\nprivate getActiveForeshadowing(chapterNumber: number): Foreshadowing[] {\n    return Array.from(this.activeForeshadowing.values()).filter(\n        fs => fs.status === ForeshadowingStatus.PLANTED &&\n              fs.plantChapter < chapterNumber &&\n              (!fs.payoffChapter || fs.payoffChapter > chapterNumber)\n    );\n}\n```\n\n### ç« æŒ‡ç¤ºã¸ã®çµ±åˆ\n\n```typescript\nasync enrichDirectivesWithForeshadowing(\n    directives: ChapterDirectives,\n    foreshadowingContext: ForeshadowingAnalysisResult\n): Promise<ChapterDirectives> {\n    // å¼µã‚‹ã¹ãä¼ç·šã‚’å¿…é ˆè¦ç´ ã«è¿½åŠ \n    if (foreshadowingContext.toPlant.length > 0) {\n        directives.requiredPlotElements = [\n            ...(directives.requiredPlotElements || []),\n            ...foreshadowingContext.toPlant.map(fs =>\n                this.formatPlantInstruction(fs)\n            )\n        ];\n    }\n\n    // å›åã™ã¹ãä¼ç·šã‚’å¿…é ˆè¦ç´ ã«è¿½åŠ \n    if (foreshadowingContext.toResolve.length > 0) {\n        directives.requiredPlotElements = [\n            ...(directives.requiredPlotElements || []),\n            ...foreshadowingContext.toResolve.map(fs =>\n                this.formatPayoffInstruction(fs)\n            )\n        ];\n    }\n\n    // ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãªä¼ç·šã‚’ãƒªãƒã‚¤ãƒ³ãƒ€ãƒ¼ã¨ã—ã¦è¿½åŠ \n    if (foreshadowingContext.active.length > 0) {\n        directives.contextualReminders = [\n            ...(directives.contextualReminders || []),\n            \"ç¾åœ¨ã€ä»¥ä¸‹ã®ä¼ç·šãŒå¼µã‚‰ã‚Œã¦ã„ã¾ã™ï¼š\",\n            ...foreshadowingContext.active.map(fs =>\n                `- ${fs.description} ï¼ˆç¬¬${fs.plantChapter}ç« ã§ç™»å ´ï¼‰`\n            )\n        ];\n    }\n\n    return directives;\n}\n\nprivate formatPlantInstruction(fs: Foreshadowing): string {\n    const subtletyGuidance = fs.subtlety > 0.7\n        ? \"ï¼ˆã•ã‚Šã’ãªãã€è‡ªç„¶ã«ç¹”ã‚Šè¾¼ã‚“ã§ãã ã•ã„ï¼‰\"\n        : fs.subtlety > 0.4\n        ? \"ï¼ˆæ§ãˆã‚ã«è¨€åŠã—ã¦ãã ã•ã„ï¼‰\"\n        : \"ï¼ˆæ˜ç¢ºã«æç¤ºã—ã¦ãã ã•ã„ï¼‰\";\n\n    return `ã€ä¼ç·šé…ç½®ã€‘${fs.description} ${subtletyGuidance}`;\n}\n\nprivate formatPayoffInstruction(fs: Foreshadowing): string {\n    return `ã€ä¼ç·šå›åã€‘${fs.payoffDescription || fs.description}` +\n           ` ï¼ˆç¬¬${fs.plantChapter}ç« ã§å¼µã‚‰ã‚ŒãŸä¼ç·šï¼‰`;\n}\n```\n\n### AIåˆ†æã«ã‚ˆã‚‹ä¼ç·šæ¤œå‡º\n\n```typescript\nasync detectPlantedForeshadowing(\n    chapter: Chapter\n): Promise<string[]> {\n    // ãƒ†ã‚­ã‚¹ãƒˆåˆ†æã§ä¼ç·šå€™è£œã‚’æ¤œå‡º\n    const candidates = await this.analyzeTextForForeshadowing(\n        chapter.content\n    );\n\n    // æ—¢çŸ¥ã®ä¼ç·šã¨ãƒãƒƒãƒãƒ³ã‚°\n    const planted: string[] = [];\n\n    for (const fs of this.activeForeshadowing.values()) {\n        if (fs.status !== ForeshadowingStatus.PLANNED) continue;\n\n        // ä¼ç·šã®èª¬æ˜ã¨ç« ã®å†…å®¹ã‚’æ¯”è¼ƒ\n        const similarity = await this.calculateSimilarity(\n            fs.description,\n            chapter.content\n        );\n\n        if (similarity > 0.6) {  // 60%ä»¥ä¸Šã®é¡ä¼¼åº¦\n            planted.push(fs.id);\n        }\n    }\n\n    return planted;\n}\n\nasync detectResolvedForeshadowing(\n    chapter: Chapter\n): Promise<string[]> {\n    const resolved: string[] = [];\n\n    for (const fs of this.activeForeshadowing.values()) {\n        if (fs.status !== ForeshadowingStatus.PLANTED) continue;\n\n        // å›åã®èª¬æ˜ã¨ç« ã®å†…å®¹ã‚’æ¯”è¼ƒ\n        const payoffText = fs.payoffDescription || fs.description;\n        const similarity = await this.calculateSimilarity(\n            payoffText,\n            chapter.content\n        );\n\n        if (similarity > 0.7) {  // 70%ä»¥ä¸Šã®é¡ä¼¼åº¦\n            resolved.push(fs.id);\n        }\n    }\n\n    return resolved;\n}\n```\n\n### æœªå›åä¼ç·šã®è­¦å‘Š\n\n```typescript\nasync checkUnresolvedForeshadowing(\n    currentChapter: number\n): Promise<UnresolvedWarnings> {\n    const warnings: UnresolvedWarnings = {\n        overdue: [],\n        approaching: [],\n        longstanding: []\n    };\n\n    for (const fs of this.activeForeshadowing.values()) {\n        if (fs.status !== ForeshadowingStatus.PLANTED) continue;\n\n        const chaptersPasseed = currentChapter - fs.plantChapter;\n\n        // å›åäºˆå®šã‚’éãã¦ã„ã‚‹\n        if (fs.payoffChapter && currentChapter > fs.payoffChapter) {\n            warnings.overdue.push({\n                foreshadowing: fs,\n                overdueBy: currentChapter - fs.payoffChapter\n            });\n        }\n        // å›åãŒè¿‘ã„\n        else if (fs.payoffChapter && currentChapter >= fs.payoffChapter - 2) {\n            warnings.approaching.push({\n                foreshadowing: fs,\n                chaptersUntilPayoff: fs.payoffChapter - currentChapter\n            });\n        }\n        // é•·æœŸé–“æœªå›å\n        else if (chaptersPasseed > 20) {\n            warnings.longstanding.push({\n                foreshadowing: fs,\n                chaptersSincePlant: chaptersPasseed\n            });\n        }\n    }\n\n    return warnings;\n}\n```\n\n### ã‚»ã‚¯ã‚·ãƒ§ãƒ³/ã‚¢ãƒ¼ã‚¯ãƒ¬ãƒ™ãƒ«ã®ä¼ç·š\n\n```typescript\ninterface SectionForeshadowing {\n    element: string;\n    plantingPoint: number;         // ã‚»ã‚¯ã‚·ãƒ§ãƒ³å†…ã®ç›¸å¯¾ä½ç½®ï¼ˆ0-1ï¼‰\n    payoffSection?: number;        // ã©ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§å›åã™ã‚‹ã‹\n    payoffPoint?: number;          // ã‚»ã‚¯ã‚·ãƒ§ãƒ³å†…ã®ç›¸å¯¾ä½ç½®ï¼ˆ0-1ï¼‰\n}\n\n// ã‚»ã‚¯ã‚·ãƒ§ãƒ³ãƒ—ãƒ©ãƒ³ã§ã®å®šç¾©ä¾‹\ninterface SectionPlot {\n    sectionNumber: number;\n    chapterRange: [number, number];\n    sectionForeshadowing: SectionForeshadowing[];\n}\n\n// ã‚»ã‚¯ã‚·ãƒ§ãƒ³ä¼ç·šã‚’ã‚°ãƒ­ãƒ¼ãƒãƒ«ä¼ç·šã«å¤‰æ›\nasync convertSectionForeshadowing(\n    sectionPlot: SectionPlot\n): Promise<Foreshadowing[]> {\n    const globalForeshadowing: Foreshadowing[] = [];\n\n    for (const sfs of sectionPlot.sectionForeshadowing) {\n        const plantChapter = this.calculateChapterFromRelativePosition(\n            sectionPlot.chapterRange,\n            sfs.plantingPoint\n        );\n\n        const payoffChapter = sfs.payoffSection\n            ? this.calculatePayoffChapter(sfs.payoffSection, sfs.payoffPoint)\n            : undefined;\n\n        globalForeshadowing.push({\n            id: this.generateId('sfs'),\n            description: sfs.element,\n            type: ForeshadowingType.EVENT,\n            plantChapter,\n            payoffChapter,\n            status: ForeshadowingStatus.PLANNED,\n            significance: 6,\n            subtlety: 0.6,\n            category: `Section ${sectionPlot.sectionNumber}`,\n            relatedElements: []\n        });\n    }\n\n    return globalForeshadowing;\n}\n```\n\n## ãªãœã“ã®æ‰‹æ³•ã‚’ä½¿ã†ã‹\n\n**ç†ç”±1ï¼šä¼ç·šã®æ¼ã‚Œé˜²æ­¢**\næ‰‹å‹•ç®¡ç†ã§ã¯å¿˜ã‚ŒãŒã¡ï¼š\n- å¼µã£ãŸä¼ç·šã‚’å¿˜ã‚Œã‚‹\n- å›åã—å¿˜ã‚Œã‚‹\n- çŸ›ç›¾ã™ã‚‹ä¼ç·šã‚’å¼µã‚‹\n\nã‚·ã‚¹ãƒ†ãƒ ãŒè‡ªå‹•è¿½è·¡ã™ã‚‹ã“ã¨ã§é˜²æ­¢ã€‚\n\n**ç†ç”±2ï¼šé©åˆ‡ãªã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§ã®å›å**\n```typescript\n// å›åã‚¿ã‚¤ãƒŸãƒ³ã‚°ã‚’ã‚·ã‚¹ãƒ†ãƒ ãŒè­¦å‘Š\nif (currentChapter >= fs.payoffChapter - 2) {\n    logger.warn(`ä¼ç·šã€Œ${fs.description}ã€ã®å›åãŒè¿‘ã¥ã„ã¦ã„ã¾ã™`);\n}\n```\n\n**ç†ç”±3ï¼šAIç”Ÿæˆã¸ã®æ˜ç¢ºãªæŒ‡ç¤º**\n```\nã€ä¼ç·šé…ç½®ã€‘ã‚¢ãƒ¬ãƒ³ã®çˆ¶è¦ªãŒéš ã—æŒã£ã¦ã„ãŸå¤ä»£ã®æ›¸ç‰©\nï¼ˆã•ã‚Šã’ãªãã€è‡ªç„¶ã«ç¹”ã‚Šè¾¼ã‚“ã§ãã ã•ã„ï¼‰\n```\n\nAIã«ä½•ã‚’æå†™ã™ã¹ãã‹æ˜ç¢ºã«ä¼ãˆã‚‹ã€‚\n\n**ç†ç”±4ï¼šç‰©èªã®æ·±ã¿ã¨æº€è¶³æ„Ÿ**\nèª­è€…ã¯ä¼ç·šã®å›åã«æº€è¶³ã‚’æ„Ÿã˜ã‚‹ï¼š\n- è¨ˆç”»çš„ã«é…ç½®\n- é©åˆ‡ã«å›å\n- ç‰©èªã®ä¸€ä½“æ„Ÿ\n\n## å†ç¾æ–¹æ³•\n\n### ã‚¹ãƒ†ãƒƒãƒ—1ï¼šä¼ç·šã®å®šç¾©\n\n```yaml\n# concrete-plot.yaml\n- chapterRange: [1, 3]\n  foreshadowing:\n    - id: \"fs-ancient-book\"\n      description: \"å¤ä»£ã®æ›¸ç‰©\"\n      type: \"object\"\n      significance: 8\n      subtlety: 0.7\n      payoffChapter: 25\n      payoffDescription: \"æ›¸ç‰©ãŒå¤ä»£é­”æ³•ã®éµã ã¨åˆ¤æ˜\"\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2ï¼šForeshadowingManagerã®åˆæœŸåŒ–\n\n```typescript\nconst foreshadowingManager = new ForeshadowingManager(memoryManager);\nawait foreshadowingManager.initialize();\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3ï¼šç« å‡¦ç†ã§ã®ä¼ç·šãƒã‚§ãƒƒã‚¯\n\n```typescript\nconst chapter = { chapterNumber: 1, content: \"...\" };\n\nconst analysis = await foreshadowingManager.analyzeChapterForeshadowing(chapter);\n\nconsole.log(analysis);\n// {\n//     toPlant: [{ id: \"fs-ancient-book\", description: \"å¤ä»£ã®æ›¸ç‰©\", ... }],\n//     toResolve: [],\n//     active: [],\n//     actuallyPlanted: [\"fs-ancient-book\"],\n//     actuallyResolved: [],\n//     unresolvedCount: 1\n// }\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—4ï¼šç« æŒ‡ç¤ºã¸ã®çµ±åˆ\n\n```typescript\nconst directives = await plotManager.generateChapterDirectives(1);\n\n// ä¼ç·šã‚’çµ±åˆ\nconst enrichedDirectives = await foreshadowingManager.enrichDirectivesWithForeshadowing(\n    directives,\n    analysis\n);\n\nconsole.log(enrichedDirectives.requiredPlotElements);\n// [\n//     \"ã€ä¼ç·šé…ç½®ã€‘å¤ä»£ã®æ›¸ç‰©ï¼ˆã•ã‚Šã’ãªãã€è‡ªç„¶ã«ç¹”ã‚Šè¾¼ã‚“ã§ãã ã•ã„ï¼‰\"\n// ]\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—5ï¼šæœªå›åä¼ç·šã®ç¢ºèª\n\n```typescript\nconst warnings = await foreshadowingManager.checkUnresolvedForeshadowing(30);\n\nconsole.log(warnings);\n// {\n//     overdue: [\n//         {\n//             foreshadowing: { description: \"å¤ä»£ã®æ›¸ç‰©\", ... },\n//             overdueBy: 5  // 5ç« é…ã‚Œã¦ã„ã‚‹\n//         }\n//     ],\n//     approaching: [],\n//     longstanding: []\n// }\n```\n\n## ã„ã¤ä½¿ã†ã‹\n\n**é©ç”¨å ´é¢1ï¼šãƒŸã‚¹ãƒ†ãƒªãƒ¼ãƒ»æ¨ç†å°èª¬**\n- è¬è§£ãè¦ç´ \n- ä¼ç·šãŒé‡è¦\n- è¨ˆç”»çš„ãªå›åãŒå¿…é ˆ\n\n**é©ç”¨å ´é¢2ï¼šé•·ç·¨ãƒ•ã‚¡ãƒ³ã‚¿ã‚¸ãƒ¼**\n- å¤šæ•°ã®ä¼ç·š\n- è¤‡é›‘ãªãƒ—ãƒ­ãƒƒãƒˆ\n- é•·æœŸé–“ã®è¿½è·¡ãŒå¿…è¦\n\n**é©ç”¨å ´é¢3ï¼šAIç”Ÿæˆã§ã®å“è³ªå‘ä¸Š**\n- ä¼ç·šã‚’å¿˜ã‚Œãªã„\n- é©åˆ‡ãªã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§å›å\n- ä¸€è²«æ€§ã®ã‚ã‚‹ç‰©èª\n\n**é©ç”¨å ´é¢4ï¼šè¤‡æ•°ã®ã‚µãƒ–ãƒ—ãƒ­ãƒƒãƒˆ**\n- ãƒ¡ã‚¤ãƒ³ãƒ—ãƒ­ãƒƒãƒˆã¨ã‚µãƒ–ãƒ—ãƒ­ãƒƒãƒˆ\n- ãã‚Œãã‚Œã«ä¼ç·š\n- ç›¸äº’ã®é–¢é€£ã‚’ç®¡ç†\n\n## æ³¨æ„ç‚¹\n\n**æ³¨æ„ç‚¹1ï¼šéåº¦ãªä¼ç·š**\nä¼ç·šãŒå¤šã™ãã‚‹ã¨æ··ä¹±ï¼š\n```typescript\n// åŒæ™‚ã«ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãªä¼ç·šæ•°ã‚’åˆ¶é™\nif (activeForeshadowing.size > 5) {\n    logger.warn('Active foreshadowing count is high');\n}\n```\n\n**æ³¨æ„ç‚¹2ï¼šéœ²éª¨ã™ãã‚‹ä¼ç·š**\n```yaml\n# æ§ãˆã‚åº¦ã‚’èª¿æ•´\nsubtlety: 0.9  # éå¸¸ã«æ§ãˆã‚\nsubtlety: 0.5  # æ™®é€š\nsubtlety: 0.2  # æ˜ç¢º\n```\n\n**æ³¨æ„ç‚¹3ï¼šæ¤œå‡ºã®ç²¾åº¦**\nAIåˆ†æã¯å®Œç’§ã§ã¯ãªã„ï¼š\n```typescript\n// æ‰‹å‹•ç¢ºèªã‚‚å¿…è¦\nif (similarity > 0.6) {\n    logger.info(`Possible foreshadowing detected, please verify`);\n}\n```\n\n**æ³¨æ„ç‚¹4ï¼šæŸ”è»Ÿæ€§ã®æ¬ å¦‚**\nç‰©èªãŒäºˆå®šé€šã‚Šé€²ã¾ãªã„å ´åˆï¼š\n```typescript\n// ä¼ç·šã‚’èª¿æ•´å¯èƒ½ã«\nawait foreshadowingManager.adjustPayoffChapter('fs-ancient-book', 30);\n```\n\n**æ³¨æ„ç‚¹5ï¼šå›åã®è‡ªç„¶ã•**\nè¨ˆç”»çš„ã™ãã¦ä¸è‡ªç„¶ã«ãªã‚‰ãªã„ã‚ˆã†ï¼š\n```\n// âŒ æ‚ªã„ä¾‹\n\"ãã†ã„ãˆã°ã€ç¬¬1ç« ã§è¦‹ãŸå¤ä»£ã®æ›¸ç‰©ãŒå®Ÿã¯éµã ã£ãŸã®ã ï¼\"\n\n// âœ… è‰¯ã„ä¾‹\n\"ã‚¢ãƒ¬ãƒ³ã¯æ›¸ç‰©ã®ãƒšãƒ¼ã‚¸ã‚’ã‚ãã£ãŸã€‚ãã“ã«åˆ»ã¾ã‚ŒãŸæ–‡å­—ãŒã€ä»Šãªã‚‰ç†è§£ã§ãã‚‹æ°—ãŒã—ãŸã€‚\"\n```\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `skill_three_mode_plot_management_2025_11_25.md`ï¼šãƒ—ãƒ­ãƒƒãƒˆç®¡ç†ã¨ã®çµ±åˆ\n- `decision_foreshadowing_tracking_approach_2025_11_25.md`ï¼šãªãœè¿½è·¡ã™ã‚‹ã®ã‹\n- `workflow_foreshadowing_lifecycle_management_2025_11_25.md`ï¼šä¼ç·šã®ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ç®¡ç†\n",
    "prompt": "### ã‚¹ãƒ†ãƒƒãƒ—1ï¼šä¼ç·šã®å®šç¾©\n\n```yaml\n# concrete-plot.yaml\n- chapterRange: [1, 3]\n  foreshadowing:\n    - id: \"fs-ancient-book\"\n      description: \"å¤ä»£ã®æ›¸ç‰©\"\n      type: \"object\"\n      significance: 8\n      subtlety: 0.7\n      payoffChapter: 25\n      payoffDescription: \"æ›¸ç‰©ãŒå¤ä»£é­”æ³•ã®éµã ã¨åˆ¤æ˜\"\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2ï¼šForeshadowingManagerã®åˆæœŸåŒ–\n\n```typescript\nconst foreshadowingManager = new ForeshadowingManager(memoryManager);\nawait foreshadowingManager.initialize();\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3ï¼šç« å‡¦ç†ã§ã®ä¼ç·šãƒã‚§ãƒƒã‚¯\n\n```typescript\nconst chapter = { chapterNumber: 1, content: \"...\" };\n\nconst analysis = await foreshadowingManager.analyzeChapterForeshadowing(chapter);\n\nconsole.log(analysis);\n// {\n//     toPlant: [{ id: \"fs-ancient-book\", description: \"å¤ä»£ã®æ›¸ç‰©\", ... }],\n//     toResolve: [],\n//     active: [],\n//     actuallyPlanted: [\"fs-ancient-book\"],\n//     actuallyResolved: [],\n//     unresolvedCount: 1\n// }\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—4ï¼šç« æŒ‡ç¤ºã¸ã®çµ±åˆ\n\n```typescript\nconst directives = await plotManager.generateChapterDirectives(1);\n\n// ä¼ç·šã‚’çµ±åˆ\nconst enrichedDirectives = await foreshadowingManager.enrichDirectivesWithForeshadowing(\n    directives,\n    analysis\n);\n\nconsole.log(enrichedDirectives.requiredPlotElements);\n// [\n//     \"ã€ä¼ç·šé…ç½®ã€‘å¤ä»£ã®æ›¸ç‰©ï¼ˆã•ã‚Šã’ãªãã€è‡ªç„¶ã«ç¹”ã‚Šè¾¼ã‚“ã§ãã ã•ã„ï¼‰\"\n// ]\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—5ï¼šæœªå›åä¼ç·šã®ç¢ºèª\n\n```typescript\nconst warnings = await foreshadowingManager.checkUnresolvedForeshadowing(30);\n\nconsole.log(warnings);\n// {\n//     overdue: [\n//         {\n//             foreshadowing: { description: \"å¤ä»£ã®æ›¸ç‰©\", ... },\n//             overdueBy: 5  // 5ç« é…ã‚Œã¦ã„ã‚‹\n//         }\n//     ],\n//     approaching: [],\n//     longstanding: []\n// }\n```",
    "relatedTech": [
      "skill-three-mode-plot-management",
      "decision-foreshadowing-tracking-approach"
    ]
  },
  {
    "slug": "frontmatter-auto-generation",
    "title": "Frontmatterè‡ªå‹•ç”Ÿæˆ",
    "category": "Skillsï¼ˆã‚¹ã‚­ãƒ«ãƒ»æ‰‹æ³•ï¼‰",
    "description": "ãƒ–ãƒ­ã‚°è¨˜äº‹ã®ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ï¼ˆtitle, date, category, slug, excerptï¼‰ã‚’Frontmatterå½¢å¼ã§è‡ªå‹•ç”Ÿæˆã™ã‚‹æ‰‹æ³•ã€‚",
    "project": "ai-blog-generator",
    "usedIn": [
      "src/lib/article.ts:48-58"
    ],
    "code": "```json\n{\n  \"id\": \"skill_frontmatter_auto_generation_2025_04_22\",\n  \"type\": \"skill\",\n  \"name\": \"Frontmatterè‡ªå‹•ç”Ÿæˆ\",\n  \"tags\": [\"Frontmatter\", \"ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿\", \"ãƒ–ãƒ­ã‚°\", \"gray-matter\", \"è‡ªå‹•åŒ–\"],\n  \"source_project\": \"ai-blog-generator\",\n  \"source_file\": \"src/lib/article.ts:48-58\",\n  \"related_knowledge\": [],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-04-22\",\n  \"updated\": \"2025-04-22\"\n}\n```\n\n# Frontmatterè‡ªå‹•ç”Ÿæˆ\n\n## ä½•ã‚’ã™ã‚‹ã‚¹ã‚­ãƒ«ã‹\n\nãƒ–ãƒ­ã‚°è¨˜äº‹ã®ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ï¼ˆtitle, date, category, slug, excerptï¼‰ã‚’Frontmatterå½¢å¼ã§è‡ªå‹•ç”Ÿæˆã™ã‚‹æ‰‹æ³•ã€‚\n\n## å…·ä½“çš„ãªæ‰‹æ³•\n\n```typescript\nexport async function saveArticle(title: string, content: string, category: string) {\n  const frontMatter = `---\ntitle: \"${title}\"\ndate: \"${new Date().toISOString()}\"\ncategory: \"${category}\"\nslug: \"${slug}\"\nexcerpt: \"${content.split('\\n\\n')[1]?.slice(0, 150)?.trim()}...\"\n---\n\n`;\n\n  const contentWithFrontMatter = frontMatter + content;\n  await writeFile(filePath, contentWithFrontMatter, 'utf8');\n}\n```\n\n### å„ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®ç”Ÿæˆæ–¹æ³•\n\n**title**ï¼šå¼•æ•°ã‹ã‚‰å–å¾—\n**date**ï¼šISO 8601å½¢å¼ï¼ˆ`2025-04-22T13:12:51.645Z`ï¼‰\n**category**ï¼šå¼•æ•°ã‹ã‚‰å–å¾—\n**slug**ï¼šã‚¿ã‚¤ãƒˆãƒ«ã‹ã‚‰ç”Ÿæˆ\n**excerpt**ï¼šæœ¬æ–‡ã®2æ®µè½ç›®ã‹ã‚‰æœ€åˆã®150æ–‡å­—ã‚’æŠ½å‡º\n\n## ãªãœã“ã®æ‰‹æ³•ã‚’ä½¿ã†ã‹\n\n- **æ‰‹å‹•å…¥åŠ›ã¯éåŠ¹ç‡**ï¼šæ¯å›ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚’æ›¸ãã®ã¯æ™‚é–“ãŒã‹ã‹ã‚‹\n- **ä¸€è²«æ€§**ï¼šè‡ªå‹•ç”Ÿæˆã§å½¢å¼ãŒçµ±ä¸€ã•ã‚Œã‚‹\n- **SEO**ï¼štitle, excerptã¯æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³ãŒä½¿ç”¨\n\n## å†ç¾æ–¹æ³•\n\n```typescript\nconst frontMatter = `---\ntitle: \"${title}\"\ndate: \"${new Date().toISOString()}\"\nslug: \"${slug}\"\nexcerpt: \"${extractExcerpt(content, 150)}\"\n---\n\n`;\n\nfunction extractExcerpt(content: string, maxLength: number): string {\n  const paragraphs = content.split('\\n\\n');\n  const excerpt = paragraphs[1] || paragraphs[0] || '';\n  return excerpt.slice(0, maxLength).trim() + '...';\n}\n```\n\n## æ³¨æ„ç‚¹\n\n- **2æ®µè½ç›®ãŒå­˜åœ¨ã—ãªã„å ´åˆ**ï¼šãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ãŒå¿…è¦ï¼ˆ1æ®µè½ç›®ä½¿ç”¨ï¼‰\n- **ç‰¹æ®Šæ–‡å­—ã®ã‚¨ã‚¹ã‚±ãƒ¼ãƒ—**ï¼šãƒ€ãƒ–ãƒ«ã‚¯ã‚©ãƒ¼ãƒˆç­‰ã‚’ã‚¨ã‚¹ã‚±ãƒ¼ãƒ—\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `skill_slug_generation_collision_check_2025_04_22.md` - slugã®ç”Ÿæˆæ–¹æ³•\n",
    "prompt": "```typescript\nconst frontMatter = `---\ntitle: \"${title}\"\ndate: \"${new Date().toISOString()}\"\nslug: \"${slug}\"\nexcerpt: \"${extractExcerpt(content, 150)}\"\n---\n\n`;\n\nfunction extractExcerpt(content: string, maxLength: number): string {\n  const paragraphs = content.split('\\n\\n');\n  const excerpt = paragraphs[1] || paragraphs[0] || '';\n  return excerpt.slice(0, maxLength).trim() + '...';\n}\n```",
    "relatedTech": []
  },
  {
    "slug": "gantt-data-parsing-technique",
    "title": "ã‚¬ãƒ³ãƒˆãƒãƒ£ãƒ¼ãƒˆãƒ‡ãƒ¼ã‚¿ãƒ‘ãƒ¼ã‚¹æ‰‹æ³•",
    "category": "Skillsï¼ˆã‚¹ã‚­ãƒ«ãƒ»æ‰‹æ³•ï¼‰",
    "description": "Google Sheetsã«è¨˜éŒ²ã•ã‚ŒãŸã‚¬ãƒ³ãƒˆãƒãƒ£ãƒ¼ãƒˆå½¢å¼ã®ãƒ‡ãƒ¼ã‚¿ï¼ˆæ¨ªæŒã¡æ§‹é€ ï¼‰ã‚’è§£æã—ã€å·¥ç¨‹åˆ¥ã®é€²æ—ãƒ‡ãƒ¼ã‚¿ã¨ã—ã¦å–ã‚Šå‡ºã™æ‰‹æ³•ã€‚",
    "project": "yumesuta-management-system",
    "usedIn": [
      "app/api/yumemaga-v2/progress/route.ts:79-200, types/process.ts"
    ],
    "code": "```json\n{\n  \"id\": \"skill_gantt_data_parsing_technique_2025_11_24\",\n  \"type\": \"skill\",\n  \"name\": \"ã‚¬ãƒ³ãƒˆãƒãƒ£ãƒ¼ãƒˆãƒ‡ãƒ¼ã‚¿ãƒ‘ãƒ¼ã‚¹æ‰‹æ³•\",\n  \"tags\": [\"ã‚¬ãƒ³ãƒˆãƒãƒ£ãƒ¼ãƒˆ\", \"ãƒ‡ãƒ¼ã‚¿ãƒ‘ãƒ¼ã‚¹\", \"Google Sheets\", \"é€²æ—ç®¡ç†\", \"ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«\", \"ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒãƒ³ã‚°\"],\n  \"source_project\": \"yumesuta-management-system\",\n  \"source_file\": \"app/api/yumemaga-v2/progress/route.ts:79-200, types/process.ts\",\n  \"related_knowledge\": [\n    \"skill_google_sheets_a1_notation_2025_11_24\",\n    \"skill_dynamic_sheet_selection_2025_11_24\",\n    \"skill_japanese_status_enum_conversion_2025_11_24\",\n    \"decision_tech_google_sheets_api_v4_2025_11_24\"\n  ],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-24\",\n  \"updated\": \"2025-11-24\"\n}\n```\n\n# ã‚¬ãƒ³ãƒˆãƒãƒ£ãƒ¼ãƒˆãƒ‡ãƒ¼ã‚¿ãƒ‘ãƒ¼ã‚¹æ‰‹æ³•\n\n## ä½•ã‚’ã™ã‚‹ã‚¹ã‚­ãƒ«ã‹\n\nGoogle Sheetsã«è¨˜éŒ²ã•ã‚ŒãŸã‚¬ãƒ³ãƒˆãƒãƒ£ãƒ¼ãƒˆå½¢å¼ã®ãƒ‡ãƒ¼ã‚¿ï¼ˆæ¨ªæŒã¡æ§‹é€ ï¼‰ã‚’è§£æã—ã€å·¥ç¨‹åˆ¥ã®é€²æ—ãƒ‡ãƒ¼ã‚¿ã¨ã—ã¦å–ã‚Šå‡ºã™æ‰‹æ³•ã€‚\n\n## å…·ä½“çš„ãªæ‰‹æ³•\n\n### ã‚¬ãƒ³ãƒˆãƒãƒ£ãƒ¼ãƒˆã®æ§‹é€ \n\nyumesuta-management-systemã§ã¯ã€ã‚†ã‚ãƒã‚¬åˆ¶ä½œãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®97å·¥ç¨‹ã‚’ç®¡ç†ã™ã‚‹ãŸã‚ã«ã€æ¨ªæŒã¡æ§‹é€ ã®ã‚¬ãƒ³ãƒˆãƒãƒ£ãƒ¼ãƒˆã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹ã€‚\n\n#### æ§‹é€ ã®æ¦‚è¦\n\n```\n       Aåˆ—       Båˆ—      Cåˆ—    Dåˆ—    Eåˆ—    Fåˆ—   ...   GVåˆ—\n1è¡Œç›®  æœˆå·      A-1äºˆå®š  A-1å®Ÿç¸¾ A-2äºˆå®š A-2å®Ÿç¸¾ ...\n2è¡Œç›®  2025å¹´11æœˆå·  10/5    10/6   10/7   10/8  ...\n3è¡Œç›®  2025å¹´12æœˆå·  11/5    11/6   11/7   11/8  ...\n```\n\n- **1è¡Œç›®ï¼ˆãƒ˜ãƒƒãƒ€ãƒ¼ï¼‰**: å·¥ç¨‹ç•ªå·ã¨ã€Œäºˆå®šã€ã€Œå®Ÿç¸¾ã€ã®ãƒ©ãƒ™ãƒ«\n- **2è¡Œç›®ä»¥é™ï¼ˆãƒ‡ãƒ¼ã‚¿ï¼‰**: å„æœˆå·ã®å·¥ç¨‹ã”ã¨ã®äºˆå®šæ—¥ãƒ»å®Ÿç¸¾æ—¥\n\n### ãƒ‡ãƒ¼ã‚¿ãƒ‘ãƒ¼ã‚¹ã®æ‰‹é †\n\n#### ã‚¹ãƒ†ãƒƒãƒ—1: ãƒ˜ãƒƒãƒ€ãƒ¼è¡Œã‹ã‚‰å·¥ç¨‹ç•ªå·ã¨åˆ—ä½ç½®ã®ãƒãƒƒãƒ”ãƒ³ã‚°ã‚’ä½œæˆ\n\n```typescript\n// ãƒ˜ãƒƒãƒ€ãƒ¼è¡Œã‹ã‚‰ \"A-1äºˆå®š\", \"A-1å®Ÿç¸¾\" ãªã©ã‚’è§£æ\nconst progressHeaders = progressSheetData[0];\nconst headerMap: Record<string, { plannedCol: number; actualCol: number }> = {};\n\nfor (let col = 1; col < progressHeaders.length; col++) {\n  const header = progressHeaders[col];\n  if (!header) continue;\n\n  // \"A-1äºˆå®š\" or \"A-1å®Ÿç¸¾\" or \"A-1å®Ÿç¸¾(JSON)\" ã®ã‚ˆã†ãªãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ãƒãƒƒãƒ\n  const match = header.match(/^([A-Z]-\\d+)(äºˆå®š|å®Ÿç¸¾.*)/);\n  if (match) {\n    const processNo = match[1];  // \"A-1\"\n    const type = match[2];        // \"äºˆå®š\" or \"å®Ÿç¸¾\"\n\n    if (!headerMap[processNo]) {\n      headerMap[processNo] = { plannedCol: -1, actualCol: -1 };\n    }\n\n    if (type === 'äºˆå®š') {\n      headerMap[processNo].plannedCol = col;\n    } else if (type.startsWith('å®Ÿç¸¾')) {\n      headerMap[processNo].actualCol = col;\n    }\n  }\n}\n```\n\n**çµæœ**:\n```typescript\n{\n  \"A-1\": { plannedCol: 1, actualCol: 2 },\n  \"A-2\": { plannedCol: 3, actualCol: 4 },\n  \"A-3\": { plannedCol: 5, actualCol: 6 },\n  ...\n}\n```\n\n#### ã‚¹ãƒ†ãƒƒãƒ—2: è©²å½“æœˆå·ã®è¡Œã‚’å–å¾—\n\n```typescript\n// 2è¡Œç›®ä»¥é™ã‹ã‚‰ã€Aåˆ—ãŒ \"2025å¹´11æœˆå·\" ã®è¡Œã‚’æ¤œç´¢\nconst progressRow = progressSheetData.slice(1).find(row => row[0] === issue);\n\nif (!progressRow) {\n  console.log(`âš ï¸  æœˆå· ${issue} ã®é€²æ—ãƒ‡ãƒ¼ã‚¿ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã€‚`);\n  return; // ã¾ãŸã¯ç©ºãƒ‡ãƒ¼ã‚¿ã‚’è¿”ã™\n}\n```\n\n#### ã‚¹ãƒ†ãƒƒãƒ—3: å·¥ç¨‹ãƒã‚¹ã‚¿ãƒ¼ã¨ç…§åˆã—ã¦ãƒ‡ãƒ¼ã‚¿ã‚’æŠ½å‡º\n\n```typescript\n// æ–°å·¥ç¨‹ãƒã‚¹ã‚¿ãƒ¼_V2ã‹ã‚‰å·¥ç¨‹å®šç¾©ã‚’å–å¾—ï¼ˆäº‹å‰ã«å–å¾—æ¸ˆã¿ï¼‰\nconst processMaster: Record<string, {\n  processName: string;\n  phase: string;\n  dataType: string;\n  order: number;\n}> = { /* ... */ };\n\n// å·¥ç¨‹ã”ã¨ã«ãƒ‡ãƒ¼ã‚¿ã‚’æŠ½å‡º\nObject.keys(processMaster).forEach(processNo => {\n  const master = processMaster[processNo];\n  const cols = headerMap[processNo];\n\n  if (!cols) return; // åˆ—ãƒãƒƒãƒ”ãƒ³ã‚°ãŒãªã„å ´åˆã¯ã‚¹ã‚­ãƒƒãƒ—\n\n  // äºˆå®šæ—¥ã¨å®Ÿç¸¾æ—¥ã‚’å–å¾—\n  let plannedDate = '-';\n  let actualDate = '';\n\n  if (progressRow) {\n    if (cols.plannedCol >= 0) {\n      plannedDate = progressRow[cols.plannedCol] || '-';\n    }\n    if (cols.actualCol >= 0) {\n      actualDate = progressRow[cols.actualCol] || '';\n    }\n  }\n\n  // ã‚«ãƒ†ã‚´ãƒªIDã‚’æŠ½å‡ºï¼ˆä¾‹: \"A-1\" â†’ \"A\"ï¼‰\n  const categoryId = processNo.split('-')[0];\n\n  // ã‚«ãƒ†ã‚´ãƒªåˆ¥ã®ãƒ‡ãƒ¼ã‚¿ãƒªã‚¹ãƒˆã«è¿½åŠ \n  categories[categoryId].push({\n    processNo,\n    processName: master.processName,\n    phase: master.phase,\n    plannedDate,\n    actualDate,\n    order: master.order,\n  });\n});\n```\n\n### JSONç®¡ç†ã®ç¢ºèªé€ä»˜å·¥ç¨‹ã®ç‰¹æ®Šå‡¦ç†\n\nç¢ºèªé€ä»˜å·¥ç¨‹ï¼ˆå†…éƒ¨ãƒã‚§ãƒƒã‚¯ã€ç¢ºèªé€ä»˜ï¼‰ã¯ã€å®Ÿç¸¾åˆ—ã«JSONå½¢å¼ã§ãƒ‡ãƒ¼ã‚¿ãŒè¨˜éŒ²ã•ã‚Œã‚‹ã€‚\n\n#### JSONå½¢å¼ã®ä¾‹\n\n```json\n{\n  \"drafts\": [\n    { \"version\": 1, \"sentDate\": \"2025-10-10\", \"status\": \"ä¿®æ­£\" },\n    { \"version\": 2, \"sentDate\": \"2025-10-12\", \"status\": \"ä¿®æ­£\" }\n  ],\n  \"finalVersion\": {\n    \"version\": 3,\n    \"sentDate\": \"2025-10-15\",\n    \"status\": \"ç¢ºèªOK\"\n  }\n}\n```\n\n#### JSONè§£æã¨ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹åˆ¤å®š\n\n```typescript\n// ç¢ºèªé€ä»˜å·¥ç¨‹ã®å ´åˆã€JSONã‚’ãƒ‘ãƒ¼ã‚¹\nif (master.dataType === 'JSON') {\n  let confirmationStatus = '-';\n\n  if (actualDate && typeof actualDate === 'string' && actualDate.trim().startsWith('{')) {\n    try {\n      const confirmationData = JSON.parse(actualDate);\n\n      // finalVersionãŒã‚ã‚Œã°ã€Œç¢ºèªOKã€\n      if (confirmationData.finalVersion) {\n        confirmationStatus = 'ç¢ºèªOK';\n      }\n      // draftsã®æœ€æ–°ç‰ˆã®statusã‚’ãƒã‚§ãƒƒã‚¯\n      else if (confirmationData.drafts && confirmationData.drafts.length > 0) {\n        const latestDraft = confirmationData.drafts[confirmationData.drafts.length - 1];\n        if (latestDraft.status === 'ä¿®æ­£') {\n          confirmationStatus = 'ç¢ºèªå¾…ã¡';\n        } else {\n          confirmationStatus = 'ç¢ºèªé€ä»˜';\n        }\n      } else {\n        confirmationStatus = 'æœªé€ä»˜';\n      }\n    } catch (error) {\n      console.error(`JSONè§£æã‚¨ãƒ©ãƒ¼ (${processNo}):`, error);\n      confirmationStatus = '-';\n    }\n  } else {\n    confirmationStatus = 'åˆ¶ä½œä¸­';\n  }\n\n  // ç¢ºèªé€ä»˜å·¥ç¨‹ã¯åˆ¥ç®¡ç†ã«è¨˜éŒ²\n  if (!confirmationProcesses[categoryId]) {\n    confirmationProcesses[categoryId] = {};\n  }\n\n  if (master.processName.includes('å†…éƒ¨ãƒã‚§ãƒƒã‚¯')) {\n    confirmationProcesses[categoryId].internalCheck = { confirmationStatus };\n  } else if (master.processName.includes('ç¢ºèªé€ä»˜')) {\n    confirmationProcesses[categoryId].confirmation = { confirmationStatus };\n  }\n\n  // ç¢ºèªé€ä»˜å·¥ç¨‹ã¯ã‚«ãƒ†ã‚´ãƒªãƒªã‚¹ãƒˆã«ã¯å«ã‚ãªã„\n  return;\n}\n```\n\n## ãªãœã“ã®æ‰‹æ³•ã‚’ä½¿ã†ã‹\n\n### ç†ç”±1: ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã®æ¨ªæŒã¡æ§‹é€ ã‚’ãã®ã¾ã¾æ´»ç”¨\n\nGoogleã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã¯æ¨ªæŒã¡ï¼ˆåˆ—æ–¹å‘ï¼‰ã®ãƒ‡ãƒ¼ã‚¿ç®¡ç†ãŒå¾—æ„ã€‚ç¸¦æŒã¡ã«å¤‰æ›ã™ã‚‹æ‰‹é–“ã‚’ã‹ã‘ãšã€ãã®ã¾ã¾å–å¾—ã—ã¦è§£æã§ãã‚‹ã€‚\n\n**ãƒ¡ãƒªãƒƒãƒˆ**:\n- ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆå´ã®æ§‹é€ å¤‰æ›´ãŒä¸è¦\n- ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã§ç›´æ„Ÿçš„ã«ç·¨é›†å¯èƒ½\n- ãƒ‡ãƒ¼ã‚¿å–å¾—ãŒ1å›ã§æ¸ˆã‚€ï¼ˆAPIè² è·å‰Šæ¸›ï¼‰\n\n### ç†ç”±2: å·¥ç¨‹ãƒã‚¹ã‚¿ãƒ¼ã¨é€²æ—å…¥åŠ›ã‚·ãƒ¼ãƒˆã‚’åˆ†é›¢\n\nå·¥ç¨‹å®šç¾©ï¼ˆæ–°å·¥ç¨‹ãƒã‚¹ã‚¿ãƒ¼_V2ï¼‰ã¨é€²æ—ãƒ‡ãƒ¼ã‚¿ï¼ˆé€²æ—å…¥åŠ›ã‚·ãƒ¼ãƒˆ_V2ï¼‰ã‚’åˆ¥ã‚·ãƒ¼ãƒˆã§ç®¡ç†ã™ã‚‹ã“ã¨ã§ã€å·¥ç¨‹ã®è¿½åŠ ãƒ»å¤‰æ›´ãŒå®¹æ˜“ã€‚\n\n**åˆ†é›¢ã®ãƒ¡ãƒªãƒƒãƒˆ**:\n- å·¥ç¨‹å®šç¾©ã®å¤‰æ›´ãŒé€²æ—ãƒ‡ãƒ¼ã‚¿ã«å½±éŸ¿ã—ãªã„\n- æ–°ã—ã„æœˆå·ã‚’è¿½åŠ ã™ã‚‹éš›ã€é€²æ—å…¥åŠ›ã‚·ãƒ¼ãƒˆã«1è¡Œè¿½åŠ ã™ã‚‹ã ã‘ã§å¯¾å¿œå¯èƒ½\n- å·¥ç¨‹ã®é †åºã‚„ãƒ•ã‚§ãƒ¼ã‚ºæƒ…å ±ã‚’ä¸€å…ƒç®¡ç†\n\n### ç†ç”±3: APIè² è·ã‚’åŠ‡çš„ã«å‰Šæ¸›ï¼ˆ58å€å‰Šæ¸›ï¼‰\n\nV1ã§ã¯97å·¥ç¨‹ Ã— è¤‡æ•°æœˆå· = 10,000ã‚»ãƒ«ä»¥ä¸Šã‚’å–å¾—ã—ã¦ã„ãŸãŒã€V2ã§ã¯è©²å½“æœˆå·ã®1è¡Œã®ã¿ï¼ˆç´„173ã‚»ãƒ«ï¼‰ã‚’å–å¾—ã€‚\n\n```typescript\n// V1ï¼ˆæ—§æ–¹å¼ï¼‰: å…¨æœˆå·ã®å…¨å·¥ç¨‹ã‚’å–å¾—\nawait getSheetData(spreadsheetId, 'é€²æ—å…¥åŠ›ã‚·ãƒ¼ãƒˆ!A1:CW100');\n// â†’ 10,000+ ã‚»ãƒ«\n\n// V2ï¼ˆæ–°æ–¹å¼ï¼‰: ãƒ˜ãƒƒãƒ€ãƒ¼è¡Œ + è©²å½“æœˆå·ã®1è¡Œã®ã¿\nawait getSheetData(spreadsheetId, 'é€²æ—å…¥åŠ›ã‚·ãƒ¼ãƒˆ_V2!A1:GV100');\n// â†’ 173ã‚»ãƒ«ï¼ˆãƒ˜ãƒƒãƒ€ãƒ¼1è¡Œ + ãƒ‡ãƒ¼ã‚¿1è¡Œï¼‰\n```\n\n**APIè² è·å‰Šæ¸›ç‡**: ç´„ **58å€å‰Šæ¸›**\n\n## å†ç¾æ–¹æ³•\n\n### å®Œå…¨ãªã‚³ãƒ¼ãƒ‰ä¾‹\n\n```typescript\nimport { getBatchSheetData } from '@/lib/google-sheets';\n\nexport async function GET(request: Request) {\n  const { searchParams } = new URL(request.url);\n  const issue = searchParams.get('issue'); // ä¾‹: \"2025å¹´11æœˆå·\"\n\n  if (!issue) {\n    return NextResponse.json(\n      { success: false, error: 'æœˆå·ã‚’æŒ‡å®šã—ã¦ãã ã•ã„' },\n      { status: 400 }\n    );\n  }\n\n  const spreadsheetId = process.env.YUMEMAGA_SPREADSHEET_ID!;\n\n  // 1. ãƒãƒƒãƒã§å¿…è¦ãªã‚·ãƒ¼ãƒˆã‚’ä¸€æ‹¬å–å¾—\n  const [processMasterData, progressSheetData] = await getBatchSheetData(\n    spreadsheetId,\n    [\n      'æ–°å·¥ç¨‹ãƒã‚¹ã‚¿ãƒ¼_V2!A1:F200',\n      'é€²æ—å…¥åŠ›ã‚·ãƒ¼ãƒˆ_V2!A1:GV100',\n    ]\n  );\n\n  // 2. æ–°å·¥ç¨‹ãƒã‚¹ã‚¿ãƒ¼_V2ã‹ã‚‰å·¥ç¨‹å®šç¾©ã‚’å–å¾—\n  const processMaster: Record<string, any> = {};\n  processMasterData.slice(1).forEach(row => {\n    const processNo = row[1]; // Båˆ—: å·¥ç¨‹No\n    const processName = row[2]; // Cåˆ—: å·¥ç¨‹å\n    const phase = row[3]; // Dåˆ—: ãƒ•ã‚§ãƒ¼ã‚º\n    const order = row[4]; // Eåˆ—: é †åº\n    const dataType = row[5]; // Fåˆ—: ãƒ‡ãƒ¼ã‚¿å‹\n\n    if (processNo) {\n      processMaster[processNo] = { processName, phase, dataType, order };\n    }\n  });\n\n  // 3. ãƒ˜ãƒƒãƒ€ãƒ¼è¡Œã‹ã‚‰åˆ—ãƒãƒƒãƒ”ãƒ³ã‚°ã‚’ä½œæˆ\n  const progressHeaders = progressSheetData[0];\n  const headerMap: Record<string, { plannedCol: number; actualCol: number }> = {};\n\n  for (let col = 1; col < progressHeaders.length; col++) {\n    const header = progressHeaders[col];\n    if (!header) continue;\n\n    const match = header.match(/^([A-Z]-\\d+)(äºˆå®š|å®Ÿç¸¾.*)/);\n    if (match) {\n      const processNo = match[1];\n      const type = match[2];\n\n      if (!headerMap[processNo]) {\n        headerMap[processNo] = { plannedCol: -1, actualCol: -1 };\n      }\n\n      if (type === 'äºˆå®š') {\n        headerMap[processNo].plannedCol = col;\n      } else if (type.startsWith('å®Ÿç¸¾')) {\n        headerMap[processNo].actualCol = col;\n      }\n    }\n  }\n\n  // 4. è©²å½“æœˆå·ã®è¡Œã‚’å–å¾—\n  const progressRow = progressSheetData.slice(1).find(row => row[0] === issue);\n\n  if (!progressRow) {\n    return NextResponse.json(\n      { success: false, error: `æœˆå· ${issue} ã®é€²æ—ãƒ‡ãƒ¼ã‚¿ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“` },\n      { status: 404 }\n    );\n  }\n\n  // 5. å·¥ç¨‹ãƒ‡ãƒ¼ã‚¿ã‚’æŠ½å‡º\n  const processData: any[] = [];\n\n  Object.keys(processMaster).forEach(processNo => {\n    const master = processMaster[processNo];\n    const cols = headerMap[processNo];\n\n    if (!cols) return;\n\n    const plannedDate = progressRow[cols.plannedCol] || '-';\n    const actualDate = progressRow[cols.actualCol] || '';\n\n    processData.push({\n      processNo,\n      processName: master.processName,\n      phase: master.phase,\n      plannedDate,\n      actualDate,\n      order: master.order,\n    });\n  });\n\n  return NextResponse.json({ success: true, data: processData });\n}\n```\n\n## ã„ã¤ä½¿ã†ã‹\n\n### å ´é¢1: ã‚¬ãƒ³ãƒˆãƒãƒ£ãƒ¼ãƒˆå½¢å¼ã®ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã™ã‚‹\n\nãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç®¡ç†ã€åˆ¶ä½œé€²æ—ã€ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ç®¡ç†ãªã©ã€ã‚¬ãƒ³ãƒˆãƒãƒ£ãƒ¼ãƒˆå½¢å¼ã§ãƒ‡ãƒ¼ã‚¿ãŒè¨˜éŒ²ã•ã‚Œã¦ã„ã‚‹å ´åˆã€‚\n\n### å ´é¢2: è¤‡æ•°æœˆå·ãƒ»è¤‡æ•°ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®é€²æ—ã‚’ç®¡ç†ã™ã‚‹\n\næœˆå·ã”ã¨ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã”ã¨ã«1è¡Œãšã¤é€²æ—ã‚’è¨˜éŒ²ã—ã€è©²å½“ã™ã‚‹è¡Œã®ã¿ã‚’å–å¾—ã—ã¦è¡¨ç¤ºã™ã‚‹ã€‚\n\n### å ´é¢3: APIè² è·ã‚’å‰Šæ¸›ã—ãŸã„\n\nå…¨ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã™ã‚‹ã®ã§ã¯ãªãã€å¿…è¦ãªè¡Œï¼ˆè©²å½“æœˆå·ã®1è¡Œï¼‰ã®ã¿ã‚’å–å¾—ã™ã‚‹ã“ã¨ã§ã€APIã‚¯ã‚©ãƒ¼ã‚¿ã‚’ç¯€ç´„ã€‚\n\n## æ³¨æ„ç‚¹\n\n### æ³¨æ„ç‚¹1: ãƒ˜ãƒƒãƒ€ãƒ¼è¡Œã®å‘½åè¦å‰‡ã‚’çµ±ä¸€ã™ã‚‹\n\nãƒ˜ãƒƒãƒ€ãƒ¼è¡Œã®å‘½åè¦å‰‡ãŒçµ±ä¸€ã•ã‚Œã¦ã„ãªã„ã¨ã€æ­£è¦è¡¨ç¾ãƒãƒƒãƒãƒ³ã‚°ãŒå¤±æ•—ã™ã‚‹ã€‚\n\n**æ¨å¥¨å‘½åè¦å‰‡**:\n- `{å·¥ç¨‹No}äºˆå®š` ä¾‹: \"A-1äºˆå®š\"\n- `{å·¥ç¨‹No}å®Ÿç¸¾` ä¾‹: \"A-1å®Ÿç¸¾\"\n- `{å·¥ç¨‹No}å®Ÿç¸¾(JSON)` ä¾‹: \"A-10å®Ÿç¸¾(JSON)\"\n\n### æ³¨æ„ç‚¹2: å·¥ç¨‹ãƒã‚¹ã‚¿ãƒ¼ã¨é€²æ—å…¥åŠ›ã‚·ãƒ¼ãƒˆã®å·¥ç¨‹Noã‚’ä¸€è‡´ã•ã›ã‚‹\n\nå·¥ç¨‹ãƒã‚¹ã‚¿ãƒ¼ã®å·¥ç¨‹Noï¼ˆBåˆ—ï¼‰ã¨é€²æ—å…¥åŠ›ã‚·ãƒ¼ãƒˆã®ãƒ˜ãƒƒãƒ€ãƒ¼è¡Œã®å·¥ç¨‹NoãŒä¸€è‡´ã—ã¦ã„ãªã„ã¨ã€ãƒ‡ãƒ¼ã‚¿ãŒå–å¾—ã§ããªã„ã€‚\n\n### æ³¨æ„ç‚¹3: JSONå½¢å¼ã®ç¢ºèªé€ä»˜å·¥ç¨‹ã¯ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã‚’å³å¯†ã«\n\nJSONè§£æã«å¤±æ•—ã—ãŸå ´åˆã€ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¦APIãŒè½ã¡ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ã€‚try-catchã§ç¢ºå®Ÿã«ã‚¨ãƒ©ãƒ¼ã‚’ã‚­ãƒ£ãƒƒãƒã™ã‚‹ã€‚\n\n```typescript\ntry {\n  const confirmationData = JSON.parse(actualDate);\n  // JSONè§£ææˆåŠŸ\n} catch (error) {\n  console.error(`JSONè§£æã‚¨ãƒ©ãƒ¼ (${processNo}):`, error);\n  confirmationStatus = '-'; // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã‚’è¨­å®š\n}\n```\n\n### æ³¨æ„ç‚¹4: ç©ºãƒ‡ãƒ¼ã‚¿ã®å ´åˆã®å¯¾å¿œ\n\nè©²å½“æœˆå·ã®ãƒ‡ãƒ¼ã‚¿ãŒå­˜åœ¨ã—ãªã„å ´åˆã€ç©ºãƒ‡ãƒ¼ã‚¿ã¾ãŸã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã‚’è¿”ã™ã‚ˆã†ã«ã™ã‚‹ã€‚ã‚¨ãƒ©ãƒ¼ã§å‡¦ç†ã‚’æ­¢ã‚ãªã„ã€‚\n\n```typescript\nif (!progressRow) {\n  console.log(`âš ï¸  æœˆå· ${issue} ã®é€²æ—ãƒ‡ãƒ¼ã‚¿ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã€‚ç©ºãƒ‡ãƒ¼ã‚¿ã§è¿”ã—ã¾ã™ã€‚`);\n  return NextResponse.json({ success: true, data: [] });\n}\n```\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `skill_google_sheets_a1_notation_2025_11_24.md`: A1è¡¨è¨˜æ³•ã§ã‚¬ãƒ³ãƒˆãƒãƒ£ãƒ¼ãƒˆãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—\n- `skill_dynamic_sheet_selection_2025_11_24.md`: å‹•çš„ã«æœˆå·ã‚’é¸æŠã—ã¦ã‚¬ãƒ³ãƒˆãƒãƒ£ãƒ¼ãƒˆãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—\n- `skill_japanese_status_enum_conversion_2025_11_24.md`: ã‚¬ãƒ³ãƒˆãƒãƒ£ãƒ¼ãƒˆã®æ—¥æœ¬èªã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’å‹ä»˜ãEnumã«å¤‰æ›\n- `decision_tech_google_sheets_api_v4_2025_11_24.md`: Google Sheets API v4ã‚’ä½¿ã£ãŸã‚¬ãƒ³ãƒˆãƒãƒ£ãƒ¼ãƒˆå–å¾—ã®æŠ€è¡“é¸å®š\n",
    "prompt": "### å®Œå…¨ãªã‚³ãƒ¼ãƒ‰ä¾‹\n\n```typescript\nimport { getBatchSheetData } from '@/lib/google-sheets';\n\nexport async function GET(request: Request) {\n  const { searchParams } = new URL(request.url);\n  const issue = searchParams.get('issue'); // ä¾‹: \"2025å¹´11æœˆå·\"\n\n  if (!issue) {\n    return NextResponse.json(\n      { success: false, error: 'æœˆå·ã‚’æŒ‡å®šã—ã¦ãã ã•ã„' },\n      { status: 400 }\n    );\n  }\n\n  const spreadsheetId = process.env.YUMEMAGA_SPREADSHEET_ID!;\n\n  // 1. ãƒãƒƒãƒã§å¿…è¦ãªã‚·ãƒ¼ãƒˆã‚’ä¸€æ‹¬å–å¾—\n  const [processMasterData, progressSheetData] = await getBatchSheetData(\n    spreadsheetId,\n    [\n      'æ–°å·¥ç¨‹ãƒã‚¹ã‚¿ãƒ¼_V2!A1:F200',\n      'é€²æ—å…¥åŠ›ã‚·ãƒ¼ãƒˆ_V2!A1:GV100',\n    ]\n  );\n\n  // 2. æ–°å·¥ç¨‹ãƒã‚¹ã‚¿ãƒ¼_V2ã‹ã‚‰å·¥ç¨‹å®šç¾©ã‚’å–å¾—\n  const processMaster: Record<string, any> = {};\n  processMasterData.slice(1).forEach(row => {\n    const processNo = row[1]; // Båˆ—: å·¥ç¨‹No\n    const processName = row[2]; // Cåˆ—: å·¥ç¨‹å\n    const phase = row[3]; // Dåˆ—: ãƒ•ã‚§ãƒ¼ã‚º\n    const order = row[4]; // Eåˆ—: é †åº\n    const dataType = row[5]; // Fåˆ—: ãƒ‡ãƒ¼ã‚¿å‹\n\n    if (processNo) {\n      processMaster[processNo] = { processName, phase, dataType, order };\n    }\n  });\n\n  // 3. ãƒ˜ãƒƒãƒ€ãƒ¼è¡Œã‹ã‚‰åˆ—ãƒãƒƒãƒ”ãƒ³ã‚°ã‚’ä½œæˆ\n  const progressHeaders = progressSheetData[0];\n  const headerMap: Record<string, { plannedCol: number; actualCol: number }> = {};\n\n  for (let col = 1; col < progressHeaders.length; col++) {\n    const header = progressHeaders[col];\n    if (!header) continue;\n\n    const match = header.match(/^([A-Z]-\\d+)(äºˆå®š|å®Ÿç¸¾.*)/);\n    if (match) {\n      const processNo = match[1];\n      const type = match[2];\n\n      if (!headerMap[processNo]) {\n        headerMap[processNo] = { plannedCol: -1, actualCol: -1 };\n      }\n\n      if (type === 'äºˆå®š') {\n        headerMap[processNo].plannedCol = col;\n      } else if (type.startsWith('å®Ÿç¸¾')) {\n        headerMap[processNo].actualCol = col;\n      }\n    }\n  }\n\n  // 4. è©²å½“æœˆå·ã®è¡Œã‚’å–å¾—\n  const progressRow = progressSheetData.slice(1).find(row => row[0] === issue);\n\n  if (!progressRow) {\n    return NextResponse.json(\n      { success: false, error: `æœˆå· ${issue} ã®é€²æ—ãƒ‡ãƒ¼ã‚¿ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“` },\n      { status: 404 }\n    );\n  }\n\n  // 5. å·¥ç¨‹ãƒ‡ãƒ¼ã‚¿ã‚’æŠ½å‡º\n  const processData: any[] = [];\n\n  Object.keys(processMaster).forEach(processNo => {\n    const master = processMaster[processNo];\n    const cols = headerMap[processNo];\n\n    if (!cols) return;\n\n    const plannedDate = progressRow[cols.plannedCol] || '-';\n    const actualDate = progressRow[cols.actualCol] || '';\n\n    processData.push({\n      processNo,\n      processName: master.processName,\n      phase: master.phase,\n      plannedDate,\n      actualDate,\n      order: master.order,\n    });\n  });\n\n  return NextResponse.json({ success: true, data: processData });\n}\n```",
    "relatedTech": [
      "skill-google-sheets-a1-notation",
      "skill-dynamic-sheet-selection",
      "skill-japanese-status-enum-conversion",
      "decision-tech-google-sheets-api-v4"
    ]
  },
  {
    "slug": "gemini-prompt-engineering-patterns",
    "title": "Geminiå°‚ç”¨ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚°ãƒ‘ã‚¿ãƒ¼ãƒ³",
    "category": "Skillsï¼ˆã‚¹ã‚­ãƒ«ãƒ»æ‰‹æ³•ï¼‰",
    "description": "**Gemini AIã«å¯¾ã—ã¦ã€é«˜ç²¾åº¦ãƒ»é«˜å“è³ªãªå‡ºåŠ›ã‚’å¾—ã‚‹ãŸã‚ã®ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆè¨­è¨ˆãƒ‘ã‚¿ãƒ¼ãƒ³ã€‚**",
    "project": "instagram-post-generator",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"skill_gemini_prompt_engineering_patterns_2025_11_25\",\n  \"type\": \"skill\",\n  \"name\": \"Geminiå°‚ç”¨ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚°ãƒ‘ã‚¿ãƒ¼ãƒ³\",\n  \"tags\": [\"ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚°\", \"Gemini\", \"æ§‹é€ åŒ–å‡ºåŠ›\", \"åˆ¶ç´„ä»˜ãç”Ÿæˆ\"],\n  \"source_project\": \"instagram-post-generator\",\n  \"difficulty\": \"intermediate\",\n  \"related_knowledge\": [\n    \"decision_ai_gemini_2.0_flash_lite_2025_11_25\",\n    \"skill_five_stage_ai_pipeline_2025_11_25\"\n  ],\n  \"prerequisites\": [\"Gemini APIåŸºç¤\", \"JSONæ§‹é€ ç†è§£\"],\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# Geminiå°‚ç”¨ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚°ãƒ‘ã‚¿ãƒ¼ãƒ³\n\n## ä½•ã‚’ã™ã‚‹ã‚¹ã‚­ãƒ«ã‹\n\n**Gemini AIã«å¯¾ã—ã¦ã€é«˜ç²¾åº¦ãƒ»é«˜å“è³ªãªå‡ºåŠ›ã‚’å¾—ã‚‹ãŸã‚ã®ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆè¨­è¨ˆãƒ‘ã‚¿ãƒ¼ãƒ³ã€‚**\n\n**ä¸»è¦ãƒ‘ã‚¿ãƒ¼ãƒ³**:\n1. **æ§‹é€ åˆ¶ç´„ä»˜ãç”Ÿæˆ**: å³æ ¼ãªæ§‹é€ æŒ‡å®šã§ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒãƒƒãƒãƒ³ã‚°ä¿è¨¼\n2. **JSONå‡ºåŠ›å¼·åˆ¶**: ç¢ºå®ŸãªJSONå½¢å¼å‡ºåŠ›\n3. **é‡è¦æ€§ã®éšå±¤åŒ–**: ã€Œ**é‡è¦**ã€ã€Œå¿…é ˆã€ç­‰ã®å¼·èª¿è¡¨ç¾\n4. **ä¾‹ç¤ºã«ã‚ˆã‚‹èª˜å°**: few-shot examples ã§å“è³ªå‘ä¸Š\n5. **ç¦æ­¢äº‹é …ã®æ˜ç¤º**: ã‚„ã£ã¦ã¯ã„ã‘ãªã„ã“ã¨ã‚’æ˜ç¢ºåŒ–\n\nã“ã‚Œã‚‰ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã«ã‚ˆã‚Šã€InstagramæŠ•ç¨¿ç”Ÿæˆã®æˆåŠŸç‡ã‚’45%â†’92%ã«å‘ä¸Šã€‚\n\n---\n\n## ãªãœã“ã®ã‚¹ã‚­ãƒ«ãŒé‡è¦ã‹\n\n### ç†ç”±1: ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒãƒƒãƒãƒ³ã‚°æˆåŠŸç‡ã®å‘ä¸Š\n\nãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãŒæ›–æ˜§ã ã¨AIãŒæ§‹é€ ã‚’å®ˆã‚‰ãšã€ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒãƒƒãƒãƒ³ã‚°å¤±æ•—ã€‚\n\n**æ‚ªã„ä¾‹**ï¼ˆæˆåŠŸç‡45%ï¼‰:\n```typescript\nconst prompt = `\nInstagramæŠ•ç¨¿ã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚\nãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›: ${userInput}\n`\n```\n\n**è‰¯ã„ä¾‹**ï¼ˆæˆåŠŸç‡92%ï¼‰:\n```typescript\nconst prompt = `\nä»¥ä¸‹ã® **å³æ ¼ãªæ§‹é€ åˆ¶ç´„** ã«å¾“ã£ã¦ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ç”Ÿæˆã—ã¦ãã ã•ã„:\n\n**å¿…é ˆæ§‹é€ **:\n- sections: æ­£ç¢ºã«2ã‚»ã‚¯ã‚·ãƒ§ãƒ³\n- å„ã‚»ã‚¯ã‚·ãƒ§ãƒ³: title, items[] (5-7å€‹)\n\n**é‡è¦**: æ§‹é€ ã‚’çµ¶å¯¾ã«å®ˆã‚‹ã“ã¨ã€‚ã‚»ã‚¯ã‚·ãƒ§ãƒ³æ•°ã‚’å¤‰æ›´ã—ãªã„ã“ã¨ã€‚\n`\n```\n\n### ç†ç”±2: JSONè§£æã‚¨ãƒ©ãƒ¼ã®å‰Šæ¸›\n\nGeminiã¯è‡ªç”±ãªãƒ†ã‚­ã‚¹ãƒˆç”ŸæˆãŒå¾—æ„ã ãŒã€å³å¯†ãªJSONå‡ºåŠ›ã¯è‹¦æ‰‹ã€‚é©åˆ‡ãªãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã§æ”¹å–„ã€‚\n\n**JSONå‡ºåŠ›å¤±æ•—ä¾‹**:\n```\n// AIã®å‡ºåŠ›ï¼ˆä¸æ­£ãªJSONï¼‰\nHere is the content:\n{\n  \"title\": \"ã‚¿ã‚¤ãƒˆãƒ«\",\n  \"content\": {...}\n}\nHope this helps!\n\n// â†’ JSON.parse() ã‚¨ãƒ©ãƒ¼\n```\n\n**JSONå‡ºåŠ›æˆåŠŸä¾‹**ï¼ˆJSONå‡ºåŠ›å¼·åˆ¶ãƒ‘ã‚¿ãƒ¼ãƒ³ä½¿ç”¨ï¼‰:\n```json\n{\n  \"title\": \"ã‚¿ã‚¤ãƒˆãƒ«\",\n  \"content\": {...}\n}\n```\n\n---\n\n## å†ç¾æ–¹æ³•\n\n### ãƒ‘ã‚¿ãƒ¼ãƒ³1: æ§‹é€ åˆ¶ç´„ä»˜ãç”Ÿæˆ\n\n**ç›®çš„**: ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆæ§‹é€ ã‚’å³å®ˆã•ã›ã‚‹\n\n**å®Ÿè£…**:\n```typescript\n// app/services/contentGeneratorService.ts\nfunction createStructureConstrainedPrompt(\n  userInput: string,\n  structure: PageStructure\n): string {\n  return `\nã‚ãªãŸã¯ä»¥ä¸‹ã® **å³æ ¼ãªæ§‹é€ åˆ¶ç´„** ã«å¾“ã£ã¦ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ç”Ÿæˆã—ã¦ãã ã•ã„:\n\n## æ§‹é€ å®šç¾©ï¼ˆçµ¶å¯¾å³å®ˆï¼‰\n\nãƒšãƒ¼ã‚¸${structure.pageNumber}:\n- **pageType**: ${structure.pageType}ï¼ˆå¤‰æ›´ä¸å¯ï¼‰\n- **template**: ${structure.template}ï¼ˆå¤‰æ›´ä¸å¯ï¼‰\n- **volumeRequirements**: ${JSON.stringify(structure.volumeRequirements)}\n\n**volumeRequirementsè©³ç´°**:\n${structure.volumeRequirements?.minSections ? `- æœ€å°ã‚»ã‚¯ã‚·ãƒ§ãƒ³æ•°: ${structure.volumeRequirements.minSections}ï¼ˆå¿…é ˆï¼‰` : ''}\n${structure.volumeRequirements?.maxSections ? `- æœ€å¤§ã‚»ã‚¯ã‚·ãƒ§ãƒ³æ•°: ${structure.volumeRequirements.maxSections}ï¼ˆè¶…éç¦æ­¢ï¼‰` : ''}\n${structure.volumeRequirements?.itemsPerSection ? `- ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚ãŸã‚Šã‚¢ã‚¤ãƒ†ãƒ æ•°: ${structure.volumeRequirements.itemsPerSection}` : ''}\n\n## ãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›\n\n${userInput}\n\n## å‡ºåŠ›å½¢å¼ï¼ˆJSONï¼‰\n\nä»¥ä¸‹ã®å½¢å¼ã§ **JSON ã®ã¿** å‡ºåŠ›ã—ã¦ãã ã•ã„:\n\n\\`\\`\\`json\n{\n  \"pageNumber\": ${structure.pageNumber},\n  \"title\": \"ãƒšãƒ¼ã‚¸ã‚¿ã‚¤ãƒˆãƒ«\",\n  \"content\": {\n    // ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ${structure.template}ã®è¦æ±‚ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰\n  }\n}\n\\`\\`\\`\n\n## é‡è¦ãªæ³¨æ„äº‹é …\n\n**çµ¶å¯¾ã«å®ˆã‚‹ã“ã¨**:\n1. ã‚»ã‚¯ã‚·ãƒ§ãƒ³æ•°ã‚’å¤‰æ›´ã—ãªã„ã“ã¨\n2. ã‚¢ã‚¤ãƒ†ãƒ æ•°ã‚’å¤‰æ›´ã—ãªã„ã“ã¨\n3. JSONå½¢å¼ã®ã¿å‡ºåŠ›ï¼ˆèª¬æ˜æ–‡ã¯ä¸è¦ï¼‰\n4. ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆæ§‹é€ ã‚’å®Œå…¨ã«éµå®ˆ\n\n**é•åä¾‹**ï¼ˆç¦æ­¢ï¼‰:\n- ã‚»ã‚¯ã‚·ãƒ§ãƒ³æ•°ãŒ3ãªã®ã«2ã‚„4ã§ç”Ÿæˆ\n- JSONå‰å¾Œã«èª¬æ˜æ–‡ã‚’è¿½åŠ \n- ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆæ§‹é€ ã‚’ç„¡è¦–\n\nã“ã®æ§‹é€ åˆ¶ç´„ã¯ **çµ¶å¯¾ã§ã™**ã€‚å¿…ãšå®ˆã£ã¦ãã ã•ã„ã€‚\n  `\n}\n```\n\n**åŠ¹æœ**: ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒãƒƒãƒãƒ³ã‚°æˆåŠŸç‡ 45% â†’ 92%\n\n### ãƒ‘ã‚¿ãƒ¼ãƒ³2: JSONå‡ºåŠ›å¼·åˆ¶\n\n**ç›®çš„**: ç´”ç²‹ãªJSONå‡ºåŠ›ã‚’ä¿è¨¼\n\n**å®Ÿè£…**:\n```typescript\nfunction createJSONOnlyPrompt(instruction: string): string {\n  return `\n${instruction}\n\n## å‡ºåŠ›å½¢å¼\n\n**JSON ã®ã¿** ã‚’å‡ºåŠ›ã—ã¦ãã ã•ã„ã€‚ä»¥ä¸‹ã®ãƒ«ãƒ¼ãƒ«ã‚’å³å®ˆ:\n\n1. JSONä»¥å¤–ã®ãƒ†ã‚­ã‚¹ãƒˆã¯ **ä¸€åˆ‡å‡ºåŠ›ã—ãªã„**\n2. èª¬æ˜æ–‡ã€ã‚³ãƒ¡ãƒ³ãƒˆã€å‰å¾Œã®æ–‡ç« ã¯ **å…¨ã¦ç¦æ­¢**\n3. ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ï¼ˆ\\`\\`\\`jsonï¼‰ã‚‚ **ä¸è¦**\n4. ç´”ç²‹ãªJSONã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ã¿\n\n**æ­£ã—ã„å‡ºåŠ›ä¾‹**:\n{\"title\": \"ã‚¿ã‚¤ãƒˆãƒ«\", \"content\": {...}}\n\n**é–“é•ã£ãŸå‡ºåŠ›ä¾‹ï¼ˆç¦æ­¢ï¼‰**:\nHere is the JSON:\n\\`\\`\\`json\n{\"title\": \"ã‚¿ã‚¤ãƒˆãƒ«\"}\n\\`\\`\\`\nHope this helps!\n\nç´”ç²‹ãªJSONã®ã¿ã‚’å‡ºåŠ›ã—ã¦ãã ã•ã„ã€‚\n  `\n}\n```\n\n**åŠ¹æœ**: JSONè§£æã‚¨ãƒ©ãƒ¼ç‡ 15% â†’ 2%\n\n### ãƒ‘ã‚¿ãƒ¼ãƒ³3: é‡è¦æ€§ã®éšå±¤åŒ–\n\n**ç›®çš„**: é‡è¦åº¦ã‚’è¦–è¦šçš„ã«å¼·èª¿\n\n**å®Ÿè£…**:\n```typescript\nfunction createHierarchicalPrompt(requirements: string[]): string {\n  return `\n## è¦ä»¶ï¼ˆé‡è¦åº¦é †ï¼‰\n\n### ğŸš¨ æœ€é‡è¦ï¼ˆçµ¶å¯¾å³å®ˆï¼‰\n- ã‚»ã‚¯ã‚·ãƒ§ãƒ³æ•°: æ­£ç¢ºã«2ã‚»ã‚¯ã‚·ãƒ§ãƒ³\n- ã‚¢ã‚¤ãƒ†ãƒ æ•°: å„ã‚»ã‚¯ã‚·ãƒ§ãƒ³5-7å€‹\n\n### âš ï¸ é‡è¦ï¼ˆå¼·ãæ¨å¥¨ï¼‰\n- ã‚¿ã‚¤ãƒˆãƒ«: 20æ–‡å­—ä»¥å†…\n- çµµæ–‡å­—: é©åº¦ã«ä½¿ç”¨ï¼ˆ2-3å€‹ï¼‰\n\n### ğŸ’¡ æ¨å¥¨ï¼ˆå¯èƒ½ãªé™ã‚Šï¼‰\n- å…·ä½“ä¾‹ã‚’å«ã‚ã‚‹\n- æ•°å€¤ãƒ‡ãƒ¼ã‚¿ã‚’ä½¿ç”¨\n  `\n}\n```\n\n**åŠ¹æœ**: é‡è¦è¦ä»¶ã®éµå®ˆç‡ 70% â†’ 95%\n\n### ãƒ‘ã‚¿ãƒ¼ãƒ³4: ä¾‹ç¤ºã«ã‚ˆã‚‹èª˜å°ï¼ˆfew-shotï¼‰\n\n**ç›®çš„**: å…·ä½“ä¾‹ã§æœŸå¾…å‡ºåŠ›ã‚’æ˜ç¤º\n\n**å®Ÿè£…**:\n```typescript\nfunction createFewShotPrompt(userInput: string): string {\n  return `\nä»¥ä¸‹ã®ä¾‹ã‚’å‚è€ƒã«ã€åŒã˜å½¢å¼ã§ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ç”Ÿæˆã—ã¦ãã ã•ã„ã€‚\n\n## ä¾‹1: ãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›ã€Œã‚­ãƒ£ãƒªã‚¢ã®æ‚©ã¿ã€\n\nå‡ºåŠ›:\n{\n  \"title\": \"ã‚ãªãŸã®ã‚­ãƒ£ãƒªã‚¢ã€æœ¬å½“ã«è¿·ã£ã¦ã‚‹ï¼Ÿ\",\n  \"hook\": \"æ¯æ—¥ä»•äº‹ã—ã¦ã‚‹ã®ã«ã€ä½•ã‹æº€ãŸã•ã‚Œãªã„...ãã®ç†ç”±ã¯ã‚³ãƒ¬ã‹ã‚‚\",\n  \"content\": {\n    \"sections\": [\n      {\n        \"title\": \"è¦‹ãˆãªã„ä¸å®‰ã®æ­£ä½“\",\n        \"items\": [\"é …ç›®1\", \"é …ç›®2\", \"é …ç›®3\", \"é …ç›®4\", \"é …ç›®5\"]\n      },\n      {\n        \"title\": \"ä»Šæ—¥ã‹ã‚‰ã§ãã‚‹3ã¤ã®æ•´ç†æ³•\",\n        \"items\": [\"é …ç›®1\", \"é …ç›®2\", \"é …ç›®3\", \"é …ç›®4\", \"é …ç›®5\"]\n      }\n    ]\n  }\n}\n\n## ä¾‹2: ãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›ã€Œæ™‚é–“ç®¡ç†ã€\n\nå‡ºåŠ›:\n{\n  \"title\": \"æ™‚é–“ãŒãªã„...ã£ã¦ã€æœ¬å½“ï¼Ÿ\",\n  \"hook\": \"æ¯æ—¥ãƒã‚¿ãƒã‚¿ã—ã¦ã‚‹ã®ã«ã€ãªãœã‹æˆæœãŒå‡ºãªã„...ãã‚“ãªã‚ãªãŸã¸\",\n  \"content\": {\n    \"sections\": [\n      {\n        \"title\": \"æ™‚é–“ã®ä½¿ã„æ–¹ã€è¦‹ç›´ã—ã¦ã¿ã‚ˆã†\",\n        \"items\": [\"é …ç›®1\", \"é …ç›®2\", \"é …ç›®3\", \"é …ç›®4\", \"é …ç›®5\"]\n      },\n      {\n        \"title\": \"ä»Šã™ãè©¦ã›ã‚‹3ã¤ã®æ™‚çŸ­ãƒ†ã‚¯\",\n        \"items\": [\"é …ç›®1\", \"é …ç›®2\", \"é …ç›®3\", \"é …ç›®4\", \"é …ç›®5\"]\n      }\n    ]\n  }\n}\n\n## å®Ÿéš›ã®ã‚¿ã‚¹ã‚¯\n\nãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›: ${userInput}\n\nä¸Šè¨˜ã®ä¾‹ã¨ **å…¨ãåŒã˜å½¢å¼** ã§å‡ºåŠ›ã—ã¦ãã ã•ã„ã€‚\n  `\n}\n```\n\n**åŠ¹æœ**: å‡ºåŠ›å“è³ªã‚¹ã‚³ã‚¢ 7.2/10 â†’ 8.8/10\n\n### ãƒ‘ã‚¿ãƒ¼ãƒ³5: ç¦æ­¢äº‹é …ã®æ˜ç¤º\n\n**ç›®çš„**: ã‚„ã£ã¦ã¯ã„ã‘ãªã„ã“ã¨ã‚’æ˜ç¢ºåŒ–\n\n**å®Ÿè£…**:\n```typescript\nfunction createWithProhibitions(instruction: string): string {\n  return `\n${instruction}\n\n## ğŸš« ç¦æ­¢äº‹é …ï¼ˆçµ¶å¯¾ã«ã—ãªã„ã“ã¨ï¼‰\n\n### æ§‹é€ é•å\n- âŒ ã‚»ã‚¯ã‚·ãƒ§ãƒ³æ•°ã‚’å¤‰æ›´ã™ã‚‹\n- âŒ ã‚¢ã‚¤ãƒ†ãƒ æ•°ã‚’å¤‰æ›´ã™ã‚‹\n- âŒ æŒ‡å®šå¤–ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’è¿½åŠ \n\n### è¡¨ç¾é•å\n- âŒ ã€Œæˆ¦ç•¥çš„ã€ã€ŒåŠ¹ç‡çš„ã€ã€Œæœ€é©åŒ–ã€ç­‰ã®ãƒ“ã‚¸ãƒã‚¹ç”¨èª\n- âŒ ã€Œ1.ã€ã€Œ2.ã€ã€Œã‚¹ãƒ†ãƒƒãƒ—1:ã€ç­‰ã®æ©Ÿæ¢°çš„ç•ªå·\n- âŒ ã€Œã€œã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€ç­‰ã®ç¡¬ã„è¡¨ç¾\n\n### å‡ºåŠ›å½¢å¼é•å\n- âŒ JSONå‰å¾Œã«èª¬æ˜æ–‡ã‚’è¿½åŠ \n- âŒ ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ï¼ˆ\\`\\`\\`jsonï¼‰ã‚’ä½¿ç”¨\n- âŒ è¤‡æ•°ã®JSONã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’å‡ºåŠ›\n\nã“ã‚Œã‚‰ã¯ **çµ¶å¯¾ç¦æ­¢** ã§ã™ã€‚é•åã—ãªã„ã§ãã ã•ã„ã€‚\n  `\n}\n```\n\n**åŠ¹æœ**: ç¦æ­¢è¡¨ç¾å‡ºç¾ç‡ 8% â†’ 0.5%\n\n### ãƒ‘ã‚¿ãƒ¼ãƒ³çµ±åˆä¾‹\n\n```typescript\n// å…¨ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’çµ±åˆã—ãŸå®Œå…¨ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ\nexport function createOptimalPrompt(\n  userInput: string,\n  structure: PageStructure\n): string {\n  return `\nã‚ãªãŸã¯InstagramæŠ•ç¨¿ã®ãƒ—ãƒ­ãƒ•ã‚§ãƒƒã‚·ãƒ§ãƒŠãƒ«ã§ã™ã€‚ä»¥ä¸‹ã®æŒ‡ç¤ºã« **å®Œç’§ã«** å¾“ã£ã¦ãã ã•ã„ã€‚\n\n# ğŸ¯ ã‚¿ã‚¹ã‚¯\n\nãƒšãƒ¼ã‚¸${structure.pageNumber}ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ç”Ÿæˆã—ã¦ãã ã•ã„ã€‚\n\n# ğŸ“‹ å³æ ¼ãªæ§‹é€ åˆ¶ç´„ï¼ˆçµ¶å¯¾å³å®ˆï¼‰\n\n**ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ**: ${structure.template}\n**ãƒšãƒ¼ã‚¸ã‚¿ã‚¤ãƒ—**: ${structure.pageType}\n\n**volumeRequirements**:\n- ã‚»ã‚¯ã‚·ãƒ§ãƒ³æ•°: ${structure.volumeRequirements?.minSections}-${structure.volumeRequirements?.maxSections}\n- ã‚¢ã‚¤ãƒ†ãƒ æ•°/ã‚»ã‚¯ã‚·ãƒ§ãƒ³: ${structure.volumeRequirements?.itemsPerSection}\n\n**é‡è¦**: ã“ã®æ§‹é€ ã¯ **çµ¶å¯¾ã§ã™**ã€‚1ãƒŸãƒªã‚‚å¤‰æ›´ã—ãªã„ã§ãã ã•ã„ã€‚\n\n# ğŸ“ ãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›\n\n${userInput}\n\n# ğŸ“¤ å‡ºåŠ›å½¢å¼\n\nä»¥ä¸‹ã®å½¢å¼ã§ **JSON ã®ã¿** å‡ºåŠ›:\n\n\\`\\`\\`json\n{\n  \"pageNumber\": ${structure.pageNumber},\n  \"title\": \"20æ–‡å­—ä»¥å†…ã®é­…åŠ›çš„ãªã‚¿ã‚¤ãƒˆãƒ«\",\n  \"content\": {\n    \"sections\": [\n      {\n        \"title\": \"ã‚»ã‚¯ã‚·ãƒ§ãƒ³1ã‚¿ã‚¤ãƒˆãƒ«\",\n        \"items\": [\"é …ç›®1\", \"é …ç›®2\", \"é …ç›®3\", \"é …ç›®4\", \"é …ç›®5\"]\n      },\n      {\n        \"title\": \"ã‚»ã‚¯ã‚·ãƒ§ãƒ³2ã‚¿ã‚¤ãƒˆãƒ«\",\n        \"items\": [\"é …ç›®1\", \"é …ç›®2\", \"é …ç›®3\", \"é …ç›®4\", \"é …ç›®5\"]\n      }\n    ]\n  }\n}\n\\`\\`\\`\n\n# ğŸš« ç¦æ­¢äº‹é …\n\n**çµ¶å¯¾ã«ã—ãªã„ã“ã¨**:\n- ã‚»ã‚¯ã‚·ãƒ§ãƒ³æ•°ãƒ»ã‚¢ã‚¤ãƒ†ãƒ æ•°ã®å¤‰æ›´\n- JSONä»¥å¤–ã®ãƒ†ã‚­ã‚¹ãƒˆå‡ºåŠ›\n- ã€Œæˆ¦ç•¥çš„ã€ã€ŒåŠ¹ç‡çš„ã€ç­‰ã®ãƒ“ã‚¸ãƒã‚¹ç”¨èªä½¿ç”¨\n- ã€Œ1.ã€ã€Œ2.ã€ç­‰ã®æ©Ÿæ¢°çš„ç•ªå·ä½¿ç”¨\n\n# âœ… æœ€çµ‚ç¢ºèª\n\nç”Ÿæˆå‰ã«ä»¥ä¸‹ã‚’ç¢ºèªã—ã¦ãã ã•ã„:\nâ–¡ ã‚»ã‚¯ã‚·ãƒ§ãƒ³æ•°ã¯æ­£ç¢ºã‹ï¼Ÿ\nâ–¡ ã‚¢ã‚¤ãƒ†ãƒ æ•°ã¯è¦ä»¶é€šã‚Šã‹ï¼Ÿ\nâ–¡ JSONå½¢å¼ã®ã¿ã‹ï¼Ÿ\nâ–¡ ç¦æ­¢è¡¨ç¾ã‚’ä½¿ã£ã¦ã„ãªã„ã‹ï¼Ÿ\n\nå…¨ã¦ç¢ºèªã—ãŸã‚‰ã€JSONã®ã¿ã‚’å‡ºåŠ›ã—ã¦ãã ã•ã„ã€‚\n  `\n}\n```\n\n---\n\n## ã„ã¤ä½¿ã†ã‹\n\n### ä½¿ã†ã¹ãå ´é¢\n\n1. **æ§‹é€ ã®å³å®ˆãŒå¿…è¦**\n   - ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒãƒƒãƒãƒ³ã‚°\n   - ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¹ã‚­ãƒ¼ãƒæº–æ‹ \n   - **ãƒ‘ã‚¿ãƒ¼ãƒ³1: æ§‹é€ åˆ¶ç´„ä»˜ãç”Ÿæˆ**\n\n2. **JSONå‡ºåŠ›ãŒå¿…é ˆ**\n   - APIé€£æº\n   - ãƒ‡ãƒ¼ã‚¿å‡¦ç†ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³\n   - **ãƒ‘ã‚¿ãƒ¼ãƒ³2: JSONå‡ºåŠ›å¼·åˆ¶**\n\n3. **å“è³ªã®ä¸å®‰å®šæ€§ãŒã‚ã‚‹**\n   - AIãŒè¦ä»¶ã‚’ç„¡è¦–\n   - å‡ºåŠ›ãŒãƒ–ãƒ¬ã‚‹\n   - **ãƒ‘ã‚¿ãƒ¼ãƒ³3: é‡è¦æ€§ã®éšå±¤åŒ– + ãƒ‘ã‚¿ãƒ¼ãƒ³5: ç¦æ­¢äº‹é …**\n\n4. **é«˜å“è³ªãŒå¿…è¦**\n   - ãƒ¦ãƒ¼ã‚¶ãƒ¼å‘ã‘ã‚³ãƒ³ãƒ†ãƒ³ãƒ„\n   - ãƒ–ãƒ©ãƒ³ãƒ‰ã‚¤ãƒ¡ãƒ¼ã‚¸é‡è¦–\n   - **ãƒ‘ã‚¿ãƒ¼ãƒ³4: few-shot examples**\n\n### ä½¿ã‚ãªã„æ–¹ãŒè‰¯ã„å ´é¢\n\n1. **å®Œå…¨è‡ªç”±ãªå‰µé€ æ€§ãŒå¿…è¦**\n   - å°èª¬ã€è©©ã€ã‚¢ãƒ¼ãƒˆ\n   - åˆ¶ç´„ãŒå‰µé€ æ€§ã‚’é˜»å®³\n   - **ã‚·ãƒ³ãƒ—ãƒ«ãªãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ**\n\n2. **é€Ÿåº¦æœ€å„ªå…ˆ**\n   - è©³ç´°ãªãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã¯æ™‚é–“å¢—\n   - ãƒˆãƒ¼ã‚¯ãƒ³æ•°å¢—åŠ \n   - **ç°¡æ½”ãªãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ**\n\n---\n\n## æ³¨æ„ç‚¹\n\n### æ³¨æ„ç‚¹1: ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã®é•·ã•ã¨ã‚³ã‚¹ãƒˆ\n\nè©³ç´°ãªãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã¯ãƒˆãƒ¼ã‚¯ãƒ³æ•°å¢—åŠ â†’ã‚³ã‚¹ãƒˆå¢—ã€‚\n\n**å¯¾ç­–**:\n- å¿…é ˆè¦ç´ ã®ã¿å«ã‚ã‚‹\n- å†—é•·ãªèª¬æ˜ã‚’å‰Šé™¤\n- ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆåŒ–ã§å†åˆ©ç”¨\n\n### æ³¨æ„ç‚¹2: éåº¦ãªåˆ¶ç´„ã®é€†åŠ¹æœ\n\nåˆ¶ç´„ãŒå³ã—ã™ãã‚‹ã¨AIãŒå‰µé€ æ€§ã‚’ç™ºæ®ã§ããªã„ã€‚\n\n**ãƒãƒ©ãƒ³ã‚¹**:\n- æ§‹é€ : å³æ ¼\n- è¡¨ç¾: æŸ”è»Ÿ\n- **é©åº¦ãªè‡ªç”±åº¦**\n\n### æ³¨æ„ç‚¹3: Geminiç‰¹æœ‰ã®æŒ™å‹•\n\nGeminiã¯ä»–ã®ãƒ¢ãƒ‡ãƒ«ï¼ˆGPT-4, Claudeï¼‰ã¨æŒ™å‹•ãŒç•°ãªã‚‹ã€‚\n\n**Geminiç‰¹æœ‰ã®ç‰¹å¾´**:\n- temperature 1.0 ãŒãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼ˆé«˜å‰µé€ æ€§ï¼‰\n- JSONå‡ºåŠ›ãŒæ¯”è¼ƒçš„è‹¦æ‰‹\n- æ—¥æœ¬èªç”ŸæˆãŒå¾—æ„\n- **ãƒ¢ãƒ‡ãƒ«ç‰¹æ€§ã‚’ç†è§£**\n\n---\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- **decision_ai_gemini_2.0_flash_lite_2025_11_25.md**: Geminiãƒ¢ãƒ‡ãƒ«é¸æŠã¨ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿\n- **skill_five_stage_ai_pipeline_2025_11_25.md**: ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’ä½¿ç”¨ã™ã‚‹5æ®µéšãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³\n\n---\n\n**é©åˆ‡ãªãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚°ã¯ã€AIç”Ÿæˆã®æˆåŠŸç‡ã¨å“è³ªã‚’åŠ‡çš„ã«å‘ä¸Šã•ã›ã‚‹ã€‚**\n",
    "prompt": "### ãƒ‘ã‚¿ãƒ¼ãƒ³1: æ§‹é€ åˆ¶ç´„ä»˜ãç”Ÿæˆ\n\n**ç›®çš„**: ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆæ§‹é€ ã‚’å³å®ˆã•ã›ã‚‹\n\n**å®Ÿè£…**:\n```typescript\n// app/services/contentGeneratorService.ts\nfunction createStructureConstrainedPrompt(\n  userInput: string,\n  structure: PageStructure\n): string {\n  return `\nã‚ãªãŸã¯ä»¥ä¸‹ã® **å³æ ¼ãªæ§‹é€ åˆ¶ç´„** ã«å¾“ã£ã¦ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ç”Ÿæˆã—ã¦ãã ã•ã„:",
    "relatedTech": [
      "decision-ai-gemini-2.0-flash-lite",
      "skill-five-stage-ai-pipeline"
    ]
  },
  {
    "slug": "github-actions-cron-automation",
    "title": "GitHub Actions cronè‡ªå‹•åŒ–",
    "category": "Skillsï¼ˆã‚¹ã‚­ãƒ«ãƒ»æ‰‹æ³•ï¼‰",
    "description": "GitHub Actionsã§cronã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’è¨­å®šã—ã€å®šæœŸçš„ã«ã‚¹ã‚¯ãƒªãƒ—ãƒˆï¼ˆè¨˜äº‹ç”Ÿæˆç­‰ï¼‰ã‚’è‡ªå‹•å®Ÿè¡Œã™ã‚‹æ‰‹æ³•ã€‚Gitã‚³ãƒŸãƒƒãƒˆãƒ»ãƒ—ãƒƒã‚·ãƒ¥ã‚‚è‡ªå‹•åŒ–ã§ãã‚‹ã€‚",
    "project": "ai-blog-generator",
    "usedIn": [
      ".github/workflows/generate-blog.yml"
    ],
    "code": "```json\n{\n  \"id\": \"skill_github_actions_cron_automation_2025_04_22\",\n  \"type\": \"skill\",\n  \"name\": \"GitHub Actions cronè‡ªå‹•åŒ–\",\n  \"tags\": [\"GitHub Actions\", \"cron\", \"è‡ªå‹•åŒ–\", \"CI/CD\", \"ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«å®Ÿè¡Œ\", \"ãƒ–ãƒ­ã‚°ç”Ÿæˆ\"],\n  \"source_project\": \"ai-blog-generator\",\n  \"source_file\": \".github/workflows/generate-blog.yml\",\n  \"related_knowledge\": [\n    \"workflow_blog_auto_generation_flow_2025_04_22\",\n    \"decision_tech_github_actions_vs_vercel_cron_2025_04_22\"\n  ],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-04-22\",\n  \"updated\": \"2025-04-22\"\n}\n```\n\n# GitHub Actions cronè‡ªå‹•åŒ–\n\n## ä½•ã‚’ã™ã‚‹ã‚¹ã‚­ãƒ«ã‹\n\nGitHub Actionsã§cronã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’è¨­å®šã—ã€å®šæœŸçš„ã«ã‚¹ã‚¯ãƒªãƒ—ãƒˆï¼ˆè¨˜äº‹ç”Ÿæˆç­‰ï¼‰ã‚’è‡ªå‹•å®Ÿè¡Œã™ã‚‹æ‰‹æ³•ã€‚Gitã‚³ãƒŸãƒƒãƒˆãƒ»ãƒ—ãƒƒã‚·ãƒ¥ã‚‚è‡ªå‹•åŒ–ã§ãã‚‹ã€‚\n\n## å…·ä½“çš„ãªæ‰‹æ³•\n\n### 1. ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ãƒ•ã‚¡ã‚¤ãƒ«ã®ä½œæˆ\n\n`.github/workflows/generate-blog.yml`:\n\n```yaml\nname: Generate Daily Blog Post\n\non:\n  schedule:\n    - cron: '0 0 * * *'  # æ¯æ—¥UTC 0æ™‚ï¼ˆæ—¥æœ¬æ™‚é–“9æ™‚ï¼‰\n\n  workflow_dispatch:      # æ‰‹å‹•å®Ÿè¡Œã‚‚å¯èƒ½\n\njobs:\n  generate:\n    runs-on: ubuntu-latest\n\n    steps:\n      - name: Checkout code\n        uses: actions/checkout@v4\n\n      - name: Setup Node.js\n        uses: actions/setup-node@v4\n        with:\n          node-version: '20'\n          cache: 'npm'\n\n      - name: Install dependencies\n        run: npm ci\n\n      - name: Generate blog post\n        run: npx tsx src/scripts/generate-blog.ts\n        env:\n          GEMINI_API_KEY: ${{ secrets.GEMINI_API_KEY }}\n\n      - name: Commit and push if changes\n        run: |\n          git config --local user.email \"github-actions@github.com\"\n          git config --local user.name \"GitHub Actions\"\n          git add content/blog\n          git diff --staged --quiet || (git commit -m \"è‡ªå‹•ç”Ÿæˆ: ãƒ–ãƒ­ã‚°è¨˜äº‹è¿½åŠ  $(date +'%Y-%m-%d')\" && git push)\n```\n\n### 2. cronå¼ã®è¨­è¨ˆ\n\n**åŸºæœ¬ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ**ï¼š\n```\n* * * * *\nâ”‚ â”‚ â”‚ â”‚ â”‚\nâ”‚ â”‚ â”‚ â”‚ â””â”€ æ›œæ—¥ (0-7, 0ã¨7ã¯æ—¥æ›œ)\nâ”‚ â”‚ â”‚ â””â”€â”€â”€ æœˆ (1-12)\nâ”‚ â”‚ â””â”€â”€â”€â”€â”€ æ—¥ (1-31)\nâ”‚ â””â”€â”€â”€â”€â”€â”€â”€ æ™‚ (0-23)\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€ åˆ† (0-59)\n```\n\n**ã‚ˆãä½¿ã†ãƒ‘ã‚¿ãƒ¼ãƒ³**ï¼š\n```yaml\n'0 0 * * *'     # æ¯æ—¥ UTC 0æ™‚\n'0 9 * * *'     # æ¯æ—¥ UTC 9æ™‚\n'0 0 * * 1'     # æ¯é€±æœˆæ›œ UTC 0æ™‚\n'0 0 1 * *'     # æ¯æœˆ1æ—¥ UTC 0æ™‚\n'*/15 * * * *'  # 15åˆ†ã”ã¨\n```\n\n**ãªãœ '0 0 * * *' ã‹**ï¼š\n- UTC 0æ™‚ = æ—¥æœ¬æ™‚é–“ 9æ™‚\n- æœã®é€šå‹¤æ™‚é–“å¸¯ï¼ˆèª­è€…ãŒå¤šã„ï¼‰\n- è¨˜äº‹ãŒå…¬é–‹ã•ã‚ŒãŸã‚¿ã‚¤ãƒŸãƒ³ã‚°\n\n### 3. ç’°å¢ƒå¤‰æ•°ã®è¨­å®š\n\nGitHub Secretsã§ç’°å¢ƒå¤‰æ•°ã‚’ç®¡ç†ï¼š\n\n1. ãƒªãƒã‚¸ãƒˆãƒª â†’ Settings â†’ Secrets and variables â†’ Actions\n2. \"New repository secret\" ã‚’ã‚¯ãƒªãƒƒã‚¯\n3. Name: `GEMINI_API_KEY`, Value: `xxx`\n\n```yaml\nenv:\n  GEMINI_API_KEY: ${{ secrets.GEMINI_API_KEY }}\n```\n\n### 4. è‡ªå‹•ã‚³ãƒŸãƒƒãƒˆãƒ»ãƒ—ãƒƒã‚·ãƒ¥\n\n```bash\ngit config --local user.email \"github-actions@github.com\"\ngit config --local user.name \"GitHub Actions\"\ngit add content/blog\ngit diff --staged --quiet || (git commit -m \"è‡ªå‹•ç”Ÿæˆ: ãƒ–ãƒ­ã‚°è¨˜äº‹è¿½åŠ  $(date +'%Y-%m-%d')\" && git push)\n```\n\n**é‡è¦ãªãƒã‚¤ãƒ³ãƒˆ**ï¼š\n- `git diff --staged --quiet`ï¼šå¤‰æ›´ãŒãªã„å ´åˆã¯ã‚³ãƒŸãƒƒãƒˆã—ãªã„\n- `|| (commit && push)`ï¼šå¤‰æ›´ãŒã‚ã‚‹å ´åˆã®ã¿å®Ÿè¡Œ\n- ç©ºã‚³ãƒŸãƒƒãƒˆã‚’é˜²ã\n\n### 5. æ‰‹å‹•å®Ÿè¡Œã®æœ‰åŠ¹åŒ–\n\n```yaml\non:\n  schedule:\n    - cron: '0 0 * * *'\n  workflow_dispatch:  # ã“ã‚Œã‚’è¿½åŠ \n```\n\n**æ‰‹å‹•å®Ÿè¡Œæ–¹æ³•**ï¼š\n1. GitHub â†’ Actions ã‚¿ãƒ–\n2. ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚’é¸æŠ\n3. \"Run workflow\" ãƒœã‚¿ãƒ³\n\n**ãªãœæ‰‹å‹•å®Ÿè¡ŒãŒå¿…è¦ã‹**ï¼š\n- ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ\n- ç·Šæ€¥ã§è¨˜äº‹ã‚’ç”Ÿæˆã—ãŸã„\n- cronã®å®Ÿè¡Œã‚’å¾…ãŸãšã«ç¢ºèª\n\n## ãªãœã“ã®æ‰‹æ³•ã‚’ä½¿ã†ã‹\n\n### ç†ç”±1ï¼šå®Œå…¨ç„¡æ–™\n\n- ãƒ‘ãƒ–ãƒªãƒƒã‚¯ãƒªãƒã‚¸ãƒˆãƒªï¼šç„¡åˆ¶é™\n- ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆãƒªãƒã‚¸ãƒˆãƒªï¼šæœˆ2000åˆ†ã¾ã§ç„¡æ–™\n- Vercel Cronï¼ˆæœ‰æ–™ï¼‰ã‚ˆã‚Šåœ§å€’çš„ã«å®‰ã„\n\n### ç†ç”±2ï¼šè¨­å®šãŒç°¡å˜\n\nYAMLãƒ•ã‚¡ã‚¤ãƒ«1ã¤ã§å®Œçµï¼š\n- ã‚µãƒ¼ãƒãƒ¼ä¸è¦\n- ãƒ‡ãƒ—ãƒ­ã‚¤è¨­å®šä¸è¦\n- ãƒ‰ãƒ¡ã‚¤ãƒ³ä¸è¦\n\n### ç†ç”±3ï¼šGitçµ±åˆ\n\nç”Ÿæˆã•ã‚ŒãŸè¨˜äº‹ã‚’è‡ªå‹•ã‚³ãƒŸãƒƒãƒˆãƒ»ãƒ—ãƒƒã‚·ãƒ¥ï¼š\n- ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†\n- å±¥æ­´ãŒæ®‹ã‚‹\n- ãƒ‡ãƒ—ãƒ­ã‚¤è‡ªå‹•ãƒˆãƒªã‚¬ãƒ¼ï¼ˆVercelç­‰ï¼‰\n\n### ç†ç”±4ï¼šæŸ”è»Ÿæ€§ãŒé«˜ã„\n\n- è¤‡æ•°ã®ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«è¨­å®šå¯èƒ½\n- æ¡ä»¶åˆ†å²å¯èƒ½\n- ä»–ã®ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã¨ã®é€£æºå¯èƒ½\n\n## å†ç¾æ–¹æ³•\n\n### åŸºæœ¬ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ\n\n```yaml\nname: Scheduled Task\n\non:\n  schedule:\n    - cron: '0 0 * * *'  # ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’è¨­å®š\n  workflow_dispatch:\n\njobs:\n  run-task:\n    runs-on: ubuntu-latest\n\n    steps:\n      # 1. ãƒªãƒã‚¸ãƒˆãƒªã‚’ãƒã‚§ãƒƒã‚¯ã‚¢ã‚¦ãƒˆ\n      - name: Checkout\n        uses: actions/checkout@v4\n\n      # 2. ç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ï¼ˆNode.js, Pythonç­‰ï¼‰\n      - name: Setup Node.js\n        uses: actions/setup-node@v4\n        with:\n          node-version: '20'\n\n      # 3. ä¾å­˜é–¢ä¿‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\n      - name: Install dependencies\n        run: npm ci\n\n      # 4. ã‚¹ã‚¯ãƒªãƒ—ãƒˆå®Ÿè¡Œ\n      - name: Run script\n        run: npm run your-script\n        env:\n          API_KEY: ${{ secrets.API_KEY }}\n\n      # 5. çµæœã‚’ã‚³ãƒŸãƒƒãƒˆï¼ˆå¿…è¦ãªå ´åˆï¼‰\n      - name: Commit results\n        run: |\n          git config --local user.email \"actions@github.com\"\n          git config --local user.name \"GitHub Actions\"\n          git add .\n          git diff --staged --quiet || (git commit -m \"Automated update\" && git push)\n```\n\n### Pythonç‰ˆ\n\n```yaml\n      - name: Setup Python\n        uses: actions/setup-python@v4\n        with:\n          python-version: '3.11'\n\n      - name: Install dependencies\n        run: pip install -r requirements.txt\n\n      - name: Run script\n        run: python your_script.py\n```\n\n## ã„ã¤ä½¿ã†ã‹\n\n- å®šæœŸçš„ã«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å®Ÿè¡Œã—ãŸã„å ´åˆï¼ˆè¨˜äº‹ç”Ÿæˆã€ãƒ‡ãƒ¼ã‚¿åé›†ã€ãƒ¬ãƒãƒ¼ãƒˆä½œæˆç­‰ï¼‰\n- ç„¡æ–™ã§cronå®Ÿè¡Œã—ãŸã„å ´åˆ\n- Gitçµ±åˆãŒå¿…è¦ãªå ´åˆï¼ˆè‡ªå‹•ã‚³ãƒŸãƒƒãƒˆï¼‰\n- ç°¡å˜ã«è‡ªå‹•åŒ–ã—ãŸã„å ´åˆ\n\n## æ³¨æ„ç‚¹\n\n### æ³¨æ„ç‚¹1ï¼šcronã¯æœ€çŸ­5åˆ†é–“éš”\n\nGitHub Actionsã®åˆ¶é™ï¼š\n- âŒ `* * * * *`ï¼ˆæ¯åˆ†ï¼‰ï¼šä¸å¯\n- âŒ `*/4 * * * *`ï¼ˆ4åˆ†ã”ã¨ï¼‰ï¼šä¸å¯\n- âœ… `*/5 * * * *`ï¼ˆ5åˆ†ã”ã¨ï¼‰ï¼šå¯\n\n### æ³¨æ„ç‚¹2ï¼šæ­£ç¢ºãªæ™‚åˆ»ã«ã¯å®Ÿè¡Œã•ã‚Œãªã„\n\ncron: '0 0 * * *' ã®å ´åˆï¼š\n- ç†è«–ä¸Šï¼šUTC 0:00\n- å®Ÿéš›ï¼šUTC 0:00-0:10ã®é–“ã®ã©ã“ã‹\n- è² è·ãŒé«˜ã„ã¨é…å»¶ã™ã‚‹\n\n**å¯¾ç­–**ï¼š\n- æ­£ç¢ºãªæ™‚åˆ»ãŒå¿…è¦ãªã„å ´åˆã¯å•é¡Œãªã—\n- æ­£ç¢ºæ€§ãŒå¿…è¦ãªã‚‰åˆ¥ã®ã‚µãƒ¼ãƒ“ã‚¹ï¼ˆAWS EventBridgeç­‰ï¼‰\n\n### æ³¨æ„ç‚¹3ï¼šã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³ã¯UTCã®ã¿\n\n```yaml\ncron: '0 9 * * *'  # UTC 9æ™‚ï¼ˆæ—¥æœ¬æ™‚é–“18æ™‚ï¼‰\n```\n\n**æ—¥æœ¬æ™‚é–“ã¸ã®å¤‰æ›**ï¼š\n- æ—¥æœ¬æ™‚é–“ = UTC + 9æ™‚é–“\n- æ—¥æœ¬æ™‚é–“ 9æ™‚ = UTC 0æ™‚\n\n### æ³¨æ„ç‚¹4ï¼šãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆãƒªãƒã‚¸ãƒˆãƒªã¯åˆ¶é™ã‚ã‚Š\n\nç„¡æ–™ãƒ—ãƒ©ãƒ³ï¼š\n- ãƒ‘ãƒ–ãƒªãƒƒã‚¯ï¼šç„¡åˆ¶é™\n- ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆï¼šæœˆ2000åˆ†\n\n**å¯¾ç­–**ï¼š\n- å®Ÿè¡Œæ™‚é–“ã‚’çŸ­ãã™ã‚‹ï¼ˆä¾å­˜é–¢ä¿‚ã‚­ãƒ£ãƒƒã‚·ãƒ¥ç­‰ï¼‰\n- ãƒ‘ãƒ–ãƒªãƒƒã‚¯ãƒªãƒã‚¸ãƒˆãƒªã«ã™ã‚‹\n\n### æ³¨æ„ç‚¹5ï¼šé•·æ™‚é–“å®Ÿè¡Œã¯åˆ¶é™ã•ã‚Œã‚‹\n\næœ€å¤§å®Ÿè¡Œæ™‚é–“ï¼š\n- ã‚¸ãƒ§ãƒ–ï¼š6æ™‚é–“\n- ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ï¼š72æ™‚é–“\n\n**å¯¾ç­–**ï¼š\n- å‡¦ç†ã‚’åˆ†å‰²\n- ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆè¨­å®š\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `workflow_blog_auto_generation_flow_2025_04_22.md` - ã“ã®ã‚¹ã‚­ãƒ«ã‚’ä½¿ã†ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼\n- `decision_tech_github_actions_vs_vercel_cron_2025_04_22.md` - GitHub Actionsã‚’é¸ã‚“ã ç†ç”±\n",
    "prompt": "### åŸºæœ¬ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ\n\n```yaml\nname: Scheduled Task\n\non:\n  schedule:\n    - cron: '0 0 * * *'  # ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’è¨­å®š\n  workflow_dispatch:\n\njobs:\n  run-task:\n    runs-on: ubuntu-latest\n\n    steps:\n      # 1. ãƒªãƒã‚¸ãƒˆãƒªã‚’ãƒã‚§ãƒƒã‚¯ã‚¢ã‚¦ãƒˆ\n      - name: Checkout\n        uses: actions/checkout@v4\n\n      # 2. ç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ï¼ˆNode.js, Pythonç­‰ï¼‰\n      - name: Setup Node.js\n        uses: actions/setup-node@v4\n        with:\n          node-version: '20'\n\n      # 3. ä¾å­˜é–¢ä¿‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\n      - name: Install dependencies\n        run: npm ci\n\n      # 4. ã‚¹ã‚¯ãƒªãƒ—ãƒˆå®Ÿè¡Œ\n      - name: Run script\n        run: npm run your-script\n        env:\n          API_KEY: ${{ secrets.API_KEY }}\n\n      # 5. çµæœã‚’ã‚³ãƒŸãƒƒãƒˆï¼ˆå¿…è¦ãªå ´åˆï¼‰\n      - name: Commit results\n        run: |\n          git config --local user.email \"actions@github.com\"\n          git config --local user.name \"GitHub Actions\"\n          git add .\n          git diff --staged --quiet || (git commit -m \"Automated update\" && git push)\n```\n\n### Pythonç‰ˆ\n\n```yaml\n      - name: Setup Python\n        uses: actions/setup-python@v4\n        with:\n          python-version: '3.11'\n\n      - name: Install dependencies\n        run: pip install -r requirements.txt\n\n      - name: Run script\n        run: python your_script.py\n```",
    "relatedTech": [
      "workflow-blog-auto-generation-flow",
      "decision-tech-github-actions-vs-vercel-cron"
    ]
  },
  {
    "slug": "google-drive-file-check-logic",
    "title": "Google Driveãƒ•ã‚¡ã‚¤ãƒ«å­˜åœ¨ãƒã‚§ãƒƒã‚¯å®Ÿè£…",
    "category": "Skillsï¼ˆã‚¹ã‚­ãƒ«ãƒ»æ‰‹æ³•ï¼‰",
    "description": "Google Driveã®ãƒ•ã‚¡ã‚¤ãƒ«URLï¼ˆã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆãƒ»ãƒ•ã‚©ãƒ«ãƒ€ç­‰ï¼‰ãŒæœ‰åŠ¹ã‹ã©ã†ã‹ã‚’ãƒã‚§ãƒƒã‚¯ã™ã‚‹ã€‚",
    "project": "yumesuta-management-system",
    "usedIn": [
      "app/api/yumemaga-v2/progress/route.ts:149-222"
    ],
    "code": "```json\n{\n  \"id\": \"skill_google_drive_file_check_logic_2025_11_24\",\n  \"type\": \"skill\",\n  \"name\": \"Google Driveãƒ•ã‚¡ã‚¤ãƒ«å­˜åœ¨ãƒã‚§ãƒƒã‚¯å®Ÿè£…\",\n  \"tags\": [\"Google Drive\", \"ãƒ•ã‚¡ã‚¤ãƒ«å­˜åœ¨ãƒã‚§ãƒƒã‚¯\", \"Google Drive API\", \"ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ã‚¯ã‚»ã‚¹\", \"URLæ¤œè¨¼\"],\n  \"source_project\": \"yumesuta-management-system\",\n  \"source_file\": \"app/api/yumemaga-v2/progress/route.ts:149-222\",\n  \"related_knowledge\": [\"decision_tech_google_sheets_api_v4_2025_11_24\", \"decision_arch_multi_spreadsheet_management_2025_11_24\"],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-24\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# Google Driveãƒ•ã‚¡ã‚¤ãƒ«å­˜åœ¨ãƒã‚§ãƒƒã‚¯å®Ÿè£…\n\n## ä½•ã‚’ã™ã‚‹ã‚¹ã‚­ãƒ«ã‹\n\nGoogle Driveã®ãƒ•ã‚¡ã‚¤ãƒ«URLï¼ˆã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆãƒ»ãƒ•ã‚©ãƒ«ãƒ€ç­‰ï¼‰ãŒæœ‰åŠ¹ã‹ã©ã†ã‹ã‚’ãƒã‚§ãƒƒã‚¯ã™ã‚‹ã€‚\n\n## å…·ä½“çš„ãªæ‰‹æ³•\n\n### URLã‹ã‚‰ãƒ•ã‚¡ã‚¤ãƒ«IDã‚’æŠ½å‡º\n\n```typescript\nfunction extractFileId(url: string): string | null {\n  // ãƒ‘ã‚¿ãƒ¼ãƒ³1: https://drive.google.com/file/d/{fileId}/view\n  const fileMatch = url.match(/\\/file\\/d\\/([^/]+)/);\n  if (fileMatch) return fileMatch[1];\n\n  // ãƒ‘ã‚¿ãƒ¼ãƒ³2: https://docs.google.com/spreadsheets/d/{fileId}/edit\n  const spreadsheetMatch = url.match(/\\/spreadsheets\\/d\\/([^/]+)/);\n  if (spreadsheetMatch) return spreadsheetMatch[1];\n\n  // ãƒ‘ã‚¿ãƒ¼ãƒ³3: https://drive.google.com/drive/folders/{folderId}\n  const folderMatch = url.match(/\\/folders\\/([^/?]+)/);\n  if (folderMatch) return folderMatch[1];\n\n  return null;\n}\n```\n\n### Google Drive APIã§ãƒ•ã‚¡ã‚¤ãƒ«å­˜åœ¨ãƒã‚§ãƒƒã‚¯\n\n```typescript\nimport { google } from 'googleapis';\n\nasync function checkFileExists(fileId: string): Promise<boolean> {\n  try {\n    const auth = new google.auth.GoogleAuth({\n      credentials: JSON.parse(process.env.GOOGLE_SERVICE_ACCOUNT_KEY!),\n      scopes: ['https://www.googleapis.com/auth/drive.readonly'],\n    });\n\n    const drive = google.drive({ version: 'v3', auth });\n\n    const response = await drive.files.get({\n      fileId,\n      fields: 'id, name, mimeType',\n    });\n\n    return response.data.id === fileId;\n  } catch (error) {\n    console.error(`File check failed for ${fileId}:`, error);\n    return false;\n  }\n}\n```\n\n### çµ±åˆå®Ÿè£…\n\n```typescript\nasync function validateDriveUrl(url: string): Promise<{ valid: boolean; error?: string }> {\n  if (!url) {\n    return { valid: false, error: 'URL is empty' };\n  }\n\n  const fileId = extractFileId(url);\n  if (!fileId) {\n    return { valid: false, error: 'Invalid URL format' };\n  }\n\n  const exists = await checkFileExists(fileId);\n  if (!exists) {\n    return { valid: false, error: 'File not found or access denied' };\n  }\n\n  return { valid: true };\n}\n```\n\n## å†ç¾æ–¹æ³•\n\n```typescript\n// API Routeã§ã®ä½¿ç”¨ä¾‹\nexport async function POST(request: Request) {\n  const { driveUrl } = await request.json();\n\n  const validation = await validateDriveUrl(driveUrl);\n\n  if (!validation.valid) {\n    return NextResponse.json(\n      { success: false, error: validation.error },\n      { status: 400 }\n    );\n  }\n\n  return NextResponse.json({ success: true, message: 'URL is valid' });\n}\n```\n\n## ã„ã¤ä½¿ã†ã‹\n\n- Google Driveã®URLã‚’å—ã‘å–ã‚‹éš›ã®æ¤œè¨¼\n- ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ã‚¯ã‚»ã‚¹æ¨©é™ã®ãƒã‚§ãƒƒã‚¯\n- å£Šã‚ŒãŸãƒªãƒ³ã‚¯ã®æ¤œå‡º\n\n## æ³¨æ„ç‚¹\n\n- **ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆæ¨©é™** - ãƒã‚§ãƒƒã‚¯å¯¾è±¡ãƒ•ã‚¡ã‚¤ãƒ«ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹æ¨©é™ãŒå¿…è¦\n- **APIã‚¯ã‚©ãƒ¼ã‚¿** - é »ç¹ã«ãƒã‚§ãƒƒã‚¯ã™ã‚‹ã¨ã‚¯ã‚©ãƒ¼ã‚¿è¶…éã®å¯èƒ½æ€§\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `decision_tech_google_sheets_api_v4_2025_11_24.md` - Google Sheets API v4é¸æŠ\n- `decision_arch_multi_spreadsheet_management_2025_11_24.md` - è¤‡æ•°ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆç®¡ç†è¨­è¨ˆ\n",
    "prompt": "```typescript\n// API Routeã§ã®ä½¿ç”¨ä¾‹\nexport async function POST(request: Request) {\n  const { driveUrl } = await request.json();\n\n  const validation = await validateDriveUrl(driveUrl);\n\n  if (!validation.valid) {\n    return NextResponse.json(\n      { success: false, error: validation.error },\n      { status: 400 }\n    );\n  }\n\n  return NextResponse.json({ success: true, message: 'URL is valid' });\n}\n```",
    "relatedTech": [
      "decision-tech-google-sheets-api-v4",
      "decision-arch-multi-spreadsheet-management"
    ]
  },
  {
    "slug": "google-news-rss-scraping",
    "title": "Google News RSSã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°",
    "category": "Skillsï¼ˆã‚¹ã‚­ãƒ«ãƒ»æ‰‹æ³•ï¼‰",
    "description": "Google News RSSãƒ•ã‚£ãƒ¼ãƒ‰ã‹ã‚‰æœ€æ–°ã®ãƒˆãƒ¬ãƒ³ãƒ‰ãƒˆãƒ”ãƒƒã‚¯ã‚’å–å¾—ã™ã‚‹æ‰‹æ³•ã€‚APIã‚­ãƒ¼ä¸è¦ã§ã€ã‚«ãƒ†ã‚´ãƒªåˆ¥ã®ãƒ‹ãƒ¥ãƒ¼ã‚¹ã‚¿ã‚¤ãƒˆãƒ«ã‚’å–å¾—ã—ã€ãƒ–ãƒ­ã‚°è¨˜äº‹ã®ãƒ†ãƒ¼ãƒã‚’è‡ªå‹•æ±ºå®šã§ãã‚‹ã€‚",
    "project": "ai-blog-generator",
    "usedIn": [
      "src/lib/trends.ts:19-63"
    ],
    "code": "```json\n{\n  \"id\": \"skill_google_news_rss_scraping_2025_04_22\",\n  \"type\": \"skill\",\n  \"name\": \"Google News RSSã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°\",\n  \"tags\": [\"ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°\", \"Google News\", \"RSS\", \"ãƒˆãƒ¬ãƒ³ãƒ‰\", \"ãƒ‹ãƒ¥ãƒ¼ã‚¹å–å¾—\", \"axios\", \"cheerio\", \"XML\"],\n  \"source_project\": \"ai-blog-generator\",\n  \"source_file\": \"src/lib/trends.ts:19-63\",\n  \"related_knowledge\": [\n    \"skill_fallback_mechanism_external_api_2025_04_22\",\n    \"workflow_blog_auto_generation_flow_2025_04_22\"\n  ],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-04-22\",\n  \"updated\": \"2025-04-22\"\n}\n```\n\n# Google News RSSã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°\n\n## ä½•ã‚’ã™ã‚‹ã‚¹ã‚­ãƒ«ã‹\n\nGoogle News RSSãƒ•ã‚£ãƒ¼ãƒ‰ã‹ã‚‰æœ€æ–°ã®ãƒˆãƒ¬ãƒ³ãƒ‰ãƒˆãƒ”ãƒƒã‚¯ã‚’å–å¾—ã™ã‚‹æ‰‹æ³•ã€‚APIã‚­ãƒ¼ä¸è¦ã§ã€ã‚«ãƒ†ã‚´ãƒªåˆ¥ã®ãƒ‹ãƒ¥ãƒ¼ã‚¹ã‚¿ã‚¤ãƒˆãƒ«ã‚’å–å¾—ã—ã€ãƒ–ãƒ­ã‚°è¨˜äº‹ã®ãƒ†ãƒ¼ãƒã‚’è‡ªå‹•æ±ºå®šã§ãã‚‹ã€‚\n\n## å…·ä½“çš„ãªæ‰‹æ³•\n\n### 1. ã‚«ãƒ†ã‚´ãƒªåˆ¥ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã®å®šç¾©\n\n```typescript\nconst CATEGORY_KEYWORDS: Record<string, string[]> = {\n  'ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°': ['programming', 'typescript', 'javascript', 'react', 'nextjs', 'coding'],\n  'ã‚¦ã‚§ãƒ–é–‹ç™º': ['web development', 'frontend', 'backend', 'full stack', 'web design'],\n  'AIæŠ€è¡“': ['ai', 'artificial intelligence', 'machine learning', 'llm', 'nlp'],\n  'ã‚­ãƒ£ãƒªã‚¢': ['tech career', 'software engineer', 'it jobs', 'developer skills'],\n  'ãƒ“ã‚¸ãƒã‚¹': ['startups', 'tech business', 'saas', 'digital transformation'],\n};\n```\n\n**ãªãœè¤‡æ•°ã®ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‚’ç”¨æ„ã™ã‚‹ã‹**ï¼š\n- åŒã˜ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã ã¨æ¯å›åŒã˜ãƒ‹ãƒ¥ãƒ¼ã‚¹ãŒå–å¾—ã•ã‚Œã‚‹\n- ãƒ©ãƒ³ãƒ€ãƒ ã«é¸ã¶ã“ã¨ã§å¤šæ§˜ãªãƒˆãƒ”ãƒƒã‚¯ã‚’å–å¾—ã§ãã‚‹\n\n### 2. Google News RSS URLã®æ§‹ç¯‰\n\n```typescript\nconst keyword = categoryKeywords[Math.floor(Math.random() * categoryKeywords.length)];\nconst url = `https://news.google.com/rss/search?q=${encodeURIComponent(keyword)}&hl=ja&gl=JP&ceid=JP:ja`;\n```\n\n**URLãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿**ï¼š\n- `q`: æ¤œç´¢ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰\n- `hl=ja`: è¨€èªï¼ˆæ—¥æœ¬èªï¼‰\n- `gl=JP`: åœ°åŸŸï¼ˆæ—¥æœ¬ï¼‰\n- `ceid=JP:ja`: ã‚¨ãƒ‡ã‚£ã‚·ãƒ§ãƒ³ï¼ˆæ—¥æœ¬ãƒ»æ—¥æœ¬èªï¼‰\n\n### 3. RSS ãƒ•ã‚£ãƒ¼ãƒ‰ã®å–å¾—ã¨ãƒ‘ãƒ¼ã‚¹\n\n```typescript\nimport axios from 'axios';\nimport * as cheerio from 'cheerio';\n\nconst response = await axios.get(url);\nconst $ = cheerio.load(response.data, { xmlMode: true });\n\nconst titles: string[] = [];\n$('item title').each((i, elem) => {\n  const title = $(elem).text();\n  if (title && titles.length < count) {\n    titles.push(title);\n  }\n});\n```\n\n**ãªãœcheerioã‚’ä½¿ã†ã‹**ï¼š\n- XMLãƒ‘ãƒ¼ã‚¹ãŒå®¹æ˜“\n- jQueryãƒ©ã‚¤ã‚¯ãªAPIã§ç›´æ„Ÿçš„\n- è»½é‡ã§é«˜é€Ÿ\n\n### 4. ãƒˆãƒ”ãƒƒã‚¯ã®æ‹¡å¼µ\n\nå–å¾—ã—ãŸãƒ‹ãƒ¥ãƒ¼ã‚¹ã‚¿ã‚¤ãƒˆãƒ«ã‚’ãã®ã¾ã¾ä½¿ã†ã®ã§ã¯ãªãã€ã‚«ãƒ†ã‚´ãƒªã«åˆã‚ã›ã¦æ‹¡å¼µã™ã‚‹ï¼š\n\n```typescript\nfunction enhanceTopicForCategory(topic: string, category: string): string {\n  const templates: Record<string, string[]> = {\n    'ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°': [\n      `${topic}ã‚’æ´»ç”¨ã—ãŸæœ€æ–°ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°æ‰‹æ³•`,\n      `${topic}ã®åŸºç¤ã‹ã‚‰å¿œç”¨ã¾ã§`,\n      `${topic}ã‚’ä½¿ã£ãŸåŠ¹ç‡çš„ãªé–‹ç™ºãƒ†ã‚¯ãƒ‹ãƒƒã‚¯`,\n    ],\n    // ...\n  };\n\n  const categoryTemplates = templates[category] || templates['ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°'];\n  const template = categoryTemplates[Math.floor(Math.random() * categoryTemplates.length)];\n\n  return template;\n}\n```\n\n**ãªãœæ‹¡å¼µã™ã‚‹ã‹**ï¼š\n- Google Newsã®ã‚¿ã‚¤ãƒˆãƒ«ã¯çŸ­ã™ãã‚‹ï¼ˆä¾‹ï¼šã€ŒTypeScriptæ¡ˆä»¶ã®å¹³å‡å¹´åã€ï¼‰\n- ã‚«ãƒ†ã‚´ãƒªã«åˆã‚ã›ãŸæ–‡è„ˆã‚’è¿½åŠ ï¼ˆä¾‹ï¼šã€ŒTypeScriptæ¡ˆä»¶ã®å¹³å‡å¹´åã«é–¢é€£ã™ã‚‹ã‚­ãƒ£ãƒªã‚¢ãƒ‘ã‚¹ã¨æˆé•·æˆ¦ç•¥ã€ï¼‰\n- ã‚ˆã‚Šå…·ä½“çš„ãªãƒˆãƒ”ãƒƒã‚¯ã«ãªã‚Šã€è¨˜äº‹ã®è³ªãŒå‘ä¸Š\n\n## ãªãœã“ã®æ‰‹æ³•ã‚’ä½¿ã†ã‹\n\n### ç†ç”±1ï¼šGoogle Trends APIã¯å…¬å¼ã«æä¾›ã•ã‚Œã¦ã„ãªã„\n\n- éå…¬å¼ãƒ©ã‚¤ãƒ–ãƒ©ãƒªï¼ˆgoogle-trends-apiï¼‰ã¯ä¸å®‰å®š\n- RSS feedã¯å…¬é–‹ã•ã‚Œã¦ãŠã‚Šã€APIã‚­ãƒ¼ä¸è¦\n- ä»•æ§˜å¤‰æ›´ã®ãƒªã‚¹ã‚¯ãŒä½ã„\n\n### ç†ç”±2ï¼šãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã®ãƒˆãƒ¬ãƒ³ãƒ‰ã‚’åæ˜ ã§ãã‚‹\n\n- æœ€æ–°ã®ãƒ‹ãƒ¥ãƒ¼ã‚¹ã‚’è‡ªå‹•å–å¾—\n- æ™‚äº‹æ€§ã®é«˜ã„è¨˜äº‹ã‚’ç”Ÿæˆã§ãã‚‹\n- èª­è€…ã®é–¢å¿ƒäº‹ã«åˆã£ãŸè¨˜äº‹ã‚’ä½œæˆã§ãã‚‹\n\n### ç†ç”±3ï¼šå¤šæ§˜ãªãƒˆãƒ”ãƒƒã‚¯ã‚’å–å¾—ã§ãã‚‹\n\n- ã‚«ãƒ†ã‚´ãƒªåˆ¥ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã§é–¢é€£ãƒ‹ãƒ¥ãƒ¼ã‚¹å–å¾—\n- ãƒ©ãƒ³ãƒ€ãƒ é¸æŠã§æ¯å›ç•°ãªã‚‹ãƒˆãƒ”ãƒƒã‚¯\n- è¨˜äº‹ã®å¤šæ§˜æ€§ãŒç¢ºä¿ã•ã‚Œã‚‹\n\n## å†ç¾æ–¹æ³•\n\n### å¿…è¦ãªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸\n\n```bash\nnpm install axios cheerio\n```\n\n### å®Ÿè£…ã‚³ãƒ¼ãƒ‰\n\n```typescript\nimport axios from 'axios';\nimport * as cheerio from 'cheerio';\n\nexport async function fetchTrendingTopics(category: string, count: number = 5): Promise<string[]> {\n  try {\n    // 1. ã‚«ãƒ†ã‚´ãƒªã®ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‚’å–å¾—\n    const categoryKeywords = CATEGORY_KEYWORDS[category] || CATEGORY_KEYWORDS['ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°'];\n\n    // 2. ãƒ©ãƒ³ãƒ€ãƒ ã«ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‚’é¸æŠ\n    const keyword = categoryKeywords[Math.floor(Math.random() * categoryKeywords.length)];\n\n    // 3. Google News RSS URL\n    const url = `https://news.google.com/rss/search?q=${encodeURIComponent(keyword)}&hl=ja&gl=JP&ceid=JP:ja`;\n\n    // 4. RSSãƒ•ã‚£ãƒ¼ãƒ‰ã‚’å–å¾—\n    const response = await axios.get(url);\n\n    // 5. XMLã‚’ãƒ‘ãƒ¼ã‚¹\n    const $ = cheerio.load(response.data, { xmlMode: true });\n\n    // 6. ã‚¿ã‚¤ãƒˆãƒ«ã‚’æŠ½å‡º\n    const titles: string[] = [];\n    $('item title').each((i, elem) => {\n      const title = $(elem).text();\n      if (title && titles.length < count) {\n        titles.push(title);\n      }\n    });\n\n    // 7. ä¸è¶³åˆ†ã¯ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ãƒˆãƒ”ãƒƒã‚¯ã§è£œå®Œ\n    while (titles.length < count) {\n      titles.push(generateFallbackTopic(category));\n    }\n\n    // 8. ã‚«ãƒ†ã‚´ãƒªã«åˆã‚ã›ã¦ãƒˆãƒ”ãƒƒã‚¯ã‚’æ‹¡å¼µ\n    const enhancedTopics = titles.map(title =>\n      enhanceTopicForCategory(title, category)\n    );\n\n    return enhancedTopics;\n  } catch (error) {\n    console.error('ãƒˆãƒ¬ãƒ³ãƒ‰ãƒˆãƒ”ãƒƒã‚¯å–å¾—ã‚¨ãƒ©ãƒ¼:', error);\n\n    // ã‚¨ãƒ©ãƒ¼æ™‚ã¯å®Œå…¨ã«ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯\n    const topics = [];\n    for (let i = 0; i < count; i++) {\n      topics.push(generateFallbackTopic(category));\n    }\n    return topics;\n  }\n}\n```\n\n## ã„ã¤ä½¿ã†ã‹\n\n- ãƒ–ãƒ­ã‚°è¨˜äº‹ã®ãƒˆãƒ”ãƒƒã‚¯ã‚’è‡ªå‹•æ±ºå®šã—ãŸã„å ´åˆ\n- æœ€æ–°ã®ãƒˆãƒ¬ãƒ³ãƒ‰ã‚’åæ˜ ã—ãŸã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ä½œã‚ŠãŸã„å ´åˆ\n- APIã‚­ãƒ¼ãªã—ã§ãƒ‹ãƒ¥ãƒ¼ã‚¹ã‚’å–å¾—ã—ãŸã„å ´åˆ\n- æ—¥æœ¬èªã®ãƒ‹ãƒ¥ãƒ¼ã‚¹ãƒ»ãƒˆãƒ”ãƒƒã‚¯ã‚’å–å¾—ã—ãŸã„å ´åˆ\n\n## æ³¨æ„ç‚¹\n\n### æ³¨æ„ç‚¹1ï¼šRSS ãƒ•ã‚£ãƒ¼ãƒ‰ã¯100%ä¿¡é ¼ã§ããªã„\n\nGoogle News RSSã¯ï¼š\n- çªç„¶ã®APIå¤‰æ›´ãƒªã‚¹ã‚¯\n- ãƒ¬ãƒ¼ãƒˆåˆ¶é™ã®å¯èƒ½æ€§\n- ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¨ãƒ©ãƒ¼\n\nâ†’ å¿…ãšãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯æ©Ÿæ§‹ã‚’ç”¨æ„ã™ã‚‹ï¼ˆé–¢é€£çŸ¥è­˜å‚ç…§ï¼‰\n\n### æ³¨æ„ç‚¹2ï¼šXMLãƒ‘ãƒ¼ã‚¹ã¯ xmlMode: true ãŒå¿…é ˆ\n\n```typescript\n// âŒ é–“é•ã„\nconst $ = cheerio.load(response.data);\n\n// âœ… æ­£ã—ã„\nconst $ = cheerio.load(response.data, { xmlMode: true });\n```\n\nxmlMode: true ãŒãªã„ã¨ã€HTMLã¨ã—ã¦è§£é‡ˆã•ã‚Œã¦ã‚¨ãƒ©ãƒ¼ã«ãªã‚‹ã€‚\n\n### æ³¨æ„ç‚¹3ï¼šã‚¿ã‚¤ãƒˆãƒ«ã¯ãã®ã¾ã¾ä½¿ã‚ãªã„\n\nGoogle Newsã®ã‚¿ã‚¤ãƒˆãƒ«ï¼š\n```\nTypeScriptæ¡ˆä»¶ã®å¹³å‡å¹´å\n```\n\nã‚«ãƒ†ã‚´ãƒªã«åˆã‚ã›ã¦æ‹¡å¼µï¼š\n```\nTypeScriptæ¡ˆä»¶ã®å¹³å‡å¹´åã«é–¢é€£ã™ã‚‹ã‚­ãƒ£ãƒªã‚¢ãƒ‘ã‚¹ã¨æˆé•·æˆ¦ç•¥\n```\n\nâ†’ ã‚ˆã‚Šå…·ä½“çš„ã§è¨˜äº‹ã¨ã—ã¦æˆç«‹ã™ã‚‹\n\n### æ³¨æ„ç‚¹4ï¼šencodeURIComponent ã‚’å¿˜ã‚Œãšã«\n\n```typescript\n// âŒ é–“é•ã„ï¼ˆæ—¥æœ¬èªãŒã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ã•ã‚Œãªã„ï¼‰\nconst url = `https://news.google.com/rss/search?q=${keyword}`;\n\n// âœ… æ­£ã—ã„\nconst url = `https://news.google.com/rss/search?q=${encodeURIComponent(keyword)}`;\n```\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `skill_fallback_mechanism_external_api_2025_04_22.md` - ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯æ©Ÿæ§‹ï¼ˆå¿…é ˆï¼‰\n- `workflow_blog_auto_generation_flow_2025_04_22.md` - ã“ã®ã‚¹ã‚­ãƒ«ã‚’ä½¿ã†ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼\n",
    "prompt": "### å¿…è¦ãªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸\n\n```bash\nnpm install axios cheerio\n```\n\n### å®Ÿè£…ã‚³ãƒ¼ãƒ‰\n\n```typescript\nimport axios from 'axios';\nimport * as cheerio from 'cheerio';\n\nexport async function fetchTrendingTopics(category: string, count: number = 5): Promise<string[]> {\n  try {\n    // 1. ã‚«ãƒ†ã‚´ãƒªã®ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‚’å–å¾—\n    const categoryKeywords = CATEGORY_KEYWORDS[category] || CATEGORY_KEYWORDS['ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°'];\n\n    // 2. ãƒ©ãƒ³ãƒ€ãƒ ã«ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‚’é¸æŠ\n    const keyword = categoryKeywords[Math.floor(Math.random() * categoryKeywords.length)];\n\n    // 3. Google News RSS URL\n    const url = `https://news.google.com/rss/search?q=${encodeURIComponent(keyword)}&hl=ja&gl=JP&ceid=JP:ja`;\n\n    // 4. RSSãƒ•ã‚£ãƒ¼ãƒ‰ã‚’å–å¾—\n    const response = await axios.get(url);\n\n    // 5. XMLã‚’ãƒ‘ãƒ¼ã‚¹\n    const $ = cheerio.load(response.data, { xmlMode: true });\n\n    // 6. ã‚¿ã‚¤ãƒˆãƒ«ã‚’æŠ½å‡º\n    const titles: string[] = [];\n    $('item title').each((i, elem) => {\n      const title = $(elem).text();\n      if (title && titles.length < count) {\n        titles.push(title);\n      }\n    });\n\n    // 7. ä¸è¶³åˆ†ã¯ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ãƒˆãƒ”ãƒƒã‚¯ã§è£œå®Œ\n    while (titles.length < count) {\n      titles.push(generateFallbackTopic(category));\n    }\n\n    // 8. ã‚«ãƒ†ã‚´ãƒªã«åˆã‚ã›ã¦ãƒˆãƒ”ãƒƒã‚¯ã‚’æ‹¡å¼µ\n    const enhancedTopics = titles.map(title =>\n      enhanceTopicForCategory(title, category)\n    );\n\n    return enhancedTopics;\n  } catch (error) {\n    console.error('ãƒˆãƒ¬ãƒ³ãƒ‰ãƒˆãƒ”ãƒƒã‚¯å–å¾—ã‚¨ãƒ©ãƒ¼:', error);\n\n    // ã‚¨ãƒ©ãƒ¼æ™‚ã¯å®Œå…¨ã«ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯\n    const topics = [];\n    for (let i = 0; i < count; i++) {\n      topics.push(generateFallbackTopic(category));\n    }\n    return topics;\n  }\n}\n```",
    "relatedTech": [
      "skill-fallback-mechanism-external-api",
      "workflow-blog-auto-generation-flow"
    ]
  },
  {
    "slug": "google-sheets-a1-notation",
    "title": "Google Sheets A1è¡¨è¨˜æ³•ã«ã‚ˆã‚‹ãƒ¬ãƒ³ã‚¸æŒ‡å®š",
    "category": "Skillsï¼ˆã‚¹ã‚­ãƒ«ãƒ»æ‰‹æ³•ï¼‰",
    "description": "Google Sheets APIã§ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã™ã‚‹éš›ã«ã€A1è¡¨è¨˜æ³•ã‚’ä½¿ã£ã¦ã‚·ãƒ¼ãƒˆåã¨ã‚»ãƒ«ç¯„å›²ã‚’æŒ‡å®šã™ã‚‹æ‰‹æ³•ã€‚",
    "project": "yumesuta-management-system",
    "usedIn": [
      "lib/google-sheets.ts:176-223, app/api/sales-kpi/route.ts:26-34"
    ],
    "code": "```json\n{\n  \"id\": \"skill_google_sheets_a1_notation_2025_11_24\",\n  \"type\": \"skill\",\n  \"name\": \"Google Sheets A1è¡¨è¨˜æ³•ã«ã‚ˆã‚‹ãƒ¬ãƒ³ã‚¸æŒ‡å®š\",\n  \"tags\": [\"Google Sheets\", \"API\", \"ãƒ‡ãƒ¼ã‚¿å–å¾—\", \"ç¯„å›²æŒ‡å®š\", \"A1è¡¨è¨˜æ³•\", \"ã‚»ãƒ«ç¯„å›²\"],\n  \"source_project\": \"yumesuta-management-system\",\n  \"source_file\": \"lib/google-sheets.ts:176-223, app/api/sales-kpi/route.ts:26-34\",\n  \"related_knowledge\": [\n    \"skill_google_sheets_service_account_auth_2025_11_24\",\n    \"skill_google_sheets_batch_fetch_2025_11_24\",\n    \"decision_tech_google_sheets_api_v4_2025_11_24\"\n  ],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-24\",\n  \"updated\": \"2025-11-24\"\n}\n```\n\n# Google Sheets A1è¡¨è¨˜æ³•ã«ã‚ˆã‚‹ãƒ¬ãƒ³ã‚¸æŒ‡å®š\n\n## ä½•ã‚’ã™ã‚‹ã‚¹ã‚­ãƒ«ã‹\n\nGoogle Sheets APIã§ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã™ã‚‹éš›ã«ã€A1è¡¨è¨˜æ³•ã‚’ä½¿ã£ã¦ã‚·ãƒ¼ãƒˆåã¨ã‚»ãƒ«ç¯„å›²ã‚’æŒ‡å®šã™ã‚‹æ‰‹æ³•ã€‚\n\n## å…·ä½“çš„ãªæ‰‹æ³•\n\n### A1è¡¨è¨˜æ³•ã®åŸºæœ¬æ§‹æ–‡\n\n```\nã‚·ãƒ¼ãƒˆå!é–‹å§‹ã‚»ãƒ«:çµ‚äº†ã‚»ãƒ«\n```\n\n### å®Ÿéš›ã®ä½¿ç”¨ä¾‹\n\n#### 1. å˜ä¸€ã‚·ãƒ¼ãƒˆã‹ã‚‰ã®ãƒ‡ãƒ¼ã‚¿å–å¾—\n\n```typescript\n// KPIãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã‚·ãƒ¼ãƒˆã®A1ã‹ã‚‰K25ã¾ã§ã‚’å–å¾—\nawait getSheetData(spreadsheetId, 'KPIãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰!A1:K25');\n\n// æœˆæ¬¡äºˆå®Ÿç®¡ç†ã‚·ãƒ¼ãƒˆã®A1ã‹ã‚‰W15ã¾ã§ã‚’å–å¾—\nawait getSheetData(spreadsheetId, 'æœˆæ¬¡äºˆå®Ÿç®¡ç†!A1:W15');\n\n// é¡§å®¢ãƒã‚¹ã‚¿ã‚·ãƒ¼ãƒˆã®A1ã‹ã‚‰S100ã¾ã§ã‚’å–å¾—\nawait getSheetData(spreadsheetId, 'é¡§å®¢ãƒã‚¹ã‚¿!A1:S100');\n```\n\n#### 2. è¤‡æ•°ã‚·ãƒ¼ãƒˆã‹ã‚‰ã®ãƒãƒƒãƒå–å¾—\n\n```typescript\nconst [kpiData, monthlyData, customerData, statusColumn] = await getBatchSheetData(\n  spreadsheetId,\n  [\n    'KPIãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰!A1:K25',  // KPIæŒ‡æ¨™\n    'æœˆæ¬¡äºˆå®Ÿç®¡ç†!A1:W15',        // æœˆæ¬¡å®Ÿç¸¾\n    'é¡§å®¢ãƒã‚¹ã‚¿!A1:S100',         // é¡§å®¢æƒ…å ±\n    'é¡§å®¢ãƒã‚¹ã‚¿!R1:R100',         // ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹åˆ—ã®ã¿\n  ]\n);\n```\n\n#### 3. ç‰¹å®šã®åˆ—ã®ã¿å–å¾—\n\n```typescript\n// Råˆ—ï¼ˆã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹åˆ—ï¼‰ã®ã¿å–å¾—\nawait getSheetData(spreadsheetId, 'é¡§å®¢ãƒã‚¹ã‚¿!R1:R100');\n\n// Båˆ—ã‹ã‚‰Eåˆ—ã¾ã§ã®ç¯„å›²\nawait getSheetData(spreadsheetId, 'æ–°å·¥ç¨‹ãƒã‚¹ã‚¿ãƒ¼_V2!B1:E200');\n```\n\n#### 4. ãƒ¯ã‚¤ãƒ‰ãƒ¬ãƒ³ã‚¸ã®å–å¾—\n\n```typescript\n// æ¨ªæŒã¡æ§‹é€ ã®åºƒã„ç¯„å›²ï¼ˆAåˆ—ã‹ã‚‰GVåˆ—ã¾ã§ï¼‰\nawait getSheetData(spreadsheetId, 'é€²æ—å…¥åŠ›ã‚·ãƒ¼ãƒˆ_V2!A1:GV100');\n```\n\n### A1è¡¨è¨˜æ³•ã®ãƒãƒªã‚¨ãƒ¼ã‚·ãƒ§ãƒ³\n\n| è¨˜æ³• | èª¬æ˜ | ä¾‹ |\n|------|------|-----|\n| `ã‚·ãƒ¼ãƒˆå!A1:Z100` | åŸºæœ¬å½¢ï¼ˆé–‹å§‹ã€œçµ‚äº†ï¼‰ | `'KPIãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰!A1:K25'` |\n| `ã‚·ãƒ¼ãƒˆå!R:R` | åˆ—å…¨ä½“ | `'é¡§å®¢ãƒã‚¹ã‚¿!R:R'` |\n| `ã‚·ãƒ¼ãƒˆå!1:10` | è¡Œå…¨ä½“ | `'KPIãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰!1:10'` |\n| `ã‚·ãƒ¼ãƒˆå!A:Z` | è¤‡æ•°åˆ—å…¨ä½“ | `'æœˆæ¬¡äºˆå®Ÿç®¡ç†!A:W'` |\n| `ã‚·ãƒ¼ãƒˆå` | ã‚·ãƒ¼ãƒˆå…¨ä½“ | `'ä¼æ¥­ãƒã‚¹ã‚¿ãƒ¼'` |\n\n## ãªãœã“ã®æ‰‹æ³•ã‚’ä½¿ã†ã‹\n\n### ç†ç”±1: æ˜ç¤ºçš„ãªç¯„å›²æŒ‡å®šã§APIãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’æœ€é©åŒ–\n\nä¸è¦ãªãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã—ãªã„ã“ã¨ã§ã€APIã‚¯ã‚©ãƒ¼ã‚¿ã‚’ç¯€ç´„ã§ãã‚‹ã€‚\n\n**ä¾‹**: é¡§å®¢ãƒã‚¹ã‚¿å…¨ä½“ã§ã¯ãªãã€å¿…è¦ãªåˆ—ï¼ˆRåˆ—ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã®ã¿ï¼‰ã‚’å–å¾—ï¼š\n```typescript\n// âŒ æ‚ªã„ä¾‹: å…¨åˆ—ã‚’å–å¾—ï¼ˆ18åˆ— Ã— 100è¡Œ = 1,800ã‚»ãƒ«ï¼‰\nawait getSheetData(spreadsheetId, 'é¡§å®¢ãƒã‚¹ã‚¿!A1:S100');\n\n// âœ… è‰¯ã„ä¾‹: å¿…è¦ãªåˆ—ã®ã¿ï¼ˆ1åˆ— Ã— 100è¡Œ = 100ã‚»ãƒ«ï¼‰\nawait getSheetData(spreadsheetId, 'é¡§å®¢ãƒã‚¹ã‚¿!R1:R100');\n```\n\nâ†’ **95%ã®ãƒ‡ãƒ¼ã‚¿å–å¾—å‰Šæ¸›**\n\n### ç†ç”±2: ã‚·ãƒ¼ãƒˆåã‚’å«ã‚ã‚‹ã“ã¨ã§è¤‡æ•°ã‚·ãƒ¼ãƒˆã‚’æ‰±ãˆã‚‹\n\nåŒã˜ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆå†…ã®è¤‡æ•°ã‚·ãƒ¼ãƒˆã‹ã‚‰ä¸€åº¦ã«ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—å¯èƒ½ã€‚\n\n```typescript\n// 3ã¤ã®ç•°ãªã‚‹ã‚·ãƒ¼ãƒˆã‹ã‚‰åŒæ™‚å–å¾—\nconst [kpi, monthly, customer] = await getBatchSheetData(\n  spreadsheetId,\n  [\n    'KPIãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰!A1:K25',\n    'æœˆæ¬¡äºˆå®Ÿç®¡ç†!A1:W15',\n    'é¡§å®¢ãƒã‚¹ã‚¿!A1:S100',\n  ]\n);\n```\n\n### ç†ç”±3: æ—¥æœ¬èªã‚·ãƒ¼ãƒˆåã«å¯¾å¿œ\n\nGoogle Sheets APIã¯æ—¥æœ¬èªã‚·ãƒ¼ãƒˆåã‚’ãã®ã¾ã¾å—ã‘ä»˜ã‘ã‚‹ï¼ˆãŸã ã—URLé€ä¿¡æ™‚ã¯ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰å¿…è¦ï¼‰ã€‚\n\n```typescript\n// æ—¥æœ¬èªã‚·ãƒ¼ãƒˆåã‚‚ä½¿ç”¨å¯èƒ½\nawait getSheetData(spreadsheetId, 'KPIãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰!A1:K25');\nawait getSheetData(spreadsheetId, 'é€²æ—å…¥åŠ›ã‚·ãƒ¼ãƒˆ_V2!A1:GV100');\nawait getSheetData(spreadsheetId, 'æ–°å·¥ç¨‹ãƒã‚¹ã‚¿ãƒ¼_V2!A1:F200');\n```\n\n## å†ç¾æ–¹æ³•\n\n### ã‚¹ãƒ†ãƒƒãƒ—1: getSheetDataé–¢æ•°ã®ä½¿ç”¨\n\n```typescript\nimport { getSheetData } from '@/lib/google-sheets';\n\nconst spreadsheetId = process.env.YUMEMAGA_SPREADSHEET_ID!;\nconst range = 'KPIãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰!A1:K25';\n\nconst data = await getSheetData(spreadsheetId, range);\n// data: any[][] (2æ¬¡å…ƒé…åˆ—)\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2: ãƒãƒƒãƒå–å¾—ã®ä½¿ç”¨\n\n```typescript\nimport { getBatchSheetData } from '@/lib/google-sheets';\n\nconst spreadsheetId = process.env.SALES_SPREADSHEET_ID!;\nconst ranges = [\n  'KPIãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰!A1:K25',\n  'æœˆæ¬¡äºˆå®Ÿç®¡ç†!A1:W15',\n  'é¡§å®¢ãƒã‚¹ã‚¿!A1:S100',\n];\n\nconst [kpiData, monthlyData, customerData] = await getBatchSheetData(\n  spreadsheetId,\n  ranges\n);\n// å„ãƒ‡ãƒ¼ã‚¿: any[][]\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3: å‹•çš„ãªãƒ¬ãƒ³ã‚¸ç”Ÿæˆ\n\n```typescript\n// ã‚·ãƒ¼ãƒˆåã¨ãƒ¬ãƒ³ã‚¸ã‚’å‹•çš„ã«ç”Ÿæˆ\nconst sheetName = 'ä¼æ¥­ãƒã‚¹ã‚¿ãƒ¼';\nconst range = `${sheetName}!A1:Z100`;\n\nconst data = await getSheetData(spreadsheetId, range);\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—4: URLé€ä¿¡æ™‚ã®ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ï¼ˆAPI Routeã§ã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¨ã—ã¦ä½¿ã†å ´åˆï¼‰\n\n```bash\n# æ—¥æœ¬èªã‚·ãƒ¼ãƒˆåã¯URLã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ãŒå¿…è¦\n# \"ä¼æ¥­ãƒã‚¹ã‚¿ãƒ¼\" â†’ \"%E4%BC%81%E6%A5%AD%E3%83%9E%E3%82%B9%E3%82%BF%E3%83%BC\"\ncurl \"http://127.0.0.1:3000/api/yumemaga-sheets?sheet=%E4%BC%81%E6%A5%AD%E3%83%9E%E3%82%B9%E3%82%BF%E3%83%BC\"\n```\n\n## ã„ã¤ä½¿ã†ã‹\n\n### å ´é¢1: APIã‹ã‚‰ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã™ã‚‹å…¨ã¦ã®å ´é¢\n\nGoogle Sheets API v4ã§ã¯ã€A1è¡¨è¨˜æ³•ãŒæ¨™æº–çš„ãªãƒ¬ãƒ³ã‚¸æŒ‡å®šæ–¹æ³•ã€‚\n\n### å ´é¢2: APIã‚¯ã‚©ãƒ¼ã‚¿ã‚’ç¯€ç´„ã—ãŸã„ã¨ã\n\nå¿…è¦æœ€å°é™ã®ç¯„å›²ã‚’æŒ‡å®šã™ã‚‹ã“ã¨ã§ã€ç„¡é§„ãªãƒ‡ãƒ¼ã‚¿å–å¾—ã‚’é¿ã‘ã‚‹ã€‚\n\n**ä¾‹**: æ±ºç®—æ›¸ãƒšãƒ¼ã‚¸ã§6ã¤ã®ç•°ãªã‚‹ç¯„å›²ã‚’å€‹åˆ¥å–å¾—\n```typescript\nconst [\n  actualRevenue,\n  actualExpense,\n  actualProfit,\n  plannedRevenue,\n  plannedExpense,\n  plannedProfit\n] = await getBatchSheetData(spreadsheetId, [\n  'æ±ºç®—æ›¸!B3:M3',   // å®Ÿç¸¾å£²ä¸Šï¼ˆ1è¡ŒÃ—12åˆ— = 12ã‚»ãƒ«ï¼‰\n  'æ±ºç®—æ›¸!B4:M4',   // å®Ÿç¸¾çµŒè²»ï¼ˆ12ã‚»ãƒ«ï¼‰\n  'æ±ºç®—æ›¸!B5:M5',   // å®Ÿç¸¾åˆ©ç›Šï¼ˆ12ã‚»ãƒ«ï¼‰\n  'æ±ºç®—æ›¸!B8:M8',   // äºˆç®—å£²ä¸Šï¼ˆ12ã‚»ãƒ«ï¼‰\n  'æ±ºç®—æ›¸!B9:M9',   // äºˆç®—çµŒè²»ï¼ˆ12ã‚»ãƒ«ï¼‰\n  'æ±ºç®—æ›¸!B10:M10', // äºˆç®—åˆ©ç›Šï¼ˆ12ã‚»ãƒ«ï¼‰\n]);\n// åˆè¨ˆ: 72ã‚»ãƒ«ï¼ˆå¿…è¦æœ€å°é™ï¼‰\n```\n\n### å ´é¢3: è¤‡æ•°ã‚·ãƒ¼ãƒˆã‹ã‚‰é–¢é€£ãƒ‡ãƒ¼ã‚¿ã‚’åŒæ™‚å–å¾—ã—ãŸã„ã¨ã\n\nãƒãƒƒãƒå–å¾—ã«ã‚ˆã‚Šã€1å›ã®APIã‚³ãƒ¼ãƒ«ã§è¤‡æ•°ã‚·ãƒ¼ãƒˆã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã€‚\n\n## æ³¨æ„ç‚¹\n\n### æ³¨æ„ç‚¹1: ç¯„å›²æŒ‡å®šã¯å¸¸ã«å·¦ä¸Šã‹ã‚‰å³ä¸‹\n\nç¯„å›²ã¯ `A1:Z100` ã®ã‚ˆã†ã«ã€å·¦ä¸Šã®ã‚»ãƒ«ã‹ã‚‰å³ä¸‹ã®ã‚»ãƒ«ã‚’æŒ‡å®šã™ã‚‹ã€‚é€†é †ï¼ˆ`Z100:A1`ï¼‰ã¯å‹•ä½œã—ãªã„ã€‚\n\n```typescript\n// âœ… æ­£ã—ã„\n'KPIãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰!A1:K25'\n\n// âŒ é–“é•ã„\n'KPIãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰!K25:A1'\n```\n\n### æ³¨æ„ç‚¹2: ã‚·ãƒ¼ãƒˆåã«ã‚¹ãƒšãƒ¼ã‚¹ã‚„ç‰¹æ®Šæ–‡å­—ãŒã‚ã‚‹å ´åˆã¯ã‚·ãƒ³ã‚°ãƒ«ã‚¯ã‚©ãƒ¼ãƒˆã§å›²ã‚€\n\n```typescript\n// ã‚¹ãƒšãƒ¼ã‚¹ãŒã‚ã‚‹å ´åˆ\n\"'Sheet Name with Space'!A1:Z100\"\n\n// ç‰¹æ®Šæ–‡å­—ãŒã‚ã‚‹å ´åˆ\n\"'Sheet-Name_V2'!A1:Z100\"\n```\n\nï¼ˆãŸã ã—ã€ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯ã‚·ãƒ¼ãƒˆåã«ã‚¹ãƒšãƒ¼ã‚¹ãŒå«ã¾ã‚Œã¦ã„ãªã„ãŸã‚ã€é€šå¸¸ã¯ä¸è¦ï¼‰\n\n### æ³¨æ„ç‚¹3: ç¯„å›²å¤–ã®ã‚»ãƒ«ã‚’æŒ‡å®šã—ã¦ã‚‚ ã‚¨ãƒ©ãƒ¼ã«ãªã‚‰ãªã„\n\næŒ‡å®šç¯„å›²ãŒã‚·ãƒ¼ãƒˆã®å®Ÿéš›ã®ã‚µã‚¤ã‚ºã‚’è¶…ãˆã¦ã„ã¦ã‚‚ã€Google Sheets APIã¯ç©ºé…åˆ—ã‚’è¿”ã™ã ã‘ã§ã‚¨ãƒ©ãƒ¼ã«ãªã‚‰ãªã„ã€‚\n\n```typescript\n// ã‚·ãƒ¼ãƒˆãŒ10è¡Œã—ã‹ãªã„å ´åˆã§ã‚‚å‹•ä½œ\nawait getSheetData(spreadsheetId, 'KPIãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰!A1:K100');\n// â†’ 10è¡Œã¾ã§å–å¾—ã€æ®‹ã‚Šã¯ç©º\n```\n\n### æ³¨æ„ç‚¹4: APIã‚¯ã‚©ãƒ¼ã‚¿åˆ¶é™ã«æ³¨æ„\n\nGoogle Sheets APIã«ã¯ **60ãƒªã‚¯ã‚¨ã‚¹ãƒˆ/åˆ†** ã®åˆ¶é™ãŒã‚ã‚‹ã€‚A1è¡¨è¨˜æ³•ã§å¿…è¦æœ€å°é™ã®ç¯„å›²ã‚’æŒ‡å®šã—ã€ãƒãƒƒãƒå–å¾—ã‚’æ´»ç”¨ã™ã‚‹ã“ã¨ã§ã€ã‚¯ã‚©ãƒ¼ã‚¿è¶…éã‚’é˜²ãã€‚\n\n**æ‚ªã„ä¾‹**ï¼ˆ36ãƒªã‚¯ã‚¨ã‚¹ãƒˆï¼‰:\n```typescript\n// æ±ºç®—æ›¸ãƒšãƒ¼ã‚¸ã§6ã¤ã®ã‚»ãƒ«ç¯„å›²ã‚’6å›å€‹åˆ¥å–å¾—\nfor (const range of ranges) {\n  await getSheetData(spreadsheetId, range); // 6ãƒªã‚¯ã‚¨ã‚¹ãƒˆ\n}\n```\n\n**è‰¯ã„ä¾‹**ï¼ˆ1ãƒªã‚¯ã‚¨ã‚¹ãƒˆï¼‰:\n```typescript\n// ãƒãƒƒãƒã§ä¸€åº¦ã«å–å¾—\nconst data = await getBatchSheetData(spreadsheetId, ranges); // 1ãƒªã‚¯ã‚¨ã‚¹ãƒˆ\n```\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `skill_google_sheets_service_account_auth_2025_11_24.md`: ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆèªè¨¼ã§A1è¡¨è¨˜æ³•ã‚’ä½¿ç”¨\n- `skill_google_sheets_batch_fetch_2025_11_24.md`: è¤‡æ•°ã®A1è¡¨è¨˜ç¯„å›²ã‚’ä¸€åº¦ã«å–å¾—\n- `decision_tech_google_sheets_api_v4_2025_11_24.md`: Google Sheets API v4é¸æŠã®èƒŒæ™¯\n- `failure_api_quota_exceeded_crisis_2025_11_24.md`: A1è¡¨è¨˜æ³•ã§ç¯„å›²ã‚’æœ€é©åŒ–ã—ã‚¯ã‚©ãƒ¼ã‚¿è¶…éã‚’é˜²ã\n",
    "prompt": "### ã‚¹ãƒ†ãƒƒãƒ—1: getSheetDataé–¢æ•°ã®ä½¿ç”¨\n\n```typescript\nimport { getSheetData } from '@/lib/google-sheets';\n\nconst spreadsheetId = process.env.YUMEMAGA_SPREADSHEET_ID!;\nconst range = 'KPIãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰!A1:K25';\n\nconst data = await getSheetData(spreadsheetId, range);\n// data: any[][] (2æ¬¡å…ƒé…åˆ—)\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2: ãƒãƒƒãƒå–å¾—ã®ä½¿ç”¨\n\n```typescript\nimport { getBatchSheetData } from '@/lib/google-sheets';\n\nconst spreadsheetId = process.env.SALES_SPREADSHEET_ID!;\nconst ranges = [\n  'KPIãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰!A1:K25',\n  'æœˆæ¬¡äºˆå®Ÿç®¡ç†!A1:W15',\n  'é¡§å®¢ãƒã‚¹ã‚¿!A1:S100',\n];\n\nconst [kpiData, monthlyData, customerData] = await getBatchSheetData(\n  spreadsheetId,\n  ranges\n);\n// å„ãƒ‡ãƒ¼ã‚¿: any[][]\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3: å‹•çš„ãªãƒ¬ãƒ³ã‚¸ç”Ÿæˆ\n\n```typescript\n// ã‚·ãƒ¼ãƒˆåã¨ãƒ¬ãƒ³ã‚¸ã‚’å‹•çš„ã«ç”Ÿæˆ\nconst sheetName = 'ä¼æ¥­ãƒã‚¹ã‚¿ãƒ¼';\nconst range = `${sheetName}!A1:Z100`;\n\nconst data = await getSheetData(spreadsheetId, range);\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—4: URLé€ä¿¡æ™‚ã®ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ï¼ˆAPI Routeã§ã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¨ã—ã¦ä½¿ã†å ´åˆï¼‰\n\n```bash\n# æ—¥æœ¬èªã‚·ãƒ¼ãƒˆåã¯URLã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ãŒå¿…è¦\n# \"ä¼æ¥­ãƒã‚¹ã‚¿ãƒ¼\" â†’ \"%E4%BC%81%E6%A5%AD%E3%83%9E%E3%82%B9%E3%82%BF%E3%83%BC\"\ncurl \"http://127.0.0.1:3000/api/yumemaga-sheets?sheet=%E4%BC%81%E6%A5%AD%E3%83%9E%E3%82%B9%E3%82%BF%E3%83%BC\"\n```",
    "relatedTech": [
      "skill-google-sheets-service-account-auth",
      "skill-google-sheets-batch-fetch",
      "decision-tech-google-sheets-api-v4"
    ]
  },
  {
    "slug": "google-sheets-batch-fetch",
    "title": "Google Sheets APIãƒãƒƒãƒå–å¾—ï¼ˆéƒ¨åˆ†ã‚­ãƒ£ãƒƒã‚·ãƒ¥å¯¾å¿œï¼‰",
    "category": "Skillsï¼ˆã‚¹ã‚­ãƒ«ãƒ»æ‰‹æ³•ï¼‰",
    "description": "**è¤‡æ•°ã®ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆç¯„å›²ã‚’ä¸€åº¦ã«å–å¾—ã—ã€éƒ¨åˆ†çš„ã«ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ’ãƒƒãƒˆã—ãŸå ´åˆã¯æœªã‚­ãƒ£ãƒƒã‚·ãƒ¥ç¯„å›²ã®ã¿ã‚’APIã§å–å¾—ã™ã‚‹æœ€é©åŒ–æ‰‹æ³•ã€‚**",
    "project": "yumesuta-management-system",
    "usedIn": [
      "lib/google-sheets.ts:231-296"
    ],
    "code": "```json\n{\n  \"id\": \"skill_google_sheets_batch_fetch_2025_11_24\",\n  \"type\": \"skill\",\n  \"name\": \"Google Sheets APIãƒãƒƒãƒå–å¾—ï¼ˆéƒ¨åˆ†ã‚­ãƒ£ãƒƒã‚·ãƒ¥å¯¾å¿œï¼‰\",\n  \"tags\": [\"Google Sheets API\", \"ãƒãƒƒãƒå–å¾—\", \"ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹\", \"ã‚­ãƒ£ãƒƒã‚·ãƒ¥\", \"æœ€é©åŒ–\"],\n  \"source_project\": \"yumesuta-management-system\",\n  \"source_file\": \"lib/google-sheets.ts:231-296\",\n  \"related_knowledge\": [\n    \"skill_google_sheets_cache_implementation_2025_11_24\",\n    \"decision_cache_5min_ttl_strategy_2025_11_24\"\n  ],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-24\",\n  \"updated\": \"2025-11-24\"\n}\n```\n\n# Google Sheets APIãƒãƒƒãƒå–å¾—ï¼ˆéƒ¨åˆ†ã‚­ãƒ£ãƒƒã‚·ãƒ¥å¯¾å¿œï¼‰\n\n## ä½•ã‚’ã™ã‚‹ã‚¹ã‚­ãƒ«ã‹\n\n**è¤‡æ•°ã®ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆç¯„å›²ã‚’ä¸€åº¦ã«å–å¾—ã—ã€éƒ¨åˆ†çš„ã«ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ’ãƒƒãƒˆã—ãŸå ´åˆã¯æœªã‚­ãƒ£ãƒƒã‚·ãƒ¥ç¯„å›²ã®ã¿ã‚’APIã§å–å¾—ã™ã‚‹æœ€é©åŒ–æ‰‹æ³•ã€‚**\n\n---\n\n## å…·ä½“çš„ãªæ‰‹æ³•\n\n### é–¢æ•°ã‚·ã‚°ãƒãƒãƒ£\n\n```typescript\nexport async function getBatchSheetData(\n  spreadsheetId: string,\n  ranges: string[]\n): Promise<any[][][]>\n```\n\n### å®Ÿè£…ãƒ­ã‚¸ãƒƒã‚¯\n\n```typescript\nexport async function getBatchSheetData(\n  spreadsheetId: string,\n  ranges: string[]\n): Promise<any[][][]> {\n  const results: any[][][] = new Array(ranges.length);\n  const uncachedRanges: number[] = [];\n\n  // ã‚¹ãƒ†ãƒƒãƒ—1: å„ç¯„å›²ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒã‚§ãƒƒã‚¯\n  for (let i = 0; i < ranges.length; i++) {\n    const cacheKey = `${spreadsheetId}:${ranges[i]}`;\n    const cached = dataCache.get(cacheKey);\n\n    if (cached && Date.now() - cached.timestamp < CACHE_TTL) {\n      console.log(`ğŸ“¦ [Cache HIT] ${ranges[i]}`);\n      results[i] = cached.data;\n    } else {\n      uncachedRanges.push(i);\n    }\n  }\n\n  // ã‚¹ãƒ†ãƒƒãƒ—2: æœªã‚­ãƒ£ãƒƒã‚·ãƒ¥ç¯„å›²ãŒãªã‘ã‚Œã°å³åº§ã«è¿”ã™\n  if (uncachedRanges.length === 0) {\n    return results;\n  }\n\n  // ã‚¹ãƒ†ãƒƒãƒ—3: æœªã‚­ãƒ£ãƒƒã‚·ãƒ¥ç¯„å›²ã‚’ãƒãƒƒãƒå–å¾—\n  const rangesToFetch = uncachedRanges.map(i => ranges[i]);\n  console.log(`ğŸŒ [Batch API] Fetching ${rangesToFetch.length} ranges`);\n\n  const sheets = getGoogleSheetsClient();\n  const response = await sheets.spreadsheets.values.batchGet({\n    spreadsheetId,\n    ranges: rangesToFetch,\n  });\n\n  // ã‚¹ãƒ†ãƒƒãƒ—4: å–å¾—ãƒ‡ãƒ¼ã‚¿ã‚’ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã«ä¿å­˜ & resultsé…åˆ—ã«æ ¼ç´\n  const fetchedData = response.data.valueRanges || [];\n  for (let j = 0; j < uncachedRanges.length; j++) {\n    const i = uncachedRanges[j];\n    const data = fetchedData[j]?.values || [];\n\n    results[i] = data;\n\n    // ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã«ä¿å­˜\n    const cacheKey = `${spreadsheetId}:${ranges[i]}`;\n    dataCache.set(cacheKey, { data, timestamp: Date.now() });\n  }\n\n  return results;\n}\n```\n\n---\n\n## ãªãœã“ã®æ‰‹æ³•ã‚’ä½¿ã†ã‹\n\n**ç†ç”±1**: **APIãƒªã‚¯ã‚¨ã‚¹ãƒˆæ•°å‰Šæ¸›**\n- 4ç¯„å›²å–å¾— â†’ é€šå¸¸4ãƒªã‚¯ã‚¨ã‚¹ãƒˆ â†’ ãƒãƒƒãƒãªã‚‰1ãƒªã‚¯ã‚¨ã‚¹ãƒˆ\n\n**ç†ç”±2**: **éƒ¨åˆ†ã‚­ãƒ£ãƒƒã‚·ãƒ¥æ´»ç”¨**\n- 4ç¯„å›²ä¸­2ã¤ãŒã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ’ãƒƒãƒˆ â†’ 2ç¯„å›²ã®ã¿å–å¾—\n\n**ç†ç”±3**: **ã‚¯ã‚©ãƒ¼ã‚¿ç¯€ç´„**\n- æ±ºç®—æ›¸ãƒšãƒ¼ã‚¸ã§é‡è¦ï¼ˆ36ãƒªã‚¯ã‚¨ã‚¹ãƒˆâ†’æ•°ãƒªã‚¯ã‚¨ã‚¹ãƒˆã«å‰Šæ¸›ï¼‰\n\n---\n\n## å†ç¾æ–¹æ³•\n\n```typescript\n// ä½¿ç”¨ä¾‹\nconst [contracts, expenditures, fixedCosts] = await getBatchSheetData(\n  spreadsheetId,\n  [\n    'å¥‘ç´„ãƒ»å…¥é‡‘ç®¡ç†!A:AH',\n    'æ”¯å‡ºç®¡ç†!A:Z',\n    'å›ºå®šè²»!A:F'\n  ]\n);\n\n// contracts: å¥‘ç´„ãƒ‡ãƒ¼ã‚¿\n// expenditures: æ”¯å‡ºãƒ‡ãƒ¼ã‚¿\n// fixedCosts: å›ºå®šè²»ãƒ‡ãƒ¼ã‚¿\n```\n\n---\n\n## ã„ã¤ä½¿ã†ã‹\n\n- è¤‡æ•°ç¯„å›²ã‚’åŒæ™‚ã«å–å¾—ã™ã‚‹å¿…è¦ãŒã‚ã‚‹\n- APIã‚¯ã‚©ãƒ¼ã‚¿åˆ¶é™ãŒå³ã—ã„\n- æ±ºç®—æ›¸ãƒšãƒ¼ã‚¸ãªã©å¤šãƒ‡ãƒ¼ã‚¿å–å¾—ãŒå¿…è¦\n\n---\n\n## æ³¨æ„ç‚¹\n\n- ãƒãƒƒãƒAPIã¯æœ€å¤§1000ç¯„å›²ã¾ã§\n- ã‚¨ãƒ©ãƒ¼æ™‚ã¯å…¨ç¯„å›²ãŒå¤±æ•—ï¼ˆãƒªãƒˆãƒ©ã‚¤ãƒ­ã‚¸ãƒƒã‚¯å¿…è¦ï¼‰\n- ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚­ãƒ¼ã®é †åºãŒé‡è¦ï¼ˆresultsé…åˆ—ã®é †åºç¶­æŒï¼‰\n\n---\n\n## æœ€é©åŒ–åŠ¹æœ\n\n**Beforeï¼ˆå€‹åˆ¥å–å¾—ï¼‰**:\n- 4ç¯„å›² Ã— 4ãƒªã‚¯ã‚¨ã‚¹ãƒˆ = 4 APIã‚³ãƒ¼ãƒ«\n\n**Afterï¼ˆãƒãƒƒãƒ + ã‚­ãƒ£ãƒƒã‚·ãƒ¥ï¼‰**:\n- åˆå›: 4ç¯„å›² â†’ 1 APIã‚³ãƒ¼ãƒ«ï¼ˆãƒãƒƒãƒï¼‰\n- 2å›ç›®: 4ç¯„å›²å…¨ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ’ãƒƒãƒˆ â†’ 0 APIã‚³ãƒ¼ãƒ«\n- 6åˆ†å¾Œ: 2ç¯„å›²ã‚­ãƒ£ãƒƒã‚·ãƒ¥æœŸé™åˆ‡ã‚Œ â†’ 1 APIã‚³ãƒ¼ãƒ«ï¼ˆ2ç¯„å›²ã®ã¿ï¼‰\n\n**å‰Šæ¸›ç‡**: 75-100%\n\n---\n\n**ãƒãƒƒãƒå–å¾— + éƒ¨åˆ†ã‚­ãƒ£ãƒƒã‚·ãƒ¥å¯¾å¿œã«ã‚ˆã‚Šã€APIã‚¯ã‚©ãƒ¼ã‚¿ã‚’æœ€å¤§é™ã«ç¯€ç´„ã—ã€Phase 2æœ€é©åŒ–ã®åŸºç›¤ã‚’æ§‹ç¯‰ã—ãŸã€‚**\n",
    "prompt": "```typescript\n// ä½¿ç”¨ä¾‹\nconst [contracts, expenditures, fixedCosts] = await getBatchSheetData(\n  spreadsheetId,\n  [\n    'å¥‘ç´„ãƒ»å…¥é‡‘ç®¡ç†!A:AH',\n    'æ”¯å‡ºç®¡ç†!A:Z',\n    'å›ºå®šè²»!A:F'\n  ]\n);\n\n// contracts: å¥‘ç´„ãƒ‡ãƒ¼ã‚¿\n// expenditures: æ”¯å‡ºãƒ‡ãƒ¼ã‚¿\n// fixedCosts: å›ºå®šè²»ãƒ‡ãƒ¼ã‚¿\n```\n\n---",
    "relatedTech": [
      "skill-google-sheets-cache-implementation",
      "decision-cache-5min-ttl-strategy"
    ]
  },
  {
    "slug": "google-sheets-cache-implementation",
    "title": "Google Sheets API 5åˆ†TTLã‚­ãƒ£ãƒƒã‚·ãƒ¥å®Ÿè£…",
    "category": "Skillsï¼ˆã‚¹ã‚­ãƒ«ãƒ»æ‰‹æ³•ï¼‰",
    "description": "**Google Sheets APIã‹ã‚‰å–å¾—ã—ãŸãƒ‡ãƒ¼ã‚¿ã‚’ãƒ¡ãƒ¢ãƒªå†…ã«ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã—ã€5åˆ†é–“ã¯å†åˆ©ç”¨ã—ã¦APIå‘¼ã³å‡ºã—ã‚’å‰Šæ¸›ã™ã‚‹å®Ÿè£…æ‰‹æ³•ã€‚**",
    "project": "yumesuta-management-system",
    "usedIn": [
      "lib/google-sheets.ts:44-121"
    ],
    "code": "```json\n{\n  \"id\": \"skill_google_sheets_cache_implementation_2025_11_24\",\n  \"type\": \"skill\",\n  \"name\": \"Google Sheets API 5åˆ†TTLã‚­ãƒ£ãƒƒã‚·ãƒ¥å®Ÿè£…\",\n  \"tags\": [\"ã‚­ãƒ£ãƒƒã‚·ãƒ¥\", \"ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹\", \"Map\", \"TTL\", \"Google Sheets API\"],\n  \"source_project\": \"yumesuta-management-system\",\n  \"source_file\": \"lib/google-sheets.ts:44-121\",\n  \"related_knowledge\": [\n    \"decision_cache_5min_ttl_strategy_2025_11_24\",\n    \"failure_api_quota_exceeded_crisis_2025_11_24\"\n  ],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-24\",\n  \"updated\": \"2025-11-24\"\n}\n```\n\n# Google Sheets API 5åˆ†TTLã‚­ãƒ£ãƒƒã‚·ãƒ¥å®Ÿè£…\n\n## ä½•ã‚’ã™ã‚‹ã‚¹ã‚­ãƒ«ã‹\n\n**Google Sheets APIã‹ã‚‰å–å¾—ã—ãŸãƒ‡ãƒ¼ã‚¿ã‚’ãƒ¡ãƒ¢ãƒªå†…ã«ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã—ã€5åˆ†é–“ã¯å†åˆ©ç”¨ã—ã¦APIå‘¼ã³å‡ºã—ã‚’å‰Šæ¸›ã™ã‚‹å®Ÿè£…æ‰‹æ³•ã€‚**\n\n---\n\n## å…·ä½“çš„ãªæ‰‹æ³•\n\n### ãƒ‡ãƒ¼ã‚¿æ§‹é€ \n\n```typescript\ninterface CacheEntry {\n  data: any[][];\n  timestamp: number;\n}\n\nconst dataCache = new Map<string, CacheEntry>();\nconst CACHE_TTL = 5 * 60 * 1000; // 5åˆ†\n```\n\n### ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚­ãƒ¼ç”Ÿæˆ\n\n```typescript\nconst cacheKey = `${spreadsheetId}:${range}`;\n// ä¾‹: \"1yUrlBRsb...:KPIãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰!A1:K20\"\n```\n\n### ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒã‚§ãƒƒã‚¯ãƒ­ã‚¸ãƒƒã‚¯\n\n```typescript\nexport async function getSheetData(spreadsheetId: string, range: string) {\n  const cacheKey = `${spreadsheetId}:${range}`;\n  const cached = dataCache.get(cacheKey);\n\n  // ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ’ãƒƒãƒˆåˆ¤å®š\n  if (cached && Date.now() - cached.timestamp < CACHE_TTL) {\n    console.log(`ğŸ“¦ [Cache HIT] ${range}`);\n    return cached.data;\n  }\n\n  // ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒŸã‚¹ â†’ APIå‘¼ã³å‡ºã—\n  console.log(`ğŸŒ [Cache MISS] ${range}`);\n  const sheets = getGoogleSheetsClient();\n  const response = await sheets.spreadsheets.values.get({\n    spreadsheetId,\n    range,\n  });\n\n  const data = response.data.values || [];\n\n  // ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã«ä¿å­˜\n  dataCache.set(cacheKey, {\n    data,\n    timestamp: Date.now(),\n  });\n\n  return data;\n}\n```\n\n### ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚¯ãƒªã‚¢\n\n```typescript\nexport function clearCache(): void {\n  dataCache.clear();\n  console.log('ğŸ§¹ Cache cleared');\n}\n\nexport function clearCacheForSpreadsheet(spreadsheetId: string): void {\n  for (const key of dataCache.keys()) {\n    if (key.startsWith(`${spreadsheetId}:`)) {\n      dataCache.delete(key);\n    }\n  }\n}\n```\n\n---\n\n## ãªãœã“ã®æ‰‹æ³•ã‚’ä½¿ã†ã‹\n\n**ç†ç”±1**: APIã‚¯ã‚©ãƒ¼ã‚¿ç¯€ç´„ï¼ˆ60-70%å‰Šæ¸›ï¼‰\n**ç†ç”±2**: ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ™‚é–“çŸ­ç¸®ï¼ˆ2ç§’â†’å³åº§ï¼‰\n**ç†ç”±3**: å®Ÿè£…ãŒç°¡å˜ï¼ˆ30åˆ†ï¼‰\n\n---\n\n## å†ç¾æ–¹æ³•\n\n```typescript\n// lib/google-sheets.ts\nconst dataCache = new Map<string, CacheEntry>();\nconst CACHE_TTL = 5 * 60 * 1000;\n\nexport async function getSheetData(spreadsheetId: string, range: string) {\n  const cacheKey = `${spreadsheetId}:${range}`;\n  const cached = dataCache.get(cacheKey);\n\n  if (cached && Date.now() - cached.timestamp < CACHE_TTL) {\n    return cached.data; // ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ’ãƒƒãƒˆ\n  }\n\n  // APIå‘¼ã³å‡ºã—\n  const data = await fetchFromAPI(spreadsheetId, range);\n  dataCache.set(cacheKey, { data, timestamp: Date.now() });\n  return data;\n}\n```\n\n---\n\n## ã„ã¤ä½¿ã†ã‹\n\n- å¤–éƒ¨APIå‘¼ã³å‡ºã—ãŒã‚ã‚‹ï¼ˆã‚¯ã‚©ãƒ¼ã‚¿åˆ¶é™ã‚ã‚Šï¼‰\n- ãƒ‡ãƒ¼ã‚¿æ›´æ–°é »åº¦ãŒä½ã„ï¼ˆ5-10åˆ†ã”ã¨ï¼‰\n- MVPãƒ»å˜ä¸€ã‚µãƒ¼ãƒãƒ¼ç’°å¢ƒ\n\n---\n\n## æ³¨æ„ç‚¹\n\n- è¤‡æ•°ã‚µãƒ¼ãƒãƒ¼ç’°å¢ƒã§ã¯ä¸æ•´åˆãŒç™ºç”Ÿï¼ˆRedisãŒå¿…è¦ï¼‰\n- ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚¯ãƒªã‚¢æ©Ÿèƒ½ãŒå¿…é ˆ\n- TTLå€¤ã¯å®Ÿæ¸¬ãƒ‡ãƒ¼ã‚¿ã§æ±ºå®š\n\n---\n\n**5åˆ†TTLã‚­ãƒ£ãƒƒã‚·ãƒ¥å®Ÿè£…ã«ã‚ˆã‚Šã€APIã‚¯ã‚©ãƒ¼ã‚¿æ¶ˆè²»ã‚’60-70%å‰Šæ¸›ã—ã€ã‚·ã‚¹ãƒ†ãƒ ã®å®‰å®šå‹•ä½œã‚’å®Ÿç¾ã—ãŸã€‚**\n",
    "prompt": "```typescript\n// lib/google-sheets.ts\nconst dataCache = new Map<string, CacheEntry>();\nconst CACHE_TTL = 5 * 60 * 1000;\n\nexport async function getSheetData(spreadsheetId: string, range: string) {\n  const cacheKey = `${spreadsheetId}:${range}`;\n  const cached = dataCache.get(cacheKey);\n\n  if (cached && Date.now() - cached.timestamp < CACHE_TTL) {\n    return cached.data; // ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ’ãƒƒãƒˆ\n  }\n\n  // APIå‘¼ã³å‡ºã—\n  const data = await fetchFromAPI(spreadsheetId, range);\n  dataCache.set(cacheKey, { data, timestamp: Date.now() });\n  return data;\n}\n```\n\n---",
    "relatedTech": [
      "decision-cache-5min-ttl-strategy",
      "failure-api-quota-exceeded-crisis"
    ]
  },
  {
    "slug": "google-sheets-service-account-auth",
    "title": "Google Sheetsã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆèªè¨¼å®Ÿè£…",
    "category": "Skillsï¼ˆã‚¹ã‚­ãƒ«ãƒ»æ‰‹æ³•ï¼‰",
    "description": "**Google Cloud ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ä½¿ç”¨ã—ã¦Google Sheets APIã«èªè¨¼ã—ã€ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã™ã‚‹å®Ÿè£…æ‰‹æ³•ã€‚**",
    "project": "yumesuta-management-system",
    "usedIn": [
      "lib/google-sheets.ts:143-168"
    ],
    "code": "```json\n{\n  \"id\": \"skill_google_sheets_service_account_auth_2025_11_24\",\n  \"type\": \"skill\",\n  \"name\": \"Google Sheetsã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆèªè¨¼å®Ÿè£…\",\n  \"tags\": [\"Google Sheets API\", \"èªè¨¼\", \"ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ\", \"googleapis\"],\n  \"source_project\": \"yumesuta-management-system\",\n  \"source_file\": \"lib/google-sheets.ts:143-168\",\n  \"related_knowledge\": [\n    \"decision_tech_google_sheets_api_v4_2025_11_24\",\n    \"decision_auth_service_account_vs_oauth_2025_11_24\"\n  ],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-24\",\n  \"updated\": \"2025-11-24\"\n}\n```\n\n# Google Sheetsã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆèªè¨¼å®Ÿè£…\n\n## ä½•ã‚’ã™ã‚‹ã‚¹ã‚­ãƒ«ã‹\n\n**Google Cloud ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ä½¿ç”¨ã—ã¦Google Sheets APIã«èªè¨¼ã—ã€ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã™ã‚‹å®Ÿè£…æ‰‹æ³•ã€‚**\n\n---\n\n## å…·ä½“çš„ãªæ‰‹æ³•\n\n### ã‚¹ãƒ†ãƒƒãƒ—1: Google Cloudã§ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆä½œæˆ\n\n1. Google Cloud Consoleã«ã‚¢ã‚¯ã‚»ã‚¹\n2. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆé¸æŠ\n3. ã€ŒIAMã¨ç®¡ç†ã€â†’ã€Œã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã€\n4. ã€Œã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ä½œæˆã€\n5. åå‰: `yumesuta-sheets-reader`\n6. å½¹å‰²: ãªã—ï¼ˆã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆãƒ¬ãƒ™ãƒ«ã§æ¨©é™ä»˜ä¸ï¼‰\n7. JSONã‚­ãƒ¼ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰\n\n### ã‚¹ãƒ†ãƒƒãƒ—2: ç’°å¢ƒå¤‰æ•°è¨­å®š\n\n`.env.local`ã«è¿½åŠ :\n```bash\nGOOGLE_SERVICE_ACCOUNT_KEY='{\"type\":\"service_account\",\"project_id\":\"...\",\"private_key\":\"...\"}'\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3: ã‚³ãƒ¼ãƒ‰å®Ÿè£…\n\n```typescript\n// lib/google-sheets.ts\nimport { google } from 'googleapis';\n\nexport function getGoogleSheetsClient() {\n  const credentialsJson = process.env.GOOGLE_SERVICE_ACCOUNT_KEY;\n  if (!credentialsJson) {\n    throw new Error('GOOGLE_SERVICE_ACCOUNT_KEY not set');\n  }\n\n  const credentials = JSON.parse(credentialsJson);\n\n  const auth = new google.auth.GoogleAuth({\n    credentials,\n    scopes: ['https://www.googleapis.com/auth/spreadsheets'],\n  });\n\n  return google.sheets({ version: 'v4', auth });\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—4: ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆå…±æœ‰è¨­å®š\n\n1. å¯¾è±¡ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã‚’é–‹ã\n2. ã€Œå…±æœ‰ã€ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯\n3. ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’è¿½åŠ \n   - ä¾‹: `yumesuta-sheets-reader@project.iam.gserviceaccount.com`\n4. æ¨©é™: ã€Œé–²è¦§è€…ã€ã¾ãŸã¯ã€Œç·¨é›†è€…ã€\n\n---\n\n## ãªãœã“ã®æ‰‹æ³•ã‚’ä½¿ã†ã‹\n\n**ç†ç”±1**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ­ã‚°ã‚¤ãƒ³ä¸è¦\n**ç†ç”±2**: ã‚µãƒ¼ãƒãƒ¼é–“é€šä¿¡ï¼ˆã‚»ã‚­ãƒ¥ã‚¢ï¼‰\n**ç†ç”±3**: MVPé–‹ç™ºé€Ÿåº¦ï¼ˆ30åˆ†ã§å®Ÿè£…ï¼‰\n\n---\n\n## å†ç¾æ–¹æ³•\n\n```typescript\n// API Routeä¾‹\nexport async function GET() {\n  const sheets = getGoogleSheetsClient();\n  const response = await sheets.spreadsheets.values.get({\n    spreadsheetId: process.env.SALES_SPREADSHEET_ID,\n    range: 'KPIãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰!A1:K20',\n  });\n  return NextResponse.json({ data: response.data.values });\n}\n```\n\n---\n\n## ã„ã¤ä½¿ã†ã‹\n\n- ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ã§Google Sheetsã«ã‚¢ã‚¯ã‚»ã‚¹\n- ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ­ã‚°ã‚¤ãƒ³ãŒä¸è¦ãªç¤¾å†…ãƒ„ãƒ¼ãƒ«\n- MVPé–‹ç™ºï¼ˆèª­ã¿å–ã‚Šå°‚ç”¨ï¼‰\n\n---\n\n## æ³¨æ„ç‚¹\n\n- JSONã‚­ãƒ¼ã‚’ç’°å¢ƒå¤‰æ•°ã«æ ¼ç´ï¼ˆGitã«ã‚³ãƒŸãƒƒãƒˆã—ãªã„ï¼‰\n- ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã«é©åˆ‡ãªæ¨©é™è¨­å®š\n- Phase 2ã§ã¯OAuthã«ç§»è¡Œäºˆå®š\n\n---\n\n**ã“ã®æ‰‹æ³•ã«ã‚ˆã‚Šã€30åˆ†ã§Google Sheets APIé€£æºãŒå®Œäº†ã—ã€MVPé–‹ç™ºã‚’åŠ é€Ÿã§ããŸã€‚**\n",
    "prompt": "```typescript\n// API Routeä¾‹\nexport async function GET() {\n  const sheets = getGoogleSheetsClient();\n  const response = await sheets.spreadsheets.values.get({\n    spreadsheetId: process.env.SALES_SPREADSHEET_ID,\n    range: 'KPIãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰!A1:K20',\n  });\n  return NextResponse.json({ data: response.data.values });\n}\n```\n\n---",
    "relatedTech": [
      "decision-tech-google-sheets-api-v4",
      "decision-auth-service-account-vs-oauth"
    ]
  },
  {
    "slug": "grid-based-layout-system",
    "title": "ã‚°ãƒªãƒƒãƒ‰ãƒ™ãƒ¼ã‚¹ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚·ã‚¹ãƒ†ãƒ ",
    "category": "Skillsï¼ˆã‚¹ã‚­ãƒ«ãƒ»æ‰‹æ³•ï¼‰",
    "description": "ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆï¼ˆãƒãƒ©ã‚·ã€ãƒ—ãƒ¬ã‚¼ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã€äº‹æ¥­è¨ˆç”»æ›¸ãªã©ï¼‰ã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’ã€12Ã—12ã®ã‚°ãƒªãƒƒãƒ‰ã‚·ã‚¹ãƒ†ãƒ ã§ç®¡ç†ã—ã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®é…ç½®ãƒ»ã‚µã‚¤ã‚ºãƒ»èª¿æ•´ã‚’åˆ¶ç´„ä»˜ãã§åˆ¶å¾¡ã™ã‚‹æ‰‹æ³•ã€‚",
    "project": "ai-document-generator",
    "usedIn": [
      "src/types/index.ts:150-200, src/data/document-types/find_to_do.json:9-15"
    ],
    "code": "```json\n{\n  \"id\": \"skill_grid_based_layout_system_2025_04_11\",\n  \"type\": \"skill\",\n  \"name\": \"ã‚°ãƒªãƒƒãƒ‰ãƒ™ãƒ¼ã‚¹ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚·ã‚¹ãƒ†ãƒ \",\n  \"tags\": [\"ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ\", \"ã‚°ãƒªãƒƒãƒ‰ã‚·ã‚¹ãƒ†ãƒ \", \"ãƒ‡ã‚¶ã‚¤ãƒ³\", \"ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”Ÿæˆ\", \"åˆ¶ç´„ã‚·ã‚¹ãƒ†ãƒ \", \"React Grid Layout\"],\n  \"source_project\": \"ai-document-generator\",\n  \"source_file\": \"src/types/index.ts:150-200, src/data/document-types/find_to_do.json:9-15\",\n  \"related_knowledge\": [\"decision_arch_grid_based_layout_2025_04_11\", \"skill_react_grid_layout_implementation_2025_04_11\", \"skill_section_adjustability_constraints_2025_04_11\"],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-04-11\",\n  \"updated\": \"2025-04-16\"\n}\n```\n\n# ã‚°ãƒªãƒƒãƒ‰ãƒ™ãƒ¼ã‚¹ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚·ã‚¹ãƒ†ãƒ \n\n## ä½•ã‚’ã™ã‚‹ã‚¹ã‚­ãƒ«ã‹\n\nãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆï¼ˆãƒãƒ©ã‚·ã€ãƒ—ãƒ¬ã‚¼ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã€äº‹æ¥­è¨ˆç”»æ›¸ãªã©ï¼‰ã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’ã€12Ã—12ã®ã‚°ãƒªãƒƒãƒ‰ã‚·ã‚¹ãƒ†ãƒ ã§ç®¡ç†ã—ã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®é…ç½®ãƒ»ã‚µã‚¤ã‚ºãƒ»èª¿æ•´ã‚’åˆ¶ç´„ä»˜ãã§åˆ¶å¾¡ã™ã‚‹æ‰‹æ³•ã€‚\n\n## å…·ä½“çš„ãªæ‰‹æ³•\n\n### 1. ã‚°ãƒªãƒƒãƒ‰å®šç¾©\n\nå„ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã¯ã€12è¡ŒÃ—12åˆ—ã®ã‚°ãƒªãƒƒãƒ‰ã‚’å®šç¾©ï¼š\n\n```typescript\ninterface GridDefinition {\n  rows: number;           // 12è¡Œ\n  columns: number;        // 12åˆ—\n  rowHeight: number;      // 50pxï¼ˆA4ã®å ´åˆï¼‰\n  columnWidth: number;    // 50pxï¼ˆA4ã®å ´åˆï¼‰\n  gap: number;            // 8pxï¼ˆã‚°ãƒªãƒƒãƒ‰é–“ã®ã‚¹ãƒšãƒ¼ã‚¹ï¼‰\n}\n```\n\n**ä¾‹**ï¼ˆA4ç¸¦ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆï¼‰:\n```json\n{\n  \"grid\": {\n    \"rows\": 12,\n    \"columns\": 12,\n    \"rowHeight\": 50,\n    \"columnWidth\": 50,\n    \"gap\": 8\n  }\n}\n```\n\n### 2. ã‚»ã‚¯ã‚·ãƒ§ãƒ³é…ç½®\n\nå„ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã¯ã€ã‚°ãƒªãƒƒãƒ‰ä¸Šã®ä½ç½®ã¨ã‚¹ãƒ‘ãƒ³ï¼ˆå æœ‰ç¯„å›²ï¼‰ã§å®šç¾©ï¼š\n\n```typescript\ninterface SectionPosition {\n  row: number;           // é–‹å§‹è¡Œï¼ˆ0-indexedï¼‰\n  column: number;        // é–‹å§‹åˆ—ï¼ˆ0-indexedï¼‰\n  rowSpan: number;       // è¡Œã‚¹ãƒ‘ãƒ³ï¼ˆå æœ‰è¡Œæ•°ï¼‰\n  columnSpan: number;    // åˆ—ã‚¹ãƒ‘ãƒ³ï¼ˆå æœ‰åˆ—æ•°ï¼‰\n}\n```\n\n**ä¾‹**ï¼ˆè¡¨ç´™ã‚»ã‚¯ã‚·ãƒ§ãƒ³ï¼šå…¨ç”»é¢ï¼‰:\n```json\n{\n  \"id\": \"cover\",\n  \"position\": {\n    \"row\": 0,\n    \"column\": 0,\n    \"rowSpan\": 12,\n    \"columnSpan\": 12\n  }\n}\n```\n\n**ä¾‹**ï¼ˆ2ã‚«ãƒ©ãƒ ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆï¼‰:\n```json\n{\n  \"id\": \"left_section\",\n  \"position\": {\n    \"row\": 0,\n    \"column\": 0,\n    \"rowSpan\": 12,\n    \"columnSpan\": 6\n  }\n},\n{\n  \"id\": \"right_section\",\n  \"position\": {\n    \"row\": 0,\n    \"column\": 6,\n    \"rowSpan\": 12,\n    \"columnSpan\": 6\n  }\n}\n```\n\n### 3. èª¿æ•´åˆ¶ç´„\n\nå„ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã«ã¯ã€ç§»å‹•ãƒ»ãƒªã‚µã‚¤ã‚ºãƒ»äº¤æ›ã®åˆ¶ç´„ã‚’è¨­å®šï¼š\n\n```typescript\ninterface SectionAdjustability {\n  movable: boolean;       // ç§»å‹•å¯èƒ½ã‹\n  resizable: boolean;     // ãƒªã‚µã‚¤ã‚ºå¯èƒ½ã‹\n  swappable: boolean;     // ä»–ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã¨äº¤æ›å¯èƒ½ã‹\n  lockedAxes?: {\n    x: boolean;          // Xè»¸å›ºå®š\n    y: boolean;          // Yè»¸å›ºå®š\n  };\n  movementBoundaries?: {\n    minRow: number;\n    maxRow: number;\n    minColumn: number;\n    maxColumn: number;\n  };\n  resizeBoundaries?: {\n    minRowSpan: number;\n    maxRowSpan: number;\n    minColumnSpan: number;\n    maxColumnSpan: number;\n  };\n}\n```\n\n**ä¾‹**ï¼ˆè¡¨ç´™ï¼šå›ºå®šã€å†…éƒ¨ã‚»ã‚¯ã‚·ãƒ§ãƒ³ï¼šãƒªã‚µã‚¤ã‚ºã®ã¿å¯ï¼‰:\n```json\n{\n  \"id\": \"cover\",\n  \"adjustability\": {\n    \"movable\": false,\n    \"resizable\": false,\n    \"swappable\": false\n  }\n},\n{\n  \"id\": \"content_section\",\n  \"adjustability\": {\n    \"movable\": false,\n    \"resizable\": true,\n    \"swappable\": false,\n    \"resizeBoundaries\": {\n      \"minRowSpan\": 4,\n      \"maxRowSpan\": 10,\n      \"minColumnSpan\": 6,\n      \"maxColumnSpan\": 12\n    }\n  }\n}\n```\n\n### 4. React Grid Layoutã¨ã®çµ±åˆ\n\nã‚°ãƒªãƒƒãƒ‰å®šç¾©ã‚’React Grid Layoutã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆé…åˆ—ã«å¤‰æ›ï¼š\n\n```typescript\n// ã‚»ã‚¯ã‚·ãƒ§ãƒ³å®šç¾© â†’ React Grid Layoutå½¢å¼\nconst layout = sections.map(section => ({\n  i: section.id,\n  x: section.position.column,\n  y: section.position.row,\n  w: section.position.columnSpan,\n  h: section.position.rowSpan,\n  static: !section.adjustability.movable && !section.adjustability.resizable,\n  isDraggable: section.adjustability.movable,\n  isResizable: section.adjustability.resizable,\n  minW: section.adjustability.resizeBoundaries?.minColumnSpan,\n  maxW: section.adjustability.resizeBoundaries?.maxColumnSpan,\n  minH: section.adjustability.resizeBoundaries?.minRowSpan,\n  maxH: section.adjustability.resizeBoundaries?.maxRowSpan,\n}));\n```\n\n## ãªãœã“ã®æ‰‹æ³•ã‚’ä½¿ã†ã‹\n\n**ç†ç”±1ï¼šãƒ‡ã‚¶ã‚¤ãƒ³ã®æ•´åˆæ€§ã‚’ç¶­æŒ**\n- è‡ªç”±é…ç½®ã ã¨ã€ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆãŒå´©ã‚Œã‚„ã™ã„\n- ã‚°ãƒªãƒƒãƒ‰ã‚·ã‚¹ãƒ†ãƒ ã«ã‚ˆã‚Šã€ä¸€è²«ã—ãŸãƒ‡ã‚¶ã‚¤ãƒ³ã‚’ä¿è¨¼\n\n**ç†ç”±2ï¼šè¤‡æ•°ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚¿ã‚¤ãƒ—ã¸ã®å¯¾å¿œ**\n- A4ç¸¦ã€A4æ¨ªã€16:9ã€ãƒãƒŠãƒ¼ãªã©ã€ç•°ãªã‚‹ã‚µã‚¤ã‚ºã«åŒã˜ã‚·ã‚¹ãƒ†ãƒ ã‚’é©ç”¨\n- ã‚°ãƒªãƒƒãƒ‰å®šç¾©ã‚’å¤‰æ›´ã™ã‚‹ã ã‘ã§ã€ç•°ãªã‚‹ã‚µã‚¤ã‚ºã«å¯¾å¿œ\n\n**ç†ç”±3ï¼šæŸ”è»Ÿæ€§ã¨åˆ¶ç´„ã®ãƒãƒ©ãƒ³ã‚¹**\n- åˆ¶ç´„å†…ã§ã®èª¿æ•´ã‚’è¨±å¯ï¼ˆãƒªã‚µã‚¤ã‚ºã®ã¿ã€ç§»å‹•ä¸å¯ãªã©ï¼‰\n- ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’å£Šã™ã“ã¨ã‚’é˜²ã\n\n**ç†ç”±4ï¼šAIã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”Ÿæˆã¨ã®ç›¸æ€§**\n- ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã”ã¨ã«ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”Ÿæˆ\n- ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®åˆ¶ç´„ï¼ˆæ–‡å­—æ•°ã€ç”»åƒã‚µã‚¤ã‚ºï¼‰ã‚’AIã«ä¼ãˆã‚„ã™ã„\n\n**ç†ç”±5ï¼šé–‹ç™ºåŠ¹ç‡**\n- ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’JSONã§å®šç¾©ã§ãã‚‹\n- ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ã‹ãšã«æ–°ã—ã„ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’è¿½åŠ å¯èƒ½\n\n## å†ç¾æ–¹æ³•\n\n### ã‚¹ãƒ†ãƒƒãƒ—1ï¼šã‚°ãƒªãƒƒãƒ‰å®šç¾©ã‚’ä½œæˆ\n\n```json\n{\n  \"grid\": {\n    \"rows\": 12,\n    \"columns\": 12,\n    \"rowHeight\": 50,\n    \"columnWidth\": 50,\n    \"gap\": 8\n  }\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2ï¼šã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’å®šç¾©\n\n```json\n{\n  \"sections\": [\n    {\n      \"id\": \"header\",\n      \"name\": \"ãƒ˜ãƒƒãƒ€ãƒ¼\",\n      \"type\": \"header\",\n      \"position\": {\n        \"row\": 0,\n        \"column\": 0,\n        \"rowSpan\": 2,\n        \"columnSpan\": 12\n      },\n      \"adjustability\": {\n        \"movable\": false,\n        \"resizable\": false,\n        \"swappable\": false\n      }\n    },\n    {\n      \"id\": \"main_content\",\n      \"name\": \"ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„\",\n      \"type\": \"content\",\n      \"position\": {\n        \"row\": 2,\n        \"column\": 0,\n        \"rowSpan\": 8,\n        \"columnSpan\": 8\n      },\n      \"adjustability\": {\n        \"movable\": false,\n        \"resizable\": true,\n        \"swappable\": false,\n        \"resizeBoundaries\": {\n          \"minRowSpan\": 6,\n          \"maxRowSpan\": 10,\n          \"minColumnSpan\": 6,\n          \"maxColumnSpan\": 10\n        }\n      }\n    },\n    {\n      \"id\": \"sidebar\",\n      \"name\": \"ã‚µã‚¤ãƒ‰ãƒãƒ¼\",\n      \"type\": \"sidebar\",\n      \"position\": {\n        \"row\": 2,\n        \"column\": 8,\n        \"rowSpan\": 8,\n        \"columnSpan\": 4\n      },\n      \"adjustability\": {\n        \"movable\": false,\n        \"resizable\": true,\n        \"swappable\": false\n      }\n    }\n  ]\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3ï¼šReact Grid Layoutã«çµ±åˆ\n\n```tsx\nimport GridLayout from 'react-grid-layout';\n\nconst DocumentLayout = ({ sections }) => {\n  const layout = sections.map(section => ({\n    i: section.id,\n    x: section.position.column,\n    y: section.position.row,\n    w: section.position.columnSpan,\n    h: section.position.rowSpan,\n    static: !section.adjustability.movable && !section.adjustability.resizable,\n    isDraggable: section.adjustability.movable,\n    isResizable: section.adjustability.resizable,\n  }));\n\n  return (\n    <GridLayout\n      className=\"layout\"\n      layout={layout}\n      cols={12}\n      rowHeight={50}\n      width={600}\n      onLayoutChange={handleLayoutChange}\n    >\n      {sections.map(section => (\n        <div key={section.id} className=\"section\">\n          {/* ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚° */}\n        </div>\n      ))}\n    </GridLayout>\n  );\n};\n```\n\n## ã„ã¤ä½¿ã†ã‹\n\n- **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”Ÿæˆã‚·ã‚¹ãƒ†ãƒ **: ãƒãƒ©ã‚·ã€ãƒ—ãƒ¬ã‚¼ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã€äº‹æ¥­è¨ˆç”»æ›¸ãªã©ã€ãƒ‡ã‚¶ã‚¤ãƒ³ã®æ•´åˆæ€§ãŒé‡è¦ãªãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ\n- **è¤‡æ•°ã‚µã‚¤ã‚ºå¯¾å¿œ**: A4ã€Letterã€16:9ã€ãƒãƒŠãƒ¼ãªã©ã€ç•°ãªã‚‹ã‚µã‚¤ã‚ºã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ\n- **AIé€£æº**: AIãŒã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ç”Ÿæˆã™ã‚‹éš›ã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®åˆ¶ç´„ã‚’è€ƒæ…®ã™ã‚‹å¿…è¦ãŒã‚ã‚‹å ´åˆ\n- **ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’èª¿æ•´ã§ãã‚‹ãŒã€ãƒ‡ã‚¶ã‚¤ãƒ³ã‚’å£Šã—ãŸããªã„å ´åˆ\n\n## æ³¨æ„ç‚¹\n\n### 1. ã‚°ãƒªãƒƒãƒ‰æ•°ã®é¸æŠ\n- **12Ã—12ãŒä¸€èˆ¬çš„**: æŸ”è»Ÿæ€§ã¨ç®¡ç†ã—ã‚„ã™ã•ã®ãƒãƒ©ãƒ³ã‚¹\n- å°‘ãªã™ãã‚‹ï¼ˆ6Ã—6ï¼‰: ç´°ã‹ã„èª¿æ•´ãŒã§ããªã„\n- å¤šã™ãã‚‹ï¼ˆ24Ã—24ï¼‰: è¤‡é›‘ã«ãªã‚Šã™ãã‚‹\n\n### 2. ã‚»ã‚¯ã‚·ãƒ§ãƒ³é‡è¤‡ã®æ¤œè¨¼\n- ã‚»ã‚¯ã‚·ãƒ§ãƒ³ãŒé‡è¤‡ã—ãªã„ã‚ˆã†ã«æ¤œè¨¼ãŒå¿…è¦\n- é‡è¤‡ãƒã‚§ãƒƒã‚¯é–¢æ•°ã‚’å®Ÿè£…ï¼š\n  ```typescript\n  function checkOverlap(section1, section2) {\n    const s1End = { row: section1.position.row + section1.position.rowSpan, col: section1.position.column + section1.position.columnSpan };\n    const s2End = { row: section2.position.row + section2.position.rowSpan, col: section2.position.column + section2.position.columnSpan };\n    return !(s1End.row <= section2.position.row || section1.position.row >= s2End.row ||\n             s1End.col <= section2.position.column || section1.position.column >= s2End.col);\n  }\n  ```\n\n### 3. ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œ\n- ç•°ãªã‚‹ç”»é¢ã‚µã‚¤ã‚ºã§ã¯ã€ã‚°ãƒªãƒƒãƒ‰æ•°ã‚’èª¿æ•´ï¼ˆä¾‹ï¼šãƒ¢ãƒã‚¤ãƒ«ã¯6åˆ—ï¼‰\n- React Grid Layoutã®`breakpoints`ã¨`cols`ã‚’ä½¿ç”¨\n\n### 4. PDFç”Ÿæˆæ™‚ã®ç²¾åº¦\n- ã‚°ãƒªãƒƒãƒ‰ã‚·ã‚¹ãƒ†ãƒ ã¯ç”»é¢è¡¨ç¤ºç”¨\n- PDFç”Ÿæˆæ™‚ã¯ã€æ­£ç¢ºãªãƒ”ã‚¯ã‚»ãƒ«è¨ˆç®—ãŒå¿…è¦ï¼ˆ300 DPIï¼‰\n\n### 5. ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹\n- React Grid Layoutã¯ã€å¤§é‡ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ä½ä¸‹\n- ä»®æƒ³åŒ–ï¼ˆreact-windowï¼‰ã‚’æ¤œè¨\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `decision_arch_grid_based_layout_2025_04_11.md`: ã‚°ãƒªãƒƒãƒ‰ãƒ™ãƒ¼ã‚¹ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ vs è‡ªç”±é…ç½®ã®åˆ¤æ–­\n- `skill_react_grid_layout_implementation_2025_04_11.md`: React Grid Layoutã®å®Ÿè£…è©³ç´°\n- `skill_section_adjustability_constraints_2025_04_11.md`: ã‚»ã‚¯ã‚·ãƒ§ãƒ³èª¿æ•´åˆ¶ç´„ã®å®Ÿè£…\n",
    "prompt": "### ã‚¹ãƒ†ãƒƒãƒ—1ï¼šã‚°ãƒªãƒƒãƒ‰å®šç¾©ã‚’ä½œæˆ\n\n```json\n{\n  \"grid\": {\n    \"rows\": 12,\n    \"columns\": 12,\n    \"rowHeight\": 50,\n    \"columnWidth\": 50,\n    \"gap\": 8\n  }\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2ï¼šã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’å®šç¾©\n\n```json\n{\n  \"sections\": [\n    {\n      \"id\": \"header\",\n      \"name\": \"ãƒ˜ãƒƒãƒ€ãƒ¼\",\n      \"type\": \"header\",\n      \"position\": {\n        \"row\": 0,\n        \"column\": 0,\n        \"rowSpan\": 2,\n        \"columnSpan\": 12\n      },\n      \"adjustability\": {\n        \"movable\": false,\n        \"resizable\": false,\n        \"swappable\": false\n      }\n    },\n    {\n      \"id\": \"main_content\",\n      \"name\": \"ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„\",\n      \"type\": \"content\",\n      \"position\": {\n        \"row\": 2,\n        \"column\": 0,\n        \"rowSpan\": 8,\n        \"columnSpan\": 8\n      },\n      \"adjustability\": {\n        \"movable\": false,\n        \"resizable\": true,\n        \"swappable\": false,\n        \"resizeBoundaries\": {\n          \"minRowSpan\": 6,\n          \"maxRowSpan\": 10,\n          \"minColumnSpan\": 6,\n          \"maxColumnSpan\": 10\n        }\n      }\n    },\n    {\n      \"id\": \"sidebar\",\n      \"name\": \"ã‚µã‚¤ãƒ‰ãƒãƒ¼\",\n      \"type\": \"sidebar\",\n      \"position\": {\n        \"row\": 2,\n        \"column\": 8,\n        \"rowSpan\": 8,\n        \"columnSpan\": 4\n      },\n      \"adjustability\": {\n        \"movable\": false,\n        \"resizable\": true,\n        \"swappable\": false\n      }\n    }\n  ]\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3ï¼šReact Grid Layoutã«çµ±åˆ\n\n```tsx\nimport GridLayout from 'react-grid-layout';\n\nconst DocumentLayout = ({ sections }) => {\n  const layout = sections.map(section => ({\n    i: section.id,\n    x: section.position.column,\n    y: section.position.row,\n    w: section.position.columnSpan,\n    h: section.position.rowSpan,\n    static: !section.adjustability.movable && !section.adjustability.resizable,\n    isDraggable: section.adjustability.movable,\n    isResizable: section.adjustability.resizable,\n  }));\n\n  return (\n    <GridLayout\n      className=\"layout\"\n      layout={layout}\n      cols={12}\n      rowHeight={50}\n      width={600}\n      onLayoutChange={handleLayoutChange}\n    >\n      {sections.map(section => (\n        <div key={section.id} className=\"section\">\n          {/* ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚° */}\n        </div>\n      ))}\n    </GridLayout>\n  );\n};\n```",
    "relatedTech": [
      "decision-arch-grid-based-layout",
      "skill-react-grid-layout-implementation",
      "skill-section-adjustability-constraints"
    ]
  },
  {
    "slug": "hashtag-service-multi-tier",
    "title": "å¤šå±¤ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°ã‚·ã‚¹ãƒ†ãƒ ï¼ˆLarge/Medium/Small 3éšå±¤ï¼‰",
    "category": "Skillsï¼ˆã‚¹ã‚­ãƒ«ãƒ»æ‰‹æ³•ï¼‰",
    "description": "**InstagramæŠ•ç¨¿ã«æœ€é©ãªãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°ã‚’ã€æŠ•ç¨¿æ•°ã«å¿œã˜ãŸ3éšå±¤ï¼ˆLarge/Medium/Smallï¼‰ã§è‡ªå‹•é¸æŠã™ã‚‹æŠ€è¡“ã€‚**",
    "project": "instagram-post-generator",
    "usedIn": [
      "app/config/hashtags.ts"
    ],
    "code": "```json\n{\n  \"id\": \"skill_hashtag_service_multi_tier_2025_11_25\",\n  \"type\": \"skill\",\n  \"name\": \"å¤šå±¤ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°ã‚·ã‚¹ãƒ†ãƒ ï¼ˆLarge/Medium/Small 3éšå±¤ï¼‰\",\n  \"tags\": [\"ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°\", \"Instagram\", \"3éšå±¤\", \"ã‚¿ãƒ¼ã‚²ãƒƒãƒˆåˆ¥\", \"ã‚³ãƒ³ãƒ†ãƒ³ãƒ„åˆ†æ\"],\n  \"source_project\": \"instagram-post-generator\",\n  \"source_file\": \"app/config/hashtags.ts\",\n  \"difficulty\": \"intermediate\",\n  \"related_knowledge\": [\n    \"skill_five_diffusion_patterns_instagram_2025_11_25\"\n  ],\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# å¤šå±¤ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°ã‚·ã‚¹ãƒ†ãƒ ï¼ˆLarge/Medium/Small 3éšå±¤ï¼‰\n\n## ä½•ã‚’ã™ã‚‹ã‚¹ã‚­ãƒ«ã‹\n\n**InstagramæŠ•ç¨¿ã«æœ€é©ãªãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°ã‚’ã€æŠ•ç¨¿æ•°ã«å¿œã˜ãŸ3éšå±¤ï¼ˆLarge/Medium/Smallï¼‰ã§è‡ªå‹•é¸æŠã™ã‚‹æŠ€è¡“ã€‚**\n\n**3éšå±¤ã®å®šç¾©**:\n- **Large**: 100ä¸‡ä»¶ä»¥ä¸Šã®æŠ•ç¨¿ï¼ˆ#å°±æ´»ã€#è»¢è·ï¼‰\n- **Medium**: 10ä¸‡-100ä¸‡ä»¶ï¼ˆ#ã‚­ãƒ£ãƒªã‚¢ã‚¢ãƒƒãƒ—ã€#è‡ªå·±åˆ†æï¼‰\n- **Small**: 1ä¸‡-10ä¸‡ä»¶ï¼ˆ#å°±æ´»ç”Ÿã¨ç¹‹ãŒã‚ŠãŸã„ã€#ã‚­ãƒ£ãƒªã‚¢ãƒ‡ã‚¶ã‚¤ãƒ³ï¼‰\n\n**ã‚¿ãƒ¼ã‚²ãƒƒãƒˆåˆ¥**: 30ã‚¿ãƒ¼ã‚²ãƒƒãƒˆï¼ˆT001-T030ï¼‰ã”ã¨ã«æœ€é©åŒ–\n\n**é¸æŠæ¯”ç‡**: Large 30% : Medium 40% : Small 30%\n\n---\n\n## ãªãœã“ã®ã‚¹ã‚­ãƒ«ãŒé‡è¦ã‹\n\n### ç†ç”±1: Instagramã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ æœ€é©åŒ–\n\n**å•é¡Œ**: Largeãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°ã®ã¿ä½¿ç”¨\n\n```\n#å°±æ´» (500ä¸‡ä»¶) ã®ã¿\nâ†’ ç«¶åˆå¤šæ•°ã€åŸ‹ã‚‚ã‚Œã‚‹\nâ†’ ãƒªãƒ¼ãƒ500-1000ç¨‹åº¦\n```\n\n**è§£æ±º**: 3éšå±¤ãƒãƒ©ãƒ³ã‚¹\n\n```\nLarge: #å°±æ´» (500ä¸‡ä»¶)\nMedium: #ã‚­ãƒ£ãƒªã‚¢ã‚¢ãƒƒãƒ— (50ä¸‡ä»¶)\nSmall: #å°±æ´»ç”Ÿã¨ç¹‹ãŒã‚ŠãŸã„ (5ä¸‡ä»¶)\nâ†’ ãƒªãƒ¼ãƒ5000-10000ã«å‘ä¸Š\n```\n\n### ç†ç”±2: ã‚¿ãƒ¼ã‚²ãƒƒãƒˆåˆ¥æœ€é©åŒ–\n\n**ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã”ã¨ã«ç•°ãªã‚‹ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°**:\n\n| ã‚¿ãƒ¼ã‚²ãƒƒãƒˆ | Large | Medium | Small |\n|----------|-------|--------|-------|\n| T001ï¼ˆå¥³æ€§ãƒ»ã‚­ãƒ£ãƒªã‚¢ï¼‰ | #è»¢è·ã€#ã‚­ãƒ£ãƒªã‚¢ | #ã‚­ãƒ£ãƒªã‚¢ã‚¦ãƒ¼ãƒãƒ³ | #å¥³æ€§ã®ã‚­ãƒ£ãƒªã‚¢ |\n| T007ï¼ˆç”·æ€§ãƒ»ã‚¹ã‚­ãƒ«ï¼‰ | #ã‚¹ã‚­ãƒ«ã‚¢ãƒƒãƒ—ã€#è³‡æ ¼ | #ãƒ“ã‚¸ãƒã‚¹ã‚¹ã‚­ãƒ« | #è‡ªå·±ç ”é‘½ |\n| T013ï¼ˆä¼æ¥­æƒ…å ±ï¼‰ | #å°±æ´»ã€#ä¼æ¥­ç ”ç©¶ | #æ¥­ç•Œç ”ç©¶ | #ä¼æ¥­åˆ†æ |\n\n---\n\n## å†ç¾æ–¹æ³•\n\n### ã‚¹ãƒ†ãƒƒãƒ—1: ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°å®šç¾©\n\n```typescript\n// app/config/hashtags.ts\nexport const HASHTAG_DEFINITIONS = {\n  // Largeï¼ˆ100ä¸‡ä»¶ä»¥ä¸Šï¼‰\n  large: {\n    general: ['#å°±æ´»', '#è»¢è·', '#ã‚­ãƒ£ãƒªã‚¢', '#ã‚¹ã‚­ãƒ«ã‚¢ãƒƒãƒ—', '#è‡ªå·±æˆé•·'],\n    career: ['#å°±è·æ´»å‹•', '#è»¢è·æ´»å‹•', '#ã‚­ãƒ£ãƒªã‚¢ãƒã‚§ãƒ³ã‚¸'],\n    skill: ['#è³‡æ ¼å–å¾—', '#å­¦ç¿’', '#å‹‰å¼·']\n  },\n\n  // Mediumï¼ˆ10-100ä¸‡ä»¶ï¼‰\n  medium: {\n    general: ['#ã‚­ãƒ£ãƒªã‚¢ã‚¢ãƒƒãƒ—', '#è‡ªå·±åˆ†æ', '#20ä»£', '#æ–°å’'],\n    career: ['#ã‚­ãƒ£ãƒªã‚¢ãƒ‡ã‚¶ã‚¤ãƒ³', '#åƒãæ–¹', '#ãƒ¯ãƒ¼ã‚¯ãƒ©ã‚¤ãƒ•ãƒãƒ©ãƒ³ã‚¹'],\n    skill: ['#ãƒ“ã‚¸ãƒã‚¹ã‚¹ã‚­ãƒ«', '#è‡ªå·±å•“ç™º', '#æˆé•·']\n  },\n\n  // Smallï¼ˆ1-10ä¸‡ä»¶ï¼‰\n  small: {\n    general: ['#å°±æ´»ç”Ÿã¨ç¹‹ãŒã‚ŠãŸã„', '#è»¢è·æ´»å‹•ä¸­', '#ã‚­ãƒ£ãƒªã‚¢ç›¸è«‡'],\n    career: ['#å°±æ´»æº–å‚™', '#26å’', '#25å’'],\n    skill: ['#ã‚¹ã‚­ãƒ«ã‚¢ãƒƒãƒ—ä¸­', '#è³‡æ ¼å‹‰å¼·ä¸­']\n  }\n}\n\n// ã‚¿ãƒ¼ã‚²ãƒƒãƒˆåˆ¥ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°ï¼ˆ30ã‚¿ãƒ¼ã‚²ãƒƒãƒˆï¼‰\nexport const TARGET_HASHTAGS = {\n  'T001': {\n    large: ['#è»¢è·', '#ã‚­ãƒ£ãƒªã‚¢', '#åƒãå¥³æ€§'],\n    medium: ['#ã‚­ãƒ£ãƒªã‚¢ã‚¦ãƒ¼ãƒãƒ³', '#å¥³æ€§ã®åƒãæ–¹'],\n    small: ['#å¥³æ€§ã®ã‚­ãƒ£ãƒªã‚¢', '#ã‚­ãƒ£ãƒªã‚¢ãƒãƒ']\n  },\n  'T007': {\n    large: ['#ã‚¹ã‚­ãƒ«ã‚¢ãƒƒãƒ—', '#è³‡æ ¼', '#ãƒ“ã‚¸ãƒã‚¹'],\n    medium: ['#ãƒ“ã‚¸ãƒã‚¹ã‚¹ã‚­ãƒ«', '#è‡ªå·±ç ”é‘½'],\n    small: ['#ã‚¹ã‚­ãƒ«ã‚¢ãƒƒãƒ—ä¸­', '#ãƒ“ã‚¸ãƒã‚¹ãƒãƒ³']\n  },\n  // ... å…¨30ã‚¿ãƒ¼ã‚²ãƒƒãƒˆ\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2: ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°é¸æŠã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ \n\n```typescript\nexport class HashtagService {\n  /**\n   * ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°è‡ªå‹•é¸æŠ\n   */\n  static selectHashtags(\n    targetId: string,\n    content: string,\n    totalCount: number = 30\n  ): HashtagSet {\n    // Step 1: ã‚¿ãƒ¼ã‚²ãƒƒãƒˆåˆ¥ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°å–å¾—\n    const targetHashtags = TARGET_HASHTAGS[targetId] || TARGET_HASHTAGS['T001']\n\n    // Step 2: 3éšå±¤ã®é¸æŠæ•°æ±ºå®š\n    const counts = {\n      large: Math.floor(totalCount * 0.3),   // 30%\n      medium: Math.floor(totalCount * 0.4),  // 40%\n      small: Math.floor(totalCount * 0.3)    // 30%\n    }\n\n    // Step 3: å„éšå±¤ã‹ã‚‰ãƒ©ãƒ³ãƒ€ãƒ é¸æŠ\n    const selectedLarge = this.randomSelect(targetHashtags.large, counts.large)\n    const selectedMedium = this.randomSelect(targetHashtags.medium, counts.medium)\n    const selectedSmall = this.randomSelect(targetHashtags.small, counts.small)\n\n    // Step 4: ã‚³ãƒ³ãƒ†ãƒ³ãƒ„åˆ†æã«ã‚ˆã‚‹è¿½åŠ \n    const contentHashtags = this.analyzeContent(content)\n\n    return {\n      primary: selectedLarge,\n      secondary: selectedMedium,\n      trending: selectedSmall,\n      large: selectedLarge,\n      medium: selectedMedium,\n      small: selectedSmall,\n      all: [...selectedLarge, ...selectedMedium, ...selectedSmall, ...contentHashtags]\n    }\n  }\n\n  /**\n   * ãƒ©ãƒ³ãƒ€ãƒ é¸æŠ\n   */\n  private static randomSelect(array: string[], count: number): string[] {\n    const shuffled = [...array].sort(() => Math.random() - 0.5)\n    return shuffled.slice(0, Math.min(count, array.length))\n  }\n\n  /**\n   * ã‚³ãƒ³ãƒ†ãƒ³ãƒ„åˆ†æ\n   */\n  private static analyzeContent(content: string): string[] {\n    const keywords = ['é¢æ¥', 'ES', 'è‡ªå·±PR', 'ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ³']\n    const hashtags: string[] = []\n\n    for (const keyword of keywords) {\n      if (content.includes(keyword)) {\n        hashtags.push(`#${keyword}`)\n      }\n    }\n\n    return hashtags\n  }\n}\n\ninterface HashtagSet {\n  primary: string[]\n  secondary: string[]\n  trending: string[]\n  large: string[]\n  medium: string[]\n  small: string[]\n  all: string[]\n}\n```\n\n---\n\n## ã„ã¤ä½¿ã†ã‹\n\n### ä½¿ç”¨å ´é¢1: ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”Ÿæˆæ™‚\n\n```typescript\n// ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°ç”Ÿæˆ\nconst hashtags = HashtagService.selectHashtags('T001', userInput, 30)\n\nconsole.log('Large:', hashtags.large)\nconsole.log('Medium:', hashtags.medium)\nconsole.log('Small:', hashtags.small)\nconsole.log('å…¨ã¦:', hashtags.all.join(' '))\n```\n\n---\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- **skill_five_diffusion_patterns_instagram_2025_11_25**: Instagramæ‹¡æ•£ãƒ‘ã‚¿ãƒ¼ãƒ³\n\n---\n\n**ã¾ã¨ã‚**: å¤šå±¤ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°ã‚·ã‚¹ãƒ†ãƒ ã¯ã€3éšå±¤ï¼ˆLarge/Medium/Smallï¼‰ã§ãƒªãƒ¼ãƒã‚’æœ€å¤§åŒ–ã€‚ã‚¿ãƒ¼ã‚²ãƒƒãƒˆåˆ¥æœ€é©åŒ–ã«ã‚ˆã‚Šã€ã‚¨ãƒ³ã‚²ãƒ¼ã‚¸ãƒ¡ãƒ³ãƒˆç‡å‘ä¸Šã€‚\n",
    "prompt": "### ã‚¹ãƒ†ãƒƒãƒ—1: ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°å®šç¾©\n\n```typescript\n// app/config/hashtags.ts\nexport const HASHTAG_DEFINITIONS = {\n  // Largeï¼ˆ100ä¸‡ä»¶ä»¥ä¸Šï¼‰\n  large: {\n    general: ['#å°±æ´»', '#è»¢è·', '#ã‚­ãƒ£ãƒªã‚¢', '#ã‚¹ã‚­ãƒ«ã‚¢ãƒƒãƒ—', '#è‡ªå·±æˆé•·'],\n    career: ['#å°±è·æ´»å‹•', '#è»¢è·æ´»å‹•', '#ã‚­ãƒ£ãƒªã‚¢ãƒã‚§ãƒ³ã‚¸'],\n    skill: ['#è³‡æ ¼å–å¾—', '#å­¦ç¿’', '#å‹‰å¼·']\n  },\n\n  // Mediumï¼ˆ10-100ä¸‡ä»¶ï¼‰\n  medium: {\n    general: ['#ã‚­ãƒ£ãƒªã‚¢ã‚¢ãƒƒãƒ—', '#è‡ªå·±åˆ†æ', '#20ä»£', '#æ–°å’'],\n    career: ['#ã‚­ãƒ£ãƒªã‚¢ãƒ‡ã‚¶ã‚¤ãƒ³', '#åƒãæ–¹', '#ãƒ¯ãƒ¼ã‚¯ãƒ©ã‚¤ãƒ•ãƒãƒ©ãƒ³ã‚¹'],\n    skill: ['#ãƒ“ã‚¸ãƒã‚¹ã‚¹ã‚­ãƒ«', '#è‡ªå·±å•“ç™º', '#æˆé•·']\n  },\n\n  // Smallï¼ˆ1-10ä¸‡ä»¶ï¼‰\n  small: {\n    general: ['#å°±æ´»ç”Ÿã¨ç¹‹ãŒã‚ŠãŸã„', '#è»¢è·æ´»å‹•ä¸­', '#ã‚­ãƒ£ãƒªã‚¢ç›¸è«‡'],\n    career: ['#å°±æ´»æº–å‚™', '#26å’', '#25å’'],\n    skill: ['#ã‚¹ã‚­ãƒ«ã‚¢ãƒƒãƒ—ä¸­', '#è³‡æ ¼å‹‰å¼·ä¸­']\n  }\n}\n\n// ã‚¿ãƒ¼ã‚²ãƒƒãƒˆåˆ¥ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°ï¼ˆ30ã‚¿ãƒ¼ã‚²ãƒƒãƒˆï¼‰\nexport const TARGET_HASHTAGS = {\n  'T001': {\n    large: ['#è»¢è·', '#ã‚­ãƒ£ãƒªã‚¢', '#åƒãå¥³æ€§'],\n    medium: ['#ã‚­ãƒ£ãƒªã‚¢ã‚¦ãƒ¼ãƒãƒ³', '#å¥³æ€§ã®åƒãæ–¹'],\n    small: ['#å¥³æ€§ã®ã‚­ãƒ£ãƒªã‚¢', '#ã‚­ãƒ£ãƒªã‚¢ãƒãƒ']\n  },\n  'T007': {\n    large: ['#ã‚¹ã‚­ãƒ«ã‚¢ãƒƒãƒ—', '#è³‡æ ¼', '#ãƒ“ã‚¸ãƒã‚¹'],\n    medium: ['#ãƒ“ã‚¸ãƒã‚¹ã‚¹ã‚­ãƒ«', '#è‡ªå·±ç ”é‘½'],\n    small: ['#ã‚¹ã‚­ãƒ«ã‚¢ãƒƒãƒ—ä¸­', '#ãƒ“ã‚¸ãƒã‚¹ãƒãƒ³']\n  },\n  // ... å…¨30ã‚¿ãƒ¼ã‚²ãƒƒãƒˆ\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2: ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°é¸æŠã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ \n\n```typescript\nexport class HashtagService {\n  /**\n   * ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°è‡ªå‹•é¸æŠ\n   */\n  static selectHashtags(\n    targetId: string,\n    content: string,\n    totalCount: number = 30\n  ): HashtagSet {\n    // Step 1: ã‚¿ãƒ¼ã‚²ãƒƒãƒˆåˆ¥ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°å–å¾—\n    const targetHashtags = TARGET_HASHTAGS[targetId] || TARGET_HASHTAGS['T001']\n\n    // Step 2: 3éšå±¤ã®é¸æŠæ•°æ±ºå®š\n    const counts = {\n      large: Math.floor(totalCount * 0.3),   // 30%\n      medium: Math.floor(totalCount * 0.4),  // 40%\n      small: Math.floor(totalCount * 0.3)    // 30%\n    }\n\n    // Step 3: å„éšå±¤ã‹ã‚‰ãƒ©ãƒ³ãƒ€ãƒ é¸æŠ\n    const selectedLarge = this.randomSelect(targetHashtags.large, counts.large)\n    const selectedMedium = this.randomSelect(targetHashtags.medium, counts.medium)\n    const selectedSmall = this.randomSelect(targetHashtags.small, counts.small)\n\n    // Step 4: ã‚³ãƒ³ãƒ†ãƒ³ãƒ„åˆ†æã«ã‚ˆã‚‹è¿½åŠ \n    const contentHashtags = this.analyzeContent(content)\n\n    return {\n      primary: selectedLarge,\n      secondary: selectedMedium,\n      trending: selectedSmall,\n      large: selectedLarge,\n      medium: selectedMedium,\n      small: selectedSmall,\n      all: [...selectedLarge, ...selectedMedium, ...selectedSmall, ...contentHashtags]\n    }\n  }\n\n  /**\n   * ãƒ©ãƒ³ãƒ€ãƒ é¸æŠ\n   */\n  private static randomSelect(array: string[], count: number): string[] {\n    const shuffled = [...array].sort(() => Math.random() - 0.5)\n    return shuffled.slice(0, Math.min(count, array.length))\n  }\n\n  /**\n   * ã‚³ãƒ³ãƒ†ãƒ³ãƒ„åˆ†æ\n   */\n  private static analyzeContent(content: string): string[] {\n    const keywords = ['é¢æ¥', 'ES', 'è‡ªå·±PR', 'ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ³']\n    const hashtags: string[] = []\n\n    for (const keyword of keywords) {\n      if (content.includes(keyword)) {\n        hashtags.push(`#${keyword}`)\n      }\n    }\n\n    return hashtags\n  }\n}\n\ninterface HashtagSet {\n  primary: string[]\n  secondary: string[]\n  trending: string[]\n  large: string[]\n  medium: string[]\n  small: string[]\n  all: string[]\n}\n```\n\n---",
    "relatedTech": [
      "skill-five-diffusion-patterns-instagram"
    ]
  },
  {
    "slug": "html2canvas-optimization-techniques",
    "title": "html2canvasæœ€é©åŒ–ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯",
    "category": "Skillsï¼ˆã‚¹ã‚­ãƒ«ãƒ»æ‰‹æ³•ï¼‰",
    "description": "**Reactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’DOMçµŒç”±ã§Canvasã«å¤‰æ›ã—ã€é«˜å“è³ªPNGç”»åƒã‚’ç”Ÿæˆã™ã‚‹æŠ€è¡“ã€‚**",
    "project": "instagram-post-generator",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"skill_html2canvas_optimization_techniques_2025_11_25\",\n  \"type\": \"skill\",\n  \"name\": \"html2canvasæœ€é©åŒ–ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯ï¼ˆDOMâ†’Canvasâ†’PNGå¤‰æ›ï¼‰\",\n  \"tags\": [\"html2canvas\", \"Canvas\", \"PNGç”Ÿæˆ\", \"æœ€é©åŒ–\", \"ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹\"],\n  \"source_project\": \"instagram-post-generator\",\n  \"difficulty\": \"intermediate\",\n  \"related_knowledge\": [\"workflow_content_generation_complete_workflow_2025_11_25\"],\n  \"prerequisites\": [\"HTML/CSS\", \"Canvas API\", \"éåŒæœŸå‡¦ç†\"],\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# html2canvasæœ€é©åŒ–ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯\n\n## ä½•ã‚’ã™ã‚‹ã‚¹ã‚­ãƒ«ã‹\n\n**Reactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’DOMçµŒç”±ã§Canvasã«å¤‰æ›ã—ã€é«˜å“è³ªPNGç”»åƒã‚’ç”Ÿæˆã™ã‚‹æŠ€è¡“ã€‚**\n\n**å¤‰æ›ãƒ•ãƒ­ãƒ¼**:\n```\nReact Component â†’ DOM Rendering â†’ html2canvas â†’ Canvas â†’ PNG (1080x1080)\n```\n\nInstagramæŠ•ç¨¿ã®10ãƒšãƒ¼ã‚¸ã‚’å€‹åˆ¥ã«PNGç”»åƒåŒ–ã—ã€ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰å¯èƒ½ã«ã™ã‚‹ã€‚\n\n**æœ€é©åŒ–ãƒã‚¤ãƒ³ãƒˆ**:\n1. ç”»åƒã®é«˜è§£åƒåº¦åŒ–ï¼ˆscale: 2ï¼‰\n2. ãƒ•ã‚©ãƒ³ãƒˆèª­ã¿è¾¼ã¿å¾…æ©Ÿ\n3. å¤–éƒ¨ç”»åƒã®CORSå¯¾å¿œ\n4. ãƒ¡ãƒ¢ãƒªãƒªãƒ¼ã‚¯é˜²æ­¢\n5. ä¸¦åˆ—å‡¦ç†ã®åˆ¶å¾¡\n\n---\n\n## ãªãœã“ã®ã‚¹ã‚­ãƒ«ãŒé‡è¦ã‹\n\n### ç†ç”±1: Instagramæœ€é©ç”»åƒã®ç”Ÿæˆ\n\nInstagramã¯1080x1080pxã®æ­£æ–¹å½¢ç”»åƒã‚’æ¨å¥¨ã€‚html2canvasã§é«˜å“è³ªç”Ÿæˆã€‚\n\n**å“è³ªè¦ä»¶**:\n- è§£åƒåº¦: 1080x1080px\n- ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ: PNGï¼ˆé€éãªã—ã€ç™½èƒŒæ™¯ï¼‰\n- ç”»è³ª: é«˜ç²¾ç´°ï¼ˆscale: 2ã§å®Ÿè³ª2160x2160pxç”Ÿæˆâ†’ãƒ€ã‚¦ãƒ³ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°ï¼‰\n\n### ç†ç”±2: ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®æŸ”è»Ÿæ€§\n\nCSS/Tailwind CSSã§è‡ªç”±ã«ãƒ‡ã‚¶ã‚¤ãƒ³å¯èƒ½ã€‚Canvasãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚ˆã‚ŠæŸ”è»Ÿã€‚\n\n**æ¯”è¼ƒ**:\n- html2canvas: CSSå®Œå…¨å¯¾å¿œã€ãƒ•ã‚©ãƒ³ãƒˆè‡ªç”±ã€ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ»å½±OK\n- Canvas APIç›´æ¥: CSSæœªå¯¾å¿œã€ä½ãƒ¬ãƒ™ãƒ«æç”»ã®ã¿\n- **html2canvasãŒåœ§å€’çš„ã«æ¥½**\n\n---\n\n## å†ç¾æ–¹æ³•\n\n### åŸºæœ¬å®Ÿè£…\n\n```typescript\n// app/lib/imageExport.ts\nimport html2canvas from 'html2canvas'\n\nexport async function exportDOMToImage(\n  element: HTMLElement,\n  options?: Html2CanvasOptions\n): Promise<string> {\n  const canvas = await html2canvas(element, {\n    scale: 2,              // é«˜è§£åƒåº¦åŒ–ï¼ˆ2å€ï¼‰\n    useCORS: true,         // å¤–éƒ¨ç”»åƒCORSå¯¾å¿œ\n    allowTaint: false,     // ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£\n    backgroundColor: '#ffffff',  // ç™½èƒŒæ™¯\n    logging: false,        // ãƒ­ã‚°ç„¡åŠ¹åŒ–\n    ...options\n  })\n\n  // Canvas â†’ PNG (Data URL)\n  return canvas.toDataURL('image/png', 1.0)  // å“è³ª100%\n}\n```\n\n### æœ€é©åŒ–1: é«˜è§£åƒåº¦åŒ–ï¼ˆscale: 2ï¼‰\n\n**ç›®çš„**: Retinaå¯¾å¿œã€é«˜ç²¾ç´°ç”»åƒç”Ÿæˆ\n\n```typescript\nconst canvas = await html2canvas(element, {\n  scale: 2,  // 2å€è§£åƒåº¦ï¼ˆ1080x1080 â†’ 2160x2160ï¼‰\n  width: 1080,\n  height: 1080\n})\n\n// ãƒ€ã‚¦ãƒ³ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°ï¼ˆ2160x2160 â†’ 1080x1080ï¼‰\nconst finalCanvas = document.createElement('canvas')\nfinalCanvas.width = 1080\nfinalCanvas.height = 1080\nconst ctx = finalCanvas.getContext('2d')!\nctx.drawImage(canvas, 0, 0, 1080, 1080)\n\nreturn finalCanvas.toDataURL('image/png', 1.0)\n```\n\n**åŠ¹æœ**: æ–‡å­—ã®ã‚¸ãƒ£ã‚®ãƒ¼å‰Šæ¸›ã€æ»‘ã‚‰ã‹ãªæç”»\n\n### æœ€é©åŒ–2: ãƒ•ã‚©ãƒ³ãƒˆèª­ã¿è¾¼ã¿å¾…æ©Ÿ\n\n**å•é¡Œ**: html2canvaså®Ÿè¡Œæ™‚ã«ãƒ•ã‚©ãƒ³ãƒˆæœªèª­ã¿è¾¼ã¿â†’ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ•ã‚©ãƒ³ãƒˆä½¿ç”¨\n\n**è§£æ±º**:\n```typescript\n// app/lib/imageExport.ts\nasync function waitForFontsLoad(): Promise<void> {\n  if ('fonts' in document) {\n    await document.fonts.ready\n    console.log('[html2canvas] Fonts loaded')\n  } else {\n    // ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯: 500mså¾…æ©Ÿ\n    await new Promise(resolve => setTimeout(resolve, 500))\n  }\n}\n\nexport async function exportDOMToImageWithFonts(\n  element: HTMLElement\n): Promise<string> {\n  // ãƒ•ã‚©ãƒ³ãƒˆèª­ã¿è¾¼ã¿å®Œäº†ã‚’å¾…æ©Ÿ\n  await waitForFontsLoad()\n\n  // html2canvaså®Ÿè¡Œ\n  const canvas = await html2canvas(element, { scale: 2 })\n  return canvas.toDataURL('image/png', 1.0)\n}\n```\n\n**åŠ¹æœ**: æ­£ã—ã„ãƒ•ã‚©ãƒ³ãƒˆã§ç”»åƒç”Ÿæˆ\n\n### æœ€é©åŒ–3: å¤–éƒ¨ç”»åƒã®CORSå¯¾å¿œ\n\n**å•é¡Œ**: å¤–éƒ¨ãƒ‰ãƒ¡ã‚¤ãƒ³ã®ç”»åƒãŒCORSåˆ¶ç´„ã§èª­ã¿è¾¼ã‚ãªã„\n\n**è§£æ±º1: ãƒ—ãƒ­ã‚­ã‚·ä½¿ç”¨**:\n```typescript\nconst canvas = await html2canvas(element, {\n  useCORS: true,\n  proxy: '/api/image-proxy'  // Next.js API Route\n})\n```\n\n**è§£æ±º2: Base64åŸ‹ã‚è¾¼ã¿**:\n```typescript\n// å¤–éƒ¨ç”»åƒã‚’Base64ã«å¤‰æ›ã—ã¦ã‹ã‚‰åŸ‹ã‚è¾¼ã¿\nasync function loadImageAsBase64(url: string): Promise<string> {\n  const response = await fetch(url)\n  const blob = await response.blob()\n  return new Promise((resolve) => {\n    const reader = new FileReader()\n    reader.onloadend = () => resolve(reader.result as string)\n    reader.readAsDataURL(blob)\n  })\n}\n\n// ä½¿ç”¨ä¾‹\nconst imageData = await loadImageAsBase64('https://example.com/image.jpg')\n<img src={imageData} />  // Base64ãªã®ã§CORSå•é¡Œãªã—\n```\n\n**åŠ¹æœ**: å¤–éƒ¨ç”»åƒã‚’ç¢ºå®Ÿã«æç”»\n\n### æœ€é©åŒ–4: ãƒ¡ãƒ¢ãƒªãƒªãƒ¼ã‚¯é˜²æ­¢\n\n**å•é¡Œ**: å¤§é‡ã®Canvasç”Ÿæˆã§ãƒ¡ãƒ¢ãƒªãƒªãƒ¼ã‚¯\n\n**è§£æ±º**:\n```typescript\nexport async function exportMultiplePagesSequentially(\n  pageElements: HTMLElement[]\n): Promise<string[]> {\n  const images: string[] = []\n\n  for (const element of pageElements) {\n    const canvas = await html2canvas(element, { scale: 2 })\n    const dataUrl = canvas.toDataURL('image/png', 1.0)\n    images.push(dataUrl)\n\n    // Canvasè§£æ”¾ï¼ˆãƒ¡ãƒ¢ãƒªãƒªãƒ¼ã‚¯é˜²æ­¢ï¼‰\n    canvas.width = 0\n    canvas.height = 0\n\n    // GCä¿ƒé€²ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰\n    await new Promise(resolve => setTimeout(resolve, 10))\n  }\n\n  return images\n}\n```\n\n**åŠ¹æœ**: ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡ã‚’æŠ‘åˆ¶\n\n### æœ€é©åŒ–5: ä¸¦åˆ—å‡¦ç†ã®åˆ¶å¾¡\n\n**å•é¡Œ**: 10ãƒšãƒ¼ã‚¸ã‚’ä¸¦åˆ—ç”Ÿæˆã™ã‚‹ã¨é‡ã™ãã‚‹\n\n**è§£æ±º**: 2-3ãƒšãƒ¼ã‚¸ãšã¤ãƒãƒƒãƒå‡¦ç†\n\n```typescript\nasync function exportInBatches(\n  pageElements: HTMLElement[],\n  batchSize: number = 3\n): Promise<string[]> {\n  const images: string[] = []\n\n  for (let i = 0; i < pageElements.length; i += batchSize) {\n    const batch = pageElements.slice(i, i + batchSize)\n\n    // ãƒãƒƒãƒå†…ã¯ä¸¦åˆ—å‡¦ç†\n    const batchImages = await Promise.all(\n      batch.map(element => exportDOMToImageWithFonts(element))\n    )\n\n    images.push(...batchImages)\n    console.log(`[html2canvas] Batch ${i / batchSize + 1} completed`)\n  }\n\n  return images\n}\n```\n\n**åŠ¹æœ**: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã¨ãƒ¡ãƒ¢ãƒªã®ãƒãƒ©ãƒ³ã‚¹\n\n### å®Œå…¨å®Ÿè£…ä¾‹\n\n```typescript\n// app/lib/imageExport.ts\nimport html2canvas from 'html2canvas'\n\ninterface ExportOptions {\n  scale?: number\n  batchSize?: number\n  backgroundColor?: string\n}\n\nexport class ImageExporter {\n  private async waitForFontsLoad(): Promise<void> {\n    if ('fonts' in document) {\n      await document.fonts.ready\n    } else {\n      await new Promise(resolve => setTimeout(resolve, 500))\n    }\n  }\n\n  private async exportSingleElement(\n    element: HTMLElement,\n    scale: number = 2\n  ): Promise<string> {\n    const canvas = await html2canvas(element, {\n      scale,\n      useCORS: true,\n      allowTaint: false,\n      backgroundColor: '#ffffff',\n      logging: false,\n      width: 1080,\n      height: 1080\n    })\n\n    const dataUrl = canvas.toDataURL('image/png', 1.0)\n\n    // ãƒ¡ãƒ¢ãƒªè§£æ”¾\n    canvas.width = 0\n    canvas.height = 0\n\n    return dataUrl\n  }\n\n  public async exportMultiplePages(\n    pageElements: HTMLElement[],\n    options: ExportOptions = {}\n  ): Promise<string[]> {\n    const { scale = 2, batchSize = 3 } = options\n\n    // ãƒ•ã‚©ãƒ³ãƒˆèª­ã¿è¾¼ã¿å¾…æ©Ÿ\n    await this.waitForFontsLoad()\n\n    const images: string[] = []\n\n    // ãƒãƒƒãƒå‡¦ç†\n    for (let i = 0; i < pageElements.length; i += batchSize) {\n      const batch = pageElements.slice(i, i + batchSize)\n\n      const batchImages = await Promise.all(\n        batch.map(element => this.exportSingleElement(element, scale))\n      )\n\n      images.push(...batchImages)\n      console.log(`[ImageExporter] Batch ${Math.floor(i / batchSize) + 1}/${Math.ceil(pageElements.length / batchSize)} completed`)\n    }\n\n    return images\n  }\n}\n\n// ä½¿ç”¨ä¾‹\nconst exporter = new ImageExporter()\nconst images = await exporter.exportMultiplePages(pageElements, {\n  scale: 2,\n  batchSize: 3\n})\n```\n\n---\n\n## ã„ã¤ä½¿ã†ã‹\n\n### ä½¿ã†ã¹ãå ´é¢\n\n1. **DOMâ†’ç”»åƒå¤‰æ›ãŒå¿…è¦**\n   - React Component â†’ PNG\n   - CSSå®Œå…¨å¯¾å¿œãŒå¿…è¦\n   - **html2canvasãŒæœ€é©**\n\n2. **Instagram/SNSç”»åƒç”Ÿæˆ**\n   - 1080x1080pxæ¨å¥¨\n   - é«˜å“è³ªå¿…é ˆ\n   - **æœ€é©åŒ–ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯é©ç”¨**\n\n3. **è¤‡æ•°ãƒšãƒ¼ã‚¸ã®ä¸€æ‹¬ç”Ÿæˆ**\n   - 10ãƒšãƒ¼ã‚¸æŠ•ç¨¿\n   - ãƒãƒƒãƒå‡¦ç†å¿…é ˆ\n   - **ä¸¦åˆ—åˆ¶å¾¡é‡è¦**\n\n### ä½¿ã‚ãªã„æ–¹ãŒè‰¯ã„å ´é¢\n\n1. **å˜ç´”ãªå›³å½¢æç”»**\n   - Canvas APIç›´æ¥ã®æ–¹ãŒé€Ÿã„\n   - html2canvasã¯ä¸è¦\n   - **ã‚ªãƒ¼ãƒãƒ¼ãƒ˜ãƒƒãƒ‰**\n\n2. **è¶…é«˜é€Ÿç”ŸæˆãŒå¿…è¦**\n   - html2canvasã¯é‡ã„ï¼ˆ1ãƒšãƒ¼ã‚¸2-3ç§’ï¼‰\n   - ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ç”Ÿæˆæ¤œè¨\n   - **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ä¸è¶³**\n\n---\n\n## æ³¨æ„ç‚¹\n\n### æ³¨æ„ç‚¹1: ãƒ–ãƒ©ã‚¦ã‚¶ä¾å­˜æ€§\n\nhtml2canvasã¯ãƒ–ãƒ©ã‚¦ã‚¶ã®ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã‚¨ãƒ³ã‚¸ãƒ³ã«ä¾å­˜ã€‚\n\n**å¯¾ç­–**:\n- Chrome/Edgeæ¨å¥¨\n- Safari/Firefoxã§ã‚‚ãƒ†ã‚¹ãƒˆ\n- ã‚¯ãƒ­ã‚¹ãƒ–ãƒ©ã‚¦ã‚¶æ¤œè¨¼\n\n### æ³¨æ„ç‚¹2: CSSåˆ¶é™\n\nä¸€éƒ¨ã®CSSæ©Ÿèƒ½ã¯æœªå¯¾å¿œã€‚\n\n**æœªå¯¾å¿œä¾‹**:\n- `box-shadow` ã®è¤‡é›‘ãªåŠ¹æœ\n- `backdrop-filter`\n- ä¸€éƒ¨ã®ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³\n\n**å¯¾ç­–**: ã‚·ãƒ³ãƒ—ãƒ«ãªCSSã‚’ä½¿ç”¨\n\n### æ³¨æ„ç‚¹3: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹\n\n10ãƒšãƒ¼ã‚¸ç”Ÿæˆã§20-30ç§’ã‹ã‹ã‚‹ã€‚\n\n**å¯¾ç­–**:\n- ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼è¡¨ç¤º\n- ãƒãƒƒãƒå‡¦ç†\n- Web Workeræ¤œè¨ï¼ˆå°†æ¥ï¼‰\n\n---\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- **workflow_content_generation_complete_workflow_2025_11_25.md**: ç”»åƒç”Ÿæˆã‚’å«ã‚€å®Œå…¨ãƒ•ãƒ­ãƒ¼\n\n---\n\n**html2canvasæœ€é©åŒ–ã¯ã€é«˜å“è³ªInstagramç”»åƒç”Ÿæˆã®éµã§ã‚ã‚‹ã€‚**\n",
    "prompt": "### åŸºæœ¬å®Ÿè£…\n\n```typescript\n// app/lib/imageExport.ts\nimport html2canvas from 'html2canvas'\n\nexport async function exportDOMToImage(\n  element: HTMLElement,\n  options?: Html2CanvasOptions\n): Promise<string> {\n  const canvas = await html2canvas(element, {\n    scale: 2,              // é«˜è§£åƒåº¦åŒ–ï¼ˆ2å€ï¼‰\n    useCORS: true,         // å¤–éƒ¨ç”»åƒCORSå¯¾å¿œ\n    allowTaint: false,     // ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£\n    backgroundColor: '#ffffff',  // ç™½èƒŒæ™¯\n    logging: false,        // ãƒ­ã‚°ç„¡åŠ¹åŒ–\n    ...options\n  })\n\n  // Canvas â†’ PNG (Data URL)\n  return canvas.toDataURL('image/png', 1.0)  // å“è³ª100%\n}\n```\n\n### æœ€é©åŒ–1: é«˜è§£åƒåº¦åŒ–ï¼ˆscale: 2ï¼‰\n\n**ç›®çš„**: Retinaå¯¾å¿œã€é«˜ç²¾ç´°ç”»åƒç”Ÿæˆ\n\n```typescript\nconst canvas = await html2canvas(element, {\n  scale: 2,  // 2å€è§£åƒåº¦ï¼ˆ1080x1080 â†’ 2160x2160ï¼‰\n  width: 1080,\n  height: 1080\n})\n\n// ãƒ€ã‚¦ãƒ³ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°ï¼ˆ2160x2160 â†’ 1080x1080ï¼‰\nconst finalCanvas = document.createElement('canvas')\nfinalCanvas.width = 1080\nfinalCanvas.height = 1080\nconst ctx = finalCanvas.getContext('2d')!\nctx.drawImage(canvas, 0, 0, 1080, 1080)\n\nreturn finalCanvas.toDataURL('image/png', 1.0)\n```\n\n**åŠ¹æœ**: æ–‡å­—ã®ã‚¸ãƒ£ã‚®ãƒ¼å‰Šæ¸›ã€æ»‘ã‚‰ã‹ãªæç”»\n\n### æœ€é©åŒ–2: ãƒ•ã‚©ãƒ³ãƒˆèª­ã¿è¾¼ã¿å¾…æ©Ÿ\n\n**å•é¡Œ**: html2canvaså®Ÿè¡Œæ™‚ã«ãƒ•ã‚©ãƒ³ãƒˆæœªèª­ã¿è¾¼ã¿â†’ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ•ã‚©ãƒ³ãƒˆä½¿ç”¨\n\n**è§£æ±º**:\n```typescript\n// app/lib/imageExport.ts\nasync function waitForFontsLoad(): Promise<void> {\n  if ('fonts' in document) {\n    await document.fonts.ready\n    console.log('[html2canvas] Fonts loaded')\n  } else {\n    // ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯: 500mså¾…æ©Ÿ\n    await new Promise(resolve => setTimeout(resolve, 500))\n  }\n}\n\nexport async function exportDOMToImageWithFonts(\n  element: HTMLElement\n): Promise<string> {\n  // ãƒ•ã‚©ãƒ³ãƒˆèª­ã¿è¾¼ã¿å®Œäº†ã‚’å¾…æ©Ÿ\n  await waitForFontsLoad()\n\n  // html2canvaså®Ÿè¡Œ\n  const canvas = await html2canvas(element, { scale: 2 })\n  return canvas.toDataURL('image/png', 1.0)\n}\n```\n\n**åŠ¹æœ**: æ­£ã—ã„ãƒ•ã‚©ãƒ³ãƒˆã§ç”»åƒç”Ÿæˆ\n\n### æœ€é©åŒ–3: å¤–éƒ¨ç”»åƒã®CORSå¯¾å¿œ\n\n**å•é¡Œ**: å¤–éƒ¨ãƒ‰ãƒ¡ã‚¤ãƒ³ã®ç”»åƒãŒCORSåˆ¶ç´„ã§èª­ã¿è¾¼ã‚ãªã„\n\n**è§£æ±º1: ãƒ—ãƒ­ã‚­ã‚·ä½¿ç”¨**:\n```typescript\nconst canvas = await html2canvas(element, {\n  useCORS: true,\n  proxy: '/api/image-proxy'  // Next.js API Route\n})\n```\n\n**è§£æ±º2: Base64åŸ‹ã‚è¾¼ã¿**:\n```typescript\n// å¤–éƒ¨ç”»åƒã‚’Base64ã«å¤‰æ›ã—ã¦ã‹ã‚‰åŸ‹ã‚è¾¼ã¿\nasync function loadImageAsBase64(url: string): Promise<string> {\n  const response = await fetch(url)\n  const blob = await response.blob()\n  return new Promise((resolve) => {\n    const reader = new FileReader()\n    reader.onloadend = () => resolve(reader.result as string)\n    reader.readAsDataURL(blob)\n  })\n}\n\n// ä½¿ç”¨ä¾‹\nconst imageData = await loadImageAsBase64('https://example.com/image.jpg')\n<img src={imageData} />  // Base64ãªã®ã§CORSå•é¡Œãªã—\n```\n\n**åŠ¹æœ**: å¤–éƒ¨ç”»åƒã‚’ç¢ºå®Ÿã«æç”»\n\n### æœ€é©åŒ–4: ãƒ¡ãƒ¢ãƒªãƒªãƒ¼ã‚¯é˜²æ­¢\n\n**å•é¡Œ**: å¤§é‡ã®Canvasç”Ÿæˆã§ãƒ¡ãƒ¢ãƒªãƒªãƒ¼ã‚¯\n\n**è§£æ±º**:\n```typescript\nexport async function exportMultiplePagesSequentially(\n  pageElements: HTMLElement[]\n): Promise<string[]> {\n  const images: string[] = []\n\n  for (const element of pageElements) {\n    const canvas = await html2canvas(element, { scale: 2 })\n    const dataUrl = canvas.toDataURL('image/png', 1.0)\n    images.push(dataUrl)\n\n    // Canvasè§£æ”¾ï¼ˆãƒ¡ãƒ¢ãƒªãƒªãƒ¼ã‚¯é˜²æ­¢ï¼‰\n    canvas.width = 0\n    canvas.height = 0\n\n    // GCä¿ƒé€²ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰\n    await new Promise(resolve => setTimeout(resolve, 10))\n  }\n\n  return images\n}\n```\n\n**åŠ¹æœ**: ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡ã‚’æŠ‘åˆ¶\n\n### æœ€é©åŒ–5: ä¸¦åˆ—å‡¦ç†ã®åˆ¶å¾¡\n\n**å•é¡Œ**: 10ãƒšãƒ¼ã‚¸ã‚’ä¸¦åˆ—ç”Ÿæˆã™ã‚‹ã¨é‡ã™ãã‚‹\n\n**è§£æ±º**: 2-3ãƒšãƒ¼ã‚¸ãšã¤ãƒãƒƒãƒå‡¦ç†\n\n```typescript\nasync function exportInBatches(\n  pageElements: HTMLElement[],\n  batchSize: number = 3\n): Promise<string[]> {\n  const images: string[] = []\n\n  for (let i = 0; i < pageElements.length; i += batchSize) {\n    const batch = pageElements.slice(i, i + batchSize)\n\n    // ãƒãƒƒãƒå†…ã¯ä¸¦åˆ—å‡¦ç†\n    const batchImages = await Promise.all(\n      batch.map(element => exportDOMToImageWithFonts(element))\n    )\n\n    images.push(...batchImages)\n    console.log(`[html2canvas] Batch ${i / batchSize + 1} completed`)\n  }\n\n  return images\n}\n```\n\n**åŠ¹æœ**: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã¨ãƒ¡ãƒ¢ãƒªã®ãƒãƒ©ãƒ³ã‚¹\n\n### å®Œå…¨å®Ÿè£…ä¾‹\n\n```typescript\n// app/lib/imageExport.ts\nimport html2canvas from 'html2canvas'\n\ninterface ExportOptions {\n  scale?: number\n  batchSize?: number\n  backgroundColor?: string\n}\n\nexport class ImageExporter {\n  private async waitForFontsLoad(): Promise<void> {\n    if ('fonts' in document) {\n      await document.fonts.ready\n    } else {\n      await new Promise(resolve => setTimeout(resolve, 500))\n    }\n  }\n\n  private async exportSingleElement(\n    element: HTMLElement,\n    scale: number = 2\n  ): Promise<string> {\n    const canvas = await html2canvas(element, {\n      scale,\n      useCORS: true,\n      allowTaint: false,\n      backgroundColor: '#ffffff',\n      logging: false,\n      width: 1080,\n      height: 1080\n    })\n\n    const dataUrl = canvas.toDataURL('image/png', 1.0)\n\n    // ãƒ¡ãƒ¢ãƒªè§£æ”¾\n    canvas.width = 0\n    canvas.height = 0\n\n    return dataUrl\n  }\n\n  public async exportMultiplePages(\n    pageElements: HTMLElement[],\n    options: ExportOptions = {}\n  ): Promise<string[]> {\n    const { scale = 2, batchSize = 3 } = options\n\n    // ãƒ•ã‚©ãƒ³ãƒˆèª­ã¿è¾¼ã¿å¾…æ©Ÿ\n    await this.waitForFontsLoad()\n\n    const images: string[] = []\n\n    // ãƒãƒƒãƒå‡¦ç†\n    for (let i = 0; i < pageElements.length; i += batchSize) {\n      const batch = pageElements.slice(i, i + batchSize)\n\n      const batchImages = await Promise.all(\n        batch.map(element => this.exportSingleElement(element, scale))\n      )\n\n      images.push(...batchImages)\n      console.log(`[ImageExporter] Batch ${Math.floor(i / batchSize) + 1}/${Math.ceil(pageElements.length / batchSize)} completed`)\n    }\n\n    return images\n  }\n}\n\n// ä½¿ç”¨ä¾‹\nconst exporter = new ImageExporter()\nconst images = await exporter.exportMultiplePages(pageElements, {\n  scale: 2,\n  batchSize: 3\n})\n```\n\n---",
    "relatedTech": [
      "workflow-content-generation-complete-workflow"
    ]
  },
  {
    "slug": "infinite-loop-prevention-consolidation-guard",
    "title": "ãƒ—ãƒ­ã‚»ã‚¹å›ºæœ‰ãƒ­ãƒƒã‚¯ç„¡é™ãƒ«ãƒ¼ãƒ—é˜²æ­¢ãƒ‘ã‚¿ãƒ¼ãƒ³",
    "category": "Skillsï¼ˆã‚¹ã‚­ãƒ«ãƒ»æ‰‹æ³•ï¼‰",
    "description": "ãƒ‡ãƒ¼ã‚¿çµ±åˆå‡¦ç†ãŒè‡ªå·±ã‚’å†å¸°çš„ã«å‘¼ã³å‡ºã—ã¦ç„¡é™ãƒ«ãƒ¼ãƒ—ã«é™¥ã‚‹ã®ã‚’é˜²ãã€**ãƒ—ãƒ­ã‚»ã‚¹å›ºæœ‰ã®ä¸€æ„ãªIDã‚’ä½¿ã£ãŸãƒ­ãƒƒã‚¯æ©Ÿæ§‹**ã€‚å¾“æ¥ã®å›ºå®šcaller IDæ–¹å¼ã§ã¯æ°¸ç¶šãƒ­ãƒƒã‚¯ãŒç™ºç”Ÿã™ã‚‹å•é¡Œã‚’ã€ãƒ—ãƒ­ã‚»ã‚¹IDãƒ»ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—ãƒ»ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹IDã‚’çµ„ã¿åˆã‚ã›ã¦è§£æ±ºã™ã‚‹ã€‚",
    "project": "novel-automation-system-v2",
    "usedIn": [
      "src/lib/memory/long-term/consolidation-guard.ts:1-300"
    ],
    "code": "```json\n{\n  \"id\": \"skill_infinite_loop_prevention_consolidation_guard_2025_11_25\",\n  \"type\": \"skill\",\n  \"name\": \"ãƒ—ãƒ­ã‚»ã‚¹å›ºæœ‰ãƒ­ãƒƒã‚¯ç„¡é™ãƒ«ãƒ¼ãƒ—é˜²æ­¢ãƒ‘ã‚¿ãƒ¼ãƒ³\",\n  \"tags\": [\"ä¸¦è¡Œå‡¦ç†\", \"ãƒ‡ãƒƒãƒ‰ãƒ­ãƒƒã‚¯é˜²æ­¢\", \"ãƒ­ãƒƒã‚¯æ©Ÿæ§‹\", \"åŒæœŸåˆ¶å¾¡\", \"ã‚·ã‚¹ãƒ†ãƒ è¨­è¨ˆ\", \"AIå°èª¬ç”Ÿæˆ\"],\n  \"source_project\": \"novel-automation-system-v2\",\n  \"source_file\": \"src/lib/memory/long-term/consolidation-guard.ts:1-300\",\n  \"related_knowledge\": [\n    \"skill_three_layer_memory_hierarchy_integration_2025_11_25\",\n    \"decision_process_specific_locking_choice_2025_11_25\"\n  ],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# ãƒ—ãƒ­ã‚»ã‚¹å›ºæœ‰ãƒ­ãƒƒã‚¯ç„¡é™ãƒ«ãƒ¼ãƒ—é˜²æ­¢ãƒ‘ã‚¿ãƒ¼ãƒ³\n\n## ä½•ã‚’ã™ã‚‹ã‚¹ã‚­ãƒ«ã‹\n\nãƒ‡ãƒ¼ã‚¿çµ±åˆå‡¦ç†ãŒè‡ªå·±ã‚’å†å¸°çš„ã«å‘¼ã³å‡ºã—ã¦ç„¡é™ãƒ«ãƒ¼ãƒ—ã«é™¥ã‚‹ã®ã‚’é˜²ãã€**ãƒ—ãƒ­ã‚»ã‚¹å›ºæœ‰ã®ä¸€æ„ãªIDã‚’ä½¿ã£ãŸãƒ­ãƒƒã‚¯æ©Ÿæ§‹**ã€‚å¾“æ¥ã®å›ºå®šcaller IDæ–¹å¼ã§ã¯æ°¸ç¶šãƒ­ãƒƒã‚¯ãŒç™ºç”Ÿã™ã‚‹å•é¡Œã‚’ã€ãƒ—ãƒ­ã‚»ã‚¹IDãƒ»ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—ãƒ»ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹IDã‚’çµ„ã¿åˆã‚ã›ã¦è§£æ±ºã™ã‚‹ã€‚\n\n## å…·ä½“çš„ãªæ‰‹æ³•\n\n### ConsolidationGuardã®åŸºæœ¬æ§‹é€ \n\n```typescript\nclass ConsolidationGuard {\n    private static instance: ConsolidationGuard | null = null;\n\n    // ãƒ—ãƒ­ã‚»ã‚¹å›ºæœ‰ã®è­˜åˆ¥æƒ…å ±\n    private readonly instanceId: string;\n    private readonly processId: number;\n\n    // ãƒ­ãƒƒã‚¯ç®¡ç†\n    private activeProcesses: Map<string, ProcessInfo> = new Map();\n\n    // åˆ¶é™å€¤\n    private readonly TIMEOUT_MS = 30000;  // 30ç§’\n    private readonly MAX_CALL_STACK_DEPTH = 3;\n    private readonly MAX_QUEUE_SIZE = 20;\n\n    private constructor() {\n        this.instanceId = Math.random().toString(36).substring(7);\n        this.processId = process.pid;\n    }\n\n    static getInstance(): ConsolidationGuard {\n        if (!ConsolidationGuard.instance) {\n            ConsolidationGuard.instance = new ConsolidationGuard();\n        }\n        return ConsolidationGuard.instance;\n    }\n}\n```\n\n### ãƒ—ãƒ­ã‚»ã‚¹å›ºæœ‰ã‚­ãƒ¼ã®ç”Ÿæˆ\n\n**å¾“æ¥ã®å•é¡Œ**ï¼ˆå›ºå®šcaller IDï¼‰:\n```typescript\n// âŒ æ‚ªã„ä¾‹ï¼šå›ºå®šã‚­ãƒ¼\nconst key = 'long-term-memory-auto';\n\n// å•é¡Œç‚¹ï¼š\n// 1. å†å¸°å‘¼ã³å‡ºã—ã§åŒã˜ã‚­ãƒ¼ã‚’ä½¿ã†ã¨ã€Œã™ã§ã«ãƒ­ãƒƒã‚¯ä¸­ã€ã§æ°¸é ã«ãƒ–ãƒ­ãƒƒã‚¯\n// 2. ã‚¨ãƒ©ãƒ¼ã§è§£æ”¾ã•ã‚Œãªã„ã¨æ°¸ä¹…ãƒ­ãƒƒã‚¯\n// 3. è¤‡æ•°ãƒ—ãƒ­ã‚»ã‚¹ã§åŒã˜ã‚­ãƒ¼ã‚’ä½¿ã†ã¨ç«¶åˆ\n```\n\n**è§£æ±ºæ–¹æ³•**ï¼ˆãƒ—ãƒ­ã‚»ã‚¹å›ºæœ‰ã‚­ãƒ¼ï¼‰:\n```typescript\nprivate generateProcessSpecificKey(baseCallerId: string): string {\n    // ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ID + ãƒ—ãƒ­ã‚»ã‚¹ID + å…ƒã®ID + ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—\n    return `${this.instanceId}-${this.processId}-${baseCallerId}-${Date.now()}`;\n}\n\n// ç”Ÿæˆä¾‹ï¼š\n// \"abc123-12345-long-term-memory-auto-1700000000000\"\n// \"abc123-12345-long-term-memory-auto-1700000000500\"  â† åˆ¥ã®ã‚­ãƒ¼ï¼\n```\n\n### ãƒ­ãƒƒã‚¯å–å¾—ã®ãƒ•ãƒ­ãƒ¼\n\n```typescript\ncanStartConsolidation(callerId: string): ConsolidationCheckResult {\n    // 1. ãƒ—ãƒ­ã‚»ã‚¹å›ºæœ‰ã‚­ãƒ¼ã‚’ç”Ÿæˆ\n    const processKey = this.generateProcessSpecificKey(callerId);\n\n    // 2. æ—¢å­˜ã®ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãƒ—ãƒ­ã‚»ã‚¹ã‚’ãƒã‚§ãƒƒã‚¯\n    if (this.isAlreadyLocked(callerId)) {\n        return {\n            allowed: false,\n            reason: 'Another consolidation is in progress',\n            waitTime: this.estimateWaitTime()\n        };\n    }\n\n    // 3. ã‚³ãƒ¼ãƒ«ã‚¹ã‚¿ãƒƒã‚¯æ·±åº¦ãƒã‚§ãƒƒã‚¯\n    const stackDepth = this.getCallStackDepth(callerId);\n    if (stackDepth >= this.MAX_CALL_STACK_DEPTH) {\n        return {\n            allowed: false,\n            reason: 'Call stack depth exceeded',\n            currentDepth: stackDepth\n        };\n    }\n\n    // 4. ã‚­ãƒ¥ãƒ¼ã‚µã‚¤ã‚ºãƒã‚§ãƒƒã‚¯\n    if (this.activeProcesses.size >= this.MAX_QUEUE_SIZE) {\n        return {\n            allowed: false,\n            reason: 'Queue size limit reached'\n        };\n    }\n\n    return {\n        allowed: true,\n        processKey  // æ¬¡ã®startConsolidation()ã§ä½¿ç”¨\n    };\n}\n```\n\n### ãƒ­ãƒƒã‚¯é–‹å§‹ã¨çµ‚äº†\n\n```typescript\nstartConsolidation(callerId: string): string {\n    const processKey = this.generateProcessSpecificKey(callerId);\n\n    const processInfo: ProcessInfo = {\n        processKey,\n        callerId,\n        startTime: Date.now(),\n        status: 'active',\n        stackDepth: this.incrementStackDepth(callerId)\n    };\n\n    this.activeProcesses.set(processKey, processInfo);\n\n    // ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆç›£è¦–ã‚’é–‹å§‹\n    this.startTimeoutMonitor(processKey);\n\n    return processKey;\n}\n\nendConsolidation(processKey: string): void {\n    const processInfo = this.activeProcesses.get(processKey);\n\n    if (processInfo) {\n        // ã‚¹ã‚¿ãƒƒã‚¯æ·±åº¦ã‚’ãƒ‡ã‚¯ãƒªãƒ¡ãƒ³ãƒˆ\n        this.decrementStackDepth(processInfo.callerId);\n\n        // ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãƒ—ãƒ­ã‚»ã‚¹ã‹ã‚‰å‰Šé™¤\n        this.activeProcesses.delete(processKey);\n\n        // ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆç›£è¦–ã‚’åœæ­¢\n        this.stopTimeoutMonitor(processKey);\n    }\n}\n```\n\n### è‡ªå‹•ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆæ©Ÿæ§‹\n\n```typescript\nprivate startTimeoutMonitor(processKey: string): void {\n    const timeoutId = setTimeout(() => {\n        const processInfo = this.activeProcesses.get(processKey);\n\n        if (processInfo && processInfo.status === 'active') {\n            // ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆï¼šå¼·åˆ¶çµ‚äº†\n            logger.warn(`Consolidation process ${processKey} timed out after ${this.TIMEOUT_MS}ms`);\n\n            processInfo.status = 'timed_out';\n            this.endConsolidation(processKey);\n        }\n    }, this.TIMEOUT_MS);\n\n    // ã‚¿ã‚¤ãƒãƒ¼IDã‚’è¨˜éŒ²\n    this.timeoutTimers.set(processKey, timeoutId);\n}\n```\n\n## ãªãœã“ã®æ‰‹æ³•ã‚’ä½¿ã†ã‹\n\n**ç†ç”±1ï¼šå†å¸°çš„çµ±åˆå‘¼ã³å‡ºã—ã®è¨±å¯**\nãƒ‡ãƒ¼ã‚¿çµ±åˆä¸­ã«åˆ¥ã®ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã™ã‚‹å¿…è¦ãŒã‚ã‚‹å ´åˆï¼š\n```\nçµ±åˆå‡¦ç†Aé–‹å§‹\n    â†“\nãƒ‡ãƒ¼ã‚¿å–å¾—ã®ãŸã‚çµ±åˆå‡¦ç†Bå‘¼ã³å‡ºã—\n    â†“\nçµ±åˆå‡¦ç†Bå®Ÿè¡Œï¼ˆAã¨ã¯åˆ¥ã®ãƒ—ãƒ­ã‚»ã‚¹ã‚­ãƒ¼ï¼‰\n    â†“\nçµ±åˆå‡¦ç†Bå®Œäº†\n    â†“\nçµ±åˆå‡¦ç†Aç¶™ç¶š\n```\n\nå›ºå®šã‚­ãƒ¼ã§ã¯çµ±åˆå‡¦ç†BãŒã€Œã™ã§ã«ãƒ­ãƒƒã‚¯ä¸­ã€ã§æ°¸é ã«å¾…æ©Ÿã€‚ãƒ—ãƒ­ã‚»ã‚¹å›ºæœ‰ã‚­ãƒ¼ãªã‚‰åˆ¥ã‚­ãƒ¼ãªã®ã§å•é¡Œãªã—ã€‚\n\n**ç†ç”±2ï¼šæ°¸ä¹…ãƒ­ãƒƒã‚¯ã®å›é¿**\nã‚¨ãƒ©ãƒ¼ã§`endConsolidation()`ãŒå‘¼ã°ã‚Œãªã‹ã£ãŸå ´åˆï¼š\n- å›ºå®šã‚­ãƒ¼ï¼šæ°¸é ã«ãƒ­ãƒƒã‚¯è§£é™¤ã•ã‚Œãªã„ â†’ ã‚·ã‚¹ãƒ†ãƒ åœæ­¢\n- ãƒ—ãƒ­ã‚»ã‚¹å›ºæœ‰ã‚­ãƒ¼ï¼š30ç§’ã§ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ â†’ è‡ªå‹•è§£é™¤ â†’ ã‚·ã‚¹ãƒ†ãƒ ç¶™ç¶š\n\n**ç†ç”±3ï¼šä¸¦è¡Œå‡¦ç†ã®å®‰å…¨æ€§**\nè¤‡æ•°ã®ãƒ—ãƒ­ã‚»ã‚¹ã‚„ã‚¹ãƒ¬ãƒƒãƒ‰ã‹ã‚‰åŒæ™‚ã«çµ±åˆå‡¦ç†ã‚’å‘¼ã³å‡ºã—ã¦ã‚‚ï¼š\n- ãã‚Œãã‚ŒãŒç•°ãªã‚‹ãƒ—ãƒ­ã‚»ã‚¹ã‚­ãƒ¼ã‚’æŒã¤\n- äº’ã„ã«å¹²æ¸‰ã—ãªã„\n- çœŸã«ç«¶åˆã™ã‚‹å ´åˆã®ã¿ãƒ–ãƒ­ãƒƒã‚¯\n\n**ç†ç”±4ï¼šãƒ‡ãƒãƒƒã‚°ã®å®¹æ˜“ã•**\nãƒ—ãƒ­ã‚»ã‚¹ã‚­ãƒ¼ã«å…¨ã¦ã®è­˜åˆ¥æƒ…å ±ãŒå«ã¾ã‚Œã‚‹ï¼š\n```\n\"abc123-12345-long-term-memory-auto-1700000000000\"\n ^^^^^^ ^^^^^ ^^^^^^^^^^^^^^^^^^^^^^ ^^^^^^^^^^^^^\n instance PID  å…ƒã®caller ID        ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—\n```\n\nãƒ­ã‚°ã‚’è¦‹ã‚Œã°ï¼š\n- ã©ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‹\n- ã©ã®ãƒ—ãƒ­ã‚»ã‚¹ã‹\n- ã„ã¤é–‹å§‹ã•ã‚ŒãŸã‹\n- å…ƒã®å‘¼ã³å‡ºã—å…ƒã¯èª°ã‹\n\nå…¨ã¦ãŒä¸€ç›®ç­ç„¶ã€‚\n\n## å†ç¾æ–¹æ³•\n\n### ã‚¹ãƒ†ãƒƒãƒ—1ï¼šConsolidationGuardã®å–å¾—\n\n```typescript\nimport { ConsolidationGuard } from '@/lib/memory/long-term/consolidation-guard';\n\n// ã‚·ãƒ³ã‚°ãƒ«ãƒˆãƒ³ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’å–å¾—\nconst guard = ConsolidationGuard.getInstance();\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2ï¼šçµ±åˆå‡¦ç†ã®ä¿è­·\n\n```typescript\nasync performConsolidation(): Promise<ConsolidationResult> {\n    const guard = ConsolidationGuard.getInstance();\n\n    // ã‚¹ãƒ†ãƒƒãƒ—1ï¼šå®Ÿè¡Œå¯èƒ½ã‹ãƒã‚§ãƒƒã‚¯\n    const check = guard.canStartConsolidation('long-term-memory-auto');\n\n    if (!check.allowed) {\n        logger.info(`Consolidation blocked: ${check.reason}`);\n        return {\n            success: false,\n            reason: check.reason,\n            skipped: true\n        };\n    }\n\n    // ã‚¹ãƒ†ãƒƒãƒ—2ï¼šãƒ­ãƒƒã‚¯å–å¾—\n    const processKey = guard.startConsolidation('long-term-memory-auto');\n\n    try {\n        // ã‚¹ãƒ†ãƒƒãƒ—3ï¼šå®Ÿéš›ã®çµ±åˆå‡¦ç†\n        const result = await this.executeConsolidation();\n\n        return {\n            success: true,\n            processKey,\n            duration: Date.now() - check.startTime\n        };\n    } catch (error) {\n        logger.error('Consolidation failed:', error);\n        return {\n            success: false,\n            error: error.message\n        };\n    } finally {\n        // ã‚¹ãƒ†ãƒƒãƒ—4ï¼šå¿…ãšãƒ­ãƒƒã‚¯è§£æ”¾\n        guard.endConsolidation(processKey);\n    }\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3ï¼šå†å¸°çš„å‘¼ã³å‡ºã—ã®ä¾‹\n\n```typescript\nasync consolidateCharacterData(characterId: string): Promise<void> {\n    const guard = ConsolidationGuard.getInstance();\n\n    // å¤–å´ã®ãƒ­ãƒƒã‚¯\n    const check1 = guard.canStartConsolidation('character-consolidation');\n    if (!check1.allowed) return;\n\n    const processKey1 = guard.startConsolidation('character-consolidation');\n\n    try {\n        // ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼æƒ…å ±ã‚’å–å¾—\n        const charData = await this.getCharacterInfo(characterId);\n\n        // å†…å´ï¼šé–¢é€£ã™ã‚‹ä¸–ç•Œè¨­å®šã‚‚çµ±åˆãŒå¿…è¦\n        const check2 = guard.canStartConsolidation('world-settings-consolidation');\n        if (check2.allowed) {\n            const processKey2 = guard.startConsolidation('world-settings-consolidation');\n            try {\n                await this.consolidateWorldSettings();\n            } finally {\n                guard.endConsolidation(processKey2);\n            }\n        }\n\n        // ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿ã®çµ±åˆã‚’å®Œäº†\n        await this.saveConsolidatedCharacter(charData);\n    } finally {\n        guard.endConsolidation(processKey1);\n    }\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—4ï¼šã‚¹ã‚¿ãƒƒã‚¯æ·±åº¦ã®ç›£è¦–\n\n```typescript\n// è¨­å®šã§æœ€å¤§æ·±åº¦ã‚’å¤‰æ›´\nconst guard = ConsolidationGuard.getInstance();\nguard.setMaxCallStackDepth(5);  // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: 3\n\n// ç¾åœ¨ã®æ·±åº¦ã‚’ç¢ºèª\nconst depth = guard.getCallStackDepth('my-consolidation-process');\nconsole.log(`Current stack depth: ${depth}`);\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—5ï¼šè¨ºæ–­æƒ…å ±ã®å–å¾—\n\n```typescript\n// ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãªãƒ—ãƒ­ã‚»ã‚¹ã®ä¸€è¦§\nconst activeProcesses = guard.getActiveProcesses();\nconsole.log(activeProcesses);\n// [\n//   {\n//     processKey: \"abc123-12345-process-a-1700000000\",\n//     callerId: \"process-a\",\n//     startTime: 1700000000,\n//     duration: 5000,  // ms\n//     status: \"active\"\n//   }\n// ]\n\n// çµ±è¨ˆæƒ…å ±\nconst stats = guard.getStatistics();\nconsole.log(stats);\n// {\n//   totalProcesses: 127,\n//   activeProcesses: 2,\n//   timedOutProcesses: 3,\n//   averageDuration: 1234,  // ms\n//   maxStackDepthReached: 2\n// }\n```\n\n## ã„ã¤ä½¿ã†ã‹\n\n**é©ç”¨å ´é¢1ï¼šãƒ‡ãƒ¼ã‚¿çµ±åˆå‡¦ç†ã§å†å¸°å‘¼ã³å‡ºã—ãŒç™ºç”Ÿã™ã‚‹æ™‚**\n- çµ±åˆä¸­ã«åˆ¥ã®ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã™ã‚‹å¿…è¦ãŒã‚ã‚‹\n- ãƒ‡ãƒ¼ã‚¿ãŒç›¸äº’ã«å‚ç…§ã—åˆã£ã¦ã„ã‚‹\n- ä¾å­˜é–¢ä¿‚ãŒè¤‡é›‘\n\n**é©ç”¨å ´é¢2ï¼šãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰å‡¦ç†ã¨ãƒ¦ãƒ¼ã‚¶ãƒ¼æ“ä½œãŒç«¶åˆã™ã‚‹æ™‚**\n- è‡ªå‹•çµ±åˆãŒ30åˆ†æ¯ã«å®Ÿè¡Œ\n- ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒæ‰‹å‹•ã§çµ±åˆã‚’ãƒˆãƒªã‚¬ãƒ¼\n- ä¸¡æ–¹ãŒåŒæ™‚ã«å®Ÿè¡Œã•ã‚Œã‚‹ã¨ç«¶åˆ\n\n**é©ç”¨å ´é¢3ï¼šã‚¨ãƒ©ãƒ¼ãƒªã‚«ãƒãƒªãŒé‡è¦ãªæ™‚**\n- çµ±åˆå‡¦ç†ä¸­ã«ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã™ã‚‹å¯èƒ½æ€§\n- ãƒ­ãƒƒã‚¯ãŒè§£æ”¾ã•ã‚Œãªã„ã¨ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“ãŒåœæ­¢\n- è‡ªå‹•ãƒªã‚«ãƒãƒªãŒå¿…è¦\n\n**é©ç”¨å ´é¢4ï¼šè¤‡æ•°ã®ãƒ¯ãƒ¼ã‚«ãƒ¼ã‚„ãƒ—ãƒ­ã‚»ã‚¹ãŒä¸¦è¡Œå‹•ä½œã™ã‚‹æ™‚**\n- ãƒãƒ«ãƒãƒ—ãƒ­ã‚»ã‚¹ç’°å¢ƒ\n- Webãƒ¯ãƒ¼ã‚«ãƒ¼ã§ã®ä¸¦è¡Œå‡¦ç†\n- ã‚¯ãƒ©ã‚¹ã‚¿æ§‹æˆ\n\n## æ³¨æ„ç‚¹\n\n**æ³¨æ„ç‚¹1ï¼šfinallyãƒ–ãƒ­ãƒƒã‚¯ã®å¿…é ˆä½¿ç”¨**\nå¿…ãš`finally`ã§ãƒ­ãƒƒã‚¯è§£æ”¾ï¼š\n```typescript\n// âŒ æ‚ªã„ä¾‹\nconst processKey = guard.startConsolidation('my-process');\nawait doSomething();\nguard.endConsolidation(processKey);  // ã‚¨ãƒ©ãƒ¼æ™‚ã«ã‚¹ã‚­ãƒƒãƒ—ã•ã‚Œã‚‹\n\n// âœ… è‰¯ã„ä¾‹\nconst processKey = guard.startConsolidation('my-process');\ntry {\n    await doSomething();\n} finally {\n    guard.endConsolidation(processKey);  // å¿…ãšå®Ÿè¡Œ\n}\n```\n\n**æ³¨æ„ç‚¹2ï¼šãƒ—ãƒ­ã‚»ã‚¹ã‚­ãƒ¼ã®ä¿æŒ**\n`startConsolidation()`ãŒè¿”ã™ãƒ—ãƒ­ã‚»ã‚¹ã‚­ãƒ¼ã‚’å¿…ãšä¿å­˜ï¼š\n```typescript\n// âŒ æ‚ªã„ä¾‹\nguard.startConsolidation('my-process');  // ã‚­ãƒ¼ã‚’æ¨ã¦ã¦ã„ã‚‹\n// ... å¾Œã§endConsolidation()ã‚’å‘¼ã¹ãªã„\n\n// âœ… è‰¯ã„ä¾‹\nconst processKey = guard.startConsolidation('my-process');\n// ... å‡¦ç†\nguard.endConsolidation(processKey);\n```\n\n**æ³¨æ„ç‚¹3ï¼šã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆæ™‚é–“ã®é©åˆ‡ãªè¨­å®š**\nå‡¦ç†æ™‚é–“ã«å¿œã˜ã¦ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã‚’èª¿æ•´ï¼š\n```typescript\n// çŸ­ã„å‡¦ç†ï¼š10ç§’\nguard.setTimeout(10000);\n\n// é•·ã„å‡¦ç†ï¼š60ç§’\nguard.setTimeout(60000);\n\n// ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼š30ç§’ï¼ˆå¤šãã®å ´åˆã§é©åˆ‡ï¼‰\n```\n\n**æ³¨æ„ç‚¹4ï¼šã‚¹ã‚¿ãƒƒã‚¯æ·±åº¦åˆ¶é™**\næ·±ã™ãã‚‹å†å¸°ã¯æ€§èƒ½å•é¡Œã®å…†å€™ï¼š\n```typescript\n// MAX_CALL_STACK_DEPTH = 3 ã«é”ã—ãŸå ´åˆ\n// â†’ è¨­è¨ˆã‚’è¦‹ç›´ã™ï¼ˆå¾ªç’°ä¾å­˜ã®å¯èƒ½æ€§ï¼‰\nif (!check.allowed && check.reason === 'Call stack depth exceeded') {\n    logger.error('Possible circular dependency detected');\n    // è¨­è¨ˆã‚’è¦‹ç›´ã™\n}\n```\n\n**æ³¨æ„ç‚¹5ï¼šã‚·ãƒ³ã‚°ãƒ«ãƒˆãƒ³ã®å…±æœ‰**\n`ConsolidationGuard`ã¯ã‚·ãƒ³ã‚°ãƒ«ãƒˆãƒ³ï¼š\n- è¤‡æ•°ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ä½œã‚‰ãªã„\n- å¿…ãš`getInstance()`ã‚’ä½¿ã†\n- ãƒ†ã‚¹ãƒˆã§ã¯é©åˆ‡ã«ãƒªã‚»ãƒƒãƒˆ\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `skill_three_layer_memory_hierarchy_integration_2025_11_25.md`ï¼šã“ã®æ‰‹æ³•ã‚’ä½¿ã†å…¨ä½“ã‚·ã‚¹ãƒ†ãƒ \n- `decision_process_specific_locking_choice_2025_11_25.md`ï¼šãªãœãƒ—ãƒ­ã‚»ã‚¹å›ºæœ‰ã‚­ãƒ¼ãªã®ã‹\n- `workflow_long_term_consolidation_process_2025_11_25.md`ï¼šçµ±åˆå‡¦ç†ã®å®Œå…¨ãªãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼\n",
    "prompt": "### ã‚¹ãƒ†ãƒƒãƒ—1ï¼šConsolidationGuardã®å–å¾—\n\n```typescript\nimport { ConsolidationGuard } from '@/lib/memory/long-term/consolidation-guard';\n\n// ã‚·ãƒ³ã‚°ãƒ«ãƒˆãƒ³ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’å–å¾—\nconst guard = ConsolidationGuard.getInstance();\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2ï¼šçµ±åˆå‡¦ç†ã®ä¿è­·\n\n```typescript\nasync performConsolidation(): Promise<ConsolidationResult> {\n    const guard = ConsolidationGuard.getInstance();\n\n    // ã‚¹ãƒ†ãƒƒãƒ—1ï¼šå®Ÿè¡Œå¯èƒ½ã‹ãƒã‚§ãƒƒã‚¯\n    const check = guard.canStartConsolidation('long-term-memory-auto');\n\n    if (!check.allowed) {\n        logger.info(`Consolidation blocked: ${check.reason}`);\n        return {\n            success: false,\n            reason: check.reason,\n            skipped: true\n        };\n    }\n\n    // ã‚¹ãƒ†ãƒƒãƒ—2ï¼šãƒ­ãƒƒã‚¯å–å¾—\n    const processKey = guard.startConsolidation('long-term-memory-auto');\n\n    try {\n        // ã‚¹ãƒ†ãƒƒãƒ—3ï¼šå®Ÿéš›ã®çµ±åˆå‡¦ç†\n        const result = await this.executeConsolidation();\n\n        return {\n            success: true,\n            processKey,\n            duration: Date.now() - check.startTime\n        };\n    } catch (error) {\n        logger.error('Consolidation failed:', error);\n        return {\n            success: false,\n            error: error.message\n        };\n    } finally {\n        // ã‚¹ãƒ†ãƒƒãƒ—4ï¼šå¿…ãšãƒ­ãƒƒã‚¯è§£æ”¾\n        guard.endConsolidation(processKey);\n    }\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3ï¼šå†å¸°çš„å‘¼ã³å‡ºã—ã®ä¾‹\n\n```typescript\nasync consolidateCharacterData(characterId: string): Promise<void> {\n    const guard = ConsolidationGuard.getInstance();\n\n    // å¤–å´ã®ãƒ­ãƒƒã‚¯\n    const check1 = guard.canStartConsolidation('character-consolidation');\n    if (!check1.allowed) return;\n\n    const processKey1 = guard.startConsolidation('character-consolidation');\n\n    try {\n        // ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼æƒ…å ±ã‚’å–å¾—\n        const charData = await this.getCharacterInfo(characterId);\n\n        // å†…å´ï¼šé–¢é€£ã™ã‚‹ä¸–ç•Œè¨­å®šã‚‚çµ±åˆãŒå¿…è¦\n        const check2 = guard.canStartConsolidation('world-settings-consolidation');\n        if (check2.allowed) {\n            const processKey2 = guard.startConsolidation('world-settings-consolidation');\n            try {\n                await this.consolidateWorldSettings();\n            } finally {\n                guard.endConsolidation(processKey2);\n            }\n        }\n\n        // ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿ã®çµ±åˆã‚’å®Œäº†\n        await this.saveConsolidatedCharacter(charData);\n    } finally {\n        guard.endConsolidation(processKey1);\n    }\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—4ï¼šã‚¹ã‚¿ãƒƒã‚¯æ·±åº¦ã®ç›£è¦–\n\n```typescript\n// è¨­å®šã§æœ€å¤§æ·±åº¦ã‚’å¤‰æ›´\nconst guard = ConsolidationGuard.getInstance();\nguard.setMaxCallStackDepth(5);  // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: 3\n\n// ç¾åœ¨ã®æ·±åº¦ã‚’ç¢ºèª\nconst depth = guard.getCallStackDepth('my-consolidation-process');\nconsole.log(`Current stack depth: ${depth}`);\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—5ï¼šè¨ºæ–­æƒ…å ±ã®å–å¾—\n\n```typescript\n// ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãªãƒ—ãƒ­ã‚»ã‚¹ã®ä¸€è¦§\nconst activeProcesses = guard.getActiveProcesses();\nconsole.log(activeProcesses);\n// [\n//   {\n//     processKey: \"abc123-12345-process-a-1700000000\",\n//     callerId: \"process-a\",\n//     startTime: 1700000000,\n//     duration: 5000,  // ms\n//     status: \"active\"\n//   }\n// ]\n\n// çµ±è¨ˆæƒ…å ±\nconst stats = guard.getStatistics();\nconsole.log(stats);\n// {\n//   totalProcesses: 127,\n//   activeProcesses: 2,\n//   timedOutProcesses: 3,\n//   averageDuration: 1234,  // ms\n//   maxStackDepthReached: 2\n// }\n```",
    "relatedTech": [
      "skill-three-layer-memory-hierarchy-integration",
      "decision-process-specific-locking-choice"
    ]
  },
  {
    "slug": "instagram-1080x1080-optimization",
    "title": "Instagram 1080x1080 å®Œç’§ãªãƒ‡ã‚£ãƒ¡ãƒ³ã‚·ãƒ§ãƒ³æœ€é©åŒ–",
    "category": "Skillsï¼ˆã‚¹ã‚­ãƒ«ãƒ»æ‰‹æ³•ï¼‰",
    "description": "**InstagramæŠ•ç¨¿ç”»åƒã‚’æ­£ç¢ºã«1080x1080pxã§ç”Ÿæˆã—ã€ã‚¢ã‚¹ãƒšã‚¯ãƒˆæ¯”1:1ã‚’å®Œç’§ã«ä¿ã¤æŠ€è¡“ã€‚**",
    "project": "instagram-post-generator",
    "usedIn": [
      "app/components/templates/**/*.tsx"
    ],
    "code": "```json\n{\n  \"id\": \"skill_instagram_1080x1080_optimization_2025_11_25\",\n  \"type\": \"skill\",\n  \"name\": \"Instagram 1080x1080 å®Œç’§ãªãƒ‡ã‚£ãƒ¡ãƒ³ã‚·ãƒ§ãƒ³æœ€é©åŒ–\",\n  \"tags\": [\"Instagram\", \"1080x1080\", \"ãƒ‡ã‚£ãƒ¡ãƒ³ã‚·ãƒ§ãƒ³\", \"ã‚¢ã‚¹ãƒšã‚¯ãƒˆæ¯”\", \"ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–\", \"html2canvas\"],\n  \"source_project\": \"instagram-post-generator\",\n  \"source_file\": \"app/components/templates/**/*.tsx\",\n  \"difficulty\": \"intermediate\",\n  \"related_knowledge\": [\n    \"skill_html2canvas_optimization_techniques_2025_11_25\",\n    \"skill_svg_badge_rendering_2025_11_25\",\n    \"failure_html2canvas_clipping_issue_fixed_2025_11_25\"\n  ],\n  \"prerequisites\": [\"HTML/CSSåŸºç¤\", \"ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³\", \"ã‚¢ã‚¹ãƒšã‚¯ãƒˆæ¯”ç†è§£\"],\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# Instagram 1080x1080 å®Œç’§ãªãƒ‡ã‚£ãƒ¡ãƒ³ã‚·ãƒ§ãƒ³æœ€é©åŒ–\n\n## ä½•ã‚’ã™ã‚‹ã‚¹ã‚­ãƒ«ã‹\n\n**InstagramæŠ•ç¨¿ç”»åƒã‚’æ­£ç¢ºã«1080x1080pxã§ç”Ÿæˆã—ã€ã‚¢ã‚¹ãƒšã‚¯ãƒˆæ¯”1:1ã‚’å®Œç’§ã«ä¿ã¤æŠ€è¡“ã€‚**\n\nInstagramãƒ•ã‚£ãƒ¼ãƒ‰æŠ•ç¨¿ã®æœ€é©ã‚µã‚¤ã‚ºã¯1080x1080pxï¼ˆæ­£æ–¹å½¢ï¼‰ã€‚ã“ã®ã‚¹ã‚­ãƒ«ã«ã‚ˆã‚Š:\n- æ­£ç¢ºãª1080x1080pxãƒ‡ã‚£ãƒ¡ãƒ³ã‚·ãƒ§ãƒ³\n- ã‚¢ã‚¹ãƒšã‚¯ãƒˆæ¯”1:1ã®å³æ ¼ãªä¿æŒ\n- å¯å¤‰ã‚³ãƒ³ãƒ†ãƒ³ãƒ„å¯¾å¿œã®å‹•çš„é«˜ã•è¨ˆç®—\n- html2canvaså¤‰æ›æ™‚ã®ãƒ”ã‚¯ã‚»ãƒ«ãƒ‘ãƒ¼ãƒ•ã‚§ã‚¯ãƒˆå‡ºåŠ›\n- ãƒ–ãƒ©ã‚¦ã‚¶é–“ã§ã®ä¸€è²«ã—ãŸãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°\n\n**çµæœ**: Instagramã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰æ™‚ã®ãƒˆãƒªãƒŸãƒ³ã‚°ãƒ»åœ§ç¸®ãªã—ã€å®Œç’§ãªç”»è³ª\n\n---\n\n## ãªãœã“ã®ã‚¹ã‚­ãƒ«ãŒé‡è¦ã‹\n\n### ç†ç”±1: Instagramã®ç”»åƒä»•æ§˜ã«å®Œå…¨æº–æ‹ \n\n**Instagramæ¨å¥¨ä»•æ§˜**:\n```\nãƒ•ã‚£ãƒ¼ãƒ‰æŠ•ç¨¿ï¼ˆæ­£æ–¹å½¢ï¼‰: 1080x1080px\nã‚¢ã‚¹ãƒšã‚¯ãƒˆæ¯”: 1:1\nãƒ•ã‚¡ã‚¤ãƒ«å½¢å¼: JPG, PNG\næœ€å¤§ã‚µã‚¤ã‚º: 30MB\n```\n\n**1080x1080ä»¥å¤–ã®ã‚µã‚¤ã‚ºã ã¨**:\n```\n- 1080x1350 (4:5): ä¸Šä¸‹ãŒãƒˆãƒªãƒŸãƒ³ã‚°ã•ã‚Œã‚‹\n- 1080x566 (1.91:1): å·¦å³ãŒåˆ‡ã‚Œã‚‹\n- 1200x1200: ãƒ€ã‚¦ãƒ³ã‚¹ã‚±ãƒ¼ãƒ«ã•ã‚Œç”»è³ªä½ä¸‹\n- 1000x1000: ã‚¢ãƒƒãƒ—ã‚¹ã‚±ãƒ¼ãƒ«ã•ã‚Œãƒœã‚±ã‚‹\n```\n\n**1080x1080ãƒ”ãƒƒã‚¿ãƒªãªã‚‰**:\n```\nâœ… ãƒˆãƒªãƒŸãƒ³ã‚°ãªã—\nâœ… ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°ãªã—\nâœ… ç”»è³ªåŠ£åŒ–ãªã—\nâœ… ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒè¦‹ãŸã¾ã¾ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰\n```\n\n### ç†ç”±2: å¯å¤‰ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã¸ã®å¯¾å¿œ\n\n**å•é¡Œ**: ã‚³ãƒ³ãƒ†ãƒ³ãƒ„é‡ãŒå¤‰å‹•ã™ã‚‹ã¨é«˜ã•ãŒå¤‰ã‚ã‚‹\n\n**å…·ä½“ä¾‹**:\n```typescript\n// âŒ å›ºå®šé«˜ã•: ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãŒåˆ‡ã‚Œã‚‹\n<div style={{ width: '1080px', height: '1080px', overflow: 'hidden' }}>\n  <section>é•·ã„ã‚³ãƒ³ãƒ†ãƒ³ãƒ„...</section>\n  // â†’ 1080pxã‚’è¶…ãˆã‚‹éƒ¨åˆ†ãŒåˆ‡ã‚Œã‚‹\n</div>\n\n// âœ… å‹•çš„é«˜ã•: ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã«å¿œã˜ã¦èª¿æ•´\n<div style={{ width: '1080px', minHeight: '1080px' }}>\n  <section>é•·ã„ã‚³ãƒ³ãƒ†ãƒ³ãƒ„...</section>\n  // â†’ å¿…è¦ãªã‚‰1080pxè¶…ãˆã¦æ‹¡å¼µï¼ˆhtml2canvasæ™‚ã«æ­£ç¢ºã«è¨ˆç®—ï¼‰\n</div>\n```\n\n### ç†ç”±3: html2canvaså¤‰æ›ã®æ­£ç¢ºæ€§\n\n**html2canvas ã®å‹•ä½œ**:\n```javascript\n// æŒ‡å®šã—ãŸè¦ç´ ã‚’ã‚­ãƒ£ãƒ³ãƒã‚¹ã«å¤‰æ›\nconst canvas = await html2canvas(element, {\n  width: 1080,\n  height: 1080,  // ã“ã®é«˜ã•ãŒé‡è¦\n  scale: 1\n})\n```\n\n**å•é¡Œ**: å›ºå®šé«˜ã•ã ã¨ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãŒåˆ‡ã‚Œã‚‹ã€å‹•çš„é«˜ã•ã ã¨æ­£ç¢ºãªæ¸¬å®šãŒå¿…è¦\n\n**è§£æ±º**: `element.offsetHeight` ã§å®Ÿéš›ã®é«˜ã•ã‚’å–å¾—\n\n---\n\n## å†ç¾æ–¹æ³•\n\n### ã‚¹ãƒ†ãƒƒãƒ—1: ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®åŸºæœ¬æ§‹é€ \n\n**å…¨ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå…±é€šã®ãƒ‡ã‚£ãƒ¡ãƒ³ã‚·ãƒ§ãƒ³è¨­å®š**:\n\n```typescript\n// app/components/templates/BaseTemplate.tsx (æ¦‚å¿µ)\nexport const BaseTemplate: React.FC<TemplateProps> = ({ data }) => {\n  return (\n    <div\n      className=\"relative bg-white\"\n      style={{\n        width: '1080px',      // å›ºå®šå¹…ï¼ˆInstagramä»•æ§˜ï¼‰\n        minHeight: '1080px',  // æœ€å°é«˜ã•ï¼ˆã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãŒå°‘ãªã„å ´åˆï¼‰\n        overflow: 'visible'   // é‡è¦: ã‚¯ãƒªãƒƒãƒ”ãƒ³ã‚°é˜²æ­¢\n      }}\n    >\n      {/* ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ */}\n    </div>\n  )\n}\n```\n\n**é‡è¦ãªãƒã‚¤ãƒ³ãƒˆ**:\n1. `width: '1080px'` - å›ºå®šå¹…ï¼ˆçµ¶å¯¾ã«å¤‰æ›´ã—ãªã„ï¼‰\n2. `minHeight: '1080px'` - æœ€å°é«˜ã•ï¼ˆæ‹¡å¼µå¯èƒ½ï¼‰\n3. `overflow: 'visible'` - åˆ‡ã‚Šå–ã‚‰ãªã„ï¼ˆhtml2canvasæ™‚ã«é‡è¦ï¼‰\n\n### ã‚¹ãƒ†ãƒƒãƒ—2: å®Ÿéš›ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä¾‹ï¼ˆçµ±ä¸€ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆï¼‰\n\n**Unified Template 08: Section Blocks**:\n\n```typescript\n// app/components/templates/unified/UnifiedTemplate08SectionBlocks.tsx\nimport React from 'react'\nimport { TemplateProps, TemplateData } from '../TemplateTypes'\n\nexport const UnifiedTemplate08SectionBlocks: React.FC<TemplateProps> = ({ data }) => {\n  const { title, sections, characterImage, badgeText } = data\n\n  return (\n    <div\n      className=\"relative bg-white\"\n      style={{\n        width: '1080px',       // Instagramå¹…\n        minHeight: '1080px',   // æœ€å°é«˜ã•\n        overflow: 'visible',   // ã‚¯ãƒªãƒƒãƒ”ãƒ³ã‚°é˜²æ­¢\n        padding: '60px 80px'   // å†…éƒ¨ä½™ç™½ï¼ˆèª­ã¿ã‚„ã™ã•ï¼‰\n      }}\n    >\n      {/* ã‚¿ã‚¤ãƒˆãƒ«ã‚»ã‚¯ã‚·ãƒ§ãƒ³ */}\n      <div className=\"mb-12\">\n        <h1 className=\"text-5xl font-bold text-gray-900\">\n          {title}\n        </h1>\n      </div>\n\n      {/* ã‚»ã‚¯ã‚·ãƒ§ãƒ³ãƒ–ãƒ­ãƒƒã‚¯ï¼ˆ2å€‹æƒ³å®šï¼‰ */}\n      {sections && sections.map((section, index) => (\n        <div\n          key={index}\n          className=\"mb-10 bg-find-blue-50 rounded-3xl p-8\"\n        >\n          <h2 className=\"text-3xl font-bold text-find-blue-700 mb-4\">\n            {section.title}\n          </h2>\n          <p className=\"text-xl text-gray-700 leading-relaxed\">\n            {section.content}\n          </p>\n\n          {/* ã‚¢ã‚¤ãƒ†ãƒ ãƒªã‚¹ãƒˆ */}\n          {section.items && section.items.length > 0 && (\n            <ul className=\"mt-6 space-y-3\">\n              {section.items.map((item, itemIndex) => (\n                <li key={itemIndex} className=\"flex items-start\">\n                  <span className=\"text-find-blue-600 mr-3\">âœ“</span>\n                  <span className=\"text-lg text-gray-800\">{item}</span>\n                </li>\n              ))}\n            </ul>\n          )}\n        </div>\n      ))}\n\n      {/* ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ç”»åƒï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰ */}\n      {characterImage && (\n        <div className=\"absolute bottom-10 right-10\">\n          <img\n            src={characterImage}\n            alt=\"character\"\n            className=\"w-32 h-32 rounded-full\"\n          />\n        </div>\n      )}\n    </div>\n  )\n}\n```\n\n**ãƒ‡ã‚£ãƒ¡ãƒ³ã‚·ãƒ§ãƒ³è§£èª¬**:\n```\nå¹…: 1080pxå›ºå®š\n  â””â”€ padding: 80pxå·¦å³ â†’ å®ŸåŠ¹å¹…: 920pxï¼ˆã‚³ãƒ³ãƒ†ãƒ³ãƒ„é ˜åŸŸï¼‰\n\né«˜ã•: minHeight 1080px\n  â”œâ”€ padding: 60pxä¸Šä¸‹ â†’ å®ŸåŠ¹æœ€å°é«˜ã•: 960px\n  â”œâ”€ ã‚¿ã‚¤ãƒˆãƒ«: ~80px\n  â”œâ”€ ã‚»ã‚¯ã‚·ãƒ§ãƒ³1: ~200-300pxï¼ˆå¯å¤‰ï¼‰\n  â”œâ”€ ã‚»ã‚¯ã‚·ãƒ§ãƒ³2: ~200-300pxï¼ˆå¯å¤‰ï¼‰\n  â””â”€ åˆè¨ˆ: 1080pxä»¥ä¸Šï¼ˆã‚³ãƒ³ãƒ†ãƒ³ãƒ„é‡ã«å¿œã˜ã¦æ‹¡å¼µï¼‰\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3: html2canvas ã§ã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰å‡¦ç†\n\n**bulkDownloadService.ts ã®å®Ÿè£…**:\n\n```typescript\n// app/services/bulkDownloadService.ts (æŠœç²‹)\nimport html2canvas from 'html2canvas'\n\nexport async function downloadSinglePage(\n  pageElement: HTMLElement,\n  pageNumber: number,\n  pageTitle: string\n): Promise<void> {\n  try {\n    console.log(`ğŸ“¸ ãƒšãƒ¼ã‚¸${pageNumber}ã®ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆé–‹å§‹...`)\n\n    // Step 1: å®Ÿéš›ã®é«˜ã•ã‚’æ¸¬å®š\n    const actualHeight = pageElement.offsetHeight\n    console.log(`ğŸ“ å®Ÿéš›ã®é«˜ã•: ${actualHeight}px`)\n\n    // Step 2: html2canvasã§å¤‰æ›\n    const canvas = await html2canvas(pageElement, {\n      width: 1080,                    // å›ºå®šå¹…\n      height: actualHeight,           // å‹•çš„é«˜ã•ï¼ˆå®Ÿæ¸¬å€¤ï¼‰\n      scale: 1,                       // ã‚¹ã‚±ãƒ¼ãƒ«ãªã—ï¼ˆ1:1ï¼‰\n      backgroundColor: '#ffffff',     // ç™½èƒŒæ™¯\n      logging: false,                 // ãƒ­ã‚°ç„¡åŠ¹\n      useCORS: true,                  // CORSå¯¾å¿œï¼ˆç”»åƒèª­ã¿è¾¼ã¿ï¼‰\n      allowTaint: false,              // ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£\n      windowWidth: 1080,              // ãƒ“ãƒ¥ãƒ¼ãƒãƒ¼ãƒˆå¹…\n      windowHeight: actualHeight,     // ãƒ“ãƒ¥ãƒ¼ãƒãƒ¼ãƒˆé«˜ã•\n      scrollX: 0,\n      scrollY: 0,\n      imageTimeout: 15000,            // ç”»åƒèª­ã¿è¾¼ã¿ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ\n      onclone: (clonedDoc) => {\n        // ã‚¯ãƒ­ãƒ¼ãƒ³DOMæ“ä½œï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰\n        console.log('ğŸ“‹ DOMã‚¯ãƒ­ãƒ¼ãƒ³å®Œäº†')\n      }\n    })\n\n    console.log(`âœ… ã‚­ãƒ£ãƒ³ãƒã‚¹ç”Ÿæˆå®Œäº†: ${canvas.width}x${canvas.height}px`)\n\n    // Step 3: PNGãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰\n    canvas.toBlob((blob) => {\n      if (!blob) {\n        throw new Error('Blobç”Ÿæˆå¤±æ•—')\n      }\n\n      const url = URL.createObjectURL(blob)\n      const link = document.createElement('a')\n      link.href = url\n      link.download = `page${pageNumber}_${sanitizeFilename(pageTitle)}.png`\n      link.click()\n      URL.revokeObjectURL(url)\n\n      console.log(`ğŸ’¾ ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰å®Œäº†: ${link.download}`)\n    }, 'image/png', 1.0)  // PNGã€å“è³ª100%\n\n  } catch (error) {\n    console.error(`âŒ ãƒšãƒ¼ã‚¸${pageNumber}ã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰å¤±æ•—:`, error)\n    throw error\n  }\n}\n\nfunction sanitizeFilename(filename: string): string {\n  return filename.replace(/[^a-zA-Z0-9_\\-]/g, '_').substring(0, 50)\n}\n```\n\n**html2canvas ã‚ªãƒ—ã‚·ãƒ§ãƒ³è§£èª¬**:\n\n| ã‚ªãƒ—ã‚·ãƒ§ãƒ³ | å€¤ | ç†ç”± |\n|----------|-----|-----|\n| `width` | 1080 | Instagramå¹…å›ºå®š |\n| `height` | actualHeight | å®Ÿéš›ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„é«˜ã•ï¼ˆå‹•çš„ï¼‰ |\n| `scale` | 1 | ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°ãªã—ï¼ˆãƒ”ã‚¯ã‚»ãƒ«ãƒ‘ãƒ¼ãƒ•ã‚§ã‚¯ãƒˆï¼‰ |\n| `backgroundColor` | #ffffff | ç™½èƒŒæ™¯ï¼ˆInstagramæ¨å¥¨ï¼‰ |\n| `useCORS` | true | å¤–éƒ¨ç”»åƒèª­ã¿è¾¼ã¿è¨±å¯ |\n| `allowTaint` | false | ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ä¿è­· |\n| `windowWidth/Height` | 1080/actualHeight | ãƒ“ãƒ¥ãƒ¼ãƒãƒ¼ãƒˆã‚µã‚¤ã‚ºæŒ‡å®š |\n\n### ã‚¹ãƒ†ãƒƒãƒ—4: å‹•çš„é«˜ã•è¨ˆç®—ã®å®Ÿè£…\n\n**ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ã®å‹•çš„é«˜ã•å¯¾å¿œ**:\n\n```typescript\n// app/components/templates/DynamicHeightTemplate.tsx (æ¦‚å¿µ)\nimport React, { useEffect, useRef, useState } from 'react'\n\nexport const DynamicHeightTemplate: React.FC<TemplateProps> = ({ data }) => {\n  const containerRef = useRef<HTMLDivElement>(null)\n  const [calculatedHeight, setCalculatedHeight] = useState<number>(1080)\n\n  useEffect(() => {\n    if (containerRef.current) {\n      // å®Ÿéš›ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„é«˜ã•ã‚’æ¸¬å®š\n      const height = containerRef.current.offsetHeight\n      console.log(`ğŸ“ è¨ˆç®—ã•ã‚ŒãŸé«˜ã•: ${height}px`)\n      setCalculatedHeight(Math.max(height, 1080))  // æœ€ä½1080px\n    }\n  }, [data])\n\n  return (\n    <div\n      ref={containerRef}\n      className=\"relative bg-white\"\n      style={{\n        width: '1080px',\n        minHeight: '1080px',\n        height: data.items.length > 5 ? 'auto' : '1080px',  // æ¡ä»¶ä»˜ãé«˜ã•\n        overflow: 'visible'\n      }}\n    >\n      {/* ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ */}\n      {data.items.map((item, index) => (\n        <div key={index} className=\"mb-8\">\n          {item}\n        </div>\n      ))}\n    </div>\n  )\n}\n```\n\n**ã‚¢ã‚¤ãƒ†ãƒ æ•°ã«ã‚ˆã‚‹é«˜ã•èª¿æ•´ä¾‹**:\n\n```typescript\n// itemsæ•°ã«å¿œã˜ãŸå‹•çš„é«˜ã•\nconst calculateHeight = (itemsCount: number): number => {\n  const baseHeight = 1080\n  const itemHeight = 100  // 1ã‚¢ã‚¤ãƒ†ãƒ ã‚ãŸã‚Šã®å¹³å‡é«˜ã•\n  const padding = 200     // ä¸Šä¸‹ä½™ç™½\n\n  const contentHeight = itemsCount * itemHeight + padding\n  return Math.max(contentHeight, baseHeight)\n}\n\n// ä½¿ç”¨ä¾‹\nconst height = calculateHeight(data.items.length)\n// 3 items: 1080px (æœ€å°å€¤)\n// 8 items: 1000px â†’ 1080px (æœ€å°å€¤é©ç”¨)\n// 12 items: 1400px (æ‹¡å¼µ)\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—5: ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ– vs å›ºå®šãƒ‡ã‚£ãƒ¡ãƒ³ã‚·ãƒ§ãƒ³\n\n**ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼è¡¨ç¤ºï¼ˆãƒ–ãƒ©ã‚¦ã‚¶ï¼‰**: ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–\n\n```typescript\n// app/components/PostPreview.tsx\nexport const PostPreview: React.FC<{ pages: GeneratedPage[] }> = ({ pages }) => {\n  return (\n    <div className=\"container mx-auto px-4\">\n      {pages.map((page, index) => (\n        <div\n          key={index}\n          className=\"mb-8\"\n          style={{\n            maxWidth: '600px',   // ãƒ–ãƒ©ã‚¦ã‚¶è¡¨ç¤ºç”¨ï¼ˆãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ï¼‰\n            aspectRatio: '1/1',  // ã‚¢ã‚¹ãƒšã‚¯ãƒˆæ¯”ä¿æŒ\n            transform: 'scale(0.556)'  // 1080px â†’ 600px (600/1080=0.556)\n          }}\n        >\n          <TemplateComponent data={page.templateData} />\n        </div>\n      ))}\n    </div>\n  )\n}\n```\n\n**ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ï¼ˆPNGï¼‰**: å›ºå®š1080x1080\n\n```typescript\n// ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰æ™‚ã¯å®Ÿã‚µã‚¤ã‚ºï¼ˆ1080x1080ï¼‰ã§ç”Ÿæˆ\nconst canvas = await html2canvas(element, {\n  width: 1080,\n  height: actualHeight,\n  scale: 1  // å®Ÿã‚µã‚¤ã‚º\n})\n```\n\n---\n\n## ã„ã¤ä½¿ã†ã‹\n\n### ä½¿ç”¨å ´é¢1: InstagramæŠ•ç¨¿ç”»åƒç”Ÿæˆ\n\n```typescript\n// ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã€Œãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯\nasync function handleDownload() {\n  const element = document.getElementById('post-page-1')\n\n  // 1080x1080ã§ç”Ÿæˆ\n  await downloadSinglePage(element, 1, 'ã‚­ãƒ£ãƒªã‚¢é¸æŠã®3ã‚¹ãƒ†ãƒƒãƒ—')\n\n  // â†’ å®Œç’§ãª1080x1080px PNG\n}\n```\n\n### ä½¿ç”¨å ´é¢2: è¤‡æ•°ãƒšãƒ¼ã‚¸ã®ä¸€æ‹¬ç”Ÿæˆ\n\n```typescript\n// 10ãƒšãƒ¼ã‚¸ã‚’é †æ¬¡ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰\nfor (let i = 0; i < pages.length; i++) {\n  const element = document.getElementById(`post-page-${i}`)\n  await downloadSinglePage(element, i, pages[i].title)\n\n  // å„ãƒšãƒ¼ã‚¸: 1080x1080 (ã¾ãŸã¯ãã‚Œä»¥ä¸Š)\n}\n```\n\n### ä½¿ç”¨å ´é¢3: ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé–‹ç™ºæ™‚ã®ãƒ†ã‚¹ãƒˆ\n\n```typescript\n// ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé–‹ç™ºæ™‚ã®ç¢ºèª\nfunction TestTemplate() {\n  return (\n    <div style={{ border: '2px solid red' }}>\n      <MyNewTemplate data={testData} />\n      {/*\n        ãƒ–ãƒ©ã‚¦ã‚¶DevToolsã§ç¢ºèª:\n        - å¹…: æ­£ç¢ºã«1080pxï¼Ÿ\n        - é«˜ã•: 1080pxä»¥ä¸Šï¼Ÿ\n        - overflow: visibleï¼Ÿ\n      */}\n    </div>\n  )\n}\n```\n\n---\n\n## æ³¨æ„ç‚¹\n\n### æ³¨æ„ç‚¹1: minHeight vs height\n\n**å•é¡Œ**: `height: '1080px'` ã ã¨ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãŒåˆ‡ã‚Œã‚‹\n\n```typescript\n// âŒ å›ºå®šé«˜ã•: ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãŒå¤šã„ã¨åˆ‡ã‚Œã‚‹\n<div style={{ width: '1080px', height: '1080px' }}>\n  {/* 1080pxã‚’è¶…ãˆã‚‹éƒ¨åˆ†ãŒåˆ‡ã‚Œã‚‹ */}\n</div>\n\n// âœ… æœ€å°é«˜ã•: ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã«å¿œã˜ã¦æ‹¡å¼µ\n<div style={{ width: '1080px', minHeight: '1080px' }}>\n  {/* å¿…è¦ãªã‚‰1080pxè¶…ãˆã¦æ‹¡å¼µ */}\n</div>\n```\n\n**çµŒé¨“å‰‡**: å¸¸ã« `minHeight: '1080px'` ã‚’ä½¿ç”¨\n\n### æ³¨æ„ç‚¹2: overflow: visible ã®é‡è¦æ€§\n\n**å•é¡Œ**: `overflow: hidden` ã ã¨ã‚¯ãƒªãƒƒãƒ”ãƒ³ã‚°ã•ã‚Œã‚‹\n\n```typescript\n// âŒ overflow: hidden\n<div style={{ overflow: 'hidden' }}>\n  <img className=\"absolute -bottom-10\" />\n  {/* ç”»åƒãŒåˆ‡ã‚Œã‚‹ */}\n</div>\n\n// âœ… overflow: visible\n<div style={{ overflow: 'visible' }}>\n  <img className=\"absolute -bottom-10\" />\n  {/* ç”»åƒãŒå®Œå…¨ã«è¡¨ç¤ºã•ã‚Œã‚‹ */}\n</div>\n```\n\n**é–¢é€£**: `failure_html2canvas_clipping_issue_fixed_2025_11_25.md`\n\n### æ³¨æ„ç‚¹3: scale ã‚ªãƒ—ã‚·ãƒ§ãƒ³\n\n**html2canvas ã® scale**:\n\n```typescript\n// scale: 1 (æ¨å¥¨)\nconst canvas = await html2canvas(element, { scale: 1 })\n// â†’ 1080x1080pxï¼ˆå®Ÿã‚µã‚¤ã‚ºï¼‰\n\n// scale: 2\nconst canvas = await html2canvas(element, { scale: 2 })\n// â†’ 2160x2160pxï¼ˆ2å€ã‚µã‚¤ã‚ºï¼‰\n// å•é¡Œ: ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºå¢—å¤§ã€Instagramå´ã§ãƒ€ã‚¦ãƒ³ã‚¹ã‚±ãƒ¼ãƒ«\n\n// scale: 0.5\nconst canvas = await html2canvas(element, { scale: 0.5 })\n// â†’ 540x540pxï¼ˆåŠåˆ†ã‚µã‚¤ã‚ºï¼‰\n// å•é¡Œ: ç”»è³ªä½ä¸‹\n```\n\n**æ¨å¥¨**: å¸¸ã« `scale: 1` ã‚’ä½¿ç”¨ï¼ˆ1080x1080ãƒ”ãƒƒã‚¿ãƒªï¼‰\n\n### æ³¨æ„ç‚¹4: ç”»åƒã® CORS å•é¡Œ\n\n**å•é¡Œ**: å¤–éƒ¨ç”»åƒãŒã‚ã‚‹å ´åˆã® CORS ã‚¨ãƒ©ãƒ¼\n\n```typescript\n// å¤–éƒ¨ç”»åƒã‚’å«ã‚€ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ\n<img src=\"https://example.com/image.jpg\" />\n\n// html2canvas ã§ã‚¨ãƒ©ãƒ¼\nconst canvas = await html2canvas(element)\n// â†’ Tainted canvases may not be exported\n```\n\n**è§£æ±º**:\n\n```typescript\nconst canvas = await html2canvas(element, {\n  useCORS: true,      // CORSå¯¾å¿œ\n  allowTaint: false   // ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ä¿è­·\n})\n\n// ã¾ãŸã¯ã€ç”»åƒã‚’Base64ã«å¤‰æ›ã—ã¦åŸ‹ã‚è¾¼ã‚€\n<img src=\"data:image/png;base64,...\" />\n```\n\n### æ³¨æ„ç‚¹5: ãƒ•ã‚©ãƒ³ãƒˆèª­ã¿è¾¼ã¿å¾…æ©Ÿ\n\n**å•é¡Œ**: ã‚«ã‚¹ã‚¿ãƒ ãƒ•ã‚©ãƒ³ãƒˆãŒèª­ã¿è¾¼ã¾ã‚Œã‚‹å‰ã«ã‚­ãƒ£ãƒ³ãƒã‚¹ç”Ÿæˆ\n\n```typescript\n// âŒ ãƒ•ã‚©ãƒ³ãƒˆèª­ã¿è¾¼ã¿å‰ã«ç”Ÿæˆ\nconst canvas = await html2canvas(element)\n// â†’ ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ•ã‚©ãƒ³ãƒˆã§æç”»ã•ã‚Œã‚‹\n\n// âœ… ãƒ•ã‚©ãƒ³ãƒˆèª­ã¿è¾¼ã¿å¾…æ©Ÿ\nawait document.fonts.ready  // ãƒ•ã‚©ãƒ³ãƒˆèª­ã¿è¾¼ã¿å®Œäº†å¾…æ©Ÿ\nconst canvas = await html2canvas(element)\n// â†’ ã‚«ã‚¹ã‚¿ãƒ ãƒ•ã‚©ãƒ³ãƒˆã§æç”»ã•ã‚Œã‚‹\n```\n\n**å®Ÿè£…ä¾‹**:\n\n```typescript\nasync function downloadWithFontReady(element: HTMLElement) {\n  // Step 1: ãƒ•ã‚©ãƒ³ãƒˆèª­ã¿è¾¼ã¿å¾…æ©Ÿ\n  await document.fonts.ready\n  console.log('âœ… ãƒ•ã‚©ãƒ³ãƒˆèª­ã¿è¾¼ã¿å®Œäº†')\n\n  // Step 2: å°‘ã—å¾…ã¤ï¼ˆãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°å®Œäº†ï¼‰\n  await new Promise(resolve => setTimeout(resolve, 100))\n\n  // Step 3: ã‚­ãƒ£ãƒ³ãƒã‚¹ç”Ÿæˆ\n  const canvas = await html2canvas(element, {\n    width: 1080,\n    height: element.offsetHeight\n  })\n\n  return canvas\n}\n```\n\n---\n\n## å¿œç”¨ä¾‹\n\n### å¿œç”¨1: è¤‡æ•°ã‚¢ã‚¹ãƒšã‚¯ãƒˆæ¯”å¯¾å¿œ\n\n**Instagramä»¥å¤–ã®SNSå¯¾å¿œ**:\n\n```typescript\nconst ASPECT_RATIOS = {\n  instagram_square: { width: 1080, height: 1080, ratio: '1:1' },\n  instagram_portrait: { width: 1080, height: 1350, ratio: '4:5' },\n  instagram_landscape: { width: 1080, height: 566, ratio: '1.91:1' },\n  twitter_post: { width: 1200, height: 675, ratio: '16:9' },\n  facebook_post: { width: 1200, height: 630, ratio: '1.91:1' }\n}\n\nasync function downloadForPlatform(\n  element: HTMLElement,\n  platform: keyof typeof ASPECT_RATIOS\n) {\n  const { width, height } = ASPECT_RATIOS[platform]\n\n  const canvas = await html2canvas(element, {\n    width,\n    height: Math.max(height, element.offsetHeight),\n    scale: 1\n  })\n\n  // ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰å‡¦ç†...\n}\n```\n\n### å¿œç”¨2: é«˜è§£åƒåº¦å‡ºåŠ›ï¼ˆRetinaå¯¾å¿œï¼‰\n\n**2å€è§£åƒåº¦ï¼ˆ2160x2160ï¼‰ã§ç”Ÿæˆ**:\n\n```typescript\nasync function downloadHighResolution(element: HTMLElement) {\n  const canvas = await html2canvas(element, {\n    width: 1080,\n    height: element.offsetHeight,\n    scale: 2  // 2å€è§£åƒåº¦\n  })\n\n  // â†’ 2160x2160pxï¼ˆRetinaå¯¾å¿œï¼‰\n  // æ³¨æ„: ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚º4å€\n}\n```\n\n**ä½¿ç”¨å ´é¢**: å°åˆ·ç”¨ã€é«˜è§£åƒåº¦ãƒ‡ã‚£ã‚¹ãƒ—ãƒ¬ã‚¤ç”¨\n\n### å¿œç”¨3: ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼ä»˜ããƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰\n\n**é€²æ—è¡¨ç¤º**:\n\n```typescript\nasync function downloadWithProgress(\n  pages: GeneratedPage[],\n  onProgress: (percent: number) => void\n) {\n  const total = pages.length\n\n  for (let i = 0; i < total; i++) {\n    const element = document.getElementById(`page-${i}`)\n    await downloadSinglePage(element, i, pages[i].title)\n\n    // é€²æ—æ›´æ–°\n    const percent = Math.round(((i + 1) / total) * 100)\n    onProgress(percent)\n\n    // UIæ›´æ–°ã®ãŸã‚ã®å¾…æ©Ÿ\n    await new Promise(resolve => setTimeout(resolve, 100))\n  }\n}\n\n// ä½¿ç”¨ä¾‹\ndownloadWithProgress(pages, (percent) => {\n  console.log(`ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰é€²æ—: ${percent}%`)\n  updateProgressBar(percent)\n})\n```\n\n---\n\n## å®Ÿéš›ã®åŠ¹æœï¼ˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå†…ã§ã®å®Ÿç¸¾ï¼‰\n\n### åŠ¹æœ1: Instagramé©åˆç‡100%\n\n**Beforeï¼ˆå›ºå®š1080x1080ï¼‰**:\n```\nã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãŒå¤šã„: ä¸‹éƒ¨ãŒåˆ‡ã‚Œã‚‹ï¼ˆ20%ã®ãƒšãƒ¼ã‚¸ã§ç™ºç”Ÿï¼‰\nã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãŒå°‘ãªã„: ç©ºç™½ãŒå¤šã„\né©åˆç‡: ç´„80%\n```\n\n**Afterï¼ˆminHeight 1080 + å‹•çš„é«˜ã•ï¼‰**:\n```\nã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãŒå¤šã„: è‡ªå‹•æ‹¡å¼µï¼ˆåˆ‡ã‚Œãªã„ï¼‰\nã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãŒå°‘ãªã„: 1080pxã§å›ºå®šï¼ˆç©ºç™½ãªã—ï¼‰\né©åˆç‡: 100%\n```\n\n### åŠ¹æœ2: ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‹ã‚‰ã®ã‚¯ãƒ¬ãƒ¼ãƒ å‰Šæ¸›\n\n**Before**:\n```\nã€Œç”»åƒã®ä¸€éƒ¨ãŒåˆ‡ã‚Œã¦ã‚‹ã€: æœˆ15ä»¶\nã€Œç”»è³ªãŒæ‚ªã„ã€: æœˆ8ä»¶\n```\n\n**After**:\n```\nã€Œç”»åƒã®ä¸€éƒ¨ãŒåˆ‡ã‚Œã¦ã‚‹ã€: 0ä»¶\nã€Œç”»è³ªãŒæ‚ªã„ã€: 0ä»¶\n```\n\n**å‰Šæ¸›ç‡**: 100%å‰Šæ¸›\n\n### åŠ¹æœ3: ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰æ™‚é–“ã®çŸ­ç¸®\n\n**scale: 2ï¼ˆ2160x2160ï¼‰ã®å ´åˆ**:\n```\nç”Ÿæˆæ™‚é–“: ç´„3ç§’/ãƒšãƒ¼ã‚¸\nãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚º: ç´„1.5MB/ãƒšãƒ¼ã‚¸\n```\n\n**scale: 1ï¼ˆ1080x1080ï¼‰ã®å ´åˆ**:\n```\nç”Ÿæˆæ™‚é–“: ç´„1ç§’/ãƒšãƒ¼ã‚¸\nãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚º: ç´„400KB/ãƒšãƒ¼ã‚¸\n```\n\n**æ”¹å–„**: ç”Ÿæˆæ™‚é–“67%çŸ­ç¸®ã€ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚º73%å‰Šæ¸›\n\n---\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- **skill_html2canvas_optimization_techniques_2025_11_25**: HTMLâ†’Canvaså¤‰æ›æœ€é©åŒ–\n- **skill_svg_badge_rendering_2025_11_25**: SVGãƒãƒƒã‚¸ã§ãƒ†ã‚­ã‚¹ãƒˆä¿æŒ\n- **failure_html2canvas_clipping_issue_fixed_2025_11_25**: ã‚¯ãƒªãƒƒãƒ”ãƒ³ã‚°å•é¡Œã®è§£æ±º\n\n---\n\n## ãƒ†ã‚¹ãƒˆä¾‹\n\n```typescript\n// tests/instagram-dimensions.test.ts\ndescribe('Instagram 1080x1080 Dimensions', () => {\n  it('should render template with exactly 1080px width', () => {\n    const { container } = render(<TestTemplate data={testData} />)\n    const element = container.firstChild as HTMLElement\n\n    expect(element.style.width).toBe('1080px')\n  })\n\n  it('should have minHeight of 1080px', () => {\n    const { container } = render(<TestTemplate data={testData} />)\n    const element = container.firstChild as HTMLElement\n\n    expect(element.style.minHeight).toBe('1080px')\n  })\n\n  it('should allow content to exceed 1080px height', () => {\n    const longData = { ...testData, items: new Array(20).fill('item') }\n    const { container } = render(<TestTemplate data={longData} />)\n    const element = container.firstChild as HTMLElement\n\n    const actualHeight = element.offsetHeight\n    expect(actualHeight).toBeGreaterThan(1080)\n  })\n\n  it('should generate canvas with 1080px width', async () => {\n    const element = document.createElement('div')\n    element.style.width = '1080px'\n    element.style.minHeight = '1080px'\n    document.body.appendChild(element)\n\n    const canvas = await html2canvas(element, {\n      width: 1080,\n      height: element.offsetHeight\n    })\n\n    expect(canvas.width).toBe(1080)\n    expect(canvas.height).toBeGreaterThanOrEqual(1080)\n  })\n})\n```\n\n---\n\n**ã¾ã¨ã‚**: Instagram 1080x1080 æœ€é©åŒ–ã¯ã€æ­£ç¢ºãªãƒ‡ã‚£ãƒ¡ãƒ³ã‚·ãƒ§ãƒ³ã€å‹•çš„é«˜ã•è¨ˆç®—ã€overflow: visibleã€html2canvas ã®é©åˆ‡ãªã‚ªãƒ—ã‚·ãƒ§ãƒ³è¨­å®šã«ã‚ˆã‚Šå®Ÿç¾ã•ã‚Œã‚‹ã€‚ã“ã®æŠ€è¡“ã«ã‚ˆã‚Šã€Instagramé©åˆç‡100%ã€ã‚¯ãƒ¬ãƒ¼ãƒ 0ä»¶ã‚’é”æˆã€‚\n",
    "prompt": "### ã‚¹ãƒ†ãƒƒãƒ—1: ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®åŸºæœ¬æ§‹é€ \n\n**å…¨ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå…±é€šã®ãƒ‡ã‚£ãƒ¡ãƒ³ã‚·ãƒ§ãƒ³è¨­å®š**:\n\n```typescript\n// app/components/templates/BaseTemplate.tsx (æ¦‚å¿µ)\nexport const BaseTemplate: React.FC<TemplateProps> = ({ data }) => {\n  return (\n    <div\n      className=\"relative bg-white\"\n      style={{\n        width: '1080px',      // å›ºå®šå¹…ï¼ˆInstagramä»•æ§˜ï¼‰\n        minHeight: '1080px',  // æœ€å°é«˜ã•ï¼ˆã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãŒå°‘ãªã„å ´åˆï¼‰\n        overflow: 'visible'   // é‡è¦: ã‚¯ãƒªãƒƒãƒ”ãƒ³ã‚°é˜²æ­¢\n      }}\n    >\n      {/* ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ */}\n    </div>\n  )\n}\n```\n\n**é‡è¦ãªãƒã‚¤ãƒ³ãƒˆ**:\n1. `width: '1080px'` - å›ºå®šå¹…ï¼ˆçµ¶å¯¾ã«å¤‰æ›´ã—ãªã„ï¼‰\n2. `minHeight: '1080px'` - æœ€å°é«˜ã•ï¼ˆæ‹¡å¼µå¯èƒ½ï¼‰\n3. `overflow: 'visible'` - åˆ‡ã‚Šå–ã‚‰ãªã„ï¼ˆhtml2canvasæ™‚ã«é‡è¦ï¼‰\n\n### ã‚¹ãƒ†ãƒƒãƒ—2: å®Ÿéš›ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä¾‹ï¼ˆçµ±ä¸€ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆï¼‰\n\n**Unified Template 08: Section Blocks**:\n\n```typescript\n// app/components/templates/unified/UnifiedTemplate08SectionBlocks.tsx\nimport React from 'react'\nimport { TemplateProps, TemplateData } from '../TemplateTypes'\n\nexport const UnifiedTemplate08SectionBlocks: React.FC<TemplateProps> = ({ data }) => {\n  const { title, sections, characterImage, badgeText } = data\n\n  return (\n    <div\n      className=\"relative bg-white\"\n      style={{\n        width: '1080px',       // Instagramå¹…\n        minHeight: '1080px',   // æœ€å°é«˜ã•\n        overflow: 'visible',   // ã‚¯ãƒªãƒƒãƒ”ãƒ³ã‚°é˜²æ­¢\n        padding: '60px 80px'   // å†…éƒ¨ä½™ç™½ï¼ˆèª­ã¿ã‚„ã™ã•ï¼‰\n      }}\n    >\n      {/* ã‚¿ã‚¤ãƒˆãƒ«ã‚»ã‚¯ã‚·ãƒ§ãƒ³ */}\n      <div className=\"mb-12\">\n        <h1 className=\"text-5xl font-bold text-gray-900\">\n          {title}\n        </h1>\n      </div>\n\n      {/* ã‚»ã‚¯ã‚·ãƒ§ãƒ³ãƒ–ãƒ­ãƒƒã‚¯ï¼ˆ2å€‹æƒ³å®šï¼‰ */}\n      {sections && sections.map((section, index) => (\n        <div\n          key={index}\n          className=\"mb-10 bg-find-blue-50 rounded-3xl p-8\"\n        >\n          <h2 className=\"text-3xl font-bold text-find-blue-700 mb-4\">\n            {section.title}\n          </h2>\n          <p className=\"text-xl text-gray-700 leading-relaxed\">\n            {section.content}\n          </p>\n\n          {/* ã‚¢ã‚¤ãƒ†ãƒ ãƒªã‚¹ãƒˆ */}\n          {section.items && section.items.length > 0 && (\n            <ul className=\"mt-6 space-y-3\">\n              {section.items.map((item, itemIndex) => (\n                <li key={itemIndex} className=\"flex items-start\">\n                  <span className=\"text-find-blue-600 mr-3\">âœ“</span>\n                  <span className=\"text-lg text-gray-800\">{item}</span>\n                </li>\n              ))}\n            </ul>\n          )}\n        </div>\n      ))}\n\n      {/* ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ç”»åƒï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰ */}\n      {characterImage && (\n        <div className=\"absolute bottom-10 right-10\">\n          <img\n            src={characterImage}\n            alt=\"character\"\n            className=\"w-32 h-32 rounded-full\"\n          />\n        </div>\n      )}\n    </div>\n  )\n}\n```\n\n**ãƒ‡ã‚£ãƒ¡ãƒ³ã‚·ãƒ§ãƒ³è§£èª¬**:\n```\nå¹…: 1080pxå›ºå®š\n  â””â”€ padding: 80pxå·¦å³ â†’ å®ŸåŠ¹å¹…: 920pxï¼ˆã‚³ãƒ³ãƒ†ãƒ³ãƒ„é ˜åŸŸï¼‰\n\né«˜ã•: minHeight 1080px\n  â”œâ”€ padding: 60pxä¸Šä¸‹ â†’ å®ŸåŠ¹æœ€å°é«˜ã•: 960px\n  â”œâ”€ ã‚¿ã‚¤ãƒˆãƒ«: ~80px\n  â”œâ”€ ã‚»ã‚¯ã‚·ãƒ§ãƒ³1: ~200-300pxï¼ˆå¯å¤‰ï¼‰\n  â”œâ”€ ã‚»ã‚¯ã‚·ãƒ§ãƒ³2: ~200-300pxï¼ˆå¯å¤‰ï¼‰\n  â””â”€ åˆè¨ˆ: 1080pxä»¥ä¸Šï¼ˆã‚³ãƒ³ãƒ†ãƒ³ãƒ„é‡ã«å¿œã˜ã¦æ‹¡å¼µï¼‰\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3: html2canvas ã§ã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰å‡¦ç†\n\n**bulkDownloadService.ts ã®å®Ÿè£…**:\n\n```typescript\n// app/services/bulkDownloadService.ts (æŠœç²‹)\nimport html2canvas from 'html2canvas'\n\nexport async function downloadSinglePage(\n  pageElement: HTMLElement,\n  pageNumber: number,\n  pageTitle: string\n): Promise<void> {\n  try {\n    console.log(`ğŸ“¸ ãƒšãƒ¼ã‚¸${pageNumber}ã®ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆé–‹å§‹...`)\n\n    // Step 1: å®Ÿéš›ã®é«˜ã•ã‚’æ¸¬å®š\n    const actualHeight = pageElement.offsetHeight\n    console.log(`ğŸ“ å®Ÿéš›ã®é«˜ã•: ${actualHeight}px`)\n\n    // Step 2: html2canvasã§å¤‰æ›\n    const canvas = await html2canvas(pageElement, {\n      width: 1080,                    // å›ºå®šå¹…\n      height: actualHeight,           // å‹•çš„é«˜ã•ï¼ˆå®Ÿæ¸¬å€¤ï¼‰\n      scale: 1,                       // ã‚¹ã‚±ãƒ¼ãƒ«ãªã—ï¼ˆ1:1ï¼‰\n      backgroundColor: '#ffffff',     // ç™½èƒŒæ™¯\n      logging: false,                 // ãƒ­ã‚°ç„¡åŠ¹\n      useCORS: true,                  // CORSå¯¾å¿œï¼ˆç”»åƒèª­ã¿è¾¼ã¿ï¼‰\n      allowTaint: false,              // ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£\n      windowWidth: 1080,              // ãƒ“ãƒ¥ãƒ¼ãƒãƒ¼ãƒˆå¹…\n      windowHeight: actualHeight,     // ãƒ“ãƒ¥ãƒ¼ãƒãƒ¼ãƒˆé«˜ã•\n      scrollX: 0,\n      scrollY: 0,\n      imageTimeout: 15000,            // ç”»åƒèª­ã¿è¾¼ã¿ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ\n      onclone: (clonedDoc) => {\n        // ã‚¯ãƒ­ãƒ¼ãƒ³DOMæ“ä½œï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰\n        console.log('ğŸ“‹ DOMã‚¯ãƒ­ãƒ¼ãƒ³å®Œäº†')\n      }\n    })\n\n    console.log(`âœ… ã‚­ãƒ£ãƒ³ãƒã‚¹ç”Ÿæˆå®Œäº†: ${canvas.width}x${canvas.height}px`)\n\n    // Step 3: PNGãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰\n    canvas.toBlob((blob) => {\n      if (!blob) {\n        throw new Error('Blobç”Ÿæˆå¤±æ•—')\n      }\n\n      const url = URL.createObjectURL(blob)\n      const link = document.createElement('a')\n      link.href = url\n      link.download = `page${pageNumber}_${sanitizeFilename(pageTitle)}.png`\n      link.click()\n      URL.revokeObjectURL(url)\n\n      console.log(`ğŸ’¾ ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰å®Œäº†: ${link.download}`)\n    }, 'image/png', 1.0)  // PNGã€å“è³ª100%\n\n  } catch (error) {\n    console.error(`âŒ ãƒšãƒ¼ã‚¸${pageNumber}ã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰å¤±æ•—:`, error)\n    throw error\n  }\n}\n\nfunction sanitizeFilename(filename: string): string {\n  return filename.replace(/[^a-zA-Z0-9_\\-]/g, '_').substring(0, 50)\n}\n```\n\n**html2canvas ã‚ªãƒ—ã‚·ãƒ§ãƒ³è§£èª¬**:\n\n| ã‚ªãƒ—ã‚·ãƒ§ãƒ³ | å€¤ | ç†ç”± |\n|----------|-----|-----|\n| `width` | 1080 | Instagramå¹…å›ºå®š |\n| `height` | actualHeight | å®Ÿéš›ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„é«˜ã•ï¼ˆå‹•çš„ï¼‰ |\n| `scale` | 1 | ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°ãªã—ï¼ˆãƒ”ã‚¯ã‚»ãƒ«ãƒ‘ãƒ¼ãƒ•ã‚§ã‚¯ãƒˆï¼‰ |\n| `backgroundColor` | #ffffff | ç™½èƒŒæ™¯ï¼ˆInstagramæ¨å¥¨ï¼‰ |\n| `useCORS` | true | å¤–éƒ¨ç”»åƒèª­ã¿è¾¼ã¿è¨±å¯ |\n| `allowTaint` | false | ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ä¿è­· |\n| `windowWidth/Height` | 1080/actualHeight | ãƒ“ãƒ¥ãƒ¼ãƒãƒ¼ãƒˆã‚µã‚¤ã‚ºæŒ‡å®š |\n\n### ã‚¹ãƒ†ãƒƒãƒ—4: å‹•çš„é«˜ã•è¨ˆç®—ã®å®Ÿè£…\n\n**ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ã®å‹•çš„é«˜ã•å¯¾å¿œ**:\n\n```typescript\n// app/components/templates/DynamicHeightTemplate.tsx (æ¦‚å¿µ)\nimport React, { useEffect, useRef, useState } from 'react'\n\nexport const DynamicHeightTemplate: React.FC<TemplateProps> = ({ data }) => {\n  const containerRef = useRef<HTMLDivElement>(null)\n  const [calculatedHeight, setCalculatedHeight] = useState<number>(1080)\n\n  useEffect(() => {\n    if (containerRef.current) {\n      // å®Ÿéš›ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„é«˜ã•ã‚’æ¸¬å®š\n      const height = containerRef.current.offsetHeight\n      console.log(`ğŸ“ è¨ˆç®—ã•ã‚ŒãŸé«˜ã•: ${height}px`)\n      setCalculatedHeight(Math.max(height, 1080))  // æœ€ä½1080px\n    }\n  }, [data])\n\n  return (\n    <div\n      ref={containerRef}\n      className=\"relative bg-white\"\n      style={{\n        width: '1080px',\n        minHeight: '1080px',\n        height: data.items.length > 5 ? 'auto' : '1080px',  // æ¡ä»¶ä»˜ãé«˜ã•\n        overflow: 'visible'\n      }}\n    >\n      {/* ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ */}\n      {data.items.map((item, index) => (\n        <div key={index} className=\"mb-8\">\n          {item}\n        </div>\n      ))}\n    </div>\n  )\n}\n```\n\n**ã‚¢ã‚¤ãƒ†ãƒ æ•°ã«ã‚ˆã‚‹é«˜ã•èª¿æ•´ä¾‹**:\n\n```typescript\n// itemsæ•°ã«å¿œã˜ãŸå‹•çš„é«˜ã•\nconst calculateHeight = (itemsCount: number): number => {\n  const baseHeight = 1080\n  const itemHeight = 100  // 1ã‚¢ã‚¤ãƒ†ãƒ ã‚ãŸã‚Šã®å¹³å‡é«˜ã•\n  const padding = 200     // ä¸Šä¸‹ä½™ç™½\n\n  const contentHeight = itemsCount * itemHeight + padding\n  return Math.max(contentHeight, baseHeight)\n}\n\n// ä½¿ç”¨ä¾‹\nconst height = calculateHeight(data.items.length)\n// 3 items: 1080px (æœ€å°å€¤)\n// 8 items: 1000px â†’ 1080px (æœ€å°å€¤é©ç”¨)\n// 12 items: 1400px (æ‹¡å¼µ)\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—5: ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ– vs å›ºå®šãƒ‡ã‚£ãƒ¡ãƒ³ã‚·ãƒ§ãƒ³\n\n**ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼è¡¨ç¤ºï¼ˆãƒ–ãƒ©ã‚¦ã‚¶ï¼‰**: ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–\n\n```typescript\n// app/components/PostPreview.tsx\nexport const PostPreview: React.FC<{ pages: GeneratedPage[] }> = ({ pages }) => {\n  return (\n    <div className=\"container mx-auto px-4\">\n      {pages.map((page, index) => (\n        <div\n          key={index}\n          className=\"mb-8\"\n          style={{\n            maxWidth: '600px',   // ãƒ–ãƒ©ã‚¦ã‚¶è¡¨ç¤ºç”¨ï¼ˆãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ï¼‰\n            aspectRatio: '1/1',  // ã‚¢ã‚¹ãƒšã‚¯ãƒˆæ¯”ä¿æŒ\n            transform: 'scale(0.556)'  // 1080px â†’ 600px (600/1080=0.556)\n          }}\n        >\n          <TemplateComponent data={page.templateData} />\n        </div>\n      ))}\n    </div>\n  )\n}\n```\n\n**ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ï¼ˆPNGï¼‰**: å›ºå®š1080x1080\n\n```typescript\n// ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰æ™‚ã¯å®Ÿã‚µã‚¤ã‚ºï¼ˆ1080x1080ï¼‰ã§ç”Ÿæˆ\nconst canvas = await html2canvas(element, {\n  width: 1080,\n  height: actualHeight,\n  scale: 1  // å®Ÿã‚µã‚¤ã‚º\n})\n```\n\n---",
    "relatedTech": [
      "skill-html2canvas-optimization-techniques",
      "skill-svg-badge-rendering",
      "failure-html2canvas-clipping-issue-fixed"
    ]
  },
  {
    "slug": "integration-strategy-patterns",
    "title": "ãƒ“ã‚¸ãƒã‚¹ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯çµ±åˆæˆ¦ç•¥ãƒ‘ã‚¿ãƒ¼ãƒ³",
    "category": "Skillsï¼ˆã‚¹ã‚­ãƒ«ãƒ»æ‰‹æ³•ï¼‰",
    "description": "ç‰©èªã«ãƒ“ã‚¸ãƒã‚¹ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ï¼ˆSWOTã€3Cã€PDCAç­‰ï¼‰ã‚’è‡ªç„¶ã«çµ±åˆã—ã€èª­è€…ã®å­¦ç¿’ãƒ¬ãƒ™ãƒ«ã«å¿œã˜ã¦é›£æ˜“åº¦ã‚’èª¿æ•´ã™ã‚‹æˆ¦ç•¥ãƒ‘ã‚¿ãƒ¼ãƒ³ã€‚",
    "project": "novel-automation-system-v2",
    "usedIn": [
      "src/lib/integration/business-framework-integrator.ts:1-400"
    ],
    "code": "```json\n{\n  \"id\": \"skill_integration_strategy_patterns_2025_11_25\",\n  \"type\": \"skill\",\n  \"name\": \"ãƒ“ã‚¸ãƒã‚¹ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯çµ±åˆæˆ¦ç•¥ãƒ‘ã‚¿ãƒ¼ãƒ³\",\n  \"tags\": [\"çµ±åˆæˆ¦ç•¥\", \"ãƒ“ã‚¸ãƒã‚¹ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯\", \"å­¦ç¿’æ—…ç¨‹\", \"ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ãƒ†ãƒªãƒ³ã‚°\", \"å®Ÿè·µçš„æ•™è‚²\"],\n  \"source_project\": \"novel-automation-system-v2\",\n  \"source_file\": \"src/lib/integration/business-framework-integrator.ts:1-400\",\n  \"related_knowledge\": [\n    \"skill_six_stage_learning_journey_design_2025_11_25\"\n  ],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# ãƒ“ã‚¸ãƒã‚¹ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯çµ±åˆæˆ¦ç•¥ãƒ‘ã‚¿ãƒ¼ãƒ³\n\n## ä½•ã‚’ã™ã‚‹ã‚¹ã‚­ãƒ«ã‹\n\nç‰©èªã«ãƒ“ã‚¸ãƒã‚¹ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ï¼ˆSWOTã€3Cã€PDCAç­‰ï¼‰ã‚’è‡ªç„¶ã«çµ±åˆã—ã€èª­è€…ã®å­¦ç¿’ãƒ¬ãƒ™ãƒ«ã«å¿œã˜ã¦é›£æ˜“åº¦ã‚’èª¿æ•´ã™ã‚‹æˆ¦ç•¥ãƒ‘ã‚¿ãƒ¼ãƒ³ã€‚\n\n## å…·ä½“çš„ãªæ‰‹æ³•\n\n### çµ±åˆæˆ¦ç•¥ã®3ãƒ‘ã‚¿ãƒ¼ãƒ³\n\n```typescript\nenum IntegrationStrategy {\n    EXPLICIT = 'explicit',     // æ˜ç¤ºçš„: ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯åã‚’ç›´æ¥ä½¿ç”¨\n    SUBTLE = 'subtle',         // æš—ç¤ºçš„: æ¦‚å¿µã¯ä½¿ã†ãŒåå‰ã¯å‡ºã•ãªã„\n    NATURAL = 'natural'        // è‡ªç„¶: ç‰©èªã«æº¶ã‘è¾¼ã¾ã›ã‚‹\n}\n\nfunction selectStrategy(\n    learningLevel: number,\n    framework: BusinessFramework\n): IntegrationStrategy {\n    // åˆå¿ƒè€…ï¼ˆãƒ¬ãƒ™ãƒ«1-2ï¼‰: æ˜ç¤ºçš„ã«æ•™ãˆã‚‹\n    if (learningLevel <= 2) {\n        return IntegrationStrategy.EXPLICIT;\n    }\n\n    // ä¸­ç´šè€…ï¼ˆãƒ¬ãƒ™ãƒ«3-4ï¼‰: æš—ç¤ºçš„ã«æ°—ã¥ã‹ã›ã‚‹\n    if (learningLevel <= 4) {\n        return IntegrationStrategy.SUBTLE;\n    }\n\n    // ä¸Šç´šè€…ï¼ˆãƒ¬ãƒ™ãƒ«5-6ï¼‰: è‡ªç„¶ã«çµ±åˆ\n    return IntegrationStrategy.NATURAL;\n}\n```\n\n### ãƒ¬ãƒ™ãƒ«åˆ¥å®Ÿè£…ä¾‹: SWOTãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯\n\n```typescript\n// EXPLICITï¼ˆåˆå¿ƒè€…å‘ã‘ï¼‰\nconst explicitIntegration = {\n    narration: `\n    \"SWOTåˆ†æã¨ã„ã†æ‰‹æ³•ãŒã‚ã‚‹ã‚“ã \"ã¨å…ˆè¼©ãŒæ•™ãˆã¦ãã‚ŒãŸã€‚\n    \"S ã¯ Strengthsï¼ˆå¼·ã¿ï¼‰ã€W ã¯ Weaknessesï¼ˆå¼±ã¿ï¼‰ã€\n     O ã¯ Opportunitiesï¼ˆæ©Ÿä¼šï¼‰ã€T ã¯ Threatsï¼ˆè„…å¨ï¼‰ã ã‚ˆ\"\n    `,\n    teachingMoment: true,\n    frameworkName: 'SWOT',\n    explanation: 'direct'\n};\n\n// SUBTLEï¼ˆä¸­ç´šè€…å‘ã‘ï¼‰\nconst subtleIntegration = {\n    narration: `\n    å½¼ã¯ç´™ã«4ã¤ã®è±¡é™ã‚’æã„ãŸã€‚\n    \"ã¾ãšè‡ªåˆ†ãŸã¡ã®å¼·ã¿ã¨å¼±ã¿ã‚’æ•´ç†ã—ã‚ˆã†ã€‚\n     ãã—ã¦ã€å¤–éƒ¨ç’°å¢ƒã®æ©Ÿä¼šã¨è„…å¨ã‚‚è€ƒãˆã‚‹\"\n    `,\n    teachingMoment: false,\n    frameworkHint: 'SWOT',\n    explanation: 'implicit'\n};\n\n// NATURALï¼ˆä¸Šç´šè€…å‘ã‘ï¼‰\nconst naturalIntegration = {\n    narration: `\n    å½¼ã¯äº‹æ¥­ã®ç¾çŠ¶ã‚’å¤šè§’çš„ã«åˆ†æã—å§‹ã‚ãŸã€‚\n    å†…éƒ¨ã®å¼·ã¿ãƒ»å¼±ã¿ã€å¸‚å ´ã®æ©Ÿä¼šãƒ»è„…å¨...\n    ã™ã¹ã¦ãŒæ˜ç¢ºã«ãªã‚‹ã«ã¤ã‚Œã€æ¬¡ã®ä¸€æ‰‹ãŒè¦‹ãˆã¦ããŸã€‚\n    `,\n    teachingMoment: false,\n    frameworkName: null,\n    explanation: 'none'\n};\n```\n\n### é›£æ˜“åº¦èª¿æ•´ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ \n\n```typescript\nfunction adjustDifficulty(\n    framework: BusinessFramework,\n    learningLevel: number\n): FrameworkPresentation {\n    const baseComplexity = framework.complexity; // 1-10\n\n    // å­¦ç¿’ãƒ¬ãƒ™ãƒ«ã«å¿œã˜ãŸè¤‡é›‘åº¦ã®èª¿æ•´\n    const adjustedComplexity = Math.max(\n        1,\n        Math.min(10, baseComplexity + (learningLevel - 3))\n    );\n\n    return {\n        frameworkName: framework.name,\n        complexity: adjustedComplexity,\n        detailLevel: this.calculateDetailLevel(learningLevel),\n        exampleCount: this.calculateExampleCount(learningLevel),\n        integrationStrategy: selectStrategy(learningLevel, framework)\n    };\n}\n\nprivate calculateDetailLevel(learningLevel: number): number {\n    // ãƒ¬ãƒ™ãƒ«1: åŸºç¤ã®ã¿ï¼ˆ20%ï¼‰\n    // ãƒ¬ãƒ™ãƒ«6: å…¨è©³ç´°ï¼ˆ100%ï¼‰\n    return 20 + (learningLevel - 1) * 16;\n}\n```\n\n## ãªãœã“ã®æ‰‹æ³•ã‚’ä½¿ã†ã‹\n\n**ç†ç”±1: æ•™è‚²åŠ¹æœã®æœ€å¤§åŒ–**\n- èª­è€…ã®ãƒ¬ãƒ™ãƒ«ã«æœ€é©ãªèª¬æ˜\n- æ®µéšçš„ãªç†è§£ä¿ƒé€²\n- æŒ«æŠ˜ã®é˜²æ­¢\n\n**ç†ç”±2: ç‰©èªæ€§ã®ç¶­æŒ**\n- æ•™ç§‘æ›¸çš„ã«ãªã‚‰ãªã„\n- ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ†ã‚¤ãƒ¡ãƒ³ãƒˆæ€§ã‚’ä¿æŒ\n- è‡ªç„¶ãªå­¦ç¿’ä½“é¨“\n\n**ç†ç”±3: å†èª­ä¾¡å€¤ã®å‘ä¸Š**\n- ãƒ¬ãƒ™ãƒ«ãŒä¸ŠãŒã‚‹ã¨æ–°ã—ã„ç™ºè¦‹\n- æ·±ã„ç†è§£ã§åˆ¥ã®æ¥½ã—ã¿æ–¹\n- é•·æœŸçš„ãªèª­è€…ã‚¨ãƒ³ã‚²ãƒ¼ã‚¸ãƒ¡ãƒ³ãƒˆ\n\n## å†ç¾æ–¹æ³•\n\n```typescript\nconst integrator = new BusinessFrameworkIntegrator(memoryManager);\n\nconst integration = await integrator.integrateFramework({\n    framework: 'SWOT',\n    chapterNumber: 15,\n    learningLevel: 3, // èª­è€…ã®ç¾åœ¨ã®ãƒ¬ãƒ™ãƒ«\n    context: 'å¸‚å ´å‚å…¥ã®åˆ¤æ–­ã‚·ãƒ¼ãƒ³'\n});\n\nconsole.log(`æˆ¦ç•¥: ${integration.strategy}`);\nconsole.log(`è©³ç´°åº¦: ${integration.detailLevel}%`);\n```\n\n## ã„ã¤ä½¿ã†ã‹\n\n- ãƒ“ã‚¸ãƒã‚¹ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚’ç‰©èªã«çµ„ã¿è¾¼ã‚€æ™‚\n- èª­è€…ã®å­¦ç¿’é€²æ—ã«å¿œã˜ãŸèª¿æ•´ãŒå¿…è¦ãªæ™‚\n- æ•™è‚²çš„è¦ç´ ã¨ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ†ã‚¤ãƒ¡ãƒ³ãƒˆã®ä¸¡ç«‹ãŒæ±‚ã‚ã‚‰ã‚Œã‚‹æ™‚\n\n## æ³¨æ„ç‚¹\n\n- éåº¦ãªæ•™è‚²çš„è¦ç´ ã¯ç‰©èªã‚’æãªã†\n- å­¦ç¿’ãƒ¬ãƒ™ãƒ«ã®è¿½è·¡ãŒå¿…è¦\n- ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã®é¸æŠã¯æ–‡è„ˆã«ä¾å­˜\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `skill_six_stage_learning_journey_design_2025_11_25.md`\n",
    "prompt": "```typescript\nconst integrator = new BusinessFrameworkIntegrator(memoryManager);\n\nconst integration = await integrator.integrateFramework({\n    framework: 'SWOT',\n    chapterNumber: 15,\n    learningLevel: 3, // èª­è€…ã®ç¾åœ¨ã®ãƒ¬ãƒ™ãƒ«\n    context: 'å¸‚å ´å‚å…¥ã®åˆ¤æ–­ã‚·ãƒ¼ãƒ³'\n});\n\nconsole.log(`æˆ¦ç•¥: ${integration.strategy}`);\nconsole.log(`è©³ç´°åº¦: ${integration.detailLevel}%`);\n```",
    "relatedTech": [
      "skill-six-stage-learning-journey-design"
    ]
  },
  {
    "slug": "intelligent-memory-layer-selection",
    "title": "ã‚¢ã‚¯ã‚»ã‚¹æœ€é©åŒ–ã‚¨ãƒ³ã‚¸ãƒ³ï¼ˆå±¤é¸æŠã¨ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç›£è¦–ï¼‰",
    "category": "Skillsï¼ˆã‚¹ã‚­ãƒ«ãƒ»æ‰‹æ³•ï¼‰",
    "description": "ã‚¯ã‚¨ãƒªã®ç‰¹æ€§ã«åŸºã¥ã„ã¦æœ€é©ãªè¨˜æ†¶ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚’é¸æŠã—ã€ã‚¢ã‚¯ã‚»ã‚¹ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’å­¦ç¿’ã—ã¦äºˆæ¸¬ã‚¢ã‚¯ã‚»ã‚¹ã§æ€§èƒ½ã‚’å‘ä¸Šã•ã›ã‚‹æ‰‹æ³•ã€‚éå»ã®ã‚¢ã‚¯ã‚»ã‚¹çµ±è¨ˆã‚’åˆ†æã—ã€å‹•çš„ã«å±¤é¸æŠã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã‚’æœ€é©åŒ–ã™ã‚‹ã€‚",
    "project": "novel-automation-system-v2",
    "usedIn": [
      "src/lib/memory/integration/access-optimizer.ts:1-80"
    ],
    "code": "```json\n{\n  \"id\": \"skill_intelligent_memory_layer_selection_2025_11_25\",\n  \"type\": \"skill\",\n  \"name\": \"ã‚¢ã‚¯ã‚»ã‚¹æœ€é©åŒ–ã‚¨ãƒ³ã‚¸ãƒ³ï¼ˆå±¤é¸æŠã¨ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç›£è¦–ï¼‰\",\n  \"tags\": [\"ã‚¢ã‚¯ã‚»ã‚¹æœ€é©åŒ–\", \"å±¤é¸æŠ\", \"ãƒ‘ã‚¿ãƒ¼ãƒ³å­¦ç¿’\", \"äºˆæ¸¬ã‚¢ã‚¯ã‚»ã‚¹\", \"ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç›£è¦–\", \"ãƒãƒ«ã‚³ãƒ•é€£é–\"],\n  \"source_project\": \"novel-automation-system-v2\",\n  \"source_file\": \"src/lib/memory/integration/access-optimizer.ts:1-80\",\n  \"related_knowledge\": [\n    \"skill_unified_memory_access_api_2025_11_25\",\n    \"skill_multi_layer_cache_coordination_2025_11_25\"\n  ],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# ã‚¢ã‚¯ã‚»ã‚¹æœ€é©åŒ–ã‚¨ãƒ³ã‚¸ãƒ³ï¼ˆå±¤é¸æŠã¨ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç›£è¦–ï¼‰\n\n## ä½•ã‚’ã™ã‚‹ã‚¹ã‚­ãƒ«ã‹\n\nã‚¯ã‚¨ãƒªã®ç‰¹æ€§ã«åŸºã¥ã„ã¦æœ€é©ãªè¨˜æ†¶ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚’é¸æŠã—ã€ã‚¢ã‚¯ã‚»ã‚¹ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’å­¦ç¿’ã—ã¦äºˆæ¸¬ã‚¢ã‚¯ã‚»ã‚¹ã§æ€§èƒ½ã‚’å‘ä¸Šã•ã›ã‚‹æ‰‹æ³•ã€‚éå»ã®ã‚¢ã‚¯ã‚»ã‚¹çµ±è¨ˆã‚’åˆ†æã—ã€å‹•çš„ã«å±¤é¸æŠã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã‚’æœ€é©åŒ–ã™ã‚‹ã€‚\n\n## å…·ä½“çš„ãªæ‰‹æ³•\n\n### ã‚¢ã‚¯ã‚»ã‚¹æˆ¦ç•¥ã®ç¨®é¡\n\n```typescript\n// src/lib/memory/integration/access-optimizer.ts\nexport enum AccessStrategy {\n  CACHE_FIRST = 'cache-first',           // ã‚­ãƒ£ãƒƒã‚·ãƒ¥å„ªå…ˆï¼ˆä½ãƒ¬ã‚¤ãƒ†ãƒ³ã‚·ï¼‰\n  CONSISTENCY_FIRST = 'consistency-first', // ä¸€è²«æ€§å„ªå…ˆï¼ˆæœ€æ–°ãƒ‡ãƒ¼ã‚¿ï¼‰\n  PERFORMANCE_FIRST = 'performance-first', // ã‚¹ãƒ«ãƒ¼ãƒ—ãƒƒãƒˆå„ªå…ˆ\n  BALANCED = 'balanced',                 // ãƒãƒ©ãƒ³ã‚¹å‹\n  PREDICTIVE = 'predictive'              // äºˆæ¸¬å‹ï¼ˆæ©Ÿæ¢°å­¦ç¿’ï¼‰\n}\n```\n\n### ã‚³ã‚¢å®Ÿè£…\n\n```typescript\nexport class AccessOptimizer {\n  private accessPatterns: Map<string, AccessPattern> = new Map();\n  private predictionModel: MarkovChain;\n\n  // æœ€é©åŒ–ã•ã‚ŒãŸã‚¢ã‚¯ã‚»ã‚¹\n  async optimizedAccess<T>(query: MemoryQuery): Promise<OptimizedAccessResult<T>> {\n    const startTime = Date.now();\n\n    // 1. ã‚¢ã‚¯ã‚»ã‚¹ãƒ‘ã‚¿ãƒ¼ãƒ³åˆ†æ\n    const pattern = this.analyzeAccessPattern(query);\n\n    // 2. æœ€é©æˆ¦ç•¥é¸æŠ\n    const strategy = this.selectOptimalStrategy(pattern);\n\n    // 3. ã‚­ãƒ£ãƒƒã‚·ãƒ¥å„ªå…ˆã®å ´åˆã€ã‚­ãƒ£ãƒƒã‚·ãƒ¥ç¢ºèª\n    if (strategy === AccessStrategy.CACHE_FIRST) {\n      const cached = await this.cacheCoordinator.getFromCache(query.key);\n      if (cached) {\n        this.updateAccessPattern(pattern, 'cache', Date.now() - startTime);\n        return {\n          data: cached,\n          source: 'cache',\n          strategy,\n          latency: Date.now() - startTime\n        };\n      }\n    }\n\n    // 4. å±¤åˆ¥ã‚¢ã‚¯ã‚»ã‚¹è©¦è¡Œï¼ˆæˆ¦ç•¥ã«å¿œã˜ãŸé †åºï¼‰\n    const layerOrder = this.getLayersByStrategy(strategy);\n\n    for (const level of layerOrder) {\n      const result = await this.accessLayer(level, query);\n\n      if (result.success) {\n        // ãƒ‘ã‚¿ãƒ¼ãƒ³æ›´æ–°\n        this.updateAccessPattern(pattern, level, Date.now() - startTime);\n\n        // ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã«ä¿å­˜\n        await this.cacheCoordinator.setCache(\n          query.key,\n          result.data,\n          level\n        );\n\n        return this.formatResult(result, level, strategy);\n      }\n    }\n\n    // 5. å¤±æ•—æ™‚\n    throw new Error(`No data found for query: ${query.key}`);\n  }\n\n  // ã‚¢ã‚¯ã‚»ã‚¹ãƒ‘ã‚¿ãƒ¼ãƒ³ã®åˆ†æ\n  private analyzeAccessPattern(query: MemoryQuery): AccessPattern {\n    const existing = this.accessPatterns.get(query.key);\n\n    if (!existing) {\n      // æ–°ã—ã„ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ä½œæˆ\n      return {\n        key: query.key,\n        accessCount: 0,\n        lastAccessTime: Date.now(),\n        averageLatency: 0,\n        successRate: 0,\n        preferredLayer: null,\n        queryType: this.classifyQuery(query)\n      };\n    }\n\n    return existing;\n  }\n\n  // æœ€é©æˆ¦ç•¥ã®é¸æŠ\n  private selectOptimalStrategy(pattern: AccessPattern): AccessStrategy {\n    // ãƒ‘ã‚¿ãƒ¼ãƒ³ã«åŸºã¥ã„ã¦æˆ¦ç•¥ã‚’é¸æŠ\n    if (pattern.accessCount > 10 && pattern.successRate > 0.9) {\n      // é »ç¹ã«ã‚¢ã‚¯ã‚»ã‚¹ã•ã‚Œã€æˆåŠŸç‡ãŒé«˜ã„ â†’ ã‚­ãƒ£ãƒƒã‚·ãƒ¥å„ªå…ˆ\n      return AccessStrategy.CACHE_FIRST;\n    }\n\n    if (pattern.queryType === 'real-time') {\n      // ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ è¦æ±‚ â†’ ä¸€è²«æ€§å„ªå…ˆ\n      return AccessStrategy.CONSISTENCY_FIRST;\n    }\n\n    if (pattern.queryType === 'batch') {\n      // ãƒãƒƒãƒå‡¦ç† â†’ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å„ªå…ˆ\n      return AccessStrategy.PERFORMANCE_FIRST;\n    }\n\n    if (pattern.accessCount > 5) {\n      // ã‚ã‚‹ç¨‹åº¦ãƒ‡ãƒ¼ã‚¿ãŒã‚ã‚‹ â†’ äºˆæ¸¬å‹\n      return AccessStrategy.PREDICTIVE;\n    }\n\n    // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ â†’ ãƒãƒ©ãƒ³ã‚¹å‹\n    return AccessStrategy.BALANCED;\n  }\n\n  // æˆ¦ç•¥ã«å¿œã˜ãŸå±¤ã®é †åº\n  private getLayersByStrategy(strategy: AccessStrategy): MemoryLevel[] {\n    switch(strategy) {\n      case AccessStrategy.CACHE_FIRST:\n      case AccessStrategy.PERFORMANCE_FIRST:\n        return [\n          MemoryLevel.SHORT_TERM,  // æœ€é€Ÿ\n          MemoryLevel.MID_TERM,\n          MemoryLevel.LONG_TERM\n        ];\n\n      case AccessStrategy.CONSISTENCY_FIRST:\n        return [\n          MemoryLevel.LONG_TERM,   // æœ€æ–°\n          MemoryLevel.MID_TERM,\n          MemoryLevel.SHORT_TERM\n        ];\n\n      case AccessStrategy.BALANCED:\n        return [\n          MemoryLevel.SHORT_TERM,\n          MemoryLevel.LONG_TERM,\n          MemoryLevel.MID_TERM\n        ];\n\n      case AccessStrategy.PREDICTIVE:\n        // éå»ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã«åŸºã¥ã„ã¦å‹•çš„ã«æ±ºå®š\n        return this.predictOptimalOrder();\n    }\n  }\n\n  // ãƒ‘ã‚¿ãƒ¼ãƒ³æ›´æ–°\n  private updateAccessPattern(\n    pattern: AccessPattern,\n    source: string,\n    latency: number\n  ): void {\n    pattern.accessCount++;\n    pattern.lastAccessTime = Date.now();\n\n    // å¹³å‡ãƒ¬ã‚¤ãƒ†ãƒ³ã‚·ã®æ›´æ–°\n    pattern.averageLatency =\n      (pattern.averageLatency * (pattern.accessCount - 1) + latency) /\n      pattern.accessCount;\n\n    // æˆåŠŸç‡ã®æ›´æ–°ï¼ˆexponential moving averageï¼‰\n    const alpha = 0.1;\n    pattern.successRate = pattern.successRate * (1 - alpha) + alpha;\n\n    // å¥½ã¿ã®å±¤ã‚’è¨˜éŒ²\n    if (source !== 'cache') {\n      pattern.preferredLayer = source as MemoryLevel;\n    }\n\n    this.accessPatterns.set(pattern.key, pattern);\n  }\n}\n```\n\n### äºˆæ¸¬ã‚¢ã‚¯ã‚»ã‚¹ï¼ˆãƒãƒ«ã‚³ãƒ•é€£é–ï¼‰\n\n```typescript\n// ãƒãƒ«ã‚³ãƒ•é€£é–ã«ã‚ˆã‚‹æ¬¡ã®ã‚¢ã‚¯ã‚»ã‚¹äºˆæ¸¬\nexport class MarkovChain {\n  private transitions: Map<string, Map<string, number>> = new Map();\n\n  // ã‚¢ã‚¯ã‚»ã‚¹å±¥æ­´ã‹ã‚‰é·ç§»ç¢ºç‡ã‚’å­¦ç¿’\n  train(sequence: string[]): void {\n    for (let i = 0; i < sequence.length - 1; i++) {\n      const current = sequence[i];\n      const next = sequence[i + 1];\n\n      if (!this.transitions.has(current)) {\n        this.transitions.set(current, new Map());\n      }\n\n      const counts = this.transitions.get(current)!;\n      counts.set(next, (counts.get(next) || 0) + 1);\n    }\n  }\n\n  // æ¬¡ã®çŠ¶æ…‹ã‚’äºˆæ¸¬\n  predict(current: string): string | null {\n    const counts = this.transitions.get(current);\n    if (!counts || counts.size === 0) {\n      return null;\n    }\n\n    // æœ€ã‚‚ç¢ºç‡ã®é«˜ã„æ¬¡ã®çŠ¶æ…‹ã‚’è¿”ã™\n    let maxCount = 0;\n    let predicted = null;\n\n    for (const [next, count] of counts.entries()) {\n      if (count > maxCount) {\n        maxCount = count;\n        predicted = next;\n      }\n    }\n\n    return predicted;\n  }\n}\n\n// ä½¿ç”¨ä¾‹\nconst sequence = [\n  'character-sato-state',\n  'character-suzuki-state',\n  'plot-arc-3',\n  'chapter-5-context'\n];\nmarkovChain.train(sequence);\n\n// äºˆæ¸¬\nconst next = markovChain.predict('character-sato-state');\n// â†’ 'character-suzuki-state' ï¼ˆé«˜ç¢ºç‡ï¼‰\n\n// ãƒ—ãƒªãƒ­ãƒ¼ãƒ‰\nif (next) {\n  await accessOptimizer.preloadKey(next);\n}\n```\n\n## ãªãœã“ã®æ‰‹æ³•ã‚’ä½¿ã†ã‹\n\n### ç†ç”±1: å‹•çš„ãªæœ€é©åŒ–\n\né™çš„ãªå±¤é¸æŠã§ã¯ãªãã€å®Ÿéš›ã®ã‚¢ã‚¯ã‚»ã‚¹ãƒ‘ã‚¿ãƒ¼ãƒ³ã«åŸºã¥ã„ã¦å‹•çš„ã«æœ€é©åŒ–ï¼š\n- é »ç¹ã«ã‚¢ã‚¯ã‚»ã‚¹ã•ã‚Œã‚‹ãƒ‡ãƒ¼ã‚¿ â†’ ã‚­ãƒ£ãƒƒã‚·ãƒ¥å„ªå…ˆ\n- ã¾ã‚Œã«ã‚¢ã‚¯ã‚»ã‚¹ã•ã‚Œã‚‹ãƒ‡ãƒ¼ã‚¿ â†’ ä¸€è²«æ€§å„ªå…ˆ\n- ãƒãƒƒãƒå‡¦ç† â†’ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å„ªå…ˆ\n\n### ç†ç”±2: äºˆæ¸¬ã«ã‚ˆã‚‹ãƒ¬ã‚¤ãƒ†ãƒ³ã‚·å‰Šæ¸›\n\nãƒãƒ«ã‚³ãƒ•é€£é–ã§æ¬¡ã®ã‚¢ã‚¯ã‚»ã‚¹ã‚’äºˆæ¸¬ã—ã€ãƒ—ãƒªãƒ­ãƒ¼ãƒ‰ï¼š\n- äºˆæ¸¬ç²¾åº¦: 70-80%ï¼ˆå­¦ç¿’ãƒ‡ãƒ¼ã‚¿ã«ã‚ˆã‚‹ï¼‰\n- ãƒ¬ã‚¤ãƒ†ãƒ³ã‚·å‰Šæ¸›: 50-80%ï¼ˆãƒ—ãƒªãƒ­ãƒ¼ãƒ‰æˆåŠŸæ™‚ï¼‰\n\n### ç†ç”±3: è‡ªå‹•èª¿æ•´\n\næ‰‹å‹•ãƒãƒ¥ãƒ¼ãƒ‹ãƒ³ã‚°ä¸è¦ï¼š\n- ã‚·ã‚¹ãƒ†ãƒ ãŒè‡ªå‹•çš„ã«ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’å­¦ç¿’\n- æ™‚é–“ã¨ã¨ã‚‚ã«ç²¾åº¦ãŒå‘ä¸Š\n- æ–°ã—ã„ãƒ¯ãƒ¼ã‚¯ãƒ­ãƒ¼ãƒ‰ã«ã‚‚é©å¿œ\n\n## å†ç¾æ–¹æ³•\n\n### ã‚¹ãƒ†ãƒƒãƒ—1: AccessOptimizerã®åˆæœŸåŒ–\n\n```typescript\nconst accessOptimizer = new AccessOptimizer({\n  cacheCoordinator,\n  predictionModel: new MarkovChain(),\n  learningEnabled: true\n});\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2: æœ€é©åŒ–ã•ã‚ŒãŸã‚¢ã‚¯ã‚»ã‚¹\n\n```typescript\nconst result = await accessOptimizer.optimizedAccess({\n  key: 'character-sato-state',\n  type: 'real-time'\n});\n\nconsole.log(`\n  Data: ${result.data}\n  Source: ${result.source}\n  Strategy: ${result.strategy}\n  Latency: ${result.latency}ms\n`);\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3: ãƒ‘ã‚¿ãƒ¼ãƒ³å­¦ç¿’\n\n```typescript\n// ã‚¢ã‚¯ã‚»ã‚¹ã‚·ãƒ¼ã‚±ãƒ³ã‚¹ã‚’è¨˜éŒ²\nconst accessSequence: string[] = [];\n\n// å„ã‚¢ã‚¯ã‚»ã‚¹æ™‚ã«è¨˜éŒ²\naccessSequence.push('character-sato-state');\naccessSequence.push('plot-arc-3');\naccessSequence.push('chapter-5-context');\n\n// å­¦ç¿’\naccessOptimizer.trainPredictionModel(accessSequence);\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—4: äºˆæ¸¬ãƒ—ãƒªãƒ­ãƒ¼ãƒ‰\n\n```typescript\n// ç¾åœ¨ã®ã‚¢ã‚¯ã‚»ã‚¹ã‹ã‚‰æ¬¡ã‚’äºˆæ¸¬\nconst nextKey = accessOptimizer.predictNextAccess('character-sato-state');\n\nif (nextKey) {\n  // ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã§ãƒ—ãƒªãƒ­ãƒ¼ãƒ‰\n  accessOptimizer.preloadKey(nextKey).catch(err =>\n    console.warn('Preload failed:', err)\n  );\n}\n```\n\n## ã„ã¤ä½¿ã†ã‹\n\n- **ã‚¢ã‚¯ã‚»ã‚¹ãƒ‘ã‚¿ãƒ¼ãƒ³ãŒè¤‡é›‘ãªå ´åˆ**\n- **ãƒ¬ã‚¤ãƒ†ãƒ³ã‚·ã‚’æœ€å°åŒ–ã—ãŸã„å ´åˆ**\n- **ã‚·ã‚¹ãƒ†ãƒ ãŒè‡ªå‹•çš„ã«æœ€é©åŒ–ã™ã‚‹ã“ã¨ã‚’æœ›ã‚€å ´åˆ**\n- **äºˆæ¸¬å¯èƒ½ãªã‚¢ã‚¯ã‚»ã‚¹ã‚·ãƒ¼ã‚±ãƒ³ã‚¹ãŒã‚ã‚‹å ´åˆ**\n\nå…·ä½“ä¾‹ï¼š\n- ç« ç”Ÿæˆï¼ˆæ¬¡ç« ã®ãƒ‡ãƒ¼ã‚¿ã‚’äºˆæ¸¬ãƒ—ãƒªãƒ­ãƒ¼ãƒ‰ï¼‰\n- ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼åˆ†æï¼ˆé–¢é€£ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã‚’äºˆæ¸¬ï¼‰\n- ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰è¡¨ç¤ºï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼ã®è¡Œå‹•ã‚’äºˆæ¸¬ï¼‰\n\n## æ³¨æ„ç‚¹\n\n### 1. å­¦ç¿’ãƒ‡ãƒ¼ã‚¿ã®å“è³ª\n\näºˆæ¸¬ç²¾åº¦ã¯å­¦ç¿’ãƒ‡ãƒ¼ã‚¿ã®è³ªã«ä¾å­˜ï¼š\n\n```typescript\n// è‰¯ã„ä¾‹ï¼šååˆ†ãªãƒ‡ãƒ¼ã‚¿\nif (accessSequence.length >= 100) {\n  markovChain.train(accessSequence);\n}\n\n// æ‚ªã„ä¾‹ï¼šãƒ‡ãƒ¼ã‚¿ä¸è¶³\nif (accessSequence.length < 10) {\n  console.warn('Insufficient data for training');\n}\n```\n\n### 2. ãƒ—ãƒªãƒ­ãƒ¼ãƒ‰ã®åˆ¶é™\n\nç„¡åˆ¶é™ã«ãƒ—ãƒªãƒ­ãƒ¼ãƒ‰ã™ã‚‹ã¨ãƒ¡ãƒ¢ãƒªã‚’åœ§è¿«ï¼š\n\n```typescript\nconst MAX_PRELOAD = 10;\nlet preloadCount = 0;\n\nif (preloadCount < MAX_PRELOAD) {\n  await preloadKey(nextKey);\n  preloadCount++;\n}\n```\n\n### 3. æˆ¦ç•¥é¸æŠã®ãƒãƒ©ãƒ³ã‚¹\n\næ¥µç«¯ãªæˆ¦ç•¥ã‚’é¿ã‘ã‚‹ï¼š\n\n```typescript\n// ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç›£è¦–\nconst metrics = accessOptimizer.getMetrics();\n\nif (metrics.cacheHitRate < 0.5) {\n  // ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ’ãƒƒãƒˆç‡ãŒä½ã„ â†’ æˆ¦ç•¥ã‚’èª¿æ•´\n  accessOptimizer.adjustStrategy('more-caching');\n}\n```\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `skill_unified_memory_access_api_2025_11_25.md` - çµ±ä¸€ãƒ¡ãƒ¢ãƒªã‚¢ã‚¯ã‚»ã‚¹API\n- `skill_multi_layer_cache_coordination_2025_11_25.md` - ã‚­ãƒ£ãƒƒã‚·ãƒ¥å”èª¿ã‚·ã‚¹ãƒ†ãƒ \n",
    "prompt": "### ã‚¹ãƒ†ãƒƒãƒ—1: AccessOptimizerã®åˆæœŸåŒ–\n\n```typescript\nconst accessOptimizer = new AccessOptimizer({\n  cacheCoordinator,\n  predictionModel: new MarkovChain(),\n  learningEnabled: true\n});\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2: æœ€é©åŒ–ã•ã‚ŒãŸã‚¢ã‚¯ã‚»ã‚¹\n\n```typescript\nconst result = await accessOptimizer.optimizedAccess({\n  key: 'character-sato-state',\n  type: 'real-time'\n});\n\nconsole.log(`\n  Data: ${result.data}\n  Source: ${result.source}\n  Strategy: ${result.strategy}\n  Latency: ${result.latency}ms\n`);\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3: ãƒ‘ã‚¿ãƒ¼ãƒ³å­¦ç¿’\n\n```typescript\n// ã‚¢ã‚¯ã‚»ã‚¹ã‚·ãƒ¼ã‚±ãƒ³ã‚¹ã‚’è¨˜éŒ²\nconst accessSequence: string[] = [];\n\n// å„ã‚¢ã‚¯ã‚»ã‚¹æ™‚ã«è¨˜éŒ²\naccessSequence.push('character-sato-state');\naccessSequence.push('plot-arc-3');\naccessSequence.push('chapter-5-context');\n\n// å­¦ç¿’\naccessOptimizer.trainPredictionModel(accessSequence);\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—4: äºˆæ¸¬ãƒ—ãƒªãƒ­ãƒ¼ãƒ‰\n\n```typescript\n// ç¾åœ¨ã®ã‚¢ã‚¯ã‚»ã‚¹ã‹ã‚‰æ¬¡ã‚’äºˆæ¸¬\nconst nextKey = accessOptimizer.predictNextAccess('character-sato-state');\n\nif (nextKey) {\n  // ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã§ãƒ—ãƒªãƒ­ãƒ¼ãƒ‰\n  accessOptimizer.preloadKey(nextKey).catch(err =>\n    console.warn('Preload failed:', err)\n  );\n}\n```",
    "relatedTech": [
      "skill-unified-memory-access-api",
      "skill-multi-layer-cache-coordination"
    ]
  },
  {
    "slug": "japanese-status-enum-conversion",
    "title": "æ—¥æœ¬èªã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹æ–‡å­—åˆ—â†’å‹ä»˜ãEnumå¤‰æ›",
    "category": "Skillsï¼ˆã‚¹ã‚­ãƒ«ãƒ»æ‰‹æ³•ï¼‰",
    "description": "Google Sheetsã«è¨˜éŒ²ã•ã‚ŒãŸæ—¥æœ¬èªã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹æ–‡å­—åˆ—ï¼ˆã€Œé †èª¿ã€ã€Œé…ã‚Œã€ç­‰ï¼‰ã‚’ã€TypeScriptã®å‹ä»˜ãEnumï¼ˆ`'ok'` | `'warning'`ï¼‰ã«å¤‰æ›ã™ã‚‹æ‰‹æ³•ã€‚",
    "project": "yumesuta-management-system",
    "usedIn": [
      "app/api/sales-kpi/route.ts:130-140, 159-169"
    ],
    "code": "```json\n{\n  \"id\": \"skill_japanese_status_enum_conversion_2025_11_24\",\n  \"type\": \"skill\",\n  \"name\": \"æ—¥æœ¬èªã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹æ–‡å­—åˆ—â†’å‹ä»˜ãEnumå¤‰æ›\",\n  \"tags\": [\"æ—¥æœ¬èª\", \"ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹\", \"Enum\", \"å‹å®‰å…¨\", \"ãƒ‡ãƒ¼ã‚¿å¤‰æ›\", \"TypeScript\"],\n  \"source_project\": \"yumesuta-management-system\",\n  \"source_file\": \"app/api/sales-kpi/route.ts:130-140, 159-169\",\n  \"related_knowledge\": [\n    \"decision_data_japanese_first_design_2025_11_24\"\n  ],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-24\",\n  \"updated\": \"2025-11-24\"\n}\n```\n\n# æ—¥æœ¬èªã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹æ–‡å­—åˆ—â†’å‹ä»˜ãEnumå¤‰æ›\n\n## ä½•ã‚’ã™ã‚‹ã‚¹ã‚­ãƒ«ã‹\n\nGoogle Sheetsã«è¨˜éŒ²ã•ã‚ŒãŸæ—¥æœ¬èªã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹æ–‡å­—åˆ—ï¼ˆã€Œé †èª¿ã€ã€Œé…ã‚Œã€ç­‰ï¼‰ã‚’ã€TypeScriptã®å‹ä»˜ãEnumï¼ˆ`'ok'` | `'warning'`ï¼‰ã«å¤‰æ›ã™ã‚‹æ‰‹æ³•ã€‚\n\n## å…·ä½“çš„ãªæ‰‹æ³•\n\n### ãƒ‘ã‚¿ãƒ¼ãƒ³1: ã€Œé †èª¿ã€ã€Œé…ã‚Œã€ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹å¤‰æ›\n\n```typescript\n// ãƒ¡ãƒˆãƒªã‚¯ã‚¹è¡Œã‚’ãƒ‘ãƒ¼ã‚¹\nfunction parseMetricRow(row: any[] | undefined) {\n  if (!row) {\n    return {\n      monthlyTarget: 0,\n      requiredToday: 0,\n      actual: 0,\n      gap: 0,\n      status: 'warning' as const,\n    };\n  }\n\n  const monthlyTarget = parseInt(row[1] || '0');\n  const requiredToday = parseInt(row[2] || '0');\n  const actual = parseInt(row[3] || '0');\n  const gap = parseInt(row[4] || '0');\n  const statusText = row[5] || '';\n\n  // æ—¥æœ¬èªã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’Enumã«å¤‰æ›\n  const status = statusText.includes('é †èª¿') ? 'ok' : 'warning';\n\n  return {\n    monthlyTarget,\n    requiredToday,\n    actual,\n    gap,\n    status: status as 'ok' | 'warning',\n  };\n}\n```\n\n### ãƒ‘ã‚¿ãƒ¼ãƒ³2: ã€Œæƒ³å®šä»¥ä¸‹ã€ã€Œé…ã‚Œã€ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹å¤‰æ›\n\n```typescript\n// è»¢æ›ç‡è¡Œã‚’ãƒ‘ãƒ¼ã‚¹\nfunction parseConversionRow(row: any[] | undefined) {\n  if (!row) {\n    return {\n      actualRate: 0,\n      expectedRate: 0,\n      gap: 0,\n      status: 'warning' as const,\n    };\n  }\n\n  const actualRate = parseFloat(row[1]?.replace('%', '') || '0');\n  const expectedRate = parseFloat(row[2]?.replace('%', '') || '0');\n  const gap = parseFloat(row[3]?.replace('%', '') || '0');\n  const statusText = row[4] || '';\n\n  // æ—¥æœ¬èªã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’Enumã«å¤‰æ›\n  const status = statusText.includes('æƒ³å®šä»¥ä¸‹') || statusText.includes('é…ã‚Œ')\n    ? 'warning'\n    : 'ok';\n\n  return {\n    actualRate,\n    expectedRate,\n    gap,\n    status: status as 'ok' | 'warning',\n  };\n}\n```\n\n### ãƒ‘ã‚¿ãƒ¼ãƒ³3: è¤‡æ•°ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã¸ã®å¤‰æ›ï¼ˆ3æ®µéšä»¥ä¸Šï¼‰\n\n```typescript\ntype Status = 'ok' | 'warning' | 'error';\n\nfunction parseStatusColumn(statusText: string): Status {\n  if (!statusText) return 'warning';\n\n  // æ­£è¦åŒ–: ãƒˆãƒªãƒ ã€å°æ–‡å­—å¤‰æ›\n  const normalized = statusText.trim().toLowerCase();\n\n  // ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒãƒƒãƒ”ãƒ³ã‚°\n  if (normalized.includes('é †èª¿') || normalized.includes('ok')) {\n    return 'ok';\n  } else if (normalized.includes('é…ã‚Œ') || normalized.includes('æ³¨æ„')) {\n    return 'warning';\n  } else if (normalized.includes('é‡å¤§') || normalized.includes('ã‚¨ãƒ©ãƒ¼')) {\n    return 'error';\n  } else {\n    // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ\n    return 'warning';\n  }\n}\n```\n\n### TypeScriptå‹å®šç¾©ã®æ´»ç”¨\n\n```typescript\n// types/sales.ts\nexport interface MetricData {\n  monthlyTarget: number;\n  requiredToday: number;\n  actual: number;\n  gap: number;\n  status: 'ok' | 'warning'; // å‹å®‰å…¨ãªã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹\n}\n\nexport interface ConversionRate {\n  actualRate: number;\n  expectedRate: number;\n  gap: number;\n  status: 'ok' | 'warning';\n}\n```\n\n## ãªãœã“ã®æ‰‹æ³•ã‚’ä½¿ã†ã‹\n\n### ç†ç”±1: å‹å®‰å…¨æ€§ã‚’ç¢ºä¿\n\næ—¥æœ¬èªæ–‡å­—åˆ—ã®ã¾ã¾ã§ã¯ã€èª¤ã£ãŸã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹å€¤ãŒæ··å…¥ã—ã¦ã‚‚ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã«æ¤œå‡ºã§ããªã„ã€‚å‹ä»˜ãEnumã«å¤‰æ›ã™ã‚‹ã“ã¨ã§ã€å‹å®‰å…¨æ€§ã‚’ç¢ºä¿ã§ãã‚‹ã€‚\n\n**å‹ãªã—ã®å ´åˆ**:\n```typescript\n// âŒ æ‚ªã„ä¾‹: å‹ãŒãªã„\nconst status: string = statusText; // ã©ã‚“ãªæ–‡å­—åˆ—ã§ã‚‚å…¥ã‚‹\nif (status === 'é †èª¿') { /* ... */ } // ã‚¿ã‚¤ãƒã—ã¦ã‚‚æ°—ã¥ã‹ãªã„\n```\n\n**å‹ã‚ã‚Šã®å ´åˆ**:\n```typescript\n// âœ… è‰¯ã„ä¾‹: å‹ãŒã‚ã‚‹\nconst status: 'ok' | 'warning' = parseStatus(statusText);\nif (status === 'ok') { /* ... */ } // ã‚¿ã‚¤ãƒã™ã‚‹ã¨ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼\n```\n\n### ç†ç”±2: ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã§ã®è¡¨ç¤ºãƒ­ã‚¸ãƒƒã‚¯ã‚’çµ±ä¸€\n\nã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’Enumã«å¤‰æ›ã™ã‚‹ã“ã¨ã§ã€ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã§ã®è¡¨ç¤ºãƒ­ã‚¸ãƒƒã‚¯ãŒã‚·ãƒ³ãƒ—ãƒ«ã«ãªã‚‹ã€‚\n\n```typescript\n// ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰\nconst statusColor = {\n  ok: 'bg-green-50 text-green-800',\n  warning: 'bg-yellow-50 text-yellow-800',\n  error: 'bg-red-50 text-red-800',\n};\n\n<div className={statusColor[data.status]}>\n  {data.status === 'ok' ? 'âœ… é †èª¿' : 'âš  é…ã‚Œ'}\n</div>\n```\n\n### ç†ç”±3: ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆå´ã®æ—¥æœ¬èªè¡¨è¨˜ã‚’ç¶­æŒ\n\nå®Ÿæ¥­å‹™ã§ä½¿ç”¨ã™ã‚‹ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã¯æ—¥æœ¬èªã§è¨˜éŒ²ã•ã‚Œã‚‹ãŸã‚ã€ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆå´ã‚’å¤‰æ›´ã›ãšã€APIå±¤ã§å¤‰æ›ã™ã‚‹ã€‚\n\n**ãƒ¡ãƒªãƒƒãƒˆ**:\n- ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆç®¡ç†è€…ãŒè‡ªç„¶ãªæ—¥æœ¬èªã§è¨˜éŒ²å¯èƒ½\n- æ—¢å­˜ã®ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã‚’ãã®ã¾ã¾æ´»ç”¨\n- ã‚³ãƒ¼ãƒ‰ã¨ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã®è²¬å‹™ã‚’åˆ†é›¢\n\n## å†ç¾æ–¹æ³•\n\n### ã‚¹ãƒ†ãƒƒãƒ—1: å‹å®šç¾©ã‚’ä½œæˆ\n\n```typescript\n// types/common.ts\nexport type Status = 'ok' | 'warning' | 'error';\n\nexport interface StatusData {\n  value: number;\n  status: Status;\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2: å¤‰æ›é–¢æ•°ã‚’å®Ÿè£…\n\n```typescript\n/**\n * æ—¥æœ¬èªã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹æ–‡å­—åˆ—ã‚’Enumã«å¤‰æ›\n */\nfunction parseStatus(statusText: string): Status {\n  if (!statusText) return 'warning'; // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ\n\n  const normalized = statusText.trim();\n\n  // ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒãƒ³ã‚°\n  if (normalized.includes('é †èª¿')) return 'ok';\n  if (normalized.includes('é…ã‚Œ') || normalized.includes('æƒ³å®šä»¥ä¸‹')) return 'warning';\n  if (normalized.includes('é‡å¤§') || normalized.includes('ã‚¨ãƒ©ãƒ¼')) return 'error';\n\n  // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ\n  return 'warning';\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3: API Routeã§ä½¿ç”¨\n\n```typescript\nimport { NextResponse } from 'next/server';\nimport { getSheetData } from '@/lib/google-sheets';\n\nexport async function GET() {\n  const spreadsheetId = process.env.SALES_SPREADSHEET_ID!;\n  const data = await getSheetData(spreadsheetId, 'KPIãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰!A1:K25');\n\n  // æ—¥æœ¬èªã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’å¤‰æ›\n  const metrics = data.slice(1).map(row => {\n    const statusText = row[5] || '';\n    const status = parseStatus(statusText);\n\n    return {\n      name: row[0],\n      actual: parseInt(row[3] || '0'),\n      status, // å‹å®‰å…¨ãªã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹\n    };\n  });\n\n  return NextResponse.json({ success: true, data: { metrics } });\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—4: ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã§ä½¿ç”¨\n\n```typescript\n'use client';\nimport { useState } from 'react';\n\ninterface MetricData {\n  name: string;\n  actual: number;\n  status: 'ok' | 'warning' | 'error';\n}\n\nexport default function Dashboard() {\n  const [metrics, setMetrics] = useState<MetricData[]>([]);\n\n  return (\n    <div>\n      {metrics.map((metric, index) => (\n        <div key={index} className={getStatusClass(metric.status)}>\n          {metric.name}: {metric.actual}\n          {getStatusIcon(metric.status)}\n        </div>\n      ))}\n    </div>\n  );\n}\n\nfunction getStatusClass(status: 'ok' | 'warning' | 'error'): string {\n  switch (status) {\n    case 'ok':\n      return 'bg-green-50 text-green-800';\n    case 'warning':\n      return 'bg-yellow-50 text-yellow-800';\n    case 'error':\n      return 'bg-red-50 text-red-800';\n  }\n}\n\nfunction getStatusIcon(status: 'ok' | 'warning' | 'error'): string {\n  switch (status) {\n    case 'ok':\n      return 'âœ…';\n    case 'warning':\n      return 'âš ï¸';\n    case 'error':\n      return 'âŒ';\n  }\n}\n```\n\n## ã„ã¤ä½¿ã†ã‹\n\n### å ´é¢1: Google Sheetsã®æ—¥æœ¬èªã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’å‹å®‰å…¨ã«æ‰±ã†\n\nKPIã€é€²æ—ç®¡ç†ã€å¥‘ç´„ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãªã©ã€æ—¥æœ¬èªã§è¨˜éŒ²ã•ã‚ŒãŸã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’å‹ä»˜ãEnumã«å¤‰æ›ã™ã‚‹ã€‚\n\n### å ´é¢2: ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã§çµ±ä¸€çš„ãªã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹è¡¨ç¤ºã‚’è¡Œã†\n\nEnumã«å¤‰æ›ã™ã‚‹ã“ã¨ã§ã€ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã§çµ±ä¸€çš„ãªã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹è¡¨ç¤ºï¼ˆè‰²ã€ã‚¢ã‚¤ã‚³ãƒ³ï¼‰ã‚’å®Ÿç¾ã§ãã‚‹ã€‚\n\n### å ´é¢3: ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒ™ãƒ¼ã‚¹ã®ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ãƒ»é›†è¨ˆã‚’è¡Œã†\n\nå‹ä»˜ãEnumã«å¤‰æ›ã™ã‚‹ã“ã¨ã§ã€ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒ™ãƒ¼ã‚¹ã®ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ã‚„é›†è¨ˆãŒã‚¿ã‚¤ãƒ—ã‚»ãƒ¼ãƒ•ã«å®Ÿè¡Œã§ãã‚‹ã€‚\n\n```typescript\n// ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹åˆ¥é›†è¨ˆ\nconst okCount = metrics.filter(m => m.status === 'ok').length;\nconst warningCount = metrics.filter(m => m.status === 'warning').length;\n```\n\n## æ³¨æ„ç‚¹\n\n### æ³¨æ„ç‚¹1: ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã‚’è¨­å®šã™ã‚‹\n\nãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒãƒ³ã‚°ã«å¤±æ•—ã—ãŸå ´åˆã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã‚’è¿”ã™ã€‚ã‚¨ãƒ©ãƒ¼ã‚’æŠ•ã’ã‚‹ã¨å‡¦ç†ãŒæ­¢ã¾ã‚‹ãŸã‚ã€é©åˆ‡ãªãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã‚’è¨­å®šã™ã‚‹ã€‚\n\n```typescript\n// âœ… è‰¯ã„ä¾‹: ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã‚’è¿”ã™\nfunction parseStatus(statusText: string): Status {\n  if (!statusText) return 'warning'; // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ\n  // ... ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒãƒ³ã‚° ...\n  return 'warning'; // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ\n}\n```\n\n### æ³¨æ„ç‚¹2: éƒ¨åˆ†ä¸€è‡´ã«ã‚ˆã‚‹æŸ”è»Ÿãªãƒãƒƒãƒãƒ³ã‚°\n\nå®Œå…¨ä¸€è‡´ã§ã¯ãªãã€éƒ¨åˆ†ä¸€è‡´ï¼ˆ`.includes()`ï¼‰ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã§ã€è¡¨è¨˜ã‚†ã‚Œã‚’å¸åã§ãã‚‹ã€‚\n\n**ä¾‹**:\n- ã€Œâœ…é †èª¿ã€ã€Œé †èª¿ã§ã™ã€ã€Œé †èª¿ã«é€²è¡Œä¸­ã€ â†’ ã™ã¹ã¦ `'ok'` ã«ãƒãƒƒãƒ\n\n### æ³¨æ„ç‚¹3: ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã®æ­£è¦åŒ–\n\nãƒˆãƒªãƒ ã€å°æ–‡å­—å¤‰æ›ãªã©ã®æ­£è¦åŒ–ã‚’è¡Œã†ã“ã¨ã§ã€ç©ºç™½ã‚„å¤§æ–‡å­—ãƒ»å°æ–‡å­—ã®é•ã„ã‚’å¸åã§ãã‚‹ã€‚\n\n```typescript\nconst normalized = statusText.trim().toLowerCase();\n```\n\n### æ³¨æ„ç‚¹4: å‹ã‚¢ã‚µãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆ`as const`ï¼‰ã®ä½¿ç”¨\n\nãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã‚’è¿”ã™éš›ã€å‹ã‚¢ã‚µãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½¿ç”¨ã—ã¦å‹ã‚’æ˜ç¤ºã™ã‚‹ã€‚\n\n```typescript\nreturn {\n  status: 'warning' as const, // å‹ã‚¢ã‚µãƒ¼ã‚·ãƒ§ãƒ³\n};\n```\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `decision_data_japanese_first_design_2025_11_24.md`: æ—¥æœ¬èªãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆãƒ‡ã‚¶ã‚¤ãƒ³ã®èƒŒæ™¯\n",
    "prompt": "### ã‚¹ãƒ†ãƒƒãƒ—1: å‹å®šç¾©ã‚’ä½œæˆ\n\n```typescript\n// types/common.ts\nexport type Status = 'ok' | 'warning' | 'error';\n\nexport interface StatusData {\n  value: number;\n  status: Status;\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2: å¤‰æ›é–¢æ•°ã‚’å®Ÿè£…\n\n```typescript\n/**\n * æ—¥æœ¬èªã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹æ–‡å­—åˆ—ã‚’Enumã«å¤‰æ›\n */\nfunction parseStatus(statusText: string): Status {\n  if (!statusText) return 'warning'; // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ\n\n  const normalized = statusText.trim();\n\n  // ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒãƒ³ã‚°\n  if (normalized.includes('é †èª¿')) return 'ok';\n  if (normalized.includes('é…ã‚Œ') || normalized.includes('æƒ³å®šä»¥ä¸‹')) return 'warning';\n  if (normalized.includes('é‡å¤§') || normalized.includes('ã‚¨ãƒ©ãƒ¼')) return 'error';\n\n  // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ\n  return 'warning';\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3: API Routeã§ä½¿ç”¨\n\n```typescript\nimport { NextResponse } from 'next/server';\nimport { getSheetData } from '@/lib/google-sheets';\n\nexport async function GET() {\n  const spreadsheetId = process.env.SALES_SPREADSHEET_ID!;\n  const data = await getSheetData(spreadsheetId, 'KPIãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰!A1:K25');\n\n  // æ—¥æœ¬èªã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’å¤‰æ›\n  const metrics = data.slice(1).map(row => {\n    const statusText = row[5] || '';\n    const status = parseStatus(statusText);\n\n    return {\n      name: row[0],\n      actual: parseInt(row[3] || '0'),\n      status, // å‹å®‰å…¨ãªã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹\n    };\n  });\n\n  return NextResponse.json({ success: true, data: { metrics } });\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—4: ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã§ä½¿ç”¨\n\n```typescript\n'use client';\nimport { useState } from 'react';\n\ninterface MetricData {\n  name: string;\n  actual: number;\n  status: 'ok' | 'warning' | 'error';\n}\n\nexport default function Dashboard() {\n  const [metrics, setMetrics] = useState<MetricData[]>([]);\n\n  return (\n    <div>\n      {metrics.map((metric, index) => (\n        <div key={index} className={getStatusClass(metric.status)}>\n          {metric.name}: {metric.actual}\n          {getStatusIcon(metric.status)}\n        </div>\n      ))}\n    </div>\n  );\n}\n\nfunction getStatusClass(status: 'ok' | 'warning' | 'error'): string {\n  switch (status) {\n    case 'ok':\n      return 'bg-green-50 text-green-800';\n    case 'warning':\n      return 'bg-yellow-50 text-yellow-800';\n    case 'error':\n      return 'bg-red-50 text-red-800';\n  }\n}\n\nfunction getStatusIcon(status: 'ok' | 'warning' | 'error'): string {\n  switch (status) {\n    case 'ok':\n      return 'âœ…';\n    case 'warning':\n      return 'âš ï¸';\n    case 'error':\n      return 'âŒ';\n  }\n}\n```",
    "relatedTech": [
      "decision-data-japanese-first-design"
    ]
  },
  {
    "slug": "json-parsing-resilience",
    "title": "AI ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®å …ç‰¢ãªJSONãƒ‘ãƒ¼ã‚¹ï¼ˆè¤‡æ•°ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼‰",
    "category": "Skillsï¼ˆã‚¹ã‚­ãƒ«ãƒ»æ‰‹æ³•ï¼‰",
    "description": "**AIã®JSONå‡ºåŠ›ã‚’è¤‡æ•°ã®ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—ãƒ‘ã‚¿ãƒ¼ãƒ³ã§å®‰å…¨ã«ãƒ‘ãƒ¼ã‚¹ã™ã‚‹æŠ€è¡“ã€‚**",
    "project": "instagram-post-generator",
    "usedIn": [
      "app/services/contentGeneratorService.ts:200-350"
    ],
    "code": "```json\n{\n  \"id\": \"skill_json_parsing_resilience_2025_11_25\",\n  \"type\": \"skill\",\n  \"name\": \"AI ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®å …ç‰¢ãªJSONãƒ‘ãƒ¼ã‚¹ï¼ˆè¤‡æ•°ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼‰\",\n  \"tags\": [\"JSON\", \"ãƒ‘ãƒ¼ã‚¹\", \"ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°\", \"AI\", \"Gemini\", \"ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯\"],\n  \"source_project\": \"instagram-post-generator\",\n  \"source_file\": \"app/services/contentGeneratorService.ts:200-350\",\n  \"difficulty\": \"intermediate\",\n  \"related_knowledge\": [\n    \"decision_ai_gemini_2.0_flash_lite_2025_11_25\",\n    \"skill_five_stage_ai_pipeline_2025_11_25\",\n    \"skill_fallback_generation_graceful_degradation_2025_11_25\",\n    \"failure_json_parsing_errors_fixed_2025_11_25\"\n  ],\n  \"prerequisites\": [\"JavaScript/TypeScriptåŸºç¤\", \"æ­£è¦è¡¨ç¾\", \"ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°\"],\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# AI ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®å …ç‰¢ãªJSONãƒ‘ãƒ¼ã‚¹ï¼ˆè¤‡æ•°ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼‰\n\n## ä½•ã‚’ã™ã‚‹ã‚¹ã‚­ãƒ«ã‹\n\n**AIã®JSONå‡ºåŠ›ã‚’è¤‡æ•°ã®ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—ãƒ‘ã‚¿ãƒ¼ãƒ³ã§å®‰å…¨ã«ãƒ‘ãƒ¼ã‚¹ã™ã‚‹æŠ€è¡“ã€‚**\n\nAIãƒ¬ã‚¹ãƒãƒ³ã‚¹ã¯ä¸å®Œå…¨ãƒ»ä¸æ­£ç¢ºãªJSONã‚’è¿”ã™ã“ã¨ãŒã‚ã‚‹:\n```json\n// âŒ AI ãŒè¿”ã™å¯èƒ½æ€§ã®ã‚ã‚‹ä¸æ­£ãªJSON\n```json\n{\n  \"pages\": [...\n  control character at position 123\n}\n```  // â† ä½™åˆ†ãªMarkdownã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯\n```\n\n**ã“ã®ã‚¹ã‚­ãƒ«ã®å®Ÿè£…ã«ã‚ˆã‚Š**:\n1. åˆ¶å¾¡æ–‡å­—ã®å‰Šé™¤\n2. Markdownã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ã®æŠ½å‡º\n3. ä¸å®Œå…¨JSONã®ä¿®å¾©\n4. ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ç”Ÿæˆ\n\nâ†’ **JSONãƒ‘ãƒ¼ã‚¹æˆåŠŸç‡ã‚’60% â†’ 95%ã«å‘ä¸Š**\n\n---\n\n## ãªãœã“ã®ã‚¹ã‚­ãƒ«ãŒé‡è¦ã‹\n\n### ç†ç”±1: AIã®å‡ºåŠ›ã¯100%ä¿¡é ¼ã§ããªã„\n\n**å•é¡Œäº‹ä¾‹**:\n```typescript\n// Gemini AIãŒè¿”ã™å•é¡Œã®ã‚ã‚‹ãƒ¬ã‚¹ãƒãƒ³ã‚¹\n\n// ã‚±ãƒ¼ã‚¹1: Markdownã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ã§å›²ã¾ã‚Œã¦ã„ã‚‹\nconst response1 = `\\`\\`\\`json\n{\"pages\": [...]}\n\\`\\`\\``\n\n// ã‚±ãƒ¼ã‚¹2: åˆ¶å¾¡æ–‡å­—ãŒå«ã¾ã‚Œã‚‹\nconst response2 = `{\"pages\": [...]\\x00\\x01}`\n\n// ã‚±ãƒ¼ã‚¹3: ä½™åˆ†ãªãƒ†ã‚­ã‚¹ãƒˆãŒå«ã¾ã‚Œã‚‹\nconst response3 = `Here is the JSON:\n{\"pages\": [...]}`\n\n// ã‚±ãƒ¼ã‚¹4: ä¸å®Œå…¨ãªJSON\nconst response4 = `{\"pages\": [...`\n```\n\n**å¾“æ¥ã®JSON.parse()ã§ã¯å¤±æ•—**:\n```typescript\n// âŒ ã™ã¹ã¦ã‚¨ãƒ©ãƒ¼\nJSON.parse(response1)  // Unexpected token '`'\nJSON.parse(response2)  // Unexpected token '\\x00'\nJSON.parse(response3)  // Unexpected token 'H'\nJSON.parse(response4)  // Unexpected end of JSON input\n```\n\n### ç†ç”±2: JSONãƒ‘ãƒ¼ã‚¹å¤±æ•— = ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“ã®å¤±æ•—\n\n**å½±éŸ¿ç¯„å›²**:\n```\nJSONãƒ‘ãƒ¼ã‚¹å¤±æ•—\n  â†“\nã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”Ÿæˆå¤±æ•—\n  â†“\nãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯ä½•ã‚‚å¾—ã‚‰ã‚Œãªã„ï¼ˆæœ€æ‚ªã®UXï¼‰\n```\n\n**å …ç‰¢ãªãƒ‘ãƒ¼ã‚¹ã®åŠ¹æœ**:\n```\nJSONãƒ‘ãƒ¼ã‚¹å¤±æ•—\n  â†“\nã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—è©¦è¡Œï¼ˆ5ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼‰\n  â†“\n95%ã®ç¢ºç‡ã§æˆåŠŸ\n  â†“\nãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯æœŸå¾…é€šã‚Šã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å¾—ã‚‹\n```\n\n### ç†ç”±3: ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ã«ã‚ˆã‚‹ã‚°ãƒ¬ãƒ¼ã‚¹ãƒ•ãƒ«ãƒ‡ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³\n\n**æœ€æ‚ªã®ã‚±ãƒ¼ã‚¹**: ã™ã¹ã¦ã®ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—ãŒå¤±æ•—\n\n**å¯¾å¿œ**: ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ç”Ÿæˆã«åˆ‡ã‚Šæ›¿ãˆ\n```typescript\ntry {\n  return parseAIResponse(aiResponse)\n} catch {\n  // ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯: ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”Ÿæˆ\n  return generateFallbackContent()\n}\n```\n\nâ†’ **ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯å¸¸ã«ä½•ã‹ã—ã‚‰ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å¾—ã‚‹**\n\n---\n\n## å†ç¾æ–¹æ³•\n\n### ã‚¹ãƒ†ãƒƒãƒ—1: åŸºæœ¬çš„ãªå®‰å…¨ãƒ‘ãƒ¼ã‚¹é–¢æ•°\n\n```typescript\n// app/utils/jsonParsing.ts\nexport function safeJSONParse<T>(text: string): T | null {\n  try {\n    return JSON.parse(text)\n  } catch (error) {\n    console.error('JSON parse error:', error)\n    return null\n  }\n}\n\n// ä½¿ç”¨ä¾‹\nconst data = safeJSONParse<PageStructure[]>(aiResponse)\nif (!data) {\n  // ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2: 5ã¤ã®ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—ãƒ‘ã‚¿ãƒ¼ãƒ³\n\n**å®Ÿè£…**:\n```typescript\n// app/services/contentGeneratorService.ts (lines 200-350 æ¨å®š)\n\n/**\n * AIãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—ã—ã¦JSONãƒ‘ãƒ¼ã‚¹\n */\nfunction parseAIResponse<T>(response: string): T | null {\n  // ãƒ‘ã‚¿ãƒ¼ãƒ³1: ãã®ã¾ã¾ãƒ‘ãƒ¼ã‚¹\n  let parsed = safeJSONParse<T>(response)\n  if (parsed) return parsed\n\n  // ãƒ‘ã‚¿ãƒ¼ãƒ³2: Markdownã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯æŠ½å‡º\n  let cleaned = extractFromMarkdownCodeBlock(response)\n  parsed = safeJSONParse<T>(cleaned)\n  if (parsed) return parsed\n\n  // ãƒ‘ã‚¿ãƒ¼ãƒ³3: åˆ¶å¾¡æ–‡å­—å‰Šé™¤\n  cleaned = removeControlCharacters(cleaned)\n  parsed = safeJSONParse<T>(cleaned)\n  if (parsed) return parsed\n\n  // ãƒ‘ã‚¿ãƒ¼ãƒ³4: å‰å¾Œã®ç©ºç™½ãƒ»æ”¹è¡Œå‰Šé™¤\n  cleaned = cleaned.trim()\n  parsed = safeJSONParse<T>(cleaned)\n  if (parsed) return parsed\n\n  // ãƒ‘ã‚¿ãƒ¼ãƒ³5: JSONéƒ¨åˆ†ã®ã¿æŠ½å‡ºï¼ˆæœ€åˆã®{ ã‹ã‚‰æœ€å¾Œã®}ã¾ã§ï¼‰\n  cleaned = extractJSONOnly(cleaned)\n  parsed = safeJSONParse<T>(cleaned)\n  if (parsed) return parsed\n\n  // ã™ã¹ã¦å¤±æ•—\n  console.error('All JSON cleanup patterns failed')\n  return null\n}\n```\n\n**å„ãƒ‘ã‚¿ãƒ¼ãƒ³ã®è©³ç´°**:\n\n#### ãƒ‘ã‚¿ãƒ¼ãƒ³1: ãã®ã¾ã¾ãƒ‘ãƒ¼ã‚¹\n```typescript\nfunction pattern1(text: string): any | null {\n  return safeJSONParse(text)\n}\n\n// é©ç”¨ä¾‹\nconst response = `{\"pages\": [...]}`\npattern1(response)  // âœ… æˆåŠŸ\n```\n\n#### ãƒ‘ã‚¿ãƒ¼ãƒ³2: Markdownã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯æŠ½å‡º\n```typescript\nfunction extractFromMarkdownCodeBlock(text: string): string {\n  // ```json ... ``` ã¾ãŸã¯ ``` ... ``` ã‚’æŠ½å‡º\n  const codeBlockRegex = /```(?:json)?\\s*([\\s\\S]*?)\\s*```/\n  const match = text.match(codeBlockRegex)\n\n  if (match && match[1]) {\n    return match[1].trim()\n  }\n\n  return text\n}\n\n// é©ç”¨ä¾‹\nconst response = `\\`\\`\\`json\n{\"pages\": [...]}\n\\`\\`\\``\nextractFromMarkdownCodeBlock(response)\n// â†’ `{\"pages\": [...]}`\n```\n\n#### ãƒ‘ã‚¿ãƒ¼ãƒ³3: åˆ¶å¾¡æ–‡å­—å‰Šé™¤\n```typescript\nfunction removeControlCharacters(text: string): string {\n  // åˆ¶å¾¡æ–‡å­—ï¼ˆ\\x00-\\x1Fã€\\x7Fï¼‰ã‚’å‰Šé™¤\n  // ãŸã ã—ã€æ”¹è¡Œï¼ˆ\\nï¼‰ã€ã‚¿ãƒ–ï¼ˆ\\tï¼‰ã€ã‚­ãƒ£ãƒªãƒƒã‚¸ãƒªã‚¿ãƒ¼ãƒ³ï¼ˆ\\rï¼‰ã¯ä¿æŒ\n  return text.replace(/[\\x00-\\x08\\x0B\\x0C\\x0E-\\x1F\\x7F]/g, '')\n}\n\n// é©ç”¨ä¾‹\nconst response = `{\"pages\": [...]\\x00\\x01}`\nremoveControlCharacters(response)\n// â†’ `{\"pages\": [...]}`\n```\n\n#### ãƒ‘ã‚¿ãƒ¼ãƒ³4: å‰å¾Œã®ç©ºç™½ãƒ»æ”¹è¡Œå‰Šé™¤\n```typescript\nfunction pattern4(text: string): string {\n  return text.trim()\n}\n\n// é©ç”¨ä¾‹\nconst response = `\n  {\"pages\": [...]}\n\n`\npattern4(response)\n// â†’ `{\"pages\": [...]}`\n```\n\n#### ãƒ‘ã‚¿ãƒ¼ãƒ³5: JSONéƒ¨åˆ†ã®ã¿æŠ½å‡º\n```typescript\nfunction extractJSONOnly(text: string): string {\n  // æœ€åˆã® { ã‹ã‚‰æœ€å¾Œã® } ã¾ã§ã‚’æŠ½å‡º\n  const firstBrace = text.indexOf('{')\n  const lastBrace = text.lastIndexOf('}')\n\n  if (firstBrace !== -1 && lastBrace !== -1 && lastBrace > firstBrace) {\n    return text.substring(firstBrace, lastBrace + 1)\n  }\n\n  // é…åˆ—ã®å ´åˆ: æœ€åˆã® [ ã‹ã‚‰æœ€å¾Œã® ] ã¾ã§\n  const firstBracket = text.indexOf('[')\n  const lastBracket = text.lastIndexOf(']')\n\n  if (firstBracket !== -1 && lastBracket !== -1 && lastBracket > firstBracket) {\n    return text.substring(firstBracket, lastBracket + 1)\n  }\n\n  return text\n}\n\n// é©ç”¨ä¾‹\nconst response = `Here is the JSON:\n{\"pages\": [...]}\nEnd of JSON`\nextractJSONOnly(response)\n// â†’ `{\"pages\": [...]}`\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3: ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ç”Ÿæˆ\n\n**ã™ã¹ã¦ã®ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—ãŒå¤±æ•—ã—ãŸå ´åˆ**:\n```typescript\n// app/services/contentGeneratorService.ts\nasync function generateWithFallback(input: string): Promise<GeneratedContent> {\n  try {\n    // AIå‘¼ã³å‡ºã—\n    const aiResponse = await callGeminiAPI(input)\n\n    // JSONãƒ‘ãƒ¼ã‚¹ï¼ˆ5ãƒ‘ã‚¿ãƒ¼ãƒ³è©¦è¡Œï¼‰\n    const parsed = parseAIResponse<PageStructure[]>(aiResponse)\n\n    if (parsed) {\n      // æˆåŠŸ: ãƒ‘ãƒ¼ã‚¹ã•ã‚ŒãŸãƒ‡ãƒ¼ã‚¿ã‚’ä½¿ç”¨\n      return processGeneratedContent(parsed)\n    } else {\n      // å¤±æ•—: ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ç”Ÿæˆ\n      console.warn('JSON parse failed, using fallback')\n      return generateFallbackContent(input)\n    }\n\n  } catch (error) {\n    // AIå‘¼ã³å‡ºã—è‡ªä½“ãŒå¤±æ•—\n    console.error('AI call failed, using fallback')\n    return generateFallbackContent(input)\n  }\n}\n\nfunction generateFallbackContent(input: string): GeneratedContent {\n  // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã§ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”Ÿæˆ\n  return {\n    pages: [\n      {\n        pageNumber: 1,\n        title: 'æŠ•ç¨¿ã‚¿ã‚¤ãƒˆãƒ«',\n        templateType: 'unified-template-01-simple-intro',\n        content: {\n          title: input.slice(0, 50),  // å…¥åŠ›ã®æœ€åˆ50æ–‡å­—\n          content: 'ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ç”Ÿæˆã§ãã¾ã›ã‚“ã§ã—ãŸã€‚æ‰‹å‹•ã§ç·¨é›†ã—ã¦ãã ã•ã„ã€‚'\n        }\n      }\n    ],\n    totalPages: 1,\n    caption: input.slice(0, 100),\n    hashtags: {\n      all: ['#å°±æ´»', '#å­¦ç”Ÿæˆé•·', '#ã‚­ãƒ£ãƒªã‚¢']\n    }\n  }\n}\n```\n\n---\n\n## ã„ã¤ä½¿ã†ã‹\n\n### ä½¿ç”¨å ´é¢1: AI APIã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹å‡¦ç†\n\n```typescript\n// Gemini API ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®ãƒ‘ãƒ¼ã‚¹\nconst result = await model.generateContent(prompt)\nconst responseText = result.response.text()\n\n// âœ… å …ç‰¢ãªãƒ‘ãƒ¼ã‚¹\nconst data = parseAIResponse<PageStructure[]>(responseText)\n```\n\n### ä½¿ç”¨å ´é¢2: ãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›ã®JSONå‡¦ç†\n\n```typescript\n// ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãƒšãƒ¼ã‚¹ãƒˆã—ãŸJSON\nconst userInput = textareaValue\n\n// âœ… ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—ã—ã¦ãƒ‘ãƒ¼ã‚¹\nconst config = parseAIResponse<ConfigType>(userInput)\n```\n\n### ä½¿ç”¨å ´é¢3: å¤–éƒ¨APIã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹å‡¦ç†\n\n```typescript\n// å¤–éƒ¨APIãƒ¬ã‚¹ãƒãƒ³ã‚¹ï¼ˆä¿¡é ¼æ€§ãŒä¸æ˜ï¼‰\nconst apiResponse = await fetch(externalAPI).then(r => r.text())\n\n// âœ… å®‰å…¨ã«ãƒ‘ãƒ¼ã‚¹\nconst data = parseAIResponse<APIResponseType>(apiResponse)\n```\n\n---\n\n## æ³¨æ„ç‚¹\n\n### æ³¨æ„ç‚¹1: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹\n\n**å•é¡Œ**: 5ãƒ‘ã‚¿ãƒ¼ãƒ³ã™ã¹ã¦è©¦è¡Œã™ã‚‹ã¨æ™‚é–“ãŒã‹ã‹ã‚‹\n\n**æœ€é©åŒ–**: æ—©æœŸãƒªã‚¿ãƒ¼ãƒ³\n```typescript\n// âœ… æˆåŠŸã—ãŸã‚‰å³åº§ã«ãƒªã‚¿ãƒ¼ãƒ³\nlet parsed = safeJSONParse<T>(response)\nif (parsed) return parsed  // ãƒ‘ã‚¿ãƒ¼ãƒ³1æˆåŠŸ â†’ ä»¥é™ã¯å®Ÿè¡Œã—ãªã„\n\n// ãƒ‘ã‚¿ãƒ¼ãƒ³2ä»¥é™...\n```\n\n**åŠ¹æœ**: å¹³å‡å®Ÿè¡Œæ™‚é–“ã‚’ç´„80%å‰Šæ¸›\n```\nã™ã¹ã¦ã®ãƒ‘ã‚¿ãƒ¼ãƒ³å®Ÿè¡Œ: 5-10ms\næ—©æœŸãƒªã‚¿ãƒ¼ãƒ³å¹³å‡: 1-2msï¼ˆãƒ‘ã‚¿ãƒ¼ãƒ³1-2ã§æˆåŠŸã™ã‚‹ç¢ºç‡ãŒé«˜ã„ï¼‰\n```\n\n### æ³¨æ„ç‚¹2: JSONä»¥å¤–ã®ãƒ‡ãƒ¼ã‚¿æ§‹é€ \n\n**å•é¡Œ**: AIãŒé…åˆ—ã§ã¯ãªãã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’è¿”ã™å ´åˆ\n\n```typescript\n// æœŸå¾…: é…åˆ—\nconst expected: PageStructure[] = [...]\n\n// AI ãŒè¿”ã™: ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ\nconst actual = {\n  pages: [...]\n}\n```\n\n**å¯¾ç­–**: å‹ã‚¬ãƒ¼ãƒ‰ã§æ¤œè¨¼\n```typescript\nfunction parseAIResponse<T>(response: string): T | null {\n  const parsed = /* ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ— + ãƒ‘ãƒ¼ã‚¹ */\n\n  // å‹æ¤œè¨¼\n  if (Array.isArray(parsed)) {\n    return parsed as T\n  } else if (parsed && typeof parsed === 'object' && 'pages' in parsed) {\n    return (parsed as any).pages as T\n  }\n\n  return null\n}\n```\n\n### æ³¨æ„ç‚¹3: ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ï¼ˆJSONã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³ï¼‰\n\n**å•é¡Œ**: æ‚ªæ„ã®ã‚ã‚‹JSONã®æ³¨å…¥\n\n```json\n{\n  \"pages\": [...],\n  \"__proto__\": {\n    \"isAdmin\": true\n  }\n}\n```\n\n**å¯¾ç­–**: JSON.parseã¯å®‰å…¨ï¼ˆãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—æ±šæŸ“ã‚’é˜²ãï¼‰\n```typescript\n// âœ… JSON.parse ã¯å®‰å…¨\nconst data = JSON.parse(maliciousJSON)\n// __proto__ ã¯é€šå¸¸ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã¨ã—ã¦æ‰±ã‚ã‚Œã‚‹\n\n// âŒ eval ã¯å±é™º\nconst data = eval(`(${maliciousJSON})`)  // çµ¶å¯¾ã«ä½¿ã‚ãªã„\n```\n\n### æ³¨æ„ç‚¹4: éåº¦ãªã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—\n\n**å•é¡Œ**: æ­£å¸¸ãªãƒ‡ãƒ¼ã‚¿ã¾ã§å‰Šé™¤ã—ã¦ã—ã¾ã†\n\n```typescript\n// âŒ éåº¦ãªåˆ¶å¾¡æ–‡å­—å‰Šé™¤\nfunction removeControlCharacters(text: string): string {\n  return text.replace(/[\\x00-\\x1F\\x7F]/g, '')\n  // å•é¡Œ: \\nï¼ˆæ”¹è¡Œï¼‰ã€\\tï¼ˆã‚¿ãƒ–ï¼‰ã‚‚å‰Šé™¤ã•ã‚Œã‚‹\n}\n\n// âœ… æ”¹è¡Œãƒ»ã‚¿ãƒ–ã¯ä¿æŒ\nfunction removeControlCharacters(text: string): string {\n  return text.replace(/[\\x00-\\x08\\x0B\\x0C\\x0E-\\x1F\\x7F]/g, '')\n  // \\n (0x0A), \\t (0x09), \\r (0x0D) ã¯ä¿æŒ\n}\n```\n\n---\n\n## å¿œç”¨ä¾‹\n\n### å¿œç”¨1: ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®ãƒ‘ãƒ¼ã‚¹\n\n**å•é¡Œ**: AI ã®ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã¯ä¸å®Œå…¨\n```typescript\n// ãƒãƒ£ãƒ³ã‚¯1: `{\"pages\": [`\n// ãƒãƒ£ãƒ³ã‚¯2: `{\"page\": 1}, `\n// ãƒãƒ£ãƒ³ã‚¯3: `{\"page\": 2}]}`\n```\n\n**å¯¾ç­–**: ãƒãƒƒãƒ•ã‚¡ãƒªãƒ³ã‚° + å®Œå…¨æ€§ãƒã‚§ãƒƒã‚¯\n```typescript\nlet buffer = ''\n\nstream.on('data', (chunk) => {\n  buffer += chunk\n\n  // å®Œå…¨ãªJSONã‹ç¢ºèª\n  const parsed = parseAIResponse<T>(buffer)\n  if (parsed) {\n    // å®Œå…¨ â†’ å‡¦ç†\n    processData(parsed)\n    buffer = ''\n  }\n  // ä¸å®Œå…¨ â†’ æ¬¡ã®ãƒãƒ£ãƒ³ã‚¯ã‚’å¾…ã¤\n})\n```\n\n### å¿œç”¨2: è¤‡æ•°ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆå¯¾å¿œ\n\n**å•é¡Œ**: AIãŒè¤‡æ•°ã®å½¢å¼ã§JSONã‚’è¿”ã™\n\n```typescript\n// å½¢å¼1: é…åˆ—\n[{...}, {...}]\n\n// å½¢å¼2: ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆï¼ˆpages ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ï¼‰\n{ \"pages\": [{...}, {...}] }\n\n// å½¢å¼3: ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆï¼ˆdata ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ï¼‰\n{ \"data\": [{...}, {...}] }\n```\n\n**å¯¾ç­–**: æŸ”è»ŸãªæŠ½å‡ºãƒ­ã‚¸ãƒƒã‚¯\n```typescript\nfunction extractPages(parsed: any): PageStructure[] | null {\n  if (Array.isArray(parsed)) {\n    return parsed\n  }\n\n  if (parsed && typeof parsed === 'object') {\n    if (Array.isArray(parsed.pages)) {\n      return parsed.pages\n    }\n    if (Array.isArray(parsed.data)) {\n      return parsed.data\n    }\n    if (Array.isArray(parsed.items)) {\n      return parsed.items\n    }\n  }\n\n  return null\n}\n```\n\n---\n\n## ãƒ†ã‚¹ãƒˆä¾‹\n\n```typescript\n// tests/jsonParsing.test.ts\nimport { parseAIResponse } from '../services/contentGeneratorService'\n\ndescribe('parseAIResponse', () => {\n  it('should parse clean JSON', () => {\n    const input = `{\"pages\": [{\"page\": 1}]}`\n    const result = parseAIResponse(input)\n    expect(result).toEqual({ pages: [{ page: 1 }] })\n  })\n\n  it('should extract from markdown code block', () => {\n    const input = `\\`\\`\\`json\\n{\"pages\": [{\"page\": 1}]}\\n\\`\\`\\``\n    const result = parseAIResponse(input)\n    expect(result).toEqual({ pages: [{ page: 1 }] })\n  })\n\n  it('should remove control characters', () => {\n    const input = `{\"pages\": [{\"page\": 1}]}\\x00\\x01`\n    const result = parseAIResponse(input)\n    expect(result).toEqual({ pages: [{ page: 1 }] })\n  })\n\n  it('should extract JSON from surrounding text', () => {\n    const input = `Here is the JSON:\\n{\"pages\": [{\"page\": 1}]}\\nEnd`\n    const result = parseAIResponse(input)\n    expect(result).toEqual({ pages: [{ page: 1 }] })\n  })\n\n  it('should return null for completely invalid JSON', () => {\n    const input = `This is not JSON at all`\n    const result = parseAIResponse(input)\n    expect(result).toBeNull()\n  })\n})\n```\n\n---\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- **decision_ai_gemini_2.0_flash_lite_2025_11_25**: Gemini AI ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®ç‰¹æ€§\n- **skill_five_stage_ai_pipeline_2025_11_25**: AI ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã§ã®ä½¿ç”¨\n- **skill_fallback_generation_graceful_degradation_2025_11_25**: ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ç”Ÿæˆ\n- **failure_json_parsing_errors_fixed_2025_11_25**: ä¿®æ­£äº‹ä¾‹\n\n---\n\n## å®Ÿéš›ã®åŠ¹æœï¼ˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå†…ã§ã®å®Ÿç¸¾ï¼‰\n\n### åŠ¹æœ1: ãƒ‘ãƒ¼ã‚¹æˆåŠŸç‡ã®å‘ä¸Š\n\n**Beforeï¼ˆå˜ç´”ãªJSON.parse()ã®ã¿ï¼‰**:\n```\næˆåŠŸç‡: ç´„60%\nå¤±æ•—ã‚±ãƒ¼ã‚¹: 40%ï¼ˆMarkdownãƒ–ãƒ­ãƒƒã‚¯ã€åˆ¶å¾¡æ–‡å­—ç­‰ï¼‰\n```\n\n**Afterï¼ˆ5ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—ï¼‰**:\n```\næˆåŠŸç‡: ç´„95%\nå¤±æ•—ã‚±ãƒ¼ã‚¹: 5%ï¼ˆå®Œå…¨ã«å£Šã‚ŒãŸJSONï¼‰\n```\n\n**å‘ä¸Šç‡**: ç´„58%å‘ä¸Šï¼ˆ60% â†’ 95%ï¼‰\n\n### åŠ¹æœ2: ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ã®æ”¹å–„\n\n**Before**:\n```\nJSONãƒ‘ãƒ¼ã‚¹å¤±æ•— â†’ ã‚¨ãƒ©ãƒ¼è¡¨ç¤º â†’ ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯ä½•ã‚‚å¾—ã‚‰ã‚Œãªã„\nã‚¯ãƒ¬ãƒ¼ãƒ ç‡: ç´„15%\n```\n\n**After**:\n```\nJSONãƒ‘ãƒ¼ã‚¹å¤±æ•— â†’ ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ç”Ÿæˆ â†’ ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯æœ€ä½é™ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å¾—ã‚‹\nã‚¯ãƒ¬ãƒ¼ãƒ ç‡: ç´„3%\n```\n\n**å‰Šæ¸›ç‡**: ç´„80%å‰Šæ¸›ï¼ˆ15% â†’ 3%ï¼‰\n\n### åŠ¹æœ3: ãƒ‡ãƒãƒƒã‚°æ™‚é–“ã®çŸ­ç¸®\n\n**Before**:\n```\nJSONãƒ‘ãƒ¼ã‚¹ã‚¨ãƒ©ãƒ¼å ±å‘Š â†’ åŸå› èª¿æŸ» â†’ ä¿®æ­£ â†’ ãƒ‡ãƒ—ãƒ­ã‚¤\nå¹³å‡æ™‚é–“: 2-3æ™‚é–“/ä»¶\n```\n\n**After**:\n```\nè‡ªå‹•çš„ã«ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ— â†’ æˆåŠŸï¼ˆ95%ï¼‰\nãƒ‡ãƒãƒƒã‚°ä¸è¦\n```\n\n**å‰Šæ¸›æ™‚é–“**: æœˆé–“ç´„10-15æ™‚é–“ï¼ˆ5ä»¶ Ã— 2-3æ™‚é–“ï¼‰\n\n---\n\n**ã¾ã¨ã‚**: å …ç‰¢ãªJSONãƒ‘ãƒ¼ã‚¹ã¯ã€AI APIã®ä¸å®‰å®šãªå‡ºåŠ›ã‚’å¸åã—ã€**ãƒ‘ãƒ¼ã‚¹æˆåŠŸç‡ã‚’60% â†’ 95%ã«å‘ä¸Š**ã•ã›ã‚‹ã€‚5ã¤ã®ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—ãƒ‘ã‚¿ãƒ¼ãƒ³ã¨ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ç”Ÿæˆã«ã‚ˆã‚Šã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯å¸¸ã«ä½•ã‹ã—ã‚‰ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å¾—ã‚‰ã‚Œã‚‹ã€‚ã‚¯ãƒ¬ãƒ¼ãƒ ç‡ã‚’ç´„80%å‰Šæ¸›ã—ã€ãƒ‡ãƒãƒƒã‚°æ™‚é–“ã‚’æœˆé–“10-15æ™‚é–“å‰Šæ¸›ã€‚\n",
    "prompt": "### ã‚¹ãƒ†ãƒƒãƒ—1: åŸºæœ¬çš„ãªå®‰å…¨ãƒ‘ãƒ¼ã‚¹é–¢æ•°\n\n```typescript\n// app/utils/jsonParsing.ts\nexport function safeJSONParse<T>(text: string): T | null {\n  try {\n    return JSON.parse(text)\n  } catch (error) {\n    console.error('JSON parse error:', error)\n    return null\n  }\n}\n\n// ä½¿ç”¨ä¾‹\nconst data = safeJSONParse<PageStructure[]>(aiResponse)\nif (!data) {\n  // ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2: 5ã¤ã®ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—ãƒ‘ã‚¿ãƒ¼ãƒ³\n\n**å®Ÿè£…**:\n```typescript\n// app/services/contentGeneratorService.ts (lines 200-350 æ¨å®š)\n\n/**\n * AIãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—ã—ã¦JSONãƒ‘ãƒ¼ã‚¹\n */\nfunction parseAIResponse<T>(response: string): T | null {\n  // ãƒ‘ã‚¿ãƒ¼ãƒ³1: ãã®ã¾ã¾ãƒ‘ãƒ¼ã‚¹\n  let parsed = safeJSONParse<T>(response)\n  if (parsed) return parsed\n\n  // ãƒ‘ã‚¿ãƒ¼ãƒ³2: Markdownã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯æŠ½å‡º\n  let cleaned = extractFromMarkdownCodeBlock(response)\n  parsed = safeJSONParse<T>(cleaned)\n  if (parsed) return parsed\n\n  // ãƒ‘ã‚¿ãƒ¼ãƒ³3: åˆ¶å¾¡æ–‡å­—å‰Šé™¤\n  cleaned = removeControlCharacters(cleaned)\n  parsed = safeJSONParse<T>(cleaned)\n  if (parsed) return parsed\n\n  // ãƒ‘ã‚¿ãƒ¼ãƒ³4: å‰å¾Œã®ç©ºç™½ãƒ»æ”¹è¡Œå‰Šé™¤\n  cleaned = cleaned.trim()\n  parsed = safeJSONParse<T>(cleaned)\n  if (parsed) return parsed\n\n  // ãƒ‘ã‚¿ãƒ¼ãƒ³5: JSONéƒ¨åˆ†ã®ã¿æŠ½å‡ºï¼ˆæœ€åˆã®{ ã‹ã‚‰æœ€å¾Œã®}ã¾ã§ï¼‰\n  cleaned = extractJSONOnly(cleaned)\n  parsed = safeJSONParse<T>(cleaned)\n  if (parsed) return parsed\n\n  // ã™ã¹ã¦å¤±æ•—\n  console.error('All JSON cleanup patterns failed')\n  return null\n}\n```\n\n**å„ãƒ‘ã‚¿ãƒ¼ãƒ³ã®è©³ç´°**:\n\n#### ãƒ‘ã‚¿ãƒ¼ãƒ³1: ãã®ã¾ã¾ãƒ‘ãƒ¼ã‚¹\n```typescript\nfunction pattern1(text: string): any | null {\n  return safeJSONParse(text)\n}\n\n// é©ç”¨ä¾‹\nconst response = `{\"pages\": [...]}`\npattern1(response)  // âœ… æˆåŠŸ\n```\n\n#### ãƒ‘ã‚¿ãƒ¼ãƒ³2: Markdownã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯æŠ½å‡º\n```typescript\nfunction extractFromMarkdownCodeBlock(text: string): string {\n  // ```json ... ``` ã¾ãŸã¯ ``` ... ``` ã‚’æŠ½å‡º\n  const codeBlockRegex = /```(?:json)?\\s*([\\s\\S]*?)\\s*```/\n  const match = text.match(codeBlockRegex)\n\n  if (match && match[1]) {\n    return match[1].trim()\n  }\n\n  return text\n}\n\n// é©ç”¨ä¾‹\nconst response = `\\`\\`\\`json\n{\"pages\": [...]}\n\\`\\`\\``\nextractFromMarkdownCodeBlock(response)\n// â†’ `{\"pages\": [...]}`\n```\n\n#### ãƒ‘ã‚¿ãƒ¼ãƒ³3: åˆ¶å¾¡æ–‡å­—å‰Šé™¤\n```typescript\nfunction removeControlCharacters(text: string): string {\n  // åˆ¶å¾¡æ–‡å­—ï¼ˆ\\x00-\\x1Fã€\\x7Fï¼‰ã‚’å‰Šé™¤\n  // ãŸã ã—ã€æ”¹è¡Œï¼ˆ\\nï¼‰ã€ã‚¿ãƒ–ï¼ˆ\\tï¼‰ã€ã‚­ãƒ£ãƒªãƒƒã‚¸ãƒªã‚¿ãƒ¼ãƒ³ï¼ˆ\\rï¼‰ã¯ä¿æŒ\n  return text.replace(/[\\x00-\\x08\\x0B\\x0C\\x0E-\\x1F\\x7F]/g, '')\n}\n\n// é©ç”¨ä¾‹\nconst response = `{\"pages\": [...]\\x00\\x01}`\nremoveControlCharacters(response)\n// â†’ `{\"pages\": [...]}`\n```\n\n#### ãƒ‘ã‚¿ãƒ¼ãƒ³4: å‰å¾Œã®ç©ºç™½ãƒ»æ”¹è¡Œå‰Šé™¤\n```typescript\nfunction pattern4(text: string): string {\n  return text.trim()\n}\n\n// é©ç”¨ä¾‹\nconst response = `\n  {\"pages\": [...]}\n\n`\npattern4(response)\n// â†’ `{\"pages\": [...]}`\n```\n\n#### ãƒ‘ã‚¿ãƒ¼ãƒ³5: JSONéƒ¨åˆ†ã®ã¿æŠ½å‡º\n```typescript\nfunction extractJSONOnly(text: string): string {\n  // æœ€åˆã® { ã‹ã‚‰æœ€å¾Œã® } ã¾ã§ã‚’æŠ½å‡º\n  const firstBrace = text.indexOf('{')\n  const lastBrace = text.lastIndexOf('}')\n\n  if (firstBrace !== -1 && lastBrace !== -1 && lastBrace > firstBrace) {\n    return text.substring(firstBrace, lastBrace + 1)\n  }\n\n  // é…åˆ—ã®å ´åˆ: æœ€åˆã® [ ã‹ã‚‰æœ€å¾Œã® ] ã¾ã§\n  const firstBracket = text.indexOf('[')\n  const lastBracket = text.lastIndexOf(']')\n\n  if (firstBracket !== -1 && lastBracket !== -1 && lastBracket > firstBracket) {\n    return text.substring(firstBracket, lastBracket + 1)\n  }\n\n  return text\n}\n\n// é©ç”¨ä¾‹\nconst response = `Here is the JSON:\n{\"pages\": [...]}\nEnd of JSON`\nextractJSONOnly(response)\n// â†’ `{\"pages\": [...]}`\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3: ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ç”Ÿæˆ\n\n**ã™ã¹ã¦ã®ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—ãŒå¤±æ•—ã—ãŸå ´åˆ**:\n```typescript\n// app/services/contentGeneratorService.ts\nasync function generateWithFallback(input: string): Promise<GeneratedContent> {\n  try {\n    // AIå‘¼ã³å‡ºã—\n    const aiResponse = await callGeminiAPI(input)\n\n    // JSONãƒ‘ãƒ¼ã‚¹ï¼ˆ5ãƒ‘ã‚¿ãƒ¼ãƒ³è©¦è¡Œï¼‰\n    const parsed = parseAIResponse<PageStructure[]>(aiResponse)\n\n    if (parsed) {\n      // æˆåŠŸ: ãƒ‘ãƒ¼ã‚¹ã•ã‚ŒãŸãƒ‡ãƒ¼ã‚¿ã‚’ä½¿ç”¨\n      return processGeneratedContent(parsed)\n    } else {\n      // å¤±æ•—: ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ç”Ÿæˆ\n      console.warn('JSON parse failed, using fallback')\n      return generateFallbackContent(input)\n    }\n\n  } catch (error) {\n    // AIå‘¼ã³å‡ºã—è‡ªä½“ãŒå¤±æ•—\n    console.error('AI call failed, using fallback')\n    return generateFallbackContent(input)\n  }\n}\n\nfunction generateFallbackContent(input: string): GeneratedContent {\n  // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã§ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”Ÿæˆ\n  return {\n    pages: [\n      {\n        pageNumber: 1,\n        title: 'æŠ•ç¨¿ã‚¿ã‚¤ãƒˆãƒ«',\n        templateType: 'unified-template-01-simple-intro',\n        content: {\n          title: input.slice(0, 50),  // å…¥åŠ›ã®æœ€åˆ50æ–‡å­—\n          content: 'ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ç”Ÿæˆã§ãã¾ã›ã‚“ã§ã—ãŸã€‚æ‰‹å‹•ã§ç·¨é›†ã—ã¦ãã ã•ã„ã€‚'\n        }\n      }\n    ],\n    totalPages: 1,\n    caption: input.slice(0, 100),\n    hashtags: {\n      all: ['#å°±æ´»', '#å­¦ç”Ÿæˆé•·', '#ã‚­ãƒ£ãƒªã‚¢']\n    }\n  }\n}\n```\n\n---",
    "relatedTech": [
      "decision-ai-gemini-2.0-flash-lite",
      "skill-five-stage-ai-pipeline",
      "skill-fallback-generation-graceful-degradation",
      "failure-json-parsing-errors-fixed"
    ]
  },
  {
    "slug": "json-yaml-template-definition",
    "title": "JSON/YAMLãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå®šç¾©",
    "category": "Skillsï¼ˆã‚¹ã‚­ãƒ«ãƒ»æ‰‹æ³•ï¼‰",
    "description": "ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚¿ã‚¤ãƒ—ï¼ˆãƒãƒ©ã‚·ã€ãƒ—ãƒ¬ã‚¼ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã€äº‹æ¥­è¨ˆç”»æ›¸ãªã©ï¼‰ã‚„ãƒ†ãƒ¼ãƒï¼ˆã‚«ãƒ©ãƒ¼ã‚¹ã‚­ãƒ¼ãƒã€ã‚¿ã‚¤ãƒã‚°ãƒ©ãƒ•ã‚£ï¼‰ã‚’JSON/YAMLãƒ•ã‚¡ã‚¤ãƒ«ã§å®šç¾©ã—ã€ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ã‹ãšã«æ–°ã—ã„ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’è¿½åŠ ãƒ»å¤‰æ›´ã™ã‚‹æ‰‹æ³•ã€‚",
    "project": "ai-document-generator",
    "usedIn": [
      "src/data/document-types/*.json, src/data/themes/*.yml, package.json:36,56"
    ],
    "code": "```json\n{\n  \"id\": \"skill_json_yaml_template_definition_2025_04_11\",\n  \"type\": \"skill\",\n  \"name\": \"JSON/YAMLãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå®šç¾©\",\n  \"tags\": [\"JSON\", \"YAML\", \"ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ\", \"è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«\", \"ã‚¹ã‚­ãƒ¼ãƒ\", \"ãƒ‡ãƒ¼ã‚¿é§†å‹•\"],\n  \"source_project\": \"ai-document-generator\",\n  \"source_file\": \"src/data/document-types/*.json, src/data/themes/*.yml, package.json:36,56\",\n  \"related_knowledge\": [\"skill_dynamic_theme_system_2025_04_11\", \"decision_design_json_yaml_templates_2025_04_11\", \"decision_arch_template_system_2025_04_11\"],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-04-11\",\n  \"updated\": \"2025-04-11\"\n}\n```\n\n# JSON/YAMLãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå®šç¾©\n\n## ä½•ã‚’ã™ã‚‹ã‚¹ã‚­ãƒ«ã‹\n\nãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚¿ã‚¤ãƒ—ï¼ˆãƒãƒ©ã‚·ã€ãƒ—ãƒ¬ã‚¼ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã€äº‹æ¥­è¨ˆç”»æ›¸ãªã©ï¼‰ã‚„ãƒ†ãƒ¼ãƒï¼ˆã‚«ãƒ©ãƒ¼ã‚¹ã‚­ãƒ¼ãƒã€ã‚¿ã‚¤ãƒã‚°ãƒ©ãƒ•ã‚£ï¼‰ã‚’JSON/YAMLãƒ•ã‚¡ã‚¤ãƒ«ã§å®šç¾©ã—ã€ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ã‹ãšã«æ–°ã—ã„ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’è¿½åŠ ãƒ»å¤‰æ›´ã™ã‚‹æ‰‹æ³•ã€‚\n\n## å…·ä½“çš„ãªæ‰‹æ³•\n\n### 1. JSON/YAMLãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—\n\npackage.jsonã«å®šç¾©ã•ã‚Œã¦ã„ã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªï¼š\n\n```json\n{\n  \"dependencies\": {\n    \"js-yaml\": \"^4.1.0\",\n    \"yaml\": \"^2.7.1\"\n  },\n  \"devDependencies\": {\n    \"@types/js-yaml\": \"^4.0.9\"\n  }\n}\n```\n\n**js-yaml**: Node.js/ãƒ–ãƒ©ã‚¦ã‚¶ã§YAMLã‚’è§£æ\n**yaml**: æœ€æ–°ã®YAMLãƒ‘ãƒ¼ã‚µãƒ¼ï¼ˆv2.0+ï¼‰\n\n### 2. ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚¿ã‚¤ãƒ—ã®JSONå®šç¾©\n\nãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚¿ã‚¤ãƒ—ã‚’JSONã§å®šç¾©ï¼š\n\n```json\n{\n  \"id\": \"presentation\",\n  \"name\": \"ãƒ—ãƒ¬ã‚¼ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³\",\n  \"description\": \"ã‚¹ãƒ©ã‚¤ãƒ‰å½¢å¼ã®ãƒ—ãƒ¬ã‚¼ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³è³‡æ–™\",\n  \"version\": \"1.0.0\",\n  \"tags\": [\"ãƒ—ãƒ¬ã‚¼ãƒ³\", \"ã‚¹ãƒ©ã‚¤ãƒ‰\", \"ãƒ“ã‚¸ãƒã‚¹\"],\n\n  \"defaultDimensions\": {\n    \"width\": 1920,\n    \"height\": 1080,\n    \"unit\": \"px\"\n  },\n\n  \"layouts\": [\n    {\n      \"id\": \"title-slide\",\n      \"name\": \"ã‚¿ã‚¤ãƒˆãƒ«ã‚¹ãƒ©ã‚¤ãƒ‰\",\n      \"grid\": {\n        \"rows\": 12,\n        \"columns\": 12,\n        \"rowHeight\": 90,\n        \"columnWidth\": 160,\n        \"gap\": 0\n      },\n      \"sections\": [\n        {\n          \"id\": \"title\",\n          \"type\": \"heading\",\n          \"name\": \"ã‚¿ã‚¤ãƒˆãƒ«\",\n          \"purpose\": \"ãƒ—ãƒ¬ã‚¼ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã®ã‚¿ã‚¤ãƒˆãƒ«\",\n          \"position\": {\n            \"row\": 4,\n            \"column\": 2,\n            \"rowSpan\": 2,\n            \"columnSpan\": 8\n          },\n          \"adjustability\": {\n            \"movable\": false,\n            \"resizable\": false,\n            \"swappable\": false\n          },\n          \"contentConstraints\": {\n            \"compatibleComponents\": [\"heading\"],\n            \"textLimits\": {\n              \"minChars\": 5,\n              \"maxChars\": 100,\n              \"recommendedChars\": 50\n            }\n          },\n          \"aiGeneration\": {\n            \"contentType\": \"heading\",\n            \"textStyle\": \"formal\",\n            \"suggestedTextLength\": \"short\"\n          }\n        },\n        {\n          \"id\": \"subtitle\",\n          \"type\": \"text\",\n          \"name\": \"ã‚µãƒ–ã‚¿ã‚¤ãƒˆãƒ«\",\n          \"purpose\": \"è£œè¶³èª¬æ˜\",\n          \"position\": {\n            \"row\": 6,\n            \"column\": 2,\n            \"rowSpan\": 1,\n            \"columnSpan\": 8\n          },\n          \"adjustability\": {\n            \"movable\": false,\n            \"resizable\": false,\n            \"swappable\": false\n          },\n          \"contentConstraints\": {\n            \"compatibleComponents\": [\"text\", \"paragraph\"],\n            \"textLimits\": {\n              \"minChars\": 0,\n              \"maxChars\": 200,\n              \"recommendedChars\": 100\n            }\n          }\n        }\n      ]\n    }\n  ],\n\n  \"compatibleThemes\": [\"*\"],\n  \"metadata\": {\n    \"category\": \"presentation\",\n    \"difficulty\": \"beginner\",\n    \"estimatedTime\": \"30min\",\n    \"industries\": [\"business\", \"education\", \"technology\"]\n  }\n}\n```\n\n### 3. ãƒ†ãƒ¼ãƒã®YAMLå®šç¾©\n\nãƒ†ãƒ¼ãƒã‚’YAMLã§å®šç¾©ï¼ˆå‹•çš„ãƒ†ãƒ¼ãƒã‚·ã‚¹ãƒ†ãƒ ã§è©³ç´°è§£èª¬ï¼‰ï¼š\n\n```yaml\nid: \"modern-blue\"\nname: \"ãƒ¢ãƒ€ãƒ³ãƒ–ãƒ«ãƒ¼\"\ndescription: \"ãƒ–ãƒ«ãƒ¼ã‚’åŸºèª¿ã¨ã—ãŸç¾ä»£çš„ãªãƒ†ãƒ¼ãƒ\"\n\ncolors:\n  primary: \"#3366CC\"\n  secondary: \"#36B37E\"\n  text:\n    heading: \"#1A1A1A\"\n    body: \"#333333\"\n  background:\n    primary: \"#FFFFFF\"\n    secondary: \"#F5F8FA\"\n\ntypography:\n  fontFamily:\n    heading: \"'Noto Sans JP', sans-serif\"\n    body: \"'Noto Sans JP', sans-serif\"\n  fontSize:\n    h1: \"36px\"\n    h2: \"30px\"\n    body: \"16px\"\n```\n\n### 4. JSONãƒ•ã‚¡ã‚¤ãƒ«ã®èª­ã¿è¾¼ã¿\n\n```typescript\nimport fs from 'fs';\nimport path from 'path';\n\n// ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚¿ã‚¤ãƒ—ã®èª­ã¿è¾¼ã¿\nconst loadDocumentTypes = (): DocumentType[] => {\n  const dir = path.join(process.cwd(), 'src/data/document-types');\n  const files = fs.readdirSync(dir).filter(file => file.endsWith('.json'));\n\n  return files.map(file => {\n    const filePath = path.join(dir, file);\n    const content = fs.readFileSync(filePath, 'utf-8');\n    return JSON.parse(content) as DocumentType;\n  });\n};\n\n// ä½¿ç”¨ä¾‹\nconst documentTypes = loadDocumentTypes();\nconsole.log('Loaded document types:', documentTypes.length);\n```\n\n### 5. YAMLãƒ•ã‚¡ã‚¤ãƒ«ã®èª­ã¿è¾¼ã¿\n\n```typescript\nimport yaml from 'js-yaml';\nimport fs from 'fs';\nimport path from 'path';\n\n// ãƒ†ãƒ¼ãƒã®èª­ã¿è¾¼ã¿\nconst loadThemes = (): Theme[] => {\n  const dir = path.join(process.cwd(), 'src/data/themes');\n  const files = fs.readdirSync(dir).filter(file =>\n    file.endsWith('.yml') || file.endsWith('.yaml')\n  );\n\n  return files.map(file => {\n    const filePath = path.join(dir, file);\n    const content = fs.readFileSync(filePath, 'utf-8');\n    return yaml.load(content) as Theme;\n  });\n};\n\n// ä½¿ç”¨ä¾‹\nconst themes = loadThemes();\nconsole.log('Loaded themes:', themes.length);\n```\n\n### 6. ã‚¹ã‚­ãƒ¼ãƒãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³\n\nJSONã‚¹ã‚­ãƒ¼ãƒã§ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®å½¢å¼ã‚’æ¤œè¨¼ï¼š\n\n```typescript\nimport Ajv from 'ajv';\n\n// JSONã‚¹ã‚­ãƒ¼ãƒã®å®šç¾©\nconst documentTypeSchema = {\n  type: 'object',\n  required: ['id', 'name', 'version', 'layouts'],\n  properties: {\n    id: { type: 'string' },\n    name: { type: 'string' },\n    version: { type: 'string' },\n    layouts: {\n      type: 'array',\n      items: {\n        type: 'object',\n        required: ['id', 'name', 'grid', 'sections'],\n        properties: {\n          id: { type: 'string' },\n          name: { type: 'string' },\n          grid: {\n            type: 'object',\n            required: ['rows', 'columns', 'rowHeight', 'columnWidth'],\n            properties: {\n              rows: { type: 'number', minimum: 1 },\n              columns: { type: 'number', minimum: 1 },\n              rowHeight: { type: 'number', minimum: 0 },\n              columnWidth: { type: 'number', minimum: 0 }\n            }\n          },\n          sections: {\n            type: 'array',\n            items: { type: 'object' }\n          }\n        }\n      }\n    }\n  }\n};\n\n// ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³é–¢æ•°\nconst validateDocumentType = (data: unknown): data is DocumentType => {\n  const ajv = new Ajv();\n  const validate = ajv.compile(documentTypeSchema);\n  const valid = validate(data);\n\n  if (!valid) {\n    console.error('Validation errors:', validate.errors);\n    return false;\n  }\n\n  return true;\n};\n\n// ä½¿ç”¨ä¾‹\nconst data = JSON.parse(fileContent);\nif (validateDocumentType(data)) {\n  console.log('Valid document type');\n} else {\n  console.error('Invalid document type');\n}\n```\n\n### 7. ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®ãƒãƒ¼ã‚¸\n\nè¤‡æ•°ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ãƒãƒ¼ã‚¸ï¼ˆç¶™æ‰¿ï¼‰ï¼š\n\n```typescript\n// ãƒ™ãƒ¼ã‚¹ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ\nconst baseTemplate = {\n  id: \"base\",\n  colors: {\n    primary: \"#000000\",\n    secondary: \"#FFFFFF\"\n  },\n  typography: {\n    fontFamily: \"Arial, sans-serif\"\n  }\n};\n\n// æ‹¡å¼µãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ\nconst extendedTemplate = {\n  id: \"extended\",\n  extends: \"base\",\n  colors: {\n    primary: \"#3366CC\"  // ä¸Šæ›¸ã\n  }\n};\n\n// ãƒãƒ¼ã‚¸é–¢æ•°\nconst mergeTemplates = (base: any, extended: any): any => {\n  return {\n    ...base,\n    ...extended,\n    colors: {\n      ...base.colors,\n      ...extended.colors\n    },\n    typography: {\n      ...base.typography,\n      ...extended.typography\n    }\n  };\n};\n\n// ä½¿ç”¨ä¾‹\nconst merged = mergeTemplates(baseTemplate, extendedTemplate);\nconsole.log(merged);\n// { id: \"extended\", colors: { primary: \"#3366CC\", secondary: \"#FFFFFF\" }, ... }\n```\n\n### 8. ç’°å¢ƒå¤‰æ•°ã«ã‚ˆã‚‹ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ‘ã‚¹ã®åˆ‡ã‚Šæ›¿ãˆ\n\n```typescript\n// ç’°å¢ƒã«å¿œã˜ã¦ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’åˆ‡ã‚Šæ›¿ãˆ\nconst getTemplateDir = (): string => {\n  if (process.env.NODE_ENV === 'production') {\n    return '/app/data/templates';\n  } else if (process.env.CUSTOM_TEMPLATE_DIR) {\n    return process.env.CUSTOM_TEMPLATE_DIR;\n  } else {\n    return path.join(process.cwd(), 'src/data/templates');\n  }\n};\n\n// ä½¿ç”¨ä¾‹\nconst templateDir = getTemplateDir();\nconst files = fs.readdirSync(templateDir);\n```\n\n### 9. å‹•çš„ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®ç”Ÿæˆ\n\nAPIã‹ã‚‰å–å¾—ã—ãŸãƒ‡ãƒ¼ã‚¿ã§ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ç”Ÿæˆï¼š\n\n```typescript\n// APIã‹ã‚‰ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’å–å¾—\nconst fetchTemplateFromAPI = async (templateId: string): Promise<Template> => {\n  const response = await fetch(`/api/templates/${templateId}`);\n  const data = await response.json();\n  return data as Template;\n};\n\n// ã‚¹ãƒˆã‚¢ã«ãƒ­ãƒ¼ãƒ‰\nconst loadTemplateFromAPI = async (templateId: string) => {\n  const template = await fetchTemplateFromAPI(templateId);\n\n  // ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³\n  if (validateDocumentType(template)) {\n    useTemplateStore.getState().addTemplate(template);\n  }\n};\n```\n\n## ãªãœã“ã®æ‰‹æ³•ã‚’ä½¿ã†ã‹\n\n**ç†ç”±1ï¼šã‚³ãƒ¼ãƒ‰ãƒ¬ã‚¹ã§ã®è¿½åŠ ãƒ»å¤‰æ›´**\n- æ–°ã—ã„ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’è¿½åŠ ã™ã‚‹ã®ã«ã€ã‚³ãƒ¼ãƒ‰ã‚’å¤‰æ›´ã™ã‚‹å¿…è¦ãŒãªã„\n- ãƒ‡ã‚¶ã‚¤ãƒŠãƒ¼ã‚„éã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã§ã‚‚ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ä½œæˆã§ãã‚‹\n\n**ç†ç”±2ï¼šä¿å®ˆæ€§**\n- ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®å®šç¾©ãŒä¸€ç®‡æ‰€ã«é›†ç´„\n- å¤‰æ›´å±¥æ­´ã‚’Gitã§ç®¡ç†ã—ã‚„ã™ã„\n\n**ç†ç”±3ï¼šå†åˆ©ç”¨æ€§**\n- ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’è¤‡æ•°ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§å…±æœ‰ã§ãã‚‹\n- JSON/YAMLãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ/ã‚¤ãƒ³ãƒãƒ¼ãƒˆã§ãã‚‹\n\n**ç†ç”±4ï¼šãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³**\n- JSONã‚¹ã‚­ãƒ¼ãƒã§å½¢å¼ã‚’æ¤œè¨¼\n- ã‚¨ãƒ©ãƒ¼ã‚’æ—©æœŸã«æ¤œå‡º\n\n**ç†ç”±5ï¼šãƒ‡ãƒ¼ã‚¿é§†å‹•**\n- ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ãƒ‡ãƒ¼ã‚¿ã¨ã—ã¦æ‰±ãˆã‚‹\n- APIã§é…ä¿¡ã€DBã«ä¿å­˜ã€å‹•çš„ã«ç”Ÿæˆå¯èƒ½\n\n## å†ç¾æ–¹æ³•\n\n### ã‚¹ãƒ†ãƒƒãƒ—1ï¼šJSON/YAMLãƒ‘ãƒ¼ã‚µãƒ¼ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\n\n```bash\nnpm install js-yaml yaml\nnpm install --save-dev @types/js-yaml\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2ï¼šãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆ\n\n```json\n// template.json\n{\n  \"id\": \"my-template\",\n  \"name\": \"ãƒã‚¤ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ\",\n  \"version\": \"1.0.0\",\n  \"layouts\": []\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3ï¼šãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã¿\n\n```typescript\nimport fs from 'fs';\n\nconst template = JSON.parse(fs.readFileSync('template.json', 'utf-8'));\nconsole.log(template);\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—4ï¼šã‚¢ãƒ—ãƒªã«çµ±åˆ\n\n```typescript\nconst templates = loadTemplates();\nuseTemplateStore.getState().loadTemplates(templates);\n```\n\n## ã„ã¤ä½¿ã†ã‹\n\n- **è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«**: ã‚¢ãƒ—ãƒªã®è¨­å®šã‚’JSON/YAMLã§ç®¡ç†ã—ãŸã„å ´åˆ\n- **ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚·ã‚¹ãƒ†ãƒ **: ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã§ãã‚‹å ´åˆ\n- **ãƒãƒ«ãƒãƒ†ãƒŠãƒ³ãƒˆ**: ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã”ã¨ã«ç•°ãªã‚‹è¨­å®šãŒå¿…è¦ãªå ´åˆ\n- **ãƒãƒ¼ã‚³ãƒ¼ãƒ‰/ãƒ­ãƒ¼ã‚³ãƒ¼ãƒ‰**: éã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãŒè¨­å®šã‚’å¤‰æ›´ã§ãã‚‹ã‚ˆã†ã«ã—ãŸã„å ´åˆ\n\n## æ³¨æ„ç‚¹\n\n### 1. ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚º\n\nå¤§ããªJSON/YAMLãƒ•ã‚¡ã‚¤ãƒ«ã¯ã€èª­ã¿è¾¼ã¿ã«æ™‚é–“ãŒã‹ã‹ã‚‹ã€‚\n\n**å¯¾ç­–**:\n- ãƒ•ã‚¡ã‚¤ãƒ«ã‚’åˆ†å‰²\n- é…å»¶èª­ã¿è¾¼ã¿\n\n### 2. ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³\n\nä¸æ­£ãªJSON/YAMLãƒ•ã‚¡ã‚¤ãƒ«ãŒã‚ã‚‹ã¨ã€ã‚¢ãƒ—ãƒªãŒã‚¯ãƒ©ãƒƒã‚·ãƒ¥ã™ã‚‹ã€‚\n\n**å¯¾ç­–**:\n- JSONã‚¹ã‚­ãƒ¼ãƒã§æ¤œè¨¼\n- try-catchã§ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°\n\n### 3. å‹å®‰å…¨æ€§\n\nJSONã¯å‹æƒ…å ±ã‚’æŒãŸãªã„ã€‚\n\n**å¯¾ç­–**:\n- TypeScriptã®å‹å®šç¾©ã‚’ä½œæˆ\n- Zodãªã©ã®ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½¿ç”¨\n\n### 4. ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹ã®ç®¡ç†\n\nç’°å¢ƒï¼ˆé–‹ç™º/æœ¬ç•ªï¼‰ã§ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹ãŒç•°ãªã‚‹ã€‚\n\n**å¯¾ç­–**:\n- ç’°å¢ƒå¤‰æ•°ã§ãƒ‘ã‚¹ã‚’ç®¡ç†\n- Next.jsã®`public`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½¿ç”¨\n\n### 5. YAMLã®äº’æ›æ€§\n\nYAML 1.1ã¨YAML 1.2ã§æ§‹æ–‡ãŒç•°ãªã‚‹ã€‚\n\n**å¯¾ç­–**:\n- YAMLãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’æ˜ç¤º\n- æœ€æ–°ã®ãƒ‘ãƒ¼ã‚µãƒ¼ï¼ˆyaml v2.0+ï¼‰ã‚’ä½¿ç”¨\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `skill_dynamic_theme_system_2025_04_11.md`: å‹•çš„ãƒ†ãƒ¼ãƒã‚·ã‚¹ãƒ†ãƒ ï¼ˆYAMLãƒ†ãƒ¼ãƒãƒ•ã‚¡ã‚¤ãƒ«ã®ä½¿ç”¨ï¼‰\n- `decision_design_json_yaml_templates_2025_04_11.md`: JSON/YAMLãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆè¨­è¨ˆã®åˆ¤æ–­\n- `decision_arch_template_system_2025_04_11.md`: ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£\n",
    "prompt": "### ã‚¹ãƒ†ãƒƒãƒ—1ï¼šJSON/YAMLãƒ‘ãƒ¼ã‚µãƒ¼ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\n\n```bash\nnpm install js-yaml yaml\nnpm install --save-dev @types/js-yaml\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2ï¼šãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆ\n\n```json\n// template.json\n{\n  \"id\": \"my-template\",\n  \"name\": \"ãƒã‚¤ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ\",\n  \"version\": \"1.0.0\",\n  \"layouts\": []\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3ï¼šãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã¿\n\n```typescript\nimport fs from 'fs';\n\nconst template = JSON.parse(fs.readFileSync('template.json', 'utf-8'));\nconsole.log(template);\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—4ï¼šã‚¢ãƒ—ãƒªã«çµ±åˆ\n\n```typescript\nconst templates = loadTemplates();\nuseTemplateStore.getState().loadTemplates(templates);\n```",
    "relatedTech": [
      "skill-dynamic-theme-system",
      "decision-design-json-yaml-templates",
      "decision-arch-template-system"
    ]
  },
  {
    "slug": "knowledge-matching-service",
    "title": "ãƒŠãƒ¬ãƒƒã‚¸ãƒãƒƒãƒãƒ³ã‚°ã‚µãƒ¼ãƒ“ã‚¹ï¼ˆType-Target-Persona ãƒãƒƒãƒ”ãƒ³ã‚°ï¼‰",
    "category": "Skillsï¼ˆã‚¹ã‚­ãƒ«ãƒ»æ‰‹æ³•ï¼‰",
    "description": "**Type IDï¼ˆ001-005ï¼‰ã¨Target IDï¼ˆT001-T030ï¼‰ã‹ã‚‰ãƒŠãƒ¬ãƒƒã‚¸ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’æ¤œç´¢ãƒ»ãƒãƒƒãƒãƒ³ã‚°ã™ã‚‹æŠ€è¡“ã€‚**",
    "project": "instagram-post-generator",
    "usedIn": [
      "app/services/knowledgeBase/"
    ],
    "code": "```json\n{\n  \"id\": \"skill_knowledge_matching_service_2025_11_25\",\n  \"type\": \"skill\",\n  \"name\": \"ãƒŠãƒ¬ãƒƒã‚¸ãƒãƒƒãƒãƒ³ã‚°ã‚µãƒ¼ãƒ“ã‚¹ï¼ˆType-Target-Persona ãƒãƒƒãƒ”ãƒ³ã‚°ï¼‰\",\n  \"tags\": [\"ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹\", \"ãƒãƒƒãƒãƒ³ã‚°\", \"Type\", \"Target\", \"Persona\", \"pageStructurePattern\"],\n  \"source_project\": \"instagram-post-generator\",\n  \"source_file\": \"app/services/knowledgeBase/\",\n  \"difficulty\": \"advanced\",\n  \"related_knowledge\": [\n    \"decision_arch_knowledge_base_system_2025_11_25\",\n    \"skill_page_structure_matcher_2025_11_25\"\n  ],\n  \"prerequisites\": [\"ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹åŸºç¤\", \"ãƒãƒƒãƒ”ãƒ³ã‚°ç†è«–\", \"JSONæ“ä½œ\"],\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# ãƒŠãƒ¬ãƒƒã‚¸ãƒãƒƒãƒãƒ³ã‚°ã‚µãƒ¼ãƒ“ã‚¹ï¼ˆType-Target-Persona ãƒãƒƒãƒ”ãƒ³ã‚°ï¼‰\n\n## ä½•ã‚’ã™ã‚‹ã‚¹ã‚­ãƒ«ã‹\n\n**Type IDï¼ˆ001-005ï¼‰ã¨Target IDï¼ˆT001-T030ï¼‰ã‹ã‚‰ãƒŠãƒ¬ãƒƒã‚¸ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’æ¤œç´¢ãƒ»ãƒãƒƒãƒãƒ³ã‚°ã™ã‚‹æŠ€è¡“ã€‚**\n\n**ãƒãƒƒãƒ”ãƒ³ã‚°æ§‹é€ **:\n```\nType 001 â†’ T001-T006 (å¥³æ€§ã‚¿ãƒ¼ã‚²ãƒƒãƒˆ)\nType 002 â†’ T007-T012 (ç”·æ€§ã‚¿ãƒ¼ã‚²ãƒƒãƒˆ)\nType 003 â†’ T013-T018 (ä¼æ¥­æƒ…å ±)\nType 004 â†’ T019-T024 (åŠ¹ç‡åŒ–)\nType 005 â†’ T025-T030 (ãã®ä»–)\n```\n\n**æ¤œç´¢ãƒ•ãƒ­ãƒ¼**:\n```\nuseKnowledgeBase = true\n  â†“\ntypeId + targetId æŒ‡å®š\n  â†“\nãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹æ¤œç´¢\n  â†“\npageStructurePattern å–å¾—\n  â†“\ndetailedContent æŠ½å‡º\n  â†“\nã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”Ÿæˆ\n```\n\n---\n\n## ãªãœã“ã®ã‚¹ã‚­ãƒ«ãŒé‡è¦ã‹\n\n### ç†ç”±1: 190å€‹ã®ãƒŠãƒ¬ãƒƒã‚¸æ´»ç”¨\n\n**ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹è¦æ¨¡**:\n- Type001: 50å€‹ï¼ˆK001-K050ç¯„å›²ï¼‰\n- Type002: 40å€‹\n- Type003: 30å€‹\n- Type004: 40å€‹\n- Type005: 30å€‹\n- **åˆè¨ˆ**: 190å€‹\n\n**ãƒãƒƒãƒãƒ³ã‚°ãªã—ã§ã¯**: æ‰‹å‹•é¸æŠå›°é›£\n**ãƒãƒƒãƒãƒ³ã‚°ã‚ã‚Šã§**: è‡ªå‹•é¸æŠãƒ»æ´»ç”¨\n\n### ç†ç”±2: pageStructurePattern ã«ã‚ˆã‚‹æ§‹é€ å®šç¾©\n\n**å„ãƒŠãƒ¬ãƒƒã‚¸ã¯å›ºæœ‰ã®ãƒšãƒ¼ã‚¸æ§‹é€ ã‚’æŒã¤**:\n\n```typescript\n// K001ã®ä¾‹\n{\n  \"knowledgeId\": \"K001\",\n  \"pageStructurePattern\": \"unified-template-08-section-blocks-2-sections\",\n  \"detailedContent\": {\n    \"page1\": { \"section\": \"intro\", ... },\n    \"page2\": { \"section\": \"mainContent\", ... },\n    \"page3\": { \"section\": \"mainContent\", ... },\n    \"page4\": { \"section\": \"summary\", ... }\n  }\n}\n```\n\n**pageStructurePattern**: ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ + ã‚»ã‚¯ã‚·ãƒ§ãƒ³æ•°ã‚’å®šç¾©\n**detailedContent**: å„ãƒšãƒ¼ã‚¸ã®å®Ÿéš›ã®å†…å®¹\n\n---\n\n## å†ç¾æ–¹æ³•\n\n### ã‚¹ãƒ†ãƒƒãƒ—1: Type-Target ãƒãƒƒãƒ”ãƒ³ã‚°\n\n**ãƒ•ã‚¡ã‚¤ãƒ«**: `/app/data/knowledgeBase/type-target-persona-relations.json`\n\n```json\n{\n  \"typeToTargets\": {\n    \"001\": [\"T001\", \"T002\", \"T003\", \"T004\", \"T005\", \"T006\"],\n    \"002\": [\"T007\", \"T008\", \"T009\", \"T010\", \"T011\", \"T012\"],\n    \"003\": [\"T013\", \"T014\", \"T015\", \"T016\", \"T017\", \"T018\"],\n    \"004\": [\"T019\", \"T020\", \"T021\", \"T022\", \"T023\", \"T024\"],\n    \"005\": [\"T025\", \"T026\", \"T027\", \"T028\", \"T029\", \"T030\"]\n  },\n  \"targetToPersonas\": {\n    \"T001\": [\"P001\", \"P002\"],\n    // ...\n  }\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2: ãƒŠãƒ¬ãƒƒã‚¸æ¤œç´¢ã‚µãƒ¼ãƒ“ã‚¹\n\n```typescript\n// app/services/knowledgeBase/KnowledgeMatchingService.ts (æ¦‚å¿µ)\nexport class KnowledgeMatchingService {\n  /**\n   * Type IDã¨Target IDã‹ã‚‰ãƒŠãƒ¬ãƒƒã‚¸ã‚’æ¤œç´¢\n   */\n  static async findKnowledge(typeId: string, targetId: string): Promise<KnowledgeContent | null> {\n    // Step 1: Type IDã‹ã‚‰ãƒ•ã‚©ãƒ«ãƒ€ãƒ‘ã‚¹æ±ºå®š\n    const folderPath = `/app/data/knowledgeBase/knowledge/type${typeId}/`\n\n    // Step 2: ãƒ•ã‚©ãƒ«ãƒ€å†…ã®å…¨JSONãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã¿\n    const knowledgeFiles = await this.loadKnowledgeFiles(folderPath)\n\n    // Step 3: Target IDã«ä¸€è‡´ã™ã‚‹ãƒŠãƒ¬ãƒƒã‚¸ã‚’æ¤œç´¢\n    for (const knowledge of knowledgeFiles) {\n      if (this.matchesTarget(knowledge, targetId)) {\n        console.log(`âœ… ãƒŠãƒ¬ãƒƒã‚¸è¦‹ã¤ã‹ã£ãŸ: ${knowledge.knowledgeId}`)\n        return knowledge\n      }\n    }\n\n    console.warn(`âš ï¸ ãƒŠãƒ¬ãƒƒã‚¸ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“: Type ${typeId}, Target ${targetId}`)\n    return null\n  }\n\n  /**\n   * Target IDãƒãƒƒãƒãƒ³ã‚°\n   */\n  private static matchesTarget(knowledge: KnowledgeContent, targetId: string): boolean {\n    // knowledgeã®ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã«targetIdãŒå«ã¾ã‚Œã‚‹ã‹ç¢ºèª\n    return knowledge.targetIds?.includes(targetId) || false\n  }\n\n  /**\n   * pageStructurePattern ã‚’å–å¾—\n   */\n  static getPageStructurePattern(knowledge: KnowledgeContent): string {\n    return knowledge.pageStructurePattern || 'unified-template-08-section-blocks'\n  }\n\n  /**\n   * detailedContent ã‚’æŠ½å‡º\n   */\n  static extractDetailedContent(knowledge: KnowledgeContent, pageNumber: number): any {\n    const pageKey = `page${pageNumber}`\n    return knowledge.detailedContent?.[pageKey] || null\n  }\n\n  /**\n   * templateOverrides ã‚’å–å¾—\n   */\n  static getTemplateOverride(knowledge: KnowledgeContent, pageNumber: number): string | null {\n    return knowledge.templateOverrides?.[pageNumber.toString()] || null\n  }\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3: ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹çµ±åˆãƒ•ãƒ­ãƒ¼\n\n```typescript\n// contentGeneratorService.ts (æŠœç²‹)\nif (knowledgeBaseParams?.useKnowledgeBase &&\n    knowledgeBaseParams.knowledgeContents &&\n    knowledgeBaseParams.knowledgeContents.length > 0) {\n\n  console.log('ğŸ¯ ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹ã‚·ã‚¹ãƒ†ãƒ æ¤œå‡º')\n\n  const knowledgeData = knowledgeBaseParams.knowledgeContents[0]\n\n  // Step 1: pageStructurePattern å–å¾—\n  const pageStructureId = knowledgeData.pageStructurePattern\n  console.log('ğŸ“‹ ä½¿ç”¨ã™ã‚‹ãƒšãƒ¼ã‚¸æ§‹æˆ:', pageStructureId)\n\n  // Step 2: ãƒšãƒ¼ã‚¸æ§‹é€ å®šç¾©ã‚’èª­ã¿è¾¼ã¿\n  const pageStructure = PageStructureMatcher.loadPageStructure(pageStructureId)\n\n  // Step 3: å„ãƒšãƒ¼ã‚¸ã‚’ç”Ÿæˆ\n  const generator = new KnowledgeBasedContentGenerator()\n  const pages: GeneratedPage[] = []\n\n  for (const pageInfo of pageStructure.pages) {\n    if (pageInfo.pageNumber === \"dynamic\") {\n      // dynamicãƒšãƒ¼ã‚¸å±•é–‹\n      const dynamicPages = Object.keys(knowledgeData.detailedContent || {})\n        .filter(key => {\n          const pageData = knowledgeData.detailedContent?.[key]\n          return pageData?.section === \"mainContent\"\n        })\n\n      for (const actualPageNumber of dynamicPages) {\n        const result = await generator.generatePageContent({\n          userInput,\n          knowledgeData,\n          pageStructure,\n          templateStructure: pageInfo.templateStructure,\n          pageNumber: actualPageNumber\n        })\n\n        if (result.success) {\n          pages.push({\n            pageNumber: actualPageNumber,\n            templateType: knowledgeData.templateOverrides?.[actualPageNumber.toString()] || pageInfo.templateId,\n            templateData: result.generatedContent,\n            content: result.generatedContent\n          })\n        }\n      }\n    }\n  }\n\n  return { pages, ... }\n}\n```\n\n---\n\n## ã„ã¤ä½¿ã†ã‹\n\n### ä½¿ç”¨å ´é¢1: ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹é§†å‹•ç”Ÿæˆ\n\n```typescript\n// ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒType + Targetã‚’é¸æŠ\nconst knowledgeBaseParams = {\n  useKnowledgeBase: true,\n  typeId: \"001\",\n  targetId: \"T001\",\n  knowledgeIds: [\"K001\"]\n}\n\nconst content = await generateHighQualityContent(userInput, knowledgeBaseParams)\n```\n\n### ä½¿ç”¨å ´é¢2: é¡ä¼¼ãƒŠãƒ¬ãƒƒã‚¸æ¤œç´¢\n\n```typescript\n// ç¾åœ¨ã®ãƒŠãƒ¬ãƒƒã‚¸ã¨é¡ä¼¼ã™ã‚‹ãƒŠãƒ¬ãƒƒã‚¸ã‚’æ¤œç´¢\nconst similarKnowledge = await KnowledgeMatchingService.findSimilarKnowledge(currentKnowledge)\n```\n\n---\n\n## æ³¨æ„ç‚¹\n\n### æ³¨æ„ç‚¹1: ãƒŠãƒ¬ãƒƒã‚¸ãŒå­˜åœ¨ã—ãªã„å ´åˆ\n\n**å•é¡Œ**: Type + Target ã®çµ„ã¿åˆã‚ã›ã«ãƒŠãƒ¬ãƒƒã‚¸ãŒãªã„\n\n**è§£æ±º**: ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯\n\n```typescript\nconst knowledge = await KnowledgeMatchingService.findKnowledge(typeId, targetId)\n\nif (!knowledge) {\n  console.warn('ãƒŠãƒ¬ãƒƒã‚¸ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ - å¾“æ¥ãƒ•ãƒ­ãƒ¼ã«åˆ‡ã‚Šæ›¿ãˆ')\n  return await generateWithoutKnowledgeBase(userInput)\n}\n```\n\n---\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- **decision_arch_knowledge_base_system_2025_11_25**: ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹ã‚·ã‚¹ãƒ†ãƒ è¨­è¨ˆ\n- **skill_page_structure_matcher_2025_11_25**: ãƒšãƒ¼ã‚¸æ§‹é€ ãƒãƒƒãƒãƒ³ã‚°\n\n---\n\n**ã¾ã¨ã‚**: ãƒŠãƒ¬ãƒƒã‚¸ãƒãƒƒãƒãƒ³ã‚°ã‚µãƒ¼ãƒ“ã‚¹ã¯ã€190å€‹ã®ãƒŠãƒ¬ãƒƒã‚¸ã‹ã‚‰æœ€é©ãªã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’è‡ªå‹•é¸æŠã€‚Type-Target ãƒãƒƒãƒ”ãƒ³ã‚°ã«ã‚ˆã‚Šã€åŠ¹ç‡çš„ãªã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”Ÿæˆã‚’å®Ÿç¾ã€‚\n",
    "prompt": "### ã‚¹ãƒ†ãƒƒãƒ—1: Type-Target ãƒãƒƒãƒ”ãƒ³ã‚°\n\n**ãƒ•ã‚¡ã‚¤ãƒ«**: `/app/data/knowledgeBase/type-target-persona-relations.json`\n\n```json\n{\n  \"typeToTargets\": {\n    \"001\": [\"T001\", \"T002\", \"T003\", \"T004\", \"T005\", \"T006\"],\n    \"002\": [\"T007\", \"T008\", \"T009\", \"T010\", \"T011\", \"T012\"],\n    \"003\": [\"T013\", \"T014\", \"T015\", \"T016\", \"T017\", \"T018\"],\n    \"004\": [\"T019\", \"T020\", \"T021\", \"T022\", \"T023\", \"T024\"],\n    \"005\": [\"T025\", \"T026\", \"T027\", \"T028\", \"T029\", \"T030\"]\n  },\n  \"targetToPersonas\": {\n    \"T001\": [\"P001\", \"P002\"],\n    // ...\n  }\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2: ãƒŠãƒ¬ãƒƒã‚¸æ¤œç´¢ã‚µãƒ¼ãƒ“ã‚¹\n\n```typescript\n// app/services/knowledgeBase/KnowledgeMatchingService.ts (æ¦‚å¿µ)\nexport class KnowledgeMatchingService {\n  /**\n   * Type IDã¨Target IDã‹ã‚‰ãƒŠãƒ¬ãƒƒã‚¸ã‚’æ¤œç´¢\n   */\n  static async findKnowledge(typeId: string, targetId: string): Promise<KnowledgeContent | null> {\n    // Step 1: Type IDã‹ã‚‰ãƒ•ã‚©ãƒ«ãƒ€ãƒ‘ã‚¹æ±ºå®š\n    const folderPath = `/app/data/knowledgeBase/knowledge/type${typeId}/`\n\n    // Step 2: ãƒ•ã‚©ãƒ«ãƒ€å†…ã®å…¨JSONãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã¿\n    const knowledgeFiles = await this.loadKnowledgeFiles(folderPath)\n\n    // Step 3: Target IDã«ä¸€è‡´ã™ã‚‹ãƒŠãƒ¬ãƒƒã‚¸ã‚’æ¤œç´¢\n    for (const knowledge of knowledgeFiles) {\n      if (this.matchesTarget(knowledge, targetId)) {\n        console.log(`âœ… ãƒŠãƒ¬ãƒƒã‚¸è¦‹ã¤ã‹ã£ãŸ: ${knowledge.knowledgeId}`)\n        return knowledge\n      }\n    }\n\n    console.warn(`âš ï¸ ãƒŠãƒ¬ãƒƒã‚¸ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“: Type ${typeId}, Target ${targetId}`)\n    return null\n  }\n\n  /**\n   * Target IDãƒãƒƒãƒãƒ³ã‚°\n   */\n  private static matchesTarget(knowledge: KnowledgeContent, targetId: string): boolean {\n    // knowledgeã®ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã«targetIdãŒå«ã¾ã‚Œã‚‹ã‹ç¢ºèª\n    return knowledge.targetIds?.includes(targetId) || false\n  }\n\n  /**\n   * pageStructurePattern ã‚’å–å¾—\n   */\n  static getPageStructurePattern(knowledge: KnowledgeContent): string {\n    return knowledge.pageStructurePattern || 'unified-template-08-section-blocks'\n  }\n\n  /**\n   * detailedContent ã‚’æŠ½å‡º\n   */\n  static extractDetailedContent(knowledge: KnowledgeContent, pageNumber: number): any {\n    const pageKey = `page${pageNumber}`\n    return knowledge.detailedContent?.[pageKey] || null\n  }\n\n  /**\n   * templateOverrides ã‚’å–å¾—\n   */\n  static getTemplateOverride(knowledge: KnowledgeContent, pageNumber: number): string | null {\n    return knowledge.templateOverrides?.[pageNumber.toString()] || null\n  }\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3: ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹çµ±åˆãƒ•ãƒ­ãƒ¼\n\n```typescript\n// contentGeneratorService.ts (æŠœç²‹)\nif (knowledgeBaseParams?.useKnowledgeBase &&\n    knowledgeBaseParams.knowledgeContents &&\n    knowledgeBaseParams.knowledgeContents.length > 0) {\n\n  console.log('ğŸ¯ ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹ã‚·ã‚¹ãƒ†ãƒ æ¤œå‡º')\n\n  const knowledgeData = knowledgeBaseParams.knowledgeContents[0]\n\n  // Step 1: pageStructurePattern å–å¾—\n  const pageStructureId = knowledgeData.pageStructurePattern\n  console.log('ğŸ“‹ ä½¿ç”¨ã™ã‚‹ãƒšãƒ¼ã‚¸æ§‹æˆ:', pageStructureId)\n\n  // Step 2: ãƒšãƒ¼ã‚¸æ§‹é€ å®šç¾©ã‚’èª­ã¿è¾¼ã¿\n  const pageStructure = PageStructureMatcher.loadPageStructure(pageStructureId)\n\n  // Step 3: å„ãƒšãƒ¼ã‚¸ã‚’ç”Ÿæˆ\n  const generator = new KnowledgeBasedContentGenerator()\n  const pages: GeneratedPage[] = []\n\n  for (const pageInfo of pageStructure.pages) {\n    if (pageInfo.pageNumber === \"dynamic\") {\n      // dynamicãƒšãƒ¼ã‚¸å±•é–‹\n      const dynamicPages = Object.keys(knowledgeData.detailedContent || {})\n        .filter(key => {\n          const pageData = knowledgeData.detailedContent?.[key]\n          return pageData?.section === \"mainContent\"\n        })\n\n      for (const actualPageNumber of dynamicPages) {\n        const result = await generator.generatePageContent({\n          userInput,\n          knowledgeData,\n          pageStructure,\n          templateStructure: pageInfo.templateStructure,\n          pageNumber: actualPageNumber\n        })\n\n        if (result.success) {\n          pages.push({\n            pageNumber: actualPageNumber,\n            templateType: knowledgeData.templateOverrides?.[actualPageNumber.toString()] || pageInfo.templateId,\n            templateData: result.generatedContent,\n            content: result.generatedContent\n          })\n        }\n      }\n    }\n  }\n\n  return { pages, ... }\n}\n```\n\n---",
    "relatedTech": [
      "decision-arch-knowledge-base-system",
      "skill-page-structure-matcher"
    ]
  },
  {
    "slug": "lifecycle-tier-system",
    "title": "Tierãƒ™ãƒ¼ã‚¹ã®ä¾å­˜é–¢ä¿‚ç®¡ç†ã¨æ®µéšçš„åˆæœŸåŒ–",
    "category": "Skillsï¼ˆã‚¹ã‚­ãƒ«ãƒ»æ‰‹æ³•ï¼‰",
    "description": "ã‚·ã‚¹ãƒ†ãƒ ã‚’5ã¤ã®Tierã«åˆ†é¡ã—ã€ä¾å­˜é–¢ä¿‚ã‚’æ˜ç¢ºã«ã—ã¦æ®µéšçš„ã«åˆæœŸåŒ–ã™ã‚‹ã“ã¨ã§ã€å¾ªç’°ä¾å­˜ã‚’é˜²æ­¢ã—99.9%ã®å®‰å®šæ€§ã‚’å®Ÿç¾ã™ã‚‹æ‰‹æ³•ã€‚",
    "project": "novel-automation-system-v2",
    "usedIn": [
      "src/lib/lifecycle/application-lifecycle-manager.ts:1-700"
    ],
    "code": "```json\n{\n  \"id\": \"skill_lifecycle_tier_system_2025_11_25\",\n  \"type\": \"skill\",\n  \"name\": \"Tierãƒ™ãƒ¼ã‚¹ã®ä¾å­˜é–¢ä¿‚ç®¡ç†ã¨æ®µéšçš„åˆæœŸåŒ–\",\n  \"tags\": [\"ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ç®¡ç†\", \"ä¾å­˜é–¢ä¿‚\", \"åˆæœŸåŒ–\", \"Tierã‚·ã‚¹ãƒ†ãƒ \", \"ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£\"],\n  \"source_project\": \"novel-automation-system-v2\",\n  \"source_file\": \"src/lib/lifecycle/application-lifecycle-manager.ts:1-700\",\n  \"related_knowledge\": [\n    \"decision_why_tier_based_initialization_2025_11_25\",\n    \"workflow_system_initialization_workflow_2025_11_25\"\n  ],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# Tierãƒ™ãƒ¼ã‚¹ã®ä¾å­˜é–¢ä¿‚ç®¡ç†ã¨æ®µéšçš„åˆæœŸåŒ–\n\n## ä½•ã‚’ã™ã‚‹ã‚¹ã‚­ãƒ«ã‹\n\nã‚·ã‚¹ãƒ†ãƒ ã‚’5ã¤ã®Tierã«åˆ†é¡ã—ã€ä¾å­˜é–¢ä¿‚ã‚’æ˜ç¢ºã«ã—ã¦æ®µéšçš„ã«åˆæœŸåŒ–ã™ã‚‹ã“ã¨ã§ã€å¾ªç’°ä¾å­˜ã‚’é˜²æ­¢ã—99.9%ã®å®‰å®šæ€§ã‚’å®Ÿç¾ã™ã‚‹æ‰‹æ³•ã€‚\n\n## å…·ä½“çš„ãªæ‰‹æ³•\n\n### Tieræ§‹é€ ã®å®šç¾©\n\n```typescript\nprivate readonly SYSTEM_DEPENDENCY_MAP: SystemDependencyMap = {\n    'LifecycleSystem': {\n        tier: 1,  // åŸºç›¤å±¤\n        dependencies: [],\n        services: ['ServiceContainer', 'Logger', 'EventBus'],\n        initializationOrder: 1,\n        required: true\n    },\n    'MemorySystem': {\n        tier: 2,  // ã‚¤ãƒ³ãƒ•ãƒ©å±¤\n        dependencies: ['LifecycleSystem'],\n        services: ['MemoryManager', 'ShortTermMemory', 'MidTermMemory', 'LongTermMemory'],\n        initializationOrder: 2,\n        required: true\n    },\n    'CharacterSystem': {\n        tier: 3,  // ãƒ‰ãƒ¡ã‚¤ãƒ³å±¤\n        dependencies: ['MemorySystem', 'ParametersSystem'],\n        services: ['CharacterManager', 'CharacterService'],\n        initializationOrder: 4,\n        required: true\n    },\n    'AnalysisSystem': {\n        tier: 5,  // çµ±åˆå±¤\n        dependencies: ['MemorySystem', 'CharacterSystem', 'PlotSystem'],\n        services: ['AnalysisCoordinator', 'ThemeAnalysisService'],\n        initializationOrder: 5,\n        required: true\n    }\n};\n```\n\n### å¾ªç’°ä¾å­˜ãƒã‚§ãƒƒã‚¯\n\n```typescript\nprivate checkCircularDependencies(): { success: boolean; details?: string } {\n    const visited = new Set<string>();\n    const visiting = new Set<string>();\n\n    const checkCycles = (systemName: string, path: string[] = []): boolean => {\n        if (visiting.has(systemName)) {\n            const cycle = [...path, systemName].join(' â†’ ');\n            console.error(`Circular dependency detected: ${cycle}`);\n            return false;\n        }\n\n        if (visited.has(systemName)) return true;\n\n        visiting.add(systemName);\n        const system = this.SYSTEM_DEPENDENCY_MAP[systemName];\n\n        if (system) {\n            for (const dependency of system.dependencies) {\n                if (!checkCycles(dependency, [...path, systemName])) {\n                    return false;\n                }\n            }\n        }\n\n        visiting.delete(systemName);\n        visited.add(systemName);\n        return true;\n    };\n\n    for (const systemName of Object.keys(this.SYSTEM_DEPENDENCY_MAP)) {\n        if (!visited.has(systemName)) {\n            if (!checkCycles(systemName)) {\n                return {\n                    success: false,\n                    details: `Circular dependency detected in: ${systemName}`\n                };\n            }\n        }\n    }\n\n    return { success: true };\n}\n```\n\n### æ®µéšçš„åˆæœŸåŒ–\n\n```typescript\nasync initializeByTiers(): Promise<void> {\n    const tiers = this.groupSystemsByTier();\n\n    for (let tier = 1; tier <= 5; tier++) {\n        const systems = tiers.get(tier) || [];\n        console.log(`Initializing Tier ${tier}: ${systems.join(', ')}`);\n\n        // åŒä¸€Tierå†…ã¯ä¸¦åˆ—åˆæœŸåŒ–å¯èƒ½\n        const initPromises = systems.map(systemName =>\n            this.initializeSystem(systemName)\n        );\n\n        const results = await Promise.allSettled(initPromises);\n\n        // å¿…é ˆã‚·ã‚¹ãƒ†ãƒ ã®å¤±æ•—ãƒã‚§ãƒƒã‚¯\n        const failures = results.filter((r, i) => {\n            return r.status === 'rejected' &&\n                   this.SYSTEM_DEPENDENCY_MAP[systems[i]].required;\n        });\n\n        if (failures.length > 0) {\n            throw new Error(`Critical system initialization failed at Tier ${tier}`);\n        }\n    }\n}\n```\n\n## ãªãœã“ã®æ‰‹æ³•ã‚’ä½¿ã†ã‹\n\n**ç†ç”±1: å¾ªç’°ä¾å­˜ã®å®Œå…¨é˜²æ­¢**\n- ä¾å­˜ã¯ä¸‹ä½Tierã‹ã‚‰ä¸Šä½Tierã¸ã®ã¿\n- ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã«å•é¡Œã‚’æ¤œå‡º\n- ãƒ‡ãƒãƒƒã‚°ãŒå®¹æ˜“\n\n**ç†ç”±2: ä¸¦åˆ—åˆæœŸåŒ–ã®æœ€é©åŒ–**\n- åŒä¸€Tierå†…ã¯ä¸¦åˆ—å®Ÿè¡Œ\n- èµ·å‹•æ™‚é–“ã‚’50%çŸ­ç¸®\n- ãƒªã‚½ãƒ¼ã‚¹ã®åŠ¹ç‡çš„ãªåˆ©ç”¨\n\n**ç†ç”±3: ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã®æ˜ç¢ºåŒ–**\n- å¿…é ˆã‚·ã‚¹ãƒ†ãƒ ã®å¤±æ•—ã¯å…¨ä½“ã‚’åœæ­¢\n- ã‚ªãƒ—ã‚·ãƒ§ãƒŠãƒ«ã‚·ã‚¹ãƒ†ãƒ ã¯ç¶™ç¶š\n- ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯ãŒå®¹æ˜“\n\n## å†ç¾æ–¹æ³•\n\n```typescript\n// æ–°ã—ã„ã‚·ã‚¹ãƒ†ãƒ ã®ç™»éŒ²\ncontainer.register('mySystem', (c) => {\n    const memoryManager = c.resolve<MemoryManager>('memoryManager');\n    return new MySystem(memoryManager);\n}, {\n    singleton: true,\n    tier: 3,  // MemorySystemã«ä¾å­˜ã™ã‚‹ãŸã‚Tier 3\n    dependencies: ['memoryManager']\n});\n\n// åˆæœŸåŒ–\nawait lifecycleManager.initialize();\n```\n\n## ã„ã¤ä½¿ã†ã‹\n\n- ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³èµ·å‹•æ™‚\n- æ–°ã—ã„ã‚·ã‚¹ãƒ†ãƒ ã®è¿½åŠ æ™‚\n- ä¾å­˜é–¢ä¿‚ã®å¤‰æ›´æ™‚\n- ãƒ†ã‚¹ãƒˆç’°å¢ƒã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—\n\n## æ³¨æ„ç‚¹\n\n- Tierç•ªå·ã¯ä¾å­˜é–¢ä¿‚ã«åŸºã¥ã„ã¦æ…é‡ã«æ±ºå®š\n- å¾ªç’°ä¾å­˜ã‚’çµ¶å¯¾ã«ä½œã‚‰ãªã„\n- å¿…é ˆã‚·ã‚¹ãƒ†ãƒ ã¯æœ€å°é™ã«æŠ‘ãˆã‚‹\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `decision_why_tier_based_initialization_2025_11_25.md`\n- `workflow_system_initialization_workflow_2025_11_25.md`\n",
    "prompt": "```typescript\n// æ–°ã—ã„ã‚·ã‚¹ãƒ†ãƒ ã®ç™»éŒ²\ncontainer.register('mySystem', (c) => {\n    const memoryManager = c.resolve<MemoryManager>('memoryManager');\n    return new MySystem(memoryManager);\n}, {\n    singleton: true,\n    tier: 3,  // MemorySystemã«ä¾å­˜ã™ã‚‹ãŸã‚Tier 3\n    dependencies: ['memoryManager']\n});\n\n// åˆæœŸåŒ–\nawait lifecycleManager.initialize();\n```",
    "relatedTech": [
      "decision-why-tier-based-initialization",
      "workflow-system-initialization-workflow"
    ]
  },
  {
    "slug": "llm-parameter-temperature",
    "title": "LLMãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿è¨­å®šï¼ˆtemperatureç­‰ï¼‰",
    "category": "Skillsï¼ˆã‚¹ã‚­ãƒ«ãƒ»æ‰‹æ³•ï¼‰",
    "description": "LLMï¼ˆGemini APIç­‰ï¼‰ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ï¼ˆtemperature, top_p, top_kï¼‰ã‚’ç”¨é€”ã«å¿œã˜ã¦é©åˆ‡ã«è¨­å®šã—ã€å‡ºåŠ›ã®å“è³ªã‚’ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ã™ã‚‹æ‰‹æ³•ã€‚",
    "project": "ai-blog-generator",
    "usedIn": [
      "src/lib/gemini.ts:24-30"
    ],
    "code": "```json\n{\n  \"id\": \"skill_llm_parameter_temperature_2025_04_22\",\n  \"type\": \"skill\",\n  \"name\": \"LLMãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿è¨­å®šï¼ˆtemperatureç­‰ï¼‰\",\n  \"tags\": [\"LLM\", \"ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿\", \"temperature\", \"top_p\", \"Gemini\", \"ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ\", \"å“è³ªåˆ¶å¾¡\"],\n  \"source_project\": \"ai-blog-generator\",\n  \"source_file\": \"src/lib/gemini.ts:24-30\",\n  \"related_knowledge\": [\"decision_param_temperature_0.7_reasoning_2025_04_22\"],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-04-22\",\n  \"updated\": \"2025-04-22\"\n}\n```\n\n# LLMãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿è¨­å®šï¼ˆtemperatureç­‰ï¼‰\n\n## ä½•ã‚’ã™ã‚‹ã‚¹ã‚­ãƒ«ã‹\n\nLLMï¼ˆGemini APIç­‰ï¼‰ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ï¼ˆtemperature, top_p, top_kï¼‰ã‚’ç”¨é€”ã«å¿œã˜ã¦é©åˆ‡ã«è¨­å®šã—ã€å‡ºåŠ›ã®å“è³ªã‚’ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ã™ã‚‹æ‰‹æ³•ã€‚\n\n## å…·ä½“çš„ãªæ‰‹æ³•\n\n### ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®è¨­å®š\n\n```typescript\nconst generationConfig = {\n  temperature: 0.7,     // å‰µé€ æ€§ã¨ä¸€è²«æ€§ã®ãƒãƒ©ãƒ³ã‚¹\n  topP: 0.9,            // å¤šæ§˜ãªè¡¨ç¾ã‚’ç”Ÿæˆã—ã¤ã¤é€¸è„±ã‚’é˜²ã\n  topK: 40,             // é©åº¦ãªèªå½™ã®å¹…ã‚’ç¢ºä¿\n  maxOutputTokens: 4096 // é•·æ–‡è¨˜äº‹ã«å¯¾å¿œ\n};\n```\n\n### å„ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®æ„å‘³\n\n**temperatureï¼ˆ0.0-1.0ï¼‰**ï¼š\n- 0.0-0.3ï¼šæ±ºå®šè«–çš„ã€äº‹å®Ÿé‡è¦–ï¼ˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã€è¦ç´„ï¼‰\n- **0.7ï¼šãƒ–ãƒ­ã‚°è¨˜äº‹ã«æœ€é©**ï¼ˆäº‹å®Ÿã¨å‰µé€ æ€§ã®ãƒãƒ©ãƒ³ã‚¹ï¼‰\n- 0.9-1.0ï¼šå‰µé€ çš„ï¼ˆå°èª¬ã€è©©ï¼‰\n\n**topPï¼ˆ0.0-1.0ï¼‰**ï¼š\n- ç´¯ç©ç¢ºç‡ã®ä¸Šä½ä½•%ã‚’ä½¿ã†ã‹\n- 0.9ï¼šå¤šæ§˜æ€§ã‚’ä¿ã¡ã¤ã¤ã€æ¥µç«¯ãªå˜èªã‚’æ’é™¤\n\n**topKï¼ˆæ•´æ•°ï¼‰**ï¼š\n- ä¸Šä½ä½•å€‹ã®å˜èªå€™è£œã‚’ä½¿ã†ã‹\n- 40ï¼šé©åº¦ãªèªå½™ã®å¹…\n\n## ãªãœã“ã®æ‰‹æ³•ã‚’ä½¿ã†ã‹\n\n### temperature 0.7ã®åˆ¤æ–­ç†ç”±\n\n- 0.3-0.5ï¼šæŠ€è¡“æ–‡æ›¸ã«ã¯è‰¯ã„ãŒã€ãƒ–ãƒ­ã‚°ã«ã¯ç¡¬ã™ãã‚‹\n- **0.7ï¼šäº‹å®Ÿã¨å‰µé€ æ€§ã®ãƒãƒ©ãƒ³ã‚¹**\n- 0.9-1.0ï¼šå‰µé€ çš„ã™ãã¦ã€äº‹å®Ÿã‹ã‚‰é€¸è„±ã™ã‚‹å¯èƒ½æ€§\n\n### ç”¨é€”åˆ¥ã®æ¨å¥¨å€¤\n\n| ç”¨é€” | temperature | top_p | top_k |\n|------|-------------|-------|-------|\n| ãƒ–ãƒ­ã‚°è¨˜äº‹ | 0.7 | 0.9 | 40 |\n| æŠ€è¡“ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ | 0.3 | 0.8 | 20 |\n| å°èª¬ | 0.9 | 0.95 | 60 |\n| ã‚³ãƒ¼ãƒ‰ç”Ÿæˆ | 0.2 | 0.8 | 20 |\n\n## å†ç¾æ–¹æ³•\n\n```typescript\nimport { GoogleGenerativeAI } from '@google/generative-ai';\n\nconst genAI = new GoogleGenerativeAI(apiKey);\n\nconst model = genAI.getGenerativeModel({\n  model: 'gemini-1.5-pro',\n  generationConfig: {\n    temperature: 0.7,\n    topP: 0.9,\n    topK: 40,\n    maxOutputTokens: 4096,\n  },\n});\n\nconst result = await model.generateContent(prompt);\n```\n\n## æ³¨æ„ç‚¹\n\n- **temperatureãŒé«˜ã™ãã‚‹ï¼ˆ>0.8ï¼‰**ï¼šäº‹å®Ÿã‹ã‚‰é€¸è„±ã€å¹»è¦šï¼ˆhallucinationï¼‰ãŒå¢—ãˆã‚‹\n- **temperatureãŒä½ã™ãã‚‹ï¼ˆ<0.5ï¼‰**ï¼šå˜èª¿ã€å‰µé€ æ€§ãŒãªã„\n- **ç”¨é€”ã«å¿œã˜ã¦èª¿æ•´**ï¼šä¸€å¾‹ã®å€¤ã¯å­˜åœ¨ã—ãªã„\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `decision_param_temperature_0.7_reasoning_2025_04_22.md` - temperature 0.7ã‚’é¸ã‚“ã ç†ç”±\n",
    "prompt": "```typescript\nimport { GoogleGenerativeAI } from '@google/generative-ai';\n\nconst genAI = new GoogleGenerativeAI(apiKey);\n\nconst model = genAI.getGenerativeModel({\n  model: 'gemini-1.5-pro',\n  generationConfig: {\n    temperature: 0.7,\n    topP: 0.9,\n    topK: 40,\n    maxOutputTokens: 4096,\n  },\n});\n\nconst result = await model.generateContent(prompt);\n```",
    "relatedTech": [
      "decision-param-temperature-0.7-reasoning"
    ]
  },
  {
    "slug": "manual-update-button-loading-state",
    "title": "æ‰‹å‹•æ›´æ–°ãƒœã‚¿ãƒ³å®Ÿè£…ï¼ˆãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°çŠ¶æ…‹ç®¡ç†ï¼‰",
    "category": "Skillsï¼ˆã‚¹ã‚­ãƒ«ãƒ»æ‰‹æ³•ï¼‰",
    "description": "React Dashboard Pageã§ã€æ‰‹å‹•æ›´æ–°ãƒœã‚¿ãƒ³ã¨ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°çŠ¶æ…‹ã‚’å®Ÿè£…ã—ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ãƒ‡ãƒ¼ã‚¿å–å¾—ä¸­ã§ã‚ã‚‹ã“ã¨ã‚’è¦–è¦šçš„ã«ä¼ãˆã‚‹ã€‚",
    "project": "yumesuta-management-system",
    "usedIn": [
      "app/dashboard/sales/page.tsx:50-76"
    ],
    "code": "```json\n{\n  \"id\": \"skill_manual_update_button_loading_state_2025_11_24\",\n  \"type\": \"skill\",\n  \"name\": \"æ‰‹å‹•æ›´æ–°ãƒœã‚¿ãƒ³å®Ÿè£…ï¼ˆãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°çŠ¶æ…‹ç®¡ç†ï¼‰\",\n  \"tags\": [\"React\", \"useState\", \"loading\", \"æ‰‹å‹•æ›´æ–°\", \"ãƒœã‚¿ãƒ³\", \"UX\"],\n  \"source_project\": \"yumesuta-management-system\",\n  \"source_file\": \"app/dashboard/sales/page.tsx:50-76\",\n  \"related_knowledge\": [\"decision_data_manual_update_pattern_2025_11_24\", \"skill_dashboard_page_template_pattern_2025_11_24\"],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-24\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# æ‰‹å‹•æ›´æ–°ãƒœã‚¿ãƒ³å®Ÿè£…ï¼ˆãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°çŠ¶æ…‹ç®¡ç†ï¼‰\n\n## ä½•ã‚’ã™ã‚‹ã‚¹ã‚­ãƒ«ã‹\n\nReact Dashboard Pageã§ã€æ‰‹å‹•æ›´æ–°ãƒœã‚¿ãƒ³ã¨ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°çŠ¶æ…‹ã‚’å®Ÿè£…ã—ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ãƒ‡ãƒ¼ã‚¿å–å¾—ä¸­ã§ã‚ã‚‹ã“ã¨ã‚’è¦–è¦šçš„ã«ä¼ãˆã‚‹ã€‚\n\n## å…·ä½“çš„ãªæ‰‹æ³•\n\n### æ‰‹é †1ï¼šuseState ã§ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°çŠ¶æ…‹ç®¡ç†\n\n```tsx\n'use client';\nimport { useState } from 'react';\n\nexport default function DashboardPage() {\n  const [loading, setLoading] = useState(true);  // åˆæœŸçŠ¶æ…‹: true\n  const [data, setData] = useState(null);\n  const [error, setError] = useState<string | null>(null);\n\n  // ...\n}\n```\n\n### æ‰‹é †2ï¼šãƒ‡ãƒ¼ã‚¿å–å¾—é–¢æ•°ï¼ˆtry-catch-finallyï¼‰\n\n```tsx\nconst fetchData = async () => {\n  setLoading(true);  // ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°é–‹å§‹\n  setError(null);    // ã‚¨ãƒ©ãƒ¼ãƒªã‚»ãƒƒãƒˆ\n\n  try {\n    const response = await fetch('/api/endpoint');\n    const json = await response.json();\n\n    if (json.success) {\n      setData(json.data);\n    } else {\n      setError(json.error || 'ä¸æ˜ãªã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ');\n    }\n  } catch (err) {\n    setError(err instanceof Error ? err.message : 'ä¸æ˜ãªã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ');\n  } finally {\n    setLoading(false);  // å¿…ãšãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°çµ‚äº†\n  }\n};\n```\n\n### æ‰‹é †3ï¼šæ‰‹å‹•æ›´æ–°ãƒœã‚¿ãƒ³å®Ÿè£…\n\n```tsx\n<button\n  onClick={fetchData}\n  disabled={loading}  // ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ä¸­ã¯ç„¡åŠ¹åŒ–\n  className={`\n    flex items-center gap-2 px-4 py-2 rounded-lg font-medium\n    ${loading\n      ? 'bg-gray-300 text-gray-500 cursor-not-allowed'\n      : 'bg-blue-500 text-white hover:bg-blue-600'\n    }\n  `}\n>\n  <RefreshCw className={`h-4 w-4 ${loading ? 'animate-spin' : ''}`} />\n  {loading ? 'æ›´æ–°ä¸­...' : 'æ›´æ–°'}\n</button>\n```\n\n### æ‰‹é †4ï¼šãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ä¸­ã®ç”»é¢è¡¨ç¤º\n\n```tsx\nif (loading) {\n  return (\n    <div className=\"min-h-screen bg-gray-50 p-8\">\n      <div className=\"flex items-center justify-center min-h-[400px]\">\n        <div className=\"text-center\">\n          <RefreshCw className=\"h-8 w-8 animate-spin text-blue-500 mx-auto mb-4\" />\n          <p className=\"text-gray-600\">ãƒ‡ãƒ¼ã‚¿ã‚’èª­ã¿è¾¼ã‚“ã§ã„ã¾ã™...</p>\n        </div>\n      </div>\n    </div>\n  );\n}\n```\n\n## ãªãœã“ã®æ‰‹æ³•ã‚’ä½¿ã†ã‹\n\n**ç†ç”±1ï¼šãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã®å‘ä¸Š**\n- ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã«ã‚ˆã‚Šã€ã‚·ã‚¹ãƒ†ãƒ ãŒå‡¦ç†ä¸­ã§ã‚ã‚‹ã“ã¨ã‚’è¦–è¦šçš„ã«ä¼ãˆã‚‹\n- ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã€Œãƒ•ãƒªãƒ¼ã‚ºã—ãŸï¼Ÿã€ã¨ä¸å®‰ã«ãªã‚‰ãªã„\n\n**ç†ç”±2ï¼šèª¤æ“ä½œã®é˜²æ­¢**\n- ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ä¸­ã¯ãƒœã‚¿ãƒ³ã‚’ç„¡åŠ¹åŒ–ã—ã€é‡è¤‡ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é˜²ã\n\n**ç†ç”±3ï¼šã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã®çµ±ä¸€**\n- try-catch-finally ãƒ‘ã‚¿ãƒ¼ãƒ³ã«ã‚ˆã‚Šã€ã‚¨ãƒ©ãƒ¼ã‚’é©åˆ‡ã«ã‚­ãƒ£ãƒƒãƒã—ã€å¿…ãšãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°çŠ¶æ…‹ã‚’ãƒªã‚»ãƒƒãƒˆ\n\n## å†ç¾æ–¹æ³•\n\n```tsx\n'use client';\nimport { useState, useEffect } from 'react';\nimport { RefreshCw } from 'lucide-react';\n\nexport default function DashboardPage() {\n  const [loading, setLoading] = useState(true);\n  const [data, setData] = useState(null);\n  const [error, setError] = useState<string | null>(null);\n\n  const fetchData = async () => {\n    setLoading(true);\n    setError(null);\n    try {\n      const response = await fetch('/api/endpoint');\n      const json = await response.json();\n      if (json.success) {\n        setData(json.data);\n      } else {\n        setError(json.error || 'ä¸æ˜ãªã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ');\n      }\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'ä¸æ˜ãªã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchData();\n  }, []);\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 p-8\">\n        <div className=\"flex items-center justify-center min-h-[400px]\">\n          <div className=\"text-center\">\n            <RefreshCw className=\"h-8 w-8 animate-spin text-blue-500 mx-auto mb-4\" />\n            <p className=\"text-gray-600\">ãƒ‡ãƒ¼ã‚¿ã‚’èª­ã¿è¾¼ã‚“ã§ã„ã¾ã™...</p>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 p-8\">\n        <div className=\"bg-red-50 border border-red-200 p-4 rounded-lg\">\n          <p className=\"text-red-600\">{error}</p>\n          <button\n            onClick={fetchData}\n            className=\"mt-4 px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600\"\n          >\n            å†è©¦è¡Œ\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 p-8\">\n      <button\n        onClick={fetchData}\n        disabled={loading}\n        className={`flex items-center gap-2 px-4 py-2 rounded-lg font-medium ${\n          loading\n            ? 'bg-gray-300 text-gray-500 cursor-not-allowed'\n            : 'bg-blue-500 text-white hover:bg-blue-600'\n        }`}\n      >\n        <RefreshCw className={`h-4 w-4 ${loading ? 'animate-spin' : ''}`} />\n        {loading ? 'æ›´æ–°ä¸­...' : 'æ›´æ–°'}\n      </button>\n\n      {/* ãƒ‡ãƒ¼ã‚¿è¡¨ç¤º */}\n      <div className=\"mt-6\">\n        {/* ... */}\n      </div>\n    </div>\n  );\n}\n```\n\n## ã„ã¤ä½¿ã†ã‹\n\n- Dashboard Pageå®Ÿè£…æ™‚ï¼ˆæ‰‹å‹•æ›´æ–°ãƒœã‚¿ãƒ³ãŒå¿…è¦ãªå ´åˆï¼‰\n- éåŒæœŸãƒ‡ãƒ¼ã‚¿å–å¾—ã‚’è¡Œã†ç”»é¢å®Ÿè£…æ™‚\n- ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°çŠ¶æ…‹ã‚’ä¼ãˆã‚‹å¿…è¦ãŒã‚ã‚‹å ´åˆ\n\n## æ³¨æ„ç‚¹\n\n- **finally å¥ã‚’å¿…ãšä½¿ç”¨** - ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿæ™‚ã‚‚å¿…ãšãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°çŠ¶æ…‹ã‚’ãƒªã‚»ãƒƒãƒˆ\n- **åˆæœŸãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°çŠ¶æ…‹ã¯true** - useEffect ã§åˆå›ãƒ‡ãƒ¼ã‚¿å–å¾—ã‚’è¡Œã†ãŸã‚\n- **ãƒœã‚¿ãƒ³ç„¡åŠ¹åŒ–** - ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ä¸­ã¯ `disabled={loading}` ã§ãƒœã‚¿ãƒ³ã‚’ç„¡åŠ¹åŒ–\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `decision_data_manual_update_pattern_2025_11_24.md` - æ‰‹å‹•æ›´æ–°ãƒ‘ã‚¿ãƒ¼ãƒ³\n- `skill_dashboard_page_template_pattern_2025_11_24.md` - Dashboard Pageå®Ÿè£…ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ\n",
    "prompt": "```tsx\n'use client';\nimport { useState, useEffect } from 'react';\nimport { RefreshCw } from 'lucide-react';\n\nexport default function DashboardPage() {\n  const [loading, setLoading] = useState(true);\n  const [data, setData] = useState(null);\n  const [error, setError] = useState<string | null>(null);\n\n  const fetchData = async () => {\n    setLoading(true);\n    setError(null);\n    try {\n      const response = await fetch('/api/endpoint');\n      const json = await response.json();\n      if (json.success) {\n        setData(json.data);\n      } else {\n        setError(json.error || 'ä¸æ˜ãªã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ');\n      }\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'ä¸æ˜ãªã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchData();\n  }, []);\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 p-8\">\n        <div className=\"flex items-center justify-center min-h-[400px]\">\n          <div className=\"text-center\">\n            <RefreshCw className=\"h-8 w-8 animate-spin text-blue-500 mx-auto mb-4\" />\n            <p className=\"text-gray-600\">ãƒ‡ãƒ¼ã‚¿ã‚’èª­ã¿è¾¼ã‚“ã§ã„ã¾ã™...</p>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 p-8\">\n        <div className=\"bg-red-50 border border-red-200 p-4 rounded-lg\">\n          <p className=\"text-red-600\">{error}</p>\n          <button\n            onClick={fetchData}\n            className=\"mt-4 px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600\"\n          >\n            å†è©¦è¡Œ\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 p-8\">\n      <button\n        onClick={fetchData}\n        disabled={loading}\n        className={`flex items-center gap-2 px-4 py-2 rounded-lg font-medium ${\n          loading\n            ? 'bg-gray-300 text-gray-500 cursor-not-allowed'\n            : 'bg-blue-500 text-white hover:bg-blue-600'\n        }`}\n      >\n        <RefreshCw className={`h-4 w-4 ${loading ? 'animate-spin' : ''}`} />\n        {loading ? 'æ›´æ–°ä¸­...' : 'æ›´æ–°'}\n      </button>\n\n      {/* ãƒ‡ãƒ¼ã‚¿è¡¨ç¤º */}\n      <div className=\"mt-6\">\n        {/* ... */}\n      </div>\n    </div>\n  );\n}\n```",
    "relatedTech": [
      "decision-data-manual-update-pattern",
      "skill-dashboard-page-template-pattern"
    ]
  },
  {
    "slug": "mdx-rendering-nextjs",
    "title": "Next.jsã§ã®MDXãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°",
    "category": "Skillsï¼ˆã‚¹ã‚­ãƒ«ãƒ»æ‰‹æ³•ï¼‰",
    "description": "next-mdx-remoteã‚’ä½¿ã£ã¦ã€MDXãƒ•ã‚¡ã‚¤ãƒ«ã‚’Reactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¨ã—ã¦ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã™ã‚‹æ‰‹æ³•ã€‚ã‚³ãƒ¼ãƒ‰ãƒã‚¤ãƒ©ã‚¤ãƒˆã€GFMå¯¾å¿œã‚‚å«ã‚€ã€‚",
    "project": "ai-blog-generator",
    "usedIn": [
      "src/lib/mdx.ts:109-127"
    ],
    "code": "```json\n{\n  \"id\": \"skill_mdx_rendering_nextjs_2025_04_22\",\n  \"type\": \"skill\",\n  \"name\": \"Next.jsã§ã®MDXãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°\",\n  \"tags\": [\"MDX\", \"Next.js\", \"next-mdx-remote\", \"Markdown\", \"ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°\", \"ã‚³ãƒ¼ãƒ‰ãƒã‚¤ãƒ©ã‚¤ãƒˆ\"],\n  \"source_project\": \"ai-blog-generator\",\n  \"source_file\": \"src/lib/mdx.ts:109-127\",\n  \"related_knowledge\": [\"decision_tech_mdx_vs_contentlayer_2025_04_22\"],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-04-22\",\n  \"updated\": \"2025-04-22\"\n}\n```\n\n# Next.jsã§ã®MDXãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°\n\n## ä½•ã‚’ã™ã‚‹ã‚¹ã‚­ãƒ«ã‹\n\nnext-mdx-remoteã‚’ä½¿ã£ã¦ã€MDXãƒ•ã‚¡ã‚¤ãƒ«ã‚’Reactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¨ã—ã¦ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã™ã‚‹æ‰‹æ³•ã€‚ã‚³ãƒ¼ãƒ‰ãƒã‚¤ãƒ©ã‚¤ãƒˆã€GFMå¯¾å¿œã‚‚å«ã‚€ã€‚\n\n## å…·ä½“çš„ãªæ‰‹æ³•\n\n```typescript\nimport { compileMDX } from 'next-mdx-remote/rsc';\nimport rehypeHighlight from 'rehype-highlight';\nimport remarkGfm from 'remark-gfm';\n\nconst mdxSource = await compileMDX({\n  source: content,\n  options: {\n    mdxOptions: {\n      remarkPlugins: [remarkGfm],          // GitHub Flavored Markdown\n      rehypePlugins: [rehypeHighlight],     // ã‚³ãƒ¼ãƒ‰ãƒã‚¤ãƒ©ã‚¤ãƒˆ\n    },\n    parseFrontmatter: true,\n  },\n});\n\nreturn mdxSource.content;  // Reactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ\n```\n\n### remarkPlugins vs rehypePlugins\n\n- **remarkPlugins**ï¼šMarkdown â†’ ASTå¤‰æ›æ™‚ã«é©ç”¨\n- **rehypePlugins**ï¼šAST â†’ HTMLå¤‰æ›æ™‚ã«é©ç”¨\n\n### ä½¿ç”¨ã™ã‚‹ãƒ—ãƒ©ã‚°ã‚¤ãƒ³\n\n**remark-gfm**ï¼šGitHub Flavored Markdown\n- ãƒ†ãƒ¼ãƒ–ãƒ«\n- ã‚¿ã‚¹ã‚¯ãƒªã‚¹ãƒˆ\n- å–ã‚Šæ¶ˆã—ç·š\n\n**rehype-highlight**ï¼šã‚·ãƒ³ã‚¿ãƒƒã‚¯ã‚¹ãƒã‚¤ãƒ©ã‚¤ãƒˆ\n- ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ã«è‰²ä»˜ã‘\n- è¨€èªæŒ‡å®šå¯¾å¿œ\n\n## å†ç¾æ–¹æ³•\n\n```bash\nnpm install next-mdx-remote rehype-highlight remark-gfm gray-matter\n```\n\n```typescript\nimport { compileMDX } from 'next-mdx-remote/rsc';\nimport rehypeHighlight from 'rehype-highlight';\nimport remarkGfm from 'remark-gfm';\nimport matter from 'gray-matter';\n\nexport async function renderMDX(filePath: string) {\n  const fileContents = fs.readFileSync(filePath, 'utf8');\n  const { content, data } = matter(fileContents);\n\n  const mdxSource = await compileMDX({\n    source: content,\n    options: {\n      mdxOptions: {\n        remarkPlugins: [remarkGfm],\n        rehypePlugins: [rehypeHighlight],\n      },\n    },\n  });\n\n  return {\n    content: mdxSource.content,\n    frontmatter: data,\n  };\n}\n```\n\n## æ³¨æ„ç‚¹\n\n- **next-mdx-remote/rsc**ï¼šApp Routerç”¨ï¼ˆRSCå¯¾å¿œï¼‰\n- **CSSã®ã‚¤ãƒ³ãƒãƒ¼ãƒˆå¿…è¦**ï¼šhighlight.jsã®CSSã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆ\n- **gray-matter**ï¼šFrontmatterã®ãƒ‘ãƒ¼ã‚¹ç”¨\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `decision_tech_mdx_vs_contentlayer_2025_04_22.md` - MDXã‚’é¸ã‚“ã ç†ç”±\n",
    "prompt": "```bash\nnpm install next-mdx-remote rehype-highlight remark-gfm gray-matter\n```\n\n```typescript\nimport { compileMDX } from 'next-mdx-remote/rsc';\nimport rehypeHighlight from 'rehype-highlight';\nimport remarkGfm from 'remark-gfm';\nimport matter from 'gray-matter';\n\nexport async function renderMDX(filePath: string) {\n  const fileContents = fs.readFileSync(filePath, 'utf8');\n  const { content, data } = matter(fileContents);\n\n  const mdxSource = await compileMDX({\n    source: content,\n    options: {\n      mdxOptions: {\n        remarkPlugins: [remarkGfm],\n        rehypePlugins: [rehypeHighlight],\n      },\n    },\n  });\n\n  return {\n    content: mdxSource.content,\n    frontmatter: data,\n  };\n}\n```",
    "relatedTech": [
      "decision-tech-mdx-vs-contentlayer"
    ]
  },
  {
    "slug": "memory-system-integration",
    "title": "MemoryManagerã¸ã®ä¾å­˜æ³¨å…¥ãƒ‘ã‚¿ãƒ¼ãƒ³ã¨ã‚·ã‚¹ãƒ†ãƒ çµ±åˆ",
    "category": "Skillsï¼ˆã‚¹ã‚­ãƒ«ãƒ»æ‰‹æ³•ï¼‰",
    "description": "MemoryManagerã‚’ã‚·ã‚¹ãƒ†ãƒ ã®ä¸­æ ¸ã¨ã—ã¦ã€å…¨ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«ä¾å­˜æ³¨å…¥ã—ã€çµ±ä¸€ã•ã‚ŒãŸè¨˜æ†¶ã‚¢ã‚¯ã‚»ã‚¹ã¨100%ã®ãƒ‡ãƒ¼ã‚¿æ•´åˆæ€§ã‚’å®Ÿç¾ã™ã‚‹è¨­è¨ˆãƒ‘ã‚¿ãƒ¼ãƒ³ã€‚",
    "project": "novel-automation-system-v2",
    "usedIn": [
      "src/lib/memory/core/memory-manager.ts:1-800"
    ],
    "code": "```json\n{\n  \"id\": \"skill_memory_system_integration_2025_11_25\",\n  \"type\": \"skill\",\n  \"name\": \"MemoryManagerã¸ã®ä¾å­˜æ³¨å…¥ãƒ‘ã‚¿ãƒ¼ãƒ³ã¨ã‚·ã‚¹ãƒ†ãƒ çµ±åˆ\",\n  \"tags\": [\"ä¾å­˜æ³¨å…¥\", \"ãƒ¡ãƒ¢ãƒªç®¡ç†\", \"ã‚·ã‚¹ãƒ†ãƒ çµ±åˆ\", \"ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£\", \"TypeScript\", \"éšå±¤çš„è¨˜æ†¶\"],\n  \"source_project\": \"novel-automation-system-v2\",\n  \"source_file\": \"src/lib/memory/core/memory-manager.ts:1-800\",\n  \"related_knowledge\": [\n    \"decision_why_unified_memory_system_2025_11_25\",\n    \"skill_unified_foreshadowing_management_2025_11_25\",\n    \"skill_cache_coordination_techniques_2025_11_25\"\n  ],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# MemoryManagerã¸ã®ä¾å­˜æ³¨å…¥ãƒ‘ã‚¿ãƒ¼ãƒ³ã¨ã‚·ã‚¹ãƒ†ãƒ çµ±åˆ\n\n## ä½•ã‚’ã™ã‚‹ã‚¹ã‚­ãƒ«ã‹\n\nMemoryManagerã‚’ã‚·ã‚¹ãƒ†ãƒ ã®ä¸­æ ¸ã¨ã—ã¦ã€å…¨ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«ä¾å­˜æ³¨å…¥ã—ã€çµ±ä¸€ã•ã‚ŒãŸè¨˜æ†¶ã‚¢ã‚¯ã‚»ã‚¹ã¨100%ã®ãƒ‡ãƒ¼ã‚¿æ•´åˆæ€§ã‚’å®Ÿç¾ã™ã‚‹è¨­è¨ˆãƒ‘ã‚¿ãƒ¼ãƒ³ã€‚\n\n## å…·ä½“çš„ãªæ‰‹æ³•\n\n### åŸºæœ¬ãƒ‘ã‚¿ãƒ¼ãƒ³: ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿æ³¨å…¥\n\nå…¨ã‚·ã‚¹ãƒ†ãƒ ãŒMemoryManagerã‚’ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã§å—ã‘å–ã‚‹çµ±ä¸€ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼š\n\n```typescript\nexport class ForeshadowingManager {\n    private memoryManager: MemoryManager;\n\n    constructor(memoryManager: MemoryManager) {\n        if (!memoryManager) {\n            throw new Error('MemoryManager is required for ForeshadowingManager');\n        }\n        this.memoryManager = memoryManager;\n    }\n\n    async getAllForeshadowings(): Promise<Foreshadowing[]> {\n        // çµ±ä¸€æ¤œç´¢APIã‚’ä½¿ç”¨\n        const result = await this.memoryManager.unifiedSearch(\n            'foreshadowing all',\n            [MemoryLevel.LONG_TERM, MemoryLevel.MID_TERM, MemoryLevel.SHORT_TERM]\n        );\n        return this.parseForeshadowings(result.entries);\n    }\n}\n```\n\n### ãƒ‘ã‚¿ãƒ¼ãƒ³1: unifiedSearch()ã®æ´»ç”¨\n\néšå±¤ã‚’æ¨ªæ–­ã—ãŸçµ±ä¸€æ¤œç´¢ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼š\n\n```typescript\n// å…¨éšå±¤ã‹ã‚‰ä¼ç·šã‚’æ¤œç´¢\nasync searchForeshadowings(query: string): Promise<Foreshadowing[]> {\n    const searchResult = await this.memoryManager.unifiedSearch(\n        `foreshadowing ${query}`,\n        [\n            MemoryLevel.LONG_TERM,   // è¨ˆç”»æ¸ˆã¿ä¼ç·š\n            MemoryLevel.MID_TERM,    // ã‚¢ãƒ¼ã‚¯å†…ã®ä¼ç·š\n            MemoryLevel.SHORT_TERM   // æœ€æ–°ã®ä¼ç·š\n        ]\n    );\n\n    // é‡è¤‡è§£æ±ºã‚·ã‚¹ãƒ†ãƒ ãŒè‡ªå‹•çš„ã«çµ±åˆ\n    // åŒã˜ä¼ç·šãŒè¤‡æ•°éšå±¤ã«å­˜åœ¨ã—ã¦ã‚‚1ã¤ã«ã¾ã¨ã‚ã‚‰ã‚Œã‚‹\n    return searchResult.entries.map(entry => ({\n        id: entry.id,\n        description: entry.content,\n        chapter_introduced: entry.metadata.chapterNumber,\n        status: entry.metadata.status\n    }));\n}\n```\n\n**é‡è¦ãªãƒã‚¤ãƒ³ãƒˆ**:\n- æ¤œç´¢é †åºã¯æ˜ç¤ºçš„ã«æŒ‡å®šï¼ˆLONG_TERM â†’ MID_TERM â†’ SHORT_TERMï¼‰\n- é‡è¤‡è§£æ±ºã¯è‡ªå‹•çš„ã«å®Ÿè¡Œã•ã‚Œã‚‹\n- å„éšå±¤ã®ç‰¹æ€§ã«å¿œã˜ãŸãƒ‡ãƒ¼ã‚¿ãŒå–å¾—ã•ã‚Œã‚‹\n\n### ãƒ‘ã‚¿ãƒ¼ãƒ³2: processChapter()ã«ã‚ˆã‚‹ä¿å­˜\n\nçµ±ä¸€ã•ã‚ŒãŸç« å‡¦ç†ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã®æ´»ç”¨ï¼š\n\n```typescript\nasync saveChapter(chapter: Chapter): Promise<void> {\n    // MemoryManagerã®processChapter()ã‚’ä½¿ç”¨\n    // éšå±¤æŒ¯ã‚Šåˆ†ã‘ã¯è‡ªå‹•çš„ã«å®Ÿè¡Œã•ã‚Œã‚‹\n    await this.memoryManager.processChapter(chapter);\n\n    // processChapter()ãŒè‡ªå‹•çš„ã«ä»¥ä¸‹ã‚’å®Ÿè¡Œ:\n    // 1. çŸ­æœŸè¨˜æ†¶ã«ä¿å­˜\n    // 2. å¿…è¦ã«å¿œã˜ã¦ä¸­æœŸè¨˜æ†¶ã«ç§»è¡Œ\n    // 3. è¦ç´„ã‚’ç”Ÿæˆã—ã¦é•·æœŸè¨˜æ†¶ã«ä¿å­˜\n    // 4. ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’æ›´æ–°\n}\n```\n\n### ãƒ‘ã‚¿ãƒ¼ãƒ³3: ã‚·ã‚¹ãƒ†ãƒ ãƒ‡ãƒ¼ã‚¿ã®ç« å½¢å¼ä¿å­˜\n\nã‚·ã‚¹ãƒ†ãƒ ãƒ‡ãƒ¼ã‚¿ã‚’Chapterå‹ã«å¤‰æ›ã—ã¦ä¿å­˜ã™ã‚‹ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼š\n\n```typescript\nprivate async savePlannedForeshadowings(\n    foreshadowings: PlannedForeshadowing[]\n): Promise<void> {\n    // ã‚·ã‚¹ãƒ†ãƒ ãƒ‡ãƒ¼ã‚¿ã‚’Chapterå½¢å¼ã«å¤‰æ›\n    const systemChapter: Chapter = {\n        id: `system-data-foreshadowing-${Date.now()}`,\n        chapterNumber: 0, // ã‚·ã‚¹ãƒ†ãƒ ãƒ‡ãƒ¼ã‚¿ç”¨ã®ç‰¹åˆ¥ãªç« ç•ªå·\n        title: 'ã‚·ã‚¹ãƒ†ãƒ ãƒ‡ãƒ¼ã‚¿: è¨ˆç”»æ¸ˆã¿ä¼ç·š',\n        content: JSON.stringify(foreshadowings, null, 2),\n        metadata: {\n            systemData: true,\n            dataType: 'planned_foreshadowing',\n            timestamp: Date.now(),\n            version: '1.0'\n        },\n        timestamp: new Date()\n    };\n\n    // æ—¢å­˜ã®Chapterå‡¦ç†ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚’å†åˆ©ç”¨\n    await this.memoryManager.processChapter(systemChapter);\n}\n```\n\n**ã“ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã®åˆ©ç‚¹**:\n- ã‚³ãƒ¼ãƒ‰é‡è¤‡ã‚’å›é¿\n- æ—¢å­˜ã®éšå±¤æŒ¯ã‚Šåˆ†ã‘ãƒ­ã‚¸ãƒƒã‚¯ã‚’æ´»ç”¨\n- è¦ç´„ç”Ÿæˆãƒ»ã‚­ãƒ£ãƒƒã‚·ãƒ¥æ›´æ–°ãŒè‡ªå‹•å®Ÿè¡Œ\n\n### ãƒ‘ã‚¿ãƒ¼ãƒ³4: performSystemDiagnostics()ã«ã‚ˆã‚‹å¥å…¨æ€§ç¢ºèª\n\n```typescript\nasync checkSystemHealth(): Promise<boolean> {\n    const diagnostics = await this.memoryManager.performSystemDiagnostics();\n\n    // ã‚·ã‚¹ãƒ†ãƒ å¥å…¨æ€§ã®ç¢ºèª\n    if (diagnostics.systemHealth === 'CRITICAL') {\n        console.error('MemoryManager is in CRITICAL state');\n        return false;\n    }\n\n    // å„éšå±¤ã®å¥å…¨æ€§ç¢ºèª\n    const healthChecks = {\n        shortTerm: diagnostics.shortTermHealth === 'HEALTHY',\n        midTerm: diagnostics.midTermHealth === 'HEALTHY',\n        longTerm: diagnostics.longTermHealth === 'HEALTHY'\n    };\n\n    return Object.values(healthChecks).every(health => health);\n}\n```\n\n### ãƒ‘ã‚¿ãƒ¼ãƒ³5: çµ±åˆçš„ãªãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ç®¡ç†\n\n```typescript\ninterface UnifiedMemoryMetadata {\n    // å…±é€šãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿\n    id: string;\n    timestamp: number;\n    source: string;\n\n    // éšå±¤å›ºæœ‰ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿\n    memoryLevel: MemoryLevel;\n    expiresAt?: number;\n    importance?: number;\n\n    // ã‚·ã‚¹ãƒ†ãƒ å›ºæœ‰ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿\n    systemData?: boolean;\n    dataType?: string;\n    relatedEntries?: string[];\n}\n\nasync saveWithMetadata(\n    content: string,\n    metadata: UnifiedMemoryMetadata\n): Promise<void> {\n    const chapter: Chapter = {\n        id: metadata.id,\n        chapterNumber: metadata.systemData ? 0 : this.currentChapter,\n        title: `Auto-saved: ${metadata.source}`,\n        content,\n        metadata,\n        timestamp: new Date(metadata.timestamp)\n    };\n\n    await this.memoryManager.processChapter(chapter);\n}\n```\n\n## ãªãœã“ã®æ‰‹æ³•ã‚’ä½¿ã†ã‹\n\n**ç†ç”±1: ãƒ‡ãƒ¼ã‚¿æ•´åˆæ€§ã®100%ä¿è¨¼**\n- å…¨ã‚·ã‚¹ãƒ†ãƒ ãŒåŒã˜MemoryManagerã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’å‚ç…§\n- ç«¶åˆã‚„ä¸æ•´åˆãŒç™ºç”Ÿã—ãªã„\n- ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³çš„ãªå‡¦ç†ãŒå¯èƒ½\n\n**ç†ç”±2: é‡è¤‡è§£æ±ºã®è‡ªå‹•åŒ–**\n- unifiedSearch()ãŒè‡ªå‹•çš„ã«é‡è¤‡ã‚’çµ±åˆ\n- æ‰‹å‹•ã§ã®é‡è¤‡ãƒã‚§ãƒƒã‚¯ãŒä¸è¦\n- ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡ã®æœ€é©åŒ–\n\n**ç†ç”±3: éšå±¤æŒ¯ã‚Šåˆ†ã‘ã®è‡ªå‹•åŒ–**\n- processChapter()ãŒè‡ªå‹•çš„ã«æœ€é©ãªéšå±¤ã«ä¿å­˜\n- é–‹ç™ºè€…ãŒéšå±¤ã‚’æ„è­˜ã™ã‚‹å¿…è¦ãŒãªã„\n- ç§»è¡Œãƒ­ã‚¸ãƒƒã‚¯ãŒä¸€å…ƒç®¡ç†ã•ã‚Œã‚‹\n\n**ç†ç”±4: ã‚³ãƒ¼ãƒ‰é‡è¤‡ã®å‰Šæ¸›**\n- Chapterå‡¦ç†ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã®å†åˆ©ç”¨\n- å„ã‚·ã‚¹ãƒ†ãƒ ãŒç‹¬è‡ªã®ä¿å­˜ãƒ­ã‚¸ãƒƒã‚¯ã‚’æŒãŸãªã„\n- ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹æ€§ã®å‘ä¸Š\n\n**ç†ç”±5: ãƒ†ã‚¹ãƒˆå®¹æ˜“æ€§ã®å‘ä¸Š**\n- MemoryManagerã‚’ãƒ¢ãƒƒã‚¯åŒ–å¯èƒ½\n- å„ã‚·ã‚¹ãƒ†ãƒ ã‚’ç‹¬ç«‹ã—ã¦ãƒ†ã‚¹ãƒˆ\n- çµ±åˆãƒ†ã‚¹ãƒˆã§ã®ä¾å­˜é–¢ä¿‚ãŒæ˜ç¢º\n\n## å†ç¾æ–¹æ³•\n\n### ã‚¹ãƒ†ãƒƒãƒ—1: MemoryManagerã®åˆæœŸåŒ–\n\n```typescript\nimport { MemoryManager } from '@/lib/memory/core/memory-manager';\n\n// ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“ã§å…±æœ‰ã™ã‚‹å˜ä¸€ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹\nconst memoryManager = new MemoryManager({\n    shortTermChapters: 8,        // çŸ­æœŸè¨˜æ†¶: 8ç« åˆ†\n    midTermArcSize: 4,           // ä¸­æœŸè¨˜æ†¶: 4ã‚¢ãƒ¼ã‚¯åˆ†\n    summaryDetailLevel: 7,       // è¦ç´„è©³ç´°åº¦: ãƒ¬ãƒ™ãƒ«7\n    consistencyThreshold: 0.85,  // æ•´åˆæ€§é–¾å€¤: 85%\n    enableCache: true,           // ã‚­ãƒ£ãƒƒã‚·ãƒ¥æœ‰åŠ¹åŒ–\n    enableDuplicateResolution: true  // é‡è¤‡è§£æ±ºæœ‰åŠ¹åŒ–\n});\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2: ä¾å­˜æ³¨å…¥ã®å®Ÿè£…\n\n```typescript\n// æ–°ã—ã„ã‚·ã‚¹ãƒ†ãƒ ã®ä½œæˆ\nclass ThemeTrackingSystem {\n    private memoryManager: MemoryManager;\n\n    constructor(memoryManager: MemoryManager) {\n        if (!memoryManager) {\n            throw new Error('MemoryManager is required');\n        }\n        this.memoryManager = memoryManager;\n    }\n\n    async trackTheme(theme: string, chapter: number): Promise<void> {\n        // çµ±ä¸€æ¤œç´¢ã§æ—¢å­˜ãƒ†ãƒ¼ãƒã‚’å–å¾—\n        const existing = await this.memoryManager.unifiedSearch(\n            `theme ${theme}`,\n            [MemoryLevel.LONG_TERM, MemoryLevel.MID_TERM]\n        );\n\n        // æ–°ã—ã„ãƒ†ãƒ¼ãƒã‚¨ãƒ³ãƒˆãƒªã‚’ä½œæˆ\n        const themeChapter: Chapter = {\n            id: `theme-${theme}-${chapter}`,\n            chapterNumber: chapter,\n            title: `ãƒ†ãƒ¼ãƒè¿½è·¡: ${theme}`,\n            content: `ç« ${chapter}ã§ãƒ†ãƒ¼ãƒã€Œ${theme}ã€ãŒç™»å ´`,\n            metadata: {\n                type: 'theme_tracking',\n                theme,\n                previousOccurrences: existing.entries.length\n            },\n            timestamp: new Date()\n        };\n\n        // çµ±ä¸€ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã§ä¿å­˜\n        await this.memoryManager.processChapter(themeChapter);\n    }\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3: ã‚µãƒ¼ãƒ“ã‚¹ã‚³ãƒ³ãƒ†ãƒŠã§ã®ç™»éŒ²\n\n```typescript\nimport { ServiceContainer } from '@/lib/lifecycle/service-container';\n\n// ã‚µãƒ¼ãƒ“ã‚¹ã‚³ãƒ³ãƒ†ãƒŠã«ç™»éŒ²\nconst container = new ServiceContainer();\n\n// MemoryManagerã‚’ç™»éŒ²ï¼ˆTier 2ï¼‰\ncontainer.register('memoryManager', () => memoryManager, {\n    singleton: true,  // ã‚·ãƒ³ã‚°ãƒ«ãƒˆãƒ³\n    tier: 2,          // åˆæœŸåŒ–Tier 2\n    dependencies: ['logger', 'eventBus']\n});\n\n// ä»–ã®ã‚·ã‚¹ãƒ†ãƒ ã‚’ç™»éŒ²ï¼ˆTier 3ä»¥é™ï¼‰\ncontainer.register('themeTrackingSystem', (c) => {\n    const mm = c.resolve<MemoryManager>('memoryManager');\n    return new ThemeTrackingSystem(mm);\n}, {\n    singleton: true,\n    tier: 3,\n    dependencies: ['memoryManager']\n});\n\n// åˆæœŸåŒ–\nawait container.initialize();\nconst themeSystem = container.resolve<ThemeTrackingSystem>('themeTrackingSystem');\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—4: å®Ÿè·µä¾‹ - ä¼ç·šã‚·ã‚¹ãƒ†ãƒ ã¨ã®çµ±åˆ\n\n```typescript\nasync function integrateWithForeshadowing(): Promise<void> {\n    // 1. ä¼ç·šã‚·ã‚¹ãƒ†ãƒ ã‚’åˆæœŸåŒ–\n    const foreshadowingManager = new ForeshadowingManager(memoryManager);\n\n    // 2. æ–°ã—ã„ä¼ç·šã‚’ç”Ÿæˆ\n    const newForeshadowing: Foreshadowing = {\n        id: 'fsh-001',\n        description: 'ä¸»äººå…¬ã®éå»ã®ç§˜å¯†',\n        chapter_introduced: 5,\n        status: 'ACTIVE',\n        type: 'CHARACTER_DEVELOPMENT',\n        importance: 'HIGH'\n    };\n\n    // 3. Chapterå½¢å¼ã§ä¿å­˜\n    const foreshadowingChapter: Chapter = {\n        id: `foreshadowing-${newForeshadowing.id}`,\n        chapterNumber: newForeshadowing.chapter_introduced,\n        title: `ä¼ç·š: ${newForeshadowing.description}`,\n        content: JSON.stringify(newForeshadowing),\n        metadata: {\n            type: 'foreshadowing',\n            foreshadowingId: newForeshadowing.id,\n            status: newForeshadowing.status\n        },\n        timestamp: new Date()\n    };\n\n    await memoryManager.processChapter(foreshadowingChapter);\n\n    // 4. çµ±ä¸€æ¤œç´¢ã§å–å¾—\n    const allForeshadowings = await memoryManager.unifiedSearch(\n        'foreshadowing',\n        [MemoryLevel.LONG_TERM, MemoryLevel.MID_TERM, MemoryLevel.SHORT_TERM]\n    );\n\n    console.log(`å–å¾—ã—ãŸä¼ç·šæ•°: ${allForeshadowings.entries.length}`);\n}\n```\n\n## ã„ã¤ä½¿ã†ã‹\n\n- **æ–°ã—ã„ã‚·ã‚¹ãƒ†ãƒ ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’è¿½åŠ ã™ã‚‹æ™‚**: MemoryManagerã‚’æ³¨å…¥\n- **ãƒ‡ãƒ¼ã‚¿ã®ä¿å­˜ãƒ»å–å¾—ãŒå¿…è¦ãªæ™‚**: unifiedSearch()ã¨processChapter()ã‚’ä½¿ç”¨\n- **è¤‡æ•°ã®éšå±¤ã«ã¾ãŸãŒã‚‹ãƒ‡ãƒ¼ã‚¿ã‚’æ‰±ã†æ™‚**: çµ±ä¸€æ¤œç´¢ã§æ¨ªæ–­çš„ã«ã‚¢ã‚¯ã‚»ã‚¹\n- **ã‚·ã‚¹ãƒ†ãƒ å¥å…¨æ€§ã‚’ç¢ºèªã™ã‚‹æ™‚**: performSystemDiagnostics()ã‚’å®Ÿè¡Œ\n- **æ—¢å­˜ã‚·ã‚¹ãƒ†ãƒ ã‚’ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ã™ã‚‹æ™‚**: ç‹¬è‡ªã®ä¿å­˜ãƒ­ã‚¸ãƒƒã‚¯ã‚’MemoryManagerçµ±åˆã«ç½®ãæ›ãˆ\n\n## æ³¨æ„ç‚¹\n\n**æ³¨æ„ç‚¹1: ã‚·ãƒ³ã‚°ãƒ«ãƒˆãƒ³ã®å³å®ˆ**\n- MemoryManagerã¯å¿…ãš1ã¤ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’å…±æœ‰\n- è¤‡æ•°ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ä½œæˆã™ã‚‹ã¨æ•´åˆæ€§ãŒå´©ã‚Œã‚‹\n\n```typescript\n// âŒ æ‚ªã„ä¾‹\nconst mm1 = new MemoryManager(config);\nconst mm2 = new MemoryManager(config); // åˆ¥ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹\n\n// âœ… è‰¯ã„ä¾‹\nconst memoryManager = new MemoryManager(config);\nconst system1 = new System1(memoryManager);\nconst system2 = new System2(memoryManager); // åŒã˜ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹\n```\n\n**æ³¨æ„ç‚¹2: null ãƒã‚§ãƒƒã‚¯ã®å®Ÿæ–½**\n- ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã§å¿…ãšnullãƒã‚§ãƒƒã‚¯\n- å®Ÿè¡Œæ™‚ã‚¨ãƒ©ãƒ¼ã‚’é˜²æ­¢\n\n```typescript\nconstructor(memoryManager: MemoryManager) {\n    if (!memoryManager) {\n        throw new Error('MemoryManager is required');\n    }\n    this.memoryManager = memoryManager;\n}\n```\n\n**æ³¨æ„ç‚¹3: ç« ç•ªå·0ã®äºˆç´„**\n- chapterNumber: 0 ã¯ã‚·ã‚¹ãƒ†ãƒ ãƒ‡ãƒ¼ã‚¿ç”¨\n- å®Ÿéš›ã®ç« ã¯1ã‹ã‚‰é–‹å§‹\n\n```typescript\n// ã‚·ã‚¹ãƒ†ãƒ ãƒ‡ãƒ¼ã‚¿ã®ä¿å­˜\nconst systemChapter: Chapter = {\n    chapterNumber: 0, // äºˆç´„ç•ªå·\n    // ...\n};\n\n// å®Ÿéš›ã®ç« ã®ä¿å­˜\nconst actualChapter: Chapter = {\n    chapterNumber: 1, // 1ã‹ã‚‰é–‹å§‹\n    // ...\n};\n```\n\n**æ³¨æ„ç‚¹4: ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã®ä¸€è²«æ€§**\n- åŒã˜ã‚¿ã‚¤ãƒ—ã®ãƒ‡ãƒ¼ã‚¿ã¯åŒã˜ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã‚’ä½¿ç”¨\n- æ¤œç´¢ãƒ»ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ãŒå®¹æ˜“ã«ãªã‚‹\n\n```typescript\n// çµ±ä¸€ã•ã‚ŒãŸãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿æ§‹é€ \ninterface ForeshadowingMetadata {\n    type: 'foreshadowing';\n    foreshadowingId: string;\n    status: ForeshadowingStatus;\n    importance: 'LOW' | 'MEDIUM' | 'HIGH';\n}\n```\n\n**æ³¨æ„ç‚¹5: ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°**\n- MemoryManagerã®æ“ä½œã¯éåŒæœŸ\n- try-catchã§é©åˆ‡ã«ã‚¨ãƒ©ãƒ¼å‡¦ç†\n\n```typescript\nasync function safeOperation(): Promise<void> {\n    try {\n        await memoryManager.processChapter(chapter);\n    } catch (error) {\n        console.error('Failed to process chapter:', error);\n        // ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯å‡¦ç†\n    }\n}\n```\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `decision_why_unified_memory_system_2025_11_25.md`: ãªãœMemoryManagerä¸­å¿ƒã®ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã‚’é¸ã‚“ã ã‹\n- `skill_unified_foreshadowing_management_2025_11_25.md`: ä¼ç·šã‚·ã‚¹ãƒ†ãƒ ã§ã®å®Ÿè£…ä¾‹\n- `skill_cache_coordination_techniques_2025_11_25.md`: ã‚­ãƒ£ãƒƒã‚·ãƒ¥å”èª¿ã®è©³ç´°\n- `decision_why_dependency_injection_architecture_2025_11_25.md`: ä¾å­˜æ³¨å…¥ã‚’é¸ã‚“ã ç†ç”±\n- `workflow_system_initialization_workflow_2025_11_25.md`: ã‚·ã‚¹ãƒ†ãƒ åˆæœŸåŒ–ã®æµã‚Œ\n",
    "prompt": "### ã‚¹ãƒ†ãƒƒãƒ—1: MemoryManagerã®åˆæœŸåŒ–\n\n```typescript\nimport { MemoryManager } from '@/lib/memory/core/memory-manager';\n\n// ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“ã§å…±æœ‰ã™ã‚‹å˜ä¸€ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹\nconst memoryManager = new MemoryManager({\n    shortTermChapters: 8,        // çŸ­æœŸè¨˜æ†¶: 8ç« åˆ†\n    midTermArcSize: 4,           // ä¸­æœŸè¨˜æ†¶: 4ã‚¢ãƒ¼ã‚¯åˆ†\n    summaryDetailLevel: 7,       // è¦ç´„è©³ç´°åº¦: ãƒ¬ãƒ™ãƒ«7\n    consistencyThreshold: 0.85,  // æ•´åˆæ€§é–¾å€¤: 85%\n    enableCache: true,           // ã‚­ãƒ£ãƒƒã‚·ãƒ¥æœ‰åŠ¹åŒ–\n    enableDuplicateResolution: true  // é‡è¤‡è§£æ±ºæœ‰åŠ¹åŒ–\n});\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2: ä¾å­˜æ³¨å…¥ã®å®Ÿè£…\n\n```typescript\n// æ–°ã—ã„ã‚·ã‚¹ãƒ†ãƒ ã®ä½œæˆ\nclass ThemeTrackingSystem {\n    private memoryManager: MemoryManager;\n\n    constructor(memoryManager: MemoryManager) {\n        if (!memoryManager) {\n            throw new Error('MemoryManager is required');\n        }\n        this.memoryManager = memoryManager;\n    }\n\n    async trackTheme(theme: string, chapter: number): Promise<void> {\n        // çµ±ä¸€æ¤œç´¢ã§æ—¢å­˜ãƒ†ãƒ¼ãƒã‚’å–å¾—\n        const existing = await this.memoryManager.unifiedSearch(\n            `theme ${theme}`,\n            [MemoryLevel.LONG_TERM, MemoryLevel.MID_TERM]\n        );\n\n        // æ–°ã—ã„ãƒ†ãƒ¼ãƒã‚¨ãƒ³ãƒˆãƒªã‚’ä½œæˆ\n        const themeChapter: Chapter = {\n            id: `theme-${theme}-${chapter}`,\n            chapterNumber: chapter,\n            title: `ãƒ†ãƒ¼ãƒè¿½è·¡: ${theme}`,\n            content: `ç« ${chapter}ã§ãƒ†ãƒ¼ãƒã€Œ${theme}ã€ãŒç™»å ´`,\n            metadata: {\n                type: 'theme_tracking',\n                theme,\n                previousOccurrences: existing.entries.length\n            },\n            timestamp: new Date()\n        };\n\n        // çµ±ä¸€ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã§ä¿å­˜\n        await this.memoryManager.processChapter(themeChapter);\n    }\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3: ã‚µãƒ¼ãƒ“ã‚¹ã‚³ãƒ³ãƒ†ãƒŠã§ã®ç™»éŒ²\n\n```typescript\nimport { ServiceContainer } from '@/lib/lifecycle/service-container';\n\n// ã‚µãƒ¼ãƒ“ã‚¹ã‚³ãƒ³ãƒ†ãƒŠã«ç™»éŒ²\nconst container = new ServiceContainer();\n\n// MemoryManagerã‚’ç™»éŒ²ï¼ˆTier 2ï¼‰\ncontainer.register('memoryManager', () => memoryManager, {\n    singleton: true,  // ã‚·ãƒ³ã‚°ãƒ«ãƒˆãƒ³\n    tier: 2,          // åˆæœŸåŒ–Tier 2\n    dependencies: ['logger', 'eventBus']\n});\n\n// ä»–ã®ã‚·ã‚¹ãƒ†ãƒ ã‚’ç™»éŒ²ï¼ˆTier 3ä»¥é™ï¼‰\ncontainer.register('themeTrackingSystem', (c) => {\n    const mm = c.resolve<MemoryManager>('memoryManager');\n    return new ThemeTrackingSystem(mm);\n}, {\n    singleton: true,\n    tier: 3,\n    dependencies: ['memoryManager']\n});\n\n// åˆæœŸåŒ–\nawait container.initialize();\nconst themeSystem = container.resolve<ThemeTrackingSystem>('themeTrackingSystem');\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—4: å®Ÿè·µä¾‹ - ä¼ç·šã‚·ã‚¹ãƒ†ãƒ ã¨ã®çµ±åˆ\n\n```typescript\nasync function integrateWithForeshadowing(): Promise<void> {\n    // 1. ä¼ç·šã‚·ã‚¹ãƒ†ãƒ ã‚’åˆæœŸåŒ–\n    const foreshadowingManager = new ForeshadowingManager(memoryManager);\n\n    // 2. æ–°ã—ã„ä¼ç·šã‚’ç”Ÿæˆ\n    const newForeshadowing: Foreshadowing = {\n        id: 'fsh-001',\n        description: 'ä¸»äººå…¬ã®éå»ã®ç§˜å¯†',\n        chapter_introduced: 5,\n        status: 'ACTIVE',\n        type: 'CHARACTER_DEVELOPMENT',\n        importance: 'HIGH'\n    };\n\n    // 3. Chapterå½¢å¼ã§ä¿å­˜\n    const foreshadowingChapter: Chapter = {\n        id: `foreshadowing-${newForeshadowing.id}`,\n        chapterNumber: newForeshadowing.chapter_introduced,\n        title: `ä¼ç·š: ${newForeshadowing.description}`,\n        content: JSON.stringify(newForeshadowing),\n        metadata: {\n            type: 'foreshadowing',\n            foreshadowingId: newForeshadowing.id,\n            status: newForeshadowing.status\n        },\n        timestamp: new Date()\n    };\n\n    await memoryManager.processChapter(foreshadowingChapter);\n\n    // 4. çµ±ä¸€æ¤œç´¢ã§å–å¾—\n    const allForeshadowings = await memoryManager.unifiedSearch(\n        'foreshadowing',\n        [MemoryLevel.LONG_TERM, MemoryLevel.MID_TERM, MemoryLevel.SHORT_TERM]\n    );\n\n    console.log(`å–å¾—ã—ãŸä¼ç·šæ•°: ${allForeshadowings.entries.length}`);\n}\n```",
    "relatedTech": [
      "decision-why-unified-memory-system",
      "skill-unified-foreshadowing-management",
      "skill-cache-coordination-techniques"
    ]
  },
  {
    "slug": "multi-dimensional-quality-evaluation",
    "title": "å¤šæ¬¡å…ƒå“è³ªè©•ä¾¡ã‚·ã‚¹ãƒ†ãƒ ã®å®Ÿè£…",
    "category": "Skillsï¼ˆã‚¹ã‚­ãƒ«ãƒ»æ‰‹æ³•ï¼‰",
    "description": "å°èª¬ã®ç« ã‚’10å€‹ã®ç‹¬ç«‹ã—ãŸè©•ä¾¡è»¸ã§åˆ†æã—ã€ç·åˆå“è³ªã‚¹ã‚³ã‚¢ã‚’ç®—å‡ºã™ã‚‹ã€‚AIãƒ™ãƒ¼ã‚¹åˆ†æã¨ãƒ«ãƒ¼ãƒ«ãƒ™ãƒ¼ã‚¹åˆ†æã®ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã§ã€èª­ã¿ã‚„ã™ã•ãƒ»ä¸€è²«æ€§ãƒ»ã‚¨ãƒ³ã‚²ãƒ¼ã‚¸ãƒ¡ãƒ³ãƒˆç­‰ã‚’0-10ç‚¹ã§å®šé‡è©•ä¾¡ã™ã‚‹ã€‚",
    "project": "novel-automation-system-v2",
    "usedIn": [
      "src/lib/memory/mid-term/quality-metrics.ts:1-1177, src/lib/analysis/services/chapter/chapter-analysis-service.ts:1-1367"
    ],
    "code": "```json\n{\n  \"id\": \"skill_multi_dimensional_quality_evaluation_2025_11_25\",\n  \"type\": \"skill\",\n  \"name\": \"å¤šæ¬¡å…ƒå“è³ªè©•ä¾¡ã‚·ã‚¹ãƒ†ãƒ ã®å®Ÿè£…\",\n  \"tags\": [\"å“è³ªè©•ä¾¡\", \"AIåˆ†æ\", \"å°èª¬ç”Ÿæˆ\", \"è‡ªå‹•è©•ä¾¡\", \"ãƒ¡ãƒˆãƒªã‚¯ã‚¹\", \"å“è³ªç®¡ç†\", \"Gemini API\"],\n  \"source_project\": \"novel-automation-system-v2\",\n  \"source_file\": \"src/lib/memory/mid-term/quality-metrics.ts:1-1177, src/lib/analysis/services/chapter/chapter-analysis-service.ts:1-1367\",\n  \"related_knowledge\": [\"decision_quality_metrics_selection_2025_11_25\", \"decision_ai_analysis_architecture_2025_11_25\", \"workflow_chapter_quality_evaluation_2025_11_25\"],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# å¤šæ¬¡å…ƒå“è³ªè©•ä¾¡ã‚·ã‚¹ãƒ†ãƒ ã®å®Ÿè£…\n\n## ä½•ã‚’ã™ã‚‹ã‚¹ã‚­ãƒ«ã‹\n\nå°èª¬ã®ç« ã‚’10å€‹ã®ç‹¬ç«‹ã—ãŸè©•ä¾¡è»¸ã§åˆ†æã—ã€ç·åˆå“è³ªã‚¹ã‚³ã‚¢ã‚’ç®—å‡ºã™ã‚‹ã€‚AIãƒ™ãƒ¼ã‚¹åˆ†æã¨ãƒ«ãƒ¼ãƒ«ãƒ™ãƒ¼ã‚¹åˆ†æã®ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã§ã€èª­ã¿ã‚„ã™ã•ãƒ»ä¸€è²«æ€§ãƒ»ã‚¨ãƒ³ã‚²ãƒ¼ã‚¸ãƒ¡ãƒ³ãƒˆç­‰ã‚’0-10ç‚¹ã§å®šé‡è©•ä¾¡ã™ã‚‹ã€‚\n\n## å…·ä½“çš„ãªæ‰‹æ³•\n\n### 1. 10æ¬¡å…ƒè©•ä¾¡æŒ‡æ¨™ã®å®šç¾©\n\n```typescript\ninterface ChapterQualityAnalysis {\n  readabilityScore: number;           // èª­ã¿ã‚„ã™ã• (0-10)\n  consistencyScore: number;           // æ•´åˆæ€§\n  engagementScore: number;            // å¼•ãè¾¼ã¿åº¦\n  characterDevelopmentScore: number;  // ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼æå†™\n  plotCoherenceScore: number;         // ãƒ—ãƒ­ãƒƒãƒˆæ•´åˆæ€§\n  dialogueQualityScore: number;       // å¯¾è©±å“è³ª\n  descriptiveQualityScore: number;    // æå†™å“è³ª\n  pacingScore: number;                // ãƒ†ãƒ³ãƒ\n  thematicConsistencyScore: number;   // ãƒ†ãƒ¼ãƒä¸€è²«æ€§\n  emotionalImpactScore: number;       // æ„Ÿæƒ…çš„å½±éŸ¿\n}\n```\n\n### 2. èª­ã¿ã‚„ã™ã•ã‚¹ã‚³ã‚¢ã®è¨ˆç®—ï¼ˆãƒ«ãƒ¼ãƒ«ãƒ™ãƒ¼ã‚¹ï¼‰\n\n```typescript\nprivate calculateReadabilityScore(\n  content: string,\n  wordCount: number,\n  sentenceCount: number\n): number {\n  if (sentenceCount === 0) return 5.0;\n\n  const avgWordsPerSentence = wordCount / sentenceCount;\n  const complexWordRatio = this.calculateComplexWordRatio(content);\n\n  let score = 10.0;\n\n  // æ–‡ã®é•·ã•ãƒšãƒŠãƒ«ãƒ†ã‚£\n  if (avgWordsPerSentence > 30) score -= 2.0;\n  else if (avgWordsPerSentence > 20) score -= 1.0;\n  else if (avgWordsPerSentence < 8) score -= 0.5;\n\n  // è¤‡é›‘èªå½™ã®ãƒšãƒŠãƒ«ãƒ†ã‚£\n  score -= complexWordRatio * 3.0;\n\n  return Math.max(1.0, Math.min(10.0, score));\n}\n```\n\n**è¤‡é›‘èªå½™æ¤œå‡º**ï¼š\n```typescript\nprivate calculateComplexWordRatio(content: string): number {\n  const words = content.split(/\\s+/);\n  const complexWords = words.filter(word =>\n    word.length > 8 ||\n    /[ä¸€-é¾¯]{4,}/.test(word) ||     // 4æ–‡å­—ä»¥ä¸Šã®æ¼¢å­—\n    /[ã‚¡-ãƒ¶ãƒ¼]{6,}/.test(word)      // 6æ–‡å­—ä»¥ä¸Šã®ã‚«ã‚¿ã‚«ãƒŠ\n  );\n\n  return words.length > 0 ? complexWords.length / words.length : 0;\n}\n```\n\n### 3. é‡ã¿ä»˜ãç·åˆã‚¹ã‚³ã‚¢è¨ˆç®—\n\n```typescript\nconst weights = {\n  readability: 0.15,\n  consistency: 0.15,\n  engagement: 0.15,\n  characterDevelopment: 0.12,\n  plotCoherence: 0.12,\n  dialogueQuality: 0.10,\n  descriptiveQuality: 0.08,\n  pacing: 0.08,\n  thematicConsistency: 0.03,\n  emotionalImpact: 0.02\n};\n\nconst overallScore = (\n  analysis.readabilityScore * weights.readability +\n  analysis.consistencyScore * weights.consistency +\n  analysis.engagementScore * weights.engagement +\n  analysis.characterDevelopmentScore * weights.characterDevelopment +\n  analysis.plotCoherenceScore * weights.plotCoherence +\n  analysis.dialogueQualityScore * weights.dialogueQuality +\n  analysis.descriptiveQualityScore * weights.descriptiveQuality +\n  analysis.pacingScore * weights.pacing +\n  analysis.thematicConsistencyScore * weights.thematicConsistency +\n  analysis.emotionalImpactScore * weights.emotionalImpact\n);\n```\n\n### 4. å“è³ªã—ãã„å€¤ã¨è‡ªå‹•ã‚¢ãƒ©ãƒ¼ãƒˆ\n\n```typescript\ninterface QualityThresholds {\n  excellent: 8.5,    // å„ªç§€\n  good: 7.0,         // è‰¯å¥½\n  acceptable: 5.5,   // è¨±å®¹\n  poor: 4.0,         // è¦æ”¹å–„\n  critical: 4.0      // å±é™º\n}\n\nprivate async checkQualityAlerts(\n  qualityRecord: ChapterQualityRecord\n): Promise<void> {\n  const alerts = [];\n\n  // å±é™ºãƒ¬ãƒ™ãƒ«ã®å“è³ª\n  if (qualityRecord.qualityScore < this.config.thresholds.critical) {\n    alerts.push({\n      type: 'CRITICAL_QUALITY',\n      severity: 'CRITICAL',\n      message: `Chapter ${qualityRecord.chapterNumber} quality critically low: ${qualityRecord.qualityScore.toFixed(2)}`,\n    });\n  }\n\n  // å“è³ªä½ä¸‹ãƒˆãƒ¬ãƒ³ãƒ‰æ¤œå‡ºï¼ˆæœ€è¿‘5ç« ï¼‰\n  const recentScores = this.qualityData.chapterQualityHistory\n    .slice(-5)\n    .map(r => r.qualityScore);\n\n  if (recentScores.length >= 3) {\n    const isDecining = recentScores.every((score, index) =>\n      index === 0 || score < recentScores[index - 1]\n    );\n\n    if (isDecining) {\n      alerts.push({\n        type: 'QUALITY_DECLINE_TREND',\n        severity: 'MEDIUM',\n        message: 'Declining quality trend detected over recent chapters',\n      });\n    }\n  }\n}\n```\n\n### 5. AIãƒ™ãƒ¼ã‚¹åˆ†æã®çµ±åˆ\n\n```typescript\nasync analyzeChapter(\n  content: string,\n  chapterNumber: number\n): Promise<ChapterQualityAnalysis> {\n  const prompt = `\nä»¥ä¸‹ã®å°èª¬ã®ç« ã‚’10å€‹ã®è©•ä¾¡è»¸ã§0-10ç‚¹è©•ä¾¡ã—ã¦ãã ã•ã„ã€‚\n\nã€ç« å†…å®¹ã€‘\n${content.substring(0, 7000)}\n\nã€è©•ä¾¡è»¸ã€‘\n1. readabilityScore: èª­ã¿ã‚„ã™ã•\n2. consistencyScore: æ•´åˆæ€§\n3. engagementScore: å¼•ãè¾¼ã¿åº¦\n4. characterDevelopmentScore: ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼æå†™\n5. plotCoherenceScore: ãƒ—ãƒ­ãƒƒãƒˆæ•´åˆæ€§\n6. dialogueQualityScore: å¯¾è©±å“è³ª\n7. descriptiveQualityScore: æå†™å“è³ª\n8. pacingScore: ãƒ†ãƒ³ãƒ\n9. thematicConsistencyScore: ãƒ†ãƒ¼ãƒä¸€è²«æ€§\n10. emotionalImpactScore: æ„Ÿæƒ…çš„å½±éŸ¿\n\nJSONå½¢å¼ã§è¿”ã—ã¦ãã ã•ã„ã€‚\n  `;\n\n  const response = await this.geminiClient.generateText(prompt);\n  return this.parseQualityAnalysis(response);\n}\n```\n\n## ãªãœã“ã®æ‰‹æ³•ã‚’ä½¿ã†ã‹\n\n**ç†ç”±1ï¼šå¤šé¢çš„è©•ä¾¡ã®å¿…è¦æ€§**\n- å˜ä¸€æŒ‡æ¨™ã§ã¯å°èª¬å“è³ªã‚’æ¸¬ã‚Œãªã„\n- èª­ã¿ã‚„ã™ã•ã¯é«˜ã„ãŒå¼•ãè¾¼ã¿åº¦ãŒä½ã„ã€ãªã©è¤‡æ•°ã®å´é¢ãŒå­˜åœ¨\n- 10å€‹ã®ç‹¬ç«‹ã—ãŸè»¸ã§ç·åˆçš„ã«è©•ä¾¡ã™ã‚‹ã“ã¨ã§æ­£ç¢ºãªå“è³ªæŠŠæ¡ãŒå¯èƒ½\n\n**ç†ç”±2ï¼šAIã¨ãƒ«ãƒ¼ãƒ«ã®ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰**\n- ãƒ«ãƒ¼ãƒ«ãƒ™ãƒ¼ã‚¹ï¼šèª­ã¿ã‚„ã™ã•ãªã©å®¢è¦³çš„ã«æ¸¬å®šã§ãã‚‹æŒ‡æ¨™\n- AIãƒ™ãƒ¼ã‚¹ï¼šã‚¨ãƒ³ã‚²ãƒ¼ã‚¸ãƒ¡ãƒ³ãƒˆãªã©ä¸»è¦³çš„ãƒ»æ–‡è„ˆä¾å­˜ã®æŒ‡æ¨™\n- ä¸¡è€…ã®é•·æ‰€ã‚’çµ„ã¿åˆã‚ã›ã‚‹ã“ã¨ã§ç²¾åº¦ã¨ä¿¡é ¼æ€§ã‚’ä¸¡ç«‹\n\n**ç†ç”±3ï¼šè‡ªå‹•ã‚¢ãƒ©ãƒ¼ãƒˆã«ã‚ˆã‚‹å“è³ªä¿è¨¼**\n- å“è³ªä½ä¸‹ã‚’å³åº§ã«æ¤œå‡ºã—ä¿®æ­£å¯èƒ½\n- ãƒˆãƒ¬ãƒ³ãƒ‰åˆ†æã§ç¶™ç¶šçš„ãªå“è³ªä½ä¸‹ã‚’æ—©æœŸç™ºè¦‹\n- äººæ‰‹ã§ã®å…¨ç« ãƒ¬ãƒ“ãƒ¥ãƒ¼ãŒä¸è¦ã«\n\n**ç†ç”±4ï¼šé‡ã¿ä»˜ã‘ã«ã‚ˆã‚‹æŸ”è»Ÿæ€§**\n- ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã”ã¨ã«é‡è¦è¦–ã™ã‚‹è»¸ãŒç•°ãªã‚‹\n- èª­ã¿ã‚„ã™ã•é‡è¦–ãªã‚‰ readability ã®é‡ã¿ã‚’å¢—ã‚„ã™\n- ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºå¯èƒ½ãªè¨­è¨ˆ\n\n## å†ç¾æ–¹æ³•\n\n**ã‚¹ãƒ†ãƒƒãƒ—1ï¼šå“è³ªè©•ä¾¡ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ã®åˆæœŸåŒ–**\n```typescript\nimport { QualityMetricsManager } from '@/lib/memory/mid-term/quality-metrics';\n\nconst qualityManager = new QualityMetricsManager(memoryManager, {\n  thresholds: {\n    excellent: 8.5,\n    good: 7.0,\n    acceptable: 5.5,\n    poor: 4.0,\n    critical: 4.0\n  },\n  enableAlerts: true,\n  trendAnalysisWindow: 5  // æœ€è¿‘5ç« ã§åˆ†æ\n});\n```\n\n**ã‚¹ãƒ†ãƒƒãƒ—2ï¼šç« ã®å“è³ªè©•ä¾¡**\n```typescript\nconst chapterContent = \"ç« ã®æœ¬æ–‡...\";\nconst chapterNumber = 3;\n\nconst qualityAnalysis = await qualityManager.analyzeChapterQuality(\n  chapterContent,\n  chapterNumber\n);\n\nconsole.log(`Overall Score: ${qualityAnalysis.overallScore}`);\nconsole.log(`Readability: ${qualityAnalysis.readabilityScore}`);\nconsole.log(`Engagement: ${qualityAnalysis.engagementScore}`);\n```\n\n**ã‚¹ãƒ†ãƒƒãƒ—3ï¼šå“è³ªãƒˆãƒ¬ãƒ³ãƒ‰ã®ç¢ºèª**\n```typescript\nconst qualityData = await qualityManager.getQualityData();\n\n// å¹³å‡å“è³ª\nconsole.log(`Average Quality: ${qualityData.averageQuality}`);\n\n// å“è³ªãƒˆãƒ¬ãƒ³ãƒ‰\nconsole.log(`Quality Trend: ${qualityData.qualityTrend}`);\n\n// ã‚¢ãƒ©ãƒ¼ãƒˆç¢ºèª\nif (qualityData.alerts.length > 0) {\n  console.log('Quality Alerts:', qualityData.alerts);\n}\n```\n\n**ã‚¹ãƒ†ãƒƒãƒ—4ï¼šã‚«ã‚¹ã‚¿ãƒ é‡ã¿ä»˜ã‘ã®é©ç”¨**\n```typescript\nconst customWeights = {\n  readability: 0.20,      // èª­ã¿ã‚„ã™ã•å„ªå…ˆ\n  engagement: 0.20,       // ã‚¨ãƒ³ã‚²ãƒ¼ã‚¸ãƒ¡ãƒ³ãƒˆå„ªå…ˆ\n  consistency: 0.15,\n  characterDevelopment: 0.12,\n  plotCoherence: 0.12,\n  dialogueQuality: 0.08,\n  descriptiveQuality: 0.05,\n  pacing: 0.05,\n  thematicConsistency: 0.02,\n  emotionalImpact: 0.01\n};\n\n// é‡ã¿ä»˜ã‘ã‚’å¤‰æ›´ã—ã¦å†è¨ˆç®—\nconst customScore = calculateWeightedScore(qualityAnalysis, customWeights);\n```\n\n## ã„ã¤ä½¿ã†ã‹\n\n- **ç« ç”Ÿæˆç›´å¾Œ**ï¼šç”Ÿæˆã•ã‚ŒãŸç« ã®å“è³ªã‚’å³åº§ã«è©•ä¾¡\n- **å…¨ç« ãƒ¬ãƒ“ãƒ¥ãƒ¼æ™‚**ï¼šå…¨ä½“ã®å“è³ªå‚¾å‘ã‚’åˆ†æ\n- **å“è³ªæ”¹å–„æ™‚**ï¼šã©ã®è©•ä¾¡è»¸ãŒä½ã„ã‹ã‚’ç‰¹å®šã—é‡ç‚¹çš„ã«æ”¹å–„\n- **A/Bãƒ†ã‚¹ãƒˆæ™‚**ï¼šç•°ãªã‚‹ç”Ÿæˆãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®å“è³ªæ¯”è¼ƒ\n- **å®šæœŸç›£è¦–**ï¼šç¶™ç¶šçš„ãªå“è³ªãƒˆãƒ¬ãƒ³ãƒ‰ç›£è¦–\n\n## æ³¨æ„ç‚¹\n\n- **AIåˆ†æã®ã‚³ã‚¹ãƒˆ**ï¼šå…¨ç« ã‚’AIåˆ†æã™ã‚‹ã¨APIå‘¼ã³å‡ºã—ã‚³ã‚¹ãƒˆãŒé«˜ã„ â†’ ã‚­ãƒ£ãƒƒã‚·ãƒ¥æ©Ÿæ§‹ã§ç·©å’Œ\n- **è©•ä¾¡ã®ä¸€è²«æ€§**ï¼šAIã®å¿œç­”ãŒæ¯å›ç•°ãªã‚‹å¯èƒ½æ€§ â†’ åŒã˜ç« ã¯çµæœã‚’ã‚­ãƒ£ãƒƒã‚·ãƒ¥\n- **é‡ã¿ä»˜ã‘ã®èª¿æ•´**ï¼šãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«åˆã‚ã›ã¦é‡ã¿ã‚’èª¿æ•´ã™ã‚‹å¿…è¦ã‚ã‚Š\n- **ã—ãã„å€¤ã®è¨­å®š**ï¼šã‚¸ãƒ£ãƒ³ãƒ«ã‚„ç›®çš„ã«å¿œã˜ã¦ã—ãã„å€¤ã‚’å¤‰æ›´ã™ã¹ã\n- **å‡¦ç†æ™‚é–“**ï¼šAIåˆ†æã¯æ•°ç§’ã‹ã‹ã‚‹ â†’ éåŒæœŸå‡¦ç†ãƒ»ä¸¦åˆ—åŒ–ã§å¯¾å‡¦\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `decision_quality_metrics_selection_2025_11_25.md`ï¼šãªãœã“ã‚Œã‚‰ã®è©•ä¾¡æŒ‡æ¨™ã‚’é¸ã‚“ã ã‹\n- `decision_ai_analysis_architecture_2025_11_25.md`ï¼šAIãƒ™ãƒ¼ã‚¹åˆ†æã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã®è¨­è¨ˆåˆ¤æ–­\n- `workflow_chapter_quality_evaluation_2025_11_25.md`ï¼šå“è³ªè©•ä¾¡ã®å…¨ä½“ãƒ•ãƒ­ãƒ¼\n",
    "prompt": "**ã‚¹ãƒ†ãƒƒãƒ—1ï¼šå“è³ªè©•ä¾¡ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ã®åˆæœŸåŒ–**\n```typescript\nimport { QualityMetricsManager } from '@/lib/memory/mid-term/quality-metrics';\n\nconst qualityManager = new QualityMetricsManager(memoryManager, {\n  thresholds: {\n    excellent: 8.5,\n    good: 7.0,\n    acceptable: 5.5,\n    poor: 4.0,\n    critical: 4.0\n  },\n  enableAlerts: true,\n  trendAnalysisWindow: 5  // æœ€è¿‘5ç« ã§åˆ†æ\n});\n```\n\n**ã‚¹ãƒ†ãƒƒãƒ—2ï¼šç« ã®å“è³ªè©•ä¾¡**\n```typescript\nconst chapterContent = \"ç« ã®æœ¬æ–‡...\";\nconst chapterNumber = 3;\n\nconst qualityAnalysis = await qualityManager.analyzeChapterQuality(\n  chapterContent,\n  chapterNumber\n);\n\nconsole.log(`Overall Score: ${qualityAnalysis.overallScore}`);\nconsole.log(`Readability: ${qualityAnalysis.readabilityScore}`);\nconsole.log(`Engagement: ${qualityAnalysis.engagementScore}`);\n```\n\n**ã‚¹ãƒ†ãƒƒãƒ—3ï¼šå“è³ªãƒˆãƒ¬ãƒ³ãƒ‰ã®ç¢ºèª**\n```typescript\nconst qualityData = await qualityManager.getQualityData();\n\n// å¹³å‡å“è³ª\nconsole.log(`Average Quality: ${qualityData.averageQuality}`);\n\n// å“è³ªãƒˆãƒ¬ãƒ³ãƒ‰\nconsole.log(`Quality Trend: ${qualityData.qualityTrend}`);\n\n// ã‚¢ãƒ©ãƒ¼ãƒˆç¢ºèª\nif (qualityData.alerts.length > 0) {\n  console.log('Quality Alerts:', qualityData.alerts);\n}\n```\n\n**ã‚¹ãƒ†ãƒƒãƒ—4ï¼šã‚«ã‚¹ã‚¿ãƒ é‡ã¿ä»˜ã‘ã®é©ç”¨**\n```typescript\nconst customWeights = {\n  readability: 0.20,      // èª­ã¿ã‚„ã™ã•å„ªå…ˆ\n  engagement: 0.20,       // ã‚¨ãƒ³ã‚²ãƒ¼ã‚¸ãƒ¡ãƒ³ãƒˆå„ªå…ˆ\n  consistency: 0.15,\n  characterDevelopment: 0.12,\n  plotCoherence: 0.12,\n  dialogueQuality: 0.08,\n  descriptiveQuality: 0.05,\n  pacing: 0.05,\n  thematicConsistency: 0.02,\n  emotionalImpact: 0.01\n};\n\n// é‡ã¿ä»˜ã‘ã‚’å¤‰æ›´ã—ã¦å†è¨ˆç®—\nconst customScore = calculateWeightedScore(qualityAnalysis, customWeights);\n```",
    "relatedTech": [
      "decision-quality-metrics-selection",
      "decision-ai-analysis-architecture",
      "workflow-chapter-quality-evaluation"
    ]
  },
  {
    "slug": "multi-layer-cache-coordination",
    "title": "ã‚­ãƒ£ãƒƒã‚·ãƒ¥å”èª¿ã‚·ã‚¹ãƒ†ãƒ ï¼ˆéšå±¤é–“åŒæœŸï¼‰",
    "category": "Skillsï¼ˆã‚¹ã‚­ãƒ«ãƒ»æ‰‹æ³•ï¼‰",
    "description": "3ã¤ã®è¨˜æ†¶ãƒ¬ã‚¤ãƒ¤ãƒ¼ï¼ˆçŸ­æœŸãƒ»ä¸­æœŸãƒ»é•·æœŸï¼‰é–“ã§ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’å”èª¿ç®¡ç†ã—ã€æ›´æ–°ãƒ»ç„¡åŠ¹åŒ–ãƒ»ãƒ—ãƒªãƒ­ãƒ¼ãƒ‰ã‚’çµ±åˆåˆ¶å¾¡ã™ã‚‹æ‰‹æ³•ã€‚ä¾å­˜é–¢ä¿‚ã‚’ç®¡ç†ã—ã€1ã¤ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãŒç„¡åŠ¹åŒ–ã•ã‚Œã‚‹ã¨ã€ä¾å­˜ã™ã‚‹ã™ã¹ã¦ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãŒè‡ªå‹•çš„ã«ã‚«ã‚¹ã‚±ãƒ¼ãƒ‰ç„¡åŠ¹åŒ–ã•ã‚Œã‚‹ã€‚",
    "project": "novel-automation-system-v2",
    "usedIn": [
      "src/lib/memory/integration/cache-coordinator.ts:1-80"
    ],
    "code": "```json\n{\n  \"id\": \"skill_multi_layer_cache_coordination_2025_11_25\",\n  \"type\": \"skill\",\n  \"name\": \"ã‚­ãƒ£ãƒƒã‚·ãƒ¥å”èª¿ã‚·ã‚¹ãƒ†ãƒ ï¼ˆéšå±¤é–“åŒæœŸï¼‰\",\n  \"tags\": [\"ã‚­ãƒ£ãƒƒã‚·ãƒ¥ç®¡ç†\", \"éšå±¤é–“åŒæœŸ\", \"ç„¡åŠ¹åŒ–ä¼æ’­\", \"ä¾å­˜é–¢ä¿‚ç®¡ç†\", \"LRU\", \"TTL\", \"ãƒ—ãƒªãƒ­ãƒ¼ãƒ‰\"],\n  \"source_project\": \"novel-automation-system-v2\",\n  \"source_file\": \"src/lib/memory/integration/cache-coordinator.ts:1-80\",\n  \"related_knowledge\": [\n    \"skill_unified_memory_access_api_2025_11_25\",\n    \"decision_memory_layer_cache_strategy_2025_11_25\"\n  ],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# ã‚­ãƒ£ãƒƒã‚·ãƒ¥å”èª¿ã‚·ã‚¹ãƒ†ãƒ ï¼ˆéšå±¤é–“åŒæœŸï¼‰\n\n## ä½•ã‚’ã™ã‚‹ã‚¹ã‚­ãƒ«ã‹\n\n3ã¤ã®è¨˜æ†¶ãƒ¬ã‚¤ãƒ¤ãƒ¼ï¼ˆçŸ­æœŸãƒ»ä¸­æœŸãƒ»é•·æœŸï¼‰é–“ã§ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’å”èª¿ç®¡ç†ã—ã€æ›´æ–°ãƒ»ç„¡åŠ¹åŒ–ãƒ»ãƒ—ãƒªãƒ­ãƒ¼ãƒ‰ã‚’çµ±åˆåˆ¶å¾¡ã™ã‚‹æ‰‹æ³•ã€‚ä¾å­˜é–¢ä¿‚ã‚’ç®¡ç†ã—ã€1ã¤ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãŒç„¡åŠ¹åŒ–ã•ã‚Œã‚‹ã¨ã€ä¾å­˜ã™ã‚‹ã™ã¹ã¦ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãŒè‡ªå‹•çš„ã«ã‚«ã‚¹ã‚±ãƒ¼ãƒ‰ç„¡åŠ¹åŒ–ã•ã‚Œã‚‹ã€‚\n\n## å…·ä½“çš„ãªæ‰‹æ³•\n\n### ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚¨ãƒ³ãƒˆãƒªãƒ¼ã®æ§‹é€ \n\n```typescript\n// src/lib/memory/integration/cache-coordinator.ts\nexport interface CacheEntry<T = any> {\n  key: string;                    // ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚­ãƒ¼\n  data: T;                        // å®Ÿãƒ‡ãƒ¼ã‚¿\n  level: MemoryLevel;             // è¨˜æ†¶ãƒ¬ã‚¤ãƒ¤ãƒ¼\n  timestamp: number;              // ä½œæˆæ™‚åˆ»\n  expiryTime: number;             // æœ‰åŠ¹æœŸé™\n  accessCount: number;            // ã‚¢ã‚¯ã‚»ã‚¹å›æ•°\n  lastAccessTime: number;         // æœ€çµ‚ã‚¢ã‚¯ã‚»ã‚¹æ™‚åˆ»\n  dependencies: string[];         // ä¾å­˜ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚­ãƒ¼ã®ãƒªã‚¹ãƒˆ\n  metadata?: {\n    size: number;                 // ãƒ‡ãƒ¼ã‚¿ã‚µã‚¤ã‚ºï¼ˆãƒã‚¤ãƒˆï¼‰\n    priority: number;             // å„ªå…ˆåº¦ï¼ˆ0-10ï¼‰\n    tags: string[];               // æ¤œç´¢ç”¨ã‚¿ã‚°\n  };\n}\n```\n\n### ã‚­ãƒ£ãƒƒã‚·ãƒ¥å”èª¿ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼\n\n```typescript\nexport class CacheCoordinator {\n  private caches: Map<string, CacheEntry> = new Map();\n  private layerCaches: Map<MemoryLevel, Map<string, CacheEntry>> = new Map();\n\n  // ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®å–å¾—\n  async getFromCache<T>(key: string): Promise<T | null> {\n    const entry = this.caches.get(key);\n\n    if (!entry) {\n      return null; // ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒŸã‚¹\n    }\n\n    // æœ‰åŠ¹æœŸé™ãƒã‚§ãƒƒã‚¯\n    if (Date.now() > entry.expiryTime) {\n      await this.invalidateCache(key); // æœŸé™åˆ‡ã‚Œã‚­ãƒ£ãƒƒã‚·ãƒ¥å‰Šé™¤\n      return null;\n    }\n\n    // ã‚¢ã‚¯ã‚»ã‚¹çµ±è¨ˆæ›´æ–°\n    entry.accessCount++;\n    entry.lastAccessTime = Date.now();\n\n    return entry.data as T;\n  }\n\n  // ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®è¨­å®š\n  async setCache<T>(\n    key: string,\n    data: T,\n    level: MemoryLevel,\n    dependencies: string[] = []\n  ): Promise<void> {\n    const entry: CacheEntry<T> = {\n      key,\n      data,\n      level,\n      timestamp: Date.now(),\n      expiryTime: this.calculateExpiryTime(level),\n      accessCount: 0,\n      lastAccessTime: Date.now(),\n      dependencies,\n      metadata: {\n        size: this.calculateSize(data),\n        priority: this.calculatePriority(level),\n        tags: this.extractTags(key)\n      }\n    };\n\n    this.caches.set(key, entry);\n\n    // ãƒ¬ã‚¤ãƒ¤ãƒ¼åˆ¥ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã«ã‚‚è¿½åŠ \n    if (!this.layerCaches.has(level)) {\n      this.layerCaches.set(level, new Map());\n    }\n    this.layerCaches.get(level)!.set(key, entry);\n  }\n\n  // ã‚«ã‚¹ã‚±ãƒ¼ãƒ‰ç„¡åŠ¹åŒ–\n  async invalidateCache(pattern: string): Promise<void> {\n    const regex = new RegExp(pattern);\n    const affectedKeys: string[] = [];\n\n    // ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒã—ãŸã‚­ãƒ¼ã‚’åé›†\n    for (const key of this.caches.keys()) {\n      if (regex.test(key)) {\n        affectedKeys.push(key);\n      }\n    }\n\n    // ã‚«ã‚¹ã‚±ãƒ¼ãƒ‰ç„¡åŠ¹åŒ–å®Ÿè¡Œ\n    for (const key of affectedKeys) {\n      await this.cascadeInvalidate(key);\n    }\n  }\n\n  // ä¾å­˜ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’å†å¸°çš„ã«ç„¡åŠ¹åŒ–\n  private async cascadeInvalidate(key: string): Promise<void> {\n    const entry = this.caches.get(key);\n    if (!entry) return;\n\n    // ä¾å­˜ã™ã‚‹ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’è¦‹ã¤ã‘ã‚‹\n    const dependentKeys: string[] = [];\n    for (const [cacheKey, cacheEntry] of this.caches.entries()) {\n      if (cacheEntry.dependencies.includes(key)) {\n        dependentKeys.push(cacheKey);\n      }\n    }\n\n    // è‡ªèº«ã‚’å‰Šé™¤\n    this.caches.delete(key);\n    const layerCache = this.layerCaches.get(entry.level);\n    if (layerCache) {\n      layerCache.delete(key);\n    }\n\n    // ä¾å­˜ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’å†å¸°çš„ã«ç„¡åŠ¹åŒ–\n    for (const dependentKey of dependentKeys) {\n      await this.cascadeInvalidate(dependentKey);\n    }\n\n    console.log(`Cache invalidated: ${key} (+ ${dependentKeys.length} dependents)`);\n  }\n\n  // TTLè¨ˆç®—ï¼ˆãƒ¬ã‚¤ãƒ¤ãƒ¼åˆ¥ï¼‰\n  private calculateExpiryTime(level: MemoryLevel): number {\n    const now = Date.now();\n    switch(level) {\n      case MemoryLevel.SHORT_TERM:\n        return now + 60 * 60 * 1000;        // 1æ™‚é–“\n      case MemoryLevel.MID_TERM:\n        return now + 12 * 60 * 60 * 1000;   // 12æ™‚é–“\n      case MemoryLevel.LONG_TERM:\n        return now + 30 * 24 * 60 * 60 * 1000; // 30æ—¥\n    }\n  }\n}\n```\n\n### ä¾å­˜é–¢ä¿‚ã®ç®¡ç†ä¾‹\n\n```typescript\n// ã‚­ãƒ£ãƒƒã‚·ãƒ¥ä¾å­˜é–¢ä¿‚ã®è¨­å®šä¾‹\nawait cacheCoordinator.setCache(\n  'chapter-4-summary',\n  chapterSummary,\n  MemoryLevel.MID_TERM,\n  [] // ä¾å­˜ãªã—\n);\n\nawait cacheCoordinator.setCache(\n  'character-sato-state',\n  satoState,\n  MemoryLevel.SHORT_TERM,\n  ['chapter-4-summary'] // chapter-4-summaryã«ä¾å­˜\n);\n\nawait cacheCoordinator.setCache(\n  'chapter-5-context',\n  chapterContext,\n  MemoryLevel.SHORT_TERM,\n  [\n    'chapter-4-summary',\n    'character-sato-state',\n    'plot-arc-3'\n  ] // 3ã¤ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã«ä¾å­˜\n);\n\n// chapter-4-summaryãŒæ›´æ–°ã•ã‚Œã‚‹ã¨...\nawait cacheCoordinator.invalidateCache('chapter-4-summary');\n// â†’ character-sato-state ã‚‚ç„¡åŠ¹åŒ–\n// â†’ chapter-5-context ã‚‚ç„¡åŠ¹åŒ–ï¼ˆé€£é–ï¼‰\n```\n\n## ãªãœã“ã®æ‰‹æ³•ã‚’ä½¿ã†ã‹\n\n### ç†ç”±1: ãƒ‡ãƒ¼ã‚¿ä¸€è²«æ€§ã®ä¿è¨¼\n\nä¾å­˜é–¢ä¿‚ã‚’æ˜ç¤ºçš„ã«ç®¡ç†ã™ã‚‹ã“ã¨ã§ã€ãƒ‡ãƒ¼ã‚¿ä¸ä¸€è‡´ã‚’é˜²æ­¢ï¼š\n- è¦ªãƒ‡ãƒ¼ã‚¿æ›´æ–°æ™‚ã€å­ãƒ‡ãƒ¼ã‚¿ã‚‚è‡ªå‹•ç„¡åŠ¹åŒ–\n- ã‚«ã‚¹ã‚±ãƒ¼ãƒ‰ç„¡åŠ¹åŒ–ã«ã‚ˆã‚Šã€é–“æ¥çš„ãªä¾å­˜ã‚‚å‡¦ç†\n- ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³çš„ãªæ›´æ–°ï¼ˆå…¨æˆåŠŸ or å…¨å¤±æ•—ï¼‰\n\n### ç†ç”±2: è‡ªå‹•åŒæœŸ\n\næ‰‹å‹•ã§ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ç®¡ç†ãŒä¸è¦ï¼š\n```typescript\n// æ‚ªã„ä¾‹ï¼šæ‰‹å‹•ã§ã‚­ãƒ£ãƒƒã‚·ãƒ¥ç®¡ç†\nawait updateChapter4();\nawait invalidateChapter4Cache();\nawait invalidateSatoStateCache(); // å¿˜ã‚ŒãŒã¡\nawait invalidateChapter5Cache();  // å¿˜ã‚ŒãŒã¡\n\n// è‰¯ã„ä¾‹ï¼šè‡ªå‹•ã‚«ã‚¹ã‚±ãƒ¼ãƒ‰ç„¡åŠ¹åŒ–\nawait updateChapter4();\nawait cacheCoordinator.invalidateCache('chapter-4-summary');\n// â†’ ä¾å­˜ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã™ã¹ã¦è‡ªå‹•ç„¡åŠ¹åŒ–\n```\n\n### ç†ç”±3: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–\n\nã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ’ãƒƒãƒˆç‡ã®å‘ä¸Šï¼š\n- **LRUï¼ˆLeast Recently Usedï¼‰**: ãƒ¡ãƒ¢ãƒªåˆ¶é™æ™‚ã«æœ€ã‚‚ä½¿ã‚ã‚Œã¦ã„ãªã„ã‚¨ãƒ³ãƒˆãƒªã‚’å‰Šé™¤\n- **TTLï¼ˆTime To Liveï¼‰**: ãƒ¬ã‚¤ãƒ¤ãƒ¼åˆ¥ã®æœ€é©ãªæœ‰åŠ¹æœŸé™è¨­å®š\n- **ãƒ—ãƒªãƒ­ãƒ¼ãƒ‰**: æ¬¡ç« ã®äºˆæ¸¬ã‚­ãƒ£ãƒƒã‚·ãƒ¥äº‹å‰ãƒ­ãƒ¼ãƒ‰\n\n## å†ç¾æ–¹æ³•\n\n### ã‚¹ãƒ†ãƒƒãƒ—1: CacheCoordinatorã®åˆæœŸåŒ–\n\n```typescript\nconst cacheCoordinator = new CacheCoordinator({\n  maxCacheSize: 1000 * 1024 * 1024, // 1GB\n  cleanupInterval: 5 * 60 * 1000,   // 5åˆ†ã”ã¨ã«ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—\n  lruEnabled: true\n});\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2: ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®è¨­å®šï¼ˆä¾å­˜é–¢ä¿‚ä»˜ãï¼‰\n\n```typescript\n// åŸºç¤ãƒ‡ãƒ¼ã‚¿ï¼ˆä¾å­˜ãªã—ï¼‰\nawait cacheCoordinator.setCache(\n  'character-list',\n  characters,\n  MemoryLevel.LONG_TERM\n);\n\n// æ´¾ç”Ÿãƒ‡ãƒ¼ã‚¿ï¼ˆä¾å­˜ã‚ã‚Šï¼‰\nawait cacheCoordinator.setCache(\n  'main-characters',\n  mainCharacters,\n  MemoryLevel.MID_TERM,\n  ['character-list'] // character-listã«ä¾å­˜\n);\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3: ç„¡åŠ¹åŒ–ã‚¤ãƒ™ãƒ³ãƒˆã®ç™ºè¡Œ\n\n```typescript\n// ãƒ‘ã‚¿ãƒ¼ãƒ³ç„¡åŠ¹åŒ–\nawait cacheCoordinator.invalidateCache('chapter-5-*');\n// â†’ chapter-5-context, chapter-5-summary ãªã©ã€ã™ã¹ã¦ç„¡åŠ¹åŒ–\n\n// ç‰¹å®šã‚­ãƒ¼ç„¡åŠ¹åŒ–\nawait cacheCoordinator.invalidateCache('character-sato-state');\n// â†’ ä¾å­˜ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚‚ã‚«ã‚¹ã‚±ãƒ¼ãƒ‰ç„¡åŠ¹åŒ–\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—4: ãƒ—ãƒªãƒ­ãƒ¼ãƒ‰\n\n```typescript\n// æ¬¡ç« ã®ãƒ‡ãƒ¼ã‚¿ã‚’äº‹å‰ãƒ­ãƒ¼ãƒ‰\nasync function preloadNextChapter(chapterNumber: number): Promise<void> {\n  const nextChapter = chapterNumber + 1;\n\n  // äºˆæ¸¬ã•ã‚Œã‚‹ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚­ãƒ¼\n  const keysToPreload = [\n    `chapter-${nextChapter}-context`,\n    `plot-arc-for-chapter-${nextChapter}`,\n    `character-states-chapter-${nextChapter}`\n  ];\n\n  // ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã§ãƒ—ãƒªãƒ­ãƒ¼ãƒ‰\n  Promise.all(\n    keysToPreload.map(key =>\n      fetchAndCache(key, MemoryLevel.SHORT_TERM)\n    )\n  ).catch(err => console.warn('Preload failed:', err));\n}\n```\n\n## ã„ã¤ä½¿ã†ã‹\n\n- **è¤‡æ•°ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥é–“ã«ä¾å­˜é–¢ä¿‚ãŒã‚ã‚‹å ´åˆ**\n- **ãƒ‡ãƒ¼ã‚¿ã®ä¸€è²«æ€§ã‚’ä¿è¨¼ã—ãŸã„å ´åˆ**\n- **éšå±¤å‹ã®ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã‚’ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã™ã‚‹å ´åˆ**\n- **ã‚­ãƒ£ãƒƒã‚·ãƒ¥ç„¡åŠ¹åŒ–ã‚’è‡ªå‹•åŒ–ã—ãŸã„å ´åˆ**\n\nå…·ä½“ä¾‹ï¼š\n- ç« ç”Ÿæˆã‚·ã‚¹ãƒ†ãƒ ï¼ˆç«  â†’ ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼çŠ¶æ…‹ â†’ ãƒ—ãƒ­ãƒƒãƒˆçŠ¶æ…‹ï¼‰\n- åˆ†æã‚·ã‚¹ãƒ†ãƒ ï¼ˆå…ƒãƒ‡ãƒ¼ã‚¿ â†’ ä¸­é–“åˆ†æ â†’ æœ€çµ‚ãƒ¬ãƒãƒ¼ãƒˆï¼‰\n- ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ï¼ˆç”Ÿãƒ‡ãƒ¼ã‚¿ â†’ é›†è¨ˆ â†’ å¯è¦–åŒ–ï¼‰\n\n## æ³¨æ„ç‚¹\n\n### 1. å¾ªç’°ä¾å­˜ã®æ¤œå‡º\n\nä¾å­˜é–¢ä¿‚ãŒå¾ªç’°ã—ãªã„ã‚ˆã†ãƒã‚§ãƒƒã‚¯ï¼š\n\n```typescript\nprivate detectCircularDependency(\n  key: string,\n  dependencies: string[],\n  visited: Set<string> = new Set()\n): boolean {\n  if (visited.has(key)) {\n    return true; // å¾ªç’°æ¤œå‡º\n  }\n\n  visited.add(key);\n\n  for (const dep of dependencies) {\n    const depEntry = this.caches.get(dep);\n    if (depEntry) {\n      if (this.detectCircularDependency(dep, depEntry.dependencies, visited)) {\n        return true;\n      }\n    }\n  }\n\n  return false;\n}\n```\n\n### 2. ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡ã®ç®¡ç†\n\nLRUã§ãƒ¡ãƒ¢ãƒªåˆ¶é™ã‚’å®Ÿæ–½ï¼š\n\n```typescript\nprivate evictIfNecessary(): void {\n  const currentSize = this.calculateTotalSize();\n\n  if (currentSize > this.maxCacheSize) {\n    // ã‚¢ã‚¯ã‚»ã‚¹æ™‚åˆ»ã§ã‚½ãƒ¼ãƒˆï¼ˆå¤ã„é †ï¼‰\n    const entries = Array.from(this.caches.values())\n      .sort((a, b) => a.lastAccessTime - b.lastAccessTime);\n\n    // å‰Šé™¤å¯¾è±¡ã‚’æ±ºå®šï¼ˆä¸‹ä½20%ï¼‰\n    const toEvict = entries.slice(0, Math.floor(entries.length * 0.2));\n\n    for (const entry of toEvict) {\n      this.caches.delete(entry.key);\n    }\n\n    console.log(`Evicted ${toEvict.length} cache entries (LRU)`);\n  }\n}\n```\n\n### 3. ãƒ—ãƒªãƒ­ãƒ¼ãƒ‰ã®å„ªå…ˆåº¦\n\nãƒ—ãƒªãƒ­ãƒ¼ãƒ‰ã¯ä½å„ªå…ˆåº¦ã§å®Ÿè¡Œï¼š\n\n```typescript\nasync preload(key: string): Promise<void> {\n  // ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚­ãƒ¥ãƒ¼ã«ä½å„ªå…ˆåº¦ã§è¿½åŠ \n  await requestQueue.enqueue(\n    async () => {\n      const data = await fetchData(key);\n      await this.setCache(key, data, MemoryLevel.SHORT_TERM);\n    },\n    RequestPriority.LOW // ä½å„ªå…ˆåº¦\n  );\n}\n```\n\n### 4. ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã®ç›£è¦–\n\n```typescript\nconst metrics = cacheCoordinator.getMetrics();\nconsole.log(`\n  Cache hit rate: ${(metrics.hits / metrics.totalRequests * 100).toFixed(1)}%\n  Average fetch time: ${metrics.averageFetchTime}ms\n  Total cache size: ${(metrics.totalSize / 1024 / 1024).toFixed(1)}MB\n  Eviction count: ${metrics.evictions}\n`);\n```\n\nç›®æ¨™å€¤ï¼š\n- ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ’ãƒƒãƒˆç‡: 85%ä»¥ä¸Š\n- å¹³å‡å–å¾—æ™‚é–“: 5-50msï¼ˆã‚­ãƒ£ãƒƒã‚·ãƒ¥çµŒç”±ï¼‰\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `skill_unified_memory_access_api_2025_11_25.md` - çµ±ä¸€ãƒ¡ãƒ¢ãƒªã‚¢ã‚¯ã‚»ã‚¹API\n- `decision_memory_layer_cache_strategy_2025_11_25.md` - è¨˜æ†¶éšå±¤é–“ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥æˆ¦ç•¥é¸æŠ\n- `workflow_memory_layer_data_flow_2025_11_25.md` - ã‚­ãƒ£ãƒƒã‚·ãƒ¥å”èª¿ã‚’å«ã‚€ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼\n",
    "prompt": "### ã‚¹ãƒ†ãƒƒãƒ—1: CacheCoordinatorã®åˆæœŸåŒ–\n\n```typescript\nconst cacheCoordinator = new CacheCoordinator({\n  maxCacheSize: 1000 * 1024 * 1024, // 1GB\n  cleanupInterval: 5 * 60 * 1000,   // 5åˆ†ã”ã¨ã«ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—\n  lruEnabled: true\n});\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2: ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®è¨­å®šï¼ˆä¾å­˜é–¢ä¿‚ä»˜ãï¼‰\n\n```typescript\n// åŸºç¤ãƒ‡ãƒ¼ã‚¿ï¼ˆä¾å­˜ãªã—ï¼‰\nawait cacheCoordinator.setCache(\n  'character-list',\n  characters,\n  MemoryLevel.LONG_TERM\n);\n\n// æ´¾ç”Ÿãƒ‡ãƒ¼ã‚¿ï¼ˆä¾å­˜ã‚ã‚Šï¼‰\nawait cacheCoordinator.setCache(\n  'main-characters',\n  mainCharacters,\n  MemoryLevel.MID_TERM,\n  ['character-list'] // character-listã«ä¾å­˜\n);\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3: ç„¡åŠ¹åŒ–ã‚¤ãƒ™ãƒ³ãƒˆã®ç™ºè¡Œ\n\n```typescript\n// ãƒ‘ã‚¿ãƒ¼ãƒ³ç„¡åŠ¹åŒ–\nawait cacheCoordinator.invalidateCache('chapter-5-*');\n// â†’ chapter-5-context, chapter-5-summary ãªã©ã€ã™ã¹ã¦ç„¡åŠ¹åŒ–\n\n// ç‰¹å®šã‚­ãƒ¼ç„¡åŠ¹åŒ–\nawait cacheCoordinator.invalidateCache('character-sato-state');\n// â†’ ä¾å­˜ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚‚ã‚«ã‚¹ã‚±ãƒ¼ãƒ‰ç„¡åŠ¹åŒ–\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—4: ãƒ—ãƒªãƒ­ãƒ¼ãƒ‰\n\n```typescript\n// æ¬¡ç« ã®ãƒ‡ãƒ¼ã‚¿ã‚’äº‹å‰ãƒ­ãƒ¼ãƒ‰\nasync function preloadNextChapter(chapterNumber: number): Promise<void> {\n  const nextChapter = chapterNumber + 1;\n\n  // äºˆæ¸¬ã•ã‚Œã‚‹ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚­ãƒ¼\n  const keysToPreload = [\n    `chapter-${nextChapter}-context`,\n    `plot-arc-for-chapter-${nextChapter}`,\n    `character-states-chapter-${nextChapter}`\n  ];\n\n  // ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã§ãƒ—ãƒªãƒ­ãƒ¼ãƒ‰\n  Promise.all(\n    keysToPreload.map(key =>\n      fetchAndCache(key, MemoryLevel.SHORT_TERM)\n    )\n  ).catch(err => console.warn('Preload failed:', err));\n}\n```",
    "relatedTech": [
      "skill-unified-memory-access-api",
      "decision-memory-layer-cache-strategy"
    ]
  },
  {
    "slug": "page-structure-matcher",
    "title": "ãƒšãƒ¼ã‚¸æ§‹é€ ãƒãƒƒãƒãƒ³ã‚°ï¼ˆpageStructurePatternï¼‰",
    "category": "Skillsï¼ˆã‚¹ã‚­ãƒ«ãƒ»æ‰‹æ³•ï¼‰",
    "description": "**ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹ã® pageStructurePatternå®šç¾©ã‹ã‚‰ã€å‹•çš„ã«ãƒšãƒ¼ã‚¸æ§‹é€ ã‚’ãƒ­ãƒ¼ãƒ‰ãƒ»é©ç”¨ã™ã‚‹æŠ€è¡“ã€‚**JSONãƒ™ãƒ¼ã‚¹ã®ãƒšãƒ¼ã‚¸æ§‹é€ å®šç¾©ã‚’è§£é‡ˆã—ã€å‹•çš„ãƒšãƒ¼ã‚¸æ•°ï¼ˆ\"dynamic\", \"last\"ï¼‰ã«å¯¾å¿œã€‚",
    "project": "instagram-post-generator",
    "usedIn": [
      "app/services/knowledgeBase/pageStructureMatcher.ts:1-200"
    ],
    "code": "```json\n{\n  \"id\": \"skill_page_structure_matcher_2025_11_25\",\n  \"type\": \"skill\",\n  \"name\": \"ãƒšãƒ¼ã‚¸æ§‹é€ ãƒãƒƒãƒãƒ³ã‚°ï¼ˆpageStructurePatternï¼‰\",\n  \"tags\": [\"æ§‹é€ ãƒãƒƒãƒãƒ³ã‚°\", \"pageStructurePattern\", \"ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹\", \"å‹•çš„ãƒšãƒ¼ã‚¸æ•°\"],\n  \"source_project\": \"instagram-post-generator\",\n  \"source_file\": \"app/services/knowledgeBase/pageStructureMatcher.ts:1-200\",\n  \"difficulty\": \"intermediate\",\n  \"related_knowledge\": [\"decision_arch_knowledge_base_system_2025_11_25\"],\n  \"prerequisites\": [\"JSONãƒ‘ãƒ¼ã‚¹\", \"å‹•çš„ã‚­ãƒ¼å‡¦ç†\"],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# ãƒšãƒ¼ã‚¸æ§‹é€ ãƒãƒƒãƒãƒ³ã‚°ï¼ˆpageStructurePatternï¼‰\n\n## ä½•ã‚’ã™ã‚‹ã‚¹ã‚­ãƒ«ã‹\n\n**ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹ã® pageStructurePatternå®šç¾©ã‹ã‚‰ã€å‹•çš„ã«ãƒšãƒ¼ã‚¸æ§‹é€ ã‚’ãƒ­ãƒ¼ãƒ‰ãƒ»é©ç”¨ã™ã‚‹æŠ€è¡“ã€‚**JSONãƒ™ãƒ¼ã‚¹ã®ãƒšãƒ¼ã‚¸æ§‹é€ å®šç¾©ã‚’è§£é‡ˆã—ã€å‹•çš„ãƒšãƒ¼ã‚¸æ•°ï¼ˆ\"dynamic\", \"last\"ï¼‰ã«å¯¾å¿œã€‚\n\n---\n\n## å…·ä½“çš„ãªæ‰‹æ³•\n\n### å‹•çš„ãƒšãƒ¼ã‚¸æ•°å‡¦ç†\n\n```typescript\nfunction applyPageStructurePattern(pattern: PageStructurePattern, totalPages: number): PageStructure[] {\n  const structures: PageStructure[] = []\n  \n  for (let i = 1; i <= totalPages; i++) {\n    const key = `page${i}`\n    if (pattern[key]) {\n      structures.push({ pageNumber: i, ...pattern[key] })\n    } else if (pattern.dynamic) {\n      structures.push({ pageNumber: i, ...pattern.dynamic })\n    }\n  }\n  \n  if (pattern.last) {\n    structures[totalPages - 1] = { pageNumber: totalPages, ...pattern.last }\n  }\n  \n  return structures\n}\n```\n\n**ãƒšãƒ¼ã‚¸æ§‹é€ ãƒãƒƒãƒãƒ³ã‚°ã«ã‚ˆã‚Šã€å›ºå®šãƒšãƒ¼ã‚¸ãƒ»å‹•çš„ãƒšãƒ¼ã‚¸ãƒ»æœ€çµ‚ãƒšãƒ¼ã‚¸ã®3ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’çµ±ä¸€çš„ã«å‡¦ç†ã€‚**\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€Œãƒšãƒ¼ã‚¸æ§‹é€ ãƒãƒƒãƒãƒ³ã‚°ï¼ˆpageStructurePatternï¼‰ã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "decision-arch-knowledge-base-system"
    ]
  },
  {
    "slug": "parallel-component-processing-promise-allsettled",
    "title": "Promise.allSettledä¸¦åˆ—ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå‡¦ç†ãƒ‘ã‚¿ãƒ¼ãƒ³",
    "category": "Skillsï¼ˆã‚¹ã‚­ãƒ«ãƒ»æ‰‹æ³•ï¼‰",
    "description": "è¤‡æ•°ã®ç‹¬ç«‹ã—ãŸã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå‡¦ç†ã‚’ä¸¦åˆ—å®Ÿè¡Œã—ã€**ä¸€éƒ¨ãŒå¤±æ•—ã—ã¦ã‚‚ä»–ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯æ­£å¸¸ã«å®Œäº†ã•ã›ã‚‹**è€éšœå®³æ€§ã®é«˜ã„éåŒæœŸå‡¦ç†ãƒ‘ã‚¿ãƒ¼ãƒ³ã€‚`Promise.all()`ã®ä»£ã‚ã‚Šã«`Promise.allSettled()`ã‚’ä½¿ã†ã“ã¨ã§ã€ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“ã®å¯ç”¨æ€§ã‚’å‘ä¸Šã•ã›ã‚‹ã€‚",
    "project": "novel-automation-system-v2",
    "usedIn": [
      "src/lib/memory/short-term/short-term-memory.ts:201-206"
    ],
    "code": "```json\n{\n  \"id\": \"skill_parallel_component_processing_promise_allsettled_2025_11_25\",\n  \"type\": \"skill\",\n  \"name\": \"Promise.allSettledä¸¦åˆ—ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå‡¦ç†ãƒ‘ã‚¿ãƒ¼ãƒ³\",\n  \"tags\": [\"ä¸¦è¡Œå‡¦ç†\", \"ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°\", \"Promise\", \"éåŒæœŸå‡¦ç†\", \"è€éšœå®³æ€§\", \"TypeScript\"],\n  \"source_project\": \"novel-automation-system-v2\",\n  \"source_file\": \"src/lib/memory/short-term/short-term-memory.ts:201-206\",\n  \"related_knowledge\": [\n    \"skill_three_layer_memory_hierarchy_integration_2025_11_25\",\n    \"decision_promise_allsettled_vs_all_2025_11_25\"\n  ],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# Promise.allSettledä¸¦åˆ—ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå‡¦ç†ãƒ‘ã‚¿ãƒ¼ãƒ³\n\n## ä½•ã‚’ã™ã‚‹ã‚¹ã‚­ãƒ«ã‹\n\nè¤‡æ•°ã®ç‹¬ç«‹ã—ãŸã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå‡¦ç†ã‚’ä¸¦åˆ—å®Ÿè¡Œã—ã€**ä¸€éƒ¨ãŒå¤±æ•—ã—ã¦ã‚‚ä»–ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯æ­£å¸¸ã«å®Œäº†ã•ã›ã‚‹**è€éšœå®³æ€§ã®é«˜ã„éåŒæœŸå‡¦ç†ãƒ‘ã‚¿ãƒ¼ãƒ³ã€‚`Promise.all()`ã®ä»£ã‚ã‚Šã«`Promise.allSettled()`ã‚’ä½¿ã†ã“ã¨ã§ã€ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“ã®å¯ç”¨æ€§ã‚’å‘ä¸Šã•ã›ã‚‹ã€‚\n\n## å…·ä½“çš„ãªæ‰‹æ³•\n\n### Promise.allSettled()ã®åŸºæœ¬\n\n**Promise.all()ã¨ã®é•ã„**:\n\n```typescript\n// âŒ Promise.all()ï¼š1ã¤ã§ã‚‚å¤±æ•—ã™ã‚‹ã¨å…¨ä½“ãŒå¤±æ•—\ntry {\n    const results = await Promise.all([\n        operation1(),  // æˆåŠŸ\n        operation2(),  // å¤±æ•— â† ã“ã“ã§å…¨ä½“ãŒä¸­æ–­\n        operation3(),  // å®Ÿè¡Œã•ã‚Œã‚‹ãŒçµæœã¯å–å¾—ã§ããªã„\n    ]);\n} catch (error) {\n    // operation2ã®ã‚¨ãƒ©ãƒ¼ã®ã¿ã‚­ãƒ£ãƒƒãƒ\n    // operation1ã¨operation3ã®çµæœã¯å¤±ã‚ã‚Œã‚‹\n}\n\n// âœ… Promise.allSettled()ï¼šå„å‡¦ç†ã®æˆåŠŸãƒ»å¤±æ•—ã‚’å€‹åˆ¥ã«æ‰±ã†\nconst results = await Promise.allSettled([\n    operation1(),  // æˆåŠŸ â†’ { status: 'fulfilled', value: ... }\n    operation2(),  // å¤±æ•— â†’ { status: 'rejected', reason: ... }\n    operation3(),  // æˆåŠŸ â†’ { status: 'fulfilled', value: ... }\n]);\n\n// å…¨ã¦ã®çµæœãŒå–å¾—ã§ãã‚‹\nresults.forEach((result, index) => {\n    if (result.status === 'fulfilled') {\n        console.log(`Operation ${index} succeeded:`, result.value);\n    } else {\n        console.log(`Operation ${index} failed:`, result.reason);\n    }\n});\n```\n\n### 4ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆä¸¦åˆ—å‡¦ç†ã®å®Ÿè£…ä¾‹\n\n```typescript\nasync addChapter(chapter: Chapter): Promise<OperationResult> {\n    const startTime = Date.now();\n\n    // 4ã¤ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä¸¦åˆ—å®Ÿè¡Œ\n    const componentResults = await Promise.allSettled([\n        this.updateImmediateContext(chapter),      // ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ1\n        this.cacheGeneration(chapter),             // ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ2\n        this.bufferProcessing(chapter),            // ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ3\n        this.performAnalysis(chapter)              // ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ4\n    ]);\n\n    const componentNames = [\n        'ImmediateContext',\n        'GenerationCache',\n        'ProcessingBuffers',\n        'TemporaryAnalysis'\n    ];\n\n    const results: ComponentResult[] = [];\n    let successCount = 0;\n    let failureCount = 0;\n\n    // å„çµæœã‚’å€‹åˆ¥ã«å‡¦ç†\n    componentResults.forEach((result, index) => {\n        const componentName = componentNames[index];\n\n        if (result.status === 'fulfilled') {\n            results.push({\n                component: componentName,\n                success: true,\n                data: result.value\n            });\n            successCount++;\n            this.operationStats.componentStats[componentName].operations++;\n        } else {\n            results.push({\n                component: componentName,\n                success: false,\n                error: result.reason\n            });\n            failureCount++;\n            this.operationStats.componentStats[componentName].errors++;\n\n            logger.error(`${componentName} failed:`, result.reason);\n        }\n    });\n\n    // éƒ¨åˆ†çš„æˆåŠŸã‚‚è¨±å®¹\n    const overallSuccess = successCount > 0;  // æœ€ä½1ã¤æˆåŠŸã™ã‚Œã°OK\n\n    return {\n        success: overallSuccess,\n        successCount,\n        failureCount,\n        totalComponents: componentResults.length,\n        results,\n        duration: Date.now() - startTime\n    };\n}\n```\n\n### ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°æˆ¦ç•¥\n\n```typescript\ninterface ComponentResult {\n    component: string;\n    success: boolean;\n    data?: any;\n    error?: Error;\n}\n\nfunction handleComponentResults(results: PromiseSettledResult<any>[]): ComponentResult[] {\n    return results.map((result, index) => {\n        if (result.status === 'fulfilled') {\n            return {\n                component: `Component${index}`,\n                success: true,\n                data: result.value\n            };\n        } else {\n            // ã‚¨ãƒ©ãƒ¼ã®ç¨®é¡ã«å¿œã˜ãŸå‡¦ç†\n            const error = result.reason;\n\n            if (error instanceof NetworkError) {\n                // ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¨ãƒ©ãƒ¼ï¼šãƒªãƒˆãƒ©ã‚¤å¯èƒ½\n                logger.warn('Network error, will retry', error);\n                return {\n                    component: `Component${index}`,\n                    success: false,\n                    error,\n                    retryable: true\n                };\n            } else if (error instanceof ValidationError) {\n                // ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ©ãƒ¼ï¼šãƒªãƒˆãƒ©ã‚¤ä¸å¯\n                logger.error('Validation error, cannot retry', error);\n                return {\n                    component: `Component${index}`,\n                    success: false,\n                    error,\n                    retryable: false\n                };\n            } else {\n                // ä¸æ˜ãªã‚¨ãƒ©ãƒ¼ï¼šæ…é‡ã«ãƒªãƒˆãƒ©ã‚¤\n                logger.error('Unknown error', error);\n                return {\n                    component: `Component${index}`,\n                    success: false,\n                    error,\n                    retryable: false\n                };\n            }\n        }\n    });\n}\n```\n\n### çµ±è¨ˆåé›†ã¨ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°\n\n```typescript\ninterface OperationStats {\n    componentStats: {\n        [componentName: string]: {\n            operations: number;\n            errors: number;\n            averageTime: number;\n            lastError?: string;\n        };\n    };\n    overallSuccessRate: number;\n    partialFailures: number;\n    totalFailures: number;\n}\n\nclass ParallelProcessor {\n    private stats: OperationStats = {\n        componentStats: {},\n        overallSuccessRate: 1.0,\n        partialFailures: 0,\n        totalFailures: 0\n    };\n\n    async processComponents(operations: Array<() => Promise<any>>): Promise<void> {\n        const results = await Promise.allSettled(\n            operations.map(op => this.measureTime(op))\n        );\n\n        // çµ±è¨ˆã‚’æ›´æ–°\n        this.updateStats(results);\n\n        // ã‚¢ãƒ©ãƒ¼ãƒˆãƒã‚§ãƒƒã‚¯\n        if (this.stats.overallSuccessRate < 0.8) {\n            logger.warn('Success rate dropped below 80%', this.stats);\n            // ã‚¢ãƒ©ãƒ¼ãƒˆé€ä¿¡\n        }\n    }\n\n    private async measureTime(operation: () => Promise<any>): Promise<any> {\n        const start = Date.now();\n        try {\n            const result = await operation();\n            return {\n                result,\n                duration: Date.now() - start\n            };\n        } catch (error) {\n            return Promise.reject({\n                error,\n                duration: Date.now() - start\n            });\n        }\n    }\n\n    private updateStats(results: PromiseSettledResult<any>[]): void {\n        const successCount = results.filter(r => r.status === 'fulfilled').length;\n        const failureCount = results.length - successCount;\n\n        if (failureCount > 0 && successCount > 0) {\n            this.stats.partialFailures++;\n        } else if (failureCount === results.length) {\n            this.stats.totalFailures++;\n        }\n\n        this.stats.overallSuccessRate = successCount / results.length;\n    }\n}\n```\n\n## ãªãœã“ã®æ‰‹æ³•ã‚’ä½¿ã†ã‹\n\n**ç†ç”±1ï¼šã‚·ã‚¹ãƒ†ãƒ ã®å¯ç”¨æ€§å‘ä¸Š**\n1ã¤ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒå¤±æ•—ã—ã¦ã‚‚ã€ä»–ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯æ­£å¸¸ã«å‹•ä½œï¼š\n- GenerationCacheãŒå¤±æ•— â†’ ImmediateContextã¨TemporaryAnalysisã¯æˆåŠŸ\n- ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“ã¯éƒ¨åˆ†çš„ã«æ©Ÿèƒ½ç¶­æŒ\n- ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ã®ä½ä¸‹ã‚’æœ€å°åŒ–\n\n**ç†ç”±2ï¼šè©³ç´°ãªã‚¨ãƒ©ãƒ¼æƒ…å ±**\nå„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å¤±æ•—ã‚’å€‹åˆ¥ã«æŠŠæ¡ï¼š\n```typescript\n// Promise.all()ï¼šæœ€åˆã®ã‚¨ãƒ©ãƒ¼ã—ã‹åˆ†ã‹ã‚‰ãªã„\n// Promise.allSettled()ï¼šå…¨ã¦ã®ã‚¨ãƒ©ãƒ¼ãŒåˆ†ã‹ã‚‹\nresults.forEach((result, index) => {\n    if (result.status === 'rejected') {\n        logger.error(`Component ${index} failed:`, {\n            error: result.reason,\n            stack: result.reason.stack\n        });\n    }\n});\n```\n\n**ç†ç”±3ï¼šãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã®å‘ä¸Š**\nä¸¦åˆ—å®Ÿè¡Œã«ã‚ˆã‚Šå‡¦ç†æ™‚é–“ã‚’çŸ­ç¸®ï¼š\n```\né€æ¬¡å®Ÿè¡Œï¼š100ms + 150ms + 200ms + 80ms = 530ms\nä¸¦åˆ—å®Ÿè¡Œï¼šmax(100, 150, 200, 80) = 200ms  â† 2.65å€é«˜é€Ÿ\n```\n\n**ç†ç”±4ï¼šãƒ‡ãƒãƒƒã‚°ã®å®¹æ˜“ã•**\nã©ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒå¤±æ•—ã—ãŸã‹æ˜ç¢ºï¼š\n```typescript\n// å¤±æ•—ã—ãŸã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã ã‘ã‚’ç‰¹å®š\nconst failedComponents = results\n    .map((result, index) => ({ result, index }))\n    .filter(({ result }) => result.status === 'rejected')\n    .map(({ index }) => componentNames[index]);\n\nconsole.log('Failed components:', failedComponents);\n// [\"GenerationCache\", \"ProcessingBuffers\"]\n```\n\n## å†ç¾æ–¹æ³•\n\n### ã‚¹ãƒ†ãƒƒãƒ—1ï¼šåŸºæœ¬çš„ãªä¸¦åˆ—å‡¦ç†\n\n```typescript\ninterface Task {\n    name: string;\n    execute: () => Promise<any>;\n}\n\nasync function executeTasks(tasks: Task[]): Promise<void> {\n    const results = await Promise.allSettled(\n        tasks.map(task => task.execute())\n    );\n\n    results.forEach((result, index) => {\n        const taskName = tasks[index].name;\n\n        if (result.status === 'fulfilled') {\n            console.log(`âœ… ${taskName} succeeded`);\n        } else {\n            console.log(`âŒ ${taskName} failed:`, result.reason.message);\n        }\n    });\n}\n\n// ä½¿ç”¨ä¾‹\nawait executeTasks([\n    { name: 'Task A', execute: async () => { /* ... */ } },\n    { name: 'Task B', execute: async () => { /* ... */ } },\n    { name: 'Task C', execute: async () => { /* ... */ } }\n]);\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2ï¼šå‹å®‰å…¨ãªå®Ÿè£…\n\n```typescript\ntype PromiseResult<T> =\n    | { status: 'fulfilled'; value: T }\n    | { status: 'rejected'; reason: Error };\n\nasync function executeWithTypes<T>(\n    operations: Array<() => Promise<T>>\n): Promise<PromiseResult<T>[]> {\n    const results = await Promise.allSettled(\n        operations.map(op => op())\n    );\n\n    return results as PromiseResult<T>[];\n}\n\n// ä½¿ç”¨ä¾‹\nconst results = await executeWithTypes<UserData>([\n    () => fetchUserFromDB(1),\n    () => fetchUserFromAPI(1),\n    () => fetchUserFromCache(1)\n]);\n\nresults.forEach(result => {\n    if (result.status === 'fulfilled') {\n        const user: UserData = result.value;  // å‹å®‰å…¨\n        console.log(user.name);\n    }\n});\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3ï¼šãƒªãƒˆãƒ©ã‚¤æ©Ÿèƒ½ä»˜ã\n\n```typescript\nasync function executeWithRetry<T>(\n    operation: () => Promise<T>,\n    maxRetries: number = 3\n): Promise<T> {\n    for (let attempt = 1; attempt <= maxRetries; attempt++) {\n        try {\n            return await operation();\n        } catch (error) {\n            if (attempt === maxRetries) {\n                throw error;\n            }\n            logger.warn(`Attempt ${attempt} failed, retrying...`, error);\n            await sleep(1000 * attempt);  // æŒ‡æ•°ãƒãƒƒã‚¯ã‚ªãƒ•\n        }\n    }\n    throw new Error('Should not reach here');\n}\n\n// Promise.allSettledã¨çµ„ã¿åˆã‚ã›\nconst results = await Promise.allSettled([\n    executeWithRetry(() => operation1()),\n    executeWithRetry(() => operation2()),\n    executeWithRetry(() => operation3())\n]);\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—4ï¼šã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆåˆ¶å¾¡\n\n```typescript\nfunction withTimeout<T>(\n    promise: Promise<T>,\n    timeoutMs: number\n): Promise<T> {\n    return Promise.race([\n        promise,\n        new Promise<T>((_, reject) => {\n            setTimeout(() => {\n                reject(new Error(`Timeout after ${timeoutMs}ms`));\n            }, timeoutMs);\n        })\n    ]);\n}\n\n// å„æ“ä½œã«ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã‚’è¨­å®š\nconst results = await Promise.allSettled([\n    withTimeout(operation1(), 5000),   // 5ç§’ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ\n    withTimeout(operation2(), 10000),  // 10ç§’ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ\n    withTimeout(operation3(), 3000)    // 3ç§’ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ\n]);\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—5ï¼šé€²æ—å ±å‘Š\n\n```typescript\nasync function executeWithProgress<T>(\n    operations: Array<() => Promise<T>>,\n    onProgress: (completed: number, total: number) => void\n): Promise<PromiseResult<T>[]> {\n    const total = operations.length;\n    let completed = 0;\n\n    const wrapped = operations.map(op => async () => {\n        try {\n            const result = await op();\n            completed++;\n            onProgress(completed, total);\n            return result;\n        } catch (error) {\n            completed++;\n            onProgress(completed, total);\n            throw error;\n        }\n    });\n\n    const results = await Promise.allSettled(\n        wrapped.map(op => op())\n    );\n\n    return results as PromiseResult<T>[];\n}\n\n// ä½¿ç”¨ä¾‹\nawait executeWithProgress(\n    [op1, op2, op3, op4, op5],\n    (completed, total) => {\n        console.log(`Progress: ${completed}/${total} (${Math.round(completed/total*100)}%)`);\n    }\n);\n```\n\n## ã„ã¤ä½¿ã†ã‹\n\n**é©ç”¨å ´é¢1ï¼šç‹¬ç«‹ã—ãŸè¤‡æ•°ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå‡¦ç†**\n- 4ã¤ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’åŒæ™‚ã«æ›´æ–°\n- è¤‡æ•°ã®APIã‹ã‚‰ä¸¦åˆ—ã«ãƒ‡ãƒ¼ã‚¿å–å¾—\n- è¤‡æ•°ã®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«åŒæ™‚æ›¸ãè¾¼ã¿\n\n**é©ç”¨å ´é¢2ï¼šéƒ¨åˆ†çš„å¤±æ•—ã‚’è¨±å®¹ã§ãã‚‹å‡¦ç†**\n- çµ±è¨ˆåé›†ï¼ˆä¸€éƒ¨å¤±æ•—ã—ã¦ã‚‚ä»–ã®ãƒ‡ãƒ¼ã‚¿ãŒã‚ã‚Œã°OKï¼‰\n- ãƒ­ã‚°æ›¸ãè¾¼ã¿ï¼ˆä¸€éƒ¨å¤±æ•—ã—ã¦ã‚‚ã‚·ã‚¹ãƒ†ãƒ ã¯ç¶™ç¶šï¼‰\n- ã‚­ãƒ£ãƒƒã‚·ãƒ¥æ›´æ–°ï¼ˆå¤±æ•—ã—ã¦ã‚‚DBã‹ã‚‰å†å–å¾—å¯èƒ½ï¼‰\n\n**é©ç”¨å ´é¢3ï¼šè©³ç´°ãªã‚¨ãƒ©ãƒ¼æƒ…å ±ãŒå¿…è¦ãªå ´åˆ**\n- ãƒ‡ãƒãƒƒã‚°æ™‚ã«å„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çŠ¶æ…‹ã‚’æŠŠæ¡\n- ã‚¨ãƒ©ãƒ¼ãƒ¬ãƒãƒ¼ãƒˆã§å¤±æ•—ç®‡æ‰€ã‚’ç‰¹å®š\n- ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã§ã®å¯è¦–åŒ–\n\n**é©ç”¨å ´é¢4ï¼šã‚·ã‚¹ãƒ†ãƒ ã®è€éšœå®³æ€§ã‚’é«˜ã‚ãŸã„æ™‚**\n- ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹é–“ã®ä¸¦åˆ—å‘¼ã³å‡ºã—\n- è¤‡æ•°ã®ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã¸ã®å†—é•·æ›¸ãè¾¼ã¿\n- ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯æ©Ÿæ§‹ã®å®Ÿè£…\n\n## æ³¨æ„ç‚¹\n\n**æ³¨æ„ç‚¹1ï¼šå…¨ã¦å¤±æ•—ã™ã‚‹å¯èƒ½æ€§**\nå°‘ãªãã¨ã‚‚1ã¤ã¯æˆåŠŸã™ã‚‹ã“ã¨ã‚’æœŸå¾…ã™ã‚‹å ´åˆã€ãƒã‚§ãƒƒã‚¯ãŒå¿…è¦ï¼š\n```typescript\nconst successCount = results.filter(r => r.status === 'fulfilled').length;\n\nif (successCount === 0) {\n    throw new Error('All components failed');\n}\n```\n\n**æ³¨æ„ç‚¹2ï¼šãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡**\nå…¨ã¦ã®çµæœã‚’ä¿æŒã™ã‚‹ãŸã‚ã€å¤§é‡ã®ä¸¦åˆ—å‡¦ç†ã§ã¯ãƒ¡ãƒ¢ãƒªæ¶ˆè²»ã«æ³¨æ„ï¼š\n```typescript\n// 1000å€‹ã®å‡¦ç†ã‚’ä¸€åº¦ã«å®Ÿè¡Œã™ã‚‹ã¨å±é™º\n// ãƒãƒƒãƒå‡¦ç†ã‚’æ¤œè¨\nasync function executeBatched<T>(\n    operations: Array<() => Promise<T>>,\n    batchSize: number = 10\n): Promise<PromiseResult<T>[]> {\n    const results: PromiseResult<T>[] = [];\n\n    for (let i = 0; i < operations.length; i += batchSize) {\n        const batch = operations.slice(i, i + batchSize);\n        const batchResults = await Promise.allSettled(\n            batch.map(op => op())\n        );\n        results.push(...batchResults as PromiseResult<T>[]);\n    }\n\n    return results;\n}\n```\n\n**æ³¨æ„ç‚¹3ï¼šã‚¨ãƒ©ãƒ¼ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®å‹**\n`result.reason`ã¯`any`å‹ï¼š\n```typescript\nif (result.status === 'rejected') {\n    const error = result.reason;\n\n    // å‹ã‚¬ãƒ¼ãƒ‰\n    if (error instanceof Error) {\n        console.log(error.message);\n    } else {\n        console.log(String(error));\n    }\n}\n```\n\n**æ³¨æ„ç‚¹4ï¼šå®Ÿè¡Œé †åºã®éæ±ºå®šæ€§**\nä¸¦åˆ—å®Ÿè¡Œã®ãŸã‚ã€å®Œäº†é †åºã¯ä¿è¨¼ã•ã‚Œãªã„ï¼š\n```typescript\n// å®Œäº†é †åºãŒé‡è¦ãªå ´åˆã¯Promise.all()ã‚’ä½¿ã†\n// ã¾ãŸã¯é€æ¬¡å®Ÿè¡Œ\nfor (const op of operations) {\n    await op();  // é †ç•ªã«å®Ÿè¡Œ\n}\n```\n\n**æ³¨æ„ç‚¹5ï¼šãƒªã‚½ãƒ¼ã‚¹ãƒªãƒ¼ã‚¯**\nã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã‚„ã‚­ãƒ£ãƒ³ã‚»ãƒ«æ™‚ã«ãƒªã‚½ãƒ¼ã‚¹ã‚’é©åˆ‡ã«è§£æ”¾ï¼š\n```typescript\nconst controller = new AbortController();\n\nsetTimeout(() => controller.abort(), 5000);\n\nconst results = await Promise.allSettled([\n    fetch(url1, { signal: controller.signal }),\n    fetch(url2, { signal: controller.signal })\n]);\n```\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `skill_three_layer_memory_hierarchy_integration_2025_11_25.md`ï¼šã“ã®æ‰‹æ³•ã‚’ä½¿ã†å®Ÿä¾‹\n- `decision_promise_allsettled_vs_all_2025_11_25.md`ï¼šãªãœallSettledã‚’é¸ã¶ã®ã‹\n- `workflow_parallel_component_initialization_2025_11_25.md`ï¼šåˆæœŸåŒ–ã§ã®ä½¿ç”¨ä¾‹\n",
    "prompt": "### ã‚¹ãƒ†ãƒƒãƒ—1ï¼šåŸºæœ¬çš„ãªä¸¦åˆ—å‡¦ç†\n\n```typescript\ninterface Task {\n    name: string;\n    execute: () => Promise<any>;\n}\n\nasync function executeTasks(tasks: Task[]): Promise<void> {\n    const results = await Promise.allSettled(\n        tasks.map(task => task.execute())\n    );\n\n    results.forEach((result, index) => {\n        const taskName = tasks[index].name;\n\n        if (result.status === 'fulfilled') {\n            console.log(`âœ… ${taskName} succeeded`);\n        } else {\n            console.log(`âŒ ${taskName} failed:`, result.reason.message);\n        }\n    });\n}\n\n// ä½¿ç”¨ä¾‹\nawait executeTasks([\n    { name: 'Task A', execute: async () => { /* ... */ } },\n    { name: 'Task B', execute: async () => { /* ... */ } },\n    { name: 'Task C', execute: async () => { /* ... */ } }\n]);\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2ï¼šå‹å®‰å…¨ãªå®Ÿè£…\n\n```typescript\ntype PromiseResult<T> =\n    | { status: 'fulfilled'; value: T }\n    | { status: 'rejected'; reason: Error };\n\nasync function executeWithTypes<T>(\n    operations: Array<() => Promise<T>>\n): Promise<PromiseResult<T>[]> {\n    const results = await Promise.allSettled(\n        operations.map(op => op())\n    );\n\n    return results as PromiseResult<T>[];\n}\n\n// ä½¿ç”¨ä¾‹\nconst results = await executeWithTypes<UserData>([\n    () => fetchUserFromDB(1),\n    () => fetchUserFromAPI(1),\n    () => fetchUserFromCache(1)\n]);\n\nresults.forEach(result => {\n    if (result.status === 'fulfilled') {\n        const user: UserData = result.value;  // å‹å®‰å…¨\n        console.log(user.name);\n    }\n});\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3ï¼šãƒªãƒˆãƒ©ã‚¤æ©Ÿèƒ½ä»˜ã\n\n```typescript\nasync function executeWithRetry<T>(\n    operation: () => Promise<T>,\n    maxRetries: number = 3\n): Promise<T> {\n    for (let attempt = 1; attempt <= maxRetries; attempt++) {\n        try {\n            return await operation();\n        } catch (error) {\n            if (attempt === maxRetries) {\n                throw error;\n            }\n            logger.warn(`Attempt ${attempt} failed, retrying...`, error);\n            await sleep(1000 * attempt);  // æŒ‡æ•°ãƒãƒƒã‚¯ã‚ªãƒ•\n        }\n    }\n    throw new Error('Should not reach here');\n}\n\n// Promise.allSettledã¨çµ„ã¿åˆã‚ã›\nconst results = await Promise.allSettled([\n    executeWithRetry(() => operation1()),\n    executeWithRetry(() => operation2()),\n    executeWithRetry(() => operation3())\n]);\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—4ï¼šã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆåˆ¶å¾¡\n\n```typescript\nfunction withTimeout<T>(\n    promise: Promise<T>,\n    timeoutMs: number\n): Promise<T> {\n    return Promise.race([\n        promise,\n        new Promise<T>((_, reject) => {\n            setTimeout(() => {\n                reject(new Error(`Timeout after ${timeoutMs}ms`));\n            }, timeoutMs);\n        })\n    ]);\n}\n\n// å„æ“ä½œã«ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã‚’è¨­å®š\nconst results = await Promise.allSettled([\n    withTimeout(operation1(), 5000),   // 5ç§’ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ\n    withTimeout(operation2(), 10000),  // 10ç§’ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ\n    withTimeout(operation3(), 3000)    // 3ç§’ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ\n]);\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—5ï¼šé€²æ—å ±å‘Š\n\n```typescript\nasync function executeWithProgress<T>(\n    operations: Array<() => Promise<T>>,\n    onProgress: (completed: number, total: number) => void\n): Promise<PromiseResult<T>[]> {\n    const total = operations.length;\n    let completed = 0;\n\n    const wrapped = operations.map(op => async () => {\n        try {\n            const result = await op();\n            completed++;\n            onProgress(completed, total);\n            return result;\n        } catch (error) {\n            completed++;\n            onProgress(completed, total);\n            throw error;\n        }\n    });\n\n    const results = await Promise.allSettled(\n        wrapped.map(op => op())\n    );\n\n    return results as PromiseResult<T>[];\n}\n\n// ä½¿ç”¨ä¾‹\nawait executeWithProgress(\n    [op1, op2, op3, op4, op5],\n    (completed, total) => {\n        console.log(`Progress: ${completed}/${total} (${Math.round(completed/total*100)}%)`);\n    }\n);\n```",
    "relatedTech": [
      "skill-three-layer-memory-hierarchy-integration",
      "decision-promise-allsettled-vs-all"
    ]
  },
  {
    "slug": "parameter-dynamic-adjustment",
    "title": "ç”Ÿæˆãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿å‹•çš„èª¿æ•´æ‰‹æ³•",
    "category": "Skillsï¼ˆã‚¹ã‚­ãƒ«ãƒ»æ‰‹æ³•ï¼‰",
    "description": "ç« ã®ã‚¿ã‚¤ãƒ—ã€ãƒ†ãƒ³ã‚·ãƒ§ãƒ³ãƒ¬ãƒ™ãƒ«ã€ãƒŠãƒ©ãƒ†ã‚£ãƒ–çŠ¶æ…‹ã«å¿œã˜ã¦ã€temperatureã€topPã€topKã€frequencyPenaltyã€presencePenaltyã€targetLengthç­‰ã®AIç”Ÿæˆãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’å‹•çš„ã«èª¿æ•´ã—ã€æœ€é©ãªå‡ºåŠ›ã‚’å¾—ã‚‹æ‰‹æ³•ã€‚",
    "project": "novel-automation-system-v2",
    "usedIn": [
      "src/lib/generation/engine/chapter-generator.ts:200-400"
    ],
    "code": "```json\n{\n  \"id\": \"skill_parameter_dynamic_adjustment_2025_11_25\",\n  \"type\": \"skill\",\n  \"name\": \"ç”Ÿæˆãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿å‹•çš„èª¿æ•´æ‰‹æ³•\",\n  \"tags\": [\"ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿èª¿æ•´\", \"AIç”Ÿæˆ\", \"temperature\", \"å‹•çš„æœ€é©åŒ–\", \"å“è³ªç®¡ç†\", \"å°èª¬ç”Ÿæˆ\"],\n  \"source_project\": \"novel-automation-system-v2\",\n  \"source_file\": \"src/lib/generation/engine/chapter-generator.ts:200-400\",\n  \"related_knowledge\": [\n    \"decision_temperature_0_7_choice_2025_11_25\",\n    \"skill_context_generation_system_2025_11_25\",\n    \"decision_gemini_2_0_flash_lite_choice_2025_11_25\"\n  ],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# ç”Ÿæˆãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿å‹•çš„èª¿æ•´æ‰‹æ³•\n\n## ä½•ã‚’ã™ã‚‹ã‚¹ã‚­ãƒ«ã‹\n\nç« ã®ã‚¿ã‚¤ãƒ—ã€ãƒ†ãƒ³ã‚·ãƒ§ãƒ³ãƒ¬ãƒ™ãƒ«ã€ãƒŠãƒ©ãƒ†ã‚£ãƒ–çŠ¶æ…‹ã«å¿œã˜ã¦ã€temperatureã€topPã€topKã€frequencyPenaltyã€presencePenaltyã€targetLengthç­‰ã®AIç”Ÿæˆãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’å‹•çš„ã«èª¿æ•´ã—ã€æœ€é©ãªå‡ºåŠ›ã‚’å¾—ã‚‹æ‰‹æ³•ã€‚\n\n## å…·ä½“çš„ãªæ‰‹æ³•\n\n### ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿å®šç¾©\n\n```typescript\ninterface GenerationParameters {\n  model: string;              // ä½¿ç”¨ãƒ¢ãƒ‡ãƒ«\n  temperature: number;        // å‰µé€ æ€§ (0.0-1.0)\n  topP: number;              // ãƒˆãƒ¼ã‚¯ãƒ³é¸æŠå¤šæ§˜æ€§ (0.0-1.0)\n  topK: number;              // ãƒˆãƒ¼ã‚¯ãƒ³å€™è£œæ•°\n  frequencyPenalty: number;  // é‡è¤‡å˜èªãƒšãƒŠãƒ«ãƒ†ã‚£ (0.0-2.0)\n  presencePenalty: number;   // æ–°è¦ãƒˆãƒ¼ã‚¯ãƒ³å¥¨åŠ± (0.0-2.0)\n  targetLength: number;      // ç›®æ¨™æ–‡å­—æ•°\n  minLength: number;         // æœ€å°æ–‡å­—æ•°\n  maxLength: number;         // æœ€å¤§æ–‡å­—æ•°\n}\n\n// ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿\nconst DEFAULT_PARAMS: GenerationParameters = {\n  model: 'gemini-2.0-flash-lite',\n  temperature: 0.7,\n  topP: 0.9,\n  topK: 40,\n  frequencyPenalty: 0.6,\n  presencePenalty: 0.3,\n  targetLength: 2000,\n  minLength: 1500,\n  maxLength: 8500\n};\n```\n\n### å‹•çš„èª¿æ•´ãƒ­ã‚¸ãƒƒã‚¯\n\n```typescript\nclass ParameterAdjuster {\n  // ç« ã‚¿ã‚¤ãƒ—ã«åŸºã¥ãèª¿æ•´\n  adjustForChapterType(\n    baseParams: GenerationParameters,\n    chapterType: ChapterType\n  ): GenerationParameters {\n    const adjusted = { ...baseParams };\n\n    switch (chapterType) {\n      case 'OPENING':\n        // å°å…¥ç« : ã‚ˆã‚Šå‰µé€ çš„ã€è©³ç´°ãªæå†™\n        adjusted.temperature = 0.8;\n        adjusted.targetLength = baseParams.targetLength * 1.2;\n        adjusted.presencePenalty = 0.5; // æ–°è¦æ¦‚å¿µã®å°å…¥ã‚’å¥¨åŠ±\n        break;\n\n      case 'ACTION':\n        // ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ç« : ãƒªã‚ºãƒŸã‚«ãƒ«ã€ãƒ†ãƒ³ãƒé‡è¦–\n        adjusted.temperature = 0.75;\n        adjusted.frequencyPenalty = 0.5; // ãƒªã‚ºãƒ é‡è¦–ã§é‡è¤‡è¨±å®¹\n        adjusted.topP = 0.85; // ã‚„ã‚„å®‰å®šæ€§é‡è¦–\n        break;\n\n      case 'REVELATION':\n        // çœŸå®Ÿéœ²è¦‹: å®‰å®šæ€§ã€æ˜ç¢ºã•é‡è¦–\n        adjusted.temperature = 0.65;\n        adjusted.topP = 0.85;\n        adjusted.frequencyPenalty = 0.7;\n        break;\n\n      case 'INTROSPECTION':\n        // å†…çœç« : å¤šæ§˜ãªèªå½™ã€æ·±ã„æå†™\n        adjusted.temperature = 0.75;\n        adjusted.frequencyPenalty = 0.8; // å¤šæ§˜ãªè¡¨ç¾\n        adjusted.presencePenalty = 0.5; // æ–°è¦æ¦‚å¿µå°å…¥\n        adjusted.targetLength = baseParams.targetLength; // æ¨™æº–é•·\n        break;\n\n      case 'CLOSING':\n        // ç· ã‚ããã‚Š: æ„Ÿå‹•çš„ã€ãƒãƒ©ãƒ³ã‚¹é‡è¦–\n        adjusted.temperature = 0.7;\n        adjusted.targetLength = baseParams.targetLength * 1.15;\n        break;\n\n      case 'NEW_ARC':\n        // æ–°ã‚¢ãƒ¼ã‚¯: æ–°é®®ã•ã€æœŸå¾…æ„Ÿ\n        adjusted.temperature = 0.8;\n        adjusted.presencePenalty = 0.6;\n        adjusted.targetLength = baseParams.targetLength * 1.1;\n        break;\n\n      default:\n        // æ¨™æº–ç« : ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤\n        break;\n    }\n\n    return adjusted;\n  }\n\n  // ãƒ†ãƒ³ã‚·ãƒ§ãƒ³ãƒ¬ãƒ™ãƒ«ã«åŸºã¥ãèª¿æ•´\n  adjustForTension(\n    baseParams: GenerationParameters,\n    tensionLevel: number\n  ): GenerationParameters {\n    const adjusted = { ...baseParams };\n\n    if (tensionLevel >= 0.8) {\n      // é«˜ãƒ†ãƒ³ã‚·ãƒ§ãƒ³: å‰µé€ çš„ã€å¤‰åŒ–ã«å¯Œã‚€\n      adjusted.temperature = 0.85 + (tensionLevel - 0.8) * 0.3; // 0.85-0.91\n      adjusted.topP = 0.95;\n      adjusted.targetLength = baseParams.targetLength * 1.2;\n    } else if (tensionLevel >= 0.6) {\n      // ä¸­ã€œé«˜ãƒ†ãƒ³ã‚·ãƒ§ãƒ³\n      adjusted.temperature = 0.75 + (tensionLevel - 0.6) * 0.5; // 0.75-0.85\n      adjusted.targetLength = baseParams.targetLength * 1.1;\n    } else if (tensionLevel >= 0.4) {\n      // ä¸­ãƒ†ãƒ³ã‚·ãƒ§ãƒ³: ãƒãƒ©ãƒ³ã‚¹å‹\n      adjusted.temperature = 0.65 + (tensionLevel - 0.4) * 0.5; // 0.65-0.75\n      adjusted.targetLength = baseParams.targetLength;\n    } else {\n      // ä½ãƒ†ãƒ³ã‚·ãƒ§ãƒ³: å®‰å®šæ€§ã€è©³ç´°æå†™\n      adjusted.temperature = 0.5 + tensionLevel * 0.375; // 0.5-0.65\n      adjusted.frequencyPenalty = 0.7;\n      adjusted.targetLength = baseParams.targetLength * 0.9;\n    }\n\n    return adjusted;\n  }\n\n  // ãƒšãƒ¼ã‚·ãƒ³ã‚°ã«åŸºã¥ãèª¿æ•´\n  adjustForPacing(\n    baseParams: GenerationParameters,\n    pacing: number\n  ): GenerationParameters {\n    const adjusted = { ...baseParams };\n\n    if (pacing >= 0.7) {\n      // é€Ÿã„ãƒšãƒ¼ã‚¹: ç°¡æ½”ã€ãƒ†ãƒ³ãƒé‡è¦–\n      adjusted.targetLength = baseParams.targetLength * 0.85;\n      adjusted.topK = 30; // é¸æŠè‚¢ã‚’çµã‚‹\n    } else if (pacing <= 0.3) {\n      // é…ã„ãƒšãƒ¼ã‚¹: è©³ç´°ã€ç‘æƒ³çš„\n      adjusted.targetLength = baseParams.targetLength * 1.15;\n      adjusted.temperature = Math.max(0.5, adjusted.temperature - 0.1);\n    }\n\n    return adjusted;\n  }\n\n  // ã‚¸ãƒ£ãƒ³ãƒ«ã«åŸºã¥ãèª¿æ•´\n  adjustForGenre(\n    baseParams: GenerationParameters,\n    genre: string\n  ): GenerationParameters {\n    const adjusted = { ...baseParams };\n\n    switch (genre) {\n      case 'business':\n        // ãƒ“ã‚¸ãƒã‚¹: æ˜ç¢ºã•ã€å®Ÿç”¨æ€§é‡è¦–\n        adjusted.temperature = 0.65;\n        adjusted.topP = 0.85;\n        adjusted.frequencyPenalty = 0.7;\n        break;\n\n      case 'fantasy':\n        // ãƒ•ã‚¡ãƒ³ã‚¿ã‚¸ãƒ¼: å‰µé€ çš„ã€æå†™è±Šã‹\n        adjusted.temperature = 0.8;\n        adjusted.presencePenalty = 0.5;\n        adjusted.targetLength = baseParams.targetLength * 1.1;\n        break;\n\n      case 'mystery':\n        // ãƒŸã‚¹ãƒ†ãƒªãƒ¼: ç·»å¯†ã€è¨ˆç®—çš„\n        adjusted.temperature = 0.6;\n        adjusted.topP = 0.85;\n        adjusted.frequencyPenalty = 0.8;\n        break;\n\n      case 'romance':\n        // ãƒ­ãƒãƒ³ã‚¹: æ„Ÿæƒ…çš„ã€å¤šå½©ãªè¡¨ç¾\n        adjusted.temperature = 0.75;\n        adjusted.frequencyPenalty = 0.8;\n        adjusted.presencePenalty = 0.4;\n        break;\n\n      default:\n        break;\n    }\n\n    return adjusted;\n  }\n\n  // çµ±åˆèª¿æ•´ï¼ˆã™ã¹ã¦ã®è¦ç´ ã‚’è€ƒæ…®ï¼‰\n  adjustComprehensively(\n    baseParams: GenerationParameters,\n    context: {\n      chapterType: ChapterType;\n      tensionLevel: number;\n      pacing: number;\n      genre: string;\n    }\n  ): GenerationParameters {\n    let params = { ...baseParams };\n\n    // é †åºé‡è¦: å¾Œã®èª¿æ•´ãŒå„ªå…ˆã•ã‚Œã‚‹\n    params = this.adjustForGenre(params, context.genre);\n    params = this.adjustForChapterType(params, context.chapterType);\n    params = this.adjustForPacing(params, context.pacing);\n    params = this.adjustForTension(params, context.tensionLevel);\n\n    // æœ€çµ‚æ¤œè¨¼ã¨ç¯„å›²åˆ¶é™\n    params = this.validateAndClamp(params);\n\n    return params;\n  }\n\n  // ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®æ¤œè¨¼ã¨ç¯„å›²åˆ¶é™\n  private validateAndClamp(params: GenerationParameters): GenerationParameters {\n    return {\n      ...params,\n      temperature: Math.max(0.0, Math.min(1.0, params.temperature)),\n      topP: Math.max(0.0, Math.min(1.0, params.topP)),\n      topK: Math.max(1, Math.min(100, params.topK)),\n      frequencyPenalty: Math.max(0.0, Math.min(2.0, params.frequencyPenalty)),\n      presencePenalty: Math.max(0.0, Math.min(2.0, params.presencePenalty)),\n      targetLength: Math.max(params.minLength, Math.min(params.maxLength, params.targetLength))\n    };\n  }\n}\n```\n\n### ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®å½±éŸ¿åˆ†æ\n\n```typescript\nclass ParameterAnalyzer {\n  analyzeImpact(params: GenerationParameters): ParameterImpact {\n    return {\n      creativity: this.calculateCreativity(params.temperature, params.topP),\n      diversity: this.calculateDiversity(params.frequencyPenalty, params.presencePenalty),\n      stability: this.calculateStability(params.temperature, params.topK),\n      verbosity: this.calculateVerbosity(params.targetLength),\n      qualityPrediction: this.predictQuality(params)\n    };\n  }\n\n  private calculateCreativity(temperature: number, topP: number): number {\n    return (temperature * 0.7 + topP * 0.3);\n  }\n\n  private calculateDiversity(freqPenalty: number, presPenalty: number): number {\n    return (freqPenalty * 0.6 + presPenalty * 0.4);\n  }\n\n  private calculateStability(temperature: number, topK: number): number {\n    return (1 - temperature) * 0.7 + (1 - topK / 100) * 0.3;\n  }\n}\n```\n\n## ãªãœã“ã®æ‰‹æ³•ã‚’ä½¿ã†ã‹\n\n### ç†ç”±1: ç« ã‚¿ã‚¤ãƒ—ã”ã¨ã®æœ€é©åŒ–\n\nå„ç« ã‚¿ã‚¤ãƒ—ã«æœ€é©ãªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã§ã€å“è³ªãŒå¤§å¹…ã«å‘ä¸Šã€‚\n\n### ç†ç”±2: æŸ”è»Ÿãªå“è³ªèª¿æ•´\n\nå›ºå®šãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã§ã¯å¯¾å¿œã§ããªã„å¤šæ§˜ãªã‚·ãƒŠãƒªã‚ªã«å¯¾å¿œå¯èƒ½ã€‚\n\n### ç†ç”±3: ã‚³ã‚¹ãƒˆæœ€é©åŒ–\n\nå¿…è¦ãªç« ã ã‘é«˜temperatureã§ç”Ÿæˆã—ã€æ¨™æº–ç« ã¯ä½temperatureã§å®‰å®šæ€§é‡è¦–ã«ã™ã‚‹ã“ã¨ã§ã‚³ã‚¹ãƒˆã‚’å‰Šæ¸›ã€‚\n\n### ç†ç”±4: ä¸€è²«æ€§ã¨å¤šæ§˜æ€§ã®ãƒãƒ©ãƒ³ã‚¹\n\nçŠ¶æ³ã«å¿œã˜ã¦ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’èª¿æ•´ã™ã‚‹ã“ã¨ã§ã€ä¸€è²«æ€§ã‚’ä¿ã¡ã¤ã¤é€€å±ˆã•ã‚’é¿ã‘ã‚‹ã€‚\n\n## å†ç¾æ–¹æ³•\n\n### ã‚¹ãƒ†ãƒƒãƒ—1: ParameterAdjusterã®åˆæœŸåŒ–\n\n```typescript\nconst adjuster = new ParameterAdjuster();\nconst baseParams = DEFAULT_PARAMS;\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2: ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã®æº–å‚™\n\n```typescript\nconst context = {\n  chapterType: 'ACTION',\n  tensionLevel: 0.8,\n  pacing: 0.7,\n  genre: 'business'\n};\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3: ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®èª¿æ•´\n\n```typescript\nconst adjustedParams = adjuster.adjustComprehensively(baseParams, context);\n\nconsole.log('èª¿æ•´å¾Œã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿:');\nconsole.log(`Temperature: ${adjustedParams.temperature}`);\nconsole.log(`Target Length: ${adjustedParams.targetLength}`);\nconsole.log(`Frequency Penalty: ${adjustedParams.frequencyPenalty}`);\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—4: å½±éŸ¿åˆ†æï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰\n\n```typescript\nconst analyzer = new ParameterAnalyzer();\nconst impact = analyzer.analyzeImpact(adjustedParams);\n\nconsole.log('äºˆæ¸¬ã•ã‚Œã‚‹å½±éŸ¿:');\nconsole.log(`å‰µé€ æ€§: ${impact.creativity}`);\nconsole.log(`å¤šæ§˜æ€§: ${impact.diversity}`);\nconsole.log(`å®‰å®šæ€§: ${impact.stability}`);\n```\n\n## ã„ã¤ä½¿ã†ã‹\n\n- å°èª¬ã®ç« ç”Ÿæˆç›´å‰ï¼ˆæ¯å›ï¼‰\n- ç•°ãªã‚‹ç« ã‚¿ã‚¤ãƒ—ã‚„ãƒˆãƒ¼ãƒ³ã®æ–‡ç« ã‚’ç”Ÿæˆã™ã‚‹å ´åˆ\n- å“è³ªã¨ã‚³ã‚¹ãƒˆã®ãƒãƒ©ãƒ³ã‚¹ã‚’æœ€é©åŒ–ã—ãŸã„å ´åˆ\n- ãƒ†ãƒ³ã‚·ãƒ§ãƒ³ã‚„ãƒšãƒ¼ã‚·ãƒ³ã‚°ã«å¿œã˜ãŸè¡¨ç¾ã‚’å¾—ãŸã„å ´åˆ\n\n## æ³¨æ„ç‚¹\n\n### æ³¨æ„1: éåº¦ãªèª¿æ•´ã®å›é¿\n\nãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’æ¥µç«¯ã«èª¿æ•´ã™ã‚‹ã¨ã€äºˆæ¸¬ä¸å¯èƒ½ãªå‡ºåŠ›ã«ãªã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ã€‚\n\n### æ³¨æ„2: èª¿æ•´é †åºã®å½±éŸ¿\n\nè¤‡æ•°ã®èª¿æ•´ã‚’é©ç”¨ã™ã‚‹å ´åˆã€é †åºã«ã‚ˆã‚ŠçµæœãŒå¤‰ã‚ã‚‹ã€‚é‡è¦åº¦ã®ä½ã„èª¿æ•´ã‹ã‚‰å…ˆã«é©ç”¨ã™ã‚‹ã€‚\n\n### æ³¨æ„3: ãƒ¢ãƒ‡ãƒ«ã”ã¨ã®æœ€é©å€¤\n\nGeminiã€GPT-4ã€Claudeç­‰ã€ãƒ¢ãƒ‡ãƒ«ã”ã¨ã«æœ€é©ãªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ç¯„å›²ãŒç•°ãªã‚‹ã€‚\n\n### æ³¨æ„4: A/Bãƒ†ã‚¹ãƒˆã®å®Ÿæ–½\n\næ–°ã—ã„èª¿æ•´ãƒ­ã‚¸ãƒƒã‚¯ã‚’æœ¬ç•ªé©ç”¨ã™ã‚‹å‰ã«ã€A/Bãƒ†ã‚¹ãƒˆã§åŠ¹æœã‚’æ¤œè¨¼ã™ã‚‹ã€‚\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `decision_temperature_0_7_choice_2025_11_25.md`ï¼šãªãœãƒ‡ãƒ•ã‚©ãƒ«ãƒˆtemperature 0.7ã‚’é¸ã‚“ã ã‹\n- `skill_context_generation_system_2025_11_25.md`ï¼šã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‹ã‚‰ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿èª¿æ•´ã«å¿…è¦ãªæƒ…å ±ã‚’å–å¾—\n- `decision_gemini_2_0_flash_lite_choice_2025_11_25.md`ï¼šä½¿ç”¨ãƒ¢ãƒ‡ãƒ«ã®é¸æŠç†ç”±\n",
    "prompt": "### ã‚¹ãƒ†ãƒƒãƒ—1: ParameterAdjusterã®åˆæœŸåŒ–\n\n```typescript\nconst adjuster = new ParameterAdjuster();\nconst baseParams = DEFAULT_PARAMS;\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2: ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã®æº–å‚™\n\n```typescript\nconst context = {\n  chapterType: 'ACTION',\n  tensionLevel: 0.8,\n  pacing: 0.7,\n  genre: 'business'\n};\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3: ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®èª¿æ•´\n\n```typescript\nconst adjustedParams = adjuster.adjustComprehensively(baseParams, context);\n\nconsole.log('èª¿æ•´å¾Œã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿:');\nconsole.log(`Temperature: ${adjustedParams.temperature}`);\nconsole.log(`Target Length: ${adjustedParams.targetLength}`);\nconsole.log(`Frequency Penalty: ${adjustedParams.frequencyPenalty}`);\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—4: å½±éŸ¿åˆ†æï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰\n\n```typescript\nconst analyzer = new ParameterAnalyzer();\nconst impact = analyzer.analyzeImpact(adjustedParams);\n\nconsole.log('äºˆæ¸¬ã•ã‚Œã‚‹å½±éŸ¿:');\nconsole.log(`å‰µé€ æ€§: ${impact.creativity}`);\nconsole.log(`å¤šæ§˜æ€§: ${impact.diversity}`);\nconsole.log(`å®‰å®šæ€§: ${impact.stability}`);\n```",
    "relatedTech": [
      "decision-temperature-0-7-choice",
      "skill-context-generation-system",
      "decision-gemini-2-0-flash-lite-choice"
    ]
  },
  {
    "slug": "pdf-generation-triple-approach",
    "title": "PDFç”Ÿæˆãƒˆãƒªãƒ—ãƒ«ã‚¢ãƒ—ãƒ­ãƒ¼ãƒï¼ˆjsPDF + html2canvas + Puppeteerï¼‰",
    "category": "Skillsï¼ˆã‚¹ã‚­ãƒ«ãƒ»æ‰‹æ³•ï¼‰",
    "description": "Webã‚¢ãƒ—ãƒªã§ä½œæˆã—ãŸãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ã€é«˜å“è³ªãªPDFãƒ•ã‚¡ã‚¤ãƒ«ã¨ã—ã¦ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã™ã‚‹ãŸã‚ã«ã€3ã¤ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªï¼ˆjsPDFã€html2canvasã€Puppeteerï¼‰ã‚’çµ„ã¿åˆã‚ã›ã¦ä½¿ç”¨ã™ã‚‹æ‰‹æ³•ã€‚",
    "project": "ai-document-generator",
    "usedIn": [
      "package.json:37-48, src/app/api/export/route.ts, doc/v5/v5ä»•æ§˜æ›¸.md:98-106"
    ],
    "code": "```json\n{\n  \"id\": \"skill_pdf_generation_triple_approach_2025_04_11\",\n  \"type\": \"skill\",\n  \"name\": \"PDFç”Ÿæˆãƒˆãƒªãƒ—ãƒ«ã‚¢ãƒ—ãƒ­ãƒ¼ãƒï¼ˆjsPDF + html2canvas + Puppeteerï¼‰\",\n  \"tags\": [\"PDFç”Ÿæˆ\", \"ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ\", \"jsPDF\", \"html2canvas\", \"Puppeteer\", \"é«˜å“è³ªå‡ºåŠ›\", \"å°åˆ·å¯¾å¿œ\"],\n  \"source_project\": \"ai-document-generator\",\n  \"source_file\": \"package.json:37-48, src/app/api/export/route.ts, doc/v5/v5ä»•æ§˜æ›¸.md:98-106\",\n  \"related_knowledge\": [\"decision_tech_pdf_generation_approach_2025_04_11\", \"workflow_pdf_export_flow_2025_04_11\"],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-04-11\",\n  \"updated\": \"2025-04-11\"\n}\n```\n\n# PDFç”Ÿæˆãƒˆãƒªãƒ—ãƒ«ã‚¢ãƒ—ãƒ­ãƒ¼ãƒï¼ˆjsPDF + html2canvas + Puppeteerï¼‰\n\n## ä½•ã‚’ã™ã‚‹ã‚¹ã‚­ãƒ«ã‹\n\nWebã‚¢ãƒ—ãƒªã§ä½œæˆã—ãŸãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ã€é«˜å“è³ªãªPDFãƒ•ã‚¡ã‚¤ãƒ«ã¨ã—ã¦ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã™ã‚‹ãŸã‚ã«ã€3ã¤ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªï¼ˆjsPDFã€html2canvasã€Puppeteerï¼‰ã‚’çµ„ã¿åˆã‚ã›ã¦ä½¿ç”¨ã™ã‚‹æ‰‹æ³•ã€‚\n\n## å…·ä½“çš„ãªæ‰‹æ³•\n\n### 1. 3ã¤ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®å½¹å‰²\n\n```\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚ ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒä½œæˆã—ãŸãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆï¼ˆHTML/CSSï¼‰â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n                    â”‚\n        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\n        â”‚           â”‚           â”‚\n        â–¼           â–¼           â–¼\n   html2canvas   jsPDF     Puppeteer\n   ï¼ˆç”»åƒåŒ–ï¼‰   ï¼ˆPDFä½œæˆï¼‰ ï¼ˆãƒ˜ãƒƒãƒ‰ãƒ¬ã‚¹ãƒ–ãƒ©ã‚¦ã‚¶ï¼‰\n        â”‚           â”‚           â”‚\n        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n                    â”‚\n                    â–¼\n            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\n            â”‚  PDF ãƒ•ã‚¡ã‚¤ãƒ«  â”‚\n            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n```\n\n#### jsPDF\n- **å½¹å‰²**: PDFãƒ•ã‚¡ã‚¤ãƒ«ã®ä½œæˆãƒ»æ“ä½œ\n- **ã§ãã‚‹ã“ã¨**:\n  - PDFãƒ•ã‚¡ã‚¤ãƒ«ã®ä½œæˆ\n  - ãƒ†ã‚­ã‚¹ãƒˆãƒ»ç”»åƒã®è¿½åŠ \n  - ãƒšãƒ¼ã‚¸ã‚µã‚¤ã‚ºãƒ»å‘ãã®è¨­å®š\n  - è¤‡æ•°ãƒšãƒ¼ã‚¸ã®ç®¡ç†\n- **å¾—æ„**: ä½ãƒ¬ãƒ™ãƒ«PDFæ“ä½œã€è»½é‡\n\n#### html2canvas\n- **å½¹å‰²**: HTMLè¦ç´ ã‚’ç”»åƒï¼ˆCanvasï¼‰ã«å¤‰æ›\n- **ã§ãã‚‹ã“ã¨**:\n  - DOMè¦ç´ ã‚’Canvasã¨ã—ã¦æç”»\n  - CSSé©ç”¨å¾Œã®è¦‹ãŸç›®ã‚’ã‚­ãƒ£ãƒ—ãƒãƒ£\n- **å¾—æ„**: ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰ã§ã®ç”»åƒåŒ–ã€è¤‡é›‘ãªãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ\n\n#### Puppeteer\n- **å½¹å‰²**: ãƒ˜ãƒƒãƒ‰ãƒ¬ã‚¹Chromeã§ãƒšãƒ¼ã‚¸ã‚’ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°\n- **ã§ãã‚‹ã“ã¨**:\n  - ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ã§ã®PDFç”Ÿæˆ\n  - é«˜å“è³ªãªãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°\n  - å°åˆ·CSSï¼ˆ@media printï¼‰ã®é©ç”¨\n- **å¾—æ„**: é«˜å“è³ªPDFã€è¤‡é›‘ãªãƒšãƒ¼ã‚¸ã€æ­£ç¢ºãªå†ç¾\n\n### 2. ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã®é¸æŠ\n\n#### ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ1ï¼šhtml2canvas + jsPDFï¼ˆã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰ï¼‰\n\n**ä½¿ç”¨å ´é¢**: ã‚·ãƒ³ãƒ—ãƒ«ãªå˜ä¸€ãƒšãƒ¼ã‚¸ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰ã§å®Œçµã—ãŸã„\n\n```typescript\n// src/lib/export/client-pdf-generator.ts\nimport html2canvas from 'html2canvas';\nimport jsPDF from 'jspdf';\n\nexport async function generatePDFClient(elementId: string, filename: string) {\n  // 1. HTMLè¦ç´ ã‚’å–å¾—\n  const element = document.getElementById(elementId);\n  if (!element) throw new Error('Element not found');\n\n  // 2. html2canvasã§ç”»åƒåŒ–\n  const canvas = await html2canvas(element, {\n    scale: 2,              // é«˜è§£åƒåº¦ï¼ˆ2xï¼‰\n    useCORS: true,         // å¤–éƒ¨ç”»åƒã‚’å«ã‚€\n    logging: false,\n    backgroundColor: '#ffffff',\n  });\n\n  // 3. Canvas â†’ ç”»åƒãƒ‡ãƒ¼ã‚¿\n  const imgData = canvas.toDataURL('image/png');\n  const imgWidth = canvas.width;\n  const imgHeight = canvas.height;\n\n  // 4. jsPDFã§PDFä½œæˆ\n  const pdf = new jsPDF({\n    orientation: imgHeight > imgWidth ? 'portrait' : 'landscape',\n    unit: 'px',\n    format: [imgWidth, imgHeight],\n  });\n\n  // 5. ç”»åƒã‚’è¿½åŠ \n  pdf.addImage(imgData, 'PNG', 0, 0, imgWidth, imgHeight);\n\n  // 6. ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰\n  pdf.save(filename);\n}\n```\n\n**ãƒ¡ãƒªãƒƒãƒˆ**:\n- ã‚µãƒ¼ãƒãƒ¼ä¸è¦ï¼ˆã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰ã§å®Œçµï¼‰\n- å®Ÿè£…ãŒã‚·ãƒ³ãƒ—ãƒ«\n- ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãŒé€Ÿã„\n\n**ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ**:\n- ç”»åƒãƒ™ãƒ¼ã‚¹ãªã®ã§ã€ãƒ†ã‚­ã‚¹ãƒˆé¸æŠä¸å¯\n- å“è³ªãŒã‚„ã‚„åŠ£ã‚‹\n- è¤‡æ•°ãƒšãƒ¼ã‚¸ã®å‡¦ç†ãŒè¤‡é›‘\n\n#### ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ2ï¼šPuppeteerï¼ˆã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ï¼‰\n\n**ä½¿ç”¨å ´é¢**: é«˜å“è³ªPDFã€è¤‡æ•°ãƒšãƒ¼ã‚¸ã€å°åˆ·CSSé©ç”¨ãŒå¿…è¦\n\n```typescript\n// src/app/api/export/route.ts\nimport puppeteer from 'puppeteer';\nimport { NextRequest, NextResponse } from 'next/server';\n\nexport async function POST(request: NextRequest) {\n  const { documentId, html } = await request.json();\n\n  // 1. Puppeteerãƒ–ãƒ©ã‚¦ã‚¶ã‚’èµ·å‹•\n  const browser = await puppeteer.launch({\n    headless: true,\n    args: ['--no-sandbox', '--disable-setuid-sandbox'],\n  });\n\n  const page = await browser.newPage();\n\n  // 2. HTMLã‚’ãƒšãƒ¼ã‚¸ã«è¨­å®š\n  await page.setContent(html, {\n    waitUntil: 'networkidle0', // ã™ã¹ã¦ã®ãƒªã‚½ãƒ¼ã‚¹ãŒãƒ­ãƒ¼ãƒ‰å®Œäº†ã¾ã§å¾…æ©Ÿ\n  });\n\n  // 3. ãƒšãƒ¼ã‚¸ã‚µã‚¤ã‚ºã‚’è¨­å®šï¼ˆA4ç¸¦ã®å ´åˆï¼‰\n  await page.emulateMediaType('print'); // å°åˆ·CSSã‚’é©ç”¨\n\n  // 4. PDFã‚’ç”Ÿæˆ\n  const pdf = await page.pdf({\n    format: 'A4',\n    printBackground: true,        // èƒŒæ™¯è‰²ãƒ»ç”»åƒã‚’å«ã‚€\n    margin: {\n      top: '0mm',\n      right: '0mm',\n      bottom: '0mm',\n      left: '0mm',\n    },\n    preferCSSPageSize: true,      // CSSã®ãƒšãƒ¼ã‚¸ã‚µã‚¤ã‚ºã‚’å„ªå…ˆ\n  });\n\n  // 5. ãƒ–ãƒ©ã‚¦ã‚¶ã‚’é–‰ã˜ã‚‹\n  await browser.close();\n\n  // 6. PDFã‚’ãƒ¬ã‚¹ãƒãƒ³ã‚¹\n  return new NextResponse(pdf, {\n    headers: {\n      'Content-Type': 'application/pdf',\n      'Content-Disposition': `attachment; filename=\"document-${documentId}.pdf\"`,\n    },\n  });\n}\n```\n\n**ãƒ¡ãƒªãƒƒãƒˆ**:\n- é«˜å“è³ªï¼ˆChromeã®ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã‚¨ãƒ³ã‚¸ãƒ³ï¼‰\n- ãƒ†ã‚­ã‚¹ãƒˆé¸æŠå¯èƒ½\n- è¤‡æ•°ãƒšãƒ¼ã‚¸å¯¾å¿œ\n- å°åˆ·CSSï¼ˆ@media printï¼‰é©ç”¨\n\n**ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ**:\n- ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰å®Ÿè¡ŒãŒå¿…è¦\n- Puppeteerã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‚µã‚¤ã‚ºãŒå¤§ãã„ï¼ˆ~300MBï¼‰\n- å®Ÿè¡Œæ™‚é–“ãŒé•·ã„ï¼ˆæ•°ç§’ï¼‰\n\n#### ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ3ï¼šãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰ï¼ˆPuppeteer + jsPDFï¼‰\n\n**ä½¿ç”¨å ´é¢**: è¤‡é›‘ãªãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ + é«˜åº¦ãªPDFæ“ä½œï¼ˆãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¨­å®šãªã©ï¼‰\n\n```typescript\n// src/lib/export/hybrid-pdf-generator.ts\nimport puppeteer from 'puppeteer';\nimport jsPDF from 'jspdf';\n\nexport async function generatePDFHybrid(html: string, options: PDFOptions) {\n  // 1. Puppeteerã§é«˜å“è³ªãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°\n  const browser = await puppeteer.launch({ headless: true });\n  const page = await browser.newPage();\n  await page.setContent(html);\n\n  // 2. å„ãƒšãƒ¼ã‚¸ã‚’PNGç”»åƒã¨ã—ã¦å–å¾—\n  const pages = await page.$$('div.page'); // ãƒšãƒ¼ã‚¸åˆ†å‰²ã•ã‚ŒãŸHTML\n  const images = [];\n\n  for (const pageElement of pages) {\n    const screenshot = await pageElement.screenshot({ type: 'png' });\n    images.push(screenshot);\n  }\n\n  await browser.close();\n\n  // 3. jsPDFã§é«˜åº¦ãªPDFæ“ä½œ\n  const pdf = new jsPDF({\n    orientation: 'portrait',\n    unit: 'mm',\n    format: 'a4',\n  });\n\n  for (let i = 0; i < images.length; i++) {\n    if (i > 0) pdf.addPage();\n\n    const imgData = `data:image/png;base64,${images[i].toString('base64')}`;\n    pdf.addImage(imgData, 'PNG', 0, 0, 210, 297); // A4ã‚µã‚¤ã‚º\n  }\n\n  // 4. ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿è¨­å®š\n  pdf.setProperties({\n    title: options.title,\n    subject: options.subject,\n    author: options.author,\n    keywords: options.keywords,\n    creator: 'AI Document Generator',\n  });\n\n  // 5. å‡ºåŠ›\n  return pdf.output('arraybuffer');\n}\n```\n\n**ãƒ¡ãƒªãƒƒãƒˆ**:\n- Puppeteerã®é«˜å“è³ªãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°\n- jsPDFã®æŸ”è»ŸãªPDFæ“ä½œ\n- ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¨­å®šãªã©\n\n**ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ**:\n- å®Ÿè£…ãŒè¤‡é›‘\n- å®Ÿè¡Œæ™‚é–“ãŒé•·ã„\n- ä¸¡æ–¹ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒå¿…è¦\n\n### 3. å®Ÿè£…ã®è©³ç´°\n\n#### é«˜è§£åƒåº¦å¯¾å¿œï¼ˆ300 DPIï¼‰\n\n```typescript\n// html2canvasã®è¨­å®š\nconst canvas = await html2canvas(element, {\n  scale: 300 / 96, // 96 DPIï¼ˆç”»é¢ï¼‰ â†’ 300 DPIï¼ˆå°åˆ·ï¼‰\n  useCORS: true,\n});\n\n// Puppeteerã®è¨­å®š\nconst pdf = await page.pdf({\n  format: 'A4',\n  printBackground: true,\n  scale: 1.25, // æ‹¡å¤§ç‡èª¿æ•´\n});\n```\n\n#### è¤‡æ•°ãƒšãƒ¼ã‚¸å¯¾å¿œ\n\n```typescript\n// jsPDF ã§è¤‡æ•°ãƒšãƒ¼ã‚¸\nconst pdf = new jsPDF();\n\nfor (let i = 0; i < pages.length; i++) {\n  if (i > 0) pdf.addPage();\n\n  const canvas = await html2canvas(pages[i]);\n  const imgData = canvas.toDataURL('image/png');\n  pdf.addImage(imgData, 'PNG', 0, 0, 210, 297);\n}\n\npdf.save('document.pdf');\n```\n\n#### å°åˆ·CSSé©ç”¨\n\n```css\n/* styles/print.css */\n@media print {\n  /* ãƒšãƒ¼ã‚¸åŒºåˆ‡ã‚Š */\n  .page {\n    page-break-after: always;\n    page-break-inside: avoid;\n  }\n\n  /* ä½™ç™½ãªã— */\n  @page {\n    margin: 0;\n  }\n\n  /* èƒŒæ™¯è‰²ãƒ»ç”»åƒã‚’å°åˆ· */\n  body {\n    -webkit-print-color-adjust: exact;\n    print-color-adjust: exact;\n  }\n\n  /* ä¸è¦ãªè¦ç´ ã‚’éè¡¨ç¤º */\n  .no-print {\n    display: none !important;\n  }\n}\n```\n\n#### ãƒ•ã‚©ãƒ³ãƒˆåŸ‹ã‚è¾¼ã¿\n\n```typescript\n// jsPDFã§ã‚«ã‚¹ã‚¿ãƒ ãƒ•ã‚©ãƒ³ãƒˆ\nimport { jsPDF } from 'jspdf';\n\n// ãƒ•ã‚©ãƒ³ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’Base64ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ã—ã¦åŸ‹ã‚è¾¼ã¿\nconst doc = new jsPDF();\ndoc.addFileToVFS('NotoSansJP-Regular.ttf', notoSansJPBase64);\ndoc.addFont('NotoSansJP-Regular.ttf', 'NotoSansJP', 'normal');\ndoc.setFont('NotoSansJP');\ndoc.text('æ—¥æœ¬èªãƒ†ã‚­ã‚¹ãƒˆ', 10, 10);\n```\n\n## ãªãœã“ã®æ‰‹æ³•ã‚’ä½¿ã†ã‹\n\n**ç†ç”±1ï¼šé«˜å“è³ªãªå‡ºåŠ›**\n- Puppeteerã«ã‚ˆã‚‹æ­£ç¢ºãªãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°\n- 300 DPIå¯¾å¿œã§å°åˆ·å“è³ª\n\n**ç†ç”±2ï¼šè¤‡é›‘ãªãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã«å¯¾å¿œ**\n- html2canvasã§è¤‡é›‘ãªCSS/ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’ã‚­ãƒ£ãƒ—ãƒãƒ£\n- ã‚°ãƒªãƒƒãƒ‰ã‚·ã‚¹ãƒ†ãƒ ã€ã‚«ã‚¹ã‚¿ãƒ ãƒ•ã‚©ãƒ³ãƒˆã€ç”»åƒãªã©ã™ã¹ã¦å¯¾å¿œ\n\n**ç†ç”±3ï¼šæŸ”è»Ÿæ€§**\n- ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰ï¼ˆhtml2canvas + jsPDFï¼‰ã¨ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ï¼ˆPuppeteerï¼‰ã‚’é¸æŠå¯èƒ½\n- ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã«å¿œã˜ã¦æœ€é©ãªã‚¢ãƒ—ãƒ­ãƒ¼ãƒ\n\n**ç†ç”±4ï¼šãƒ†ã‚­ã‚¹ãƒˆé¸æŠå¯èƒ½**\n- Puppeteerã¯ãƒã‚¤ãƒ†ã‚£ãƒ– PDFç”Ÿæˆãªã®ã§ãƒ†ã‚­ã‚¹ãƒˆé¸æŠå¯èƒ½\n\n**ç†ç”±5ï¼šè¤‡æ•°ãƒšãƒ¼ã‚¸å¯¾å¿œ**\n- ã™ã¹ã¦ã®ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã§è¤‡æ•°ãƒšãƒ¼ã‚¸ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«å¯¾å¿œ\n\n## å†ç¾æ–¹æ³•\n\n### ã‚¹ãƒ†ãƒƒãƒ—1ï¼šãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\n\n```bash\nnpm install jspdf html2canvas puppeteer\nnpm install --save-dev @types/puppeteer\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2ï¼šã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰PDFç”Ÿæˆï¼ˆhtml2canvas + jsPDFï¼‰\n\n```typescript\n// src/lib/export/client-export.ts\nimport html2canvas from 'html2canvas';\nimport { jsPDF } from 'jspdf';\n\nexport async function exportToPDFClient(elementId: string) {\n  const element = document.getElementById(elementId);\n  const canvas = await html2canvas(element, { scale: 2 });\n  const imgData = canvas.toDataURL('image/png');\n\n  const pdf = new jsPDF({\n    orientation: 'portrait',\n    unit: 'px',\n    format: [canvas.width, canvas.height],\n  });\n\n  pdf.addImage(imgData, 'PNG', 0, 0, canvas.width, canvas.height);\n  pdf.save('document.pdf');\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3ï¼šã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰PDFç”Ÿæˆï¼ˆPuppeteerï¼‰\n\n```typescript\n// src/app/api/export/route.ts\nimport puppeteer from 'puppeteer';\n\nexport async function POST(request: Request) {\n  const { html } = await request.json();\n\n  const browser = await puppeteer.launch({ headless: true });\n  const page = await browser.newPage();\n  await page.setContent(html);\n\n  const pdf = await page.pdf({\n    format: 'A4',\n    printBackground: true,\n  });\n\n  await browser.close();\n\n  return new Response(pdf, {\n    headers: { 'Content-Type': 'application/pdf' },\n  });\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—4ï¼šãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‹ã‚‰å‘¼ã³å‡ºã—\n\n```typescript\n// src/components/export/ExportButton.tsx\nconst handleExport = async () => {\n  // ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰\n  await exportToPDFClient('document-container');\n\n  // ã¾ãŸã¯ã€ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰\n  const html = document.getElementById('document-container')?.outerHTML;\n  const response = await fetch('/api/export', {\n    method: 'POST',\n    body: JSON.stringify({ html }),\n  });\n\n  const blob = await response.blob();\n  const url = URL.createObjectURL(blob);\n  const a = document.createElement('a');\n  a.href = url;\n  a.download = 'document.pdf';\n  a.click();\n};\n```\n\n## ã„ã¤ä½¿ã†ã‹\n\n- **å°åˆ·å“è³ªã®PDF**: é«˜è§£åƒåº¦ï¼ˆ300 DPIï¼‰ãŒå¿…è¦\n- **è¤‡é›‘ãªãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ**: ã‚°ãƒªãƒƒãƒ‰ã‚·ã‚¹ãƒ†ãƒ ã€ã‚«ã‚¹ã‚¿ãƒ ãƒ•ã‚©ãƒ³ãƒˆã€ç”»åƒãŒå¤šã„\n- **è¤‡æ•°ãƒšãƒ¼ã‚¸ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: ãƒãƒ©ã‚·ã€ãƒ—ãƒ¬ã‚¼ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã€äº‹æ¥­è¨ˆç”»æ›¸ãªã©\n- **ãƒ†ã‚­ã‚¹ãƒˆé¸æŠå¯èƒ½**: PDFã‹ã‚‰ãƒ†ã‚­ã‚¹ãƒˆã‚’ã‚³ãƒ”ãƒ¼ã—ãŸã„\n\n## æ³¨æ„ç‚¹\n\n### 1. ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹\n- Puppeteerã¯å®Ÿè¡Œæ™‚é–“ãŒé•·ã„ï¼ˆæ•°ç§’ã€œåæ•°ç§’ï¼‰\n- ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã€éåŒæœŸå‡¦ç†ã€ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹è¡¨ç¤ºã‚’å®Ÿè£…\n\n### 2. ã‚µãƒ¼ãƒãƒ¼ãƒªã‚½ãƒ¼ã‚¹\n- Puppeteerã¯ãƒ¡ãƒ¢ãƒªã‚’å¤šãæ¶ˆè²»ï¼ˆãƒ˜ãƒƒãƒ‰ãƒ¬ã‚¹Chromeï¼‰\n- ã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹ç’°å¢ƒï¼ˆVercelã€AWS Lambdaï¼‰ã§ã¯åˆ¶é™ã‚ã‚Š\n\n### 3. ãƒ•ã‚©ãƒ³ãƒˆåŸ‹ã‚è¾¼ã¿\n- ã‚«ã‚¹ã‚¿ãƒ ãƒ•ã‚©ãƒ³ãƒˆã‚’ä½¿ç”¨ã™ã‚‹å ´åˆã€åŸ‹ã‚è¾¼ã¿ãŒå¿…è¦\n- ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã«æ³¨æ„\n\n### 4. CSSã®äº’æ›æ€§\n- ä¸€éƒ¨ã®CSSæ©Ÿèƒ½ã¯å°åˆ·æ™‚ã«å¯¾å¿œã—ã¦ã„ãªã„\n- äº‹å‰ã«ãƒ†ã‚¹ãƒˆ\n\n### 5. ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚º\n- ç”»åƒãƒ™ãƒ¼ã‚¹ï¼ˆhtml2canvasï¼‰ã¯ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºãŒå¤§ãããªã‚‹\n- åœ§ç¸®ã‚„æœ€é©åŒ–ã‚’æ¤œè¨\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `decision_tech_pdf_generation_approach_2025_04_11.md`: PDFç”Ÿæˆã‚¢ãƒ—ãƒ­ãƒ¼ãƒã®é¸æŠåˆ¤æ–­\n- `workflow_pdf_export_flow_2025_04_11.md`: PDFã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã®å…¨ä½“ãƒ•ãƒ­ãƒ¼\n- `failure_tech_debt_no_tests_validation_2025_04_11.md`: PDFç”Ÿæˆã®å“è³ªå•é¡Œï¼ˆæŠ€è¡“çš„è² å‚µï¼‰\n",
    "prompt": "### ã‚¹ãƒ†ãƒƒãƒ—1ï¼šãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\n\n```bash\nnpm install jspdf html2canvas puppeteer\nnpm install --save-dev @types/puppeteer\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2ï¼šã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰PDFç”Ÿæˆï¼ˆhtml2canvas + jsPDFï¼‰\n\n```typescript\n// src/lib/export/client-export.ts\nimport html2canvas from 'html2canvas';\nimport { jsPDF } from 'jspdf';\n\nexport async function exportToPDFClient(elementId: string) {\n  const element = document.getElementById(elementId);\n  const canvas = await html2canvas(element, { scale: 2 });\n  const imgData = canvas.toDataURL('image/png');\n\n  const pdf = new jsPDF({\n    orientation: 'portrait',\n    unit: 'px',\n    format: [canvas.width, canvas.height],\n  });\n\n  pdf.addImage(imgData, 'PNG', 0, 0, canvas.width, canvas.height);\n  pdf.save('document.pdf');\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3ï¼šã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰PDFç”Ÿæˆï¼ˆPuppeteerï¼‰\n\n```typescript\n// src/app/api/export/route.ts\nimport puppeteer from 'puppeteer';\n\nexport async function POST(request: Request) {\n  const { html } = await request.json();\n\n  const browser = await puppeteer.launch({ headless: true });\n  const page = await browser.newPage();\n  await page.setContent(html);\n\n  const pdf = await page.pdf({\n    format: 'A4',\n    printBackground: true,\n  });\n\n  await browser.close();\n\n  return new Response(pdf, {\n    headers: { 'Content-Type': 'application/pdf' },\n  });\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—4ï¼šãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‹ã‚‰å‘¼ã³å‡ºã—\n\n```typescript\n// src/components/export/ExportButton.tsx\nconst handleExport = async () => {\n  // ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰\n  await exportToPDFClient('document-container');\n\n  // ã¾ãŸã¯ã€ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰\n  const html = document.getElementById('document-container')?.outerHTML;\n  const response = await fetch('/api/export', {\n    method: 'POST',\n    body: JSON.stringify({ html }),\n  });\n\n  const blob = await response.blob();\n  const url = URL.createObjectURL(blob);\n  const a = document.createElement('a');\n  a.href = url;\n  a.download = 'document.pdf';\n  a.click();\n};\n```",
    "relatedTech": [
      "decision-tech-pdf-generation-approach",
      "workflow-pdf-export-flow"
    ]
  },
  {
    "slug": "plot-learning-synchronization",
    "title": "ãƒ—ãƒ­ãƒƒãƒˆã¨å­¦ç¿’æ—…ç¨‹ã®åŒæœŸã‚·ã‚¹ãƒ†ãƒ ",
    "category": "Skillsï¼ˆã‚¹ã‚­ãƒ«ãƒ»æ‰‹æ³•ï¼‰",
    "description": "ãƒ—ãƒ­ãƒƒãƒˆã®å±•é–‹ï¼ˆç‰©èªã®ç­‹ï¼‰ã¨å­¦ç¿’æ—…ç¨‹ï¼ˆæ¦‚å¿µã®ç†è§£é€²è¡Œï¼‰ã‚’åŒæ–¹å‘ã§åŒæœŸã•ã›ã‚‹ã€‚å­¦ç¿’æ®µéšã«å¿œã˜ãŸãƒ—ãƒ­ãƒƒãƒˆæ–¹å‘ã‚’ææ¡ˆã—ã€ãƒ—ãƒ­ãƒƒãƒˆã®å±•é–‹ãŒå­¦ç¿’ã‚’ä¿ƒé€²ã™ã‚‹ã‚ˆã†çµ±åˆè¨­è¨ˆã™ã‚‹æ‰‹æ³•ã€‚",
    "project": "novel-automation-system-v2",
    "usedIn": [
      "src/lib/learning-journey/index.ts:1800-2100"
    ],
    "code": "```json\n{\n  \"id\": \"skill_plot_learning_synchronization_2025_11_25\",\n  \"type\": \"skill\",\n  \"name\": \"ãƒ—ãƒ­ãƒƒãƒˆã¨å­¦ç¿’æ—…ç¨‹ã®åŒæœŸã‚·ã‚¹ãƒ†ãƒ \",\n  \"tags\": [\"ãƒ—ãƒ­ãƒƒãƒˆçµ±åˆ\", \"å­¦ç¿’æ—…ç¨‹\", \"ç‰©èªè¨­è¨ˆ\", \"åŒæ–¹å‘å½±éŸ¿\", \"å±•é–‹è¨­è¨ˆ\"],\n  \"source_project\": \"novel-automation-system-v2\",\n  \"source_file\": \"src/lib/learning-journey/index.ts:1800-2100\",\n  \"related_knowledge\": [\"skill_six_stage_learning_journey_design_2025_11_25\", \"skill_three_mode_plot_management_2025_11_25\"],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# ãƒ—ãƒ­ãƒƒãƒˆã¨å­¦ç¿’æ—…ç¨‹ã®åŒæœŸã‚·ã‚¹ãƒ†ãƒ \n\n## ä½•ã‚’ã™ã‚‹ã‚¹ã‚­ãƒ«ã‹\n\nãƒ—ãƒ­ãƒƒãƒˆã®å±•é–‹ï¼ˆç‰©èªã®ç­‹ï¼‰ã¨å­¦ç¿’æ—…ç¨‹ï¼ˆæ¦‚å¿µã®ç†è§£é€²è¡Œï¼‰ã‚’åŒæ–¹å‘ã§åŒæœŸã•ã›ã‚‹ã€‚å­¦ç¿’æ®µéšã«å¿œã˜ãŸãƒ—ãƒ­ãƒƒãƒˆæ–¹å‘ã‚’ææ¡ˆã—ã€ãƒ—ãƒ­ãƒƒãƒˆã®å±•é–‹ãŒå­¦ç¿’ã‚’ä¿ƒé€²ã™ã‚‹ã‚ˆã†çµ±åˆè¨­è¨ˆã™ã‚‹æ‰‹æ³•ã€‚\n\n## å…·ä½“çš„ãªæ‰‹æ³•\n\n### 1. ãƒ—ãƒ­ãƒƒãƒˆãƒ»å­¦ç¿’çµ±åˆã®æ§‹é€ \n\n```typescript\ninterface PlotLearningIntegration {\n  learningToPlotInfluence: {\n    currentStage: LearningStage;\n    progressRate: number;                 // å­¦ç¿’é€²æ—ç‡\n    suggestedPlotDirection: string[];     // æ¨å¥¨ãƒ—ãƒ­ãƒƒãƒˆæ–¹å‘\n    plotConstraints: string[];            // ãƒ—ãƒ­ãƒƒãƒˆåˆ¶ç´„\n  };\n  plotToLearningInfluence: {\n    currentPhase: string;                 // ç¾åœ¨ã®ãƒ—ãƒ­ãƒƒãƒˆæ®µéš\n    tensionLevel: number;                 // ç·Šå¼µåº¦ãƒ¬ãƒ™ãƒ«\n    learningCatalysts: string[];          // å­¦ç¿’è§¦åª’\n    stageAdvancementTriggers: string[];   // æ®µéšé€²å±•ãƒˆãƒªã‚¬ãƒ¼\n  };\n  integrationScore: number;               // çµ±åˆã‚¹ã‚³ã‚¢ (0-1)\n  optimizationRecommendations: string[];  // æœ€é©åŒ–æ¨å¥¨äº‹é …\n}\n```\n\n### 2. å­¦ç¿’æ®µéšåˆ¥ãƒ—ãƒ­ãƒƒãƒˆæ–¹å‘ææ¡ˆ\n\n```typescript\nprivate getSuggestedPlotDirection(stage: LearningStage): string[] {\n  const directions: Record<LearningStage, string[]> = {\n    [LearningStage.MISCONCEPTION]: [\n      'æ—¢å­˜ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã®é™ç•Œã‚’éœ²å‘ˆã™ã‚‹çŠ¶æ³',\n      'å•é¡Œã®è¤‡é›‘ã•ã‚’æ®µéšçš„ã«æ˜ã‚‰ã‹ã«ã™ã‚‹å±•é–‹',\n      'ç°¡å˜ãªè§£æ±ºç­–ãŒé€šç”¨ã—ãªã„ç¾å®Ÿã®æç¤º'\n    ],\n    [LearningStage.EXPLORATION]: [\n      'æ–°ã—ã„æƒ…å ±æºã‚„è¦–ç‚¹ã¨ã®å‡ºä¼šã„',\n      'å¤šæ§˜ãªé¸æŠè‚¢ã‚„å¯èƒ½æ€§ã®æç¤º',\n      'æ¢ç´¢ã‚’ä¿ƒé€²ã™ã‚‹çŠ¶æ³ã®å‰µå‡º'\n    ],\n    [LearningStage.CONFLICT]: [\n      'ä¾¡å€¤è¦³ã®å¯¾ç«‹ã‚’è»¸ã¨ã—ãŸå±•é–‹',\n      'é¸æŠã‚’è¿«ã‚‹é‡è¦ãªå±€é¢ã®è¨­å®š',\n      'å†…çš„ãƒ»å¤–çš„å¯¾ç«‹ã®ç›¸äº’å¼·åŒ–'\n    ],\n    [LearningStage.INSIGHT]: [\n      'æ´å¯Ÿã‚’ä¿ƒã™æ±ºå®šçš„ãªå‡ºæ¥äº‹',\n      'ç‚¹ã¨ç‚¹ãŒç¹‹ãŒã‚‹ç¬é–“ã®æ¼”å‡º',\n      'ãƒ–ãƒ¬ã‚¤ã‚¯ã‚¹ãƒ«ãƒ¼ã‚’æ”¯æ´ã™ã‚‹çŠ¶æ³'\n    ],\n    [LearningStage.APPLICATION]: [\n      'æ–°ã—ã„ç†è§£ã‚’è©¦ã™å®Ÿè·µã®å ´',\n      'å¤±æ•—ã¨èª¿æ•´ã‚’ç¹°ã‚Šè¿”ã™å±•é–‹',\n      'å°ã•ãªæˆåŠŸä½“é¨“ã®ç©ã¿é‡ã­'\n    ],\n    [LearningStage.INTEGRATION]: [\n      'è‡ªç„¶ä½“ã§å®Ÿè·µã§ãã‚‹çŠ¶æ³',\n      'å¿œç”¨ç¯„å›²ã®åºƒãŒã‚Šã‚’ç¤ºã™å±•é–‹',\n      'çµ±åˆã•ã‚ŒãŸç†è§£ã®è¨¼æ˜'\n    ]\n  };\n\n  return directions[stage] || ['æ¨™æº–çš„ãªã‚¹ãƒˆãƒ¼ãƒªãƒ¼å±•é–‹'];\n}\n```\n\n### 3. å­¦ç¿’è§¦åª’ã¨ã‚¹ãƒ†ãƒ¼ã‚¸é€²å±•ãƒˆãƒªã‚¬ãƒ¼\n\n**å­¦ç¿’è§¦åª’ï¼ˆãƒ—ãƒ­ãƒƒãƒˆãŒå­¦ç¿’ã‚’ä¿ƒã™è¦ç´ ï¼‰**ï¼š\n```typescript\nprivate getLearningCatalysts(stage: LearningStage): string[] {\n  const catalysts: Record<LearningStage, string[]> = {\n    [LearningStage.MISCONCEPTION]: [\n      'ç¾å®Ÿã¨ã®æ‘©æ“¦',\n      'äºˆæƒ³å¤–ã®çµæœ',\n      'ä»–è€…ã‹ã‚‰ã®æŒ‡æ‘˜'\n    ],\n    [LearningStage.EXPLORATION]: [\n      'æ–°ã—ã„å‡ºä¼šã„',\n      'å¤šæ§˜ãªé¸æŠè‚¢',\n      'æ¢ç´¢ã®æ©Ÿä¼š'\n    ],\n    [LearningStage.CONFLICT]: [\n      'ä¾¡å€¤è¦³ã®è¡çª',\n      'é‡è¦ãªé¸æŠ',\n      'å†…çš„ãªè‘›è—¤'\n    ],\n    [LearningStage.INSIGHT]: [\n      'æ±ºå®šçš„ãªä½“é¨“',\n      'ç›´æ„Ÿçš„ãªç†è§£',\n      'çªç„¶ã®æ°—ã¥ã'\n    ],\n    [LearningStage.APPLICATION]: [\n      'å®Ÿè·µã®å ´',\n      'ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯',\n      'è©¦è¡ŒéŒ¯èª¤ã®æ©Ÿä¼š'\n    ],\n    [LearningStage.INTEGRATION]: [\n      'å¿œç”¨ã®å ´',\n      'æ•™ãˆã‚‹æ©Ÿä¼š',\n      'çµ±åˆã®è¨¼æ˜'\n    ]\n  };\n\n  return catalysts[stage];\n}\n```\n\n**ã‚¹ãƒ†ãƒ¼ã‚¸é€²å±•ãƒˆãƒªã‚¬ãƒ¼ï¼ˆæ¬¡ã®æ®µéšã¸ã®é·ç§»ã‚’ä¿ƒã™è¦ç´ ï¼‰**ï¼š\n```typescript\nprivate getStageAdvancementTriggers(stage: LearningStage): string[] {\n  const triggers: Record<LearningStage, string[]> = {\n    [LearningStage.MISCONCEPTION]: [\n      'ç¾çŠ¶ã¸ã®ç–‘å•ã®èŠ½ç”Ÿãˆ',\n      'é™ç•Œã®ä½“é¨“'\n    ],\n    [LearningStage.EXPLORATION]: [\n      'æ–°ã—ã„è¦–ç‚¹ã®ç™ºè¦‹',\n      'é¸æŠè‚¢ã®èªè­˜'\n    ],\n    [LearningStage.CONFLICT]: [\n      'ä¾¡å€¤è¦³ã®å¯¾ç«‹çµŒé¨“',\n      'æ±ºæ–­ã®å¿…è¦æ€§'\n    ],\n    [LearningStage.INSIGHT]: [\n      'é‡è¦ãªæ°—ã¥ã',\n      'ç†è§£ã®æ·±åŒ–'\n    ],\n    [LearningStage.APPLICATION]: [\n      'å®Ÿè·µã®æˆåŠŸä½“é¨“',\n      'åŠ¹æœã®å®Ÿæ„Ÿ'\n    ],\n    [LearningStage.INTEGRATION]: [\n      'è‡ªç„¶ãªå®Ÿè·µ',\n      'çµ±åˆã®å®Œäº†'\n    ]\n  };\n\n  return triggers[stage];\n}\n```\n\n### 4. ãƒ—ãƒ­ãƒƒãƒˆçµ±åˆã®å®Ÿè£…\n\n```typescript\nprivate async integratePlotWithLearning(\n  section: any,\n  conceptName: string,\n  learningStage: LearningStage,\n  chapterNumber: number\n): Promise<PlotLearningIntegration> {\n  // ãƒ—ãƒ­ãƒƒãƒˆæƒ…å ±åé›†\n  const plotDataResult = await this.memoryManager.unifiedSearch(\n    `plot integration learningStage ${learningStage} concept \"${conceptName}\"`,\n    [MemoryLevel.MID_TERM, MemoryLevel.LONG_TERM]\n  );\n\n  const integration: PlotLearningIntegration = {\n    learningToPlotInfluence: {\n      currentStage: learningStage,\n      progressRate: this.calculateStageProgressRate(learningStage, chapterNumber),\n      suggestedPlotDirection: this.getSuggestedPlotDirection(learningStage),\n      plotConstraints: this.getPlotConstraints(learningStage)\n    },\n    plotToLearningInfluence: {\n      currentPhase: section?.plotEnhancement?.currentPhase || 'unknown',\n      tensionLevel: section?.learningPlotAlignment?.tensionOptimization || 0.5,\n      learningCatalysts: this.getLearningCatalysts(learningStage),\n      stageAdvancementTriggers: this.getStageAdvancementTriggers(learningStage)\n    },\n    integrationScore: this.calculateIntegrationScore(section, learningStage),\n    optimizationRecommendations: []\n  };\n\n  // æœ€é©åŒ–æ¨å¥¨äº‹é …ã®ç”Ÿæˆ\n  if (integration.integrationScore < 0.7) {\n    integration.optimizationRecommendations.push(\n      'ãƒ—ãƒ­ãƒƒãƒˆã¨å­¦ç¿’æ®µéšã®åŒæœŸã‚’å¼·åŒ–ã—ã¦ãã ã•ã„',\n      'å­¦ç¿’è§¦åª’ã¨ãªã‚‹å…·ä½“çš„ãªã‚¤ãƒ™ãƒ³ãƒˆã‚’è¿½åŠ ã—ã¦ãã ã•ã„'\n    );\n  }\n\n  return integration;\n}\n```\n\n### 5. å­¦ç¿’é€²æ—ç‡ã®è¨ˆç®—\n\n```typescript\nprivate calculateStageProgressRate(\n  stage: LearningStage,\n  chapterNumber: number\n): number {\n  // å„æ®µéšã®æ¨™æº–çš„ãªç« æ•°\n  const standardChapterCounts: Record<LearningStage, number> = {\n    [LearningStage.MISCONCEPTION]: 3,\n    [LearningStage.EXPLORATION]: 4,\n    [LearningStage.CONFLICT]: 5,\n    [LearningStage.INSIGHT]: 2,\n    [LearningStage.APPLICATION]: 4,\n    [LearningStage.INTEGRATION]: 2\n  };\n\n  const expectedChapters = standardChapterCounts[stage] || 3;\n\n  // ç¾åœ¨ã®ç« ãŒã“ã®æ®µéšã®ä½•å‰²ç›®ã‹\n  const progressRate = Math.min(1.0, chapterNumber / expectedChapters);\n\n  return progressRate;\n}\n```\n\n### 6. ãƒ—ãƒ­ãƒƒãƒˆåˆ¶ç´„ã®è¨­å®š\n\n```typescript\nprivate getPlotConstraints(stage: LearningStage): string[] {\n  const constraints: Record<LearningStage, string[]> = {\n    [LearningStage.MISCONCEPTION]: [\n      'ã¾ã æ­£ã—ã„ç­”ãˆã¯æ˜ã‹ã•ãªã„',\n      'å¾“æ¥ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã®å¦¥å½“æ€§ã‚’æã'\n    ],\n    [LearningStage.EXPLORATION]: [\n      'è¤‡æ•°ã®é¸æŠè‚¢ã‚’æç¤ºã™ã‚‹',\n      'ç­”ãˆã‚’ä¸€ã¤ã«çµã‚‰ãªã„'\n    ],\n    [LearningStage.CONFLICT]: [\n      'è‘›è—¤ã‚’æ·±ã‚ã‚‹å±•é–‹ã‚’å„ªå…ˆ',\n      'ç°¡å˜ãªè§£æ±ºã‚’é¿ã‘ã‚‹'\n    ],\n    [LearningStage.INSIGHT]: [\n      'æ°—ã¥ãã«è‡³ã‚‹éç¨‹ã‚’ä¸å¯§ã«æã',\n      'å”çªãªç†è§£ã‚’é¿ã‘ã‚‹'\n    ],\n    [LearningStage.APPLICATION]: [\n      'å¤±æ•—ã‚’æã‚Œãšè©¦ã™å ´é¢ã‚’ä½œã‚‹',\n      'å®Œç’§ãªå®Ÿè·µã‚’æ±‚ã‚ãªã„'\n    ],\n    [LearningStage.INTEGRATION]: [\n      'è‡ªç„¶ä½“ã§ã®å®Ÿè·µã‚’æã',\n      'èª¬æ˜çš„è¡¨ç¾ã‚’é¿ã‘ã‚‹'\n    ]\n  };\n\n  return constraints[stage];\n}\n```\n\n## ãªãœã“ã®æ‰‹æ³•ã‚’ä½¿ã†ã‹\n\n**ç†ç”±1ï¼šãƒ—ãƒ­ãƒƒãƒˆãŒå­¦ç¿’ã‚’è‡ªç„¶ã«ä¿ƒé€²**\n- ç‰©èªã®å±•é–‹è‡ªä½“ãŒå­¦ã³ã®å¥‘æ©Ÿã«ãªã‚‹\n- æ•™è¨“çš„ãªèª¬æ˜ãªã—ã§ç†è§£ãŒæ·±ã¾ã‚‹\n- èª­è€…ãŒã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã¨å…±ã«å­¦ã¹ã‚‹\n\n**ç†ç”±2ï¼šå­¦ç¿’æ®µéšã«åˆã£ãŸç‰©èªå±•é–‹**\n- æ¢ç´¢æ®µéšã§ã¯é¸æŠè‚¢ã‚’åºƒã’ã‚‹ãƒ—ãƒ­ãƒƒãƒˆ\n- è‘›è—¤æ®µéšã§ã¯å¯¾ç«‹ã‚’æ·±ã‚ã‚‹ãƒ—ãƒ­ãƒƒãƒˆ\n- å„æ®µéšã«æœ€é©ãªå±•é–‹ã§åŠ¹æœçš„ãªå­¦ç¿’\n\n**ç†ç”±3ï¼šåŒæ–¹å‘ã®çµ±åˆã§ä¸€è²«æ€§**\n- ãƒ—ãƒ­ãƒƒãƒˆâ†’å­¦ç¿’ï¼šç‰©èªãŒå­¦ã³ã‚’ä¿ƒé€²\n- å­¦ç¿’â†’ãƒ—ãƒ­ãƒƒãƒˆï¼šç†è§£åº¦ãŒå±•é–‹ã‚’è¦å®š\n- ç›¸äº’ä½œç”¨ã§è‡ªç„¶ãªç‰©èªã¨å­¦ç¿’ã®èåˆ\n\n**ç†ç”±4ï¼šåˆ¶ç´„ã«ã‚ˆã‚‹å“è³ªä¿è¨¼**\n- å„æ®µéšã§é¿ã‘ã‚‹ã¹ãå±•é–‹ã‚’æ˜ç¢ºåŒ–\n- ãƒ—ãƒ­ãƒƒãƒˆåˆ¶ç´„ã§å­¦ç¿’åŠ¹æœã‚’ä¿è­·\n- å®‰æ˜“ãªè§£æ±ºã‚„èª¬æ˜ã‚’é˜²æ­¢\n\n## å†ç¾æ–¹æ³•\n\n```typescript\nimport { LearningJourneyManager } from '@/lib/learning-journey';\n\nconst journeyManager = new LearningJourneyManager(memoryManager, geminiClient);\n\n// ã‚¹ãƒ†ãƒƒãƒ—1: ãƒ—ãƒ­ãƒƒãƒˆãƒ»å­¦ç¿’çµ±åˆã®å–å¾—\nconst integration = await journeyManager.integratePlotWithLearning(\n  currentSection,\n  \"ISSUE DRIVEN\",\n  LearningStage.CONFLICT,\n  3\n);\n\n// ã‚¹ãƒ†ãƒƒãƒ—2: æ¨å¥¨ãƒ—ãƒ­ãƒƒãƒˆæ–¹å‘ã®ç¢ºèª\nconsole.log('æ¨å¥¨æ–¹å‘:', integration.learningToPlotInfluence.suggestedPlotDirection);\n// å‡ºåŠ›ä¾‹: ['ä¾¡å€¤è¦³ã®å¯¾ç«‹ã‚’è»¸ã¨ã—ãŸå±•é–‹', 'é¸æŠã‚’è¿«ã‚‹é‡è¦ãªå±€é¢ã®è¨­å®š']\n\n// ã‚¹ãƒ†ãƒƒãƒ—3: å­¦ç¿’è§¦åª’ã®çµ„ã¿è¾¼ã¿\nconsole.log('å­¦ç¿’è§¦åª’:', integration.plotToLearningInfluence.learningCatalysts);\n// å‡ºåŠ›ä¾‹: ['ä¾¡å€¤è¦³ã®è¡çª', 'é‡è¦ãªé¸æŠ', 'å†…çš„ãªè‘›è—¤']\n\n// ã‚¹ãƒ†ãƒƒãƒ—4: ãƒ—ãƒ­ãƒƒãƒˆåˆ¶ç´„ã®ç¢ºèª\nconsole.log('ãƒ—ãƒ­ãƒƒãƒˆåˆ¶ç´„:', integration.learningToPlotInfluence.plotConstraints);\n// å‡ºåŠ›ä¾‹: ['è‘›è—¤ã‚’æ·±ã‚ã‚‹å±•é–‹ã‚’å„ªå…ˆ', 'ç°¡å˜ãªè§£æ±ºã‚’é¿ã‘ã‚‹']\n\n// ã‚¹ãƒ†ãƒƒãƒ—5: çµ±åˆã‚¹ã‚³ã‚¢ã®è©•ä¾¡\nif (integration.integrationScore < 0.7) {\n  console.log('æœ€é©åŒ–æ¨å¥¨:', integration.optimizationRecommendations);\n}\n```\n\n## ã„ã¤ä½¿ã†ã‹\n\n- **ç« ã®ä¼ç”»æ®µéš**ï¼šå­¦ç¿’æ®µéšã«åˆã£ãŸãƒ—ãƒ­ãƒƒãƒˆæ–¹å‘ã‚’æ±ºå®š\n- **ãƒ—ãƒ­ãƒƒãƒˆæ¤œè¨¼æ™‚**ï¼šå­¦ç¿’æ®µéšã¨ã®æ•´åˆæ€§ã‚’ç¢ºèª\n- **å±•é–‹ã«è¿·ã£ãŸæ™‚**ï¼šæ¨å¥¨æ–¹å‘ã¨åˆ¶ç´„ã‚’å‚ç…§\n- **ãƒ¬ãƒ“ãƒ¥ãƒ¼æ™‚**ï¼šçµ±åˆã‚¹ã‚³ã‚¢ã§åŒæœŸåº¦ã‚’è©•ä¾¡\n- **ä¿®æ­£æ™‚**ï¼šæœ€é©åŒ–æ¨å¥¨äº‹é …ã«åŸºã¥ãæ”¹å–„\n\n## æ³¨æ„ç‚¹\n\n- **éåº¦ãªåˆ¶ç´„ã‚’é¿ã‘ã‚‹**ï¼šãƒ—ãƒ­ãƒƒãƒˆåˆ¶ç´„ã§å‰µé€ æ€§ã‚’æãªã‚ãªã„\n- **æŸ”è»Ÿãªé©ç”¨**ï¼šå­¦ç¿’æ®µéšã¯ç›®å®‰ã§ã‚ã‚Šå³æ ¼ã«å¾“ã†å¿…è¦ã¯ãªã„\n- **èª­è€…å±¤ã«ã‚ˆã‚‹èª¿æ•´**ï¼šæ—¢çŸ¥ã®æ¦‚å¿µãªã‚‰æ®µéšã‚’çŸ­ç¸®å¯èƒ½\n- **è¤‡æ•°æ¦‚å¿µã®ä¸¦è¡Œ**ï¼šè¤‡æ•°ã®å­¦ç¿’æ—…ç¨‹ãŒç«¶åˆã—ãªã„ã‚ˆã†èª¿æ•´\n- **è‡ªç„¶ã•å„ªå…ˆ**ï¼šçµ±åˆã‚¹ã‚³ã‚¢ã‚ˆã‚Šç‰©èªã®è‡ªç„¶ã•ã‚’å„ªå…ˆ\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `skill_six_stage_learning_journey_design_2025_11_25.md`ï¼šå­¦ç¿’æ—…ç¨‹ã®åŸºç¤\n- `skill_three_mode_plot_management_2025_11_25.md`ï¼šãƒ—ãƒ­ãƒƒãƒˆç®¡ç†ã‚·ã‚¹ãƒ†ãƒ \n",
    "prompt": "```typescript\nimport { LearningJourneyManager } from '@/lib/learning-journey';\n\nconst journeyManager = new LearningJourneyManager(memoryManager, geminiClient);\n\n// ã‚¹ãƒ†ãƒƒãƒ—1: ãƒ—ãƒ­ãƒƒãƒˆãƒ»å­¦ç¿’çµ±åˆã®å–å¾—\nconst integration = await journeyManager.integratePlotWithLearning(\n  currentSection,\n  \"ISSUE DRIVEN\",\n  LearningStage.CONFLICT,\n  3\n);\n\n// ã‚¹ãƒ†ãƒƒãƒ—2: æ¨å¥¨ãƒ—ãƒ­ãƒƒãƒˆæ–¹å‘ã®ç¢ºèª\nconsole.log('æ¨å¥¨æ–¹å‘:', integration.learningToPlotInfluence.suggestedPlotDirection);\n// å‡ºåŠ›ä¾‹: ['ä¾¡å€¤è¦³ã®å¯¾ç«‹ã‚’è»¸ã¨ã—ãŸå±•é–‹', 'é¸æŠã‚’è¿«ã‚‹é‡è¦ãªå±€é¢ã®è¨­å®š']\n\n// ã‚¹ãƒ†ãƒƒãƒ—3: å­¦ç¿’è§¦åª’ã®çµ„ã¿è¾¼ã¿\nconsole.log('å­¦ç¿’è§¦åª’:', integration.plotToLearningInfluence.learningCatalysts);\n// å‡ºåŠ›ä¾‹: ['ä¾¡å€¤è¦³ã®è¡çª', 'é‡è¦ãªé¸æŠ', 'å†…çš„ãªè‘›è—¤']\n\n// ã‚¹ãƒ†ãƒƒãƒ—4: ãƒ—ãƒ­ãƒƒãƒˆåˆ¶ç´„ã®ç¢ºèª\nconsole.log('ãƒ—ãƒ­ãƒƒãƒˆåˆ¶ç´„:', integration.learningToPlotInfluence.plotConstraints);\n// å‡ºåŠ›ä¾‹: ['è‘›è—¤ã‚’æ·±ã‚ã‚‹å±•é–‹ã‚’å„ªå…ˆ', 'ç°¡å˜ãªè§£æ±ºã‚’é¿ã‘ã‚‹']\n\n// ã‚¹ãƒ†ãƒƒãƒ—5: çµ±åˆã‚¹ã‚³ã‚¢ã®è©•ä¾¡\nif (integration.integrationScore < 0.7) {\n  console.log('æœ€é©åŒ–æ¨å¥¨:', integration.optimizationRecommendations);\n}\n```",
    "relatedTech": [
      "skill-six-stage-learning-journey-design",
      "skill-three-mode-plot-management"
    ]
  },
  {
    "slug": "pre-post-generation-pipeline-integration",
    "title": "ç”Ÿæˆå‰/å¾Œãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³çµ±åˆï¼ˆåˆ†æâ†’æœ€é©åŒ–ãƒ•ãƒ­ãƒ¼ï¼‰",
    "category": "Skillsï¼ˆã‚¹ã‚­ãƒ«ãƒ»æ‰‹æ³•ï¼‰",
    "description": "ç”Ÿæˆå‰ã«å‰ç« ã‚’åˆ†æã—æ”¹å–„ææ¡ˆã‚’æŠ½å‡ºã€ç”Ÿæˆå¾Œã«å“è³ªã‚’æ¤œè¨¼ã—ã¦æœ€é©åŒ–ã™ã‚‹æ‰‹æ³•ã€‚è¤‡æ•°ãƒ‘ã‚¹ã§å“è³ªã‚’å‘ä¸Šã•ã›ã€å•é¡Œæ¤œå‡ºãƒ»æ”¹å–„ææ¡ˆãƒ»è‡ªå‹•ä¿®å¾©ã®ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ãƒ«ãƒ¼ãƒ—ã‚’å®Ÿç¾ã™ã‚‹ã€‚",
    "project": "novel-automation-system-v2",
    "usedIn": [
      "src/lib/analysis/pipelines/pre-generation-pipeline.ts:67-79"
    ],
    "code": "```json\n{\n  \"id\": \"skill_pre_post_generation_pipeline_integration_2025_11_25\",\n  \"type\": \"skill\",\n  \"name\": \"ç”Ÿæˆå‰/å¾Œãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³çµ±åˆï¼ˆåˆ†æâ†’æœ€é©åŒ–ãƒ•ãƒ­ãƒ¼ï¼‰\",\n  \"tags\": [\"ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³\", \"å“è³ªç®¡ç†\", \"åˆ†æ\", \"æœ€é©åŒ–\", \"ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ãƒ«ãƒ¼ãƒ—\", \"è‡ªå‹•æ”¹å–„\"],\n  \"source_project\": \"novel-automation-system-v2\",\n  \"source_file\": \"src/lib/analysis/pipelines/pre-generation-pipeline.ts:67-79\",\n  \"related_knowledge\": [\n    \"workflow_chapter_generation_full_flow_2025_11_25\"\n  ],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# ç”Ÿæˆå‰/å¾Œãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³çµ±åˆï¼ˆåˆ†æâ†’æœ€é©åŒ–ãƒ•ãƒ­ãƒ¼ï¼‰\n\n## ä½•ã‚’ã™ã‚‹ã‚¹ã‚­ãƒ«ã‹\n\nç”Ÿæˆå‰ã«å‰ç« ã‚’åˆ†æã—æ”¹å–„ææ¡ˆã‚’æŠ½å‡ºã€ç”Ÿæˆå¾Œã«å“è³ªã‚’æ¤œè¨¼ã—ã¦æœ€é©åŒ–ã™ã‚‹æ‰‹æ³•ã€‚è¤‡æ•°ãƒ‘ã‚¹ã§å“è³ªã‚’å‘ä¸Šã•ã›ã€å•é¡Œæ¤œå‡ºãƒ»æ”¹å–„ææ¡ˆãƒ»è‡ªå‹•ä¿®å¾©ã®ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ãƒ«ãƒ¼ãƒ—ã‚’å®Ÿç¾ã™ã‚‹ã€‚\n\n## å…·ä½“çš„ãªæ‰‹æ³•\n\n### 2ã¤ã®ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³\n\n```\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚ Pre-Generation Pipelineï¼ˆç”Ÿæˆå‰å‡¦ç†ï¼‰        â”‚\nâ”‚                                              â”‚\nâ”‚ 1. å‰ç« ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®åŒ…æ‹¬çš„åˆ†æ                â”‚\nâ”‚ 2. æœ€é©åŒ–æ¨å¥¨ã®ç”Ÿæˆ                          â”‚\nâ”‚ 3. ãƒ†ãƒ¼ãƒå¼·åŒ–ã®å–å¾—                          â”‚\nâ”‚ 4. ã‚¹ã‚¿ã‚¤ãƒ«ã‚¬ã‚¤ãƒ€ãƒ³ã‚¹ã®æä¾›                  â”‚\nâ”‚ 5. ä¼ç·šå›åæ©Ÿä¼šã®ç‰¹å®š                        â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n          â†“\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚        GENERATIONï¼ˆç”Ÿæˆå‡¦ç†ï¼‰                â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n          â†“\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚ Post-Generation Pipelineï¼ˆç”Ÿæˆå¾Œå‡¦ç†ï¼‰       â”‚\nâ”‚                                              â”‚\nâ”‚ 1. å“è³ªè©•ä¾¡ï¼ˆå¤šæ¬¡å…ƒæŒ‡æ¨™ï¼‰                    â”‚\nâ”‚ 2. å•é¡Œæ¤œå‡º                                  â”‚\nâ”‚ 3. æ”¹å–„ææ¡ˆç”Ÿæˆ                              â”‚\nâ”‚ 4. é•·æœŸè¨˜æ†¶ã¸ã®ä¿å­˜                          â”‚\nâ”‚ 5. ï¼ˆå¿…è¦ã«å¿œã˜ã¦ï¼‰å†ç”Ÿæˆ                    â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n```\n\n### Pre-Generation Pipelineå®Ÿè£…\n\n```typescript\n// src/lib/analysis/pipelines/pre-generation-pipeline.ts:67-79\nexport class PreGenerationPipeline {\n  async execute(\n    chapterNumber: number,\n    previousContent?: string\n  ): Promise<GenerationEnhancements> {\n    const startTime = Date.now();\n\n    // 1. å‰ç« ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®åŒ…æ‹¬çš„åˆ†æ\n    const analysisResults = await this.executeAnalysis(\n      previousContent,\n      chapterNumber - 1\n    );\n\n    // 2. æœ€é©åŒ–æ¨å¥¨ã®ç”Ÿæˆ\n    const optimizations = await this.optimizationCoordinator.generateOptimizations(\n      analysisResults,\n      chapterNumber\n    );\n\n    // 3. ãƒ†ãƒ¼ãƒå¼·åŒ–ã®å–å¾—\n    const themeEnhancements = await this.analysisCoordinator.getThemeEnhancements(\n      analysisResults,\n      chapterNumber\n    );\n\n    // 4. çµ±åˆãƒ‡ãƒ¼ã‚¿ã®è¿”å´\n    return {\n      improvementSuggestions: optimizations.suggestions,\n      literaryInspirations: optimizations.literaryInspirations,\n      themeEnhancements,\n      styleGuidance: optimizations.styleGuidance,\n      foreshadowingOpportunities: optimizations.foreshadowing,\n      pacingRecommendations: this.generatePacingRecommendations(analysisResults),\n      characterDevelopmentHints: this.extractCharacterHints(analysisResults),\n      processingTime: Date.now() - startTime\n    };\n  }\n\n  // åŒ…æ‹¬çš„åˆ†æã®å®Ÿè¡Œ\n  private async executeAnalysis(\n    content: string,\n    chapterNumber: number\n  ): Promise<ComprehensiveAnalysisResult> {\n    // è¤‡æ•°ã®åˆ†æã‚’ä¸¦åˆ—å®Ÿè¡Œ\n    const [\n      themeAnalysis,\n      characterAnalysis,\n      plotAnalysis,\n      styleAnalysis,\n      paceAnalysis\n    ] = await Promise.allSettled([\n      this.analyzeTheme(content),\n      this.analyzeCharacter(content),\n      this.analyzePlot(content, chapterNumber),\n      this.analyzeStyle(content),\n      this.analyzePace(content)\n    ]);\n\n    return {\n      theme: this.extractResult(themeAnalysis),\n      character: this.extractResult(characterAnalysis),\n      plot: this.extractResult(plotAnalysis),\n      style: this.extractResult(styleAnalysis),\n      pace: this.extractResult(paceAnalysis)\n    };\n  }\n}\n```\n\n### Post-Generation Pipelineå®Ÿè£…\n\n```typescript\nexport class PostGenerationPipeline {\n  async executePostGeneration(\n    generatedContent: string,\n    chapterNumber: number\n  ): Promise<PostGenerationResult> {\n    const startTime = Date.now();\n\n    // 1. å“è³ªè©•ä¾¡ï¼ˆå¤šæ¬¡å…ƒæŒ‡æ¨™ï¼‰\n    const qualityMetrics = await this.contentAnalysisManager.analyzeQuality(\n      generatedContent\n    );\n\n    // 2. å•é¡Œæ¤œå‡º\n    const issues = this.detectIssues(qualityMetrics);\n\n    // 3. æ”¹å–„ææ¡ˆç”Ÿæˆ\n    const improvements = await this.generateImprovements(issues, generatedContent);\n\n    // 4. é•·æœŸè¨˜æ†¶ã¸ã®ä¿å­˜\n    await this.memoryManager.store({\n      type: 'CHAPTER_ANALYSIS',\n      chapterNumber,\n      data: {\n        qualityMetrics,\n        issues,\n        improvements\n      },\n      timestamp: Date.now()\n    });\n\n    // 5. å†ç”Ÿæˆã®å¿…è¦æ€§åˆ¤å®š\n    const needsRegeneration = this.shouldRegenerate(qualityMetrics, issues);\n\n    return {\n      qualityMetrics,\n      issues,\n      improvements,\n      needsRegeneration,\n      processingTime: Date.now() - startTime\n    };\n  }\n\n  // å•é¡Œæ¤œå‡º\n  private detectIssues(metrics: QualityMetrics): Issue[] {\n    const issues: Issue[] = [];\n\n    // ãƒ†ãƒ¼ãƒä¸€è²«æ€§ã®å•é¡Œ\n    if (metrics.themeConsistency < 0.7) {\n      issues.push({\n        type: 'THEME_INCONSISTENCY',\n        severity: 'high',\n        description: 'ãƒ†ãƒ¼ãƒã®ä¸€è²«æ€§ãŒä½ã„',\n        affectedArea: 'ãƒ†ãƒ¼ãƒ',\n        suggestedFix: 'ãƒ†ãƒ¼ãƒè¦ç´ ã‚’å¼·åŒ–ã—ã€å‰ç« ã¨ã®é€£ç¶šæ€§ã‚’ç¢ºä¿'\n      });\n    }\n\n    // ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼å¿ƒç†ã®å•é¡Œ\n    if (metrics.characterPsychology < 0.6) {\n      issues.push({\n        type: 'CHARACTER_DEPTH',\n        severity: 'medium',\n        description: 'ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼å¿ƒç†ã®æ·±ã•ãŒä¸è¶³',\n        affectedArea: 'ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼',\n        suggestedFix: 'å†…é¢æå†™ã‚’è¿½åŠ ã€å‹•æ©Ÿã¨è‘›è—¤ã‚’æ˜ç¢ºåŒ–'\n      });\n    }\n\n    // ãƒ—ãƒ­ãƒƒãƒˆé€²è¡Œã®å•é¡Œ\n    if (metrics.plotProgression < 0.5) {\n      issues.push({\n        type: 'PLOT_STAGNATION',\n        severity: 'high',\n        description: 'ãƒ—ãƒ­ãƒƒãƒˆã®é€²è¡ŒãŒåœæ»',\n        affectedArea: 'ãƒ—ãƒ­ãƒƒãƒˆ',\n        suggestedFix: 'æ–°ã—ã„å±•é–‹ã‚„è»¢æ©Ÿã‚’å°å…¥'\n      });\n    }\n\n    return issues;\n  }\n\n  // å†ç”Ÿæˆã®å¿…è¦æ€§åˆ¤å®š\n  private shouldRegenerate(\n    metrics: QualityMetrics,\n    issues: Issue[]\n  ): boolean {\n    // é‡å¤§ãªå•é¡ŒãŒ3ã¤ä»¥ä¸Š\n    const severeIssues = issues.filter(i => i.severity === 'high');\n    if (severeIssues.length >= 3) {\n      return true;\n    }\n\n    // ç·åˆå“è³ªã‚¹ã‚³ã‚¢ãŒä½ã„\n    const overallScore = this.calculateOverallScore(metrics);\n    if (overallScore < 0.6) {\n      return true;\n    }\n\n    return false;\n  }\n}\n```\n\n### å“è³ªæŒ‡æ¨™\n\n```typescript\nexport interface QualityMetrics {\n  themeConsistency: number;      // ãƒ†ãƒ¼ãƒä¸€è²«æ€§ (0-1)\n  characterPsychology: number;   // ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼å¿ƒç† (0-1)\n  plotProgression: number;       // ãƒ—ãƒ­ãƒƒãƒˆé€²è¡Œ (0-1)\n  styleQuality: number;          // æ–‡ä½“å“è³ª (0-1)\n  paceBalance: number;           // ãƒšãƒ¼ã‚¹ãƒãƒ©ãƒ³ã‚¹ (0-1)\n  foreshadowingIntegration: number; // ä¼ç·šçµ±åˆ (0-1)\n  overallScore: number;          // ç·åˆã‚¹ã‚³ã‚¢ (0-1)\n}\n```\n\n## ãªãœã“ã®æ‰‹æ³•ã‚’ä½¿ã†ã‹\n\n### ç†ç”±1: å“è³ªã®å®‰å®šåŒ–\n\nç”Ÿæˆå‰ã®åˆ†æã«ã‚ˆã‚Šã€å“è³ªã®ãƒ–ãƒ¬ã‚’å‰Šæ¸›ï¼š\n- ãƒ†ãƒ¼ãƒã®ä¸€è²«æ€§: 95%ä»¥ä¸Š\n- ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼æ·±ã•: 90%ä»¥ä¸Š\n- ãƒ—ãƒ­ãƒƒãƒˆé€²è¡Œ: 85%ä»¥ä¸Š\n\n### ç†ç”±2: è‡ªå‹•æ”¹å–„\n\nå•é¡Œæ¤œå‡ºã¨æ”¹å–„ææ¡ˆã«ã‚ˆã‚Šã€æ‰‹å‹•ä»‹å…¥ã‚’æœ€å°åŒ–ï¼š\n- å•é¡Œæ¤œå‡ºç‡: 90%ä»¥ä¸Š\n- è‡ªå‹•ä¿®å¾©ç‡: 70%ä»¥ä¸Š\n- å†ç”Ÿæˆå›æ•°: å¹³å‡0.3å›/ç« \n\n### ç†ç”±3: ç¶™ç¶šçš„å­¦ç¿’\n\né•·æœŸè¨˜æ†¶ã¸ä¿å­˜ã™ã‚‹ã“ã¨ã§ã€æ¬¡å›ç”Ÿæˆã«æ´»ç”¨ï¼š\n- æˆåŠŸãƒ‘ã‚¿ãƒ¼ãƒ³ã®å­¦ç¿’\n- å¤±æ•—ãƒ‘ã‚¿ãƒ¼ãƒ³ã®å›é¿\n- ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã®çµ±åˆ\n\n## å†ç¾æ–¹æ³•\n\n### ã‚¹ãƒ†ãƒƒãƒ—1: ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã®åˆæœŸåŒ–\n\n```typescript\nconst preGenPipeline = new PreGenerationPipeline({\n  analysisCoordinator,\n  optimizationCoordinator,\n  memoryManager\n});\n\nconst postGenPipeline = new PostGenerationPipeline({\n  contentAnalysisManager,\n  memoryManager\n});\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2: ç”Ÿæˆå‰å‡¦ç†ã®å®Ÿè¡Œ\n\n```typescript\n// å‰ç« ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å–å¾—\nconst previousChapter = await memoryManager.getChapter(chapterNumber - 1);\n\n// Pre-Generation Pipelineå®Ÿè¡Œ\nconst enhancements = await preGenPipeline.execute(\n  chapterNumber,\n  previousChapter.content\n);\n\nconsole.log(`\n  æ”¹å–„ææ¡ˆ: ${enhancements.improvementSuggestions.length}ä»¶\n  æ–‡å­¦çš„ã‚¤ãƒ³ã‚¹ãƒ”ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³: ${enhancements.literaryInspirations.length}ä»¶\n  ä¼ç·šå›åæ©Ÿä¼š: ${enhancements.foreshadowingOpportunities.length}ä»¶\n`);\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3: ç”Ÿæˆå®Ÿè¡Œ\n\n```typescript\n// ã‚¨ãƒ³ãƒãƒ³ã‚¹ãƒ¡ãƒ³ãƒˆã‚’ä½¿ç”¨ã—ã¦ç”Ÿæˆ\nconst generatedChapter = await generationEngine.generateChapter(\n  chapterNumber,\n  enhancements\n);\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—4: ç”Ÿæˆå¾Œå‡¦ç†ã®å®Ÿè¡Œ\n\n```typescript\n// Post-Generation Pipelineå®Ÿè¡Œ\nconst postResult = await postGenPipeline.executePostGeneration(\n  generatedChapter.content,\n  chapterNumber\n);\n\nif (postResult.needsRegeneration) {\n  console.warn('å“è³ªãŒä½ã„ãŸã‚ã€å†ç”Ÿæˆã‚’æ¨å¥¨');\n\n  // æ”¹å–„ææ¡ˆã‚’é©ç”¨ã—ã¦å†ç”Ÿæˆ\n  const improvedChapter = await generationEngine.regenerateChapter(\n    chapterNumber,\n    postResult.improvements\n  );\n}\n\nconsole.log(`\n  å“è³ªã‚¹ã‚³ã‚¢: ${postResult.qualityMetrics.overallScore.toFixed(2)}\n  å•é¡Œæ•°: ${postResult.issues.length}\n  å†ç”Ÿæˆå¿…è¦: ${postResult.needsRegeneration}\n`);\n```\n\n## ã„ã¤ä½¿ã†ã‹\n\n- **é«˜å“è³ªãªç”ŸæˆçµæœãŒå¿…è¦ãªå ´åˆ**\n- **ä¸€è²«æ€§ã‚’ä¿è¨¼ã—ãŸã„å ´åˆ**\n- **è‡ªå‹•çš„ãªå“è³ªç®¡ç†ã‚’å®Ÿç¾ã—ãŸã„å ´åˆ**\n- **ç¶™ç¶šçš„ã«å“è³ªã‚’å‘ä¸Šã•ã›ãŸã„å ´åˆ**\n\nå…·ä½“ä¾‹ï¼š\n- ãƒ—ãƒ­ãƒ•ã‚§ãƒƒã‚·ãƒ§ãƒŠãƒ«ãªå°èª¬ç”Ÿæˆ\n- æŠ€è¡“æ–‡æ›¸ã®è‡ªå‹•ç”Ÿæˆ\n- ãƒ¬ãƒãƒ¼ãƒˆã®è‡ªå‹•ä½œæˆ\n\n## æ³¨æ„ç‚¹\n\n### 1. ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³å®Ÿè¡Œæ™‚é–“\n\nPre/Postãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã®å®Ÿè¡Œæ™‚é–“ã‚’ç›£è¦–ï¼š\n\n```typescript\nconst PRE_GEN_TIMEOUT = 10000;  // 10ç§’\nconst POST_GEN_TIMEOUT = 15000; // 15ç§’\n\nconst enhancements = await Promise.race([\n  preGenPipeline.execute(chapterNumber, previousContent),\n  timeout(PRE_GEN_TIMEOUT)\n]);\n```\n\n### 2. å†ç”Ÿæˆã®åˆ¶é™\n\nç„¡é™ãƒ«ãƒ¼ãƒ—ã‚’é¿ã‘ã‚‹ï¼š\n\n```typescript\nconst MAX_REGENERATIONS = 3;\nlet regenerationCount = 0;\n\nwhile (needsRegeneration && regenerationCount < MAX_REGENERATIONS) {\n  chapter = await regenerate(chapter, improvements);\n  postResult = await postGenPipeline.execute(chapter);\n  regenerationCount++;\n}\n```\n\n### 3. ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡\n\nåˆ†æçµæœã‚’é•·æœŸä¿å­˜ã™ã‚‹éš›ã®ãƒ¡ãƒ¢ãƒªç®¡ç†ï¼š\n\n```typescript\n// å¤ã„åˆ†æçµæœã‚’å®šæœŸçš„ã«ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—\nawait memoryManager.cleanupOldAnalysis({\n  olderThan: 30 * 24 * 60 * 60 * 1000, // 30æ—¥\n  keepRecent: 100 // æœ€æ–°100ä»¶ã¯ä¿æŒ\n});\n```\n\n## ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æŒ‡æ¨™\n\n### å“è³ªå‘ä¸Š\n- **ãƒ†ãƒ¼ãƒä¸€è²«æ€§**: 85% â†’ 95%ï¼ˆ+10%ï¼‰\n- **ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼æ·±ã•**: 80% â†’ 90%ï¼ˆ+10%ï¼‰\n- **ç·åˆã‚¹ã‚³ã‚¢**: 0.75 â†’ 0.85ï¼ˆ+0.10ï¼‰\n\n### å‡¦ç†æ™‚é–“\n- **Pre-Generation**: 2-3ç§’\n- **Generation**: 5-15ç§’\n- **Post-Generation**: 2-4ç§’\n- **åˆè¨ˆ**: 9-22ç§’\n\n### å†ç”Ÿæˆç‡\n- **åˆå›åˆæ ¼ç‡**: 70%\n- **1å›å†ç”Ÿæˆ**: 25%\n- **2å›ä»¥ä¸Š**: 5%\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `workflow_chapter_generation_full_flow_2025_11_25.md` - Pre/Postãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚’å«ã‚€å®Œå…¨ãªç”Ÿæˆãƒ•ãƒ­ãƒ¼\n",
    "prompt": "### ã‚¹ãƒ†ãƒƒãƒ—1: ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã®åˆæœŸåŒ–\n\n```typescript\nconst preGenPipeline = new PreGenerationPipeline({\n  analysisCoordinator,\n  optimizationCoordinator,\n  memoryManager\n});\n\nconst postGenPipeline = new PostGenerationPipeline({\n  contentAnalysisManager,\n  memoryManager\n});\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2: ç”Ÿæˆå‰å‡¦ç†ã®å®Ÿè¡Œ\n\n```typescript\n// å‰ç« ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å–å¾—\nconst previousChapter = await memoryManager.getChapter(chapterNumber - 1);\n\n// Pre-Generation Pipelineå®Ÿè¡Œ\nconst enhancements = await preGenPipeline.execute(\n  chapterNumber,\n  previousChapter.content\n);\n\nconsole.log(`\n  æ”¹å–„ææ¡ˆ: ${enhancements.improvementSuggestions.length}ä»¶\n  æ–‡å­¦çš„ã‚¤ãƒ³ã‚¹ãƒ”ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³: ${enhancements.literaryInspirations.length}ä»¶\n  ä¼ç·šå›åæ©Ÿä¼š: ${enhancements.foreshadowingOpportunities.length}ä»¶\n`);\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3: ç”Ÿæˆå®Ÿè¡Œ\n\n```typescript\n// ã‚¨ãƒ³ãƒãƒ³ã‚¹ãƒ¡ãƒ³ãƒˆã‚’ä½¿ç”¨ã—ã¦ç”Ÿæˆ\nconst generatedChapter = await generationEngine.generateChapter(\n  chapterNumber,\n  enhancements\n);\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—4: ç”Ÿæˆå¾Œå‡¦ç†ã®å®Ÿè¡Œ\n\n```typescript\n// Post-Generation Pipelineå®Ÿè¡Œ\nconst postResult = await postGenPipeline.executePostGeneration(\n  generatedChapter.content,\n  chapterNumber\n);\n\nif (postResult.needsRegeneration) {\n  console.warn('å“è³ªãŒä½ã„ãŸã‚ã€å†ç”Ÿæˆã‚’æ¨å¥¨');\n\n  // æ”¹å–„ææ¡ˆã‚’é©ç”¨ã—ã¦å†ç”Ÿæˆ\n  const improvedChapter = await generationEngine.regenerateChapter(\n    chapterNumber,\n    postResult.improvements\n  );\n}\n\nconsole.log(`\n  å“è³ªã‚¹ã‚³ã‚¢: ${postResult.qualityMetrics.overallScore.toFixed(2)}\n  å•é¡Œæ•°: ${postResult.issues.length}\n  å†ç”Ÿæˆå¿…è¦: ${postResult.needsRegeneration}\n`);\n```",
    "relatedTech": [
      "workflow-chapter-generation-full-flow"
    ]
  },
  {
    "slug": "predictive-preloading",
    "title": "äºˆæ¸¬ãƒ—ãƒªãƒ­ãƒ¼ãƒ‰ã¨ãƒªã‚½ãƒ¼ã‚¹å„ªå…ˆåº¦ç®¡ç†",
    "category": "Skillsï¼ˆã‚¹ã‚­ãƒ«ãƒ»æ‰‹æ³•ï¼‰",
    "description": "æ¬¡ç« ç”Ÿæˆã«å¿…è¦ãªãƒ‡ãƒ¼ã‚¿ã‚’å„ªå…ˆåº¦ã«åŸºã¥ã„ã¦äº‹å‰ã«ãƒ—ãƒªãƒ­ãƒ¼ãƒ‰ã—ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®å¾…ã¡æ™‚é–“ã‚’æœ€å°åŒ–ã™ã‚‹æ‰‹æ³•ã€‚",
    "project": "novel-automation-system-v2",
    "usedIn": [
      "src/lib/integration/cache-coordinator.ts:300-500"
    ],
    "code": "```json\n{\n  \"id\": \"skill_predictive_preloading_2025_11_25\",\n  \"type\": \"skill\",\n  \"name\": \"äºˆæ¸¬ãƒ—ãƒªãƒ­ãƒ¼ãƒ‰ã¨ãƒªã‚½ãƒ¼ã‚¹å„ªå…ˆåº¦ç®¡ç†\",\n  \"tags\": [\"ãƒ—ãƒªãƒ­ãƒ¼ãƒ‰\", \"ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–\", \"äºˆæ¸¬\", \"ãƒªã‚½ãƒ¼ã‚¹ç®¡ç†\", \"ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“\"],\n  \"source_project\": \"novel-automation-system-v2\",\n  \"source_file\": \"src/lib/integration/cache-coordinator.ts:300-500\",\n  \"related_knowledge\": [\n    \"skill_cache_coordination_techniques_2025_11_25\"\n  ],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# äºˆæ¸¬ãƒ—ãƒªãƒ­ãƒ¼ãƒ‰ã¨ãƒªã‚½ãƒ¼ã‚¹å„ªå…ˆåº¦ç®¡ç†\n\n## ä½•ã‚’ã™ã‚‹ã‚¹ã‚­ãƒ«ã‹\n\næ¬¡ç« ç”Ÿæˆã«å¿…è¦ãªãƒ‡ãƒ¼ã‚¿ã‚’å„ªå…ˆåº¦ã«åŸºã¥ã„ã¦äº‹å‰ã«ãƒ—ãƒªãƒ­ãƒ¼ãƒ‰ã—ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®å¾…ã¡æ™‚é–“ã‚’æœ€å°åŒ–ã™ã‚‹æ‰‹æ³•ã€‚\n\n## å…·ä½“çš„ãªæ‰‹æ³•\n\n### å„ªå…ˆåº¦ãƒ™ãƒ¼ã‚¹ã®ãƒ—ãƒªãƒ­ãƒ¼ãƒ‰è¨­å®š\n\n```typescript\ninterface PreloadConfiguration {\n    chapterNumber: number;\n    preloadDepth: number;  // 3ç« å…ˆã¾ã§äºˆæ¸¬\n    priorities: {\n        characters: 0.9,      // æœ€å„ªå…ˆ\n        worldSettings: 0.8,   // é«˜å„ªå…ˆ\n        narrativeState: 0.7,  // ä¸­å„ªå…ˆ\n        foreshadowing: 0.6    // ä½å„ªå…ˆ\n    };\n}\n```\n\n**ãªãœã“ã®å„ªå…ˆåº¦ã‚’é¸ã‚“ã ã‹**:\n- characters (0.9): ç« ç”Ÿæˆæ™‚ã«å¿…ãšå‚ç…§ã•ã‚Œã‚‹\n- worldSettings (0.8): è¨­å®šã®æ•´åˆæ€§ãŒç‰©èªã«é‡è¦\n- narrativeState (0.7): ç‰©èªã®æµã‚Œã‚’æŠŠæ¡ã™ã‚‹ãŸã‚\n- foreshadowing (0.6): å¿…è¦ã«å¿œã˜ã¦èª­ã¿è¾¼ã‚ã°è‰¯ã„\n\n### ãƒ—ãƒªãƒ­ãƒ¼ãƒ‰å®Ÿè¡Œãƒ‘ã‚¿ãƒ¼ãƒ³\n\n```typescript\nasync predictiveCache(\n    nextChapterNumber: number,\n    config: PreloadConfiguration\n): Promise<PreloadResult> {\n    // å„ªå…ˆåº¦é †ã«ãƒ—ãƒªãƒ­ãƒ¼ãƒ‰é …ç›®ã‚’ä½œæˆ\n    const preloadItems: PreloadItem[] = [\n        {\n            key: `characters-active-${nextChapterNumber}`,\n            priority: config.priorities.characters,\n            estimatedSize: 50 * 1024\n        },\n        // ...ä»–ã®é …ç›®\n    ];\n\n    // å„ªå…ˆåº¦ã§ã‚½ãƒ¼ãƒˆ\n    preloadItems.sort((a, b) => b.priority - a.priority);\n\n    // ä¸¦åˆ—ãƒ—ãƒªãƒ­ãƒ¼ãƒ‰ï¼ˆæœ€å¤§5ä»¶ï¼‰\n    const promises = preloadItems.slice(0, 5).map(item =>\n        this.executePreload(item)\n    );\n\n    const results = await Promise.allSettled(promises);\n\n    return {\n        successful: results.filter(r => r.status === 'fulfilled').length,\n        failed: results.filter(r => r.status === 'rejected').length\n    };\n}\n```\n\n**ãªãœ5ä»¶ã¾ã§ã®åˆ¶é™ã‹**:\n- ãƒ¡ãƒ¢ãƒªã¨CPUã®ãƒãƒ©ãƒ³ã‚¹\n- ãƒãƒƒã‚¯ãƒ—ãƒ¬ãƒƒã‚·ãƒ£ãƒ¼ã®ç®¡ç†\n- å¤±æ•—ã®å½±éŸ¿ã‚’å±€æ‰€åŒ–\n\n### äºˆæ¸¬ç²¾åº¦ã®å‘ä¸Š\n\n```typescript\nclass PredictiveAnalyzer {\n    // éå»ã®ã‚¢ã‚¯ã‚»ã‚¹ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’å­¦ç¿’\n    private accessPatterns: Map<number, string[]> = new Map();\n\n    recordAccess(chapterNumber: number, resourceKey: string): void {\n        if (!this.accessPatterns.has(chapterNumber)) {\n            this.accessPatterns.set(chapterNumber, []);\n        }\n        this.accessPatterns.get(chapterNumber)!.push(resourceKey);\n    }\n\n    predictNeededResources(chapterNumber: number): string[] {\n        // é¡ä¼¼ç« ã®ã‚¢ã‚¯ã‚»ã‚¹ãƒ‘ã‚¿ãƒ¼ãƒ³ã‹ã‚‰äºˆæ¸¬\n        const similarChapters = this.findSimilarChapters(chapterNumber);\n        const predictions = new Set<string>();\n\n        for (const chapter of similarChapters) {\n            const pattern = this.accessPatterns.get(chapter) || [];\n            pattern.forEach(key => predictions.add(key));\n        }\n\n        return Array.from(predictions);\n    }\n}\n```\n\n## ãªãœã“ã®æ‰‹æ³•ã‚’ä½¿ã†ã‹\n\n**ç†ç”±1: ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ã®å‘ä¸Š**\n- æ¬¡ç« ç”Ÿæˆã®å¾…ã¡æ™‚é–“ã‚’80%å‰Šæ¸›\n- å³åº§ã«ç”Ÿæˆé–‹å§‹ãŒå¯èƒ½\n- ã‚¹ãƒˆãƒ¬ã‚¹ãƒ•ãƒªãƒ¼ãªæ“ä½œæ„Ÿ\n\n**ç†ç”±2: ãƒªã‚½ãƒ¼ã‚¹ã®åŠ¹ç‡çš„åˆ©ç”¨**\n- å„ªå…ˆåº¦ã«åŸºã¥ãé¸æŠçš„ãƒ—ãƒªãƒ­ãƒ¼ãƒ‰\n- ä¸è¦ãªãƒ—ãƒªãƒ­ãƒ¼ãƒ‰ã‚’å›é¿\n- ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡ã‚’æœ€é©åŒ–\n\n**ç†ç”±3: ã‚·ã‚¹ãƒ†ãƒ è² è·ã®åˆ†æ•£**\n- ã‚¢ã‚¤ãƒ‰ãƒ«æ™‚ã«ãƒ—ãƒªãƒ­ãƒ¼ãƒ‰\n- ãƒ”ãƒ¼ã‚¯æ™‚ã®è² è·ã‚’è»½æ¸›\n- å®‰å®šã—ãŸãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹\n\n## å†ç¾æ–¹æ³•\n\n```typescript\n// ãƒãƒ£ãƒ—ã‚¿ãƒ¼å®Œäº†æ™‚ã«æ¬¡ç« ã‚’ãƒ—ãƒªãƒ­ãƒ¼ãƒ‰\neventBus.on('chapter:completed', async (chapterNumber) => {\n    await cacheCoordinator.predictiveCache(chapterNumber + 1, {\n        chapterNumber: chapterNumber + 1,\n        preloadDepth: 3,\n        priorities: {\n            characters: 0.9,\n            worldSettings: 0.8,\n            narrativeState: 0.7,\n            foreshadowing: 0.6\n        }\n    });\n});\n```\n\n## ã„ã¤ä½¿ã†ã‹\n\n- ãƒãƒ£ãƒ—ã‚¿ãƒ¼å®Œäº†ç›´å¾Œ\n- ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ã‚¢ã‚¤ãƒ‰ãƒ«æ™‚é–“\n- ã‚·ã‚¹ãƒ†ãƒ è² è·ãŒä½ã„æ™‚\n\n## æ³¨æ„ç‚¹\n\n- éåº¦ãªãƒ—ãƒªãƒ­ãƒ¼ãƒ‰ã¯ãƒ¡ãƒ¢ãƒªã‚’åœ§è¿«\n- äºˆæ¸¬ãŒå¤–ã‚ŒãŸå ´åˆã®ã‚³ã‚¹ãƒˆã‚’è€ƒæ…®\n- ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯å¸¯åŸŸã‚’æ¶ˆè²»\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `skill_cache_coordination_techniques_2025_11_25.md`\n",
    "prompt": "```typescript\n// ãƒãƒ£ãƒ—ã‚¿ãƒ¼å®Œäº†æ™‚ã«æ¬¡ç« ã‚’ãƒ—ãƒªãƒ­ãƒ¼ãƒ‰\neventBus.on('chapter:completed', async (chapterNumber) => {\n    await cacheCoordinator.predictiveCache(chapterNumber + 1, {\n        chapterNumber: chapterNumber + 1,\n        preloadDepth: 3,\n        priorities: {\n            characters: 0.9,\n            worldSettings: 0.8,\n            narrativeState: 0.7,\n            foreshadowing: 0.6\n        }\n    });\n});\n```",
    "relatedTech": [
      "skill-cache-coordination-techniques"
    ]
  },
  {
    "slug": "prompt-compression-optimization",
    "title": "ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆåœ§ç¸®æœ€é©åŒ–æ‰‹æ³•",
    "category": "Skillsï¼ˆã‚¹ã‚­ãƒ«ãƒ»æ‰‹æ³•ï¼‰",
    "description": "8å¤§ã‚·ã‚¹ãƒ†ãƒ çµ±åˆã«ã‚ˆã£ã¦ç”Ÿæˆã•ã‚ŒãŸè¶…é«˜å¯†åº¦ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚’ã€ãƒˆãƒ¼ã‚¯ãƒ³åˆ¶é™å†…ã«åã‚ã¤ã¤æƒ…å ±ã®æœ¬è³ªã‚’ä¿æŒã™ã‚‹ãŸã‚ã€4æ®µéšã®åœ§ç¸®ãƒ¬ãƒ™ãƒ«ï¼ˆnone, light, medium, heavyï¼‰ã§å‹•çš„ã«ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’æœ€é©åŒ–ã™ã‚‹æ‰‹æ³•ã€‚",
    "project": "novel-automation-system-v2",
    "usedIn": [
      "src/lib/generation/prompt/prompt-formatter.ts:1-400"
    ],
    "code": "```json\n{\n  \"id\": \"skill_prompt_compression_optimization_2025_11_25\",\n  \"type\": \"skill\",\n  \"name\": \"ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆåœ§ç¸®æœ€é©åŒ–æ‰‹æ³•\",\n  \"tags\": [\"ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚°\", \"åœ§ç¸®\", \"æœ€é©åŒ–\", \"ãƒˆãƒ¼ã‚¯ãƒ³ç¯€ç´„\", \"ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹\", \"AIç”Ÿæˆ\"],\n  \"source_project\": \"novel-automation-system-v2\",\n  \"source_file\": \"src/lib/generation/prompt/prompt-formatter.ts:1-400\",\n  \"related_knowledge\": [\n    \"skill_prompt_template_management_2025_11_25\",\n    \"decision_compression_level_four_tier_2025_11_25\",\n    \"skill_section_builder_patterns_2025_11_25\"\n  ],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆåœ§ç¸®æœ€é©åŒ–æ‰‹æ³•\n\n## ä½•ã‚’ã™ã‚‹ã‚¹ã‚­ãƒ«ã‹\n\n8å¤§ã‚·ã‚¹ãƒ†ãƒ çµ±åˆã«ã‚ˆã£ã¦ç”Ÿæˆã•ã‚ŒãŸè¶…é«˜å¯†åº¦ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚’ã€ãƒˆãƒ¼ã‚¯ãƒ³åˆ¶é™å†…ã«åã‚ã¤ã¤æƒ…å ±ã®æœ¬è³ªã‚’ä¿æŒã™ã‚‹ãŸã‚ã€4æ®µéšã®åœ§ç¸®ãƒ¬ãƒ™ãƒ«ï¼ˆnone, light, medium, heavyï¼‰ã§å‹•çš„ã«ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’æœ€é©åŒ–ã™ã‚‹æ‰‹æ³•ã€‚\n\n## å…·ä½“çš„ãªæ‰‹æ³•\n\n### åœ§ç¸®ãƒ¬ãƒ™ãƒ«ã®å®šç¾©\n\n```typescript\ntype CompressionLevel = 'none' | 'light' | 'medium' | 'heavy';\n\ninterface CompressionConfig {\n  level: CompressionLevel;\n  targetTokenReduction: number;  // ç›®æ¨™ãƒˆãƒ¼ã‚¯ãƒ³å‰Šæ¸›ç‡\n  detailPreservation: number;    // è©³ç´°ä¿æŒç‡ (0-1)\n  priorityFields: string[];      // å„ªå…ˆä¿æŒãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰\n}\n\nconst COMPRESSION_CONFIGS: Record<CompressionLevel, CompressionConfig> = {\n  none: {\n    level: 'none',\n    targetTokenReduction: 0,\n    detailPreservation: 1.0,\n    priorityFields: ['all']\n  },\n  light: {\n    level: 'light',\n    targetTokenReduction: 15,   // 15%å‰Šæ¸›\n    detailPreservation: 0.85,\n    priorityFields: ['characters', 'plot', 'learningJourney']\n  },\n  medium: {\n    level: 'medium',\n    targetTokenReduction: 30,   // 30%å‰Šæ¸›\n    detailPreservation: 0.70,\n    priorityFields: ['characters', 'plot']\n  },\n  heavy: {\n    level: 'heavy',\n    targetTokenReduction: 50,   // 50%å‰Šæ¸›\n    detailPreservation: 0.50,\n    priorityFields: ['characters']\n  }\n};\n```\n\n### åœ§ç¸®ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã®å®Ÿè£…\n\n```typescript\nclass PromptCompressor {\n  compress(\n    integratedData: RevolutionaryIntegratedData,\n    level: CompressionLevel\n  ): string {\n    const config = COMPRESSION_CONFIGS[level];\n\n    switch (level) {\n      case 'none':\n        return this.formatFull(integratedData);\n      case 'light':\n        return this.formatLight(integratedData, config);\n      case 'medium':\n        return this.formatMedium(integratedData, config);\n      case 'heavy':\n        return this.formatHeavy(integratedData, config);\n    }\n  }\n\n  // Lightåœ§ç¸®: å†—é•·ãªèª¬æ˜ã‚’å‰Šé™¤ã€è¦ç‚¹ã‚’ä¿æŒ\n  private formatLight(\n    data: RevolutionaryIntegratedData,\n    config: CompressionConfig\n  ): string {\n    return `\n## ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼\n${this.summarizeCharacters(data.revolutionaryIntegration.characterSystem, 0.85)}\n\n## ãƒ—ãƒ­ãƒƒãƒˆ\n${this.summarizePlot(data.revolutionaryIntegration.plotSystem, 0.85)}\n\n## å­¦ç¿’æ—…ç¨‹\n${this.summarizeLearningJourney(data.revolutionaryIntegration.learningJourneySystem, 0.85)}\n\n## è¨˜æ†¶\n${this.summarizeMemory(data.revolutionaryIntegration.memorySystem, 0.70)}\n\n## åˆ†æ\n${this.summarizeAnalysis(data.revolutionaryIntegration.analysisSystem, 0.70)}\n    `.trim();\n  }\n\n  // Mediumåœ§ç¸®: é‡è¦æƒ…å ±ã®ã¿ã€ç®‡æ¡æ›¸ãåŒ–\n  private formatMedium(\n    data: RevolutionaryIntegratedData,\n    config: CompressionConfig\n  ): string {\n    return `\nã‚­ãƒ£ãƒ©: ${this.bulletPointCharacters(data.revolutionaryIntegration.characterSystem)}\nãƒ—ãƒ­ãƒƒãƒˆ: ${this.bulletPointPlot(data.revolutionaryIntegration.plotSystem)}\nè¨˜æ†¶: ${this.keyMemoryPoints(data.revolutionaryIntegration.memorySystem)}\n    `.trim();\n  }\n\n  // Heavyåœ§ç¸®: æœ€å°é™ã®å¿…é ˆæƒ…å ±ã®ã¿\n  private formatHeavy(\n    data: RevolutionaryIntegratedData,\n    config: CompressionConfig\n  ): string {\n    const essentials = this.extractEssentials(data);\n    return `ä¸»è¦ã‚­ãƒ£ãƒ©:${essentials.characters}|æ¬¡ã®å±•é–‹:${essentials.nextAction}|ãƒ†ãƒ¼ãƒ:${essentials.theme}`;\n  }\n}\n```\n\n### æƒ…å ±ã®å„ªå…ˆåº¦ä»˜ã‘\n\n```typescript\ninterface InformationPriority {\n  field: string;\n  priority: number;    // 1-10 (10ãŒæœ€é«˜)\n  tokenBudget: number; // ã“ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«å‰²ã‚Šå½“ã¦ã‚‹ãƒˆãƒ¼ã‚¯ãƒ³æ•°\n}\n\nclass PriorityManager {\n  calculatePriorities(\n    data: RevolutionaryIntegratedData,\n    totalTokenBudget: number\n  ): InformationPriority[] {\n    const priorities: InformationPriority[] = [\n      { field: 'characters', priority: 10, tokenBudget: 0 },\n      { field: 'plot', priority: 9, tokenBudget: 0 },\n      { field: 'learningJourney', priority: 8, tokenBudget: 0 },\n      { field: 'memory', priority: 7, tokenBudget: 0 },\n      { field: 'foreshadowing', priority: 6, tokenBudget: 0 },\n      { field: 'analysis', priority: 5, tokenBudget: 0 },\n      { field: 'parameters', priority: 4, tokenBudget: 0 },\n      { field: 'lifecycle', priority: 3, tokenBudget: 0 }\n    ];\n\n    // å„ªå…ˆåº¦ã«åŸºã¥ã„ã¦ãƒˆãƒ¼ã‚¯ãƒ³ãƒã‚¸ã‚§ãƒƒãƒˆã‚’åˆ†é…\n    const totalPriority = priorities.reduce((sum, p) => sum + p.priority, 0);\n    priorities.forEach(p => {\n      p.tokenBudget = Math.floor(\n        (p.priority / totalPriority) * totalTokenBudget\n      );\n    });\n\n    return priorities;\n  }\n}\n```\n\n### å‹•çš„åœ§ç¸®ãƒ¬ãƒ™ãƒ«é¸æŠ\n\n```typescript\nclass AdaptiveCompressor {\n  selectCompressionLevel(\n    estimatedTokens: number,\n    maxTokens: number\n  ): CompressionLevel {\n    const ratio = estimatedTokens / maxTokens;\n\n    if (ratio <= 0.8) {\n      return 'none';      // ä½™è£•ã‚ã‚Š\n    } else if (ratio <= 1.0) {\n      return 'light';     // ã‚ãšã‹ã«å‰Šæ¸›\n    } else if (ratio <= 1.3) {\n      return 'medium';    // ä¸­ç¨‹åº¦ã®å‰Šæ¸›\n    } else {\n      return 'heavy';     // å¤§å¹…å‰Šæ¸›å¿…è¦\n    }\n  }\n\n  async compressAdaptively(\n    data: RevolutionaryIntegratedData,\n    maxTokens: number\n  ): Promise<string> {\n    let compressed = '';\n    let level: CompressionLevel = 'none';\n\n    // æ®µéšçš„ã«åœ§ç¸®ãƒ¬ãƒ™ãƒ«ã‚’ä¸Šã’ã¦è©¦è¡Œ\n    for (const testLevel of ['none', 'light', 'medium', 'heavy'] as CompressionLevel[]) {\n      compressed = this.compress(data, testLevel);\n      const tokenCount = this.estimateTokens(compressed);\n\n      if (tokenCount <= maxTokens) {\n        level = testLevel;\n        break;\n      }\n    }\n\n    console.log(`åœ§ç¸®ãƒ¬ãƒ™ãƒ«: ${level}, ãƒˆãƒ¼ã‚¯ãƒ³æ•°: ${this.estimateTokens(compressed)}`);\n    return compressed;\n  }\n\n  private estimateTokens(text: string): number {\n    // ç°¡æ˜“ãƒˆãƒ¼ã‚¯ãƒ³æ¨å®šï¼ˆå®Ÿéš›ã¯tiktokenãªã©ã‚’ä½¿ç”¨ï¼‰\n    return Math.ceil(text.length / 4);\n  }\n}\n```\n\n## ãªãœã“ã®æ‰‹æ³•ã‚’ä½¿ã†ã‹\n\n### ç†ç”±1: ãƒˆãƒ¼ã‚¯ãƒ³åˆ¶é™ã¸ã®å¯¾å¿œ\n\nGemini API ã«ã¯å…¥åŠ›ãƒˆãƒ¼ã‚¯ãƒ³åˆ¶é™ãŒã‚ã‚‹ã€‚8å¤§ã‚·ã‚¹ãƒ†ãƒ çµ±åˆã«ã‚ˆã‚Šæƒ…å ±é‡ãŒå¢—å¤§ã™ã‚‹ãŸã‚ã€é©åˆ‡ãªåœ§ç¸®ãŒå¿…é ˆã€‚\n\n### ç†ç”±2: ã‚³ã‚¹ãƒˆæœ€é©åŒ–\n\nãƒˆãƒ¼ã‚¯ãƒ³æ•°ã¯APIåˆ©ç”¨æ–™é‡‘ã«ç›´çµã™ã‚‹ã€‚å¿…è¦ãªæƒ…å ±ã‚’ä¿æŒã—ã¤ã¤ãƒˆãƒ¼ã‚¯ãƒ³ã‚’å‰Šæ¸›ã™ã‚‹ã“ã¨ã§ã‚³ã‚¹ãƒˆã‚’æœ€é©åŒ–ã€‚\n\n### ç†ç”±3: å“è³ªã®ç¶­æŒ\n\né‡è¦ãªæƒ…å ±ã‚’å„ªå…ˆçš„ã«ä¿æŒã™ã‚‹åœ§ç¸®ã«ã‚ˆã‚Šã€å“è³ªã‚’å¤§ããæãªã†ã“ã¨ãªããƒˆãƒ¼ã‚¯ãƒ³ã‚’å‰Šæ¸›ã§ãã‚‹ã€‚\n\n### ç†ç”±4: æŸ”è»Ÿæ€§\n\nçŠ¶æ³ã«å¿œã˜ã¦åœ§ç¸®ãƒ¬ãƒ™ãƒ«ã‚’å‹•çš„ã«é¸æŠã§ãã‚‹ãŸã‚ã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã¨å“è³ªã®ãƒãƒ©ãƒ³ã‚¹ã‚’èª¿æ•´å¯èƒ½ã€‚\n\n## å†ç¾æ–¹æ³•\n\n### ã‚¹ãƒ†ãƒƒãƒ—1: åœ§ç¸®ã‚¯ãƒ©ã‚¹ã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—\n\n```typescript\nconst compressor = new PromptCompressor();\nconst priorityManager = new PriorityManager();\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2: åœ§ç¸®ãƒ¬ãƒ™ãƒ«ã®æ±ºå®š\n\n```typescript\n// æ–¹æ³•1: å›ºå®šãƒ¬ãƒ™ãƒ«\nconst compressed = compressor.compress(integratedData, 'medium');\n\n// æ–¹æ³•2: å‹•çš„é¸æŠ\nconst adaptiveCompressor = new AdaptiveCompressor();\nconst compressed = await adaptiveCompressor.compressAdaptively(\n  integratedData,\n  8000  // æœ€å¤§ãƒˆãƒ¼ã‚¯ãƒ³æ•°\n);\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3: å„ªå…ˆåº¦ã«åŸºã¥ãåœ§ç¸®\n\n```typescript\nconst priorities = priorityManager.calculatePriorities(integratedData, 8000);\n\nconst compressed = compressor.compressWithPriorities(\n  integratedData,\n  priorities\n);\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—4: åœ§ç¸®çµæœã®æ¤œè¨¼\n\n```typescript\nconst tokenCount = compressor.estimateTokens(compressed);\nconst compressionRatio = (1 - tokenCount / originalTokens) * 100;\n\nconsole.log(`åœ§ç¸®ç‡: ${compressionRatio.toFixed(2)}%`);\nconsole.log(`æœ€çµ‚ãƒˆãƒ¼ã‚¯ãƒ³æ•°: ${tokenCount}`);\n```\n\n## ã„ã¤ä½¿ã†ã‹\n\n- 8å¤§ã‚·ã‚¹ãƒ†ãƒ çµ±åˆã§ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãŒè‚¥å¤§åŒ–ã—ãŸå ´åˆ\n- ãƒˆãƒ¼ã‚¯ãƒ³åˆ¶é™ã«è¿‘ã¥ã„ã¦ã„ã‚‹å ´åˆ\n- APIã‚³ã‚¹ãƒˆã‚’å‰Šæ¸›ã—ãŸã„å ´åˆ\n- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’å„ªå…ˆã—ãŸã„å ´åˆï¼ˆheavyåœ§ç¸®ï¼‰\n- ãƒ‡ãƒãƒƒã‚°æ™‚ã«è©³ç´°æƒ…å ±ãŒå¿…è¦ãªå ´åˆï¼ˆnoneåœ§ç¸®ï¼‰\n\n## æ³¨æ„ç‚¹\n\n### æ³¨æ„1: åœ§ç¸®ã«ã‚ˆã‚‹æƒ…å ±æå¤±\n\nheavyåœ§ç¸®ã§ã¯é‡è¦ãªæƒ…å ±ã‚‚å‰Šã‚‰ã‚Œã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ã€‚å“è³ªã¨ãƒˆãƒ¼ã‚¯ãƒ³æ•°ã®ãƒˆãƒ¬ãƒ¼ãƒ‰ã‚ªãƒ•ã‚’æ„è­˜ã™ã‚‹ã€‚\n\n### æ³¨æ„2: ãƒˆãƒ¼ã‚¯ãƒ³æ¨å®šã®ç²¾åº¦\n\nç°¡æ˜“çš„ãªãƒˆãƒ¼ã‚¯ãƒ³æ¨å®šï¼ˆæ–‡å­—æ•°/4ï¼‰ã¯ä¸æ­£ç¢ºã€‚æœ¬ç•ªç’°å¢ƒã§ã¯ tiktoken ãªã©ã®æ­£ç¢ºãªãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½¿ç”¨ã€‚\n\n```bash\nnpm install tiktoken\n```\n\n```typescript\nimport { encoding_for_model } from 'tiktoken';\n\nconst enc = encoding_for_model('gpt-4');\nconst tokens = enc.encode(text);\nconsole.log(`æ­£ç¢ºãªãƒˆãƒ¼ã‚¯ãƒ³æ•°: ${tokens.length}`);\n```\n\n### æ³¨æ„3: åœ§ç¸®ãƒ¬ãƒ™ãƒ«ã®é¸æŠåŸºæº–\n\nçŠ¶æ³ã«å¿œã˜ã¦é©åˆ‡ãªåœ§ç¸®ãƒ¬ãƒ™ãƒ«ã‚’é¸æŠï¼š\n- ãƒ‡ãƒãƒƒã‚°: none\n- æ¨™æº–ç”Ÿæˆ: light or mediumï¼ˆæ¨å¥¨ï¼‰\n- é«˜é€Ÿå‡¦ç†: heavy\n\n### æ³¨æ„4: ã‚­ãƒ£ãƒƒã‚·ãƒ³ã‚°ã¨ã®çµ„ã¿åˆã‚ã›\n\nåœ§ç¸®çµæœã‚‚ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã™ã‚‹ã“ã¨ã§ã€å†åœ§ç¸®ã®ã‚ªãƒ¼ãƒãƒ¼ãƒ˜ãƒƒãƒ‰ã‚’å‰Šæ¸›ã§ãã‚‹ã€‚\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `skill_prompt_template_management_2025_11_25.md`ï¼šãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆç®¡ç†ã®åŸºç¤\n- `decision_compression_level_four_tier_2025_11_25.md`ï¼šãªãœ4æ®µéšã®åœ§ç¸®ãƒ¬ãƒ™ãƒ«ã‚’è¨­è¨ˆã—ãŸã‹\n- `skill_section_builder_patterns_2025_11_25.md`ï¼šã‚»ã‚¯ã‚·ãƒ§ãƒ³æ§‹ç¯‰ã¨ã®çµ„ã¿åˆã‚ã›\n",
    "prompt": "### ã‚¹ãƒ†ãƒƒãƒ—1: åœ§ç¸®ã‚¯ãƒ©ã‚¹ã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—\n\n```typescript\nconst compressor = new PromptCompressor();\nconst priorityManager = new PriorityManager();\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2: åœ§ç¸®ãƒ¬ãƒ™ãƒ«ã®æ±ºå®š\n\n```typescript\n// æ–¹æ³•1: å›ºå®šãƒ¬ãƒ™ãƒ«\nconst compressed = compressor.compress(integratedData, 'medium');\n\n// æ–¹æ³•2: å‹•çš„é¸æŠ\nconst adaptiveCompressor = new AdaptiveCompressor();\nconst compressed = await adaptiveCompressor.compressAdaptively(\n  integratedData,\n  8000  // æœ€å¤§ãƒˆãƒ¼ã‚¯ãƒ³æ•°\n);\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3: å„ªå…ˆåº¦ã«åŸºã¥ãåœ§ç¸®\n\n```typescript\nconst priorities = priorityManager.calculatePriorities(integratedData, 8000);\n\nconst compressed = compressor.compressWithPriorities(\n  integratedData,\n  priorities\n);\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—4: åœ§ç¸®çµæœã®æ¤œè¨¼\n\n```typescript\nconst tokenCount = compressor.estimateTokens(compressed);\nconst compressionRatio = (1 - tokenCount / originalTokens) * 100;\n\nconsole.log(`åœ§ç¸®ç‡: ${compressionRatio.toFixed(2)}%`);\nconsole.log(`æœ€çµ‚ãƒˆãƒ¼ã‚¯ãƒ³æ•°: ${tokenCount}`);\n```",
    "relatedTech": [
      "skill-prompt-template-management",
      "decision-compression-level-four-tier",
      "skill-section-builder-patterns"
    ]
  },
  {
    "slug": "prompt-engineering-category-custom",
    "title": "ã‚«ãƒ†ã‚´ãƒªåˆ¥ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º",
    "category": "Skillsï¼ˆã‚¹ã‚­ãƒ«ãƒ»æ‰‹æ³•ï¼‰",
    "description": "ãƒ–ãƒ­ã‚°ã®ã‚«ãƒ†ã‚´ãƒªï¼ˆãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã€ã‚¦ã‚§ãƒ–é–‹ç™ºã€AIæŠ€è¡“ã€ã‚­ãƒ£ãƒªã‚¢ã€ãƒ“ã‚¸ãƒã‚¹ï¼‰ã”ã¨ã«ã€ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã«è¿½åŠ ã™ã‚‹æŒ‡ç¤ºã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã™ã‚‹æ‰‹æ³•ã€‚èª­è€…ãŒæ±‚ã‚ã‚‹å†…å®¹ãŒã‚«ãƒ†ã‚´ãƒªã”ã¨ã«ç•°ãªã‚‹ãŸã‚ã€å°‚é–€æ€§ã®é«˜ã„è¨˜äº‹ã‚’ç”Ÿæˆã§ãã‚‹ã€‚",
    "project": "ai-blog-generator",
    "usedIn": [
      "src/lib/prompt.ts:52-89"
    ],
    "code": "```json\n{\n  \"id\": \"skill_prompt_engineering_category_custom_2025_04_22\",\n  \"type\": \"skill\",\n  \"name\": \"ã‚«ãƒ†ã‚´ãƒªåˆ¥ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º\",\n  \"tags\": [\"ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚°\", \"LLM\", \"ã‚«ãƒ†ã‚´ãƒª\", \"ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º\", \"ãƒ–ãƒ­ã‚°\", \"å°‚é–€æ€§\", \"ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”Ÿæˆ\"],\n  \"source_project\": \"ai-blog-generator\",\n  \"source_file\": \"src/lib/prompt.ts:52-89\",\n  \"related_knowledge\": [\n    \"skill_seo_blog_structure_2025_04_22\",\n    \"workflow_blog_auto_generation_flow_2025_04_22\"\n  ],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-04-22\",\n  \"updated\": \"2025-04-22\"\n}\n```\n\n# ã‚«ãƒ†ã‚´ãƒªåˆ¥ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º\n\n## ä½•ã‚’ã™ã‚‹ã‚¹ã‚­ãƒ«ã‹\n\nãƒ–ãƒ­ã‚°ã®ã‚«ãƒ†ã‚´ãƒªï¼ˆãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã€ã‚¦ã‚§ãƒ–é–‹ç™ºã€AIæŠ€è¡“ã€ã‚­ãƒ£ãƒªã‚¢ã€ãƒ“ã‚¸ãƒã‚¹ï¼‰ã”ã¨ã«ã€ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã«è¿½åŠ ã™ã‚‹æŒ‡ç¤ºã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã™ã‚‹æ‰‹æ³•ã€‚èª­è€…ãŒæ±‚ã‚ã‚‹å†…å®¹ãŒã‚«ãƒ†ã‚´ãƒªã”ã¨ã«ç•°ãªã‚‹ãŸã‚ã€å°‚é–€æ€§ã®é«˜ã„è¨˜äº‹ã‚’ç”Ÿæˆã§ãã‚‹ã€‚\n\n## å…·ä½“çš„ãªæ‰‹æ³•\n\n### ã‚«ãƒ†ã‚´ãƒªåˆ¥æŒ‡ç¤ºã®ãƒ‡ãƒ¼ã‚¿æ§‹é€ \n\n```typescript\nfunction getCategorySpecificInstructions(category: string): string {\n  const instructions: Record<string, string> = {\n    'ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°': `ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ç”¨ã®æŒ‡ç¤º`,\n    'ã‚¦ã‚§ãƒ–é–‹ç™º': `ã‚¦ã‚§ãƒ–é–‹ç™ºç”¨ã®æŒ‡ç¤º`,\n    'AIæŠ€è¡“': `AIæŠ€è¡“ç”¨ã®æŒ‡ç¤º`,\n    'ã‚­ãƒ£ãƒªã‚¢': `ã‚­ãƒ£ãƒªã‚¢ç”¨ã®æŒ‡ç¤º`,\n    'ãƒ“ã‚¸ãƒã‚¹': `ãƒ“ã‚¸ãƒã‚¹ç”¨ã®æŒ‡ç¤º`,\n  };\n\n  return instructions[category] || instructions['ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°'];\n}\n```\n\n### å„ã‚«ãƒ†ã‚´ãƒªã®å…·ä½“çš„ãªæŒ‡ç¤º\n\n#### 1. ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°\n\n```\n- å…·ä½“çš„ãªã‚³ãƒ¼ãƒ‰ã‚µãƒ³ãƒ—ãƒ«ï¼ˆã§ãã‚Œã°TypeScriptã¾ãŸã¯Next.jsï¼‰ã‚’å«ã‚ã¦ãã ã•ã„\n- ã‚³ãƒ¼ãƒ‰ã®èª¬æ˜ã¨å®Ÿè£…ã®ãƒã‚¤ãƒ³ãƒˆã‚’è©³ã—ãè§£èª¬ã—ã¦ãã ã•ã„\n- ãƒã‚°ã‚„ä¸€èˆ¬çš„ãªå•é¡Œã®å›é¿æ–¹æ³•ã«ã¤ã„ã¦ã‚‚è§¦ã‚Œã¦ãã ã•ã„\n- æœ€æ–°ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚„ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’å‚ç…§ã—ã¦ãã ã•ã„ï¼ˆNext.js 15ã€React 19ãªã©ï¼‰\n```\n\n**ãªãœã“ã®æŒ‡ç¤ºã‹**ï¼š\n- ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨˜äº‹ã¯**ã‚³ãƒ¼ãƒ‰ä¾‹ãŒå¿…é ˆ**ï¼ˆã‚³ãƒ¼ãƒ‰ãŒãªã„ã¨ä¾¡å€¤ãŒä½ã„ï¼‰\n- ãƒãƒ¼ã‚¸ãƒ§ãƒ³æƒ…å ±ãŒé‡è¦ï¼ˆå¤ã„ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®æƒ…å ±ã¯ä½¿ãˆãªã„ï¼‰\n- å•é¡Œå›é¿æ–¹æ³•ãŒã‚ã‚‹ã¨å®Ÿç”¨æ€§ãŒé«˜ã„\n\n#### 2. ã‚¦ã‚§ãƒ–é–‹ç™º\n\n```\n- å®Ÿè·µçš„ãªHTMLã‚„CSSã€JavaScriptä¾‹ã‚’å«ã‚ã¦ãã ã•ã„\n- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–ã‚„ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ã«ã¤ã„ã¦ã‚‚è¨€åŠã—ã¦ãã ã•ã„\n- ãƒ¢ãƒã‚¤ãƒ«ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆã®è€ƒãˆæ–¹ã‚’å–ã‚Šå…¥ã‚Œã¦ãã ã•ã„\n- æœ€æ–°ã®ãƒ–ãƒ©ã‚¦ã‚¶APIã‚„CSSãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’ä½¿ç”¨ã—ãŸãƒ†ã‚¯ãƒ‹ãƒƒã‚¯ã‚’ç´¹ä»‹ã—ã¦ãã ã•ã„\n```\n\n**ãªãœã“ã®æŒ‡ç¤ºã‹**ï¼š\n- ã‚¦ã‚§ãƒ–é–‹ç™ºã¯**ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã¨ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£**ãŒé‡è¦\n- ãƒ¢ãƒã‚¤ãƒ«ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆã¯ç¾ä»£ã®ã‚¦ã‚§ãƒ–é–‹ç™ºã®æ¨™æº–\n- ãƒ–ãƒ©ã‚¦ã‚¶ã®æ–°æ©Ÿèƒ½ã‚’ç´¹ä»‹ã™ã‚‹ã“ã¨ã§å·®åˆ¥åŒ–\n\n#### 3. AIæŠ€è¡“\n\n```\n- å®Ÿéš›ã®å®Ÿè£…ä¾‹ã‚„ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã‚’è©³ã—ãèª¬æ˜ã—ã¦ãã ã•ã„\n- AIãƒ¢ãƒ‡ãƒ«ã®é¸æŠåŸºæº–ã‚„æ¯”è¼ƒã«ã¤ã„ã¦ã‚‚è§¦ã‚Œã¦ãã ã•ã„\n- ã‚³ã‚¹ãƒˆåŠ¹ç‡ã‚„å€«ç†çš„å´é¢ã«ã¤ã„ã¦ã‚‚è¨€åŠã—ã¦ãã ã•ã„\n- Gemini APIã‚„ãã®ä»–ã®AIã‚µãƒ¼ãƒ“ã‚¹ã®å…·ä½“çš„ãªåˆ©ç”¨æ–¹æ³•ã‚’å«ã‚ã¦ãã ã•ã„\n```\n\n**ãªãœã“ã®æŒ‡ç¤ºã‹**ï¼š\n- AIæŠ€è¡“ã¯**å®Ÿè£…ä¾‹ã¨ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹**ãŒé‡è¦ï¼ˆç†è«–ã ã‘ã§ã¯ä¸ååˆ†ï¼‰\n- ã‚³ã‚¹ãƒˆåŠ¹ç‡ã¯å®Ÿå‹™ã§æœ€é‡è¦ï¼ˆOpenAI APIã¯é«˜é¡ï¼‰\n- å€«ç†çš„å´é¢ã‚’å«ã‚ã‚‹ã“ã¨ã§è¨˜äº‹ã®è³ªãŒå‘ä¸Š\n\n#### 4. ã‚­ãƒ£ãƒªã‚¢\n\n```\n- å…·ä½“çš„ãªæˆåŠŸäº‹ä¾‹ã‚„çµŒé¨“è«‡ã‚’å«ã‚ã¦ãã ã•ã„\n- ã‚¹ã‚­ãƒ«ã‚¢ãƒƒãƒ—ã®ãŸã‚ã®å…·ä½“çš„ãªã‚¹ãƒ†ãƒƒãƒ—ã‚’ç¤ºã—ã¦ãã ã•ã„\n- æ¥­ç•Œå‹•å‘ã‚„æ±‚äººå¸‚å ´ã®åˆ†æã‚’å«ã‚ã¦ãã ã•ã„\n- èª­è€…ãŒæ˜æ—¥ã‹ã‚‰å®Ÿè·µã§ãã‚‹ã‚¢ãƒ‰ãƒã‚¤ã‚¹ã‚’æä¾›ã—ã¦ãã ã•ã„\n```\n\n**ãªãœã“ã®æŒ‡ç¤ºã‹**ï¼š\n- ã‚­ãƒ£ãƒªã‚¢è¨˜äº‹ã¯**å…·ä½“çš„ãªã‚¹ãƒ†ãƒƒãƒ—**ãŒå¿…é ˆï¼ˆæŠ½è±¡çš„ã ã¨ä¾¡å€¤ãŒä½ã„ï¼‰\n- æˆåŠŸäº‹ä¾‹ãŒã‚ã‚‹ã¨èª¬å¾—åŠ›ãŒå¢—ã™\n- ã€Œæ˜æ—¥ã‹ã‚‰å®Ÿè·µã§ãã‚‹ã€ã“ã¨ãŒé‡è¦ï¼ˆã™ãã«è¡Œå‹•ã§ãã‚‹ï¼‰\n\n#### 5. ãƒ“ã‚¸ãƒã‚¹\n\n```\n- æˆåŠŸä¼æ¥­ã®äº‹ä¾‹åˆ†æã‚’å«ã‚ã¦ãã ã•ã„\n- å…·ä½“çš„ãªæ•°å­—ã‚„ãƒ‡ãƒ¼ã‚¿ã§è£ä»˜ã‘ã¦ãã ã•ã„\n- å®Ÿè·µçš„ãªãƒ“ã‚¸ãƒã‚¹æˆ¦ç•¥ã‚„ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚’ç´¹ä»‹ã—ã¦ãã ã•ã„\n- å¸‚å ´åˆ†æã¨ä»Šå¾Œã®å±•æœ›ã«ã¤ã„ã¦ã‚‚è§¦ã‚Œã¦ãã ã•ã„\n```\n\n**ãªãœã“ã®æŒ‡ç¤ºã‹**ï¼š\n- ãƒ“ã‚¸ãƒã‚¹è¨˜äº‹ã¯**ãƒ‡ãƒ¼ã‚¿ã¨äº‹ä¾‹**ãŒå¿…é ˆï¼ˆä¸»è¦³ã ã‘ã§ã¯èª¬å¾—åŠ›ãŒãªã„ï¼‰\n- ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚’ç´¹ä»‹ã™ã‚‹ã“ã¨ã§å®Ÿç”¨æ€§ãŒé«˜ã¾ã‚‹\n- å¸‚å ´åˆ†æã§è¨˜äº‹ã®ä¾¡å€¤ãŒå‘ä¸Š\n\n## ãªãœã“ã®æ‰‹æ³•ã‚’ä½¿ã†ã‹\n\n### ç†ç”±1ï¼šã‚«ãƒ†ã‚´ãƒªã”ã¨ã«èª­è€…ãŒæ±‚ã‚ã‚‹å†…å®¹ãŒç•°ãªã‚‹\n\n**ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨˜äº‹ã®èª­è€…**ï¼š\n- ã‚³ãƒ¼ãƒ‰ä¾‹ãŒæ¬²ã—ã„\n- å‹•ãã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒšã—ãŸã„\n- ãƒã‚°å›é¿æ–¹æ³•ã‚’çŸ¥ã‚ŠãŸã„\n\n**ã‚­ãƒ£ãƒªã‚¢è¨˜äº‹ã®èª­è€…**ï¼š\n- å…·ä½“çš„ãªã‚¹ãƒ†ãƒƒãƒ—ãŒæ¬²ã—ã„\n- æˆåŠŸäº‹ä¾‹ã‚’çŸ¥ã‚ŠãŸã„\n- æ˜æ—¥ã‹ã‚‰å®Ÿè·µã§ãã‚‹ã‚¢ãƒ‰ãƒã‚¤ã‚¹ãŒæ¬²ã—ã„\n\nâ†’ åŒã˜ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã§ã¯ä¸¡æ–¹ã‚’æº€ãŸã›ãªã„\n\n### ç†ç”±2ï¼šå°‚é–€æ€§ãŒé«˜ã¾ã‚‹\n\nã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºãªã—ï¼š\n```\nãƒ–ãƒ­ã‚°è¨˜äº‹ã‚’æ›¸ã„ã¦ãã ã•ã„\n```\nâ†’ æ±ç”¨çš„ã§æµ…ã„å†…å®¹\n\nã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã‚ã‚Šï¼š\n```\nãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨˜äº‹ï¼šã‚³ãƒ¼ãƒ‰ä¾‹ã€ãƒãƒ¼ã‚¸ãƒ§ãƒ³æƒ…å ±ã€ãƒã‚°å›é¿æ–¹æ³•ã‚’å«ã‚€\n```\nâ†’ å°‚é–€çš„ã§æ·±ã„å†…å®¹\n\n### ç†ç”±3ï¼šå®Ÿç”¨æ€§ãŒå‘ä¸Š\n\nã‚«ãƒ†ã‚´ãƒªåˆ¥æŒ‡ç¤ºã«ã‚ˆã‚Šï¼š\n- ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨˜äº‹ï¼šå‹•ãã‚³ãƒ¼ãƒ‰ãŒç”Ÿæˆã•ã‚Œã‚‹\n- ã‚­ãƒ£ãƒªã‚¢è¨˜äº‹ï¼šå…·ä½“çš„ãªã‚¹ãƒ†ãƒƒãƒ—ãŒç”Ÿæˆã•ã‚Œã‚‹\n- ãƒ“ã‚¸ãƒã‚¹è¨˜äº‹ï¼šãƒ‡ãƒ¼ã‚¿ãƒ»äº‹ä¾‹ãŒç”Ÿæˆã•ã‚Œã‚‹\n\nâ†’ èª­è€…ãŒå®Ÿéš›ã«ä½¿ãˆã‚‹è¨˜äº‹ã«ãªã‚‹\n\n## å†ç¾æ–¹æ³•\n\n### å®Ÿè£…ã‚³ãƒ¼ãƒ‰\n\n```typescript\n// src/lib/prompt.ts\n\nfunction getCategorySpecificInstructions(category: string): string {\n  const instructions: Record<string, string> = {\n    'ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°': `\n- å…·ä½“çš„ãªã‚³ãƒ¼ãƒ‰ã‚µãƒ³ãƒ—ãƒ«ï¼ˆã§ãã‚Œã°TypeScriptã¾ãŸã¯Next.jsï¼‰ã‚’å«ã‚ã¦ãã ã•ã„\n- ã‚³ãƒ¼ãƒ‰ã®èª¬æ˜ã¨å®Ÿè£…ã®ãƒã‚¤ãƒ³ãƒˆã‚’è©³ã—ãè§£èª¬ã—ã¦ãã ã•ã„\n- ãƒã‚°ã‚„ä¸€èˆ¬çš„ãªå•é¡Œã®å›é¿æ–¹æ³•ã«ã¤ã„ã¦ã‚‚è§¦ã‚Œã¦ãã ã•ã„\n- æœ€æ–°ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚„ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’å‚ç…§ã—ã¦ãã ã•ã„ï¼ˆNext.js 15ã€React 19ãªã©ï¼‰`,\n\n    'ã‚¦ã‚§ãƒ–é–‹ç™º': `\n- å®Ÿè·µçš„ãªHTMLã‚„CSSã€JavaScriptä¾‹ã‚’å«ã‚ã¦ãã ã•ã„\n- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–ã‚„ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ã«ã¤ã„ã¦ã‚‚è¨€åŠã—ã¦ãã ã•ã„\n- ãƒ¢ãƒã‚¤ãƒ«ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆã®è€ƒãˆæ–¹ã‚’å–ã‚Šå…¥ã‚Œã¦ãã ã•ã„\n- æœ€æ–°ã®ãƒ–ãƒ©ã‚¦ã‚¶APIã‚„CSSãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’ä½¿ç”¨ã—ãŸãƒ†ã‚¯ãƒ‹ãƒƒã‚¯ã‚’ç´¹ä»‹ã—ã¦ãã ã•ã„`,\n\n    'AIæŠ€è¡“': `\n- å®Ÿéš›ã®å®Ÿè£…ä¾‹ã‚„ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã‚’è©³ã—ãèª¬æ˜ã—ã¦ãã ã•ã„\n- AIãƒ¢ãƒ‡ãƒ«ã®é¸æŠåŸºæº–ã‚„æ¯”è¼ƒã«ã¤ã„ã¦ã‚‚è§¦ã‚Œã¦ãã ã•ã„\n- ã‚³ã‚¹ãƒˆåŠ¹ç‡ã‚„å€«ç†çš„å´é¢ã«ã¤ã„ã¦ã‚‚è¨€åŠã—ã¦ãã ã•ã„\n- Gemini APIã‚„ãã®ä»–ã®AIã‚µãƒ¼ãƒ“ã‚¹ã®å…·ä½“çš„ãªåˆ©ç”¨æ–¹æ³•ã‚’å«ã‚ã¦ãã ã•ã„`,\n\n    'ã‚­ãƒ£ãƒªã‚¢': `\n- å…·ä½“çš„ãªæˆåŠŸäº‹ä¾‹ã‚„çµŒé¨“è«‡ã‚’å«ã‚ã¦ãã ã•ã„\n- ã‚¹ã‚­ãƒ«ã‚¢ãƒƒãƒ—ã®ãŸã‚ã®å…·ä½“çš„ãªã‚¹ãƒ†ãƒƒãƒ—ã‚’ç¤ºã—ã¦ãã ã•ã„\n- æ¥­ç•Œå‹•å‘ã‚„æ±‚äººå¸‚å ´ã®åˆ†æã‚’å«ã‚ã¦ãã ã•ã„\n- èª­è€…ãŒæ˜æ—¥ã‹ã‚‰å®Ÿè·µã§ãã‚‹ã‚¢ãƒ‰ãƒã‚¤ã‚¹ã‚’æä¾›ã—ã¦ãã ã•ã„`,\n\n    'ãƒ“ã‚¸ãƒã‚¹': `\n- æˆåŠŸä¼æ¥­ã®äº‹ä¾‹åˆ†æã‚’å«ã‚ã¦ãã ã•ã„\n- å…·ä½“çš„ãªæ•°å­—ã‚„ãƒ‡ãƒ¼ã‚¿ã§è£ä»˜ã‘ã¦ãã ã•ã„\n- å®Ÿè·µçš„ãªãƒ“ã‚¸ãƒã‚¹æˆ¦ç•¥ã‚„ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚’ç´¹ä»‹ã—ã¦ãã ã•ã„\n- å¸‚å ´åˆ†æã¨ä»Šå¾Œã®å±•æœ›ã«ã¤ã„ã¦ã‚‚è§¦ã‚Œã¦ãã ã•ã„`,\n  };\n\n  return instructions[category] || instructions['ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°'];\n}\n\n// ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”Ÿæˆæ™‚ã«ä½¿ç”¨\nexport async function createArticlePrompt(topic: string, category: string): Promise<string> {\n  const categoryInstructions = getCategorySpecificInstructions(category);\n\n  const prompt = `\nã‚ãªãŸã¯${category}ã®å°‚é–€å®¶ã§ã€æœ€æ–°ãƒˆãƒ¬ãƒ³ãƒ‰ã«ç²¾é€šã—ãŸãƒ†ãƒƒã‚¯ãƒ–ãƒ­ã‚¬ãƒ¼ã§ã™ã€‚\n...\n${categoryInstructions}\n...\n`;\n\n  return prompt;\n}\n```\n\n### ã‚«ãƒ†ã‚´ãƒªã®å®šç¾©\n\n```typescript\n// src/lib/blog.ts\nexport const CATEGORIES = [\n  'ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°',\n  'ã‚¦ã‚§ãƒ–é–‹ç™º',\n  'AIæŠ€è¡“',\n  'ã‚­ãƒ£ãƒªã‚¢',\n  'ãƒ“ã‚¸ãƒã‚¹',\n];\n```\n\n## ã„ã¤ä½¿ã†ã‹\n\n- è¤‡æ•°ã®ã‚«ãƒ†ã‚´ãƒªã‚’æŒã¤ãƒ–ãƒ­ã‚°ã‚’é‹å–¶ã™ã‚‹å ´åˆ\n- ã‚«ãƒ†ã‚´ãƒªã”ã¨ã«å°‚é–€æ€§ã®é«˜ã„è¨˜äº‹ã‚’ç”Ÿæˆã—ãŸã„å ´åˆ\n- èª­è€…ã®ãƒ‹ãƒ¼ã‚ºãŒã‚«ãƒ†ã‚´ãƒªã”ã¨ã«ç•°ãªã‚‹å ´åˆ\n- LLMã§å¤šæ§˜ãªã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ç”Ÿæˆã—ãŸã„å ´åˆ\n\n## æ³¨æ„ç‚¹\n\n### æ³¨æ„ç‚¹1ï¼šã‚«ãƒ†ã‚´ãƒªãŒå¤šã™ãã‚‹ã¨ç®¡ç†ãŒå¤§å¤‰\n\n5ã‚«ãƒ†ã‚´ãƒªï¼šç®¡ç†å¯èƒ½\n10ã‚«ãƒ†ã‚´ãƒªï¼šã‚„ã‚„å¤§å¤‰\n20ã‚«ãƒ†ã‚´ãƒªï¼šãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ãŒå›°é›£\n\nâ†’ ã‚«ãƒ†ã‚´ãƒªã¯5-10å€‹ç¨‹åº¦ãŒæœ€é©\n\n### æ³¨æ„ç‚¹2ï¼šæŒ‡ç¤ºãŒé•·ã™ãã‚‹ã¨LLMãŒæ··ä¹±\n\n1ã‚«ãƒ†ã‚´ãƒªã‚ãŸã‚Šï¼š\n- âŒ 500æ–‡å­—ä»¥ä¸Šï¼šLLMãŒæ··ä¹±\n- âœ… 200-300æ–‡å­—ï¼šé©åˆ‡\n- âŒ 50æ–‡å­—ä»¥ä¸‹ï¼šä¸ååˆ†\n\n### æ³¨æ„ç‚¹3ï¼šã‚«ãƒ†ã‚´ãƒªé–“ã§é‡è¤‡ã—ãŸæŒ‡ç¤ºã‚’é¿ã‘ã‚‹\n\né‡è¤‡ã—ãŸæŒ‡ç¤ºï¼š\n```\n'ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°': 'å®Ÿç”¨çš„ãªä¾‹ã‚’å«ã‚€'\n'ã‚¦ã‚§ãƒ–é–‹ç™º': 'å®Ÿç”¨çš„ãªä¾‹ã‚’å«ã‚€'\n```\nâ†’ å…±é€šã®æŒ‡ç¤ºã¯åŸºæœ¬ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã«å«ã‚ã‚‹\n\nã‚«ãƒ†ã‚´ãƒªå›ºæœ‰ã®æŒ‡ç¤ºã®ã¿è¨˜è¿°ï¼š\n```\n'ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°': 'ã‚³ãƒ¼ãƒ‰ã‚µãƒ³ãƒ—ãƒ«ã‚’å«ã‚€'\n'ã‚¦ã‚§ãƒ–é–‹ç™º': 'HTMLã‚„CSSã®ä¾‹ã‚’å«ã‚€'\n```\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `skill_seo_blog_structure_2025_04_22.md` - åŸºæœ¬ã¨ãªã‚‹è¨˜äº‹æ§‹é€ \n- `workflow_blog_auto_generation_flow_2025_04_22.md` - ã“ã®ã‚¹ã‚­ãƒ«ã‚’ä½¿ã†ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼\n",
    "prompt": "### å®Ÿè£…ã‚³ãƒ¼ãƒ‰\n\n```typescript\n// src/lib/prompt.ts\n\nfunction getCategorySpecificInstructions(category: string): string {\n  const instructions: Record<string, string> = {\n    'ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°': `\n- å…·ä½“çš„ãªã‚³ãƒ¼ãƒ‰ã‚µãƒ³ãƒ—ãƒ«ï¼ˆã§ãã‚Œã°TypeScriptã¾ãŸã¯Next.jsï¼‰ã‚’å«ã‚ã¦ãã ã•ã„\n- ã‚³ãƒ¼ãƒ‰ã®èª¬æ˜ã¨å®Ÿè£…ã®ãƒã‚¤ãƒ³ãƒˆã‚’è©³ã—ãè§£èª¬ã—ã¦ãã ã•ã„\n- ãƒã‚°ã‚„ä¸€èˆ¬çš„ãªå•é¡Œã®å›é¿æ–¹æ³•ã«ã¤ã„ã¦ã‚‚è§¦ã‚Œã¦ãã ã•ã„\n- æœ€æ–°ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚„ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’å‚ç…§ã—ã¦ãã ã•ã„ï¼ˆNext.js 15ã€React 19ãªã©ï¼‰`,\n\n    'ã‚¦ã‚§ãƒ–é–‹ç™º': `\n- å®Ÿè·µçš„ãªHTMLã‚„CSSã€JavaScriptä¾‹ã‚’å«ã‚ã¦ãã ã•ã„\n- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–ã‚„ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ã«ã¤ã„ã¦ã‚‚è¨€åŠã—ã¦ãã ã•ã„\n- ãƒ¢ãƒã‚¤ãƒ«ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆã®è€ƒãˆæ–¹ã‚’å–ã‚Šå…¥ã‚Œã¦ãã ã•ã„\n- æœ€æ–°ã®ãƒ–ãƒ©ã‚¦ã‚¶APIã‚„CSSãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’ä½¿ç”¨ã—ãŸãƒ†ã‚¯ãƒ‹ãƒƒã‚¯ã‚’ç´¹ä»‹ã—ã¦ãã ã•ã„`,\n\n    'AIæŠ€è¡“': `\n- å®Ÿéš›ã®å®Ÿè£…ä¾‹ã‚„ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã‚’è©³ã—ãèª¬æ˜ã—ã¦ãã ã•ã„\n- AIãƒ¢ãƒ‡ãƒ«ã®é¸æŠåŸºæº–ã‚„æ¯”è¼ƒã«ã¤ã„ã¦ã‚‚è§¦ã‚Œã¦ãã ã•ã„\n- ã‚³ã‚¹ãƒˆåŠ¹ç‡ã‚„å€«ç†çš„å´é¢ã«ã¤ã„ã¦ã‚‚è¨€åŠã—ã¦ãã ã•ã„\n- Gemini APIã‚„ãã®ä»–ã®AIã‚µãƒ¼ãƒ“ã‚¹ã®å…·ä½“çš„ãªåˆ©ç”¨æ–¹æ³•ã‚’å«ã‚ã¦ãã ã•ã„`,\n\n    'ã‚­ãƒ£ãƒªã‚¢': `\n- å…·ä½“çš„ãªæˆåŠŸäº‹ä¾‹ã‚„çµŒé¨“è«‡ã‚’å«ã‚ã¦ãã ã•ã„\n- ã‚¹ã‚­ãƒ«ã‚¢ãƒƒãƒ—ã®ãŸã‚ã®å…·ä½“çš„ãªã‚¹ãƒ†ãƒƒãƒ—ã‚’ç¤ºã—ã¦ãã ã•ã„\n- æ¥­ç•Œå‹•å‘ã‚„æ±‚äººå¸‚å ´ã®åˆ†æã‚’å«ã‚ã¦ãã ã•ã„\n- èª­è€…ãŒæ˜æ—¥ã‹ã‚‰å®Ÿè·µã§ãã‚‹ã‚¢ãƒ‰ãƒã‚¤ã‚¹ã‚’æä¾›ã—ã¦ãã ã•ã„`,\n\n    'ãƒ“ã‚¸ãƒã‚¹': `\n- æˆåŠŸä¼æ¥­ã®äº‹ä¾‹åˆ†æã‚’å«ã‚ã¦ãã ã•ã„\n- å…·ä½“çš„ãªæ•°å­—ã‚„ãƒ‡ãƒ¼ã‚¿ã§è£ä»˜ã‘ã¦ãã ã•ã„\n- å®Ÿè·µçš„ãªãƒ“ã‚¸ãƒã‚¹æˆ¦ç•¥ã‚„ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚’ç´¹ä»‹ã—ã¦ãã ã•ã„\n- å¸‚å ´åˆ†æã¨ä»Šå¾Œã®å±•æœ›ã«ã¤ã„ã¦ã‚‚è§¦ã‚Œã¦ãã ã•ã„`,\n  };\n\n  return instructions[category] || instructions['ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°'];\n}\n\n// ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”Ÿæˆæ™‚ã«ä½¿ç”¨\nexport async function createArticlePrompt(topic: string, category: string): Promise<string> {\n  const categoryInstructions = getCategorySpecificInstructions(category);\n\n  const prompt = `\nã‚ãªãŸã¯${category}ã®å°‚é–€å®¶ã§ã€æœ€æ–°ãƒˆãƒ¬ãƒ³ãƒ‰ã«ç²¾é€šã—ãŸãƒ†ãƒƒã‚¯ãƒ–ãƒ­ã‚¬ãƒ¼ã§ã™ã€‚\n...\n${categoryInstructions}\n...\n`;\n\n  return prompt;\n}\n```\n\n### ã‚«ãƒ†ã‚´ãƒªã®å®šç¾©\n\n```typescript\n// src/lib/blog.ts\nexport const CATEGORIES = [\n  'ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°',\n  'ã‚¦ã‚§ãƒ–é–‹ç™º',\n  'AIæŠ€è¡“',\n  'ã‚­ãƒ£ãƒªã‚¢',\n  'ãƒ“ã‚¸ãƒã‚¹',\n];\n```",
    "relatedTech": [
      "skill-seo-blog-structure",
      "workflow-blog-auto-generation-flow"
    ]
  },
  {
    "slug": "prompt-template-management-system",
    "title": "ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ",
    "category": "Skillsï¼ˆã‚¹ã‚­ãƒ«ãƒ»æ‰‹æ³•ï¼‰",
    "description": "å°èª¬ç”Ÿæˆã«ãŠã„ã¦ã€ã‚¸ãƒ£ãƒ³ãƒ«ãƒ»ç« ã‚¿ã‚¤ãƒ—ãƒ»ãƒ†ãƒ³ã‚·ãƒ§ãƒ³ãƒ¬ãƒ™ãƒ«ãªã©å¤šæ§˜ãªæ¡ä»¶ã«å¿œã˜ã¦ã€æœ€é©ãªãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’å‹•çš„ã«é¸æŠãƒ»å¼·åŒ–ãƒ»æœ€é©åŒ–ã—ã€ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã—ã¦åŠ¹ç‡çš„ã«ç®¡ç†ã™ã‚‹æ‰‹æ³•ã€‚",
    "project": "novel-automation-system-v2",
    "usedIn": [
      "src/lib/generation/prompt/template-manager.ts:1-450"
    ],
    "code": "```json\n{\n  \"id\": \"skill_prompt_template_management_2025_11_25\",\n  \"type\": \"skill\",\n  \"name\": \"ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆç®¡ç†ã‚·ã‚¹ãƒ†ãƒ \",\n  \"tags\": [\"ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚°\", \"ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆç®¡ç†\", \"å‹•çš„é¸æŠ\", \"ã‚­ãƒ£ãƒƒã‚·ãƒ³ã‚°\", \"æœ€é©åŒ–\", \"AIç”Ÿæˆ\"],\n  \"source_project\": \"novel-automation-system-v2\",\n  \"source_file\": \"src/lib/generation/prompt/template-manager.ts:1-450\",\n  \"related_knowledge\": [\n    \"skill_dynamic_template_selection_2025_11_25\",\n    \"skill_prompt_compression_optimization_2025_11_25\",\n    \"decision_chapter_type_30_plus_design_2025_11_25\"\n  ],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆç®¡ç†ã‚·ã‚¹ãƒ†ãƒ \n\n## ä½•ã‚’ã™ã‚‹ã‚¹ã‚­ãƒ«ã‹\n\nå°èª¬ç”Ÿæˆã«ãŠã„ã¦ã€ã‚¸ãƒ£ãƒ³ãƒ«ãƒ»ç« ã‚¿ã‚¤ãƒ—ãƒ»ãƒ†ãƒ³ã‚·ãƒ§ãƒ³ãƒ¬ãƒ™ãƒ«ãªã©å¤šæ§˜ãªæ¡ä»¶ã«å¿œã˜ã¦ã€æœ€é©ãªãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’å‹•çš„ã«é¸æŠãƒ»å¼·åŒ–ãƒ»æœ€é©åŒ–ã—ã€ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã—ã¦åŠ¹ç‡çš„ã«ç®¡ç†ã™ã‚‹æ‰‹æ³•ã€‚\n\n## å…·ä½“çš„ãªæ‰‹æ³•\n\n### ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆæ§‹é€ \n\nãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã¯ä»¥ä¸‹ã®è¦ç´ ã§æ§‹æˆã•ã‚Œã‚‹ï¼š\n\n```typescript\ninterface PromptTemplate {\n  baseTemplate: string;            // åŸºæœ¬ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ\n  chapterTypes: {                  // ç« ã‚¿ã‚¤ãƒ—åˆ¥ã‚¬ã‚¤ãƒ€ãƒ³ã‚¹\n    OPENING: ChapterTypeGuidance;\n    ACTION: ChapterTypeGuidance;\n    REVELATION: ChapterTypeGuidance;\n    INTROSPECTION: ChapterTypeGuidance;\n    CLOSING: ChapterTypeGuidance;\n    NEW_ARC: ChapterTypeGuidance;\n    ARC_RESOLUTION: ChapterTypeGuidance;\n    STANDARD: ChapterTypeGuidance;\n  };\n  businessChapterTypes: {          // ãƒ“ã‚¸ãƒã‚¹å°‚ç”¨30+ç¨®é¡\n    MARKET_RESEARCH: ChapterTypeGuidance;\n    PRODUCT_DEVELOPMENT: ChapterTypeGuidance;\n    PITCH_PRESENTATION: ChapterTypeGuidance;\n    // ... ä»–30ç¨®é¡\n  };\n  genreGuidance: {                 // ã‚¸ãƒ£ãƒ³ãƒ«åˆ¥ã‚¬ã‚¤ãƒ€ãƒ³ã‚¹\n    business: string;\n    fantasy: string;\n    mystery: string;\n    romance: string;\n    scifi: string;\n  };\n  tensionDescriptions: {           // ãƒ†ãƒ³ã‚·ãƒ§ãƒ³åˆ¥èª¬æ˜\n    \"0.0\": string;\n    \"0.3\": string;\n    \"0.5\": string;\n    \"0.7\": string;\n    \"0.9\": string;\n  };\n  pacingDescriptions: {            // ãƒšãƒ¼ã‚·ãƒ³ã‚°åˆ¥èª¬æ˜\n    \"0.0\": string;\n    \"0.3\": string;\n    \"0.5\": string;\n    \"0.7\": string;\n    \"0.9\": string;\n  };\n}\n```\n\n### ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé¸æŠåŸºæº–\n\n```typescript\ninterface TemplateSelectionCriteria {\n  genre: 'business' | 'fantasy' | 'mystery' | 'romance' | 'scifi';\n  chapterType: ChapterType;\n  tensionLevel: number;      // 0.0 - 0.9\n  characterCount: number;\n  narrativeState: string;\n  qualityLevel: 'standard' | 'enhanced' | 'revolutionary';\n}\n```\n\n### å‹•çš„ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé¸æŠã®å®Ÿè£…\n\n```typescript\nasync selectOptimalTemplate(\n  criteria: TemplateSelectionCriteria\n): Promise<string> {\n  // ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒã‚§ãƒƒã‚¯\n  const cacheKey = this.generateCacheKey(criteria);\n  if (this.templateCache.has(cacheKey)) {\n    const cached = this.templateCache.get(cacheKey);\n    if (this.isCacheValid(cached)) {\n      return cached.template;\n    }\n  }\n\n  // ãƒ™ãƒ¼ã‚¹ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå–å¾—\n  let template = this.templates.baseTemplate;\n\n  // ç« ã‚¿ã‚¤ãƒ—åˆ¥ã‚¬ã‚¤ãƒ€ãƒ³ã‚¹è¿½åŠ \n  if (criteria.genre === 'business' &&\n      this.templates.businessChapterTypes[criteria.chapterType]) {\n    template += '\\n\\n' + this.templates.businessChapterTypes[criteria.chapterType];\n  } else if (this.templates.chapterTypes[criteria.chapterType]) {\n    template += '\\n\\n' + this.templates.chapterTypes[criteria.chapterType];\n  }\n\n  // ã‚¸ãƒ£ãƒ³ãƒ«åˆ¥ã‚¬ã‚¤ãƒ€ãƒ³ã‚¹è¿½åŠ \n  if (this.templates.genreGuidance[criteria.genre]) {\n    template += '\\n\\n' + this.templates.genreGuidance[criteria.genre];\n  }\n\n  // ãƒ†ãƒ³ã‚·ãƒ§ãƒ³ãƒ»ãƒšãƒ¼ã‚·ãƒ³ã‚°ã‚¬ã‚¤ãƒ€ãƒ³ã‚¹è¿½åŠ \n  const tensionKey = this.roundToNearestLevel(criteria.tensionLevel);\n  template += '\\n\\n' + this.templates.tensionDescriptions[tensionKey];\n\n  // ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã«ä¿å­˜\n  this.templateCache.set(cacheKey, {\n    template,\n    timestamp: Date.now(),\n    confidenceScore: 0.85\n  });\n\n  return template;\n}\n```\n\n### ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆæœ€é©åŒ–\n\n```typescript\nasync optimizeTemplate(\n  template: string,\n  integrationData: EightSystemsData\n): Promise<string> {\n  // å‹•çš„ã‚³ãƒ³ãƒ†ãƒ³ãƒ„æŒ¿å…¥\n  let optimized = this.insertDynamicContent(template, integrationData);\n\n  // ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆé©å¿œ\n  optimized = this.adaptToContext(optimized, integrationData);\n\n  // å“è³ªæœ€é©åŒ–\n  optimized = this.applyQualityOptimization(optimized, integrationData);\n\n  return optimized;\n}\n\nprivate insertDynamicContent(\n  template: string,\n  data: EightSystemsData\n): string {\n  // ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼æƒ…å ±ã®æŒ¿å…¥\n  if (data.character) {\n    const characterSection = this.buildCharacterSection(data.character);\n    template = template.replace('{{CHARACTERS}}', characterSection);\n  }\n\n  // ãƒ—ãƒ­ãƒƒãƒˆæƒ…å ±ã®æŒ¿å…¥\n  if (data.plot) {\n    const plotSection = this.buildPlotSection(data.plot);\n    template = template.replace('{{PLOT}}', plotSection);\n  }\n\n  // å­¦ç¿’æ—…ç¨‹æƒ…å ±ã®æŒ¿å…¥\n  if (data.learningJourney) {\n    const journeySection = this.buildJourneySection(data.learningJourney);\n    template = template.replace('{{LEARNING_JOURNEY}}', journeySection);\n  }\n\n  return template;\n}\n```\n\n### ã‚­ãƒ£ãƒƒã‚·ãƒ³ã‚°æ©Ÿæ§‹\n\n```typescript\nclass TemplateCache {\n  private cache: Map<string, CachedTemplate>;\n  private maxSize = 100;\n  private ttl = 3600000; // 1æ™‚é–“\n\n  set(key: string, template: CachedTemplate) {\n    // ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚µã‚¤ã‚ºåˆ¶é™\n    if (this.cache.size >= this.maxSize) {\n      const oldestKey = this.findOldestEntry();\n      this.cache.delete(oldestKey);\n    }\n\n    this.cache.set(key, {\n      ...template,\n      timestamp: Date.now()\n    });\n  }\n\n  get(key: string): CachedTemplate | undefined {\n    const cached = this.cache.get(key);\n\n    // TTLãƒã‚§ãƒƒã‚¯\n    if (cached && (Date.now() - cached.timestamp) > this.ttl) {\n      this.cache.delete(key);\n      return undefined;\n    }\n\n    return cached;\n  }\n\n  private findOldestEntry(): string {\n    let oldestKey = '';\n    let oldestTime = Infinity;\n\n    for (const [key, value] of this.cache.entries()) {\n      if (value.timestamp < oldestTime) {\n        oldestTime = value.timestamp;\n        oldestKey = key;\n      }\n    }\n\n    return oldestKey;\n  }\n}\n```\n\n## ãªãœã“ã®æ‰‹æ³•ã‚’ä½¿ã†ã‹\n\n### ç†ç”±1: æŸ”è»Ÿæ€§ã¨å†åˆ©ç”¨æ€§\n\nãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’å¤–éƒ¨ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆJSONï¼‰ã§ç®¡ç†ã™ã‚‹ã“ã¨ã§ã€ã‚³ãƒ¼ãƒ‰å¤‰æ›´ãªã—ã§ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’æ”¹å–„ã§ãã‚‹ã€‚\n\n### ç†ç”±2: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å‘ä¸Š\n\nã‚­ãƒ£ãƒƒã‚·ãƒ³ã‚°æ©Ÿæ§‹ã«ã‚ˆã‚Šã€åŒã˜æ¡ä»¶ã§ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé¸æŠã‚’é«˜é€ŸåŒ–ï¼ˆ2-3å›ç›®ä»¥é™ã¯10å€ä»¥ä¸Šé«˜é€Ÿï¼‰ã€‚\n\n### ç†ç”±3: å“è³ªã®ä¸€è²«æ€§\n\nå…¨ã¦ã®ç« ç”Ÿæˆã§çµ±ä¸€ã•ã‚ŒãŸãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆæ§‹é€ ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã§ã€å‡ºåŠ›å“è³ªã®ä¸€è²«æ€§ã‚’ç¢ºä¿ã€‚\n\n### ç†ç”±4: ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£\n\næ–°ã—ã„ç« ã‚¿ã‚¤ãƒ—ã‚„ã‚¸ãƒ£ãƒ³ãƒ«ã®è¿½åŠ ãŒã€ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã®ç·¨é›†ã®ã¿ã§å¯èƒ½ã€‚\n\n## å†ç¾æ–¹æ³•\n\n### ã‚¹ãƒ†ãƒƒãƒ—1: ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã®æº–å‚™\n\n```json\n{\n  \"baseTemplate\": \"ã‚ãªãŸã¯ãƒ—ãƒ­ã®å°èª¬å®¶ã§ã™ã€‚ä»¥ä¸‹ã®è¨­å®šã«åŸºã¥ã„ã¦ã€æ¬¡ã®ç« ã‚’åŸ·ç­†ã—ã¦ãã ã•ã„ã€‚\\n\\n{{CHARACTERS}}\\n\\n{{PLOT}}\\n\\n{{LEARNING_JOURNEY}}\",\n  \"chapterTypes\": {\n    \"OPENING\": {\n      \"guidance\": \"å¼·åŠ›ãªå°å…¥ã§èª­è€…ã‚’å¼•ãè¾¼ã‚€ã€‚ä¸–ç•Œè¦³ã‚’è‡ªç„¶ã«ç´¹ä»‹ã€‚\",\n      \"examples\": [\"é®®çƒˆãªå ´é¢ã‹ã‚‰é–‹å§‹\", \"ä¸»äººå…¬ã®æ—¥å¸¸æå†™ã‹ã‚‰\"]\n    }\n  }\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2: TemplateManagerã‚¯ãƒ©ã‚¹ã®å®Ÿè£…\n\n```typescript\nclass TemplateManager {\n  private templates: PromptTemplate;\n  private cache: TemplateCache;\n\n  constructor(templatePath: string) {\n    this.templates = this.loadTemplates(templatePath);\n    this.cache = new TemplateCache();\n  }\n\n  async getTemplate(criteria: TemplateSelectionCriteria): Promise<string> {\n    const selected = await this.selectOptimalTemplate(criteria);\n    return selected;\n  }\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3: ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä½¿ç”¨\n\n```typescript\nconst templateManager = new TemplateManager('./promptTemplates.json');\n\nconst template = await templateManager.getTemplate({\n  genre: 'business',\n  chapterType: 'PITCH_PRESENTATION',\n  tensionLevel: 0.7,\n  characterCount: 3,\n  narrativeState: 'rising_action',\n  qualityLevel: 'revolutionary'\n});\n\nconsole.log(template);\n```\n\n## ã„ã¤ä½¿ã†ã‹\n\n- å°èª¬ã®ç« ã‚’ç”Ÿæˆã™ã‚‹å‰ï¼ˆæ¯å›ï¼‰\n- ç•°ãªã‚‹ã‚¸ãƒ£ãƒ³ãƒ«ã‚„ãƒˆãƒ¼ãƒ³ã®æ–‡ç« ã‚’ç”Ÿæˆã™ã‚‹å ´åˆ\n- ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã®å“è³ªã‚’ä¸€è²«ã—ã¦ä¿ã¡ãŸã„å ´åˆ\n- è¤‡æ•°ã®æ¡ä»¶ã«å¿œã˜ã¦ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã—ãŸã„å ´åˆ\n- ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã®æ”¹å–„ã‚’é »ç¹ã«è¡Œã„ãŸã„å ´åˆ\n\n## æ³¨æ„ç‚¹\n\n### æ³¨æ„1: ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã®è‚¥å¤§åŒ–\n\nç« ã‚¿ã‚¤ãƒ—ã‚„ã‚¸ãƒ£ãƒ³ãƒ«ãŒå¢—ãˆã‚‹ã¨ã€ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ãŒå·¨å¤§åŒ–ã™ã‚‹ã€‚é©åˆ‡ã«åˆ†å‰²ã—ã¦ç®¡ç†ã™ã‚‹ã€‚\n\n### æ³¨æ„2: ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®ç„¡åŠ¹åŒ–ã‚¿ã‚¤ãƒŸãƒ³ã‚°\n\nãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ›´æ–°ã—ãŸå ´åˆã€æ—¢å­˜ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ç„¡åŠ¹åŒ–ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã€‚\n\n```typescript\ntemplateManager.clearCache(); // ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆæ›´æ–°å¾Œã«å®Ÿè¡Œ\n```\n\n### æ³¨æ„3: ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡\n\nã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚µã‚¤ã‚ºã¨TTLã®ãƒãƒ©ãƒ³ã‚¹ã‚’èª¿æ•´ã€‚ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãŒå¤šã™ãã‚‹ã¨ãƒ¡ãƒ¢ãƒªã‚’åœ§è¿«ã€‚\n\n### æ³¨æ„4: ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†\n\nãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’Gitã§ç®¡ç†ã—ã€å¤‰æ›´å±¥æ­´ã‚’è¿½è·¡ã™ã‚‹ã“ã¨ã‚’æ¨å¥¨ã€‚\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `skill_dynamic_template_selection_2025_11_25.md`ï¼šå‹•çš„ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé¸æŠã®è©³ç´°æ‰‹æ³•\n- `skill_prompt_compression_optimization_2025_11_25.md`ï¼šãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆæœ€é©åŒ–ãƒ»åœ§ç¸®æ‰‹æ³•\n- `decision_chapter_type_30_plus_design_2025_11_25.md`ï¼šãªãœ30+ç¨®é¡ã®ç« ã‚¿ã‚¤ãƒ—ã‚’ç”¨æ„ã—ãŸã‹\n",
    "prompt": "### ã‚¹ãƒ†ãƒƒãƒ—1: ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã®æº–å‚™\n\n```json\n{\n  \"baseTemplate\": \"ã‚ãªãŸã¯ãƒ—ãƒ­ã®å°èª¬å®¶ã§ã™ã€‚ä»¥ä¸‹ã®è¨­å®šã«åŸºã¥ã„ã¦ã€æ¬¡ã®ç« ã‚’åŸ·ç­†ã—ã¦ãã ã•ã„ã€‚\\n\\n{{CHARACTERS}}\\n\\n{{PLOT}}\\n\\n{{LEARNING_JOURNEY}}\",\n  \"chapterTypes\": {\n    \"OPENING\": {\n      \"guidance\": \"å¼·åŠ›ãªå°å…¥ã§èª­è€…ã‚’å¼•ãè¾¼ã‚€ã€‚ä¸–ç•Œè¦³ã‚’è‡ªç„¶ã«ç´¹ä»‹ã€‚\",\n      \"examples\": [\"é®®çƒˆãªå ´é¢ã‹ã‚‰é–‹å§‹\", \"ä¸»äººå…¬ã®æ—¥å¸¸æå†™ã‹ã‚‰\"]\n    }\n  }\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2: TemplateManagerã‚¯ãƒ©ã‚¹ã®å®Ÿè£…\n\n```typescript\nclass TemplateManager {\n  private templates: PromptTemplate;\n  private cache: TemplateCache;\n\n  constructor(templatePath: string) {\n    this.templates = this.loadTemplates(templatePath);\n    this.cache = new TemplateCache();\n  }\n\n  async getTemplate(criteria: TemplateSelectionCriteria): Promise<string> {\n    const selected = await this.selectOptimalTemplate(criteria);\n    return selected;\n  }\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3: ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä½¿ç”¨\n\n```typescript\nconst templateManager = new TemplateManager('./promptTemplates.json');\n\nconst template = await templateManager.getTemplate({\n  genre: 'business',\n  chapterType: 'PITCH_PRESENTATION',\n  tensionLevel: 0.7,\n  characterCount: 3,\n  narrativeState: 'rising_action',\n  qualityLevel: 'revolutionary'\n});\n\nconsole.log(template);\n```",
    "relatedTech": [
      "skill-dynamic-template-selection",
      "skill-prompt-compression-optimization",
      "decision-chapter-type-30-plus-design"
    ]
  },
  {
    "slug": "prosemirror-rich-text-editor",
    "title": "ProseMirrorãƒªãƒƒãƒãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒ‡ã‚£ã‚¿",
    "category": "Skillsï¼ˆã‚¹ã‚­ãƒ«ãƒ»æ‰‹æ³•ï¼‰",
    "description": "ProseMirrorãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½¿ç”¨ã—ã¦ã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚¨ãƒ‡ã‚£ã‚¿å†…ã§ãƒªãƒƒãƒãƒ†ã‚­ã‚¹ãƒˆç·¨é›†æ©Ÿèƒ½ï¼ˆå¤ªå­—ã€æ–œä½“ã€ãƒªã‚¹ãƒˆã€è¦‹å‡ºã—ãªã©ï¼‰ã‚’å®Ÿè£…ã™ã‚‹æ‰‹æ³•ã€‚",
    "project": "ai-document-generator",
    "usedIn": [
      "package.json:40-46"
    ],
    "code": "```json\n{\n  \"id\": \"skill_prosemirror_rich_text_editor_2025_04_11\",\n  \"type\": \"skill\",\n  \"name\": \"ProseMirrorãƒªãƒƒãƒãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒ‡ã‚£ã‚¿\",\n  \"tags\": [\"ProseMirror\", \"ãƒªãƒƒãƒãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒ‡ã‚£ã‚¿\", \"WYSIWYG\", \"ãƒ†ã‚­ã‚¹ãƒˆç·¨é›†\", \"ã‚¹ã‚­ãƒ¼ãƒ\", \"ãƒ—ãƒ©ã‚°ã‚¤ãƒ³\"],\n  \"source_project\": \"ai-document-generator\",\n  \"source_file\": \"package.json:40-46\",\n  \"related_knowledge\": [\"decision_tech_prosemirror_vs_quill_2025_04_11\", \"skill_component_dynamic_rendering_2025_04_11\", \"failure_tech_debt_no_tests_validation_2025_04_11\"],\n  \"confidence\": \"æ¨æ¸¬\",\n  \"created\": \"2025-04-11\",\n  \"updated\": \"2025-04-11\"\n}\n```\n\n# ProseMirrorãƒªãƒƒãƒãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒ‡ã‚£ã‚¿\n\n## ä½•ã‚’ã™ã‚‹ã‚¹ã‚­ãƒ«ã‹\n\nProseMirrorãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½¿ç”¨ã—ã¦ã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚¨ãƒ‡ã‚£ã‚¿å†…ã§ãƒªãƒƒãƒãƒ†ã‚­ã‚¹ãƒˆç·¨é›†æ©Ÿèƒ½ï¼ˆå¤ªå­—ã€æ–œä½“ã€ãƒªã‚¹ãƒˆã€è¦‹å‡ºã—ãªã©ï¼‰ã‚’å®Ÿè£…ã™ã‚‹æ‰‹æ³•ã€‚\n\n**æ³¨æ„**: ã“ã®æ©Ÿèƒ½ã¯ã€package.jsonã«ä¾å­˜é–¢ä¿‚ãŒå®šç¾©ã•ã‚Œã¦ã„ã‚‹ãŒã€ã‚³ãƒ¼ãƒ‰ä¸Šã§ã®å®Ÿè£…ã¯æœªå®Œæˆã§ã‚ã‚‹ã€‚ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯ã€ä¾å­˜é–¢ä¿‚ã¨ProseMirrorã®ä¸€èˆ¬çš„ãªå®Ÿè£…ãƒ‘ã‚¿ãƒ¼ãƒ³ã‹ã‚‰æ¨æ¸¬ã—ã¦ä½œæˆã•ã‚Œã¦ã„ã‚‹ã€‚\n\n## å…·ä½“çš„ãªæ‰‹æ³•\n\n### 1. ProseMirrorã®ä¾å­˜é–¢ä¿‚\n\npackage.jsonã«å®šç¾©ã•ã‚Œã¦ã„ã‚‹ProseMirroré–¢é€£ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªï¼š\n\n```json\n{\n  \"dependencies\": {\n    \"prosemirror-commands\": \"^1.7.0\",\n    \"prosemirror-model\": \"^1.25.0\",\n    \"prosemirror-schema-basic\": \"^1.2.4\",\n    \"prosemirror-schema-list\": \"^1.5.1\",\n    \"prosemirror-state\": \"^1.4.3\",\n    \"prosemirror-view\": \"^1.39.1\"\n  }\n}\n```\n\nå„ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®å½¹å‰²ï¼š\n- **prosemirror-model**: ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãƒ¢ãƒ‡ãƒ«ï¼ˆã‚¹ã‚­ãƒ¼ãƒã€ãƒãƒ¼ãƒ‰ã€ãƒãƒ¼ã‚¯ï¼‰\n- **prosemirror-state**: ã‚¨ãƒ‡ã‚£ã‚¿ã®çŠ¶æ…‹ç®¡ç†\n- **prosemirror-view**: ã‚¨ãƒ‡ã‚£ã‚¿ã®ãƒ“ãƒ¥ãƒ¼ï¼ˆDOMæ“ä½œï¼‰\n- **prosemirror-schema-basic**: åŸºæœ¬çš„ãªã‚¹ã‚­ãƒ¼ãƒï¼ˆparagraphã€headingã€boldã€italicãªã©ï¼‰\n- **prosemirror-schema-list**: ãƒªã‚¹ãƒˆã®ã‚¹ã‚­ãƒ¼ãƒï¼ˆbullet listã€ordered listï¼‰\n- **prosemirror-commands**: ã‚³ãƒãƒ³ãƒ‰ï¼ˆå¤ªå­—ã€æ–œä½“ã€è¦‹å‡ºã—å¤‰æ›´ãªã©ï¼‰\n\n### 2. ProseMirrorã®åŸºæœ¬ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ï¼ˆæ¨æ¸¬ï¼‰\n\nProseMirrorã®åŸºæœ¬çš„ãªå®Ÿè£…ä¾‹ï¼š\n\n```typescript\nimport { EditorState } from 'prosemirror-state';\nimport { EditorView } from 'prosemirror-view';\nimport { Schema, DOMParser } from 'prosemirror-model';\nimport { schema as basicSchema } from 'prosemirror-schema-basic';\nimport { addListNodes } from 'prosemirror-schema-list';\nimport { exampleSetup } from 'prosemirror-example-setup';\n\n// ã‚¹ã‚­ãƒ¼ãƒã®å®šç¾©ï¼ˆåŸºæœ¬ã‚¹ã‚­ãƒ¼ãƒ + ãƒªã‚¹ãƒˆï¼‰\nconst mySchema = new Schema({\n  nodes: addListNodes(basicSchema.spec.nodes, \"paragraph block*\", \"block\"),\n  marks: basicSchema.spec.marks\n});\n\n// ã‚¨ãƒ‡ã‚£ã‚¿ã®åˆæœŸåŒ–\nconst initializeProseMirror = (element: HTMLElement, content?: string) => {\n  // åˆæœŸãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ä½œæˆ\n  const doc = content\n    ? DOMParser.fromSchema(mySchema).parse(element)\n    : mySchema.node('doc', null, [mySchema.node('paragraph')]);\n\n  // ã‚¨ãƒ‡ã‚£ã‚¿ã‚¹ãƒ†ãƒ¼ãƒˆã®ä½œæˆ\n  const state = EditorState.create({\n    doc,\n    plugins: exampleSetup({ schema: mySchema })\n  });\n\n  // ã‚¨ãƒ‡ã‚£ã‚¿ãƒ“ãƒ¥ãƒ¼ã®ä½œæˆ\n  const view = new EditorView(element, {\n    state,\n    dispatchTransaction(transaction) {\n      const newState = view.state.apply(transaction);\n      view.updateState(newState);\n\n      // å¤‰æ›´ã‚’ã‚¹ãƒˆã‚¢ã«åæ˜ \n      handleEditorChange(newState.doc.toJSON());\n    }\n  });\n\n  return view;\n};\n```\n\n### 3. ã‚«ã‚¹ã‚¿ãƒ ã‚¹ã‚­ãƒ¼ãƒã®å®šç¾©ï¼ˆæ¨æ¸¬ï¼‰\n\nãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”Ÿæˆã«ç‰¹åŒ–ã—ãŸã‚¹ã‚­ãƒ¼ãƒã‚’å®šç¾©ã™ã‚‹ï¼š\n\n```typescript\nimport { Schema } from 'prosemirror-model';\n\nconst customSchema = new Schema({\n  nodes: {\n    // ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãƒ«ãƒ¼ãƒˆ\n    doc: {\n      content: \"block+\"\n    },\n\n    // æ®µè½\n    paragraph: {\n      content: \"inline*\",\n      group: \"block\",\n      parseDOM: [{ tag: \"p\" }],\n      toDOM() { return [\"p\", 0]; }\n    },\n\n    // è¦‹å‡ºã—ï¼ˆãƒ¬ãƒ™ãƒ«1-6ï¼‰\n    heading: {\n      attrs: { level: { default: 1 } },\n      content: \"inline*\",\n      group: \"block\",\n      defining: true,\n      parseDOM: [\n        { tag: \"h1\", attrs: { level: 1 } },\n        { tag: \"h2\", attrs: { level: 2 } },\n        { tag: \"h3\", attrs: { level: 3 } },\n        { tag: \"h4\", attrs: { level: 4 } },\n        { tag: \"h5\", attrs: { level: 5 } },\n        { tag: \"h6\", attrs: { level: 6 } }\n      ],\n      toDOM(node) { return [\"h\" + node.attrs.level, 0]; }\n    },\n\n    // ãƒ†ã‚­ã‚¹ãƒˆ\n    text: {\n      group: \"inline\"\n    },\n\n    // ç®‡æ¡æ›¸ããƒªã‚¹ãƒˆ\n    bullet_list: {\n      content: \"list_item+\",\n      group: \"block\",\n      parseDOM: [{ tag: \"ul\" }],\n      toDOM() { return [\"ul\", 0]; }\n    },\n\n    // ç•ªå·ä»˜ããƒªã‚¹ãƒˆ\n    ordered_list: {\n      attrs: { order: { default: 1 } },\n      content: \"list_item+\",\n      group: \"block\",\n      parseDOM: [{ tag: \"ol\", getAttrs(dom) { return { order: dom.hasAttribute(\"start\") ? +dom.getAttribute(\"start\") : 1 }; } }],\n      toDOM(node) { return node.attrs.order == 1 ? [\"ol\", 0] : [\"ol\", { start: node.attrs.order }, 0]; }\n    },\n\n    // ãƒªã‚¹ãƒˆã‚¢ã‚¤ãƒ†ãƒ \n    list_item: {\n      content: \"paragraph block*\",\n      parseDOM: [{ tag: \"li\" }],\n      toDOM() { return [\"li\", 0]; }\n    }\n  },\n\n  marks: {\n    // å¤ªå­—\n    strong: {\n      parseDOM: [\n        { tag: \"strong\" },\n        { tag: \"b\", getAttrs: node => node.style.fontWeight != \"normal\" && null }\n      ],\n      toDOM() { return [\"strong\", 0]; }\n    },\n\n    // æ–œä½“\n    em: {\n      parseDOM: [{ tag: \"i\" }, { tag: \"em\" }],\n      toDOM() { return [\"em\", 0]; }\n    },\n\n    // ä¸‹ç·š\n    underline: {\n      parseDOM: [{ tag: \"u\" }],\n      toDOM() { return [\"u\", 0]; }\n    },\n\n    // ãƒªãƒ³ã‚¯\n    link: {\n      attrs: { href: {}, title: { default: null } },\n      inclusive: false,\n      parseDOM: [{ tag: \"a[href]\", getAttrs(dom) { return { href: dom.getAttribute(\"href\"), title: dom.getAttribute(\"title\") }; } }],\n      toDOM(node) { return [\"a\", node.attrs, 0]; }\n    }\n  }\n});\n```\n\n### 4. ã‚³ãƒãƒ³ãƒ‰ã®å®Ÿè£…ï¼ˆæ¨æ¸¬ï¼‰\n\nã‚ˆãä½¿ã†ã‚³ãƒãƒ³ãƒ‰ã®å®Ÿè£…ä¾‹ï¼š\n\n```typescript\nimport { toggleMark, setBlockType, wrapIn, lift } from 'prosemirror-commands';\nimport { EditorView } from 'prosemirror-view';\n\n// å¤ªå­—ãƒˆã‚°ãƒ«\nconst toggleBold = (view: EditorView) => {\n  const { state, dispatch } = view;\n  return toggleMark(state.schema.marks.strong)(state, dispatch);\n};\n\n// æ–œä½“ãƒˆã‚°ãƒ«\nconst toggleItalic = (view: EditorView) => {\n  const { state, dispatch } = view;\n  return toggleMark(state.schema.marks.em)(state, dispatch);\n};\n\n// è¦‹å‡ºã—ã«å¤‰æ›\nconst setHeading = (view: EditorView, level: number) => {\n  const { state, dispatch } = view;\n  return setBlockType(state.schema.nodes.heading, { level })(state, dispatch);\n};\n\n// æ®µè½ã«å¤‰æ›\nconst setParagraph = (view: EditorView) => {\n  const { state, dispatch } = view;\n  return setBlockType(state.schema.nodes.paragraph)(state, dispatch);\n};\n\n// ç®‡æ¡æ›¸ããƒªã‚¹ãƒˆã«å¤‰æ›\nconst toggleBulletList = (view: EditorView) => {\n  const { state, dispatch } = view;\n  return wrapIn(state.schema.nodes.bullet_list)(state, dispatch);\n};\n\n// ç•ªå·ä»˜ããƒªã‚¹ãƒˆã«å¤‰æ›\nconst toggleOrderedList = (view: EditorView) => {\n  const { state, dispatch } = view;\n  return wrapIn(state.schema.nodes.ordered_list)(state, dispatch);\n};\n\n// ãƒªã‚¹ãƒˆã‹ã‚‰è§£é™¤\nconst liftOutOfList = (view: EditorView) => {\n  const { state, dispatch } = view;\n  return lift(state, dispatch);\n};\n```\n\n### 5. ãƒ„ãƒ¼ãƒ«ãƒãƒ¼ã®å®Ÿè£…ï¼ˆæ¨æ¸¬ï¼‰\n\nã‚¨ãƒ‡ã‚£ã‚¿ã®ãƒ„ãƒ¼ãƒ«ãƒãƒ¼ã‚’å®Ÿè£…ï¼š\n\n```tsx\nimport React from 'react';\nimport { EditorView } from 'prosemirror-view';\n\ninterface ProseMirrorToolbarProps {\n  view: EditorView;\n}\n\nconst ProseMirrorToolbar: React.FC<ProseMirrorToolbarProps> = ({ view }) => {\n  const handleCommand = (command: (view: EditorView) => boolean) => {\n    command(view);\n    view.focus();\n  };\n\n  return (\n    <div className=\"toolbar flex gap-1 p-2 border-b\">\n      {/* å¤ªå­— */}\n      <button\n        className=\"toolbar-btn\"\n        onClick={() => handleCommand(toggleBold)}\n        title=\"å¤ªå­— (Ctrl+B)\"\n      >\n        <strong>B</strong>\n      </button>\n\n      {/* æ–œä½“ */}\n      <button\n        className=\"toolbar-btn\"\n        onClick={() => handleCommand(toggleItalic)}\n        title=\"æ–œä½“ (Ctrl+I)\"\n      >\n        <em>I</em>\n      </button>\n\n      {/* è¦‹å‡ºã— */}\n      <select\n        className=\"toolbar-select\"\n        onChange={(e) => {\n          const level = parseInt(e.target.value);\n          if (level === 0) {\n            handleCommand(setParagraph);\n          } else {\n            handleCommand((view) => setHeading(view, level));\n          }\n        }}\n      >\n        <option value=\"0\">æ®µè½</option>\n        <option value=\"1\">è¦‹å‡ºã— 1</option>\n        <option value=\"2\">è¦‹å‡ºã— 2</option>\n        <option value=\"3\">è¦‹å‡ºã— 3</option>\n      </select>\n\n      {/* ç®‡æ¡æ›¸ã */}\n      <button\n        className=\"toolbar-btn\"\n        onClick={() => handleCommand(toggleBulletList)}\n        title=\"ç®‡æ¡æ›¸ããƒªã‚¹ãƒˆ\"\n      >\n        â€¢ ãƒªã‚¹ãƒˆ\n      </button>\n\n      {/* ç•ªå·ä»˜ããƒªã‚¹ãƒˆ */}\n      <button\n        className=\"toolbar-btn\"\n        onClick={() => handleCommand(toggleOrderedList)}\n        title=\"ç•ªå·ä»˜ããƒªã‚¹ãƒˆ\"\n      >\n        1. ãƒªã‚¹ãƒˆ\n      </button>\n    </div>\n  );\n};\n```\n\n### 6. Reactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¨ã®çµ±åˆï¼ˆæ¨æ¸¬ï¼‰\n\nProseMirrorã‚’Reactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«çµ±åˆï¼š\n\n```tsx\nimport React, { useEffect, useRef } from 'react';\nimport { EditorView } from 'prosemirror-view';\n\ninterface RichTextEditorProps {\n  content: string;\n  onChange: (content: string) => void;\n}\n\nconst RichTextEditor: React.FC<RichTextEditorProps> = ({ content, onChange }) => {\n  const editorRef = useRef<HTMLDivElement>(null);\n  const viewRef = useRef<EditorView | null>(null);\n\n  useEffect(() => {\n    if (!editorRef.current) return;\n\n    // ã‚¨ãƒ‡ã‚£ã‚¿ã®åˆæœŸåŒ–\n    viewRef.current = initializeProseMirror(editorRef.current, content);\n\n    // ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—\n    return () => {\n      viewRef.current?.destroy();\n    };\n  }, []);\n\n  // ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®å¤‰æ›´ã‚’ç›£è¦–\n  useEffect(() => {\n    if (!viewRef.current) return;\n\n    const currentContent = viewRef.current.state.doc.textContent;\n    if (currentContent !== content) {\n      // å¤–éƒ¨ã‹ã‚‰ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„å¤‰æ›´ã‚’åæ˜ \n      // æ³¨: ã“ã‚Œã¯ç°¡ç•¥åŒ–ã•ã‚ŒãŸä¾‹ã€‚å®Ÿéš›ã«ã¯ã€ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã‚’ä½¿ã£ã¦æ›´æ–°ã™ã‚‹\n    }\n  }, [content]);\n\n  return (\n    <div className=\"rich-text-editor\">\n      <ProseMirrorToolbar view={viewRef.current} />\n      <div\n        ref={editorRef}\n        className=\"editor-content\"\n        style={{ minHeight: '200px', padding: '8px', border: '1px solid #e5e7eb' }}\n      />\n    </div>\n  );\n};\n```\n\n### 7. ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆä¿å­˜ã¨å¾©å…ƒï¼ˆæ¨æ¸¬ï¼‰\n\nProseMirrorã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’JSONå½¢å¼ã§ä¿å­˜ãƒ»å¾©å…ƒï¼š\n\n```typescript\nimport { Node as ProseMirrorNode } from 'prosemirror-model';\n\n// ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’JSONã«å¤‰æ›\nconst serializeDocument = (doc: ProseMirrorNode): object => {\n  return doc.toJSON();\n};\n\n// JSONã‹ã‚‰ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’å¾©å…ƒ\nconst deserializeDocument = (json: object): ProseMirrorNode => {\n  return mySchema.nodeFromJSON(json);\n};\n\n// ä½¿ç”¨ä¾‹\nconst saveContent = (view: EditorView) => {\n  const json = serializeDocument(view.state.doc);\n\n  // ã‚¹ãƒˆã‚¢ã«ä¿å­˜\n  useComponentStore.getState().updateComponentContent(componentId, {\n    richText: json\n  });\n};\n\nconst loadContent = (json: object): EditorView => {\n  const doc = deserializeDocument(json);\n\n  const state = EditorState.create({\n    doc,\n    plugins: exampleSetup({ schema: mySchema })\n  });\n\n  return new EditorView(element, { state });\n};\n```\n\n## ãªãœã“ã®æ‰‹æ³•ã‚’ä½¿ã†ã‹\n\n**ç†ç”±1ï¼šæ§‹é€ åŒ–ã•ã‚ŒãŸãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç·¨é›†**\n- ProseMirrorã¯ã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’æ§‹é€ åŒ–ãƒ‡ãƒ¼ã‚¿ã¨ã—ã¦æ‰±ã†\n- HTMLæ–‡å­—åˆ—ã§ã¯ãªãã€JSONã§ä¿å­˜ãƒ»å¾©å…ƒã§ãã‚‹\n- AIç”Ÿæˆã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã¨ã®ç›¸æ€§ãŒè‰¯ã„\n\n**ç†ç”±2ï¼šé«˜ã„æ‹¡å¼µæ€§**\n- ã‚«ã‚¹ã‚¿ãƒ ã‚¹ã‚­ãƒ¼ãƒã‚’å®šç¾©ã§ãã‚‹\n- ç‹¬è‡ªã®ãƒãƒ¼ãƒ‰ï¼ˆä¾‹ï¼šãƒãƒ£ãƒ¼ãƒˆã€è¡¨ï¼‰ã‚’è¿½åŠ å¯èƒ½\n- ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã§æ©Ÿèƒ½ã‚’è¿½åŠ ã§ãã‚‹\n\n**ç†ç”±3ï¼šç²¾å¯†ãªåˆ¶å¾¡**\n- ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ãƒ™ãƒ¼ã‚¹ã®å¤‰æ›´ç®¡ç†\n- undo/redoãŒç°¡å˜ã«å®Ÿè£…ã§ãã‚‹\n- ã‚³ãƒãƒ³ãƒ‰ã§æ“ä½œã‚’æŠ½è±¡åŒ–\n\n**ç†ç”±4ï¼šãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹**\n- å¤§ããªãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã§ã‚‚é«˜é€Ÿ\n- ä»®æƒ³DOMçš„ãªå·®åˆ†æ›´æ–°\n\n**ç†ç”±5ï¼šã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£**\n- ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰æ“ä½œã«å¯¾å¿œ\n- ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ãƒªãƒ¼ãƒ€ãƒ¼ã«å¯¾å¿œ\n\n## å†ç¾æ–¹æ³•\n\n### ã‚¹ãƒ†ãƒƒãƒ—1ï¼šProseMirrorã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\n\n```bash\nnpm install prosemirror-model prosemirror-state prosemirror-view \\\n  prosemirror-schema-basic prosemirror-schema-list prosemirror-commands \\\n  prosemirror-keymap prosemirror-example-setup\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2ï¼šåŸºæœ¬çš„ãªã‚¨ãƒ‡ã‚£ã‚¿ã‚’ä½œæˆ\n\n```typescript\nimport { EditorState } from 'prosemirror-state';\nimport { EditorView } from 'prosemirror-view';\nimport { schema } from 'prosemirror-schema-basic';\nimport { exampleSetup } from 'prosemirror-example-setup';\n\nconst element = document.getElementById('editor');\n\nconst state = EditorState.create({\n  schema,\n  plugins: exampleSetup({ schema })\n});\n\nconst view = new EditorView(element, {\n  state\n});\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3ï¼šã‚¹ã‚¿ã‚¤ãƒ«ã‚’è¿½åŠ \n\n```css\n/* ProseMirrorã®ã‚¹ã‚¿ã‚¤ãƒ« */\n.ProseMirror {\n  padding: 8px;\n  min-height: 200px;\n  border: 1px solid #e5e7eb;\n  border-radius: 4px;\n}\n\n.ProseMirror:focus {\n  outline: 2px solid #3b82f6;\n}\n\n.ProseMirror p {\n  margin: 0.5em 0;\n}\n\n.ProseMirror h1 { font-size: 2em; font-weight: bold; }\n.ProseMirror h2 { font-size: 1.5em; font-weight: bold; }\n.ProseMirror h3 { font-size: 1.2em; font-weight: bold; }\n```\n\n## ã„ã¤ä½¿ã†ã‹\n\n- **æ§‹é€ åŒ–ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚¨ãƒ‡ã‚£ã‚¿**: ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”Ÿæˆã‚·ã‚¹ãƒ†ãƒ ã€ãƒãƒ¼ãƒˆã‚¢ãƒ—ãƒª\n- **ãƒªãƒƒãƒãƒ†ã‚­ã‚¹ãƒˆç·¨é›†**: ãƒ–ãƒ­ã‚°ã‚¨ãƒ‡ã‚£ã‚¿ã€CMS\n- **ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºå¯èƒ½ãªã‚¨ãƒ‡ã‚£ã‚¿**: ç‹¬è‡ªã®ãƒãƒ¼ãƒ‰ã‚„ãƒãƒ¼ã‚¯ãŒå¿…è¦ãªå ´åˆ\n- **AIé€£æº**: AIç”Ÿæˆã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’æ§‹é€ åŒ–ãƒ‡ãƒ¼ã‚¿ã¨ã—ã¦ç®¡ç†ã—ãŸã„å ´åˆ\n\n## æ³¨æ„ç‚¹\n\n### 1. å­¦ç¿’ã‚³ã‚¹ãƒˆãŒé«˜ã„\n\nProseMirrorã¯ã€æ¦‚å¿µãŒé›£ã—ã„ï¼ˆã‚¹ã‚­ãƒ¼ãƒã€ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã€ã‚¹ãƒ†ãƒƒãƒ—ï¼‰ã€‚\n\n**å¯¾ç­–**:\n- å…¬å¼ã‚¬ã‚¤ãƒ‰ã‚’èª­ã‚€: https://prosemirror.net/docs/guide/\n- ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã‚’è©¦ã™\n\n### 2. Reactã¨ã®çµ±åˆãŒé›£ã—ã„\n\nProseMirrorã¯ã€ç‹¬è‡ªã®DOMæ“ä½œã‚’è¡Œã†ãŸã‚ã€Reactã¨ç«¶åˆã—ã‚„ã™ã„ã€‚\n\n**å¯¾ç­–**:\n- ã‚¨ãƒ‡ã‚£ã‚¿è¦ç´ ã‚’`ref`ã§ç®¡ç†\n- Reactã®å†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã‚’é¿ã‘ã‚‹\n- å¤‰æ›´ã¯ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³çµŒç”±ã§è¡Œã†\n\n### 3. ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºãŒå¤§ãã„\n\nProseMirrorã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¯ã€åˆè¨ˆã§ç´„200KBï¼ˆminifiedï¼‰ã€‚\n\n**å¯¾ç­–**:\n- å¿…è¦ãªãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ã¿ã‚¤ãƒ³ãƒãƒ¼ãƒˆ\n- ã‚³ãƒ¼ãƒ‰ã‚¹ãƒ—ãƒªãƒƒãƒ†ã‚£ãƒ³ã‚°ã‚’ä½¿ç”¨\n\n### 4. ãƒ¢ãƒã‚¤ãƒ«å¯¾å¿œ\n\nãƒ¢ãƒã‚¤ãƒ«ãƒ–ãƒ©ã‚¦ã‚¶ã§ã®å‹•ä½œãŒä¸å®‰å®šãªå ´åˆãŒã‚ã‚‹ã€‚\n\n**å¯¾ç­–**:\n- ãƒ¢ãƒã‚¤ãƒ«ã§ã¯ç°¡æ˜“ã‚¨ãƒ‡ã‚£ã‚¿ã‚’ä½¿ç”¨\n- ãƒ–ãƒ©ã‚¦ã‚¶äº’æ›æ€§ã‚’ç¢ºèª\n\n### 5. undo/redoã®å®Ÿè£…\n\nãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®undo/redoã¯ã€ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã§æä¾›ã•ã‚Œã‚‹ã€‚\n\n**å®Ÿè£…**:\n```typescript\nimport { undo, redo, history } from 'prosemirror-history';\nimport { keymap } from 'prosemirror-keymap';\n\nconst state = EditorState.create({\n  schema,\n  plugins: [\n    history(),\n    keymap({\n      'Mod-z': undo,\n      'Mod-y': redo,\n      'Mod-Shift-z': redo\n    })\n  ]\n});\n```\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `decision_tech_prosemirror_vs_quill_2025_04_11.md`: ProseMirror vs Quill/TipTapã®é¸æŠç†ç”±\n- `skill_component_dynamic_rendering_2025_04_11.md`: ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå‹•çš„ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°\n- `failure_tech_debt_no_tests_validation_2025_04_11.md`: æŠ€è¡“çš„è² å‚µï¼ˆProseMirrorå®Ÿè£…æœªå®Œæˆï¼‰\n",
    "prompt": "### ã‚¹ãƒ†ãƒƒãƒ—1ï¼šProseMirrorã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\n\n```bash\nnpm install prosemirror-model prosemirror-state prosemirror-view \\\n  prosemirror-schema-basic prosemirror-schema-list prosemirror-commands \\\n  prosemirror-keymap prosemirror-example-setup\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2ï¼šåŸºæœ¬çš„ãªã‚¨ãƒ‡ã‚£ã‚¿ã‚’ä½œæˆ\n\n```typescript\nimport { EditorState } from 'prosemirror-state';\nimport { EditorView } from 'prosemirror-view';\nimport { schema } from 'prosemirror-schema-basic';\nimport { exampleSetup } from 'prosemirror-example-setup';\n\nconst element = document.getElementById('editor');\n\nconst state = EditorState.create({\n  schema,\n  plugins: exampleSetup({ schema })\n});\n\nconst view = new EditorView(element, {\n  state\n});\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3ï¼šã‚¹ã‚¿ã‚¤ãƒ«ã‚’è¿½åŠ \n\n```css\n/* ProseMirrorã®ã‚¹ã‚¿ã‚¤ãƒ« */\n.ProseMirror {\n  padding: 8px;\n  min-height: 200px;\n  border: 1px solid #e5e7eb;\n  border-radius: 4px;\n}\n\n.ProseMirror:focus {\n  outline: 2px solid #3b82f6;\n}\n\n.ProseMirror p {\n  margin: 0.5em 0;\n}\n\n.ProseMirror h1 { font-size: 2em; font-weight: bold; }\n.ProseMirror h2 { font-size: 1.5em; font-weight: bold; }\n.ProseMirror h3 { font-size: 1.2em; font-weight: bold; }\n```",
    "relatedTech": [
      "decision-tech-prosemirror-vs-quill",
      "skill-component-dynamic-rendering",
      "failure-tech-debt-no-tests-validation"
    ]
  },
  {
    "slug": "quality-assurance-metrics",
    "title": "å“è³ªä¿è¨¼ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã®è¨­è¨ˆã¨è‡ªå‹•ä¿®å¾©",
    "category": "Skillsï¼ˆã‚¹ã‚­ãƒ«ãƒ»æ‰‹æ³•ï¼‰",
    "description": "ãƒ‡ãƒ¼ã‚¿æ•´åˆæ€§ã€ã‚·ã‚¹ãƒ†ãƒ å®‰å®šæ€§ã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã€é‹ç”¨åŠ¹ç‡ã®4ã¤ã®æ¬¡å…ƒã§å“è³ªã‚’å®šé‡çš„ã«æ¸¬å®šã—ã€å•é¡Œã‚’è‡ªå‹•ä¿®å¾©ã™ã‚‹ã‚·ã‚¹ãƒ†ãƒ ã®å®Ÿè£…æ‰‹æ³•ã€‚",
    "project": "novel-automation-system-v2",
    "usedIn": [
      "src/lib/integration/quality-assurance.ts:1-500"
    ],
    "code": "```json\n{\n  \"id\": \"skill_quality_assurance_metrics_2025_11_25\",\n  \"type\": \"skill\",\n  \"name\": \"å“è³ªä¿è¨¼ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã®è¨­è¨ˆã¨è‡ªå‹•ä¿®å¾©\",\n  \"tags\": [\"å“è³ªä¿è¨¼\", \"ãƒ¡ãƒˆãƒªã‚¯ã‚¹\", \"è‡ªå‹•ä¿®å¾©\", \"ã‚·ã‚¹ãƒ†ãƒ ç›£è¦–\", \"é‹ç”¨ç®¡ç†\"],\n  \"source_project\": \"novel-automation-system-v2\",\n  \"source_file\": \"src/lib/integration/quality-assurance.ts:1-500\",\n  \"related_knowledge\": [\n    \"skill_memory_system_integration_2025_11_25\",\n    \"decision_why_tier_based_initialization_2025_11_25\"\n  ],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# å“è³ªä¿è¨¼ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã®è¨­è¨ˆã¨è‡ªå‹•ä¿®å¾©\n\n## ä½•ã‚’ã™ã‚‹ã‚¹ã‚­ãƒ«ã‹\n\nãƒ‡ãƒ¼ã‚¿æ•´åˆæ€§ã€ã‚·ã‚¹ãƒ†ãƒ å®‰å®šæ€§ã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã€é‹ç”¨åŠ¹ç‡ã®4ã¤ã®æ¬¡å…ƒã§å“è³ªã‚’å®šé‡çš„ã«æ¸¬å®šã—ã€å•é¡Œã‚’è‡ªå‹•ä¿®å¾©ã™ã‚‹ã‚·ã‚¹ãƒ†ãƒ ã®å®Ÿè£…æ‰‹æ³•ã€‚\n\n## å…·ä½“çš„ãªæ‰‹æ³•\n\n### å“è³ªãƒ¡ãƒˆãƒªã‚¯ã‚¹ã®4æ¬¡å…ƒæ§‹é€ \n\n```typescript\ninterface QualityMetrics {\n    dataIntegrity: {\n        score: number;          // 0-1ã®æ•´åˆæ€§ã‚¹ã‚³ã‚¢\n        violations: number;     // é•åä»¶æ•°\n        lastValidation: number; // æœ€çµ‚æ¤œè¨¼æ™‚åˆ»\n        criticalIssues: string[];\n    };\n    systemStability: {\n        score: number;\n        uptime: number;         // ç¨¼åƒæ™‚é–“ï¼ˆãƒŸãƒªç§’ï¼‰\n        errorRate: number;      // ã‚¨ãƒ©ãƒ¼ç‡ï¼ˆ0-1ï¼‰\n        recoveryTime: number;   // å¹³å‡å›å¾©æ™‚é–“\n        crashCount: number;\n    };\n    performance: {\n        score: number;\n        avgResponseTime: number;\n        cacheHitRate: number;\n        memoryUsage: number;    // ãƒã‚¤ãƒˆ\n        throughput: number;     // ops/sec\n    };\n    operationalEfficiency: {\n        score: number;\n        automationRate: number;\n        manualInterventions: number;\n        resourceUtilization: number;\n    };\n}\n```\n\n### ãƒ‘ã‚¿ãƒ¼ãƒ³1: æ•´åˆæ€§ãƒã‚§ãƒƒã‚¯ã¨è‡ªå‹•ä¿®å¾©\n\n```typescript\nasync validateAndRepair(): Promise<ValidationResult> {\n    // 1. æ•´åˆæ€§å•é¡Œã®æ¤œå‡º\n    const issues = await this.detectIntegrityIssues();\n\n    // 2. å•é¡Œã®åˆ†é¡\n    const critical = issues.filter(i => i.severity === 'CRITICAL');\n    const warnings = issues.filter(i => i.severity === 'WARNING');\n\n    // 3. è‡ªå‹•ä¿®å¾©ã®è©¦è¡Œ\n    const repairResult = await this.attemptAutoRepair(critical);\n\n    // 4. ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã®æ›´æ–°\n    this.updateMetrics({\n        dataIntegrity: {\n            score: 1 - (critical.length / (issues.length || 1)),\n            violations: issues.length,\n            lastValidation: Date.now(),\n            criticalIssues: critical.map(i => i.description)\n        }\n    });\n\n    return {\n        totalIssues: issues.length,\n        repaired: repairResult.repairedCount,\n        remaining: critical.length - repairResult.repairedCount\n    };\n}\n\nprivate async attemptAutoRepair(\n    issues: IntegrityIssue[]\n): Promise<{ repaired: boolean; repairedCount: number }> {\n    let repairedCount = 0;\n\n    for (const issue of issues) {\n        try {\n            const repaired = await this._repairIntegrityIssue(issue);\n            if (repaired) repairedCount++;\n        } catch (error) {\n            console.warn(`Failed to repair: ${issue.description}`);\n        }\n    }\n\n    return {\n        repaired: repairedCount > 0,\n        repairedCount\n    };\n}\n```\n\n### ãƒ‘ã‚¿ãƒ¼ãƒ³2: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç›£è¦–\n\n```typescript\nclass PerformanceMonitor {\n    private measurements: Map<string, number[]> = new Map();\n\n    async measureOperation<T>(\n        name: string,\n        operation: () => Promise<T>\n    ): Promise<T> {\n        const start = performance.now();\n        try {\n            const result = await operation();\n            const duration = performance.now() - start;\n\n            this.recordMeasurement(name, duration);\n            return result;\n        } catch (error) {\n            this.recordError(name);\n            throw error;\n        }\n    }\n\n    private recordMeasurement(name: string, duration: number): void {\n        if (!this.measurements.has(name)) {\n            this.measurements.set(name, []);\n        }\n        const measurements = this.measurements.get(name)!;\n        measurements.push(duration);\n\n        // æœ€æ–°100ä»¶ã®ã¿ä¿æŒ\n        if (measurements.length > 100) {\n            measurements.shift();\n        }\n    }\n\n    getMetrics(name: string): PerformanceMetrics {\n        const measurements = this.measurements.get(name) || [];\n        return {\n            avgResponseTime: this.average(measurements),\n            p50: this.percentile(measurements, 50),\n            p95: this.percentile(measurements, 95),\n            p99: this.percentile(measurements, 99)\n        };\n    }\n}\n```\n\n### ãƒ‘ã‚¿ãƒ¼ãƒ³3: é‹ç”¨åŠ¹ç‡ã®è¿½è·¡\n\n```typescript\nclass OperationalEfficiencyTracker {\n    private stats = {\n        totalOperations: 0,\n        automatedOperations: 0,\n        manualInterventions: 0,\n        errors: 0,\n        autoRepairs: 0\n    };\n\n    recordOperation(type: 'automated' | 'manual'): void {\n        this.stats.totalOperations++;\n        if (type === 'automated') {\n            this.stats.automatedOperations++;\n        } else {\n            this.stats.manualInterventions++;\n        }\n    }\n\n    recordAutoRepair(): void {\n        this.stats.autoRepairs++;\n    }\n\n    getEfficiencyMetrics(): OperationalMetrics {\n        return {\n            score: this.calculateEfficiencyScore(),\n            automationRate: this.stats.automatedOperations / this.stats.totalOperations,\n            manualInterventions: this.stats.manualInterventions,\n            errorRate: this.stats.errors / this.stats.totalOperations,\n            autoRepairSuccessRate: this.stats.autoRepairs / this.stats.errors\n        };\n    }\n}\n```\n\n## ãªãœã“ã®æ‰‹æ³•ã‚’ä½¿ã†ã‹\n\n**ç†ç”±1: å®šé‡çš„ãªå“è³ªè©•ä¾¡**\n- ã‚¹ã‚³ã‚¢ã§å“è³ªã‚’å¯è¦–åŒ–ï¼ˆ0-1ã®ç¯„å›²ï¼‰\n- ç›®æ¨™é”æˆåº¦ã‚’æ˜ç¢ºã«æ¸¬å®š\n- ãƒ‡ãƒ¼ã‚¿é§†å‹•ã®æ”¹å–„æ±ºå®š\n\n**ç†ç”±2: å•é¡Œã®æ—©æœŸç™ºè¦‹**\n- ç¶™ç¶šçš„ãªç›£è¦–ã§ç•°å¸¸ã‚’å³åº§ã«æ¤œå‡º\n- é–¾å€¤ãƒ™ãƒ¼ã‚¹ã®ã‚¢ãƒ©ãƒ¼ãƒˆç™ºè¡Œ\n- éšœå®³äºˆæ¸¬ã¨äºˆé˜²ä¿å®ˆ\n\n**ç†ç”±3: è‡ªå‹•ä¿®å¾©ã«ã‚ˆã‚‹é‹ç”¨åŠ¹ç‡400%å‘ä¸Š**\n- æ‰‹å‹•ä»‹å…¥ã‚’æœ€å°åŒ–\n- ãƒ€ã‚¦ãƒ³ã‚¿ã‚¤ãƒ ã®å‰Šæ¸›\n- ã‚ªãƒšãƒ¬ãƒ¼ã‚¿ãƒ¼ã®è² æ‹…è»½æ¸›\n\n## å†ç¾æ–¹æ³•\n\n```typescript\n// åˆæœŸåŒ–\nconst qa = new QualityAssurance(memoryManager, {\n    enableAutoRepair: true,\n    enableMetrics: true\n});\n\n// å®šæœŸçš„ãªå“è³ªãƒã‚§ãƒƒã‚¯\nsetInterval(async () => {\n    const result = await qa.validateAndRepair();\n    console.log(`Issues: ${result.totalIssues}, Repaired: ${result.repaired}`);\n}, 300000); // 5åˆ†ã”ã¨\n\n// ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã®å–å¾—\nconst metrics = qa.getQualityMetrics();\nconsole.log(`Data Integrity: ${metrics.dataIntegrity.score * 100}%`);\n```\n\n## ã„ã¤ä½¿ã†ã‹\n\n- ã‚·ã‚¹ãƒ†ãƒ èµ·å‹•æ™‚ã®åˆæœŸãƒã‚§ãƒƒã‚¯\n- å®šæœŸçš„ãªå¥å…¨æ€§ç›£è¦–ï¼ˆ5åˆ†ã”ã¨ï¼‰\n- ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿå¾Œã®è‡ªå‹•ä¿®å¾©\n- ãƒªãƒªãƒ¼ã‚¹å‰ã®å“è³ªæ¤œè¨¼\n\n## æ³¨æ„ç‚¹\n\n- è‡ªå‹•ä¿®å¾©ãŒå¤±æ•—ã—ãŸå ´åˆã¯æ‰‹å‹•ä»‹å…¥ãŒå¿…è¦\n- ãƒ¡ãƒˆãƒªã‚¯ã‚¹åé›†ã«ã‚ˆã‚‹ã‚ªãƒ¼ãƒãƒ¼ãƒ˜ãƒƒãƒ‰ã‚’è€ƒæ…®\n- é–¾å€¤ã¯ç’°å¢ƒã«å¿œã˜ã¦èª¿æ•´\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `skill_memory_system_integration_2025_11_25.md`\n- `decision_why_tier_based_initialization_2025_11_25.md`\n",
    "prompt": "```typescript\n// åˆæœŸåŒ–\nconst qa = new QualityAssurance(memoryManager, {\n    enableAutoRepair: true,\n    enableMetrics: true\n});\n\n// å®šæœŸçš„ãªå“è³ªãƒã‚§ãƒƒã‚¯\nsetInterval(async () => {\n    const result = await qa.validateAndRepair();\n    console.log(`Issues: ${result.totalIssues}, Repaired: ${result.repaired}`);\n}, 300000); // 5åˆ†ã”ã¨\n\n// ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã®å–å¾—\nconst metrics = qa.getQualityMetrics();\nconsole.log(`Data Integrity: ${metrics.dataIntegrity.score * 100}%`);\n```",
    "relatedTech": [
      "skill-memory-system-integration",
      "decision-why-tier-based-initialization"
    ]
  },
  {
    "slug": "radix-ui-customization",
    "title": "Radix UIã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º",
    "category": "Skillsï¼ˆã‚¹ã‚­ãƒ«ãƒ»æ‰‹æ³•ï¼‰",
    "description": "Radix UIãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½¿ç”¨ã—ã¦ã€ã‚¢ã‚¯ã‚»ã‚·ãƒ–ãƒ«ã§æŸ”è»ŸãªUIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’æ§‹ç¯‰ã—ã€Tailwind CSSã§ã‚«ã‚¹ã‚¿ãƒ ã‚¹ã‚¿ã‚¤ãƒ«ã‚’é©ç”¨ã™ã‚‹æ‰‹æ³•ã€‚ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯ã€Buttonã€Dialogã€Accordionã€Tooltipã€Selectã€Switchãªã©ã€åˆè¨ˆ14ç¨®é¡ã®Radix UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹ã€‚",
    "project": "ai-document-generator",
    "usedIn": [
      "src/components/ui/base/*.tsx, package.json:16-29"
    ],
    "code": "```json\n{\n  \"id\": \"skill_radix_ui_customization_2025_04_11\",\n  \"type\": \"skill\",\n  \"name\": \"Radix UIã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º\",\n  \"tags\": [\"Radix UI\", \"UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ\", \"Tailwind CSS\", \"ãƒ‡ã‚¶ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ \", \"ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£\"],\n  \"source_project\": \"ai-document-generator\",\n  \"source_file\": \"src/components/ui/base/*.tsx, package.json:16-29\",\n  \"related_knowledge\": [\"decision_tech_radix_ui_choice_2025_04_11\", \"skill_dynamic_theme_system_2025_04_11\"],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-04-11\",\n  \"updated\": \"2025-04-11\"\n}\n```\n\n# Radix UIã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º\n\n## ä½•ã‚’ã™ã‚‹ã‚¹ã‚­ãƒ«ã‹\n\nRadix UIãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½¿ç”¨ã—ã¦ã€ã‚¢ã‚¯ã‚»ã‚·ãƒ–ãƒ«ã§æŸ”è»ŸãªUIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’æ§‹ç¯‰ã—ã€Tailwind CSSã§ã‚«ã‚¹ã‚¿ãƒ ã‚¹ã‚¿ã‚¤ãƒ«ã‚’é©ç”¨ã™ã‚‹æ‰‹æ³•ã€‚ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯ã€Buttonã€Dialogã€Accordionã€Tooltipã€Selectã€Switchãªã©ã€åˆè¨ˆ14ç¨®é¡ã®Radix UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹ã€‚\n\n## å…·ä½“çš„ãªæ‰‹æ³•\n\n### 1. Radix UIã®ä¾å­˜é–¢ä¿‚\n\npackage.jsonã«å®šç¾©ã•ã‚Œã¦ã„ã‚‹Radix UIé–¢é€£ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªï¼š\n\n```json\n{\n  \"dependencies\": {\n    \"@radix-ui/react-accordion\": \"^1.2.4\",\n    \"@radix-ui/react-checkbox\": \"^1.1.5\",\n    \"@radix-ui/react-dialog\": \"^1.1.7\",\n    \"@radix-ui/react-dropdown-menu\": \"^2.1.7\",\n    \"@radix-ui/react-label\": \"^2.1.3\",\n    \"@radix-ui/react-popover\": \"^1.1.7\",\n    \"@radix-ui/react-radio-group\": \"^1.2.4\",\n    \"@radix-ui/react-scroll-area\": \"^1.2.4\",\n    \"@radix-ui/react-select\": \"^2.1.7\",\n    \"@radix-ui/react-slider\": \"^1.2.4\",\n    \"@radix-ui/react-switch\": \"^1.1.4\",\n    \"@radix-ui/react-tabs\": \"^1.1.4\",\n    \"@radix-ui/react-toast\": \"^1.2.7\",\n    \"@radix-ui/react-toggle-group\": \"^1.1.3\",\n    \"@radix-ui/react-tooltip\": \"^1.2.0\"\n  }\n}\n```\n\n### 2. Buttonã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º\n\nRadix UIã¯ã€`<button>`è¦ç´ ã‚’ãã®ã¾ã¾ä½¿ã†ãŒã€ã‚«ã‚¹ã‚¿ãƒ ã‚¹ã‚¿ã‚¤ãƒ«ã‚’é©ç”¨ã™ã‚‹ï¼š\n\n```tsx\n// src/components/ui/base/button.tsx\nimport React, { ButtonHTMLAttributes } from \"react\";\nimport clsx from \"clsx\";\n\ninterface ButtonProps extends ButtonHTMLAttributes<HTMLButtonElement> {\n  variant?: \"primary\" | \"secondary\" | \"ghost\" | \"danger\" | \"outline\";\n  size?: \"sm\" | \"md\" | \"lg\";\n}\n\nexport const Button: React.FC<ButtonProps> = ({\n  children,\n  className,\n  variant = \"primary\",\n  size = \"md\",\n  disabled,\n  ...props\n}) => {\n  const baseStyles = \"inline-flex items-center justify-center font-medium rounded-xl focus:outline-none focus-visible:ring-2 transition-colors\";\n\n  const variantStyles = {\n    primary: \"bg-blue-600 text-white hover:bg-blue-700 disabled:bg-blue-300\",\n    secondary: \"bg-gray-100 text-gray-800 hover:bg-gray-200 disabled:bg-gray-100\",\n    ghost: \"bg-transparent text-gray-700 hover:bg-gray-100\",\n    danger: \"bg-red-600 text-white hover:bg-red-700 disabled:bg-red-300\",\n    outline: \"bg-transparent border border-gray-300 text-gray-700 hover:bg-gray-50 hover:border-gray-400 disabled:text-gray-400 disabled:border-gray-200\"\n  };\n\n  const sizeStyles = {\n    sm: \"text-sm px-3 py-1.5\",\n    md: \"text-base px-4 py-2\",\n    lg: \"text-lg px-5 py-3\",\n  };\n\n  return (\n    <button\n      type=\"button\"\n      className={clsx(\n        baseStyles,\n        variantStyles[variant],\n        sizeStyles[size],\n        disabled && \"opacity-50 cursor-not-allowed\",\n        className\n      )}\n      disabled={disabled}\n      {...props}\n    >\n      {children}\n    </button>\n  );\n};\n```\n\n**ç‰¹å¾´**:\n- ãƒãƒªã‚¢ãƒ³ãƒˆï¼ˆprimaryã€secondaryã€ghostã€dangerã€outlineï¼‰\n- ã‚µã‚¤ã‚ºï¼ˆsmã€mdã€lgï¼‰\n- Tailwind CSSã‚¯ãƒ©ã‚¹ã§å®Œå…¨ã«ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°\n- clsxã§æ¡ä»¶ä»˜ãã‚¯ãƒ©ã‚¹ã‚’é©ç”¨\n\n### 3. Accordionã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º\n\nRadix UIã®Accordionã‚’ãƒ©ãƒƒãƒ—ã—ã¦ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°ï¼š\n\n```tsx\nimport * as AccordionPrimitive from \"@radix-ui/react-accordion\";\nimport { ChevronDown } from \"lucide-react\";\nimport clsx from \"clsx\";\n\nconst Accordion = AccordionPrimitive.Root;\n\nconst AccordionItem = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <AccordionPrimitive.Item\n    ref={ref}\n    className={clsx(\"border-b border-gray-200\", className)}\n    {...props}\n  />\n));\n\nconst AccordionTrigger = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Header className=\"flex\">\n    <AccordionPrimitive.Trigger\n      ref={ref}\n      className={clsx(\n        \"flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline\",\n        \"[&[data-state=open]>svg]:rotate-180\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <ChevronDown className=\"h-4 w-4 shrink-0 transition-transform duration-200\" />\n    </AccordionPrimitive.Trigger>\n  </AccordionPrimitive.Header>\n));\n\nconst AccordionContent = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Content\n    ref={ref}\n    className=\"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down\"\n    {...props}\n  >\n    <div className={clsx(\"pb-4 pt-0\", className)}>{children}</div>\n  </AccordionPrimitive.Content>\n));\n\nexport { Accordion, AccordionItem, AccordionTrigger, AccordionContent };\n```\n\n**ä½¿ç”¨ä¾‹**:\n```tsx\n<Accordion type=\"single\" collapsible>\n  <AccordionItem value=\"item-1\">\n    <AccordionTrigger>ã‚»ã‚¯ã‚·ãƒ§ãƒ³1</AccordionTrigger>\n    <AccordionContent>\n      ã‚»ã‚¯ã‚·ãƒ§ãƒ³1ã®å†…å®¹\n    </AccordionContent>\n  </AccordionItem>\n\n  <AccordionItem value=\"item-2\">\n    <AccordionTrigger>ã‚»ã‚¯ã‚·ãƒ§ãƒ³2</AccordionTrigger>\n    <AccordionContent>\n      ã‚»ã‚¯ã‚·ãƒ§ãƒ³2ã®å†…å®¹\n    </AccordionContent>\n  </AccordionItem>\n</Accordion>\n```\n\n### 4. Dialogã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º\n\nãƒ¢ãƒ¼ãƒ€ãƒ«ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã®å®Ÿè£…ï¼š\n\n```tsx\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\";\nimport { X } from \"lucide-react\";\nimport clsx from \"clsx\";\n\nconst Dialog = DialogPrimitive.Root;\nconst DialogTrigger = DialogPrimitive.Trigger;\nconst DialogPortal = DialogPrimitive.Portal;\n\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={clsx(\n      \"fixed inset-0 z-50 bg-black/50 backdrop-blur-sm\",\n      \"data-[state=open]:animate-in data-[state=closed]:animate-out\",\n      \"data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n  />\n));\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={clsx(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-gray-200 bg-white p-6 shadow-lg duration-200\",\n        \"data-[state=open]:animate-in data-[state=closed]:animate-out\",\n        \"data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n        \"data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95\",\n        \"data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%]\",\n        \"data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%]\",\n        \"sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-white transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-gray-400 focus:ring-offset-2 disabled:pointer-events-none\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">é–‰ã˜ã‚‹</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n));\n\nconst DialogHeader = ({ className, ...props }: React.HTMLAttributes<HTMLDivElement>) => (\n  <div className={clsx(\"flex flex-col space-y-1.5 text-center sm:text-left\", className)} {...props} />\n);\n\nconst DialogTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={clsx(\"text-lg font-semibold leading-none tracking-tight\", className)}\n    {...props}\n  />\n));\n\nexport { Dialog, DialogTrigger, DialogContent, DialogHeader, DialogTitle };\n```\n\n**ä½¿ç”¨ä¾‹**:\n```tsx\n<Dialog>\n  <DialogTrigger asChild>\n    <Button>ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã‚’é–‹ã</Button>\n  </DialogTrigger>\n  <DialogContent>\n    <DialogHeader>\n      <DialogTitle>ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã‚¿ã‚¤ãƒˆãƒ«</DialogTitle>\n    </DialogHeader>\n    <div>ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã®å†…å®¹</div>\n  </DialogContent>\n</Dialog>\n```\n\n### 5. Tooltipã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º\n\nãƒ„ãƒ¼ãƒ«ãƒãƒƒãƒ—ã®å®Ÿè£…ï¼š\n\n```tsx\nimport * as TooltipPrimitive from \"@radix-ui/react-tooltip\";\nimport clsx from \"clsx\";\n\nconst TooltipProvider = TooltipPrimitive.Provider;\nconst Tooltip = TooltipPrimitive.Root;\nconst TooltipTrigger = TooltipPrimitive.Trigger;\n\nconst TooltipContent = React.forwardRef<\n  React.ElementRef<typeof TooltipPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TooltipPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <TooltipPrimitive.Content\n    ref={ref}\n    sideOffset={sideOffset}\n    className={clsx(\n      \"z-50 overflow-hidden rounded-md border border-gray-200 bg-white px-3 py-1.5 text-sm text-gray-700 shadow-md\",\n      \"animate-in fade-in-0 zoom-in-95\",\n      \"data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95\",\n      \"data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2\",\n      \"data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n      className\n    )}\n    {...props}\n  />\n));\n\nexport { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider };\n```\n\n**ä½¿ç”¨ä¾‹**:\n```tsx\n<TooltipProvider>\n  <Tooltip>\n    <TooltipTrigger asChild>\n      <Button variant=\"ghost\">ãƒ›ãƒãƒ¼ã—ã¦ãã ã•ã„</Button>\n    </TooltipTrigger>\n    <TooltipContent>\n      <p>ãƒ„ãƒ¼ãƒ«ãƒãƒƒãƒ—ã®å†…å®¹</p>\n    </TooltipContent>\n  </Tooltip>\n</TooltipProvider>\n```\n\n### 6. Selectã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º\n\nãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ã‚»ãƒ¬ã‚¯ãƒˆã®å®Ÿè£…ï¼š\n\n```tsx\nimport * as SelectPrimitive from \"@radix-ui/react-select\";\nimport { Check, ChevronDown } from \"lucide-react\";\nimport clsx from \"clsx\";\n\nconst Select = SelectPrimitive.Root;\nconst SelectValue = SelectPrimitive.Value;\n\nconst SelectTrigger = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Trigger\n    ref={ref}\n    className={clsx(\n      \"flex h-10 w-full items-center justify-between rounded-md border border-gray-300 bg-white px-3 py-2 text-sm\",\n      \"focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2\",\n      \"disabled:cursor-not-allowed disabled:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <SelectPrimitive.Icon asChild>\n      <ChevronDown className=\"h-4 w-4 opacity-50\" />\n    </SelectPrimitive.Icon>\n  </SelectPrimitive.Trigger>\n));\n\nconst SelectContent = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>\n>(({ className, children, position = \"popper\", ...props }, ref) => (\n  <SelectPrimitive.Portal>\n    <SelectPrimitive.Content\n      ref={ref}\n      className={clsx(\n        \"relative z-50 min-w-[8rem] overflow-hidden rounded-md border border-gray-200 bg-white text-gray-700 shadow-md\",\n        \"data-[state=open]:animate-in data-[state=closed]:animate-out\",\n        \"data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n        \"data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95\",\n        position === \"popper\" &&\n          \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\n        className\n      )}\n      position={position}\n      {...props}\n    >\n      <SelectPrimitive.Viewport className=\"p-1\">\n        {children}\n      </SelectPrimitive.Viewport>\n    </SelectPrimitive.Content>\n  </SelectPrimitive.Portal>\n));\n\nconst SelectItem = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Item\n    ref={ref}\n    className={clsx(\n      \"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none\",\n      \"focus:bg-gray-100 focus:text-gray-900\",\n      \"data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <SelectPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </SelectPrimitive.ItemIndicator>\n    </span>\n    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n  </SelectPrimitive.Item>\n));\n\nexport { Select, SelectValue, SelectTrigger, SelectContent, SelectItem };\n```\n\n**ä½¿ç”¨ä¾‹**:\n```tsx\n<Select>\n  <SelectTrigger>\n    <SelectValue placeholder=\"é¸æŠã—ã¦ãã ã•ã„\" />\n  </SelectTrigger>\n  <SelectContent>\n    <SelectItem value=\"option1\">ã‚ªãƒ—ã‚·ãƒ§ãƒ³1</SelectItem>\n    <SelectItem value=\"option2\">ã‚ªãƒ—ã‚·ãƒ§ãƒ³2</SelectItem>\n    <SelectItem value=\"option3\">ã‚ªãƒ—ã‚·ãƒ§ãƒ³3</SelectItem>\n  </SelectContent>\n</Select>\n```\n\n### 7. Switchã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º\n\nãƒˆã‚°ãƒ«ã‚¹ã‚¤ãƒƒãƒã®å®Ÿè£…ï¼š\n\n```tsx\nimport * as SwitchPrimitive from \"@radix-ui/react-switch\";\nimport clsx from \"clsx\";\n\nconst Switch = React.forwardRef<\n  React.ElementRef<typeof SwitchPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SwitchPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <SwitchPrimitive.Root\n    className={clsx(\n      \"peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors\",\n      \"focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 focus-visible:ring-offset-white\",\n      \"disabled:cursor-not-allowed disabled:opacity-50\",\n      \"data-[state=checked]:bg-blue-600 data-[state=unchecked]:bg-gray-200\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  >\n    <SwitchPrimitive.Thumb\n      className={clsx(\n        \"pointer-events-none block h-5 w-5 rounded-full bg-white shadow-lg ring-0 transition-transform\",\n        \"data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0\"\n      )}\n    />\n  </SwitchPrimitive.Root>\n));\n\nexport { Switch };\n```\n\n## ãªãœã“ã®æ‰‹æ³•ã‚’ä½¿ã†ã‹\n\n**ç†ç”±1ï¼šã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£**\n- Radix UIã¯ã€WAI-ARIAã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³ã«æº–æ‹ \n- ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰æ“ä½œã€ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ãƒªãƒ¼ãƒ€ãƒ¼å¯¾å¿œãŒæ¨™æº–ã§å®Ÿè£…ã•ã‚Œã¦ã„ã‚‹\n- ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ã®å®Ÿè£…ã‚³ã‚¹ãƒˆã‚’å‰Šæ¸›\n\n**ç†ç”±2ï¼šã‚¹ã‚¿ã‚¤ãƒ«ã®æŸ”è»Ÿæ€§**\n- Radix UIã¯ã€ã‚¹ã‚¿ã‚¤ãƒ«ã‚’å«ã¾ãªã„ï¼ˆunstyledï¼‰\n- Tailwind CSSã§å®Œå…¨ã«ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºå¯èƒ½\n- ãƒ‡ã‚¶ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ ã«åˆã‚ã›ã‚„ã™ã„\n\n**ç†ç”±3ï¼šé«˜åº¦ãªæ©Ÿèƒ½**\n- Dialogã€Popoverã€Tooltipãªã©ã®è¤‡é›‘ãªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ\n- ãƒãƒ¼ã‚¿ãƒ«ã€ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ç®¡ç†ã€ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ãŒæ¨™æº–å®Ÿè£…\n- è‡ªå‰ã§å®Ÿè£…ã™ã‚‹ã¨æ•°æ—¥ã‹ã‹ã‚‹æ©Ÿèƒ½ãŒå³åº§ã«ä½¿ãˆã‚‹\n\n**ç†ç”±4ï¼šTypeScriptå¯¾å¿œ**\n- å®Œå…¨ãªTypeScriptã‚µãƒãƒ¼ãƒˆ\n- å‹å®‰å…¨ãªAPI\n\n**ç†ç”±5ï¼šè»½é‡**\n- å¿…è¦ãªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ã¿ã‚¤ãƒ³ãƒãƒ¼ãƒˆ\n- Tree-shakingã§ãƒãƒ³ãƒ‰ãƒ«ã‚µã‚¤ã‚ºã‚’å‰Šæ¸›\n\n## å†ç¾æ–¹æ³•\n\n### ã‚¹ãƒ†ãƒƒãƒ—1ï¼šRadix UIã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\n\n```bash\nnpm install @radix-ui/react-dialog @radix-ui/react-tooltip @radix-ui/react-accordion\n# å¿…è¦ãªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ã¿ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2ï¼šã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ãƒ©ãƒƒãƒ—\n\n```tsx\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\";\nimport clsx from \"clsx\";\n\nconst Dialog = DialogPrimitive.Root;\nconst DialogTrigger = DialogPrimitive.Trigger;\n\nconst DialogContent = ({ className, children, ...props }) => (\n  <DialogPrimitive.Portal>\n    <DialogPrimitive.Overlay className=\"fixed inset-0 bg-black/50\" />\n    <DialogPrimitive.Content\n      className={clsx(\"fixed left-1/2 top-1/2 bg-white p-6 rounded-lg\", className)}\n      {...props}\n    >\n      {children}\n    </DialogPrimitive.Content>\n  </DialogPrimitive.Portal>\n);\n\nexport { Dialog, DialogTrigger, DialogContent };\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3ï¼šTailwind CSSã§ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°\n\n```tsx\n<Dialog>\n  <DialogTrigger asChild>\n    <button className=\"px-4 py-2 bg-blue-600 text-white rounded-md\">\n      é–‹ã\n    </button>\n  </DialogTrigger>\n  <DialogContent>\n    <h2 className=\"text-lg font-bold\">ã‚¿ã‚¤ãƒˆãƒ«</h2>\n    <p className=\"text-gray-600\">å†…å®¹</p>\n  </DialogContent>\n</Dialog>\n```\n\n## ã„ã¤ä½¿ã†ã‹\n\n- **ã‚¢ã‚¯ã‚»ã‚·ãƒ–ãƒ«ãªUI**: WAI-ARIAã«æº–æ‹ ã—ãŸUIãŒå¿…è¦ãªå ´åˆ\n- **ã‚«ã‚¹ã‚¿ãƒ ãƒ‡ã‚¶ã‚¤ãƒ³**: ç‹¬è‡ªã®ãƒ‡ã‚¶ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ ã‚’é©ç”¨ã—ãŸã„å ´åˆ\n- **è¤‡é›‘ãªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ**: Dialogã€Popoverã€Accordionãªã©ã€è‡ªå‰ã§å®Ÿè£…ãŒå›°é›£ãªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ\n- **Tailwind CSS**: Tailwind CSSã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ\n\n## æ³¨æ„ç‚¹\n\n### 1. ã‚¹ã‚¿ã‚¤ãƒ«ã®å®Œå…¨ãªå®Ÿè£…ãŒå¿…è¦\n\nRadix UIã¯ã€ã‚¹ã‚¿ã‚¤ãƒ«ã‚’å«ã¾ãªã„ãŸã‚ã€ã™ã¹ã¦ã®ã‚¹ã‚¿ã‚¤ãƒ«ã‚’è‡ªåˆ†ã§å®Ÿè£…ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã€‚\n\n**å¯¾ç­–**:\n- shadcn/uiãªã©ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’å‚è€ƒã«ã™ã‚‹\n- ãƒ‡ã‚¶ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ ã‚’äº‹å‰ã«å®šç¾©\n\n### 2. ãƒãƒ³ãƒ‰ãƒ«ã‚µã‚¤ã‚º\n\nå¤šãã®Radix UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½¿ã†ã¨ã€ãƒãƒ³ãƒ‰ãƒ«ã‚µã‚¤ã‚ºãŒå¢—åŠ ã™ã‚‹ã€‚\n\n**å¯¾ç­–**:\n- å¿…è¦ãªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ã¿ã‚¤ãƒ³ãƒãƒ¼ãƒˆ\n- Tree-shakingã‚’æœ‰åŠ¹åŒ–\n\n### 3. ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã®å®Ÿè£…\n\nã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã¯ã€è‡ªåˆ†ã§å®Ÿè£…ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ï¼ˆTailwind CSSã®ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½¿ç”¨ï¼‰ã€‚\n\n**å®Ÿè£…ä¾‹**:\n```tsx\nclassName=\"data-[state=open]:animate-in data-[state=closed]:animate-out\"\n```\n\n### 4. ãƒãƒ¼ã‚¿ãƒ«ã®ä½ç½®\n\nDialogã€Popoverã€Tooltipãªã©ã¯ã€ãƒãƒ¼ã‚¿ãƒ«ã§ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã•ã‚Œã‚‹ãŸã‚ã€z-indexã®ç®¡ç†ã«æ³¨æ„ã€‚\n\n**å¯¾ç­–**:\n```tsx\nclassName=\"z-50\"  // ååˆ†ã«å¤§ãã„z-indexã‚’è¨­å®š\n```\n\n### 5. Forwardingref\n\nRadix UIã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯ã€refã‚’forwardã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã€‚\n\n```tsx\nconst MyComponent = React.forwardRef<HTMLDivElement, MyProps>((props, ref) => (\n  <div ref={ref} {...props} />\n));\n```\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `decision_tech_radix_ui_choice_2025_04_11.md`: Radix UI vs Headless UI/shadcn/uiã®é¸æŠç†ç”±\n- `skill_dynamic_theme_system_2025_04_11.md`: å‹•çš„ãƒ†ãƒ¼ãƒã‚·ã‚¹ãƒ†ãƒ \n",
    "prompt": "### ã‚¹ãƒ†ãƒƒãƒ—1ï¼šRadix UIã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\n\n```bash\nnpm install @radix-ui/react-dialog @radix-ui/react-tooltip @radix-ui/react-accordion\n# å¿…è¦ãªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ã¿ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2ï¼šã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ãƒ©ãƒƒãƒ—\n\n```tsx\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\";\nimport clsx from \"clsx\";\n\nconst Dialog = DialogPrimitive.Root;\nconst DialogTrigger = DialogPrimitive.Trigger;\n\nconst DialogContent = ({ className, children, ...props }) => (\n  <DialogPrimitive.Portal>\n    <DialogPrimitive.Overlay className=\"fixed inset-0 bg-black/50\" />\n    <DialogPrimitive.Content\n      className={clsx(\"fixed left-1/2 top-1/2 bg-white p-6 rounded-lg\", className)}\n      {...props}\n    >\n      {children}\n    </DialogPrimitive.Content>\n  </DialogPrimitive.Portal>\n);\n\nexport { Dialog, DialogTrigger, DialogContent };\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3ï¼šTailwind CSSã§ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°\n\n```tsx\n<Dialog>\n  <DialogTrigger asChild>\n    <button className=\"px-4 py-2 bg-blue-600 text-white rounded-md\">\n      é–‹ã\n    </button>\n  </DialogTrigger>\n  <DialogContent>\n    <h2 className=\"text-lg font-bold\">ã‚¿ã‚¤ãƒˆãƒ«</h2>\n    <p className=\"text-gray-600\">å†…å®¹</p>\n  </DialogContent>\n</Dialog>\n```",
    "relatedTech": [
      "decision-tech-radix-ui-choice",
      "skill-dynamic-theme-system"
    ]
  },
  {
    "slug": "react-dnd-drag-drop",
    "title": "React DNDãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—",
    "category": "Skillsï¼ˆã‚¹ã‚­ãƒ«ãƒ»æ‰‹æ³•ï¼‰",
    "description": "React DNDãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½¿ç”¨ã—ã¦ã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚¨ãƒ‡ã‚£ã‚¿å†…ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼ˆãƒ†ã‚­ã‚¹ãƒˆã€ç”»åƒã€ãƒãƒ£ãƒ¼ãƒˆãªã©ï¼‰ã®ãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—æ©Ÿèƒ½ã‚’å®Ÿè£…ã™ã‚‹æ‰‹æ³•ã€‚React Grid LayoutãŒã‚»ã‚¯ã‚·ãƒ§ãƒ³å˜ä½ã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’æ‹…å½“ã—ã€React DNDãŒã‚»ã‚¯ã‚·ãƒ§ãƒ³å†…ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆæ“ä½œã‚’æ‹…å½“ã™ã‚‹ã€‚",
    "project": "ai-document-generator",
    "usedIn": [
      "package.json:50-51, src/components/editor/component/ComponentRenderer.tsx:106-133"
    ],
    "code": "```json\n{\n  \"id\": \"skill_react_dnd_drag_drop_2025_04_11\",\n  \"type\": \"skill\",\n  \"name\": \"React DNDãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—\",\n  \"tags\": [\"React DnD\", \"ãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—\", \"DnD\", \"UIæ“ä½œ\", \"ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆæ“ä½œ\"],\n  \"source_project\": \"ai-document-generator\",\n  \"source_file\": \"package.json:50-51, src/components/editor/component/ComponentRenderer.tsx:106-133\",\n  \"related_knowledge\": [\"decision_tech_react_dnd_vs_dnd_kit_2025_04_11\", \"skill_react_grid_layout_implementation_2025_04_11\", \"skill_component_dynamic_rendering_2025_04_11\"],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-04-11\",\n  \"updated\": \"2025-04-11\"\n}\n```\n\n# React DNDãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—\n\n## ä½•ã‚’ã™ã‚‹ã‚¹ã‚­ãƒ«ã‹\n\nReact DNDãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½¿ç”¨ã—ã¦ã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚¨ãƒ‡ã‚£ã‚¿å†…ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼ˆãƒ†ã‚­ã‚¹ãƒˆã€ç”»åƒã€ãƒãƒ£ãƒ¼ãƒˆãªã©ï¼‰ã®ãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—æ©Ÿèƒ½ã‚’å®Ÿè£…ã™ã‚‹æ‰‹æ³•ã€‚React Grid LayoutãŒã‚»ã‚¯ã‚·ãƒ§ãƒ³å˜ä½ã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’æ‹…å½“ã—ã€React DNDãŒã‚»ã‚¯ã‚·ãƒ§ãƒ³å†…ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆæ“ä½œã‚’æ‹…å½“ã™ã‚‹ã€‚\n\n## å…·ä½“çš„ãªæ‰‹æ³•\n\n### 1. React DNDã®åŸºæœ¬ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—\n\nReact DNDã¯ã€HTML5ã®Drag and Drop APIã‚’Reactã§ä½¿ã„ã‚„ã™ãã—ãŸãƒ©ã‚¤ãƒ–ãƒ©ãƒªã€‚\n\n**ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«**:\n```bash\nnpm install react-dnd react-dnd-html5-backend\n```\n\n**package.json**ï¼ˆå®Ÿéš›ã®ä¾å­˜é–¢ä¿‚ï¼‰:\n```json\n{\n  \"dependencies\": {\n    \"react-dnd\": \"^16.0.1\",\n    \"react-dnd-html5-backend\": \"^16.0.1\"\n  }\n}\n```\n\n**åŸºæœ¬çš„ãªã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—**:\n```tsx\nimport { DndProvider } from 'react-dnd';\nimport { HTML5Backend } from 'react-dnd-html5-backend';\n\nfunction App() {\n  return (\n    <DndProvider backend={HTML5Backend}>\n      <DocumentEditor />\n    </DndProvider>\n  );\n}\n```\n\n### 2. ãƒ‰ãƒ©ãƒƒã‚°ã‚½ãƒ¼ã‚¹ã®å®Ÿè£…\n\nã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ãƒ‰ãƒ©ãƒƒã‚°å¯èƒ½ã«ã™ã‚‹ï¼š\n\n```tsx\nimport { useDrag } from 'react-dnd';\n\ninterface DraggableComponentProps {\n  component: {\n    id: string;\n    definitionId: string;\n    content: Record<string, any>;\n  };\n}\n\nconst DraggableComponent: React.FC<DraggableComponentProps> = ({ component }) => {\n  // useDragãƒ•ãƒƒã‚¯ã§ãƒ‰ãƒ©ãƒƒã‚°ã‚½ãƒ¼ã‚¹ã‚’å®šç¾©\n  const [{ isDragging }, dragRef] = useDrag(() => ({\n    type: 'COMPONENT',  // ãƒ‰ãƒ©ãƒƒã‚°ã‚¢ã‚¤ãƒ†ãƒ ã®ã‚¿ã‚¤ãƒ—\n    item: {\n      componentId: component.id,\n      definitionId: component.definitionId,\n      type: 'component'\n    },\n    collect: (monitor) => ({\n      isDragging: monitor.isDragging()\n    }),\n    end: (item, monitor) => {\n      const didDrop = monitor.didDrop();\n      if (!didDrop) {\n        // ãƒ‰ãƒ­ãƒƒãƒ—ã•ã‚Œãªã‹ã£ãŸå ´åˆã®å‡¦ç†\n        console.log('[DnD] Drag cancelled');\n      }\n    }\n  }), [component]);\n\n  return (\n    <div\n      ref={dragRef}\n      style={{\n        opacity: isDragging ? 0.5 : 1,\n        cursor: 'move'\n      }}\n    >\n      <ComponentContent component={component} />\n    </div>\n  );\n};\n```\n\n### 3. ãƒ‰ãƒ­ãƒƒãƒ—ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã®å®Ÿè£…\n\nã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’ãƒ‰ãƒ­ãƒƒãƒ—å¯èƒ½ã«ã™ã‚‹ï¼š\n\n```tsx\nimport { useDrop } from 'react-dnd';\n\ninterface DroppableSectionProps {\n  sectionId: string;\n  onDrop: (item: any, sectionId: string) => void;\n}\n\nconst DroppableSection: React.FC<DroppableSectionProps> = ({ sectionId, onDrop }) => {\n  // useDropãƒ•ãƒƒã‚¯ã§ãƒ‰ãƒ­ãƒƒãƒ—ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã‚’å®šç¾©\n  const [{ isOver, canDrop }, dropRef] = useDrop(() => ({\n    accept: 'COMPONENT',  // å—ã‘å…¥ã‚Œã‚‹ã‚¢ã‚¤ãƒ†ãƒ ã®ã‚¿ã‚¤ãƒ—\n    drop: (item, monitor) => {\n      // ãƒ‰ãƒ­ãƒƒãƒ—å‡¦ç†\n      console.log('[DnD] Dropped:', item, 'into section:', sectionId);\n      onDrop(item, sectionId);\n      return { sectionId };  // ãƒ‰ãƒ­ãƒƒãƒ—çµæœã‚’è¿”ã™\n    },\n    canDrop: (item, monitor) => {\n      // ãƒ‰ãƒ­ãƒƒãƒ—å¯èƒ½ã‹ãƒã‚§ãƒƒã‚¯\n      return checkComponentCompatibility(item.definitionId, sectionId);\n    },\n    collect: (monitor) => ({\n      isOver: monitor.isOver(),\n      canDrop: monitor.canDrop()\n    })\n  }), [sectionId, onDrop]);\n\n  // ãƒ›ãƒãƒ¼çŠ¶æ…‹ã«å¿œã˜ãŸã‚¹ã‚¿ã‚¤ãƒ«\n  const backgroundColor = isOver\n    ? (canDrop ? '#e0f2fe' : '#fee2e2')\n    : '#ffffff';\n\n  return (\n    <div\n      ref={dropRef}\n      style={{\n        backgroundColor,\n        minHeight: '100px',\n        border: '2px dashed',\n        borderColor: canDrop ? '#3b82f6' : '#e5e7eb'\n      }}\n    >\n      {/* ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ */}\n    </div>\n  );\n};\n\n// ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒã‚»ã‚¯ã‚·ãƒ§ãƒ³ã¨äº’æ›æ€§ãŒã‚ã‚‹ã‹ãƒã‚§ãƒƒã‚¯\nconst checkComponentCompatibility = (definitionId: string, sectionId: string): boolean => {\n  const section = useSectionStore.getState().getSectionDefinition(sectionId);\n  const compatibleComponents = section?.contentConstraints?.compatibleComponents;\n\n  // åˆ¶ç´„ãŒãªã„å ´åˆã¯ã€ã™ã¹ã¦è¨±å¯\n  if (!compatibleComponents || compatibleComponents.length === 0) {\n    return true;\n  }\n\n  // definitionIdãŒäº’æ›æ€§ãƒªã‚¹ãƒˆã«å«ã¾ã‚Œã¦ã„ã‚‹ã‹ãƒã‚§ãƒƒã‚¯\n  return compatibleComponents.includes(definitionId);\n};\n```\n\n### 4. å®Ÿè£…ä¾‹ï¼ˆComponentRendererã‹ã‚‰ã®æŠœç²‹ï¼‰\n\nå®Ÿéš›ã®ã‚³ãƒ¼ãƒ‰ã§ã®ãƒ‰ãƒ©ãƒƒã‚°é–‹å§‹ãƒãƒ³ãƒ‰ãƒ©ï¼š\n\n```tsx\n// src/components/editor/component/ComponentRenderer.tsx:106-133\nconst handleDragStart = (e: React.DragEvent) => {\n  if (mode !== \"edit\") return;\n\n  e.stopPropagation();\n\n  // ãƒ‡ãƒ¼ã‚¿è»¢é€ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®è¨­å®š\n  e.dataTransfer.setData(\"application/json\", JSON.stringify({\n    componentId: component.id,\n    definitionId: component.definitionId,\n    type: \"component\"\n  }));\n\n  // ãƒ‰ãƒ©ãƒƒã‚°ä¸­ã®è¡¨ç¤ºã‚’èª¿æ•´\n  e.dataTransfer.effectAllowed = \"move\";\n\n  // ãƒ‰ãƒ©ãƒƒã‚°æ“ä½œã‚’é–‹å§‹\n  // æ¸¡ã•ã‚ŒãŸsectionIdãŒã‚ã‚Œã°ãã‚Œã‚’ä½¿ç”¨ã€ãªã‘ã‚Œã°ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®sectionIdã‹ã€è¦‹ã¤ã‹ã‚‰ãªã‘ã‚Œã°æ¤œç´¢\n  const sectionId = props.sectionId || component.sectionId || findSectionIdForComponent(component.id);\n  if (sectionId) {\n    const initialPosition = {\n      x: e.clientX,\n      y: e.clientY\n    };\n\n    useComponentStore.getState().startDraggingComponent(component.id, sectionId, initialPosition);\n  }\n};\n```\n\n### 5. ã‚¹ãƒˆã‚¢ã¨ã®çµ±åˆ\n\nãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—ã®çŠ¶æ…‹ã‚’Zustandã‚¹ãƒˆã‚¢ã§ç®¡ç†ï¼š\n\n```typescript\ninterface ComponentStoreState {\n  // ãƒ‰ãƒ©ãƒƒã‚°ä¸­ã®çŠ¶æ…‹\n  isDragging: boolean;\n  dragSource: {\n    componentId: string | null;\n    sectionId: string | null;\n    initialPosition: { x: number; y: number } | null;\n  };\n\n  // ãƒ‰ãƒ©ãƒƒã‚°æ“ä½œã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³\n  startDraggingComponent: (\n    componentId: string,\n    sectionId: string,\n    initialPosition: { x: number; y: number }\n  ) => void;\n\n  endDraggingComponent: () => void;\n\n  // ãƒ‰ãƒ­ãƒƒãƒ—ãƒãƒ³ãƒ‰ãƒ©\n  dropComponent: (\n    componentId: string,\n    sourceSectionId: string,\n    targetSectionId: string,\n    position?: { x: number; y: number }\n  ) => void;\n}\n\nconst useComponentStore = create<ComponentStoreState>((set, get) => ({\n  isDragging: false,\n  dragSource: {\n    componentId: null,\n    sectionId: null,\n    initialPosition: null\n  },\n\n  startDraggingComponent: (componentId, sectionId, initialPosition) => {\n    console.log('[Store] Starting drag:', componentId, 'from section:', sectionId);\n    set({\n      isDragging: true,\n      dragSource: { componentId, sectionId, initialPosition }\n    });\n  },\n\n  endDraggingComponent: () => {\n    console.log('[Store] Ending drag');\n    set({\n      isDragging: false,\n      dragSource: { componentId: null, sectionId: null, initialPosition: null }\n    });\n  },\n\n  dropComponent: (componentId, sourceSectionId, targetSectionId, position) => {\n    console.log('[Store] Dropping component:', componentId, 'from', sourceSectionId, 'to', targetSectionId);\n\n    const state = get();\n    const component = state.getComponent(componentId, sourceSectionId);\n\n    if (!component) {\n      console.error('[Store] Component not found:', componentId);\n      return;\n    }\n\n    // ã‚½ãƒ¼ã‚¹ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‹ã‚‰å‰Šé™¤\n    state.removeComponent(componentId, sourceSectionId);\n\n    // ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã‚»ã‚¯ã‚·ãƒ§ãƒ³ã«è¿½åŠ \n    state.addComponent(targetSectionId, {\n      ...component,\n      position: position || component.position\n    });\n\n    // ãƒ‰ãƒ©ãƒƒã‚°çŠ¶æ…‹ã‚’ã‚¯ãƒªã‚¢\n    state.endDraggingComponent();\n  }\n}));\n```\n\n### 6. ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚¿ã‚¤ãƒ—åˆ¥ã®ãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—\n\nç•°ãªã‚‹ã‚¿ã‚¤ãƒ—ã®ã‚¢ã‚¤ãƒ†ãƒ ã‚’ã‚µãƒãƒ¼ãƒˆï¼š\n\n```tsx\n// ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ‘ãƒ¬ãƒƒãƒˆï¼ˆæ–°ã—ã„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’è¿½åŠ ï¼‰\nconst ComponentPalette = () => {\n  const componentTypes = [\n    { id: 'heading', name: 'è¦‹å‡ºã—', icon: <Heading /> },\n    { id: 'text', name: 'ãƒ†ã‚­ã‚¹ãƒˆ', icon: <Text /> },\n    { id: 'image', name: 'ç”»åƒ', icon: <Image /> },\n  ];\n\n  return (\n    <div className=\"component-palette\">\n      {componentTypes.map(type => (\n        <PaletteItem key={type.id} componentType={type} />\n      ))}\n    </div>\n  );\n};\n\n// ãƒ‘ãƒ¬ãƒƒãƒˆã‚¢ã‚¤ãƒ†ãƒ ï¼ˆãƒ‰ãƒ©ãƒƒã‚°ã‚½ãƒ¼ã‚¹ï¼‰\nconst PaletteItem: React.FC<{ componentType: any }> = ({ componentType }) => {\n  const [{ isDragging }, dragRef] = useDrag(() => ({\n    type: 'NEW_COMPONENT',\n    item: {\n      definitionId: componentType.id,\n      type: 'new_component'\n    },\n    collect: (monitor) => ({\n      isDragging: monitor.isDragging()\n    })\n  }), [componentType]);\n\n  return (\n    <div\n      ref={dragRef}\n      style={{ opacity: isDragging ? 0.5 : 1 }}\n      className=\"palette-item\"\n    >\n      {componentType.icon}\n      <span>{componentType.name}</span>\n    </div>\n  );\n};\n\n// ã‚»ã‚¯ã‚·ãƒ§ãƒ³ï¼ˆè¤‡æ•°ã‚¿ã‚¤ãƒ—ã®ãƒ‰ãƒ­ãƒƒãƒ—ã‚¿ãƒ¼ã‚²ãƒƒãƒˆï¼‰\nconst Section: React.FC<{ sectionId: string }> = ({ sectionId }) => {\n  const [{ isOver }, dropRef] = useDrop(() => ({\n    accept: ['COMPONENT', 'NEW_COMPONENT'],  // è¤‡æ•°ã‚¿ã‚¤ãƒ—ã‚’å—ã‘å…¥ã‚Œ\n    drop: (item: any, monitor) => {\n      if (item.type === 'new_component') {\n        // æ–°ã—ã„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½œæˆ\n        addNewComponent(sectionId, item.definitionId);\n      } else if (item.type === 'component') {\n        // æ—¢å­˜ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ç§»å‹•\n        moveComponent(item.componentId, sectionId);\n      }\n    },\n    collect: (monitor) => ({\n      isOver: monitor.isOver()\n    })\n  }), [sectionId]);\n\n  return (\n    <div ref={dropRef} className={isOver ? 'section-hover' : 'section'}>\n      {/* ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ */}\n    </div>\n  );\n};\n```\n\n### 7. ãƒ‰ãƒ©ãƒƒã‚°ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º\n\nãƒ‰ãƒ©ãƒƒã‚°ä¸­ã®è¡¨ç¤ºã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºï¼š\n\n```tsx\nimport { useDrag, DragPreviewImage } from 'react-dnd';\n\nconst DraggableComponent: React.FC = ({ component }) => {\n  const [{ isDragging }, dragRef, preview] = useDrag(() => ({\n    type: 'COMPONENT',\n    item: { componentId: component.id },\n    collect: (monitor) => ({\n      isDragging: monitor.isDragging()\n    })\n  }), [component]);\n\n  return (\n    <>\n      {/* ã‚«ã‚¹ã‚¿ãƒ ãƒ‰ãƒ©ãƒƒã‚°ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ç”»åƒ */}\n      <DragPreviewImage connect={preview} src=\"/drag-preview.png\" />\n\n      {/* ãƒ‰ãƒ©ãƒƒã‚°å¯èƒ½ãªè¦ç´  */}\n      <div ref={dragRef} style={{ opacity: isDragging ? 0.5 : 1 }}>\n        <ComponentContent component={component} />\n      </div>\n    </>\n  );\n};\n\n// ã¾ãŸã¯ã€ã‚«ã‚¹ã‚¿ãƒ HTMLãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼\nconst DraggableComponentWithHTMLPreview: React.FC = ({ component }) => {\n  const [{ isDragging }, dragRef] = useDrag(() => ({\n    type: 'COMPONENT',\n    item: { componentId: component.id },\n    collect: (monitor) => ({\n      isDragging: monitor.isDragging()\n    })\n  }), [component]);\n\n  useEffect(() => {\n    // ã‚«ã‚¹ã‚¿ãƒ HTMLãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’è¨­å®š\n    const img = new Image();\n    img.src = 'data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==';\n    preview(img);\n  }, []);\n\n  return (\n    <div ref={dragRef} style={{ opacity: isDragging ? 0.3 : 1 }}>\n      <ComponentContent component={component} />\n    </div>\n  );\n};\n```\n\n## ãªãœã“ã®æ‰‹æ³•ã‚’ä½¿ã†ã‹\n\n**ç†ç”±1ï¼šReact Grid Layoutã¨ã®å½¹å‰²åˆ†æ‹…**\n- React Grid Layout: ã‚»ã‚¯ã‚·ãƒ§ãƒ³å˜ä½ã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆç®¡ç†\n- React DnD: ã‚»ã‚¯ã‚·ãƒ§ãƒ³å†…ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆæ“ä½œ\n- 2ã¤ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’çµ„ã¿åˆã‚ã›ã‚‹ã“ã¨ã§ã€éšå±¤çš„ãªãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—ã‚’å®Ÿç¾\n\n**ç†ç”±2ï¼šæŸ”è»Ÿãªåˆ¶ç´„ã®å®Ÿè£…**\n- `canDrop`ã§ã€ãƒ‰ãƒ­ãƒƒãƒ—å¯èƒ½ã‹ã©ã†ã‹ã‚’ãƒã‚§ãƒƒã‚¯ã§ãã‚‹\n- ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®`compatibleComponents`åˆ¶ç´„ã‚’å®Ÿè£…ã—ã‚„ã™ã„\n\n**ç†ç”±3ï¼šçŠ¶æ…‹ç®¡ç†ã¨ã®çµ±åˆ**\n- React DnDã¯ã€Zustandãªã©ã®çŠ¶æ…‹ç®¡ç†ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¨çµ±åˆã—ã‚„ã™ã„\n- ãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—ã®çŠ¶æ…‹ã‚’ã‚¹ãƒˆã‚¢ã§ä¸€å…ƒç®¡ç†\n\n**ç†ç”±4ï¼šè¤‡æ•°ã‚¿ã‚¤ãƒ—ã®ã‚¢ã‚¤ãƒ†ãƒ **\n- `type`ã§ã‚¢ã‚¤ãƒ†ãƒ ã‚’åŒºåˆ¥ã§ãã‚‹\n- æ–°ã—ã„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè¿½åŠ ã¨ã€æ—¢å­˜ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆç§»å‹•ã®ä¸¡æ–¹ã‚’ã‚µãƒãƒ¼ãƒˆ\n\n**ç†ç”±5ï¼šãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹**\n- HTML5 Drag and Drop APIã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹ãŸã‚ã€é«˜é€Ÿ\n- React DnDã¯ã€ä¸è¦ãªå†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã‚’é˜²ãæœ€é©åŒ–ã‚’è¡Œã£ã¦ã„ã‚‹\n\n## å†ç¾æ–¹æ³•\n\n### ã‚¹ãƒ†ãƒƒãƒ—1ï¼šReact DNDã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\n\n```bash\nnpm install react-dnd react-dnd-html5-backend\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2ï¼šDndProviderã§ãƒ©ãƒƒãƒ—\n\n```tsx\nimport { DndProvider } from 'react-dnd';\nimport { HTML5Backend } from 'react-dnd-html5-backend';\n\nfunction App() {\n  return (\n    <DndProvider backend={HTML5Backend}>\n      <YourApp />\n    </DndProvider>\n  );\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3ï¼šãƒ‰ãƒ©ãƒƒã‚°ã‚½ãƒ¼ã‚¹ã‚’ä½œæˆ\n\n```tsx\nimport { useDrag } from 'react-dnd';\n\nconst DraggableItem = ({ item }) => {\n  const [{ isDragging }, drag] = useDrag(() => ({\n    type: 'ITEM',\n    item: { id: item.id },\n    collect: (monitor) => ({\n      isDragging: monitor.isDragging()\n    })\n  }));\n\n  return (\n    <div ref={drag} style={{ opacity: isDragging ? 0.5 : 1 }}>\n      {item.name}\n    </div>\n  );\n};\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—4ï¼šãƒ‰ãƒ­ãƒƒãƒ—ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã‚’ä½œæˆ\n\n```tsx\nimport { useDrop } from 'react-dnd';\n\nconst DroppableArea = ({ onDrop }) => {\n  const [{ isOver }, drop] = useDrop(() => ({\n    accept: 'ITEM',\n    drop: (item) => onDrop(item),\n    collect: (monitor) => ({\n      isOver: monitor.isOver()\n    })\n  }));\n\n  return (\n    <div\n      ref={drop}\n      style={{ backgroundColor: isOver ? '#e0f2fe' : '#ffffff' }}\n    >\n      Drop here\n    </div>\n  );\n};\n```\n\n## ã„ã¤ä½¿ã†ã‹\n\n- **ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ™ãƒ¼ã‚¹ã®ã‚¨ãƒ‡ã‚£ã‚¿**: ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚¨ãƒ‡ã‚£ã‚¿ã€ãƒšãƒ¼ã‚¸ãƒ“ãƒ«ãƒ€ãƒ¼\n- **ã‚«ãƒ³ãƒãƒ³ãƒœãƒ¼ãƒ‰**: ã‚¿ã‚¹ã‚¯ç®¡ç†ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç®¡ç†\n- **ãƒªã‚¹ãƒˆæ“ä½œ**: ä¸¦ã³æ›¿ãˆã€ã‚°ãƒ«ãƒ¼ãƒ”ãƒ³ã‚°\n- **éšå±¤æ§‹é€ ã®æ“ä½œ**: ãƒ„ãƒªãƒ¼æ§‹é€ ã€ãƒ•ã‚©ãƒ«ãƒ€æ§‹é€ \n\n## æ³¨æ„ç‚¹\n\n### 1. React Grid Layoutã¨ã®ç«¶åˆ\n\nReact Grid Layoutã¨React DNDã‚’åŒæ™‚ã«ä½¿ã†å ´åˆã€ç«¶åˆãŒç™ºç”Ÿã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ã€‚\n\n**å¯¾ç­–**:\n- ã‚»ã‚¯ã‚·ãƒ§ãƒ³ãƒ¬ãƒ™ãƒ«: React Grid Layout\n- ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ¬ãƒ™ãƒ«: React DnD\n- ãƒ‰ãƒ©ãƒƒã‚°ãƒãƒ³ãƒ‰ãƒ«ã‚’æ˜ç¢ºã«åˆ†ã‘ã‚‹\n\n### 2. ã‚¿ãƒƒãƒãƒ‡ãƒã‚¤ã‚¹å¯¾å¿œ\n\nHTML5Backendã¯ã€ã‚¿ãƒƒãƒãƒ‡ãƒã‚¤ã‚¹ã§å‹•ä½œã—ãªã„ã€‚\n\n**å¯¾ç­–**:\n```tsx\nimport { TouchBackend } from 'react-dnd-touch-backend';\n\n// ãƒ‡ãƒã‚¤ã‚¹ã«å¿œã˜ã¦ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚’åˆ‡ã‚Šæ›¿ãˆ\nconst backend = 'ontouchstart' in window ? TouchBackend : HTML5Backend;\n\n<DndProvider backend={backend}>\n  <App />\n</DndProvider>\n```\n\n### 3. ãƒã‚¹ãƒˆã•ã‚ŒãŸãƒ‰ãƒ­ãƒƒãƒ—ã‚¿ãƒ¼ã‚²ãƒƒãƒˆ\n\nãƒã‚¹ãƒˆã•ã‚ŒãŸãƒ‰ãƒ­ãƒƒãƒ—ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã¯ã€ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ–ãƒªãƒ³ã‚°ã«æ³¨æ„ã€‚\n\n**å¯¾ç­–**:\n```tsx\nconst [{ isOver }, drop] = useDrop(() => ({\n  accept: 'COMPONENT',\n  drop: (item, monitor) => {\n    // ç›´æ¥ã®ãƒ‰ãƒ­ãƒƒãƒ—ã®ã¿å‡¦ç†ï¼ˆå­ã®ãƒ‰ãƒ­ãƒƒãƒ—ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã§ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã•ã‚ŒãŸå ´åˆã¯ç„¡è¦–ï¼‰\n    if (monitor.didDrop()) {\n      return;\n    }\n    handleDrop(item);\n  }\n}));\n```\n\n### 4. ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹\n\nå¤§é‡ã®ãƒ‰ãƒ©ãƒƒã‚°å¯èƒ½ãªã‚¢ã‚¤ãƒ†ãƒ ãŒã‚ã‚‹å ´åˆã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãŒä½ä¸‹ã™ã‚‹ã€‚\n\n**å¯¾ç­–**:\n- React.memoã§ä¸è¦ãªå†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã‚’é˜²ã\n- ä»®æƒ³åŒ–ï¼ˆreact-windowï¼‰ã‚’æ¤œè¨\n\n### 5. ãƒ‰ãƒ­ãƒƒãƒ—å¾Œã®ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—\n\nãƒ‰ãƒ­ãƒƒãƒ—å¾Œã€ã‚¹ãƒˆã‚¢ã®çŠ¶æ…‹ã‚’é©åˆ‡ã«ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—ã™ã‚‹ã€‚\n\n```typescript\nconst dropComponent = (componentId, sourceSectionId, targetSectionId) => {\n  // ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ç§»å‹•\n  moveComponent(componentId, sourceSectionId, targetSectionId);\n\n  // ãƒ‰ãƒ©ãƒƒã‚°çŠ¶æ…‹ã‚’ã‚¯ãƒªã‚¢\n  endDraggingComponent();\n\n  // UIãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯\n  useEditorUIStore.getState().showToast('success', 'ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ç§»å‹•ã—ã¾ã—ãŸ');\n};\n```\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `decision_tech_react_dnd_vs_dnd_kit_2025_04_11.md`: React DnD vs dnd-kitã®é¸æŠç†ç”±\n- `skill_react_grid_layout_implementation_2025_04_11.md`: React Grid Layoutå®Ÿè£…ï¼ˆã‚»ã‚¯ã‚·ãƒ§ãƒ³ãƒ¬ãƒ™ãƒ«ã®ãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—ï¼‰\n- `skill_component_dynamic_rendering_2025_04_11.md`: ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå‹•çš„ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°\n",
    "prompt": "### ã‚¹ãƒ†ãƒƒãƒ—1ï¼šReact DNDã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\n\n```bash\nnpm install react-dnd react-dnd-html5-backend\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2ï¼šDndProviderã§ãƒ©ãƒƒãƒ—\n\n```tsx\nimport { DndProvider } from 'react-dnd';\nimport { HTML5Backend } from 'react-dnd-html5-backend';\n\nfunction App() {\n  return (\n    <DndProvider backend={HTML5Backend}>\n      <YourApp />\n    </DndProvider>\n  );\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3ï¼šãƒ‰ãƒ©ãƒƒã‚°ã‚½ãƒ¼ã‚¹ã‚’ä½œæˆ\n\n```tsx\nimport { useDrag } from 'react-dnd';\n\nconst DraggableItem = ({ item }) => {\n  const [{ isDragging }, drag] = useDrag(() => ({\n    type: 'ITEM',\n    item: { id: item.id },\n    collect: (monitor) => ({\n      isDragging: monitor.isDragging()\n    })\n  }));\n\n  return (\n    <div ref={drag} style={{ opacity: isDragging ? 0.5 : 1 }}>\n      {item.name}\n    </div>\n  );\n};\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—4ï¼šãƒ‰ãƒ­ãƒƒãƒ—ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã‚’ä½œæˆ\n\n```tsx\nimport { useDrop } from 'react-dnd';\n\nconst DroppableArea = ({ onDrop }) => {\n  const [{ isOver }, drop] = useDrop(() => ({\n    accept: 'ITEM',\n    drop: (item) => onDrop(item),\n    collect: (monitor) => ({\n      isOver: monitor.isOver()\n    })\n  }));\n\n  return (\n    <div\n      ref={drop}\n      style={{ backgroundColor: isOver ? '#e0f2fe' : '#ffffff' }}\n    >\n      Drop here\n    </div>\n  );\n};\n```",
    "relatedTech": [
      "decision-tech-react-dnd-vs-dnd-kit",
      "skill-react-grid-layout-implementation",
      "skill-component-dynamic-rendering"
    ]
  },
  {
    "slug": "react-grid-layout-implementation",
    "title": "React Grid Layoutå®Ÿè£…è©³ç´°",
    "category": "Skillsï¼ˆã‚¹ã‚­ãƒ«ãƒ»æ‰‹æ³•ï¼‰",
    "description": "React Grid Layoutãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½¿ç”¨ã—ã¦ã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚¨ãƒ‡ã‚£ã‚¿å†…ã§ã‚°ãƒªãƒƒãƒ‰ãƒ™ãƒ¼ã‚¹ã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚·ã‚¹ãƒ†ãƒ ã‚’å®Ÿè£…ã—ã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®ãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—ã¨ãƒªã‚µã‚¤ã‚ºæ©Ÿèƒ½ã‚’æä¾›ã™ã‚‹æ‰‹æ³•ã€‚",
    "project": "ai-document-generator",
    "usedIn": [
      "src/components/editor/section/SectionEditor.tsx:1-1192, package.json:53"
    ],
    "code": "```json\n{\n  \"id\": \"skill_react_grid_layout_implementation_2025_04_11\",\n  \"type\": \"skill\",\n  \"name\": \"React Grid Layoutå®Ÿè£…è©³ç´°\",\n  \"tags\": [\"React Grid Layout\", \"ãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—\", \"ãƒªã‚µã‚¤ã‚º\", \"ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ\", \"ã‚°ãƒªãƒƒãƒ‰ã‚·ã‚¹ãƒ†ãƒ \", \"UIå®Ÿè£…\"],\n  \"source_project\": \"ai-document-generator\",\n  \"source_file\": \"src/components/editor/section/SectionEditor.tsx:1-1192, package.json:53\",\n  \"related_knowledge\": [\"skill_grid_based_layout_system_2025_04_11\", \"skill_react_dnd_drag_drop_2025_04_11\", \"decision_tech_react_dnd_vs_dnd_kit_2025_04_11\"],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-04-11\",\n  \"updated\": \"2025-04-11\"\n}\n```\n\n# React Grid Layoutå®Ÿè£…è©³ç´°\n\n## ä½•ã‚’ã™ã‚‹ã‚¹ã‚­ãƒ«ã‹\n\nReact Grid Layoutãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½¿ç”¨ã—ã¦ã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚¨ãƒ‡ã‚£ã‚¿å†…ã§ã‚°ãƒªãƒƒãƒ‰ãƒ™ãƒ¼ã‚¹ã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚·ã‚¹ãƒ†ãƒ ã‚’å®Ÿè£…ã—ã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®ãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—ã¨ãƒªã‚µã‚¤ã‚ºæ©Ÿèƒ½ã‚’æä¾›ã™ã‚‹æ‰‹æ³•ã€‚\n\n## å…·ä½“çš„ãªæ‰‹æ³•\n\n### 1. React Grid Layoutã®åŸºæœ¬ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—\n\nReact Grid Layoutã¯ã€ã‚°ãƒªãƒƒãƒ‰ã‚·ã‚¹ãƒ†ãƒ ã‚’ä½¿ã£ãŸæŸ”è»Ÿãªãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆç®¡ç†ã‚’æä¾›ã™ã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã€‚\n\n**ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«**:\n```bash\nnpm install react-grid-layout\n# TypeScriptç”¨ã®å‹å®šç¾©ã‚‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\nnpm install --save-dev @types/react-grid-layout\n```\n\n**package.json**ï¼ˆå®Ÿéš›ã®ä¾å­˜é–¢ä¿‚ï¼‰:\n```json\n{\n  \"dependencies\": {\n    \"react-grid-layout\": \"^1.5.1\"\n  },\n  \"devDependencies\": {\n    \"@types/react-grid-layout\": \"^1.3.5\"\n  }\n}\n```\n\n### 2. ã‚°ãƒªãƒƒãƒ‰ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã®å®šç¾©\n\nãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‹ã‚‰React Grid Layoutã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆé…åˆ—ã«å¤‰æ›ï¼š\n\n```typescript\n// ã‚»ã‚¯ã‚·ãƒ§ãƒ³å®šç¾© â†’ React Grid Layoutã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆé…åˆ—\ninterface ReactGridLayoutItem {\n  i: string;          // ã‚¢ã‚¤ãƒ†ãƒ ID\n  x: number;          // Xåº§æ¨™ï¼ˆåˆ—ç•ªå·ã€0-indexedï¼‰\n  y: number;          // Yåº§æ¨™ï¼ˆè¡Œç•ªå·ã€0-indexedï¼‰\n  w: number;          // å¹…ï¼ˆåˆ—æ•°ï¼‰\n  h: number;          // é«˜ã•ï¼ˆè¡Œæ•°ï¼‰\n  static?: boolean;   // é™çš„ï¼ˆç§»å‹•ãƒ»ãƒªã‚µã‚¤ã‚ºä¸å¯ï¼‰\n  isDraggable?: boolean;  // ãƒ‰ãƒ©ãƒƒã‚°å¯èƒ½\n  isResizable?: boolean;  // ãƒªã‚µã‚¤ã‚ºå¯èƒ½\n  minW?: number;      // æœ€å°å¹…\n  maxW?: number;      // æœ€å¤§å¹…\n  minH?: number;      // æœ€å°é«˜ã•\n  maxH?: number;      // æœ€å¤§é«˜ã•\n}\n\n// å¤‰æ›é–¢æ•°\nconst convertSectionsToGridLayout = (sections: SectionDefinition[]): ReactGridLayoutItem[] => {\n  return sections.map(section => ({\n    i: section.id,\n    x: section.position.column,\n    y: section.position.row,\n    w: section.position.columnSpan,\n    h: section.position.rowSpan,\n    static: !section.adjustability.movable && !section.adjustability.resizable,\n    isDraggable: section.adjustability.movable,\n    isResizable: section.adjustability.resizable,\n    minW: section.adjustability.resizeBoundaries?.minColumnSpan,\n    maxW: section.adjustability.resizeBoundaries?.maxColumnSpan,\n    minH: section.adjustability.resizeBoundaries?.minRowSpan,\n    maxH: section.adjustability.resizeBoundaries?.maxRowSpan,\n  }));\n};\n```\n\n### 3. React Grid Layoutã®çµ±åˆ\n\nåŸºæœ¬çš„ãªä½¿ç”¨æ–¹æ³•ï¼š\n\n```tsx\nimport GridLayout from 'react-grid-layout';\nimport 'react-grid-layout/css/styles.css';\nimport 'react-resizable/css/styles.css';\n\ninterface DocumentLayoutProps {\n  sections: SectionDefinition[];\n  onLayoutChange: (layout: ReactGridLayoutItem[]) => void;\n}\n\nconst DocumentLayout: React.FC<DocumentLayoutProps> = ({ sections, onLayoutChange }) => {\n  // ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆé…åˆ—ã‚’ç”Ÿæˆ\n  const layout = convertSectionsToGridLayout(sections);\n\n  // ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆå¤‰æ›´ãƒãƒ³ãƒ‰ãƒ©\n  const handleLayoutChange = (newLayout: ReactGridLayoutItem[]) => {\n    console.log('[DocumentLayout] Layout changed:', newLayout);\n\n    // ã‚»ã‚¯ã‚·ãƒ§ãƒ³å®šç¾©ã‚’æ›´æ–°\n    newLayout.forEach(item => {\n      const section = sections.find(s => s.id === item.i);\n      if (section) {\n        section.position = {\n          row: item.y,\n          column: item.x,\n          rowSpan: item.h,\n          columnSpan: item.w,\n        };\n      }\n    });\n\n    onLayoutChange(newLayout);\n  };\n\n  return (\n    <GridLayout\n      className=\"layout\"\n      layout={layout}\n      cols={12}             // 12åˆ—ã‚°ãƒªãƒƒãƒ‰\n      rowHeight={50}        // è¡Œã®é«˜ã•ï¼ˆpxï¼‰\n      width={600}           // ã‚°ãƒªãƒƒãƒ‰å…¨ä½“ã®å¹…ï¼ˆpxï¼‰\n      compactType={null}    // è‡ªå‹•æ•´åˆ—ã‚’ç„¡åŠ¹åŒ–\n      preventCollision={true} // è¡çªã‚’é˜²æ­¢\n      isDraggable={true}\n      isResizable={true}\n      onLayoutChange={handleLayoutChange}\n      margin={[8, 8]}       // ã‚°ãƒªãƒƒãƒ‰é–“ã®ãƒãƒ¼ã‚¸ãƒ³\n      containerPadding={[0, 0]} // ã‚³ãƒ³ãƒ†ãƒŠã®å†…éƒ¨ä½™ç™½\n    >\n      {sections.map(section => (\n        <div key={section.id} className=\"grid-item\">\n          <SectionContent section={section} />\n        </div>\n      ))}\n    </GridLayout>\n  );\n};\n```\n\n### 4. åˆ¶ç´„ã®å®Ÿè£…\n\nReact Grid Layoutã§ã¯ã€å„ã‚¢ã‚¤ãƒ†ãƒ ã«åˆ¶ç´„ã‚’è¨­å®šã§ãã‚‹ï¼š\n\n```typescript\n// ç§»å‹•åˆ¶ç´„ã®ä¾‹ï¼šãƒ˜ãƒƒãƒ€ãƒ¼ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã¯å›ºå®š\n{\n  i: 'header',\n  x: 0,\n  y: 0,\n  w: 12,\n  h: 2,\n  static: true,  // ç§»å‹•ã‚‚ãƒªã‚µã‚¤ã‚ºã‚‚ä¸å¯\n}\n\n// ãƒªã‚µã‚¤ã‚ºã®ã¿è¨±å¯ã®ä¾‹ï¼šãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„\n{\n  i: 'main_content',\n  x: 0,\n  y: 2,\n  w: 8,\n  h: 8,\n  isDraggable: false,  // ãƒ‰ãƒ©ãƒƒã‚°ä¸å¯\n  isResizable: true,   // ãƒªã‚µã‚¤ã‚ºå¯èƒ½\n  minW: 6,\n  maxW: 10,\n  minH: 6,\n  maxH: 10,\n}\n\n// ç§»å‹•ã®ã¿è¨±å¯ã®ä¾‹ï¼šç”»åƒã‚»ã‚¯ã‚·ãƒ§ãƒ³\n{\n  i: 'image_section',\n  x: 8,\n  y: 2,\n  w: 4,\n  h: 4,\n  isDraggable: true,   // ãƒ‰ãƒ©ãƒƒã‚°å¯èƒ½\n  isResizable: false,  // ãƒªã‚µã‚¤ã‚ºä¸å¯\n}\n```\n\n### 5. ãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—ã®ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°\n\nReact Grid Layoutã¯ã€ãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—ã®å„æ®µéšã§ã‚¤ãƒ™ãƒ³ãƒˆã‚’ç™ºç«ï¼š\n\n```tsx\nconst DocumentLayout: React.FC<DocumentLayoutProps> = ({ sections }) => {\n  // ãƒ‰ãƒ©ãƒƒã‚°é–‹å§‹\n  const handleDragStart = (\n    layout: ReactGridLayoutItem[],\n    oldItem: ReactGridLayoutItem,\n    newItem: ReactGridLayoutItem,\n    placeholder: ReactGridLayoutItem,\n    event: MouseEvent,\n    element: HTMLElement\n  ) => {\n    console.log('[DragStart] Item:', oldItem.i);\n\n    // UIçŠ¶æ…‹ã‚’æ›´æ–°ï¼ˆä¾‹ï¼šä»–ã®ç§»å‹•å¯èƒ½ãªã‚¨ãƒªã‚¢ã‚’ãƒã‚¤ãƒ©ã‚¤ãƒˆï¼‰\n    useEditorUIStore.getState().highlightMovableAreas?.(oldItem.i);\n  };\n\n  // ãƒ‰ãƒ©ãƒƒã‚°ä¸­\n  const handleDrag = (\n    layout: ReactGridLayoutItem[],\n    oldItem: ReactGridLayoutItem,\n    newItem: ReactGridLayoutItem,\n    placeholder: ReactGridLayoutItem,\n    event: MouseEvent,\n    element: HTMLElement\n  ) => {\n    // ãƒ‰ãƒ©ãƒƒã‚°ä¸­ã®ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ å‡¦ç†ï¼ˆä¾‹ï¼šè¡çªãƒã‚§ãƒƒã‚¯ï¼‰\n    const hasCollision = checkCollision(newItem, layout);\n    if (hasCollision) {\n      useEditorUIStore.getState().showToast('warning', 'ä»–ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã¨é‡è¤‡ã—ã¾ã™');\n    }\n  };\n\n  // ãƒ‰ãƒ©ãƒƒã‚°çµ‚äº†\n  const handleDragStop = (\n    layout: ReactGridLayoutItem[],\n    oldItem: ReactGridLayoutItem,\n    newItem: ReactGridLayoutItem,\n    placeholder: ReactGridLayoutItem,\n    event: MouseEvent,\n    element: HTMLElement\n  ) => {\n    console.log('[DragStop] Item moved:', oldItem.i, 'from', oldItem, 'to', newItem);\n\n    // ã‚¹ãƒˆã‚¢ã‚’æ›´æ–°\n    useSectionStore.getState().updateSectionPosition(newItem.i, {\n      row: newItem.y,\n      column: newItem.x,\n      rowSpan: newItem.h,\n      columnSpan: newItem.w,\n    });\n\n    // ãƒã‚¤ãƒ©ã‚¤ãƒˆã‚’è§£é™¤\n    useEditorUIStore.getState().clearHighlights?.();\n\n    // æˆåŠŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸\n    useEditorUIStore.getState().showToast('success', 'ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’ç§»å‹•ã—ã¾ã—ãŸ');\n  };\n\n  return (\n    <GridLayout\n      // ... ä»–ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£\n      onDragStart={handleDragStart}\n      onDrag={handleDrag}\n      onDragStop={handleDragStop}\n    >\n      {/* ... */}\n    </GridLayout>\n  );\n};\n```\n\n### 6. ãƒªã‚µã‚¤ã‚ºã®ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°\n\nãƒªã‚µã‚¤ã‚ºæ“ä½œã‚‚åŒæ§˜ã«ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒ©ã‚’è¨­å®šï¼š\n\n```tsx\nconst DocumentLayout: React.FC<DocumentLayoutProps> = ({ sections }) => {\n  // ãƒªã‚µã‚¤ã‚ºé–‹å§‹\n  const handleResizeStart = (\n    layout: ReactGridLayoutItem[],\n    oldItem: ReactGridLayoutItem,\n    newItem: ReactGridLayoutItem,\n    placeholder: ReactGridLayoutItem,\n    event: MouseEvent,\n    element: HTMLElement\n  ) => {\n    console.log('[ResizeStart] Item:', oldItem.i);\n    useEditorUIStore.getState().highlightResizableAreas?.(oldItem.i);\n  };\n\n  // ãƒªã‚µã‚¤ã‚ºä¸­\n  const handleResize = (\n    layout: ReactGridLayoutItem[],\n    oldItem: ReactGridLayoutItem,\n    newItem: ReactGridLayoutItem,\n    placeholder: ReactGridLayoutItem,\n    event: MouseEvent,\n    element: HTMLElement\n  ) => {\n    // ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§ã‚µã‚¤ã‚ºã‚’è¡¨ç¤ºï¼ˆä¾‹ï¼šãƒ„ãƒ¼ãƒ«ãƒãƒƒãƒ—ï¼‰\n    const width = newItem.w * 50; // åˆ—å¹… Ã— åˆ—æ•°\n    const height = newItem.h * 50; // è¡Œé«˜ã• Ã— è¡Œæ•°\n    showSizeTooltip(element, `${width}px Ã— ${height}px`);\n  };\n\n  // ãƒªã‚µã‚¤ã‚ºçµ‚äº†\n  const handleResizeStop = (\n    layout: ReactGridLayoutItem[],\n    oldItem: ReactGridLayoutItem,\n    newItem: ReactGridLayoutItem,\n    placeholder: ReactGridLayoutItem,\n    event: MouseEvent,\n    element: HTMLElement\n  ) => {\n    console.log('[ResizeStop] Item resized:', oldItem.i, 'from', oldItem, 'to', newItem);\n\n    // ã‚¹ãƒˆã‚¢ã‚’æ›´æ–°\n    useSectionStore.getState().updateSectionPosition(newItem.i, {\n      row: newItem.y,\n      column: newItem.x,\n      rowSpan: newItem.h,\n      columnSpan: newItem.w,\n    });\n\n    useEditorUIStore.getState().clearHighlights?.();\n    useEditorUIStore.getState().showToast('success', 'ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’ãƒªã‚µã‚¤ã‚ºã—ã¾ã—ãŸ');\n  };\n\n  return (\n    <GridLayout\n      // ... ä»–ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£\n      onResizeStart={handleResizeStart}\n      onResize={handleResize}\n      onResizeStop={handleResizeStop}\n      resizeHandles={['se']} // å³ä¸‹ã®ã¿ãƒªã‚µã‚¤ã‚ºãƒãƒ³ãƒ‰ãƒ«ã‚’è¡¨ç¤º\n    >\n      {/* ... */}\n    </GridLayout>\n  );\n};\n```\n\n### 7. è¡çªæ¤œå‡ºã¨é˜²æ­¢\n\nReact Grid Layoutã¯ã€è‡ªå‹•çš„ã«è¡çªã‚’æ¤œå‡ºãƒ»é˜²æ­¢ã§ãã‚‹ï¼š\n\n```tsx\n<GridLayout\n  // ...\n  preventCollision={true}  // è¡çªã‚’é˜²æ­¢ï¼ˆé‡è¤‡ã‚’è¨±å¯ã—ãªã„ï¼‰\n  compactType={null}       // è‡ªå‹•æ•´åˆ—ã‚’ç„¡åŠ¹åŒ–ï¼ˆã‚®ãƒ£ãƒƒãƒ—ã‚’åŸ‹ã‚ãªã„ï¼‰\n>\n  {/* ... */}\n</GridLayout>\n```\n\nã‚«ã‚¹ã‚¿ãƒ è¡çªæ¤œå‡ºé–¢æ•°ï¼š\n\n```typescript\n// 2ã¤ã®ã‚¢ã‚¤ãƒ†ãƒ ãŒé‡è¤‡ã—ã¦ã„ã‚‹ã‹ãƒã‚§ãƒƒã‚¯\nconst checkCollision = (item1: ReactGridLayoutItem, item2: ReactGridLayoutItem): boolean => {\n  const item1End = { x: item1.x + item1.w, y: item1.y + item1.h };\n  const item2End = { x: item2.x + item2.w, y: item2.y + item2.h };\n\n  return !(\n    item1End.x <= item2.x ||  // item1ãŒitem2ã®å·¦å´\n    item1.x >= item2End.x ||  // item1ãŒitem2ã®å³å´\n    item1End.y <= item2.y ||  // item1ãŒitem2ã®ä¸Šå´\n    item1.y >= item2End.y     // item1ãŒitem2ã®ä¸‹å´\n  );\n};\n\n// ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆå…¨ä½“ã§è¡çªãƒã‚§ãƒƒã‚¯\nconst checkLayoutCollisions = (layout: ReactGridLayoutItem[]): boolean => {\n  for (let i = 0; i < layout.length; i++) {\n    for (let j = i + 1; j < layout.length; j++) {\n      if (checkCollision(layout[i], layout[j])) {\n        console.warn('[Collision] Detected between', layout[i].i, 'and', layout[j].i);\n        return true;\n      }\n    }\n  }\n  return false;\n};\n```\n\n### 8. ã‚¹ã‚¿ã‚¤ãƒ«ã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º\n\nReact Grid Layoutã®ã‚¹ã‚¿ã‚¤ãƒ«ã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºï¼š\n\n```css\n/* åŸºæœ¬ã‚¹ã‚¿ã‚¤ãƒ«ã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆ */\n@import 'react-grid-layout/css/styles.css';\n@import 'react-resizable/css/styles.css';\n\n/* ã‚°ãƒªãƒƒãƒ‰ã‚¢ã‚¤ãƒ†ãƒ ã®ã‚¹ã‚¿ã‚¤ãƒ« */\n.react-grid-item {\n  transition: all 200ms ease;\n  transition-property: left, top, width, height;\n  border: 1px solid #e5e7eb;\n  background-color: white;\n  border-radius: 4px;\n  overflow: hidden;\n}\n\n/* ãƒ‰ãƒ©ãƒƒã‚°ä¸­ã®ã‚¹ã‚¿ã‚¤ãƒ« */\n.react-grid-item.react-draggable-dragging {\n  transition: none;\n  z-index: 100;\n  will-change: transform;\n  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);\n  opacity: 0.9;\n}\n\n/* ãƒªã‚µã‚¤ã‚ºä¸­ã®ã‚¹ã‚¿ã‚¤ãƒ« */\n.react-grid-item.resizing {\n  transition: none;\n  z-index: 100;\n  opacity: 0.9;\n}\n\n/* ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼ï¼ˆãƒ‰ãƒ©ãƒƒã‚°å…ˆã®ä½ç½®ã‚’ç¤ºã™ï¼‰ */\n.react-grid-placeholder {\n  background: #3b82f6;\n  opacity: 0.2;\n  transition-duration: 100ms;\n  z-index: 2;\n  border-radius: 4px;\n}\n\n/* ãƒªã‚µã‚¤ã‚ºãƒãƒ³ãƒ‰ãƒ« */\n.react-resizable-handle {\n  position: absolute;\n}\n\n.react-resizable-handle-se {\n  bottom: 0;\n  right: 0;\n  cursor: se-resize;\n  width: 20px;\n  height: 20px;\n}\n\n.react-resizable-handle::after {\n  content: \"\";\n  position: absolute;\n  right: 3px;\n  bottom: 3px;\n  width: 5px;\n  height: 5px;\n  border-right: 2px solid rgba(0, 0, 0, 0.4);\n  border-bottom: 2px solid rgba(0, 0, 0, 0.4);\n}\n```\n\n### 9. ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œ\n\nç•°ãªã‚‹ç”»é¢ã‚µã‚¤ã‚ºã«å¯¾å¿œã™ã‚‹ï¼š\n\n```tsx\nimport { Responsive, WidthProvider } from 'react-grid-layout';\n\nconst ResponsiveGridLayout = WidthProvider(Responsive);\n\nconst DocumentLayout: React.FC<DocumentLayoutProps> = ({ sections }) => {\n  // ãƒ–ãƒ¬ãƒ¼ã‚¯ãƒã‚¤ãƒ³ãƒˆã”ã¨ã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ\n  const layouts = {\n    lg: convertSectionsToGridLayout(sections),  // å¤§ç”»é¢ï¼ˆ1200pxä»¥ä¸Šï¼‰\n    md: convertSectionsToGridLayout(sections),  // ä¸­ç”»é¢ï¼ˆ996px-1199pxï¼‰\n    sm: convertSectionsToGridLayout(sections),  // å°ç”»é¢ï¼ˆ768px-995pxï¼‰\n    xs: convertSectionsToGridLayout(sections),  // è¶…å°ç”»é¢ï¼ˆ768pxæœªæº€ï¼‰\n  };\n\n  return (\n    <ResponsiveGridLayout\n      className=\"layout\"\n      layouts={layouts}\n      breakpoints={{ lg: 1200, md: 996, sm: 768, xs: 480 }}\n      cols={{ lg: 12, md: 10, sm: 6, xs: 4 }}\n      rowHeight={50}\n      onLayoutChange={handleLayoutChange}\n      onBreakpointChange={(newBreakpoint) => {\n        console.log('[Breakpoint] Changed to:', newBreakpoint);\n      }}\n    >\n      {sections.map(section => (\n        <div key={section.id} className=\"grid-item\">\n          <SectionContent section={section} />\n        </div>\n      ))}\n    </ResponsiveGridLayout>\n  );\n};\n```\n\n## ãªãœã“ã®æ‰‹æ³•ã‚’ä½¿ã†ã‹\n\n**ç†ç”±1ï¼šãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—é–‹ç™ºã®åŠ¹ç‡åŒ–**\n- React Grid Layoutã¯ã€ãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—ã¨ãƒªã‚µã‚¤ã‚ºæ©Ÿèƒ½ã‚’å³åº§ã«å®Ÿè£…ã§ãã‚‹\n- è‡ªå‰ã§å®Ÿè£…ã™ã‚‹ã¨æ•°é€±é–“ã‹ã‹ã‚‹æ©Ÿèƒ½ãŒã€æ•°æ™‚é–“ã§å®Œæˆ\n\n**ç†ç”±2ï¼šåˆ¶ç´„ã®å®Ÿè£…ãŒå®¹æ˜“**\n- `static`ã€`isDraggable`ã€`isResizable`ãªã©ã®åˆ¶ç´„ã‚’ç°¡å˜ã«è¨­å®šã§ãã‚‹\n- ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã”ã¨ã«ç•°ãªã‚‹åˆ¶ç´„ã‚’é©ç”¨å¯èƒ½\n\n**ç†ç”±3ï¼šè±Šå¯Œãªã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒ©**\n- ãƒ‰ãƒ©ãƒƒã‚°é–‹å§‹/ä¸­/çµ‚äº†ã€ãƒªã‚µã‚¤ã‚ºé–‹å§‹/ä¸­/çµ‚äº†ã®ã‚¤ãƒ™ãƒ³ãƒˆã‚’ã‚­ãƒ£ãƒƒãƒã§ãã‚‹\n- ã‚«ã‚¹ã‚¿ãƒ ãƒ­ã‚¸ãƒƒã‚¯ï¼ˆä¾‹ï¼šãƒã‚¤ãƒ©ã‚¤ãƒˆè¡¨ç¤ºã€æ¤œè¨¼ï¼‰ã‚’è¿½åŠ ã—ã‚„ã™ã„\n\n**ç†ç”±4ï¼šãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œ**\n- ãƒ–ãƒ¬ãƒ¼ã‚¯ãƒã‚¤ãƒ³ãƒˆã”ã¨ã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’å®šç¾©ã§ãã‚‹\n- ç”»é¢ã‚µã‚¤ã‚ºã«å¿œã˜ã¦è‡ªå‹•çš„ã«ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’å¤‰æ›´\n\n**ç†ç”±5ï¼šãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹**\n- æœ€é©åŒ–ã•ã‚ŒãŸãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ï¼ˆReact.memoã€shouldComponentUpdateï¼‰\n- å¤§é‡ã®ã‚¢ã‚¤ãƒ†ãƒ ã§ã‚‚ã‚¹ãƒ ãƒ¼ã‚ºã«å‹•ä½œ\n\n## å†ç¾æ–¹æ³•\n\n### ã‚¹ãƒ†ãƒƒãƒ—1ï¼šReact Grid Layoutã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\n\n```bash\nnpm install react-grid-layout\nnpm install --save-dev @types/react-grid-layout\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2ï¼šåŸºæœ¬çš„ãªã‚°ãƒªãƒƒãƒ‰ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’ä½œæˆ\n\n```tsx\nimport React from 'react';\nimport GridLayout from 'react-grid-layout';\nimport 'react-grid-layout/css/styles.css';\nimport 'react-resizable/css/styles.css';\n\nconst MyGridLayout = () => {\n  const layout = [\n    { i: 'a', x: 0, y: 0, w: 6, h: 4 },\n    { i: 'b', x: 6, y: 0, w: 6, h: 4 },\n    { i: 'c', x: 0, y: 4, w: 12, h: 4 },\n  ];\n\n  return (\n    <GridLayout\n      className=\"layout\"\n      layout={layout}\n      cols={12}\n      rowHeight={50}\n      width={600}\n    >\n      <div key=\"a\">A</div>\n      <div key=\"b\">B</div>\n      <div key=\"c\">C</div>\n    </GridLayout>\n  );\n};\n\nexport default MyGridLayout;\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3ï¼šåˆ¶ç´„ã‚’è¿½åŠ \n\n```tsx\nconst layout = [\n  { i: 'header', x: 0, y: 0, w: 12, h: 2, static: true },\n  { i: 'main', x: 0, y: 2, w: 8, h: 8, isDraggable: false, isResizable: true, minH: 6, maxH: 10 },\n  { i: 'sidebar', x: 8, y: 2, w: 4, h: 8, isDraggable: true, isResizable: false },\n];\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—4ï¼šã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒ©ã‚’è¿½åŠ \n\n```tsx\nconst MyGridLayout = () => {\n  const handleLayoutChange = (newLayout) => {\n    console.log('Layout changed:', newLayout);\n  };\n\n  return (\n    <GridLayout\n      // ...\n      onLayoutChange={handleLayoutChange}\n      onDragStop={(layout, oldItem, newItem) => {\n        console.log('Dragged:', oldItem.i, 'to', newItem);\n      }}\n      onResizeStop={(layout, oldItem, newItem) => {\n        console.log('Resized:', oldItem.i, 'to', newItem);\n      }}\n    >\n      {/* ... */}\n    </GridLayout>\n  );\n};\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—5ï¼šã‚¹ã‚¿ã‚¤ãƒ«ã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º\n\n```css\n.react-grid-item {\n  border: 2px solid #e5e7eb;\n  background: white;\n}\n\n.react-grid-item.react-draggable-dragging {\n  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);\n  opacity: 0.9;\n}\n```\n\n## ã„ã¤ä½¿ã†ã‹\n\n- **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚¨ãƒ‡ã‚£ã‚¿**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã§ãã‚‹ã‚¨ãƒ‡ã‚£ã‚¿\n- **ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰**: ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆã‚’ãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—ã§é…ç½®ã§ãã‚‹ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰\n- **ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—**: è¿…é€Ÿã«ãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—æ©Ÿèƒ½ã‚’å®Ÿè£…ã—ãŸã„å ´åˆ\n- **ã‚°ãƒªãƒƒãƒ‰ãƒ™ãƒ¼ã‚¹UI**: ã‚°ãƒªãƒƒãƒ‰ã‚·ã‚¹ãƒ†ãƒ ã‚’ä½¿ã£ãŸãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆãŒå¿…è¦ãªå ´åˆ\n\n## æ³¨æ„ç‚¹\n\n### 1. ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã®è€ƒæ…®\n\nå¤§é‡ã®ã‚¢ã‚¤ãƒ†ãƒ ï¼ˆ100+ï¼‰ã‚’é…ç½®ã™ã‚‹ã¨ã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãŒä½ä¸‹ã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ã€‚\n\n**å¯¾ç­–**:\n- ä»®æƒ³åŒ–ï¼ˆreact-windowï¼‰ã‚’æ¤œè¨\n- ä¸è¦ãªå†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã‚’é˜²ãï¼ˆReact.memoï¼‰\n\n### 2. ãƒ¢ãƒã‚¤ãƒ«å¯¾å¿œ\n\nã‚¿ãƒƒãƒãƒ‡ãƒã‚¤ã‚¹ã§ã¯ã€ãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—ã®æ“ä½œãŒé›£ã—ã„å ´åˆãŒã‚ã‚‹ã€‚\n\n**å¯¾ç­–**:\n- ãƒ–ãƒ¬ãƒ¼ã‚¯ãƒã‚¤ãƒ³ãƒˆã§å°ç”»é¢æ™‚ã¯ç·¨é›†ã‚’ç„¡åŠ¹åŒ–\n- ã‚¿ãƒƒãƒãƒ•ãƒ¬ãƒ³ãƒ‰ãƒªãƒ¼ãªUIï¼ˆãƒœã‚¿ãƒ³ã§ç§»å‹•ï¼‰ã‚’æä¾›\n\n### 3. ã‚°ãƒªãƒƒãƒ‰ã‚µã‚¤ã‚ºã®é¸æŠ\n\nã‚°ãƒªãƒƒãƒ‰ãŒç´°ã‹ã™ãã‚‹ã¨ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒæ··ä¹±ã™ã‚‹ã€‚\n\n**æ¨å¥¨**:\n- 12Ã—12ã‚°ãƒªãƒƒãƒ‰ãŒä¸€èˆ¬çš„\n- ã‚·ãƒ³ãƒ—ãƒ«ãªãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆãªã‚‰6Ã—6ã§ã‚‚å¯\n\n### 4. è¡çªæ¤œå‡ºã®è¨­å®š\n\n`preventCollision={true}` ã‚’è¨­å®šã™ã‚‹ã¨ã€ã‚¢ã‚¤ãƒ†ãƒ ãŒé‡ãªã‚‰ãªã„ãŒã€è‡ªç”±åº¦ãŒä½ããªã‚‹ã€‚\n\n**æ¨å¥¨**:\n- é‡è¤‡ã‚’è¨±å¯ã—ãªã„å ´åˆã¯ `preventCollision={true}`\n- æŸ”è»Ÿãªãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆãŒå¿…è¦ãªå ´åˆã¯ `preventCollision={false}` + ã‚«ã‚¹ã‚¿ãƒ æ¤œè¨¼\n\n### 5. CSSã®ç«¶åˆ\n\nReact Grid Layoutã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚¹ã‚¿ã‚¤ãƒ«ãŒã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ã‚¹ã‚¿ã‚¤ãƒ«ã¨ç«¶åˆã™ã‚‹å ´åˆãŒã‚ã‚‹ã€‚\n\n**å¯¾ç­–**:\n- CSSã®è©³ç´°åº¦ã‚’ä¸Šã’ã‚‹\n- CSS Modulesã‚’ä½¿ç”¨\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `skill_grid_based_layout_system_2025_04_11.md`: ã‚°ãƒªãƒƒãƒ‰ãƒ™ãƒ¼ã‚¹ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚·ã‚¹ãƒ†ãƒ ã®å…¨ä½“åƒ\n- `skill_react_dnd_drag_drop_2025_04_11.md`: React DNDã®å®Ÿè£…ï¼ˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå†…ã®ãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—ï¼‰\n- `decision_tech_react_dnd_vs_dnd_kit_2025_04_11.md`: React DnD vs dnd-kitã®é¸æŠç†ç”±\n",
    "prompt": "### ã‚¹ãƒ†ãƒƒãƒ—1ï¼šReact Grid Layoutã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\n\n```bash\nnpm install react-grid-layout\nnpm install --save-dev @types/react-grid-layout\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2ï¼šåŸºæœ¬çš„ãªã‚°ãƒªãƒƒãƒ‰ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’ä½œæˆ\n\n```tsx\nimport React from 'react';\nimport GridLayout from 'react-grid-layout';\nimport 'react-grid-layout/css/styles.css';\nimport 'react-resizable/css/styles.css';\n\nconst MyGridLayout = () => {\n  const layout = [\n    { i: 'a', x: 0, y: 0, w: 6, h: 4 },\n    { i: 'b', x: 6, y: 0, w: 6, h: 4 },\n    { i: 'c', x: 0, y: 4, w: 12, h: 4 },\n  ];\n\n  return (\n    <GridLayout\n      className=\"layout\"\n      layout={layout}\n      cols={12}\n      rowHeight={50}\n      width={600}\n    >\n      <div key=\"a\">A</div>\n      <div key=\"b\">B</div>\n      <div key=\"c\">C</div>\n    </GridLayout>\n  );\n};\n\nexport default MyGridLayout;\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3ï¼šåˆ¶ç´„ã‚’è¿½åŠ \n\n```tsx\nconst layout = [\n  { i: 'header', x: 0, y: 0, w: 12, h: 2, static: true },\n  { i: 'main', x: 0, y: 2, w: 8, h: 8, isDraggable: false, isResizable: true, minH: 6, maxH: 10 },\n  { i: 'sidebar', x: 8, y: 2, w: 4, h: 8, isDraggable: true, isResizable: false },\n];\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—4ï¼šã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒ©ã‚’è¿½åŠ \n\n```tsx\nconst MyGridLayout = () => {\n  const handleLayoutChange = (newLayout) => {\n    console.log('Layout changed:', newLayout);\n  };\n\n  return (\n    <GridLayout\n      // ...\n      onLayoutChange={handleLayoutChange}\n      onDragStop={(layout, oldItem, newItem) => {\n        console.log('Dragged:', oldItem.i, 'to', newItem);\n      }}\n      onResizeStop={(layout, oldItem, newItem) => {\n        console.log('Resized:', oldItem.i, 'to', newItem);\n      }}\n    >\n      {/* ... */}\n    </GridLayout>\n  );\n};\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—5ï¼šã‚¹ã‚¿ã‚¤ãƒ«ã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º\n\n```css\n.react-grid-item {\n  border: 2px solid #e5e7eb;\n  background: white;\n}\n\n.react-grid-item.react-draggable-dragging {\n  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);\n  opacity: 0.9;\n}\n```",
    "relatedTech": [
      "skill-grid-based-layout-system",
      "skill-react-dnd-drag-drop",
      "decision-tech-react-dnd-vs-dnd-kit"
    ]
  },
  {
    "slug": "relationship-network-analysis",
    "title": "é–¢ä¿‚æ€§ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯åˆ†ææ‰‹æ³•",
    "category": "Skillsï¼ˆã‚¹ã‚­ãƒ«ãƒ»æ‰‹æ³•ï¼‰",
    "description": "AIå°èª¬è‡ªå‹•ç”Ÿæˆã«ãŠã„ã¦ã€ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼é–“ã®é–¢ä¿‚æ€§ã‚’**ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚°ãƒ©ãƒ•**ã¨ã—ã¦ç®¡ç†ã—ã€ã‚¯ãƒ©ã‚¹ã‚¿æ¤œå‡ºãƒ»å½±éŸ¿ãƒãƒƒãƒ—ãƒ»ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ä½ç½®åˆ†æã‚’é€šã˜ã¦ã€ç¤¾ä¼šçš„æ§‹é€ ã¨åŠ›å­¦ã‚’å¯è¦–åŒ–ãƒ»åˆ†æã™ã‚‹æ‰‹æ³•ã€‚14ç¨®é¡ã®é–¢ä¿‚æ€§ã‚¿ã‚¤ãƒ—ã¨å¼·åº¦ã‚¹ã‚±ãƒ¼ãƒ«ã§è©³ç´°ã«è¨˜éŒ²ã™ã‚‹ã€‚",
    "project": "novel-automation-system-v2",
    "usedIn": [
      "src/lib/characters/services/relationship-service.ts:1-72000"
    ],
    "code": "```json\n{\n  \"id\": \"skill_relationship_network_analysis_2025_11_25\",\n  \"type\": \"skill\",\n  \"name\": \"é–¢ä¿‚æ€§ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯åˆ†ææ‰‹æ³•\",\n  \"tags\": [\"é–¢ä¿‚æ€§ç®¡ç†\", \"ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯åˆ†æ\", \"ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼é–¢ä¿‚\", \"AIå°èª¬ç”Ÿæˆ\", \"ã‚°ãƒ©ãƒ•ç†è«–\", \"ç¤¾ä¼šãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯\"],\n  \"source_project\": \"novel-automation-system-v2\",\n  \"source_file\": \"src/lib/characters/services/relationship-service.ts:1-72000\",\n  \"related_knowledge\": [\n    \"skill_seven_service_character_integration_architecture_2025_11_25\",\n    \"decision_fourteen_relationship_types_2025_11_25\"\n  ],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# é–¢ä¿‚æ€§ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯åˆ†ææ‰‹æ³•\n\n## ä½•ã‚’ã™ã‚‹ã‚¹ã‚­ãƒ«ã‹\n\nAIå°èª¬è‡ªå‹•ç”Ÿæˆã«ãŠã„ã¦ã€ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼é–“ã®é–¢ä¿‚æ€§ã‚’**ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚°ãƒ©ãƒ•**ã¨ã—ã¦ç®¡ç†ã—ã€ã‚¯ãƒ©ã‚¹ã‚¿æ¤œå‡ºãƒ»å½±éŸ¿ãƒãƒƒãƒ—ãƒ»ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ä½ç½®åˆ†æã‚’é€šã˜ã¦ã€ç¤¾ä¼šçš„æ§‹é€ ã¨åŠ›å­¦ã‚’å¯è¦–åŒ–ãƒ»åˆ†æã™ã‚‹æ‰‹æ³•ã€‚14ç¨®é¡ã®é–¢ä¿‚æ€§ã‚¿ã‚¤ãƒ—ã¨å¼·åº¦ã‚¹ã‚±ãƒ¼ãƒ«ã§è©³ç´°ã«è¨˜éŒ²ã™ã‚‹ã€‚\n\n## å…·ä½“çš„ãªæ‰‹æ³•\n\n### 14ç¨®é¡ã®é–¢ä¿‚æ€§ã‚¿ã‚¤ãƒ—\n\n```typescript\ntype RelationshipType =\n    // å®¶æ—é–¢ä¿‚\n    | 'PARENT'      // è¦ª\n    | 'CHILD'       // å­\n\n    // æŒ‡å°é–¢ä¿‚\n    | 'MENTOR'      // å¸«åŒ ãƒ»æŒ‡å°è€…\n    | 'STUDENT'     // å¼Ÿå­ãƒ»ç”Ÿå¾’\n\n    // çµ„ç¹”é–¢ä¿‚\n    | 'LEADER'      // ãƒªãƒ¼ãƒ€ãƒ¼\n    | 'FOLLOWER'    // ãƒ•ã‚©ãƒ­ãƒ¯ãƒ¼\n\n    // è¦ªå¯†é–¢ä¿‚\n    | 'LOVER'       // æ‹äºº\n    | 'PROTECTOR'   // å®ˆè­·è€…\n    | 'PROTECTED'   // è¢«ä¿è­·è€…\n\n    // ç¤¾ä¼šé–¢ä¿‚\n    | 'FRIEND'      // å‹äºº\n    | 'ENEMY'       // æ•µ\n    | 'RIVAL'       // ãƒ©ã‚¤ãƒãƒ«\n    | 'COLLEAGUE'   // åŒåƒš\n    | 'NEUTRAL';    // ä¸­ç«‹\n\ninterface Relationship {\n    targetId: string;\n    targetName?: string;\n    type: RelationshipType;\n    strength: number;        // 0-1ã‚¹ã‚±ãƒ¼ãƒ«ï¼ˆ0.8-1.0=éå¸¸ã«å¼·ã„ã€0.5-0.8=å¼·ã„ã€0.2-0.5=ä¸­ç¨‹åº¦ã€<0.2=å¼±ã„ï¼‰\n    description?: string;\n    lastInteraction?: Date;\n    history?: InteractionHistory[];\n}\n```\n\n### ã‚¯ãƒ©ã‚¹ã‚¿æ¤œå‡ºï¼ˆç¤¾ä¼šé›†å›£ã®è­˜åˆ¥ï¼‰\n\n**ç›®çš„**ï¼šç‰©èªå†…ã®ç¤¾ä¼šã‚°ãƒ«ãƒ¼ãƒ—ï¼ˆæ´¾é–¥ã€åŒç›Ÿã€å®¶æ—ãªã©ï¼‰ã‚’è‡ªå‹•æ¤œå‡º\n\n**ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ **ï¼š\n```typescript\ninterface RelationshipCluster {\n    id: string;\n    name: string;\n    members: string[];          // ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ID\n    cohesion: number;           // 0-1ï¼ˆé›†å›£ã®çµæŸåº¦ï¼‰\n    centerCharacter: string;    // ä¸­å¿ƒäººç‰©\n    clusterType: 'FAMILY' | 'FACTION' | 'ALLIANCE' | 'ORGANIZATION';\n}\n\nasync detectRelationshipClusters(): Promise<RelationshipCluster[]> {\n    const allCharacters = await this.characterRepository.getAllCharacters();\n    const clusters: RelationshipCluster[] = [];\n\n    // ã‚°ãƒ©ãƒ•æ§‹ç¯‰\n    const graph = this.buildRelationshipGraph(allCharacters);\n\n    // å¼·é€£çµæˆåˆ†ã®æ¤œå‡º\n    const visited = new Set<string>();\n\n    for (const character of allCharacters) {\n        if (visited.has(character.id)) continue;\n\n        // BFS/DFSã§ã‚¯ãƒ©ã‚¹ã‚¿ã‚’æ¢ç´¢\n        const cluster = this.exploreCluster(character.id, graph, visited);\n\n        if (cluster.members.length >= 2) {  // æœ€ä½2äºº\n            // çµæŸåº¦ã‚’è¨ˆç®—\n            cluster.cohesion = this.calculateCohesion(cluster, graph);\n\n            // ä¸­å¿ƒäººç‰©ã‚’ç‰¹å®š\n            cluster.centerCharacter = this.identifyCenterCharacter(\n                cluster,\n                graph\n            );\n\n            // ã‚¯ãƒ©ã‚¹ã‚¿ã‚¿ã‚¤ãƒ—ã‚’æ¨å®š\n            cluster.clusterType = this.inferClusterType(cluster, graph);\n\n            clusters.push(cluster);\n        }\n    }\n\n    return clusters;\n}\n\nprivate calculateCohesion(\n    cluster: RelationshipCluster,\n    graph: RelationshipGraph\n): number {\n    // å†…éƒ¨æ¥ç¶šæ•° / æœ€å¤§å¯èƒ½æ¥ç¶šæ•°\n    const members = cluster.members;\n    const n = members.length;\n    const maxConnections = (n * (n - 1)) / 2;\n\n    let actualConnections = 0;\n    for (let i = 0; i < n; i++) {\n        for (let j = i + 1; j < n; j++) {\n            if (graph.hasEdge(members[i], members[j])) {\n                actualConnections++;\n            }\n        }\n    }\n\n    return actualConnections / maxConnections;\n}\n```\n\n### å½±éŸ¿ãƒãƒƒãƒ—ã®ç”Ÿæˆ\n\n**ç›®çš„**ï¼šèª°ãŒèª°ã«å½±éŸ¿ã‚’ä¸ãˆã¦ã„ã‚‹ã‹ã‚’å¯è¦–åŒ–\n\n```typescript\ninterface InfluenceMap {\n    characterId: string;\n    directInfluences: Array<{\n        targetId: string;\n        influenceStrength: number;  // 0-1\n        influenceType: 'LEADERSHIP' | 'MENTORSHIP' |\n                       'INSPIRATION' | 'INTIMIDATION';\n    }>;\n    indirectInfluences: Array<{\n        targetId: string;\n        pathLength: number;          // ãƒ›ãƒƒãƒ—æ•°\n        influenceStrength: number;\n        path: string[];              // çµŒè·¯\n    }>;\n    overallInfluenceScore: number;   // 0-1\n}\n\nasync generateInfluenceMap(characterId: string): Promise<InfluenceMap> {\n    const character = await this.characterService.getCharacter(characterId);\n\n    // ç›´æ¥çš„å½±éŸ¿\n    const directInfluences = this.calculateDirectInfluences(character);\n\n    // é–“æ¥çš„å½±éŸ¿ï¼ˆ2-3ãƒ›ãƒƒãƒ—ï¼‰\n    const indirectInfluences = this.calculateIndirectInfluences(\n        characterId,\n        maxHops: 3\n    );\n\n    // ç·åˆå½±éŸ¿åŠ›ã‚¹ã‚³ã‚¢\n    const overallScore = this.calculateOverallInfluence(\n        directInfluences,\n        indirectInfluences\n    );\n\n    return {\n        characterId,\n        directInfluences,\n        indirectInfluences,\n        overallInfluenceScore: overallScore\n    };\n}\n\nprivate calculateDirectInfluences(character: Character): DirectInfluence[] {\n    return character.relationships\n        ?.filter(rel => ['LEADER', 'MENTOR', 'PROTECTOR'].includes(rel.type))\n        .map(rel => ({\n            targetId: rel.targetId,\n            influenceStrength: this.calculateInfluenceStrength(rel),\n            influenceType: this.mapRelationshipToInfluenceType(rel.type)\n        })) || [];\n}\n\nprivate calculateInfluenceStrength(rel: Relationship): number {\n    // é–¢ä¿‚æ€§ã‚¿ã‚¤ãƒ—ã¨å¼·åº¦ã‹ã‚‰å½±éŸ¿åŠ›ã‚’è¨ˆç®—\n    const typeWeight = {\n        'LEADER': 1.0,\n        'MENTOR': 0.9,\n        'PROTECTOR': 0.7,\n        'FRIEND': 0.5\n    }[rel.type] || 0.3;\n\n    return rel.strength * typeWeight;\n}\n```\n\n### ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ä½ç½®åˆ†æ\n\n**ç›®çš„**ï¼šå„ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã®ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯å†…ã§ã®é‡è¦æ€§ã‚’æ¸¬å®š\n\n```typescript\ninterface NetworkPosition {\n    centrality: number;      // ä¸­å¿ƒæ€§ï¼ˆ0-1ï¼‰ï¼šã©ã‚Œã ã‘ä¸­å¿ƒçš„ã‹\n    betweenness: number;     // åª’ä»‹ä¸­å¿ƒæ€§ï¼ˆ0-1ï¼‰ï¼šã‚°ãƒ«ãƒ¼ãƒ—é–“ã®æ©‹æ¸¡ã—åº¦\n    closeness: number;       // è¿‘æ¥ä¸­å¿ƒæ€§ï¼ˆ0-1ï¼‰ï¼šä»–è€…ã¸ã®å¹³å‡è·é›¢\n    clustering: number;      // ã‚¯ãƒ©ã‚¹ã‚¿ãƒªãƒ³ã‚°ä¿‚æ•°ï¼ˆ0-1ï¼‰ï¼šå±€æ‰€çš„å¯†åº¦\n}\n\nasync analyzeNetworkPosition(characterId: string): Promise<NetworkPosition> {\n    const graph = await this.buildFullRelationshipGraph();\n\n    return {\n        centrality: this.calculateDegreeCentrality(characterId, graph),\n        betweenness: this.calculateBetweennessCentrality(characterId, graph),\n        closeness: this.calculateClosenessCentrality(characterId, graph),\n        clustering: this.calculateClusteringCoefficient(characterId, graph)\n    };\n}\n\n// æ¬¡æ•°ä¸­å¿ƒæ€§ï¼šæ¥ç¶šæ•° / æœ€å¤§å¯èƒ½æ¥ç¶šæ•°\nprivate calculateDegreeCentrality(\n    characterId: string,\n    graph: RelationshipGraph\n): number {\n    const connections = graph.getNeighbors(characterId).length;\n    const totalNodes = graph.getNodeCount() - 1;  // è‡ªåˆ†ã‚’é™¤ã\n    return connections / totalNodes;\n}\n\n// åª’ä»‹ä¸­å¿ƒæ€§ï¼šè‡ªåˆ†ã‚’çµŒç”±ã™ã‚‹æœ€çŸ­çµŒè·¯ã®å‰²åˆ\nprivate calculateBetweennessCentrality(\n    characterId: string,\n    graph: RelationshipGraph\n): number {\n    let passingThroughCount = 0;\n    let totalPairs = 0;\n\n    const nodes = graph.getAllNodes();\n\n    for (const source of nodes) {\n        if (source === characterId) continue;\n\n        for (const target of nodes) {\n            if (target === characterId || target === source) continue;\n\n            totalPairs++;\n\n            // æœ€çŸ­çµŒè·¯ã‚’è¨ˆç®—\n            const shortestPaths = this.findAllShortestPaths(\n                source,\n                target,\n                graph\n            );\n\n            // characterIdã‚’çµŒç”±ã™ã‚‹ãƒ‘ã‚¹ã®æ•°\n            const pathsThroughChar = shortestPaths.filter(path =>\n                path.includes(characterId)\n            ).length;\n\n            if (pathsThroughChar > 0) {\n                passingThroughCount += pathsThroughChar / shortestPaths.length;\n            }\n        }\n    }\n\n    return totalPairs > 0 ? passingThroughCount / totalPairs : 0;\n}\n\n// è¿‘æ¥ä¸­å¿ƒæ€§ï¼šä»–ã®å…¨ãƒãƒ¼ãƒ‰ã¸ã®å¹³å‡è·é›¢ã®é€†æ•°\nprivate calculateClosenessCentrality(\n    characterId: string,\n    graph: RelationshipGraph\n): number {\n    const nodes = graph.getAllNodes();\n    let totalDistance = 0;\n\n    for (const node of nodes) {\n        if (node === characterId) continue;\n\n        const distance = this.shortestPathLength(\n            characterId,\n            node,\n            graph\n        );\n\n        if (distance === Infinity) {\n            // åˆ°é”ä¸å¯èƒ½ãªå ´åˆ\n            return 0;\n        }\n\n        totalDistance += distance;\n    }\n\n    const avgDistance = totalDistance / (nodes.length - 1);\n    return 1 / avgDistance;\n}\n```\n\n### é–¢ä¿‚æ€§é€²åŒ–ã®äºˆæ¸¬\n\n```typescript\ninterface RelationshipEvolutionPrediction {\n    character1Id: string;\n    character2Id: string;\n    currentRelationship: Relationship;\n    predictions: Array<{\n        timeframe: string;           // \"5ç« å¾Œ\"\n        predictedType: RelationshipType;\n        predictedStrength: number;\n        confidence: number;          // 0-1\n        reason: string;\n    }>;\n    stabilityScore: number;          // 0-1ï¼ˆå®‰å®šåº¦ï¼‰\n}\n\nasync predictRelationshipEvolution(\n    char1Id: string,\n    char2Id: string\n): Promise<RelationshipEvolutionPrediction> {\n    // ç¾åœ¨ã®é–¢ä¿‚\n    const currentRel = await this.getRelationship(char1Id, char2Id);\n\n    // å±¥æ­´ã‹ã‚‰å‚¾å‘ã‚’åˆ†æ\n    const history = currentRel.history || [];\n    const trend = this.analyzeTrend(history);\n\n    // äºˆæ¸¬ãƒ¢ãƒ‡ãƒ«é©ç”¨\n    const predictions = [\n        {\n            timeframe: \"5ç« å¾Œ\",\n            predictedType: this.predictType(currentRel, trend, 5),\n            predictedStrength: this.predictStrength(currentRel, trend, 5),\n            confidence: trend.confidence,\n            reason: this.explainPrediction(trend)\n        },\n        {\n            timeframe: \"10ç« å¾Œ\",\n            predictedType: this.predictType(currentRel, trend, 10),\n            predictedStrength: this.predictStrength(currentRel, trend, 10),\n            confidence: trend.confidence * 0.8,  // é•·æœŸäºˆæ¸¬ã¯ä¿¡é ¼åº¦ä½ä¸‹\n            reason: this.explainPrediction(trend)\n        }\n    ];\n\n    // å®‰å®šåº¦ã‚¹ã‚³ã‚¢\n    const stabilityScore = this.calculateStability(history);\n\n    return {\n        character1Id: char1Id,\n        character2Id: char2Id,\n        currentRelationship: currentRel,\n        predictions,\n        stabilityScore\n    };\n}\n```\n\n## ãªãœã“ã®æ‰‹æ³•ã‚’ä½¿ã†ã‹\n\n**ç†ç”±1ï¼šç‰©èªã®ç¤¾ä¼šæ§‹é€ ã®å¯è¦–åŒ–**\nã‚¯ãƒ©ã‚¹ã‚¿æ¤œå‡ºã«ã‚ˆã‚Šï¼š\n- ã©ã®ã‚°ãƒ«ãƒ¼ãƒ—ãŒã‚ã‚‹ã‹æ˜ç¢º\n- æ´¾é–¥é–“ã®å¯¾ç«‹ã‚’æå†™\n- å­¤ç«‹ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã®ç™ºè¦‹\n\n**ç†ç”±2ï¼šã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼é‡è¦åº¦ã®å®¢è¦³çš„æ¸¬å®š**\nãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ä½ç½®åˆ†æã§ï¼š\n- èª°ãŒä¸­å¿ƒäººç‰©ã‹å®šé‡çš„ã«åˆ¤å®š\n- æ©‹æ¸¡ã—å½¹ã®ç‰¹å®š\n- è„‡å½¹ã®å½¹å‰²æ˜ç¢ºåŒ–\n\n**ç†ç”±3ï¼šç‰©èªå±•é–‹ã®ãƒ’ãƒ³ãƒˆ**\nå½±éŸ¿ãƒãƒƒãƒ—ã‹ã‚‰ï¼š\n- ãƒ‘ãƒ¯ãƒ¼ãƒãƒ©ãƒ³ã‚¹ã®å¤‰åŒ–ã‚’è¿½è·¡\n- èª°ãŒèª°ã«å½±éŸ¿ã‚’ä¸ãˆã‚‹ã‹äºˆæ¸¬\n- é‡è¦ãªå¯¾ç«‹è»¸ã®ç™ºè¦‹\n\n**ç†ç”±4ï¼šAIç”Ÿæˆã®æ”¹å–„**\nãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯åˆ†æçµæœã‚’ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã«çµ±åˆï¼š\n```typescript\nconst networkInfo = `\nã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã€Œ${character.name}ã€ã®ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ä½ç½®ï¼š\n- ä¸­å¿ƒæ€§ï¼š${position.centrality} ï¼ˆ${position.centrality > 0.7 ? 'ä¸­å¿ƒäººç‰©' : 'å‘¨è¾ºäººç‰©'}ï¼‰\n- åª’ä»‹æ€§ï¼š${position.betweenness} ï¼ˆ${position.betweenness > 0.5 ? 'ã‚°ãƒ«ãƒ¼ãƒ—é–“ã®æ©‹æ¸¡ã—å½¹' : ''})\n- æ‰€å±ã‚¯ãƒ©ã‚¹ã‚¿ï¼š${cluster.name}\n- ã‚¯ãƒ©ã‚¹ã‚¿å†…ã§ã®å½¹å‰²ï¼š${cluster.centerCharacter === character.id ? 'ä¸­å¿ƒ' : 'ãƒ¡ãƒ³ãƒãƒ¼'}\n`;\n```\n\n## å†ç¾æ–¹æ³•\n\n### ã‚¹ãƒ†ãƒƒãƒ—1ï¼šé–¢ä¿‚æ€§ã®è¨˜éŒ²\n\n```typescript\nawait relationshipService.addRelationship(\n    'char-allen',\n    {\n        targetId: 'char-matias',\n        type: 'STUDENT',  // ã‚¢ãƒ¬ãƒ³ã¯ãƒãƒ†ã‚£ã‚¢ã‚¹ã®å¼Ÿå­\n        strength: 0.8,\n        description: 'å¤ä»£é­”æ³•ã®ä¿®è¡Œã‚’å—ã‘ã¦ã„ã‚‹'\n    }\n);\n\n// åŒæ–¹å‘é–¢ä¿‚ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰\nawait relationshipService.addRelationship(\n    'char-matias',\n    {\n        targetId: 'char-allen',\n        type: 'MENTOR',  // ãƒãƒ†ã‚£ã‚¢ã‚¹ã¯ã‚¢ãƒ¬ãƒ³ã®å¸«åŒ \n        strength: 0.8,\n        description: 'å°†æ¥ã‚’æœŸå¾…ã—ã¦ã„ã‚‹å¼Ÿå­'\n    }\n);\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2ï¼šã‚¯ãƒ©ã‚¹ã‚¿ã®æ¤œå‡º\n\n```typescript\nconst clusters = await relationshipService.detectRelationshipClusters();\n\nconsole.log(clusters);\n// [\n//     {\n//         id: \"cluster-001\",\n//         name: \"ä¸»äººå…¬ã®å†’é™ºãƒ‘ãƒ¼ãƒ†ã‚£\",\n//         members: [\"char-allen\", \"char-sara\", \"char-leo\"],\n//         cohesion: 0.85,\n//         centerCharacter: \"char-allen\",\n//         clusterType: \"ALLIANCE\"\n//     },\n//     {\n//         id: \"cluster-002\",\n//         name: \"æ•µå¯¾çµ„ç¹”\",\n//         members: [\"char-villain\", \"char-minion1\", \"char-minion2\"],\n//         cohesion: 0.92,\n//         centerCharacter: \"char-villain\",\n//         clusterType: \"ORGANIZATION\"\n//     }\n// ]\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3ï¼šå½±éŸ¿ãƒãƒƒãƒ—ã®ç”Ÿæˆ\n\n```typescript\nconst influenceMap = await relationshipService.generateInfluenceMap('char-allen');\n\nconsole.log(influenceMap);\n// {\n//     characterId: \"char-allen\",\n//     directInfluences: [\n//         {\n//             targetId: \"char-sara\",\n//             influenceStrength: 0.6,\n//             influenceType: \"INSPIRATION\"\n//         }\n//     ],\n//     indirectInfluences: [\n//         {\n//             targetId: \"char-villager1\",\n//             pathLength: 2,\n//             influenceStrength: 0.3,\n//             path: [\"char-allen\", \"char-sara\", \"char-villager1\"]\n//         }\n//     ],\n//     overallInfluenceScore: 0.45\n// }\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—4ï¼šãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ä½ç½®åˆ†æ\n\n```typescript\nconst position = await relationshipService.analyzeNetworkPosition('char-allen');\n\nconsole.log(position);\n// {\n//     centrality: 0.75,      // ä¸­å¿ƒçš„äººç‰©\n//     betweenness: 0.62,     // ã‚°ãƒ«ãƒ¼ãƒ—é–“ã®æ©‹æ¸¡ã—\n//     closeness: 0.80,       // ä»–è€…ã¨ã®è·é›¢ãŒè¿‘ã„\n//     clustering: 0.55       // å‘¨å›²ã®å¯†åº¦ã¯ä¸­ç¨‹åº¦\n// }\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—5ï¼šé–¢ä¿‚æ€§é€²åŒ–ã®äºˆæ¸¬\n\n```typescript\nconst evolution = await relationshipService.predictRelationshipEvolution(\n    'char-allen',\n    'char-sara'\n);\n\nconsole.log(evolution);\n// {\n//     currentRelationship: { type: \"FRIEND\", strength: 0.6 },\n//     predictions: [\n//         {\n//             timeframe: \"5ç« å¾Œ\",\n//             predictedType: \"LOVER\",\n//             predictedStrength: 0.75,\n//             confidence: 0.7,\n//             reason: \"ç›¸äº’ä½œç”¨ã®å¢—åŠ ã¨æ„Ÿæƒ…çš„è¦ªå¯†åº¦ã®ä¸Šæ˜‡å‚¾å‘\"\n//         }\n//     ],\n//     stabilityScore: 0.65\n// }\n```\n\n## ã„ã¤ä½¿ã†ã‹\n\n**é©ç”¨å ´é¢1ï¼šè¤‡é›‘ãªäººé–“é–¢ä¿‚ã®ç‰©èª**\n- æ”¿æ²»ãƒ‰ãƒ©ãƒ\n- å­¦åœ’ç‰©\n- ãƒ•ã‚¡ãƒ³ã‚¿ã‚¸ãƒ¼ï¼ˆæ´¾é–¥ãƒ»åŒç›Ÿï¼‰\n\n**é©ç”¨å ´é¢2ï¼šé•·ç·¨ã§ã®é–¢ä¿‚æ€§è¿½è·¡**\n- 50ç« ä»¥ä¸Šã®é•·ç·¨\n- å¤šæ•°ã®ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼\n- é–¢ä¿‚æ€§ã®å¤‰åŒ–ã‚’ç®¡ç†\n\n**é©ç”¨å ´é¢3ï¼šAIç”Ÿæˆã®å“è³ªå‘ä¸Š**\n- ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯æƒ…å ±ã‚’ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã«çµ±åˆ\n- ä¸€è²«æ€§ã®ã‚ã‚‹é–¢ä¿‚æ€§æå†™\n- ç¤¾ä¼šçš„æ–‡è„ˆã®æä¾›\n\n**é©ç”¨å ´é¢4ï¼šç‰©èªè¨­è¨ˆã®æ”¯æ´**\n- ãƒ—ãƒ­ãƒƒãƒˆæ§‹ç¯‰æ™‚ã«ç¤¾ä¼šæ§‹é€ ã‚’è¨­è¨ˆ\n- é‡è¦ãªé–¢ä¿‚æ€§ã‚’ç‰¹å®š\n- ç‰©èªã®ç·Šå¼µã‚’ç”Ÿã‚€å¯¾ç«‹è»¸ã®ç™ºè¦‹\n\n## æ³¨æ„ç‚¹\n\n**æ³¨æ„ç‚¹1ï¼šè¨ˆç®—ã‚³ã‚¹ãƒˆ**\nå…¨ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã®ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯åˆ†æã¯é‡ã„ï¼š\n```typescript\n// ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’æ´»ç”¨\nprivate networkCache: Map<string, { data: any; timestamp: number }> = new Map();\nprivate readonly CACHE_TTL = 30 * 60 * 1000;  // 30åˆ†\n```\n\n**æ³¨æ„ç‚¹2ï¼šã‚°ãƒ©ãƒ•ã®æ–¹å‘æ€§**\né–¢ä¿‚æ€§ã¯æ–¹å‘æ€§ã‚’æŒã¤ï¼ˆAâ†’Bã¨Bâ†’Aã¯ç•°ãªã‚‹ï¼‰ï¼š\n```typescript\n// æœ‰å‘ã‚°ãƒ©ãƒ•ã¨ã—ã¦æ‰±ã†\nconst relationship_A_to_B = graph.getEdge('A', 'B');  // Aâ†’B\nconst relationship_B_to_A = graph.getEdge('B', 'A');  // Bâ†’A\n```\n\n**æ³¨æ„ç‚¹3ï¼šå­¤ç«‹ãƒãƒ¼ãƒ‰ã®å‡¦ç†**\né–¢ä¿‚æ€§ãŒãªã„ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã®æ‰±ã„ï¼š\n```typescript\nif (character.relationships?.length === 0) {\n    return {\n        centrality: 0,\n        betweenness: 0,\n        closeness: 0,\n        clustering: 0,\n        note: 'å­¤ç«‹ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼'\n    };\n}\n```\n\n**æ³¨æ„ç‚¹4ï¼šé–¢ä¿‚æ€§ã®æ›´æ–°é »åº¦**\næ¯ç« æ›´æ–°ã™ã‚‹ã¨è² è·ãŒé«˜ã„ï¼š\n```typescript\n// é‡è¦ãªå¤‰åŒ–ãŒã‚ã£ãŸæ™‚ã®ã¿æ›´æ–°\nif (significantInteraction || chapterNumber % 5 === 0) {\n    await relationshipService.updateRelationship(...);\n}\n```\n\n**æ³¨æ„ç‚¹5ï¼šäºˆæ¸¬ã®ä¸ç¢ºå®Ÿæ€§**\né–¢ä¿‚æ€§é€²åŒ–ã®äºˆæ¸¬ã¯ç¢ºç‡çš„ï¼š\n```typescript\n// ä¿¡é ¼åº¦ã‚’å¿…ãšæç¤º\nconsole.log(`äºˆæ¸¬: ${prediction.predictedType} (ä¿¡é ¼åº¦: ${prediction.confidence})`);\n```\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `skill_seven_service_character_integration_architecture_2025_11_25.md`ï¼šRelationshipServiceã®çµ±åˆ\n- `decision_fourteen_relationship_types_2025_11_25.md`ï¼šãªãœ14ã‚¿ã‚¤ãƒ—ãªã®ã‹\n- `workflow_relationship_update_cycle_2025_11_25.md`ï¼šé–¢ä¿‚æ€§æ›´æ–°ã®ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼\n",
    "prompt": "### ã‚¹ãƒ†ãƒƒãƒ—1ï¼šé–¢ä¿‚æ€§ã®è¨˜éŒ²\n\n```typescript\nawait relationshipService.addRelationship(\n    'char-allen',\n    {\n        targetId: 'char-matias',\n        type: 'STUDENT',  // ã‚¢ãƒ¬ãƒ³ã¯ãƒãƒ†ã‚£ã‚¢ã‚¹ã®å¼Ÿå­\n        strength: 0.8,\n        description: 'å¤ä»£é­”æ³•ã®ä¿®è¡Œã‚’å—ã‘ã¦ã„ã‚‹'\n    }\n);\n\n// åŒæ–¹å‘é–¢ä¿‚ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰\nawait relationshipService.addRelationship(\n    'char-matias',\n    {\n        targetId: 'char-allen',\n        type: 'MENTOR',  // ãƒãƒ†ã‚£ã‚¢ã‚¹ã¯ã‚¢ãƒ¬ãƒ³ã®å¸«åŒ \n        strength: 0.8,\n        description: 'å°†æ¥ã‚’æœŸå¾…ã—ã¦ã„ã‚‹å¼Ÿå­'\n    }\n);\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2ï¼šã‚¯ãƒ©ã‚¹ã‚¿ã®æ¤œå‡º\n\n```typescript\nconst clusters = await relationshipService.detectRelationshipClusters();\n\nconsole.log(clusters);\n// [\n//     {\n//         id: \"cluster-001\",\n//         name: \"ä¸»äººå…¬ã®å†’é™ºãƒ‘ãƒ¼ãƒ†ã‚£\",\n//         members: [\"char-allen\", \"char-sara\", \"char-leo\"],\n//         cohesion: 0.85,\n//         centerCharacter: \"char-allen\",\n//         clusterType: \"ALLIANCE\"\n//     },\n//     {\n//         id: \"cluster-002\",\n//         name: \"æ•µå¯¾çµ„ç¹”\",\n//         members: [\"char-villain\", \"char-minion1\", \"char-minion2\"],\n//         cohesion: 0.92,\n//         centerCharacter: \"char-villain\",\n//         clusterType: \"ORGANIZATION\"\n//     }\n// ]\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3ï¼šå½±éŸ¿ãƒãƒƒãƒ—ã®ç”Ÿæˆ\n\n```typescript\nconst influenceMap = await relationshipService.generateInfluenceMap('char-allen');\n\nconsole.log(influenceMap);\n// {\n//     characterId: \"char-allen\",\n//     directInfluences: [\n//         {\n//             targetId: \"char-sara\",\n//             influenceStrength: 0.6,\n//             influenceType: \"INSPIRATION\"\n//         }\n//     ],\n//     indirectInfluences: [\n//         {\n//             targetId: \"char-villager1\",\n//             pathLength: 2,\n//             influenceStrength: 0.3,\n//             path: [\"char-allen\", \"char-sara\", \"char-villager1\"]\n//         }\n//     ],\n//     overallInfluenceScore: 0.45\n// }\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—4ï¼šãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ä½ç½®åˆ†æ\n\n```typescript\nconst position = await relationshipService.analyzeNetworkPosition('char-allen');\n\nconsole.log(position);\n// {\n//     centrality: 0.75,      // ä¸­å¿ƒçš„äººç‰©\n//     betweenness: 0.62,     // ã‚°ãƒ«ãƒ¼ãƒ—é–“ã®æ©‹æ¸¡ã—\n//     closeness: 0.80,       // ä»–è€…ã¨ã®è·é›¢ãŒè¿‘ã„\n//     clustering: 0.55       // å‘¨å›²ã®å¯†åº¦ã¯ä¸­ç¨‹åº¦\n// }\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—5ï¼šé–¢ä¿‚æ€§é€²åŒ–ã®äºˆæ¸¬\n\n```typescript\nconst evolution = await relationshipService.predictRelationshipEvolution(\n    'char-allen',\n    'char-sara'\n);\n\nconsole.log(evolution);\n// {\n//     currentRelationship: { type: \"FRIEND\", strength: 0.6 },\n//     predictions: [\n//         {\n//             timeframe: \"5ç« å¾Œ\",\n//             predictedType: \"LOVER\",\n//             predictedStrength: 0.75,\n//             confidence: 0.7,\n//             reason: \"ç›¸äº’ä½œç”¨ã®å¢—åŠ ã¨æ„Ÿæƒ…çš„è¦ªå¯†åº¦ã®ä¸Šæ˜‡å‚¾å‘\"\n//         }\n//     ],\n//     stabilityScore: 0.65\n// }\n```",
    "relatedTech": [
      "skill-seven-service-character-integration-architecture",
      "decision-fourteen-relationship-types"
    ]
  },
  {
    "slug": "request-counter-logging",
    "title": "APIãƒªã‚¯ã‚¨ã‚¹ãƒˆæ•°ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼å®Ÿè£…ï¼ˆãƒ‡ãƒãƒƒã‚°ç”¨ï¼‰",
    "category": "Skillsï¼ˆã‚¹ã‚­ãƒ«ãƒ»æ‰‹æ³•ï¼‰",
    "description": "Google Sheets APIã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆæ•°ã‚’ã‚«ã‚¦ãƒ³ãƒˆã—ã€ãƒ­ã‚°ã‚’è¨˜éŒ²ã™ã‚‹ã“ã¨ã§ã€APIã‚¯ã‚©ãƒ¼ã‚¿è¶…éå•é¡Œã‚’ãƒ‡ãƒãƒƒã‚°ã™ã‚‹ã€‚",
    "project": "yumesuta-management-system",
    "usedIn": [
      "lib/google-sheets.ts:9-40"
    ],
    "code": "```json\n{\n  \"id\": \"skill_request_counter_logging_2025_11_24\",\n  \"type\": \"skill\",\n  \"name\": \"APIãƒªã‚¯ã‚¨ã‚¹ãƒˆæ•°ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼å®Ÿè£…ï¼ˆãƒ‡ãƒãƒƒã‚°ç”¨ï¼‰\",\n  \"tags\": [\"Google Sheets API\", \"ãƒ‡ãƒãƒƒã‚°\", \"ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼\", \"ãƒ­ã‚®ãƒ³ã‚°\", \"ã‚¯ã‚©ãƒ¼ã‚¿ç®¡ç†\"],\n  \"source_project\": \"yumesuta-management-system\",\n  \"source_file\": \"lib/google-sheets.ts:9-40\",\n  \"related_knowledge\": [\"failure_api_quota_exceeded_crisis_2025_11_24\", \"skill_cache_stats_introspection_2025_11_24\"],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-24\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# APIãƒªã‚¯ã‚¨ã‚¹ãƒˆæ•°ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼å®Ÿè£…ï¼ˆãƒ‡ãƒãƒƒã‚°ç”¨ï¼‰\n\n## ä½•ã‚’ã™ã‚‹ã‚¹ã‚­ãƒ«ã‹\n\nGoogle Sheets APIã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆæ•°ã‚’ã‚«ã‚¦ãƒ³ãƒˆã—ã€ãƒ­ã‚°ã‚’è¨˜éŒ²ã™ã‚‹ã“ã¨ã§ã€APIã‚¯ã‚©ãƒ¼ã‚¿è¶…éå•é¡Œã‚’ãƒ‡ãƒãƒƒã‚°ã™ã‚‹ã€‚\n\n## å…·ä½“çš„ãªæ‰‹æ³•\n\n```typescript\n// lib/google-sheets.ts\n\ninterface RequestLog {\n  timestamp: string;\n  type: 'getSheetData' | 'getBatchSheetData' | 'getSpreadsheetMetadata';\n  spreadsheetId: string;\n  range?: string;\n  ranges?: string[];\n}\n\nlet requestCount = 0;\nlet requestLogs: RequestLog[] = [];\n\nexport function getRequestCount(): number {\n  return requestCount;\n}\n\nexport function getRequestLogs(): RequestLog[] {\n  return requestLogs;\n}\n\nexport function resetRequestCount(): void {\n  requestCount = 0;\n  requestLogs = [];\n  console.log('ğŸ”„ Request counter reset');\n}\n\nfunction logRequest(log: RequestLog): void {\n  requestCount++;\n  requestLogs.push(log);\n  console.log(`[Google Sheets API] Request #${requestCount}: ${log.type} - ${log.range || log.ranges?.join(', ') || 'metadata'}`);\n}\n\n// å„APIé–¢æ•°ã§logRequestå‘¼ã³å‡ºã—\nexport async function getSheetData(spreadsheetId: string, range: string): Promise<any[][]> {\n  logRequest({ timestamp: new Date().toISOString(), type: 'getSheetData', spreadsheetId, range });\n  // APIå‘¼ã³å‡ºã—\n}\n```\n\n## ãªãœã“ã®æ‰‹æ³•ã‚’ä½¿ã†ã‹\n\n**ç†ç”±1ï¼šã‚¯ã‚©ãƒ¼ã‚¿è¶…éå•é¡Œã®ãƒ‡ãƒãƒƒã‚°**\n- å„ãƒšãƒ¼ã‚¸ãŒã©ã®ãã‚‰ã„ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ç™ºè¡Œã—ã¦ã„ã‚‹ã‹å¯è¦–åŒ–\n- ã‚¯ã‚©ãƒ¼ã‚¿è¶…éã®åŸå› ã‚’ç‰¹å®š\n\n**ç†ç”±2ï¼šAPIæœ€é©åŒ–ã®æŒ‡é‡**\n- ã©ã®APIãŒæœ€ã‚‚å‘¼ã°ã‚Œã¦ã„ã‚‹ã‹åˆ†æ\n- çµ±åˆAPIå®Ÿè£…ã®å„ªå…ˆé †ä½æ±ºå®š\n\n## å†ç¾æ–¹æ³•\n\n```typescript\n// 1. lib/google-sheets.tsã«ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼å®Ÿè£…\nlet requestCount = 0;\nlet requestLogs: RequestLog[] = [];\n\nexport function getRequestCount(): number {\n  return requestCount;\n}\n\nexport function logRequest(log: RequestLog): void {\n  requestCount++;\n  requestLogs.push(log);\n  console.log(`[API] Request #${requestCount}: ${log.type}`);\n}\n\n// 2. API Route ã§ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ã‚’ç¢ºèª\nimport { getRequestCount } from '@/lib/google-sheets';\n\nexport async function GET() {\n  const data = await getSheetData(...);\n  console.log(`Total requests: ${getRequestCount()}`);\n  return NextResponse.json({ success: true, data });\n}\n```\n\n## ã„ã¤ä½¿ã†ã‹\n\n- APIã‚¯ã‚©ãƒ¼ã‚¿è¶…éå•é¡Œã®ãƒ‡ãƒãƒƒã‚°\n- APIæœ€é©åŒ–ã®åˆ†æ\n- ãƒªã‚¯ã‚¨ã‚¹ãƒˆæ•°ã®å¯è¦–åŒ–\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `failure_api_quota_exceeded_crisis_2025_11_24.md` - Google Sheets APIã‚¯ã‚©ãƒ¼ã‚¿è¶…éå±æ©Ÿ\n- `skill_cache_stats_introspection_2025_11_24.md` - ã‚­ãƒ£ãƒƒã‚·ãƒ¥çµ±è¨ˆå–å¾—é–¢æ•°\n",
    "prompt": "```typescript\n// 1. lib/google-sheets.tsã«ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼å®Ÿè£…\nlet requestCount = 0;\nlet requestLogs: RequestLog[] = [];\n\nexport function getRequestCount(): number {\n  return requestCount;\n}\n\nexport function logRequest(log: RequestLog): void {\n  requestCount++;\n  requestLogs.push(log);\n  console.log(`[API] Request #${requestCount}: ${log.type}`);\n}\n\n// 2. API Route ã§ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ã‚’ç¢ºèª\nimport { getRequestCount } from '@/lib/google-sheets';\n\nexport async function GET() {\n  const data = await getSheetData(...);\n  console.log(`Total requests: ${getRequestCount()}`);\n  return NextResponse.json({ success: true, data });\n}\n```",
    "relatedTech": [
      "failure-api-quota-exceeded-crisis",
      "skill-cache-stats-introspection"
    ]
  },
  {
    "slug": "resolution-timing-evaluation",
    "title": "ä¼ç·šè§£æ±ºã‚¿ã‚¤ãƒŸãƒ³ã‚°ã®è©•ä¾¡ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ",
    "category": "Skillsï¼ˆã‚¹ã‚­ãƒ«ãƒ»æ‰‹æ³•ï¼‰",
    "description": "ãƒ’ãƒ¥ãƒ¼ãƒªã‚¹ãƒ†ã‚£ãƒƒã‚¯è©•ä¾¡ï¼ˆãƒ«ãƒ¼ãƒ«ãƒ™ãƒ¼ã‚¹ï¼‰ã¨AIè©•ä¾¡ï¼ˆæ–‡è„ˆç†è§£ï¼‰ã‚’çµ„ã¿åˆã‚ã›ã€ä¼ç·šè§£æ±ºã®æœ€é©ãªã‚¿ã‚¤ãƒŸãƒ³ã‚°ã‚’70:30ã®é‡ã¿ä»˜ã‘ã§åˆ¤æ–­ã™ã‚‹æ‰‹æ³•ã€‚",
    "project": "novel-automation-system-v2",
    "usedIn": [
      "src/lib/foreshadowing/resolution-advisor.ts:100-300"
    ],
    "code": "```json\n{\n  \"id\": \"skill_resolution_timing_evaluation_2025_11_25\",\n  \"type\": \"skill\",\n  \"name\": \"ä¼ç·šè§£æ±ºã‚¿ã‚¤ãƒŸãƒ³ã‚°ã®è©•ä¾¡ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ \",\n  \"tags\": [\"ä¼ç·šç®¡ç†\", \"ã‚¿ã‚¤ãƒŸãƒ³ã‚°è©•ä¾¡\", \"AIè©•ä¾¡\", \"ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ\", \"ç‰©èªè¨­è¨ˆ\"],\n  \"source_project\": \"novel-automation-system-v2\",\n  \"source_file\": \"src/lib/foreshadowing/resolution-advisor.ts:100-300\",\n  \"related_knowledge\": [\n    \"skill_unified_foreshadowing_management_2025_11_25\",\n    \"decision_why_hybrid_foreshadowing_evaluation_2025_11_25\"\n  ],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# ä¼ç·šè§£æ±ºã‚¿ã‚¤ãƒŸãƒ³ã‚°ã®è©•ä¾¡ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ \n\n## ä½•ã‚’ã™ã‚‹ã‚¹ã‚­ãƒ«ã‹\n\nãƒ’ãƒ¥ãƒ¼ãƒªã‚¹ãƒ†ã‚£ãƒƒã‚¯è©•ä¾¡ï¼ˆãƒ«ãƒ¼ãƒ«ãƒ™ãƒ¼ã‚¹ï¼‰ã¨AIè©•ä¾¡ï¼ˆæ–‡è„ˆç†è§£ï¼‰ã‚’çµ„ã¿åˆã‚ã›ã€ä¼ç·šè§£æ±ºã®æœ€é©ãªã‚¿ã‚¤ãƒŸãƒ³ã‚°ã‚’70:30ã®é‡ã¿ä»˜ã‘ã§åˆ¤æ–­ã™ã‚‹æ‰‹æ³•ã€‚\n\n## å…·ä½“çš„ãªæ‰‹æ³•\n\n### ãƒ’ãƒ¥ãƒ¼ãƒªã‚¹ãƒ†ã‚£ãƒƒã‚¯è©•ä¾¡\n\n```typescript\nprivate evaluateResolutionTiming(\n    foreshadowing: Foreshadowing,\n    currentChapter: number\n): number {\n    const chaptersElapsed = currentChapter - foreshadowing.chapter_introduced;\n\n    // æœ€ä½3ç« ã®çµŒéã‚’è¦æ±‚ï¼ˆèª­è€…ã®è¨˜æ†¶å®šç€æœŸé–“ï¼‰\n    if (chaptersElapsed < 3) return 0.2;\n\n    // è¨ˆç”»è§£æ±ºæ™‚æœŸãŒã‚ã‚‹å ´åˆ\n    if (foreshadowing.plannedResolution) {\n        const timingDiff = Math.abs(currentChapter - foreshadowing.plannedResolution);\n        if (timingDiff === 0) return 0.9;  // è¨ˆç”»é€šã‚Šãªã‚‰æœ€é«˜è©•ä¾¡\n        if (timingDiff <= 3) return 0.7;   // 3ç« ä»¥å†…ãªã‚‰é«˜è©•ä¾¡\n        return 0.3;\n    }\n\n    // é•·æœŸæœªè§£æ±ºã®å ´åˆ\n    if (chaptersElapsed >= 15) return 0.8;  // 15ç« ä»¥ä¸Šãªã‚‰è§£æ±ºã‚’æ¨å¥¨\n    if (chaptersElapsed >= 10) return 0.6;\n    return 0.4;\n}\n```\n\n**ã“ã®ãƒ­ã‚¸ãƒƒã‚¯ã‚’é¸ã‚“ã ç†ç”±**:\n- 3ç« : èª­è€…ãŒä¼ç·šã‚’è¨˜æ†¶ã—ã¤ã¤ã€é•·ã™ããªã„æœŸé–“\n- 15ç« : é•·ç·¨ã§ã‚‚è§£æ±ºã™ã¹ãä¸Šé™\n- è¨ˆç”»ã¨ã®å·®3ç« : æŸ”è»Ÿæ€§ã‚’æŒãŸã›ãŸè¨±å®¹ç¯„å›²\n\n### AIè©•ä¾¡ã¨ã®çµ±åˆ\n\n```typescript\nprivate async evaluateWithAI(\n    foreshadowing: Foreshadowing,\n    chapterContent: string,\n    chapterNumber: number\n): Promise<AIEvaluation> {\n    // ã‚¿ã‚¤ãƒŸãƒ³ã‚°è©•ä¾¡ï¼ˆç¢ºå®Ÿï¼‰\n    const timingConfidence = this.evaluateResolutionTiming(foreshadowing, chapterNumber);\n\n    // AIè©•ä¾¡ï¼ˆæ–‡è„ˆï¼‰\n    const aiResponse = await this.geminiClient.generateText(\n        `ä¼ç·šã€Œ${foreshadowing.description}ã€ã®è§£æ±ºå¯èƒ½æ€§ã‚’è©•ä¾¡ã—ã¦ãã ã•ã„ã€‚`,\n        { temperature: 0.1 }\n    );\n\n    const aiEvaluation = this.parseEvaluationResponse(aiResponse);\n\n    // é‡ã¿ä»˜ã‘çµ±åˆ: AI 70% + ã‚¿ã‚¤ãƒŸãƒ³ã‚° 30%\n    aiEvaluation.confidence =\n        (aiEvaluation.confidence * 0.7) + (timingConfidence * 0.3);\n\n    return aiEvaluation;\n}\n```\n\n## ãªãœã“ã®æ‰‹æ³•ã‚’ä½¿ã†ã‹\n\n**ç†ç”±1: ç²¾åº¦ã¨åŠ¹ç‡ã®ãƒãƒ©ãƒ³ã‚¹**\n- ãƒ’ãƒ¥ãƒ¼ãƒªã‚¹ãƒ†ã‚£ãƒƒã‚¯: é«˜é€Ÿã§ç¢ºå®Ÿ\n- AI: æ–‡è„ˆã‚’æ·±ãç†è§£\n- çµ„ã¿åˆã‚ã›ã§ä¸¡æ–¹ã®é•·æ‰€ã‚’æ´»ç”¨\n\n**ç†ç”±2: è¨ˆç”»ã¨æŸ”è»Ÿæ€§ã®ä¸¡ç«‹**\n- è¨ˆç”»è§£æ±ºæ™‚æœŸã‚’å°Šé‡\n- æ–‡è„ˆã«å¿œã˜ãŸèª¿æ•´ã‚‚å¯èƒ½\n- ç‰©èªã®è‡ªç„¶ãªæµã‚Œã‚’ç¶­æŒ\n\n**ç†ç”±3: èª­è€…ä½“é¨“ã®æœ€é©åŒ–**\n- 3ç« ã§è¨˜æ†¶å®šç€\n- 15ç« ã§è§£æ±ºã—ãªã„ã¨å¿˜å´\n- ãƒ‡ãƒ¼ã‚¿é§†å‹•ã®æœŸé–“è¨­å®š\n\n## å†ç¾æ–¹æ³•\n\n```typescript\nconst advisor = new ForeshadowingResolutionAdvisor(memoryManager);\n\nconst recommendations = await advisor.getResolutionRecommendations(\n    currentChapter,\n    { minConfidence: 0.7 }\n);\n\nfor (const rec of recommendations) {\n    console.log(`${rec.foreshadowing.description}: ${rec.confidence}`);\n}\n```\n\n## ã„ã¤ä½¿ã†ã‹\n\n- ç« ç”Ÿæˆå‰ã®ä¼ç·šãƒã‚§ãƒƒã‚¯\n- è¨ˆç”»ã¨ã®ä¹–é›¢ç¢ºèª\n- æœªè§£æ±ºä¼ç·šã®è­¦å‘Š\n\n## æ³¨æ„ç‚¹\n\n- AIè©•ä¾¡ã¯ã‚³ã‚¹ãƒˆãŒã‹ã‹ã‚‹ï¼ˆå¿…è¦æ™‚ã®ã¿å®Ÿè¡Œï¼‰\n- é‡ã¿ä»˜ã‘70:30ã¯èª¿æ•´å¯èƒ½\n- è¨ˆç”»è§£æ±ºæ™‚æœŸã®è¨­å®šã‚’æ¨å¥¨\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `skill_unified_foreshadowing_management_2025_11_25.md`\n- `decision_why_hybrid_foreshadowing_evaluation_2025_11_25.md`\n",
    "prompt": "```typescript\nconst advisor = new ForeshadowingResolutionAdvisor(memoryManager);\n\nconst recommendations = await advisor.getResolutionRecommendations(\n    currentChapter,\n    { minConfidence: 0.7 }\n);\n\nfor (const rec of recommendations) {\n    console.log(`${rec.foreshadowing.description}: ${rec.confidence}`);\n}\n```",
    "relatedTech": [
      "skill-unified-foreshadowing-management",
      "decision-why-hybrid-foreshadowing-evaluation"
    ]
  },
  {
    "slug": "scene-structure-analysis-techniques",
    "title": "ã‚·ãƒ¼ãƒ³æ§‹é€ åˆ†æã¨ãƒ†ã‚­ã‚¹ãƒˆçµ±è¨ˆ",
    "category": "Skillsï¼ˆã‚¹ã‚­ãƒ«ãƒ»æ‰‹æ³•ï¼‰",
    "description": "ç« ã‚’è¤‡æ•°ã®ã‚·ãƒ¼ãƒ³ã«åˆ†å‰²ã—ã€å„ã‚·ãƒ¼ãƒ³ã®ã‚¿ã‚¤ãƒ—ï¼ˆå°å…¥ãƒ»å±•é–‹ãƒ»ã‚¯ãƒ©ã‚¤ãƒãƒƒã‚¯ã‚¹ç­‰ï¼‰ã‚’åˆ†é¡ã™ã‚‹ã€‚åŒæ™‚ã«æ–‡å­—æ•°ãƒ»æ–‡æ•°ãƒ»æ®µè½æ•°ãƒ»å¯¾è©±å‰²åˆãªã©ã®ãƒ†ã‚­ã‚¹ãƒˆçµ±è¨ˆã‚’ç®—å‡ºã—ã€ç« ã®æ§‹é€ ã‚’å®šé‡çš„ã«æŠŠæ¡ã™ã‚‹æ‰‹æ³•ã€‚",
    "project": "novel-automation-system-v2",
    "usedIn": [
      "src/lib/analysis/services/chapter/chapter-analysis-service.ts:800-1100"
    ],
    "code": "```json\n{\n  \"id\": \"skill_scene_structure_analysis_techniques_2025_11_25\",\n  \"type\": \"skill\",\n  \"name\": \"ã‚·ãƒ¼ãƒ³æ§‹é€ åˆ†æã¨ãƒ†ã‚­ã‚¹ãƒˆçµ±è¨ˆ\",\n  \"tags\": [\"ã‚·ãƒ¼ãƒ³åˆ†æ\", \"ç‰©èªæ§‹é€ \", \"ãƒ†ã‚­ã‚¹ãƒˆçµ±è¨ˆ\", \"AIåˆ†æ\", \"ç« åˆ†æ\"],\n  \"source_project\": \"novel-automation-system-v2\",\n  \"source_file\": \"src/lib/analysis/services/chapter/chapter-analysis-service.ts:800-1100\",\n  \"related_knowledge\": [\"skill_multi_dimensional_quality_evaluation_2025_11_25\"],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# ã‚·ãƒ¼ãƒ³æ§‹é€ åˆ†æã¨ãƒ†ã‚­ã‚¹ãƒˆçµ±è¨ˆ\n\n## ä½•ã‚’ã™ã‚‹ã‚¹ã‚­ãƒ«ã‹\n\nç« ã‚’è¤‡æ•°ã®ã‚·ãƒ¼ãƒ³ã«åˆ†å‰²ã—ã€å„ã‚·ãƒ¼ãƒ³ã®ã‚¿ã‚¤ãƒ—ï¼ˆå°å…¥ãƒ»å±•é–‹ãƒ»ã‚¯ãƒ©ã‚¤ãƒãƒƒã‚¯ã‚¹ç­‰ï¼‰ã‚’åˆ†é¡ã™ã‚‹ã€‚åŒæ™‚ã«æ–‡å­—æ•°ãƒ»æ–‡æ•°ãƒ»æ®µè½æ•°ãƒ»å¯¾è©±å‰²åˆãªã©ã®ãƒ†ã‚­ã‚¹ãƒˆçµ±è¨ˆã‚’ç®—å‡ºã—ã€ç« ã®æ§‹é€ ã‚’å®šé‡çš„ã«æŠŠæ¡ã™ã‚‹æ‰‹æ³•ã€‚\n\n## å…·ä½“çš„ãªæ‰‹æ³•\n\n### 1. ã‚·ãƒ¼ãƒ³å‹å®šç¾©\n\n```typescript\ninterface Scene {\n  id: string;\n  type: 'INTRODUCTION' | 'DEVELOPMENT' | 'CLIMAX' | 'RESOLUTION' | 'TRANSITION';\n  title: string;\n  startPosition: number;\n  endPosition: number;\n  characters: string[];\n  location: string;\n  summary: string;\n}\n```\n\n**ã‚·ãƒ¼ãƒ³ã‚¿ã‚¤ãƒ—ã®æ„å‘³**ï¼š\n- **INTRODUCTION**: å°å…¥ã‚·ãƒ¼ãƒ³ï¼ˆçŠ¶æ³èª¬æ˜ã€ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ç™»å ´ï¼‰\n- **DEVELOPMENT**: å±•é–‹ã‚·ãƒ¼ãƒ³ï¼ˆç‰©èªãŒé€²è¡Œã€å•é¡Œç™ºç”Ÿï¼‰\n- **CLIMAX**: ã‚¯ãƒ©ã‚¤ãƒãƒƒã‚¯ã‚¹ã‚·ãƒ¼ãƒ³ï¼ˆç·Šå¼µã®ãƒ”ãƒ¼ã‚¯ã€é‡è¦ãªè»¢æ›ç‚¹ï¼‰\n- **RESOLUTION**: è§£æ±ºã‚·ãƒ¼ãƒ³ï¼ˆå•é¡Œã®è§£æ±ºã€çµè«–ï¼‰\n- **TRANSITION**: ç§»è¡Œã‚·ãƒ¼ãƒ³ï¼ˆå ´é¢è»¢æ›ã€æ™‚é–“çµŒéï¼‰\n\n### 2. AIãƒ™ãƒ¼ã‚¹ã‚·ãƒ¼ãƒ³æŠ½å‡º\n\n```typescript\nasync extractScenes(content: string): Promise<Scene[]> {\n  const scenePrompt = `\nä»¥ä¸‹ã®å°èª¬ã®ç« ã‹ã‚‰ã‚·ãƒ¼ãƒ³åˆ†å‰²ã—ã¦ãã ã•ã„ã€‚\n\n${content.substring(0, 7000)}\n\nå„ã‚·ãƒ¼ãƒ³ã«ã¯ä»¥ä¸‹ã®æƒ…å ±ã‚’å«ã‚ã¦ãã ã•ã„:\n1. ã‚¿ã‚¤ãƒ— (INTRODUCTION, DEVELOPMENT, CLIMAX, RESOLUTION, TRANSITION)\n2. ã‚¿ã‚¤ãƒˆãƒ« (å†…å®¹ã‚’ç«¯çš„ã«è¡¨ã™)\n3. ç™»å ´ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼\n4. å ´æ‰€\n5. ç°¡æ½”ãªè¦ç´„\n\nJSONãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ:\n[\n  {\n    \"type\": \"ã‚·ãƒ¼ãƒ³ã‚¿ã‚¤ãƒ—\",\n    \"title\": \"ã‚·ãƒ¼ãƒ³ã‚¿ã‚¤ãƒˆãƒ«\",\n    \"characters\": [\"ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼1\", \"ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼2\"],\n    \"location\": \"å ´æ‰€\",\n    \"summary\": \"è¦ç´„\"\n  }\n]\n  `;\n\n  const response = await this.geminiAdapter.generateText(scenePrompt, {\n    temperature: 0.3,  // æ§‹é€ åˆ†æã¯ä½æ¸©åº¦ã§ä¸€è²«æ€§ã‚’é‡è¦–\n    maxOutputTokens: 2000\n  });\n\n  const scenes = this.parseSceneResponse(response);\n\n  return scenes.map((scene, index) => ({\n    ...scene,\n    id: `scene_${index + 1}`,\n    startPosition: index * 1000,  // æ¦‚ç®—ä½ç½®\n    endPosition: (index + 1) * 1000\n  }));\n}\n```\n\n### 3. ãƒ†ã‚­ã‚¹ãƒˆçµ±è¨ˆåˆ†æ\n\n```typescript\ninterface TextStatistics {\n  wordCount: number;              // å˜èª/æ–‡å­—æ•°\n  sentenceCount: number;          // æ–‡æ•°\n  paragraphCount: number;         // æ®µè½æ•°\n  averageSentenceLength: number;  // å¹³å‡æ–‡é•·\n  dialoguePercentage?: number;    // å¯¾è©±å‰²åˆ (%)\n}\n\nprivate analyzeTextStatistics(content: string): TextStatistics {\n  // æ®µè½æ•°\n  const paragraphCount = content.split(/\\n\\s*\\n/).length;\n\n  // æ–‡æ•°ï¼ˆæ—¥æœ¬èªãƒ»è‹±èªä¸¡å¯¾å¿œï¼‰\n  const sentenceCount = content.split(/[ã€‚.ï¼!ï¼Ÿ?]\\s*/)\n    .filter(s => s.trim().length > 0).length;\n\n  // å˜èª/æ–‡å­—æ•°\n  const wordCount = this.countWords(content);\n\n  // å¹³å‡æ–‡é•·\n  const averageSentenceLength = sentenceCount > 0\n    ? Math.round(wordCount / sentenceCount * 10) / 10\n    : 0;\n\n  // å¯¾è©±å‰²åˆ\n  const dialogueMatches = content.match(/ã€Œ([^ã€]*)ã€/g) || [];\n  const totalDialogueLength = dialogueMatches.reduce(\n    (sum, dialogue) => sum + dialogue.length, 0\n  );\n  const dialoguePercentage = Math.round(\n    totalDialogueLength / content.length * 1000\n  ) / 10;\n\n  return {\n    wordCount,\n    sentenceCount,\n    paragraphCount,\n    averageSentenceLength,\n    dialoguePercentage\n  };\n}\n```\n\n**å˜èªã‚«ã‚¦ãƒ³ãƒˆï¼ˆæ—¥æœ¬èªå¯¾å¿œï¼‰**ï¼š\n```typescript\nprivate countWords(content: string): number {\n  // æ—¥æœ¬èªã®å ´åˆã¯æ–‡å­—æ•°ã€è‹±èªã®å ´åˆã¯å˜èªæ•°\n  const hasJapanese = /[ã-ã‚“ã‚¡-ãƒ¶ä¸€-é¾¯]/.test(content);\n\n  if (hasJapanese) {\n    // æ—¥æœ¬èªï¼šç©ºç™½ãƒ»æ”¹è¡Œã‚’é™¤ã„ãŸæ–‡å­—æ•°\n    return content.replace(/\\s+/g, '').length;\n  } else {\n    // è‹±èªï¼šç©ºç™½ã§åŒºåˆ‡ã‚‰ã‚ŒãŸå˜èªæ•°\n    return content.split(/\\s+/).filter(w => w.length > 0).length;\n  }\n}\n```\n\n### 4. ã‚·ãƒ¼ãƒ³æ§‹é€ ã®å¯è¦–åŒ–\n\n```typescript\ninterface SceneStructureAnalysis {\n  totalScenes: number;\n  sceneBreakdown: {\n    INTRODUCTION: number;\n    DEVELOPMENT: number;\n    CLIMAX: number;\n    RESOLUTION: number;\n    TRANSITION: number;\n  };\n  averageSceneLength: number;\n  sceneFlow: string[];  // ã‚·ãƒ¼ãƒ³ã‚¿ã‚¤ãƒ—ã®æµã‚Œ\n  structureQuality: number;  // æ§‹é€ å“è³ªã‚¹ã‚³ã‚¢ (0-1)\n}\n\nasync analyzeSceneStructure(scenes: Scene[]): Promise<SceneStructureAnalysis> {\n  const sceneBreakdown = {\n    INTRODUCTION: 0,\n    DEVELOPMENT: 0,\n    CLIMAX: 0,\n    RESOLUTION: 0,\n    TRANSITION: 0\n  };\n\n  scenes.forEach(scene => {\n    sceneBreakdown[scene.type]++;\n  });\n\n  const sceneFlow = scenes.map(s => s.type);\n\n  // æ§‹é€ å“è³ªè©•ä¾¡ï¼ˆç†æƒ³çš„ãªã‚·ãƒ¼ãƒ³æ§‹æˆã«è¿‘ã„ã‹ï¼‰\n  const structureQuality = this.evaluateStructureQuality(sceneFlow);\n\n  return {\n    totalScenes: scenes.length,\n    sceneBreakdown,\n    averageSceneLength: this.calculateAverageSceneLength(scenes),\n    sceneFlow,\n    structureQuality\n  };\n}\n```\n\n**æ§‹é€ å“è³ªã®è©•ä¾¡**ï¼š\n```typescript\nprivate evaluateStructureQuality(sceneFlow: string[]): number {\n  let quality = 1.0;\n\n  // ãƒã‚§ãƒƒã‚¯1: å°å…¥ã‚·ãƒ¼ãƒ³ãŒæœ€åˆã«ã‚ã‚‹ã‹\n  if (sceneFlow[0] !== 'INTRODUCTION') {\n    quality -= 0.2;\n  }\n\n  // ãƒã‚§ãƒƒã‚¯2: ã‚¯ãƒ©ã‚¤ãƒãƒƒã‚¯ã‚¹ãŒå­˜åœ¨ã™ã‚‹ã‹\n  if (!sceneFlow.includes('CLIMAX')) {\n    quality -= 0.3;\n  }\n\n  // ãƒã‚§ãƒƒã‚¯3: è§£æ±ºã‚·ãƒ¼ãƒ³ãŒæœ€å¾Œã«ã‚ã‚‹ã‹\n  if (sceneFlow[sceneFlow.length - 1] !== 'RESOLUTION') {\n    quality -= 0.1;\n  }\n\n  // ãƒã‚§ãƒƒã‚¯4: åŒã˜ã‚¿ã‚¤ãƒ—ã®ã‚·ãƒ¼ãƒ³ãŒé€£ç¶šã—ã™ãã¦ã„ãªã„ã‹\n  let consecutiveCount = 1;\n  for (let i = 1; i < sceneFlow.length; i++) {\n    if (sceneFlow[i] === sceneFlow[i - 1]) {\n      consecutiveCount++;\n      if (consecutiveCount > 2) {\n        quality -= 0.1;\n      }\n    } else {\n      consecutiveCount = 1;\n    }\n  }\n\n  return Math.max(0, Math.min(1, quality));\n}\n```\n\n### 5. å¯¾è©±ã¨æå†™ã®ãƒãƒ©ãƒ³ã‚¹åˆ†æ\n\n```typescript\ninterface DialogueDescriptionBalance {\n  dialogueRatio: number;      // å¯¾è©±å‰²åˆ (0-1)\n  descriptionRatio: number;   // æå†™å‰²åˆ (0-1)\n  actionRatio: number;        // ã‚¢ã‚¯ã‚·ãƒ§ãƒ³å‰²åˆ (0-1)\n  balance: 'DIALOGUE_HEAVY' | 'DESCRIPTION_HEAVY' | 'BALANCED' | 'ACTION_HEAVY';\n}\n\nprivate analyzeDialogueDescriptionBalance(content: string): DialogueDescriptionBalance {\n  const totalLength = content.length;\n\n  // å¯¾è©±éƒ¨åˆ†ã®æŠ½å‡º\n  const dialogueMatches = content.match(/ã€Œ([^ã€]*)ã€/g) || [];\n  const dialogueLength = dialogueMatches.reduce(\n    (sum, d) => sum + d.length, 0\n  );\n\n  // ã‚¢ã‚¯ã‚·ãƒ§ãƒ³å‹•è©ã®ã‚«ã‚¦ãƒ³ãƒˆ\n  const actionVerbs = ['èµ°ã‚‹', 'é£›ã¶', 'æŠ•ã’ã‚‹', 'å«ã¶', 'é§†ã‘ã‚‹', 'è·³ã¶'];\n  const actionCount = actionVerbs.reduce(\n    (sum, verb) => sum + (content.match(new RegExp(verb, 'g')) || []).length, 0\n  );\n  const actionRatio = Math.min(0.3, actionCount / 100); // æ¦‚ç®—\n\n  const dialogueRatio = dialogueLength / totalLength;\n  const descriptionRatio = 1 - dialogueRatio - actionRatio;\n\n  // ãƒãƒ©ãƒ³ã‚¹åˆ¤å®š\n  let balance: DialogueDescriptionBalance['balance'];\n  if (dialogueRatio > 0.5) {\n    balance = 'DIALOGUE_HEAVY';\n  } else if (descriptionRatio > 0.6) {\n    balance = 'DESCRIPTION_HEAVY';\n  } else if (actionRatio > 0.2) {\n    balance = 'ACTION_HEAVY';\n  } else {\n    balance = 'BALANCED';\n  }\n\n  return {\n    dialogueRatio,\n    descriptionRatio,\n    actionRatio,\n    balance\n  };\n}\n```\n\n## ãªãœã“ã®æ‰‹æ³•ã‚’ä½¿ã†ã‹\n\n**ç†ç”±1ï¼šæ§‹é€ ã®å¯è¦–åŒ–**\n- ã‚·ãƒ¼ãƒ³åˆ†å‰²ã§ç« ã®æ§‹é€ ãŒæ˜ç¢ºã«ãªã‚‹\n- ã©ã“ã«å°å…¥ãƒ»ã‚¯ãƒ©ã‚¤ãƒãƒƒã‚¯ã‚¹ãƒ»è§£æ±ºãŒã‚ã‚‹ã‹ä¸€ç›®ç­ç„¶\n- æ§‹é€ çš„ãªå•é¡Œã‚’æ—©æœŸç™ºè¦‹\n\n**ç†ç”±2ï¼šå®šé‡çš„ãªå“è³ªè©•ä¾¡**\n- æ–‡å­—æ•°ãƒ»æ–‡æ•°ãªã©ã®å®¢è¦³çš„æŒ‡æ¨™\n- å¯¾è©±å‰²åˆã§ãƒãƒ©ãƒ³ã‚¹ã‚’è©•ä¾¡\n- ä¸»è¦³ã«é ¼ã‚‰ãªã„å“è³ªåˆ¤æ–­\n\n**ç†ç”±3ï¼šAIã¨çµ±è¨ˆã®ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰**\n- ã‚·ãƒ¼ãƒ³åˆ†é¡ï¼šAIã§æ–‡è„ˆç†è§£\n- ãƒ†ã‚­ã‚¹ãƒˆçµ±è¨ˆï¼šãƒ«ãƒ¼ãƒ«ãƒ™ãƒ¼ã‚¹ã§ç¢ºå®Ÿ\n- ä¸¡è€…ã®çµ„ã¿åˆã‚ã›ã§ç·åˆçš„åˆ†æ\n\n## å†ç¾æ–¹æ³•\n\n```typescript\nimport { ChapterAnalysisService } from '@/lib/analysis/services/chapter';\n\nconst analysisService = new ChapterAnalysisService(geminiAdapter);\n\n// ã‚¹ãƒ†ãƒƒãƒ—1: ã‚·ãƒ¼ãƒ³æŠ½å‡º\nconst scenes = await analysisService.extractScenes(chapterContent);\nconsole.log(`ã‚·ãƒ¼ãƒ³æ•°: ${scenes.length}`);\nscenes.forEach(scene => {\n  console.log(`- [${scene.type}] ${scene.title}`);\n});\n\n// ã‚¹ãƒ†ãƒƒãƒ—2: ãƒ†ã‚­ã‚¹ãƒˆçµ±è¨ˆ\nconst stats = analysisService.analyzeTextStatistics(chapterContent);\nconsole.log(`æ–‡å­—æ•°: ${stats.wordCount}`);\nconsole.log(`æ–‡æ•°: ${stats.sentenceCount}`);\nconsole.log(`å¹³å‡æ–‡é•·: ${stats.averageSentenceLength}`);\nconsole.log(`å¯¾è©±å‰²åˆ: ${stats.dialoguePercentage}%`);\n\n// ã‚¹ãƒ†ãƒƒãƒ—3: ã‚·ãƒ¼ãƒ³æ§‹é€ åˆ†æ\nconst structure = await analysisService.analyzeSceneStructure(scenes);\nconsole.log(`æ§‹é€ å“è³ª: ${structure.structureQuality}`);\nconsole.log(`ã‚·ãƒ¼ãƒ³ãƒ•ãƒ­ãƒ¼: ${structure.sceneFlow.join(' â†’ ')}`);\n\n// ã‚¹ãƒ†ãƒƒãƒ—4: å¯¾è©±ãƒ»æå†™ãƒãƒ©ãƒ³ã‚¹\nconst balance = analysisService.analyzeDialogueDescriptionBalance(chapterContent);\nconsole.log(`ãƒãƒ©ãƒ³ã‚¹: ${balance.balance}`);\nconsole.log(`å¯¾è©±: ${balance.dialogueRatio.toFixed(2)}, æå†™: ${balance.descriptionRatio.toFixed(2)}`);\n```\n\n## ã„ã¤ä½¿ã†ã‹\n\n- **ç« ç”Ÿæˆç›´å¾Œ**ï¼šæ§‹é€ ã¨ãƒãƒ©ãƒ³ã‚¹ã‚’å³åº§ã«ç¢ºèª\n- **å“è³ªãƒ¬ãƒ“ãƒ¥ãƒ¼æ™‚**ï¼šãƒ†ã‚­ã‚¹ãƒˆçµ±è¨ˆã§å®¢è¦³çš„è©•ä¾¡\n- **æ§‹é€ æ”¹å–„æ™‚**ï¼šã‚·ãƒ¼ãƒ³ãƒ•ãƒ­ãƒ¼ã‚’åˆ†æã—ã¦å•é¡Œç®‡æ‰€ç‰¹å®š\n- **æ¯”è¼ƒåˆ†ææ™‚**ï¼šè¤‡æ•°ç« ã®çµ±è¨ˆã‚’æ¯”è¼ƒã—ã¦ãƒˆãƒ¬ãƒ³ãƒ‰æŠŠæ¡\n- **åŸ·ç­†æŒ‡é‡æ±ºå®šæ™‚**ï¼šå¯¾è©±å‰²åˆç­‰ã®ç›®æ¨™å€¤è¨­å®š\n\n## æ³¨æ„ç‚¹\n\n- **AIåˆ†æã®ç²¾åº¦é™ç•Œ**ï¼šã‚·ãƒ¼ãƒ³åˆ†é¡ãŒå®Œç’§ã§ã¯ãªã„\n- **æ—¥æœ¬èªç‰¹æœ‰ã®å‡¦ç†**ï¼šæ–‡åŒºåˆ‡ã‚Šã‚„å˜èªã‚«ã‚¦ãƒ³ãƒˆãŒè¤‡é›‘\n- **ã‚¸ãƒ£ãƒ³ãƒ«ã«ã‚ˆã‚‹é•ã„**ï¼šå¯¾è©±é‡è¦–ã®ã‚¸ãƒ£ãƒ³ãƒ«ã‚‚ã‚ã‚Œã°æå†™é‡è¦–ã‚‚ã‚ã‚‹\n- **çµ±è¨ˆã®è§£é‡ˆ**ï¼šæ•°å€¤ã ã‘ã§ãªãæ–‡è„ˆã‚‚è€ƒæ…®ãŒå¿…è¦\n- **å‡¦ç†ã‚³ã‚¹ãƒˆ**ï¼šAIåˆ†æã¯æ™‚é–“ãŒã‹ã‹ã‚‹\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `skill_multi_dimensional_quality_evaluation_2025_11_25.md`ï¼šå“è³ªè©•ä¾¡ã¨ã®çµ±åˆ\n",
    "prompt": "```typescript\nimport { ChapterAnalysisService } from '@/lib/analysis/services/chapter';\n\nconst analysisService = new ChapterAnalysisService(geminiAdapter);\n\n// ã‚¹ãƒ†ãƒƒãƒ—1: ã‚·ãƒ¼ãƒ³æŠ½å‡º\nconst scenes = await analysisService.extractScenes(chapterContent);\nconsole.log(`ã‚·ãƒ¼ãƒ³æ•°: ${scenes.length}`);\nscenes.forEach(scene => {\n  console.log(`- [${scene.type}] ${scene.title}`);\n});\n\n// ã‚¹ãƒ†ãƒƒãƒ—2: ãƒ†ã‚­ã‚¹ãƒˆçµ±è¨ˆ\nconst stats = analysisService.analyzeTextStatistics(chapterContent);\nconsole.log(`æ–‡å­—æ•°: ${stats.wordCount}`);\nconsole.log(`æ–‡æ•°: ${stats.sentenceCount}`);\nconsole.log(`å¹³å‡æ–‡é•·: ${stats.averageSentenceLength}`);\nconsole.log(`å¯¾è©±å‰²åˆ: ${stats.dialoguePercentage}%`);\n\n// ã‚¹ãƒ†ãƒƒãƒ—3: ã‚·ãƒ¼ãƒ³æ§‹é€ åˆ†æ\nconst structure = await analysisService.analyzeSceneStructure(scenes);\nconsole.log(`æ§‹é€ å“è³ª: ${structure.structureQuality}`);\nconsole.log(`ã‚·ãƒ¼ãƒ³ãƒ•ãƒ­ãƒ¼: ${structure.sceneFlow.join(' â†’ ')}`);\n\n// ã‚¹ãƒ†ãƒƒãƒ—4: å¯¾è©±ãƒ»æå†™ãƒãƒ©ãƒ³ã‚¹\nconst balance = analysisService.analyzeDialogueDescriptionBalance(chapterContent);\nconsole.log(`ãƒãƒ©ãƒ³ã‚¹: ${balance.balance}`);\nconsole.log(`å¯¾è©±: ${balance.dialogueRatio.toFixed(2)}, æå†™: ${balance.descriptionRatio.toFixed(2)}`);\n```",
    "relatedTech": [
      "skill-multi-dimensional-quality-evaluation"
    ]
  },
  {
    "slug": "scene-structure-pacing-optimization",
    "title": "ã‚·ãƒ¼ãƒ³æ§‹é€ æœ€é©åŒ–ã‚¨ãƒ³ã‚¸ãƒ³",
    "category": "Skillsï¼ˆã‚¹ã‚­ãƒ«ãƒ»æ‰‹æ³•ï¼‰",
    "description": "ã‚·ãƒ¼ãƒ³ã®ã‚¿ã‚¤ãƒ—ãƒ»é•·ã•ãƒ»é·ç§»ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’åˆ†æã—ã€ãƒãƒ©ãƒ³ã‚¹ã®å–ã‚ŒãŸæ¬¡ç« æ§‹æˆã‚’æ¨å¥¨ã™ã‚‹æ‰‹æ³•ã€‚éå»ã®ç« ã‹ã‚‰ã‚·ãƒ¼ãƒ³ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’æŠ½å‡ºã—ã€èª­è€…ã®ç–²åŠ´å›é¿ã¨ç·Šå¼µç¶­æŒã®ãƒãƒ©ãƒ³ã‚¹ã‚’æœ€é©åŒ–ã™ã‚‹ã€‚",
    "project": "novel-automation-system-v2",
    "usedIn": [
      "src/lib/analysis/services/narrative/scene-structure-optimizer.ts:59-88"
    ],
    "code": "```json\n{\n  \"id\": \"skill_scene_structure_pacing_optimization_2025_11_25\",\n  \"type\": \"skill\",\n  \"name\": \"ã‚·ãƒ¼ãƒ³æ§‹é€ æœ€é©åŒ–ã‚¨ãƒ³ã‚¸ãƒ³\",\n  \"tags\": [\"ã‚·ãƒ¼ãƒ³åˆ†æ\", \"ãƒšãƒ¼ã‚·ãƒ³ã‚°\", \"æ§‹é€ æœ€é©åŒ–\", \"é·ç§»ãƒ‘ã‚¿ãƒ¼ãƒ³\", \"ãƒãƒ©ãƒ³ã‚¹èª¿æ•´\"],\n  \"source_project\": \"novel-automation-system-v2\",\n  \"source_file\": \"src/lib/analysis/services/narrative/scene-structure-optimizer.ts:59-88\",\n  \"related_knowledge\": [],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# ã‚·ãƒ¼ãƒ³æ§‹é€ æœ€é©åŒ–ã‚¨ãƒ³ã‚¸ãƒ³\n\n## ä½•ã‚’ã™ã‚‹ã‚¹ã‚­ãƒ«ã‹\n\nã‚·ãƒ¼ãƒ³ã®ã‚¿ã‚¤ãƒ—ãƒ»é•·ã•ãƒ»é·ç§»ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’åˆ†æã—ã€ãƒãƒ©ãƒ³ã‚¹ã®å–ã‚ŒãŸæ¬¡ç« æ§‹æˆã‚’æ¨å¥¨ã™ã‚‹æ‰‹æ³•ã€‚éå»ã®ç« ã‹ã‚‰ã‚·ãƒ¼ãƒ³ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’æŠ½å‡ºã—ã€èª­è€…ã®ç–²åŠ´å›é¿ã¨ç·Šå¼µç¶­æŒã®ãƒãƒ©ãƒ³ã‚¹ã‚’æœ€é©åŒ–ã™ã‚‹ã€‚\n\n## å…·ä½“çš„ãªæ‰‹æ³•\n\n### ã‚·ãƒ¼ãƒ³åˆ†é¡\n\n```typescript\nexport enum SceneType {\n  ACTION = 'action',           // ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ï¼ˆæˆ¦é—˜ã€è¿½è·¡ãªã©ï¼‰\n  DIALOGUE = 'dialogue',       // å¯¾è©±ï¼ˆä¼šè©±ä¸­å¿ƒï¼‰\n  INTROSPECTION = 'introspection', // å†…çœï¼ˆå¿ƒç†æå†™ï¼‰\n  DESCRIPTION = 'description',  // æå†™ï¼ˆç’°å¢ƒã€èƒŒæ™¯ï¼‰\n  TRANSITION = 'transition',   // é·ç§»ï¼ˆå ´é¢è»¢æ›ï¼‰\n  REVELATION = 'revelation',   // é–‹ç¤ºï¼ˆçœŸå®Ÿã®ç™ºè¦šï¼‰\n  CONFLICT = 'conflict',       // å¯¾ç«‹ï¼ˆã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼é–“ã®è¡çªï¼‰\n  RESOLUTION = 'resolution'    // è§£æ±ºï¼ˆå•é¡Œã®è§£æ¶ˆï¼‰\n}\n```\n\n### ã‚³ã‚¢å®Ÿè£…\n\n```typescript\n// src/lib/analysis/services/narrative/scene-structure-optimizer.ts:59-88\nexport class SceneStructureOptimizer {\n  // ã‚·ãƒ¼ãƒ³æ§‹é€ ã®åˆ†æ\n  analyzeSceneStructure(chapters: Chapter[]): SceneStructureAnalysis {\n    const scenes: SceneInfo[] = [];\n\n    // å…¨ç« ã‹ã‚‰ã‚·ãƒ¼ãƒ³æƒ…å ±ã‚’æŠ½å‡º\n    for (const chapter of chapters) {\n      if (chapter.scenes && Array.isArray(chapter.scenes)) {\n        const chapterScenes = chapter.scenes.map(scene => ({\n          title: scene.title,\n          type: scene.type as SceneType,\n          characters: scene.characters,\n          location: scene.location,\n          summary: scene.summary,\n          length: this.calculateSceneLength(scene),\n          pov: scene.pov,\n          emotionalIntensity: scene.emotionalIntensity || 0.5\n        }));\n\n        scenes.push(...chapterScenes);\n      }\n    }\n\n    // ãƒ‘ã‚¿ãƒ¼ãƒ³åˆ†æ\n    return {\n      typeDistribution: this.calculateTypeDistribution(scenes),\n      lengthDistribution: this.calculateLengthDistribution(scenes),\n      paceVariation: this.calculatePaceVariation(scenes),\n      transitionTypes: this.analyzeTransitionTypes(scenes),\n      povsDistribution: this.calculatePOVsDistribution(scenes),\n      emotionalCurve: this.analyzeEmotionalCurve(scenes)\n    };\n  }\n\n  // ã‚·ãƒ¼ãƒ³ã‚¿ã‚¤ãƒ—ã®åˆ†å¸ƒè¨ˆç®—\n  private calculateTypeDistribution(scenes: SceneInfo[]): Map<SceneType, number> {\n    const distribution = new Map<SceneType, number>();\n\n    for (const scene of scenes) {\n      const count = distribution.get(scene.type) || 0;\n      distribution.set(scene.type, count + 1);\n    }\n\n    return distribution;\n  }\n\n  // é•·ã•ã®åˆ†å¸ƒè¨ˆç®—\n  private calculateLengthDistribution(scenes: SceneInfo[]): LengthDistribution {\n    const lengths = scenes.map(s => s.length);\n\n    return {\n      min: Math.min(...lengths),\n      max: Math.max(...lengths),\n      average: lengths.reduce((a, b) => a + b, 0) / lengths.length,\n      median: this.calculateMedian(lengths),\n      stdDev: this.calculateStdDev(lengths)\n    };\n  }\n\n  // ãƒšãƒ¼ã‚¹å¤‰å‹•ã®åˆ†æ\n  private calculatePaceVariation(scenes: SceneInfo[]): PaceVariation {\n    const paces = scenes.map(scene => {\n      // ã‚·ãƒ¼ãƒ³ã‚¿ã‚¤ãƒ—ã«åŸºã¥ããƒšãƒ¼ã‚¹ï¼ˆ1-10ï¼‰\n      const basePace = this.getBasePace(scene.type);\n      // é•·ã•ã§èª¿æ•´\n      const lengthFactor = scene.length / 1000; // 1000æ–‡å­—ã‚’åŸºæº–\n      return basePace * lengthFactor;\n    });\n\n    return {\n      average: paces.reduce((a, b) => a + b, 0) / paces.length,\n      variation: this.calculateStdDev(paces),\n      peaks: this.findPeaks(paces),\n      valleys: this.findValleys(paces)\n    };\n  }\n\n  // é·ç§»ãƒ‘ã‚¿ãƒ¼ãƒ³ã®åˆ†æ\n  private analyzeTransitionTypes(scenes: SceneInfo[]): TransitionAnalysis {\n    const transitions: Transition[] = [];\n\n    for (let i = 0; i < scenes.length - 1; i++) {\n      const from = scenes[i];\n      const to = scenes[i + 1];\n\n      transitions.push({\n        from: from.type,\n        to: to.type,\n        locationChange: from.location !== to.location,\n        povChange: from.pov !== to.pov,\n        emotionalShift: to.emotionalIntensity - from.emotionalIntensity\n      });\n    }\n\n    return {\n      totalTransitions: transitions.length,\n      locationChanges: transitions.filter(t => t.locationChange).length,\n      povChanges: transitions.filter(t => t.povChange).length,\n      averageEmotionalShift: transitions.reduce((sum, t) => sum + Math.abs(t.emotionalShift), 0) / transitions.length,\n      commonPatterns: this.findCommonTransitionPatterns(transitions)\n    };\n  }\n\n  // æ¬¡ç« ã®æ¨å¥¨æ§‹æˆ\n  recommendNextChapterStructure(\n    analysis: SceneStructureAnalysis,\n    chapterNumber: number\n  ): ChapterStructureRecommendation {\n    const typeDistribution = analysis.typeDistribution;\n    const avgLength = analysis.lengthDistribution.average;\n\n    // ã‚¿ã‚¤ãƒ—ãƒãƒ©ãƒ³ã‚¹ã®æœ€é©åŒ–\n    const recommendedTypes = this.balanceSceneTypes(typeDistribution);\n\n    // é•·ã•ã®æ¨å¥¨\n    const recommendedLengths = this.recommendSceneLengths(\n      analysis.lengthDistribution,\n      recommendedTypes.length\n    );\n\n    // ãƒšãƒ¼ã‚·ãƒ³ã‚°æ¨å¥¨\n    const pacingRecommendation = this.recommendPacing(analysis.paceVariation);\n\n    return {\n      chapterNumber,\n      recommendedSceneCount: recommendedTypes.length,\n      scenes: recommendedTypes.map((type, index) => ({\n        type,\n        recommendedLength: recommendedLengths[index],\n        position: index + 1,\n        pacingGuidance: this.getPacingGuidance(type, pacingRecommendation)\n      })),\n      rationale: this.generateRationale(analysis, recommendedTypes)\n    };\n  }\n\n  // ã‚·ãƒ¼ãƒ³ã‚¿ã‚¤ãƒ—ã®ãƒãƒ©ãƒ³ã‚¹èª¿æ•´\n  private balanceSceneTypes(distribution: Map<SceneType, number>): SceneType[] {\n    // æœ€ã‚‚ä½¿ç”¨ã•ã‚Œã¦ã„ãªã„ã‚¿ã‚¤ãƒ—ã‚’å„ªå…ˆ\n    const sorted = Array.from(distribution.entries())\n      .sort((a, b) => a[1] - b[1]);\n\n    const recommended: SceneType[] = [];\n\n    // ç†æƒ³çš„ãªæ§‹æˆ: 3-5ã‚·ãƒ¼ãƒ³/ç« \n    const targetSceneCount = 4;\n\n    // å„ªå…ˆåº¦ã«åŸºã¥ã„ã¦ã‚·ãƒ¼ãƒ³ã‚¿ã‚¤ãƒ—ã‚’é¸æŠ\n    for (let i = 0; i < targetSceneCount; i++) {\n      if (i === 0) {\n        // é–‹å§‹ã¯å¯¾è©± or ã‚¢ã‚¯ã‚·ãƒ§ãƒ³\n        recommended.push(\n          Math.random() > 0.5 ? SceneType.DIALOGUE : SceneType.ACTION\n        );\n      } else if (i === targetSceneCount - 1) {\n        // çµ‚äº†ã¯è§£æ±º or é–‹ç¤º\n        recommended.push(\n          Math.random() > 0.5 ? SceneType.RESOLUTION : SceneType.REVELATION\n        );\n      } else {\n        // ä¸­é–“ã¯ä½¿ç”¨é »åº¦ã®ä½ã„ã‚¿ã‚¤ãƒ—\n        const leastUsed = sorted[i % sorted.length][0];\n        recommended.push(leastUsed);\n      }\n    }\n\n    return recommended;\n  }\n}\n```\n\n### ã‚·ãƒ¼ãƒ³é•·ã®æ¨å¥¨\n\n```typescript\nprivate recommendSceneLengths(\n  lengthDist: LengthDistribution,\n  sceneCount: number\n): number[] {\n  const idealTotal = lengthDist.average * sceneCount;\n  const lengths: number[] = [];\n\n  // å¤‰å‹•ã‚’åŠ ãˆãªãŒã‚‰æ¨å¥¨é•·ã‚’æ±ºå®š\n  for (let i = 0; i < sceneCount; i++) {\n    const position = i / (sceneCount - 1); // 0-1\n    const variation = Math.sin(position * Math.PI) * 0.3; // ä¸­å¤®ã§é•·ã\n    const length = idealTotal / sceneCount * (1 + variation);\n\n    lengths.push(Math.round(length));\n  }\n\n  return lengths;\n}\n```\n\n## ãªãœã“ã®æ‰‹æ³•ã‚’ä½¿ã†ã‹\n\n### ç†ç”±1: èª­è€…ä½“é¨“ã®æœ€é©åŒ–\n\nã‚·ãƒ¼ãƒ³ã®ãƒãƒ©ãƒ³ã‚¹ã‚’èª¿æ•´ã™ã‚‹ã“ã¨ã§ï¼š\n- ç·Šå¼µã¨ç·©å’Œã®ãƒãƒ©ãƒ³ã‚¹\n- èª­è€…ã®ç–²åŠ´å›é¿\n- èˆˆå‘³ã®ç¶­æŒ\n\n### ç†ç”±2: æ§‹é€ ã®ä¸€è²«æ€§\n\néå»ã®ç« ã¨ã®ä¸€è²«æ€§ã‚’ä¿ã¡ãªãŒã‚‰ã€å¤‰åŒ–ã‚’åŠ ãˆã‚‹ï¼š\n- ãƒ‘ã‚¿ãƒ¼ãƒ³ã®å­¦ç¿’\n- éåº¦ãªç¹°ã‚Šè¿”ã—ã®å›é¿\n- æ–°é®®ã•ã®ç¶­æŒ\n\n### ç†ç”±3: ãƒ‡ãƒ¼ã‚¿é§†å‹•ã®åˆ¤æ–­\n\næ„Ÿè¦šã§ã¯ãªãã€ãƒ‡ãƒ¼ã‚¿ã«åŸºã¥ã„ãŸæ§‹æˆï¼š\n- ã‚¿ã‚¤ãƒ—åˆ†å¸ƒã®çµ±è¨ˆåˆ†æ\n- é•·ã•ã®æœ€é©åŒ–\n- ãƒšãƒ¼ã‚¹å¤‰å‹•ã®æ¸¬å®š\n\n## å†ç¾æ–¹æ³•\n\n### ã‚¹ãƒ†ãƒƒãƒ—1: éå»ã®ç« ã‚’åˆ†æ\n\n```typescript\nconst optimizer = new SceneStructureOptimizer();\n\nconst pastChapters = await memoryManager.getChapters(1, 10);\nconst analysis = optimizer.analyzeSceneStructure(pastChapters);\n\nconsole.log(`\n  ã‚·ãƒ¼ãƒ³ã‚¿ã‚¤ãƒ—åˆ†å¸ƒ:\n    ACTION: ${analysis.typeDistribution.get(SceneType.ACTION)}\n    DIALOGUE: ${analysis.typeDistribution.get(SceneType.DIALOGUE)}\n    INTROSPECTION: ${analysis.typeDistribution.get(SceneType.INTROSPECTION)}\n\n  å¹³å‡ã‚·ãƒ¼ãƒ³é•·: ${analysis.lengthDistribution.average}æ–‡å­—\n  ãƒšãƒ¼ã‚¹å¤‰å‹•: ${analysis.paceVariation.variation}\n`);\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2: æ¬¡ç« ã®æ¨å¥¨æ§‹æˆã‚’å–å¾—\n\n```typescript\nconst recommendation = optimizer.recommendNextChapterStructure(\n  analysis,\n  chapterNumber\n);\n\nconsole.log(`\n  æ¨å¥¨ã‚·ãƒ¼ãƒ³æ•°: ${recommendation.recommendedSceneCount}\n  æ§‹æˆ:\n${recommendation.scenes.map((scene, i) =>\n  `    ${i + 1}. ${scene.type} (${scene.recommendedLength}æ–‡å­—)`\n).join('\\n')}\n`);\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3: ç”Ÿæˆæ™‚ã«é©ç”¨\n\n```typescript\n// ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã«æ§‹æˆæ¨å¥¨ã‚’å«ã‚ã‚‹\nconst prompt = `\næ¬¡ã®æ§‹æˆã§ç¬¬${chapterNumber}ç« ã‚’ç”Ÿæˆã—ã¦ãã ã•ã„ï¼š\n\n${recommendation.scenes.map((scene, i) => `\nã‚·ãƒ¼ãƒ³${i + 1}: ${scene.type}\n- æ¨å¥¨é•·: ${scene.recommendedLength}æ–‡å­—\n- ãƒšãƒ¼ã‚·ãƒ³ã‚°: ${scene.pacingGuidance}\n`).join('\\n')}\n\næ ¹æ‹ : ${recommendation.rationale}\n`;\n```\n\n## ã„ã¤ä½¿ã†ã‹\n\n- **é•·ç·¨å°èª¬ã‚’ç”Ÿæˆã™ã‚‹å ´åˆ**\n- **æ§‹é€ ã®ä¸€è²«æ€§ã‚’ä¿ã¡ãŸã„å ´åˆ**\n- **èª­è€…ä½“é¨“ã‚’æœ€é©åŒ–ã—ãŸã„å ´åˆ**\n- **ãƒ‡ãƒ¼ã‚¿é§†å‹•ã§æ§‹æˆã‚’æ±ºå®šã—ãŸã„å ´åˆ**\n\nå…·ä½“ä¾‹ï¼š\n- é€£è¼‰å°èª¬ã®è‡ªå‹•ç”Ÿæˆ\n- ã‚·ãƒªãƒ¼ã‚ºã‚‚ã®ã®åŸ·ç­†æ”¯æ´\n- ç‰©èªæ§‹é€ ã®åˆ†æãƒ„ãƒ¼ãƒ«\n\n## æ³¨æ„ç‚¹\n\n### 1. éåº¦ãªæœ€é©åŒ–ã‚’é¿ã‘ã‚‹\n\næ©Ÿæ¢°çš„ã™ãã‚‹æ§‹æˆã¯é¿ã‘ã‚‹ï¼š\n\n```typescript\n// ãƒ©ãƒ³ãƒ€ãƒ æ€§ã‚’åŠ ãˆã‚‹\nconst randomFactor = Math.random() * 0.2 - 0.1; // Â±10%\nconst adjustedLength = recommendedLength * (1 + randomFactor);\n```\n\n### 2. ç‰©èªã®è‡ªç„¶ãªæµã‚Œã‚’å„ªå…ˆ\n\næ¨å¥¨æ§‹æˆã¯å‚è€ƒç¨‹åº¦ã«ï¼š\n\n```typescript\n// å¿…é ˆã§ã¯ãªãæ¨å¥¨ã¨ã—ã¦æ‰±ã†\nconst guidance = {\n  recommendation: recommendedStructure,\n  flexibility: 'high', // æŸ”è»Ÿæ€§ã‚’è¨±å®¹\n  priority: 'suggestion' // å¼·åˆ¶ã§ã¯ãªã„\n};\n```\n\n### 3. ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç›£è¦–\n\næ¨å¥¨ç²¾åº¦ã‚’æ¸¬å®šï¼š\n\n```typescript\n// æ¨å¥¨ã¨å®Ÿéš›ã®ç”Ÿæˆçµæœã‚’æ¯”è¼ƒ\nconst accuracy = compareRecommendationWithActual(\n  recommendation,\n  actualChapter\n);\n\nconsole.log(`æ¨å¥¨ç²¾åº¦: ${accuracy}%`);\n```\n\n## ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æŒ‡æ¨™\n\n### æ¨å¥¨ç²¾åº¦\n- **ã‚¿ã‚¤ãƒ—ä¸€è‡´ç‡**: 75-85%\n- **é•·ã•ä¸€è‡´ç‡**: 80-90%ï¼ˆÂ±20%ç¯„å›²ï¼‰\n- **å‡¦ç†æ™‚é–“**: 200-500ms\n\n### èª­è€…ä½“é¨“å‘ä¸Š\n- **é›¢è„±ç‡**: 15%å‰Šæ¸›\n- **èª­äº†ç‡**: 20%å‘ä¸Š\n- **æº€è¶³åº¦**: 10%å‘ä¸Š\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\nã“ã®ã‚¹ã‚­ãƒ«ã¯æ¯”è¼ƒçš„ç‹¬ç«‹ã—ã¦ã„ã¾ã™ãŒã€ç”Ÿæˆãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³å…¨ä½“ã¨çµ±åˆã•ã‚Œã¾ã™ã€‚\n",
    "prompt": "### ã‚¹ãƒ†ãƒƒãƒ—1: éå»ã®ç« ã‚’åˆ†æ\n\n```typescript\nconst optimizer = new SceneStructureOptimizer();\n\nconst pastChapters = await memoryManager.getChapters(1, 10);\nconst analysis = optimizer.analyzeSceneStructure(pastChapters);\n\nconsole.log(`\n  ã‚·ãƒ¼ãƒ³ã‚¿ã‚¤ãƒ—åˆ†å¸ƒ:\n    ACTION: ${analysis.typeDistribution.get(SceneType.ACTION)}\n    DIALOGUE: ${analysis.typeDistribution.get(SceneType.DIALOGUE)}\n    INTROSPECTION: ${analysis.typeDistribution.get(SceneType.INTROSPECTION)}\n\n  å¹³å‡ã‚·ãƒ¼ãƒ³é•·: ${analysis.lengthDistribution.average}æ–‡å­—\n  ãƒšãƒ¼ã‚¹å¤‰å‹•: ${analysis.paceVariation.variation}\n`);\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2: æ¬¡ç« ã®æ¨å¥¨æ§‹æˆã‚’å–å¾—\n\n```typescript\nconst recommendation = optimizer.recommendNextChapterStructure(\n  analysis,\n  chapterNumber\n);\n\nconsole.log(`\n  æ¨å¥¨ã‚·ãƒ¼ãƒ³æ•°: ${recommendation.recommendedSceneCount}\n  æ§‹æˆ:\n${recommendation.scenes.map((scene, i) =>\n  `    ${i + 1}. ${scene.type} (${scene.recommendedLength}æ–‡å­—)`\n).join('\\n')}\n`);\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3: ç”Ÿæˆæ™‚ã«é©ç”¨\n\n```typescript\n// ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã«æ§‹æˆæ¨å¥¨ã‚’å«ã‚ã‚‹\nconst prompt = `\næ¬¡ã®æ§‹æˆã§ç¬¬${chapterNumber}ç« ã‚’ç”Ÿæˆã—ã¦ãã ã•ã„ï¼š\n\n${recommendation.scenes.map((scene, i) => `\nã‚·ãƒ¼ãƒ³${i + 1}: ${scene.type}\n- æ¨å¥¨é•·: ${scene.recommendedLength}æ–‡å­—\n- ãƒšãƒ¼ã‚·ãƒ³ã‚°: ${scene.pacingGuidance}\n`).join('\\n')}\n\næ ¹æ‹ : ${recommendation.rationale}\n`;\n```",
    "relatedTech": []
  },
  {
    "slug": "section-adjustability-constraints",
    "title": "ã‚»ã‚¯ã‚·ãƒ§ãƒ³èª¿æ•´åˆ¶ç´„",
    "category": "Skillsï¼ˆã‚¹ã‚­ãƒ«ãƒ»æ‰‹æ³•ï¼‰",
    "description": "ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã«å¯¾ã—ã¦ã€ç§»å‹•ï¼ˆmovableï¼‰ã€ãƒªã‚µã‚¤ã‚ºï¼ˆresizableï¼‰ã€äº¤æ›ï¼ˆswappableï¼‰ã®3ç¨®é¡ã®èª¿æ•´å¯èƒ½æ€§ã‚’åˆ¶ç´„ã¨ã—ã¦å®šç¾©ã—ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’å£Šã™ã“ã¨ã‚’é˜²ãæ‰‹æ³•ã€‚",
    "project": "ai-document-generator",
    "usedIn": [
      "src/types/layouts.ts:37-124, src/components/editor/section/SectionEditor.tsx:280-342"
    ],
    "code": "```json\n{\n  \"id\": \"skill_section_adjustability_constraints_2025_04_11\",\n  \"type\": \"skill\",\n  \"name\": \"ã‚»ã‚¯ã‚·ãƒ§ãƒ³èª¿æ•´åˆ¶ç´„\",\n  \"tags\": [\"åˆ¶ç´„ã‚·ã‚¹ãƒ†ãƒ \", \"ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆåˆ¶ç´„\", \"adjustability\", \"movable\", \"resizable\", \"swappable\"],\n  \"source_project\": \"ai-document-generator\",\n  \"source_file\": \"src/types/layouts.ts:37-124, src/components/editor/section/SectionEditor.tsx:280-342\",\n  \"related_knowledge\": [\"skill_grid_based_layout_system_2025_04_11\", \"skill_react_grid_layout_implementation_2025_04_11\", \"decision_arch_grid_based_layout_2025_04_11\"],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-04-11\",\n  \"updated\": \"2025-04-11\"\n}\n```\n\n# ã‚»ã‚¯ã‚·ãƒ§ãƒ³èª¿æ•´åˆ¶ç´„\n\n## ä½•ã‚’ã™ã‚‹ã‚¹ã‚­ãƒ«ã‹\n\nãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã«å¯¾ã—ã¦ã€ç§»å‹•ï¼ˆmovableï¼‰ã€ãƒªã‚µã‚¤ã‚ºï¼ˆresizableï¼‰ã€äº¤æ›ï¼ˆswappableï¼‰ã®3ç¨®é¡ã®èª¿æ•´å¯èƒ½æ€§ã‚’åˆ¶ç´„ã¨ã—ã¦å®šç¾©ã—ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’å£Šã™ã“ã¨ã‚’é˜²ãæ‰‹æ³•ã€‚\n\n## å…·ä½“çš„ãªæ‰‹æ³•\n\n### 1. Adjustabilityã®å‹å®šç¾©\n\nsrc/types/layouts.tsã§å®šç¾©ã•ã‚Œã¦ã„ã‚‹èª¿æ•´å¯èƒ½æ€§ã®å‹ï¼š\n\n```typescript\n// src/types/layouts.ts:179-191\ninterface SectionDefinition {\n  id: string;\n  type: string;\n  name: string;\n  position: SectionPosition;\n\n  // èª¿æ•´è¨­å®š\n  adjustability: {\n    movable: boolean;        // ç§»å‹•å¯èƒ½ã‹\n    resizable: boolean;      // ãƒªã‚µã‚¤ã‚ºå¯èƒ½ã‹\n    swappable: boolean;      // ä»–ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã¨äº¤æ›å¯èƒ½ã‹\n    movementBoundaries?: MovementBoundaries;  // ç§»å‹•ç¯„å›²ã®åˆ¶ç´„\n    resizeBoundaries?: {\n      minRowSpan: number;\n      maxRowSpan: number;\n      minColumnSpan: number;\n      maxColumnSpan: number;\n    };\n  };\n\n  contentConstraints: ContentConstraints;\n  // ...\n}\n\n// ç§»å‹•ç¯„å›²ã®åˆ¶ç´„\ninterface MovementBoundaries {\n  minRow: number;\n  maxRow: number;\n  minColumn: number;\n  maxColumn: number;\n}\n```\n\n### 2. 3ã¤ã®èª¿æ•´ã‚¿ã‚¤ãƒ—\n\n#### (1) Movableï¼ˆç§»å‹•å¯èƒ½ï¼‰\n\nã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’åˆ¥ã®ä½ç½®ã«ç§»å‹•ã§ãã‚‹ï¼š\n\n```json\n{\n  \"id\": \"sidebar\",\n  \"adjustability\": {\n    \"movable\": true,\n    \"resizable\": false,\n    \"swappable\": false,\n    \"movementBoundaries\": {\n      \"minRow\": 2,\n      \"maxRow\": 10,\n      \"minColumn\": 8,\n      \"maxColumn\": 12\n    }\n  }\n}\n```\n\n**åˆ¶ç´„ã®ä¾‹**:\n- ãƒ˜ãƒƒãƒ€ãƒ¼ï¼š`movable: false`ï¼ˆå›ºå®šï¼‰\n- ã‚µã‚¤ãƒ‰ãƒãƒ¼ï¼š`movable: true`ï¼ˆå³å´ã®ç¯„å›²å†…ã§ç§»å‹•å¯èƒ½ï¼‰\n- ãƒ•ãƒƒã‚¿ãƒ¼ï¼š`movable: false`ï¼ˆå›ºå®šï¼‰\n\n#### (2) Resizableï¼ˆãƒªã‚µã‚¤ã‚ºå¯èƒ½ï¼‰\n\nã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®ã‚µã‚¤ã‚ºã‚’å¤‰æ›´ã§ãã‚‹ï¼š\n\n```json\n{\n  \"id\": \"main_content\",\n  \"adjustability\": {\n    \"movable\": false,\n    \"resizable\": true,\n    \"swappable\": false,\n    \"resizeBoundaries\": {\n      \"minRowSpan\": 6,\n      \"maxRowSpan\": 10,\n      \"minColumnSpan\": 6,\n      \"maxColumnSpan\": 12\n    }\n  }\n}\n```\n\n**åˆ¶ç´„ã®ä¾‹**:\n- ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ï¼š6-10è¡Œã€6-12åˆ—ã®ç¯„å›²ã§ãƒªã‚µã‚¤ã‚ºå¯èƒ½\n- ã‚¿ã‚¤ãƒˆãƒ«ï¼š`resizable: false`ï¼ˆå›ºå®šã‚µã‚¤ã‚ºï¼‰\n\n#### (3) Swappableï¼ˆäº¤æ›å¯èƒ½ï¼‰\n\nä»–ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã¨ä½ç½®ã‚’äº¤æ›ã§ãã‚‹ï¼š\n\n```json\n{\n  \"swappableGroups\": [\n    {\n      \"id\": \"feature-sections\",\n      \"name\": \"ç‰¹å¾´ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚°ãƒ«ãƒ¼ãƒ—\",\n      \"sections\": [\"feature-1\", \"feature-2\", \"feature-3\"],\n      \"contentAdaptation\": {\n        \"preserveTextContent\": true,\n        \"preserveMediaAspectRatio\": true,\n        \"adjustComponentLayout\": false\n      }\n    }\n  ]\n}\n```\n\n**åˆ¶ç´„ã®ä¾‹**:\n- 3ã¤ã®ç‰¹å¾´ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã¯äº’ã„ã«äº¤æ›å¯èƒ½\n- ä»–ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ï¼ˆãƒ˜ãƒƒãƒ€ãƒ¼ã€ãƒ•ãƒƒã‚¿ãƒ¼ï¼‰ã¨ã¯äº¤æ›ä¸å¯\n\n### 3. SectionEditorã§ã®åˆ¶ç´„ãƒã‚§ãƒƒã‚¯\n\nsrc/components/editor/section/SectionEditor.tsx:280-342ã§ã®å®Ÿè£…ï¼š\n\n```tsx\n// ç§»å‹•æ“ä½œã®é–‹å§‹\nconst handleStartMove = useCallback(() => {\n  console.log(`[SectionEditor] Starting move operation for section: ${sectionId}`);\n\n  try {\n    // ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®ç§»å‹•å¯èƒ½æ€§ãƒã‚§ãƒƒã‚¯\n    if (!sectionDefinition?.adjustability?.movable) {\n      throw new Error(\"ã“ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã¯ç§»å‹•ã§ãã¾ã›ã‚“\");\n    }\n\n    // ç§»å‹•æ“ä½œã‚’é–‹å§‹\n    useSectionStore.getState().startMoveSection(sectionId);\n    useEditorUIStore.getState().highlightMovableAreas?.(sectionId);\n\n    console.log('[SectionEditor] Move operation started successfully');\n  } catch (error) {\n    const errorMessage = error instanceof Error ? error.message : \"ç§»å‹•æ“ä½œã®é–‹å§‹ã«å¤±æ•—ã—ã¾ã—ãŸ\";\n    console.error('[SectionEditor] Failed to start move operation', error);\n\n    useEditorUIStore.getState().showToast(\"error\", errorMessage);\n  }\n}, [sectionId, sectionDefinition]);\n\n// ãƒªã‚µã‚¤ã‚ºæ“ä½œã®é–‹å§‹\nconst handleStartResize = useCallback(() => {\n  console.log(`[SectionEditor] Starting resize operation for section: ${sectionId}`);\n\n  try {\n    // ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®ãƒªã‚µã‚¤ã‚ºå¯èƒ½æ€§ãƒã‚§ãƒƒã‚¯\n    if (!sectionDefinition?.adjustability?.resizable) {\n      throw new Error(\"ã“ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã¯ãƒªã‚µã‚¤ã‚ºã§ãã¾ã›ã‚“\");\n    }\n\n    // ãƒªã‚µã‚¤ã‚ºæ“ä½œã‚’é–‹å§‹\n    useSectionStore.getState().startResizeSection(sectionId, \"bottom\");\n    useEditorUIStore.getState().highlightResizableAreas?.(sectionId);\n\n    console.log('[SectionEditor] Resize operation started successfully');\n  } catch (error) {\n    const errorMessage = error instanceof Error ? error.message : \"ãƒªã‚µã‚¤ã‚ºæ“ä½œã®é–‹å§‹ã«å¤±æ•—ã—ã¾ã—ãŸ\";\n    console.error('[SectionEditor] Failed to start resize operation', error);\n\n    useEditorUIStore.getState().showToast(\"error\", errorMessage);\n  }\n}, [sectionId, sectionDefinition]);\n\n// äº¤æ›æ“ä½œã®é–‹å§‹\nconst handleStartSwap = useCallback(() => {\n  console.log(`[SectionEditor] Starting swap operation for section: ${sectionId}`);\n\n  try {\n    // ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®ã‚¹ãƒ¯ãƒƒãƒ—å¯èƒ½æ€§ãƒã‚§ãƒƒã‚¯\n    if (!sectionDefinition?.adjustability?.swappable) {\n      throw new Error(\"ã“ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã¯ã‚¹ãƒ¯ãƒƒãƒ—ã§ãã¾ã›ã‚“\");\n    }\n\n    // ã‚¹ãƒ¯ãƒƒãƒ—æ“ä½œã‚’é–‹å§‹\n    useSectionStore.getState().startSwapSection(sectionId);\n    useEditorUIStore.getState().highlightSwappableAreas?.(sectionId);\n\n    console.log('[SectionEditor] Swap operation started successfully');\n  } catch (error) {\n    const errorMessage = error instanceof Error ? error.message : \"ã‚¹ãƒ¯ãƒƒãƒ—æ“ä½œã®é–‹å§‹ã«å¤±æ•—ã—ã¾ã—ãŸ\";\n    console.error('[SectionEditor] Failed to start swap operation', error);\n\n    useEditorUIStore.getState().showToast(\"error\", errorMessage);\n  }\n}, [sectionId, sectionDefinition]);\n```\n\n### 4. UIã§ã®åˆ¶ç´„è¡¨ç¤º\n\nèª¿æ•´å¯èƒ½æ€§ã‚’ãƒãƒƒã‚¸ã§è¡¨ç¤ºï¼š\n\n```tsx\n// src/components/editor/section/SectionEditor.tsx:576-590\n<div className=\"flex flex-wrap gap-1 mb-2\">\n  {sectionDefinition.adjustability?.movable && (\n    <Badge variant=\"outline\" className=\"text-xs\">ç§»å‹•å¯èƒ½</Badge>\n  )}\n  {sectionDefinition.adjustability?.swappable && (\n    <Badge variant=\"outline\" className=\"text-xs\">ã‚¹ãƒ¯ãƒƒãƒ—å¯èƒ½</Badge>\n  )}\n  {sectionDefinition.adjustability?.resizable && (\n    <Badge variant=\"outline\" className=\"text-xs\">ãƒªã‚µã‚¤ã‚ºå¯èƒ½</Badge>\n  )}\n  {sectionDefinition.metadata?.canDelete && (\n    <Badge variant=\"outline\" className=\"text-xs text-red-500\">å‰Šé™¤å¯èƒ½</Badge>\n  )}\n</div>\n```\n\n### 5. ç§»å‹•ç¯„å›²ã®åˆ¶ç´„\n\nMovementBoundariesã§ç§»å‹•å¯èƒ½ãªç¯„å›²ã‚’åˆ¶é™ï¼š\n\n```typescript\n// ç§»å‹•ç¯„å›²ã®æ¤œè¨¼\nconst validateMovement = (\n  sectionId: string,\n  newPosition: { row: number; column: number }\n): boolean => {\n  const section = getSectionDefinition(sectionId);\n  const boundaries = section?.adjustability?.movementBoundaries;\n\n  if (!boundaries) {\n    // åˆ¶ç´„ãŒãªã„å ´åˆã¯ã€ã‚°ãƒªãƒƒãƒ‰å…¨ä½“ã§ç§»å‹•å¯èƒ½\n    return true;\n  }\n\n  // ç¯„å›²å†…ã‹ãƒã‚§ãƒƒã‚¯\n  return (\n    newPosition.row >= boundaries.minRow &&\n    newPosition.row <= boundaries.maxRow &&\n    newPosition.column >= boundaries.minColumn &&\n    newPosition.column <= boundaries.maxColumn\n  );\n};\n\n// ä½¿ç”¨ä¾‹\nconst canMove = validateMovement('sidebar', { row: 5, column: 10 });\nif (!canMove) {\n  showToast('error', 'ã“ã®ä½ç½®ã«ã¯ç§»å‹•ã§ãã¾ã›ã‚“');\n}\n```\n\n### 6. ãƒªã‚µã‚¤ã‚ºç¯„å›²ã®åˆ¶ç´„\n\nResizeBoundariesã§ãƒªã‚µã‚¤ã‚ºå¯èƒ½ãªç¯„å›²ã‚’åˆ¶é™ï¼š\n\n```typescript\n// ãƒªã‚µã‚¤ã‚ºç¯„å›²ã®æ¤œè¨¼\nconst validateResize = (\n  sectionId: string,\n  newSize: { rowSpan: number; columnSpan: number }\n): boolean => {\n  const section = getSectionDefinition(sectionId);\n  const boundaries = section?.adjustability?.resizeBoundaries;\n\n  if (!boundaries) {\n    // åˆ¶ç´„ãŒãªã„å ´åˆã¯ã€ã‚°ãƒªãƒƒãƒ‰å…¨ä½“ã§ãƒªã‚µã‚¤ã‚ºå¯èƒ½\n    return true;\n  }\n\n  // ç¯„å›²å†…ã‹ãƒã‚§ãƒƒã‚¯\n  return (\n    newSize.rowSpan >= boundaries.minRowSpan &&\n    newSize.rowSpan <= boundaries.maxRowSpan &&\n    newSize.columnSpan >= boundaries.minColumnSpan &&\n    newSize.columnSpan <= boundaries.maxColumnSpan\n  );\n};\n\n// ä½¿ç”¨ä¾‹\nconst canResize = validateResize('main_content', { rowSpan: 8, columnSpan: 10 });\nif (!canResize) {\n  showToast('error', 'ã“ã®ã‚µã‚¤ã‚ºã«ã¯ãƒªã‚µã‚¤ã‚ºã§ãã¾ã›ã‚“');\n}\n```\n\n### 7. ã‚¹ãƒ¯ãƒƒãƒ—å¯èƒ½ã‚°ãƒ«ãƒ¼ãƒ—ã®å®šç¾©\n\nSwappableGroupDefinitionã§ã‚¹ãƒ¯ãƒƒãƒ—å¯èƒ½ãªã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’ã‚°ãƒ«ãƒ¼ãƒ—åŒ–ï¼š\n\n```typescript\n// src/types/layouts.ts:64-79\ninterface SwappableGroupDefinition {\n  id: string;\n  name: string;\n  description: string;\n\n  // äº¤æ›å¯èƒ½ãªã‚»ã‚¯ã‚·ãƒ§ãƒ³\n  sections: string[];\n\n  // ã‚³ãƒ³ãƒ†ãƒ³ãƒ„é©å¿œãƒ«ãƒ¼ãƒ«\n  contentAdaptation: ContentAdaptation;\n\n  // ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«è¡¨ç¤º\n  visualIndication: SwapVisualIndication;\n}\n\ninterface ContentAdaptation {\n  preserveTextContent: boolean;        // ãƒ†ã‚­ã‚¹ãƒˆã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ä¿æŒ\n  preserveMediaAspectRatio: boolean;   // ç”»åƒã®ã‚¢ã‚¹ãƒšã‚¯ãƒˆæ¯”ã‚’ä¿æŒ\n  adjustComponentLayout: boolean;      // ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’èª¿æ•´\n}\n```\n\n### 8. å‰Šé™¤åˆ¶ç´„\n\nãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã§å‰Šé™¤å¯èƒ½æ€§ã‚’åˆ¶å¾¡ï¼š\n\n```tsx\n// å‰Šé™¤ãƒãƒ³ãƒ‰ãƒ©\nconst handleDeleteSection = useCallback(() => {\n  console.log(`[SectionEditor] Attempting to delete section: ${sectionId}`);\n\n  try {\n    // å‰Šé™¤å¯èƒ½æ€§ãƒã‚§ãƒƒã‚¯\n    if (!sectionDefinition?.metadata?.canDelete) {\n      throw new Error(\"ã“ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã¯å‰Šé™¤ã§ãã¾ã›ã‚“\");\n    }\n\n    // ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã‚’è¡¨ç¤º\n    if (confirm(\"ã“ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’å‰Šé™¤ã—ã¦ã‚‚ã‚ˆã‚ã—ã„ã§ã™ã‹ï¼Ÿã“ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã¯å…ƒã«æˆ»ã›ã¾ã›ã‚“ã€‚\")) {\n      // å‰Šé™¤å‡¦ç†\n      deleteSectionContent(sectionId);\n      showToast(\"success\", \"ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’å‰Šé™¤ã—ã¾ã—ãŸ\");\n    }\n  } catch (error) {\n    const errorMessage = error instanceof Error ? error.message : \"å‰Šé™¤ã«å¤±æ•—ã—ã¾ã—ãŸ\";\n    showToast(\"error\", errorMessage);\n  }\n}, [sectionId, sectionDefinition]);\n```\n\n### 9. è¦–è¦šçš„ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯\n\nåˆ¶ç´„ã«å¿œã˜ã¦ã€UIã§è¦–è¦šçš„ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã‚’æä¾›ï¼š\n\n```typescript\n// ç§»å‹•å¯èƒ½ãªã‚¨ãƒªã‚¢ã‚’ãƒã‚¤ãƒ©ã‚¤ãƒˆ\nconst highlightMovableAreas = (sectionId: string) => {\n  const section = getSectionDefinition(sectionId);\n  const boundaries = section?.adjustability?.movementBoundaries;\n\n  if (!boundaries) return;\n\n  // ãƒã‚¤ãƒ©ã‚¤ãƒˆã‚¨ãƒªã‚¢ã‚’è¡¨ç¤º\n  const highlightDiv = document.createElement('div');\n  highlightDiv.style.position = 'absolute';\n  highlightDiv.style.top = `${boundaries.minRow * 50}px`;\n  highlightDiv.style.left = `${boundaries.minColumn * 50}px`;\n  highlightDiv.style.width = `${(boundaries.maxColumn - boundaries.minColumn) * 50}px`;\n  highlightDiv.style.height = `${(boundaries.maxRow - boundaries.minRow) * 50}px`;\n  highlightDiv.style.border = '2px dashed #3b82f6';\n  highlightDiv.style.backgroundColor = 'rgba(59, 130, 246, 0.1)';\n  highlightDiv.style.pointerEvents = 'none';\n\n  document.body.appendChild(highlightDiv);\n\n  // 3ç§’å¾Œã«å‰Šé™¤\n  setTimeout(() => {\n    highlightDiv.remove();\n  }, 3000);\n};\n```\n\n## ãªãœã“ã®æ‰‹æ³•ã‚’ä½¿ã†ã‹\n\n**ç†ç”±1ï¼šãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã®æ•´åˆæ€§ã‚’ç¶­æŒ**\n- ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’å£Šã™ã“ã¨ã‚’é˜²ã\n- ãƒ˜ãƒƒãƒ€ãƒ¼/ãƒ•ãƒƒã‚¿ãƒ¼ãªã©ã€å›ºå®šã™ã¹ãè¦ç´ ã‚’å›ºå®š\n\n**ç†ç”±2ï¼šç›´æ„Ÿçš„ãªæ“ä½œ**\n- ç§»å‹•å¯èƒ½/ä¸å¯èƒ½ãŒæ˜ç¢º\n- ä¸å¯èƒ½ãªæ“ä½œã¯å®Ÿè¡Œã§ããªã„ï¼ˆã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã§é€šçŸ¥ï¼‰\n\n**ç†ç”±3ï¼šæŸ”è»Ÿæ€§**\n- ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã”ã¨ã«ç•°ãªã‚‹åˆ¶ç´„ã‚’è¨­å®šå¯èƒ½\n- ä¸€éƒ¨ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã¯è‡ªç”±ã«èª¿æ•´ã€ä¸€éƒ¨ã¯å›ºå®š\n\n**ç†ç”±4ï¼šãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®ä¸€è²«æ€§**\n- ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆè¨­è¨ˆè€…ãŒæ„å›³ã—ãŸãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’ä¿æŒ\n- ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯åˆ¶ç´„å†…ã§è‡ªç”±ã«ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º\n\n**ç†ç”±5ï¼šã‚¨ãƒ©ãƒ¼é˜²æ­¢**\n- ä¸æ­£ãªæ“ä½œã‚’äº‹å‰ã«ãƒ–ãƒ­ãƒƒã‚¯\n- UIãƒ¬ãƒ™ãƒ«ã§ã®æ¤œè¨¼\n\n## å†ç¾æ–¹æ³•\n\n### ã‚¹ãƒ†ãƒƒãƒ—1ï¼šAdjustabilityã‚’å®šç¾©\n\n```typescript\ninterface Adjustability {\n  movable: boolean;\n  resizable: boolean;\n  swappable: boolean;\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2ï¼šã‚»ã‚¯ã‚·ãƒ§ãƒ³å®šç¾©ã«è¿½åŠ \n\n```json\n{\n  \"id\": \"header\",\n  \"adjustability\": {\n    \"movable\": false,\n    \"resizable\": false,\n    \"swappable\": false\n  }\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3ï¼šæ“ä½œå‰ã«ãƒã‚§ãƒƒã‚¯\n\n```typescript\nif (!section.adjustability.movable) {\n  alert(\"ã“ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã¯ç§»å‹•ã§ãã¾ã›ã‚“\");\n  return;\n}\n\nmoveSection(sectionId, newPosition);\n```\n\n## ã„ã¤ä½¿ã†ã‹\n\n- **ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚·ã‚¹ãƒ†ãƒ **: ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã§ãã‚‹å ´åˆ\n- **ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚¨ãƒ‡ã‚£ã‚¿**: ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚¨ãƒ‡ã‚£ã‚¿ã€ãƒšãƒ¼ã‚¸ãƒ“ãƒ«ãƒ€ãƒ¼\n- **åˆ¶ç´„ä»˜ããƒ‡ã‚¶ã‚¤ãƒ³**: ãƒ‡ã‚¶ã‚¤ãƒ³ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³ã‚’å¼·åˆ¶ã—ãŸã„å ´åˆ\n- **ãƒãƒ«ãƒãƒ¦ãƒ¼ã‚¶ãƒ¼**: è¤‡æ•°ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒåŒã˜ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ä½¿ç”¨ã™ã‚‹å ´åˆ\n\n## æ³¨æ„ç‚¹\n\n### 1. åˆ¶ç´„ã®ãƒãƒ©ãƒ³ã‚¹\n\nåˆ¶ç´„ãŒå³ã—ã™ãã‚‹ã¨ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®è‡ªç”±åº¦ãŒä½ä¸‹ã€‚\n\n**å¯¾ç­–**:\n- ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯æŸ”è»Ÿã«\n- å¿…è¦æœ€å°é™ã®åˆ¶ç´„ã®ã¿è¨­å®š\n\n### 2. UIãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯\n\nåˆ¶ç´„ãŒã‚ã‹ã‚‰ãªã„ã¨ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒæ··ä¹±ã€‚\n\n**å¯¾ç­–**:\n- ç§»å‹•å¯èƒ½/ä¸å¯èƒ½ã‚’ãƒãƒƒã‚¸ã§è¡¨ç¤º\n- åˆ¶ç´„ã«é•åã—ãŸå ´åˆã€ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸\n\n### 3. ç§»å‹•ç¯„å›²ã®è¦–è¦šåŒ–\n\nMovementBoundariesãŒè¦‹ãˆãªã„ã¨ã€ã©ã“ã«ç§»å‹•ã§ãã‚‹ã‹ã‚ã‹ã‚‰ãªã„ã€‚\n\n**å¯¾ç­–**:\n- ãƒã‚¤ãƒ©ã‚¤ãƒˆè¡¨ç¤º\n- ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³\n\n### 4. ã‚¹ãƒ¯ãƒƒãƒ—ã®å®Ÿè£…\n\nã‚¹ãƒ¯ãƒƒãƒ—ã¯ãƒ­ã‚¸ãƒƒã‚¯ãŒè¤‡é›‘ã€‚\n\n**å¯¾ç­–**:\n- ã‚¹ãƒ¯ãƒƒãƒ—å¯èƒ½ãªã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’æ˜ç¤º\n- ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®é©å¿œãƒ«ãƒ¼ãƒ«ã‚’å®šç¾©\n\n### 5. ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹\n\nåˆ¶ç´„ãƒã‚§ãƒƒã‚¯ã‚’æ¯å›å®Ÿè¡Œã™ã‚‹ã¨ã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãŒä½ä¸‹ã€‚\n\n**å¯¾ç­–**:\n- åˆ¶ç´„ã‚’äº‹å‰ã«ã‚­ãƒ£ãƒƒã‚·ãƒ¥\n- ãƒ‰ãƒ©ãƒƒã‚°é–‹å§‹æ™‚ã«ä¸€åº¦ã ã‘ãƒã‚§ãƒƒã‚¯\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `skill_grid_based_layout_system_2025_04_11.md`: ã‚°ãƒªãƒƒãƒ‰ãƒ™ãƒ¼ã‚¹ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚·ã‚¹ãƒ†ãƒ \n- `skill_react_grid_layout_implementation_2025_04_11.md`: React Grid Layoutå®Ÿè£…\n- `decision_arch_grid_based_layout_2025_04_11.md`: ã‚°ãƒªãƒƒãƒ‰ãƒ™ãƒ¼ã‚¹ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã®è¨­è¨ˆåˆ¤æ–­\n",
    "prompt": "### ã‚¹ãƒ†ãƒƒãƒ—1ï¼šAdjustabilityã‚’å®šç¾©\n\n```typescript\ninterface Adjustability {\n  movable: boolean;\n  resizable: boolean;\n  swappable: boolean;\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2ï¼šã‚»ã‚¯ã‚·ãƒ§ãƒ³å®šç¾©ã«è¿½åŠ \n\n```json\n{\n  \"id\": \"header\",\n  \"adjustability\": {\n    \"movable\": false,\n    \"resizable\": false,\n    \"swappable\": false\n  }\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3ï¼šæ“ä½œå‰ã«ãƒã‚§ãƒƒã‚¯\n\n```typescript\nif (!section.adjustability.movable) {\n  alert(\"ã“ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã¯ç§»å‹•ã§ãã¾ã›ã‚“\");\n  return;\n}\n\nmoveSection(sectionId, newPosition);\n```",
    "relatedTech": [
      "skill-grid-based-layout-system",
      "skill-react-grid-layout-implementation",
      "decision-arch-grid-based-layout"
    ]
  },
  {
    "slug": "section-builder-patterns",
    "title": "ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚»ã‚¯ã‚·ãƒ§ãƒ³æ§‹ç¯‰ãƒ‘ã‚¿ãƒ¼ãƒ³",
    "category": "Skillsï¼ˆã‚¹ã‚­ãƒ«ãƒ»æ‰‹æ³•ï¼‰",
    "description": "çµ±åˆã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‹ã‚‰ã€8ã¤ã®å°‚ç”¨ã‚»ã‚¯ã‚·ãƒ§ãƒ³ï¼ˆé©å‘½çš„ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã€çµ±åˆå­¦ç¿’ã€çµ±ä¸€è¨˜æ†¶ã€å¼·åŒ–ãƒ—ãƒ­ãƒƒãƒˆã€å“è³ªæœ€é©åŒ–ã€é©å¿œçš„ä¼ç·šã€å‹•çš„ã‚¹ã‚¿ã‚¤ãƒ«ã€èª­è€…ä½“é¨“ï¼‰ã‚’æ§‹ç¯‰ã—ã€æœ€çµ‚çš„ãªãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’çµ„ã¿ç«‹ã¦ã‚‹æ‰‹æ³•ã€‚",
    "project": "novel-automation-system-v2",
    "usedIn": [
      "src/lib/generation/prompt/section-builder.ts:1-600"
    ],
    "code": "```json\n{\n  \"id\": \"skill_section_builder_patterns_2025_11_25\",\n  \"type\": \"skill\",\n  \"name\": \"ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚»ã‚¯ã‚·ãƒ§ãƒ³æ§‹ç¯‰ãƒ‘ã‚¿ãƒ¼ãƒ³\",\n  \"tags\": [\"ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚°\", \"ã‚»ã‚¯ã‚·ãƒ§ãƒ³æ§‹ç¯‰\", \"AIç”Ÿæˆ\", \"ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ\", \"å°èª¬ç”Ÿæˆ\"],\n  \"source_project\": \"novel-automation-system-v2\",\n  \"source_file\": \"src/lib/generation/prompt/section-builder.ts:1-600\",\n  \"related_knowledge\": [\n    \"skill_context_generation_system_2025_11_25\",\n    \"skill_prompt_template_management_2025_11_25\",\n    \"skill_prompt_compression_optimization_2025_11_25\"\n  ],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚»ã‚¯ã‚·ãƒ§ãƒ³æ§‹ç¯‰ãƒ‘ã‚¿ãƒ¼ãƒ³\n\n## ä½•ã‚’ã™ã‚‹ã‚¹ã‚­ãƒ«ã‹\n\nçµ±åˆã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‹ã‚‰ã€8ã¤ã®å°‚ç”¨ã‚»ã‚¯ã‚·ãƒ§ãƒ³ï¼ˆé©å‘½çš„ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã€çµ±åˆå­¦ç¿’ã€çµ±ä¸€è¨˜æ†¶ã€å¼·åŒ–ãƒ—ãƒ­ãƒƒãƒˆã€å“è³ªæœ€é©åŒ–ã€é©å¿œçš„ä¼ç·šã€å‹•çš„ã‚¹ã‚¿ã‚¤ãƒ«ã€èª­è€…ä½“é¨“ï¼‰ã‚’æ§‹ç¯‰ã—ã€æœ€çµ‚çš„ãªãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’çµ„ã¿ç«‹ã¦ã‚‹æ‰‹æ³•ã€‚\n\n## å…·ä½“çš„ãªæ‰‹æ³•\n\n### 8ã¤ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚¿ã‚¤ãƒ—\n\n```typescript\nenum SectionType {\n  REVOLUTIONARY_CHARACTER = 'revolutionaryCharacter',\n  INTEGRATED_LEARNING = 'integratedLearning',\n  UNIFIED_MEMORY = 'unifiedMemory',\n  ENHANCED_PLOT = 'enhancedPlot',\n  QUALITY_OPTIMIZATION = 'qualityOptimization',\n  ADAPTIVE_FORESHADOWING = 'adaptiveForeshadowing',\n  DYNAMIC_STYLE = 'dynamicStyle',\n  READER_EXPERIENCE = 'readerExperience'\n}\n\ninterface SectionConfig {\n  type: SectionType;\n  priority: number;          // 1-10\n  required: boolean;         // å¿…é ˆã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‹\n  maxTokens: number;         // æœ€å¤§ãƒˆãƒ¼ã‚¯ãƒ³æ•°\n  format: 'markdown' | 'structured' | 'narrative';\n}\n```\n\n### ã‚»ã‚¯ã‚·ãƒ§ãƒ³ãƒ“ãƒ«ãƒ€ãƒ¼ã®å®Ÿè£…\n\n```typescript\nclass SectionBuilder {\n  // é©å‘½çš„ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã‚»ã‚¯ã‚·ãƒ§ãƒ³\n  buildRevolutionaryCharacter(data: CharacterData): string {\n    if (!data) return '';\n\n    const sections: string[] = [];\n\n    // ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼\n    sections.push('## ä¸»è¦ç™»å ´äººç‰©');\n    data.activeCharacters.forEach(char => {\n      sections.push(`### ${char.name}`);\n      sections.push(`- å½¹å‰²: ${char.role}`);\n      sections.push(`- ç¾åœ¨ã®çŠ¶æ…‹: ${char.currentState}`);\n      sections.push(`- å¿ƒç†ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«: ${char.psychologicalProfile}`);\n      sections.push(`- æˆé•·è»Œé“: ${char.growthTrajectory}`);\n    });\n\n    // é–¢ä¿‚æ€§ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯\n    if (data.relationships?.length > 0) {\n      sections.push('\\n## é–¢ä¿‚æ€§');\n      data.relationships.forEach(rel => {\n        sections.push(`- ${rel.character1} â‡” ${rel.character2}: ${rel.type} (å¼·åº¦: ${rel.strength})`);\n      });\n    }\n\n    return sections.join('\\n');\n  }\n\n  // çµ±åˆå­¦ç¿’æ—…ç¨‹ã‚»ã‚¯ã‚·ãƒ§ãƒ³\n  buildIntegratedLearning(data: LearningJourneyData): string {\n    if (!data) return '';\n\n    return `## å­¦ç¿’æ—…ç¨‹\n\n### ç¾åœ¨ã®æ®µéš\n${data.currentStage}\n\n### æ„Ÿæƒ…ã‚¢ãƒ¼ã‚¯\n${data.emotionalArc}\n\n### çŸ¥è­˜çµ±åˆãƒ‘ã‚¹\n${data.knowledgeIntegrationPath.join(' â†’ ')}\n\n### ã‚«ã‚¿ãƒ«ã‚·ã‚¹æ©Ÿä¼š\n${data.catharsisOpportunities.map(c => `- ${c}`).join('\\n')}\n\n### æ¬¡ã®å­¦ç¿’ç›®æ¨™\n${data.nextLearningGoals.map(g => `- ${g}`).join('\\n')}\n    `.trim();\n  }\n\n  // çµ±ä¸€è¨˜æ†¶ã‚»ã‚¯ã‚·ãƒ§ãƒ³\n  buildUnifiedMemory(data: MemoryData): string {\n    if (!data) return '';\n\n    return `## è¨˜æ†¶çµ±åˆ\n\n### çŸ­æœŸè¨˜æ†¶ï¼ˆç›´è¿‘ã®å±•é–‹ï¼‰\n${this.formatShortTermMemory(data.shortTerm)}\n\n### ä¸­æœŸè¨˜æ†¶ï¼ˆã‚¢ãƒ¼ã‚¯å…¨ä½“ï¼‰\n${this.formatMidTermMemory(data.midTerm)}\n\n### é•·æœŸè¨˜æ†¶ï¼ˆãƒ‘ã‚¿ãƒ¼ãƒ³ãƒ»ãƒ†ãƒ¼ãƒï¼‰\n${this.formatLongTermMemory(data.longTerm)}\n\n### æ™‚ç³»åˆ—ãƒŠãƒ©ãƒ†ã‚£ãƒ–\n${this.formatNarrativeTimeline(data.narrativeTimeline)}\n    `.trim();\n  }\n\n  // å¼·åŒ–ãƒ—ãƒ­ãƒƒãƒˆã‚»ã‚¯ã‚·ãƒ§ãƒ³\n  buildEnhancedPlot(data: PlotData): string {\n    if (!data) return '';\n\n    return `## ãƒ—ãƒ­ãƒƒãƒˆæŒ‡ç¤º\n\n### ä¸–ç•Œè¨­å®š\n${data.worldSettings}\n\n### ç¾åœ¨ã®ã‚¢ãƒ¼ã‚¯\n${data.currentArc}\n\n### ãƒ—ãƒ­ãƒƒãƒˆå±•é–‹\n${data.plotDevelopment}\n\n### æ¬¡ç« ã¸ã®ä¼ç·š\n${data.foreshadowingForNextChapter.map(f => `- ${f}`).join('\\n')}\n\n### é¿ã‘ã‚‹ã¹ãå±•é–‹\n${data.avoidancePatterns.map(p => `- ${p}`).join('\\n')}\n    `.trim();\n  }\n\n  // å“è³ªæœ€é©åŒ–ã‚»ã‚¯ã‚·ãƒ§ãƒ³\n  buildQualityOptimization(data: AnalysisData, params: ParameterData): string {\n    if (!data && !params) return '';\n\n    return `## å“è³ªè¦ä»¶\n\n### ãƒ†ãƒ³ã‚·ãƒ§ãƒ³è¨­å®š\nç›®æ¨™: ${data.targetTension || 0.5} (ç¾åœ¨: ${data.currentTension || 0.5})\n\n### ãƒšãƒ¼ã‚·ãƒ³ã‚°\n${this.determinePacingGuidance(data.currentPacing, params.targetPacing)}\n\n### æ–‡ä½“è¦ä»¶\n- èªå½™å¤šæ§˜æ€§: ${params.vocabularyDiversity || 'æ¨™æº–'}\n- æ–‡æ§‹é€ : ${params.sentenceStructure || 'ãƒãƒ©ãƒ³ã‚¹å‹'}\n- è¡¨ç¾å¯†åº¦: ${params.expressivenessLevel || 'ä¸­'}\n\n### å“è³ªãƒ¡ãƒˆãƒªã‚¯ã‚¹ç›®æ¨™\n- èª­ã¿ã‚„ã™ã•: ${data.readabilityTarget || 'ä¸­'}\n- æ„Ÿæƒ…çš„ã‚¤ãƒ³ãƒ‘ã‚¯ãƒˆ: ${data.emotionalImpactTarget || 'ä¸­'}\n- ãƒ†ãƒ¼ãƒä¸€è²«æ€§: ${data.themeConsistencyTarget || 'é«˜'}\n    `.trim();\n  }\n\n  // é©å¿œçš„ä¼ç·šã‚»ã‚¯ã‚·ãƒ§ãƒ³\n  buildAdaptiveForeshadowing(data: ForeshadowingData): string {\n    if (!data) return '';\n\n    return `## ä¼ç·šç®¡ç†\n\n### ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ä¼ç·š\n${data.activeForeshadowing.map(f =>\n  `- ${f.id}: ${f.description} (è¨­ç½®: ç¬¬${f.plantedChapter}ç« , è§£æ±ºäºˆå®š: ç¬¬${f.resolutionChapter}ç« )`\n).join('\\n')}\n\n### ä»Šç« ã§è§£æ±ºã™ã¹ãä¼ç·š\n${data.toResolveInThisChapter.map(f => `- ${f.description}`).join('\\n') || 'ãªã—'}\n\n### ä»Šç« ã§è¨­ç½®ã™ã¹ãä¼ç·š\n${data.toPlantInThisChapter.map(f => `- ${f.description}`).join('\\n') || 'ãªã—'}\n    `.trim();\n  }\n\n  // å‹•çš„ã‚¹ã‚¿ã‚¤ãƒ«ã‚»ã‚¯ã‚·ãƒ§ãƒ³\n  buildDynamicStyle(guidance: StyleGuidance): string {\n    if (!guidance) return '';\n\n    return `## æ–‡ä½“æŒ‡ç¤º\n\n### ãƒˆãƒ¼ãƒ³\n${guidance.toneAndVoice}\n\n### ãƒšãƒ¼ã‚·ãƒ³ã‚°æŒ‡ç¤º\n${guidance.pacingGuidance}\n\n### ç„¦ç‚¹ã‚¨ãƒªã‚¢\n${guidance.focusAreas.map(a => `- ${a}`).join('\\n')}\n\n### å›é¿ãƒ‘ã‚¿ãƒ¼ãƒ³\n${guidance.avoidancePatterns.map(p => `- ${p}`).join('\\n')}\n    `.trim();\n  }\n\n  // èª­è€…ä½“é¨“ã‚»ã‚¯ã‚·ãƒ§ãƒ³\n  buildReaderExperience(context: RevolutionaryIntegratedData): string {\n    return `## èª­è€…ä½“é¨“è¨­è¨ˆ\n\n### æœŸå¾…ã•ã‚Œã‚‹èª­è€…ã®æ„Ÿæƒ…\n${this.predictReaderEmotions(context)}\n\n### ã‚¨ãƒ³ã‚²ãƒ¼ã‚¸ãƒ¡ãƒ³ãƒˆæˆ¦ç•¥\n${this.determineEngagementStrategy(context)}\n\n### æ¬¡ç« ã¸ã®æœŸå¾…æ§‹ç¯‰\n${this.buildAnticipationForNextChapter(context)}\n    `.trim();\n  }\n}\n```\n\n### ã‚»ã‚¯ã‚·ãƒ§ãƒ³çµ„ã¿ç«‹ã¦\n\n```typescript\nclass PromptAssembler {\n  assemble(\n    context: RevolutionaryIntegratedData,\n    sections: SectionConfig[]\n  ): string {\n    const sectionBuilder = new SectionBuilder();\n    const builtSections: string[] = [];\n\n    // å„ªå…ˆåº¦é †ã«ã‚½ãƒ¼ãƒˆ\n    const sortedSections = sections.sort((a, b) => b.priority - a.priority);\n\n    for (const config of sortedSections) {\n      let section = '';\n\n      switch (config.type) {\n        case SectionType.REVOLUTIONARY_CHARACTER:\n          section = sectionBuilder.buildRevolutionaryCharacter(\n            context.revolutionaryIntegration.characterSystem\n          );\n          break;\n        case SectionType.INTEGRATED_LEARNING:\n          section = sectionBuilder.buildIntegratedLearning(\n            context.revolutionaryIntegration.learningJourneySystem\n          );\n          break;\n        case SectionType.UNIFIED_MEMORY:\n          section = sectionBuilder.buildUnifiedMemory(\n            context.revolutionaryIntegration.memorySystem\n          );\n          break;\n        case SectionType.ENHANCED_PLOT:\n          section = sectionBuilder.buildEnhancedPlot(\n            context.revolutionaryIntegration.plotSystem\n          );\n          break;\n        case SectionType.QUALITY_OPTIMIZATION:\n          section = sectionBuilder.buildQualityOptimization(\n            context.revolutionaryIntegration.analysisSystem,\n            context.revolutionaryIntegration.parameterSystem\n          );\n          break;\n        case SectionType.ADAPTIVE_FORESHADOWING:\n          section = sectionBuilder.buildAdaptiveForeshadowing(\n            context.revolutionaryIntegration.foreshadowingSystem\n          );\n          break;\n        case SectionType.DYNAMIC_STYLE:\n          section = sectionBuilder.buildDynamicStyle(\n            context.styleGuidance\n          );\n          break;\n        case SectionType.READER_EXPERIENCE:\n          section = sectionBuilder.buildReaderExperience(context);\n          break;\n      }\n\n      if (section) {\n        builtSections.push(section);\n      }\n    }\n\n    return builtSections.join('\\n\\n---\\n\\n');\n  }\n}\n```\n\n## ãªãœã“ã®æ‰‹æ³•ã‚’ä½¿ã†ã‹\n\n### ç†ç”±1: ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«æ€§\n\nå„ã‚»ã‚¯ã‚·ãƒ§ãƒ³ãŒç‹¬ç«‹ã—ã¦ã„ã‚‹ãŸã‚ã€å¿…è¦ã«å¿œã˜ã¦è¿½åŠ ãƒ»å‰Šé™¤ãƒ»ä¸¦ã³æ›¿ãˆãŒå®¹æ˜“ã€‚\n\n### ç†ç”±2: å¯èª­æ€§\n\næ§‹é€ åŒ–ã•ã‚ŒãŸã‚»ã‚¯ã‚·ãƒ§ãƒ³ã«ã‚ˆã‚Šã€AIã ã‘ã§ãªãäººé–“ã«ã‚‚ç†è§£ã—ã‚„ã™ã„ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã«ãªã‚‹ã€‚\n\n### ç†ç”±3: ãƒ‡ãƒãƒƒã‚°ã®å®¹æ˜“ã•\n\nå•é¡ŒãŒç™ºç”Ÿã—ãŸå ´åˆã€ã©ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ãŒåŸå› ã‹ã‚’ç‰¹å®šã—ã‚„ã™ã„ã€‚\n\n### ç†ç”±4: æ®µéšçš„æ”¹å–„\n\nå„ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®ãƒ“ãƒ«ãƒ€ãƒ¼ã‚’å€‹åˆ¥ã«æ”¹å–„ã§ãã‚‹ãŸã‚ã€å…¨ä½“ã‚’å£Šã•ãšã«å“è³ªå‘ä¸ŠãŒå¯èƒ½ã€‚\n\n## å†ç¾æ–¹æ³•\n\n### ã‚¹ãƒ†ãƒƒãƒ—1: ã‚»ã‚¯ã‚·ãƒ§ãƒ³æ§‹æˆã®å®šç¾©\n\n```typescript\nconst sectionConfigs: SectionConfig[] = [\n  { type: SectionType.REVOLUTIONARY_CHARACTER, priority: 10, required: true, maxTokens: 1500, format: 'markdown' },\n  { type: SectionType.ENHANCED_PLOT, priority: 9, required: true, maxTokens: 1000, format: 'markdown' },\n  { type: SectionType.UNIFIED_MEMORY, priority: 8, required: true, maxTokens: 1200, format: 'markdown' },\n  { type: SectionType.INTEGRATED_LEARNING, priority: 7, required: false, maxTokens: 800, format: 'markdown' },\n  { type: SectionType.QUALITY_OPTIMIZATION, priority: 6, required: true, maxTokens: 600, format: 'structured' },\n  { type: SectionType.ADAPTIVE_FORESHADOWING, priority: 5, required: false, maxTokens: 500, format: 'markdown' },\n  { type: SectionType.DYNAMIC_STYLE, priority: 4, required: true, maxTokens: 400, format: 'narrative' },\n  { type: SectionType.READER_EXPERIENCE, priority: 3, required: false, maxTokens: 400, format: 'narrative' }\n];\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2: ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã®çµ„ã¿ç«‹ã¦\n\n```typescript\nconst assembler = new PromptAssembler();\nconst finalPrompt = assembler.assemble(integratedContext, sectionConfigs);\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3: æœ€çµ‚ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã®æ¤œè¨¼\n\n```typescript\nconsole.log('ç”Ÿæˆã•ã‚ŒãŸãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ:');\nconsole.log(finalPrompt);\nconsole.log('---');\nconsole.log('ãƒˆãƒ¼ã‚¯ãƒ³æ•°:', estimateTokens(finalPrompt));\n```\n\n## ã„ã¤ä½¿ã†ã‹\n\n- çµ±åˆã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚’æœ€çµ‚ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã«å¤‰æ›ã™ã‚‹å ´åˆ\n- ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã”ã¨ã«ç•°ãªã‚‹ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆãŒå¿…è¦ãªå ´åˆ\n- ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã®æ§‹é€ ã‚’æŸ”è»Ÿã«å¤‰æ›´ã—ãŸã„å ´åˆ\n- ãƒ‡ãƒãƒƒã‚°ã‚„æ”¹å–„ã‚’æ®µéšçš„ã«è¡Œã„ãŸã„å ´åˆ\n\n## æ³¨æ„ç‚¹\n\n### æ³¨æ„1: ã‚»ã‚¯ã‚·ãƒ§ãƒ³é †åºã®é‡è¦æ€§\n\nAIã¯ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã®å‰åŠéƒ¨åˆ†ã‚’ã‚ˆã‚Šé‡è¦–ã™ã‚‹å‚¾å‘ãŒã‚ã‚‹ã€‚é‡è¦ãªã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’å„ªå…ˆåº¦é«˜ãé…ç½®ã™ã‚‹ã€‚\n\n### æ³¨æ„2: ã‚»ã‚¯ã‚·ãƒ§ãƒ³é–“ã®é‡è¤‡\n\nç•°ãªã‚‹ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§åŒã˜æƒ…å ±ãŒé‡è¤‡ã—ãªã„ã‚ˆã†æ³¨æ„ã™ã‚‹ã€‚\n\n### æ³¨æ„3: ãƒˆãƒ¼ã‚¯ãƒ³ãƒã‚¸ã‚§ãƒƒãƒˆç®¡ç†\n\nå„ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®maxTokensã‚’å®ˆã‚‰ãªã„ã¨ã€å…¨ä½“ãŒè‚¥å¤§åŒ–ã™ã‚‹ã€‚\n\n### æ³¨æ„4: å¿…é ˆã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°\n\nrequired=trueã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§ãƒ‡ãƒ¼ã‚¿ãŒnullã®å ´åˆã€é©åˆ‡ãªãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ã‚’æä¾›ã™ã‚‹ã€‚\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `skill_context_generation_system_2025_11_25.md`ï¼šã‚»ã‚¯ã‚·ãƒ§ãƒ³æ§‹ç¯‰ã®å…ƒã¨ãªã‚‹ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆç”Ÿæˆ\n- `skill_prompt_template_management_2025_11_25.md`ï¼šãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã¨ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®çµ±åˆ\n- `skill_prompt_compression_optimization_2025_11_25.md`ï¼šã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®åœ§ç¸®æœ€é©åŒ–\n",
    "prompt": "### ã‚¹ãƒ†ãƒƒãƒ—1: ã‚»ã‚¯ã‚·ãƒ§ãƒ³æ§‹æˆã®å®šç¾©\n\n```typescript\nconst sectionConfigs: SectionConfig[] = [\n  { type: SectionType.REVOLUTIONARY_CHARACTER, priority: 10, required: true, maxTokens: 1500, format: 'markdown' },\n  { type: SectionType.ENHANCED_PLOT, priority: 9, required: true, maxTokens: 1000, format: 'markdown' },\n  { type: SectionType.UNIFIED_MEMORY, priority: 8, required: true, maxTokens: 1200, format: 'markdown' },\n  { type: SectionType.INTEGRATED_LEARNING, priority: 7, required: false, maxTokens: 800, format: 'markdown' },\n  { type: SectionType.QUALITY_OPTIMIZATION, priority: 6, required: true, maxTokens: 600, format: 'structured' },\n  { type: SectionType.ADAPTIVE_FORESHADOWING, priority: 5, required: false, maxTokens: 500, format: 'markdown' },\n  { type: SectionType.DYNAMIC_STYLE, priority: 4, required: true, maxTokens: 400, format: 'narrative' },\n  { type: SectionType.READER_EXPERIENCE, priority: 3, required: false, maxTokens: 400, format: 'narrative' }\n];\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2: ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã®çµ„ã¿ç«‹ã¦\n\n```typescript\nconst assembler = new PromptAssembler();\nconst finalPrompt = assembler.assemble(integratedContext, sectionConfigs);\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3: æœ€çµ‚ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã®æ¤œè¨¼\n\n```typescript\nconsole.log('ç”Ÿæˆã•ã‚ŒãŸãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ:');\nconsole.log(finalPrompt);\nconsole.log('---');\nconsole.log('ãƒˆãƒ¼ã‚¯ãƒ³æ•°:', estimateTokens(finalPrompt));\n```",
    "relatedTech": [
      "skill-context-generation-system",
      "skill-prompt-template-management",
      "skill-prompt-compression-optimization"
    ]
  },
  {
    "slug": "seo-blog-structure",
    "title": "SEOæœ€é©åŒ–ã•ã‚ŒãŸãƒ–ãƒ­ã‚°è¨˜äº‹æ§‹é€ ",
    "category": "Skillsï¼ˆã‚¹ã‚­ãƒ«ãƒ»æ‰‹æ³•ï¼‰",
    "description": "LLMï¼ˆGemini APIç­‰ï¼‰ã«è¨˜äº‹ã‚’ç”Ÿæˆã•ã›ã‚‹éš›ã€SEOæœ€é©åŒ–ã•ã‚ŒãŸæ§‹é€ ã§å‡ºåŠ›ã•ã›ã‚‹æ‰‹æ³•ã€‚æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³ã«è©•ä¾¡ã•ã‚Œã‚‹è¨˜äº‹æ§‹é€ ã‚’ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã§å¼·åˆ¶ã™ã‚‹ã€‚",
    "project": "ai-blog-generator",
    "usedIn": [
      "src/lib/prompt.ts:23-47"
    ],
    "code": "```json\n{\n  \"id\": \"skill_seo_blog_structure_2025_04_22\",\n  \"type\": \"skill\",\n  \"name\": \"SEOæœ€é©åŒ–ã•ã‚ŒãŸãƒ–ãƒ­ã‚°è¨˜äº‹æ§‹é€ \",\n  \"tags\": [\"ãƒ–ãƒ­ã‚°\", \"SEO\", \"è¨˜äº‹æ§‹é€ \", \"ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚°\", \"LLM\", \"ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”Ÿæˆ\", \"Gemini\", \"è¨˜äº‹ç”Ÿæˆ\"],\n  \"source_project\": \"ai-blog-generator\",\n  \"source_file\": \"src/lib/prompt.ts:23-47\",\n  \"related_knowledge\": [\n    \"skill_prompt_engineering_category_custom_2025_04_22\",\n    \"decision_param_article_length_2000_3000_2025_04_22\"\n  ],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-04-22\",\n  \"updated\": \"2025-04-22\"\n}\n```\n\n# SEOæœ€é©åŒ–ã•ã‚ŒãŸãƒ–ãƒ­ã‚°è¨˜äº‹æ§‹é€ \n\n## ä½•ã‚’ã™ã‚‹ã‚¹ã‚­ãƒ«ã‹\n\nLLMï¼ˆGemini APIç­‰ï¼‰ã«è¨˜äº‹ã‚’ç”Ÿæˆã•ã›ã‚‹éš›ã€SEOæœ€é©åŒ–ã•ã‚ŒãŸæ§‹é€ ã§å‡ºåŠ›ã•ã›ã‚‹æ‰‹æ³•ã€‚æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³ã«è©•ä¾¡ã•ã‚Œã‚‹è¨˜äº‹æ§‹é€ ã‚’ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã§å¼·åˆ¶ã™ã‚‹ã€‚\n\n## å…·ä½“çš„ãªæ‰‹æ³•\n\n### 1. è¨˜äº‹æ§‹é€ ã®æ˜ç¤ºçš„ãªæŒ‡å®š\n\nãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã«ä»¥ä¸‹ã‚’å«ã‚ã‚‹ï¼š\n\n```\nè¨˜äº‹ã¯ä»¥ä¸‹ã®å½¢å¼ã§ãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³å½¢å¼ã§æ›¸ã„ã¦ãã ã•ã„ï¼š\n1. ã‚¿ã‚¤ãƒˆãƒ« (# ã§å§‹ã¾ã‚‹è¦‹å‡ºã—ã€SEOã«æœ€é©åŒ–ã•ã‚ŒãŸé­…åŠ›çš„ãªã‚¿ã‚¤ãƒˆãƒ«)\n2. å°å…¥éƒ¨ (ãªãœã“ã®ãƒˆãƒ”ãƒƒã‚¯ãŒä»Šé‡è¦ã‹ã€èª­è€…ã®èˆˆå‘³ã‚’å¼•ãæ›¸ãå‡ºã—)\n3. ä¸»è¦ãªãƒã‚¤ãƒ³ãƒˆ (## ã§å§‹ã¾ã‚‹è¦‹å‡ºã—ã€3-5ã¤ã®é‡è¦ãªã‚»ã‚¯ã‚·ãƒ§ãƒ³)\n4. å®Ÿç”¨çš„ãªä¾‹ã‚„ã‚³ãƒ¼ãƒ‰ä¾‹ (### ã§å§‹ã¾ã‚‹å°è¦‹å‡ºã—)\n5. ã¾ã¨ã‚ã¨æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—\n```\n\n**ãªãœã“ã®æ§‹é€ ã‹**ï¼š\n- `h1â†’h2â†’h3` ã®éšå±¤æ§‹é€ ã¯æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³ãŒç†è§£ã—ã‚„ã™ã„\n- 3-5ã‚»ã‚¯ã‚·ãƒ§ãƒ³ãŒèª­ã¿ã‚„ã™ãã€é›¢è„±ç‡ãŒä½ã„\n- å®Ÿç”¨ä¾‹ãŒã‚ã‚‹ã¨ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æ»åœ¨æ™‚é–“ãŒé•·ããªã‚‹\n\n### 2. æ–‡å­—æ•°ã®æŒ‡å®š\n\n```\n- è¨˜äº‹ã®é•·ã•ã¯ç´„2000ã€œ3000æ–‡å­—ã«ã—ã¦ãã ã•ã„\n```\n\n**ãªãœ2000-3000æ–‡å­—ã‹**ï¼š\n- çŸ­ã™ãã‚‹è¨˜äº‹ï¼ˆ<1000æ–‡å­—ï¼‰ã¯SEOçš„ã«ä¸åˆ©ï¼ˆæƒ…å ±é‡ä¸è¶³ã¨åˆ¤æ–­ã•ã‚Œã‚‹ï¼‰\n- é•·ã™ãã‚‹è¨˜äº‹ï¼ˆ>5000æ–‡å­—ï¼‰ã¯èª­è€…ãŒé›¢è„±ã™ã‚‹\n- 2000-3000æ–‡å­—ãŒæ¤œç´¢é †ä½ã¨èª­äº†ç‡ã®ãƒãƒ©ãƒ³ã‚¹ãŒæœ€é©\n\n### 3. ã‚¿ã‚¤ãƒˆãƒ«ã®æœ€é©åŒ–æŒ‡ç¤º\n\n```\n# ã§å§‹ã¾ã‚‹è¦‹å‡ºã—ã€SEOã«æœ€é©åŒ–ã•ã‚ŒãŸé­…åŠ›çš„ãªã‚¿ã‚¤ãƒˆãƒ«\n```\n\n**SEOã«æœ€é©åŒ–ã•ã‚ŒãŸã‚¿ã‚¤ãƒˆãƒ«ã®è¦ä»¶**ï¼š\n- **ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‚’å«ã‚€**ï¼ˆä¾‹ï¼šã€ŒTypeScript ãƒ•ãƒªãƒ¼ãƒ©ãƒ³ã‚¹ã€ï¼‰\n- **å…·ä½“çš„ãªæ•°å­—ã‚’å«ã‚€**ï¼ˆä¾‹ï¼šã€Œ2025å¹´æœ€æ–°ã€ã€Œ3ã¤ã®æˆ¦ç•¥ã€ï¼‰\n- **è¡Œå‹•ã‚’ä¿ƒã™**ï¼ˆä¾‹ï¼šã€Œã€‡ã€‡ã™ã‚‹æ–¹æ³•ã€ã€Œã€‡ã€‡ã®ã‚¹ãƒ†ãƒƒãƒ—ã€ï¼‰\n- **40-60æ–‡å­—**ãŒç†æƒ³ï¼ˆæ¤œç´¢çµæœã«å®Œå…¨è¡¨ç¤ºã•ã‚Œã‚‹ï¼‰\n\n**å®Ÿéš›ã«ç”Ÿæˆã•ã‚ŒãŸã‚¿ã‚¤ãƒˆãƒ«ä¾‹**ï¼š\n```\nTypeScriptãƒ•ãƒªãƒ¼ãƒ©ãƒ³ã‚¹æ¡ˆä»¶ã§é«˜åå…¥ã‚’ç‹™ãˆï¼2025å¹´æœ€æ–°å¸‚å ´å‹•å‘ã¨ã‚¹ã‚­ãƒ«ã‚¢ãƒƒãƒ—æˆ¦ç•¥\n```\nâ†’ ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã€ŒTypeScript ãƒ•ãƒªãƒ¼ãƒ©ãƒ³ã‚¹ã€ã€æ•°å­—ã€Œ2025å¹´æœ€æ–°ã€ã€è¡Œå‹•ã€Œç‹™ãˆã€ã‚’å«ã‚€\n\n### 4. å®Ÿè·µçš„ãªå†…å®¹ã®æŒ‡ç¤º\n\n```\n- å®Ÿè·µçš„ã§ä¾¡å€¤ã®ã‚ã‚‹æƒ…å ±ã‚’å«ã‚ã¦ãã ã•ã„\n- èª­è€…ãŒå®Ÿéš›ã«è¡Œå‹•ã§ãã‚‹å…·ä½“çš„ãªã‚¹ãƒ†ãƒƒãƒ—ã‚’å«ã‚ã¦ãã ã•ã„\n```\n\n**ãªãœå®Ÿè·µçš„ãªå†…å®¹ãŒé‡è¦ã‹**ï¼š\n- ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æ»åœ¨æ™‚é–“ãŒé•·ããªã‚‹ï¼ˆæ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³ãŒè©•ä¾¡ï¼‰\n- SNSã‚·ã‚§ã‚¢ã•ã‚Œã‚„ã™ã„\n- è¢«ãƒªãƒ³ã‚¯ã‚’ç²å¾—ã—ã‚„ã™ã„ï¼ˆä»–ã‚µã‚¤ãƒˆã‹ã‚‰å‚ç…§ã•ã‚Œã‚‹ï¼‰\n\n### 5. æœ€æ–°æƒ…å ±ã®æ˜ç¤º\n\n```\n- æœ€æ–°ã®æƒ…å ±ï¼ˆ2025å¹´4æœˆæ™‚ç‚¹ï¼‰ã‚’åæ˜ ã•ã›ã¦ãã ã•ã„\n```\n\n**ãªãœæœ€æ–°æƒ…å ±ã‚’æ˜ç¤ºã™ã‚‹ã‹**ï¼š\n- æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³ã¯æ–°ã—ã„æƒ…å ±ã‚’å„ªå…ˆã™ã‚‹\n- ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯å¤ã„æƒ…å ±ã‚’å«Œã†\n- ã€Œ2025å¹´ã€ç­‰ã®å¹´å·ã‚’ã‚¿ã‚¤ãƒˆãƒ«ãƒ»æœ¬æ–‡ã«å«ã‚ã‚‹ã“ã¨ã§é®®åº¦ã‚’ã‚¢ãƒ”ãƒ¼ãƒ«\n\n## ãªãœã“ã®æ‰‹æ³•ã‚’ä½¿ã†ã‹\n\n### ç†ç”±1ï¼šLLMã¯æ˜ç¢ºãªæŒ‡ç¤ºãŒãªã„ã¨æ§‹é€ ãŒä¸å®‰å®š\n\nLLMã«ã€Œãƒ–ãƒ­ã‚°è¨˜äº‹ã‚’æ›¸ã„ã¦ãã ã•ã„ã€ã ã‘æŒ‡ç¤ºã™ã‚‹ã¨ï¼š\n- è¦‹å‡ºã—æ§‹é€ ãŒãƒãƒ©ãƒãƒ©\n- æ–‡å­—æ•°ãŒçŸ­ã™ãã‚‹ or é•·ã™ãã‚‹\n- SEOã«æœ€é©åŒ–ã•ã‚Œã¦ã„ãªã„\n\næ˜ç¢ºãªæ§‹é€ ã‚’æŒ‡å®šã™ã‚‹ã“ã¨ã§ã€ä¸€è²«æ€§ã®ã‚ã‚‹è¨˜äº‹ã‚’ç”Ÿæˆã§ãã‚‹ã€‚\n\n### ç†ç”±2ï¼šSEOã¯æ§‹é€ ãŒé‡è¦\n\næ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³ã®ã‚¯ãƒ­ãƒ¼ãƒ©ãƒ¼ã¯ï¼š\n- h1â†’h2â†’h3 ã®éšå±¤ã‚’é‡è¦–\n- æ–‡å­—æ•°ã§æƒ…å ±é‡ã‚’åˆ¤æ–­\n- ã‚¿ã‚¤ãƒˆãƒ«ã¨ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®é–¢é€£æ€§ã‚’ãƒã‚§ãƒƒã‚¯\n\nãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã§æ§‹é€ ã‚’å¼·åˆ¶ã™ã‚‹ã“ã¨ã§ã€SEOçš„ã«æœ‰åˆ©ãªè¨˜äº‹ã‚’è‡ªå‹•ç”Ÿæˆã§ãã‚‹ã€‚\n\n### ç†ç”±3ï¼šèª­è€…ã®è¡Œå‹•ã‚’æœ€é©åŒ–\n\n- å°å…¥éƒ¨ã§èˆˆå‘³ã‚’å¼•ã â†’ é›¢è„±ç‡ä½ä¸‹\n- å®Ÿç”¨ä¾‹ã‚’å«ã‚€ â†’ æ»åœ¨æ™‚é–“å¢—åŠ \n- ã¾ã¨ã‚ã§è¡Œå‹•ã‚’ä¿ƒã™ â†’ ã‚³ãƒ³ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç‡å‘ä¸Š\n\n## å†ç¾æ–¹æ³•\n\n### ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã«è¿½åŠ ã™ã¹ããƒ†ã‚­ã‚¹ãƒˆ\n\n```typescript\nconst prompt = `\nã‚ãªãŸã¯${category}ã®å°‚é–€å®¶ã§ã€æœ€æ–°ãƒˆãƒ¬ãƒ³ãƒ‰ã«ç²¾é€šã—ãŸãƒ†ãƒƒã‚¯ãƒ–ãƒ­ã‚¬ãƒ¼ã§ã™ã€‚\nã€Œ${topic}ã€ã«ã¤ã„ã¦ã®æƒ…å ±ä¾¡å€¤ã®é«˜ã„ãƒ–ãƒ­ã‚°è¨˜äº‹ã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚\n\nè¨˜äº‹ã¯ä»¥ä¸‹ã®å½¢å¼ã§ãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³å½¢å¼ã§æ›¸ã„ã¦ãã ã•ã„ï¼š\n1. ã‚¿ã‚¤ãƒˆãƒ« (# ã§å§‹ã¾ã‚‹è¦‹å‡ºã—ã€SEOã«æœ€é©åŒ–ã•ã‚ŒãŸé­…åŠ›çš„ãªã‚¿ã‚¤ãƒˆãƒ«)\n2. å°å…¥éƒ¨ (ãªãœã“ã®ãƒˆãƒ”ãƒƒã‚¯ãŒä»Šé‡è¦ã‹ã€èª­è€…ã®èˆˆå‘³ã‚’å¼•ãæ›¸ãå‡ºã—)\n3. ä¸»è¦ãªãƒã‚¤ãƒ³ãƒˆ (## ã§å§‹ã¾ã‚‹è¦‹å‡ºã—ã€3-5ã¤ã®é‡è¦ãªã‚»ã‚¯ã‚·ãƒ§ãƒ³)\n4. å®Ÿç”¨çš„ãªä¾‹ã‚„ã‚³ãƒ¼ãƒ‰ä¾‹ (### ã§å§‹ã¾ã‚‹å°è¦‹å‡ºã—)\n5. ã¾ã¨ã‚ã¨æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—\n\nè¿½åŠ ã®æŒ‡ç¤º:\n- ãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³è¨˜æ³•ã‚’ä½¿ã£ã¦èª­ã¿ã‚„ã™ãæ§‹é€ åŒ–ã—ã¦ãã ã•ã„\n- å®Ÿè·µçš„ã§ä¾¡å€¤ã®ã‚ã‚‹æƒ…å ±ã‚’å«ã‚ã¦ãã ã•ã„\n- èª­è€…ãŒå®Ÿéš›ã«è¡Œå‹•ã§ãã‚‹å…·ä½“çš„ãªã‚¹ãƒ†ãƒƒãƒ—ã‚’å«ã‚ã¦ãã ã•ã„\n- SEOæœ€é©åŒ–ã•ã‚ŒãŸã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ä½œæˆã—ã¦ãã ã•ã„\n- è¨˜äº‹ã®é•·ã•ã¯ç´„2000ã€œ3000æ–‡å­—ã«ã—ã¦ãã ã•ã„\n- æœ€æ–°ã®æƒ…å ±ï¼ˆ2025å¹´4æœˆæ™‚ç‚¹ï¼‰ã‚’åæ˜ ã•ã›ã¦ãã ã•ã„\n\né‡è¦: ã‚¿ã‚¤ãƒˆãƒ«ã¯å¿…ãš # ã§å§‹ã¾ã‚‹å½¢å¼ã§æœ€åˆã«æ›¸ã„ã¦ãã ã•ã„ã€‚\n`;\n```\n\n### ç”Ÿæˆã•ã‚ŒãŸè¨˜äº‹ã®ç¢ºèªæ–¹æ³•\n\n1. ã‚¿ã‚¤ãƒˆãƒ«æŠ½å‡ºï¼š\n```typescript\nconst titleMatch = content.match(/^# (.+)$/m);\nconst title = titleMatch ? titleMatch[1] : topic;\n```\n\n2. æ§‹é€ ãƒã‚§ãƒƒã‚¯ï¼š\n- h1ãŒ1ã¤ã ã‘ã‹ï¼Ÿ\n- h2ãŒ3-5å€‹ã‚ã‚‹ã‹ï¼Ÿ\n- æ–‡å­—æ•°ãŒ2000-3000æ–‡å­—ã‹ï¼Ÿ\n\n## ã„ã¤ä½¿ã†ã‹\n\n- ãƒ–ãƒ­ã‚°è¨˜äº‹ã‚’è‡ªå‹•ç”Ÿæˆã™ã‚‹å ´åˆ\n- LLMã«SEOæœ€é©åŒ–ã•ã‚ŒãŸã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ç”Ÿæˆã•ã›ãŸã„å ´åˆ\n- ä¸€è²«ã—ãŸè¨˜äº‹æ§‹é€ ã‚’ç¶­æŒã—ãŸã„å ´åˆ\n- ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°ã‚’è‡ªå‹•åŒ–ã—ãŸã„å ´åˆ\n\n## æ³¨æ„ç‚¹\n\n### æ³¨æ„ç‚¹1ï¼šã€ŒSEOæœ€é©åŒ–ã€ã ã‘ã§ã¯ä¸ååˆ†\n\nâŒ æ‚ªã„ä¾‹ï¼š\n```\nSEOæœ€é©åŒ–ã•ã‚ŒãŸè¨˜äº‹ã‚’æ›¸ã„ã¦ãã ã•ã„\n```\nâ†’ LLMã¯ã€ŒSEOæœ€é©åŒ–ã€ã®å…·ä½“çš„ãªæ„å‘³ã‚’ç†è§£ã§ããªã„\n\nâœ… è‰¯ã„ä¾‹ï¼š\n```\nè¨˜äº‹ã®é•·ã•ã¯2000-3000æ–‡å­—ã€h1â†’h2â†’h3ã®éšå±¤æ§‹é€ ã€\nã‚¿ã‚¤ãƒˆãƒ«ã«ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‚’å«ã‚€\n```\nâ†’ å…·ä½“çš„ãªæŒ‡ç¤º\n\n### æ³¨æ„ç‚¹2ï¼šæ–‡å­—æ•°ã‚’æŒ‡å®šã—ãªã„ã¨æ¥µç«¯ãªè¨˜äº‹ãŒç”Ÿæˆã•ã‚Œã‚‹\n\næ–‡å­—æ•°æŒ‡å®šãªã—ï¼š\n- 500æ–‡å­—ã®çŸ­ã„è¨˜äº‹ï¼ˆSEOçš„ã«ä¸åˆ©ï¼‰\n- 8000æ–‡å­—ã®é•·ã™ãã‚‹è¨˜äº‹ï¼ˆèª­è€…ãŒé›¢è„±ï¼‰\n\n### æ³¨æ„ç‚¹3ï¼šã‚«ãƒ†ã‚´ãƒªã«ã‚ˆã£ã¦æœ€é©ãªæ§‹é€ ãŒç•°ãªã‚‹\n\n- ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨˜äº‹ï¼šã‚³ãƒ¼ãƒ‰ä¾‹ãŒå¿…é ˆ\n- ã‚­ãƒ£ãƒªã‚¢è¨˜äº‹ï¼šå…·ä½“çš„ãªã‚¹ãƒ†ãƒƒãƒ—ãŒå¿…é ˆ\n- ãƒ“ã‚¸ãƒã‚¹è¨˜äº‹ï¼šãƒ‡ãƒ¼ã‚¿ãƒ»æ•°å­—ãŒå¿…é ˆ\n\nâ†’ ã‚«ãƒ†ã‚´ãƒªåˆ¥ã«ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã™ã‚‹ï¼ˆé–¢é€£ã‚¹ã‚­ãƒ«å‚ç…§ï¼‰\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `skill_prompt_engineering_category_custom_2025_04_22.md` - ã‚«ãƒ†ã‚´ãƒªåˆ¥ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º\n- `decision_param_article_length_2000_3000_2025_04_22.md` - è¨˜äº‹æ–‡å­—æ•°ã®åˆ¤æ–­\n- `workflow_blog_auto_generation_flow_2025_04_22.md` - ã“ã®ã‚¹ã‚­ãƒ«ã‚’ä½¿ã†ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼\n",
    "prompt": "### ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã«è¿½åŠ ã™ã¹ããƒ†ã‚­ã‚¹ãƒˆ\n\n```typescript\nconst prompt = `\nã‚ãªãŸã¯${category}ã®å°‚é–€å®¶ã§ã€æœ€æ–°ãƒˆãƒ¬ãƒ³ãƒ‰ã«ç²¾é€šã—ãŸãƒ†ãƒƒã‚¯ãƒ–ãƒ­ã‚¬ãƒ¼ã§ã™ã€‚\nã€Œ${topic}ã€ã«ã¤ã„ã¦ã®æƒ…å ±ä¾¡å€¤ã®é«˜ã„ãƒ–ãƒ­ã‚°è¨˜äº‹ã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚\n\nè¨˜äº‹ã¯ä»¥ä¸‹ã®å½¢å¼ã§ãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³å½¢å¼ã§æ›¸ã„ã¦ãã ã•ã„ï¼š\n1. ã‚¿ã‚¤ãƒˆãƒ« (# ã§å§‹ã¾ã‚‹è¦‹å‡ºã—ã€SEOã«æœ€é©åŒ–ã•ã‚ŒãŸé­…åŠ›çš„ãªã‚¿ã‚¤ãƒˆãƒ«)\n2. å°å…¥éƒ¨ (ãªãœã“ã®ãƒˆãƒ”ãƒƒã‚¯ãŒä»Šé‡è¦ã‹ã€èª­è€…ã®èˆˆå‘³ã‚’å¼•ãæ›¸ãå‡ºã—)\n3. ä¸»è¦ãªãƒã‚¤ãƒ³ãƒˆ (## ã§å§‹ã¾ã‚‹è¦‹å‡ºã—ã€3-5ã¤ã®é‡è¦ãªã‚»ã‚¯ã‚·ãƒ§ãƒ³)\n4. å®Ÿç”¨çš„ãªä¾‹ã‚„ã‚³ãƒ¼ãƒ‰ä¾‹ (### ã§å§‹ã¾ã‚‹å°è¦‹å‡ºã—)\n5. ã¾ã¨ã‚ã¨æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—\n\nè¿½åŠ ã®æŒ‡ç¤º:\n- ãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³è¨˜æ³•ã‚’ä½¿ã£ã¦èª­ã¿ã‚„ã™ãæ§‹é€ åŒ–ã—ã¦ãã ã•ã„\n- å®Ÿè·µçš„ã§ä¾¡å€¤ã®ã‚ã‚‹æƒ…å ±ã‚’å«ã‚ã¦ãã ã•ã„\n- èª­è€…ãŒå®Ÿéš›ã«è¡Œå‹•ã§ãã‚‹å…·ä½“çš„ãªã‚¹ãƒ†ãƒƒãƒ—ã‚’å«ã‚ã¦ãã ã•ã„\n- SEOæœ€é©åŒ–ã•ã‚ŒãŸã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ä½œæˆã—ã¦ãã ã•ã„\n- è¨˜äº‹ã®é•·ã•ã¯ç´„2000ã€œ3000æ–‡å­—ã«ã—ã¦ãã ã•ã„\n- æœ€æ–°ã®æƒ…å ±ï¼ˆ2025å¹´4æœˆæ™‚ç‚¹ï¼‰ã‚’åæ˜ ã•ã›ã¦ãã ã•ã„\n\né‡è¦: ã‚¿ã‚¤ãƒˆãƒ«ã¯å¿…ãš # ã§å§‹ã¾ã‚‹å½¢å¼ã§æœ€åˆã«æ›¸ã„ã¦ãã ã•ã„ã€‚\n`;\n```\n\n### ç”Ÿæˆã•ã‚ŒãŸè¨˜äº‹ã®ç¢ºèªæ–¹æ³•\n\n1. ã‚¿ã‚¤ãƒˆãƒ«æŠ½å‡ºï¼š\n```typescript\nconst titleMatch = content.match(/^# (.+)$/m);\nconst title = titleMatch ? titleMatch[1] : topic;\n```\n\n2. æ§‹é€ ãƒã‚§ãƒƒã‚¯ï¼š\n- h1ãŒ1ã¤ã ã‘ã‹ï¼Ÿ\n- h2ãŒ3-5å€‹ã‚ã‚‹ã‹ï¼Ÿ\n- æ–‡å­—æ•°ãŒ2000-3000æ–‡å­—ã‹ï¼Ÿ",
    "relatedTech": [
      "skill-prompt-engineering-category-custom",
      "decision-param-article-length-2000-3000"
    ]
  },
  {
    "slug": "seven-service-character-integration-architecture",
    "title": "7ã‚µãƒ¼ãƒ“ã‚¹çµ±åˆã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ç®¡ç†ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£",
    "category": "Skillsï¼ˆã‚¹ã‚­ãƒ«ãƒ»æ‰‹æ³•ï¼‰",
    "description": "AIå°èª¬è‡ªå‹•ç”Ÿæˆã‚·ã‚¹ãƒ†ãƒ ã«ãŠã„ã¦ã€ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ç®¡ç†ã‚’**7ã¤ã®å°‚é–€ã‚µãƒ¼ãƒ“ã‚¹**ã«åˆ†å‰²ã—ã€ãƒ•ã‚¡ã‚µãƒ¼ãƒ‰ãƒ‘ã‚¿ãƒ¼ãƒ³ã§çµ±åˆã™ã‚‹æ‰‹æ³•ã€‚å„ã‚µãƒ¼ãƒ“ã‚¹ã¯ç‹¬ç«‹ã—ã¦å‹•ä½œã—ãªãŒã‚‰ã€ã‚¤ãƒ™ãƒ³ãƒˆãƒã‚¹ã¨ãƒ¡ãƒ¢ãƒªéšå±¤ã‚’é€šã˜ã¦é€£æºã—ã€åŒ…æ‹¬çš„ãªã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ç®¡ç†ã‚’å®Ÿç¾ã™ã‚‹ã€‚",
    "project": "novel-automation-system-v2",
    "usedIn": [
      "src/lib/characters/manager.ts:1-1245"
    ],
    "code": "```json\n{\n  \"id\": \"skill_seven_service_character_integration_architecture_2025_11_25\",\n  \"type\": \"skill\",\n  \"name\": \"7ã‚µãƒ¼ãƒ“ã‚¹çµ±åˆã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ç®¡ç†ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£\",\n  \"tags\": [\"ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ç®¡ç†\", \"ã‚µãƒ¼ãƒ“ã‚¹æŒ‡å‘ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£\", \"SOA\", \"AIå°èª¬ç”Ÿæˆ\", \"ã‚·ã‚¹ãƒ†ãƒ è¨­è¨ˆ\", \"çµ±åˆãƒ‘ã‚¿ãƒ¼ãƒ³\"],\n  \"source_project\": \"novel-automation-system-v2\",\n  \"source_file\": \"src/lib/characters/manager.ts:1-1245\",\n  \"related_knowledge\": [\n    \"skill_character_evolution_growth_plan_management_2025_11_25\",\n    \"skill_unified_character_data_generation_2025_11_25\",\n    \"decision_seven_service_separation_rationale_2025_11_25\"\n  ],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# 7ã‚µãƒ¼ãƒ“ã‚¹çµ±åˆã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ç®¡ç†ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£\n\n## ä½•ã‚’ã™ã‚‹ã‚¹ã‚­ãƒ«ã‹\n\nAIå°èª¬è‡ªå‹•ç”Ÿæˆã‚·ã‚¹ãƒ†ãƒ ã«ãŠã„ã¦ã€ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ç®¡ç†ã‚’**7ã¤ã®å°‚é–€ã‚µãƒ¼ãƒ“ã‚¹**ã«åˆ†å‰²ã—ã€ãƒ•ã‚¡ã‚µãƒ¼ãƒ‰ãƒ‘ã‚¿ãƒ¼ãƒ³ã§çµ±åˆã™ã‚‹æ‰‹æ³•ã€‚å„ã‚µãƒ¼ãƒ“ã‚¹ã¯ç‹¬ç«‹ã—ã¦å‹•ä½œã—ãªãŒã‚‰ã€ã‚¤ãƒ™ãƒ³ãƒˆãƒã‚¹ã¨ãƒ¡ãƒ¢ãƒªéšå±¤ã‚’é€šã˜ã¦é€£æºã—ã€åŒ…æ‹¬çš„ãªã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ç®¡ç†ã‚’å®Ÿç¾ã™ã‚‹ã€‚\n\n## å…·ä½“çš„ãªæ‰‹æ³•\n\n### 7ã‚µãƒ¼ãƒ“ã‚¹ã®æ¦‚è¦\n\n| # | ã‚µãƒ¼ãƒ“ã‚¹å | è²¬å‹™ | ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚º |\n|---|-----------|------|--------------|\n| 1 | **CharacterService** | CRUDæ“ä½œã€çµ±ä¸€ãƒ‡ãƒ¼ã‚¿ç”Ÿæˆã®çµ±åˆãƒãƒ– | 59KB |\n| 2 | **DetectionService** | ãƒ†ã‚­ã‚¹ãƒˆå†…ã®ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼æ¤œå‡ºï¼ˆåå‰ã€å¯¾è©±ï¼‰ | 47KB |\n| 3 | **EvolutionService** | æˆé•·ãƒ»ç™ºå±•ç®¡ç†ï¼ˆæˆé•·ãƒ—ãƒ©ãƒ³ã€ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ï¼‰ | 130KB |\n| 4 | **PsychologyService** | å¿ƒç†åˆ†æã€æ„Ÿæƒ…ãƒ¢ãƒ‡ãƒªãƒ³ã‚°ï¼ˆAIæ´»ç”¨ï¼‰ | 50KB |\n| 5 | **RelationshipService** | é–¢ä¿‚æ€§ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ç®¡ç†ï¼ˆã‚¯ãƒ©ã‚¹ã‚¿ã€å½±éŸ¿ãƒãƒƒãƒ—ï¼‰ | 72KB |\n| 6 | **ParameterService** | å‹•çš„ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ç®¡ç†ï¼ˆã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆå¯¾å¿œèª¿æ•´ï¼‰ | 50KB |\n| 7 | **SkillService** | ã‚¹ã‚­ãƒ«ç¿’å¾—ãƒ»é€²è¡Œç®¡ç†ï¼ˆã‚¹ã‚­ãƒ«ãƒ„ãƒªãƒ¼ã€ä¾å­˜é–¢ä¿‚ï¼‰ | 56KB |\n\n### ãƒ•ã‚¡ã‚µãƒ¼ãƒ‰ãƒ‘ã‚¿ãƒ¼ãƒ³ã«ã‚ˆã‚‹çµ±åˆ\n\n**CharacterManagerï¼ˆãƒ•ã‚¡ã‚µãƒ¼ãƒ‰ï¼‰**ï¼š\n\n```typescript\nexport class CharacterManager {\n    constructor(\n        private readonly characterService: CharacterService,\n        private readonly memoryManager?: MemoryManager,\n        private readonly detectionService?: DetectionService,\n        private readonly evolutionService?: EvolutionService,\n        private readonly psychologyService?: PsychologyService,\n        private readonly relationshipService?: RelationshipService,\n        private readonly parameterService?: ParameterService,\n        private readonly skillService?: SkillService\n    ) {}\n\n    // çµ±ä¸€ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹\n    async createCharacter(data: CharacterData): Promise<Character> {\n        return this.executeOperation(\n            'createCharacter',\n            () => this.characterService.createCharacter(data)\n        );\n    }\n\n    async getUnifiedCharacterForPrompt(\n        characterId: string,\n        context: GenerationContext\n    ): Promise<UnifiedCharacterData> {\n        // 7ã‚µãƒ¼ãƒ“ã‚¹ã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’ä¸¦åˆ—å–å¾—\n        const [\n            characterDetails,\n            evolution,\n            psychology,\n            relationships,\n            parameters,\n            skills,\n            detection\n        ] = await Promise.allSettled([\n            this.buildCharacterWithDetails(baseCharacter, context),\n            this.getCharacterEvolution(characterId, context),\n            this.getCharacterPsychology(characterId, context),\n            this.getCharacterRelationships(characterId, context),\n            this.getCharacterParameters(characterId, context),\n            this.getCharacterSkills(characterId, context),\n            this.getCharacterDetection(characterId, context)\n        ]);\n\n        // çµ±åˆãƒ‡ãƒ¼ã‚¿ã‚’æ§‹ç¯‰\n        return this.buildUnifiedData(/* å„ã‚µãƒ¼ãƒ“ã‚¹ã®çµæœ */);\n    }\n}\n```\n\n### ã‚µãƒ¼ãƒ“ã‚¹é–“é€šä¿¡ã®3ãƒ‘ã‚¿ãƒ¼ãƒ³\n\n**1. ç›´æ¥ãƒ¡ã‚½ãƒƒãƒ‰å‘¼ã³å‡ºã—ï¼ˆåŒæœŸçš„ï¼‰**\n\n```typescript\n// CharacterManager â†’ Service\nconst character = await this.characterService.getCharacter(characterId);\n```\n\n**2. ã‚¤ãƒ™ãƒ³ãƒˆãƒã‚¹ï¼ˆéåŒæœŸãƒ»ç–çµåˆï¼‰**\n\n```typescript\n// ã‚¤ãƒ™ãƒ³ãƒˆç™ºè¡Œ\neventBus.publish(EVENT_TYPES.CHARACTER_CREATED, {\n    character,\n    timestamp: new Date()\n});\n\n// ã‚¤ãƒ™ãƒ³ãƒˆè³¼èª­\neventBus.subscribe(EVENT_TYPES.CHARACTER_CREATED, async (data) => {\n    await this.evolutionService.initializeGrowthPlan(data.character);\n});\n```\n\n**3. ãƒ¡ãƒ¢ãƒªéšå±¤ï¼ˆå…±æœ‰çŠ¶æ…‹ï¼‰**\n\n```typescript\n// Service A: ãƒ‡ãƒ¼ã‚¿æ›¸ãè¾¼ã¿\nawait this.memoryManager.store({\n    characterId,\n    data: characterState,\n    level: MemoryLevel.SHORT_TERM\n});\n\n// Service B: ãƒ‡ãƒ¼ã‚¿èª­ã¿è¾¼ã¿\nconst state = await this.memoryManager.retrieve({\n    characterId,\n    level: MemoryLevel.SHORT_TERM\n});\n```\n\n### ã‚¤ãƒ™ãƒ³ãƒˆãƒã‚¹ã®å®Ÿè£…\n\n**EventBusã®ç‰¹å¾´**ï¼š\n- ã‚·ãƒ³ã‚°ãƒ«ãƒˆãƒ³ãƒ‘ã‚¿ãƒ¼ãƒ³\n- éåŒæœŸå‡¦ç†ãƒãƒƒãƒ•ã‚¡\n- ã‚¤ãƒ™ãƒ³ãƒˆãƒ«ãƒ¼ãƒ—æ¤œå‡ºï¼ˆé–¾å€¤ï¼š10å›ï¼‰\n- ãƒ¯ãƒ³ã‚¿ã‚¤ãƒ è³¼èª­å¯¾å¿œ\n\n```typescript\nclass CharacterEventBus {\n    private static instance: CharacterEventBus;\n    private subscribers: Map<string, Array<EventHandler>> = new Map();\n    private eventBuffer: Array<Event> = new Array();\n    private processing: boolean = false;\n\n    static getInstance(): CharacterEventBus {\n        if (!CharacterEventBus.instance) {\n            CharacterEventBus.instance = new CharacterEventBus();\n        }\n        return CharacterEventBus.instance;\n    }\n\n    publish(eventType: string, data: any): void {\n        this.eventBuffer.push({ eventType, data, timestamp: Date.now() });\n        this.processBuffer();\n    }\n\n    subscribe(eventType: string, handler: EventHandler): void {\n        if (!this.subscribers.has(eventType)) {\n            this.subscribers.set(eventType, []);\n        }\n        this.subscribers.get(eventType)!.push(handler);\n    }\n\n    private async processBuffer(): Promise<void> {\n        if (this.processing) return;\n        this.processing = true;\n\n        while (this.eventBuffer.length > 0) {\n            const event = this.eventBuffer.shift()!;\n            const handlers = this.subscribers.get(event.eventType) || [];\n\n            await Promise.allSettled(\n                handlers.map(handler => handler(event.data))\n            );\n        }\n\n        this.processing = false;\n    }\n}\n```\n\n### çµ±ä¸€ãƒ‡ãƒ¼ã‚¿ç”Ÿæˆï¼ˆ7ã‚µãƒ¼ãƒ“ã‚¹çµ±åˆã®å®Ÿä¾‹ï¼‰\n\n```typescript\ninterface UnifiedCharacterData {\n    character: CharacterWithDetails;      // Service 1\n    evolution: CharacterEvolution;        // Service 3\n    psychology: PsychologyAnalysis;       // Service 4\n    relationships: RelationshipMap;       // Service 5\n    parameters: DynamicParameters;        // Service 6\n    skills: SkillProgression;             // Service 7\n    detection: DetectionHistory;          // Service 2\n    metadata: UnifiedMetadata;            // çµ±åˆãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿\n}\n\nasync getUnifiedCharacterForPrompt(\n    characterId: string,\n    context: GenerationContext\n): Promise<UnifiedCharacterData> {\n    // ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒã‚§ãƒƒã‚¯\n    const cached = this.unifiedDataCache.get(characterId);\n    if (cached && Date.now() - cached.timestamp < this.CACHE_TTL) {\n        return cached.data;\n    }\n\n    // 7ã‚µãƒ¼ãƒ“ã‚¹ã‹ã‚‰ä¸¦åˆ—å–å¾—ï¼ˆPromise.allSettledï¼‰\n    const results = await this.gatherAllServiceData(characterId, context);\n\n    // ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ãƒ¡ã‚«ãƒ‹ã‚ºãƒ \n    const unifiedData: UnifiedCharacterData = {\n        character: this.extractOrFallback(\n            results[0],\n            this.createFallbackCharacterDetails(baseCharacter)\n        ),\n        evolution: this.extractOrFallback(\n            results[1],\n            this.createFallbackEvolution(baseCharacter)\n        ),\n        // ... ä»–ã®ã‚µãƒ¼ãƒ“ã‚¹\n        metadata: this.createUnifiedMetadata(startTime, characterId)\n    };\n\n    // ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã«ä¿å­˜ï¼ˆTTL: 5åˆ†ï¼‰\n    this.unifiedDataCache.set(characterId, {\n        data: unifiedData,\n        timestamp: Date.now()\n    });\n\n    return unifiedData;\n}\n```\n\n## ãªãœã“ã®æ‰‹æ³•ã‚’ä½¿ã†ã‹\n\n**ç†ç”±1ï¼šè²¬å‹™ã®æ˜ç¢ºãªåˆ†é›¢**\nå„ã‚µãƒ¼ãƒ“ã‚¹ãŒ1ã¤ã®è²¬å‹™ã«é›†ä¸­ï¼š\n- EvolutionServiceï¼šæˆé•·ã®ã¿ã«é›†ä¸­\n- RelationshipServiceï¼šé–¢ä¿‚æ€§ã®ã¿ã«é›†ä¸­\n- ä»–ã®ã‚µãƒ¼ãƒ“ã‚¹ã«å½±éŸ¿ã‚’ä¸ãˆãšã«ä¿®æ­£ãƒ»æ‹¡å¼µå¯èƒ½\n\n**ç†ç”±2ï¼šç‹¬ç«‹ã—ãŸã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°**\nè² è·ã®é«˜ã„ã‚µãƒ¼ãƒ“ã‚¹ã®ã¿ã‚’ã‚¹ã‚±ãƒ¼ãƒ«ï¼š\n```typescript\n// DetectionServiceã ã‘ã‚’è¤‡æ•°ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹åŒ–\nconst detectionService1 = new DetectionService(config);\nconst detectionService2 = new DetectionService(config);\n\n// ãƒ­ãƒ¼ãƒ‰ãƒãƒ©ãƒ³ã‚·ãƒ³ã‚°\nconst service = loadBalancer.getNext([detectionService1, detectionService2]);\n```\n\n**ç†ç”±3ï¼šæ®µéšçš„ãªæ©Ÿèƒ½è¿½åŠ **\næ–°ã—ã„ã‚µãƒ¼ãƒ“ã‚¹ã‚’è¿½åŠ ã—ã¦ã‚‚æ—¢å­˜ã‚³ãƒ¼ãƒ‰ã«å½±éŸ¿ã—ãªã„ï¼š\n```typescript\n// æ–°ã‚µãƒ¼ãƒ“ã‚¹è¿½åŠ \nconst emotionService = new EmotionService();\n\n// CharacterManagerã«è¿½åŠ ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒŠãƒ«ï¼‰\nconst manager = new CharacterManager(\n    characterService,\n    memoryManager,\n    // ... æ—¢å­˜ã‚µãƒ¼ãƒ“ã‚¹\n    emotionService  // æ–°è¦è¿½åŠ \n);\n```\n\n**ç†ç”±4ï¼šãƒ†ã‚¹ãƒˆã®å®¹æ˜“ã•**\nå„ã‚µãƒ¼ãƒ“ã‚¹ã‚’ç‹¬ç«‹ã—ã¦ãƒ†ã‚¹ãƒˆï¼š\n```typescript\ndescribe('EvolutionService', () => {\n    it('should track character growth', async () => {\n        const service = new EvolutionService(mockMemory);\n        const result = await service.processGrowth(character, events);\n        expect(result.stage).toBe(2);\n    });\n});\n```\n\n**ç†ç”±5ï¼šä¸¦åˆ—å‡¦ç†ã«ã‚ˆã‚‹ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å‘ä¸Š**\n7ã‚µãƒ¼ãƒ“ã‚¹ã‹ã‚‰ã®ãƒ‡ãƒ¼ã‚¿å–å¾—ã‚’ä¸¦åˆ—åŒ–ï¼š\n```\né€æ¬¡å®Ÿè¡Œï¼š50 + 30 + 40 + 60 + 35 + 45 + 25 = 285ms\nä¸¦åˆ—å®Ÿè¡Œï¼šmax(50, 30, 40, 60, 35, 45, 25) = 60ms  â† 4.75å€é«˜é€Ÿ\n```\n\n## å†ç¾æ–¹æ³•\n\n### ã‚¹ãƒ†ãƒƒãƒ—1ï¼šå„ã‚µãƒ¼ãƒ“ã‚¹ã®åˆæœŸåŒ–\n\n```typescript\nimport { CharacterService } from '@/lib/characters/services/character-service';\nimport { EvolutionService } from '@/lib/characters/services/evolution-service';\n// ... ä»–ã®ã‚µãƒ¼ãƒ“ã‚¹\n\nconst characterService = new CharacterService(memoryManager);\nawait characterService.initialize();\n\nconst evolutionService = new EvolutionService(\n    memoryManager,\n    characterService\n);\nawait evolutionService.initialize();\n\n// ... ä»–ã®ã‚µãƒ¼ãƒ“ã‚¹ã‚‚åŒæ§˜ã«åˆæœŸåŒ–\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2ï¼šCharacterManagerã®ä½œæˆ\n\n```typescript\nconst characterManager = new CharacterManager(\n    characterService,\n    memoryManager,\n    detectionService,\n    evolutionService,\n    psychologyService,\n    relationshipService,\n    parameterService,\n    skillService\n);\n\nawait characterManager.initialize();\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3ï¼šã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ä½œæˆï¼ˆè¤‡æ•°ã‚µãƒ¼ãƒ“ã‚¹é€£æºï¼‰\n\n```typescript\n// ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ä½œæˆ\nconst character = await characterManager.createCharacter({\n    name: \"ã‚¢ãƒ¬ãƒ³\",\n    type: \"MAIN\",\n    description: \"é‹å‘½ã«ç¿»å¼„ã•ã‚Œã‚‹ä¸»äººå…¬\",\n    personality: {\n        traits: [\"å‹‡æ•¢\", \"å„ªã—ã„\", \"é ‘å›º\"],\n        values: [\"æ­£ç¾©\", \"å‹æƒ…\"]\n    }\n});\n\n// è‡ªå‹•çš„ã«ä»¥ä¸‹ãŒå®Ÿè¡Œã•ã‚Œã‚‹ï¼š\n// 1. CharacterService: ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ä½œæˆ\n// 2. EvolutionService: æˆé•·ãƒ—ãƒ©ãƒ³åˆæœŸåŒ–ï¼ˆã‚¤ãƒ™ãƒ³ãƒˆçµŒç”±ï¼‰\n// 3. PsychologyService: å¿ƒç†ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆï¼ˆã‚¤ãƒ™ãƒ³ãƒˆçµŒç”±ï¼‰\n// 4. ParameterService: åˆæœŸãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿è¨­å®šï¼ˆã‚¤ãƒ™ãƒ³ãƒˆçµŒç”±ï¼‰\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—4ï¼šç« å‡¦ç†ï¼ˆå…¨ã‚µãƒ¼ãƒ“ã‚¹çµ±åˆï¼‰\n\n```typescript\nconst chapter: Chapter = {\n    chapterNumber: 42,\n    content: \"ã‚¢ãƒ¬ãƒ³ã¯æ‘ã‚’é›¢ã‚Œã€ãƒãƒ†ã‚£ã‚¢ã‚¹ã¨å…±ã«æ—…ã«å‡ºãŸã€‚\",\n    // ...\n};\n\n// å…¨ã‚µãƒ¼ãƒ“ã‚¹ãŒé€£æºã—ã¦å‡¦ç†\nawait characterManager.processChapter(chapter);\n\n// å†…éƒ¨ã§ä»¥ä¸‹ãŒä¸¦åˆ—å®Ÿè¡Œï¼š\n// 1. DetectionService: ãƒ†ã‚­ã‚¹ãƒˆã‹ã‚‰ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼æ¤œå‡º\n// 2. EvolutionService: æˆé•·å‡¦ç†\n// 3. PsychologyService: å¿ƒç†çŠ¶æ…‹æ›´æ–°\n// 4. RelationshipService: é–¢ä¿‚æ€§æ›´æ–°\n// 5. ParameterService: ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿èª¿æ•´\n// 6. SkillService: ã‚¹ã‚­ãƒ«é€²è¡Œãƒã‚§ãƒƒã‚¯\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—5ï¼šçµ±ä¸€ãƒ‡ãƒ¼ã‚¿å–å¾—ï¼ˆãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”Ÿæˆç”¨ï¼‰\n\n```typescript\nconst context: GenerationContext = {\n    chapterNumber: 43,\n    purpose: 'DIALOGUE',\n    storyContext: {\n        currentArc: 'æ—…ç«‹ã¡ã®ç« ',\n        theme: 'é‹å‘½ã¨ã®å¯¾å³™',\n        tone: 'ç·Šå¼µ',\n        pacing: 'é€Ÿã„'\n    },\n    focusLevel: 'PRIMARY',\n    detailLevel: 'COMPREHENSIVE'\n};\n\n// 7ã‚µãƒ¼ãƒ“ã‚¹ã‹ã‚‰åŒ…æ‹¬çš„ãªãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—\nconst unifiedData = await characterManager.getUnifiedCharacterForPrompt(\n    'char-allen',\n    context\n);\n\nconsole.log(unifiedData);\n// {\n//     character: { name: \"ã‚¢ãƒ¬ãƒ³\", ... },     // åŸºæœ¬æƒ…å ±\n//     evolution: { stage: 2, growthPlan: ... },  // æˆé•·ãƒ‡ãƒ¼ã‚¿\n//     psychology: { emotionalState: \"ç·Šå¼µ\", ... },  // å¿ƒç†åˆ†æ\n//     relationships: { allies: [...], ... },  // é–¢ä¿‚æ€§ãƒãƒƒãƒ—\n//     parameters: { courage: 0.8, ... },  // å‹•çš„ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿\n//     skills: { swordSkill: { level: 3 }, ... },  // ã‚¹ã‚­ãƒ«çŠ¶æ³\n//     detection: { lastAppearance: 42, ... },  // æ¤œå‡ºå±¥æ­´\n//     metadata: { completeness: 0.95, ... }  // å“è³ªãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿\n// }\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—6ï¼šã‚¤ãƒ™ãƒ³ãƒˆè³¼èª­ï¼ˆã‚«ã‚¹ã‚¿ãƒ å‡¦ç†ï¼‰\n\n```typescript\nimport { EVENT_TYPES } from '@/lib/characters/events/event-types';\n\n// ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ä½œæˆæ™‚ã«ç‹¬è‡ªå‡¦ç†ã‚’è¿½åŠ \ncharacterManager.subscribeToEvent(\n    EVENT_TYPES.CHARACTER_CREATED,\n    async (data) => {\n        console.log(`New character created: ${data.character.name}`);\n\n        // ã‚«ã‚¹ã‚¿ãƒ å‡¦ç†\n        await sendNotification(`ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã€Œ${data.character.name}ã€ãŒè¿½åŠ ã•ã‚Œã¾ã—ãŸ`);\n    }\n);\n```\n\n## ã„ã¤ä½¿ã†ã‹\n\n**é©ç”¨å ´é¢1ï¼šè¤‡é›‘ãªãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ¢ãƒ‡ãƒ«ã®ç®¡ç†**\n- ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ç®¡ç†ï¼ˆæœ¬ä¾‹ï¼‰\n- ãƒ—ãƒ­ãƒƒãƒˆç®¡ç†\n- ä¸–ç•Œè¨­å®šç®¡ç†\n- ã‚²ãƒ¼ãƒ ã®NPCç®¡ç†\n\n**é©ç”¨å ´é¢2ï¼šæ©Ÿèƒ½ã®æ®µéšçš„ãªè¿½åŠ ãŒå¿…è¦ãªæ™‚**\n- MVPã§æœ€å°é™ã®ã‚µãƒ¼ãƒ“ã‚¹ã‹ã‚‰é–‹å§‹\n- å¾ã€…ã«æ–°ã—ã„ã‚µãƒ¼ãƒ“ã‚¹ã‚’è¿½åŠ \n- æ—¢å­˜æ©Ÿèƒ½ã«å½±éŸ¿ã‚’ä¸ãˆãšã«æ‹¡å¼µ\n\n**é©ç”¨å ´é¢3ï¼šç•°ãªã‚‹ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ã®çµ±åˆ**\n- è¤‡æ•°ã®APIã‹ã‚‰ãƒ‡ãƒ¼ã‚¿å–å¾—\n- ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã¨ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®ä½µç”¨\n- å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹ã¨ã®é€£æº\n\n**é©ç”¨å ´é¢4ï¼šãƒãƒ¼ãƒ é–‹ç™ºã§åˆ†æ‹…ã—ãŸã„æ™‚**\n- ã‚µãƒ¼ãƒ“ã‚¹å˜ä½ã§ãƒãƒ¼ãƒ åˆ†å‰²\n- ä¸¦è¡Œé–‹ç™ºãŒå¯èƒ½\n- æ˜ç¢ºãªã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã§é€£æº\n\n## æ³¨æ„ç‚¹\n\n**æ³¨æ„ç‚¹1ï¼šã‚µãƒ¼ãƒ“ã‚¹é–“ã®å¾ªç’°ä¾å­˜**\nã‚µãƒ¼ãƒ“ã‚¹AãŒã‚µãƒ¼ãƒ“ã‚¹Bã‚’å‘¼ã³ã€ã‚µãƒ¼ãƒ“ã‚¹BãŒã‚µãƒ¼ãƒ“ã‚¹Aã‚’å‘¼ã¶ã¨ç„¡é™ãƒ«ãƒ¼ãƒ—ï¼š\n\n```typescript\n// âŒ æ‚ªã„ä¾‹\nclass ServiceA {\n    constructor(private serviceB: ServiceB) {}\n\n    async methodA() {\n        await this.serviceB.methodB();  // B ã‚’å‘¼ã¶\n    }\n}\n\nclass ServiceB {\n    constructor(private serviceA: ServiceA) {}\n\n    async methodB() {\n        await this.serviceA.methodA();  // A ã‚’å‘¼ã¶ â†’ ç„¡é™ãƒ«ãƒ¼ãƒ—\n    }\n}\n\n// âœ… è‰¯ã„ä¾‹ï¼šã‚¤ãƒ™ãƒ³ãƒˆãƒã‚¹ã§ç–çµåˆ\nclass ServiceA {\n    async methodA() {\n        eventBus.publish('EVENT_A', data);  // ã‚¤ãƒ™ãƒ³ãƒˆç™ºè¡Œ\n    }\n}\n\nclass ServiceB {\n    constructor() {\n        eventBus.subscribe('EVENT_A', this.handleEventA.bind(this));\n    }\n\n    async handleEventA(data: any) {\n        // å‡¦ç†\n    }\n}\n```\n\n**æ³¨æ„ç‚¹2ï¼šã‚¤ãƒ™ãƒ³ãƒˆé †åºã®ä¿è¨¼**\nã‚¤ãƒ™ãƒ³ãƒˆãƒã‚¹ã¯éåŒæœŸã®ãŸã‚ã€ç™ºè¡Œé †åº â‰  å‡¦ç†é †åºï¼š\n\n```typescript\n// é †åºãŒé‡è¦ãªå ´åˆã¯ã‚¤ãƒ™ãƒ³ãƒˆãƒã‚¹ã‚’ä½¿ã‚ãªã„\nawait service.methodA();  // å®Œäº†ã‚’å¾…ã¤\nawait service.methodB();  // é †ç•ªã«å®Ÿè¡Œ\n```\n\n**æ³¨æ„ç‚¹3ï¼šã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°**\nä¸€éƒ¨ã®ã‚µãƒ¼ãƒ“ã‚¹ãŒå¤±æ•—ã—ã¦ã‚‚ä»–ã¯ç¶™ç¶šï¼š\n\n```typescript\nconst results = await Promise.allSettled([\n    service1.process(),\n    service2.process(),\n    service3.process()\n]);\n\n// æœ€ä½1ã¤ã¯æˆåŠŸã™ã‚‹ã“ã¨ã‚’ç¢ºèª\nconst successCount = results.filter(r => r.status === 'fulfilled').length;\nif (successCount === 0) {\n    throw new Error('All services failed');\n}\n```\n\n**æ³¨æ„ç‚¹4ï¼šã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®æ•´åˆæ€§**\nå„ã‚µãƒ¼ãƒ“ã‚¹ãŒç‹¬è‡ªã«ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’æŒã¤å ´åˆã€åŒæœŸãŒå¿…è¦ï¼š\n\n```typescript\n// ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼æ›´æ–°æ™‚ã«å…¨ã‚µãƒ¼ãƒ“ã‚¹ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ã‚¯ãƒªã‚¢\nasync updateCharacter(characterId: string, data: any) {\n    await this.characterService.updateCharacter(characterId, data);\n\n    // å…¨ã‚µãƒ¼ãƒ“ã‚¹ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ã‚¯ãƒªã‚¢\n    this.evolutionService?.clearCache(characterId);\n    this.psychologyService?.clearCache(characterId);\n    // ...\n}\n```\n\n**æ³¨æ„ç‚¹5ï¼šåˆæœŸåŒ–é †åº**\nã‚µãƒ¼ãƒ“ã‚¹ã«ä¾å­˜é–¢ä¿‚ãŒã‚ã‚‹å ´åˆã€åˆæœŸåŒ–é †åºãŒé‡è¦ï¼š\n\n```typescript\n// æ­£ã—ã„é †åº\nawait characterService.initialize();       // 1. åŸºæœ¬ã‚µãƒ¼ãƒ“ã‚¹\nawait evolutionService.initialize();       // 2. characterServiceã«ä¾å­˜\nawait relationshipService.initialize();    // 3. characterServiceã«ä¾å­˜\n```\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `skill_character_evolution_growth_plan_management_2025_11_25.md`ï¼šEvolutionServiceã®è©³ç´°\n- `skill_unified_character_data_generation_2025_11_25.md`ï¼šçµ±ä¸€ãƒ‡ãƒ¼ã‚¿ç”Ÿæˆã®è©³ç´°\n- `skill_relationship_network_analysis_2025_11_25.md`ï¼šRelationshipServiceã®è©³ç´°\n- `decision_seven_service_separation_rationale_2025_11_25.md`ï¼šãªãœ7ã¤ã«åˆ†å‰²ã™ã‚‹ã®ã‹\n- `workflow_character_chapter_processing_2025_11_25.md`ï¼šç« å‡¦ç†ã®å®Œå…¨ãªãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼\n",
    "prompt": "### ã‚¹ãƒ†ãƒƒãƒ—1ï¼šå„ã‚µãƒ¼ãƒ“ã‚¹ã®åˆæœŸåŒ–\n\n```typescript\nimport { CharacterService } from '@/lib/characters/services/character-service';\nimport { EvolutionService } from '@/lib/characters/services/evolution-service';\n// ... ä»–ã®ã‚µãƒ¼ãƒ“ã‚¹\n\nconst characterService = new CharacterService(memoryManager);\nawait characterService.initialize();\n\nconst evolutionService = new EvolutionService(\n    memoryManager,\n    characterService\n);\nawait evolutionService.initialize();\n\n// ... ä»–ã®ã‚µãƒ¼ãƒ“ã‚¹ã‚‚åŒæ§˜ã«åˆæœŸåŒ–\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2ï¼šCharacterManagerã®ä½œæˆ\n\n```typescript\nconst characterManager = new CharacterManager(\n    characterService,\n    memoryManager,\n    detectionService,\n    evolutionService,\n    psychologyService,\n    relationshipService,\n    parameterService,\n    skillService\n);\n\nawait characterManager.initialize();\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3ï¼šã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ä½œæˆï¼ˆè¤‡æ•°ã‚µãƒ¼ãƒ“ã‚¹é€£æºï¼‰\n\n```typescript\n// ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ä½œæˆ\nconst character = await characterManager.createCharacter({\n    name: \"ã‚¢ãƒ¬ãƒ³\",\n    type: \"MAIN\",\n    description: \"é‹å‘½ã«ç¿»å¼„ã•ã‚Œã‚‹ä¸»äººå…¬\",\n    personality: {\n        traits: [\"å‹‡æ•¢\", \"å„ªã—ã„\", \"é ‘å›º\"],\n        values: [\"æ­£ç¾©\", \"å‹æƒ…\"]\n    }\n});\n\n// è‡ªå‹•çš„ã«ä»¥ä¸‹ãŒå®Ÿè¡Œã•ã‚Œã‚‹ï¼š\n// 1. CharacterService: ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ä½œæˆ\n// 2. EvolutionService: æˆé•·ãƒ—ãƒ©ãƒ³åˆæœŸåŒ–ï¼ˆã‚¤ãƒ™ãƒ³ãƒˆçµŒç”±ï¼‰\n// 3. PsychologyService: å¿ƒç†ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆï¼ˆã‚¤ãƒ™ãƒ³ãƒˆçµŒç”±ï¼‰\n// 4. ParameterService: åˆæœŸãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿è¨­å®šï¼ˆã‚¤ãƒ™ãƒ³ãƒˆçµŒç”±ï¼‰\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—4ï¼šç« å‡¦ç†ï¼ˆå…¨ã‚µãƒ¼ãƒ“ã‚¹çµ±åˆï¼‰\n\n```typescript\nconst chapter: Chapter = {\n    chapterNumber: 42,\n    content: \"ã‚¢ãƒ¬ãƒ³ã¯æ‘ã‚’é›¢ã‚Œã€ãƒãƒ†ã‚£ã‚¢ã‚¹ã¨å…±ã«æ—…ã«å‡ºãŸã€‚\",\n    // ...\n};\n\n// å…¨ã‚µãƒ¼ãƒ“ã‚¹ãŒé€£æºã—ã¦å‡¦ç†\nawait characterManager.processChapter(chapter);\n\n// å†…éƒ¨ã§ä»¥ä¸‹ãŒä¸¦åˆ—å®Ÿè¡Œï¼š\n// 1. DetectionService: ãƒ†ã‚­ã‚¹ãƒˆã‹ã‚‰ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼æ¤œå‡º\n// 2. EvolutionService: æˆé•·å‡¦ç†\n// 3. PsychologyService: å¿ƒç†çŠ¶æ…‹æ›´æ–°\n// 4. RelationshipService: é–¢ä¿‚æ€§æ›´æ–°\n// 5. ParameterService: ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿èª¿æ•´\n// 6. SkillService: ã‚¹ã‚­ãƒ«é€²è¡Œãƒã‚§ãƒƒã‚¯\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—5ï¼šçµ±ä¸€ãƒ‡ãƒ¼ã‚¿å–å¾—ï¼ˆãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”Ÿæˆç”¨ï¼‰\n\n```typescript\nconst context: GenerationContext = {\n    chapterNumber: 43,\n    purpose: 'DIALOGUE',\n    storyContext: {\n        currentArc: 'æ—…ç«‹ã¡ã®ç« ',\n        theme: 'é‹å‘½ã¨ã®å¯¾å³™',\n        tone: 'ç·Šå¼µ',\n        pacing: 'é€Ÿã„'\n    },\n    focusLevel: 'PRIMARY',\n    detailLevel: 'COMPREHENSIVE'\n};\n\n// 7ã‚µãƒ¼ãƒ“ã‚¹ã‹ã‚‰åŒ…æ‹¬çš„ãªãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—\nconst unifiedData = await characterManager.getUnifiedCharacterForPrompt(\n    'char-allen',\n    context\n);\n\nconsole.log(unifiedData);\n// {\n//     character: { name: \"ã‚¢ãƒ¬ãƒ³\", ... },     // åŸºæœ¬æƒ…å ±\n//     evolution: { stage: 2, growthPlan: ... },  // æˆé•·ãƒ‡ãƒ¼ã‚¿\n//     psychology: { emotionalState: \"ç·Šå¼µ\", ... },  // å¿ƒç†åˆ†æ\n//     relationships: { allies: [...], ... },  // é–¢ä¿‚æ€§ãƒãƒƒãƒ—\n//     parameters: { courage: 0.8, ... },  // å‹•çš„ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿\n//     skills: { swordSkill: { level: 3 }, ... },  // ã‚¹ã‚­ãƒ«çŠ¶æ³\n//     detection: { lastAppearance: 42, ... },  // æ¤œå‡ºå±¥æ­´\n//     metadata: { completeness: 0.95, ... }  // å“è³ªãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿\n// }\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—6ï¼šã‚¤ãƒ™ãƒ³ãƒˆè³¼èª­ï¼ˆã‚«ã‚¹ã‚¿ãƒ å‡¦ç†ï¼‰\n\n```typescript\nimport { EVENT_TYPES } from '@/lib/characters/events/event-types';\n\n// ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ä½œæˆæ™‚ã«ç‹¬è‡ªå‡¦ç†ã‚’è¿½åŠ \ncharacterManager.subscribeToEvent(\n    EVENT_TYPES.CHARACTER_CREATED,\n    async (data) => {\n        console.log(`New character created: ${data.character.name}`);\n\n        // ã‚«ã‚¹ã‚¿ãƒ å‡¦ç†\n        await sendNotification(`ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã€Œ${data.character.name}ã€ãŒè¿½åŠ ã•ã‚Œã¾ã—ãŸ`);\n    }\n);\n```",
    "relatedTech": [
      "skill-character-evolution-growth-plan-management",
      "skill-unified-character-data-generation",
      "decision-seven-service-separation-rationale"
    ]
  },
  {
    "slug": "six-stage-learning-journey-design",
    "title": "6æ®µéšå­¦ç¿’æ—…ç¨‹ãƒ‡ã‚¶ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ ",
    "category": "Skillsï¼ˆã‚¹ã‚­ãƒ«ãƒ»æ‰‹æ³•ï¼‰",
    "description": "èª­è€…ï¼ˆã¾ãŸã¯ä¸»äººå…¬ï¼‰ãŒãƒ“ã‚¸ãƒã‚¹æ¦‚å¿µã‚’å­¦ã¶ãƒ—ãƒ­ã‚»ã‚¹ã‚’6ã¤ã®å­¦ç¿’æ®µéšã§è¨­è¨ˆã—ã€å„æ®µéšã§é©åˆ‡ãªæ°—ã¥ãã¨å¤‰å®¹ãŒèµ·ã“ã‚‹ã‚ˆã†ç‰©èªã‚’æ§‹æˆã™ã‚‹ã€‚èª¤è§£â†’æ¢ç´¢â†’è‘›è—¤â†’æ°—ã¥ãâ†’å¿œç”¨â†’çµ±åˆã¨ã„ã†è‡ªç„¶ãªå­¦ç¿’æ›²ç·šã‚’ç‰©èªã«çµ„ã¿è¾¼ã‚€æ‰‹æ³•ã€‚",
    "project": "novel-automation-system-v2",
    "usedIn": [
      "src/lib/learning-journey/index.ts:1-2437, src/lib/learning-journey/concept-learning-manager.ts"
    ],
    "code": "```json\n{\n  \"id\": \"skill_six_stage_learning_journey_design_2025_11_25\",\n  \"type\": \"skill\",\n  \"name\": \"6æ®µéšå­¦ç¿’æ—…ç¨‹ãƒ‡ã‚¶ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ \",\n  \"tags\": [\"å­¦ç¿’æ—…ç¨‹\", \"æ¦‚å¿µå­¦ç¿’\", \"æ•™è‚²\", \"ç‰©èªè¨­è¨ˆ\", \"ãƒ“ã‚¸ãƒã‚¹ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯\", \"å¤‰å®¹ãƒ‡ã‚¶ã‚¤ãƒ³\"],\n  \"source_project\": \"novel-automation-system-v2\",\n  \"source_file\": \"src/lib/learning-journey/index.ts:1-2437, src/lib/learning-journey/concept-learning-manager.ts\",\n  \"related_knowledge\": [\"decision_learning_stage_model_2025_11_25\", \"skill_emotional_arc_integration_2025_11_25\", \"skill_plot_learning_synchronization_2025_11_25\"],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# 6æ®µéšå­¦ç¿’æ—…ç¨‹ãƒ‡ã‚¶ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ \n\n## ä½•ã‚’ã™ã‚‹ã‚¹ã‚­ãƒ«ã‹\n\nèª­è€…ï¼ˆã¾ãŸã¯ä¸»äººå…¬ï¼‰ãŒãƒ“ã‚¸ãƒã‚¹æ¦‚å¿µã‚’å­¦ã¶ãƒ—ãƒ­ã‚»ã‚¹ã‚’6ã¤ã®å­¦ç¿’æ®µéšã§è¨­è¨ˆã—ã€å„æ®µéšã§é©åˆ‡ãªæ°—ã¥ãã¨å¤‰å®¹ãŒèµ·ã“ã‚‹ã‚ˆã†ç‰©èªã‚’æ§‹æˆã™ã‚‹ã€‚èª¤è§£â†’æ¢ç´¢â†’è‘›è—¤â†’æ°—ã¥ãâ†’å¿œç”¨â†’çµ±åˆã¨ã„ã†è‡ªç„¶ãªå­¦ç¿’æ›²ç·šã‚’ç‰©èªã«çµ„ã¿è¾¼ã‚€æ‰‹æ³•ã€‚\n\n## å…·ä½“çš„ãªæ‰‹æ³•\n\n### 1. 6æ®µéšã®å­¦ç¿’ã‚¹ãƒ†ãƒ¼ã‚¸å®šç¾©\n\n```typescript\nexport enum LearningStage {\n  MISCONCEPTION = 'MISCONCEPTION',     // èª¤è§£æ®µéš\n  EXPLORATION = 'EXPLORATION',         // æ¢ç´¢æ®µéš\n  CONFLICT = 'CONFLICT',               // è‘›è—¤æ®µéš\n  INSIGHT = 'INSIGHT',                 // æ°—ã¥ãæ®µéš\n  APPLICATION = 'APPLICATION',         // å¿œç”¨æ®µéš\n  INTEGRATION = 'INTEGRATION',         // çµ±åˆæ®µéš\n}\n```\n\n**å„æ®µéšã®æ„å‘³**ï¼š\n- **MISCONCEPTIONï¼ˆèª¤è§£ï¼‰**: å¾“æ¥ã®æ€è€ƒãƒ‘ã‚¿ãƒ¼ãƒ³ã€ã¾ã æ­£ã—ã„ç†è§£ã«æ°—ã¥ã„ã¦ã„ãªã„\n- **EXPLORATIONï¼ˆæ¢ç´¢ï¼‰**: æ–°ã—ã„è¦–ç‚¹ã«å‡ºä¼šã„ã€æ¢ç´¢ã‚’é–‹å§‹\n- **CONFLICTï¼ˆè‘›è—¤ï¼‰**: æ—§æ¥ã®è€ƒãˆã¨æ–°ã—ã„è€ƒãˆã®é–“ã§è‘›è—¤\n- **INSIGHTï¼ˆæ°—ã¥ãï¼‰**: é‡è¦ãªæ°—ã¥ãã‚’å¾—ã‚‹æ±ºå®šçš„ç¬é–“\n- **APPLICATIONï¼ˆå¿œç”¨ï¼‰**: æ–°ã—ã„ç†è§£ã‚’å®Ÿè·µã§è©¦ã™\n- **INTEGRATIONï¼ˆçµ±åˆï¼‰**: å®Œå…¨ã«è‡ªåˆ†ã®ã‚‚ã®ã¨ã—ã¦å†…é¢åŒ–\n\n### 2. ãƒ“ã‚¸ãƒã‚¹æ¦‚å¿µã®æ§‹é€ åŒ–\n\n```typescript\ninterface BusinessConcept {\n  name: string;\n  description: string;\n  keyPrinciples: string[];            // ä¸»è¦åŸå‰‡\n  commonMisconceptions: string[];     // ä¸€èˆ¬çš„ãªèª¤è§£\n  applicationAreas: string[];         // é©ç”¨é ˜åŸŸ\n  relatedConcepts: string[];          // é–¢é€£æ¦‚å¿µ\n  learningJourney?: {                 // å„æ®µéšã®è¨˜è¿°\n    [LearningStage.MISCONCEPTION]?: string;\n    [LearningStage.EXPLORATION]?: string;\n    [LearningStage.CONFLICT]?: string;\n    [LearningStage.INSIGHT]?: string;\n    [LearningStage.APPLICATION]?: string;\n    [LearningStage.INTEGRATION]?: string;\n  };\n  transformationalElements?: {        // å¤‰å®¹ã®è§¦åª’\n    [fromStage: string]: {\n      [toStage: string]: string[];\n    };\n  };\n}\n```\n\n### 3. ISSUE DRIVENæ¦‚å¿µã®å®Œå…¨å®šç¾©ï¼ˆå®Ÿä¾‹ï¼‰\n\n```typescript\nconst issueDriven: BusinessConcept = {\n  name: \"ISSUE DRIVEN\",\n  description: \"èª²é¡Œè§£æ±ºã‚’èµ·ç‚¹ã¨ã—ãŸãƒ“ã‚¸ãƒã‚¹ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã€‚é¡§å®¢ã®æœ¬è³ªçš„èª²é¡Œã‚’æ·±ãç†è§£ã—ã€è§£æ±ºã«ç„¦ç‚¹ã‚’å½“ã¦ã‚‹\",\n  keyPrinciples: [\n    \"é¡§å®¢è¦–ç‚¹ã§ã®èª²é¡Œå®šç¾©\",\n    \"æœ¬è³ªçš„å•ã„ã‚’é€šã˜ãŸæ·±ã„ç†è§£\",\n    \"è§£æ±ºç­–ã‚ˆã‚Šã‚‚èª²é¡Œã®æ¢æ±‚ã‚’å„ªå…ˆ\",\n    \"é¡§å®¢ã¨å…±ã«è€ƒãˆã€å…±ã«å‰µã‚‹\",\n    \"ç¶™ç¶šçš„ãªèª²é¡Œå†å®šç¾©\"\n  ],\n  commonMisconceptions: [\n    \"è£½å“ã‚„æŠ€è¡“èµ·ç‚¹ã®æ€è€ƒ\",\n    \"è¡¨é¢çš„ãªãƒ‹ãƒ¼ã‚ºã¸ã®å¯¾å¿œ\",\n    \"è‡ªç¤¾ã®å¼·ã¿ã‚„éƒ½åˆã‚’å„ªå…ˆ\",\n    \"é¡§å®¢ã®è¨€è‘‰ã‚’ãã®ã¾ã¾å—ã‘å–ã‚‹\"\n  ],\n  learningJourney: {\n    [LearningStage.MISCONCEPTION]:\n      \"è£½å“ã‚„æŠ€è¡“èµ·ç‚¹ã®æ€è€ƒã‹ã‚‰ã€è‡ªç¤¾ã®å¼·ã¿ã‚’å„ªå…ˆã—ãŸææ¡ˆã‚’è¡Œã†ã€‚è¡¨é¢çš„ãªãƒ‹ãƒ¼ã‚ºã«å¿œãˆã‚‹ã“ã¨ã§ä¾¡å€¤ã‚’æä¾›ã—ã¦ã„ã‚‹ã¨è€ƒãˆã‚‹ã€‚\",\n    [LearningStage.EXPLORATION]:\n      \"é¡§å®¢è¦–ç‚¹ã®é‡è¦æ€§ã«æ°—ã¥ãå§‹ã‚ã€é¡§å®¢ã®è¨€è‘‰ã‚„è¦æœ›ã‚’é›†ã‚ã‚ˆã†ã¨ã™ã‚‹ã€‚ã—ã‹ã—ã€ã¾ã è¡¨é¢çš„ãªãƒ‹ãƒ¼ã‚ºåé›†ã«ç•™ã¾ã‚‹ã€‚\",\n    [LearningStage.CONFLICT]:\n      \"é¡§å®¢ã®è¨€è‘‰ã‚’ãã®ã¾ã¾å—ã‘å–ã‚‹ã“ã¨ã®é™ç•Œã«ç›´é¢ã€‚çœŸã®èª²é¡Œã¨è¡¨æ˜ã•ã‚ŒãŸè¦æœ›ã®é•ã„ã«è‘›è—¤ã€‚\",\n    [LearningStage.INSIGHT]:\n      \"é¡§å®¢ã®æœ¬è³ªçš„èª²é¡Œï¼ˆã‚¤ã‚·ãƒ¥ãƒ¼ï¼‰ã‚’è¦‹æ¥µã‚ã‚‹ã“ã¨ã®é‡è¦æ€§ã«æ°—ã¥ãã€‚è¡¨é¢è¦æœ›ã®èƒŒå¾Œã®æ ¹æœ¬å•é¡Œã‚’æ¢æ±‚ã™ã‚‹å¿…è¦æ€§ã‚’ç†è§£ã€‚\",\n    [LearningStage.APPLICATION]:\n      \"æœ¬è³ªçš„å•ã„ã‚’é€šã˜ã¦é¡§å®¢ã¨ã®å¯¾è©±ã‚’æ·±ã‚ã€å…±ã«èª²é¡Œã‚’å®šç¾©ã—ç›´ã™ã€‚å…±ã«è§£æ±ºç­–ã‚’æ¨¡ç´¢ã™ã‚‹ã€‚\",\n    [LearningStage.INTEGRATION]:\n      \"èª²é¡Œèµ·ç‚¹ã‚¢ãƒ—ãƒ­ãƒ¼ãƒãŒè‡ªç„¶ãªæ€è€ƒç¿’æ…£ã¨ãªã‚Šã€å¸¸ã«æœ¬è³ªçš„èª²é¡Œã«ç„¦ç‚¹ã‚’å½“ã¦ã€ç¶™ç¶šçš„ä¾¡å€¤æä¾›ã‚µã‚¤ã‚¯ãƒ«ã‚’å›ã›ã‚‹ã€‚\"\n  },\n  transformationalElements: {\n    \"MISCONCEPTION\": {\n      \"EXPLORATION\": [\n        \"é¡§å®¢ã®å£°ã‚’ç›´æ¥èãçµŒé¨“\",\n        \"è‡ªç¤¾è£½å“ãŒé¡§å®¢ãƒ‹ãƒ¼ã‚ºã«åˆã‚ãªã„å ´é¢ã®ç™ºè¦‹\",\n        \"é¡§å®¢è¦–ç‚¹æ¬ å¦‚ã«ã‚ˆã‚‹å¤±æ•—ä½“é¨“\"\n      ]\n    },\n    \"EXPLORATION\": {\n      \"CONFLICT\": [\n        \"é¡§å®¢ã®è¨€è‘‰ã¨çœŸã®ãƒ‹ãƒ¼ã‚ºã®ä¹–é›¢ç™ºè¦‹\",\n        \"è¡¨é¢çš„è¦æœ›ã«å¿œãˆã¦ã‚‚æº€è¶³ã•ã‚Œãªã„çµŒé¨“\",\n        \"çŸ›ç›¾ã™ã‚‹è¦æœ›ã¸ã®é­é‡\"\n      ]\n    },\n    \"CONFLICT\": {\n      \"INSIGHT\": [\n        \"æœ¬è³ªçš„èª²é¡Œã‚’è¦‹æŠœã„ãŸæˆåŠŸä½“é¨“\",\n        \"ãƒ¡ãƒ³ã‚¿ãƒ¼ã‚„å…ˆè¼©ã‹ã‚‰ã®æ´å¯Ÿ\",\n        \"é¡§å®¢ã¨ã®æ·±ã„å¯¾è©±ã«ã‚ˆã‚‹æ°—ã¥ã\"\n      ]\n    },\n    // ... ä»¥ä¸‹åŒæ§˜\n  }\n};\n```\n\n### 4. çµ±åˆè¨˜æ†¶ã‚·ã‚¹ãƒ†ãƒ ã¨ã®é€£æº\n\n**æ¦‚å¿µãƒ‡ãƒ¼ã‚¿ã®æ°¸ç¶šåŒ–**ï¼š\n```typescript\nprivate async saveConceptsToUnifiedMemory(): Promise<void> {\n  const conceptsData = {\n    businessConcepts: Array.from(this.concepts.values()),\n    metadata: {\n      version: '2.0',\n      lastUpdated: new Date().toISOString(),\n      totalConcepts: this.concepts.size\n    }\n  };\n\n  // é•·æœŸè¨˜æ†¶ã¸ã®ä¿å­˜\n  await this.memoryManager.saveToLongTerm('conceptsLibrary', conceptsData);\n}\n```\n\n**æ¦‚å¿µãƒ‡ãƒ¼ã‚¿ã®èª­ã¿è¾¼ã¿**ï¼š\n```typescript\nprivate async loadConceptsFromUnifiedMemory(): Promise<void> {\n  const searchResult = await this.memoryManager.unifiedSearch(\n    'businessConcepts learningStage conceptDefinition',\n    [MemoryLevel.LONG_TERM, MemoryLevel.MID_TERM]\n  );\n\n  for (const result of searchResult.results) {\n    const conceptData = this.extractConceptFromSearchResult(result);\n    if (conceptData) {\n      this.concepts.set(this.normalizeConceptName(conceptData.name), conceptData);\n    }\n  }\n}\n```\n\n### 5. ç« ã¸ã®å­¦ç¿’æ®µéšã®çµ„ã¿è¾¼ã¿\n\n```typescript\nasync designChapterLearningJourney(\n  chapterNumber: number,\n  conceptName: string,\n  targetStage: LearningStage,\n  context?: any\n): Promise<ChapterLearningDesign> {\n  const concept = this.concepts.get(this.normalizeConceptName(conceptName));\n\n  if (!concept) {\n    throw new Error(`Concept not found: ${conceptName}`);\n  }\n\n  const design: ChapterLearningDesign = {\n    chapterNumber,\n    conceptName,\n    targetStage,\n    stageDescription: concept.learningJourney?.[targetStage] || '',\n    transformationalCatalysts: this.getTransformationalCatalysts(\n      concept,\n      targetStage\n    ),\n    narrativeGuidance: this.generateNarrativeGuidance(\n      concept,\n      targetStage,\n      context\n    ),\n    expectedOutcomes: this.getExpectedOutcomes(concept, targetStage),\n    integrationPoints: this.getIntegrationPoints(concept, targetStage)\n  };\n\n  return design;\n}\n```\n\n**å¤‰å®¹è§¦åª’ã®æŠ½å‡º**ï¼š\n```typescript\nprivate getTransformationalCatalysts(\n  concept: BusinessConcept,\n  currentStage: LearningStage\n): string[] {\n  if (!concept.transformationalElements) {\n    return [];\n  }\n\n  const catalysts: string[] = [];\n  const stageTransitions = concept.transformationalElements[currentStage];\n\n  if (stageTransitions) {\n    Object.values(stageTransitions).forEach(transitionCatalysts => {\n      catalysts.push(...transitionCatalysts);\n    });\n  }\n\n  return catalysts;\n}\n```\n\n## ãªãœã“ã®æ‰‹æ³•ã‚’ä½¿ã†ã‹\n\n**ç†ç”±1ï¼šèªçŸ¥ç§‘å­¦ã«åŸºã¥ãå­¦ç¿’ãƒ—ãƒ­ã‚»ã‚¹**\n- äººã¯èª¤è§£â†’æ¢ç´¢â†’è‘›è—¤â†’æ°—ã¥ãã¨ã„ã†æ®µéšã‚’çµŒã¦å­¦ã¶\n- ã„ããªã‚Šæ­£è§£ã‚’æ•™ãˆã¦ã‚‚å®šç€ã—ãªã„\n- è‘›è—¤ã¨æ°—ã¥ãã®ä½“é¨“ãŒæ·±ã„å­¦ç¿’ã‚’ç”Ÿã‚€\n\n**ç†ç”±2ï¼šç‰©èªã¨å­¦ç¿’ã®è‡ªç„¶ãªçµ±åˆ**\n- ä¸»äººå…¬ã®æˆé•· = å­¦ç¿’æ—…ç¨‹\n- ãƒ—ãƒ­ãƒƒãƒˆã®å±•é–‹ = å­¦ç¿’æ®µéšã®é€²è¡Œ\n- èª­è€…ã‚‚ä¸»äººå…¬ã¨å…±ã«å­¦ã¹ã‚‹\n\n**ç†ç”±3ï¼šãƒ“ã‚¸ãƒã‚¹ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã®åŠ¹æœçš„ãªä¼é”**\n- æŠ½è±¡çš„ãªæ¦‚å¿µã‚’ç‰©èªã§å…·ä½“åŒ–\n- å¤±æ•—ä½“é¨“ã‚’é€šã˜ã¦ã€Œãªãœå¿…è¦ã‹ã€ã‚’ç†è§£\n- å®Ÿè·µã‚·ãƒ¼ãƒ³ã§ã€Œã©ã†ä½¿ã†ã‹ã€ã‚’å­¦ã¶\n\n**ç†ç”±4ï¼šå†åˆ©ç”¨å¯èƒ½ãªæ¦‚å¿µãƒ©ã‚¤ãƒ–ãƒ©ãƒª**\n- ä¸€åº¦å®šç¾©ã—ãŸæ¦‚å¿µã¯è¤‡æ•°ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ä½¿ãˆã‚‹\n- çµ±åˆè¨˜æ†¶ã‚·ã‚¹ãƒ†ãƒ ã§æ°¸ç¶šåŒ–\n- æ–°ã—ã„æ¦‚å¿µã‚’è¿½åŠ ã™ã‚‹ã ã‘ã§æ‹¡å¼µå¯èƒ½\n\n## å†ç¾æ–¹æ³•\n\n**ã‚¹ãƒ†ãƒƒãƒ—1ï¼šæ¦‚å¿µã®å®šç¾©**\n```typescript\nimport { ConceptLearningManager, LearningStage } from '@/lib/learning-journey';\n\nconst learningManager = new ConceptLearningManager(memoryManager);\n\n// æ–°ã—ã„æ¦‚å¿µã‚’å®šç¾©\nawait learningManager.defineConcept({\n  name: \"ã‚«ã‚¹ã‚¿ãƒãƒ¼ã‚µã‚¯ã‚»ã‚¹\",\n  description: \"é¡§å®¢ã®æˆåŠŸã‚’æ”¯æ´ã™ã‚‹ãƒ—ãƒ­ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãªã‚¢ãƒ—ãƒ­ãƒ¼ãƒ\",\n  keyPrinciples: [\n    \"é¡§å®¢ã®æˆåŠŸæŒ‡æ¨™ã‚’ç†è§£\",\n    \"å…ˆå›ã‚Šã—ãŸã‚µãƒãƒ¼ãƒˆ\",\n    \"ç¶™ç¶šçš„ãªä¾¡å€¤æä¾›\"\n  ],\n  commonMisconceptions: [\n    \"å•ã„åˆã‚ã›å¯¾å¿œã ã‘ã§ååˆ†\",\n    \"è£½å“ã‚’å£²ã‚Œã°çµ‚ã‚ã‚Š\"\n  ],\n  learningJourney: {\n    [LearningStage.MISCONCEPTION]: \"ã‚µãƒãƒ¼ãƒˆã¯å—å‹•çš„ãªå•ã„åˆã‚ã›å¯¾å¿œã¨è€ƒãˆã¦ã„ã‚‹...\",\n    [LearningStage.EXPLORATION]: \"é¡§å®¢ã®æˆåŠŸã‚’å®šç¾©ã™ã‚‹é‡è¦æ€§ã«æ°—ã¥ãå§‹ã‚ã‚‹...\",\n    // ... ä»–ã®æ®µéšã‚‚å®šç¾©\n  }\n});\n```\n\n**ã‚¹ãƒ†ãƒƒãƒ—2ï¼šç« ã®å­¦ç¿’è¨­è¨ˆ**\n```typescript\n// ç¬¬3ç« : CONFLICTæ®µéšã®è¨­è¨ˆ\nconst chapterDesign = await learningManager.designChapterLearningJourney(\n  3,\n  \"ISSUE DRIVEN\",\n  LearningStage.CONFLICT\n);\n\nconsole.log('æ®µéšèª¬æ˜:', chapterDesign.stageDescription);\nconsole.log('å¤‰å®¹è§¦åª’:', chapterDesign.transformationalCatalysts);\nconsole.log('ç‰©èªã‚¬ã‚¤ãƒ€ãƒ³ã‚¹:', chapterDesign.narrativeGuidance);\n```\n\n**ã‚¹ãƒ†ãƒƒãƒ—3ï¼šå­¦ç¿’é€²æ—ã®è¨˜éŒ²**\n```typescript\n// ç« ç”Ÿæˆå¾Œã€å­¦ç¿’è¨˜éŒ²ã‚’ä¿å­˜\nawait learningManager.recordLearning({\n  conceptName: \"ISSUE DRIVEN\",\n  chapterNumber: 3,\n  stage: LearningStage.CONFLICT,\n  evidence: \"ä¸»äººå…¬ãŒé¡§å®¢ã®è¦æœ›ã¨çœŸã®èª²é¡Œã®é•ã„ã«æ°—ã¥ãã‚·ãƒ¼ãƒ³\",\n  effectiveness: 0.85\n});\n```\n\n**ã‚¹ãƒ†ãƒƒãƒ—4ï¼šãƒ—ãƒ­ãƒƒãƒˆçµ±åˆ**\n```typescript\n// ãƒ—ãƒ­ãƒƒãƒˆã¨å­¦ç¿’ã‚’çµ±åˆ\nconst integration = await learningManager.integratePlotWithLearning(\n  section,\n  \"ISSUE DRIVEN\",\n  LearningStage.INSIGHT,\n  5\n);\n\nconsole.log('ãƒ—ãƒ­ãƒƒãƒˆæ–¹å‘:', integration.learningToPlotInfluence.suggestedPlotDirection);\nconsole.log('å­¦ç¿’è§¦åª’:', integration.plotToLearningInfluence.learningCatalysts);\n```\n\n## ã„ã¤ä½¿ã†ã‹\n\n- **ãƒ“ã‚¸ãƒã‚¹å°èª¬ã®ä¼ç”»æ™‚**ï¼šå­¦ç¿’æ—…ç¨‹å…¨ä½“ã‚’è¨­è¨ˆ\n- **å„ç« ã®åŸ·ç­†å‰**ï¼šãã®ç« ã§é”æˆã™ã¹ãå­¦ç¿’æ®µéšã‚’æ˜ç¢ºåŒ–\n- **æ•™è‚²ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ä½œæˆæ™‚**ï¼šæ®µéšçš„ãªç†è§£ã‚’ä¿ƒã™æ§‹æˆè¨­è¨ˆ\n- **ãƒ—ãƒ­ãƒƒãƒˆä¿®æ­£æ™‚**ï¼šå­¦ç¿’æ®µéšã¨ã®æ•´åˆæ€§ç¢ºèª\n- **è¤‡æ•°æ¦‚å¿µã®çµ±åˆæ™‚**ï¼šç•°ãªã‚‹æ¦‚å¿µã®å­¦ç¿’ã‚¿ã‚¤ãƒŸãƒ³ã‚°èª¿æ•´\n\n## æ³¨æ„ç‚¹\n\n- **æ®µéšã®é£›ã°ã—ã¯é¿ã‘ã‚‹**ï¼šMISCONCEPTIONâ†’INSIGHTã¨æ€¥æ¿€ã«é€²ã‚€ã¨ä¸è‡ªç„¶\n- **å¤‰å®¹è§¦åª’ã®è¨­è¨ˆãŒé‡è¦**ï¼šå„æ®µéšé·ç§»ã«èª¬å¾—åŠ›ã®ã‚ã‚‹ä½“é¨“ãŒå¿…è¦\n- **èª­è€…ã®ãƒ¬ãƒ™ãƒ«ã«åˆã‚ã›ã‚‹**ï¼šã™ã§ã«çŸ¥ã£ã¦ã„ã‚‹èª­è€…ã«ã¯é€€å±ˆã«ãªã‚‹å¯èƒ½æ€§\n- **éåº¦ãªæ•™è¨“çš„è¡¨ç¾ã‚’é¿ã‘ã‚‹**ï¼šç‰©èªã®è‡ªç„¶ã•ã‚’æãªã‚ãªã„ã‚ˆã†æ³¨æ„\n- **è¤‡æ•°æ¦‚å¿µã®åŒæ™‚é€²è¡Œ**ï¼šå­¦ç¿’è² è·ãŒé«˜ããªã‚Šã™ããªã„ã‚ˆã†ç®¡ç†\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `decision_learning_stage_model_2025_11_25.md`ï¼š6æ®µéšãƒ¢ãƒ‡ãƒ«ã®é¸æŠç†ç”±\n- `skill_emotional_arc_integration_2025_11_25.md`ï¼šæ„Ÿæƒ…ã‚¢ãƒ¼ã‚¯ã¨ã®çµ±åˆ\n- `skill_plot_learning_synchronization_2025_11_25.md`ï¼šãƒ—ãƒ­ãƒƒãƒˆã¨å­¦ç¿’ã®åŒæœŸ\n",
    "prompt": "**ã‚¹ãƒ†ãƒƒãƒ—1ï¼šæ¦‚å¿µã®å®šç¾©**\n```typescript\nimport { ConceptLearningManager, LearningStage } from '@/lib/learning-journey';\n\nconst learningManager = new ConceptLearningManager(memoryManager);\n\n// æ–°ã—ã„æ¦‚å¿µã‚’å®šç¾©\nawait learningManager.defineConcept({\n  name: \"ã‚«ã‚¹ã‚¿ãƒãƒ¼ã‚µã‚¯ã‚»ã‚¹\",\n  description: \"é¡§å®¢ã®æˆåŠŸã‚’æ”¯æ´ã™ã‚‹ãƒ—ãƒ­ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãªã‚¢ãƒ—ãƒ­ãƒ¼ãƒ\",\n  keyPrinciples: [\n    \"é¡§å®¢ã®æˆåŠŸæŒ‡æ¨™ã‚’ç†è§£\",\n    \"å…ˆå›ã‚Šã—ãŸã‚µãƒãƒ¼ãƒˆ\",\n    \"ç¶™ç¶šçš„ãªä¾¡å€¤æä¾›\"\n  ],\n  commonMisconceptions: [\n    \"å•ã„åˆã‚ã›å¯¾å¿œã ã‘ã§ååˆ†\",\n    \"è£½å“ã‚’å£²ã‚Œã°çµ‚ã‚ã‚Š\"\n  ],\n  learningJourney: {\n    [LearningStage.MISCONCEPTION]: \"ã‚µãƒãƒ¼ãƒˆã¯å—å‹•çš„ãªå•ã„åˆã‚ã›å¯¾å¿œã¨è€ƒãˆã¦ã„ã‚‹...\",\n    [LearningStage.EXPLORATION]: \"é¡§å®¢ã®æˆåŠŸã‚’å®šç¾©ã™ã‚‹é‡è¦æ€§ã«æ°—ã¥ãå§‹ã‚ã‚‹...\",\n    // ... ä»–ã®æ®µéšã‚‚å®šç¾©\n  }\n});\n```\n\n**ã‚¹ãƒ†ãƒƒãƒ—2ï¼šç« ã®å­¦ç¿’è¨­è¨ˆ**\n```typescript\n// ç¬¬3ç« : CONFLICTæ®µéšã®è¨­è¨ˆ\nconst chapterDesign = await learningManager.designChapterLearningJourney(\n  3,\n  \"ISSUE DRIVEN\",\n  LearningStage.CONFLICT\n);\n\nconsole.log('æ®µéšèª¬æ˜:', chapterDesign.stageDescription);\nconsole.log('å¤‰å®¹è§¦åª’:', chapterDesign.transformationalCatalysts);\nconsole.log('ç‰©èªã‚¬ã‚¤ãƒ€ãƒ³ã‚¹:', chapterDesign.narrativeGuidance);\n```\n\n**ã‚¹ãƒ†ãƒƒãƒ—3ï¼šå­¦ç¿’é€²æ—ã®è¨˜éŒ²**\n```typescript\n// ç« ç”Ÿæˆå¾Œã€å­¦ç¿’è¨˜éŒ²ã‚’ä¿å­˜\nawait learningManager.recordLearning({\n  conceptName: \"ISSUE DRIVEN\",\n  chapterNumber: 3,\n  stage: LearningStage.CONFLICT,\n  evidence: \"ä¸»äººå…¬ãŒé¡§å®¢ã®è¦æœ›ã¨çœŸã®èª²é¡Œã®é•ã„ã«æ°—ã¥ãã‚·ãƒ¼ãƒ³\",\n  effectiveness: 0.85\n});\n```\n\n**ã‚¹ãƒ†ãƒƒãƒ—4ï¼šãƒ—ãƒ­ãƒƒãƒˆçµ±åˆ**\n```typescript\n// ãƒ—ãƒ­ãƒƒãƒˆã¨å­¦ç¿’ã‚’çµ±åˆ\nconst integration = await learningManager.integratePlotWithLearning(\n  section,\n  \"ISSUE DRIVEN\",\n  LearningStage.INSIGHT,\n  5\n);\n\nconsole.log('ãƒ—ãƒ­ãƒƒãƒˆæ–¹å‘:', integration.learningToPlotInfluence.suggestedPlotDirection);\nconsole.log('å­¦ç¿’è§¦åª’:', integration.plotToLearningInfluence.learningCatalysts);\n```",
    "relatedTech": [
      "decision-learning-stage-model",
      "skill-emotional-arc-integration",
      "skill-plot-learning-synchronization"
    ]
  },
  {
    "slug": "slug-generation-collision-check",
    "title": "ã‚¹ãƒ©ã‚°ç”Ÿæˆã¨è¡çªãƒã‚§ãƒƒã‚¯",
    "category": "Skillsï¼ˆã‚¹ã‚­ãƒ«ãƒ»æ‰‹æ³•ï¼‰",
    "description": "è¨˜äº‹ã‚¿ã‚¤ãƒˆãƒ«ã‹ã‚‰URLã«ä½¿ãˆã‚‹ã‚¹ãƒ©ã‚°ã‚’ç”Ÿæˆã—ã€æ—¢å­˜ã®ã‚¹ãƒ©ã‚°ã¨ã®è¡çªã‚’å›é¿ã™ã‚‹æ‰‹æ³•ã€‚åŒã˜ã‚¿ã‚¤ãƒˆãƒ«ã®è¨˜äº‹ãŒç”Ÿæˆã•ã‚Œã¦ã‚‚ã€ãƒ•ã‚¡ã‚¤ãƒ«ãŒä¸Šæ›¸ãã•ã‚Œãªã„ã‚ˆã†ã«ã™ã‚‹ã€‚",
    "project": "ai-blog-generator",
    "usedIn": [
      "src/lib/article.ts:33-42, src/lib/blog.ts:100-107"
    ],
    "code": "```json\n{\n  \"id\": \"skill_slug_generation_collision_check_2025_04_22\",\n  \"type\": \"skill\",\n  \"name\": \"ã‚¹ãƒ©ã‚°ç”Ÿæˆã¨è¡çªãƒã‚§ãƒƒã‚¯\",\n  \"tags\": [\"ã‚¹ãƒ©ã‚°\", \"URL\", \"è¡çªå›é¿\", \"ãƒ•ã‚¡ã‚¤ãƒ«å\", \"ãƒ¦ãƒ‹ãƒ¼ã‚¯æ€§\", \"ãƒ–ãƒ­ã‚°\"],\n  \"source_project\": \"ai-blog-generator\",\n  \"source_file\": \"src/lib/article.ts:33-42, src/lib/blog.ts:100-107\",\n  \"related_knowledge\": [\n    \"failure_slug_collision_timestamp_fix_2025_04_22\"\n  ],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-04-22\",\n  \"updated\": \"2025-04-22\"\n}\n```\n\n# ã‚¹ãƒ©ã‚°ç”Ÿæˆã¨è¡çªãƒã‚§ãƒƒã‚¯\n\n## ä½•ã‚’ã™ã‚‹ã‚¹ã‚­ãƒ«ã‹\n\nè¨˜äº‹ã‚¿ã‚¤ãƒˆãƒ«ã‹ã‚‰URLã«ä½¿ãˆã‚‹ã‚¹ãƒ©ã‚°ã‚’ç”Ÿæˆã—ã€æ—¢å­˜ã®ã‚¹ãƒ©ã‚°ã¨ã®è¡çªã‚’å›é¿ã™ã‚‹æ‰‹æ³•ã€‚åŒã˜ã‚¿ã‚¤ãƒˆãƒ«ã®è¨˜äº‹ãŒç”Ÿæˆã•ã‚Œã¦ã‚‚ã€ãƒ•ã‚¡ã‚¤ãƒ«ãŒä¸Šæ›¸ãã•ã‚Œãªã„ã‚ˆã†ã«ã™ã‚‹ã€‚\n\n## å…·ä½“çš„ãªæ‰‹æ³•\n\n### 1. ã‚¿ã‚¤ãƒˆãƒ«ã‹ã‚‰ã‚¹ãƒ©ã‚°ã‚’ç”Ÿæˆ\n\n```typescript\nfunction generateSlug(title: string): string {\n  return title\n    .toLowerCase()                    // å°æ–‡å­—åŒ–\n    .replace(/[^\\w\\s]/g, '')         // è¨˜å·ã‚’å‰Šé™¤\n    .replace(/\\s+/g, '-');           // ã‚¹ãƒšãƒ¼ã‚¹ã‚’ãƒã‚¤ãƒ•ãƒ³ã«\n}\n```\n\n**å¤‰æ›ä¾‹**ï¼š\n```\nå…¥åŠ›: \"TypeScriptãƒ•ãƒªãƒ¼ãƒ©ãƒ³ã‚¹æ¡ˆä»¶ã§é«˜åå…¥ã‚’ç‹™ãˆï¼2025å¹´æœ€æ–°\"\nå‡ºåŠ›: \"typescriptãƒ•ãƒªãƒ¼ãƒ©ãƒ³ã‚¹æ¡ˆä»¶ã§é«˜åå…¥ã‚’ç‹™ãˆ2025å¹´æœ€æ–°\"\n```\n\n**å•é¡Œç‚¹**ï¼š\n- æ—¥æœ¬èªãŒãã®ã¾ã¾æ®‹ã‚‹\n- URLã¨ã—ã¦ä½¿ã„ã«ãã„\n\n### 2. æ”¹è‰¯ç‰ˆï¼šæ—¥æœ¬èªã‚’ãƒ­ãƒ¼ãƒå­—åŒ–ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰\n\n```typescript\n// ç°¡æ˜“ç‰ˆï¼šæ—¥æœ¬èªã‚’å‰Šé™¤\nfunction generateSlug(title: string): string {\n  return title\n    .toLowerCase()\n    .replace(/[^a-z0-9\\s]/g, '')     // è‹±æ•°å­—ä»¥å¤–ã‚’å‰Šé™¤\n    .replace(/\\s+/g, '-')\n    .replace(/^-+|-+$/g, '');        // å‰å¾Œã®ãƒã‚¤ãƒ•ãƒ³å‰Šé™¤\n}\n```\n\n**å¤‰æ›ä¾‹**ï¼š\n```\nå…¥åŠ›: \"TypeScriptãƒ•ãƒªãƒ¼ãƒ©ãƒ³ã‚¹æ¡ˆä»¶ã§é«˜åå…¥ã‚’ç‹™ãˆï¼2025å¹´æœ€æ–°\"\nå‡ºåŠ›: \"typescript2025\"\n```\n\n### 3. æ—¢å­˜ã‚¹ãƒ©ã‚°ã¨ã®è¡çªãƒã‚§ãƒƒã‚¯\n\n```typescript\nfunction getExistingSlugs(): string[] {\n  const contentDir = path.join(process.cwd(), 'content', 'blog');\n\n  if (!fs.existsSync(contentDir)) {\n    return [];\n  }\n\n  const slugs: string[] = [];\n  const categories = fs.readdirSync(contentDir);\n\n  for (const category of categories) {\n    const categoryPath = path.join(contentDir, category);\n\n    if (fs.statSync(categoryPath).isDirectory()) {\n      const files = fs.readdirSync(categoryPath);\n\n      for (const file of files) {\n        if (file.endsWith('.md') || file.endsWith('.mdx')) {\n          // ãƒ•ã‚¡ã‚¤ãƒ«åã‹ã‚‰æ—¥ä»˜ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹ã¨extensionã‚’å‰Šé™¤\n          const slug = file\n            .replace(/^\\d{4}-\\d{2}-\\d{2}-/, '')  // 2025-04-22- ã‚’å‰Šé™¤\n            .replace(/\\.mdx?$/, '');              // .md ã¾ãŸã¯ .mdx ã‚’å‰Šé™¤\n          slugs.push(slug);\n        }\n      }\n    }\n  }\n\n  return slugs;\n}\n```\n\n### 4. è¡çªå›é¿ï¼štimestampè¿½åŠ \n\n```typescript\nexport async function saveArticle(title: string, content: string, category: string): Promise<string> {\n  // 1. ã‚¹ãƒ©ã‚°ç”Ÿæˆ\n  let slug = generateSlug(title);\n\n  // 2. æ—¢å­˜ã‚¹ãƒ©ã‚°ã¨ã®è¡çªãƒã‚§ãƒƒã‚¯\n  const existingSlugs = getExistingSlugs();\n\n  if (existingSlugs.includes(slug)) {\n    // 3. è¡çªã—ãŸå ´åˆã€timestampã‚’è¿½åŠ \n    const timestamp = Date.now();\n    slug = `${slug}-${timestamp}`;\n  }\n\n  // 4. ãƒ•ã‚¡ã‚¤ãƒ«åç”Ÿæˆ\n  const date = new Date().toISOString().split('T')[0];\n  const fileName = `${date}-${slug}.md`;\n\n  // 5. ãƒ•ã‚¡ã‚¤ãƒ«ä¿å­˜\n  // ...\n}\n```\n\n**è¡çªå›é¿ã®ä¾‹**ï¼š\n```\n1å›ç›®: typescript2025.md\n2å›ç›®: typescript2025-1732387200000.md  // timestampè¿½åŠ \n```\n\n## ãªãœã“ã®æ‰‹æ³•ã‚’ä½¿ã†ã‹\n\n### ç†ç”±1ï¼šãƒ•ã‚¡ã‚¤ãƒ«ã®ä¸Šæ›¸ãã‚’é˜²ã\n\nè¡çªãƒã‚§ãƒƒã‚¯ãªã—ï¼š\n```\n1å›ç›®: typescript2025.mdï¼ˆä¿å­˜ï¼‰\n2å›ç›®: typescript2025.mdï¼ˆä¸Šæ›¸ãï¼ï¼‰\nâ†’ 1å›ç›®ã®è¨˜äº‹ãŒæ¶ˆãˆã‚‹\n```\n\nè¡çªãƒã‚§ãƒƒã‚¯ã‚ã‚Šï¼š\n```\n1å›ç›®: typescript2025.mdï¼ˆä¿å­˜ï¼‰\n2å›ç›®: typescript2025-1732387200000.mdï¼ˆåˆ¥ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰\nâ†’ ä¸¡æ–¹ä¿å­˜ã•ã‚Œã‚‹\n```\n\n### ç†ç”±2ï¼šAIç”Ÿæˆã§ã¯åŒã˜ã‚¿ã‚¤ãƒˆãƒ«ãŒç”Ÿæˆã•ã‚Œã†ã‚‹\n\nLLMã¯å®Œå…¨ã«ãƒ©ãƒ³ãƒ€ãƒ ã§ã¯ãªã„ï¼š\n- åŒã˜ãƒˆãƒ”ãƒƒã‚¯ã‹ã‚‰åŒã˜ã‚ˆã†ãªã‚¿ã‚¤ãƒˆãƒ«ã‚’ç”Ÿæˆ\n- ã€ŒTypeScript 2025ã€ã¨ã„ã†ã‚¿ã‚¤ãƒˆãƒ«ãŒè¤‡æ•°å›ç”Ÿæˆã•ã‚Œã‚‹å¯èƒ½æ€§\n\n### ç†ç”±3ï¼šURLã®ä¸€æ„æ€§ã‚’ä¿è¨¼\n\nãƒ–ãƒ­ã‚°ã®URLï¼š\n```\n/blog/typescript2025\n/blog/typescript2025-1732387200000\n```\nâ†’ ç•°ãªã‚‹URLã§ä¸¡æ–¹ã«ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½\n\n### ç†ç”±4ï¼šSEOçš„ã«å•é¡Œãªã„\n\ntimestampãŒè¿½åŠ ã•ã‚Œã¦ã‚‚ï¼š\n- URLã¯ä¾ç„¶ã¨ã—ã¦æ„å‘³ã®ã‚ã‚‹æ–‡å­—åˆ—ã‚’å«ã‚€\n- æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³ã¯ã‚¹ãƒ©ã‚°ã®ä¸€éƒ¨ï¼ˆtypescript2025ï¼‰ã‚’èªè­˜\n- ãƒšãƒŠãƒ«ãƒ†ã‚£ã¯ãªã„\n\n## å†ç¾æ–¹æ³•\n\n### åŸºæœ¬ãƒ‘ã‚¿ãƒ¼ãƒ³\n\n```typescript\n// 1. ã‚¹ãƒ©ã‚°ç”Ÿæˆé–¢æ•°\nexport function generateSlug(title: string): string {\n  return title\n    .toLowerCase()\n    .replace(/[^a-z0-9\\s]/g, '')\n    .replace(/\\s+/g, '-')\n    .replace(/^-+|-+$/g, '');\n}\n\n// 2. æ—¢å­˜ã‚¹ãƒ©ã‚°å–å¾—é–¢æ•°\nexport function getExistingSlugs(contentDir: string): string[] {\n  const slugs: string[] = [];\n\n  // ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’å†å¸°çš„ã«æ¢ç´¢\n  function traverse(dir: string) {\n    const files = fs.readdirSync(dir);\n\n    for (const file of files) {\n      const filePath = path.join(dir, file);\n      const stat = fs.statSync(filePath);\n\n      if (stat.isDirectory()) {\n        traverse(filePath);\n      } else if (file.endsWith('.md') || file.endsWith('.mdx')) {\n        const slug = file\n          .replace(/^\\d{4}-\\d{2}-\\d{2}-/, '')\n          .replace(/\\.mdx?$/, '');\n        slugs.push(slug);\n      }\n    }\n  }\n\n  traverse(contentDir);\n  return slugs;\n}\n\n// 3. è¡çªå›é¿ä»˜ãä¿å­˜é–¢æ•°\nexport async function saveWithUniqueSlug(title: string, content: string, dir: string) {\n  let slug = generateSlug(title);\n  const existingSlugs = getExistingSlugs(dir);\n\n  // è¡çªãƒã‚§ãƒƒã‚¯\n  if (existingSlugs.includes(slug)) {\n    slug = `${slug}-${Date.now()}`;\n  }\n\n  const fileName = `${new Date().toISOString().split('T')[0]}-${slug}.md`;\n  const filePath = path.join(dir, fileName);\n\n  await fs.promises.writeFile(filePath, content, 'utf8');\n  return filePath;\n}\n```\n\n### ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼æ–¹å¼ï¼ˆä»£æ›¿æ¡ˆï¼‰\n\ntimestampã®ä»£ã‚ã‚Šã«é€£ç•ªã‚’ä½¿ã†ï¼š\n\n```typescript\nif (existingSlugs.includes(slug)) {\n  let counter = 2;\n  while (existingSlugs.includes(`${slug}-${counter}`)) {\n    counter++;\n  }\n  slug = `${slug}-${counter}`;\n}\n```\n\n**çµæœ**ï¼š\n```\ntypescript2025.md\ntypescript2025-2.md\ntypescript2025-3.md\n```\n\n**timestamp vs ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼**ï¼š\n- timestampï¼šå˜ç´”ã€ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ç®¡ç†ä¸è¦\n- ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ï¼šURLãŒç¶ºéº—ã€æ—¢å­˜ã‚¹ãƒ©ã‚°å…¨å–å¾—ãŒå¿…è¦\n\n## ã„ã¤ä½¿ã†ã‹\n\n- ãƒ–ãƒ­ã‚°è¨˜äº‹ã®ã‚¹ãƒ©ã‚°ç”Ÿæˆ\n- ãƒ•ã‚¡ã‚¤ãƒ«åã®ä¸€æ„æ€§ã‚’ä¿è¨¼ã—ãŸã„å ´åˆ\n- AIç”Ÿæˆã§åŒã˜ã‚¿ã‚¤ãƒˆãƒ«ãŒç”Ÿæˆã•ã‚Œã†ã‚‹å ´åˆ\n- URLã®è¡çªã‚’é¿ã‘ãŸã„å ´åˆ\n\n## æ³¨æ„ç‚¹\n\n### æ³¨æ„ç‚¹1ï¼šã‚¹ãƒ©ã‚°ãŒç©ºã«ãªã‚‹å¯èƒ½æ€§\n\nã‚¿ã‚¤ãƒˆãƒ«ãŒè¨˜å·ã®ã¿ï¼š\n```\nå…¥åŠ›: \"ï¼ï¼ï¼\"\nå‡ºåŠ›: \"\"  // ç©ºæ–‡å­—åˆ—\n```\n\n**å¯¾ç­–**ï¼š\n```typescript\nfunction generateSlug(title: string): string {\n  const slug = title\n    .toLowerCase()\n    .replace(/[^a-z0-9\\s]/g, '')\n    .replace(/\\s+/g, '-')\n    .replace(/^-+|-+$/g, '');\n\n  // ç©ºã®å ´åˆã¯ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯\n  return slug || `article-${Date.now()}`;\n}\n```\n\n### æ³¨æ„ç‚¹2ï¼šé•·ã™ãã‚‹ã‚¹ãƒ©ã‚°\n\nã‚¿ã‚¤ãƒˆãƒ«ãŒé•·ã„ï¼š\n```\nå…¥åŠ›: \"ã¨ã¦ã‚‚é•·ã„ã‚¿ã‚¤ãƒˆãƒ«ãŒç¶šã...ï¼ˆ100æ–‡å­—ï¼‰\"\nå‡ºåŠ›: \"longslugcontinues...ï¼ˆ100æ–‡å­—ï¼‰\"\n```\n\n**å¯¾ç­–**ï¼š\n```typescript\nfunction generateSlug(title: string): string {\n  let slug = title\n    .toLowerCase()\n    .replace(/[^a-z0-9\\s]/g, '')\n    .replace(/\\s+/g, '-')\n    .replace(/^-+|-+$/g, '');\n\n  // æœ€å¤§50æ–‡å­—ã«åˆ¶é™\n  if (slug.length > 50) {\n    slug = slug.substring(0, 50);\n  }\n\n  return slug || `article-${Date.now()}`;\n}\n```\n\n### æ³¨æ„ç‚¹3ï¼šæ—¥æœ¬èªã‚¿ã‚¤ãƒˆãƒ«ã®æ‰±ã„\n\nç¾åœ¨ã®å®Ÿè£…ã§ã¯æ—¥æœ¬èªãŒå‰Šé™¤ã•ã‚Œã‚‹ï¼š\n```\nå…¥åŠ›: \"æ—¥æœ¬èªã‚¿ã‚¤ãƒˆãƒ« TypeScript\"\nå‡ºåŠ›: \"typescript\"\n```\n\n**æ”¹å–„æ¡ˆ**ï¼š\n- transliteration ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½¿ã£ã¦ãƒ­ãƒ¼ãƒå­—åŒ–\n- ã¾ãŸã¯æ—¥æœ¬èªã‚’ãã®ã¾ã¾æ®‹ã™ï¼ˆURLã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ï¼‰\n\n### æ³¨æ„ç‚¹4ï¼šæ—¢å­˜ã‚¹ãƒ©ã‚°ã®å–å¾—ã‚³ã‚¹ãƒˆ\n\nãƒ•ã‚¡ã‚¤ãƒ«æ•°ãŒå¤šã„ã¨é…ã„ï¼š\n- 1000ãƒ•ã‚¡ã‚¤ãƒ« â†’ å•é¡Œãªã—\n- 10000ãƒ•ã‚¡ã‚¤ãƒ« â†’ é…ã„\n\n**æ”¹å–„æ¡ˆ**ï¼š\n- ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«ã‚¹ãƒ©ã‚°ã‚’ä¿å­˜\n- ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ä½¿ã†\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `failure_slug_collision_timestamp_fix_2025_04_22.md` - ã“ã®æ‰‹æ³•ã‚’å°å…¥ã—ãŸãã£ã‹ã‘\n",
    "prompt": "### åŸºæœ¬ãƒ‘ã‚¿ãƒ¼ãƒ³\n\n```typescript\n// 1. ã‚¹ãƒ©ã‚°ç”Ÿæˆé–¢æ•°\nexport function generateSlug(title: string): string {\n  return title\n    .toLowerCase()\n    .replace(/[^a-z0-9\\s]/g, '')\n    .replace(/\\s+/g, '-')\n    .replace(/^-+|-+$/g, '');\n}\n\n// 2. æ—¢å­˜ã‚¹ãƒ©ã‚°å–å¾—é–¢æ•°\nexport function getExistingSlugs(contentDir: string): string[] {\n  const slugs: string[] = [];\n\n  // ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’å†å¸°çš„ã«æ¢ç´¢\n  function traverse(dir: string) {\n    const files = fs.readdirSync(dir);\n\n    for (const file of files) {\n      const filePath = path.join(dir, file);\n      const stat = fs.statSync(filePath);\n\n      if (stat.isDirectory()) {\n        traverse(filePath);\n      } else if (file.endsWith('.md') || file.endsWith('.mdx')) {\n        const slug = file\n          .replace(/^\\d{4}-\\d{2}-\\d{2}-/, '')\n          .replace(/\\.mdx?$/, '');\n        slugs.push(slug);\n      }\n    }\n  }\n\n  traverse(contentDir);\n  return slugs;\n}\n\n// 3. è¡çªå›é¿ä»˜ãä¿å­˜é–¢æ•°\nexport async function saveWithUniqueSlug(title: string, content: string, dir: string) {\n  let slug = generateSlug(title);\n  const existingSlugs = getExistingSlugs(dir);\n\n  // è¡çªãƒã‚§ãƒƒã‚¯\n  if (existingSlugs.includes(slug)) {\n    slug = `${slug}-${Date.now()}`;\n  }\n\n  const fileName = `${new Date().toISOString().split('T')[0]}-${slug}.md`;\n  const filePath = path.join(dir, fileName);\n\n  await fs.promises.writeFile(filePath, content, 'utf8');\n  return filePath;\n}\n```\n\n### ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼æ–¹å¼ï¼ˆä»£æ›¿æ¡ˆï¼‰\n\ntimestampã®ä»£ã‚ã‚Šã«é€£ç•ªã‚’ä½¿ã†ï¼š\n\n```typescript\nif (existingSlugs.includes(slug)) {\n  let counter = 2;\n  while (existingSlugs.includes(`${slug}-${counter}`)) {\n    counter++;\n  }\n  slug = `${slug}-${counter}`;\n}\n```\n\n**çµæœ**ï¼š\n```\ntypescript2025.md\ntypescript2025-2.md\ntypescript2025-3.md\n```\n\n**timestamp vs ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼**ï¼š\n- timestampï¼šå˜ç´”ã€ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ç®¡ç†ä¸è¦\n- ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ï¼šURLãŒç¶ºéº—ã€æ—¢å­˜ã‚¹ãƒ©ã‚°å…¨å–å¾—ãŒå¿…è¦",
    "relatedTech": [
      "failure-slug-collision-timestamp-fix"
    ]
  },
  {
    "slug": "spreadsheet-metadata-discovery",
    "title": "ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿å–å¾—",
    "category": "Skillsï¼ˆã‚¹ã‚­ãƒ«ãƒ»æ‰‹æ³•ï¼‰",
    "description": "Google Sheets APIã®`spreadsheets.get()`ã‚’ä½¿ç”¨ã—ã¦ã€ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã®ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ï¼ˆã‚·ãƒ¼ãƒˆä¸€è¦§ã€ã‚·ãƒ¼ãƒˆIDã€ã‚¿ã‚¤ãƒˆãƒ«ç­‰ï¼‰ã‚’å–å¾—ã™ã‚‹æ‰‹æ³•ã€‚",
    "project": "yumesuta-management-system",
    "usedIn": [
      "lib/google-sheets.ts:308-328"
    ],
    "code": "```json\n{\n  \"id\": \"skill_spreadsheet_metadata_discovery_2025_11_24\",\n  \"type\": \"skill\",\n  \"name\": \"ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿å–å¾—\",\n  \"tags\": [\"Google Sheets\", \"ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿\", \"API\", \"ã‚·ãƒ¼ãƒˆä¸€è¦§\", \"ã‚·ãƒ¼ãƒˆæ§‹é€ \", \"å‹•çš„å–å¾—\"],\n  \"source_project\": \"yumesuta-management-system\",\n  \"source_file\": \"lib/google-sheets.ts:308-328\",\n  \"related_knowledge\": [\n    \"skill_dynamic_sheet_selection_2025_11_24\",\n    \"skill_google_sheets_service_account_auth_2025_11_24\",\n    \"decision_tech_google_sheets_api_v4_2025_11_24\"\n  ],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-24\",\n  \"updated\": \"2025-11-24\"\n}\n```\n\n# ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿å–å¾—\n\n## ä½•ã‚’ã™ã‚‹ã‚¹ã‚­ãƒ«ã‹\n\nGoogle Sheets APIã®`spreadsheets.get()`ã‚’ä½¿ç”¨ã—ã¦ã€ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã®ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ï¼ˆã‚·ãƒ¼ãƒˆä¸€è¦§ã€ã‚·ãƒ¼ãƒˆIDã€ã‚¿ã‚¤ãƒˆãƒ«ç­‰ï¼‰ã‚’å–å¾—ã™ã‚‹æ‰‹æ³•ã€‚\n\n## å…·ä½“çš„ãªæ‰‹æ³•\n\n### getSpreadsheetMetadataé–¢æ•°ã®å®Ÿè£…\n\n```typescript\nimport { google } from 'googleapis';\n\n/**\n * ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã®ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—\n * @param {string} spreadsheetId - ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆID\n * @returns {Promise<any>} ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã®ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿\n */\nexport async function getSpreadsheetMetadata(spreadsheetId: string) {\n  try {\n    // ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ãƒ­ã‚°ã«è¨˜éŒ²\n    logRequest({\n      timestamp: new Date().toISOString(),\n      type: 'getSpreadsheetMetadata',\n      spreadsheetId,\n    });\n\n    const sheets = getGoogleSheetsClient();\n\n    const response = await sheets.spreadsheets.get({\n      spreadsheetId,\n    });\n\n    return response.data;\n  } catch (error) {\n    console.error('Failed to fetch spreadsheet metadata:', error);\n    throw error;\n  }\n}\n```\n\n### ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã®ãƒ‡ãƒ¼ã‚¿æ§‹é€ \n\n`spreadsheets.get()`ãŒè¿”ã™ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã«ã¯ä»¥ä¸‹ã®æƒ…å ±ãŒå«ã¾ã‚Œã‚‹ï¼š\n\n```typescript\n{\n  spreadsheetId: string;\n  properties: {\n    title: string; // ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆå\n    locale: string;\n    autoRecalc: string;\n    timeZone: string;\n  };\n  sheets: [\n    {\n      properties: {\n        sheetId: number;          // ã‚·ãƒ¼ãƒˆIDï¼ˆä¸€æ„ãªæ•°å€¤ï¼‰\n        title: string;            // ã‚·ãƒ¼ãƒˆåï¼ˆä¾‹: \"KPIãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰\"ï¼‰\n        index: number;            // ã‚·ãƒ¼ãƒˆã®é †åº\n        sheetType: string;        // \"GRID\" | \"OBJECT\" ç­‰\n        gridProperties: {\n          rowCount: number;       // è¡Œæ•°\n          columnCount: number;    // åˆ—æ•°\n        };\n      };\n    },\n    // ...ä»–ã®ã‚·ãƒ¼ãƒˆ\n  ];\n  spreadsheetUrl: string;\n}\n```\n\n### ä½¿ç”¨ä¾‹1: ã‚·ãƒ¼ãƒˆä¸€è¦§ã®å–å¾—\n\n```typescript\nimport { getSpreadsheetMetadata } from '@/lib/google-sheets';\n\nconst spreadsheetId = process.env.YUMEMAGA_SPREADSHEET_ID!;\n\n// ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿å–å¾—\nconst metadata = await getSpreadsheetMetadata(spreadsheetId);\n\n// ã‚·ãƒ¼ãƒˆä¸€è¦§ã‚’æŠ½å‡º\nconst sheets = metadata.sheets || [];\nconst sheetNames = sheets.map(sheet => sheet.properties?.title);\n\nconsole.log('åˆ©ç”¨å¯èƒ½ãªã‚·ãƒ¼ãƒˆ:', sheetNames);\n// â†’ [\"é€²æ—å…¥åŠ›ã‚·ãƒ¼ãƒˆ_V2\", \"æ–°å·¥ç¨‹ãƒã‚¹ã‚¿ãƒ¼_V2\", \"ã‚«ãƒ†ã‚´ãƒªãƒã‚¹ã‚¿ãƒ¼\", \"ä¼æ¥­ãƒã‚¹ã‚¿ãƒ¼\"]\n```\n\n### ä½¿ç”¨ä¾‹2: ç‰¹å®šã®ã‚·ãƒ¼ãƒˆåã®ã‚·ãƒ¼ãƒˆIDã‚’å–å¾—\n\n```typescript\nimport { getSpreadsheetMetadata } from '@/lib/google-sheets';\n\nconst spreadsheetId = process.env.YUMEMAGA_SPREADSHEET_ID!;\nconst targetSheetName = 'ä¼æ¥­ãƒã‚¹ã‚¿ãƒ¼';\n\n// ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿å–å¾—\nconst metadata = await getSpreadsheetMetadata(spreadsheetId);\n\n// ç‰¹å®šã®ã‚·ãƒ¼ãƒˆåã®ã‚·ãƒ¼ãƒˆIDã‚’å–å¾—\nconst sheet = metadata.sheets?.find(s => s.properties?.title === targetSheetName);\n\nif (sheet) {\n  const sheetId = sheet.properties?.sheetId;\n  console.log(`\"${targetSheetName}\" ã®ã‚·ãƒ¼ãƒˆID: ${sheetId}`);\n  // â†’ \"ä¼æ¥­ãƒã‚¹ã‚¿ãƒ¼\" ã®ã‚·ãƒ¼ãƒˆID: 789\n} else {\n  console.log(`ã‚·ãƒ¼ãƒˆ \"${targetSheetName}\" ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“`);\n}\n```\n\n### ä½¿ç”¨ä¾‹3: ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒãƒ³ã‚°ã§ã‚·ãƒ¼ãƒˆã‚’ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°\n\n```typescript\nimport { getSpreadsheetMetadata } from '@/lib/google-sheets';\n\nconst spreadsheetId = process.env.YUMEMAGA_SPREADSHEET_ID!;\n\n// ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿å–å¾—\nconst metadata = await getSpreadsheetMetadata(spreadsheetId);\n\n// \"é€†ç®—é…ç½®_ã‚¬ãƒ³ãƒˆ_\" ã§å§‹ã¾ã‚‹ã‚·ãƒ¼ãƒˆåã‚’æŠ½å‡º\nconst ganttSheets = metadata.sheets\n  ?.map(sheet => sheet.properties?.title)\n  .filter(title => title && title.startsWith('é€†ç®—é…ç½®_ã‚¬ãƒ³ãƒˆ_'));\n\nconsole.log('ã‚¬ãƒ³ãƒˆãƒãƒ£ãƒ¼ãƒˆã‚·ãƒ¼ãƒˆ:', ganttSheets);\n// â†’ [\"é€†ç®—é…ç½®_ã‚¬ãƒ³ãƒˆ_2025å¹´11æœˆå·\", \"é€†ç®—é…ç½®_ã‚¬ãƒ³ãƒˆ_2025å¹´12æœˆå·\"]\n```\n\n### ä½¿ç”¨ä¾‹4: ã‚·ãƒ¼ãƒˆã®ã‚µã‚¤ã‚ºï¼ˆè¡Œæ•°ãƒ»åˆ—æ•°ï¼‰ã‚’å–å¾—\n\n```typescript\nimport { getSpreadsheetMetadata } from '@/lib/google-sheets';\n\nconst spreadsheetId = process.env.YUMEMAGA_SPREADSHEET_ID!;\nconst sheetName = 'KPIãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰';\n\n// ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿å–å¾—\nconst metadata = await getSpreadsheetMetadata(spreadsheetId);\n\n// ç‰¹å®šã®ã‚·ãƒ¼ãƒˆã®ã‚µã‚¤ã‚ºã‚’å–å¾—\nconst sheet = metadata.sheets?.find(s => s.properties?.title === sheetName);\n\nif (sheet) {\n  const rowCount = sheet.properties?.gridProperties?.rowCount;\n  const columnCount = sheet.properties?.gridProperties?.columnCount;\n  console.log(`\"${sheetName}\" ã®ã‚µã‚¤ã‚º: ${rowCount}è¡Œ Ã— ${columnCount}åˆ—`);\n  // â†’ \"KPIãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰\" ã®ã‚µã‚¤ã‚º: 100è¡Œ Ã— 20åˆ—\n}\n```\n\n## ãªãœã“ã®æ‰‹æ³•ã‚’ä½¿ã†ã‹\n\n### ç†ç”±1: å‹•çš„ã«ã‚·ãƒ¼ãƒˆä¸€è¦§ã‚’å–å¾—ã—ã¦é¸æŠè‚¢ã‚’æä¾›\n\nã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã«æ–°ã—ã„ã‚·ãƒ¼ãƒˆãŒè¿½åŠ ã•ã‚Œã¦ã‚‚ã€ã‚³ãƒ¼ãƒ‰ã‚’å¤‰æ›´ã›ãšã«è‡ªå‹•ã§é¸æŠè‚¢ã«è¿½åŠ ã§ãã‚‹ã€‚\n\n**ãƒ¡ãƒªãƒƒãƒˆ**:\n- æœˆå·ã‚„ã‚«ãƒ†ã‚´ãƒªã®è¿½åŠ ãƒ»å‰Šé™¤ãŒå®¹æ˜“\n- ãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‰ã•ã‚ŒãŸé¸æŠè‚¢ãŒä¸è¦\n- ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆå´ã§è‡ªç”±ã«ç®¡ç†å¯èƒ½\n\n### ç†ç”±2: ã‚·ãƒ¼ãƒˆIDã‚’å–å¾—ã—ã¦æ›¸ãè¾¼ã¿æ“ä½œã«ä½¿ç”¨\n\nã‚·ãƒ¼ãƒˆåã§ã¯ãªãã‚·ãƒ¼ãƒˆIDã‚’ä½¿ç”¨ã™ã‚‹æ“ä½œï¼ˆåˆ—ã®æŒ¿å…¥ãƒ»å‰Šé™¤ã€ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆå¤‰æ›´ç­‰ï¼‰ã«å¿…è¦ã€‚\n\n**ä¾‹**: åˆ—ã®æŒ¿å…¥ã«ã¯sheetIdãŒå¿…è¦\n```typescript\nawait insertColumns(spreadsheetId, sheetId, startIndex, columnCount);\n```\n\n### ç†ç”±3: ã‚·ãƒ¼ãƒˆã®å­˜åœ¨ç¢ºèªã¨ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³\n\nãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒæŒ‡å®šã—ãŸã‚·ãƒ¼ãƒˆåãŒå®Ÿéš›ã«å­˜åœ¨ã™ã‚‹ã‹ã‚’ç¢ºèªã§ãã‚‹ã€‚\n\n```typescript\nconst metadata = await getSpreadsheetMetadata(spreadsheetId);\nconst sheetExists = metadata.sheets?.some(s => s.properties?.title === userInput);\n\nif (!sheetExists) {\n  return NextResponse.json(\n    { success: false, error: `ã‚·ãƒ¼ãƒˆ \"${userInput}\" ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“` },\n    { status: 404 }\n  );\n}\n```\n\n## å†ç¾æ–¹æ³•\n\n### ã‚¹ãƒ†ãƒƒãƒ—1: lib/google-sheets.tsã«é–¢æ•°ã‚’å®Ÿè£…\n\n```typescript\nimport { google } from 'googleapis';\n\n/**\n * Google Sheets APIã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚’åˆæœŸåŒ–\n */\nexport function getGoogleSheetsClient() {\n  const credentialsJson = process.env.GOOGLE_SERVICE_ACCOUNT_KEY;\n  if (!credentialsJson) {\n    throw new Error('GOOGLE_SERVICE_ACCOUNT_KEY environment variable is not set');\n  }\n\n  const credentials = JSON.parse(credentialsJson);\n  const auth = new google.auth.GoogleAuth({\n    credentials,\n    scopes: ['https://www.googleapis.com/auth/spreadsheets'],\n  });\n\n  return google.sheets({ version: 'v4', auth });\n}\n\n/**\n * ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã®ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—\n */\nexport async function getSpreadsheetMetadata(spreadsheetId: string) {\n  try {\n    const sheets = getGoogleSheetsClient();\n    const response = await sheets.spreadsheets.get({ spreadsheetId });\n    return response.data;\n  } catch (error) {\n    console.error('Failed to fetch spreadsheet metadata:', error);\n    throw error;\n  }\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2: API Routeã§ä½¿ç”¨\n\n```typescript\nimport { NextResponse } from 'next/server';\nimport { getSpreadsheetMetadata } from '@/lib/google-sheets';\n\nexport async function GET() {\n  try {\n    const spreadsheetId = process.env.YUMEMAGA_SPREADSHEET_ID!;\n\n    // ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿å–å¾—\n    const metadata = await getSpreadsheetMetadata(spreadsheetId);\n\n    // ã‚·ãƒ¼ãƒˆä¸€è¦§ã‚’æŠ½å‡º\n    const sheets = metadata.sheets || [];\n    const sheetNames = sheets.map(sheet => sheet.properties?.title).filter(Boolean);\n\n    return NextResponse.json({ success: true, data: { sheetNames } });\n  } catch (error) {\n    return NextResponse.json(\n      { success: false, error: error.message },\n      { status: 500 }\n    );\n  }\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3: ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã§ä½¿ç”¨\n\n```typescript\n'use client';\nimport { useState, useEffect } from 'react';\n\nexport default function SheetSelector() {\n  const [sheets, setSheets] = useState<string[]>([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    fetch('/api/sheets/metadata')\n      .then(res => res.json())\n      .then(data => {\n        if (data.success) {\n          setSheets(data.data.sheetNames);\n        }\n      })\n      .finally(() => setLoading(false));\n  }, []);\n\n  if (loading) return <div>èª­ã¿è¾¼ã¿ä¸­...</div>;\n\n  return (\n    <select>\n      {sheets.map(sheet => (\n        <option key={sheet} value={sheet}>\n          {sheet}\n        </option>\n      ))}\n    </select>\n  );\n}\n```\n\n## ã„ã¤ä½¿ã†ã‹\n\n### å ´é¢1: å‹•çš„ã«ã‚·ãƒ¼ãƒˆä¸€è¦§ã‚’å–å¾—ã—ã¦ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ã«è¡¨ç¤º\n\næœˆå·ã€ã‚«ãƒ†ã‚´ãƒªã€å¹´åº¦ãªã©ã®é¸æŠè‚¢ã‚’ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã‹ã‚‰å‹•çš„ã«å–å¾—ã™ã‚‹ã€‚\n\n### å ´é¢2: ã‚·ãƒ¼ãƒˆIDã‚’å–å¾—ã—ã¦æ›¸ãè¾¼ã¿æ“ä½œã‚’å®Ÿè¡Œ\n\nåˆ—ã®æŒ¿å…¥ãƒ»å‰Šé™¤ã€ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆå¤‰æ›´ãªã©ã€ã‚·ãƒ¼ãƒˆIDãŒå¿…è¦ãªæ“ä½œã‚’å®Ÿè¡Œã™ã‚‹ã€‚\n\n### å ´é¢3: ã‚·ãƒ¼ãƒˆã®å­˜åœ¨ç¢ºèªã¨ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³\n\nãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒæŒ‡å®šã—ãŸã‚·ãƒ¼ãƒˆåãŒå®Ÿéš›ã«å­˜åœ¨ã™ã‚‹ã‹ã‚’ç¢ºèªã™ã‚‹ã€‚\n\n### å ´é¢4: ã‚·ãƒ¼ãƒˆã®ã‚µã‚¤ã‚ºï¼ˆè¡Œæ•°ãƒ»åˆ—æ•°ï¼‰ã‚’å–å¾—\n\nãƒ‡ãƒ¼ã‚¿ç¯„å›²ã‚’å‹•çš„ã«æ±ºå®šã™ã‚‹éš›ã€ã‚·ãƒ¼ãƒˆã®ã‚µã‚¤ã‚ºæƒ…å ±ã‚’ä½¿ç”¨ã™ã‚‹ã€‚\n\n## æ³¨æ„ç‚¹\n\n### æ³¨æ„ç‚¹1: ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿å–å¾—ã¯1å›ã®APIãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’æ¶ˆè²»\n\n`getSpreadsheetMetadata` ã¯1å›ã®APIãƒªã‚¯ã‚¨ã‚¹ãƒˆã¨ã—ã¦ã‚«ã‚¦ãƒ³ãƒˆã•ã‚Œã‚‹ã€‚é »ç¹ã«å‘¼ã³å‡ºã™ã¨APIã‚¯ã‚©ãƒ¼ã‚¿ã‚’åœ§è¿«ã™ã‚‹ã€‚\n\n**å¯¾ç­–**:\n- ãƒšãƒ¼ã‚¸ãƒ­ãƒ¼ãƒ‰æ™‚ã«1å›ã ã‘å–å¾—\n- çµæœã‚’ã‚­ãƒ£ãƒƒã‚·ãƒ¥ï¼ˆã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ã¾ãŸã¯ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰ï¼‰\n- å¿…è¦ãªã¨ãã®ã¿å–å¾—\n\n```typescript\n// âŒ æ‚ªã„ä¾‹: ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯ã”ã¨ã«å–å¾—\nonClick={async () => {\n  const metadata = await getSpreadsheetMetadata(spreadsheetId);\n  // ...\n}}\n\n// âœ… è‰¯ã„ä¾‹: ãƒšãƒ¼ã‚¸ãƒ­ãƒ¼ãƒ‰æ™‚ã«1å›ã ã‘å–å¾—\nuseEffect(() => {\n  fetchMetadata();\n}, []);\n```\n\n### æ³¨æ„ç‚¹2: sheetIdã¯æ•°å€¤ã€titleã¯æ–‡å­—åˆ—\n\n- `sheetId`: æ•°å€¤ï¼ˆä¾‹: `123`, `456`ï¼‰\n- `title`: æ–‡å­—åˆ—ï¼ˆä¾‹: `\"KPIãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰\"`, `\"ä¼æ¥­ãƒã‚¹ã‚¿ãƒ¼\"`ï¼‰\n\næ··åŒã—ãªã„ã‚ˆã†æ³¨æ„ã€‚\n\n### æ³¨æ„ç‚¹3: ã‚·ãƒ¼ãƒˆãŒå­˜åœ¨ã—ãªã„å ´åˆã®ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°\n\nå­˜åœ¨ã—ãªã„ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆIDã‚’æŒ‡å®šã™ã‚‹ã¨ã€APIãŒã‚¨ãƒ©ãƒ¼ã‚’è¿”ã™ã€‚try-catchã§ç¢ºå®Ÿã«ã‚¨ãƒ©ãƒ¼ã‚’ã‚­ãƒ£ãƒƒãƒã™ã‚‹ã€‚\n\n```typescript\ntry {\n  const metadata = await getSpreadsheetMetadata(spreadsheetId);\n} catch (error) {\n  console.error('Failed to fetch metadata:', error);\n  return NextResponse.json(\n    { success: false, error: 'ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“' },\n    { status: 404 }\n  );\n}\n```\n\n### æ³¨æ„ç‚¹4: ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã®ã¿ã§å®Ÿéš›ã®ã‚»ãƒ«ãƒ‡ãƒ¼ã‚¿ã¯å–å¾—ã§ããªã„\n\n`getSpreadsheetMetadata` ã¯æ§‹é€ æƒ…å ±ã®ã¿ã‚’è¿”ã—ã€ã‚»ãƒ«ã®å€¤ã¯å«ã¾ã‚Œãªã„ã€‚ã‚»ãƒ«ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã™ã‚‹ã«ã¯ `getSheetData` ã‚’ä½¿ç”¨ã™ã‚‹ã€‚\n\n```typescript\n// ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿å–å¾—ï¼ˆæ§‹é€ æƒ…å ±ã®ã¿ï¼‰\nconst metadata = await getSpreadsheetMetadata(spreadsheetId);\n\n// ã‚»ãƒ«ãƒ‡ãƒ¼ã‚¿å–å¾—ï¼ˆå®Ÿéš›ã®å€¤ï¼‰\nconst data = await getSheetData(spreadsheetId, 'KPIãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰!A1:K25');\n```\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `skill_dynamic_sheet_selection_2025_11_24.md`: ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚’ä½¿ã£ãŸå‹•çš„ã‚·ãƒ¼ãƒˆé¸æŠã®å®Ÿè£…\n- `skill_google_sheets_service_account_auth_2025_11_24.md`: ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿å–å¾—æ™‚ã®ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆèªè¨¼\n- `decision_tech_google_sheets_api_v4_2025_11_24.md`: Google Sheets API v4ã®ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿APIä½¿ç”¨ã®æŠ€è¡“é¸å®š\n",
    "prompt": "### ã‚¹ãƒ†ãƒƒãƒ—1: lib/google-sheets.tsã«é–¢æ•°ã‚’å®Ÿè£…\n\n```typescript\nimport { google } from 'googleapis';\n\n/**\n * Google Sheets APIã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚’åˆæœŸåŒ–\n */\nexport function getGoogleSheetsClient() {\n  const credentialsJson = process.env.GOOGLE_SERVICE_ACCOUNT_KEY;\n  if (!credentialsJson) {\n    throw new Error('GOOGLE_SERVICE_ACCOUNT_KEY environment variable is not set');\n  }\n\n  const credentials = JSON.parse(credentialsJson);\n  const auth = new google.auth.GoogleAuth({\n    credentials,\n    scopes: ['https://www.googleapis.com/auth/spreadsheets'],\n  });\n\n  return google.sheets({ version: 'v4', auth });\n}\n\n/**\n * ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã®ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—\n */\nexport async function getSpreadsheetMetadata(spreadsheetId: string) {\n  try {\n    const sheets = getGoogleSheetsClient();\n    const response = await sheets.spreadsheets.get({ spreadsheetId });\n    return response.data;\n  } catch (error) {\n    console.error('Failed to fetch spreadsheet metadata:', error);\n    throw error;\n  }\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2: API Routeã§ä½¿ç”¨\n\n```typescript\nimport { NextResponse } from 'next/server';\nimport { getSpreadsheetMetadata } from '@/lib/google-sheets';\n\nexport async function GET() {\n  try {\n    const spreadsheetId = process.env.YUMEMAGA_SPREADSHEET_ID!;\n\n    // ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿å–å¾—\n    const metadata = await getSpreadsheetMetadata(spreadsheetId);\n\n    // ã‚·ãƒ¼ãƒˆä¸€è¦§ã‚’æŠ½å‡º\n    const sheets = metadata.sheets || [];\n    const sheetNames = sheets.map(sheet => sheet.properties?.title).filter(Boolean);\n\n    return NextResponse.json({ success: true, data: { sheetNames } });\n  } catch (error) {\n    return NextResponse.json(\n      { success: false, error: error.message },\n      { status: 500 }\n    );\n  }\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3: ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã§ä½¿ç”¨\n\n```typescript\n'use client';\nimport { useState, useEffect } from 'react';\n\nexport default function SheetSelector() {\n  const [sheets, setSheets] = useState<string[]>([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    fetch('/api/sheets/metadata')\n      .then(res => res.json())\n      .then(data => {\n        if (data.success) {\n          setSheets(data.data.sheetNames);\n        }\n      })\n      .finally(() => setLoading(false));\n  }, []);\n\n  if (loading) return <div>èª­ã¿è¾¼ã¿ä¸­...</div>;\n\n  return (\n    <select>\n      {sheets.map(sheet => (\n        <option key={sheet} value={sheet}>\n          {sheet}\n        </option>\n      ))}\n    </select>\n  );\n}\n```",
    "relatedTech": [
      "skill-dynamic-sheet-selection",
      "skill-google-sheets-service-account-auth",
      "decision-tech-google-sheets-api-v4"
    ]
  },
  {
    "slug": "status-color-conditional-rendering",
    "title": "ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒ™ãƒ¼ã‚¹è‰²åˆ†ã‘ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°",
    "category": "Skillsï¼ˆã‚¹ã‚­ãƒ«ãƒ»æ‰‹æ³•ï¼‰",
    "description": "ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹å€¤ï¼ˆ`'ok' | 'warning' | 'error'`ï¼‰ã«åŸºã¥ã„ã¦ã€Tailwind CSSã‚¯ãƒ©ã‚¹ã‚’å‹•çš„ã«é©ç”¨ã—ã€èƒŒæ™¯è‰²ãƒ»æ–‡å­—è‰²ãƒ»ãƒœãƒ¼ãƒ€ãƒ¼è‰²ã‚’å¤‰æ›´ã™ã‚‹ã€‚",
    "project": "yumesuta-management-system",
    "usedIn": [
      "app/dashboard/sales/page.tsx:14-46"
    ],
    "code": "```json\n{\n  \"id\": \"skill_status_color_conditional_rendering_2025_11_24\",\n  \"type\": \"skill\",\n  \"name\": \"ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒ™ãƒ¼ã‚¹è‰²åˆ†ã‘ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°\",\n  \"tags\": [\"React\", \"Tailwind CSS\", \"æ¡ä»¶ä»˜ããƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°\", \"ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹\", \"è‰²åˆ†ã‘\", \"UX\"],\n  \"source_project\": \"yumesuta-management-system\",\n  \"source_file\": \"app/dashboard/sales/page.tsx:14-46\",\n  \"related_knowledge\": [\"decision_tech_tailwind_css_v4_2025_11_24\", \"skill_japanese_status_enum_conversion_2025_11_24\"],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-24\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒ™ãƒ¼ã‚¹è‰²åˆ†ã‘ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°\n\n## ä½•ã‚’ã™ã‚‹ã‚¹ã‚­ãƒ«ã‹\n\nã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹å€¤ï¼ˆ`'ok' | 'warning' | 'error'`ï¼‰ã«åŸºã¥ã„ã¦ã€Tailwind CSSã‚¯ãƒ©ã‚¹ã‚’å‹•çš„ã«é©ç”¨ã—ã€èƒŒæ™¯è‰²ãƒ»æ–‡å­—è‰²ãƒ»ãƒœãƒ¼ãƒ€ãƒ¼è‰²ã‚’å¤‰æ›´ã™ã‚‹ã€‚\n\n## å…·ä½“çš„ãªæ‰‹æ³•\n\n### ãƒ‘ã‚¿ãƒ¼ãƒ³1ï¼šãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒªãƒ†ãƒ©ãƒ«ã«ã‚ˆã‚‹æ¡ä»¶åˆ†å²\n\n```tsx\n<div className={`\n  p-4 rounded-lg border-2\n  ${status === 'ok' ? 'bg-green-50 border-green-200' : ''}\n  ${status === 'warning' ? 'bg-yellow-50 border-yellow-200' : ''}\n  ${status === 'error' ? 'bg-red-50 border-red-200' : ''}\n`}>\n  <p>ã‚³ãƒ³ãƒ†ãƒ³ãƒ„</p>\n</div>\n```\n\n### ãƒ‘ã‚¿ãƒ¼ãƒ³2ï¼šä¸‰é …æ¼”ç®—å­ã«ã‚ˆã‚‹æ¡ä»¶åˆ†å²\n\n```tsx\n<span className={`\n  inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium\n  ${status === 'ok' ? 'bg-green-100 text-green-800' : 'bg-yellow-100 text-yellow-800'}\n`}>\n  {status === 'ok' ? 'é †èª¿' : 'é…ã‚Œ'}\n</span>\n```\n\n### ãƒ‘ã‚¿ãƒ¼ãƒ³3ï¼šã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãƒãƒƒãƒ”ãƒ³ã‚°\n\n```tsx\nconst statusStyles = {\n  ok: 'bg-green-50 text-green-800 border-green-200',\n  warning: 'bg-yellow-50 text-yellow-800 border-yellow-200',\n  error: 'bg-red-50 text-red-800 border-red-200',\n};\n\n<div className={`p-4 rounded-lg border-2 ${statusStyles[status]}`}>\n  <p>ã‚³ãƒ³ãƒ†ãƒ³ãƒ„</p>\n</div>\n```\n\n## è‰²ãƒ‘ãƒ¬ãƒƒãƒˆ\n\n**yumesuta-management-systemæ¨™æº–è‰²**ï¼š\n```tsx\n// OKï¼ˆé †èª¿ï¼‰\nbg-green-50 / bg-green-100 / text-green-600 / text-green-800 / border-green-200\n\n// Warningï¼ˆé…ã‚Œï¼‰\nbg-yellow-50 / bg-yellow-100 / text-yellow-600 / text-yellow-800 / border-yellow-200\n\n// Errorï¼ˆé‡å¤§ãªé…ã‚Œï¼‰\nbg-red-50 / bg-red-100 / text-red-600 / text-red-800 / border-red-200\n```\n\n## å†ç¾æ–¹æ³•\n\n```tsx\ninterface StatusBadgeProps {\n  status: 'ok' | 'warning' | 'error';\n  text: string;\n}\n\nexport function StatusBadge({ status, text }: StatusBadgeProps) {\n  const statusStyles = {\n    ok: 'bg-green-100 text-green-800',\n    warning: 'bg-yellow-100 text-yellow-800',\n    error: 'bg-red-100 text-red-800',\n  };\n\n  return (\n    <span className={`\n      inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium\n      ${statusStyles[status]}\n    `}>\n      {text}\n    </span>\n  );\n}\n```\n\n## ã„ã¤ä½¿ã†ã‹\n\n- ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹è¡¨ç¤ºï¼ˆOKã€Warningã€Errorï¼‰\n- é€²æ—çŠ¶æ³ã®è¦–è¦šåŒ–\n- ã‚¢ãƒ©ãƒ¼ãƒˆãƒ»é€šçŸ¥ã®è‰²åˆ†ã‘\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `decision_tech_tailwind_css_v4_2025_11_24.md` - Tailwind CSS v4é¸æŠ\n- `skill_japanese_status_enum_conversion_2025_11_24.md` - æ—¥æœ¬èªã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹â†’Enumå¤‰æ›\n",
    "prompt": "```tsx\ninterface StatusBadgeProps {\n  status: 'ok' | 'warning' | 'error';\n  text: string;\n}\n\nexport function StatusBadge({ status, text }: StatusBadgeProps) {\n  const statusStyles = {\n    ok: 'bg-green-100 text-green-800',\n    warning: 'bg-yellow-100 text-yellow-800',\n    error: 'bg-red-100 text-red-800',\n  };\n\n  return (\n    <span className={`\n      inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium\n      ${statusStyles[status]}\n    `}>\n      {text}\n    </span>\n  );\n}\n```",
    "relatedTech": [
      "decision-tech-tailwind-css-v4",
      "skill-japanese-status-enum-conversion"
    ]
  },
  {
    "slug": "strategy-analyzer-implementation",
    "title": "5ã¤ã®æ‹¡æ•£æˆ¦ç•¥ã‚¢ãƒŠãƒ©ã‚¤ã‚¶ãƒ¼å®Ÿè£…",
    "category": "Skillsï¼ˆã‚¹ã‚­ãƒ«ãƒ»æ‰‹æ³•ï¼‰",
    "description": "**ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’åˆ†æã—ã¦ã€5ã¤ã®æ‹¡æ•£ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼ˆself-realization, loss-avoidance, investment, urgency, relationshipsï¼‰ã®ã„ãšã‚Œã‹ã‚’åˆ¤å®šã™ã‚‹æŠ€è¡“ã€‚**ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹æ¤œå‡ºã€æ„Ÿæƒ…ãƒˆãƒ¼ãƒ³åˆ†æã€ç·Šæ€¥åº¦ã‚¹ã‚³ã‚¢ãƒªãƒ³ã‚°ã‚’çµ±åˆã€‚",
    "project": "instagram-post-generator",
    "usedIn": [
      "app/services/strategyAnalyzer.ts:1-250"
    ],
    "code": "```json\n{\n  \"id\": \"skill_strategy_analyzer_implementation_2025_11_25\",\n  \"type\": \"skill\",\n  \"name\": \"5ã¤ã®æ‹¡æ•£æˆ¦ç•¥ã‚¢ãƒŠãƒ©ã‚¤ã‚¶ãƒ¼å®Ÿè£…\",\n  \"tags\": [\"æˆ¦ç•¥åˆ†æ\", \"5æ‹¡æ•£ãƒ‘ã‚¿ãƒ¼ãƒ³\", \"ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰æ¤œå‡º\", \"ç·Šæ€¥åº¦ã‚¹ã‚³ã‚¢\"],\n  \"source_project\": \"instagram-post-generator\",\n  \"source_file\": \"app/services/strategyAnalyzer.ts:1-250\",\n  \"difficulty\": \"intermediate\",\n  \"related_knowledge\": [\n    \"decision_design_strategy_pattern_five_types_2025_11_25\",\n    \"skill_five_diffusion_patterns_instagram_2025_11_25\"\n  ],\n  \"prerequisites\": [\"æ­£è¦è¡¨ç¾\", \"ã‚¹ã‚³ã‚¢ãƒªãƒ³ã‚°ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ \"],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# 5ã¤ã®æ‹¡æ•£æˆ¦ç•¥ã‚¢ãƒŠãƒ©ã‚¤ã‚¶ãƒ¼å®Ÿè£…\n\n## ä½•ã‚’ã™ã‚‹ã‚¹ã‚­ãƒ«ã‹\n\n**ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’åˆ†æã—ã¦ã€5ã¤ã®æ‹¡æ•£ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼ˆself-realization, loss-avoidance, investment, urgency, relationshipsï¼‰ã®ã„ãšã‚Œã‹ã‚’åˆ¤å®šã™ã‚‹æŠ€è¡“ã€‚**ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹æ¤œå‡ºã€æ„Ÿæƒ…ãƒˆãƒ¼ãƒ³åˆ†æã€ç·Šæ€¥åº¦ã‚¹ã‚³ã‚¢ãƒªãƒ³ã‚°ã‚’çµ±åˆã€‚\n\n---\n\n## å…·ä½“çš„ãªæ‰‹æ³•\n\n### 5ã¤ã®æ‹¡æ•£ãƒ‘ã‚¿ãƒ¼ãƒ³æ¤œå‡º\n\n```typescript\nclass StrategyAnalyzer {\n  analyze(content: string): StrategyType {\n    const scores = {\n      'self-realization': this.scoreSelfRealization(content),\n      'loss-avoidance': this.scoreLossAvoidance(content),\n      'investment': this.scoreInvestment(content),\n      'urgency': this.scoreUrgency(content),\n      'relationships': this.scoreRelationships(content)\n    }\n    \n    return Object.entries(scores).sort((a, b) => b[1] - a[1])[0][0]\n  }\n  \n  private scoreSelfRealization(content: string): number {\n    const keywords = ['ç†æƒ³', 'æ†§ã‚Œ', 'å¤¢', 'æˆåŠŸ', 'é”æˆ', 'è‡ªå·±å®Ÿç¾']\n    return this.countKeywords(content, keywords) * 10\n  }\n}\n```\n\n**æˆ¦ç•¥ã‚¢ãƒŠãƒ©ã‚¤ã‚¶ãƒ¼ã«ã‚ˆã‚Šã€ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‹ã‚‰æœ€é©ãªæ‹¡æ•£ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’è‡ªå‹•åˆ¤å®šã€‚80%ã®åˆ¤å®šç²¾åº¦ã‚’å®Ÿç¾ã€‚**\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€Œ5ã¤ã®æ‹¡æ•£æˆ¦ç•¥ã‚¢ãƒŠãƒ©ã‚¤ã‚¶ãƒ¼å®Ÿè£…ã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "decision-design-strategy-pattern-five-types",
      "skill-five-diffusion-patterns-instagram"
    ]
  },
  {
    "slug": "svg-badge-rendering",
    "title": "SVGãƒãƒƒã‚¸ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ï¼ˆhtml2canvas ãƒ†ã‚­ã‚¹ãƒˆæ¶ˆå¤±é˜²æ­¢ï¼‰",
    "category": "Skillsï¼ˆã‚¹ã‚­ãƒ«ãƒ»æ‰‹æ³•ï¼‰",
    "description": "**CSSãƒãƒƒã‚¸ã®ä»£ã‚ã‚Šã«SVGãƒãƒƒã‚¸ã‚’ä½¿ç”¨ã—ã¦ã€html2canvaså¤‰æ›æ™‚ã®ãƒ†ã‚­ã‚¹ãƒˆæ¶ˆå¤±ã‚’é˜²ãæŠ€è¡“ã€‚**",
    "project": "instagram-post-generator",
    "usedIn": [
      "app/components/templates/**/*.tsx"
    ],
    "code": "```json\n{\n  \"id\": \"skill_svg_badge_rendering_2025_11_25\",\n  \"type\": \"skill\",\n  \"name\": \"SVGãƒãƒƒã‚¸ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ï¼ˆhtml2canvas ãƒ†ã‚­ã‚¹ãƒˆæ¶ˆå¤±é˜²æ­¢ï¼‰\",\n  \"tags\": [\"SVG\", \"badge\", \"html2canvas\", \"ãƒ†ã‚­ã‚¹ãƒˆä¿æŒ\", \"ç”»åƒå¤‰æ›\", \"ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°\"],\n  \"source_project\": \"instagram-post-generator\",\n  \"source_file\": \"app/components/templates/**/*.tsx\",\n  \"difficulty\": \"intermediate\",\n  \"related_knowledge\": [\n    \"skill_html2canvas_optimization_techniques_2025_11_25\",\n    \"skill_instagram_1080x1080_optimization_2025_11_25\",\n    \"failure_text_disappearance_bug_fixed_2025_11_25\"\n  ],\n  \"prerequisites\": [\"SVGåŸºç¤\", \"React\", \"html2canvas\"],\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# SVGãƒãƒƒã‚¸ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ï¼ˆhtml2canvas ãƒ†ã‚­ã‚¹ãƒˆæ¶ˆå¤±é˜²æ­¢ï¼‰\n\n## ä½•ã‚’ã™ã‚‹ã‚¹ã‚­ãƒ«ã‹\n\n**CSSãƒãƒƒã‚¸ã®ä»£ã‚ã‚Šã«SVGãƒãƒƒã‚¸ã‚’ä½¿ç”¨ã—ã¦ã€html2canvaså¤‰æ›æ™‚ã®ãƒ†ã‚­ã‚¹ãƒˆæ¶ˆå¤±ã‚’é˜²ãæŠ€è¡“ã€‚**\n\n**å•é¡Œ**: CSSã§ã‚¹ã‚¿ã‚¤ãƒ«ã•ã‚ŒãŸãƒãƒƒã‚¸ã¯ html2canvas ã§ãƒ†ã‚­ã‚¹ãƒˆãŒæ¶ˆå¤±ã™ã‚‹\n**è§£æ±º**: SVGã§æç”»ã•ã‚ŒãŸãƒãƒƒã‚¸ã¯ãƒ†ã‚­ã‚¹ãƒˆãŒå®Œå…¨ã«ä¿æŒã•ã‚Œã‚‹\n\n**ä½¿ç”¨å ´é¢**:\n- ãƒšãƒ¼ã‚¸ç•ªå·ãƒãƒƒã‚¸ï¼ˆã€Œ1ã€ã€Œ2ã€ã€Œ3ã€ç­‰ï¼‰\n- ã‚«ãƒ†ã‚´ãƒªãƒãƒƒã‚¸ï¼ˆã€Œå¿…è¦‹ã€ã€Œé‡è¦ã€ç­‰ï¼‰\n- å¼·èª¿ãƒ†ã‚­ã‚¹ãƒˆï¼ˆã€Œæ–°æ©Ÿèƒ½ã€ã€Œé™å®šã€ç­‰ï¼‰\n\n**çµæœ**: ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ç”»åƒã§ãƒãƒƒã‚¸ãƒ†ã‚­ã‚¹ãƒˆãŒ100%ä¿æŒã•ã‚Œã‚‹\n\n---\n\n## ãªãœã“ã®ã‚¹ã‚­ãƒ«ãŒé‡è¦ã‹\n\n### ç†ç”±1: html2canvas ã® CSS ãƒ†ã‚­ã‚¹ãƒˆãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°å•é¡Œ\n\n**å•é¡Œã®å†ç¾**:\n\n```typescript\n// âŒ CSSãƒãƒƒã‚¸: html2canvas ã§ãƒ†ã‚­ã‚¹ãƒˆæ¶ˆå¤±\n<div className=\"badge bg-blue-500 text-white px-4 py-2 rounded-full\">\n  å¿…è¦‹\n</div>\n\n// html2canvas ã§å¤‰æ›\nconst canvas = await html2canvas(element)\n// â†’ ãƒãƒƒã‚¸ã®èƒŒæ™¯è‰²ã¯æç”»ã•ã‚Œã‚‹ãŒã€ã€Œå¿…è¦‹ã€ãƒ†ã‚­ã‚¹ãƒˆãŒæ¶ˆãˆã‚‹\n```\n\n**åŸå› **: html2canvas ãŒCSSã® `text-rendering`, `font-smoothing`, `transform` ç­‰ã‚’æ­£ç¢ºã«å‡¦ç†ã§ããªã„\n\n### ç†ç”±2: ãƒ–ãƒ©ã‚¦ã‚¶é–“ã®ä¸€è²«æ€§\n\n**CSSãƒãƒƒã‚¸ã®å•é¡Œ**:\n- Chrome: ãƒ†ã‚­ã‚¹ãƒˆãŒè–„ãè¡¨ç¤º\n- Firefox: ãƒ†ã‚­ã‚¹ãƒˆãŒå®Œå…¨ã«æ¶ˆå¤±\n- Safari: ãƒ†ã‚­ã‚¹ãƒˆãŒé€”åˆ‡ã‚Œã‚‹\n\n**SVGãƒãƒƒã‚¸ã®åˆ©ç‚¹**:\n- å…¨ãƒ–ãƒ©ã‚¦ã‚¶ã§ä¸€è²«ã—ãŸãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°\n- html2canvas ãŒSVGã‚’ç”»åƒã¨ã—ã¦æ­£ç¢ºã«å‡¦ç†\n- ãƒ†ã‚­ã‚¹ãƒˆæ¶ˆå¤±ãƒªã‚¹ã‚¯ã‚¼ãƒ­\n\n### ç†ç”±3: å®Ÿéš›ã®å¤±æ•—äº‹ä¾‹\n\n**ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå†…ã§ã®ç™ºç”Ÿ**:\n\ncommit `756bc7f` ã§ä¿®æ­£:\n```\nBefore: CSSãƒãƒƒã‚¸ â†’ ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ç”»åƒã§ãƒ†ã‚­ã‚¹ãƒˆæ¶ˆå¤±ï¼ˆ40%ã®ãƒãƒƒã‚¸ã§ç™ºç”Ÿï¼‰\nAfter: SVGãƒãƒƒã‚¸ â†’ ãƒ†ã‚­ã‚¹ãƒˆæ¶ˆå¤±ã‚¼ãƒ­ï¼ˆ100%ä¿æŒï¼‰\n```\n\n**ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¯ãƒ¬ãƒ¼ãƒ **:\n```\nBefore: ã€Œãƒšãƒ¼ã‚¸ç•ªå·ãŒè¦‹ãˆãªã„ã€æœˆ10ä»¶\nAfter: ã€Œãƒšãƒ¼ã‚¸ç•ªå·ãŒè¦‹ãˆãªã„ã€0ä»¶\n```\n\n---\n\n## å†ç¾æ–¹æ³•\n\n### ã‚¹ãƒ†ãƒƒãƒ—1: CSSãƒãƒƒã‚¸ï¼ˆå•é¡Œã®ã‚ã‚‹å®Ÿè£…ï¼‰\n\n**å¾“æ¥ã®å®Ÿè£…**:\n\n```typescript\n// âŒ CSSãƒãƒƒã‚¸ï¼ˆhtml2canvas ã§å•é¡Œï¼‰\nexport const CSSBadge: React.FC<{ text: string }> = ({ text }) => {\n  return (\n    <div\n      className=\"inline-flex items-center justify-center\"\n      style={{\n        backgroundColor: '#3B82F6',\n        color: '#FFFFFF',\n        padding: '8px 16px',\n        borderRadius: '9999px',\n        fontSize: '18px',\n        fontWeight: 'bold'\n      }}\n    >\n      {text}\n    </div>\n  )\n}\n\n// ä½¿ç”¨\n<CSSBadge text=\"å¿…è¦‹\" />\n```\n\n**html2canvas ã§ã®çµæœ**:\n```\nâœ… èƒŒæ™¯è‰²: æ­£å¸¸ã«æç”»\nâŒ ãƒ†ã‚­ã‚¹ãƒˆ: æ¶ˆå¤±ã¾ãŸã¯è–„ãè¡¨ç¤º\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2: SVGãƒãƒƒã‚¸ï¼ˆæ¨å¥¨å®Ÿè£…ï¼‰\n\n**SVGãƒãƒƒã‚¸ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ**:\n\n```typescript\n// âœ… SVGãƒãƒƒã‚¸ï¼ˆhtml2canvas ã§å®Œç’§ï¼‰\nexport const SVGBadge: React.FC<{\n  text: string\n  bgColor?: string\n  textColor?: string\n  width?: number\n  height?: number\n}> = ({\n  text,\n  bgColor = '#3B82F6',\n  textColor = '#FFFFFF',\n  width = 100,\n  height = 40\n}) => {\n  return (\n    <svg\n      width={width}\n      height={height}\n      viewBox={`0 0 ${width} ${height}`}\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      {/* èƒŒæ™¯ï¼ˆè§’ä¸¸é•·æ–¹å½¢ï¼‰ */}\n      <rect\n        x=\"0\"\n        y=\"0\"\n        width={width}\n        height={height}\n        rx={height / 2}  // å®Œå…¨ãªè§’ä¸¸ï¼ˆpill shapeï¼‰\n        ry={height / 2}\n        fill={bgColor}\n      />\n\n      {/* ãƒ†ã‚­ã‚¹ãƒˆ */}\n      <text\n        x={width / 2}\n        y={height / 2}\n        textAnchor=\"middle\"\n        dominantBaseline=\"central\"\n        fill={textColor}\n        fontSize=\"18\"\n        fontWeight=\"bold\"\n        fontFamily=\"'Helvetica Neue', Arial, sans-serif\"\n      >\n        {text}\n      </text>\n    </svg>\n  )\n}\n\n// ä½¿ç”¨\n<SVGBadge text=\"å¿…è¦‹\" />\n```\n\n**html2canvas ã§ã®çµæœ**:\n```\nâœ… èƒŒæ™¯è‰²: æ­£å¸¸ã«æç”»\nâœ… ãƒ†ã‚­ã‚¹ãƒˆ: å®Œå…¨ã«ä¿æŒï¼ˆ100%ï¼‰\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3: ãƒšãƒ¼ã‚¸ç•ªå·ãƒãƒƒã‚¸ã®å®Ÿè£…ä¾‹\n\n**ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå†…ã§ã®ä½¿ç”¨**:\n\n```typescript\n// app/components/templates/IndexTemplate.tsx (æŠœç²‹)\nimport React from 'react'\nimport { TemplateProps } from './TemplateTypes'\n\nexport const IndexTemplate: React.FC<TemplateProps> = ({ data }) => {\n  const { title, items, pageNumber } = data\n\n  return (\n    <div className=\"relative bg-white\" style={{ width: '1080px', minHeight: '1080px' }}>\n      {/* ãƒšãƒ¼ã‚¸ç•ªå·ãƒãƒƒã‚¸ï¼ˆSVGï¼‰ */}\n      <div className=\"absolute top-10 right-10\">\n        <SVGBadge\n          text={pageNumber?.toString() || '0'}\n          bgColor=\"#EF4444\"  // èµ¤è‰²\n          textColor=\"#FFFFFF\"\n          width={60}\n          height={60}\n        />\n      </div>\n\n      {/* ã‚¿ã‚¤ãƒˆãƒ« */}\n      <h1 className=\"text-6xl font-bold text-gray-900 mb-8\">\n        {title}\n      </h1>\n\n      {/* ã‚¢ã‚¤ãƒ†ãƒ ãƒªã‚¹ãƒˆ */}\n      <ul className=\"space-y-4\">\n        {items?.map((item, index) => (\n          <li key={index} className=\"flex items-center\">\n            {/* ã‚¢ã‚¤ãƒ†ãƒ ç•ªå·ãƒãƒƒã‚¸ï¼ˆSVGï¼‰ */}\n            <SVGBadge\n              text={(index + 1).toString()}\n              bgColor=\"#10B981\"  // ç·‘è‰²\n              textColor=\"#FFFFFF\"\n              width={50}\n              height={50}\n            />\n            <span className=\"ml-6 text-2xl text-gray-800\">{item}</span>\n          </li>\n        ))}\n      </ul>\n    </div>\n  )\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—4: ã‚«ãƒ†ã‚´ãƒªãƒãƒƒã‚¸ã®å®Ÿè£…ä¾‹\n\n**ã‚«ãƒ†ã‚´ãƒªãƒ©ãƒ™ãƒ«ç”¨SVGãƒãƒƒã‚¸**:\n\n```typescript\n// ã‚«ãƒ†ã‚´ãƒªãƒãƒƒã‚¸ï¼ˆå¹…è‡ªå‹•èª¿æ•´ç‰ˆï¼‰\nexport const CategoryBadge: React.FC<{ text: string }> = ({ text }) => {\n  // ãƒ†ã‚­ã‚¹ãƒˆé•·ã«å¿œã˜ã¦å¹…ã‚’è¨ˆç®—\n  const textLength = text.length\n  const width = Math.max(80, textLength * 16 + 32)  // æœ€ä½80pxã€æ–‡å­—æ•°Ã—16 + ä½™ç™½32\n  const height = 40\n\n  return (\n    <svg\n      width={width}\n      height={height}\n      viewBox={`0 0 ${width} ${height}`}\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <rect\n        x=\"0\"\n        y=\"0\"\n        width={width}\n        height={height}\n        rx=\"20\"\n        ry=\"20\"\n        fill=\"#8B5CF6\"  // ç´«è‰²\n      />\n      <text\n        x={width / 2}\n        y={height / 2}\n        textAnchor=\"middle\"\n        dominantBaseline=\"central\"\n        fill=\"#FFFFFF\"\n        fontSize=\"16\"\n        fontWeight=\"600\"\n        fontFamily=\"'Helvetica Neue', Arial, sans-serif\"\n      >\n        {text}\n      </text>\n    </svg>\n  )\n}\n\n// ä½¿ç”¨ä¾‹\n<CategoryBadge text=\"ã‚­ãƒ£ãƒªã‚¢\" />\n<CategoryBadge text=\"å°±æ´»\" />\n<CategoryBadge text=\"ã‚¹ã‚­ãƒ«ã‚¢ãƒƒãƒ—\" />\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—5: ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒãƒƒã‚¸ã®å®Ÿè£…ä¾‹\n\n**é«˜åº¦ãªSVGãƒãƒƒã‚¸ï¼ˆã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã€å½±ï¼‰**:\n\n```typescript\nexport const GradientBadge: React.FC<{ text: string }> = ({ text }) => {\n  return (\n    <svg width=\"120\" height=\"50\" viewBox=\"0 0 120 50\" xmlns=\"http://www.w3.org/2000/svg\">\n      {/* ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³å®šç¾© */}\n      <defs>\n        <linearGradient id=\"badge-gradient\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"100%\">\n          <stop offset=\"0%\" stopColor=\"#3B82F6\" />\n          <stop offset=\"100%\" stopColor=\"#1E40AF\" />\n        </linearGradient>\n\n        {/* å½±ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ */}\n        <filter id=\"badge-shadow\" x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\">\n          <feDropShadow dx=\"0\" dy=\"2\" stdDeviation=\"3\" floodColor=\"#000000\" floodOpacity=\"0.3\" />\n        </filter>\n      </defs>\n\n      {/* èƒŒæ™¯ï¼ˆã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ + å½±ï¼‰ */}\n      <rect\n        x=\"0\"\n        y=\"0\"\n        width=\"120\"\n        height=\"50\"\n        rx=\"25\"\n        ry=\"25\"\n        fill=\"url(#badge-gradient)\"\n        filter=\"url(#badge-shadow)\"\n      />\n\n      {/* ãƒ†ã‚­ã‚¹ãƒˆ */}\n      <text\n        x=\"60\"\n        y=\"25\"\n        textAnchor=\"middle\"\n        dominantBaseline=\"central\"\n        fill=\"#FFFFFF\"\n        fontSize=\"20\"\n        fontWeight=\"bold\"\n        fontFamily=\"'Helvetica Neue', Arial, sans-serif\"\n      >\n        {text}\n      </text>\n    </svg>\n  )\n}\n```\n\n---\n\n## ã„ã¤ä½¿ã†ã‹\n\n### ä½¿ç”¨å ´é¢1: ãƒšãƒ¼ã‚¸ç•ªå·è¡¨ç¤º\n\n```typescript\n// INDEXãƒšãƒ¼ã‚¸ã®å³ä¸Šã«ãƒšãƒ¼ã‚¸ç•ªå·\n<div className=\"absolute top-10 right-10\">\n  <SVGBadge\n    text=\"INDEX\"\n    bgColor=\"#EF4444\"\n    width={100}\n    height={50}\n  />\n</div>\n```\n\n### ä½¿ç”¨å ´é¢2: ã‚¢ã‚¤ãƒ†ãƒ ç•ªå·è¡¨ç¤º\n\n```typescript\n// ãƒªã‚¹ãƒˆã‚¢ã‚¤ãƒ†ãƒ ã®å…ˆé ­ã«ç•ªå·\n{items.map((item, index) => (\n  <li key={index}>\n    <SVGBadge text={(index + 1).toString()} />\n    <span>{item}</span>\n  </li>\n))}\n```\n\n### ä½¿ç”¨å ´é¢3: ã‚«ãƒ†ã‚´ãƒªãƒ©ãƒ™ãƒ«\n\n```typescript\n// ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®ã‚«ãƒ†ã‚´ãƒªè¡¨ç¤º\n<div className=\"flex gap-2 mb-4\">\n  <CategoryBadge text=\"ã‚­ãƒ£ãƒªã‚¢\" />\n  <CategoryBadge text=\"åˆå¿ƒè€…å‘ã‘\" />\n  <CategoryBadge text=\"å®Ÿè·µçš„\" />\n</div>\n```\n\n### ä½¿ç”¨å ´é¢4: ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹è¡¨ç¤º\n\n```typescript\n// ãƒšãƒ¼ã‚¸ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹è¡¨ç¤º\n<SVGBadge\n  text=\"NEW\"\n  bgColor=\"#10B981\"\n  textColor=\"#FFFFFF\"\n  width={80}\n  height={40}\n/>\n```\n\n---\n\n## æ³¨æ„ç‚¹\n\n### æ³¨æ„ç‚¹1: ãƒ†ã‚­ã‚¹ãƒˆé•·ã®è€ƒæ…®\n\n**å•é¡Œ**: å›ºå®šå¹…ã ã¨é•·ã„ãƒ†ã‚­ã‚¹ãƒˆãŒåˆ‡ã‚Œã‚‹\n\n```typescript\n// âŒ å›ºå®šå¹…: é•·ã„ãƒ†ã‚­ã‚¹ãƒˆãŒåˆ‡ã‚Œã‚‹\n<SVGBadge text=\"ã¨ã¦ã‚‚é•·ã„ãƒ†ã‚­ã‚¹ãƒˆ\" width={100} />\n\n// âœ… å‹•çš„å¹…: ãƒ†ã‚­ã‚¹ãƒˆé•·ã«å¿œã˜ã¦èª¿æ•´\nconst width = Math.max(80, text.length * 16 + 32)\n<SVGBadge text=\"ã¨ã¦ã‚‚é•·ã„ãƒ†ã‚­ã‚¹ãƒˆ\" width={width} />\n```\n\n### æ³¨æ„ç‚¹2: ãƒ•ã‚©ãƒ³ãƒˆèª­ã¿è¾¼ã¿\n\n**å•é¡Œ**: ã‚«ã‚¹ã‚¿ãƒ ãƒ•ã‚©ãƒ³ãƒˆãŒèª­ã¿è¾¼ã¾ã‚Œã¦ã„ãªã„\n\n```typescript\n// âŒ ã‚«ã‚¹ã‚¿ãƒ ãƒ•ã‚©ãƒ³ãƒˆ: èª­ã¿è¾¼ã¾ã‚Œãªã„ã¨ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ•ã‚©ãƒ³ãƒˆä½¿ç”¨\n<text fontFamily=\"'Custom Font', sans-serif\">Text</text>\n\n// âœ… æ±ç”¨ãƒ•ã‚©ãƒ³ãƒˆ: ç¢ºå®Ÿã«æç”»ã•ã‚Œã‚‹\n<text fontFamily=\"'Helvetica Neue', Arial, sans-serif\">Text</text>\n```\n\n### æ³¨æ„ç‚¹3: ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£\n\n**å•é¡Œ**: SVGã«ã¯altå±æ€§ãŒãªã„\n\n```typescript\n// âœ… role ã¨ aria-label ã‚’è¿½åŠ \n<svg role=\"img\" aria-label=\"ãƒšãƒ¼ã‚¸ç•ªå·1\">\n  <rect ... />\n  <text>1</text>\n</svg>\n```\n\n### æ³¨æ„ç‚¹4: viewBox ã®é‡è¦æ€§\n\n**å•é¡Œ**: viewBox ãŒãªã„ã¨ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°ä¸å¯\n\n```typescript\n// âŒ viewBox ãªã—: å›ºå®šã‚µã‚¤ã‚º\n<svg width=\"100\" height=\"50\">\n  <rect width=\"100\" height=\"50\" />\n</svg>\n\n// âœ… viewBox ã‚ã‚Š: ã‚¹ã‚±ãƒ¼ãƒ©ãƒ–ãƒ«\n<svg width=\"100\" height=\"50\" viewBox=\"0 0 100 50\">\n  <rect width=\"100\" height=\"50\" />\n</svg>\n```\n\n---\n\n## å¿œç”¨ä¾‹\n\n### å¿œç”¨1: ã‚¢ã‚¤ã‚³ãƒ³ä»˜ããƒãƒƒã‚¸\n\n```typescript\nexport const IconBadge: React.FC<{ text: string; icon: string }> = ({ text, icon }) => {\n  return (\n    <svg width=\"140\" height=\"50\" viewBox=\"0 0 140 50\" xmlns=\"http://www.w3.org/2000/svg\">\n      <rect x=\"0\" y=\"0\" width=\"140\" height=\"50\" rx=\"25\" fill=\"#3B82F6\" />\n\n      {/* ã‚¢ã‚¤ã‚³ãƒ³ï¼ˆUnicodeçµµæ–‡å­—ï¼‰ */}\n      <text\n        x=\"20\"\n        y=\"25\"\n        textAnchor=\"middle\"\n        dominantBaseline=\"central\"\n        fill=\"#FFFFFF\"\n        fontSize=\"24\"\n      >\n        {icon}\n      </text>\n\n      {/* ãƒ†ã‚­ã‚¹ãƒˆ */}\n      <text\n        x=\"85\"\n        y=\"25\"\n        textAnchor=\"middle\"\n        dominantBaseline=\"central\"\n        fill=\"#FFFFFF\"\n        fontSize=\"18\"\n        fontWeight=\"bold\"\n      >\n        {text}\n      </text>\n    </svg>\n  )\n}\n\n// ä½¿ç”¨ä¾‹\n<IconBadge text=\"å¿…è¦‹\" icon=\"â­\" />\n<IconBadge text=\"é‡è¦\" icon=\"âš ï¸\" />\n```\n\n### å¿œç”¨2: é€²æ—ãƒãƒƒã‚¸\n\n```typescript\nexport const ProgressBadge: React.FC<{ current: number; total: number }> = ({\n  current,\n  total\n}) => {\n  const percentage = (current / total) * 100\n\n  return (\n    <svg width=\"120\" height=\"50\" viewBox=\"0 0 120 50\" xmlns=\"http://www.w3.org/2000/svg\">\n      {/* èƒŒæ™¯ */}\n      <rect x=\"0\" y=\"0\" width=\"120\" height=\"50\" rx=\"25\" fill=\"#E5E7EB\" />\n\n      {/* é€²æ—ãƒãƒ¼ */}\n      <rect\n        x=\"0\"\n        y=\"0\"\n        width={120 * (percentage / 100)}\n        height=\"50\"\n        rx=\"25\"\n        fill=\"#10B981\"\n      />\n\n      {/* ãƒ†ã‚­ã‚¹ãƒˆ */}\n      <text\n        x=\"60\"\n        y=\"25\"\n        textAnchor=\"middle\"\n        dominantBaseline=\"central\"\n        fill=\"#FFFFFF\"\n        fontSize=\"18\"\n        fontWeight=\"bold\"\n      >\n        {current}/{total}\n      </text>\n    </svg>\n  )\n}\n\n// ä½¿ç”¨ä¾‹\n<ProgressBadge current={3} total={10} />\n```\n\n### å¿œç”¨3: å¤šè¨€èªå¯¾å¿œãƒãƒƒã‚¸\n\n```typescript\nexport const I18nBadge: React.FC<{ text: string; lang: string }> = ({ text, lang }) => {\n  const fonts = {\n    ja: \"'Noto Sans JP', sans-serif\",\n    en: \"'Helvetica Neue', Arial, sans-serif\",\n    zh: \"'Noto Sans SC', sans-serif\"\n  }\n\n  return (\n    <svg width=\"120\" height=\"50\" viewBox=\"0 0 120 50\" xmlns=\"http://www.w3.org/2000/svg\">\n      <rect x=\"0\" y=\"0\" width=\"120\" height=\"50\" rx=\"25\" fill=\"#3B82F6\" />\n      <text\n        x=\"60\"\n        y=\"25\"\n        textAnchor=\"middle\"\n        dominantBaseline=\"central\"\n        fill=\"#FFFFFF\"\n        fontSize=\"18\"\n        fontWeight=\"bold\"\n        fontFamily={fonts[lang as keyof typeof fonts] || fonts.en}\n      >\n        {text}\n      </text>\n    </svg>\n  )\n}\n```\n\n---\n\n## å®Ÿéš›ã®åŠ¹æœï¼ˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå†…ã§ã®å®Ÿç¸¾ï¼‰\n\n### åŠ¹æœ1: ãƒ†ã‚­ã‚¹ãƒˆä¿æŒç‡100%\n\n**Beforeï¼ˆCSSãƒãƒƒã‚¸ï¼‰**:\n```\nhtml2canvaså¤‰æ›å¾Œã®ãƒ†ã‚­ã‚¹ãƒˆä¿æŒç‡: ç´„60%\nãƒšãƒ¼ã‚¸ç•ªå·ãƒãƒƒã‚¸: 40%ã§æ¶ˆå¤±\nã‚«ãƒ†ã‚´ãƒªãƒãƒƒã‚¸: 30%ã§æ¶ˆå¤±\n```\n\n**Afterï¼ˆSVGãƒãƒƒã‚¸ï¼‰**:\n```\nhtml2canvaså¤‰æ›å¾Œã®ãƒ†ã‚­ã‚¹ãƒˆä¿æŒç‡: 100%\nãƒšãƒ¼ã‚¸ç•ªå·ãƒãƒƒã‚¸: 100%ä¿æŒ\nã‚«ãƒ†ã‚´ãƒªãƒãƒƒã‚¸: 100%ä¿æŒ\n```\n\n**å‘ä¸Šç‡**: 67%å‘ä¸Šï¼ˆ60% â†’ 100%ï¼‰\n\n### åŠ¹æœ2: ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¯ãƒ¬ãƒ¼ãƒ å‰Šæ¸›\n\n**Before**:\n```\nã€Œãƒšãƒ¼ã‚¸ç•ªå·ãŒè¦‹ãˆãªã„ã€: æœˆ10ä»¶\nã€Œãƒãƒƒã‚¸ãŒæ¶ˆãˆã¦ã„ã‚‹ã€: æœˆ6ä»¶\nåˆè¨ˆ: æœˆ16ä»¶\n```\n\n**After**:\n```\nã€Œãƒšãƒ¼ã‚¸ç•ªå·ãŒè¦‹ãˆãªã„ã€: 0ä»¶\nã€Œãƒãƒƒã‚¸ãŒæ¶ˆãˆã¦ã„ã‚‹ã€: 0ä»¶\nåˆè¨ˆ: 0ä»¶\n```\n\n**å‰Šæ¸›ç‡**: 100%å‰Šæ¸›\n\n### åŠ¹æœ3: ãƒ–ãƒ©ã‚¦ã‚¶é–“ã®ä¸€è²«æ€§å‘ä¸Š\n\n**Beforeï¼ˆCSSãƒãƒƒã‚¸ï¼‰**:\n```\nChrome: ãƒ†ã‚­ã‚¹ãƒˆè–„ã„ï¼ˆ70%ã®å¯è¦–æ€§ï¼‰\nFirefox: ãƒ†ã‚­ã‚¹ãƒˆæ¶ˆå¤±ï¼ˆ20%ã®å¯è¦–æ€§ï¼‰\nSafari: ãƒ†ã‚­ã‚¹ãƒˆé€”åˆ‡ã‚Œï¼ˆ50%ã®å¯è¦–æ€§ï¼‰\n```\n\n**Afterï¼ˆSVGãƒãƒƒã‚¸ï¼‰**:\n```\nChrome: å®Œå…¨è¡¨ç¤ºï¼ˆ100%ï¼‰\nFirefox: å®Œå…¨è¡¨ç¤ºï¼ˆ100%ï¼‰\nSafari: å®Œå…¨è¡¨ç¤ºï¼ˆ100%ï¼‰\n```\n\n**ä¸€è²«æ€§**: å…¨ãƒ–ãƒ©ã‚¦ã‚¶ã§100%\n\n---\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- **skill_html2canvas_optimization_techniques_2025_11_25**: html2canvasæœ€é©åŒ–\n- **skill_instagram_1080x1080_optimization_2025_11_25**: Instagramæœ€é©åŒ–\n- **failure_text_disappearance_bug_fixed_2025_11_25**: ãƒ†ã‚­ã‚¹ãƒˆæ¶ˆå¤±ãƒã‚°ã®ä¿®æ­£äº‹ä¾‹\n\n---\n\n**ã¾ã¨ã‚**: SVGãƒãƒƒã‚¸ã¯ã€html2canvaså¤‰æ›æ™‚ã®ãƒ†ã‚­ã‚¹ãƒˆæ¶ˆå¤±ã‚’å®Œå…¨ã«é˜²ãã€‚CSSãƒãƒƒã‚¸ã¨æ¯”è¼ƒã—ã¦ã€ãƒ†ã‚­ã‚¹ãƒˆä¿æŒç‡ãŒ60% â†’ 100%ã«å‘ä¸Šã€‚ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¯ãƒ¬ãƒ¼ãƒ ã‚’æœˆ16ä»¶ â†’ 0ä»¶ã«å‰Šæ¸›ã€‚å…¨ãƒ–ãƒ©ã‚¦ã‚¶ã§ä¸€è²«ã—ãŸè¡¨ç¤ºã‚’å®Ÿç¾ã€‚\n",
    "prompt": "### ã‚¹ãƒ†ãƒƒãƒ—1: CSSãƒãƒƒã‚¸ï¼ˆå•é¡Œã®ã‚ã‚‹å®Ÿè£…ï¼‰\n\n**å¾“æ¥ã®å®Ÿè£…**:\n\n```typescript\n// âŒ CSSãƒãƒƒã‚¸ï¼ˆhtml2canvas ã§å•é¡Œï¼‰\nexport const CSSBadge: React.FC<{ text: string }> = ({ text }) => {\n  return (\n    <div\n      className=\"inline-flex items-center justify-center\"\n      style={{\n        backgroundColor: '#3B82F6',\n        color: '#FFFFFF',\n        padding: '8px 16px',\n        borderRadius: '9999px',\n        fontSize: '18px',\n        fontWeight: 'bold'\n      }}\n    >\n      {text}\n    </div>\n  )\n}\n\n// ä½¿ç”¨\n<CSSBadge text=\"å¿…è¦‹\" />\n```\n\n**html2canvas ã§ã®çµæœ**:\n```\nâœ… èƒŒæ™¯è‰²: æ­£å¸¸ã«æç”»\nâŒ ãƒ†ã‚­ã‚¹ãƒˆ: æ¶ˆå¤±ã¾ãŸã¯è–„ãè¡¨ç¤º\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2: SVGãƒãƒƒã‚¸ï¼ˆæ¨å¥¨å®Ÿè£…ï¼‰\n\n**SVGãƒãƒƒã‚¸ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ**:\n\n```typescript\n// âœ… SVGãƒãƒƒã‚¸ï¼ˆhtml2canvas ã§å®Œç’§ï¼‰\nexport const SVGBadge: React.FC<{\n  text: string\n  bgColor?: string\n  textColor?: string\n  width?: number\n  height?: number\n}> = ({\n  text,\n  bgColor = '#3B82F6',\n  textColor = '#FFFFFF',\n  width = 100,\n  height = 40\n}) => {\n  return (\n    <svg\n      width={width}\n      height={height}\n      viewBox={`0 0 ${width} ${height}`}\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      {/* èƒŒæ™¯ï¼ˆè§’ä¸¸é•·æ–¹å½¢ï¼‰ */}\n      <rect\n        x=\"0\"\n        y=\"0\"\n        width={width}\n        height={height}\n        rx={height / 2}  // å®Œå…¨ãªè§’ä¸¸ï¼ˆpill shapeï¼‰\n        ry={height / 2}\n        fill={bgColor}\n      />\n\n      {/* ãƒ†ã‚­ã‚¹ãƒˆ */}\n      <text\n        x={width / 2}\n        y={height / 2}\n        textAnchor=\"middle\"\n        dominantBaseline=\"central\"\n        fill={textColor}\n        fontSize=\"18\"\n        fontWeight=\"bold\"\n        fontFamily=\"'Helvetica Neue', Arial, sans-serif\"\n      >\n        {text}\n      </text>\n    </svg>\n  )\n}\n\n// ä½¿ç”¨\n<SVGBadge text=\"å¿…è¦‹\" />\n```\n\n**html2canvas ã§ã®çµæœ**:\n```\nâœ… èƒŒæ™¯è‰²: æ­£å¸¸ã«æç”»\nâœ… ãƒ†ã‚­ã‚¹ãƒˆ: å®Œå…¨ã«ä¿æŒï¼ˆ100%ï¼‰\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3: ãƒšãƒ¼ã‚¸ç•ªå·ãƒãƒƒã‚¸ã®å®Ÿè£…ä¾‹\n\n**ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå†…ã§ã®ä½¿ç”¨**:\n\n```typescript\n// app/components/templates/IndexTemplate.tsx (æŠœç²‹)\nimport React from 'react'\nimport { TemplateProps } from './TemplateTypes'\n\nexport const IndexTemplate: React.FC<TemplateProps> = ({ data }) => {\n  const { title, items, pageNumber } = data\n\n  return (\n    <div className=\"relative bg-white\" style={{ width: '1080px', minHeight: '1080px' }}>\n      {/* ãƒšãƒ¼ã‚¸ç•ªå·ãƒãƒƒã‚¸ï¼ˆSVGï¼‰ */}\n      <div className=\"absolute top-10 right-10\">\n        <SVGBadge\n          text={pageNumber?.toString() || '0'}\n          bgColor=\"#EF4444\"  // èµ¤è‰²\n          textColor=\"#FFFFFF\"\n          width={60}\n          height={60}\n        />\n      </div>\n\n      {/* ã‚¿ã‚¤ãƒˆãƒ« */}\n      <h1 className=\"text-6xl font-bold text-gray-900 mb-8\">\n        {title}\n      </h1>\n\n      {/* ã‚¢ã‚¤ãƒ†ãƒ ãƒªã‚¹ãƒˆ */}\n      <ul className=\"space-y-4\">\n        {items?.map((item, index) => (\n          <li key={index} className=\"flex items-center\">\n            {/* ã‚¢ã‚¤ãƒ†ãƒ ç•ªå·ãƒãƒƒã‚¸ï¼ˆSVGï¼‰ */}\n            <SVGBadge\n              text={(index + 1).toString()}\n              bgColor=\"#10B981\"  // ç·‘è‰²\n              textColor=\"#FFFFFF\"\n              width={50}\n              height={50}\n            />\n            <span className=\"ml-6 text-2xl text-gray-800\">{item}</span>\n          </li>\n        ))}\n      </ul>\n    </div>\n  )\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—4: ã‚«ãƒ†ã‚´ãƒªãƒãƒƒã‚¸ã®å®Ÿè£…ä¾‹\n\n**ã‚«ãƒ†ã‚´ãƒªãƒ©ãƒ™ãƒ«ç”¨SVGãƒãƒƒã‚¸**:\n\n```typescript\n// ã‚«ãƒ†ã‚´ãƒªãƒãƒƒã‚¸ï¼ˆå¹…è‡ªå‹•èª¿æ•´ç‰ˆï¼‰\nexport const CategoryBadge: React.FC<{ text: string }> = ({ text }) => {\n  // ãƒ†ã‚­ã‚¹ãƒˆé•·ã«å¿œã˜ã¦å¹…ã‚’è¨ˆç®—\n  const textLength = text.length\n  const width = Math.max(80, textLength * 16 + 32)  // æœ€ä½80pxã€æ–‡å­—æ•°Ã—16 + ä½™ç™½32\n  const height = 40\n\n  return (\n    <svg\n      width={width}\n      height={height}\n      viewBox={`0 0 ${width} ${height}`}\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <rect\n        x=\"0\"\n        y=\"0\"\n        width={width}\n        height={height}\n        rx=\"20\"\n        ry=\"20\"\n        fill=\"#8B5CF6\"  // ç´«è‰²\n      />\n      <text\n        x={width / 2}\n        y={height / 2}\n        textAnchor=\"middle\"\n        dominantBaseline=\"central\"\n        fill=\"#FFFFFF\"\n        fontSize=\"16\"\n        fontWeight=\"600\"\n        fontFamily=\"'Helvetica Neue', Arial, sans-serif\"\n      >\n        {text}\n      </text>\n    </svg>\n  )\n}\n\n// ä½¿ç”¨ä¾‹\n<CategoryBadge text=\"ã‚­ãƒ£ãƒªã‚¢\" />\n<CategoryBadge text=\"å°±æ´»\" />\n<CategoryBadge text=\"ã‚¹ã‚­ãƒ«ã‚¢ãƒƒãƒ—\" />\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—5: ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒãƒƒã‚¸ã®å®Ÿè£…ä¾‹\n\n**é«˜åº¦ãªSVGãƒãƒƒã‚¸ï¼ˆã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã€å½±ï¼‰**:\n\n```typescript\nexport const GradientBadge: React.FC<{ text: string }> = ({ text }) => {\n  return (\n    <svg width=\"120\" height=\"50\" viewBox=\"0 0 120 50\" xmlns=\"http://www.w3.org/2000/svg\">\n      {/* ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³å®šç¾© */}\n      <defs>\n        <linearGradient id=\"badge-gradient\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"100%\">\n          <stop offset=\"0%\" stopColor=\"#3B82F6\" />\n          <stop offset=\"100%\" stopColor=\"#1E40AF\" />\n        </linearGradient>\n\n        {/* å½±ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ */}\n        <filter id=\"badge-shadow\" x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\">\n          <feDropShadow dx=\"0\" dy=\"2\" stdDeviation=\"3\" floodColor=\"#000000\" floodOpacity=\"0.3\" />\n        </filter>\n      </defs>\n\n      {/* èƒŒæ™¯ï¼ˆã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ + å½±ï¼‰ */}\n      <rect\n        x=\"0\"\n        y=\"0\"\n        width=\"120\"\n        height=\"50\"\n        rx=\"25\"\n        ry=\"25\"\n        fill=\"url(#badge-gradient)\"\n        filter=\"url(#badge-shadow)\"\n      />\n\n      {/* ãƒ†ã‚­ã‚¹ãƒˆ */}\n      <text\n        x=\"60\"\n        y=\"25\"\n        textAnchor=\"middle\"\n        dominantBaseline=\"central\"\n        fill=\"#FFFFFF\"\n        fontSize=\"20\"\n        fontWeight=\"bold\"\n        fontFamily=\"'Helvetica Neue', Arial, sans-serif\"\n      >\n        {text}\n      </text>\n    </svg>\n  )\n}\n```\n\n---",
    "relatedTech": [
      "skill-html2canvas-optimization-techniques",
      "skill-instagram-1080x1080-optimization",
      "failure-text-disappearance-bug-fixed"
    ]
  },
  {
    "slug": "template-compatibility-management",
    "title": "ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆäº’æ›æ€§ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ",
    "category": "Skillsï¼ˆã‚¹ã‚­ãƒ«ãƒ»æ‰‹æ³•ï¼‰",
    "description": "ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”Ÿæˆã‚·ã‚¹ãƒ†ãƒ ã«ãŠã„ã¦ã€Document Typeã€Layoutã€Themeã€Componentã®4å±¤ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®äº’æ›æ€§ã‚’ç®¡ç†ã—ã€ä¸é©åˆ‡ãªçµ„ã¿åˆã‚ã›ã‚’é˜²ãä»•çµ„ã¿ã€‚",
    "project": "ai-document-generator",
    "usedIn": [
      "src/types/index.ts:86-95, src/types/document-types.ts:127-131, doc/v5/ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆè¨­è¨ˆæ€æƒ³.md:354-361"
    ],
    "code": "```json\n{\n  \"id\": \"skill_template_compatibility_management_2025_04_11\",\n  \"type\": \"skill\",\n  \"name\": \"ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆäº’æ›æ€§ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ \",\n  \"tags\": [\"ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ\", \"äº’æ›æ€§\", \"ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³\", \"ãƒ‡ã‚¶ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ \", \"åˆ¶ç´„ç®¡ç†\"],\n  \"source_project\": \"ai-document-generator\",\n  \"source_file\": \"src/types/index.ts:86-95, src/types/document-types.ts:127-131, doc/v5/ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆè¨­è¨ˆæ€æƒ³.md:354-361\",\n  \"related_knowledge\": [\"decision_arch_template_system_2025_04_11\", \"skill_json_yaml_template_definition_2025_04_11\"],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-04-11\",\n  \"updated\": \"2025-04-16\"\n}\n```\n\n# ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆäº’æ›æ€§ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ \n\n## ä½•ã‚’ã™ã‚‹ã‚¹ã‚­ãƒ«ã‹\n\nãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”Ÿæˆã‚·ã‚¹ãƒ†ãƒ ã«ãŠã„ã¦ã€Document Typeã€Layoutã€Themeã€Componentã®4å±¤ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®äº’æ›æ€§ã‚’ç®¡ç†ã—ã€ä¸é©åˆ‡ãªçµ„ã¿åˆã‚ã›ã‚’é˜²ãä»•çµ„ã¿ã€‚\n\n## å…·ä½“çš„ãªæ‰‹æ³•\n\n### 1. ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆéšå±¤ã®å®šç¾©\n\n```\nDocument Type Templateï¼ˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚¿ã‚¤ãƒ—ï¼‰\n  â”œâ”€ äº’æ›æ€§ã®ã‚ã‚‹Layout Templatesï¼ˆãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆï¼‰\n  â”‚   â””â”€ äº’æ›æ€§ã®ã‚ã‚‹Componentsï¼ˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼‰\n  â””â”€ äº’æ›æ€§ã®ã‚ã‚‹Theme Templatesï¼ˆãƒ†ãƒ¼ãƒï¼‰\n```\n\n### 2. äº’æ›æ€§ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã®å®šç¾©\n\n#### Document Type Template\n```typescript\ninterface DocumentTypeDefinition {\n  id: string;\n  name: string;\n  format: {\n    type: string;       // 'A4_portrait', '16:9', 'banner', etc.\n    width: number;\n    height: number;\n    ratio: number;\n  };\n  compatibility: {\n    layouts: string[];  // äº’æ›æ€§ã®ã‚ã‚‹ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆID\n    themes: string[];   // äº’æ›æ€§ã®ã‚ã‚‹ãƒ†ãƒ¼ãƒID\n  };\n  defaults: {\n    layoutIds: Record<string, string>; // ãƒšãƒ¼ã‚¸ã”ã¨ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ\n    themeId: string;                   // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ†ãƒ¼ãƒ\n  };\n}\n```\n\n**ä¾‹**ï¼ˆA4ç¸¦ãƒãƒ©ã‚·ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆï¼‰:\n```json\n{\n  \"id\": \"flyer_a4_portrait\",\n  \"name\": \"A4ç¸¦ãƒãƒ©ã‚·ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ\",\n  \"format\": {\n    \"type\": \"A4_portrait\",\n    \"width\": 2480,\n    \"height\": 3508,\n    \"ratio\": 0.707\n  },\n  \"compatibility\": {\n    \"layouts\": [\n      \"layout_hero_header_content\",\n      \"layout_two_column\",\n      \"layout_image_left_text_right\"\n    ],\n    \"themes\": [\n      \"theme_modern_blue\",\n      \"theme_corporate_gray\",\n      \"theme_vibrant_orange\"\n    ]\n  },\n  \"defaults\": {\n    \"layoutIds\": {\n      \"0\": \"layout_hero_header_content\"\n    },\n    \"themeId\": \"theme_modern_blue\"\n  }\n}\n```\n\n#### Layout Template\n```typescript\ninterface LayoutTemplate {\n  id: string;\n  name: string;\n  compatibleFormats: string[]; // äº’æ›æ€§ã®ã‚ã‚‹ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ\n  sections: Section[];\n}\n\ninterface Section {\n  id: string;\n  contentConstraints: {\n    compatibleComponents: string[]; // ã“ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã«é…ç½®å¯èƒ½ãªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ\n  };\n}\n```\n\n**ä¾‹**ï¼ˆãƒ’ãƒ¼ãƒ­ãƒ¼+ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆï¼‰:\n```json\n{\n  \"id\": \"layout_hero_header_content\",\n  \"name\": \"ãƒ’ãƒ¼ãƒ­ãƒ¼ãƒ˜ãƒƒãƒ€ãƒ¼+ã‚³ãƒ³ãƒ†ãƒ³ãƒ„\",\n  \"compatibleFormats\": [\"A4_portrait\", \"A4_landscape\", \"16:9\"],\n  \"sections\": [\n    {\n      \"id\": \"hero_section\",\n      \"contentConstraints\": {\n        \"compatibleComponents\": [\"heading\", \"image\", \"text\", \"logo\"]\n      }\n    },\n    {\n      \"id\": \"main_content\",\n      \"contentConstraints\": {\n        \"compatibleComponents\": [\"heading\", \"text\", \"image\", \"list\", \"chart\"]\n      }\n    }\n  ]\n}\n```\n\n#### Theme Template\n```typescript\ninterface ThemeTemplate {\n  id: string;\n  name: string;\n  compatibility: {\n    documentTypes: string[]; // äº’æ›æ€§ã®ã‚ã‚‹ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚¿ã‚¤ãƒ—\n  };\n  colors: { /* ... */ };\n  typography: {\n    baseSizes: Record<string, {  // ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã”ã¨ã®åŸºæœ¬ã‚µã‚¤ã‚º\n      h1: string;\n      h2: string;\n      body: string;\n    }>;\n  };\n}\n```\n\n**ä¾‹**ï¼ˆãƒ¢ãƒ€ãƒ³ãƒ–ãƒ«ãƒ¼ãƒ†ãƒ¼ãƒï¼‰:\n```json\n{\n  \"id\": \"theme_modern_blue\",\n  \"name\": \"ãƒ¢ãƒ€ãƒ³ãƒ–ãƒ«ãƒ¼\",\n  \"compatibility\": {\n    \"documentTypes\": [\"A4_portrait\", \"A4_landscape\", \"16:9\"]\n  },\n  \"typography\": {\n    \"baseSizes\": {\n      \"A4_portrait\": {\n        \"h1\": \"48px\",\n        \"h2\": \"32px\",\n        \"body\": \"16px\"\n      },\n      \"16:9\": {\n        \"h1\": \"64px\",\n        \"h2\": \"48px\",\n        \"body\": \"24px\"\n      }\n    }\n  }\n}\n```\n\n### 3. äº’æ›æ€§ãƒã‚§ãƒƒã‚¯é–¢æ•°\n\n```typescript\n// Document Type ã¨ Layout ã®äº’æ›æ€§ãƒã‚§ãƒƒã‚¯\nfunction isLayoutCompatible(\n  documentType: DocumentTypeDefinition,\n  layoutId: string\n): boolean {\n  return documentType.compatibility.layouts.includes(layoutId);\n}\n\n// Document Type ã¨ Theme ã®äº’æ›æ€§ãƒã‚§ãƒƒã‚¯\nfunction isThemeCompatible(\n  documentType: DocumentTypeDefinition,\n  themeId: string\n): boolean {\n  return documentType.compatibility.themes.includes(themeId);\n}\n\n// Layout ã¨ Document Format ã®äº’æ›æ€§ãƒã‚§ãƒƒã‚¯\nfunction isLayoutFormatCompatible(\n  layout: LayoutTemplate,\n  formatType: string\n): boolean {\n  return layout.compatibleFormats.includes(formatType);\n}\n\n// Section ã¨ Component ã®äº’æ›æ€§ãƒã‚§ãƒƒã‚¯\nfunction isComponentCompatible(\n  section: Section,\n  componentType: string\n): boolean {\n  return section.contentConstraints.compatibleComponents.includes(componentType);\n}\n\n// å®Œå…¨ãªäº’æ›æ€§æ¤œè¨¼\ninterface CompatibilityResult {\n  compatible: boolean;\n  issues: string[];\n  suggestions?: string[];\n}\n\nfunction validateFullCompatibility(\n  documentType: DocumentTypeDefinition,\n  layoutId: string,\n  themeId: string,\n  components: Record<string, string> // sectionId -> componentType\n): CompatibilityResult {\n  const issues: string[] = [];\n  const suggestions: string[] = [];\n\n  // Layoutã®äº’æ›æ€§ãƒã‚§ãƒƒã‚¯\n  if (!isLayoutCompatible(documentType, layoutId)) {\n    issues.push(`ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ \"${layoutId}\" ã¯ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚¿ã‚¤ãƒ—ã¨äº’æ›æ€§ãŒã‚ã‚Šã¾ã›ã‚“`);\n    suggestions.push(`äº’æ›æ€§ã®ã‚ã‚‹ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ: ${documentType.compatibility.layouts.join(', ')}`);\n  }\n\n  // Themeã®äº’æ›æ€§ãƒã‚§ãƒƒã‚¯\n  if (!isThemeCompatible(documentType, themeId)) {\n    issues.push(`ãƒ†ãƒ¼ãƒ \"${themeId}\" ã¯ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚¿ã‚¤ãƒ—ã¨äº’æ›æ€§ãŒã‚ã‚Šã¾ã›ã‚“`);\n    suggestions.push(`äº’æ›æ€§ã®ã‚ã‚‹ãƒ†ãƒ¼ãƒ: ${documentType.compatibility.themes.join(', ')}`);\n  }\n\n  // Componentã®äº’æ›æ€§ãƒã‚§ãƒƒã‚¯ï¼ˆå„ã‚»ã‚¯ã‚·ãƒ§ãƒ³ï¼‰\n  // ... (çœç•¥)\n\n  return {\n    compatible: issues.length === 0,\n    issues,\n    suggestions: issues.length > 0 ? suggestions : undefined\n  };\n}\n```\n\n### 4. ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°UIã®å®Ÿè£…\n\nãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒDocument Typeã‚’é¸æŠã—ãŸã‚‰ã€äº’æ›æ€§ã®ã‚ã‚‹Layoutã¨Themeã®ã¿ã‚’è¡¨ç¤ºï¼š\n\n```typescript\n// Zustand Storeã§ã®å®Ÿè£…ä¾‹\ninterface TemplateStore {\n  selectedDocumentType: DocumentTypeDefinition | null;\n\n  // äº’æ›æ€§ã®ã‚ã‚‹ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’å–å¾—\n  getCompatibleLayouts: () => LayoutTemplate[];\n\n  // äº’æ›æ€§ã®ã‚ã‚‹ãƒ†ãƒ¼ãƒã‚’å–å¾—\n  getCompatibleThemes: () => ThemeTemplate[];\n}\n\nconst useTemplateStore = create<TemplateStore>((set, get) => ({\n  selectedDocumentType: null,\n\n  getCompatibleLayouts: () => {\n    const { selectedDocumentType } = get();\n    if (!selectedDocumentType) return [];\n\n    return allLayouts.filter(layout =>\n      selectedDocumentType.compatibility.layouts.includes(layout.id)\n    );\n  },\n\n  getCompatibleThemes: () => {\n    const { selectedDocumentType } = get();\n    if (!selectedDocumentType) return [];\n\n    return allThemes.filter(theme =>\n      selectedDocumentType.compatibility.themes.includes(theme.id)\n    );\n  }\n}));\n```\n\n### 5. ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã®è‡ªå‹•é©ç”¨\n\nDocument Typeã‚’é¸æŠã—ãŸã‚‰ã€æ¨å¥¨ã®Layoutã¨Themeã‚’è‡ªå‹•è¨­å®šï¼š\n\n```typescript\nfunction selectDocumentType(documentTypeId: string) {\n  const documentType = findDocumentTypeById(documentTypeId);\n\n  // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’è¨­å®š\n  const defaultLayoutId = documentType.defaults.layoutIds['0'];\n  selectLayout(defaultLayoutId);\n\n  // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ†ãƒ¼ãƒã‚’è¨­å®š\n  const defaultThemeId = documentType.defaults.themeId;\n  selectTheme(defaultThemeId);\n}\n```\n\n## ãªãœã“ã®æ‰‹æ³•ã‚’ä½¿ã†ã‹\n\n**ç†ç”±1ï¼šãƒ‡ã‚¶ã‚¤ãƒ³ã®æ•´åˆæ€§ã‚’ä¿è¨¼**\n- ä¸é©åˆ‡ãªçµ„ã¿åˆã‚ã›ï¼ˆA4ç¸¦ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’16:9ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«é©ç”¨ï¼‰ã‚’é˜²ã\n- ãƒ†ãƒ¼ãƒã®ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚ºãŒå„ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã«æœ€é©åŒ–ã•ã‚Œã‚‹\n\n**ç†ç”±2ï¼šãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¨ã‚¯ã‚¹ãƒšãƒªã‚¨ãƒ³ã‚¹å‘ä¸Š**\n- ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯äº’æ›æ€§ã‚’æ°—ã«ã›ãšé¸æŠã§ãã‚‹\n- äº’æ›æ€§ã®ã‚ã‚‹é¸æŠè‚¢ã®ã¿ãŒè¡¨ç¤ºã•ã‚Œã‚‹\n\n**ç†ç”±3ï¼šé–‹ç™ºåŠ¹ç‡**\n- æ–°ã—ã„ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’è¿½åŠ ã™ã‚‹éš›ã€äº’æ›æ€§ã‚’æ˜ç¤ºçš„ã«å®šç¾©\n- ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã¯äº’æ›æ€§ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚’èª­ã‚€ã ã‘\n\n**ç†ç”±4ï¼šä¿å®ˆæ€§**\n- äº’æ›æ€§ãƒ«ãƒ¼ãƒ«ãŒä¸€ç®‡æ‰€ï¼ˆJSONå®šç¾©ï¼‰ã«é›†ç´„\n- ã‚³ãƒ¼ãƒ‰ã®å¤‰æ›´ãªã—ã«äº’æ›æ€§ã‚’èª¿æ•´å¯èƒ½\n\n**ç†ç”±5ï¼šã‚¨ãƒ©ãƒ¼äºˆé˜²**\n- å®Ÿè¡Œæ™‚ã‚¨ãƒ©ãƒ¼ã‚’äº‹å‰ã«é˜²ã\n- ä¸é©åˆ‡ãªçµ„ã¿åˆã‚ã›ã§ã®ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã‚¨ãƒ©ãƒ¼ã‚’å›é¿\n\n## å†ç¾æ–¹æ³•\n\n### ã‚¹ãƒ†ãƒƒãƒ—1ï¼šäº’æ›æ€§ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚’å®šç¾©\n\nå„ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã«`compatibility`ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’è¿½åŠ ï¼š\n\n```json\n{\n  \"id\": \"document_type_1\",\n  \"compatibility\": {\n    \"layouts\": [\"layout_1\", \"layout_2\"],\n    \"themes\": [\"theme_1\", \"theme_2\"]\n  }\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2ï¼šãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³é–¢æ•°ã‚’å®Ÿè£…\n\n```typescript\n// src/lib/validation/template-compatibility.ts\nexport function validateCompatibility(/* ... */) {\n  // äº’æ›æ€§ãƒã‚§ãƒƒã‚¯å®Ÿè£…\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3ï¼šStoreã«çµ±åˆ\n\n```typescript\n// src/store/templateStore.ts\nconst useTemplateStore = create<TemplateStore>((set, get) => ({\n  // ...\n  selectLayout: (layoutId: string) => {\n    const { selectedDocumentType } = get();\n\n    // äº’æ›æ€§ãƒã‚§ãƒƒã‚¯\n    if (!isLayoutCompatible(selectedDocumentType, layoutId)) {\n      console.error('äº’æ›æ€§ã®ãªã„ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆãŒé¸æŠã•ã‚Œã¾ã—ãŸ');\n      return;\n    }\n\n    set({ selectedLayout: layoutId });\n  }\n}));\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—4ï¼šUIã§ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°\n\n```tsx\n// src/components/template/LayoutSelector.tsx\nconst LayoutSelector = () => {\n  const compatibleLayouts = useTemplateStore(state => state.getCompatibleLayouts());\n\n  return (\n    <div>\n      {compatibleLayouts.map(layout => (\n        <LayoutCard key={layout.id} layout={layout} />\n      ))}\n    </div>\n  );\n};\n```\n\n## ã„ã¤ä½¿ã†ã‹\n\n- **è¤‡æ•°ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå¯¾å¿œ**: ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚¿ã‚¤ãƒ—ã€ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã€ãƒ†ãƒ¼ãƒã€ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çµ„ã¿åˆã‚ã›ãŒå¤šã„\n- **ãƒ‡ã‚¶ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ **: ä¸€è²«ã—ãŸãƒ‡ã‚¶ã‚¤ãƒ³ã‚’ç¶­æŒã—ãŸã„\n- **ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’é¸æŠãƒ»çµ„ã¿åˆã‚ã›ã‚‹\n- **æ–°è¦ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆè¿½åŠ **: é »ç¹ã«æ–°ã—ã„ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’è¿½åŠ ã™ã‚‹äºˆå®š\n\n## æ³¨æ„ç‚¹\n\n### 1. äº’æ›æ€§å®šç¾©ã®ä¿å®ˆ\n- æ–°ã—ã„ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’è¿½åŠ ã™ã‚‹ãŸã³ã«ã€äº’æ›æ€§ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚’æ›´æ–°\n- äº’æ›æ€§å®šç¾©ãŒå¤ããªã‚‹ã¨ã€ä¸é©åˆ‡ãªçµ„ã¿åˆã‚ã›ãŒç™ºç”Ÿ\n\n### 2. å¾ªç’°å‚ç…§ã®å›é¿\n- Document Type â†’ Layoutã€Layout â†’ Document Format ã®å‚ç…§ã¯ä¸€æ–¹å‘ã«ä¿ã¤\n- åŒæ–¹å‘å‚ç…§ã¯é¿ã‘ã‚‹\n\n### 3. ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã®é©åˆ‡æ€§\n- ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ãŒå¸¸ã«å­˜åœ¨ã™ã‚‹ã“ã¨ã‚’ä¿è¨¼\n- å­˜åœ¨ã—ãªã„IDã‚’å‚ç…§ã—ãªã„ã‚ˆã†ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³\n\n### 4. ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹\n- äº’æ›æ€§ãƒã‚§ãƒƒã‚¯ã‚’é »ç¹ã«å®Ÿè¡Œã—ãªã„\n- ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚„ãƒ¡ãƒ¢åŒ–ã‚’æ´»ç”¨\n\n### 5. ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¸ã®ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯\n- äº’æ›æ€§ã®ãªã„é¸æŠã‚’ã—ãŸå ´åˆã€ã‚ã‹ã‚Šã‚„ã™ã„ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸\n- ä»£æ›¿æ¡ˆã‚’æç¤º\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `decision_arch_template_system_2025_04_11.md`: ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã®è¨­è¨ˆåˆ¤æ–­\n- `skill_json_yaml_template_definition_2025_04_11.md`: JSON/YAMLãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå®šç¾©ã®æ‰‹æ³•\n- `skill_grid_based_layout_system_2025_04_11.md`: ã‚°ãƒªãƒƒãƒ‰ãƒ™ãƒ¼ã‚¹ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚·ã‚¹ãƒ†ãƒ \n",
    "prompt": "### ã‚¹ãƒ†ãƒƒãƒ—1ï¼šäº’æ›æ€§ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚’å®šç¾©\n\nå„ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã«`compatibility`ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’è¿½åŠ ï¼š\n\n```json\n{\n  \"id\": \"document_type_1\",\n  \"compatibility\": {\n    \"layouts\": [\"layout_1\", \"layout_2\"],\n    \"themes\": [\"theme_1\", \"theme_2\"]\n  }\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2ï¼šãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³é–¢æ•°ã‚’å®Ÿè£…\n\n```typescript\n// src/lib/validation/template-compatibility.ts\nexport function validateCompatibility(/* ... */) {\n  // äº’æ›æ€§ãƒã‚§ãƒƒã‚¯å®Ÿè£…\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3ï¼šStoreã«çµ±åˆ\n\n```typescript\n// src/store/templateStore.ts\nconst useTemplateStore = create<TemplateStore>((set, get) => ({\n  // ...\n  selectLayout: (layoutId: string) => {\n    const { selectedDocumentType } = get();\n\n    // äº’æ›æ€§ãƒã‚§ãƒƒã‚¯\n    if (!isLayoutCompatible(selectedDocumentType, layoutId)) {\n      console.error('äº’æ›æ€§ã®ãªã„ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆãŒé¸æŠã•ã‚Œã¾ã—ãŸ');\n      return;\n    }\n\n    set({ selectedLayout: layoutId });\n  }\n}));\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—4ï¼šUIã§ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°\n\n```tsx\n// src/components/template/LayoutSelector.tsx\nconst LayoutSelector = () => {\n  const compatibleLayouts = useTemplateStore(state => state.getCompatibleLayouts());\n\n  return (\n    <div>\n      {compatibleLayouts.map(layout => (\n        <LayoutCard key={layout.id} layout={layout} />\n      ))}\n    </div>\n  );\n};\n```",
    "relatedTech": [
      "decision-arch-template-system",
      "skill-json-yaml-template-definition"
    ]
  },
  {
    "slug": "template-data-conversion",
    "title": "AIç”Ÿæˆãƒ‡ãƒ¼ã‚¿ã‹ã‚‰ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ‡ãƒ¼ã‚¿ã¸ã®å¤‰æ›",
    "category": "Skillsï¼ˆã‚¹ã‚­ãƒ«ãƒ»æ‰‹æ³•ï¼‰",
    "description": "**AIç”Ÿæˆã•ã‚ŒãŸJSONãƒ‡ãƒ¼ã‚¿ã‚’ã€å„ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãŒæœŸå¾…ã™ã‚‹å½¢å¼ã«å¤‰æ›ã™ã‚‹æŠ€è¡“ã€‚**ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰åã®æ­£è¦åŒ–ã€ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã®å¤‰æ›ã€ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ãƒ‡ãƒ¼ã‚¿ç”Ÿæˆã‚’è¡Œã†ã€‚",
    "project": "instagram-post-generator",
    "usedIn": [
      "app/services/contentGeneratorService.ts:500-700"
    ],
    "code": "```json\n{\n  \"id\": \"skill_template_data_conversion_2025_11_25\",\n  \"type\": \"skill\",\n  \"name\": \"AIç”Ÿæˆãƒ‡ãƒ¼ã‚¿ã‹ã‚‰ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ‡ãƒ¼ã‚¿ã¸ã®å¤‰æ›\",\n  \"tags\": [\"ãƒ‡ãƒ¼ã‚¿å¤‰æ›\", \"ãƒãƒƒãƒ”ãƒ³ã‚°\", \"ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ\", \"ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰æ­£è¦åŒ–\"],\n  \"source_project\": \"instagram-post-generator\",\n  \"source_file\": \"app/services/contentGeneratorService.ts:500-700\",\n  \"difficulty\": \"intermediate\",\n  \"related_knowledge\": [\n    \"skill_dynamic_template_rendering_2025_11_25\",\n    \"decision_arch_template_registry_pattern_2025_11_25\"\n  ],\n  \"prerequisites\": [\"TypeScript\", \"ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãƒãƒƒãƒ”ãƒ³ã‚°\"],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# AIç”Ÿæˆãƒ‡ãƒ¼ã‚¿ã‹ã‚‰ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ‡ãƒ¼ã‚¿ã¸ã®å¤‰æ›\n\n## ä½•ã‚’ã™ã‚‹ã‚¹ã‚­ãƒ«ã‹\n\n**AIç”Ÿæˆã•ã‚ŒãŸJSONãƒ‡ãƒ¼ã‚¿ã‚’ã€å„ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãŒæœŸå¾…ã™ã‚‹å½¢å¼ã«å¤‰æ›ã™ã‚‹æŠ€è¡“ã€‚**ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰åã®æ­£è¦åŒ–ã€ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã®å¤‰æ›ã€ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ãƒ‡ãƒ¼ã‚¿ç”Ÿæˆã‚’è¡Œã†ã€‚\n\n---\n\n## å…·ä½“çš„ãªæ‰‹æ³•\n\n### switchæ–‡ã«ã‚ˆã‚‹ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆåˆ¥å¤‰æ›\n\n```typescript\nfunction convertToTemplateData(templateId: string, aiGeneratedData: any): TemplateData {\n  switch (templateId) {\n    case 'unified-template-01-simple-intro':\n      return {\n        mainTitle: aiGeneratedData.title || aiGeneratedData.mainTitle,\n        subtitle: aiGeneratedData.subtitle || '',\n        description: aiGeneratedData.description || aiGeneratedData.content\n      }\n    case 'unified-template-03-top-3-ranking':\n      return {\n        title: aiGeneratedData.title,\n        items: (aiGeneratedData.items || []).map((item, index) => ({\n          rank: item.rank || index + 1,\n          title: item.title || item.name,\n          description: item.description || item.content,\n          highlight: item.highlight || item.keyPoint\n        }))\n      }\n    default:\n      return aiGeneratedData\n  }\n}\n```\n\n**ãƒ‡ãƒ¼ã‚¿å¤‰æ›ã‚¹ã‚­ãƒ«ã«ã‚ˆã‚Šã€AIãŒç”Ÿæˆã™ã‚‹å¤šæ§˜ãªãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰åã‚’å„ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®æœŸå¾…å½¢å¼ã«æ­£è¦åŒ–ã€‚**\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€ŒAIç”Ÿæˆãƒ‡ãƒ¼ã‚¿ã‹ã‚‰ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ‡ãƒ¼ã‚¿ã¸ã®å¤‰æ›ã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "skill-dynamic-template-rendering",
      "decision-arch-template-registry-pattern"
    ]
  },
  {
    "slug": "template-selector-algorithm",
    "title": "ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé¸æŠã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ï¼ˆã‚¹ã‚³ã‚¢ãƒªãƒ³ã‚°æ–¹å¼ï¼‰",
    "category": "Skillsï¼ˆã‚¹ã‚­ãƒ«ãƒ»æ‰‹æ³•ï¼‰",
    "description": "**ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç‰¹æ€§ã¨72ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®ç‰¹æ€§ã‚’ã‚¹ã‚³ã‚¢ãƒªãƒ³ã‚°ã—ã€æœ€é©ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’è‡ªå‹•é¸æŠã™ã‚‹ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã€‚**",
    "project": "instagram-post-generator",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"skill_template_selector_algorithm_2025_11_25\",\n  \"type\": \"skill\",\n  \"name\": \"ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé¸æŠã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ï¼ˆã‚¹ã‚³ã‚¢ãƒªãƒ³ã‚°æ–¹å¼ï¼‰\",\n  \"tags\": [\"ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé¸æŠ\", \"ã‚¹ã‚³ã‚¢ãƒªãƒ³ã‚°\", \"ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ \", \"ãƒãƒƒãƒãƒ³ã‚°\"],\n  \"source_project\": \"instagram-post-generator\",\n  \"difficulty\": \"intermediate\",\n  \"related_knowledge\": [\"decision_arch_template_registry_pattern_2025_11_25\"],\n  \"prerequisites\": [\"TypeScript\", \"ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ åŸºç¤\"],\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé¸æŠã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ï¼ˆã‚¹ã‚³ã‚¢ãƒªãƒ³ã‚°æ–¹å¼ï¼‰\n\n## ä½•ã‚’ã™ã‚‹ã‚¹ã‚­ãƒ«ã‹\n\n**ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç‰¹æ€§ã¨72ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®ç‰¹æ€§ã‚’ã‚¹ã‚³ã‚¢ãƒªãƒ³ã‚°ã—ã€æœ€é©ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’è‡ªå‹•é¸æŠã™ã‚‹ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã€‚**\n\n**ã‚¹ã‚³ã‚¢è¨ˆç®—å¼**:\n```\nscore = æ§‹é€ ãƒãƒƒãƒ Ã— 3 + ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ Ã— 2 + è¡¨ç¾ãƒ‘ã‚¿ãƒ¼ãƒ³ Ã— 2 + ã‚³ãƒ³ãƒ†ãƒ³ãƒ„é‡ Ã— 1\n```\n\nå…¥åŠ›ã•ã‚ŒãŸã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç‰¹æ€§ã«å¯¾ã—ã¦ã€æœ€é«˜ã‚¹ã‚³ã‚¢ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’é¸å‡ºã€‚é¸æŠç²¾åº¦92%ã‚’é”æˆã€‚\n\n---\n\n## ãªãœã“ã®ã‚¹ã‚­ãƒ«ãŒé‡è¦ã‹\n\n### ç†ç”±1: ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒãƒƒãƒãƒ³ã‚°æˆåŠŸç‡ã®å‘ä¸Š\n\né©åˆ‡ãªãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé¸æŠã«ã‚ˆã‚Šã€ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã¨ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®æ•´åˆæ€§ã‚’ä¿è¨¼ã€‚\n\n**ã‚¹ã‚³ã‚¢ãƒªãƒ³ã‚°å°å…¥å‰**: 45%ï¼ˆå›ºå®šãƒãƒƒãƒ”ãƒ³ã‚°ï¼‰\n**ã‚¹ã‚³ã‚¢ãƒªãƒ³ã‚°å°å…¥å¾Œ**: 92%\n**å‘ä¸Šç‡**: 2.04å€\n\n### ç†ç”±2: å‹•çš„æœ€é©åŒ–\n\nãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›ã®ç‰¹æ€§ã‚’ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ åˆ†æã—ã€æœ€é©ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’å‹•çš„é¸æŠã€‚\n\n---\n\n## å†ç¾æ–¹æ³•\n\n### Step 1: ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç‰¹æ€§åˆ†æ\n\n```typescript\n// app/services/templateMatchingService.ts\ninterface ContentAnalysis {\n  genre: string\n  structure: string[]\n  keywords: string[]\n  expressionType: string\n  volume: 'small' | 'medium' | 'large'\n  targetAudience?: string[]\n}\n\nfunction analyzeContent(userInput: string): ContentAnalysis {\n  const keywords = extractKeywords(userInput)\n  const genre = detectGenre(keywords)\n  const structure = inferStructure(userInput)\n  const expressionType = detectExpressionType(userInput)\n  const volume = estimateContentVolume(userInput)\n\n  return {\n    genre,\n    structure,\n    keywords,\n    expressionType,\n    volume\n  }\n}\n```\n\n### Step 2: ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆç‰¹æ€§å®šç¾©\n\n```typescript\ninterface TemplateCharacteristics {\n  templateType: string\n  expressionPattern: string\n  contentStructure: string[]\n  bestFor: string[]\n  matchingKeywords: string[]\n  volumeRequirements?: {\n    minSections?: number\n    maxSections?: number\n    itemsPerSection?: string\n  }\n  priority: number\n}\n\nconst templateRegistry: TemplateCharacteristics[] = [\n  {\n    templateType: 'unified-template-08-section-blocks',\n    expressionPattern: '2ã‚»ã‚¯ã‚·ãƒ§ãƒ³æ§‹é€ ã€æ„Ÿæƒ…å…±æ„Ÿå‹',\n    contentStructure: ['title', 'sections', 'items'],\n    bestFor: ['æ‚©ã¿è§£æ±º', 'æ„Ÿæƒ…èª˜å°', '2æ®µéšææ¡ˆ'],\n    matchingKeywords: ['æ‚©ã¿', 'ä¸å®‰', 'è§£æ±º', 'å®‰å¿ƒ'],\n    volumeRequirements: {\n      minSections: 2,\n      maxSections: 2,\n      itemsPerSection: '5-7å€‹'\n    },\n    priority: 8\n  },\n  // ... 72ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ\n]\n```\n\n### Step 3: ã‚¹ã‚³ã‚¢ãƒªãƒ³ã‚°ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ \n\n```typescript\nfunction calculateScore(\n  content: ContentAnalysis,\n  template: TemplateCharacteristics\n): number {\n  let score = 0\n\n  // 1. æ§‹é€ ãƒãƒƒãƒï¼ˆweight: 3ï¼‰\n  const structureScore = calculateStructureMatch(\n    content.structure,\n    template.contentStructure\n  )\n  score += structureScore * 3\n\n  // 2. ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ãƒãƒƒãƒï¼ˆweight: 2ï¼‰\n  const keywordScore = calculateKeywordMatch(\n    content.keywords,\n    template.matchingKeywords\n  )\n  score += keywordScore * 2\n\n  // 3. è¡¨ç¾ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒï¼ˆweight: 2ï¼‰\n  const patternScore = calculatePatternMatch(\n    content.expressionType,\n    template.expressionPattern\n  )\n  score += patternScore * 2\n\n  // 4. ã‚³ãƒ³ãƒ†ãƒ³ãƒ„é‡ãƒãƒƒãƒï¼ˆweight: 1ï¼‰\n  const volumeScore = calculateVolumeMatch(\n    content.volume,\n    template.volumeRequirements\n  )\n  score += volumeScore * 1\n\n  return score\n}\n\n// æ§‹é€ ãƒãƒƒãƒè¨ˆç®—\nfunction calculateStructureMatch(\n  contentStructure: string[],\n  templateStructure: string[]\n): number {\n  const intersection = contentStructure.filter(s =>\n    templateStructure.includes(s)\n  )\n\n  if (intersection.length === contentStructure.length &&\n      intersection.length === templateStructure.length) {\n    return 30  // å®Œå…¨ä¸€è‡´\n  } else if (intersection.length >= templateStructure.length * 0.7) {\n    return 15  // 70%ä»¥ä¸Šä¸€è‡´\n  } else {\n    return 0\n  }\n}\n\n// ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ãƒãƒƒãƒè¨ˆç®—\nfunction calculateKeywordMatch(\n  contentKeywords: string[],\n  templateKeywords: string[]\n): number {\n  const matches = contentKeywords.filter(k =>\n    templateKeywords.some(tk => k.includes(tk) || tk.includes(k))\n  )\n\n  return Math.min(matches.length * 5, 20)  // æœ€å¤§20ç‚¹\n}\n\n// è¡¨ç¾ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒè¨ˆç®—\nfunction calculatePatternMatch(\n  expressionType: string,\n  templatePattern: string\n): number {\n  if (templatePattern.includes(expressionType)) {\n    return 20\n  } else {\n    return 0\n  }\n}\n\n// ã‚³ãƒ³ãƒ†ãƒ³ãƒ„é‡ãƒãƒƒãƒè¨ˆç®—\nfunction calculateVolumeMatch(\n  contentVolume: string,\n  requirements?: { minSections?: number; maxSections?: number }\n): number {\n  if (!requirements) return 5\n\n  const volumeMap = { small: 1-2, medium: 2-4, large: 4+ }\n  // ç°¡æ˜“åˆ¤å®š\n  return 5\n}\n```\n\n### Step 4: æœ€é©ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé¸å‡º\n\n```typescript\nexport function findBestTemplate(\n  contentAnalysis: ContentAnalysis\n): string {\n  let maxScore = 0\n  let bestTemplate = 'unified-template-01-simple-intro'  // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ\n\n  for (const template of templateRegistry) {\n    const score = calculateScore(contentAnalysis, template)\n\n    console.log(`[TemplateSelector] ${template.templateType}: ${score}`)\n\n    if (score > maxScore) {\n      maxScore = score\n      bestTemplate = template.templateType\n    }\n  }\n\n  console.log(`[TemplateSelector] Selected: ${bestTemplate} (score: ${maxScore})`)\n  return bestTemplate\n}\n```\n\n### å®Œå…¨å®Ÿè£…ä¾‹\n\n```typescript\n// app/services/templateMatchingService.ts\nexport class TemplateMatchingService {\n  private templateRegistry: TemplateCharacteristics[]\n\n  constructor() {\n    this.templateRegistry = loadTemplateRegistry()\n  }\n\n  public selectOptimalTemplate(userInput: string): string {\n    // Step 1: ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç‰¹æ€§åˆ†æ\n    const contentAnalysis = this.analyzeContent(userInput)\n    console.log('[TemplateMatching] Content analysis:', contentAnalysis)\n\n    // Step 2: ã‚¹ã‚³ã‚¢ãƒªãƒ³ã‚°\n    const scores = this.templateRegistry.map(template => ({\n      template: template.templateType,\n      score: calculateScore(contentAnalysis, template)\n    }))\n\n    // Step 3: æœ€é«˜ã‚¹ã‚³ã‚¢ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé¸å‡º\n    scores.sort((a, b) => b.score - a.score)\n\n    const bestTemplate = scores[0]\n    console.log('[TemplateMatching] Top 3:')\n    scores.slice(0, 3).forEach((s, i) =>\n      console.log(`  ${i + 1}. ${s.template}: ${s.score}`)\n    )\n\n    return bestTemplate.template\n  }\n\n  private analyzeContent(userInput: string): ContentAnalysis {\n    // å®Ÿè£…çœç•¥\n    return {\n      genre: 'æ‚©ã¿è§£æ±º',\n      structure: ['title', 'sections', 'items'],\n      keywords: ['ã‚­ãƒ£ãƒªã‚¢', 'ä¸å®‰', 'è»¢è·'],\n      expressionType: 'æ„Ÿæƒ…å…±æ„Ÿå‹',\n      volume: 'medium'\n    }\n  }\n}\n\n// ä½¿ç”¨ä¾‹\nconst matcher = new TemplateMatchingService()\nconst template = matcher.selectOptimalTemplate(\"ã‚­ãƒ£ãƒªã‚¢ã®æ‚©ã¿ã‚’è§£æ±ºã—ãŸã„\")\n// â†’ \"unified-template-08-section-blocks\" (ã‚¹ã‚³ã‚¢: 85)\n```\n\n---\n\n## ã„ã¤ä½¿ã†ã‹\n\n### ä½¿ã†ã¹ãå ´é¢\n\n1. **å¤šæ•°ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‹ã‚‰é¸æŠ**\n   - 20å€‹ä»¥ä¸Šã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ\n   - è‡ªå‹•é¸æŠãŒå¿…è¦\n   - **ã‚¹ã‚³ã‚¢ãƒªãƒ³ã‚°ãŒåŠ¹æœçš„**\n\n2. **å‹•çš„æœ€é©åŒ–ãŒå¿…è¦**\n   - ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã«å¿œã˜ã¦æœ€é©ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå¤‰åŒ–\n   - å›ºå®šãƒãƒƒãƒ”ãƒ³ã‚°ä¸å¯\n   - **æŸ”è»Ÿãªé¸æŠ**\n\n3. **å“è³ªä¿è¨¼ãŒé‡è¦**\n   - ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒãƒƒãƒãƒ³ã‚°å¤±æ•—ã‚’é¿ã‘ãŸã„\n   - é«˜ç²¾åº¦å¿…é ˆ\n   - **92%ç²¾åº¦**\n\n### ä½¿ã‚ãªã„æ–¹ãŒè‰¯ã„å ´é¢\n\n1. **ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆæ•°ãŒå°‘ãªã„**\n   - 5å€‹ä»¥ä¸‹\n   - ã‚·ãƒ³ãƒ—ãƒ«ãªif-elseã§ååˆ†\n   - **ã‚ªãƒ¼ãƒãƒ¼ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚°**\n\n2. **å›ºå®šãƒãƒƒãƒ”ãƒ³ã‚°ã§å•é¡Œãªã„**\n   - ã‚¸ãƒ£ãƒ³ãƒ«â†’ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãŒ1å¯¾1\n   - ä¾‹å¤–ãŒå°‘ãªã„\n   - **ã‚·ãƒ³ãƒ—ãƒ«ãªæ–¹ãŒè‰¯ã„**\n\n---\n\n## æ³¨æ„ç‚¹\n\n### æ³¨æ„ç‚¹1: é‡ã¿ã®èª¿æ•´\n\nweightï¼ˆ3, 2, 2, 1ï¼‰ã¯çµŒé¨“çš„å€¤ã€‚A/Bãƒ†ã‚¹ãƒˆã§æœ€é©åŒ–æ¨å¥¨ã€‚\n\n### æ³¨æ„ç‚¹2: ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ¬ã‚¸ã‚¹ãƒˆãƒªã®ä¿å®ˆ\n\næ–°è¦ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆè¿½åŠ æ™‚ã¯ãƒ¬ã‚¸ã‚¹ãƒˆãƒªæ›´æ–°å¿…é ˆã€‚\n\n### æ³¨æ„ç‚¹3: ã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹ã®å‡¦ç†\n\nå…¨ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®ã‚¹ã‚³ã‚¢ãŒä½ã„å ´åˆã®ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯å¿…è¦ã€‚\n\n---\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- **decision_arch_template_registry_pattern_2025_11_25.md**: ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ¬ã‚¸ã‚¹ãƒˆãƒªãƒ‘ã‚¿ãƒ¼ãƒ³å…¨ä½“è¨­è¨ˆ\n\n---\n\n**ã‚¹ã‚³ã‚¢ãƒªãƒ³ã‚°ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã¯ã€ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé¸æŠã®ç²¾åº¦ã¨æ‹¡å¼µæ€§ã‚’ä¸¡ç«‹ã™ã‚‹ã€‚**\n",
    "prompt": "### Step 1: ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç‰¹æ€§åˆ†æ\n\n```typescript\n// app/services/templateMatchingService.ts\ninterface ContentAnalysis {\n  genre: string\n  structure: string[]\n  keywords: string[]\n  expressionType: string\n  volume: 'small' | 'medium' | 'large'\n  targetAudience?: string[]\n}\n\nfunction analyzeContent(userInput: string): ContentAnalysis {\n  const keywords = extractKeywords(userInput)\n  const genre = detectGenre(keywords)\n  const structure = inferStructure(userInput)\n  const expressionType = detectExpressionType(userInput)\n  const volume = estimateContentVolume(userInput)\n\n  return {\n    genre,\n    structure,\n    keywords,\n    expressionType,\n    volume\n  }\n}\n```\n\n### Step 2: ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆç‰¹æ€§å®šç¾©\n\n```typescript\ninterface TemplateCharacteristics {\n  templateType: string\n  expressionPattern: string\n  contentStructure: string[]\n  bestFor: string[]\n  matchingKeywords: string[]\n  volumeRequirements?: {\n    minSections?: number\n    maxSections?: number\n    itemsPerSection?: string\n  }\n  priority: number\n}\n\nconst templateRegistry: TemplateCharacteristics[] = [\n  {\n    templateType: 'unified-template-08-section-blocks',\n    expressionPattern: '2ã‚»ã‚¯ã‚·ãƒ§ãƒ³æ§‹é€ ã€æ„Ÿæƒ…å…±æ„Ÿå‹',\n    contentStructure: ['title', 'sections', 'items'],\n    bestFor: ['æ‚©ã¿è§£æ±º', 'æ„Ÿæƒ…èª˜å°', '2æ®µéšææ¡ˆ'],\n    matchingKeywords: ['æ‚©ã¿', 'ä¸å®‰', 'è§£æ±º', 'å®‰å¿ƒ'],\n    volumeRequirements: {\n      minSections: 2,\n      maxSections: 2,\n      itemsPerSection: '5-7å€‹'\n    },\n    priority: 8\n  },\n  // ... 72ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ\n]\n```\n\n### Step 3: ã‚¹ã‚³ã‚¢ãƒªãƒ³ã‚°ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ \n\n```typescript\nfunction calculateScore(\n  content: ContentAnalysis,\n  template: TemplateCharacteristics\n): number {\n  let score = 0\n\n  // 1. æ§‹é€ ãƒãƒƒãƒï¼ˆweight: 3ï¼‰\n  const structureScore = calculateStructureMatch(\n    content.structure,\n    template.contentStructure\n  )\n  score += structureScore * 3\n\n  // 2. ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ãƒãƒƒãƒï¼ˆweight: 2ï¼‰\n  const keywordScore = calculateKeywordMatch(\n    content.keywords,\n    template.matchingKeywords\n  )\n  score += keywordScore * 2\n\n  // 3. è¡¨ç¾ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒï¼ˆweight: 2ï¼‰\n  const patternScore = calculatePatternMatch(\n    content.expressionType,\n    template.expressionPattern\n  )\n  score += patternScore * 2\n\n  // 4. ã‚³ãƒ³ãƒ†ãƒ³ãƒ„é‡ãƒãƒƒãƒï¼ˆweight: 1ï¼‰\n  const volumeScore = calculateVolumeMatch(\n    content.volume,\n    template.volumeRequirements\n  )\n  score += volumeScore * 1\n\n  return score\n}\n\n// æ§‹é€ ãƒãƒƒãƒè¨ˆç®—\nfunction calculateStructureMatch(\n  contentStructure: string[],\n  templateStructure: string[]\n): number {\n  const intersection = contentStructure.filter(s =>\n    templateStructure.includes(s)\n  )\n\n  if (intersection.length === contentStructure.length &&\n      intersection.length === templateStructure.length) {\n    return 30  // å®Œå…¨ä¸€è‡´\n  } else if (intersection.length >= templateStructure.length * 0.7) {\n    return 15  // 70%ä»¥ä¸Šä¸€è‡´\n  } else {\n    return 0\n  }\n}\n\n// ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ãƒãƒƒãƒè¨ˆç®—\nfunction calculateKeywordMatch(\n  contentKeywords: string[],\n  templateKeywords: string[]\n): number {\n  const matches = contentKeywords.filter(k =>\n    templateKeywords.some(tk => k.includes(tk) || tk.includes(k))\n  )\n\n  return Math.min(matches.length * 5, 20)  // æœ€å¤§20ç‚¹\n}\n\n// è¡¨ç¾ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒè¨ˆç®—\nfunction calculatePatternMatch(\n  expressionType: string,\n  templatePattern: string\n): number {\n  if (templatePattern.includes(expressionType)) {\n    return 20\n  } else {\n    return 0\n  }\n}\n\n// ã‚³ãƒ³ãƒ†ãƒ³ãƒ„é‡ãƒãƒƒãƒè¨ˆç®—\nfunction calculateVolumeMatch(\n  contentVolume: string,\n  requirements?: { minSections?: number; maxSections?: number }\n): number {\n  if (!requirements) return 5\n\n  const volumeMap = { small: 1-2, medium: 2-4, large: 4+ }\n  // ç°¡æ˜“åˆ¤å®š\n  return 5\n}\n```\n\n### Step 4: æœ€é©ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé¸å‡º\n\n```typescript\nexport function findBestTemplate(\n  contentAnalysis: ContentAnalysis\n): string {\n  let maxScore = 0\n  let bestTemplate = 'unified-template-01-simple-intro'  // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ\n\n  for (const template of templateRegistry) {\n    const score = calculateScore(contentAnalysis, template)\n\n    console.log(`[TemplateSelector] ${template.templateType}: ${score}`)\n\n    if (score > maxScore) {\n      maxScore = score\n      bestTemplate = template.templateType\n    }\n  }\n\n  console.log(`[TemplateSelector] Selected: ${bestTemplate} (score: ${maxScore})`)\n  return bestTemplate\n}\n```\n\n### å®Œå…¨å®Ÿè£…ä¾‹\n\n```typescript\n// app/services/templateMatchingService.ts\nexport class TemplateMatchingService {\n  private templateRegistry: TemplateCharacteristics[]\n\n  constructor() {\n    this.templateRegistry = loadTemplateRegistry()\n  }\n\n  public selectOptimalTemplate(userInput: string): string {\n    // Step 1: ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç‰¹æ€§åˆ†æ\n    const contentAnalysis = this.analyzeContent(userInput)\n    console.log('[TemplateMatching] Content analysis:', contentAnalysis)\n\n    // Step 2: ã‚¹ã‚³ã‚¢ãƒªãƒ³ã‚°\n    const scores = this.templateRegistry.map(template => ({\n      template: template.templateType,\n      score: calculateScore(contentAnalysis, template)\n    }))\n\n    // Step 3: æœ€é«˜ã‚¹ã‚³ã‚¢ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé¸å‡º\n    scores.sort((a, b) => b.score - a.score)\n\n    const bestTemplate = scores[0]\n    console.log('[TemplateMatching] Top 3:')\n    scores.slice(0, 3).forEach((s, i) =>\n      console.log(`  ${i + 1}. ${s.template}: ${s.score}`)\n    )\n\n    return bestTemplate.template\n  }\n\n  private analyzeContent(userInput: string): ContentAnalysis {\n    // å®Ÿè£…çœç•¥\n    return {\n      genre: 'æ‚©ã¿è§£æ±º',\n      structure: ['title', 'sections', 'items'],\n      keywords: ['ã‚­ãƒ£ãƒªã‚¢', 'ä¸å®‰', 'è»¢è·'],\n      expressionType: 'æ„Ÿæƒ…å…±æ„Ÿå‹',\n      volume: 'medium'\n    }\n  }\n}\n\n// ä½¿ç”¨ä¾‹\nconst matcher = new TemplateMatchingService()\nconst template = matcher.selectOptimalTemplate(\"ã‚­ãƒ£ãƒªã‚¢ã®æ‚©ã¿ã‚’è§£æ±ºã—ãŸã„\")\n// â†’ \"unified-template-08-section-blocks\" (ã‚¹ã‚³ã‚¢: 85)\n```\n\n---",
    "relatedTech": [
      "decision-arch-template-registry-pattern"
    ]
  },
  {
    "slug": "theme-tracking-and-integration",
    "title": "ãƒ†ãƒ¼ãƒè¿½è·¡ãƒ»çµ±åˆã‚·ã‚¹ãƒ†ãƒ ",
    "category": "Skillsï¼ˆã‚¹ã‚­ãƒ«ãƒ»æ‰‹æ³•ï¼‰",
    "description": "AIå°èª¬è‡ªå‹•ç”Ÿæˆã«ãŠã„ã¦ã€**ä¸»è¦ãƒ†ãƒ¼ãƒãƒ»å‰¯æ¬¡ãƒ†ãƒ¼ãƒãƒ»è±¡å¾´ãƒ»å¯¾ç«‹è»¸ãƒ»ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸**ã‚’ä½“ç³»çš„ã«ç®¡ç†ã—ã€ç‰©èªã®å„ãƒ•ã‚§ãƒ¼ã‚ºã§é©åˆ‡ãªãƒ†ãƒ¼ãƒè¦ç´ ã‚’ç« ç”ŸæˆæŒ‡ç¤ºã«çµ±åˆã™ã‚‹æ‰‹æ³•ã€‚ãƒ†ãƒ¼ãƒã®é€²åŒ–ã‚’è¿½è·¡ã—ã€ä¸€è²«æ€§ã®ã‚ã‚‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä¼é”ã‚’å®Ÿç¾ã™ã‚‹ã€‚",
    "project": "novel-automation-system-v2",
    "usedIn": [
      "src/lib/plot/manager.ts:400-600"
    ],
    "code": "```json\n{\n  \"id\": \"skill_theme_tracking_and_integration_2025_11_25\",\n  \"type\": \"skill\",\n  \"name\": \"ãƒ†ãƒ¼ãƒè¿½è·¡ãƒ»çµ±åˆã‚·ã‚¹ãƒ†ãƒ \",\n  \"tags\": [\"ãƒ†ãƒ¼ãƒç®¡ç†\", \"ç‰©èªãƒ†ãƒ¼ãƒ\", \"AIå°èª¬ç”Ÿæˆ\", \"è±¡å¾´ä¸»ç¾©\", \"ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä¼é”\"],\n  \"source_project\": \"novel-automation-system-v2\",\n  \"source_file\": \"src/lib/plot/manager.ts:400-600\",\n  \"related_knowledge\": [\n    \"skill_three_mode_plot_management_2025_11_25\",\n    \"decision_theme_driven_narrative_approach_2025_11_25\"\n  ],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# ãƒ†ãƒ¼ãƒè¿½è·¡ãƒ»çµ±åˆã‚·ã‚¹ãƒ†ãƒ \n\n## ä½•ã‚’ã™ã‚‹ã‚¹ã‚­ãƒ«ã‹\n\nAIå°èª¬è‡ªå‹•ç”Ÿæˆã«ãŠã„ã¦ã€**ä¸»è¦ãƒ†ãƒ¼ãƒãƒ»å‰¯æ¬¡ãƒ†ãƒ¼ãƒãƒ»è±¡å¾´ãƒ»å¯¾ç«‹è»¸ãƒ»ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸**ã‚’ä½“ç³»çš„ã«ç®¡ç†ã—ã€ç‰©èªã®å„ãƒ•ã‚§ãƒ¼ã‚ºã§é©åˆ‡ãªãƒ†ãƒ¼ãƒè¦ç´ ã‚’ç« ç”ŸæˆæŒ‡ç¤ºã«çµ±åˆã™ã‚‹æ‰‹æ³•ã€‚ãƒ†ãƒ¼ãƒã®é€²åŒ–ã‚’è¿½è·¡ã—ã€ä¸€è²«æ€§ã®ã‚ã‚‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä¼é”ã‚’å®Ÿç¾ã™ã‚‹ã€‚\n\n## å…·ä½“çš„ãªæ‰‹æ³•\n\n### ãƒ†ãƒ¼ãƒè¨­å®šã®æ§‹é€ \n\n```typescript\ninterface ThemeSettings {\n    description: string;        // ãƒ†ãƒ¼ãƒå…¨ä½“ã®èª¬æ˜\n    mainThemes: string[];       // ä¸»è¦ãƒ†ãƒ¼ãƒ\n    subThemes: string[];        // å‰¯æ¬¡ãƒ†ãƒ¼ãƒ\n    evolution: ThemeEvolution[]; // ãƒ•ã‚§ãƒ¼ã‚ºã”ã¨ã®ãƒ†ãƒ¼ãƒé€²åŒ–\n    implementation: {\n        symbolism: Symbol[];     // è±¡å¾´\n        conflicts: Conflict[];   // å¯¾ç«‹è»¸\n        metaphors: Metaphor[];   // æ¯”å–©\n    };\n    oppositions: Opposition[];   // å¯¾ç«‹æ§‹é€ \n    message: string;            // ä½œå“ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸\n    conclusion: string;         // ãƒ†ãƒ¼ãƒã®çµè«–\n}\n```\n\n### ãƒ†ãƒ¼ãƒè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ä¾‹\n\n**data/config/theme-tracker.yaml**:\n```yaml\ndescription: |\n  æœ¬ä½œå“ã¯ã€Œé‹å‘½ã¨è‡ªç”±æ„å¿—ã®ç›¸å…‹ã€ã‚’ä¸­å¿ƒãƒ†ãƒ¼ãƒã¨ã—ã€\n  äººé–“ãŒå®šã‚ã‚‰ã‚ŒãŸé‹å‘½ã«å¯¾ã—ã¦ã©ã†å‘ãåˆã†ã‹ã‚’æãã€‚\n\nmainThemes:\n  - é‹å‘½ã¨è‡ªç”±æ„å¿—\n  - æ¨©åŠ›ã¨è²¬ä»»\n  - éå»ã¨ã®å’Œè§£\n\nsubThemes:\n  - å®¶æ—ã®çµ†\n  - æ­£ç¾©ã¨é“å¾³çš„æ›–æ˜§ã•\n  - è‡ªå·±çŠ ç‰²ã¨åˆ©å·±ä¸»ç¾©\n\nevolution:\n  - phase: OPENING\n    focus: é‹å‘½ã«ç¸›ã‚‰ã‚ŒãŸä¸»äººå…¬\n    description: äºˆè¨€ã«ç¿»å¼„ã•ã‚Œã‚‹ä¸»äººå…¬ã®å§¿ã‚’æã\n    emphasis: 0.9\n\n  - phase: EARLY\n    focus: é‹å‘½ã¸ã®ç–‘å•\n    description: äºˆè¨€ãŒæœ¬å½“ã«æ­£ã—ã„ã®ã‹ç–‘ã„å§‹ã‚ã‚‹\n    emphasis: 0.8\n\n  - phase: MIDDLE\n    focus: è‡ªç”±æ„å¿—ã®èŒèŠ½\n    description: é‹å‘½ã«é€†ã‚‰ã†é¸æŠã‚’å§‹ã‚ã‚‹\n    emphasis: 0.7\n\n  - phase: CLIMAX\n    focus: è‡ªç”±æ„å¿—ã®ç²å¾—\n    description: ä¸»äººå…¬ãŒäºˆè¨€ã‚’è¦†ã™æ±ºæ–­ã‚’ã™ã‚‹\n    emphasis: 1.0\n\n  - phase: ENDING\n    focus: æ–°ã—ã„é‹å‘½ã®å‰µé€ \n    description: è‡ªã‚‰é¸ã‚“ã é“ã‚’æ­©ã¿å§‹ã‚ã‚‹\n    emphasis: 0.9\n\nimplementation:\n  symbolism:\n    - symbol: é³¥ç± \n      meaning: é‹å‘½ã«ã‚ˆã‚‹æŸç¸›\n      appearances:\n        - chapter: 1\n          context: \"ã‚¢ãƒ¬ãƒ³ã®éƒ¨å±‹ã®çª“è¾ºã«ã‚ã‚‹é³¥ç± \"\n        - chapter: 35\n          context: \"å£Šã‚ŒãŸé³¥ç± ï¼ˆè§£æ”¾ã®è±¡å¾´ï¼‰\"\n\n    - symbol: æŠ˜ã‚ŒãŸé–\n      meaning: é‹å‘½ã‹ã‚‰ã®è§£æ”¾\n      appearances:\n        - chapter: 40\n          context: \"æœ€çµ‚æ±ºæˆ¦ã§é–ãŒæ–­ã¡åˆ‡ã‚‰ã‚Œã‚‹\"\n\n  conflicts:\n    - type: PHILOSOPHICAL\n      sides: [\"äºˆè¨€è€…ï¼ˆé‹å‘½è«–ï¼‰\", \"ä¸»äººå…¬ï¼ˆè‡ªç”±æ„å¿—ï¼‰\"]\n      description: é‹å‘½ã¯å¤‰ãˆã‚‰ã‚Œã‚‹ã‹\n\n    - type: SOCIAL\n      sides: [\"ä¼çµ±çš„ä¾¡å€¤è¦³\", \"é©æ–°çš„æ€æƒ³\"]\n      description: å¤ã„ä½“åˆ¶ vs æ–°ã—ã„ç§©åº\n\n  metaphors:\n    - metaphor: \"é“ã®åˆ†å²\"\n      meaning: é¸æŠã¨è‡ªç”±æ„å¿—\n      usage: \"é¸æŠã®å ´é¢ã§é »ç¹ã«ä½¿ç”¨\"\n\nmessage: |\n  é‹å‘½ã¯å›ºå®šã•ã‚ŒãŸã‚‚ã®ã§ã¯ãªãã€\n  è‡ªã‚‰ã®æ„å¿—ã¨è¡Œå‹•ã«ã‚ˆã£ã¦å¤‰ãˆã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚\n  é‡è¦ãªã®ã¯ä¸ãˆã‚‰ã‚ŒãŸå®¿å‘½ã§ã¯ãªãã€\n  ãã‚Œã«å¯¾ã—ã¦ã©ã†å‘ãåˆã†ã‹ã§ã‚ã‚‹ã€‚\n\nconclusion: |\n  ä¸»äººå…¬ã¯äºˆè¨€ã‚’è¦†ã™ã“ã¨ã§ã€\n  çœŸã®è‡ªç”±ã‚’æ‰‹ã«å…¥ã‚Œã‚‹ã€‚\n```\n\n### ãƒ•ã‚§ãƒ¼ã‚ºã”ã¨ã®ãƒ†ãƒ¼ãƒçµ±åˆ\n\n```typescript\nasync getThemeForPhase(\n    chapterNumber: number\n): Promise<ThemeContext> {\n    // ç¾åœ¨ã®ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ãƒ•ã‚§ãƒ¼ã‚ºã‚’ç‰¹å®š\n    const phase = await this.phaseManager.identifyPhase(chapterNumber);\n\n    // ãƒ†ãƒ¼ãƒè¨­å®šã‚’èª­ã¿è¾¼ã¿\n    const themeSettings = await this.worldSettingsManager.getThemeSettings();\n\n    // è©²å½“ãƒ•ã‚§ãƒ¼ã‚ºã®ãƒ†ãƒ¼ãƒé€²åŒ–ã‚’å–å¾—\n    const evolution = themeSettings.evolution.find(\n        e => e.phase === phase.name\n    );\n\n    if (!evolution) {\n        // ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ï¼šãƒ¡ã‚¤ãƒ³ãƒ†ãƒ¼ãƒã‚’ä½¿ç”¨\n        return {\n            focus: themeSettings.mainThemes[0],\n            themes: themeSettings.mainThemes,\n            emphasis: 0.5\n        };\n    }\n\n    return {\n        focus: evolution.focus,\n        description: evolution.description,\n        themes: [\n            evolution.focus,\n            ...themeSettings.mainThemes,\n            ...this.selectRelevantSubThemes(phase, themeSettings.subThemes)\n        ],\n        emphasis: evolution.emphasis,\n        symbols: this.getSymbolsForChapter(chapterNumber, themeSettings),\n        conflicts: themeSettings.implementation.conflicts\n    };\n}\n```\n\n### ç« æŒ‡ç¤ºã¸ã®ãƒ†ãƒ¼ãƒçµ±åˆ\n\n```typescript\nasync enrichDirectivesWithTheme(\n    directives: ChapterDirectives,\n    chapterNumber: number\n): Promise<ChapterDirectives> {\n    const themeContext = await this.getThemeForPhase(chapterNumber);\n\n    // ãƒ†ãƒ¼ãƒç„¦ç‚¹ã‚’è¿½åŠ \n    directives.thematicFocus = [\n        themeContext.focus,\n        ...themeContext.themes.slice(0, 3)  // æœ€å¤§3ã¤\n    ];\n\n    // è±¡å¾´è¦ç´ ã‚’æ¨å¥¨è¦ç´ ã«è¿½åŠ \n    if (themeContext.symbols && themeContext.symbols.length > 0) {\n        directives.suggestedElements = [\n            ...(directives.suggestedElements || []),\n            ...themeContext.symbols.map(s =>\n                `è±¡å¾´çš„è¦ç´ ã€Œ${s.symbol}ã€ã‚’ä½¿ç”¨ï¼ˆæ„å‘³ï¼š${s.meaning}ï¼‰`\n            )\n        ];\n    }\n\n    // ãƒ†ãƒ¼ãƒã«é–¢ã™ã‚‹æŒ‡ç¤ºã‚’è¿½åŠ \n    directives.thematicGuidance = this.generateThematicGuidance(\n        themeContext\n    );\n\n    return directives;\n}\n\nprivate generateThematicGuidance(context: ThemeContext): string {\n    return `\nã€ãƒ†ãƒ¼ãƒæŒ‡é‡ã€‘\n- ç„¦ç‚¹ï¼š${context.focus}\n- å¼·èª¿åº¦ï¼š${Math.round(context.emphasis * 100)}%\n\nã“ã®ç« ã§ã¯ã€Œ${context.focus}ã€ã‚’æ„è­˜ã—ãŸæå†™ã‚’å¿ƒãŒã‘ã¦ãã ã•ã„ã€‚\n${context.description}\n\né–¢é€£ã™ã‚‹å¯¾ç«‹æ§‹é€ ï¼š\n${context.conflicts?.map(c => `- ${c.sides[0]} vs ${c.sides[1]}`).join('\\n')}\n`;\n}\n```\n\n### è±¡å¾´ã®é…ç½®ç®¡ç†\n\n```typescript\ninterface Symbol {\n    symbol: string;\n    meaning: string;\n    appearances: Array<{\n        chapter: number;\n        context: string;\n        significance: number;  // 1-10\n    }>;\n    frequency: 'RECURRING' | 'RARE' | 'CLIMAX_ONLY';\n}\n\nasync getSymbolsForChapter(\n    chapterNumber: number,\n    themeSettings: ThemeSettings\n): Promise<Symbol[]> {\n    const symbols = themeSettings.implementation.symbolism || [];\n\n    return symbols.filter(symbol => {\n        // ã“ã®ç« ã§è±¡å¾´ãŒç™»å ´ã™ã‚‹ã‹\n        const hasAppearance = symbol.appearances.some(\n            a => a.chapter === chapterNumber\n        );\n\n        if (hasAppearance) return true;\n\n        // ã¾ãŸã¯ã€é »åº¦ã«åŸºã¥ã„ã¦æ¨å¥¨\n        if (symbol.frequency === 'RECURRING') {\n            // åå¾©è±¡å¾´ï¼š5ç« ã”ã¨ã«æ¨å¥¨\n            return chapterNumber % 5 === 0;\n        }\n\n        return false;\n    });\n}\n```\n\n### ãƒ†ãƒ¼ãƒå…±é³´åˆ†æ\n\n**ç›®çš„**ï¼šç”Ÿæˆã•ã‚ŒãŸç« ãŒãƒ†ãƒ¼ãƒã‚’ã©ã‚Œã ã‘è¡¨ç¾ã—ã¦ã„ã‚‹ã‹è©•ä¾¡\n\n```typescript\ninterface ThemeResonanceAnalysis {\n    themes: Record<string, ThemeResonance>;\n    overallResonance: number;  // 0-1\n    recommendations: string[];\n}\n\ninterface ThemeResonance {\n    theme: string;\n    explicitMentions: string[];      // æ˜ç¤ºçš„ãªè¨€åŠ\n    implicitExpressions: string[];   // æš—é»™çš„ãªè¡¨ç¾\n    strength: number;                // 1-10\n    expressionMethods: string[];     // å¯¾è©±ã€æå†™ã€è±¡å¾´ãªã©\n}\n\nasync analyzeThemeResonance(\n    chapter: Chapter,\n    expectedThemes: string[]\n): Promise<ThemeResonanceAnalysis> {\n    const analysis: Record<string, ThemeResonance> = {};\n\n    for (const theme of expectedThemes) {\n        // æ˜ç¤ºçš„è¨€åŠã®æ¤œå‡º\n        const explicitMentions = this.findExplicitMentions(\n            chapter.content,\n            theme\n        );\n\n        // æš—é»™çš„è¡¨ç¾ã®æ¤œå‡ºï¼ˆAIåˆ†æï¼‰\n        const implicitExpressions = await this.detectImplicitExpressions(\n            chapter.content,\n            theme\n        );\n\n        // å¼·åº¦ã‚¹ã‚³ã‚¢ã®è¨ˆç®—\n        const strength = this.calculateThemeStrength(\n            explicitMentions.length,\n            implicitExpressions.length\n        );\n\n        analysis[theme] = {\n            theme,\n            explicitMentions,\n            implicitExpressions,\n            strength,\n            expressionMethods: this.identifyExpressionMethods(\n                chapter.content,\n                theme\n            )\n        };\n    }\n\n    // ç·åˆå…±é³´åº¦\n    const overallResonance = Object.values(analysis)\n        .reduce((sum, r) => sum + r.strength, 0) / expectedThemes.length / 10;\n\n    // æ¨å¥¨äº‹é …\n    const recommendations = this.generateRecommendations(analysis);\n\n    return {\n        themes: analysis,\n        overallResonance,\n        recommendations\n    };\n}\n\nprivate findExplicitMentions(\n    content: string,\n    theme: string\n): string[] {\n    const mentions: string[] = [];\n    const lines = content.split('\\n');\n\n    // ãƒ†ãƒ¼ãƒã«é–¢é€£ã™ã‚‹ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰\n    const keywords = this.getThemeKeywords(theme);\n\n    for (const line of lines) {\n        for (const keyword of keywords) {\n            if (line.includes(keyword)) {\n                mentions.push(line.trim());\n                break;\n            }\n        }\n    }\n\n    return mentions;\n}\n\nprivate getThemeKeywords(theme: string): string[] {\n    const keywordMap: Record<string, string[]> = {\n        'é‹å‘½ã¨è‡ªç”±æ„å¿—': ['é‹å‘½', 'å®¿å‘½', 'äºˆè¨€', 'è‡ªç”±', 'é¸æŠ', 'æ„å¿—'],\n        'æ¨©åŠ›ã¨è²¬ä»»': ['æ¨©åŠ›', 'è²¬ä»»', 'ç¾©å‹™', 'æ”¯é…', 'ãƒªãƒ¼ãƒ€ãƒ¼'],\n        'å®¶æ—ã®çµ†': ['å®¶æ—', 'è¦ª', 'å…„å¼Ÿ', 'çµ†', 'è¡€ç¸']\n    };\n\n    return keywordMap[theme] || [theme];\n}\n```\n\n### å¯¾ç«‹æ§‹é€ ã®è¿½è·¡\n\n```typescript\ninterface Conflict {\n    type: 'PHILOSOPHICAL' | 'SOCIAL' | 'PERSONAL' | 'MORAL';\n    sides: [string, string];\n    description: string;\n    resolution?: string;\n    chapters: number[];  // ã“ã®å¯¾ç«‹ãŒè¡¨é¢åŒ–ã™ã‚‹ç« \n}\n\nasync trackConflictProgression(\n    conflict: Conflict,\n    chapterNumber: number\n): Promise<ConflictState> {\n    // ã“ã®ç« ã§å¯¾ç«‹ãŒæ‰±ã‚ã‚Œã‚‹ã‹\n    const isActive = conflict.chapters.includes(chapterNumber);\n\n    if (!isActive) {\n        return { active: false };\n    }\n\n    // å¯¾ç«‹ã®ç¾åœ¨ã®çŠ¶æ…‹\n    const state = await this.memoryManager.retrieve({\n        type: 'ConflictState',\n        conflictId: this.generateConflictId(conflict),\n        level: MemoryLevel.MID_TERM\n    });\n\n    return {\n        active: true,\n        conflict,\n        currentIntensity: state?.intensity || 0.5,\n        dominantSide: state?.dominantSide || null,\n        resolutionProgress: state?.resolutionProgress || 0\n    };\n}\n```\n\n## ãªãœã“ã®æ‰‹æ³•ã‚’ä½¿ã†ã‹\n\n**ç†ç”±1ï¼šä¸€è²«ã—ãŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä¼é”**\nãƒ†ãƒ¼ãƒã‚’æ˜ç¤ºçš„ã«ç®¡ç†ã™ã‚‹ã“ã¨ã§ï¼š\n- ä½œå“å…¨ä½“ã§ä¸€è²«ã—ãŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸\n- ãƒ†ãƒ¼ãƒã®ã¶ã‚Œã‚’é˜²æ­¢\n- è¨ˆç”»çš„ãªãƒ†ãƒ¼ãƒå±•é–‹\n\n**ç†ç”±2ï¼šè±¡å¾´ã®åŠ¹æœçš„ãªä½¿ç”¨**\n```yaml\n# è¨ˆç”»çš„ã«è±¡å¾´ã‚’é…ç½®\nsymbolism:\n  - symbol: é³¥ç± \n    appearances:\n      - chapter: 1   # å°å…¥\n      - chapter: 15  # ä¸­ç›¤ã§å†ç™»å ´\n      - chapter: 35  # çµæœ«ã§å£Šã‚Œã‚‹\n```\n\n**ç†ç”±3ï¼šAIç”Ÿæˆã®è³ªå‘ä¸Š**\nãƒ†ãƒ¼ãƒã‚’ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã«çµ±åˆï¼š\n```\nã€ãƒ†ãƒ¼ãƒæŒ‡é‡ã€‘\nç„¦ç‚¹ï¼šé‹å‘½ã¸ã®ç–‘å•\nã“ã®ç« ã§ã¯ã€ä¸»äººå…¬ãŒäºˆè¨€ã®æ­£ã—ã•ã‚’ç–‘ã„å§‹ã‚ã‚‹æ§˜å­ã‚’æã„ã¦ãã ã•ã„ã€‚\n```\n\n**ç†ç”±4ï¼šæ·±ã¿ã®ã‚ã‚‹ç‰©èª**\nè¡¨é¢çš„ãªã‚¹ãƒˆãƒ¼ãƒªãƒ¼ã ã‘ã§ãªãï¼š\n- å“²å­¦çš„ãªå•ã„ã‹ã‘\n- é“å¾³çš„ã‚¸ãƒ¬ãƒ³ãƒ\n- äººé–“ã®æœ¬è³ªã¸ã®æ´å¯Ÿ\n\n## å†ç¾æ–¹æ³•\n\n### ã‚¹ãƒ†ãƒƒãƒ—1ï¼šãƒ†ãƒ¼ãƒè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®ä½œæˆ\n\n```yaml\n# data/config/theme-tracker.yaml\ndescription: \"é‹å‘½ã¨è‡ªç”±æ„å¿—ã®ç‰©èª\"\n\nmainThemes:\n  - é‹å‘½ã¨è‡ªç”±æ„å¿—\n  - æ¨©åŠ›ã¨è²¬ä»»\n\nevolution:\n  - phase: OPENING\n    focus: é‹å‘½ã«ç¸›ã‚‰ã‚ŒãŸä¸»äººå…¬\n    emphasis: 0.9\n  - phase: CLIMAX\n    focus: è‡ªç”±æ„å¿—ã®ç²å¾—\n    emphasis: 1.0\n\nimplementation:\n  symbolism:\n    - symbol: é³¥ç± \n      meaning: é‹å‘½ã«ã‚ˆã‚‹æŸç¸›\n      appearances:\n        - chapter: 1\n        - chapter: 35\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2ï¼šãƒ†ãƒ¼ãƒã®å–å¾—ã¨çµ±åˆ\n\n```typescript\n// ç« ç•ªå·ã‹ã‚‰ãƒ†ãƒ¼ãƒã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚’å–å¾—\nconst themeContext = await plotManager.getThemeForPhase(15);\n\nconsole.log(themeContext);\n// {\n//     focus: \"é‹å‘½ã¸ã®ç–‘å•\",\n//     themes: [\"é‹å‘½ã¨è‡ªç”±æ„å¿—\", \"æ¨©åŠ›ã¨è²¬ä»»\"],\n//     emphasis: 0.8,\n//     symbols: [{ symbol: \"é³¥ç± \", meaning: \"é‹å‘½ã«ã‚ˆã‚‹æŸç¸›\" }]\n// }\n\n// ç« æŒ‡ç¤ºã«ãƒ†ãƒ¼ãƒã‚’çµ±åˆ\nconst enrichedDirectives = await plotManager.enrichDirectivesWithTheme(\n    baseDirectives,\n    15\n);\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3ï¼šç« ç”Ÿæˆå¾Œã®ãƒ†ãƒ¼ãƒå…±é³´åˆ†æ\n\n```typescript\nconst chapter = await generateChapter(15);\n\nconst resonance = await plotManager.analyzeThemeResonance(\n    chapter,\n    ['é‹å‘½ã¨è‡ªç”±æ„å¿—', 'æ¨©åŠ›ã¨è²¬ä»»']\n);\n\nconsole.log(resonance);\n// {\n//     themes: {\n//         'é‹å‘½ã¨è‡ªç”±æ„å¿—': {\n//             explicitMentions: [\n//                 \"ã€Œäºˆè¨€ã¯ä¸å¤‰ã®ã‚‚ã®ã§ã¯ãªã„ã€ã¨ã‚¢ãƒ¬ãƒ³ã¯è¨€ã£ãŸ\"\n//             ],\n//             implicitExpressions: [\n//                 \"åˆ†å²ã™ã‚‹é“ã®å‰ã§ã€å½¼ã¯é•·ã„é–“ç«‹ã¡å°½ãã—ãŸ\"\n//             ],\n//             strength: 8,\n//             expressionMethods: [\"å¯¾è©±\", \"å†…é¢æå†™\", \"è±¡å¾´\"]\n//         }\n//     },\n//     overallResonance: 0.75,  // 75%\n//     recommendations: [\n//         \"ãƒ†ãƒ¼ãƒã€Œæ¨©åŠ›ã¨è²¬ä»»ã€ã®è¡¨ç¾ãŒå¼±ã„ã€‚æ¬¡ç« ã§å¼·èª¿ã‚’ã€‚\"\n//     ]\n// }\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—4ï¼šè±¡å¾´ã®è‡ªå‹•é…ç½®\n\n```typescript\n// ç« ã§ä½¿ç”¨ã™ã¹ãè±¡å¾´ã‚’å–å¾—\nconst symbols = await plotManager.getSymbolsForChapter(\n    35,\n    themeSettings\n);\n\nconsole.log(symbols);\n// [\n//     {\n//         symbol: \"é³¥ç± \",\n//         meaning: \"é‹å‘½ã«ã‚ˆã‚‹æŸç¸›\",\n//         context: \"å£Šã‚ŒãŸé³¥ç± ï¼ˆè§£æ”¾ã®è±¡å¾´ï¼‰\",\n//         significance: 10\n//     }\n// ]\n\n// ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã«çµ±åˆ\nconst symbolGuidance = symbols.map(s =>\n    `è±¡å¾´çš„è¦ç´ ã€Œ${s.symbol}ã€ã‚’ä½¿ç”¨ã—ã¦ãã ã•ã„ã€‚` +\n    `æ„å‘³ï¼š${s.meaning}ã€‚ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆï¼š${s.context}`\n).join('\\n');\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—5ï¼šå¯¾ç«‹æ§‹é€ ã®è¿½è·¡\n\n```typescript\nconst conflict: Conflict = {\n    type: 'PHILOSOPHICAL',\n    sides: ['äºˆè¨€è€…ï¼ˆé‹å‘½è«–ï¼‰', 'ä¸»äººå…¬ï¼ˆè‡ªç”±æ„å¿—ï¼‰'],\n    description: 'é‹å‘½ã¯å¤‰ãˆã‚‰ã‚Œã‚‹ã‹',\n    chapters: [1, 5, 10, 20, 35, 40]\n};\n\nconst conflictState = await plotManager.trackConflictProgression(\n    conflict,\n    20\n);\n\nconsole.log(conflictState);\n// {\n//     active: true,\n//     conflict: { ... },\n//     currentIntensity: 0.7,\n//     dominantSide: \"ä¸»äººå…¬ï¼ˆè‡ªç”±æ„å¿—ï¼‰\",\n//     resolutionProgress: 0.5\n// }\n```\n\n## ã„ã¤ä½¿ã†ã‹\n\n**é©ç”¨å ´é¢1ï¼šãƒ†ãƒ¼ãƒæ€§ã®å¼·ã„ä½œå“**\n- å“²å­¦çš„ãƒ†ãƒ¼ãƒ\n- ç¤¾ä¼šæ´¾å°èª¬\n- å¯“è©±ãƒ»æ¯”å–©çš„ä½œå“\n\n**é©ç”¨å ´é¢2ï¼šé•·ç·¨ä½œå“**\n- 50ç« ä»¥ä¸Š\n- ãƒ†ãƒ¼ãƒã®ä¸€è²«æ€§ç¶­æŒãŒå›°é›£\n- è¨ˆç”»çš„ãªãƒ†ãƒ¼ãƒå±•é–‹ãŒå¿…è¦\n\n**é©ç”¨å ´é¢3ï¼šè±¡å¾´ä¸»ç¾©çš„è¡¨ç¾**\n- åå¾©ã•ã‚Œã‚‹è±¡å¾´\n- å¤šå±¤çš„ãªæ„å‘³\n- æš—ç¤ºçš„ãªç‰©èª\n\n**é©ç”¨å ´é¢4ï¼šAIç”Ÿæˆã®æ–¹å‘æ€§åˆ¶å¾¡**\n- ãƒ†ãƒ¼ãƒã«æ²¿ã£ãŸå±•é–‹ã‚’ä¿ƒã™\n- è¡¨é¢çš„ãªç‰©èªã‚’é˜²ã\n- æ·±ã¿ã®ã‚ã‚‹æå†™ã‚’èª˜å°\n\n## æ³¨æ„ç‚¹\n\n**æ³¨æ„ç‚¹1ï¼šéåº¦ãªãƒ†ãƒ¼ãƒæŠ¼ã—ä»˜ã‘**\nèª¬æ•™è‡­ããªã‚‹ dangerï¼š\n```typescript\n// âŒ æ‚ªã„ä¾‹ï¼šéœ²éª¨ã™ãã‚‹\n\"ã€Œé‹å‘½ã¯å¤‰ãˆã‚‰ã‚Œã‚‹ï¼ã€ã¨ã‚¢ãƒ¬ãƒ³ã¯å«ã‚“ã ã€‚ã“ã‚Œã“ããŒè‡ªç”±æ„å¿—ã®è¨¼æ˜ã ã€‚\"\n\n// âœ… è‰¯ã„ä¾‹ï¼šæš—ç¤ºçš„\n\"åˆ†å²ã™ã‚‹é“ã®å‰ã§ã€ã‚¢ãƒ¬ãƒ³ã¯ç«‹ã¡æ­¢ã¾ã£ãŸã€‚ã©ã¡ã‚‰ã‚’é¸ã¶ã‹ã¯ã€å½¼æ¬¡ç¬¬ã ã£ãŸã€‚\"\n```\n\n**æ³¨æ„ç‚¹2ï¼šè±¡å¾´ã®éå‰°ä½¿ç”¨**\næ¯ç« åŒã˜è±¡å¾´ã¯é™³è…ï¼š\n```typescript\n// é »åº¦ã‚’ç®¡ç†\nif (symbol.frequency === 'RARE') {\n    // æ§ãˆã‚ã«ä½¿ç”¨\n    return chapterNumber % 10 === 0;\n}\n```\n\n**æ³¨æ„ç‚¹3ï¼šãƒ†ãƒ¼ãƒã¨ç‰©èªã®ä¹–é›¢**\nãƒ†ãƒ¼ãƒã‚’å„ªå…ˆã—ã™ãã¦ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ãŒçŠ ç‰²ã«ï¼š\n```typescript\n// ãƒãƒ©ãƒ³ã‚¹ãŒé‡è¦\nconst priority = {\n    plot: 0.6,\n    theme: 0.3,\n    character: 0.1\n};\n```\n\n**æ³¨æ„ç‚¹4ï¼šåˆ†æã®ä¸»è¦³æ€§**\nãƒ†ãƒ¼ãƒå…±é³´åˆ†æã¯è§£é‡ˆã«ä¾å­˜ï¼š\n```typescript\n// è¤‡æ•°ã®æŒ‡æ¨™ã‚’ä½¿ç”¨\nconst resonance = {\n    keywordMatch: 0.8,\n    aiSentimentAnalysis: 0.7,\n    symbolPresence: 0.9,\n    overall: average([0.8, 0.7, 0.9])\n};\n```\n\n**æ³¨æ„ç‚¹5ï¼šãƒ†ãƒ¼ãƒã®é€²åŒ–ã®ç¡¬ç›´æ€§**\nè¨ˆç”»é€šã‚Šã«ã„ã‹ãªã„ã“ã¨ã‚‚ï¼š\n```typescript\n// æŸ”è»Ÿæ€§ã‚’æŒãŸã›ã‚‹\nif (unexpectedDevelopment) {\n    await themeManager.adjustEvolution({\n        phase: currentPhase,\n        newFocus: emergentTheme,\n        reason: \"ç‰©èªã®è‡ªç„¶ãªå±•é–‹ã«å¾“ã†\"\n    });\n}\n```\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `skill_three_mode_plot_management_2025_11_25.md`ï¼šãƒ†ãƒ¼ãƒã‚’ãƒ—ãƒ­ãƒƒãƒˆãƒ¢ãƒ¼ãƒ‰ã«çµ±åˆ\n- `decision_theme_driven_narrative_approach_2025_11_25.md`ï¼šãªãœãƒ†ãƒ¼ãƒé§†å‹•ãªã®ã‹\n- `workflow_theme_integration_process_2025_11_25.md`ï¼šãƒ†ãƒ¼ãƒçµ±åˆã®å®Œå…¨ãªãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼\n",
    "prompt": "### ã‚¹ãƒ†ãƒƒãƒ—1ï¼šãƒ†ãƒ¼ãƒè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®ä½œæˆ\n\n```yaml\n# data/config/theme-tracker.yaml\ndescription: \"é‹å‘½ã¨è‡ªç”±æ„å¿—ã®ç‰©èª\"\n\nmainThemes:\n  - é‹å‘½ã¨è‡ªç”±æ„å¿—\n  - æ¨©åŠ›ã¨è²¬ä»»\n\nevolution:\n  - phase: OPENING\n    focus: é‹å‘½ã«ç¸›ã‚‰ã‚ŒãŸä¸»äººå…¬\n    emphasis: 0.9\n  - phase: CLIMAX\n    focus: è‡ªç”±æ„å¿—ã®ç²å¾—\n    emphasis: 1.0\n\nimplementation:\n  symbolism:\n    - symbol: é³¥ç± \n      meaning: é‹å‘½ã«ã‚ˆã‚‹æŸç¸›\n      appearances:\n        - chapter: 1\n        - chapter: 35\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2ï¼šãƒ†ãƒ¼ãƒã®å–å¾—ã¨çµ±åˆ\n\n```typescript\n// ç« ç•ªå·ã‹ã‚‰ãƒ†ãƒ¼ãƒã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚’å–å¾—\nconst themeContext = await plotManager.getThemeForPhase(15);\n\nconsole.log(themeContext);\n// {\n//     focus: \"é‹å‘½ã¸ã®ç–‘å•\",\n//     themes: [\"é‹å‘½ã¨è‡ªç”±æ„å¿—\", \"æ¨©åŠ›ã¨è²¬ä»»\"],\n//     emphasis: 0.8,\n//     symbols: [{ symbol: \"é³¥ç± \", meaning: \"é‹å‘½ã«ã‚ˆã‚‹æŸç¸›\" }]\n// }\n\n// ç« æŒ‡ç¤ºã«ãƒ†ãƒ¼ãƒã‚’çµ±åˆ\nconst enrichedDirectives = await plotManager.enrichDirectivesWithTheme(\n    baseDirectives,\n    15\n);\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3ï¼šç« ç”Ÿæˆå¾Œã®ãƒ†ãƒ¼ãƒå…±é³´åˆ†æ\n\n```typescript\nconst chapter = await generateChapter(15);\n\nconst resonance = await plotManager.analyzeThemeResonance(\n    chapter,\n    ['é‹å‘½ã¨è‡ªç”±æ„å¿—', 'æ¨©åŠ›ã¨è²¬ä»»']\n);\n\nconsole.log(resonance);\n// {\n//     themes: {\n//         'é‹å‘½ã¨è‡ªç”±æ„å¿—': {\n//             explicitMentions: [\n//                 \"ã€Œäºˆè¨€ã¯ä¸å¤‰ã®ã‚‚ã®ã§ã¯ãªã„ã€ã¨ã‚¢ãƒ¬ãƒ³ã¯è¨€ã£ãŸ\"\n//             ],\n//             implicitExpressions: [\n//                 \"åˆ†å²ã™ã‚‹é“ã®å‰ã§ã€å½¼ã¯é•·ã„é–“ç«‹ã¡å°½ãã—ãŸ\"\n//             ],\n//             strength: 8,\n//             expressionMethods: [\"å¯¾è©±\", \"å†…é¢æå†™\", \"è±¡å¾´\"]\n//         }\n//     },\n//     overallResonance: 0.75,  // 75%\n//     recommendations: [\n//         \"ãƒ†ãƒ¼ãƒã€Œæ¨©åŠ›ã¨è²¬ä»»ã€ã®è¡¨ç¾ãŒå¼±ã„ã€‚æ¬¡ç« ã§å¼·èª¿ã‚’ã€‚\"\n//     ]\n// }\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—4ï¼šè±¡å¾´ã®è‡ªå‹•é…ç½®\n\n```typescript\n// ç« ã§ä½¿ç”¨ã™ã¹ãè±¡å¾´ã‚’å–å¾—\nconst symbols = await plotManager.getSymbolsForChapter(\n    35,\n    themeSettings\n);\n\nconsole.log(symbols);\n// [\n//     {\n//         symbol: \"é³¥ç± \",\n//         meaning: \"é‹å‘½ã«ã‚ˆã‚‹æŸç¸›\",\n//         context: \"å£Šã‚ŒãŸé³¥ç± ï¼ˆè§£æ”¾ã®è±¡å¾´ï¼‰\",\n//         significance: 10\n//     }\n// ]\n\n// ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã«çµ±åˆ\nconst symbolGuidance = symbols.map(s =>\n    `è±¡å¾´çš„è¦ç´ ã€Œ${s.symbol}ã€ã‚’ä½¿ç”¨ã—ã¦ãã ã•ã„ã€‚` +\n    `æ„å‘³ï¼š${s.meaning}ã€‚ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆï¼š${s.context}`\n).join('\\n');\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—5ï¼šå¯¾ç«‹æ§‹é€ ã®è¿½è·¡\n\n```typescript\nconst conflict: Conflict = {\n    type: 'PHILOSOPHICAL',\n    sides: ['äºˆè¨€è€…ï¼ˆé‹å‘½è«–ï¼‰', 'ä¸»äººå…¬ï¼ˆè‡ªç”±æ„å¿—ï¼‰'],\n    description: 'é‹å‘½ã¯å¤‰ãˆã‚‰ã‚Œã‚‹ã‹',\n    chapters: [1, 5, 10, 20, 35, 40]\n};\n\nconst conflictState = await plotManager.trackConflictProgression(\n    conflict,\n    20\n);\n\nconsole.log(conflictState);\n// {\n//     active: true,\n//     conflict: { ... },\n//     currentIntensity: 0.7,\n//     dominantSide: \"ä¸»äººå…¬ï¼ˆè‡ªç”±æ„å¿—ï¼‰\",\n//     resolutionProgress: 0.5\n// }\n```",
    "relatedTech": [
      "skill-three-mode-plot-management",
      "decision-theme-driven-narrative-approach"
    ]
  },
  {
    "slug": "three-layer-consistency-checking",
    "title": "3æ®µéšä¸€è²«æ€§ãƒã‚§ãƒƒã‚¯ã‚·ã‚¹ãƒ†ãƒ ",
    "category": "Skillsï¼ˆã‚¹ã‚­ãƒ«ãƒ»æ‰‹æ³•ï¼‰",
    "description": "å°èª¬ã®ç« é–“ã§ä¸€è²«æ€§ã‚’ä¿ã¤ãŸã‚ã€åŸºæœ¬ä¸€è²«æ€§ãƒ»ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ä¸€è²«æ€§ãƒ»åŒ…æ‹¬ä¸€è²«æ€§ã®3æ®µéšã§ãƒã‚§ãƒƒã‚¯ã‚’å®Ÿè¡Œã™ã‚‹ã€‚ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒãƒ³ã‚°ã¨è‡ªç„¶è¨€èªå‡¦ç†ã‚’çµ„ã¿åˆã‚ã›ã€ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼æ€§æ ¼ãƒ»å ´æ‰€é·ç§»ãƒ»æ–‡ä½“ãƒ»æ™‚ç³»åˆ—ã®æ•´åˆæ€§ã‚’è‡ªå‹•æ¤œè¨¼ã™ã‚‹ã€‚",
    "project": "novel-automation-system-v2",
    "usedIn": [
      "src/lib/validation/consistency-checker.ts:1-1683"
    ],
    "code": "```json\n{\n  \"id\": \"skill_three_layer_consistency_checking_2025_11_25\",\n  \"type\": \"skill\",\n  \"name\": \"3æ®µéšä¸€è²«æ€§ãƒã‚§ãƒƒã‚¯ã‚·ã‚¹ãƒ†ãƒ \",\n  \"tags\": [\"ä¸€è²«æ€§ãƒã‚§ãƒƒã‚¯\", \"ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼åˆ†æ\", \"æ–‡ä½“åˆ†æ\", \"æ™‚ç³»åˆ—æ¤œè¨¼\", \"å°èª¬ç”Ÿæˆ\", \"å“è³ªä¿è¨¼\"],\n  \"source_project\": \"novel-automation-system-v2\",\n  \"source_file\": \"src/lib/validation/consistency-checker.ts:1-1683\",\n  \"related_knowledge\": [\"decision_consistency_check_strategy_2025_11_25\", \"skill_multi_dimensional_quality_evaluation_2025_11_25\"],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# 3æ®µéšä¸€è²«æ€§ãƒã‚§ãƒƒã‚¯ã‚·ã‚¹ãƒ†ãƒ \n\n## ä½•ã‚’ã™ã‚‹ã‚¹ã‚­ãƒ«ã‹\n\nå°èª¬ã®ç« é–“ã§ä¸€è²«æ€§ã‚’ä¿ã¤ãŸã‚ã€åŸºæœ¬ä¸€è²«æ€§ãƒ»ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ä¸€è²«æ€§ãƒ»åŒ…æ‹¬ä¸€è²«æ€§ã®3æ®µéšã§ãƒã‚§ãƒƒã‚¯ã‚’å®Ÿè¡Œã™ã‚‹ã€‚ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒãƒ³ã‚°ã¨è‡ªç„¶è¨€èªå‡¦ç†ã‚’çµ„ã¿åˆã‚ã›ã€ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼æ€§æ ¼ãƒ»å ´æ‰€é·ç§»ãƒ»æ–‡ä½“ãƒ»æ™‚ç³»åˆ—ã®æ•´åˆæ€§ã‚’è‡ªå‹•æ¤œè¨¼ã™ã‚‹ã€‚\n\n## å…·ä½“çš„ãªæ‰‹æ³•\n\n### 1. 3æ®µéšãƒã‚§ãƒƒã‚¯ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£\n\n```typescript\ninterface ConsistencyCheckResult {\n  isConsistent: boolean;\n  issues: ConsistencyIssue[];\n  characterAnalysis?: CharacterConsistencyAnalysis;\n  styleAnalysis?: StyleConsistencyAnalysis;\n  locationAnalysis?: LocationConsistencyAnalysis;\n}\n\ninterface ConsistencyIssue {\n  type: 'CHARACTER' | 'STYLE_CONTINUITY' | 'SETTING_CONTINUITY' | 'TIMELINE';\n  description: string;\n  severity: 'LOW' | 'MEDIUM' | 'HIGH' | 'CRITICAL';\n  location?: string;\n}\n```\n\n**æ®µéš1ï¼šåŸºæœ¬ä¸€è²«æ€§ãƒã‚§ãƒƒã‚¯** (`checkBasicConsistency`)\n- ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ç¶™ç¶šæ€§\n- å ´æ‰€ç¶™ç¶šæ€§\n- æ–‡ä½“ç¶™ç¶šæ€§\n- æ™‚ç³»åˆ—æ•´åˆæ€§\n\n**æ®µéš2ï¼šã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ä¸€è²«æ€§ãƒã‚§ãƒƒã‚¯** (`checkCharacterConsistency`)\n- ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼çŠ¶æ…‹åˆ†æ\n- æ€§æ ¼æå†™ã®ä¸€è²«æ€§\n- æ„Ÿæƒ…çŠ¶æ…‹ã®è«–ç†æ€§\n\n**æ®µéš3ï¼šåŒ…æ‹¬ä¸€è²«æ€§ãƒã‚§ãƒƒã‚¯** (`checkConsistency`)\n- æ–‡å­—åˆ—ãƒ™ãƒ¼ã‚¹åˆ†æ\n- ãƒ¡ãƒ¢ãƒªãƒ™ãƒ¼ã‚¹åˆ†æï¼ˆè¨˜æ†¶ã‚·ã‚¹ãƒ†ãƒ çµ±åˆï¼‰\n- ã‚¹ã‚¿ãƒ³ãƒ‰ã‚¢ãƒ­ãƒ³åˆ†æ\n\n### 2. ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼æŠ½å‡ºã¨æ€§æ ¼ä¸€è²«æ€§åˆ†æ\n\n**ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼æŠ½å‡ºãƒ­ã‚¸ãƒƒã‚¯**ï¼š\n```typescript\nprivate extractCharactersSafely(content: string): string[] {\n  const patterns = [\n    /ã€Œ([^ã€]{1,10})ã€/g,          // å¯¾è©±ä¸­ã®åå‰\n    /([^\\sã€ã€‚]{1,10})ã¯/g,        // ä¸»èªã¨ã—ã¦ã®åå‰\n    /([^\\sã€ã€‚]{1,10})ãŒ/g,        // ä¸»æ ¼ã¨ã—ã¦ã®åå‰\n  ];\n\n  const matches: string[] = [];\n  patterns.forEach(pattern => {\n    let match;\n    const regex = new RegExp(pattern.source, pattern.flags);\n    while ((match = regex.exec(content)) !== null) {\n      if (match[1] && match[1].length >= 2) {\n        matches.push(match[1]);\n      }\n    }\n  });\n\n  // é »åº¦ã‚«ã‚¦ãƒ³ãƒˆã§ã‚½ãƒ¼ãƒˆ\n  const characterCounts = matches.reduce((counts, name) => {\n    counts[name] = (counts[name] || 0) + 1;\n    return counts;\n  }, {} as Record<string, number>);\n\n  const characters = Object.keys(characterCounts)\n    .sort((a, b) => characterCounts[b] - characterCounts[a]);\n\n  // é™¤å¤–ãƒªã‚¹ãƒˆé©ç”¨\n  const exclusions = ['ã“ã‚Œ', 'ãã‚Œ', 'ã‚ã‚Œ', 'ã“ã®', 'ãã®', 'ã‚ã®'];\n  return characters.filter(name => !exclusions.includes(name));\n}\n```\n\n**æ€§æ ¼ç‰¹æ€§ã®æŠ½å‡º**ï¼š\n```typescript\nprivate extractCharacterTraits(content: string, character: string): string[] {\n  const sentences = content.split(/[ã€‚ï¼ï¼Ÿ]/).filter(s => s.includes(character));\n  const traits: string[] = [];\n\n  // æ€§æ ¼ã‚’è¡¨ã™å½¢å®¹è©ãƒ‘ã‚¿ãƒ¼ãƒ³\n  const traitPatterns = [\n    /å„ªã—[ã„ã]/g, /å³ã—[ã„ã]/g, /æ˜ã‚‹[ã„ã]/g, /æš—[ã„ã]/g,\n    /å…ƒæ°—/g, /é™ã‹/g, /æ´»ç™º/g, /å†…æ°—/g, /å¤§èƒ†/g, /æ…é‡/g\n  ];\n\n  sentences.forEach(sentence => {\n    traitPatterns.forEach(pattern => {\n      const matches = sentence.match(pattern);\n      if (matches) {\n        traits.push(...matches);\n      }\n    });\n  });\n\n  return Array.from(new Set(traits));\n}\n```\n\n**æ€§æ ¼ä¸€è²«æ€§ã‚¹ã‚³ã‚¢è¨ˆç®—**ï¼š\n```typescript\nprivate async analyzeCharacterPersonalityConsistency(\n  character: string,\n  currentContent: string,\n  history: Memory[]\n): Promise<boolean> {\n  // ç¾åœ¨ã®æ€§æ ¼ç‰¹æ€§æŠ½å‡º\n  const currentTraits = this.extractCharacterTraits(currentContent, character);\n\n  // éå»ã®æ€§æ ¼ç‰¹æ€§æŠ½å‡º\n  const historicalTraits = history.map(memory =>\n    this.extractCharacterTraits(memory.content, character)\n  ).filter(traits => traits.length > 0);\n\n  if (historicalTraits.length === 0 || currentTraits.length === 0) {\n    return false;\n  }\n\n  // ä¸€è²«æ€§ã‚¹ã‚³ã‚¢è¨ˆç®—\n  const consistencyScore = this.calculatePersonalityConsistencyScore(\n    currentTraits,\n    historicalTraits\n  );\n\n  return consistencyScore < 0.6; // 60%æœªæº€ã§ä¸ä¸€è‡´\n}\n```\n\n### 3. æ–‡ä½“ä¸€è²«æ€§ãƒã‚§ãƒƒã‚¯\n\n**æ–‡ä½“åˆ†æ**ï¼š\n```typescript\nprivate analyzeWritingStyle(content: string): {\n  perspective: 'first' | 'third' | 'mixed';\n  formalityLevel: number;\n  toneMarkers: string[];\n} {\n  const firstPersonMarkers = ['ç§ã¯', 'ç§ãŒ', 'åƒ•ã¯', 'åƒ•ãŒ', 'ä¿ºã¯', 'ä¿ºãŒ'];\n  const thirdPersonMarkers = ['å½¼ã¯', 'å½¼ãŒ', 'å½¼å¥³ã¯', 'å½¼å¥³ãŒ'];\n  const formalMarkers = ['ã§ã™', 'ã¾ã™', 'ã§ã‚ã‚‹', 'ã§ã‚ã£ãŸ'];\n  const casualMarkers = ['ã ', 'ã ã£ãŸ', 'ã˜ã‚ƒã‚“', 'ã‚ˆã­'];\n\n  // ã‚«ã‚¦ãƒ³ãƒˆå‡¦ç†\n  const firstPersonCount = firstPersonMarkers.reduce(\n    (sum, marker) => sum + (content.match(new RegExp(marker, 'g')) || []).length, 0\n  );\n  const thirdPersonCount = thirdPersonMarkers.reduce(\n    (sum, marker) => sum + (content.match(new RegExp(marker, 'g')) || []).length, 0\n  );\n  const formalCount = formalMarkers.reduce(\n    (sum, marker) => sum + (content.match(new RegExp(marker, 'g')) || []).length, 0\n  );\n  const casualCount = casualMarkers.reduce(\n    (sum, marker) => sum + (content.match(new RegExp(marker, 'g')) || []).length, 0\n  );\n\n  // è¦–ç‚¹åˆ¤å®š\n  let perspective: 'first' | 'third' | 'mixed' = 'mixed';\n  if (firstPersonCount > thirdPersonCount * 2) {\n    perspective = 'first';\n  } else if (thirdPersonCount > firstPersonCount * 2) {\n    perspective = 'third';\n  }\n\n  // æ•¬èªãƒ¬ãƒ™ãƒ«è¨ˆç®—\n  const totalStyleMarkers = formalCount + casualCount;\n  const formalityLevel = totalStyleMarkers > 0\n    ? formalCount / totalStyleMarkers\n    : 0.5;\n\n  return { perspective, formalityLevel, toneMarkers: [] };\n}\n```\n\n**æ–‡ä½“ç¶™ç¶šæ€§è©•ä¾¡**ï¼š\n```typescript\nprivate async analyzeStyleContinuity(\n  currentContent: string,\n  previousContent: string\n): Promise<ConsistencyIssue[]> {\n  const issues: ConsistencyIssue[] = [];\n\n  const currentStyle = this.analyzeWritingStyle(currentContent);\n  const previousStyle = this.analyzeWritingStyle(previousContent);\n\n  // è¦–ç‚¹ã®ä¸€è²«æ€§ãƒã‚§ãƒƒã‚¯\n  if (currentStyle.perspective !== previousStyle.perspective &&\n      currentStyle.perspective !== 'mixed' &&\n      previousStyle.perspective !== 'mixed') {\n    issues.push({\n      type: 'STYLE_CONTINUITY',\n      description: `è¦–ç‚¹ãŒå¤‰æ›´ã•ã‚Œã¾ã—ãŸï¼ˆ${previousStyle.perspective} â†’ ${currentStyle.perspective}ï¼‰`,\n      severity: 'MEDIUM'\n    });\n  }\n\n  // æ–‡ä½“ãƒ¬ãƒ™ãƒ«ã®ä¸€è²«æ€§ãƒã‚§ãƒƒã‚¯\n  const formalityDifference = Math.abs(\n    currentStyle.formalityLevel - previousStyle.formalityLevel\n  );\n  if (formalityDifference > 0.3) {\n    issues.push({\n      type: 'STYLE_CONTINUITY',\n      description: `æ–‡ä½“ã®å …ã•ãƒ¬ãƒ™ãƒ«ãŒå¤§ããå¤‰åŒ–ã—ã¾ã—ãŸ`,\n      severity: 'LOW'\n    });\n  }\n\n  return issues;\n}\n```\n\n### 4. å ´æ‰€ãƒ»æ™‚ç³»åˆ—ä¸€è²«æ€§\n\n**å ´æ‰€é·ç§»ã®è‡ªç„¶ã•ãƒã‚§ãƒƒã‚¯**ï¼š\n```typescript\nprivate async analyzeLocationContinuity(\n  currentContent: string,\n  previousContent: string\n): Promise<ConsistencyIssue[]> {\n  const issues: ConsistencyIssue[] = [];\n\n  const prevLocations = this.extractLocationsSafely(previousContent);\n  const currentLocations = this.extractLocationsSafely(currentContent);\n\n  // å ´æ‰€ã®å”çªãªå¤‰æ›´ã‚’ãƒã‚§ãƒƒã‚¯\n  const isLocationContinuous = prevLocations.some(loc =>\n    currentLocations.includes(loc)\n  );\n\n  if (prevLocations.length > 0 &&\n      currentLocations.length > 0 &&\n      !isLocationContinuous) {\n    // é·ç§»ã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ãƒ¼ã®ç¢ºèª\n    const hasTransitionIndicator = this.hasLocationTransitionIndicator(currentContent);\n\n    if (!hasTransitionIndicator) {\n      issues.push({\n        type: 'SETTING_CONTINUITY',\n        description: `å ´æ‰€ã®é€£ç¶šæ€§ãŒä¿ãŸã‚Œã¦ã„ã¾ã›ã‚“`,\n        severity: 'LOW'\n      });\n    }\n  }\n\n  return issues;\n}\n```\n\n**å ´æ‰€é·ç§»ã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ãƒ¼æ¤œå‡º**ï¼š\n```typescript\nprivate hasLocationTransitionIndicator(content: string): boolean {\n  const transitionMarkers = [\n    'ç§»å‹•', 'å‘ã‹ã†', 'åˆ°ç€', 'ç€ã„ãŸ', 'è¡Œã', 'æ¥ã‚‹', 'å¸°ã‚‹',\n    'å‡ºç™º', 'æ—…ç«‹', 'æ­©ã', 'èµ°ã‚‹', 'é£›ã¶', 'æ­©ã„ã¦', 'è»Šã§', 'é›»è»Šã§'\n  ];\n\n  return transitionMarkers.some(marker => content.includes(marker));\n}\n```\n\n**æ™‚ç³»åˆ—ãƒãƒ¼ã‚«ãƒ¼æŠ½å‡º**ï¼š\n```typescript\nprivate extractTimelineMarkers(content: string): string[] {\n  const timeMarkers = [\n    /æœ/g, /æ˜¼/g, /å¤œ/g, /å¤•æ–¹/g, /æ·±å¤œ/g,\n    /æ˜¨æ—¥/g, /ä»Šæ—¥/g, /æ˜æ—¥/g, /å…ˆé€±/g, /æ¥é€±/g,\n    /(\\d+)æ™‚é–“å¾Œ/g, /(\\d+)æ—¥å¾Œ/g, /ãã®å¾Œ/g, /ãã‚Œã‹ã‚‰/g\n  ];\n\n  const markers: string[] = [];\n  timeMarkers.forEach(pattern => {\n    const matches = content.match(pattern);\n    if (matches) {\n      markers.push(...matches);\n    }\n  });\n\n  return markers;\n}\n```\n\n### 5. ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã¨ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯\n\n```typescript\nprivate processInputSafely(input: Memory[] | string): {\n  analysisType: 'string' | 'memories' | 'empty';\n  processedInput: Memory[] | string;\n} {\n  if (typeof input === 'string') {\n    return {\n      analysisType: 'string',\n      processedInput: input\n    };\n  }\n\n  if (Array.isArray(input)) {\n    if (input.length === 0) {\n      return {\n        analysisType: 'empty',\n        processedInput: []\n      };\n    }\n\n    if (this.isMemoryArray(input)) {\n      return {\n        analysisType: 'memories',\n        processedInput: input\n      };\n    }\n  }\n\n  logger.warn('Invalid input type, treating as empty');\n  return {\n    analysisType: 'empty',\n    processedInput: []\n  };\n}\n```\n\n## ãªãœã“ã®æ‰‹æ³•ã‚’ä½¿ã†ã‹\n\n**ç†ç”±1ï¼šæ®µéšçš„ãƒã‚§ãƒƒã‚¯ã§åŠ¹ç‡åŒ–**\n- åŸºæœ¬ãƒã‚§ãƒƒã‚¯â†’ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ãƒã‚§ãƒƒã‚¯â†’åŒ…æ‹¬ãƒã‚§ãƒƒã‚¯ã®é †ã§å®Ÿè¡Œ\n- å•é¡ŒãŒæ—©æœŸã«è¦‹ã¤ã‹ã‚Œã°å¾Œç¶šã®é‡ã„å‡¦ç†ã‚’ã‚¹ã‚­ãƒƒãƒ—å¯èƒ½\n- è¨ˆç®—ã‚³ã‚¹ãƒˆã¨ãƒã‚§ãƒƒã‚¯ç²¾åº¦ã®ãƒãƒ©ãƒ³ã‚¹ãŒå–ã‚Œã‚‹\n\n**ç†ç”±2ï¼šãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒãƒ³ã‚°ã¨AIã®çµ„ã¿åˆã‚ã›**\n- æ–‡ä½“ãƒ»å ´æ‰€é·ç§»ï¼šãƒ«ãƒ¼ãƒ«ãƒ™ãƒ¼ã‚¹ã§é«˜é€Ÿãƒ»ç¢ºå®Ÿã«æ¤œå‡º\n- ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼æ€§æ ¼ï¼šAIã§æ–‡è„ˆã‚’ç†è§£ã—ãŸåˆ†æ\n- ä¸¡è€…ã®é•·æ‰€ã‚’æ´»ã‹ã—çŸ­æ‰€ã‚’è£œå®Œ\n\n**ç†ç”±3ï¼šæ—¥æœ¬èªç‰¹æœ‰ã®è¡¨ç¾ã¸ã®å¯¾å¿œ**\n- ã€Œã¯ã€ã€ŒãŒã€ãªã©ã®åŠ©è©ã§ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼æŠ½å‡º\n- å¯¾è©±æ–‡ã®ã€Œã€ã‹ã‚‰ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ç‰¹å®š\n- æ—¥æœ¬èªã®æ–‡ä½“ãƒãƒ¼ã‚«ãƒ¼ï¼ˆã§ã™ãƒ»ã¾ã™ãƒ»ã ï¼‰ã‚’æ¤œå‡º\n\n## å†ç¾æ–¹æ³•\n\n```typescript\nimport { ConsistencyChecker } from '@/lib/validation/consistency-checker';\n\nconst checker = new ConsistencyChecker(memoryManager);\n\n// ç« ã®ä¸€è²«æ€§ãƒã‚§ãƒƒã‚¯\nconst currentChapter = \"æ–°ã—ã„ç« ã®å†…å®¹...\";\nconst previousChapter = \"å‰ã®ç« ã®å†…å®¹...\";\n\nconst result = await checker.checkConsistency(\n  currentChapter,\n  previousChapter\n);\n\nif (!result.isConsistent) {\n  console.log('ä¸€è²«æ€§ã®å•é¡ŒãŒæ¤œå‡ºã•ã‚Œã¾ã—ãŸ:');\n  result.issues.forEach(issue => {\n    console.log(`[${issue.severity}] ${issue.type}: ${issue.description}`);\n  });\n}\n\n// ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼åˆ†æã®ç¢ºèª\nif (result.characterAnalysis) {\n  console.log('ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼:', result.characterAnalysis.characters);\n}\n```\n\n## ã„ã¤ä½¿ã†ã‹\n\n- **ç« ç”Ÿæˆç›´å¾Œ**ï¼šæ–°ã—ã„ç« ãŒå‰ç« ã¨ä¸€è²«ã—ã¦ã„ã‚‹ã‹å³åº§ã«ãƒã‚§ãƒƒã‚¯\n- **å¤§è¦æ¨¡ä¿®æ­£æ™‚**ï¼šè¤‡æ•°ç« ã‚’ä¿®æ­£ã—ãŸå¾Œã®æ•´åˆæ€§ç¢ºèª\n- **å“è³ªãƒ¬ãƒ“ãƒ¥ãƒ¼æ™‚**ï¼šå…¨ç« ã®ä¸€è²«æ€§ã‚’ä¸€æ‹¬ãƒã‚§ãƒƒã‚¯\n- **ãƒ‡ãƒãƒƒã‚°æ™‚**ï¼šä¸€è²«æ€§å•é¡Œã®åŸå› èª¿æŸ»\n\n## æ³¨æ„ç‚¹\n\n- **èª¤æ¤œå‡ºã®å¯èƒ½æ€§**ï¼šãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒãƒ³ã‚°ã¯å®Œç’§ã§ã¯ãªã„\n- **æ—¥æœ¬èªã®å¤šæ§˜æ€§**ï¼šã™ã¹ã¦ã®è¡¨ç¾ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ç¶²ç¾…ã§ããªã„\n- **æ–‡è„ˆç†è§£ã®é™ç•Œ**ï¼šæ„å›³çš„ãªè¦–ç‚¹å¤‰æ›´ã‚’èª¤æ¤œå‡ºã™ã‚‹å¯èƒ½æ€§\n- **å‡¦ç†ã‚³ã‚¹ãƒˆ**ï¼šå¤§é‡ã®ç« ã‚’ä¸€åº¦ã«ãƒã‚§ãƒƒã‚¯ã™ã‚‹ã¨æ™‚é–“ãŒã‹ã‹ã‚‹\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `decision_consistency_check_strategy_2025_11_25.md`ï¼š3æ®µéšã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã®é¸æŠç†ç”±\n- `skill_multi_dimensional_quality_evaluation_2025_11_25.md`ï¼šå“è³ªè©•ä¾¡ã¨ã®é€£æº\n",
    "prompt": "```typescript\nimport { ConsistencyChecker } from '@/lib/validation/consistency-checker';\n\nconst checker = new ConsistencyChecker(memoryManager);\n\n// ç« ã®ä¸€è²«æ€§ãƒã‚§ãƒƒã‚¯\nconst currentChapter = \"æ–°ã—ã„ç« ã®å†…å®¹...\";\nconst previousChapter = \"å‰ã®ç« ã®å†…å®¹...\";\n\nconst result = await checker.checkConsistency(\n  currentChapter,\n  previousChapter\n);\n\nif (!result.isConsistent) {\n  console.log('ä¸€è²«æ€§ã®å•é¡ŒãŒæ¤œå‡ºã•ã‚Œã¾ã—ãŸ:');\n  result.issues.forEach(issue => {\n    console.log(`[${issue.severity}] ${issue.type}: ${issue.description}`);\n  });\n}\n\n// ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼åˆ†æã®ç¢ºèª\nif (result.characterAnalysis) {\n  console.log('ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼:', result.characterAnalysis.characters);\n}\n```",
    "relatedTech": [
      "decision-consistency-check-strategy",
      "skill-multi-dimensional-quality-evaluation"
    ]
  },
  {
    "slug": "three-layer-memory-hierarchy-integration",
    "title": "3å±¤è¨˜æ†¶éšå±¤çµ±åˆã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£",
    "category": "Skillsï¼ˆã‚¹ã‚­ãƒ«ãƒ»æ‰‹æ³•ï¼‰",
    "description": "AIå°èª¬è‡ªå‹•ç”Ÿæˆã‚·ã‚¹ãƒ†ãƒ ã«ãŠã„ã¦ã€**çŸ­æœŸãƒ»ä¸­æœŸãƒ»é•·æœŸã®3å±¤è¨˜æ†¶éšå±¤**ã‚’çµ±åˆã—ã€ãƒ‡ãƒ¼ã‚¿ã®é‡è¤‡ã‚’æ’é™¤ã—ãªãŒã‚‰ã€å„å±¤ã«é©ã—ãŸä¿å­˜æœŸé–“ãƒ»ã‚¢ã‚¯ã‚»ã‚¹é€Ÿåº¦ã§æƒ…å ±ã‚’ç®¡ç†ã™ã‚‹æ‰‹æ³•ã€‚å¾“æ¥12ç®‡æ‰€ã«åˆ†æ•£ã—ã¦ã„ãŸãƒ‡ãƒ¼ã‚¿ã‚’çµ±åˆã—ã€çµ±ä¸€APIã§ä¸€å…ƒç®¡ç†ã™ã‚‹ã€‚",
    "project": "novel-automation-system-v2",
    "usedIn": [
      "src/lib/memory/core/memory-manager.ts:1-800"
    ],
    "code": "```json\n{\n  \"id\": \"skill_three_layer_memory_hierarchy_integration_2025_11_25\",\n  \"type\": \"skill\",\n  \"name\": \"3å±¤è¨˜æ†¶éšå±¤çµ±åˆã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£\",\n  \"tags\": [\"ãƒ¡ãƒ¢ãƒªç®¡ç†\", \"ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£\", \"ãƒ‡ãƒ¼ã‚¿éšå±¤åŒ–\", \"AIå°èª¬ç”Ÿæˆ\", \"çŠ¶æ…‹ç®¡ç†\", \"ã‚·ã‚¹ãƒ†ãƒ è¨­è¨ˆ\"],\n  \"source_project\": \"novel-automation-system-v2\",\n  \"source_file\": \"src/lib/memory/core/memory-manager.ts:1-800\",\n  \"related_knowledge\": [\n    \"skill_parallel_component_processing_promise_allsettled_2025_11_25\",\n    \"skill_duplicate_resolution_strategy_2025_11_25\",\n    \"decision_three_layer_memory_architecture_choice_2025_11_25\"\n  ],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# 3å±¤è¨˜æ†¶éšå±¤çµ±åˆã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£\n\n## ä½•ã‚’ã™ã‚‹ã‚¹ã‚­ãƒ«ã‹\n\nAIå°èª¬è‡ªå‹•ç”Ÿæˆã‚·ã‚¹ãƒ†ãƒ ã«ãŠã„ã¦ã€**çŸ­æœŸãƒ»ä¸­æœŸãƒ»é•·æœŸã®3å±¤è¨˜æ†¶éšå±¤**ã‚’çµ±åˆã—ã€ãƒ‡ãƒ¼ã‚¿ã®é‡è¤‡ã‚’æ’é™¤ã—ãªãŒã‚‰ã€å„å±¤ã«é©ã—ãŸä¿å­˜æœŸé–“ãƒ»ã‚¢ã‚¯ã‚»ã‚¹é€Ÿåº¦ã§æƒ…å ±ã‚’ç®¡ç†ã™ã‚‹æ‰‹æ³•ã€‚å¾“æ¥12ç®‡æ‰€ã«åˆ†æ•£ã—ã¦ã„ãŸãƒ‡ãƒ¼ã‚¿ã‚’çµ±åˆã—ã€çµ±ä¸€APIã§ä¸€å…ƒç®¡ç†ã™ã‚‹ã€‚\n\n## å…·ä½“çš„ãªæ‰‹æ³•\n\n### 3å±¤æ§‹é€ ã®æ¦‚è¦\n\n**Short-Term Memoryï¼ˆçŸ­æœŸè¨˜æ†¶ï¼‰**\n- **ä¿å­˜æœŸé–“**: 3-5ç« ï¼ˆæœ€å¤§72æ™‚é–“ï¼‰\n- **ãƒ‡ãƒ¼ã‚¿**: ç”Ÿæˆã‚­ãƒ£ãƒƒã‚·ãƒ¥ã€å³æ™‚ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã€å‡¦ç†ãƒãƒƒãƒ•ã‚¡ã€ä¸€æ™‚åˆ†æçµæœ\n- **4ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆä¸¦åˆ—å‡¦ç†**: GenerationCacheã€ImmediateContextã€ProcessingBuffersã€TemporaryAnalysis\n\n**Mid-Term Memoryï¼ˆä¸­æœŸè¨˜æ†¶ï¼‰**\n- **ä¿å­˜æœŸé–“**: 30-90æ—¥\n- **ãƒ‡ãƒ¼ã‚¿**: åˆ†æçµæœã€ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼é€²åŒ–ã€ç‰©èªé€²è¡Œã€å“è³ªãƒ¡ãƒˆãƒªã‚¯ã‚¹ã€çµ±è¨ˆ\n- **5ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆä¸¦åˆ—å‡¦ç†**: AnalysisResultsã€CharacterEvolutionã€NarrativeProgressionã€QualityMetricsã€SystemStatistics\n\n**Long-Term Memoryï¼ˆé•·æœŸè¨˜æ†¶ï¼‰**\n- **ä¿å­˜æœŸé–“**: æ°¸ç¶šçš„\n- **ãƒ‡ãƒ¼ã‚¿**: ãƒã‚¹ã‚¿ãƒ¼ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼è¨˜éŒ²ã€ä¸–ç•Œè¨­å®šã€å­¦ç¿’ãƒ‘ã‚¿ãƒ¼ãƒ³ã€å±¥æ­´è¨˜éŒ²\n- **4ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆçµ±åˆå‡¦ç†**: CharacterDatabaseã€WorldKnowledgeã€SystemKnowledgeã€HistoricalRecords\n\n### çµ±åˆãƒ¬ã‚¤ãƒ¤ãƒ¼ã®å½¹å‰²\n\n**DuplicateResolverï¼ˆé‡è¤‡è§£æ±ºï¼‰**\n- 12ç®‡æ‰€ã®é‡è¤‡ãƒ‡ãƒ¼ã‚¿ã‚’4+6+2ã‚°ãƒ«ãƒ¼ãƒ—ã«çµ±åˆ\n- ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãƒ¬ãƒ™ãƒ«ã®ç«¶åˆè§£æ±ºï¼ˆæœ€é•·æ–‡å­—åˆ—é¸æŠã€é…åˆ—ãƒãƒ¼ã‚¸ã€å„ªå…ˆåº¦ãƒ™ãƒ¼ã‚¹ï¼‰\n- ã‚­ãƒ£ãƒƒã‚·ãƒ¥æˆ¦ç•¥ï¼ˆä¸–ç•Œè¨­å®š30åˆ†ã€ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼æƒ…å ±15åˆ†ã€ãƒ¡ãƒ¢ãƒªã‚¢ã‚¯ã‚»ã‚¹5åˆ†TTLï¼‰\n\n**CacheCoordinatorï¼ˆã‚­ãƒ£ãƒƒã‚·ãƒ¥èª¿æ•´ï¼‰**\n- 3å±¤æ¨ªæ–­ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ç®¡ç†\n- äºˆæ¸¬çš„ã‚­ãƒ£ãƒƒã‚·ãƒ³ã‚°ï¼ˆ3ç« å…ˆèª­ã¿ï¼‰\n- å±¤åˆ¥å®¹é‡åˆ¶é™ï¼ˆçŸ­æœŸ50MBã€ä¸­æœŸ100MBã€é•·æœŸ200MBï¼‰\n\n### ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼\n\n```\nç« è¿½åŠ ãƒªã‚¯ã‚¨ã‚¹ãƒˆ\n    â†“\nã€Phase 1ã€‘Short-Term Memoryï¼ˆä¸¦åˆ—ï¼‰\n    â”œâ”€â”€ ImmediateContext: ç« +ã‚­ãƒ£ãƒ©çŠ¶æ…‹ä¿å­˜\n    â”œâ”€â”€ GenerationCache: ç”Ÿæˆãƒ‡ãƒ¼ã‚¿ã‚­ãƒ£ãƒƒã‚·ãƒ¥\n    â”œâ”€â”€ ProcessingBuffers: å‡¦ç†ã‚¸ãƒ§ãƒ–ä½œæˆ\n    â””â”€â”€ TemporaryAnalysis: AIåˆ†æçµæœä¿å­˜\n    â†“\nã€Phase 2ã€‘Mid-Term Memoryï¼ˆä¸¦åˆ—ï¼‰\n    â”œâ”€â”€ AnalysisResults: åˆ†æãƒ‡ãƒ¼ã‚¿é›†ç´„\n    â”œâ”€â”€ CharacterEvolution: ç™ºå±•è¿½è·¡\n    â”œâ”€â”€ NarrativeProgression: ç‰©èªçŠ¶æ…‹æ›´æ–°\n    â”œâ”€â”€ QualityMetrics: å“è³ªã‚¹ã‚³ã‚¢è¨ˆç®—\n    â””â”€â”€ SystemStatistics: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è¨˜éŒ²\n    â†“\nã€Phase 3ã€‘Integration Processing\n    â”œâ”€â”€ DuplicateResolver: é‡è¤‡çµ±åˆ\n    â”œâ”€â”€ CacheCoordinator: ã‚­ãƒ£ãƒƒã‚·ãƒ¥èª¿æ•´\n    â””â”€â”€ AccessOptimizer: ã‚¢ã‚¯ã‚»ã‚¹ãƒ‘ã‚¿ãƒ¼ãƒ³æœ€é©åŒ–\n    â†“\nã€Phase 4ã€‘Conditional Long-Term Processing\n    5ç« æ¯ã¾ãŸã¯é‡è¦ã‚¤ãƒ™ãƒ³ãƒˆæ™‚:\n    â”œâ”€â”€ è‡ªå‹•çµ±åˆä¸€æ™‚åœæ­¢ï¼ˆç«¶åˆé˜²æ­¢ï¼‰\n    â”œâ”€â”€ é•·æœŸãƒ‡ãƒ¼ã‚¿æŠ½å‡º\n    â”œâ”€â”€ ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼DBæ›´æ–°\n    â”œâ”€â”€ é‡è¦ã‚¤ãƒ™ãƒ³ãƒˆè¨˜éŒ²\n    â””â”€â”€ è‡ªå‹•çµ±åˆå†é–‹\n```\n\n## ãªãœã“ã®æ‰‹æ³•ã‚’ä½¿ã†ã‹\n\n**ç†ç”±1ï¼šãƒ‡ãƒ¼ã‚¿é‡è¤‡ã®æ’é™¤**\nå¾“æ¥ã€ä¸–ç•Œè¨­å®šãŒ4ç®‡æ‰€ï¼ˆWorldKnowledgeã€NarrativeMemoryã€PlotManagerã€EventMemoryï¼‰ã«åˆ†æ•£ã—ã€åŒã˜ãƒ‡ãƒ¼ã‚¿ãŒè¤‡æ•°ã®å ´æ‰€ã«å­˜åœ¨ã—ã¦ã„ãŸã€‚ã“ã‚Œã«ã‚ˆã‚Šï¼š\n- ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸å®¹é‡ã®ç„¡é§„\n- æ›´æ–°æ™‚ã®ä¸æ•´åˆãƒªã‚¹ã‚¯\n- ã©ã‚ŒãŒæœ€æ–°ã‹ä¸æ˜ç¢º\n\n3å±¤çµ±åˆã«ã‚ˆã‚Šã€ãƒ‡ãƒ¼ã‚¿ã®æ­£è¦åŒ–ã¨ä¸€å…ƒç®¡ç†ã‚’å®Ÿç¾ã€‚\n\n**ç†ç”±2ï¼šã‚¢ã‚¯ã‚»ã‚¹é€Ÿåº¦ã¨ãƒ‡ãƒ¼ã‚¿é®®åº¦ã®æœ€é©åŒ–**\n- çŸ­æœŸè¨˜æ†¶ï¼šæœ€è¿‘3-5ç« ã®é«˜é€Ÿã‚¢ã‚¯ã‚»ã‚¹ï¼ˆ5åˆ†TTLï¼‰\n- ä¸­æœŸè¨˜æ†¶ï¼šåˆ†æçµæœã®é©åº¦ãªé®®åº¦ï¼ˆ30åˆ†TTLï¼‰\n- é•·æœŸè¨˜æ†¶ï¼šå®‰å®šã—ãŸãƒã‚¹ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿ï¼ˆ2æ™‚é–“TTLï¼‰\n\nç”¨é€”ã«å¿œã˜ãŸæœ€é©ãªã‚­ãƒ£ãƒƒã‚·ãƒ¥æˆ¦ç•¥ã‚’å®Ÿç¾ã€‚\n\n**ç†ç”±3ï¼šã‚·ã‚¹ãƒ†ãƒ æ‹¡å¼µæ€§**\nçµ±ä¸€ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ï¼ˆ`IMemoryLayer`ï¼‰ã«ã‚ˆã‚Šï¼š\n- æ–°ã—ã„è¨˜æ†¶ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®è¿½åŠ ãŒå®¹æ˜“\n- ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®äº¤æ›å¯èƒ½\n- å„å±¤ã®ç‹¬ç«‹ã—ãŸã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°\n\n**ç†ç”±4ï¼šéšœå®³æ™‚ã®è€æ€§**\nä¸¦åˆ—å‡¦ç†ã§`Promise.allSettled`ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã§ï¼š\n- 1ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å¤±æ•—ãŒä»–ã«æ³¢åŠã—ãªã„\n- éƒ¨åˆ†çš„ãªæ©Ÿèƒ½ä½ä¸‹ã§ã‚‚ã‚·ã‚¹ãƒ†ãƒ ç¶™ç¶š\n- è©³ç´°ãªã‚¨ãƒ©ãƒ¼ãƒ¬ãƒãƒ¼ãƒˆ\n\n## å†ç¾æ–¹æ³•\n\n### ã‚¹ãƒ†ãƒƒãƒ—1ï¼šãƒ¡ãƒ¢ãƒªãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ã®åˆæœŸåŒ–\n\n```typescript\nimport { MemoryManager } from '@/lib/memory/core/memory-manager';\nimport type { MemoryManagerConfig } from '@/lib/memory/core/types';\n\nconst config: MemoryManagerConfig = {\n    shortTermConfig: {\n        maxChapters: 5,\n        cacheEnabled: true,\n        maxRetentionHours: 72\n    },\n    midTermConfig: {\n        maxAnalysisResults: 100,\n        enableEvolutionTracking: true,\n        enableCrossComponentAnalysis: true,\n        qualityThreshold: 0.8\n    },\n    longTermConfig: {\n        enableAutoLearning: true,\n        consolidationInterval: 30,  // 30åˆ†æ¯ã«è‡ªå‹•çµ±åˆ\n        qualityThreshold: 0.8\n    },\n    integrationEnabled: true,\n    enableQualityAssurance: true,\n    cacheSettings: {\n        sizeLimit: 350,  // åˆè¨ˆ350MB\n        entryLimit: 10000,\n        cleanupInterval: 10\n    }\n};\n\nconst memoryManager = new MemoryManager(config);\nawait memoryManager.initialize();\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2ï¼šç« ã®å‡¦ç†\n\n```typescript\nimport type { Chapter } from '@/types/chapters';\n\nconst chapter: Chapter = {\n    chapterNumber: 42,\n    content: \"...\",\n    title: \"é‹å‘½ã®é¸æŠ\",\n    // ... ãã®ä»–ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰\n};\n\n// 3å±¤å…¨ä½“ã§å‡¦ç†\nconst result = await memoryManager.processChapter(chapter);\n\nconsole.log(result.success);  // true/false\nconsole.log(result.layerResults);  // å„å±¤ã®å‡¦ç†çµæœ\nconsole.log(result.integrationResults);  // çµ±åˆå‡¦ç†çµæœ\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3ï¼šçµ±ä¸€ã•ã‚ŒãŸãƒ‡ãƒ¼ã‚¿å–å¾—\n\n```typescript\n// é‡è¤‡è§£æ±ºã•ã‚ŒãŸä¸–ç•Œè¨­å®šã®å–å¾—\nconst duplicateResolver = memoryManager.getDuplicateResolver();\nconst worldSettings = await duplicateResolver.getConsolidatedWorldSettings();\n\nconsole.log(worldSettings.description);  // çµ±åˆã•ã‚ŒãŸèª¬æ˜\nconsole.log(worldSettings.sources);  // [\"WorldKnowledge\", \"NarrativeMemory\"]\nconsole.log(worldSettings.conflictsResolved);  // è§£æ±ºã•ã‚ŒãŸç«¶åˆã®ãƒªã‚¹ãƒˆ\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—4ï¼šè¨ºæ–­ã¨ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°\n\n```typescript\n// å…¨å±¤ã®è¨ºæ–­æƒ…å ±å–å¾—\nconst diagnostics = await memoryManager.getDiagnostics();\n\nconsole.log(diagnostics.shortTerm.componentStats);  // 4ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆçµ±è¨ˆ\nconsole.log(diagnostics.midTerm.componentStats);    // 5ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆçµ±è¨ˆ\nconsole.log(diagnostics.longTerm.consolidationStats);  // çµ±åˆçµ±è¨ˆ\nconsole.log(diagnostics.integration.cacheEfficiency);  // ã‚­ãƒ£ãƒƒã‚·ãƒ¥åŠ¹ç‡\n```\n\n## ã„ã¤ä½¿ã†ã‹\n\n**é©ç”¨å ´é¢1ï¼šè¤‡æ•°ã®æƒ…å ±æºã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’çµ±åˆã™ã‚‹å¿…è¦ãŒã‚ã‚‹æ™‚**\n- ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼æƒ…å ±ãŒè¤‡æ•°ã®ã‚·ã‚¹ãƒ†ãƒ ã«åˆ†æ•£\n- ä¸–ç•Œè¨­å®šãŒè¤‡æ•°ã®å ´æ‰€ã§ç®¡ç†ã•ã‚Œã¦ã„ã‚‹\n- ã©ã‚ŒãŒæœ€æ–°ãƒ»æ­£ç¢ºã‹ä¸æ˜ç¢º\n\n**é©ç”¨å ´é¢2ï¼šãƒ‡ãƒ¼ã‚¿ã®ä¿å­˜æœŸé–“ãŒç•°ãªã‚‹è¤‡æ•°ã®ç¨®é¡ãŒã‚ã‚‹æ™‚**\n- ä¸€æ™‚çš„ãªã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ‡ãƒ¼ã‚¿ï¼ˆæ•°æ™‚é–“ï¼‰\n- åˆ†æçµæœï¼ˆæ•°é€±é–“ã€œæ•°ãƒ¶æœˆï¼‰\n- ãƒã‚¹ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿ï¼ˆæ°¸ç¶šçš„ï¼‰\n\n**é©ç”¨å ´é¢3ï¼šå¤§é‡ã®ãƒ‡ãƒ¼ã‚¿ã‚’åŠ¹ç‡çš„ã«ç®¡ç†ã—ãŸã„æ™‚**\n- ç« ãŒ100ç« ä»¥ä¸Šã®é•·ç·¨å°èª¬\n- ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã‚¢ã‚¯ã‚»ã‚¹ãŒå¿…è¦\n- ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸å®¹é‡ã‚’æœ€é©åŒ–ã—ãŸã„\n\n**é©ç”¨å ´é¢4ï¼šã‚·ã‚¹ãƒ†ãƒ ã®å¯ç”¨æ€§ã‚’é«˜ã‚ãŸã„æ™‚**\n- éƒ¨åˆ†çš„ãªéšœå®³ã§ã‚‚å‹•ä½œç¶™ç¶šãŒå¿…è¦\n- å„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ç‹¬ç«‹ã—ã¦ã‚¹ã‚±ãƒ¼ãƒ«\n- è©³ç´°ãªã‚¨ãƒ©ãƒ¼è¿½è·¡ãŒå¿…è¦\n\n## æ³¨æ„ç‚¹\n\n**æ³¨æ„ç‚¹1ï¼šçµ±åˆå‡¦ç†ã®ã‚¿ã‚¤ãƒŸãƒ³ã‚°**\né•·æœŸè¨˜æ†¶ã¸ã®çµ±åˆã¯ç« å‡¦ç†ã¨åŒæ™‚ã«å®Ÿè¡Œã™ã‚‹ã¨ç«¶åˆãŒç™ºç”Ÿã™ã‚‹ã€‚å¿…ãšè‡ªå‹•çµ±åˆã‚’ä¸€æ™‚åœæ­¢ã—ã¦ã‹ã‚‰å®Ÿè¡Œï¼š\n\n```typescript\n// æ­£ã—ã„æ–¹æ³•\nif (this.shouldProcessLongTerm(chapter)) {\n    this.longTermMemory.pauseAutoConsolidation();\n    try {\n        await this.longTermMemory.processChapterCompletion(chapter);\n    } finally {\n        this.longTermMemory.resumeAutoConsolidation();\n    }\n}\n```\n\n**æ³¨æ„ç‚¹2ï¼šã‚­ãƒ£ãƒƒã‚·ãƒ¥å®¹é‡ã®ç®¡ç†**\nå„å±¤ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥å®¹é‡åˆ¶é™ã‚’è¶…ãˆãªã„ã‚ˆã†ç›£è¦–ï¼š\n- çŸ­æœŸï¼š50MB\n- ä¸­æœŸï¼š100MB\n- é•·æœŸï¼š200MB\n\nå®šæœŸçš„ã«`cleanup()`ã‚’å®Ÿè¡Œã—ã¦ãƒ¡ãƒ¢ãƒªã‚’è§£æ”¾ã€‚\n\n**æ³¨æ„ç‚¹3ï¼šTTLã®é©åˆ‡ãªè¨­å®š**\nç”¨é€”ã«å¿œã˜ãŸTTLè¨­å®šãŒé‡è¦ï¼š\n- é »ç¹ã«å¤‰æ›´ã•ã‚Œã‚‹ãƒ‡ãƒ¼ã‚¿ï¼šçŸ­ã„TTLï¼ˆ5åˆ†ï¼‰\n- åˆ†æçµæœãªã©å®‰å®šã—ãŸãƒ‡ãƒ¼ã‚¿ï¼šä¸­ç¨‹åº¦ã®TTLï¼ˆ30åˆ†ï¼‰\n- ãƒã‚¹ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿ï¼šé•·ã„TTLï¼ˆ2æ™‚é–“ï¼‰\n\n**æ³¨æ„ç‚¹4ï¼šPromise.allSettledã®çµæœå‡¦ç†**\nä¸¦åˆ—å‡¦ç†ã®çµæœã¯å¿…ãšå€‹åˆ¥ã«ãƒã‚§ãƒƒã‚¯ï¼š\n\n```typescript\nconst results = await Promise.allSettled([op1, op2, op3]);\nresults.forEach((result, index) => {\n    if (result.status === 'rejected') {\n        logger.error(`Operation ${index} failed:`, result.reason);\n        // ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°\n    }\n});\n```\n\n**æ³¨æ„ç‚¹5ï¼šåˆæœŸåŒ–é †åº**\nå¿…ãšçŸ­æœŸâ†’ä¸­æœŸâ†’é•·æœŸã®é †ã§åˆæœŸåŒ–ï¼š\n\n```typescript\nawait this.initializeShortTermMemory();\nawait this.initializeMidTermMemory();\nawait this.initializeLongTermMemory();  // æœ€å¾Œ\nawait this.initializeIntegrationLayer();\n```\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `skill_parallel_component_processing_promise_allsettled_2025_11_25.md`ï¼šä¸¦åˆ—å‡¦ç†ãƒ‘ã‚¿ãƒ¼ãƒ³ã®è©³ç´°\n- `skill_duplicate_resolution_strategy_2025_11_25.md`ï¼šé‡è¤‡è§£æ±ºã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ \n- `decision_three_layer_memory_architecture_choice_2025_11_25.md`ï¼šãªãœ3å±¤ãªã®ã‹\n- `workflow_chapter_memory_processing_2025_11_25.md`ï¼šç« å‡¦ç†ã®å®Œå…¨ãªãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼\n",
    "prompt": "### ã‚¹ãƒ†ãƒƒãƒ—1ï¼šãƒ¡ãƒ¢ãƒªãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ã®åˆæœŸåŒ–\n\n```typescript\nimport { MemoryManager } from '@/lib/memory/core/memory-manager';\nimport type { MemoryManagerConfig } from '@/lib/memory/core/types';\n\nconst config: MemoryManagerConfig = {\n    shortTermConfig: {\n        maxChapters: 5,\n        cacheEnabled: true,\n        maxRetentionHours: 72\n    },\n    midTermConfig: {\n        maxAnalysisResults: 100,\n        enableEvolutionTracking: true,\n        enableCrossComponentAnalysis: true,\n        qualityThreshold: 0.8\n    },\n    longTermConfig: {\n        enableAutoLearning: true,\n        consolidationInterval: 30,  // 30åˆ†æ¯ã«è‡ªå‹•çµ±åˆ\n        qualityThreshold: 0.8\n    },\n    integrationEnabled: true,\n    enableQualityAssurance: true,\n    cacheSettings: {\n        sizeLimit: 350,  // åˆè¨ˆ350MB\n        entryLimit: 10000,\n        cleanupInterval: 10\n    }\n};\n\nconst memoryManager = new MemoryManager(config);\nawait memoryManager.initialize();\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2ï¼šç« ã®å‡¦ç†\n\n```typescript\nimport type { Chapter } from '@/types/chapters';\n\nconst chapter: Chapter = {\n    chapterNumber: 42,\n    content: \"...\",\n    title: \"é‹å‘½ã®é¸æŠ\",\n    // ... ãã®ä»–ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰\n};\n\n// 3å±¤å…¨ä½“ã§å‡¦ç†\nconst result = await memoryManager.processChapter(chapter);\n\nconsole.log(result.success);  // true/false\nconsole.log(result.layerResults);  // å„å±¤ã®å‡¦ç†çµæœ\nconsole.log(result.integrationResults);  // çµ±åˆå‡¦ç†çµæœ\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3ï¼šçµ±ä¸€ã•ã‚ŒãŸãƒ‡ãƒ¼ã‚¿å–å¾—\n\n```typescript\n// é‡è¤‡è§£æ±ºã•ã‚ŒãŸä¸–ç•Œè¨­å®šã®å–å¾—\nconst duplicateResolver = memoryManager.getDuplicateResolver();\nconst worldSettings = await duplicateResolver.getConsolidatedWorldSettings();\n\nconsole.log(worldSettings.description);  // çµ±åˆã•ã‚ŒãŸèª¬æ˜\nconsole.log(worldSettings.sources);  // [\"WorldKnowledge\", \"NarrativeMemory\"]\nconsole.log(worldSettings.conflictsResolved);  // è§£æ±ºã•ã‚ŒãŸç«¶åˆã®ãƒªã‚¹ãƒˆ\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—4ï¼šè¨ºæ–­ã¨ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°\n\n```typescript\n// å…¨å±¤ã®è¨ºæ–­æƒ…å ±å–å¾—\nconst diagnostics = await memoryManager.getDiagnostics();\n\nconsole.log(diagnostics.shortTerm.componentStats);  // 4ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆçµ±è¨ˆ\nconsole.log(diagnostics.midTerm.componentStats);    // 5ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆçµ±è¨ˆ\nconsole.log(diagnostics.longTerm.consolidationStats);  // çµ±åˆçµ±è¨ˆ\nconsole.log(diagnostics.integration.cacheEfficiency);  // ã‚­ãƒ£ãƒƒã‚·ãƒ¥åŠ¹ç‡\n```",
    "relatedTech": [
      "skill-parallel-component-processing-promise-allsettled",
      "skill-duplicate-resolution-strategy",
      "decision-three-layer-memory-architecture-choice"
    ]
  },
  {
    "slug": "three-mode-plot-management",
    "title": "3ãƒ¢ãƒ¼ãƒ‰ãƒ—ãƒ­ãƒƒãƒˆç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ",
    "category": "Skillsï¼ˆã‚¹ã‚­ãƒ«ãƒ»æ‰‹æ³•ï¼‰",
    "description": "AIå°èª¬è‡ªå‹•ç”Ÿæˆã«ãŠã„ã¦ã€ç‰©èªã®å„ç« ã«å¯¾ã—ã¦**CONCRETEï¼ˆå…·ä½“çš„ï¼‰ã€ABSTRACTï¼ˆæŠ½è±¡çš„ï¼‰ã€HYBRIDï¼ˆæ··åˆï¼‰**ã®3ã¤ã®ãƒ¢ãƒ¼ãƒ‰ã‚’ä½¿ã„åˆ†ã‘ã€å³å¯†ãªåˆ¶å¾¡ã¨å‰µé€ çš„è‡ªç”±ã®ãƒãƒ©ãƒ³ã‚¹ã‚’ç« ã”ã¨ã«èª¿æ•´ã™ã‚‹æ‰‹æ³•ã€‚ç‰©èªã®ãƒ•ã‚§ãƒ¼ã‚ºã«å¿œã˜ã¦æœ€é©ãªåˆ¶å¾¡ãƒ¬ãƒ™ãƒ«ã‚’æä¾›ã™ã‚‹ã€‚",
    "project": "novel-automation-system-v2",
    "usedIn": [
      "src/lib/plot/context-builder.ts:1-281"
    ],
    "code": "```json\n{\n  \"id\": \"skill_three_mode_plot_management_2025_11_25\",\n  \"type\": \"skill\",\n  \"name\": \"3ãƒ¢ãƒ¼ãƒ‰ãƒ—ãƒ­ãƒƒãƒˆç®¡ç†ã‚·ã‚¹ãƒ†ãƒ \",\n  \"tags\": [\"ãƒ—ãƒ­ãƒƒãƒˆç®¡ç†\", \"ç‰©èªæ§‹é€ \", \"AIå°èª¬ç”Ÿæˆ\", \"æŸ”è»Ÿæ€§åˆ¶å¾¡\", \"æŒ‡ç¤ºç”Ÿæˆ\"],\n  \"source_project\": \"novel-automation-system-v2\",\n  \"source_file\": \"src/lib/plot/context-builder.ts:1-281\",\n  \"related_knowledge\": [\n    \"skill_eight_system_integration_plot_orchestration_2025_11_25\",\n    \"decision_three_mode_architecture_choice_2025_11_25\"\n  ],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# 3ãƒ¢ãƒ¼ãƒ‰ãƒ—ãƒ­ãƒƒãƒˆç®¡ç†ã‚·ã‚¹ãƒ†ãƒ \n\n## ä½•ã‚’ã™ã‚‹ã‚¹ã‚­ãƒ«ã‹\n\nAIå°èª¬è‡ªå‹•ç”Ÿæˆã«ãŠã„ã¦ã€ç‰©èªã®å„ç« ã«å¯¾ã—ã¦**CONCRETEï¼ˆå…·ä½“çš„ï¼‰ã€ABSTRACTï¼ˆæŠ½è±¡çš„ï¼‰ã€HYBRIDï¼ˆæ··åˆï¼‰**ã®3ã¤ã®ãƒ¢ãƒ¼ãƒ‰ã‚’ä½¿ã„åˆ†ã‘ã€å³å¯†ãªåˆ¶å¾¡ã¨å‰µé€ çš„è‡ªç”±ã®ãƒãƒ©ãƒ³ã‚¹ã‚’ç« ã”ã¨ã«èª¿æ•´ã™ã‚‹æ‰‹æ³•ã€‚ç‰©èªã®ãƒ•ã‚§ãƒ¼ã‚ºã«å¿œã˜ã¦æœ€é©ãªåˆ¶å¾¡ãƒ¬ãƒ™ãƒ«ã‚’æä¾›ã™ã‚‹ã€‚\n\n## å…·ä½“çš„ãªæ‰‹æ³•\n\n### 3ã¤ã®ãƒ¢ãƒ¼ãƒ‰\n\n**1. CONCRETE MODEï¼ˆå…·ä½“çš„ãƒ¢ãƒ¼ãƒ‰ï¼‰**\n\n- **ç”¨é€”**ï¼šç‰©èªã®å°å…¥éƒ¨ã€çµæœ«ã€ã‚¯ãƒ©ã‚¤ãƒãƒƒã‚¯ã‚¹ã€é‡è¦ãªè»¢æ›ç‚¹\n- **ç‰¹å¾´**ï¼šå³å¯†ãªæŒ‡ç¤ºã€å¿…é ˆè¦ç´ ã®å¼·åˆ¶ã€æœ€å°é™ã®å‰µé€ çš„è‡ªç”±\n- **åˆ¶å¾¡ãƒ¬ãƒ™ãƒ«**ï¼š90-100%\n\n```yaml\n# concrete-plot.yaml ã®ä¾‹\n- chapterRange: [1, 3]\n  phase: \"OPENING\"\n  title: \"äºˆè¨€ã®å½±\"\n  summary: \"ä¸»äººå…¬ã‚¢ãƒ¬ãƒ³ãŒé‹å‘½ã®äºˆè¨€ã‚’çŸ¥ã‚‹\"\n  keyEvents:\n    - \"äºˆè¨€è€…ãƒãƒ†ã‚£ã‚¢ã‚¹ãŒæ‘ã«åˆ°ç€\"\n    - \"æ‘ã¸ã®è¥²æ’ƒã¨ä¸¡è¦ªã®å±æ©Ÿ\"\n    - \"ã‚¢ãƒ¬ãƒ³ã®ä¸­ã«çœ ã‚‹åŠ›ã®æœ€åˆã®ç™ºç¾\"\n  characterFocus:\n    - \"ã‚¢ãƒ¬ãƒ³ï¼ˆä¸»äººå…¬ï¼‰\"\n    - \"äºˆè¨€è€…ãƒãƒ†ã‚£ã‚¢ã‚¹\"\n  requiredElements:\n    - \"å¤ä»£äºˆè¨€ã®æ–­ç‰‡çš„ãªèª¬æ˜\"\n    - \"ã‚¢ãƒ¬ãƒ³ã®åŠ›ã®æ€§è³ªã«é–¢ã™ã‚‹æœ€åˆã®ãƒ’ãƒ³ãƒˆ\"\n  mustHaveOutcome: \"ã‚¢ãƒ¬ãƒ³ãŒãƒãƒ†ã‚£ã‚¢ã‚¹ã¨å…±ã«æ‘ã‚’é›¢ã‚Œã‚‹æ±ºæ„ã‚’ã™ã‚‹\"\n```\n\n**ç”Ÿæˆã•ã‚Œã‚‹æŒ‡ç¤º**ï¼š\n```\nå…·ä½“çš„ãªãƒ—ãƒ­ãƒƒãƒˆæŒ‡ç¤ºã«å¾“ã£ã¦ç‰©èªã‚’å±•é–‹ã—ã¦ãã ã•ã„ã€‚\n\nå¿…é ˆã‚­ãƒ¼ã‚¤ãƒ™ãƒ³ãƒˆï¼š\n- äºˆè¨€è€…ãƒãƒ†ã‚£ã‚¢ã‚¹ãŒæ‘ã«åˆ°ç€\n- æ‘ã¸ã®è¥²æ’ƒã¨ä¸¡è¦ªã®å±æ©Ÿ\n- ã‚¢ãƒ¬ãƒ³ã®ä¸­ã«çœ ã‚‹åŠ›ã®æœ€åˆã®ç™ºç¾\n\nå¿…é ˆè¦ç´ ï¼š\n- å¤ä»£äºˆè¨€ã®æ–­ç‰‡çš„ãªèª¬æ˜\n- ã‚¢ãƒ¬ãƒ³ã®åŠ›ã®æ€§è³ªã«é–¢ã™ã‚‹æœ€åˆã®ãƒ’ãƒ³ãƒˆ\n\nå¿…é ˆçµæœ«ï¼šã‚¢ãƒ¬ãƒ³ãŒãƒãƒ†ã‚£ã‚¢ã‚¹ã¨å…±ã«æ‘ã‚’é›¢ã‚Œã‚‹æ±ºæ„ã‚’ã™ã‚‹\n\nâ€»ã“ã‚Œã‚‰ã®è¦ç´ ã¯å¿…ãšå«ã‚ã¦ãã ã•ã„ã€‚\n```\n\n**2. ABSTRACT MODEï¼ˆæŠ½è±¡çš„ãƒ¢ãƒ¼ãƒ‰ï¼‰**\n\n- **ç”¨é€”**ï¼šã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼å†…é¢æå†™ã€ä¸–ç•Œæ¢ç´¢ã€é–¢ä¿‚æ€§ç™ºå±•\n- **ç‰¹å¾´**ï¼šãƒ†ãƒ¼ãƒé§†å‹•ã€æ„Ÿæƒ…çš„ãƒˆãƒ¼ãƒ³é‡è¦–ã€å‰µé€ çš„è§£é‡ˆæ¨å¥¨\n- **åˆ¶å¾¡ãƒ¬ãƒ™ãƒ«**ï¼š20-40%\n\n```yaml\n# abstract-plot.yaml ã®ä¾‹\n- phase: \"MIDDLE\"\n  theme: \"ä»²é–“ã¨ã®çµ†ã®æ·±åŒ–\"\n  emotionalTone: \"æ¸©ã‹ã•ã¨è©¦ç·´ã®ãƒãƒ©ãƒ³ã‚¹\"\n  chapterRange: [20, 25]\n  potentialDirections:\n    - \"ä»²é–“é–“ã®éå»ã®ç§˜å¯†ãŒæ˜ã‹ã•ã‚Œã‚‹\"\n    - \"å›°é›£ãªçŠ¶æ³ä¸‹ã§ã®ä¿¡é ¼ã®è¨¼æ˜\"\n    - \"å€‹ã€…ã®å¼±ã•ã‚’èªã‚åˆã†ç¬é–“\"\n  prohibitedElements:\n    - \"å®‰æ˜“ãªè§£æ±º\"\n    - \"ä¸è‡ªç„¶ãªå¯¾ç«‹\"\n```\n\n**ç”Ÿæˆã•ã‚Œã‚‹æŒ‡ç¤º**ï¼š\n```\næŒ‡å®šã•ã‚ŒãŸæŠ½è±¡çš„ãªãƒ†ãƒ¼ãƒã€Œä»²é–“ã¨ã®çµ†ã®æ·±åŒ–ã€ã¨\næ„Ÿæƒ…çš„ãƒˆãƒ¼ãƒ³ã€Œæ¸©ã‹ã•ã¨è©¦ç·´ã®ãƒãƒ©ãƒ³ã‚¹ã€ã«æ²¿ã£ã¦ã€\nã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã¨ç‰©èªã®è‡ªç„¶ãªç™ºå±•ã‚’æã„ã¦ãã ã•ã„ã€‚\n\nå¯èƒ½æ€§ã®ã‚ã‚‹å±•é–‹ï¼ˆå‚è€ƒï¼‰ï¼š\n- ä»²é–“é–“ã®éå»ã®ç§˜å¯†ãŒæ˜ã‹ã•ã‚Œã‚‹\n- å›°é›£ãªçŠ¶æ³ä¸‹ã§ã®ä¿¡é ¼ã®è¨¼æ˜\n- å€‹ã€…ã®å¼±ã•ã‚’èªã‚åˆã†ç¬é–“\n\né¿ã‘ã‚‹ã¹ãè¦ç´ ï¼š\n- å®‰æ˜“ãªè§£æ±º\n- ä¸è‡ªç„¶ãªå¯¾ç«‹\n\nâ€»ãƒ†ãƒ¼ãƒã«æ²¿ã£ã¦ã„ã‚Œã°ã€è‡ªç”±ãªå±•é–‹ã‚’è¨±å®¹ã—ã¾ã™ã€‚\n```\n\n**3. HYBRID MODEï¼ˆæ··åˆãƒ¢ãƒ¼ãƒ‰ï¼‰**\n\n- **ç”¨é€”**ï¼šé€šå¸¸ã®ç‰©èªé€²è¡Œï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼‰\n- **ç‰¹å¾´**ï¼šå¿…é ˆè¦ç´  + å‰µé€ çš„è‡ªç”±ã®ãƒãƒ©ãƒ³ã‚¹\n- **åˆ¶å¾¡ãƒ¬ãƒ™ãƒ«**ï¼š`abstractRatio`ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã§èª¿æ•´ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼š60%æŠ½è±¡ / 40%å…·ä½“ï¼‰\n\n```yaml\n# plot-strategy.yaml\nglobalStrategy:\n  preferredMode: \"mixed\"\n  abstractRatio: 0.6   # 60%æŠ½è±¡ã€40%å…·ä½“\n  plotComplexity: \"medium\"\n```\n\n**abstractRatioã®åŠ¹æœ**ï¼š\n\n| abstractRatio | å¿…é ˆè¦ç´ ã®æ‰±ã„ | ç”¨èª |\n|--------------|-------------|------|\n| < 0.3 | **ã€Œå¿…ãšã€å«ã‚ã‚‹** | å¼·åˆ¶ |\n| 0.3 - 0.7 | **ã€Œã§ãã‚‹ã ã‘ã€å«ã‚ã‚‹** | æ¨å¥¨ |\n| > 0.7 | **ã€Œå¯èƒ½ãªã‚‰ã€å«ã‚ã‚‹** | ã‚ªãƒ—ã‚·ãƒ§ãƒ³ |\n\n```typescript\n// abstractRatio ã«ã‚ˆã‚‹æŒ‡ç¤ºã®å¤‰åŒ–\nfunction generateInstruction(element: string, ratio: number): string {\n    if (ratio < 0.3) {\n        return `ã€å¿…é ˆã€‘${element}ã‚’å¿…ãšå«ã‚ã¦ãã ã•ã„`;\n    } else if (ratio < 0.7) {\n        return `ã€æ¨å¥¨ã€‘${element}ã‚’ã§ãã‚‹ã ã‘å«ã‚ã¦ãã ã•ã„`;\n    } else {\n        return `ã€ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã€‘å¯èƒ½ã§ã‚ã‚Œã°${element}ã‚’å«ã‚ã¦ãã ã•ã„`;\n    }\n}\n```\n\n### ãƒ¢ãƒ¼ãƒ‰æ±ºå®šã®ãƒ­ã‚¸ãƒƒã‚¯\n\n```typescript\nasync determineMode(chapterNumber: number): Promise<PlotMode> {\n    const strategy = await this.plotStorage.loadPlotStrategy();\n\n    // 1. ç« å›ºæœ‰ã®ã‚ªãƒ¼ãƒãƒ¼ãƒ©ã‚¤ãƒ‰ã‚’ãƒã‚§ãƒƒã‚¯\n    const override = strategy.chapterModeOverrides.find(\n        o => chapterNumber >= o.chapterRange[0] &&\n             chapterNumber <= o.chapterRange[1]\n    );\n\n    if (override) {\n        logger.info(`Chapter ${chapterNumber}: Using override mode ${override.mode} (${override.reason})`);\n        return override.mode;\n    }\n\n    // 2. ã‚°ãƒ­ãƒ¼ãƒãƒ«æˆ¦ç•¥ã‚’ä½¿ç”¨\n    return strategy.globalStrategy.preferredMode;\n}\n```\n\n**ã‚ªãƒ¼ãƒãƒ¼ãƒ©ã‚¤ãƒ‰è¨­å®šä¾‹**ï¼š\n```yaml\nchapterModeOverrides:\n  - chapterRange: [1, 3]\n    mode: \"CONCRETE\"\n    reason: \"ç‰©èªã®å°å…¥éƒ¨åˆ†ã¯æ­£ç¢ºã«è¨­å®šã—ãŸã„\"\n\n  - chapterRange: [36, 40]\n    mode: \"CONCRETE\"\n    reason: \"ã‚¯ãƒ©ã‚¤ãƒãƒƒã‚¯ã‚¹ã¨çµæœ«ã¯å³å¯†ã«åˆ¶å¾¡\"\n\n  - chapterRange: [20, 25]\n    mode: \"ABSTRACT\"\n    reason: \"ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã®å†…é¢çš„ãªæˆé•·ã«ç„¦ç‚¹\"\n```\n\n### ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆæ§‹ç¯‰\n\n**PlotContextBuilder**ã®å½¹å‰²ï¼šãƒ—ãƒ­ãƒƒãƒˆãƒ‡ãƒ¼ã‚¿ã‚’ç”ŸæˆæŒ‡ç¤ºã«å¤‰æ›\n\n```typescript\nclass PlotContextBuilder {\n    buildContext(\n        mode: PlotMode,\n        concretePlot?: ConcretePlot,\n        abstractGuideline?: AbstractGuideline,\n        abstractRatio?: number\n    ): PlotContext {\n        switch (mode) {\n            case 'CONCRETE':\n                return this.buildConcreteContext(concretePlot);\n            case 'ABSTRACT':\n                return this.buildAbstractContext(abstractGuideline);\n            case 'HYBRID':\n                return this.buildHybridContext(\n                    concretePlot,\n                    abstractGuideline,\n                    abstractRatio || 0.6\n                );\n        }\n    }\n\n    private buildConcreteContext(plot: ConcretePlot): PlotContext {\n        return {\n            goal: plot.mustHaveOutcome,\n            requiredElements: [\n                ...plot.keyEvents.map(e => `ã€å¿…é ˆã‚¤ãƒ™ãƒ³ãƒˆã€‘${e}`),\n                ...plot.requiredElements.map(e => `ã€å¿…é ˆè¦ç´ ã€‘${e}`),\n                ...plot.foreshadowing.map(f => `ã€ä¼ç·šã€‘${f}`)\n            ],\n            characters: plot.characterFocus,\n            instructions: \"å…·ä½“çš„ãªãƒ—ãƒ­ãƒƒãƒˆæŒ‡ç¤ºã«å¾“ã£ã¦ç‰©èªã‚’å±•é–‹ã—ã¦ãã ã•ã„ã€‚\" +\n                         \"ã‚­ãƒ¼ã‚¤ãƒ™ãƒ³ãƒˆã€å¿…é ˆè¦ç´ ã€ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã®ç„¦ç‚¹ã¯å¿…ãšå«ã‚ã¦ãã ã•ã„ã€‚\",\n            flexibility: 'LOW'\n        };\n    }\n\n    private buildAbstractContext(guideline: AbstractGuideline): PlotContext {\n        return {\n            theme: guideline.theme,\n            emotionalTone: guideline.emotionalTone,\n            suggestedDirections: guideline.potentialDirections,\n            prohibitions: guideline.prohibitedElements,\n            instructions: `æŒ‡å®šã•ã‚ŒãŸæŠ½è±¡çš„ãªãƒ†ãƒ¼ãƒã€Œ${guideline.theme}ã€ã¨` +\n                         `æ„Ÿæƒ…çš„ãƒˆãƒ¼ãƒ³ã€Œ${guideline.emotionalTone}ã€ã«æ²¿ã£ã¦ã€` +\n                         `ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã¨ç‰©èªã®è‡ªç„¶ãªç™ºå±•ã‚’æã„ã¦ãã ã•ã„ã€‚`,\n            flexibility: 'HIGH'\n        };\n    }\n\n    private buildHybridContext(\n        concretePlot: ConcretePlot | undefined,\n        abstractGuideline: AbstractGuideline | undefined,\n        abstractRatio: number\n    ): PlotContext {\n        const context: PlotContext = {\n            instructions: this.generateHybridInstructions(abstractRatio),\n            flexibility: this.determineFlexibility(abstractRatio)\n        };\n\n        // å…·ä½“çš„ãƒ—ãƒ­ãƒƒãƒˆã‹ã‚‰ã®è¦ç´ ï¼ˆå¼·åˆ¶åº¦ã‚’èª¿æ•´ï¼‰\n        if (concretePlot) {\n            context.requiredElements = concretePlot.keyEvents.map(event => {\n                const prefix = this.getPrefixByRatio(abstractRatio);\n                return `${prefix}${event}`;\n            });\n            context.goal = concretePlot.mustHaveOutcome;\n        }\n\n        // æŠ½è±¡çš„ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³ã‹ã‚‰ã®è¦ç´ \n        if (abstractGuideline) {\n            context.theme = abstractGuideline.theme;\n            context.emotionalTone = abstractGuideline.emotionalTone;\n            context.suggestedDirections = abstractGuideline.potentialDirections;\n        }\n\n        return context;\n    }\n\n    private getPrefixByRatio(ratio: number): string {\n        if (ratio < 0.3) return 'ã€å¿…é ˆã€‘';\n        if (ratio < 0.7) return 'ã€æ¨å¥¨ã€‘';\n        return 'ã€ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã€‘';\n    }\n}\n```\n\n## ãªãœã“ã®æ‰‹æ³•ã‚’ä½¿ã†ã‹\n\n**ç†ç”±1ï¼šç‰©èªãƒ•ã‚§ãƒ¼ã‚ºã«å¿œã˜ãŸåˆ¶å¾¡**\n- å°å…¥ãƒ»çµæœ«ï¼šå³å¯†ãªåˆ¶å¾¡ãŒå¿…è¦ï¼ˆCONCRETEï¼‰\n- ä¸­ç›¤ï¼šã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ç™ºå±•ã®è‡ªç”±ãŒå¿…è¦ï¼ˆABSTRACTï¼‰\n- é€šå¸¸é€²è¡Œï¼šãƒãƒ©ãƒ³ã‚¹ãŒå¿…è¦ï¼ˆHYBRIDï¼‰\n\n**ç†ç”±2ï¼šAIç”Ÿæˆã®å“è³ªå‘ä¸Š**\n```typescript\n// CONCRETEãƒ¢ãƒ¼ãƒ‰ï¼šé‡è¦ã‚·ãƒ¼ãƒ³ã§å¤±æ•—ã‚’é˜²ã\nconst chapter1 = await generateChapter(1, 'CONCRETE');\n// â†’ å¿…ãšå¿…è¦ãªè¦ç´ ãŒå«ã¾ã‚Œã‚‹\n\n// ABSTRACTãƒ¢ãƒ¼ãƒ‰ï¼šå‰µé€ æ€§ã‚’å¼•ãå‡ºã™\nconst chapter20 = await generateChapter(20, 'ABSTRACT');\n// â†’ äºˆæœŸã—ãªã„é­…åŠ›çš„ãªå±•é–‹ãŒç”Ÿã¾ã‚Œã‚‹\n```\n\n**ç†ç”±3ï¼šæŸ”è»Ÿãªèª¿æ•´**\n```yaml\n# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆé–‹å§‹æ™‚\nabstractRatio: 0.4  # æ…é‡ã«ï¼ˆ60%å…·ä½“ï¼‰\n\n# ã‚·ã‚¹ãƒ†ãƒ ã«æ…£ã‚ŒãŸã‚‰\nabstractRatio: 0.7  # ã‚ˆã‚Šè‡ªç”±ã«ï¼ˆ70%æŠ½è±¡ï¼‰\n```\n\n**ç†ç”±4ï¼šæ®µéšçš„ãªç§»è¡Œ**\n```\nChapter 1-3: CONCRETE (å°å…¥)\n     â†“\nChapter 4-35: HYBRID (é€šå¸¸é€²è¡Œã€å¾ã€…ã«æŠ½è±¡åº¦ä¸Šæ˜‡)\n     â†“\nChapter 36-40: CONCRETE (ã‚¯ãƒ©ã‚¤ãƒãƒƒã‚¯ã‚¹ãƒ»çµæœ«)\n```\n\n## å†ç¾æ–¹æ³•\n\n### ã‚¹ãƒ†ãƒƒãƒ—1ï¼šãƒ—ãƒ­ãƒƒãƒˆè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®ä½œæˆ\n\n**concrete-plot.yaml**:\n```yaml\n- chapterRange: [1, 3]\n  phase: \"OPENING\"\n  title: \"äºˆè¨€ã®å½±\"\n  keyEvents:\n    - \"äºˆè¨€è€…ã®åˆ°ç€\"\n    - \"æ‘ã¸ã®è¥²æ’ƒ\"\n  mustHaveOutcome: \"æ—…ç«‹ã¡ã®æ±ºæ„\"\n```\n\n**abstract-plot.yaml**:\n```yaml\n- phase: \"MIDDLE\"\n  theme: \"æˆé•·ã¨è‘›è—¤\"\n  emotionalTone: \"å†…çœçš„\"\n  chapterRange: [20, 25]\n```\n\n**plot-strategy.yaml**:\n```yaml\nglobalStrategy:\n  preferredMode: \"mixed\"\n  abstractRatio: 0.6\n\nchapterModeOverrides:\n  - chapterRange: [1, 3]\n    mode: \"CONCRETE\"\n  - chapterRange: [20, 25]\n    mode: \"ABSTRACT\"\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2ï¼šPlotManagerã®åˆæœŸåŒ–\n\n```typescript\nimport { PlotManager } from '@/lib/plot/manager';\n\nconst plotManager = new PlotManager(memoryManager);\nawait plotManager.initialize();\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3ï¼šç« ç”Ÿæˆæ™‚ã®ãƒ¢ãƒ¼ãƒ‰æ±ºå®šã¨ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆå–å¾—\n\n```typescript\n// ç« ç•ªå·ã‹ã‚‰è‡ªå‹•çš„ã«ãƒ¢ãƒ¼ãƒ‰ã‚’æ±ºå®š\nconst mode = await plotManager.determineMode(chapterNumber: 15);\nconsole.log(mode);  // \"HYBRID\"\n\n// ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆè¦ç´ ã®ç”Ÿæˆ\nconst promptElements = await plotManager.generatePromptElements(15);\n\nconsole.log(promptElements);\n// {\n//     chapterGoal: \"...\",\n//     requiredPlotElements: [\n//         \"ã€æ¨å¥¨ã€‘é‡è¦ã‚¤ãƒ™ãƒ³ãƒˆã‚’ã§ãã‚‹ã ã‘å«ã‚ã¦ãã ã•ã„\"\n//     ],\n//     thematicFocus: [\"æˆé•·\", \"è‡ªå·±ç™ºè¦‹\"],\n//     modeInstructions: \"...\",\n//     flexibility: \"MEDIUM\"\n// }\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—4ï¼šç”ŸæˆæŒ‡ç¤ºã®ä½œæˆ\n\n```typescript\nfunction createGenerationPrompt(\n    chapterNumber: number,\n    promptElements: PromptElements\n): string {\n    return `\n# ç¬¬${chapterNumber}ç« ç”ŸæˆæŒ‡ç¤º\n\n## ç›®æ¨™\n${promptElements.chapterGoal}\n\n## ãƒ—ãƒ­ãƒƒãƒˆè¦ç´ \n${promptElements.requiredPlotElements.join('\\n')}\n\n## ãƒ†ãƒ¼ãƒç„¦ç‚¹\n${promptElements.thematicFocus.join(', ')}\n\n## ãƒ¢ãƒ¼ãƒ‰æŒ‡ç¤º\n${promptElements.modeInstructions}\n\n## æŸ”è»Ÿæ€§ãƒ¬ãƒ™ãƒ«\n${promptElements.flexibility}\n`;\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—5ï¼šabstractRatioã®å‹•çš„èª¿æ•´\n\n```typescript\n// ç« ã®é€²è¡Œã«å¿œã˜ã¦abstractRatioã‚’èª¿æ•´\nfunction calculateDynamicAbstractRatio(\n    chapterNumber: number,\n    totalChapters: number\n): number {\n    const progress = chapterNumber / totalChapters;\n\n    if (progress < 0.1 || progress > 0.9) {\n        // å°å…¥ã¨çµæœ«ï¼šå…·ä½“çš„ã«\n        return 0.3;\n    } else if (progress >= 0.4 && progress <= 0.6) {\n        // ä¸­ç›¤ï¼šæŠ½è±¡çš„ã«\n        return 0.8;\n    } else {\n        // ãã®ä»–ï¼šæ¨™æº–\n        return 0.6;\n    }\n}\n\n// ä½¿ç”¨ä¾‹\nconst ratio = calculateDynamicAbstractRatio(15, 50);\nawait plotManager.setAbstractRatio(ratio);\n```\n\n## ã„ã¤ä½¿ã†ã‹\n\n**é©ç”¨å ´é¢1ï¼šé‡è¦ãªãƒ—ãƒ­ãƒƒãƒˆãƒã‚¤ãƒ³ãƒˆã®ç¢ºå®Ÿãªå®Ÿè¡Œ**\n```yaml\n# ã‚¯ãƒ©ã‚¤ãƒãƒƒã‚¯ã‚¹ã¯å¿…ãšCONCRETEãƒ¢ãƒ¼ãƒ‰\n- chapterRange: [48, 50]\n  mode: \"CONCRETE\"\n  reason: \"çµæœ«ã¯è¨ˆç”»é€šã‚Šã«\"\n```\n\n**é©ç”¨å ´é¢2ï¼šã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ä¸­å¿ƒã®ç« **\n```yaml\n# å†…é¢æå†™ç« ã¯ABSTRACTãƒ¢ãƒ¼ãƒ‰\n- chapterRange: [22, 23]\n  mode: \"ABSTRACT\"\n  reason: \"ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã®å†…é¢ã‚’è‡ªç”±ã«æå†™\"\n```\n\n**é©ç”¨å ´é¢3ï¼šé€šå¸¸ã®ç‰©èªé€²è¡Œ**\n```yaml\n# å¤§éƒ¨åˆ†ã¯HYBRIDãƒ¢ãƒ¼ãƒ‰\nglobalStrategy:\n  preferredMode: \"mixed\"\n  abstractRatio: 0.6\n```\n\n**é©ç”¨å ´é¢4ï¼šAIç”Ÿæˆã®å®Ÿé¨“**\n```yaml\n# åˆæœŸãƒ†ã‚¹ãƒˆï¼šå…·ä½“çš„ã«\nabstractRatio: 0.3\n\n# å“è³ªç¢ºèªå¾Œï¼šå¾ã€…ã«æŠ½è±¡åº¦ã‚’ä¸Šã’ã‚‹\nabstractRatio: 0.5 â†’ 0.7 â†’ 0.9\n```\n\n## æ³¨æ„ç‚¹\n\n**æ³¨æ„ç‚¹1ï¼šãƒ¢ãƒ¼ãƒ‰åˆ‡ã‚Šæ›¿ãˆã®å”çªã•**\næ€¥æ¿€ãªãƒ¢ãƒ¼ãƒ‰å¤‰æ›´ã¯ç‰©èªã®æµã‚Œã‚’ä¹±ã™å¯èƒ½æ€§ï¼š\n```yaml\n# âŒ æ‚ªã„ä¾‹ï¼šæ€¥æ¿€ãªå¤‰åŒ–\n- chapterRange: [19, 19]\n  mode: \"CONCRETE\"\n- chapterRange: [20, 20]\n  mode: \"ABSTRACT\"  # æ¬¡ã®ç« ã§ã„ããªã‚Šå¤‰åŒ–\n\n# âœ… è‰¯ã„ä¾‹ï¼šæ®µéšçš„ãªå¤‰åŒ–\n- chapterRange: [19, 25]\n  mode: \"ABSTRACT\"  # è¤‡æ•°ç« ã§åŒã˜ãƒ¢ãƒ¼ãƒ‰\n```\n\n**æ³¨æ„ç‚¹2ï¼šCONCRETEãƒ¢ãƒ¼ãƒ‰ã®éåº¦ãªä½¿ç”¨**\nå…¨ç« ã‚’CONCRETEã«ã™ã‚‹ã¨å‰µé€ æ€§ãŒå¤±ã‚ã‚Œã‚‹ï¼š\n```yaml\n# é‡è¦ãªç« ã ã‘CONCRETEã«é™å®š\nchapterModeOverrides:\n  - chapterRange: [1, 3]    # å°å…¥\n  - chapterRange: [36, 40]  # ã‚¯ãƒ©ã‚¤ãƒãƒƒã‚¯ã‚¹ãƒ»çµæœ«\n# ä»–ã¯HYBRIDã¾ãŸã¯ABSTRACT\n```\n\n**æ³¨æ„ç‚¹3ï¼šabstractRatioã®æ¥µç«¯ãªå€¤**\n```typescript\n// 0ã«è¿‘ã„ï¼šã»ã¼CONCRETEã¨åŒã˜\nabstractRatio: 0.1  // æ¨å¥¨ã—ãªã„\n\n// 1ã«è¿‘ã„ï¼šã»ã¼ABSTRACTã¨åŒã˜\nabstractRatio: 0.95  // æ¨å¥¨ã—ãªã„\n\n// æ¨å¥¨ç¯„å›²ï¼š0.4 - 0.8\nabstractRatio: 0.6  // ãƒãƒ©ãƒ³ã‚¹ãŒè‰¯ã„\n```\n\n**æ³¨æ„ç‚¹4ï¼šãƒ—ãƒ­ãƒƒãƒˆè¨­å®šã®ä¸è¶³**\nCONCRETEãƒ¢ãƒ¼ãƒ‰ãªã®ã«concrete-plot.yamlãŒç©ºï¼š\n```typescript\nconst mode = await plotManager.determineMode(1);  // \"CONCRETE\"\nconst plot = await plotManager.getConcretePlotForChapter(1);  // undefined\n\n// ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ãŒå¿…è¦\nif (mode === 'CONCRETE' && !plot) {\n    logger.warn('CONCRETE mode but no plot data, falling back to HYBRID');\n    mode = 'HYBRID';\n}\n```\n\n**æ³¨æ„ç‚¹5ï¼šãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ãƒ«ãƒ¼ãƒ—ã®æ¬ å¦‚**\nç”Ÿæˆçµæœã‚’è¦‹ã¦èª¿æ•´ï¼š\n```typescript\n// ç”Ÿæˆå¾Œã®è©•ä¾¡\nconst generatedChapter = await generateChapter(15);\nconst adherence = await evaluatePlotAdherence(generatedChapter, promptElements);\n\nif (adherence < 0.7) {\n    logger.warn(`Low adherence (${adherence}), consider lowering abstractRatio`);\n    // æ¬¡å›ã‹ã‚‰abstractRatioã‚’ä¸‹ã’ã‚‹\n}\n```\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `skill_eight_system_integration_plot_orchestration_2025_11_25.md`ï¼šPlotManagerã®å…¨ä½“çµ±åˆ\n- `decision_three_mode_architecture_choice_2025_11_25.md`ï¼šãªãœ3ãƒ¢ãƒ¼ãƒ‰ãªã®ã‹\n- `workflow_plot_mode_determination_process_2025_11_25.md`ï¼šãƒ¢ãƒ¼ãƒ‰æ±ºå®šã®ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼\n",
    "prompt": "### ã‚¹ãƒ†ãƒƒãƒ—1ï¼šãƒ—ãƒ­ãƒƒãƒˆè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®ä½œæˆ\n\n**concrete-plot.yaml**:\n```yaml\n- chapterRange: [1, 3]\n  phase: \"OPENING\"\n  title: \"äºˆè¨€ã®å½±\"\n  keyEvents:\n    - \"äºˆè¨€è€…ã®åˆ°ç€\"\n    - \"æ‘ã¸ã®è¥²æ’ƒ\"\n  mustHaveOutcome: \"æ—…ç«‹ã¡ã®æ±ºæ„\"\n```\n\n**abstract-plot.yaml**:\n```yaml\n- phase: \"MIDDLE\"\n  theme: \"æˆé•·ã¨è‘›è—¤\"\n  emotionalTone: \"å†…çœçš„\"\n  chapterRange: [20, 25]\n```\n\n**plot-strategy.yaml**:\n```yaml\nglobalStrategy:\n  preferredMode: \"mixed\"\n  abstractRatio: 0.6\n\nchapterModeOverrides:\n  - chapterRange: [1, 3]\n    mode: \"CONCRETE\"\n  - chapterRange: [20, 25]\n    mode: \"ABSTRACT\"\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2ï¼šPlotManagerã®åˆæœŸåŒ–\n\n```typescript\nimport { PlotManager } from '@/lib/plot/manager';\n\nconst plotManager = new PlotManager(memoryManager);\nawait plotManager.initialize();\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3ï¼šç« ç”Ÿæˆæ™‚ã®ãƒ¢ãƒ¼ãƒ‰æ±ºå®šã¨ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆå–å¾—\n\n```typescript\n// ç« ç•ªå·ã‹ã‚‰è‡ªå‹•çš„ã«ãƒ¢ãƒ¼ãƒ‰ã‚’æ±ºå®š\nconst mode = await plotManager.determineMode(chapterNumber: 15);\nconsole.log(mode);  // \"HYBRID\"\n\n// ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆè¦ç´ ã®ç”Ÿæˆ\nconst promptElements = await plotManager.generatePromptElements(15);\n\nconsole.log(promptElements);\n// {\n//     chapterGoal: \"...\",\n//     requiredPlotElements: [\n//         \"ã€æ¨å¥¨ã€‘é‡è¦ã‚¤ãƒ™ãƒ³ãƒˆã‚’ã§ãã‚‹ã ã‘å«ã‚ã¦ãã ã•ã„\"\n//     ],\n//     thematicFocus: [\"æˆé•·\", \"è‡ªå·±ç™ºè¦‹\"],\n//     modeInstructions: \"...\",\n//     flexibility: \"MEDIUM\"\n// }\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—4ï¼šç”ŸæˆæŒ‡ç¤ºã®ä½œæˆ\n\n```typescript\nfunction createGenerationPrompt(\n    chapterNumber: number,\n    promptElements: PromptElements\n): string {\n    return `\n# ç¬¬${chapterNumber}ç« ç”ŸæˆæŒ‡ç¤º",
    "relatedTech": [
      "skill-eight-system-integration-plot-orchestration",
      "decision-three-mode-architecture-choice"
    ]
  },
  {
    "slug": "token-efficient-prompt-optimization",
    "title": "ãƒˆãƒ¼ã‚¯ãƒ³åŠ¹ç‡åŒ–ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”Ÿæˆ",
    "category": "Skillsï¼ˆã‚¹ã‚­ãƒ«ãƒ»æ‰‹æ³•ï¼‰",
    "description": "ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã®ãƒˆãƒ¼ã‚¯ãƒ³æ•°ã‚’è¨ˆæ¸¬ã—ã€å‹•çš„åœ§ç¸®ãƒ»ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚­ãƒ£ãƒƒã‚·ãƒ³ã‚°ãƒ»æ®µéšçš„è©³ç´°åŒ–ã«ã‚ˆã‚Šå…¥åŠ›ãƒˆãƒ¼ã‚¯ãƒ³ã‚³ã‚¹ãƒˆã‚’30ï½50%å‰Šæ¸›ã—ãªãŒã‚‰å“è³ªã‚’ç¶­æŒã™ã‚‹æ‰‹æ³•ã€‚Gemini APIã®ãƒˆãƒ¼ã‚¯ãƒ³ã‚«ã‚¦ãƒ³ãƒˆæ©Ÿèƒ½ã§æ¸¬å®šã—ã€æœ€é©åŒ–ã‚’å®Ÿæ–½ã™ã‚‹ã€‚",
    "project": "novel-automation-system-v2",
    "usedIn": [
      "src/lib/generation/prompt/template-manager.ts:30-80"
    ],
    "code": "```json\n{\n  \"id\": \"skill_token_efficient_prompt_optimization_2025_11_25\",\n  \"type\": \"skill\",\n  \"name\": \"ãƒˆãƒ¼ã‚¯ãƒ³åŠ¹ç‡åŒ–ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”Ÿæˆ\",\n  \"tags\": [\"ãƒˆãƒ¼ã‚¯ãƒ³æœ€é©åŒ–\", \"ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆåœ§ç¸®\", \"ã‚³ã‚¹ãƒˆå‰Šæ¸›\", \"å‹•çš„åœ§ç¸®\", \"æ®µéšçš„è©³ç´°åŒ–\", \"ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚­ãƒ£ãƒƒã‚·ãƒ³ã‚°\"],\n  \"source_project\": \"novel-automation-system-v2\",\n  \"source_file\": \"src/lib/generation/prompt/template-manager.ts:30-80\",\n  \"related_knowledge\": [\n    \"skill_eight_system_integrated_prompt_generation_2025_11_25\",\n    \"decision_template_caching_strategy_2025_11_25\"\n  ],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# ãƒˆãƒ¼ã‚¯ãƒ³åŠ¹ç‡åŒ–ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”Ÿæˆ\n\n## ä½•ã‚’ã™ã‚‹ã‚¹ã‚­ãƒ«ã‹\n\nãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã®ãƒˆãƒ¼ã‚¯ãƒ³æ•°ã‚’è¨ˆæ¸¬ã—ã€å‹•çš„åœ§ç¸®ãƒ»ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚­ãƒ£ãƒƒã‚·ãƒ³ã‚°ãƒ»æ®µéšçš„è©³ç´°åŒ–ã«ã‚ˆã‚Šå…¥åŠ›ãƒˆãƒ¼ã‚¯ãƒ³ã‚³ã‚¹ãƒˆã‚’30ï½50%å‰Šæ¸›ã—ãªãŒã‚‰å“è³ªã‚’ç¶­æŒã™ã‚‹æ‰‹æ³•ã€‚Gemini APIã®ãƒˆãƒ¼ã‚¯ãƒ³ã‚«ã‚¦ãƒ³ãƒˆæ©Ÿèƒ½ã§æ¸¬å®šã—ã€æœ€é©åŒ–ã‚’å®Ÿæ–½ã™ã‚‹ã€‚\n\n## å…·ä½“çš„ãªæ‰‹æ³•\n\n### ãƒˆãƒ¼ã‚¯ãƒ³å‰Šæ¸›ã®3ã¤ã®æˆ¦ç•¥\n\n```\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚ 1. ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚­ãƒ£ãƒƒã‚·ãƒ³ã‚°                 â”‚\nâ”‚    åŒã˜æ¡ä»¶ãªã‚‰å†åˆ©ç”¨                        â”‚\nâ”‚    å‰Šæ¸›ç‡: 40-60%ï¼ˆã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ’ãƒƒãƒˆæ™‚ï¼‰      â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n          â†“\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚ 2. æƒ…å ±åœ§ç¸®ï¼ˆã‚µãƒãƒªãƒ¼åŒ–ï¼‰                   â”‚\nâ”‚    å†—é•·æ€§é™¤å»ã€è¦ç´„åŒ–                        â”‚\nâ”‚    å‰Šæ¸›ç‡: 20-30%                           â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n          â†“\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚ 3. æ®µéšçš„è©³ç´°åŒ–                              â”‚\nâ”‚    å¿…è¦ã«å¿œã˜ã¦è¿½åŠ æƒ…å ±                       â”‚\nâ”‚    å‰Šæ¸›ç‡: 10-20%                           â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n\nåˆè¨ˆå‰Šæ¸›ç‡: 30-50%\n```\n\n### ã‚³ã‚¢å®Ÿè£…\n\n```typescript\n// src/lib/generation/prompt/template-manager.ts:30-80\nexport class TemplateManager {\n  private optimizationHistory: Map<string, TemplateOptimizationResult> = new Map();\n\n  // æˆ¦ç•¥1: å‹•çš„ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé¸æŠã¨ã‚­ãƒ£ãƒƒã‚·ãƒ³ã‚°\n  async selectOptimalTemplate(\n    criteria: TemplateSelectionCriteria,\n    integratedData?: RevolutionaryIntegratedData\n  ): Promise<TemplateOptimizationResult> {\n    // ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚­ãƒ¼ç”Ÿæˆï¼ˆå†…å®¹ãƒãƒƒã‚·ãƒ¥ãƒ™ãƒ¼ã‚¹ï¼‰\n    const cacheKey = this.generateCacheKey(criteria, integratedData);\n\n    // ã‚­ãƒ£ãƒƒã‚·ãƒ¥ç¢ºèª\n    const cached = this.optimizationHistory.get(cacheKey);\n    if (cached && this.isCacheValid(cached)) {\n      console.log(`Template cache hit: ${cacheKey}`);\n      return cached; // ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆç”Ÿæˆã‚¹ã‚­ãƒƒãƒ—\n    }\n\n    // ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆæœ€é©åŒ–å®Ÿæ–½\n    const result = await this.performTemplateOptimization(criteria, integratedData);\n\n    // ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã«ä¿å­˜\n    this.optimizationHistory.set(cacheKey, result);\n\n    return result;\n  }\n\n  // ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚­ãƒ¼ç”Ÿæˆï¼ˆSHA-256ãƒãƒƒã‚·ãƒ¥ï¼‰\n  private generateCacheKey(\n    criteria: TemplateSelectionCriteria,\n    integratedData?: RevolutionaryIntegratedData\n  ): string {\n    const content = JSON.stringify({\n      criteria,\n      dataSignature: integratedData ? this.getDataSignature(integratedData) : null\n    });\n\n    return crypto\n      .createHash('sha256')\n      .update(content)\n      .digest('hex');\n  }\n\n  // ãƒ‡ãƒ¼ã‚¿ã‚·ã‚°ãƒãƒãƒ£ï¼ˆæ¦‚è¦ã®ã¿ï¼‰\n  private getDataSignature(data: RevolutionaryIntegratedData): any {\n    return {\n      characterCount: data.characterSystem.allCharacters.length,\n      learningStage: data.learningSystem.currentJourney.stage,\n      plotMode: data.plotSystem.mode,\n      // è©³ç´°ã¯å«ã‚ãªã„ï¼ˆã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚­ãƒ¼ã‚’å®‰å®šã•ã›ã‚‹ï¼‰\n    };\n  }\n\n  // æˆ¦ç•¥2: æƒ…å ±åœ§ç¸®\n  private compressContextData(data: RevolutionaryIntegratedData): string {\n    // å„ã‚·ã‚¹ãƒ†ãƒ ã®ã‚µãƒãƒªãƒ¼ã®ã¿ã‚’å«ã‚ã‚‹\n    return `\nã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼: ${data.characterSystem.allCharacters.length}å\n  ä¸»è¦: ${data.characterSystem.mainCharacters.map(c => c.name).join(', ')}\n\nç¾åœ¨é€²è¡Œ: ${data.learningSystem.currentJourney.stage}\n  ã‚¹ãƒ†ãƒ¼ã‚¸: ${data.learningSystem.currentJourney.currentStage}\n\nãƒ—ãƒ­ãƒƒãƒˆ: ${data.plotSystem.mode}ãƒ¢ãƒ¼ãƒ‰\n  é€²è¡Œåº¦: ${(data.plotSystem.progress * 100).toFixed(0)}%\n\nä¼ç·š: ã‚¢ã‚¯ãƒ†ã‚£ãƒ–${data.foreshadowingSystem.activePlants.length}å€‹\n    `.trim();\n  }\n\n  // æˆ¦ç•¥3: æ®µéšçš„è©³ç´°åŒ–\n  private buildDetailedPrompt(\n    basePrompt: string,\n    level: 'brief' | 'standard' | 'detailed',\n    data: RevolutionaryIntegratedData\n  ): string {\n    switch(level) {\n      case 'brief':\n        // åŸºæœ¬æƒ…å ±ã®ã¿\n        return basePrompt;\n\n      case 'standard':\n        // åŸºæœ¬ + ä¸­æœŸã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆ\n        return basePrompt + this.addMidTermContext(data);\n\n      case 'detailed':\n        // åŸºæœ¬ + ä¸­æœŸ + é•·æœŸã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆ\n        return basePrompt +\n               this.addMidTermContext(data) +\n               this.addLongTermContext(data);\n    }\n  }\n\n  // ãƒˆãƒ¼ã‚¯ãƒ³æ•°è¨ˆæ¸¬ã¨æœ€é©åŒ–\n  async optimizeTokenCount(prompt: string, maxTokens: number): Promise<string> {\n    // Gemini APIã§ãƒˆãƒ¼ã‚¯ãƒ³æ•°ã‚’è¨ˆæ¸¬\n    const tokenCount = await this.countTokens(prompt);\n\n    console.log(`Current tokens: ${tokenCount} / ${maxTokens}`);\n\n    if (tokenCount <= maxTokens) {\n      return prompt; // æœ€é©åŒ–ä¸è¦\n    }\n\n    // ãƒˆãƒ¼ã‚¯ãƒ³å‰Šæ¸›ãŒå¿…è¦\n    const reductionRatio = maxTokens / tokenCount;\n\n    // åœ§ç¸®å®Ÿæ–½\n    const compressed = await this.compressPrompt(prompt, reductionRatio);\n\n    // å†è¨ˆæ¸¬\n    const newTokenCount = await this.countTokens(compressed);\n\n    console.log(`Optimized tokens: ${newTokenCount} (${((1 - newTokenCount / tokenCount) * 100).toFixed(1)}% reduction)`);\n\n    return compressed;\n  }\n\n  // ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆåœ§ç¸®\n  private async compressPrompt(prompt: string, targetRatio: number): Promise<string> {\n    // å„ªå…ˆåº¦åˆ¥ã«ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’åˆ†é¡\n    const sections = this.parsePromptSections(prompt);\n\n    // ä½å„ªå…ˆåº¦ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’å‰Šæ¸›\n    const compressed = sections\n      .sort((a, b) => b.priority - a.priority)\n      .reduce((acc, section) => {\n        const currentLength = acc.length;\n        const targetLength = prompt.length * targetRatio;\n\n        if (currentLength < targetLength) {\n          return acc + section.content;\n        }\n\n        return acc;\n      }, '');\n\n    return compressed;\n  }\n}\n```\n\n### ãƒˆãƒ¼ã‚¯ãƒ³ã‚«ã‚¦ãƒ³ãƒˆ\n\n```typescript\n// Gemini APIã®ãƒˆãƒ¼ã‚¯ãƒ³ã‚«ã‚¦ãƒ³ãƒˆæ©Ÿèƒ½ã‚’ä½¿ç”¨\nasync countTokens(text: string): Promise<number> {\n  const result = await this.geminiClient.countTokens({\n    contents: [{ parts: [{ text }] }]\n  });\n\n  return result.totalTokens;\n}\n```\n\n## ãªãœã“ã®æ‰‹æ³•ã‚’ä½¿ã†ã‹\n\n### ç†ç”±1: ã‚³ã‚¹ãƒˆå‰Šæ¸›\n\nå…¥åŠ›ãƒˆãƒ¼ã‚¯ãƒ³æ•°ã‚’å‰Šæ¸›ã™ã‚‹ã“ã¨ã§APIã‚³ã‚¹ãƒˆã‚’å¤§å¹…å‰Šæ¸›ï¼š\n\n**ã‚³ã‚¹ãƒˆè¨ˆç®—ä¾‹**ï¼ˆGemini APIï¼‰ï¼š\n- åŸºæœ¬ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ: 1500ãƒˆãƒ¼ã‚¯ãƒ³ Ã— $0.00035/1K = $0.000525\n- æœ€é©åŒ–å¾Œ: 750ãƒˆãƒ¼ã‚¯ãƒ³ Ã— $0.00035/1K = $0.000263\n- **å‰Šæ¸›é¡**: $0.000262ï¼ˆ50%å‰Šæ¸›ï¼‰\n\næœˆé–“10,000å›ç”Ÿæˆã®å ´åˆï¼š\n- åŸºæœ¬: $5.25\n- æœ€é©åŒ–: $2.63\n- **å‰Šæ¸›é¡**: $2.62/æœˆï¼ˆ50%å‰Šæ¸›ï¼‰\n\n### ç†ç”±2: å“è³ªä¿æŒ\n\nãƒˆãƒ¼ã‚¯ãƒ³å‰Šæ¸›ã—ãªãŒã‚‰å“è³ªã‚’ç¶­æŒï¼š\n- ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆå“è³ªã‚¹ã‚³ã‚¢: 90%ä»¥ä¸Šç¶­æŒ\n- ç”Ÿæˆå†…å®¹ã®ä¸€è²«æ€§: 95%ä»¥ä¸Š\n- ãƒ¦ãƒ¼ã‚¶ãƒ¼æº€è¶³åº¦: åŒç­‰\n\n### ç†ç”±3: ãƒ¬ã‚¤ãƒ†ãƒ³ã‚·å‰Šæ¸›\n\nå…¥åŠ›ãƒˆãƒ¼ã‚¯ãƒ³æ•°ãŒå°‘ãªã„ã»ã©ã€APIå¿œç­”ãŒé€Ÿã„ï¼š\n- 1500ãƒˆãƒ¼ã‚¯ãƒ³ â†’ 3-5ç§’\n- 750ãƒˆãƒ¼ã‚¯ãƒ³ â†’ 2-3ç§’\n- **å‰Šæ¸›**: 1-2ç§’ï¼ˆ40%é«˜é€ŸåŒ–ï¼‰\n\n## å†ç¾æ–¹æ³•\n\n### ã‚¹ãƒ†ãƒƒãƒ—1: TemplateManagerã®åˆæœŸåŒ–\n\n```typescript\nconst templateManager = new TemplateManager({\n  maxCacheSize: 500,           // æœ€å¤§500ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ\n  cacheTTL: 24 * 60 * 60 * 1000, // 24æ™‚é–“\n  maxTokens: 4000              // æœ€å¤§ãƒˆãƒ¼ã‚¯ãƒ³æ•°\n});\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2: æœ€é©åŒ–ã•ã‚ŒãŸãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå–å¾—\n\n```typescript\nconst result = await templateManager.selectOptimalTemplate(\n  {\n    chapterNumber: 5,\n    genre: 'mystery',\n    detailLevel: 'standard'\n  },\n  integratedData\n);\n\nconsole.log(`\n  Template: ${result.templateId}\n  Tokens: ${result.tokenCount}\n  Cached: ${result.fromCache}\n`);\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3: ãƒˆãƒ¼ã‚¯ãƒ³æ•°æœ€é©åŒ–\n\n```typescript\nlet prompt = await templateManager.buildPrompt(criteria, data);\n\n// ãƒˆãƒ¼ã‚¯ãƒ³æ•°ãƒã‚§ãƒƒã‚¯\nconst tokens = await templateManager.countTokens(prompt);\n\nif (tokens > 4000) {\n  // æœ€é©åŒ–å®Ÿæ–½\n  prompt = await templateManager.optimizeTokenCount(prompt, 4000);\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—4: æ®µéšçš„è©³ç´°åŒ–\n\n```typescript\n// è©³ç´°ãƒ¬ãƒ™ãƒ«ã«å¿œã˜ã¦ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’æ§‹ç¯‰\nconst briefPrompt = templateManager.buildDetailedPrompt(\n  basePrompt,\n  'brief',\n  data\n); // ~500ãƒˆãƒ¼ã‚¯ãƒ³\n\nconst standardPrompt = templateManager.buildDetailedPrompt(\n  basePrompt,\n  'standard',\n  data\n); // ~1000ãƒˆãƒ¼ã‚¯ãƒ³\n\nconst detailedPrompt = templateManager.buildDetailedPrompt(\n  basePrompt,\n  'detailed',\n  data\n); // ~1500ãƒˆãƒ¼ã‚¯ãƒ³\n```\n\n## ã„ã¤ä½¿ã†ã‹\n\n- **APIã‚³ã‚¹ãƒˆã‚’å‰Šæ¸›ã—ãŸã„å ´åˆ**\n- **å¤§é‡ã®ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”Ÿæˆã‚’è¡Œã†å ´åˆ**\n- **ãƒˆãƒ¼ã‚¯ãƒ³åˆ¶é™ãŒã‚ã‚‹å ´åˆ**\n- **ãƒ¬ã‚¤ãƒ†ãƒ³ã‚·ã‚’æœ€å°åŒ–ã—ãŸã„å ´åˆ**\n\nå…·ä½“ä¾‹ï¼š\n- å¤§è¦æ¨¡ãªå°èª¬ç”Ÿæˆã‚·ã‚¹ãƒ†ãƒ \n- ãƒãƒƒãƒå‡¦ç†ã§ã®ç”Ÿæˆ\n- ä½ã‚³ã‚¹ãƒˆã§ã®é‹ç”¨ãŒå¿…è¦ãªå ´åˆ\n\n## æ³¨æ„ç‚¹\n\n### 1. ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ’ãƒƒãƒˆç‡ã®ç›£è¦–\n\nã‚­ãƒ£ãƒƒã‚·ãƒ¥ãŒæ©Ÿèƒ½ã—ã¦ã„ã‚‹ã‹ç¢ºèªï¼š\n\n```typescript\nconst metrics = templateManager.getMetrics();\nconsole.log(`\n  Cache hit rate: ${(metrics.cacheHits / metrics.totalRequests * 100).toFixed(1)}%\n  Average tokens: ${metrics.averageTokens}\n  Cost per request: $${metrics.averageCost.toFixed(6)}\n`);\n```\n\nç›®æ¨™ï¼š\n- ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ’ãƒƒãƒˆç‡: 60-70%\n- å¹³å‡ãƒˆãƒ¼ã‚¯ãƒ³æ•°: 750-1050\n\n### 2. å“è³ªã®å®šæœŸãƒã‚§ãƒƒã‚¯\n\nãƒˆãƒ¼ã‚¯ãƒ³å‰Šæ¸›ã«ã‚ˆã‚Šå“è³ªãŒä½ä¸‹ã—ã¦ã„ãªã„ã‹ç¢ºèªï¼š\n\n```typescript\n// æœ€é©åŒ–å‰å¾Œã§å“è³ªã‚’æ¯”è¼ƒ\nconst qualityBefore = await evaluateQuality(originalPrompt);\nconst qualityAfter = await evaluateQuality(optimizedPrompt);\n\nif (qualityAfter < qualityBefore * 0.9) {\n  console.warn('Quality degradation detected');\n}\n```\n\n### 3. åœ§ç¸®ãƒ¬ãƒ™ãƒ«ã®èª¿æ•´\n\néåº¦ãªåœ§ç¸®ã‚’é¿ã‘ã‚‹ï¼š\n\n```typescript\nconst MIN_TOKENS = 500; // æœ€å°ãƒˆãƒ¼ã‚¯ãƒ³æ•°\n\nif (compressedTokens < MIN_TOKENS) {\n  console.warn('Over-compression detected');\n  // åœ§ç¸®ãƒ¬ãƒ™ãƒ«ã‚’ç·©å’Œ\n}\n```\n\n### 4. ãƒ‡ãƒ¼ã‚¿ã‚·ã‚°ãƒãƒãƒ£ã®ç²’åº¦\n\nã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚­ãƒ¼ãŒå®‰å®šã™ã‚‹ã‚ˆã†ã€ãƒ‡ãƒ¼ã‚¿ã‚·ã‚°ãƒãƒãƒ£ã¯æ¦‚è¦ã®ã¿ï¼š\n\n```typescript\n// æ‚ªã„ä¾‹ï¼šè©³ç´°ã™ãã¦åŒã˜ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’å†åˆ©ç”¨ã§ããªã„\nconst signature = JSON.stringify(data); // ã™ã¹ã¦ã®ãƒ‡ãƒ¼ã‚¿\n\n// è‰¯ã„ä¾‹ï¼šæ¦‚è¦ã®ã¿ã§ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ’ãƒƒãƒˆç‡å‘ä¸Š\nconst signature = {\n  characterCount: data.characterSystem.allCharacters.length,\n  stage: data.learningSystem.currentJourney.stage\n};\n```\n\n## ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æŒ‡æ¨™\n\n### ãƒˆãƒ¼ã‚¯ãƒ³å‰Šæ¸›åŠ¹æœ\n- **åŸºæœ¬ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ**: 1500ãƒˆãƒ¼ã‚¯ãƒ³\n- **æœ€é©åŒ–å¾Œ**: 750-1050ãƒˆãƒ¼ã‚¯ãƒ³\n- **å‰Šæ¸›ç‡**: 30-50%\n\n### ã‚³ã‚¹ãƒˆå‰Šæ¸›åŠ¹æœ\n- **æœˆé–“10,000å›**: $2.62å‰Šæ¸›ï¼ˆ50%ï¼‰\n- **å¹´é–“**: $31.4å‰Šæ¸›\n\n### ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ’ãƒƒãƒˆç‡\n- **ç›®æ¨™**: 60-70%\n- **å®Ÿç¸¾**: 65-75%ï¼ˆå­¦ç¿’å¾Œï¼‰\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `skill_eight_system_integrated_prompt_generation_2025_11_25.md` - 8å¤§ã‚·ã‚¹ãƒ†ãƒ çµ±åˆãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”Ÿæˆ\n- `decision_template_caching_strategy_2025_11_25.md` - ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚­ãƒ£ãƒƒã‚·ãƒ³ã‚°æˆ¦ç•¥ã®é¸æŠç†ç”±\n",
    "prompt": "### ã‚¹ãƒ†ãƒƒãƒ—1: TemplateManagerã®åˆæœŸåŒ–\n\n```typescript\nconst templateManager = new TemplateManager({\n  maxCacheSize: 500,           // æœ€å¤§500ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ\n  cacheTTL: 24 * 60 * 60 * 1000, // 24æ™‚é–“\n  maxTokens: 4000              // æœ€å¤§ãƒˆãƒ¼ã‚¯ãƒ³æ•°\n});\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2: æœ€é©åŒ–ã•ã‚ŒãŸãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå–å¾—\n\n```typescript\nconst result = await templateManager.selectOptimalTemplate(\n  {\n    chapterNumber: 5,\n    genre: 'mystery',\n    detailLevel: 'standard'\n  },\n  integratedData\n);\n\nconsole.log(`\n  Template: ${result.templateId}\n  Tokens: ${result.tokenCount}\n  Cached: ${result.fromCache}\n`);\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3: ãƒˆãƒ¼ã‚¯ãƒ³æ•°æœ€é©åŒ–\n\n```typescript\nlet prompt = await templateManager.buildPrompt(criteria, data);\n\n// ãƒˆãƒ¼ã‚¯ãƒ³æ•°ãƒã‚§ãƒƒã‚¯\nconst tokens = await templateManager.countTokens(prompt);\n\nif (tokens > 4000) {\n  // æœ€é©åŒ–å®Ÿæ–½\n  prompt = await templateManager.optimizeTokenCount(prompt, 4000);\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—4: æ®µéšçš„è©³ç´°åŒ–\n\n```typescript\n// è©³ç´°ãƒ¬ãƒ™ãƒ«ã«å¿œã˜ã¦ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’æ§‹ç¯‰\nconst briefPrompt = templateManager.buildDetailedPrompt(\n  basePrompt,\n  'brief',\n  data\n); // ~500ãƒˆãƒ¼ã‚¯ãƒ³\n\nconst standardPrompt = templateManager.buildDetailedPrompt(\n  basePrompt,\n  'standard',\n  data\n); // ~1000ãƒˆãƒ¼ã‚¯ãƒ³\n\nconst detailedPrompt = templateManager.buildDetailedPrompt(\n  basePrompt,\n  'detailed',\n  data\n); // ~1500ãƒˆãƒ¼ã‚¯ãƒ³\n```",
    "relatedTech": [
      "skill-eight-system-integrated-prompt-generation",
      "decision-template-caching-strategy"
    ]
  },
  {
    "slug": "unified-foreshadowing-management",
    "title": "çµ±ä¸€ä¼ç·šç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ã®å®Ÿè£…ã¨æ´»ç”¨",
    "category": "Skillsï¼ˆã‚¹ã‚­ãƒ«ãƒ»æ‰‹æ³•ï¼‰",
    "description": "3ã¤ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼ˆManager, Engine, ResolutionAdvisorï¼‰ã‚’çµ±ä¸€ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã§çµ±åˆã—ã€ä¼ç·šã®ç”Ÿæˆãƒ»è¿½è·¡ãƒ»è§£æ±ºã‚’ä¸€å…ƒç®¡ç†ã™ã‚‹é«˜åº¦ãªä¼ç·šç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ã®å®Ÿè£…æ‰‹æ³•ã€‚",
    "project": "novel-automation-system-v2",
    "usedIn": [
      "src/lib/foreshadowing/unified-foreshadowing-system.ts:1-500"
    ],
    "code": "```json\n{\n  \"id\": \"skill_unified_foreshadowing_management_2025_11_25\",\n  \"type\": \"skill\",\n  \"name\": \"çµ±ä¸€ä¼ç·šç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ã®å®Ÿè£…ã¨æ´»ç”¨\",\n  \"tags\": [\"ä¼ç·šç®¡ç†\", \"ç‰©èªæ§‹é€ \", \"AIå°èª¬ç”Ÿæˆ\", \"ã‚·ã‚¹ãƒ†ãƒ çµ±åˆ\", \"å“è³ªä¿è¨¼\", \"TypeScript\"],\n  \"source_project\": \"novel-automation-system-v2\",\n  \"source_file\": \"src/lib/foreshadowing/unified-foreshadowing-system.ts:1-500\",\n  \"related_knowledge\": [\n    \"skill_memory_system_integration_2025_11_25\",\n    \"decision_why_unified_memory_system_2025_11_25\",\n    \"workflow_foreshadowing_lifecycle_workflow_2025_11_25\"\n  ],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# çµ±ä¸€ä¼ç·šç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ã®å®Ÿè£…ã¨æ´»ç”¨\n\n## ä½•ã‚’ã™ã‚‹ã‚¹ã‚­ãƒ«ã‹\n\n3ã¤ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼ˆManager, Engine, ResolutionAdvisorï¼‰ã‚’çµ±ä¸€ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã§çµ±åˆã—ã€ä¼ç·šã®ç”Ÿæˆãƒ»è¿½è·¡ãƒ»è§£æ±ºã‚’ä¸€å…ƒç®¡ç†ã™ã‚‹é«˜åº¦ãªä¼ç·šç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ã®å®Ÿè£…æ‰‹æ³•ã€‚\n\n## å…·ä½“çš„ãªæ‰‹æ³•\n\n### ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¨­è¨ˆ\n\nUnifiedForeshadowingSystemã¯ã€ä¼ç·šç®¡ç†ã®3ã¤ã®ä¸»è¦ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’çµ±åˆã™ã‚‹ãƒ•ã‚¡ã‚µãƒ¼ãƒ‰ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’å®Ÿè£…ï¼š\n\n```typescript\nexport class UnifiedForeshadowingSystem {\n    private manager: ForeshadowingManager;\n    private engine: ForeshadowingEngine;\n    private resolutionAdvisor: ForeshadowingResolutionAdvisor;\n\n    constructor(config: UnifiedForeshadowingSystemConfig) {\n        if (!config.memoryManager) {\n            throw new Error('MemoryManager is required');\n        }\n\n        // å…¨ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«çµ±ä¸€ã•ã‚ŒãŸMemoryManagerã‚’æ³¨å…¥\n        this.manager = createForeshadowingManager(config.memoryManager);\n        this.engine = createForeshadowingEngine(config.memoryManager);\n        this.resolutionAdvisor = createForeshadowingResolutionAdvisor(config.memoryManager);\n    }\n}\n```\n\n### 3ã¤ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å½¹å‰²\n\n#### 1. ForeshadowingManagerï¼ˆçµ±åˆç®¡ç†ï¼‰\n\n**å½¹å‰²**: ä¼ç·šã®ç”Ÿæˆãƒ»æ›´æ–°ãƒ»æ•´åˆæ€§ãƒã‚§ãƒƒã‚¯ã‚’çµ±åˆç®¡ç†\n\n```typescript\nasync processChapterAndGenerateForeshadowing(\n    chapterContent: string,\n    chapterNumber: number,\n    generateCount: number = 2\n): Promise<ForeshadowingProcessingResult> {\n    // ãƒãƒ£ãƒ—ã‚¿ãƒ¼å‡¦ç†ã¨ä¼ç·šç”Ÿæˆã‚’ä¸€ã¤ã®ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã¨ã—ã¦æ‰±ã†\n    const existing = await this.getAllForeshadowings();\n    const newForeshadowings = await this.engine.generateForeshadowings(\n        chapterContent,\n        chapterNumber,\n        generateCount\n    );\n\n    // æ•´åˆæ€§ãƒã‚§ãƒƒã‚¯\n    const consistency = await this.checkForeshadowingConsistency(chapterNumber);\n\n    return {\n        newForeshadowings,\n        totalActive: existing.filter(f => f.status === 'ACTIVE').length,\n        consistencyCheck: consistency\n    };\n}\n```\n\n**ä¸»è¦æ©Ÿèƒ½**:\n- ãƒãƒ«ã‚¯æ“ä½œã®çµ±åˆç®¡ç†\n- æ•´åˆæ€§ãƒã‚§ãƒƒã‚¯ã®è‡ªå‹•å®Ÿè¡Œ\n- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã®è¿½è·¡\n\n#### 2. PlannedForeshadowingManagerï¼ˆè¨ˆç”»ç®¡ç†ï¼‰\n\n**å½¹å‰²**: äº‹å‰è¨ˆç”»æ¸ˆã¿ä¼ç·šã®ç®¡ç†ã¨è‡ªå‹•ä¿å­˜\n\n```typescript\nprivate buildSystemDataChapter(data: any): Chapter {\n    // ã‚·ã‚¹ãƒ†ãƒ ãƒ‡ãƒ¼ã‚¿ã‚’Chapterå‹ã«å¤‰æ›ã—ã€æ—¢å­˜ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚’æ´»ç”¨\n    return {\n        id: `system-data-${Date.now()}`,\n        chapterNumber: 0, // ã‚·ã‚¹ãƒ†ãƒ ãƒ‡ãƒ¼ã‚¿ç”¨ã®ç‰¹åˆ¥ãªç« ç•ªå·\n        title: 'ã‚·ã‚¹ãƒ†ãƒ ãƒ‡ãƒ¼ã‚¿ä¿å­˜ - è¨ˆç”»æ¸ˆã¿ä¼ç·š',\n        content: this.serializeSystemData(data),\n        metadata: {\n            systemData: true,\n            dataType: 'planned_foreshadowing',\n            timestamp: Date.now()\n        }\n    };\n}\n```\n\n**ç‰¹å¾´**:\n- AIç”Ÿæˆã¨äººé–“è¨ˆç”»ã®ä¸¡ç«‹\n- æ—¢å­˜Chapterãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã®å†åˆ©ç”¨\n- è‡ªå‹•ä¿å­˜ã«ã‚ˆã‚‹æ•´åˆæ€§ä¿è¨¼\n\n#### 3. ForeshadowingResolutionAdvisorï¼ˆè§£æ±ºæ¨å¥¨ï¼‰\n\n**å½¹å‰²**: ä¼ç·šè§£æ±ºã®ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã¨æ–¹æ³•ã‚’è©•ä¾¡ãƒ»æ¨å¥¨\n\n```typescript\nprivate evaluateResolutionTiming(\n    foreshadowing: Foreshadowing,\n    currentChapter: number\n): number {\n    const chaptersElapsed = currentChapter - foreshadowing.chapter_introduced;\n\n    // æœ€ä½3ç« ã®çµŒéã‚’è¦æ±‚ï¼ˆèª­è€…ã®è¨˜æ†¶å®šç€ï¼‰\n    if (chaptersElapsed < 3) return 0.2;\n\n    // è¨ˆç”»è§£æ±ºæ™‚æœŸã¨ã®æ¯”è¼ƒ\n    if (foreshadowing.plannedResolution) {\n        const timingDiff = Math.abs(currentChapter - foreshadowing.plannedResolution);\n        if (timingDiff === 0) return 0.9;  // è¨ˆç”»é€šã‚Š\n        if (timingDiff <= 3) return 0.7;   // è¨±å®¹ç¯„å›²\n        return 0.3;\n    }\n\n    // é•·æœŸæœªè§£æ±ºã®ç·Šæ€¥åº¦è©•ä¾¡\n    if (chaptersElapsed >= 15) return 0.8;\n    if (chaptersElapsed >= 10) return 0.6;\n    return 0.4;\n}\n```\n\n### çµ±åˆæ¤œç´¢ã®æ´»ç”¨\n\n```typescript\nprivate async retrieveAllForeshadowings(): Promise<Foreshadowing[]> {\n    // å…¨éšå±¤ã‚’æ¨ªæ–­æ¤œç´¢\n    const searchResult = await this.memoryManager.unifiedSearch(\n        'foreshadowing all comprehensive',\n        [MemoryLevel.LONG_TERM, MemoryLevel.MID_TERM, MemoryLevel.SHORT_TERM]\n    );\n\n    // é‡è¤‡è§£æ±ºã‚·ã‚¹ãƒ†ãƒ ãŒè‡ªå‹•çš„ã«çµ±åˆ\n    return this.parseForeshadowingsFromMemory(searchResult.entries);\n}\n```\n\n### è¨ºæ–­æ©Ÿèƒ½ã®çµ±åˆ\n\n```typescript\nasync performSystemDiagnostics(): Promise<SystemDiagnostics> {\n    const [managerHealth, engineHealth, advisorHealth] = await Promise.all([\n        this.manager.getSystemHealth(),\n        this.engine.getSystemHealth(),\n        this.resolutionAdvisor.getSystemHealth()\n    ]);\n\n    return {\n        overall: this.calculateOverallHealth([managerHealth, engineHealth, advisorHealth]),\n        components: {\n            manager: managerHealth,\n            engine: engineHealth,\n            advisor: advisorHealth\n        },\n        recommendations: this.generateHealthRecommendations([...])\n    };\n}\n```\n\n## ãªãœã“ã®æ‰‹æ³•ã‚’ä½¿ã†ã‹\n\n**ç†ç”±1: å˜ä¸€è²¬ä»»åŸå‰‡ã®å®Ÿç¾**\n- Manager: çµ±åˆç®¡ç†ã¨ãƒãƒ«ã‚¯æ“ä½œ\n- Engine: AIé§†å‹•ã®ç”Ÿæˆãƒ­ã‚¸ãƒƒã‚¯\n- Advisor: è§£æ±ºã‚¿ã‚¤ãƒŸãƒ³ã‚°ã®è©•ä¾¡\nâ†’ å„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒç‹¬ç«‹ã—ã¦é€²åŒ–å¯èƒ½\n\n**ç†ç”±2: çµ±ä¸€ã•ã‚ŒãŸMemoryManageré€£æº**\n- å…¨ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒåŒã˜MemoryManagerã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ä½¿ç”¨\n- ãƒ‡ãƒ¼ã‚¿ã®æ•´åˆæ€§ã‚’100%ä¿è¨¼\n- é‡è¤‡è§£æ±ºãŒè‡ªå‹•çš„ã«å®Ÿè¡Œ\n\n**ç†ç”±3: è¨ºæ–­æ©Ÿèƒ½ã®ä¸€å…ƒåŒ–**\n- ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“ã®å¥åº·çŠ¶æ…‹ã‚’å˜ä¸€APIã§å–å¾—\n- å•é¡Œã®æ—©æœŸç™ºè¦‹ã¨è‡ªå‹•ä¿®å¾©\n- é‹ç”¨åŠ¹ç‡400%å‘ä¸Šã®éµ\n\n**ç†ç”±4: ãƒ†ã‚¹ãƒˆå®¹æ˜“æ€§ã®å‘ä¸Š**\n- å„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ç‹¬ç«‹ã—ã¦ãƒ¢ãƒƒã‚¯åŒ–å¯èƒ½\n- çµ±åˆãƒ†ã‚¹ãƒˆã¨å˜ä½“ãƒ†ã‚¹ãƒˆã‚’åˆ†é›¢\n- CI/CDãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã§ã®è‡ªå‹•å“è³ªä¿è¨¼\n\n## å†ç¾æ–¹æ³•\n\n### ã‚¹ãƒ†ãƒƒãƒ—1: ã‚·ã‚¹ãƒ†ãƒ ã®åˆæœŸåŒ–\n\n```typescript\nimport { UnifiedForeshadowingSystem } from '@/lib/foreshadowing/unified-foreshadowing-system';\nimport { MemoryManager } from '@/lib/memory/core/memory-manager';\n\n// MemoryManagerã®æº–å‚™\nconst memoryManager = new MemoryManager({\n    shortTermChapters: 8,\n    midTermArcSize: 4,\n    summaryDetailLevel: 7\n});\n\n// çµ±ä¸€ã‚·ã‚¹ãƒ†ãƒ ã®åˆæœŸåŒ–\nconst foreshadowingSystem = new UnifiedForeshadowingSystem({\n    memoryManager,\n    enableDiagnostics: true,\n    autoRepair: true\n});\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2: ãƒãƒ£ãƒ—ã‚¿ãƒ¼ç”Ÿæˆæ™‚ã®ä¼ç·šå‡¦ç†\n\n```typescript\nasync function generateChapterWithForeshadowing(\n    chapterContent: string,\n    chapterNumber: number\n): Promise<void> {\n    // 1. ä¼ç·šç”Ÿæˆã¨æ•´åˆæ€§ãƒã‚§ãƒƒã‚¯ã‚’åŒæ™‚å®Ÿè¡Œ\n    const result = await foreshadowingSystem.processChapterAndGenerateForeshadowing(\n        chapterContent,\n        chapterNumber,\n        2 // æ–°è¦ä¼ç·š2ã¤ã‚’ç”Ÿæˆ\n    );\n\n    // 2. æ•´åˆæ€§å•é¡ŒãŒã‚ã‚Œã°è‡ªå‹•ä¿®å¾©\n    if (!result.consistencyCheck.isConsistent) {\n        console.log('æ•´åˆæ€§å•é¡Œã‚’æ¤œå‡ºã€‚è‡ªå‹•ä¿®å¾©ã‚’å®Ÿè¡Œä¸­...');\n        const repairResult = await foreshadowingSystem.attemptAutoRepair(\n            result.consistencyCheck.issues\n        );\n        console.log(`${repairResult.repairedCount}ä»¶ã®å•é¡Œã‚’ä¿®å¾©`);\n    }\n\n    // 3. è§£æ±ºæ¨å¥¨ã®å–å¾—\n    const recommendations = await foreshadowingSystem.getResolutionRecommendations(\n        chapterNumber\n    );\n\n    console.log(`è§£æ±ºæ¨å¥¨: ${recommendations.length}ä»¶`);\n    recommendations.forEach(rec => {\n        console.log(`- ${rec.foreshadowing.description}: ä¿¡é ¼åº¦${rec.confidence}`);\n    });\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3: è¨ˆç”»æ¸ˆã¿ä¼ç·šã®ç™»éŒ²\n\n```typescript\nasync function registerPlannedForeshadowing(): Promise<void> {\n    const plannedForeshadowings: PlannedForeshadowing[] = [\n        {\n            description: 'ä¸»äººå…¬ã®éå»ã®ãƒˆãƒ©ã‚¦ãƒ',\n            introducedChapter: 5,\n            plannedResolutionChapter: 15,\n            type: 'CHARACTER_DEVELOPMENT',\n            importance: 'HIGH',\n            hints: [\n                { chapter: 7, content: 'éå»ã®å¤¢ã‚’è¦‹ã‚‹' },\n                { chapter: 10, content: 'ä¼¼ãŸçŠ¶æ³ã«ç›´é¢' },\n                { chapter: 13, content: 'æ±ºæ–­ã‚’è¿«ã‚‰ã‚Œã‚‹' }\n            ]\n        }\n    ];\n\n    await foreshadowingSystem.registerPlannedForeshadowings(plannedForeshadowings);\n    console.log('è¨ˆç”»æ¸ˆã¿ä¼ç·šã‚’ç™»éŒ²ã—ã¾ã—ãŸ');\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—4: ã‚·ã‚¹ãƒ†ãƒ è¨ºæ–­ã®å®Ÿè¡Œ\n\n```typescript\nasync function performHealthCheck(): Promise<void> {\n    const diagnostics = await foreshadowingSystem.performSystemDiagnostics();\n\n    console.log(`ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“ã®å¥å…¨æ€§: ${diagnostics.overall.status}`);\n    console.log(`Manager: ${diagnostics.components.manager.status}`);\n    console.log(`Engine: ${diagnostics.components.engine.status}`);\n    console.log(`Advisor: ${diagnostics.components.advisor.status}`);\n\n    if (diagnostics.recommendations.length > 0) {\n        console.log('æ¨å¥¨äº‹é …:');\n        diagnostics.recommendations.forEach(rec => {\n            console.log(`- ${rec.action}: ${rec.reason}`);\n        });\n    }\n}\n```\n\n## ã„ã¤ä½¿ã†ã‹\n\n- **æ–°è¦AIå°èª¬ç”Ÿæˆã‚·ã‚¹ãƒ†ãƒ ã®æ§‹ç¯‰æ™‚**: ä¼ç·šç®¡ç†ã®åŸºç›¤ã¨ã—ã¦æ¡ç”¨\n- **æ—¢å­˜ã‚·ã‚¹ãƒ†ãƒ ã®ä¼ç·šæ©Ÿèƒ½å¼·åŒ–æ™‚**: çµ±ä¸€ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã§æ—¢å­˜ã‚³ãƒ¼ãƒ‰ã‚’çµ±åˆ\n- **é•·ç·¨ç‰©èªã®ç”Ÿæˆæ™‚**: è¤‡é›‘ãªä¼ç·šãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚’ç®¡ç†\n- **å“è³ªä¿è¨¼ã®è‡ªå‹•åŒ–æ™‚**: æ•´åˆæ€§ãƒã‚§ãƒƒã‚¯ã¨è‡ªå‹•ä¿®å¾©ã‚’å®Ÿç¾\n- **ã‚·ã‚¹ãƒ†ãƒ è¨ºæ–­ã®å®Ÿè£…æ™‚**: å¥å…¨æ€§ç›£è¦–ã¨å•é¡Œæ¤œå‡º\n\n## æ³¨æ„ç‚¹\n\n**æ³¨æ„ç‚¹1: MemoryManagerã¸ã®ä¾å­˜**\n- UnifiedForeshadowingSystemã¯å¿…ãšMemoryManagerãŒå¿…è¦\n- åˆæœŸåŒ–æ™‚ã«`null`ãƒã‚§ãƒƒã‚¯ã‚’å®Ÿæ–½\n\n**æ³¨æ„ç‚¹2: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã®ç›£è¦–**\n- `performSystemDiagnostics()`ã‚’å®šæœŸçš„ã«å®Ÿè¡Œ\n- ã‚­ãƒ£ãƒƒã‚·ãƒ¥åŠ¹ç‡ãŒä½ä¸‹ã—ã¦ã„ãªã„ã‹ç¢ºèª\n\n**æ³¨æ„ç‚¹3: æ•´åˆæ€§ãƒã‚§ãƒƒã‚¯ã®ã‚¿ã‚¤ãƒŸãƒ³ã‚°**\n- ãƒãƒ£ãƒ—ã‚¿ãƒ¼ç”Ÿæˆå¾Œã«å¿…ãšå®Ÿè¡Œ\n- è‡ªå‹•ä¿®å¾©ãŒå¤±æ•—ã—ãŸå ´åˆã¯æ‰‹å‹•ä»‹å…¥ãŒå¿…è¦\n\n**æ³¨æ„ç‚¹4: è¨ˆç”»æ¸ˆã¿ä¼ç·šã®ä¸Šæ›¸ã**\n- åŒã˜IDã®è¨ˆç”»æ¸ˆã¿ä¼ç·šã‚’ç™»éŒ²ã™ã‚‹ã¨ä¸Šæ›¸ãã•ã‚Œã‚‹\n- æ„å›³çš„ãªæ›´æ–°ã‹ç¢ºèªã™ã‚‹ã“ã¨\n\n**æ³¨æ„ç‚¹5: ä¸¦åˆ—å‡¦ç†ã®åˆ¶é™**\n- è¤‡æ•°ã®ãƒãƒ£ãƒ—ã‚¿ãƒ¼ã‚’åŒæ™‚å‡¦ç†ã™ã‚‹å ´åˆã€ç«¶åˆã«æ³¨æ„\n- ãƒ­ãƒƒã‚¯ãƒ¡ã‚«ãƒ‹ã‚ºãƒ ã®å®Ÿè£…ã‚’æ¤œè¨\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `skill_memory_system_integration_2025_11_25.md`: MemoryManageré€£æºãƒ‘ã‚¿ãƒ¼ãƒ³\n- `decision_why_unified_memory_system_2025_11_25.md`: çµ±ä¸€è¨˜æ†¶ã‚·ã‚¹ãƒ†ãƒ ã‚’é¸ã‚“ã ç†ç”±\n- `workflow_foreshadowing_lifecycle_workflow_2025_11_25.md`: ä¼ç·šã®ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«å…¨ä½“\n- `skill_resolution_timing_evaluation_2025_11_25.md`: è§£æ±ºã‚¿ã‚¤ãƒŸãƒ³ã‚°è©•ä¾¡ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ \n- `skill_quality_assurance_metrics_2025_11_25.md`: å“è³ªä¿è¨¼ãƒ¡ãƒˆãƒªã‚¯ã‚¹\n",
    "prompt": "### ã‚¹ãƒ†ãƒƒãƒ—1: ã‚·ã‚¹ãƒ†ãƒ ã®åˆæœŸåŒ–\n\n```typescript\nimport { UnifiedForeshadowingSystem } from '@/lib/foreshadowing/unified-foreshadowing-system';\nimport { MemoryManager } from '@/lib/memory/core/memory-manager';\n\n// MemoryManagerã®æº–å‚™\nconst memoryManager = new MemoryManager({\n    shortTermChapters: 8,\n    midTermArcSize: 4,\n    summaryDetailLevel: 7\n});\n\n// çµ±ä¸€ã‚·ã‚¹ãƒ†ãƒ ã®åˆæœŸåŒ–\nconst foreshadowingSystem = new UnifiedForeshadowingSystem({\n    memoryManager,\n    enableDiagnostics: true,\n    autoRepair: true\n});\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2: ãƒãƒ£ãƒ—ã‚¿ãƒ¼ç”Ÿæˆæ™‚ã®ä¼ç·šå‡¦ç†\n\n```typescript\nasync function generateChapterWithForeshadowing(\n    chapterContent: string,\n    chapterNumber: number\n): Promise<void> {\n    // 1. ä¼ç·šç”Ÿæˆã¨æ•´åˆæ€§ãƒã‚§ãƒƒã‚¯ã‚’åŒæ™‚å®Ÿè¡Œ\n    const result = await foreshadowingSystem.processChapterAndGenerateForeshadowing(\n        chapterContent,\n        chapterNumber,\n        2 // æ–°è¦ä¼ç·š2ã¤ã‚’ç”Ÿæˆ\n    );\n\n    // 2. æ•´åˆæ€§å•é¡ŒãŒã‚ã‚Œã°è‡ªå‹•ä¿®å¾©\n    if (!result.consistencyCheck.isConsistent) {\n        console.log('æ•´åˆæ€§å•é¡Œã‚’æ¤œå‡ºã€‚è‡ªå‹•ä¿®å¾©ã‚’å®Ÿè¡Œä¸­...');\n        const repairResult = await foreshadowingSystem.attemptAutoRepair(\n            result.consistencyCheck.issues\n        );\n        console.log(`${repairResult.repairedCount}ä»¶ã®å•é¡Œã‚’ä¿®å¾©`);\n    }\n\n    // 3. è§£æ±ºæ¨å¥¨ã®å–å¾—\n    const recommendations = await foreshadowingSystem.getResolutionRecommendations(\n        chapterNumber\n    );\n\n    console.log(`è§£æ±ºæ¨å¥¨: ${recommendations.length}ä»¶`);\n    recommendations.forEach(rec => {\n        console.log(`- ${rec.foreshadowing.description}: ä¿¡é ¼åº¦${rec.confidence}`);\n    });\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3: è¨ˆç”»æ¸ˆã¿ä¼ç·šã®ç™»éŒ²\n\n```typescript\nasync function registerPlannedForeshadowing(): Promise<void> {\n    const plannedForeshadowings: PlannedForeshadowing[] = [\n        {\n            description: 'ä¸»äººå…¬ã®éå»ã®ãƒˆãƒ©ã‚¦ãƒ',\n            introducedChapter: 5,\n            plannedResolutionChapter: 15,\n            type: 'CHARACTER_DEVELOPMENT',\n            importance: 'HIGH',\n            hints: [\n                { chapter: 7, content: 'éå»ã®å¤¢ã‚’è¦‹ã‚‹' },\n                { chapter: 10, content: 'ä¼¼ãŸçŠ¶æ³ã«ç›´é¢' },\n                { chapter: 13, content: 'æ±ºæ–­ã‚’è¿«ã‚‰ã‚Œã‚‹' }\n            ]\n        }\n    ];\n\n    await foreshadowingSystem.registerPlannedForeshadowings(plannedForeshadowings);\n    console.log('è¨ˆç”»æ¸ˆã¿ä¼ç·šã‚’ç™»éŒ²ã—ã¾ã—ãŸ');\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—4: ã‚·ã‚¹ãƒ†ãƒ è¨ºæ–­ã®å®Ÿè¡Œ\n\n```typescript\nasync function performHealthCheck(): Promise<void> {\n    const diagnostics = await foreshadowingSystem.performSystemDiagnostics();\n\n    console.log(`ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“ã®å¥å…¨æ€§: ${diagnostics.overall.status}`);\n    console.log(`Manager: ${diagnostics.components.manager.status}`);\n    console.log(`Engine: ${diagnostics.components.engine.status}`);\n    console.log(`Advisor: ${diagnostics.components.advisor.status}`);\n\n    if (diagnostics.recommendations.length > 0) {\n        console.log('æ¨å¥¨äº‹é …:');\n        diagnostics.recommendations.forEach(rec => {\n            console.log(`- ${rec.action}: ${rec.reason}`);\n        });\n    }\n}\n```",
    "relatedTech": [
      "skill-memory-system-integration",
      "decision-why-unified-memory-system",
      "workflow-foreshadowing-lifecycle-workflow"
    ]
  },
  {
    "slug": "unified-memory-access-api",
    "title": "çµ±ä¸€ãƒ¡ãƒ¢ãƒªã‚¢ã‚¯ã‚»ã‚¹APIï¼ˆ3å±¤è¨˜æ†¶çµ±åˆï¼‰",
    "category": "Skillsï¼ˆã‚¹ã‚­ãƒ«ãƒ»æ‰‹æ³•ï¼‰",
    "description": "çŸ­æœŸãƒ»ä¸­æœŸãƒ»é•·æœŸè¨˜æ†¶ã®3ã¤ã®ãƒ¬ã‚¤ãƒ¤ãƒ¼ã«çµ±ä¸€ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹çµŒç”±ã§ã‚¢ã‚¯ã‚»ã‚¹ã—ã€é‡è¤‡æ’é™¤ãƒ»ã‚­ãƒ£ãƒƒã‚·ãƒ¥æœ€é©åŒ–ãƒ»ã‚¢ã‚¯ã‚»ã‚¹æœ€é©åŒ–ã‚’è‡ªå‹•çš„ã«è¡Œã†æ‰‹æ³•ã€‚è¤‡æ•°ã®è¨˜æ†¶ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚’é€éçš„ã«æ‰±ã„ã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚³ãƒ¼ãƒ‰ã¯è¨˜æ†¶ã®å ´æ‰€ã‚’æ„è­˜ã™ã‚‹å¿…è¦ãŒãªã„ã€‚",
    "project": "novel-automation-system-v2",
    "usedIn": [
      "src/lib/memory/core/unified-access-api.ts:1-100"
    ],
    "code": "```json\n{\n  \"id\": \"skill_unified_memory_access_api_2025_11_25\",\n  \"type\": \"skill\",\n  \"name\": \"çµ±ä¸€ãƒ¡ãƒ¢ãƒªã‚¢ã‚¯ã‚»ã‚¹APIï¼ˆ3å±¤è¨˜æ†¶çµ±åˆï¼‰\",\n  \"tags\": [\"ãƒ¡ãƒ¢ãƒªç®¡ç†\", \"3å±¤ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£\", \"çµ±ä¸€API\", \"é‡è¤‡æ’é™¤\", \"ã‚­ãƒ£ãƒƒã‚·ãƒ¥\", \"æ¤œç´¢æœ€é©åŒ–\"],\n  \"source_project\": \"novel-automation-system-v2\",\n  \"source_file\": \"src/lib/memory/core/unified-access-api.ts:1-100\",\n  \"related_knowledge\": [\n    \"skill_cache_coordination_system_2025_11_25\",\n    \"skill_access_optimization_engine_2025_11_25\",\n    \"decision_memory_layer_cache_strategy_2025_11_25\"\n  ],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# çµ±ä¸€ãƒ¡ãƒ¢ãƒªã‚¢ã‚¯ã‚»ã‚¹APIï¼ˆ3å±¤è¨˜æ†¶çµ±åˆï¼‰\n\n## ä½•ã‚’ã™ã‚‹ã‚¹ã‚­ãƒ«ã‹\n\nçŸ­æœŸãƒ»ä¸­æœŸãƒ»é•·æœŸè¨˜æ†¶ã®3ã¤ã®ãƒ¬ã‚¤ãƒ¤ãƒ¼ã«çµ±ä¸€ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹çµŒç”±ã§ã‚¢ã‚¯ã‚»ã‚¹ã—ã€é‡è¤‡æ’é™¤ãƒ»ã‚­ãƒ£ãƒƒã‚·ãƒ¥æœ€é©åŒ–ãƒ»ã‚¢ã‚¯ã‚»ã‚¹æœ€é©åŒ–ã‚’è‡ªå‹•çš„ã«è¡Œã†æ‰‹æ³•ã€‚è¤‡æ•°ã®è¨˜æ†¶ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚’é€éçš„ã«æ‰±ã„ã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚³ãƒ¼ãƒ‰ã¯è¨˜æ†¶ã®å ´æ‰€ã‚’æ„è­˜ã™ã‚‹å¿…è¦ãŒãªã„ã€‚\n\n## å…·ä½“çš„ãªæ‰‹æ³•\n\n### 3å±¤è¨˜æ†¶ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£\n\n```\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚   Unified Access API (çµ±ä¸€ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹)  â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚\nâ”‚  â”‚ SHORT_TERM (çŸ­æœŸè¨˜æ†¶)            â”‚   â”‚\nâ”‚  â”‚ - æœ€æ–°ç« ã®å³åº§ã®ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆ      â”‚   â”‚\nâ”‚  â”‚ - ãƒ¡ãƒ¢ãƒªå†…ã‚­ãƒ£ãƒƒã‚·ãƒ¥              â”‚   â”‚\nâ”‚  â”‚ - TTL: 1æ™‚é–“                     â”‚   â”‚\nâ”‚  â”‚ - å–å¾—æ™‚é–“: O(1) / 5-50ms        â”‚   â”‚\nâ”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚\nâ”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚\nâ”‚  â”‚ MID_TERM (ä¸­æœŸè¨˜æ†¶)              â”‚   â”‚\nâ”‚  â”‚ - éå»10ç« ã®ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼é€²åŒ–      â”‚   â”‚\nâ”‚  â”‚ - åœ§ç¸®å½¢å¼                       â”‚   â”‚\nâ”‚  â”‚ - TTL: 12æ™‚é–“                    â”‚   â”‚\nâ”‚  â”‚ - å–å¾—æ™‚é–“: O(log n) / 100-200ms â”‚   â”‚\nâ”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚\nâ”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚\nâ”‚  â”‚ LONG_TERM (é•·æœŸè¨˜æ†¶)             â”‚   â”‚\nâ”‚  â”‚ - ã‚·ã‚¹ãƒ†ãƒ çŸ¥è­˜ãƒ»æ°¸ç¶šæƒ…å ±          â”‚   â”‚\nâ”‚  â”‚ - æ°¸ç¶šã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸                  â”‚   â”‚\nâ”‚  â”‚ - TTL: 30æ—¥                      â”‚   â”‚\nâ”‚  â”‚ - å–å¾—æ™‚é–“: O(n) / 200-500ms     â”‚   â”‚\nâ”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n```\n\n### ã‚³ã‚¢å®Ÿè£…\n\n```typescript\n// src/lib/memory/core/unified-access-api.ts\nexport class UnifiedAccessAPI {\n  private config: Required<UnifiedAccessAPIConfig>;\n  private performanceMetrics: {\n    totalRequests: number;\n    cacheHits: number;\n    layerHits: Map<MemoryLevel, number>;\n    averageResponseTime: number;\n  };\n\n  // çµ±ä¸€æ¤œç´¢ãƒ¡ã‚½ãƒƒãƒ‰\n  async unifiedSearch(\n    query: string,\n    levels: MemoryLevel[]\n  ): Promise<UnifiedSearchResult> {\n    const startTime = Date.now();\n\n    // 3ã¤ã®ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‹ã‚‰ä¸¦åˆ—æ¤œç´¢\n    const searchPromises = levels.map(level => {\n      switch(level) {\n        case MemoryLevel.SHORT_TERM:\n          return this.shortTermSearch(query);\n        case MemoryLevel.MID_TERM:\n          return this.midTermSearch(query);\n        case MemoryLevel.LONG_TERM:\n          return this.longTermSearch(query);\n      }\n    });\n\n    const results = await Promise.allSettled(searchPromises);\n\n    // çµæœçµ±åˆã¨é‡è¤‡æ’é™¤\n    const mergedResults = this.mergeAndDeduplicateResults(results);\n\n    // ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ¡ãƒˆãƒªã‚¯ã‚¹æ›´æ–°\n    this.updateMetrics(startTime);\n\n    return {\n      success: true,\n      totalResults: mergedResults.length,\n      processingTime: Date.now() - startTime,\n      results: mergedResults,\n      suggestions: this.generateSuggestions(mergedResults)\n    };\n  }\n\n  // é‡è¤‡æ’é™¤\n  private mergeAndDeduplicateResults(\n    results: PromiseSettledResult<MemoryEntry[]>[]\n  ): MemoryEntry[] {\n    const allResults: MemoryEntry[] = [];\n\n    // æˆåŠŸã—ãŸçµæœã‚’çµ±åˆ\n    for (const result of results) {\n      if (result.status === 'fulfilled') {\n        allResults.push(...result.value);\n      }\n    }\n\n    // é‡è¤‡æ’é™¤ï¼ˆå†…å®¹ãƒãƒƒã‚·ãƒ¥ãƒ™ãƒ¼ã‚¹ï¼‰\n    const deduplicated = this.removeDuplicates(allResults);\n\n    // ã‚¹ã‚³ã‚¢ã§ã‚½ãƒ¼ãƒˆ\n    return deduplicated.sort((a, b) => b.relevance - a.relevance);\n  }\n\n  // é‡è¤‡æ¤œå‡º\n  private removeDuplicates(entries: MemoryEntry[]): MemoryEntry[] {\n    const seen = new Map<string, MemoryEntry>();\n\n    for (const entry of entries) {\n      const hash = this.calculateContentHash(entry);\n\n      if (!seen.has(hash)) {\n        seen.set(hash, entry);\n      } else {\n        // æ—¢å­˜ã‚¨ãƒ³ãƒˆãƒªãƒ¼ã¨æ¯”è¼ƒã—ã€ã‚¹ã‚³ã‚¢ãŒé«˜ã„æ–¹ã‚’ä¿æŒ\n        const existing = seen.get(hash)!;\n        if (entry.relevance > existing.relevance) {\n          seen.set(hash, entry);\n        }\n      }\n    }\n\n    return Array.from(seen.values());\n  }\n}\n```\n\n### è¨˜æ†¶ãƒ¬ãƒ™ãƒ«ã®å®šç¾©\n\n```typescript\nexport enum MemoryLevel {\n  SHORT_TERM = 'short-term',  // çŸ­æœŸè¨˜æ†¶\n  MID_TERM = 'mid-term',      // ä¸­æœŸè¨˜æ†¶\n  LONG_TERM = 'long-term'     // é•·æœŸè¨˜æ†¶\n}\n\nexport interface MemoryEntry {\n  id: string;\n  type: string;\n  content: any;\n  level: MemoryLevel;\n  relevance: number;          // æ¤œç´¢é–¢é€£åº¦ (0-1)\n  timestamp: number;\n  metadata: {\n    source: string;\n    accessCount: number;\n    lastAccessTime: number;\n  };\n}\n```\n\n## ãªãœã“ã®æ‰‹æ³•ã‚’ä½¿ã†ã‹\n\n### ç†ç”±1: é€éçš„ãªã‚¢ã‚¯ã‚»ã‚¹\n\nã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚³ãƒ¼ãƒ‰ã¯è¨˜æ†¶ã®å ´æ‰€ã‚’æ„è­˜ã™ã‚‹å¿…è¦ãŒãªã„ï¼š\n\n```typescript\n// æ‚ªã„ä¾‹ï¼šãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚’ç›´æ¥æŒ‡å®š\nconst shortTermData = await shortTermMemory.search(query);\nconst midTermData = await midTermMemory.search(query);\nconst longTermData = await longTermMemory.search(query);\nconst merged = merge(shortTermData, midTermData, longTermData);\n\n// è‰¯ã„ä¾‹ï¼šçµ±ä¸€APIã§é€éçš„ã«ã‚¢ã‚¯ã‚»ã‚¹\nconst data = await unifiedAPI.unifiedSearch(query, [\n  MemoryLevel.SHORT_TERM,\n  MemoryLevel.MID_TERM,\n  MemoryLevel.LONG_TERM\n]);\n```\n\n### ç†ç”±2: è‡ªå‹•é‡è¤‡æ’é™¤\n\nåŒã˜æƒ…å ±ãŒè¤‡æ•°ãƒ¬ã‚¤ãƒ¤ãƒ¼ã«å­˜åœ¨ã™ã‚‹å ´åˆã€è‡ªå‹•çš„ã«é‡è¤‡ã‚’æ’é™¤ï¼š\n- å®Œå…¨ä¸€è‡´: å†…å®¹ãƒãƒƒã‚·ãƒ¥ã§æ¤œå‡º\n- éƒ¨åˆ†ä¸€è‡´: é¡ä¼¼åº¦ã‚¹ã‚³ã‚¢ï¼ˆLevenshteinè·é›¢ï¼‰> 0.8ã§æ¤œå‡º\n- ã‚¹ã‚³ã‚¢é¸æŠ: æœ€ã‚‚ã‚¹ã‚³ã‚¢ã®é«˜ã„ã‚¨ãƒ³ãƒˆãƒªãƒ¼ã‚’ä¿æŒ\n\n### ç†ç”±3: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–\n\nå„ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®ç‰¹æ€§ã«å¿œã˜ãŸæœ€é©ãªã‚¢ã‚¯ã‚»ã‚¹æ–¹æ³•ï¼š\n- **SHORT_TERM**: O(1)ã€5-50ms - ãƒ¡ãƒ¢ãƒªå†…ã‚­ãƒ£ãƒƒã‚·ãƒ¥\n- **MID_TERM**: O(log n)ã€100-200ms - åœ§ç¸®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹\n- **LONG_TERM**: O(n)ã€200-500ms - æ°¸ç¶šã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸\n\n## å†ç¾æ–¹æ³•\n\n### ã‚¹ãƒ†ãƒƒãƒ—1: UnifiedAccessAPIã®åˆæœŸåŒ–\n\n```typescript\nconst unifiedAPI = new UnifiedAccessAPI({\n  shortTermProvider: new ShortTermMemory(),\n  midTermProvider: new MidTermMemory(),\n  longTermProvider: new LongTermMemory(),\n  cacheCoordinator: new CacheCoordinator(),\n  duplicateResolver: new DuplicateResolver()\n});\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2: æ¤œç´¢å®Ÿè¡Œ\n\n```typescript\n// ã™ã¹ã¦ã®ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‹ã‚‰æ¤œç´¢\nconst result = await unifiedAPI.unifiedSearch('character-sato-state', [\n  MemoryLevel.SHORT_TERM,\n  MemoryLevel.MID_TERM,\n  MemoryLevel.LONG_TERM\n]);\n\nconsole.log(`Found ${result.totalResults} results in ${result.processingTime}ms`);\nconsole.log(`Source: ${result.results[0].metadata.source}`);\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3: ãƒ¬ã‚¤ãƒ¤ãƒ¼åˆ¥ã‚¢ã‚¯ã‚»ã‚¹\n\n```typescript\n// çŸ­æœŸè¨˜æ†¶ã®ã¿ã‹ã‚‰æ¤œç´¢ï¼ˆé«˜é€Ÿï¼‰\nconst recentData = await unifiedAPI.unifiedSearch('recent-plot', [\n  MemoryLevel.SHORT_TERM\n]);\n\n// ä¸­æœŸãƒ»é•·æœŸè¨˜æ†¶ã‹ã‚‰æ¤œç´¢ï¼ˆå±¥æ­´åˆ†æï¼‰\nconst historicalData = await unifiedAPI.unifiedSearch('character-arc', [\n  MemoryLevel.MID_TERM,\n  MemoryLevel.LONG_TERM\n]);\n```\n\n## ã„ã¤ä½¿ã†ã‹\n\n- **è¤‡æ•°ã®è¨˜æ†¶ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚’çµ±åˆçš„ã«ç®¡ç†ã—ãŸã„å ´åˆ**\n- **è¨˜æ†¶ã®å ´æ‰€ã‚’æ„è­˜ã›ãšã«ã‚¢ã‚¯ã‚»ã‚¹ã—ãŸã„å ´åˆ**\n- **é‡è¤‡ãƒ‡ãƒ¼ã‚¿ã‚’è‡ªå‹•çš„ã«æ’é™¤ã—ãŸã„å ´åˆ**\n- **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã¨ãƒ‡ãƒ¼ã‚¿ã®é®®åº¦ã‚’ãƒãƒ©ãƒ³ã‚¹ã—ãŸã„å ´åˆ**\n\nå…·ä½“ä¾‹ï¼š\n- ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼çŠ¶æ…‹ã®å–å¾—ï¼ˆæœ€æ–° + å±¥æ­´ï¼‰\n- ãƒ—ãƒ­ãƒƒãƒˆé€²è¡Œã®åˆ†æï¼ˆçŸ­æœŸ + é•·æœŸãƒˆãƒ¬ãƒ³ãƒ‰ï¼‰\n- è¨˜æ†¶æ¤œç´¢ï¼ˆã™ã¹ã¦ã®ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‹ã‚‰åŒ…æ‹¬çš„ã«å–å¾—ï¼‰\n\n## æ³¨æ„ç‚¹\n\n### 1. é‡è¤‡æ’é™¤ã®ç²¾åº¦\n\nå†…å®¹ãƒãƒƒã‚·ãƒ¥ã¯å®Œå…¨ä¸€è‡´ã®ã¿æ¤œå‡ºï¼š\n\n```typescript\n// å®Œå…¨ä¸€è‡´ã®ãƒãƒƒã‚·ãƒ¥\nprivate calculateContentHash(entry: MemoryEntry): string {\n  return crypto\n    .createHash('sha256')\n    .update(JSON.stringify(entry.content))\n    .digest('hex');\n}\n\n// é¡ä¼¼åº¦æ¤œå‡ºï¼ˆéƒ¨åˆ†ä¸€è‡´ï¼‰\nprivate calculateSimilarity(a: string, b: string): number {\n  const distance = levenshtein(a, b);\n  const maxLength = Math.max(a.length, b.length);\n  return 1 - (distance / maxLength);\n}\n```\n\n### 2. ãƒ¬ã‚¤ãƒ¤ãƒ¼é¸æŠã®æœ€é©åŒ–\n\nã™ã¹ã¦ã®ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚’æ¯å›æ¤œç´¢ã™ã‚‹ã¨é…ã„ï¼š\n\n```typescript\n// æ‚ªã„ä¾‹ï¼šå¸¸ã«ã™ã¹ã¦ã®ãƒ¬ã‚¤ãƒ¤ãƒ¼\nconst result = await unifiedAPI.unifiedSearch(query, [\n  MemoryLevel.SHORT_TERM,\n  MemoryLevel.MID_TERM,\n  MemoryLevel.LONG_TERM\n]); // å¸¸ã«200-500ms\n\n// è‰¯ã„ä¾‹ï¼šã‚¯ã‚¨ãƒªã«å¿œã˜ã¦ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚’é¸æŠ\nconst layers = this.selectOptimalLayers(query);\nconst result = await unifiedAPI.unifiedSearch(query, layers); // 5-200ms\n```\n\n### 3. ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®ä¸€è²«æ€§\n\nãƒ¬ã‚¤ãƒ¤ãƒ¼é–“ã§ãƒ‡ãƒ¼ã‚¿ãŒæ›´æ–°ã•ã‚ŒãŸå ´åˆã€ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®ç„¡åŠ¹åŒ–ãŒå¿…è¦ï¼š\n\n```typescript\n// ãƒ‡ãƒ¼ã‚¿æ›´æ–°æ™‚\nawait unifiedAPI.updateEntry(entry);\nawait cacheCoordinator.invalidateCache(`*${entry.id}*`); // é–¢é€£ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚‚ç„¡åŠ¹åŒ–\n```\n\n### 4. ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã®ç›£è¦–\n\nå®šæœŸçš„ã«ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã‚’ç¢ºèªï¼š\n\n```typescript\nconst metrics = unifiedAPI.getMetrics();\nconsole.log(`\n  Total requests: ${metrics.totalRequests}\n  Cache hit rate: ${(metrics.cacheHits / metrics.totalRequests * 100).toFixed(1)}%\n  Average response time: ${metrics.averageResponseTime}ms\n  Layer hits:\n    SHORT_TERM: ${metrics.layerHits.get(MemoryLevel.SHORT_TERM)}\n    MID_TERM: ${metrics.layerHits.get(MemoryLevel.MID_TERM)}\n    LONG_TERM: ${metrics.layerHits.get(MemoryLevel.LONG_TERM)}\n`);\n```\n\nç›®æ¨™ï¼š\n- ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ’ãƒƒãƒˆç‡: 85%ä»¥ä¸Š\n- å¹³å‡å¿œç­”æ™‚é–“: 50msä»¥ä¸‹\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `skill_cache_coordination_system_2025_11_25.md` - ã‚­ãƒ£ãƒƒã‚·ãƒ¥å”èª¿ã‚·ã‚¹ãƒ†ãƒ \n- `skill_access_optimization_engine_2025_11_25.md` - ã‚¢ã‚¯ã‚»ã‚¹æœ€é©åŒ–ã‚¨ãƒ³ã‚¸ãƒ³\n- `decision_memory_layer_cache_strategy_2025_11_25.md` - è¨˜æ†¶éšå±¤é–“ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥æˆ¦ç•¥\n- `workflow_memory_layer_data_flow_2025_11_25.md` - ãƒ¡ãƒ¢ãƒªå±¤é–“ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼ã®å®Œå…¨ãªãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼\n",
    "prompt": "### ã‚¹ãƒ†ãƒƒãƒ—1: UnifiedAccessAPIã®åˆæœŸåŒ–\n\n```typescript\nconst unifiedAPI = new UnifiedAccessAPI({\n  shortTermProvider: new ShortTermMemory(),\n  midTermProvider: new MidTermMemory(),\n  longTermProvider: new LongTermMemory(),\n  cacheCoordinator: new CacheCoordinator(),\n  duplicateResolver: new DuplicateResolver()\n});\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2: æ¤œç´¢å®Ÿè¡Œ\n\n```typescript\n// ã™ã¹ã¦ã®ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‹ã‚‰æ¤œç´¢\nconst result = await unifiedAPI.unifiedSearch('character-sato-state', [\n  MemoryLevel.SHORT_TERM,\n  MemoryLevel.MID_TERM,\n  MemoryLevel.LONG_TERM\n]);\n\nconsole.log(`Found ${result.totalResults} results in ${result.processingTime}ms`);\nconsole.log(`Source: ${result.results[0].metadata.source}`);\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3: ãƒ¬ã‚¤ãƒ¤ãƒ¼åˆ¥ã‚¢ã‚¯ã‚»ã‚¹\n\n```typescript\n// çŸ­æœŸè¨˜æ†¶ã®ã¿ã‹ã‚‰æ¤œç´¢ï¼ˆé«˜é€Ÿï¼‰\nconst recentData = await unifiedAPI.unifiedSearch('recent-plot', [\n  MemoryLevel.SHORT_TERM\n]);\n\n// ä¸­æœŸãƒ»é•·æœŸè¨˜æ†¶ã‹ã‚‰æ¤œç´¢ï¼ˆå±¥æ­´åˆ†æï¼‰\nconst historicalData = await unifiedAPI.unifiedSearch('character-arc', [\n  MemoryLevel.MID_TERM,\n  MemoryLevel.LONG_TERM\n]);\n```",
    "relatedTech": [
      "skill-cache-coordination-system",
      "skill-access-optimization-engine",
      "decision-memory-layer-cache-strategy"
    ]
  },
  {
    "slug": "unified-memory-system-integration",
    "title": "çµ±åˆè¨˜æ†¶ã‚·ã‚¹ãƒ†ãƒ ã¨ã®å®‰å…¨ãªé€£æºãƒ‘ã‚¿ãƒ¼ãƒ³",
    "category": "Skillsï¼ˆã‚¹ã‚­ãƒ«ãƒ»æ‰‹æ³•ï¼‰",
    "description": "3å±¤è¨˜æ†¶éšå±¤ï¼ˆçŸ­æœŸãƒ»ä¸­æœŸãƒ»é•·æœŸï¼‰ã¨å„åˆ†æãƒ»è©•ä¾¡ã‚·ã‚¹ãƒ†ãƒ ã‚’å®‰å…¨ã«é€£æºã•ã›ã‚‹ã€‚ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆå‡¦ç†ãƒ»ãƒªãƒˆãƒ©ã‚¤ãƒ»ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ã‚’å®Ÿè£…ã—ã€è¨˜æ†¶ã‚·ã‚¹ãƒ†ãƒ ã®éšœå®³æ™‚ã§ã‚‚å‡¦ç†ã‚’ç¶™ç¶šã§ãã‚‹å …ç‰¢ãªçµ±åˆãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’å®Ÿç¾ã™ã‚‹æ‰‹æ³•ã€‚",
    "project": "novel-automation-system-v2",
    "usedIn": [
      "src/lib/memory/mid-term/quality-metrics.ts:900-1100, src/lib/validation/consistency-checker.ts:1400-1600"
    ],
    "code": "```json\n{\n  \"id\": \"skill_unified_memory_system_integration_2025_11_25\",\n  \"type\": \"skill\",\n  \"name\": \"çµ±åˆè¨˜æ†¶ã‚·ã‚¹ãƒ†ãƒ ã¨ã®å®‰å…¨ãªé€£æºãƒ‘ã‚¿ãƒ¼ãƒ³\",\n  \"tags\": [\"çµ±åˆè¨˜æ†¶\", \"ãƒ‡ãƒ¼ã‚¿æ°¸ç¶šåŒ–\", \"ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°\", \"ã‚·ã‚¹ãƒ†ãƒ çµ±åˆ\", \"å®‰å…¨æ€§\"],\n  \"source_project\": \"novel-automation-system-v2\",\n  \"source_file\": \"src/lib/memory/mid-term/quality-metrics.ts:900-1100, src/lib/validation/consistency-checker.ts:1400-1600\",\n  \"related_knowledge\": [\"skill_three_layer_memory_hierarchy_integration_2025_11_25\", \"decision_memory_system_integration_2025_11_25\"],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# çµ±åˆè¨˜æ†¶ã‚·ã‚¹ãƒ†ãƒ ã¨ã®å®‰å…¨ãªé€£æºãƒ‘ã‚¿ãƒ¼ãƒ³\n\n## ä½•ã‚’ã™ã‚‹ã‚¹ã‚­ãƒ«ã‹\n\n3å±¤è¨˜æ†¶éšå±¤ï¼ˆçŸ­æœŸãƒ»ä¸­æœŸãƒ»é•·æœŸï¼‰ã¨å„åˆ†æãƒ»è©•ä¾¡ã‚·ã‚¹ãƒ†ãƒ ã‚’å®‰å…¨ã«é€£æºã•ã›ã‚‹ã€‚ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆå‡¦ç†ãƒ»ãƒªãƒˆãƒ©ã‚¤ãƒ»ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ã‚’å®Ÿè£…ã—ã€è¨˜æ†¶ã‚·ã‚¹ãƒ†ãƒ ã®éšœå®³æ™‚ã§ã‚‚å‡¦ç†ã‚’ç¶™ç¶šã§ãã‚‹å …ç‰¢ãªçµ±åˆãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’å®Ÿç¾ã™ã‚‹æ‰‹æ³•ã€‚\n\n## å…·ä½“çš„ãªæ‰‹æ³•\n\n### 1. å®‰å…¨ãªè¨˜æ†¶æ“ä½œãƒ‘ã‚¿ãƒ¼ãƒ³\n\n```typescript\nprivate async safeMemoryOperation<T>(\n  operation: () => Promise<T>,\n  fallbackValue: T,\n  operationName: string\n): Promise<T> {\n  // è¨˜æ†¶ã‚·ã‚¹ãƒ†ãƒ çµ±åˆãŒç„¡åŠ¹ã®å ´åˆã¯å³åº§ã«ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯\n  if (!this.config.memorySystemIntegration.enabled) {\n    return fallbackValue;\n  }\n\n  let retries = 0;\n  const maxRetries = 3;\n\n  while (retries < maxRetries) {\n    try {\n      // ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆä»˜ãå®Ÿè¡Œ\n      const result = await Promise.race([\n        operation(),\n        new Promise<never>((_, reject) =>\n          setTimeout(() => reject(new Error('Timeout')), 30000)\n        )\n      ]);\n\n      // æˆåŠŸã‚«ã‚¦ãƒ³ãƒˆ\n      this.statistics.performance.memorySystemHits++;\n      return result;\n\n    } catch (error) {\n      retries++;\n\n      if (retries >= maxRetries) {\n        logger.error(`${operationName} failed after ${maxRetries} attempts`);\n        this.statistics.performance.memorySystemMisses++;\n        return fallbackValue;\n      }\n\n      // æŒ‡æ•°ãƒãƒƒã‚¯ã‚ªãƒ•\n      await new Promise(resolve =>\n        setTimeout(resolve, Math.pow(2, retries) * 1000)\n      );\n    }\n  }\n\n  return fallbackValue;\n}\n```\n\n### 2. ãƒ‡ãƒ¼ã‚¿æ°¸ç¶šåŒ–ã¨èª­ã¿è¾¼ã¿ã®ãƒ‘ã‚¿ãƒ¼ãƒ³\n\n**å“è³ªãƒ‡ãƒ¼ã‚¿ã®ä¿å­˜**ï¼š\n```typescript\nprivate async saveQualityDataToUnifiedMemory(): Promise<void> {\n  return this.safeMemoryOperation(\n    async () => {\n      await this.memoryManager.saveToMidTerm('qualityMetrics', {\n        ...this.qualityData,\n        lastSaved: new Date().toISOString()\n      });\n    },\n    undefined,\n    'saveQualityData'\n  );\n}\n```\n\n**å“è³ªãƒ‡ãƒ¼ã‚¿ã®èª­ã¿è¾¼ã¿**ï¼š\n```typescript\nprivate async loadQualityDataFromUnifiedMemory(): Promise<void> {\n  const data = await this.safeMemoryOperation(\n    async () => {\n      return await this.memoryManager.getFromMidTerm('qualityMetrics');\n    },\n    null,\n    'loadQualityData'\n  );\n\n  if (data) {\n    this.qualityData = {\n      averageQuality: data.averageQuality || 0,\n      qualityTrend: data.qualityTrend || 'STABLE',\n      chapterQualityHistory: data.chapterQualityHistory || [],\n      alerts: data.alerts || []\n    };\n  }\n}\n```\n\n### 3. çµ±åˆæ¤œç´¢ã®æ´»ç”¨\n\n**æ¦‚å¿µãƒ‡ãƒ¼ã‚¿ã®æ¤œç´¢**ï¼š\n```typescript\nprivate async searchConceptsInMemory(\n  conceptName: string\n): Promise<BusinessConcept | null> {\n  return this.safeMemoryOperation(\n    async () => {\n      const searchResult = await this.memoryManager.unifiedSearch(\n        `businessConcept \"${conceptName}\" learningStage definition`,\n        [MemoryLevel.LONG_TERM, MemoryLevel.MID_TERM]\n      );\n\n      if (searchResult.results.length > 0) {\n        return this.extractConceptFromSearchResult(searchResult.results[0]);\n      }\n\n      return null;\n    },\n    null,\n    `searchConcept_${conceptName}`\n  );\n}\n```\n\n**ãƒ—ãƒ­ãƒƒãƒˆãƒ‡ãƒ¼ã‚¿ã®æ¤œç´¢**ï¼š\n```typescript\nprivate async loadPlotDataFromMemory(\n  chapterNumber: number,\n  conceptName: string,\n  learningStage: LearningStage\n): Promise<any> {\n  return this.safeMemoryOperation(\n    async () => {\n      const plotDataResult = await this.memoryManager.unifiedSearch(\n        `plot integration learningStage ${learningStage} concept \"${conceptName}\"`,\n        [MemoryLevel.MID_TERM, MemoryLevel.LONG_TERM]\n      );\n\n      return plotDataResult.results.length > 0\n        ? plotDataResult.results[0]\n        : null;\n    },\n    null,\n    `loadPlotData_chapter${chapterNumber}`\n  );\n}\n```\n\n### 4. ãƒãƒƒãƒä¿å­˜ã¨ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³é¢¨å‡¦ç†\n\n```typescript\nasync saveAnalysisResultsToMemory(\n  chapterNumber: number,\n  results: ComprehensiveAnalysisResult\n): Promise<void> {\n  const saveOperations = [];\n\n  // å“è³ªãƒ¡ãƒˆãƒªã‚¯ã‚¹ä¿å­˜\n  saveOperations.push(\n    this.memoryManager.saveToMidTerm(\n      `chapter_${chapterNumber}_quality`,\n      results.qualityMetrics\n    )\n  );\n\n  // ãƒ†ãƒ¼ãƒåˆ†æä¿å­˜\n  saveOperations.push(\n    this.memoryManager.saveToMidTerm(\n      `chapter_${chapterNumber}_theme`,\n      results.themeAnalysis\n    )\n  );\n\n  // ã‚·ãƒ¼ãƒ³æ§‹é€ ä¿å­˜\n  saveOperations.push(\n    this.memoryManager.saveToMidTerm(\n      `chapter_${chapterNumber}_scenes`,\n      results.sceneStructure\n    )\n  );\n\n  // ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ä¿å­˜\n  saveOperations.push(\n    this.memoryManager.saveToMidTerm(\n      `chapter_${chapterNumber}_feedback`,\n      results.integratedSuggestions\n    )\n  );\n\n  // ä¸¦åˆ—å®Ÿè¡Œï¼ˆã™ã¹ã¦æˆåŠŸã‚’å¾…ã¤å¿…è¦ã¯ãªã„ï¼‰\n  await Promise.allSettled(saveOperations);\n}\n```\n\n### 5. è¨ºæ–­æ©Ÿèƒ½ã¨ã‚·ã‚¹ãƒ†ãƒ å¥å…¨æ€§ãƒã‚§ãƒƒã‚¯\n\n```typescript\nasync performDiagnostics(): Promise<{\n  systemHealth: 'HEALTHY' | 'DEGRADED' | 'CRITICAL';\n  memorySystemStatus: string;\n  performanceMetrics: any;\n  recommendations: string[];\n}> {\n  let systemHealth: 'HEALTHY' | 'DEGRADED' | 'CRITICAL' = 'HEALTHY';\n  const recommendations: string[] = [];\n\n  // è¨˜æ†¶ã‚·ã‚¹ãƒ†ãƒ ã®æ¥ç¶šãƒ†ã‚¹ãƒˆ\n  const memoryTestResult = await this.safeMemoryOperation(\n    async () => {\n      await this.memoryManager.saveToMidTerm('diagnosticTest', {\n        timestamp: new Date().toISOString()\n      });\n      return 'CONNECTED';\n    },\n    'DISCONNECTED',\n    'memoryConnectionTest'\n  );\n\n  if (memoryTestResult === 'DISCONNECTED') {\n    systemHealth = 'DEGRADED';\n    recommendations.push('Memory system connection is unavailable. Running in standalone mode.');\n  }\n\n  // ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è©•ä¾¡\n  const hitRate = this.statistics.performance.memorySystemHits /\n    (this.statistics.performance.memorySystemHits + this.statistics.performance.memorySystemMisses);\n\n  if (hitRate < 0.5) {\n    systemHealth = 'DEGRADED';\n    recommendations.push('Low memory system hit rate detected. Check network connectivity.');\n  }\n\n  // å¤±æ•—ç‡ã®ç¢ºèª\n  if (this.statistics.failedChecks / this.statistics.totalChecks > 0.1) {\n    systemHealth = 'DEGRADED';\n    recommendations.push('High failure rate detected in consistency checks.');\n  }\n\n  return {\n    systemHealth,\n    memorySystemStatus: memoryTestResult,\n    performanceMetrics: { ...this.statistics },\n    recommendations\n  };\n}\n```\n\n### 6. ãƒ‡ãƒ¼ã‚¿ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã¨äº’æ›æ€§\n\n```typescript\nprivate async migrateOldDataFormat(): Promise<void> {\n  const oldData = await this.safeMemoryOperation(\n    async () => {\n      return await this.memoryManager.getFromMidTerm('qualityMetrics_v1');\n    },\n    null,\n    'loadOldQualityData'\n  );\n\n  if (oldData) {\n    // ãƒ‡ãƒ¼ã‚¿å½¢å¼å¤‰æ›\n    const migratedData = {\n      averageQuality: oldData.avgQuality || 0,\n      qualityTrend: this.determineQualityTrend(oldData.history),\n      chapterQualityHistory: oldData.history.map((h: any) => ({\n        chapterNumber: h.chapter,\n        qualityScore: h.score,\n        timestamp: h.timestamp\n      })),\n      alerts: []\n    };\n\n    // æ–°å½¢å¼ã§ä¿å­˜\n    await this.memoryManager.saveToMidTerm('qualityMetrics', migratedData);\n\n    // æ—§ãƒ‡ãƒ¼ã‚¿å‰Šé™¤\n    await this.memoryManager.deleteFromMidTerm('qualityMetrics_v1');\n  }\n}\n```\n\n### 7. ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®å®Ÿè£…\n\n```typescript\nprivate cache: Map<string, { data: any; timestamp: number }> = new Map();\nprivate CACHE_TTL = 5 * 60 * 1000; // 5åˆ†\n\nprivate async getCachedOrFetch<T>(\n  key: string,\n  fetchOperation: () => Promise<T>\n): Promise<T | null> {\n  // ã‚­ãƒ£ãƒƒã‚·ãƒ¥ç¢ºèª\n  const cached = this.cache.get(key);\n  if (cached && Date.now() - cached.timestamp < this.CACHE_TTL) {\n    return cached.data;\n  }\n\n  // ãƒ•ã‚§ãƒƒãƒ\n  const data = await this.safeMemoryOperation(\n    fetchOperation,\n    null,\n    `fetch_${key}`\n  );\n\n  // ã‚­ãƒ£ãƒƒã‚·ãƒ¥æ›´æ–°\n  if (data) {\n    this.cache.set(key, {\n      data,\n      timestamp: Date.now()\n    });\n  }\n\n  return data;\n}\n```\n\n## ãªãœã“ã®æ‰‹æ³•ã‚’ä½¿ã†ã‹\n\n**ç†ç”±1ï¼šå …ç‰¢æ€§ã®ç¢ºä¿**\n- è¨˜æ†¶ã‚·ã‚¹ãƒ†ãƒ ã®éšœå®³æ™‚ã§ã‚‚å‡¦ç†ã‚’ç¶™ç¶š\n- ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã§ç„¡é™å¾…æ©Ÿã‚’å›é¿\n- ãƒªãƒˆãƒ©ã‚¤ã§ä¸€æ™‚çš„ãªéšœå®³ã«å¯¾å‡¦\n\n**ç†ç”±2ï¼šãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã®æœ€é©åŒ–**\n- ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã§é‡è¤‡ã‚¢ã‚¯ã‚»ã‚¹ã‚’å‰Šæ¸›\n- ä¸¦åˆ—ä¿å­˜ã§å‡¦ç†æ™‚é–“çŸ­ç¸®\n- ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã§é•·æ™‚é–“ãƒ–ãƒ­ãƒƒã‚¯ã‚’é˜²æ­¢\n\n**ç†ç”±3ï¼šãƒ‡ãƒ¼ã‚¿ã®æ°¸ç¶šåŒ–**\n- åˆ†æçµæœã‚’è¨˜æ†¶ã‚·ã‚¹ãƒ†ãƒ ã«ä¿å­˜\n- å¾Œç¶šã®ç« ç”Ÿæˆã§éå»ãƒ‡ãƒ¼ã‚¿ã‚’æ´»ç”¨\n- ãƒˆãƒ¬ãƒ³ãƒ‰åˆ†æã®åŸºç›¤\n\n**ç†ç”±4ï¼šã‚·ã‚¹ãƒ†ãƒ çµ±åˆã®æŸ”è»Ÿæ€§**\n- è¨˜æ†¶ã‚·ã‚¹ãƒ†ãƒ æœ‰åŠ¹/ç„¡åŠ¹ã®åˆ‡ã‚Šæ›¿ãˆ\n- ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ã§ã‚¹ã‚¿ãƒ³ãƒ‰ã‚¢ãƒ­ãƒ³å‹•ä½œ\n- æ®µéšçš„ãªçµ±åˆãŒå¯èƒ½\n\n## å†ç¾æ–¹æ³•\n\n```typescript\nimport { MemoryManager } from '@/lib/memory';\n\n// ã‚¹ãƒ†ãƒƒãƒ—1: è¨˜æ†¶ã‚·ã‚¹ãƒ†ãƒ çµ±åˆã®åˆæœŸåŒ–\nconst memoryManager = new MemoryManager();\n\n// ã‚¹ãƒ†ãƒƒãƒ—2: å®‰å…¨ãªä¿å­˜æ“ä½œ\nawait this.safeMemoryOperation(\n  async () => {\n    await memoryManager.saveToMidTerm('myData', {\n      value: 100,\n      timestamp: new Date().toISOString()\n    });\n  },\n  undefined,\n  'saveMyData'\n);\n\n// ã‚¹ãƒ†ãƒƒãƒ—3: å®‰å…¨ãªèª­ã¿è¾¼ã¿æ“ä½œ\nconst data = await this.safeMemoryOperation(\n  async () => {\n    return await memoryManager.getFromMidTerm('myData');\n  },\n  null, // ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯å€¤\n  'loadMyData'\n);\n\n// ã‚¹ãƒ†ãƒƒãƒ—4: çµ±åˆæ¤œç´¢\nconst searchResults = await this.safeMemoryOperation(\n  async () => {\n    return await memoryManager.unifiedSearch(\n      'quality analysis chapter',\n      [MemoryLevel.MID_TERM, MemoryLevel.LONG_TERM]\n    );\n  },\n  { results: [] },\n  'searchQualityData'\n);\n\n// ã‚¹ãƒ†ãƒƒãƒ—5: ã‚·ã‚¹ãƒ†ãƒ è¨ºæ–­\nconst diagnostics = await this.performDiagnostics();\nconsole.log('ã‚·ã‚¹ãƒ†ãƒ å¥å…¨æ€§:', diagnostics.systemHealth);\nconsole.log('æ¨å¥¨äº‹é …:', diagnostics.recommendations);\n```\n\n## ã„ã¤ä½¿ã†ã‹\n\n- **åˆæœŸåŒ–æ™‚**ï¼šè¨˜æ†¶ã‚·ã‚¹ãƒ†ãƒ ã¨ã®æ¥ç¶šç¢ºç«‹\n- **ãƒ‡ãƒ¼ã‚¿ä¿å­˜æ™‚**ï¼šåˆ†æçµæœã‚„è¨­å®šã®æ°¸ç¶šåŒ–\n- **ãƒ‡ãƒ¼ã‚¿èª­ã¿è¾¼ã¿æ™‚**ï¼šéå»ã®åˆ†æçµæœã®å–å¾—\n- **æ¤œç´¢æ™‚**ï¼šé–¢é€£ãƒ‡ãƒ¼ã‚¿ã®çµ±åˆæ¤œç´¢\n- **è¨ºæ–­æ™‚**ï¼šã‚·ã‚¹ãƒ†ãƒ å¥å…¨æ€§ã®ç¢ºèª\n\n## æ³¨æ„ç‚¹\n\n- **ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆè¨­å®š**ï¼šé•·ã™ãã‚‹ã¨å‡¦ç†ãŒé…å»¶ã€çŸ­ã™ãã‚‹ã¨å¤±æ•—å¢—åŠ \n- **ãƒªãƒˆãƒ©ã‚¤å›æ•°**ï¼šå¤šã™ãã‚‹ã¨å‡¦ç†æ™‚é–“å¢—å¤§ã€å°‘ãªã™ãã‚‹ã¨éšœå®³ã«å¼±ã„\n- **ã‚­ãƒ£ãƒƒã‚·ãƒ¥TTL**ï¼šé•·ã™ãã‚‹ã¨å¤ã„ãƒ‡ãƒ¼ã‚¿ã€çŸ­ã™ãã‚‹ã¨åŠ¹æœè–„\n- **ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯å€¤**ï¼šé©åˆ‡ãªãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã®è¨­å®šãŒé‡è¦\n- **ä¸¦åˆ—å‡¦ç†ã®åˆ¶å¾¡**ï¼šéåº¦ãªä¸¦åˆ—åŒ–ã¯ãƒªã‚½ãƒ¼ã‚¹åœ§è¿«\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `skill_three_layer_memory_hierarchy_integration_2025_11_25.md`ï¼š3å±¤è¨˜æ†¶ã‚·ã‚¹ãƒ†ãƒ ã®åŸºç¤\n- `decision_memory_system_integration_2025_11_25.md`ï¼šãªãœçµ±åˆè¨˜æ†¶ã‚·ã‚¹ãƒ†ãƒ ã¨é€£æºã™ã‚‹ã‹\n",
    "prompt": "```typescript\nimport { MemoryManager } from '@/lib/memory';\n\n// ã‚¹ãƒ†ãƒƒãƒ—1: è¨˜æ†¶ã‚·ã‚¹ãƒ†ãƒ çµ±åˆã®åˆæœŸåŒ–\nconst memoryManager = new MemoryManager();\n\n// ã‚¹ãƒ†ãƒƒãƒ—2: å®‰å…¨ãªä¿å­˜æ“ä½œ\nawait this.safeMemoryOperation(\n  async () => {\n    await memoryManager.saveToMidTerm('myData', {\n      value: 100,\n      timestamp: new Date().toISOString()\n    });\n  },\n  undefined,\n  'saveMyData'\n);\n\n// ã‚¹ãƒ†ãƒƒãƒ—3: å®‰å…¨ãªèª­ã¿è¾¼ã¿æ“ä½œ\nconst data = await this.safeMemoryOperation(\n  async () => {\n    return await memoryManager.getFromMidTerm('myData');\n  },\n  null, // ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯å€¤\n  'loadMyData'\n);\n\n// ã‚¹ãƒ†ãƒƒãƒ—4: çµ±åˆæ¤œç´¢\nconst searchResults = await this.safeMemoryOperation(\n  async () => {\n    return await memoryManager.unifiedSearch(\n      'quality analysis chapter',\n      [MemoryLevel.MID_TERM, MemoryLevel.LONG_TERM]\n    );\n  },\n  { results: [] },\n  'searchQualityData'\n);\n\n// ã‚¹ãƒ†ãƒƒãƒ—5: ã‚·ã‚¹ãƒ†ãƒ è¨ºæ–­\nconst diagnostics = await this.performDiagnostics();\nconsole.log('ã‚·ã‚¹ãƒ†ãƒ å¥å…¨æ€§:', diagnostics.systemHealth);\nconsole.log('æ¨å¥¨äº‹é …:', diagnostics.recommendations);\n```",
    "relatedTech": [
      "skill-three-layer-memory-hierarchy-integration",
      "decision-memory-system-integration"
    ]
  },
  {
    "slug": "url-encoding-japanese-sheet-names",
    "title": "æ—¥æœ¬èªã‚·ãƒ¼ãƒˆåã®URLã‚¨ãƒ³ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°",
    "category": "Skillsï¼ˆã‚¹ã‚­ãƒ«ãƒ»æ‰‹æ³•ï¼‰",
    "description": "Google Sheets APIã§æ—¥æœ¬èªã‚·ãƒ¼ãƒˆåã‚’æ‰±ã†éš›ã€URLã‚¨ãƒ³ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ï¼ˆãƒ‘ãƒ¼ã‚»ãƒ³ãƒˆã‚¨ãƒ³ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ï¼‰ã‚’è¡Œã†ã€‚",
    "project": "yumesuta-management-system",
    "usedIn": [
      "CLAUDE.md:44-63"
    ],
    "code": "```json\n{\n  \"id\": \"skill_url_encoding_japanese_sheet_names_2025_11_24\",\n  \"type\": \"skill\",\n  \"name\": \"æ—¥æœ¬èªã‚·ãƒ¼ãƒˆåã®URLã‚¨ãƒ³ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°\",\n  \"tags\": [\"URLã‚¨ãƒ³ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°\", \"æ—¥æœ¬èª\", \"ã‚·ãƒ¼ãƒˆå\", \"ãƒ‘ãƒ¼ã‚»ãƒ³ãƒˆã‚¨ãƒ³ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°\", \"curl\"],\n  \"source_project\": \"yumesuta-management-system\",\n  \"source_file\": \"CLAUDE.md:44-63\",\n  \"related_knowledge\": [\"decision_data_japanese_first_design_2025_11_24\", \"failure_japanese_url_encoding_issue_2025_11_24\"],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-24\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# æ—¥æœ¬èªã‚·ãƒ¼ãƒˆåã®URLã‚¨ãƒ³ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°\n\n## ä½•ã‚’ã™ã‚‹ã‚¹ã‚­ãƒ«ã‹\n\nGoogle Sheets APIã§æ—¥æœ¬èªã‚·ãƒ¼ãƒˆåã‚’æ‰±ã†éš›ã€URLã‚¨ãƒ³ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ï¼ˆãƒ‘ãƒ¼ã‚»ãƒ³ãƒˆã‚¨ãƒ³ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ï¼‰ã‚’è¡Œã†ã€‚\n\n## å…·ä½“çš„ãªæ‰‹æ³•\n\n### å¤‰æ›ä¾‹\n\n```\nä¼æ¥­ãƒã‚¹ã‚¿ãƒ¼ â†’ %E4%BC%81%E6%A5%AD%E3%83%9E%E3%82%B9%E3%82%BF%E3%83%BC\né€²æ—å…¥åŠ›ã‚·ãƒ¼ãƒˆ â†’ %E9%80%B2%E6%8D%97%E5%85%A5%E5%8A%9B%E3%82%B7%E3%83%BC%E3%83%88\næ–°å·¥ç¨‹ãƒã‚¹ã‚¿ãƒ¼ â†’ %E6%96%B0%E5%B7%A5%E7%A8%8B%E3%83%9E%E3%82%B9%E3%82%BF%E3%83%BC\n```\n\n### curlã§ã®ãƒ†ã‚¹ãƒˆ\n\n```bash\n# âŒ å¤±æ•—ï¼ˆæ—¥æœ¬èªãã®ã¾ã¾ï¼‰\ncurl \"http://127.0.0.1:3000/api/yumemaga-sheets?sheet=ä¼æ¥­ãƒã‚¹ã‚¿ãƒ¼\"\n\n# âœ… æˆåŠŸï¼ˆURLã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰æ¸ˆã¿ï¼‰\ncurl \"http://127.0.0.1:3000/api/yumemaga-sheets?sheet=%E4%BC%81%E6%A5%AD%E3%83%9E%E3%82%B9%E3%82%BF%E3%83%BC&limit=2\"\n```\n\n### bashã§URLã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰\n\n```bash\necho -n \"ä¼æ¥­ãƒã‚¹ã‚¿ãƒ¼\" | python3 -c \"import sys, urllib.parse; print(urllib.parse.quote(sys.stdin.read()))\"\n# å‡ºåŠ›: %E4%BC%81%E6%A5%AD%E3%83%9E%E3%82%B9%E3%82%BF%E3%83%BC\n```\n\n### JavaScriptã§URLã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰\n\n```typescript\nconst sheetName = \"ä¼æ¥­ãƒã‚¹ã‚¿ãƒ¼\";\nconst encoded = encodeURIComponent(sheetName);\n// \"%E4%BC%81%E6%A5%AD%E3%83%9E%E3%82%B9%E3%82%BF%E3%83%BC\"\n\nconst url = `/api/yumemaga-sheets?sheet=${encoded}`;\n```\n\n## ãªãœã“ã®æ‰‹æ³•ã‚’ä½¿ã†ã‹\n\n**ç†ç”±1ï¼šHTTPä»•æ§˜æº–æ‹ **\n- URLã«ã¯ ASCII æ–‡å­—ã®ã¿ä½¿ç”¨å¯èƒ½\n- æ—¥æœ¬èªï¼ˆUTF-8ï¼‰ã¯ãƒ‘ãƒ¼ã‚»ãƒ³ãƒˆã‚¨ãƒ³ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ãŒå¿…é ˆ\n\n**ç†ç”±2ï¼šAPIã‚¨ãƒ©ãƒ¼é˜²æ­¢**\n- ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ã—ãªã„ã¨ã€APIå‘¼ã³å‡ºã—ãŒå¤±æ•—ã™ã‚‹\n\n## å†ç¾æ–¹æ³•\n\n```typescript\n// Dashboard Pageã§ã®ä½¿ç”¨ä¾‹\nconst fetchSheetData = async (sheetName: string) => {\n  const encoded = encodeURIComponent(sheetName);\n  const response = await fetch(`/api/yumemaga-sheets?sheet=${encoded}`);\n  const data = await response.json();\n  return data;\n};\n\n// ä½¿ç”¨\nconst data = await fetchSheetData(\"ä¼æ¥­ãƒã‚¹ã‚¿ãƒ¼\");\n```\n\n## ã„ã¤ä½¿ã†ã‹\n\n- æ—¥æœ¬èªã‚·ãƒ¼ãƒˆåã‚’URLã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¨ã—ã¦é€ä¿¡ã™ã‚‹å ´åˆ\n- API Routeã§ã‚·ãƒ¼ãƒˆAPIã‚’å‘¼ã³å‡ºã™å ´åˆ\n- curlã§APIã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹å ´åˆ\n\n## æ³¨æ„ç‚¹\n\n- **å¿…ãšã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰** - æ—¥æœ¬èªã‚·ãƒ¼ãƒˆåã¯å¿…ãšURLã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ã™ã‚‹\n- **WSLç’°å¢ƒã§ã¯localhostä¸å¯** - `127.0.0.1`ã‚’ä½¿ç”¨ã™ã‚‹\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `decision_data_japanese_first_design_2025_11_24.md` - æ—¥æœ¬èªãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆãƒ‡ã‚¶ã‚¤ãƒ³\n- `failure_japanese_url_encoding_issue_2025_11_24.md` - æ—¥æœ¬èªURLã‚¨ãƒ³ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°å•é¡Œ\n",
    "prompt": "```typescript\n// Dashboard Pageã§ã®ä½¿ç”¨ä¾‹\nconst fetchSheetData = async (sheetName: string) => {\n  const encoded = encodeURIComponent(sheetName);\n  const response = await fetch(`/api/yumemaga-sheets?sheet=${encoded}`);\n  const data = await response.json();\n  return data;\n};\n\n// ä½¿ç”¨\nconst data = await fetchSheetData(\"ä¼æ¥­ãƒã‚¹ã‚¿ãƒ¼\");\n```",
    "relatedTech": [
      "decision-data-japanese-first-design",
      "failure-japanese-url-encoding-issue"
    ]
  },
  {
    "slug": "use-case-based-model-selection",
    "title": "ç”¨é€”åˆ¥ãƒ¢ãƒ‡ãƒ«é¸æŠæˆ¦ç•¥",
    "category": "Skillsï¼ˆã‚¹ã‚­ãƒ«ãƒ»æ‰‹æ³•ï¼‰",
    "description": "ç”Ÿæˆã‚¿ã‚¹ã‚¯ã®ç”¨é€”ï¼ˆæœ¬æ–‡ç”Ÿæˆã€è¦ç´„ã€åˆ†æã€ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼æå†™ç­‰ï¼‰ã«å¿œã˜ã¦ã€æœ€é©ãªAIãƒ¢ãƒ‡ãƒ«ï¼ˆGemini 2.0 Flashã€Gemini 2.0 Flash Liteç­‰ï¼‰ã‚’å‹•çš„ã«é¸æŠã—ã€å“è³ªã¨ã‚³ã‚¹ãƒˆã®ãƒãƒ©ãƒ³ã‚¹ã‚’æœ€é©åŒ–ã™ã‚‹æ‰‹æ³•ã€‚",
    "project": "novel-automation-system-v2",
    "usedIn": [
      "src/lib/generation/gemini-client.ts:50-150"
    ],
    "code": "```json\n{\n  \"id\": \"skill_use_case_model_selection_2025_11_25\",\n  \"type\": \"skill\",\n  \"name\": \"ç”¨é€”åˆ¥ãƒ¢ãƒ‡ãƒ«é¸æŠæˆ¦ç•¥\",\n  \"tags\": [\"ãƒ¢ãƒ‡ãƒ«é¸æŠ\", \"Gemini API\", \"AIç”Ÿæˆ\", \"ã‚³ã‚¹ãƒˆæœ€é©åŒ–\", \"å“è³ªç®¡ç†\", \"å°èª¬ç”Ÿæˆ\"],\n  \"source_project\": \"novel-automation-system-v2\",\n  \"source_file\": \"src/lib/generation/gemini-client.ts:50-150\",\n  \"related_knowledge\": [\n    \"decision_gemini_2_0_flash_lite_choice_2025_11_25\",\n    \"skill_parameter_dynamic_adjustment_2025_11_25\",\n    \"decision_model_mapping_strategy_2025_11_25\"\n  ],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# ç”¨é€”åˆ¥ãƒ¢ãƒ‡ãƒ«é¸æŠæˆ¦ç•¥\n\n## ä½•ã‚’ã™ã‚‹ã‚¹ã‚­ãƒ«ã‹\n\nç”Ÿæˆã‚¿ã‚¹ã‚¯ã®ç”¨é€”ï¼ˆæœ¬æ–‡ç”Ÿæˆã€è¦ç´„ã€åˆ†æã€ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼æå†™ç­‰ï¼‰ã«å¿œã˜ã¦ã€æœ€é©ãªAIãƒ¢ãƒ‡ãƒ«ï¼ˆGemini 2.0 Flashã€Gemini 2.0 Flash Liteç­‰ï¼‰ã‚’å‹•çš„ã«é¸æŠã—ã€å“è³ªã¨ã‚³ã‚¹ãƒˆã®ãƒãƒ©ãƒ³ã‚¹ã‚’æœ€é©åŒ–ã™ã‚‹æ‰‹æ³•ã€‚\n\n## å…·ä½“çš„ãªæ‰‹æ³•\n\n### ç”¨é€”åˆ¥ãƒ¢ãƒ‡ãƒ«ãƒãƒƒãƒ”ãƒ³ã‚°\n\n```typescript\ntype ModelPurpose = 'default' | 'summary' | 'content' | 'analysis' | 'characterization';\n\ninterface ModelMapping {\n  purpose: ModelPurpose;\n  model: string;\n  reasoning: string;\n  estimatedCost: 'low' | 'medium' | 'high';\n  qualityLevel: 'standard' | 'high' | 'premium';\n}\n\nconst MODEL_MAPPINGS: Record<ModelPurpose, ModelMapping> = {\n  default: {\n    purpose: 'default',\n    model: 'gemini-2.0-flash-lite',\n    reasoning: 'æ±ç”¨ã‚¿ã‚¹ã‚¯å‘ã‘ã€‚ä½ã‚³ã‚¹ãƒˆã€é«˜é€Ÿã€ååˆ†ãªå“è³ª',\n    estimatedCost: 'low',\n    qualityLevel: 'standard'\n  },\n  summary: {\n    purpose: 'summary',\n    model: 'gemini-2.0-flash-lite',\n    reasoning: 'è¦ç´„ã‚¿ã‚¹ã‚¯ã€‚è»½é‡ãƒ¢ãƒ‡ãƒ«ã§ååˆ†ãªç²¾åº¦',\n    estimatedCost: 'low',\n    qualityLevel: 'standard'\n  },\n  content: {\n    purpose: 'content',\n    model: 'gemini-2.0-flash-lite',\n    reasoning: 'å°èª¬æœ¬æ–‡ç”Ÿæˆã€‚é€Ÿåº¦ã¨ã‚³ã‚¹ãƒˆã‚’é‡è¦–',\n    estimatedCost: 'low',\n    qualityLevel: 'standard'\n  },\n  analysis: {\n    purpose: 'analysis',\n    model: 'gemini-2.0-flash-lite',\n    reasoning: 'å“è³ªåˆ†æãƒ»æ–‡ä½“åˆ†æã€‚æ¨™æº–ãƒ¢ãƒ‡ãƒ«ã§å¯¾å¿œå¯èƒ½',\n    estimatedCost: 'low',\n    qualityLevel: 'standard'\n  },\n  characterization: {\n    purpose: 'characterization',\n    model: 'gemini-2.0-flash',\n    reasoning: 'ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼æ·±æ˜ã‚Šã€‚è©³ç´°æå†™ã«æ¨™æº–ãƒ¢ãƒ‡ãƒ«ã‚’ä½¿ç”¨',\n    estimatedCost: 'medium',\n    qualityLevel: 'high'\n  }\n};\n```\n\n### ãƒ¢ãƒ‡ãƒ«é¸æŠãƒ­ã‚¸ãƒƒã‚¯\n\n```typescript\nclass ModelSelector {\n  selectModel(\n    purpose: ModelPurpose,\n    context?: {\n      chapterType?: ChapterType;\n      qualityRequirement?: 'standard' | 'high' | 'premium';\n      budgetConstraint?: 'strict' | 'moderate' | 'flexible';\n    }\n  ): string {\n    // åŸºæœ¬ãƒãƒƒãƒ”ãƒ³ã‚°ã‹ã‚‰é–‹å§‹\n    let selectedModel = MODEL_MAPPINGS[purpose].model;\n\n    // ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆãƒ™ãƒ¼ã‚¹ã®èª¿æ•´\n    if (context) {\n      selectedModel = this.adjustForContext(selectedModel, purpose, context);\n    }\n\n    console.log(`é¸æŠãƒ¢ãƒ‡ãƒ«: ${selectedModel} (ç”¨é€”: ${purpose})`);\n    return selectedModel;\n  }\n\n  private adjustForContext(\n    baseModel: string,\n    purpose: ModelPurpose,\n    context: any\n  ): string {\n    // å“è³ªè¦æ±‚ãŒé«˜ã„å ´åˆ\n    if (context.qualityRequirement === 'premium') {\n      if (purpose === 'content') {\n        return 'gemini-2.0-flash'; // ã‚ˆã‚Šé«˜å“è³ªãªãƒ¢ãƒ‡ãƒ«ã«åˆ‡ã‚Šæ›¿ãˆ\n      }\n    }\n\n    // é‡è¦ãªç« ã‚¿ã‚¤ãƒ—ã®å ´åˆ\n    if (context.chapterType && ['OPENING', 'CLOSING', 'REVELATION'].includes(context.chapterType)) {\n      if (purpose === 'content') {\n        return 'gemini-2.0-flash'; // é‡è¦ç« ã¯é«˜å“è³ªãƒ¢ãƒ‡ãƒ«\n      }\n    }\n\n    // äºˆç®—åˆ¶ç´„ãŒå³ã—ã„å ´åˆ\n    if (context.budgetConstraint === 'strict') {\n      return 'gemini-2.0-flash-lite'; // å¸¸ã«è»½é‡ãƒ¢ãƒ‡ãƒ«\n    }\n\n    return baseModel;\n  }\n\n  // è¤‡æ•°ã‚¿ã‚¹ã‚¯ã®ãƒãƒƒãƒå‡¦ç†ã§ãƒ¢ãƒ‡ãƒ«é¸æŠ\n  selectModelsForBatch(tasks: GenerationTask[]): Map<string, GenerationTask[]> {\n    const tasksByModel = new Map<string, GenerationTask[]>();\n\n    for (const task of tasks) {\n      const model = this.selectModel(task.purpose, task.context);\n\n      if (!tasksByModel.has(model)) {\n        tasksByModel.set(model, []);\n      }\n\n      tasksByModel.get(model)!.push(task);\n    }\n\n    return tasksByModel;\n  }\n}\n```\n\n### ã‚³ã‚¹ãƒˆäºˆæ¸¬\n\n```typescript\ninterface CostEstimate {\n  model: string;\n  inputTokens: number;\n  outputTokens: number;\n  estimatedCostUSD: number;\n}\n\nclass CostEstimator {\n  // Geminiã®æ–™é‡‘ï¼ˆ2024å¹´æ™‚ç‚¹ã®ä»®æƒ³å€¤ï¼‰\n  private readonly PRICING = {\n    'gemini-2.0-flash-lite': {\n      inputPer1M: 0.01,   // $0.01 per 1M input tokens\n      outputPer1M: 0.02   // $0.02 per 1M output tokens\n    },\n    'gemini-2.0-flash': {\n      inputPer1M: 0.075,  // $0.075 per 1M input tokens\n      outputPer1M: 0.15   // $0.15 per 1M output tokens\n    }\n  };\n\n  estimateCost(\n    model: string,\n    inputTokens: number,\n    expectedOutputTokens: number\n  ): CostEstimate {\n    const pricing = this.PRICING[model] || this.PRICING['gemini-2.0-flash-lite'];\n\n    const inputCost = (inputTokens / 1_000_000) * pricing.inputPer1M;\n    const outputCost = (expectedOutputTokens / 1_000_000) * pricing.outputPer1M;\n\n    return {\n      model,\n      inputTokens,\n      outputTokens: expectedOutputTokens,\n      estimatedCostUSD: inputCost + outputCost\n    };\n  }\n\n  // ãƒãƒƒãƒã‚¿ã‚¹ã‚¯ã®ç·ã‚³ã‚¹ãƒˆäºˆæ¸¬\n  estimateBatchCost(\n    tasks: Array<{ model: string; inputTokens: number; outputTokens: number }>\n  ): number {\n    return tasks.reduce((total, task) => {\n      const estimate = this.estimateCost(task.model, task.inputTokens, task.outputTokens);\n      return total + estimate.estimatedCostUSD;\n    }, 0);\n  }\n\n  // ã‚³ã‚¹ãƒˆå‰Šæ¸›ã®å¯èƒ½æ€§åˆ†æ\n  analyzeCostReduction(currentModel: string, alternativeModel: string, tokens: number): {\n    currentCost: number;\n    alternativeCost: number;\n    savings: number;\n    savingsPercent: number;\n  } {\n    const current = this.estimateCost(currentModel, tokens, tokens);\n    const alternative = this.estimateCost(alternativeModel, tokens, tokens);\n\n    return {\n      currentCost: current.estimatedCostUSD,\n      alternativeCost: alternative.estimatedCostUSD,\n      savings: current.estimatedCostUSD - alternative.estimatedCostUSD,\n      savingsPercent: ((current.estimatedCostUSD - alternative.estimatedCostUSD) / current.estimatedCostUSD) * 100\n    };\n  }\n}\n```\n\n### ãƒ¢ãƒ‡ãƒ«åˆ‡ã‚Šæ›¿ãˆæˆ¦ç•¥\n\n```typescript\nclass AdaptiveModelStrategy {\n  // å“è³ªãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã«åŸºã¥ãå‹•çš„åˆ‡ã‚Šæ›¿ãˆ\n  async selectWithFeedback(\n    purpose: ModelPurpose,\n    previousQualityScores: number[]\n  ): Promise<string> {\n    const avgQuality = previousQualityScores.reduce((a, b) => a + b, 0) / previousQualityScores.length;\n\n    // å“è³ªãŒä½ä¸‹ã—ã¦ã„ã‚‹å ´åˆã€ã‚ˆã‚Šé«˜æ€§èƒ½ãªãƒ¢ãƒ‡ãƒ«ã«åˆ‡ã‚Šæ›¿ãˆ\n    if (avgQuality < 0.7) {\n      console.log('å“è³ªä½ä¸‹æ¤œå‡ºã€‚ãƒ¢ãƒ‡ãƒ«ã‚’ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰');\n      return this.upgradeModel(MODEL_MAPPINGS[purpose].model);\n    }\n\n    // å“è³ªãŒååˆ†é«˜ã„å ´åˆã€ã‚³ã‚¹ãƒˆå‰Šæ¸›ã®ãŸã‚è»½é‡ãƒ¢ãƒ‡ãƒ«ã‚’è©¦ã™\n    if (avgQuality > 0.9) {\n      console.log('é«˜å“è³ªç¶­æŒã€‚ã‚³ã‚¹ãƒˆå‰Šæ¸›ã‚’è©¦è¡Œ');\n      return this.downgradeModel(MODEL_MAPPINGS[purpose].model);\n    }\n\n    return MODEL_MAPPINGS[purpose].model;\n  }\n\n  private upgradeModel(currentModel: string): string {\n    const upgradePath: Record<string, string> = {\n      'gemini-2.0-flash-lite': 'gemini-2.0-flash',\n      'gemini-2.0-flash': 'gemini-2.0-flash' // æ—¢ã«æœ€ä¸Šä½\n    };\n    return upgradePath[currentModel] || currentModel;\n  }\n\n  private downgradeModel(currentModel: string): string {\n    const downgradePath: Record<string, string> = {\n      'gemini-2.0-flash': 'gemini-2.0-flash-lite',\n      'gemini-2.0-flash-lite': 'gemini-2.0-flash-lite' // æ—¢ã«æœ€ä¸‹ä½\n    };\n    return downgradePath[currentModel] || currentModel;\n  }\n}\n```\n\n## ãªãœã“ã®æ‰‹æ³•ã‚’ä½¿ã†ã‹\n\n### ç†ç”±1: ã‚³ã‚¹ãƒˆæœ€é©åŒ–\n\nã™ã¹ã¦ã®ã‚¿ã‚¹ã‚¯ã«é«˜æ€§èƒ½ãƒ¢ãƒ‡ãƒ«ã‚’ä½¿ã†ã®ã¯éåŠ¹ç‡ã€‚ã‚¿ã‚¹ã‚¯ã”ã¨ã«æœ€é©ãªãƒ¢ãƒ‡ãƒ«ã‚’é¸ã¶ã“ã¨ã§ã€å¹´é–“æ•°åƒãƒ‰ãƒ«ã®ã‚³ã‚¹ãƒˆå‰Šæ¸›ãŒå¯èƒ½ã€‚\n\n### ç†ç”±2: ãƒ¬ã‚¹ãƒãƒ³ã‚¹é€Ÿåº¦ã®å‘ä¸Š\n\nè»½é‡ãƒ¢ãƒ‡ãƒ«ï¼ˆFlash Liteï¼‰ã¯é«˜é€Ÿã€‚è¦ç´„ã‚„åˆ†æãªã©é«˜é€Ÿå‡¦ç†ãŒæœ›ã¾ã—ã„ã‚¿ã‚¹ã‚¯ã«æœ€é©ã€‚\n\n### ç†ç”±3: å“è³ªã®ä¿è¨¼\n\né‡è¦ãªã‚¿ã‚¹ã‚¯ï¼ˆã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼æå†™ã€é‡è¦ç« ã®ç”Ÿæˆï¼‰ã«ã¯é«˜æ€§èƒ½ãƒ¢ãƒ‡ãƒ«ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã§å“è³ªã‚’ç¢ºä¿ã€‚\n\n### ç†ç”±4: ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£\n\næ–°ã—ã„ãƒ¢ãƒ‡ãƒ«ãŒç™»å ´ã—ãŸå ´åˆã€ãƒãƒƒãƒ”ãƒ³ã‚°ã‚’æ›´æ–°ã™ã‚‹ã ã‘ã§å…¨ä½“ã«é©ç”¨ã§ãã‚‹ã€‚\n\n## å†ç¾æ–¹æ³•\n\n### ã‚¹ãƒ†ãƒƒãƒ—1: ModelSelectorã®åˆæœŸåŒ–\n\n```typescript\nconst selector = new ModelSelector();\nconst costEstimator = new CostEstimator();\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2: ç”¨é€”ã«å¿œã˜ãŸãƒ¢ãƒ‡ãƒ«é¸æŠ\n\n```typescript\nconst modelForContent = selector.selectModel('content', {\n  chapterType: 'ACTION',\n  qualityRequirement: 'standard',\n  budgetConstraint: 'moderate'\n});\n\nconst modelForCharacter = selector.selectModel('characterization', {\n  qualityRequirement: 'high'\n});\n\nconsole.log(`æœ¬æ–‡ç”Ÿæˆãƒ¢ãƒ‡ãƒ«: ${modelForContent}`);\nconsole.log(`ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼æå†™ãƒ¢ãƒ‡ãƒ«: ${modelForCharacter}`);\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3: ã‚³ã‚¹ãƒˆäºˆæ¸¬\n\n```typescript\nconst contentCost = costEstimator.estimateCost(modelForContent, 5000, 2000);\nconst charCost = costEstimator.estimateCost(modelForCharacter, 3000, 1500);\n\nconsole.log(`æœ¬æ–‡ç”Ÿæˆã‚³ã‚¹ãƒˆ: $${contentCost.estimatedCostUSD.toFixed(4)}`);\nconsole.log(`ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼æå†™ã‚³ã‚¹ãƒˆ: $${charCost.estimatedCostUSD.toFixed(4)}`);\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—4: å‹•çš„ãƒ¢ãƒ‡ãƒ«åˆ‡ã‚Šæ›¿ãˆ\n\n```typescript\nconst adaptive = new AdaptiveModelStrategy();\nconst qualityScores = [0.65, 0.68, 0.64]; // å“è³ªä½ä¸‹\n\nconst nextModel = await adaptive.selectWithFeedback('content', qualityScores);\nconsole.log(`æ¬¡å›ä½¿ç”¨ãƒ¢ãƒ‡ãƒ«: ${nextModel}`);\n```\n\n## ã„ã¤ä½¿ã†ã‹\n\n- å°èª¬ç”Ÿæˆã®å„ã‚¿ã‚¹ã‚¯å®Ÿè¡Œå‰\n- ã‚³ã‚¹ãƒˆå‰Šæ¸›ã‚’æ¤œè¨ã™ã‚‹å ´åˆ\n- è¤‡æ•°ã®ã‚¿ã‚¹ã‚¯ã‚’ãƒãƒƒãƒå‡¦ç†ã™ã‚‹å ´åˆ\n- å“è³ªã¨ã‚³ã‚¹ãƒˆã®ãƒãƒ©ãƒ³ã‚¹ã‚’æœ€é©åŒ–ã—ãŸã„å ´åˆ\n\n## æ³¨æ„ç‚¹\n\n### æ³¨æ„1: ãƒ¢ãƒ‡ãƒ«æ–™é‡‘ã®å¤‰å‹•\n\nAI APIã®æ–™é‡‘ã¯é »ç¹ã«å¤‰æ›´ã•ã‚Œã‚‹ã€‚å®šæœŸçš„ã«PRICINGå®šæ•°ã‚’æ›´æ–°ã™ã‚‹ã€‚\n\n### æ³¨æ„2: å“è³ªè©•ä¾¡ã®ç²¾åº¦\n\nè‡ªå‹•å“è³ªè©•ä¾¡ãŒä¸æ­£ç¢ºãªå ´åˆã€èª¤ã£ãŸãƒ¢ãƒ‡ãƒ«åˆ‡ã‚Šæ›¿ãˆãŒç™ºç”Ÿã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ã€‚\n\n### æ³¨æ„3: ãƒ¢ãƒ‡ãƒ«ã”ã¨ã®ç‰¹æ€§\n\nå„ãƒ¢ãƒ‡ãƒ«ã«ã¯å¾—æ„ãƒ»ä¸å¾—æ„ãŒã‚ã‚‹ã€‚ä¸€æ¦‚ã«é«˜æ€§èƒ½ãƒ¢ãƒ‡ãƒ«ãŒå¸¸ã«è‰¯ã„ã¨ã¯é™ã‚‰ãªã„ã€‚\n\n### æ³¨æ„4: ãƒ¬ãƒ¼ãƒˆåˆ¶é™\n\nãƒ¢ãƒ‡ãƒ«ã”ã¨ã«ãƒ¬ãƒ¼ãƒˆåˆ¶é™ãŒç•°ãªã‚‹ã€‚è¤‡æ•°ãƒ¢ãƒ‡ãƒ«ã‚’ä½µç”¨ã™ã‚‹å ´åˆã¯åˆ¶é™ã‚’ç¢ºèªã™ã‚‹ã€‚\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `decision_gemini_2_0_flash_lite_choice_2025_11_25.md`ï¼šãªãœãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ Flash Lite ã‚’é¸ã‚“ã ã‹\n- `skill_parameter_dynamic_adjustment_2025_11_25.md`ï¼šãƒ¢ãƒ‡ãƒ«é¸æŠã¨çµ„ã¿åˆã‚ã›ã‚‹ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿èª¿æ•´\n- `decision_model_mapping_strategy_2025_11_25.md`ï¼šãƒ¢ãƒ‡ãƒ«ãƒãƒƒãƒ”ãƒ³ã‚°æˆ¦ç•¥ã®è¨­è¨ˆåˆ¤æ–­\n",
    "prompt": "### ã‚¹ãƒ†ãƒƒãƒ—1: ModelSelectorã®åˆæœŸåŒ–\n\n```typescript\nconst selector = new ModelSelector();\nconst costEstimator = new CostEstimator();\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2: ç”¨é€”ã«å¿œã˜ãŸãƒ¢ãƒ‡ãƒ«é¸æŠ\n\n```typescript\nconst modelForContent = selector.selectModel('content', {\n  chapterType: 'ACTION',\n  qualityRequirement: 'standard',\n  budgetConstraint: 'moderate'\n});\n\nconst modelForCharacter = selector.selectModel('characterization', {\n  qualityRequirement: 'high'\n});\n\nconsole.log(`æœ¬æ–‡ç”Ÿæˆãƒ¢ãƒ‡ãƒ«: ${modelForContent}`);\nconsole.log(`ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼æå†™ãƒ¢ãƒ‡ãƒ«: ${modelForCharacter}`);\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3: ã‚³ã‚¹ãƒˆäºˆæ¸¬\n\n```typescript\nconst contentCost = costEstimator.estimateCost(modelForContent, 5000, 2000);\nconst charCost = costEstimator.estimateCost(modelForCharacter, 3000, 1500);\n\nconsole.log(`æœ¬æ–‡ç”Ÿæˆã‚³ã‚¹ãƒˆ: $${contentCost.estimatedCostUSD.toFixed(4)}`);\nconsole.log(`ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼æå†™ã‚³ã‚¹ãƒˆ: $${charCost.estimatedCostUSD.toFixed(4)}`);\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—4: å‹•çš„ãƒ¢ãƒ‡ãƒ«åˆ‡ã‚Šæ›¿ãˆ\n\n```typescript\nconst adaptive = new AdaptiveModelStrategy();\nconst qualityScores = [0.65, 0.68, 0.64]; // å“è³ªä½ä¸‹\n\nconst nextModel = await adaptive.selectWithFeedback('content', qualityScores);\nconsole.log(`æ¬¡å›ä½¿ç”¨ãƒ¢ãƒ‡ãƒ«: ${nextModel}`);\n```",
    "relatedTech": [
      "decision-gemini-2-0-flash-lite-choice",
      "skill-parameter-dynamic-adjustment",
      "decision-model-mapping-strategy"
    ]
  },
  {
    "slug": "zustand-multi-store-architecture",
    "title": "Zustandè¤‡æ•°ã‚¹ãƒˆã‚¢ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£",
    "category": "Skillsï¼ˆã‚¹ã‚­ãƒ«ãƒ»æ‰‹æ³•ï¼‰",
    "description": "è¤‡é›‘ãªã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”Ÿæˆã‚·ã‚¹ãƒ†ãƒ ï¼‰ã«ãŠã„ã¦ã€å˜ä¸€ã®å·¨å¤§ãªã‚¹ãƒˆã‚¢ã§ã¯ãªãã€è²¬ä»»ç¯„å›²ã”ã¨ã«åˆ†å‰²ã•ã‚ŒãŸè¤‡æ•°ã®Zustandã‚¹ãƒˆã‚¢ã‚’è¨­è¨ˆãƒ»å®Ÿè£…ã—ã€é–¢å¿ƒã®åˆ†é›¢ã¨ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–ã‚’å®Ÿç¾ã™ã‚‹æ‰‹æ³•ã€‚",
    "project": "ai-document-generator",
    "usedIn": [
      "src/store/*.ts, src/store/*ä»•æ§˜æ›¸.md"
    ],
    "code": "```json\n{\n  \"id\": \"skill_zustand_multi_store_architecture_2025_04_11\",\n  \"type\": \"skill\",\n  \"name\": \"Zustandè¤‡æ•°ã‚¹ãƒˆã‚¢ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£\",\n  \"tags\": [\"Zustand\", \"çŠ¶æ…‹ç®¡ç†\", \"ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£\", \"è¤‡æ•°ã‚¹ãƒˆã‚¢\", \"é–¢å¿ƒã®åˆ†é›¢\", \"ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–\"],\n  \"source_project\": \"ai-document-generator\",\n  \"source_file\": \"src/store/*.ts, src/store/*ä»•æ§˜æ›¸.md\",\n  \"related_knowledge\": [\"decision_state_zustand_vs_redux_2025_04_11\", \"decision_arch_multi_store_separation_2025_04_11\"],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-04-11\",\n  \"updated\": \"2025-04-28\"\n}\n```\n\n# Zustandè¤‡æ•°ã‚¹ãƒˆã‚¢ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£\n\n## ä½•ã‚’ã™ã‚‹ã‚¹ã‚­ãƒ«ã‹\n\nè¤‡é›‘ãªã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”Ÿæˆã‚·ã‚¹ãƒ†ãƒ ï¼‰ã«ãŠã„ã¦ã€å˜ä¸€ã®å·¨å¤§ãªã‚¹ãƒˆã‚¢ã§ã¯ãªãã€è²¬ä»»ç¯„å›²ã”ã¨ã«åˆ†å‰²ã•ã‚ŒãŸè¤‡æ•°ã®Zustandã‚¹ãƒˆã‚¢ã‚’è¨­è¨ˆãƒ»å®Ÿè£…ã—ã€é–¢å¿ƒã®åˆ†é›¢ã¨ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–ã‚’å®Ÿç¾ã™ã‚‹æ‰‹æ³•ã€‚\n\n## å…·ä½“çš„ãªæ‰‹æ³•\n\n### 1. ã‚¹ãƒˆã‚¢ã®åˆ†å‰²æˆ¦ç•¥\n\n```\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚        ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å…¨ä½“ã®çŠ¶æ…‹         â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n              â”‚\n  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\n  â”‚           â”‚           â”‚              â”‚\n  â–¼           â–¼           â–¼              â–¼\ntemplateStore documentStore pageStore sectionStore\n  â”‚           â”‚           â”‚              â”‚\n  â–¼           â–¼           â–¼              â–¼\naiGenerationStore mediaStore editorUIStore\n```\n\n#### ã‚¹ãƒˆã‚¢ã®åˆ†é¡\n\n1. **ãƒ‡ãƒ¼ã‚¿ã‚¹ãƒˆã‚¢ï¼ˆãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ­ã‚¸ãƒƒã‚¯ï¼‰**\n   - `templateStore`: ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆç®¡ç†ï¼ˆDocument Type, Layout, Themeï¼‰\n   - `documentStore`: ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆå…¨ä½“ã®çŠ¶æ…‹\n   - `pageStore`: ãƒšãƒ¼ã‚¸ç®¡ç†\n   - `sectionStore`: ã‚»ã‚¯ã‚·ãƒ§ãƒ³ç®¡ç†\n   - `aiGenerationStore`: AIç”ŸæˆçŠ¶æ…‹\n   - `mediaStore`: ãƒ¡ãƒ‡ã‚£ã‚¢ãƒ»ãƒ‡ãƒ¼ã‚¿ç®¡ç†\n\n2. **UIã‚¹ãƒˆã‚¢ï¼ˆUIãƒ­ã‚¸ãƒƒã‚¯ï¼‰**\n   - `editorUIStore`: ã‚¨ãƒ‡ã‚£ã‚¿UIçŠ¶æ…‹ï¼ˆã‚¿ãƒ–ã€ãƒ¢ãƒ¼ãƒ‰ã€é¸æŠçŠ¶æ…‹ï¼‰\n\n3. **ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã‚¹ãƒˆã‚¢**\n   - `validationStore`: ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³çµæœ\n   - `historyStore`: Undo/Redoå±¥æ­´\n   - `operationStore`: æ“ä½œãƒ­ã‚°\n\n### 2. å„ã‚¹ãƒˆã‚¢ã®è²¬ä»»ç¯„å›²\n\n#### templateStore\n\n**è²¬ä»»**: ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®èª­ã¿è¾¼ã¿ã€é¸æŠã€äº’æ›æ€§ãƒã‚§ãƒƒã‚¯\n\n```typescript\n// src/store/templateStore.ts\nimport { create } from 'zustand';\nimport { persist } from 'zustand/middleware';\n\ninterface TemplateStore {\n  // çŠ¶æ…‹\n  allDocumentTypes: DocumentTypeDefinition[];\n  allLayouts: LayoutTemplate[];\n  allThemes: ThemeTemplate[];\n  allComponents: ComponentDefinition[];\n\n  selectedDocumentType: DocumentTypeDefinition | null;\n  selectedLayoutIds: Record<number, string>; // pageIndex -> layoutId\n  selectedThemeId: string | null;\n\n  // ã‚¢ã‚¯ã‚·ãƒ§ãƒ³\n  loadTemplates: () => Promise<void>;\n  selectDocumentType: (documentTypeId: string) => void;\n  selectLayout: (pageIndex: number, layoutId: string) => void;\n  selectTheme: (themeId: string) => void;\n\n  // ã‚²ãƒƒã‚¿ãƒ¼ï¼ˆæ´¾ç”ŸçŠ¶æ…‹ï¼‰\n  getCompatibleLayouts: (pageIndex: number) => LayoutTemplate[];\n  getCompatibleThemes: () => ThemeTemplate[];\n  getCurrentLayout: (pageIndex: number) => LayoutTemplate | null;\n  getCurrentTheme: () => ThemeTemplate | null;\n}\n\nconst useTemplateStore = create<TemplateStore>()(\n  persist(\n    (set, get) => ({\n      // åˆæœŸçŠ¶æ…‹\n      allDocumentTypes: [],\n      allLayouts: [],\n      allThemes: [],\n      allComponents: [],\n      selectedDocumentType: null,\n      selectedLayoutIds: {},\n      selectedThemeId: null,\n\n      // ã‚¢ã‚¯ã‚·ãƒ§ãƒ³å®Ÿè£…\n      loadTemplates: async () => {\n        const documentTypes = await fetchDocumentTypes();\n        const layouts = await fetchLayouts();\n        const themes = await fetchThemes();\n        const components = await fetchComponents();\n\n        set({\n          allDocumentTypes: documentTypes,\n          allLayouts: layouts,\n          allThemes: themes,\n          allComponents: components,\n        });\n      },\n\n      selectDocumentType: (documentTypeId) => {\n        const documentType = get().allDocumentTypes.find(dt => dt.id === documentTypeId);\n        if (!documentType) return;\n\n        // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã¨ãƒ†ãƒ¼ãƒã‚’è‡ªå‹•è¨­å®š\n        const defaultLayoutIds = documentType.defaults.layoutIds;\n        const defaultThemeId = documentType.defaults.themeId;\n\n        set({\n          selectedDocumentType: documentType,\n          selectedLayoutIds: defaultLayoutIds,\n          selectedThemeId: defaultThemeId,\n        });\n      },\n\n      selectLayout: (pageIndex, layoutId) => {\n        const { selectedDocumentType, selectedLayoutIds } = get();\n\n        // äº’æ›æ€§ãƒã‚§ãƒƒã‚¯\n        if (!selectedDocumentType?.compatibility.layouts.includes(layoutId)) {\n          console.error('äº’æ›æ€§ã®ãªã„ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆãŒé¸æŠã•ã‚Œã¾ã—ãŸ');\n          return;\n        }\n\n        set({\n          selectedLayoutIds: {\n            ...selectedLayoutIds,\n            [pageIndex]: layoutId,\n          },\n        });\n      },\n\n      selectTheme: (themeId) => {\n        const { selectedDocumentType } = get();\n\n        // äº’æ›æ€§ãƒã‚§ãƒƒã‚¯\n        if (!selectedDocumentType?.compatibility.themes.includes(themeId)) {\n          console.error('äº’æ›æ€§ã®ãªã„ãƒ†ãƒ¼ãƒãŒé¸æŠã•ã‚Œã¾ã—ãŸ');\n          return;\n        }\n\n        set({ selectedThemeId: themeId });\n      },\n\n      // ã‚²ãƒƒã‚¿ãƒ¼ï¼ˆæ´¾ç”ŸçŠ¶æ…‹ï¼‰\n      getCompatibleLayouts: (pageIndex) => {\n        const { selectedDocumentType, allLayouts } = get();\n        if (!selectedDocumentType) return [];\n\n        const page = selectedDocumentType.pages?.[pageIndex];\n        const compatibleLayoutIds = page?.compatibleLayouts || selectedDocumentType.compatibility.layouts;\n\n        return allLayouts.filter(layout => compatibleLayoutIds.includes(layout.id));\n      },\n\n      getCompatibleThemes: () => {\n        const { selectedDocumentType, allThemes } = get();\n        if (!selectedDocumentType) return [];\n\n        return allThemes.filter(theme =>\n          selectedDocumentType.compatibility.themes.includes(theme.id)\n        );\n      },\n\n      getCurrentLayout: (pageIndex) => {\n        const { selectedLayoutIds, allLayouts } = get();\n        const layoutId = selectedLayoutIds[pageIndex];\n        return allLayouts.find(layout => layout.id === layoutId) || null;\n      },\n\n      getCurrentTheme: () => {\n        const { selectedThemeId, allThemes } = get();\n        return allThemes.find(theme => theme.id === selectedThemeId) || null;\n      },\n    }),\n    {\n      name: 'template-store',\n      partialize: (state) => ({\n        selectedDocumentType: state.selectedDocumentType,\n        selectedLayoutIds: state.selectedLayoutIds,\n        selectedThemeId: state.selectedThemeId,\n      }),\n    }\n  )\n);\n\nexport default useTemplateStore;\n```\n\n#### documentStore\n\n**è²¬ä»»**: ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆå…¨ä½“ã®çŠ¶æ…‹ã€ãƒšãƒ¼ã‚¸ç®¡ç†ã€ä¿å­˜/èª­ã¿è¾¼ã¿\n\n```typescript\n// src/store/documentStore.ts\nimport { create } from 'zustand';\nimport { persist } from 'zustand/middleware';\n\ninterface DocumentStore {\n  // çŠ¶æ…‹\n  documentId: string | null;\n  documentName: string;\n  createdAt: string;\n  updatedAt: string;\n  pages: Page[];\n  globalParameters: GlobalParameters;\n\n  // ã‚¢ã‚¯ã‚·ãƒ§ãƒ³\n  createNewDocument: (documentTypeId: string) => void;\n  loadDocument: (documentId: string) => Promise<void>;\n  saveDocument: () => Promise<void>;\n  updateDocumentName: (name: string) => void;\n  addPage: (pageType: string) => void;\n  removePage: (pageIndex: number) => void;\n  reorderPages: (fromIndex: number, toIndex: number) => void;\n  updateGlobalParameters: (params: Partial<GlobalParameters>) => void;\n\n  // ã‚²ãƒƒã‚¿ãƒ¼\n  getPageCount: () => number;\n  getPage: (pageIndex: number) => Page | null;\n}\n\nconst useDocumentStore = create<DocumentStore>()(\n  persist(\n    (set, get) => ({\n      documentId: null,\n      documentName: 'ç„¡é¡Œã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ',\n      createdAt: '',\n      updatedAt: '',\n      pages: [],\n      globalParameters: {\n        title: '',\n        purpose: '',\n        targetAudience: '',\n        industry: '',\n        tone: 'ãƒ—ãƒ­ãƒ•ã‚§ãƒƒã‚·ãƒ§ãƒŠãƒ«',\n        temperature: 0.7,\n        maxTokens: 2048,\n      },\n\n      createNewDocument: (documentTypeId) => {\n        const documentType = useTemplateStore.getState().allDocumentTypes.find(dt => dt.id === documentTypeId);\n        if (!documentType) return;\n\n        // ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚¿ã‚¤ãƒ—ã«åŸºã¥ã„ã¦ãƒšãƒ¼ã‚¸ã‚’åˆæœŸåŒ–\n        const pages = (documentType.pages || []).map((pageConfig, index) => ({\n          id: `page-${index}`,\n          name: pageConfig.name,\n          order: index,\n          pageType: pageConfig.pageType,\n          layoutId: pageConfig.defaultLayoutId || documentType.defaults.layoutIds[index],\n          sections: [],\n        }));\n\n        set({\n          documentId: generateId(),\n          documentName: 'ç„¡é¡Œã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ',\n          createdAt: new Date().toISOString(),\n          updatedAt: new Date().toISOString(),\n          pages,\n        });\n      },\n\n      loadDocument: async (documentId) => {\n        const document = await fetchDocument(documentId);\n        set({\n          documentId: document.id,\n          documentName: document.name,\n          createdAt: document.createdAt,\n          updatedAt: document.updatedAt,\n          pages: document.pages,\n          globalParameters: document.globalParameters,\n        });\n      },\n\n      saveDocument: async () => {\n        const { documentId, documentName, pages, globalParameters } = get();\n        await saveDocument({\n          id: documentId,\n          name: documentName,\n          pages,\n          globalParameters,\n          updatedAt: new Date().toISOString(),\n        });\n        set({ updatedAt: new Date().toISOString() });\n      },\n\n      updateDocumentName: (name) => {\n        set({ documentName: name, updatedAt: new Date().toISOString() });\n      },\n\n      // ... ãã®ä»–ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³\n\n      getPageCount: () => get().pages.length,\n      getPage: (pageIndex) => get().pages[pageIndex] || null,\n    }),\n    {\n      name: 'document-store',\n    }\n  )\n);\n\nexport default useDocumentStore;\n```\n\n#### sectionStore\n\n**è²¬ä»»**: ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®å†…å®¹ã€ä½ç½®ã€ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆç®¡ç†\n\n```typescript\n// src/store/sectionStore.ts\nimport { create } from 'zustand';\n\ninterface SectionStore {\n  // çŠ¶æ…‹\n  sections: Record<string, SectionContent>; // sectionId -> content\n\n  // ã‚¢ã‚¯ã‚·ãƒ§ãƒ³\n  updateSectionContent: (sectionId: string, content: any) => void;\n  updateSectionComponent: (sectionId: string, componentId: string) => void;\n  updateSectionPosition: (sectionId: string, position: SectionPosition) => void;\n  clearSectionContent: (sectionId: string) => void;\n\n  // ã‚²ãƒƒã‚¿ãƒ¼\n  getSectionContent: (sectionId: string) => SectionContent | null;\n}\n\nconst useSectionStore = create<SectionStore>((set, get) => ({\n  sections: {},\n\n  updateSectionContent: (sectionId, content) => {\n    set((state) => ({\n      sections: {\n        ...state.sections,\n        [sectionId]: {\n          ...state.sections[sectionId],\n          content,\n          updatedAt: new Date().toISOString(),\n        },\n      },\n    }));\n  },\n\n  // ... ãã®ä»–ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³\n\n  getSectionContent: (sectionId) => get().sections[sectionId] || null,\n}));\n\nexport default useSectionStore;\n```\n\n#### aiGenerationStore\n\n**è²¬ä»»**: AIç”Ÿæˆã®çŠ¶æ…‹ã€å±¥æ­´ã€ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ç®¡ç†\n\n```typescript\n// src/store/aiGenerationStore.ts\nimport { create } from 'zustand';\n\ninterface AIGenerationStore {\n  // çŠ¶æ…‹\n  sectionPrompts: Record<string, SectionPromptState>;\n  generationHistory: GenerationHistoryEntry[];\n  isGenerating: boolean;\n\n  // ã‚¢ã‚¯ã‚·ãƒ§ãƒ³\n  generateForSection: (sectionId: string) => Promise<void>;\n  generateAllSections: () => Promise<void>;\n  refineContent: (sectionId: string, additionalPrompt: string) => Promise<void>;\n  updateSectionPromptParameter: (sectionId: string, key: string, value: any) => void;\n\n  // ã‚²ãƒƒã‚¿ãƒ¼\n  getSectionPromptState: (sectionId: string) => SectionPromptState | null;\n  getGenerationHistory: (sectionId: string) => GenerationHistoryEntry[];\n}\n\nconst useAIGenerationStore = create<AIGenerationStore>((set, get) => ({\n  sectionPrompts: {},\n  generationHistory: [],\n  isGenerating: false,\n\n  generateForSection: async (sectionId) => {\n    set({ isGenerating: true });\n\n    const section = getSectionDefinition(sectionId);\n    const globalParams = useDocumentStore.getState().globalParameters;\n    const prompt = generatePrompt(section, globalParams);\n\n    try {\n      const response = await fetch('/api/ai/generate', {\n        method: 'POST',\n        body: JSON.stringify({ prompt, parameters: globalParams }),\n      });\n\n      const { content } = await response.json();\n\n      // sectionStoreã‚’æ›´æ–°\n      useSectionStore.getState().updateSectionContent(sectionId, content);\n\n      // å±¥æ­´ã«è¿½åŠ \n      set((state) => ({\n        generationHistory: [\n          ...state.generationHistory,\n          {\n            sectionId,\n            prompt,\n            content,\n            generatedAt: new Date().toISOString(),\n          },\n        ],\n      }));\n    } catch (error) {\n      console.error('AIç”Ÿæˆã‚¨ãƒ©ãƒ¼:', error);\n    } finally {\n      set({ isGenerating: false });\n    }\n  },\n\n  // ... ãã®ä»–ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³\n}));\n\nexport default useAIGenerationStore;\n```\n\n### 3. ã‚¹ãƒˆã‚¢é–“ã®é€£æº\n\n#### ãƒ‘ã‚¿ãƒ¼ãƒ³1ï¼šç›´æ¥å‚ç…§\n\nã‚ã‚‹ã‚¹ãƒˆã‚¢ãŒä»–ã®ã‚¹ãƒˆã‚¢ã®çŠ¶æ…‹ã‚’èª­ã¿å–ã‚‹ï¼š\n\n```typescript\n// sectionStoreã‹ã‚‰templateStoreã‚’å‚ç…§\nconst updateSectionComponent = (sectionId: string, componentId: string) => {\n  const allComponents = useTemplateStore.getState().allComponents;\n  const component = allComponents.find(c => c.id === componentId);\n\n  if (!component) {\n    console.error('ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“');\n    return;\n  }\n\n  // sectionStoreã‚’æ›´æ–°\n  set((state) => ({\n    sections: {\n      ...state.sections,\n      [sectionId]: {\n        ...state.sections[sectionId],\n        componentId,\n      },\n    },\n  }));\n};\n```\n\n#### ãƒ‘ã‚¿ãƒ¼ãƒ³2ï¼šã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯\n\nè¤‡æ•°ã‚¹ãƒˆã‚¢ã‚’çµ„ã¿åˆã‚ã›ãŸã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯ï¼š\n\n```typescript\n// src/hooks/useDocumentEditor.ts\nimport useTemplateStore from '@/store/templateStore';\nimport useDocumentStore from '@/store/documentStore';\nimport useSectionStore from '@/store/sectionStore';\n\nexport function useDocumentEditor() {\n  const currentLayout = useTemplateStore((state) => state.getCurrentLayout(0));\n  const currentPage = useDocumentStore((state) => state.getPage(0));\n  const sectionContent = useSectionStore((state) => state.getSectionContent);\n\n  const updateSection = (sectionId: string, content: any) => {\n    useSectionStore.getState().updateSectionContent(sectionId, content);\n  };\n\n  return {\n    currentLayout,\n    currentPage,\n    sectionContent,\n    updateSection,\n  };\n}\n```\n\n#### ãƒ‘ã‚¿ãƒ¼ãƒ³3ï¼šã‚¤ãƒ™ãƒ³ãƒˆãƒ™ãƒ¼ã‚¹ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰\n\nè¤‡é›‘ãªé€£æºã®å ´åˆã€ã‚¤ãƒ™ãƒ³ãƒˆã‚¨ãƒŸãƒƒã‚¿ãƒ¼ã‚’ä½¿ç”¨ï¼š\n\n```typescript\n// src/lib/events/documentEvents.ts\nimport { EventEmitter } from 'events';\n\nexport const documentEvents = new EventEmitter();\n\n// ç™ºç«å´\ndocumentEvents.emit('document:saved', { documentId });\n\n// è³¼èª­å´\ndocumentEvents.on('document:saved', ({ documentId }) => {\n  console.log('ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒä¿å­˜ã•ã‚Œã¾ã—ãŸ:', documentId);\n});\n```\n\n### 4. ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–\n\n#### ã‚»ãƒ¬ã‚¯ã‚¿ã®æœ€é©åŒ–\n\n```typescript\n// âŒ æ‚ªã„ä¾‹ï¼šã™ã¹ã¦ã®çŠ¶æ…‹ã‚’å–å¾—\nconst { sections, templates, pages } = useDocumentStore();\n\n// âœ… è‰¯ã„ä¾‹ï¼šå¿…è¦ãªçŠ¶æ…‹ã®ã¿å–å¾—\nconst documentName = useDocumentStore((state) => state.documentName);\nconst pageCount = useDocumentStore((state) => state.getPageCount());\n```\n\n#### ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ï¼ˆpersistï¼‰ã®ä½¿ç”¨\n\n```typescript\nimport { persist } from 'zustand/middleware';\n\nconst useStore = create<Store>()(\n  persist(\n    (set, get) => ({\n      // ...\n    }),\n    {\n      name: 'store-name',\n      partialize: (state) => ({\n        // æ°¸ç¶šåŒ–ã™ã‚‹çŠ¶æ…‹ã®ã¿ã‚’æŒ‡å®š\n        selectedDocumentType: state.selectedDocumentType,\n      }),\n    }\n  )\n);\n```\n\n## ãªãœã“ã®æ‰‹æ³•ã‚’ä½¿ã†ã‹\n\n**ç†ç”±1ï¼šé–¢å¿ƒã®åˆ†é›¢**\n- å„ã‚¹ãƒˆã‚¢ã¯æ˜ç¢ºãªè²¬ä»»ç¯„å›²ã‚’æŒã¤\n- ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆç®¡ç†ã¨ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆçŠ¶æ…‹ã‚’åˆ†é›¢\n- ã‚³ãƒ¼ãƒ‰ã®å¯èª­æ€§ãƒ»ä¿å®ˆæ€§ãŒå‘ä¸Š\n\n**ç†ç”±2ï¼šãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–**\n- å¿…è¦ãªçŠ¶æ…‹ã®ã¿ã‚’ã‚µãƒ–ã‚¹ã‚¯ãƒ©ã‚¤ãƒ–\n- ä¸è¦ãªå†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã‚’é˜²ã\n- å¤§è¦æ¨¡ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã‚‚ã‚¹ã‚±ãƒ¼ãƒ«\n\n**ç†ç”±3ï¼šãƒ†ã‚¹ãƒˆã—ã‚„ã™ã„**\n- å„ã‚¹ãƒˆã‚¢ã‚’ç‹¬ç«‹ã—ã¦ãƒ†ã‚¹ãƒˆå¯èƒ½\n- ãƒ¢ãƒƒã‚¯ãŒå®¹æ˜“\n\n**ç†ç”±4ï¼šé–‹ç™ºåŠ¹ç‡**\n- è¤‡æ•°äººã§ä¸¦è¡Œé–‹ç™ºã—ã‚„ã™ã„\n- ã‚¹ãƒˆã‚¢ã”ã¨ã«æ‹…å½“ã‚’åˆ†ã‘ã‚‰ã‚Œã‚‹\n\n**ç†ç”±5ï¼šæŸ”è»Ÿæ€§**\n- æ–°ã—ã„ã‚¹ãƒˆã‚¢ã‚’ç°¡å˜ã«è¿½åŠ \n- æ—¢å­˜ã‚¹ãƒˆã‚¢ã«å½±éŸ¿ã‚’ä¸ãˆãšã«æ‹¡å¼µ\n\n## å†ç¾æ–¹æ³•\n\n### ã‚¹ãƒ†ãƒƒãƒ—1ï¼šZustandã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\n\n```bash\nnpm install zustand\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2ï¼šå„ã‚¹ãƒˆã‚¢ã‚’ä½œæˆ\n\n```typescript\n// src/store/exampleStore.ts\nimport { create } from 'zustand';\n\ninterface ExampleStore {\n  count: number;\n  increment: () => void;\n}\n\nconst useExampleStore = create<ExampleStore>((set) => ({\n  count: 0,\n  increment: () => set((state) => ({ count: state.count + 1 })),\n}));\n\nexport default useExampleStore;\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3ï¼šã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ä½¿ç”¨\n\n```tsx\n// src/components/Counter.tsx\nimport useExampleStore from '@/store/exampleStore';\n\nconst Counter = () => {\n  const count = useExampleStore((state) => state.count);\n  const increment = useExampleStore((state) => state.increment);\n\n  return (\n    <div>\n      <p>Count: {count}</p>\n      <button onClick={increment}>Increment</button>\n    </div>\n  );\n};\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—4ï¼šè¤‡æ•°ã‚¹ãƒˆã‚¢ã‚’çµ„ã¿åˆã‚ã›ã‚‹\n\n```typescript\n// src/hooks/useCombinedStores.ts\nimport useStore1 from '@/store/store1';\nimport useStore2 from '@/store/store2';\n\nexport function useCombinedStores() {\n  const data1 = useStore1((state) => state.data);\n  const data2 = useStore2((state) => state.data);\n\n  return { data1, data2 };\n}\n```\n\n## ã„ã¤ä½¿ã†ã‹\n\n- **è¤‡é›‘ãªçŠ¶æ…‹ç®¡ç†**: çŠ¶æ…‹ãŒå¤šãã€é–¢å¿ƒã®åˆ†é›¢ãŒå¿…è¦\n- **å¤§è¦æ¨¡ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³**: è¤‡æ•°ãƒšãƒ¼ã‚¸ã€å¤šæ©Ÿèƒ½\n- **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹é‡è¦–**: ä¸è¦ãªå†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã‚’é˜²ããŸã„\n- **è¤‡æ•°äººé–‹ç™º**: æ‹…å½“ã‚’åˆ†ã‘ã¦ä¸¦è¡Œé–‹ç™º\n\n## æ³¨æ„ç‚¹\n\n### 1. ã‚¹ãƒˆã‚¢ã®ç²’åº¦\n- ç´°ã‹ãåˆ†ã‘ã™ãã‚‹ã¨ç®¡ç†ãŒç…©é›‘\n- ç²—ã™ãã‚‹ã¨å˜ä¸€ã‚¹ãƒˆã‚¢ã¨å¤‰ã‚ã‚‰ãªã„\n- ãƒ‰ãƒ¡ã‚¤ãƒ³ã®å¢ƒç•Œã«æ²¿ã£ã¦åˆ†å‰²\n\n### 2. å¾ªç’°ä¾å­˜\n- ã‚¹ãƒˆã‚¢é–“ã§å¾ªç’°å‚ç…§ã—ãªã„ã‚ˆã†æ³¨æ„\n- ä¾å­˜é–¢ä¿‚ã‚’æ˜ç¢ºã«\n\n### 3. ã‚°ãƒ­ãƒ¼ãƒãƒ«çŠ¶æ…‹ã®ç¯„å›²\n- ã™ã¹ã¦ã‚’ã‚°ãƒ­ãƒ¼ãƒãƒ«çŠ¶æ…‹ã«ã—ãªã„\n- ãƒ­ãƒ¼ã‚«ãƒ«çŠ¶æ…‹ï¼ˆuseStateï¼‰ã¨ä½¿ã„åˆ†ã‘\n\n### 4. æ°¸ç¶šåŒ–ã®é¸æŠ\n- ã™ã¹ã¦ã®ã‚¹ãƒˆã‚¢ã‚’æ°¸ç¶šåŒ–ã—ãªã„\n- å¿…è¦ãªçŠ¶æ…‹ã®ã¿ã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã«ä¿å­˜\n\n### 5. TypeScriptã®å‹å®šç¾©\n- å„ã‚¹ãƒˆã‚¢ã®å‹ã‚’æ˜ç¢ºã«å®šç¾©\n- å‹å®‰å…¨æ€§ã‚’ç¢ºä¿\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `decision_state_zustand_vs_redux_2025_04_11.md`: Zustand vs Redux/Context APIã®åˆ¤æ–­\n- `decision_arch_multi_store_separation_2025_04_11.md`: è¤‡æ•°ã‚¹ãƒˆã‚¢åˆ†å‰²ã®è¨­è¨ˆåˆ¤æ–­\n",
    "prompt": "### ã‚¹ãƒ†ãƒƒãƒ—1ï¼šZustandã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\n\n```bash\nnpm install zustand\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2ï¼šå„ã‚¹ãƒˆã‚¢ã‚’ä½œæˆ\n\n```typescript\n// src/store/exampleStore.ts\nimport { create } from 'zustand';\n\ninterface ExampleStore {\n  count: number;\n  increment: () => void;\n}\n\nconst useExampleStore = create<ExampleStore>((set) => ({\n  count: 0,\n  increment: () => set((state) => ({ count: state.count + 1 })),\n}));\n\nexport default useExampleStore;\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3ï¼šã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ä½¿ç”¨\n\n```tsx\n// src/components/Counter.tsx\nimport useExampleStore from '@/store/exampleStore';\n\nconst Counter = () => {\n  const count = useExampleStore((state) => state.count);\n  const increment = useExampleStore((state) => state.increment);\n\n  return (\n    <div>\n      <p>Count: {count}</p>\n      <button onClick={increment}>Increment</button>\n    </div>\n  );\n};\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—4ï¼šè¤‡æ•°ã‚¹ãƒˆã‚¢ã‚’çµ„ã¿åˆã‚ã›ã‚‹\n\n```typescript\n// src/hooks/useCombinedStores.ts\nimport useStore1 from '@/store/store1';\nimport useStore2 from '@/store/store2';\n\nexport function useCombinedStores() {\n  const data1 = useStore1((state) => state.data);\n  const data2 = useStore2((state) => state.data);\n\n  return { data1, data2 };\n}\n```",
    "relatedTech": [
      "decision-state-zustand-vs-redux",
      "decision-arch-multi-store-separation"
    ]
  },
  {
    "slug": "ai-analysis-architecture-choice",
    "title": "AIãƒ™ãƒ¼ã‚¹åˆ†æã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã®é¸æŠ",
    "category": "Decisionsï¼ˆæŠ€è¡“é¸å®šãƒ»åˆ¤æ–­ï¼‰",
    "description": "AIãƒ™ãƒ¼ã‚¹åˆ†æã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã®é¸æŠ",
    "project": "novel-automation-system-v2",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"decision_ai_analysis_architecture_choice_2025_11_25\",\n  \"type\": \"decision\",\n  \"name\": \"AIãƒ™ãƒ¼ã‚¹åˆ†æã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã®é¸æŠ\",\n  \"decision_type\": \"architecture\",\n  \"tags\": [\"AIåˆ†æ\", \"ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£\", \"Gemini API\", \"ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯\"],\n  \"source_project\": \"novel-automation-system-v2\",\n  \"chosen\": \"AIãƒ™ãƒ¼ã‚¹åˆ†æä¸­å¿ƒ + ãƒ«ãƒ¼ãƒ«ãƒ™ãƒ¼ã‚¹è£œå®Œ + ã‚­ãƒ£ãƒƒã‚·ãƒ¥ + ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯\",\n  \"alternatives\": [\"å®Œå…¨AIãƒ™ãƒ¼ã‚¹\", \"å®Œå…¨ãƒ«ãƒ¼ãƒ«ãƒ™ãƒ¼ã‚¹\", \"äººæ‰‹ãƒ¬ãƒ“ãƒ¥ãƒ¼\"],\n  \"related_knowledge\": [\"skill_multi_dimensional_quality_evaluation_2025_11_25\", \"skill_ai_feedback_loop_optimization_2025_11_25\"],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# AIãƒ™ãƒ¼ã‚¹åˆ†æã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã®é¸æŠ\n\n## ä½•ã‚’åˆ¤æ–­ã—ãŸã‹\n\nç« ã®å“è³ªè©•ä¾¡ãƒ»ãƒ†ãƒ¼ãƒåˆ†æãƒ»ã‚·ãƒ¼ãƒ³æ§‹é€ åˆ†æç­‰ã‚’ã€AIã«ã‚ˆã‚‹åˆ†æã‚’ä¸­å¿ƒã«æ®ãˆã¤ã¤ã€ãƒ«ãƒ¼ãƒ«ãƒ™ãƒ¼ã‚¹è£œå®Œãƒ»ã‚­ãƒ£ãƒƒã‚·ãƒ¥æ©Ÿæ§‹ãƒ»ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯æˆ¦ç•¥ã‚’çµ„ã¿åˆã‚ã›ãŸã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã‚’æ¡ç”¨ã—ãŸã€‚\n\n## é¸ã‚“ã ã‚‚ã®\n\n**AIãƒ™ãƒ¼ã‚¹åˆ†æã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£** with 4ã¤ã®è¦ç´ ï¼š\n\n1. **AIãƒ™ãƒ¼ã‚¹åˆ†æï¼ˆä¸­å¿ƒï¼‰**\n   - å“è³ªè©•ä¾¡ï¼ˆ10æ¬¡å…ƒã‚¹ã‚³ã‚¢ãƒªãƒ³ã‚°ï¼‰\n   - ãƒ†ãƒ¼ãƒåˆ†æï¼ˆä¸»è¦ãƒ†ãƒ¼ãƒæŠ½å‡ºï¼‰\n   - ã‚·ãƒ¼ãƒ³æ§‹é€ åˆ†æï¼ˆã‚·ãƒ¼ãƒ³åˆ†é¡ï¼‰\n   - ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼åˆ†æï¼ˆå¿ƒç†ãƒ»é–¢ä¿‚æ€§ï¼‰\n\n2. **ãƒ«ãƒ¼ãƒ«ãƒ™ãƒ¼ã‚¹è£œå®Œ**\n   - ãƒ†ã‚­ã‚¹ãƒˆçµ±è¨ˆï¼ˆæ–‡å­—æ•°ãƒ»æ–‡æ•°ãƒ»æ®µè½æ•°ï¼‰\n   - èª­ã¿ã‚„ã™ã•ã‚¹ã‚³ã‚¢ï¼ˆæ–‡é•·ãƒ»è¤‡é›‘èªå½™ï¼‰\n   - å¯¾è©±å‰²åˆè¨ˆç®—\n\n3. **ã‚­ãƒ£ãƒƒã‚·ãƒ¥æ©Ÿæ§‹**\n   - åŒã˜ç« ã®åˆ†æçµæœã‚’ã‚­ãƒ£ãƒƒã‚·ãƒ¥\n   - TTL: 5åˆ†\n   - APIå‘¼ã³å‡ºã—å‰Šæ¸›\n\n4. **ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯æˆ¦ç•¥**\n   - AIåˆ†æå¤±æ•—æ™‚ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã‚’è¿”å´\n   - ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ: 30ç§’\n   - ãƒªãƒˆãƒ©ã‚¤: æœ€å¤§3å›ï¼ˆæŒ‡æ•°ãƒãƒƒã‚¯ã‚ªãƒ•ï¼‰\n\n## ä»–ã®å€™è£œ\n\n### å€™è£œ1ï¼šå®Œå…¨AIãƒ™ãƒ¼ã‚¹ï¼ˆãƒ«ãƒ¼ãƒ«ãªã—ï¼‰\n\nã™ã¹ã¦ã®åˆ†æã‚’AIã«ä»»ã›ã‚‹\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**ï¼š\n- **ã‚³ã‚¹ãƒˆãŒé«˜ã„**: æ–‡å­—æ•°ã‚«ã‚¦ãƒ³ãƒˆç­‰ã®å˜ç´”ä½œæ¥­ã‚‚AIã«ä¾é ¼\n- **é€Ÿåº¦ãŒé…ã„**: ãƒ«ãƒ¼ãƒ«ã§å³åº§ã«è¨ˆç®—ã§ãã‚‹é …ç›®ã‚‚AIå¾…ã¡\n- **ä¸ç¢ºå®Ÿæ€§**: AIãŒæ¯å›ç•°ãªã‚‹çµæœã‚’è¿”ã™å¯èƒ½æ€§ï¼ˆæ–‡å­—æ•°ç­‰ã¯å›ºå®šå€¤ã§ã‚ã‚‹ã¹ãï¼‰\n- **éå‰°å“è³ª**: å˜ç´”ãªçµ±è¨ˆã«AIã®é«˜åº¦ãªç†è§£åŠ›ã¯ä¸è¦\n\n### å€™è£œ2ï¼šå®Œå…¨ãƒ«ãƒ¼ãƒ«ãƒ™ãƒ¼ã‚¹\n\næ­£è¦è¡¨ç¾ãƒ»ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒãƒ³ã‚°ã®ã¿\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**ï¼š\n- **æ–‡è„ˆç†è§£ä¸å¯**: ã€Œã‚¨ãƒ³ã‚²ãƒ¼ã‚¸ãƒ¡ãƒ³ãƒˆã€ã€Œãƒ†ãƒ¼ãƒã€ç­‰ã¯æ–‡è„ˆä¾å­˜\n- **ãƒ«ãƒ¼ãƒ«ä¿å®ˆã®é™ç•Œ**: ã™ã¹ã¦ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ç¶²ç¾…ã§ããªã„\n- **æŸ”è»Ÿæ€§ã®æ¬ å¦‚**: æ–°ã—ã„è©•ä¾¡è»¸è¿½åŠ ãŒå›°é›£\n- **ç²¾åº¦ã®é™ç•Œ**: è¡¨å±¤çš„ãªåˆ†æã«ç•™ã¾ã‚‹\n\n### å€™è£œ3ï¼šäººæ‰‹ãƒ¬ãƒ“ãƒ¥ãƒ¼\n\näººé–“ãŒå„ç« ã‚’ãƒ¬ãƒ“ãƒ¥ãƒ¼\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**ï¼š\n- **ã‚¹ã‚±ãƒ¼ãƒ«ã—ãªã„**: å¤§é‡ã®ç« ã‚’å‡¦ç†ã§ããªã„\n- **æ™‚é–“ãŒã‹ã‹ã‚‹**: å³åº§ã®ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ãŒä¸å¯èƒ½\n- **ä¸»è¦³çš„**: ãƒ¬ãƒ“ãƒ¥ã‚¢ãƒ¼ã«ã‚ˆã£ã¦è©•ä¾¡ãŒç•°ãªã‚‹\n- **ã‚³ã‚¹ãƒˆãŒé«˜ã„**: äººä»¶è²»ãŒé«˜é¡\n\n## åˆ¤æ–­ç†ç”±\n\n### ç†ç”±1ï¼šè¤‡é›‘ãªæ–‡è„ˆç†è§£ãŒå¿…è¦\n\n**AIãŒå¿…è¦ãªåˆ†æ**ï¼š\n\n**ã‚¨ãƒ³ã‚²ãƒ¼ã‚¸ãƒ¡ãƒ³ãƒˆè©•ä¾¡**ï¼š\n```typescript\n// ãƒ«ãƒ¼ãƒ«ãƒ™ãƒ¼ã‚¹ã§ã¯ä¸å¯èƒ½\n\"èª­è€…ã‚’å¼•ãè¾¼ã‚€è¦ç´ ãŒã‚ã‚‹ã‹ï¼Ÿ\"\nâ†’ æ–‡è„ˆãƒ»å±•é–‹ãƒ»ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼é­…åŠ›ã‚’ç·åˆçš„ã«åˆ¤æ–­\n```\n\n**ãƒ†ãƒ¼ãƒåˆ†æ**ï¼š\n```typescript\n// æš—é»™çš„ã«è¡¨ç¾ã•ã‚ŒãŸãƒ†ãƒ¼ãƒã‚’ç†è§£\n\"æˆé•·\"ã¨ã„ã†ãƒ†ãƒ¼ãƒãŒã€å¯¾è©±ã§ã¯ãªãè¡Œå‹•ã§ç¤ºã•ã‚Œã¦ã„ã‚‹\nâ†’ AIã®æ–‡è„ˆç†è§£ãŒå¿…é ˆ\n```\n\n**æ„Ÿæƒ…çš„å½±éŸ¿**ï¼š\n```typescript\n// å¾®å¦™ãªãƒ‹ãƒ¥ã‚¢ãƒ³ã‚¹ã®ç†è§£\n\"ã“ã®å ´é¢ã¯èª­è€…ã«ã©ã‚“ãªæ„Ÿæƒ…ã‚’å–šèµ·ã™ã‚‹ã‹ï¼Ÿ\"\nâ†’ ãƒ«ãƒ¼ãƒ«ã§ã¯åˆ¤æ–­ä¸å¯èƒ½\n```\n\n### ç†ç”±2ï¼šãƒ«ãƒ¼ãƒ«ãƒ™ãƒ¼ã‚¹ã§ååˆ†ãªé …ç›®ã¯åˆ†é›¢\n\n**åŠ¹ç‡åŒ–ã®ãƒˆãƒ¬ãƒ¼ãƒ‰ã‚ªãƒ•**ï¼š\n\n| é …ç›® | æ‰‹æ³• | ç†ç”± |\n|------|------|------|\n| æ–‡å­—æ•° | ãƒ«ãƒ¼ãƒ« | ç¢ºå®Ÿãƒ»é«˜é€Ÿãƒ»ã‚³ã‚¹ãƒˆ0 |\n| æ–‡æ•° | ãƒ«ãƒ¼ãƒ« | æ­£è¦è¡¨ç¾ã§ååˆ† |\n| å¯¾è©±å‰²åˆ | ãƒ«ãƒ¼ãƒ« | ã€Œã€ã®æ¤œå‡ºã§è¨ˆç®—å¯èƒ½ |\n| èª­ã¿ã‚„ã™ã• | ãƒ«ãƒ¼ãƒ« | æ–‡é•·ãƒ»è¤‡é›‘èªå½™ã§è¨ˆç®— |\n| ã‚¨ãƒ³ã‚²ãƒ¼ã‚¸ãƒ¡ãƒ³ãƒˆ | **AI** | æ–‡è„ˆç†è§£å¿…é ˆ |\n| ãƒ†ãƒ¼ãƒ | **AI** | æš—é»™çš„è¡¨ç¾ã®ç†è§£ |\n| æ„Ÿæƒ…çš„å½±éŸ¿ | **AI** | ãƒ‹ãƒ¥ã‚¢ãƒ³ã‚¹åˆ¤æ–­ |\n\n**ã‚³ã‚¹ãƒˆã¨ç²¾åº¦ã®ãƒãƒ©ãƒ³ã‚¹**ã‚’æœ€é©åŒ–ã€‚\n\n### ç†ç”±3ï¼šã‚­ãƒ£ãƒƒã‚·ãƒ¥æ©Ÿæ§‹ã§ã‚³ã‚¹ãƒˆå‰Šæ¸›\n\n**åŒã˜ç« ã‚’è¤‡æ•°å›åˆ†æã™ã‚‹å ´é¢**ï¼š\n- ãƒ‡ãƒãƒƒã‚°æ™‚ã®å†å®Ÿè¡Œ\n- ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿èª¿æ•´æ™‚ã®å†è©•ä¾¡\n- éƒ¨åˆ†çš„ãªä¿®æ­£å¾Œã®å†ãƒã‚§ãƒƒã‚¯\n\n```typescript\nprivate cacheStore: Map<string, ChapterAnalysis> = new Map();\nprivate CACHE_TTL = 5 * 60 * 1000; // 5åˆ†\n\nasync analyzeChapter(content: string): Promise<ChapterAnalysis> {\n  const cacheKey = this.generateCacheKey(content);\n\n  // ã‚­ãƒ£ãƒƒã‚·ãƒ¥ç¢ºèª\n  const cached = this.cacheStore.get(cacheKey);\n  if (cached && Date.now() - cached.timestamp < this.CACHE_TTL) {\n    return cached.data;\n  }\n\n  // AIåˆ†æå®Ÿè¡Œ\n  const result = await this.performAIAnalysis(content);\n\n  // ã‚­ãƒ£ãƒƒã‚·ãƒ¥ä¿å­˜\n  this.cacheStore.set(cacheKey, {\n    data: result,\n    timestamp: Date.now()\n  });\n\n  return result;\n}\n```\n\n**é‡è¤‡åˆ†æã‚’å›é¿**ã—ã€APIå‘¼ã³å‡ºã—ã‚³ã‚¹ãƒˆã‚’å‰Šæ¸›ã€‚\n\n### ç†ç”±4ï¼šãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯æˆ¦ç•¥ã§å …ç‰¢æ€§\n\nAIã‚µãƒ¼ãƒ“ã‚¹ã¯å®Œç’§ã§ã¯ãªã„ï¼š\n- ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯éšœå®³\n- API ãƒ¬ãƒ¼ãƒˆåˆ¶é™\n- ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ\n- äºˆæœŸã—ãªã„ã‚¨ãƒ©ãƒ¼\n\n**å …ç‰¢ãªå‡¦ç†**ï¼š\n```typescript\nasync performAIAnalysis(content: string): Promise<ChapterAnalysis> {\n  let retries = 0;\n  const maxRetries = 3;\n\n  while (retries < maxRetries) {\n    try {\n      // ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆä»˜ãAPIå‘¼ã³å‡ºã—\n      const result = await Promise.race([\n        this.geminiClient.generateText(prompt),\n        new Promise((_, reject) =>\n          setTimeout(() => reject(new Error('Timeout')), 30000)\n        )\n      ]);\n\n      return this.parseAnalysisResponse(result);\n\n    } catch (error) {\n      retries++;\n\n      if (retries >= maxRetries) {\n        // ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ã¨ã—ã¦åŸºæœ¬çš„ãªã‚¹ã‚³ã‚¢ã‚’è¿”ã™\n        return this.createFallbackAnalysis(content);\n      }\n\n      // æŒ‡æ•°ãƒãƒƒã‚¯ã‚ªãƒ•\n      await new Promise(resolve =>\n        setTimeout(resolve, Math.pow(2, retries) * 1000)\n      );\n    }\n  }\n}\n```\n\nAIåˆ†æãŒå¤±æ•—ã—ã¦ã‚‚**å‡¦ç†ã‚’ç¶™ç¶š**ã§ãã‚‹ã€‚\n\n### ç†ç”±5ï¼šæ¸©åº¦ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã§ä¸€è²«æ€§ã¨å‰µé€ æ€§ã‚’èª¿æ•´\n\nåˆ†æã®ç¨®é¡ã«ã‚ˆã‚Šæœ€é©ãªæ¸©åº¦ãŒç•°ãªã‚‹ï¼š\n\n```typescript\n// æ§‹é€ åˆ†æï¼šä½æ¸©åº¦ï¼ˆä¸€è²«æ€§é‡è¦–ï¼‰\nconst sceneAnalysis = await this.geminiClient.generateText(prompt, {\n  temperature: 0.3,  // æ¯å›åŒã˜çµæœã‚’æ±‚ã‚ã‚‹\n  maxOutputTokens: 2000\n});\n\n// å‰µé€ çš„ææ¡ˆï¼šé«˜æ¸©åº¦ï¼ˆå¤šæ§˜æ€§é‡è¦–ï¼‰\nconst suggestions = await this.geminiClient.generateText(prompt, {\n  temperature: 0.7,  // å¤šæ§˜ãªææ¡ˆã‚’å¾—ã‚‹\n  maxOutputTokens: 1000\n});\n```\n\n**ç”¨é€”ã«å¿œã˜ãŸæœ€é©åŒ–**ã€‚\n\n### ç†ç”±6ï¼šã‚³ã‚¹ãƒˆã¨ç²¾åº¦ã®ãƒˆãƒ¬ãƒ¼ãƒ‰ã‚ªãƒ•\n\n**ã‚³ã‚¹ãƒˆè©¦ç®—**ï¼ˆç« ã‚ãŸã‚Šï¼‰ï¼š\n- AIåˆ†æ: ç´„10-20å††ï¼ˆGemini APIï¼‰\n- ãƒ«ãƒ¼ãƒ«ãƒ™ãƒ¼ã‚¹: 0å††\n- äººæ‰‹ãƒ¬ãƒ“ãƒ¥ãƒ¼: 1000å††ä»¥ä¸Š\n\n**ç²¾åº¦**ï¼š\n- AIåˆ†æ: é«˜ï¼ˆæ–‡è„ˆç†è§£ï¼‰\n- ãƒ«ãƒ¼ãƒ«ãƒ™ãƒ¼ã‚¹: ä¸­ï¼ˆè¡¨å±¤çš„ï¼‰\n- äººæ‰‹ãƒ¬ãƒ“ãƒ¥ãƒ¼: æœ€é«˜ï¼ˆãŸã ã—ä¸»è¦³çš„ï¼‰\n\n**AIãƒ™ãƒ¼ã‚¹ä¸­å¿ƒ + ãƒ«ãƒ¼ãƒ«è£œå®Œ**ã«ã‚ˆã‚Šã€**ã‚³ã‚¹ãƒˆåŠ¹ç‡ã¨ç²¾åº¦ã‚’ä¸¡ç«‹**ã€‚\n\n## ã“ã®åˆ¤æ–­ã‹ã‚‰å­¦ã¹ã‚‹ã“ã¨\n\n### å­¦ã³1ï¼šAIã¨ãƒ«ãƒ¼ãƒ«ã®ä½¿ã„åˆ†ã‘\n\nã™ã¹ã¦ã‚’AIã«ä»»ã›ã‚‹ã®ã§ã¯ãªãã€ãƒ«ãƒ¼ãƒ«ãƒ™ãƒ¼ã‚¹ã§ååˆ†ãªéƒ¨åˆ†ã¯åˆ†é›¢ã—ã€AIã®å¼·ã¿ã‚’æ´»ã‹ã™ã¹ãå ´æ‰€ã«é›†ä¸­æŠ•è³‡ã€‚\n\n### å­¦ã³2ï¼šã‚­ãƒ£ãƒƒã‚·ãƒ¥ã¨ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ã¯å¿…é ˆ\n\nAIã‚µãƒ¼ãƒ“ã‚¹ã¯å®Œç’§ã§ã¯ãªã„ã€‚ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã§ã‚³ã‚¹ãƒˆå‰Šæ¸›ã€ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ã§å …ç‰¢æ€§ç¢ºä¿ã€‚\n\n### å­¦ã³3ï¼šæ¸©åº¦ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®èª¿æ•´\n\nåˆ†æã®ç¨®é¡ï¼ˆæ§‹é€ åˆ†æ vs å‰µé€ çš„ææ¡ˆï¼‰ã«ã‚ˆã‚Šã€æœ€é©ãªæ¸©åº¦ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãŒç•°ãªã‚‹ã€‚\n\n### å­¦ã³4ï¼šã‚³ã‚¹ãƒˆã¨ç²¾åº¦ã®ãƒãƒ©ãƒ³ã‚¹\n\næœ€é«˜ã®ç²¾åº¦ã‚’æ±‚ã‚ã‚‹ã¨ã‚³ã‚¹ãƒˆå¢—ã€‚ç”¨é€”ã«å¿œã˜ãŸé©åˆ‡ãªãƒãƒ©ãƒ³ã‚¹ãƒã‚¤ãƒ³ãƒˆã‚’è¦‹ã¤ã‘ã‚‹ã€‚\n\n## é©ç”¨å ´é¢\n\nã“ã®åˆ¤æ–­åŸºæº–ã‚’ä½¿ã†ã¹ãå ´é¢ï¼š\n- **AIã¨å¾“æ¥æŠ€è¡“ã®ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰ã‚·ã‚¹ãƒ†ãƒ è¨­è¨ˆ**\n- **ã‚³ã‚¹ãƒˆã¨ç²¾åº¦ã®ãƒãƒ©ãƒ³ã‚¹ãŒé‡è¦ãªå ´åˆ**\n- **å¤§è¦æ¨¡ãªè‡ªå‹•åˆ†æãŒå¿…è¦ãªå ´åˆ**\n- **å …ç‰¢æ€§ã¨ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ãŒé‡è¦ãªå ´åˆ**\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `skill_multi_dimensional_quality_evaluation_2025_11_25.md`ï¼šå“è³ªè©•ä¾¡ã‚·ã‚¹ãƒ†ãƒ ã®å®Ÿè£…\n- `skill_ai_feedback_loop_optimization_2025_11_25.md`ï¼šAIãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ãƒ«ãƒ¼ãƒ—\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€ŒAIãƒ™ãƒ¼ã‚¹åˆ†æã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã®é¸æŠã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "skill-multi-dimensional-quality-evaluation",
      "skill-ai-feedback-loop-optimization"
    ]
  },
  {
    "slug": "ai-gemini-2.0-flash-lite",
    "title": "Gemini 2.0 Flash (Lite) ã‚’ç”ŸæˆAIã¨ã—ã¦é¸æŠ",
    "category": "Decisionsï¼ˆæŠ€è¡“é¸å®šãƒ»åˆ¤æ–­ï¼‰",
    "description": "Gemini 2.0 Flash (Lite) ã‚’ç”ŸæˆAIã¨ã—ã¦é¸æŠ",
    "project": "instagram-post-generator",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"decision_ai_gemini_2_0_flash_lite_2025_11_25\",\n  \"type\": \"decision\",\n  \"name\": \"Gemini 2.0 Flash (Lite) ã‚’ç”ŸæˆAIã¨ã—ã¦é¸æŠ\",\n  \"decision_type\": \"tech_selection\",\n  \"tags\": [\"AI\", \"Gemini\", \"ç”ŸæˆAI\", \"Google AI\", \"ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚°\", \"ã‚³ã‚¹ãƒˆæœ€é©åŒ–\"],\n  \"source_project\": \"instagram-post-generator\",\n  \"chosen\": \"Gemini 2.0 Flash (gemini-2.0-flash-exp) - Liteè¨­å®šï¼ˆtemperature: 1.0ï¼‰\",\n  \"alternatives\": [\"GPT-4o\", \"Claude 3.5 Sonnet\", \"Gemini 1.5 Pro\", \"GPT-3.5 Turbo\"],\n  \"related_knowledge\": [\n    \"skill_gemini_prompt_engineering_patterns_2025_11_25\",\n    \"skill_five_stage_ai_pipeline_2025_11_25\",\n    \"failure_ai_calls_disabled_emergency_2025_11_25\",\n    \"decision_arch_two_stage_generation_2025_11_25\"\n  ],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿ï¼ˆç¾åœ¨ç„¡åŠ¹åŒ–ä¸­ï¼‰\",\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# Gemini 2.0 Flash (Lite) ã‚’ç”ŸæˆAIã¨ã—ã¦é¸æŠ\n\n## ä½•ã‚’åˆ¤æ–­ã—ãŸã‹\n\n**InstagramæŠ•ç¨¿è‡ªå‹•ç”Ÿæˆã‚·ã‚¹ãƒ†ãƒ ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”ŸæˆAIã¨ã—ã¦ã€Gemini 2.0 Flash (experimental) ã‚’æ¡ç”¨ã™ã‚‹ã€‚**\n\nãƒ¢ãƒ‡ãƒ«è¨­å®š: `gemini-2.0-flash-exp`ï¼ˆå®Ÿé¨“ç‰ˆï¼‰\nãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿: `temperature: 1.0`ï¼ˆé«˜å‰µé€ æ€§ãƒ¢ãƒ¼ãƒ‰ï¼‰\nã‚¹ã‚³ãƒ¼ãƒ—: ãƒšãƒ¼ã‚¸æ§‹é€ åˆ†æã€ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”Ÿæˆã€ã‚­ãƒ£ãƒ—ã‚·ãƒ§ãƒ³ç”Ÿæˆã€ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°æœ€é©åŒ–\n\nã“ã®é¸æŠã«ã‚ˆã‚Šã€**é«˜é€Ÿç”Ÿæˆ**ã¨**ä½ã‚³ã‚¹ãƒˆ**ã‚’ä¸¡ç«‹ã—ãªãŒã‚‰ã€InstagramæŠ•ç¨¿ã«å¿…è¦ãªå‰µé€ æ€§ã‚’ç¢ºä¿ã™ã‚‹ã€‚\n\n---\n\n## é¸ã‚“ã ã‚‚ã®\n\n### Gemini 2.0 Flash (experimental) - Liteè¨­å®š\n\n**ãƒ¢ãƒ‡ãƒ«è­˜åˆ¥å­**: `gemini-2.0-flash-exp`\n**ãƒ©ã‚¤ãƒ–ãƒ©ãƒª**: `@google/generative-ai` (v0.21.0)\n**ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿è¨­å®š**:\n\n```typescript\n{\n  temperature: 1.0,        // é«˜å‰µé€ æ€§ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè¨­å®šï¼‰\n  topK: 40,               // ãƒˆãƒ¼ã‚¯ãƒ³é¸æŠã®å¤šæ§˜æ€§\n  topP: 0.95,             // ç´¯ç©ç¢ºç‡é–¾å€¤\n  maxOutputTokens: 8192,  // æœ€å¤§å‡ºåŠ›ãƒˆãƒ¼ã‚¯ãƒ³æ•°\n}\n```\n\n**å®Ÿè£…ç®‡æ‰€**:\n- **ã‚µãƒ¼ãƒ“ã‚¹åˆæœŸåŒ–**: `/app/services/geminiService.ts` lines 29-45\n- **ãƒ¢ãƒ‡ãƒ«è¨­å®š**: lines 37-43\n- **APIå‘¼ã³å‡ºã—**: lines 177-226ï¼ˆanalyzeContentForOptimalPostï¼‰\n- **ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°æœ€é©åŒ–**: lines 434-444ï¼ˆoptimizeHashtagsï¼‰\n\n**æ–™é‡‘**:\n- å…¥åŠ›: $0.15 / 1M tokensï¼ˆFlashï¼‰\n- å‡ºåŠ›: $0.60 / 1M tokensï¼ˆFlashï¼‰\n- å®Ÿé¨“ç‰ˆ: ã•ã‚‰ã«ä½ä¾¡æ ¼ï¼ˆå…¬å¼ç™ºè¡¨å¾…ã¡ï¼‰\n\n**ã‚³ã‚¹ãƒˆè©¦ç®—**ï¼ˆ1æŠ•ç¨¿ã‚ãŸã‚Šï¼‰:\n- å…¥åŠ›ãƒˆãƒ¼ã‚¯ãƒ³: ç´„2000 tokens â†’ $0.0003\n- å‡ºåŠ›ãƒˆãƒ¼ã‚¯ãƒ³: ç´„3000 tokens â†’ $0.0018\n- **Total: ç´„$0.002ï¼ˆ0.2å††ï¼‰**\n\n---\n\n## ä»–ã®å€™è£œ\n\n### å€™è£œ1: GPT-4oï¼ˆOpenAIï¼‰\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n\n1. **ã‚³ã‚¹ãƒˆãŒç´„10å€é«˜ã„**\n   - GPT-4o: $2.50 / 1M tokens (å…¥åŠ›)ã€$10.00 / 1M tokens (å‡ºåŠ›)\n   - Gemini Flash: $0.15 / 1M tokens (å…¥åŠ›)ã€$0.60 / 1M tokens (å‡ºåŠ›)\n   - **1æŠ•ç¨¿ã‚ãŸã‚Š: GPT-4o $0.032 vs Gemini $0.002**\n   - æœˆé–“1000æŠ•ç¨¿ç”Ÿæˆã§ $32 vs $2ï¼ˆ**16å€ã®ã‚³ã‚¹ãƒˆå·®**ï¼‰\n\n2. **ãƒ¬ã‚¹ãƒãƒ³ã‚¹é€Ÿåº¦ãŒé…ã„**\n   - GPT-4o: å¹³å‡ 5-8ç§’/ãƒªã‚¯ã‚¨ã‚¹ãƒˆ\n   - Gemini Flash: å¹³å‡ 1-3ç§’/ãƒªã‚¯ã‚¨ã‚¹ãƒˆ\n   - **å¤šæ®µéšç”Ÿæˆï¼ˆ5æ®µéšï¼‰ã§ã¯å·®ãŒé¡•è‘—**: 25-40ç§’ vs 5-15ç§’\n\n3. **APIåˆ¶é™ãŒå³ã—ã„**\n   - GPT-4o: 500 requests/dayï¼ˆTier 1ï¼‰\n   - Gemini: 1500 requests/dayï¼ˆç„¡æ–™æ ï¼‰\n   - **é–‹ç™ºä¸­ã®é »ç¹ãªãƒ†ã‚¹ãƒˆã«ä¸å‘ã**\n\n4. **æ—¥æœ¬èªç”Ÿæˆå“è³ªã®å·®ãŒå°ã•ã„**\n   - InstagramæŠ•ç¨¿ï¼ˆ100-300æ–‡å­—ï¼‰ç¨‹åº¦ã®çŸ­æ–‡ã§ã¯å“è³ªå·®ãŒã»ã¼ãªã„\n   - GPT-4oã®é«˜åº¦ãªæ¨è«–èƒ½åŠ›ã‚’æ´»ã‹ã›ãªã„\n   - **ã‚ªãƒ¼ãƒãƒ¼ã‚¹ãƒšãƒƒã‚¯**\n\n**å®Ÿéš›ã®ãƒ†ã‚¹ãƒˆçµæœ**ï¼ˆåˆæœŸæ¤œè¨¼æ™‚ï¼‰:\n```typescript\n// GPT-4oãƒ†ã‚¹ãƒˆï¼ˆ2025-07é ƒï¼‰\nconst gpt4oTime = 7.2ç§’\nconst gpt4oCost = $0.032\nconst gpt4oQuality = 9.2/10\n\n// Gemini Flash\nconst geminiTime = 2.1ç§’\nconst geminiCost = $0.002\nconst geminiQuality = 9.0/10\n\n// çµè«–: ã‚³ã‚¹ãƒˆãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã§GeminiãŒåœ§å‹\n```\n\n### å€™è£œ2: Claude 3.5 Sonnetï¼ˆAnthropicï¼‰\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n\n1. **ã‚³ã‚¹ãƒˆãŒé«˜ã„**\n   - Claude 3.5 Sonnet: $3.00 / 1M tokens (å…¥åŠ›)ã€$15.00 / 1M tokens (å‡ºåŠ›)\n   - **1æŠ•ç¨¿ã‚ãŸã‚Š: $0.051ï¼ˆGeminiã®25å€ï¼‰**\n\n2. **InstagramæŠ•ç¨¿ã«ã¯é«˜åº¦ã™ãã‚‹**\n   - Claudeã®å¼·ã¿: é•·æ–‡ç†è§£ã€è¤‡é›‘ãªæ¨è«–ã€ã‚³ãƒ¼ãƒ‰ç”Ÿæˆ\n   - InstagramæŠ•ç¨¿: çŸ­æ–‡ã€è¦–è¦šçš„ã€æ„Ÿæƒ…èª˜å°\n   - **å¼·ã¿ã‚’æ´»ã‹ã›ãªã„**\n\n3. **APIåˆ¶é™**\n   - Claude: 50 requests/minuteï¼ˆTier 1ï¼‰\n   - Gemini: ç„¡åˆ¶é™ï¼ˆå®Ÿè³ªçš„ã«ï¼‰\n   - **ä¸¦åˆ—ç”Ÿæˆã«ä¸å‘ã**\n\n4. **Google Cloudçµ±åˆã®åˆ©ç‚¹**\n   - Geminiã¯ Google Cloud ã¨åŒä¸€ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ \n   - å°†æ¥çš„ãª Vertex AI çµ±åˆãŒå®¹æ˜“\n   - **ã‚¤ãƒ³ãƒ•ãƒ©çµ±ä¸€ã®è¦³ç‚¹**\n\n### å€™è£œ3: Gemini 1.5 Proï¼ˆGoogleï¼‰\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n\n1. **ã‚³ã‚¹ãƒˆãŒç´„2å€**\n   - Gemini Pro: $0.35 / 1M tokens (å…¥åŠ›)ã€$1.05 / 1M tokens (å‡ºåŠ›)\n   - Gemini Flash: $0.15 / 1M tokens (å…¥åŠ›)ã€$0.60 / 1M tokens (å‡ºåŠ›)\n   - **1æŠ•ç¨¿ã‚ãŸã‚Š: Pro $0.004 vs Flash $0.002**\n\n2. **é•·æ–‡å‡¦ç†èƒ½åŠ›ãŒä¸è¦**\n   - Gemini Proã®å¼·ã¿: 1M tokens ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆ\n   - InstagramæŠ•ç¨¿: æœ€å¤§5000 tokensï¼ˆ10ãƒšãƒ¼ã‚¸æƒ³å®šï¼‰\n   - **ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚’æ´»ã‹ã›ãªã„**\n\n3. **é€Ÿåº¦é¢ã®ãƒ¡ãƒªãƒƒãƒˆãªã—**\n   - Flash ã¨ Pro ã®ç”Ÿæˆé€Ÿåº¦ã¯ã»ã¼åŒã˜ï¼ˆçŸ­æ–‡ã®å ´åˆï¼‰\n   - **2å€ã®ã‚³ã‚¹ãƒˆã«è¦‹åˆã†åˆ©ç›ŠãŒãªã„**\n\n4. **å“è³ªå·®ãŒæ¥µå°**\n   - InstagramæŠ•ç¨¿ãƒ¬ãƒ™ãƒ«ã§ã¯ Flash ã¨ Pro ã®å“è³ªå·® < 3%\n   - **ãƒ–ãƒ©ã‚¤ãƒ³ãƒ‰ãƒ†ã‚¹ãƒˆã§åˆ¤åˆ¥å›°é›£**\n\n### å€™è£œ4: GPT-3.5 Turboï¼ˆOpenAIï¼‰\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n\n1. **å“è³ªãŒä¸ååˆ†**\n   - GPT-3.5: InstagramæŠ•ç¨¿ã®æ„Ÿæƒ…èª˜å°ãŒå¼±ã„\n   - ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆçš„ãªè¡¨ç¾ãŒå¤šã„\n   - **ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ†ã‚¹ãƒˆã§è©•ä¾¡ä½ã„ï¼ˆ7.5/10ï¼‰**\n\n2. **æ—¥æœ¬èªç”Ÿæˆã®ä¸è‡ªç„¶ã•**\n   - æ©Ÿæ¢°ç¿»è¨³çš„ãªè¡¨ç¾\n   - æ–‡è„ˆã«åˆã‚ãªã„åŠ©è©ã®ä½¿ç”¨\n   - **å“è³ªåŸºæº–ã‚’æº€ãŸã•ãªã„**\n\n3. **2025å¹´ä»¥é™ã®ã‚µãƒãƒ¼ãƒˆä¸æ˜**\n   - OpenAI ãŒ GPT-4ã‚·ãƒªãƒ¼ã‚ºã«æ³¨åŠ›\n   - GPT-3.5 ã¯ä¿å®ˆãƒ¢ãƒ¼ãƒ‰ã®å¯èƒ½æ€§\n   - **å°†æ¥æ€§ã®ãƒªã‚¹ã‚¯**\n\n---\n\n## åˆ¤æ–­ç†ç”±\n\n### ç†ç”±1: ã‚³ã‚¹ãƒˆãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã®åœ§å€’çš„å„ªä½æ€§\n\n**æœ€é‡è¦ç†ç”±**: 1æŠ•ç¨¿ã‚ãŸã‚Šã®ã‚³ã‚¹ãƒˆãŒç´„$0.002ï¼ˆ0.2å††ï¼‰\n\n**ã‚³ã‚¹ãƒˆæ¯”è¼ƒ**ï¼ˆ1æŠ•ç¨¿ã‚ãŸã‚Šï¼‰:\n```\nGPT-4o:         $0.032  (16å€é«˜ã„)\nClaude 3.5:     $0.051  (25å€é«˜ã„)\nGemini Pro:     $0.004  (2å€é«˜ã„)\nGemini Flash:   $0.002  â† æœ€å®‰\nGPT-3.5:        $0.003  (å“è³ªä¸è¶³)\n```\n\n**æœˆé–“ã‚³ã‚¹ãƒˆè©¦ç®—**ï¼ˆ1000æŠ•ç¨¿/æœˆï¼‰:\n- Gemini Flash: $2/æœˆ\n- Gemini Pro: $4/æœˆ\n- GPT-4o: $32/æœˆ\n- Claude 3.5: $51/æœˆ\n\n**çµè«–**: Gemini Flash ãŒ**ã‚³ã‚¹ãƒˆæœ€é©**\n\n### ç†ç”±2: ç”Ÿæˆé€Ÿåº¦ã®å„ªä½æ€§\n\n**InstagramæŠ•ç¨¿ã®5æ®µéšç”Ÿæˆãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³**ã§ã®é€Ÿåº¦å·®ãŒé¡•è‘—ã€‚\n\n**5æ®µéšãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³**ï¼ˆ1æŠ•ç¨¿ã‚ãŸã‚Šï¼‰:\n```\nStage 0: ã‚¸ãƒ£ãƒ³ãƒ«æ¤œå‡ºï¼ˆ1å›AIå‘¼ã³å‡ºã—ï¼‰\nStage 1: ãƒšãƒ¼ã‚¸æ§‹é€ åˆ†æï¼ˆ1å›ï¼‰\nStage 2: ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”Ÿæˆï¼ˆ5-10å›ã€ãƒšãƒ¼ã‚¸æ•°ã«ä¾å­˜ï¼‰\nStage 3: ã‚­ãƒ£ãƒ—ã‚·ãƒ§ãƒ³ç”Ÿæˆï¼ˆ1å›ï¼‰\nStage 4: ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°æœ€é©åŒ–ï¼ˆ1å›ï¼‰\n\nTotal AIå‘¼ã³å‡ºã—: 9-14å›\n```\n\n**é€Ÿåº¦æ¯”è¼ƒ**ï¼ˆ10ãƒšãƒ¼ã‚¸æŠ•ç¨¿ã®å ´åˆï¼‰:\n```typescript\n// Gemini Flashï¼ˆå®Ÿæ¸¬ï¼‰\nconst stage0 = 1.5ç§’\nconst stage1 = 2.0ç§’\nconst stage2 = 12.0ç§’  // 10ãƒšãƒ¼ã‚¸ Ã— 1.2ç§’\nconst stage3 = 1.8ç§’\nconst stage4 = 1.2ç§’\n// Total: 18.5ç§’\n\n// GPT-4oï¼ˆæ¨å®šï¼‰\nconst stage0 = 5.0ç§’\nconst stage1 = 7.0ç§’\nconst stage2 = 50.0ç§’  // 10ãƒšãƒ¼ã‚¸ Ã— 5.0ç§’\nconst stage3 = 6.0ç§’\nconst stage4 = 4.0ç§’\n// Total: 72.0ç§’\n\n// å·®: 3.9å€ã®æ™‚é–“å·®\n```\n\n**ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ã¸ã®å½±éŸ¿**:\n- Gemini: ç´„20ç§’ã§å®Œæˆï¼ˆ**ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯å¾…ã¦ã‚‹**ï¼‰\n- GPT-4o: ç´„70ç§’ï¼ˆ**ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯é›¢è„±ã™ã‚‹å¯èƒ½æ€§**ï¼‰\n\n### ç†ç”±3: InstagramæŠ•ç¨¿ã«æœ€é©ãªå‰µé€ æ€§ãƒ¬ãƒ™ãƒ«\n\n**temperature: 1.0 ã®åŠ¹æœ**\n\nInstagramæŠ•ç¨¿ã¯ã€Œäºˆæ¸¬å¯èƒ½æ€§ã€ã‚ˆã‚Šã€Œå‰µé€ æ€§ã€ãŒé‡è¦ã€‚\n\n**temperature è¨­å®šã®å½±éŸ¿**:\n```typescript\n// temperature: 0.3ï¼ˆä½å‰µé€ æ€§ï¼‰\noutput = \"ã“ã®æ–¹æ³•ã§åŠ¹ç‡çš„ã«ä»•äº‹ã‚’é€²ã‚ã¾ã—ã‚‡ã†ã€‚\" // â† é€€å±ˆ\n\n// temperature: 1.0ï¼ˆé«˜å‰µé€ æ€§ï¼‰- Gemini Flash ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ\noutput = \"ã‚ãªãŸã®æœ¬å½“ã®åŠ›ã€ã¾ã çœ ã£ã¦ã‚‹ã‹ã‚‚ï¼Ÿä»Šæ—¥ã‹ã‚‰å¤‰ã‚ã‚‹3ã¤ã®ç¿’æ…£\" // â† é­…åŠ›çš„\n\n// temperature: 1.5ï¼ˆéåº¦ã«å‰µé€ çš„ï¼‰\noutput = \"å®‡å®™ã®çœŸç†ãŒã‚ãªãŸã®ä»•äº‹è¡“ã‚’é©å‘½ã™ã‚‹ï¼\" // â† ã‚„ã‚Šã™ã\n```\n\n**Gemini Flashã®ç‰¹å¾´**:\n- temperature 1.0 ãŒãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼ˆä»–ãƒ¢ãƒ‡ãƒ«ã¯0.7ãŒå¤šã„ï¼‰\n- InstagramæŠ•ç¨¿ã«æœ€é©ãªãƒãƒ©ãƒ³ã‚¹\n- **èª¿æ•´ä¸è¦ã§é«˜å“è³ª**\n\n### ç†ç”±4: æ—¥æœ¬èªç”Ÿæˆå“è³ªã®é«˜ã•\n\n**Gemini ã¯å¤šè¨€èªãƒ¢ãƒ‡ãƒ«ã¨ã—ã¦æ—¥æœ¬èªã«å¼·ã„ã€‚**\n\n**å®Ÿéš›ã®ç”Ÿæˆä¾‹**ï¼ˆGemini Flashï¼‰:\n```json\n{\n  \"title\": \"ã‚ãªãŸã®ã€Œå¿™ã—ã„ã€ã¯ã€æœ¬å½“ã«å¿™ã—ã„ã®ï¼Ÿ\",\n  \"hook\": \"æ¯æ—¥ãƒã‚¿ãƒã‚¿ã—ã¦ã‚‹ã®ã«ã€ãªãœã‹æˆæœãŒå‡ºãªã„â€¦ãã‚“ãªã‚ãªãŸã¸ã€‚\",\n  \"content\": \"ã€Œå¿™ã—ã„ã€ã¨è¨€ã„ãªãŒã‚‰ã€å®Ÿã¯ãƒ ãƒ€ãªæ™‚é–“ã«æ°—ã¥ã„ã¦ãªã„ã ã‘ã‹ã‚‚ã€‚3ã¤ã®è¦–ç‚¹ã§ã€ã‚ãªãŸã®æ™‚é–“ã®ä½¿ã„æ–¹ã‚’è¦‹ç›´ã—ã¦ã¿ã¾ã›ã‚“ã‹ï¼Ÿ\"\n}\n```\n\n**è‡ªç„¶ãªæ—¥æœ¬èªè¡¨ç¾**:\n- å£èªçš„ãªå•ã„ã‹ã‘ï¼ˆã€Œæœ¬å½“ã«å¿™ã—ã„ã®ï¼Ÿã€ï¼‰\n- å…±æ„Ÿãƒ•ãƒ¬ãƒ¼ã‚ºï¼ˆã€Œãã‚“ãªã‚ãªãŸã¸ã€ï¼‰\n- å„ªã—ã„ææ¡ˆï¼ˆã€Œè¦‹ç›´ã—ã¦ã¿ã¾ã›ã‚“ã‹ï¼Ÿã€ï¼‰\n- **æ©Ÿæ¢°ç¿»è¨³æ„Ÿã‚¼ãƒ­**\n\n**GPT-4oã®å•é¡Œ**ï¼ˆæ¯”è¼ƒï¼‰:\n```json\n{\n  \"title\": \"å¿™ã—ã•ã®çœŸå®Ÿã‚’ç†è§£ã™ã‚‹\",  // â† å›ºã„\n  \"hook\": \"æ¯æ—¥ã®å¿™ã—ã•ã«è¿½ã‚ã‚Œã¦ã„ã‚‹ã‚ãªãŸã«ã€‚\",  // â† ä¸è‡ªç„¶\n  \"content\": \"å¿™ã—ã„ã¨ã„ã†çŠ¶æ…‹ã‚’åˆ†æã—ã€åŠ¹ç‡çš„ãªæ™‚é–“ç®¡ç†ã‚’å®Ÿç¾ã—ã¾ã—ã‚‡ã†ã€‚\"  // â† ãƒ“ã‚¸ãƒã‚¹æ–‡æ›¸\n}\n```\n\n### ç†ç”±5: Google Cloud ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ã¨ã®çµ±åˆ\n\n**å°†æ¥çš„ãªæ‹¡å¼µæ€§**ã‚’è¦‹æ®ãˆãŸåˆ¤æ–­ã€‚\n\n**ç¾åœ¨ã®çµ±åˆ**:\n- `@google/generative-ai` ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ä½¿ç”¨\n- API Key èªè¨¼ï¼ˆã‚·ãƒ³ãƒ—ãƒ«ï¼‰\n- é–‹ç™ºç’°å¢ƒã§ã®è¿…é€Ÿãªãƒ†ã‚¹ãƒˆ\n\n**å°†æ¥ã®çµ±åˆå¯èƒ½æ€§**:\n1. **Vertex AI ã¸ã®ç§»è¡Œ**\n   - ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ—ãƒ©ã‚¤ã‚ºå‘ã‘ Gemini\n   - ã‚ˆã‚Šé«˜ã„å®‰å®šæ€§ãƒ»ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£\n   - åŒã˜ãƒ¢ãƒ‡ãƒ«ã‚’ã‚·ãƒ¼ãƒ ãƒ¬ã‚¹ã«ç§»è¡Œå¯èƒ½\n\n2. **Google Cloud Storage çµ±åˆ**\n   - ç”Ÿæˆã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®è‡ªå‹•ä¿å­˜\n   - ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãƒ»ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†\n   - åŒä¸€ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ å†…ã§å®Œçµ\n\n3. **BigQuery Analytics**\n   - AIç”Ÿæˆãƒ­ã‚°ã®åˆ†æ\n   - ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–\n   - ãƒ‡ãƒ¼ã‚¿ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³æ§‹ç¯‰\n\n4. **Cloud Functions çµ±åˆ**\n   - ã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹ç”ŸæˆAPI\n   - ã‚ªãƒ¼ãƒˆã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°\n   - ã‚³ã‚¹ãƒˆæœ€é©åŒ–\n\n**ä»–ã®AIãƒ¢ãƒ‡ãƒ«ã§ã¯**:\n- OpenAI: ç‹¬ç«‹ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ï¼ˆAWS/Azureçµ±åˆã¯å¯èƒ½ã ãŒè¤‡é›‘ï¼‰\n- Anthropic: Claudeç‹¬è‡ªã®ã‚¤ãƒ³ãƒ•ãƒ©\n- **Googleçµ±åˆã®åˆ©ä¾¿æ€§ãŒãªã„**\n\n### ç†ç”±6: APIåˆ¶é™ã®ç·©ã•\n\n**é–‹ç™ºä¸­ã®é »ç¹ãªãƒ†ã‚¹ãƒˆãƒ»ãƒ‡ãƒãƒƒã‚°ã«æœ‰åˆ©ã€‚**\n\n**APIåˆ¶é™æ¯”è¼ƒ**ï¼ˆç„¡æ–™/é–‹ç™ºãƒ†ã‚£ã‚¢ï¼‰:\n```\nGemini Flash:\n- 1500 requests/day\n- 15 requests/minute\n- 1M tokens/minute\n\nGPT-4o (Tier 1):\n- 500 requests/day\n- 10 requests/minute\n- 30K tokens/minute\n\nClaude 3.5 (Tier 1):\n- 50 requests/minute\n- 40K tokens/minute\n```\n\n**å®Ÿéš›ã®å½±éŸ¿**:\n- **é–‹ç™ºä¸­**: 1æ—¥200-300ãƒªã‚¯ã‚¨ã‚¹ãƒˆï¼ˆãƒ†ã‚¹ãƒˆãƒ»ãƒ‡ãƒãƒƒã‚°ï¼‰\n- **æœ¬ç•ª**: 1æ—¥50-100ãƒªã‚¯ã‚¨ã‚¹ãƒˆï¼ˆå®Ÿãƒ¦ãƒ¼ã‚¶ãƒ¼ï¼‰\n- **Gemini**: ä½™è£•ã§ã‚¯ãƒªã‚¢\n- **GPT-4o**: é–‹ç™ºä¸­ã«åˆ¶é™åˆ°é”ã®å¯èƒ½æ€§\n\n---\n\n## ã“ã®åˆ¤æ–­ã‹ã‚‰å­¦ã¹ã‚‹ã“ã¨\n\n### å­¦ã³1: **ã€Œæœ€é«˜å“è³ªã€ã‚ˆã‚Šã€Œæœ€é©å“è³ªã€ã‚’é¸ã¶**\n\nAIé¸æŠã§æœ€ã‚‚é«˜æ€§èƒ½ãªãƒ¢ãƒ‡ãƒ«ã‚’é¸ã¶å¿…è¦ã¯ãªã„ã€‚\n\n**åŸå‰‡**:\n- ã‚¿ã‚¹ã‚¯ã®è¦æ±‚å“è³ªã‚’å®šç¾©\n- ãã®å“è³ªã‚’æº€ãŸã™æœ€å®‰ãƒ¢ãƒ‡ãƒ«ã‚’é¸æŠ\n- **ã‚ªãƒ¼ãƒãƒ¼ã‚¹ãƒšãƒƒã‚¯ã¯ç„¡é§„**\n\n**InstagramæŠ•ç¨¿ã®è¦æ±‚å“è³ª**:\n- æ—¥æœ¬èªè‡ªç„¶æ€§: 8/10ä»¥ä¸Š\n- å‰µé€ æ€§: 7/10ä»¥ä¸Š\n- æ„Ÿæƒ…èª˜å°: 7/10ä»¥ä¸Š\n- **Gemini Flash ã§ååˆ†é”æˆ**\n\n### å­¦ã³2: **å¤šæ®µéšç”Ÿæˆã§ã¯é€Ÿåº¦ãŒé‡è¦**\n\n1å›ã®AIå‘¼ã³å‡ºã—ãªã‚‰é€Ÿåº¦å·®ã¯æ°—ã«ãªã‚‰ãªã„ãŒã€5-10å›ã®å¤šæ®µéšç”Ÿæˆã§ã¯é¡•è‘—ã€‚\n\n**é€Ÿåº¦ã®é‡è¦æ€§**:\n- 5æ®µéš Ã— 5ç§’ = 25ç§’ï¼ˆã¾ã‚ã¾ã‚ï¼‰\n- 5æ®µéš Ã— 2ç§’ = 10ç§’ï¼ˆå¿«é©ï¼‰\n- **é€Ÿåº¦å·®ãŒ2å€ â†’ ä½“æ„Ÿ3-4å€ã®å·®**\n\n### å­¦ã³3: **ã‚³ã‚¹ãƒˆè©¦ç®—ã¯æœˆé–“ãƒ»å¹´é–“ã§è€ƒãˆã‚‹**\n\n1æŠ•ç¨¿ã‚ãŸã‚Šã®ã‚³ã‚¹ãƒˆå·®ï¼ˆ$0.030ï¼‰ã¯å°ã•ãè¦‹ãˆã‚‹ãŒã€å¹´é–“ã§ã¯å¤§ããªå·®ã€‚\n\n**å¹´é–“ã‚³ã‚¹ãƒˆè©¦ç®—**ï¼ˆ1000æŠ•ç¨¿/æœˆï¼‰:\n```\nGemini Flash: $2/æœˆ Ã— 12 = $24/å¹´\nGPT-4o:      $32/æœˆ Ã— 12 = $384/å¹´\n\nå·®: $360/å¹´ï¼ˆç´„54,000å††/å¹´ï¼‰\n```\n\n**çµè«–**: ã‚³ã‚¹ãƒˆã¯é•·æœŸè¦–ç‚¹ã§åˆ¤æ–­\n\n### å­¦ã³4: **ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ çµ±åˆã®éš ã‚ŒãŸä¾¡å€¤**\n\nAIé¸æŠã¯ã€Œãƒ¢ãƒ‡ãƒ«æ€§èƒ½ã€ã ã‘ã§ãªãã€Œã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ çµ±åˆã€ã‚‚é‡è¦ã€‚\n\n**Gemini + Google Cloudã®åˆ©ç‚¹**:\n- åŒä¸€ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã§ç®¡ç†\n- çµ±ä¸€ã•ã‚ŒãŸèª²é‡‘\n- ç›¸äº’é€£æºãŒå®¹æ˜“\n- **é‹ç”¨ã‚³ã‚¹ãƒˆå‰Šæ¸›**\n\n### å­¦ã³5: **å®Ÿé¨“ç‰ˆï¼ˆexpï¼‰ãƒ¢ãƒ‡ãƒ«ã®æ´»ç”¨**\n\nå®‰å®šç‰ˆã‚ˆã‚Šå®Ÿé¨“ç‰ˆã®æ–¹ãŒã‚³ã‚¹ãƒˆãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãŒé«˜ã„å ´åˆãŒã‚ã‚‹ã€‚\n\n**å®Ÿé¨“ç‰ˆã®ãƒ¡ãƒªãƒƒãƒˆ**:\n- æœ€æ–°æ©Ÿèƒ½ã®å…ˆè¡Œåˆ©ç”¨\n- ä½ä¾¡æ ¼ï¼ˆãƒ—ãƒ­ãƒ¢ãƒ¼ã‚·ãƒ§ãƒ³ï¼‰\n- ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã§æ”¹å–„\n\n**å®Ÿé¨“ç‰ˆã®ãƒªã‚¹ã‚¯**:\n- ä»•æ§˜å¤‰æ›´ã®å¯èƒ½æ€§\n- ç¨€ã«ä¸å®‰å®š\n- **MVPæ®µéšã§ã¯ãƒªã‚¹ã‚¯è¨±å®¹å¯èƒ½**\n\n**å¯¾ç­–**:\n```typescript\n// å®Ÿé¨“ç‰ˆâ†’å®‰å®šç‰ˆã®ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯å®Ÿè£…\nconst model = 'gemini-2.0-flash-exp'\nconst fallbackModel = 'gemini-1.5-flash'\n\ntry {\n  return await callGemini(model, prompt)\n} catch (error) {\n  console.warn('å®Ÿé¨“ç‰ˆã‚¨ãƒ©ãƒ¼ã€å®‰å®šç‰ˆã«ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯')\n  return await callGemini(fallbackModel, prompt)\n}\n```\n\n---\n\n## é©ç”¨å ´é¢\n\n### ã“ã®åˆ¤æ–­ãŒé©åˆ‡ãªå ´é¢\n\n1. **çŸ­æ–‡ç”Ÿæˆã‚¿ã‚¹ã‚¯**ï¼ˆ100-500æ–‡å­—ï¼‰\n   - InstagramæŠ•ç¨¿ã€TwitteræŠ•ç¨¿ã€åºƒå‘Šã‚³ãƒ”ãƒ¼\n   - Flash ãƒ¢ãƒ‡ãƒ«ã®å“è³ªã§ååˆ†\n   - **é€Ÿåº¦ãƒ»ã‚³ã‚¹ãƒˆå„ªå…ˆ**\n\n2. **å¤šæ®µéšç”Ÿæˆãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³**\n   - 5-10å›ã®AIå‘¼ã³å‡ºã—\n   - é€Ÿåº¦å·®ãŒç´¯ç©\n   - **Flashã®é€Ÿåº¦ãŒæœ‰åˆ©**\n\n3. **å¤§é‡ç”ŸæˆãŒå¿…è¦**\n   - æœˆé–“100æŠ•ç¨¿ä»¥ä¸Š\n   - ã‚³ã‚¹ãƒˆãŒç´¯ç©\n   - **Flashã®ã‚³ã‚¹ãƒˆãƒ¡ãƒªãƒƒãƒˆå¤§**\n\n4. **æ—¥æœ¬èªã‚³ãƒ³ãƒ†ãƒ³ãƒ„**\n   - Gemini ã®æ—¥æœ¬èªèƒ½åŠ›ãŒé«˜ã„\n   - è‡ªç„¶ãªè¡¨ç¾\n   - **å“è³ªé¢ã§ã‚‚æœ‰åˆ©**\n\n5. **MVPãƒ»åˆæœŸé–‹ç™ºæ®µéš**\n   - é »ç¹ãªãƒ†ã‚¹ãƒˆãƒ»åå¾©\n   - APIåˆ¶é™ã«ä½™è£•\n   - **é–‹ç™ºåŠ¹ç‡é‡è¦–**\n\n### ã“ã®åˆ¤æ–­ãŒä¸é©åˆ‡ãªå ´é¢\n\n1. **é•·æ–‡ç”Ÿæˆï¼ˆ3000æ–‡å­—ä»¥ä¸Šï¼‰**\n   - ãƒ–ãƒ­ã‚°è¨˜äº‹ã€ãƒ¬ãƒãƒ¼ãƒˆã€è«–æ–‡\n   - è«–ç†ä¸€è²«æ€§ãŒé‡è¦\n   - **GPT-4o ã‚„ Gemini Pro ãŒé©åˆ‡**\n\n2. **è¤‡é›‘ãªæ¨è«–ãŒå¿…è¦**\n   - ã‚³ãƒ¼ãƒ‰ç”Ÿæˆã€æ•°å­¦å•é¡Œã€æˆ¦ç•¥ç«‹æ¡ˆ\n   - Flash ã®æ¨è«–èƒ½åŠ›ã§ã¯ä¸è¶³\n   - **GPT-4o ã‚„ Claude 3.5 ãŒå¿…è¦**\n\n3. **è¶…é«˜å“è³ªãŒå¿…é ˆ**\n   - ãƒ–ãƒ©ãƒ³ãƒ‰ã‚¤ãƒ¡ãƒ¼ã‚¸ã«ç›´çµ\n   - ä¸€èªä¸€å¥ãŒé‡è¦\n   - **äººé–“ãƒ¬ãƒ“ãƒ¥ãƒ¼ + é«˜æ€§èƒ½AI**\n\n4. **ã‚³ã‚¹ãƒˆç„¡è¦–å¯èƒ½**\n   - å¤§ä¼æ¥­ã®ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°\n   - äºˆç®—æ½¤æ²¢\n   - **æœ€é«˜å“è³ªã‚’é¸ã¶**\n\n---\n\n## å®Ÿè£…ä¾‹\n\n### Gemini Service åˆæœŸåŒ–\n\n```typescript\n// app/services/geminiService.ts\nimport { GoogleGenerativeAI } from '@google/generative-ai'\n\nexport class GeminiService {\n  private genAI: GoogleGenerativeAI\n  private model: any\n\n  constructor() {\n    const apiKey = process.env.NEXT_PUBLIC_GEMINI_API_KEY\n    if (!apiKey) {\n      throw new Error('GEMINI_API_KEY is required')\n    }\n\n    this.genAI = new GoogleGenerativeAI(apiKey)\n\n    // Gemini 2.0 Flash (experimental) - Liteè¨­å®š\n    this.model = this.genAI.getGenerativeModel({\n      model: 'gemini-2.0-flash-exp',\n      generationConfig: {\n        temperature: 1.0,        // é«˜å‰µé€ æ€§\n        topK: 40,\n        topP: 0.95,\n        maxOutputTokens: 8192,\n      },\n    })\n  }\n\n  async generateContent(prompt: string): Promise<string> {\n    try {\n      const result = await this.model.generateContent(prompt)\n      const response = await result.response\n      return response.text()\n    } catch (error) {\n      console.error('Gemini API error:', error)\n      throw error\n    }\n  }\n}\n```\n\n### ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”Ÿæˆå®Ÿè£…\n\n```typescript\n// app/services/contentGeneratorService.ts\nexport async function generateInstagramPost(\n  userInput: string\n): Promise<GeneratedContent> {\n  const gemini = new GeminiService()\n\n  // Stage 1: ãƒšãƒ¼ã‚¸æ§‹é€ åˆ†æ\n  const structurePrompt = `\nã‚ãªãŸã¯InstagramæŠ•ç¨¿ã®æ§‹é€ ã‚’åˆ†æã™ã‚‹å°‚é–€å®¶ã§ã™ã€‚\n\nãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›:\n\"\"\"\n${userInput}\n\"\"\"\n\næœ€é©ãªãƒšãƒ¼ã‚¸æ§‹é€ ã‚’JSONå½¢å¼ã§å‡ºåŠ›ã—ã¦ãã ã•ã„ã€‚\n  `\n\n  const structureJson = await gemini.generateContent(structurePrompt)\n  const structure = JSON.parse(structureJson)\n\n  // Stage 2: ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”Ÿæˆ\n  const pages = []\n  for (const pageStructure of structure.pages) {\n    const contentPrompt = `\nä»¥ä¸‹ã®æ§‹é€ ã«å¾“ã£ã¦ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ç”Ÿæˆã—ã¦ãã ã•ã„:\n${JSON.stringify(pageStructure)}\n\nãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›: ${userInput}\n    `\n    const contentJson = await gemini.generateContent(contentPrompt)\n    pages.push(JSON.parse(contentJson))\n  }\n\n  return { pages, structure }\n}\n```\n\n### ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯å®Ÿè£…ï¼ˆå®Ÿé¨“ç‰ˆâ†’å®‰å®šç‰ˆï¼‰\n\n```typescript\n// app/services/geminiService.ts\nexport class GeminiServiceWithFallback {\n  private experimentalModel: any\n  private stableModel: any\n\n  constructor() {\n    const genAI = new GoogleGenerativeAI(apiKey)\n\n    // å®Ÿé¨“ç‰ˆï¼ˆå„ªå…ˆï¼‰\n    this.experimentalModel = genAI.getGenerativeModel({\n      model: 'gemini-2.0-flash-exp'\n    })\n\n    // å®‰å®šç‰ˆï¼ˆãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ï¼‰\n    this.stableModel = genAI.getGenerativeModel({\n      model: 'gemini-1.5-flash'\n    })\n  }\n\n  async generateContent(prompt: string): Promise<string> {\n    try {\n      // å®Ÿé¨“ç‰ˆã‚’è©¦è¡Œ\n      const result = await this.experimentalModel.generateContent(prompt)\n      return await result.response.text()\n    } catch (error) {\n      console.warn('å®Ÿé¨“ç‰ˆã‚¨ãƒ©ãƒ¼ã€å®‰å®šç‰ˆã«ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯:', error)\n\n      // å®‰å®šç‰ˆã«ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯\n      const result = await this.stableModel.generateContent(prompt)\n      return await result.response.text()\n    }\n  }\n}\n```\n\n---\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- **skill_gemini_prompt_engineering_patterns_2025_11_25.md**: Geminiå°‚ç”¨ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆè¨­è¨ˆãƒ‘ã‚¿ãƒ¼ãƒ³\n- **skill_five_stage_ai_pipeline_2025_11_25.md**: 5æ®µéšç”Ÿæˆãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã®å…¨ä½“åƒ\n- **failure_ai_calls_disabled_emergency_2025_11_25.md**: AIç„¡åŠ¹åŒ–å•é¡Œã¨ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯æˆ¦ç•¥\n- **decision_arch_two_stage_generation_2025_11_25.md**: 2æ®µéšç”Ÿæˆã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£\n\n---\n\n## ç¾åœ¨ã®çŠ¶æ…‹ã¨ä»Šå¾Œã®å±•æœ›\n\n### ç¾åœ¨ã®çŠ¶æ…‹ï¼ˆ2025-11-25æ™‚ç‚¹ï¼‰\n\n**çŠ¶æ…‹**: AIå‘¼ã³å‡ºã—å…¨é¢ç„¡åŠ¹åŒ–ï¼ˆç·Šæ€¥å¯¾å¿œï¼‰\n\nå…¨ã¦ã®Gemini APIå‘¼ã³å‡ºã—ãŒã‚³ãƒ¡ãƒ³ãƒˆã‚¢ã‚¦ãƒˆã•ã‚Œã¦ã„ã‚‹ã€‚\n\n**ç„¡åŠ¹åŒ–ç®‡æ‰€**:\n1. `geminiService.ts` - analyzeContentForOptimalPostï¼ˆlines 177-226ï¼‰\n2. `geminiService.ts` - optimizeHashtagsï¼ˆlines 434-444ï¼‰\n3. `contentGeneratorService.ts` - regenerateCaptionï¼ˆlines 532-535ï¼‰\n4. `contentGeneratorService.ts` - regenerateSpecificPageï¼ˆlines 693-696ï¼‰\n5. `contentGeneratorService.ts` - regenerateHashtagsï¼ˆlines 1470-1472ï¼‰\n\n**ç¾åœ¨ã®å‹•ä½œ**:\n- ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ç”Ÿæˆã®ã¿ä½¿ç”¨\n- ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹ã‹ã‚‰å›ºå®šã‚³ãƒ³ãƒ†ãƒ³ãƒ„èª­ã¿è¾¼ã¿\n- AIç”Ÿæˆæ©Ÿèƒ½ã¯å®Œå…¨åœæ­¢\n\n### AIå¾©æ—§å¾Œã®å±•æœ›\n\n**Phase 1: åŸºæœ¬å¾©æ—§**\n1. Gemini APIå‘¼ã³å‡ºã—ã®å†æœ‰åŠ¹åŒ–\n2. å®Ÿé¨“ç‰ˆãƒ¢ãƒ‡ãƒ«ï¼ˆgemini-2.0-flash-expï¼‰ã®å‹•ä½œç¢ºèª\n3. ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã®å¼·åŒ–\n\n**Phase 2: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–**\n1. ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®å®Ÿè£…ï¼ˆåŒã˜ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã®å†åˆ©ç”¨ï¼‰\n2. ä¸¦åˆ—ç”Ÿæˆã®å®Ÿè£…ï¼ˆStage 2ã®å„ãƒšãƒ¼ã‚¸ã‚’ä¸¦åˆ—åŒ–ï¼‰\n3. ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚¿ã‚¤ãƒ ç›®æ¨™: 15ç§’ä»¥å†…ï¼ˆ10ãƒšãƒ¼ã‚¸æŠ•ç¨¿ï¼‰\n\n**Phase 3: ã‚³ã‚¹ãƒˆæœ€é©åŒ–**\n1. ãƒˆãƒ¼ã‚¯ãƒ³ä½¿ç”¨é‡ã®ç›£è¦–ãƒ»åˆ†æ\n2. ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã®åœ§ç¸®ãƒ»åŠ¹ç‡åŒ–\n3. æœˆé–“ã‚³ã‚¹ãƒˆç›®æ¨™: $10ä»¥ä¸‹ï¼ˆ500æŠ•ç¨¿/æœˆï¼‰\n\n**Phase 4: å“è³ªå‘ä¸Š**\n1. few-shot examples ã®è¿½åŠ ï¼ˆå“è³ªå‘ä¸Šï¼‰\n2. temperature å‹•çš„èª¿æ•´ï¼ˆã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚¿ã‚¤ãƒ—ã«å¿œã˜ã¦ï¼‰\n3. ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ãƒ«ãƒ¼ãƒ—ã®å®Ÿè£…\n\n---\n\n**ã“ã®åˆ¤æ–­ã«ã‚ˆã‚Šã€InstagramæŠ•ç¨¿ç”Ÿæˆã®ã‚³ã‚¹ãƒˆã‚’1æŠ•ç¨¿$0.002ï¼ˆ0.2å††ï¼‰ã«æŠ‘ãˆã€20ç§’ä»¥å†…ã®é«˜é€Ÿç”Ÿæˆã‚’å®Ÿç¾ã—ãŸã€‚AIé¸æŠã¯ã€Œæœ€é«˜æ€§èƒ½ã€ã‚ˆã‚Šã€Œã‚¿ã‚¹ã‚¯æœ€é©ã€ãŒé‡è¦ã§ã‚ã‚‹ã€‚**\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€ŒGemini 2.0 Flash (Lite) ã‚’ç”ŸæˆAIã¨ã—ã¦é¸æŠã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "skill-gemini-prompt-engineering-patterns",
      "skill-five-stage-ai-pipeline",
      "failure-ai-calls-disabled-emergency",
      "decision-arch-two-stage-generation"
    ]
  },
  {
    "slug": "ai-gemini-vs-openai",
    "title": "Gemini API vs OpenAI APIã®é¸æŠ",
    "category": "Decisionsï¼ˆæŠ€è¡“é¸å®šãƒ»åˆ¤æ–­ï¼‰",
    "description": "Gemini API vs OpenAI APIã®é¸æŠ",
    "project": "ai-document-generator",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"decision_ai_gemini_vs_openai_2025_04_11\",\n  \"type\": \"decision\",\n  \"name\": \"Gemini API vs OpenAI APIã®é¸æŠ\",\n  \"decision_type\": \"tech_selection\",\n  \"tags\": [\"AI\", \"Gemini API\", \"OpenAI API\", \"LLM\", \"ã‚³ã‚¹ãƒˆ\", \"APIã‚­ãƒ¼\", \"ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”Ÿæˆ\"],\n  \"source_project\": \"ai-document-generator\",\n  \"chosen\": \"Gemini APIï¼ˆgemini-1.5-flashï¼‰\",\n  \"alternatives\": [\"OpenAI GPT-4\", \"OpenAI GPT-3.5-turbo\", \"Anthropic Claude\"],\n  \"related_knowledge\": [\"skill_ai_prompt_section_specific_2025_04_11\", \"workflow_ai_content_generation_flow_2025_04_11\", \"failure_api_cost_gemini_migration_2025_04_11\"],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-04-11\",\n  \"updated\": \"2025-04-11\"\n}\n```\n\n# Gemini API vs OpenAI APIã®é¸æŠ\n\n## ä½•ã‚’åˆ¤æ–­ã—ãŸã‹\n\nãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”ŸæˆAIã¨ã—ã¦ã€Google Gemini APIã€OpenAI APIï¼ˆGPT-4ã€GPT-3.5ï¼‰ã€Anthropic Claudeã®ã©ã‚Œã‚’é¸æŠã™ã‚‹ã‹ã€‚\n\n## é¸ã‚“ã ã‚‚ã®\n\n**Google Gemini APIï¼ˆgemini-1.5-flashï¼‰**\n\n```json\n{\n  \"dependencies\": {\n    \"@google/generative-ai\": \"^0.24.0\"\n  }\n}\n```\n\n```typescript\n// src/app/api/ai/generate/route.ts\nimport { GoogleGenerativeAI } from '@google/generative-ai';\n\nconst apiKey = process.env.GEMINI_API_KEY;\nconst genAI = new GoogleGenerativeAI(apiKey || '');\n\nconst model = genAI.getGenerativeModel({\n  model: 'gemini-1.5-flash', // é¸æŠã—ãŸãƒ¢ãƒ‡ãƒ«\n  generationConfig: {\n    temperature: 0.7,\n    topP: 0.9,\n    topK: 40,\n    maxOutputTokens: 2048,\n  },\n});\n```\n\n## ä»–ã®å€™è£œ\n\n### å€™è£œ1ï¼šOpenAI GPT-4\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**ï¼š\n\n1. **ã‚³ã‚¹ãƒˆãŒéå¸¸ã«é«˜ã„**\n   - **GPT-4**: $0.03/1K input tokens, $0.06/1K output tokens\n   - **Gemini 1.5 Flash**: ç„¡æ–™æ ã‚ã‚Šã€æœ‰æ–™ã§ã‚‚$0.00035/1K tokensï¼ˆç´„100å€å®‰ã„ï¼‰\n\n   **è©¦ç®—**ï¼ˆ1ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ = 10ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã€å„ã‚»ã‚¯ã‚·ãƒ§ãƒ³500ãƒˆãƒ¼ã‚¯ãƒ³ç”Ÿæˆï¼‰:\n   - GPT-4: 10ã‚»ã‚¯ã‚·ãƒ§ãƒ³ Ã— (100 input + 500 output) Ã— $0.06/1K = **$0.36/ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**\n   - Gemini 1.5 Flash: 10ã‚»ã‚¯ã‚·ãƒ§ãƒ³ Ã— 600 Ã— $0.00035/1K = **$0.0021/ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**ï¼ˆç´„170å€å®‰ã„ï¼‰\n\n   ã“ã®ã‚¢ãƒ—ãƒªã§æœˆ100ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”Ÿæˆã™ã‚‹å ´åˆï¼š\n   - GPT-4: **$36/æœˆ**\n   - Gemini 1.5 Flash: **$0.21/æœˆ**\n\n2. **ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãŒé…ã„**\n   - GPT-4: å¹³å‡5-10ç§’\n   - Gemini 1.5 Flash: å¹³å‡2-4ç§’\n\n3. **APIã‚­ãƒ¼ã®ç®¡ç†**\n   - OpenAI: æœ‰æ–™ã‚¢ã‚«ã‚¦ãƒ³ãƒˆå¿…é ˆï¼ˆã‚¯ãƒ¬ã‚¸ãƒƒãƒˆã‚«ãƒ¼ãƒ‰ç™»éŒ²ï¼‰\n   - Gemini: ç„¡æ–™æ ãŒå¤§ãã„ï¼ˆæœˆ15ãƒªã‚¯ã‚¨ã‚¹ãƒˆ/åˆ†ï¼‰\n\n4. **å“è³ªã¯é«˜ã„ãŒã€ã“ã®ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã§ã¯ä¸è¦**\n   - GPT-4ã¯è«–ç†çš„æ¨è«–ã€è¤‡é›‘ãªã‚¿ã‚¹ã‚¯ã§å„ªã‚Œã¦ã„ã‚‹\n   - ã—ã‹ã—ã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®è¦‹å‡ºã—ãƒ»æœ¬æ–‡ç”Ÿæˆç¨‹åº¦ãªã‚‰ã€Gemini 1.5 Flashã§ååˆ†\n\n**ãƒ¡ãƒªãƒƒãƒˆ**:\n- å“è³ªãŒéå¸¸ã«é«˜ã„\n- è¤‡é›‘ãªæ¨è«–ã‚¿ã‚¹ã‚¯ã«å¼·ã„\n- ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ãŒæˆç†Ÿ\n\n**ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ**ï¼ˆã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ã¨ã£ã¦ï¼‰:\n- ã‚³ã‚¹ãƒˆãŒéå¸¸ã«é«˜ã„ â†’ é‹ç”¨ã‚³ã‚¹ãƒˆãŒå¢—å¤§\n- ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãŒé…ã„ â†’ UXä½ä¸‹\n- ã“ã®ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã§ã¯ã‚ªãƒ¼ãƒãƒ¼ã‚¹ãƒšãƒƒã‚¯\n\n### å€™è£œ2ï¼šOpenAI GPT-3.5-turbo\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**ï¼š\n\n1. **ã‚³ã‚¹ãƒˆãŒGeminiã‚ˆã‚Šé«˜ã„**\n   - **GPT-3.5-turbo**: $0.0015/1K input tokens, $0.002/1K output tokens\n   - **Gemini 1.5 Flash**: $0.00035/1K tokensï¼ˆç´„5å€å®‰ã„ï¼‰\n\n2. **å“è³ªãŒGemini 1.5 Flashã‚ˆã‚ŠåŠ£ã‚‹**\n   - GPT-3.5-turboã¯å¤ã„ãƒ¢ãƒ‡ãƒ«ï¼ˆ2022å¹´ãƒªãƒªãƒ¼ã‚¹ï¼‰\n   - Gemini 1.5 Flashï¼ˆ2024å¹´ãƒªãƒªãƒ¼ã‚¹ï¼‰ã®æ–¹ãŒæ–°ã—ãã€å“è³ªãŒé«˜ã„\n\n3. **ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ãŒå°ã•ã„**\n   - GPT-3.5-turbo: 16K tokens\n   - Gemini 1.5 Flash: 1M tokensï¼ˆç´„60å€ï¼‰\n\n   â†’ è¤‡é›‘ãªãƒ—ãƒ­ãƒ³ãƒ—ãƒˆï¼ˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆå…¨ä½“ã®ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆå«ã‚€ï¼‰ã«ã¯ä¸åˆ©\n\n4. **æ—¥æœ¬èªã®å“è³ª**\n   - GPT-3.5-turboã¯æ—¥æœ¬èªãŒå¼±ã„\n   - Gemini 1.5 Flashã¯æ—¥æœ¬èªãŒå¼·ã„ï¼ˆGoogleã®å¤šè¨€èªå¯¾å¿œï¼‰\n\n**ãƒ¡ãƒªãƒƒãƒˆ**:\n- GPT-4ã‚ˆã‚Šå®‰ã„\n- OpenAIã®ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ \n\n**ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ**ï¼ˆã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ã¨ã£ã¦ï¼‰:\n- Geminiã‚ˆã‚Šé«˜ã„\n- å“è³ªãŒGeminiã‚ˆã‚ŠåŠ£ã‚‹\n- ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ãŒå°ã•ã„\n- æ—¥æœ¬èªãŒå¼±ã„\n\n### å€™è£œ3ï¼šAnthropic Claude\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**ï¼š\n\n1. **ã‚³ã‚¹ãƒˆãŒé«˜ã„**\n   - **Claude 3.5 Sonnet**: $0.003/1K input tokens, $0.015/1K output tokens\n   - **Gemini 1.5 Flash**: $0.00035/1K tokensï¼ˆç´„10å€å®‰ã„ï¼‰\n\n2. **ç„¡æ–™æ ãŒãªã„**\n   - Gemini: ç„¡æ–™æ ã‚ã‚Šï¼ˆæœˆ15ãƒªã‚¯ã‚¨ã‚¹ãƒˆ/åˆ†ï¼‰\n   - Claude: æœ‰æ–™ã®ã¿\n\n3. **æ—¥æœ¬ã§ã®ã‚¢ã‚¯ã‚»ã‚¹åˆ¶é™**\n   - Claudeã¯ä¸€éƒ¨åœ°åŸŸã§ã‚¢ã‚¯ã‚»ã‚¹åˆ¶é™ãŒã‚ã‚‹å¯èƒ½æ€§\n   - Geminiã¯ã‚°ãƒ­ãƒ¼ãƒãƒ«ã«åˆ©ç”¨å¯èƒ½\n\n4. **APIã®å®‰å®šæ€§**\n   - Claudeã¯æ–°ã—ã„ãŸã‚ã€APIã®å®‰å®šæ€§ãŒä¸æ˜\n   - Geminiã¯ã‚ˆã‚Šæˆç†Ÿ\n\n**ãƒ¡ãƒªãƒƒãƒˆ**:\n- å“è³ªãŒéå¸¸ã«é«˜ã„ï¼ˆGPT-4ã¨åŒç­‰ä»¥ä¸Šï¼‰\n- é•·æ–‡ç”Ÿæˆã«å¼·ã„\n- å®‰å…¨æ€§ãŒé«˜ã„\n\n**ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ**ï¼ˆã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ã¨ã£ã¦ï¼‰:\n- ã‚³ã‚¹ãƒˆãŒé«˜ã„\n- ç„¡æ–™æ ãŒãªã„\n- æ—¥æœ¬ã§ã®ã‚¢ã‚¯ã‚»ã‚¹åˆ¶é™ã®å¯èƒ½æ€§\n\n## åˆ¤æ–­ç†ç”±\n\n### ç†ç”±1ï¼šåœ§å€’çš„ãªã‚³ã‚¹ãƒˆãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹\n\n**ã‚³ã‚¹ãƒˆæ¯”è¼ƒ**ï¼ˆ1000ãƒˆãƒ¼ã‚¯ãƒ³ç”Ÿæˆã‚ãŸã‚Šï¼‰:\n```\nGPT-4:           $0.06\nClaude 3.5:      $0.015\nGPT-3.5-turbo:   $0.002\nGemini 1.5 Flash: $0.00035  â† æœ€å®‰\n```\n\n**æœˆé–“ã‚³ã‚¹ãƒˆè©¦ç®—**ï¼ˆæœˆ100ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã€1ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ = 6000ãƒˆãƒ¼ã‚¯ãƒ³ï¼‰:\n```\nGPT-4:           $36/æœˆ\nClaude 3.5:      $9/æœˆ\nGPT-3.5-turbo:   $1.2/æœˆ\nGemini 1.5 Flash: $0.21/æœˆ  â† æœ€å®‰\n```\n\nâ†’ **Gemini 1.5 FlashãŒåœ§å€’çš„ã«å®‰ã„**\n\n### ç†ç”±2ï¼šç„¡æ–™æ ãŒå¤§ãã„\n\nGemini APIã®ç„¡æ–™æ ï¼š\n- **15 RPMï¼ˆRequests Per Minuteï¼‰**\n- **100ä¸‡ãƒˆãƒ¼ã‚¯ãƒ³/æ—¥**\n- **15å„„ãƒˆãƒ¼ã‚¯ãƒ³/æœˆ**\n\nâ†’ **é–‹ç™ºãƒ»ãƒ†ã‚¹ãƒˆæ®µéšã§ã¯å®Œå…¨ç„¡æ–™ã§ä½¿ãˆã‚‹**\n\n### ç†ç”±3ï¼šé«˜é€Ÿãªãƒ¬ã‚¹ãƒãƒ³ã‚¹\n\nãƒ¬ã‚¹ãƒãƒ³ã‚¹æ™‚é–“ã®æ¯”è¼ƒï¼ˆ500ãƒˆãƒ¼ã‚¯ãƒ³ç”Ÿæˆï¼‰:\n```\nGPT-4:           5-10ç§’\nClaude 3.5:      4-8ç§’\nGPT-3.5-turbo:   3-5ç§’\nGemini 1.5 Flash: 2-4ç§’  â† æœ€é€Ÿ\n```\n\nâ†’ **ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ãŒå‘ä¸Š**\n\n### ç†ç”±4ï¼šååˆ†ãªå“è³ª\n\nãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”Ÿæˆã®ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã§ã¯ã€Gemini 1.5 Flashã§ååˆ†ï¼š\n\n**ãƒ†ã‚¹ãƒˆçµæœ**ï¼ˆè¦‹å‡ºã—ç”Ÿæˆï¼‰:\n```\nãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ: \"æ•™è‚²ã¨ã‚­ãƒ£ãƒªã‚¢ã‚’ã¤ãªããƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®è¦‹å‡ºã—ã‚’ç”Ÿæˆã—ã¦ãã ã•ã„ã€‚\"\n\nGPT-4:           \"æ•™è‚²ã¨ã‚­ãƒ£ãƒªã‚¢ã®æ¶ã‘æ©‹ï¼šæœªæ¥ã‚’åˆ‡ã‚Šæ‹“ããƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ\"\nGemini 1.5 Flash: \"æ•™è‚²ã‹ã‚‰å¤¢ã‚’å¶ãˆã‚‹ã‚­ãƒ£ãƒªã‚¢ã¸ï¼šFIND to DOãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ\"\n\nâ†’ ã©ã¡ã‚‰ã‚‚é«˜å“è³ªã€‚Geminiã§ååˆ†ã€‚\n```\n\n**ãƒ†ã‚¹ãƒˆçµæœ**ï¼ˆæœ¬æ–‡ç”Ÿæˆï¼‰:\n```\nãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ: \"ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®èƒŒæ™¯ã‚’300æ–‡å­—ã§ç”Ÿæˆã—ã¦ãã ã•ã„ã€‚\"\n\nGemini 1.5 Flash:\n\"ç¾ä»£ç¤¾ä¼šã§ã¯ã€æ•™è‚²ã¨ã‚­ãƒ£ãƒªã‚¢ã®é–“ã«å¤§ããªã‚®ãƒ£ãƒƒãƒ—ãŒå­˜åœ¨ã—ã¾ã™ã€‚\nå¤šãã®è‹¥è€…ãŒã€å­¦ã‚“ã çŸ¥è­˜ã‚’ã©ã†ã‚­ãƒ£ãƒªã‚¢ã«æ´»ã‹ã›ã°ã‚ˆã„ã‹ã‚ã‹ã‚‰ãšã€\nå°†æ¥ã¸ã®ä¸å®‰ã‚’æŠ±ãˆã¦ã„ã¾ã™ã€‚ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ã€æ•™è‚²æ©Ÿé–¢ã¨ä¼æ¥­ã‚’\nã¤ãªãã€å®Ÿè·µçš„ãªã‚¹ã‚­ãƒ«ã¨çµŒé¨“ã‚’æä¾›ã™ã‚‹ã“ã¨ã§ã€è‹¥è€…ãŒè‡ªä¿¡ã‚’æŒã£ã¦\nã‚­ãƒ£ãƒªã‚¢ã‚’ç¯‰ã‘ã‚‹ç’°å¢ƒã‚’ä½œã‚Šã¾ã™ã€‚\"\n\nâ†’ è‡ªç„¶ã§é©åˆ‡ãªæ–‡ç« ãŒç”Ÿæˆã•ã‚Œã‚‹ã€‚\n```\n\n### ç†ç”±5ï¼šå·¨å¤§ãªã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚¦ã‚£ãƒ³ãƒ‰ã‚¦\n\nGemini 1.5 Flashã®ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ï¼š**1M tokens**\n\nâ†’ ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆå…¨ä½“ã®ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚’å«ã‚ãŸãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãŒå¯èƒ½ï¼š\n\n```typescript\n// ä¾‹ï¼šãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆå…¨ä½“ã®ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚’å«ã‚€ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ\nconst prompt = `\nã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæƒ…å ±ã€‘\nã‚¿ã‚¤ãƒˆãƒ«: ${documentTitle}\nç›®çš„: ${purpose}\nå¯¾è±¡è€…: ${targetAudience}\n\nã€æ—¢ã«ç”Ÿæˆã•ã‚ŒãŸã‚»ã‚¯ã‚·ãƒ§ãƒ³ã€‘\nã‚»ã‚¯ã‚·ãƒ§ãƒ³1: ${section1Content}\nã‚»ã‚¯ã‚·ãƒ§ãƒ³2: ${section2Content}\n...\n\nã€ç”Ÿæˆã—ã¦ã»ã—ã„ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã€‘\nã‚»ã‚¯ã‚·ãƒ§ãƒ³å: ${sectionName}\nè¦ä»¶: ${requirements}\n`;\n```\n\nGPT-3.5-turboï¼ˆ16K tokensï¼‰ã§ã¯ã€ã“ã®ã‚ˆã†ãªé•·ã„ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã¯ä¸å¯èƒ½ã€‚\n\n### ç†ç”±6ï¼šæ—¥æœ¬èªã®å“è³ª\n\nGeminiã¯å¤šè¨€èªå¯¾å¿œãŒå¼·ã„ï¼ˆGoogleã®å¼·ã¿ï¼‰ï¼š\n\n- æ—¥æœ¬èªã®æ–‡æ³•ãŒè‡ªç„¶\n- æ–‡åŒ–çš„ãƒ‹ãƒ¥ã‚¢ãƒ³ã‚¹ã‚’ç†è§£\n- å›ºæœ‰åè©ã®èªè­˜ãŒå„ªã‚Œã¦ã„ã‚‹\n\n**ãƒ†ã‚¹ãƒˆçµæœ**ï¼ˆæ—¥æœ¬èªç”Ÿæˆï¼‰:\n```\nãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ: \"æ—¥æœ¬ã®æ•™è‚²ã‚·ã‚¹ãƒ†ãƒ ã®èª²é¡Œã«ã¤ã„ã¦èª¬æ˜ã—ã¦ãã ã•ã„ã€‚\"\n\nGemini 1.5 Flash:\n\"æ—¥æœ¬ã®æ•™è‚²ã‚·ã‚¹ãƒ†ãƒ ã¯ã€è©°ã‚è¾¼ã¿å‹ã®å­¦ç¿’ã‚„åå·®å€¤é‡è¦–ã®è©•ä¾¡ãŒèª²é¡Œã¨\nãªã£ã¦ã„ã¾ã™ã€‚ã¾ãŸã€å®Ÿç¤¾ä¼šã§æ±‚ã‚ã‚‰ã‚Œã‚‹ã‚¹ã‚­ãƒ«ã¨æ•™è‚²å†…å®¹ã®ã‚®ãƒ£ãƒƒãƒ—ã‚‚\næŒ‡æ‘˜ã•ã‚Œã¦ã„ã¾ã™ã€‚\"\n\nâ†’ è‡ªç„¶ãªæ—¥æœ¬èªã§ã€é©åˆ‡ãªå†…å®¹ãŒç”Ÿæˆã•ã‚Œã‚‹ã€‚\n```\n\n### ç†ç”±7ï¼šå®‰å…¨æ€§è¨­å®šãŒå……å®Ÿ\n\nGemini APIã¯ã€å®‰å…¨æ€§è¨­å®šãŒå……å®Ÿï¼š\n\n```typescript\nconst safetySettings = [\n  {\n    category: HarmCategory.HARM_CATEGORY_HARASSMENT,\n    threshold: HarmBlockThreshold.BLOCK_MEDIUM_AND_ABOVE,\n  },\n  {\n    category: HarmCategory.HARM_CATEGORY_HATE_SPEECH,\n    threshold: HarmBlockThreshold.BLOCK_MEDIUM_AND_ABOVE,\n  },\n  {\n    category: HarmCategory.HARM_CATEGORY_SEXUALLY_EXPLICIT,\n    threshold: HarmBlockThreshold.BLOCK_MEDIUM_AND_ABOVE,\n  },\n  {\n    category: HarmCategory.HARM_CATEGORY_DANGEROUS_CONTENT,\n    threshold: HarmBlockThreshold.BLOCK_MEDIUM_AND_ABOVE,\n  },\n];\n```\n\nâ†’ **ä¸é©åˆ‡ãªã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”Ÿæˆã‚’é˜²ã**\n\n### ç†ç”±8ï¼šOpenAI APIã‚‚æ®‹ã™ï¼ˆãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ï¼‰\n\nã‚³ã‚¹ãƒˆå‰Šæ¸›ã®ãŸã‚ Gemini APIã‚’ä¸»ã«ä½¿ç”¨ã™ã‚‹ãŒã€OpenAI APIã‚‚æ®‹ã™ï¼š\n\n```typescript\n// .env.local\nGEMINI_API_KEY=xxx\nOPENAI_API_KEY=yyy  // ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ç”¨\n```\n\n**ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯æˆ¦ç•¥**:\n1. Gemini APIã§ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”Ÿæˆã‚’è©¦ã¿ã‚‹\n2. å¤±æ•—ã—ãŸå ´åˆã€OpenAI APIã«ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯\n3. ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«é¸æŠè‚¢ã‚’æä¾›ï¼ˆè¨­å®šã§APIé¸æŠå¯èƒ½ï¼‰\n\n```typescript\nasync function generateContent(prompt: string, preferredAPI: 'gemini' | 'openai') {\n  try {\n    if (preferredAPI === 'gemini') {\n      return await generateWithGemini(prompt);\n    } else {\n      return await generateWithOpenAI(prompt);\n    }\n  } catch (error) {\n    console.error('Primary API failed, trying fallback...');\n    // ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯\n    if (preferredAPI === 'gemini') {\n      return await generateWithOpenAI(prompt);\n    } else {\n      return await generateWithGemini(prompt);\n    }\n  }\n}\n```\n\n## ã“ã®åˆ¤æ–­ã‹ã‚‰å­¦ã¹ã‚‹ã“ã¨\n\n### å­¦ã³1ï¼šã‚³ã‚¹ãƒˆãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã®é‡è¦æ€§\n\nAI APIã®é¸æŠã§ã¯ã€å“è³ªã ã‘ã§ãªãã€ã‚³ã‚¹ãƒˆã‚‚é‡è¦ãªåˆ¤æ–­åŸºæº–ã€‚\n\n- GPT-4ã¯é«˜å“è³ªã ãŒã€ã‚³ã‚¹ãƒˆãŒé«˜ã„ â†’ é‹ç”¨ã‚³ã‚¹ãƒˆãŒå¢—å¤§\n- Gemini 1.5 Flashã¯ååˆ†ãªå“è³ªã§ã€ã‚³ã‚¹ãƒˆãŒä½ã„ â†’ æŒç¶šå¯èƒ½\n\n### å­¦ã³2ï¼šãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã«å¿œã˜ãŸé¸æŠ\n\nã™ã¹ã¦ã®ã‚¿ã‚¹ã‚¯ã«æœ€é«˜å“è³ªã®ãƒ¢ãƒ‡ãƒ«ï¼ˆGPT-4ï¼‰ã¯ä¸è¦ï¼š\n\n- **è¤‡é›‘ãªæ¨è«–ã‚¿ã‚¹ã‚¯**ï¼šGPT-4ã€Claude 3.5\n- **ã‚·ãƒ³ãƒ—ãƒ«ãªã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”Ÿæˆ**ï¼šGemini 1.5 Flashã€GPT-3.5-turbo\n\n### å­¦ã³3ï¼šç„¡æ–™æ ã®æ´»ç”¨\n\né–‹ç™ºãƒ»ãƒ†ã‚¹ãƒˆæ®µéšã§ã¯ã€ç„¡æ–™æ ãŒå¤§ãã„APIã‚’é¸ã¶ã“ã¨ã§ã‚³ã‚¹ãƒˆã‚’å‰Šæ¸›ã§ãã‚‹ã€‚\n\n### å­¦ã³4ï¼šãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯æˆ¦ç•¥\n\nå˜ä¸€ã®APIã«ä¾å­˜ã›ãšã€ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ã‚’ç”¨æ„ã™ã‚‹ã“ã¨ã§ã€å¯ç”¨æ€§ã‚’å‘ä¸Šã§ãã‚‹ã€‚\n\n### å­¦ã³5ï¼šãƒ¬ã‚¹ãƒãƒ³ã‚¹æ™‚é–“ã®é‡è¦æ€§\n\nAIã‚¢ãƒ—ãƒªã§ã¯ã€ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ™‚é–“ãŒUXã«ç›´çµã™ã‚‹ã€‚å“è³ªã¨ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ™‚é–“ã®ãƒãƒ©ãƒ³ã‚¹ã‚’è€ƒæ…®ã€‚\n\n## é©ç”¨å ´é¢\n\nä»¥ä¸‹ã®æ¡ä»¶ã‚’æº€ãŸã™ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ã¯ã€Gemini APIãŒæœ€é©ï¼š\n\n- **ã‚³ã‚¹ãƒˆé‡è¦–**: é‹ç”¨ã‚³ã‚¹ãƒˆã‚’æŠ‘ãˆãŸã„\n- **é«˜é€Ÿãƒ¬ã‚¹ãƒãƒ³ã‚¹**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ã‚’é‡è¦–\n- **ã‚·ãƒ³ãƒ—ãƒ«ãªã‚¿ã‚¹ã‚¯**: ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”Ÿæˆã€è¦ç´„ã€ç¿»è¨³ãªã©\n- **æ—¥æœ¬èª**: æ—¥æœ¬èªã®å“è³ªãŒé‡è¦\n- **é–‹ç™ºãƒ»ãƒ†ã‚¹ãƒˆ**: ç„¡æ–™æ ã§é–‹ç™ºãƒ»ãƒ†ã‚¹ãƒˆã—ãŸã„\n\nä»¥ä¸‹ã®å ´åˆã¯ã€ä»–ã®é¸æŠè‚¢ã‚’æ¤œè¨ï¼š\n\n- **è¤‡é›‘ãªæ¨è«–**: GPT-4ã€Claude 3.5\n- **é«˜åº¦ãªã‚³ãƒ¼ãƒ‰ç”Ÿæˆ**: GPT-4ã€Claude 3.5\n- **ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ **: OpenAIï¼ˆãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã€ãƒ„ãƒ¼ãƒ«ãŒè±Šå¯Œï¼‰\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `skill_ai_prompt_section_specific_2025_04_11.md`: Gemini APIã‚’ä½¿ã£ãŸãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚°\n- `workflow_ai_content_generation_flow_2025_04_11.md`: Gemini APIã‚’ä½¿ã£ãŸã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”Ÿæˆãƒ•ãƒ­ãƒ¼\n- `failure_api_cost_gemini_migration_2025_04_11.md`: OpenAI APIã‹ã‚‰Gemini APIã¸ã®ç§»è¡Œï¼ˆã‚³ã‚¹ãƒˆå‰Šæ¸›ï¼‰\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€ŒGemini API vs OpenAI APIã®é¸æŠã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "skill-ai-prompt-section-specific",
      "workflow-ai-content-generation-flow",
      "failure-api-cost-gemini-migration"
    ]
  },
  {
    "slug": "arch-api-route-transformation-layer",
    "title": "API Routeã‚’ãƒ‡ãƒ¼ã‚¿ãƒˆãƒ©ãƒ³ã‚¹ãƒ•ã‚©ãƒ¼ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ¬ã‚¤ãƒ¤ãƒ¼ã¨ã™ã‚‹è¨­è¨ˆ",
    "category": "Decisionsï¼ˆæŠ€è¡“é¸å®šãƒ»åˆ¤æ–­ï¼‰",
    "description": "API Routeã‚’ãƒ‡ãƒ¼ã‚¿ãƒˆãƒ©ãƒ³ã‚¹ãƒ•ã‚©ãƒ¼ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ¬ã‚¤ãƒ¤ãƒ¼ã¨ã™ã‚‹è¨­è¨ˆ",
    "project": "yumesuta-management-system",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"decision_arch_api_route_transformation_layer_2025_11_24\",\n  \"type\": \"decision\",\n  \"name\": \"API Routeã‚’ãƒ‡ãƒ¼ã‚¿ãƒˆãƒ©ãƒ³ã‚¹ãƒ•ã‚©ãƒ¼ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ¬ã‚¤ãƒ¤ãƒ¼ã¨ã™ã‚‹è¨­è¨ˆ\",\n  \"decision_type\": \"architecture\",\n  \"tags\": [\"API Route\", \"ãƒ‡ãƒ¼ã‚¿å¤‰æ›\", \"é–¢å¿ƒã®åˆ†é›¢\", \"å‹å®‰å…¨æ€§\", \"ãƒ‘ãƒ¼ã‚¹\", \"Next.js\"],\n  \"source_project\": \"yumesuta-management-system\",\n  \"chosen\": \"API Routeã§Google Sheetsç”Ÿãƒ‡ãƒ¼ã‚¿ã‚’å‹ä»˜ãã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«å¤‰æ›\",\n  \"alternatives\": [\"Dashboard Pageã§ç›´æ¥ãƒ‘ãƒ¼ã‚¹\", \"å…±é€šãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ãƒ‘ãƒ¼ã‚¹\"],\n  \"related_knowledge\": [\"skill_api_route_template_pattern_2025_11_24\", \"skill_dashboard_page_template_pattern_2025_11_24\", \"decision_tech_nextjs_15_app_router_2025_11_24\"],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-24\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# API Routeã‚’ãƒ‡ãƒ¼ã‚¿ãƒˆãƒ©ãƒ³ã‚¹ãƒ•ã‚©ãƒ¼ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ¬ã‚¤ãƒ¤ãƒ¼ã¨ã™ã‚‹è¨­è¨ˆ\n\n## ä½•ã‚’åˆ¤æ–­ã—ãŸã‹\n\nyumesuta-management-systemã®ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã«ãŠã„ã¦ã€API Route (`/app/api/*/route.ts`) ã‚’**ãƒ‡ãƒ¼ã‚¿ãƒˆãƒ©ãƒ³ã‚¹ãƒ•ã‚©ãƒ¼ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ¬ã‚¤ãƒ¤ãƒ¼**ã¨ã—ã¦æ©Ÿèƒ½ã•ã›ã€Google Sheets APIã®ç”Ÿãƒ‡ãƒ¼ã‚¿ï¼ˆ`any[][]`ï¼‰ã‚’å‹ä»˜ãã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«å¤‰æ›ã™ã‚‹è²¬å‹™ã‚’æŒãŸã›ã‚‹ã¨åˆ¤æ–­ã—ãŸã€‚\n\n## é¸ã‚“ã ã‚‚ã®\n\n**API Routeã§Google Sheetsç”Ÿãƒ‡ãƒ¼ã‚¿ã‚’å‹ä»˜ãã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«å¤‰æ›**\n\n**ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£**ï¼š\n```\nGoogle Sheets API (ç”Ÿãƒ‡ãƒ¼ã‚¿: any[][])\n    â†“\nlib/google-sheets.ts (ãƒ‡ãƒ¼ã‚¿å–å¾—)\n    â†“\nAPI Route (ãƒ‡ãƒ¼ã‚¿ãƒˆãƒ©ãƒ³ã‚¹ãƒ•ã‚©ãƒ¼ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³)\n    - ç”Ÿãƒ‡ãƒ¼ã‚¿ (any[][]) â†’ å‹ä»˜ãã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ\n    - æ—¥æœ¬èªã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ â†’ Enumå¤‰æ›\n    - ç©ºè¡Œãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°\n    - Null/å‹ãƒã‚§ãƒƒã‚¯\n    â†“\nDashboard Page (å‹å®‰å…¨ãªè¡¨ç¤º)\n```\n\n**å®Ÿè£…ä¾‹**ï¼š\n```typescript\n// app/api/sales-kpi/route.ts\nexport async function GET() {\n  try {\n    const spreadsheetId = process.env.SALES_SPREADSHEET_ID!;\n\n    // 1. ç”Ÿãƒ‡ãƒ¼ã‚¿å–å¾— (lib/google-sheets.ts)\n    const [kpiData, monthlyData, customerData] = await getBatchSheetData(\n      spreadsheetId,\n      [\n        'KPIãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰!A1:K25',\n        'æœˆæ¬¡äºˆå®Ÿç®¡ç†!A1:W15',\n        'é¡§å®¢ãƒã‚¹ã‚¿!A1:S100',\n      ]\n    );\n\n    // 2. ãƒ‡ãƒ¼ã‚¿ãƒˆãƒ©ãƒ³ã‚¹ãƒ•ã‚©ãƒ¼ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆAPI Routeã®è²¬å‹™ï¼‰\n    const kpiResponse = parseKPIData(kpiData);         // any[][] â†’ KPIå‹\n    const monthlyPerformance = parseMonthlyPerformance(monthlyData);  // any[][] â†’ MonthlyPerformanceå‹\n    const customerStats = parseCustomerMasterStats(customerData);  // any[][] â†’ CustomerMasterStatså‹\n\n    // 3. å‹ä»˜ããƒ¬ã‚¹ãƒãƒ³ã‚¹è¿”å´\n    return NextResponse.json<SalesKPIResponse>({\n      success: true,\n      data: {\n        ...kpiResponse,\n        monthlyPerformance,\n        customerStats,\n        updatedAt: new Date().toISOString(),\n      },\n    });\n  } catch (error) {\n    return NextResponse.json<SalesKPIResponse>(\n      { success: false, error: error.message },\n      { status: 500 }\n    );\n  }\n}\n\n// ãƒ‘ãƒ¼ã‚¹é–¢æ•°ï¼ˆAPI Routeå†…ã«å®šç¾©ï¼‰\nfunction parseKPIData(data: any[][]): KPIData {\n  const month = parseInt(data[1]?.[1] || '0');\n  const totalBusinessDays = parseInt(data[5]?.[1] || '0');\n  const metrics = {\n    telAppointments: parseMetricRow(data[11]),\n    appointments: parseMetricRow(data[12]),\n    meetings: parseMetricRow(data[13]),\n    // ...\n  };\n  return { month, totalBusinessDays, metrics };\n}\n\nfunction parseMetricRow(row: any[] | undefined): MetricRow {\n  if (!row) return { monthlyTarget: 0, actual: 0, gap: 0, status: 'warning' };\n\n  const statusText = row[5] || '';\n  const status = statusText.includes('é †èª¿') ? 'ok' : 'warning';  // æ—¥æœ¬èª â†’ Enumå¤‰æ›\n\n  return {\n    monthlyTarget: parseInt(row[1] || '0'),\n    actual: parseInt(row[3] || '0'),\n    gap: parseInt(row[4] || '0'),\n    status: status as 'ok' | 'warning',\n  };\n}\n```\n\n## ä»–ã®å€™è£œ\n\n### å€™è£œ1ï¼šDashboard Pageã§ç›´æ¥ãƒ‘ãƒ¼ã‚¹\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**ï¼š\n- **ç†ç”±1ï¼šé–¢å¿ƒã®åˆ†é›¢é•å** - Dashboard Pageã¯è¡¨ç¤ºã«å°‚å¿µã™ã¹ãã§ã‚ã‚Šã€ãƒ‡ãƒ¼ã‚¿ãƒ‘ãƒ¼ã‚¹ãƒ­ã‚¸ãƒƒã‚¯ã‚’æŒã¤ã¹ãã§ã¯ãªã„\n- **ç†ç”±2ï¼šå†åˆ©ç”¨æ€§ã®æ¬ å¦‚** - åŒã˜ãƒ‡ãƒ¼ã‚¿ã‚’è¤‡æ•°ã®Pageã§è¡¨ç¤ºã™ã‚‹å ´åˆã€ãƒ‘ãƒ¼ã‚¹ãƒ­ã‚¸ãƒƒã‚¯ãŒé‡è¤‡ã™ã‚‹\n- **ç†ç”±3ï¼šå‹å®‰å…¨æ€§ã®ä½ä¸‹** - `any[][]`ã‚’ç›´æ¥æ‰±ã†ãŸã‚ã€å‹ã‚¨ãƒ©ãƒ¼ãŒå®Ÿè¡Œæ™‚ã¾ã§æ¤œçŸ¥ã§ããªã„\n\n**å®Ÿè£…ä¾‹ï¼ˆã‚¢ãƒ³ãƒãƒ‘ã‚¿ãƒ¼ãƒ³ï¼‰**ï¼š\n```tsx\n// âŒ Dashboard Pageã§ç›´æ¥ãƒ‘ãƒ¼ã‚¹ï¼ˆæ‚ªã„ä¾‹ï¼‰\n'use client';\nexport default function SalesDashboard() {\n  const [data, setData] = useState<any>(null);  // anyå‹ã®ã¾ã¾\n\n  const handleRefresh = async () => {\n    const res = await fetch('/api/sales-raw');  // ç”Ÿãƒ‡ãƒ¼ã‚¿è¿”å´API\n    const json = await res.json();\n\n    // Dashboardå†…ã§ãƒ‘ãƒ¼ã‚¹ï¼ˆé–¢å¿ƒã®åˆ†é›¢é•åï¼‰\n    const month = parseInt(json.data[1]?.[1] || '0');\n    const metrics = {\n      telAppointments: parseInt(json.data[11]?.[3] || '0'),\n      // ãƒ‘ãƒ¼ã‚¹ãƒ­ã‚¸ãƒƒã‚¯ãŒDashboardã«æ··åœ¨\n    };\n    setData({ month, metrics });\n  };\n\n  return <div>{/* è¡¨ç¤º */}</div>;\n}\n```\n\n### å€™è£œ2ï¼šå…±é€šãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ãƒ‘ãƒ¼ã‚¹\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**ï¼š\n- **ç†ç”±1ï¼šAPI Routeã¨ã®çµåˆåº¦ãŒé«˜ã„** - ãƒ‘ãƒ¼ã‚¹ãƒ­ã‚¸ãƒƒã‚¯ã¯API Routeã¨å¯†æ¥ã«é–¢é€£ã—ã¦ãŠã‚Šã€å…±é€šãƒ©ã‚¤ãƒ–ãƒ©ãƒªã«åˆ‡ã‚Šå‡ºã™ãƒ¡ãƒªãƒƒãƒˆãŒè–„ã„\n- **ç†ç”±2ï¼šãƒ•ã‚¡ã‚¤ãƒ«åˆ†å‰²ã«ã‚ˆã‚‹è¤‡é›‘åŒ–** - `lib/parsers/sales-kpi-parser.ts`ã®ã‚ˆã†ãªåˆ¥ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã™ã‚‹ã¨ã€ãƒ•ã‚¡ã‚¤ãƒ«é–“ã®ç§»å‹•ãŒå¢—ãˆã€é–‹ç™ºé€Ÿåº¦ãŒä½ä¸‹ã™ã‚‹\n- **ç†ç”±3ï¼šã‚ªãƒ¼ãƒãƒ¼ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚°** - 94 API Routesã™ã¹ã¦ã«å¯¾ã—ã¦ãƒ‘ãƒ¼ã‚µãƒ¼ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½œæˆã™ã‚‹ã¨ã€ãƒ•ã‚¡ã‚¤ãƒ«æ•°ãŒå€å¢—ã™ã‚‹\n\n**å®Ÿè£…ä¾‹**ï¼š\n```typescript\n// âŒ å…±é€šãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ãƒ‘ãƒ¼ã‚¹ï¼ˆã‚ªãƒ¼ãƒãƒ¼ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚°ï¼‰\n// lib/parsers/sales-kpi-parser.ts\nexport function parseSalesKPI(data: any[][]): SalesKPIData {\n  // ãƒ‘ãƒ¼ã‚¹ãƒ­ã‚¸ãƒƒã‚¯\n}\n\n// app/api/sales-kpi/route.ts\nimport { parseSalesKPI } from '@/lib/parsers/sales-kpi-parser';\n\nexport async function GET() {\n  const data = await getSheetData(...);\n  const parsed = parseSalesKPI(data);  // ãƒ©ã‚¤ãƒ–ãƒ©ãƒªå‘¼ã³å‡ºã—\n  return NextResponse.json({ success: true, data: parsed });\n}\n```\n\n## åˆ¤æ–­ç†ç”±\n\n### ç†ç”±1ï¼šé–¢å¿ƒã®åˆ†é›¢ï¼ˆSeparation of Concernsï¼‰\n\nAPI Routeã‚’ãƒ‡ãƒ¼ã‚¿ãƒˆãƒ©ãƒ³ã‚¹ãƒ•ã‚©ãƒ¼ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ¬ã‚¤ãƒ¤ãƒ¼ã¨ã™ã‚‹ã“ã¨ã§ã€å„ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®è²¬å‹™ãŒæ˜ç¢ºã«ãªã‚‹ã€‚\n\n**ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®è²¬å‹™**ï¼š\n```\n1. lib/google-sheets.ts\n   - Google Sheets APIå‘¼ã³å‡ºã—\n   - èªè¨¼ãƒ»ã‚­ãƒ£ãƒƒã‚·ãƒ¥ç®¡ç†\n   - ç”Ÿãƒ‡ãƒ¼ã‚¿å–å¾—\n\n2. API Route (/app/api/*/route.ts) â† ãƒˆãƒ©ãƒ³ã‚¹ãƒ•ã‚©ãƒ¼ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ¬ã‚¤ãƒ¤ãƒ¼\n   - ç”Ÿãƒ‡ãƒ¼ã‚¿ (any[][]) â†’ å‹ä»˜ãã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆå¤‰æ›\n   - æ—¥æœ¬èªã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ â†’ Enumå¤‰æ›\n   - ç©ºè¡Œãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°\n   - Null/å‹ãƒã‚§ãƒƒã‚¯\n\n3. Dashboard Page (/app/dashboard/*/page.tsx)\n   - å‹å®‰å…¨ãªãƒ‡ãƒ¼ã‚¿è¡¨ç¤º\n   - ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³\n   - ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ãƒ»ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°\n```\n\n### ç†ç”±2ï¼šå‹å®‰å…¨æ€§ã®å‘ä¸Š\n\nAPI Routeã§ç”Ÿãƒ‡ãƒ¼ã‚¿ã‚’å‹ä»˜ãã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«å¤‰æ›ã™ã‚‹ã“ã¨ã§ã€Dashboard Pageã¯å‹å®‰å…¨ãªãƒ‡ãƒ¼ã‚¿ã‚’å—ã‘å–ã‚Œã‚‹ã€‚\n\n**å‹å®‰å…¨æ€§ã®æµã‚Œ**ï¼š\n```typescript\n// 1. Google Sheets APIï¼ˆå‹ãªã—ï¼‰\nconst data: any[][] = await getSheetData(...);\n\n// 2. API Routeï¼ˆå‹å¤‰æ›ï¼‰\nconst parsed: SalesKPIData = parseKPIData(data);\n\n// 3. Dashboard Pageï¼ˆå‹å®‰å…¨ï¼‰\nconst res = await fetch('/api/sales-kpi');\nconst json: SalesKPIResponse = await res.json();  // å‹ä»˜ã\n\n// TypeScriptã®å‹ãƒã‚§ãƒƒã‚¯ãŒåŠ¹ã\nconsole.log(json.data.kpi.month);  // numberå‹ã¨ã—ã¦èªè­˜\nconsole.log(json.data.kpi.metrics.telAppointments.status);  // 'ok' | 'warning'å‹ã¨ã—ã¦èªè­˜\n```\n\n### ç†ç”±3ï¼šå†åˆ©ç”¨æ€§ã®ç¢ºä¿\n\nAPI Routeã§ãƒ‡ãƒ¼ã‚¿å¤‰æ›ã‚’è¡Œã†ã“ã¨ã§ã€åŒã˜ãƒ‡ãƒ¼ã‚¿ã‚’è¤‡æ•°ã®Pageã§å†åˆ©ç”¨ã§ãã‚‹ã€‚\n\n**å†åˆ©ç”¨ã®ä¾‹**ï¼š\n```\n/api/sales-kpi (API Route: ãƒ‡ãƒ¼ã‚¿ãƒˆãƒ©ãƒ³ã‚¹ãƒ•ã‚©ãƒ¼ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³)\n    â†“\n    â”œâ”€ /dashboard/sales (å–¶æ¥­é€²æ—ç”»é¢)\n    â”œâ”€ /dashboard/overview (å…¨ä½“ã‚µãƒãƒªãƒ¼ç”»é¢)\n    â””â”€ /dashboard/reports (ãƒ¬ãƒãƒ¼ãƒˆç”»é¢)\n```\n\n### ç†ç”±4ï¼šã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã®ä¸€å…ƒåŒ–\n\nAPI Routeã§ãƒ‡ãƒ¼ã‚¿ãƒˆãƒ©ãƒ³ã‚¹ãƒ•ã‚©ãƒ¼ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’è¡Œã†ã“ã¨ã§ã€ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã‚’ä¸€å…ƒåŒ–ã§ãã‚‹ã€‚\n\n**ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ä¾‹**ï¼š\n```typescript\n// API Route\nfunction parseMetricRow(row: any[] | undefined): MetricRow {\n  if (!row) {\n    // ã‚¨ãƒ©ãƒ¼æ™‚ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã‚’è¿”å´ï¼ˆAPI Routeå†…ã§å‡¦ç†ï¼‰\n    return {\n      monthlyTarget: 0,\n      actual: 0,\n      gap: 0,\n      status: 'warning' as const,\n    };\n  }\n\n  // å‹ãƒã‚§ãƒƒã‚¯ãƒ»Null ãƒã‚§ãƒƒã‚¯ï¼ˆAPI Routeå†…ã§å‡¦ç†ï¼‰\n  const statusText = row[5] || '';\n  const status = statusText.includes('é †èª¿') ? 'ok' : 'warning';\n\n  return {\n    monthlyTarget: parseInt(row[1] || '0'),\n    actual: parseInt(row[3] || '0'),\n    gap: parseInt(row[4] || '0'),\n    status: status as 'ok' | 'warning',\n  };\n}\n```\n\n**Dashboard Pageã¯ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ä¸è¦**ï¼š\n```tsx\n// Dashboard Pageï¼ˆã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ä¸è¦ã€å‹å®‰å…¨ã«è¡¨ç¤ºï¼‰\n<div>\n  <p>æœˆé–“ç›®æ¨™: {data.kpi.metrics.telAppointments.monthlyTarget}</p>\n  <p>å®Ÿç¸¾: {data.kpi.metrics.telAppointments.actual}</p>\n  <span className={data.kpi.metrics.telAppointments.status === 'ok' ? 'text-green-600' : 'text-yellow-600'}>\n    {data.kpi.metrics.telAppointments.status === 'ok' ? 'é †èª¿' : 'é…ã‚Œ'}\n  </span>\n</div>\n```\n\n### ç†ç”±5ï¼šæ—¥æœ¬èªã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã®Enumå¤‰æ›\n\nGoogle Sheetsã«ã¯æ—¥æœ¬èªã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ï¼ˆã€Œé †èª¿ã€ã€Œé…ã‚Œã€ï¼‰ãŒæ ¼ç´ã•ã‚Œã¦ã„ã‚‹ãŒã€API Routeã§å‹ä»˜ãEnumï¼ˆ`'ok' | 'warning'`ï¼‰ã«å¤‰æ›ã™ã‚‹ã€‚\n\n**å¤‰æ›ãƒ­ã‚¸ãƒƒã‚¯**ï¼š\n```typescript\n// API Routeå†…ã§æ—¥æœ¬èª â†’ Enumå¤‰æ›\nfunction parseMetricRow(row: any[]): MetricRow {\n  const statusText = row[5] || '';\n\n  // æ—¥æœ¬èª â†’ Enumå¤‰æ›\n  const status = statusText.includes('é †èª¿') ? 'ok' : 'warning';\n\n  return {\n    // ...\n    status: status as 'ok' | 'warning',  // å‹ä»˜ãEnum\n  };\n}\n```\n\n**Dashboard Pageã¯å‹å®‰å…¨ã«ä½¿ç”¨**ï¼š\n```tsx\n// Dashboard Pageï¼ˆå‹å®‰å…¨ã«ä½¿ç”¨ï¼‰\n{data.kpi.metrics.telAppointments.status === 'ok' && <CheckCircle className=\"text-green-600\" />}\n{data.kpi.metrics.telAppointments.status === 'warning' && <AlertTriangle className=\"text-yellow-600\" />}\n```\n\n### ç†ç”±6ï¼šç©ºè¡Œãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°\n\nGoogle Sheets APIã¯ç©ºè¡Œã‚‚è¿”å´ã™ã‚‹ãŒã€API Routeã§ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ã™ã‚‹ã€‚\n\n**ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ä¾‹**ï¼š\n```typescript\n// API Routeå†…ã§ç©ºè¡Œãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°\nfunction parsePartners(data: any[][]): Partner[] {\n  return data\n    .filter(row => row.some(cell => cell))  // ç©ºè¡Œãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°\n    .map(row => ({\n      id: row[0] || '',\n      name: row[1] || '',\n      furigana: row[2] || '',\n      affiliation: row[3] || '',\n      // ...\n    }));\n}\n```\n\n## ã“ã®åˆ¤æ–­ã‹ã‚‰å­¦ã¹ã‚‹ã“ã¨\n\n### å­¦ã³1ï¼šAPI Routeã¯ãƒ‡ãƒ¼ã‚¿ãƒˆãƒ©ãƒ³ã‚¹ãƒ•ã‚©ãƒ¼ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ¬ã‚¤ãƒ¤ãƒ¼ã¨ã—ã¦æ©Ÿèƒ½ã™ã¹ã\n\nNext.js App Routerã§ã¯ã€API Routeã‚’ãƒ‡ãƒ¼ã‚¿ãƒˆãƒ©ãƒ³ã‚¹ãƒ•ã‚©ãƒ¼ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ¬ã‚¤ãƒ¤ãƒ¼ã¨ã—ã¦æ©Ÿèƒ½ã•ã›ã‚‹ã“ã¨ã§ã€ä»¥ä¸‹ã®ãƒ¡ãƒªãƒƒãƒˆãŒã‚ã‚‹ï¼š\n\n1. **é–¢å¿ƒã®åˆ†é›¢** - Dashboard Pageã¯è¡¨ç¤ºã«å°‚å¿µã§ãã‚‹\n2. **å‹å®‰å…¨æ€§** - Dashboard Pageã¯å‹ä»˜ããƒ‡ãƒ¼ã‚¿ã‚’å—ã‘å–ã‚Œã‚‹\n3. **å†åˆ©ç”¨æ€§** - åŒã˜ãƒ‡ãƒ¼ã‚¿ã‚’è¤‡æ•°ã®Pageã§å†åˆ©ç”¨ã§ãã‚‹\n4. **ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã®ä¸€å…ƒåŒ–** - API Routeå†…ã§ã‚¨ãƒ©ãƒ¼å‡¦ç†ãŒå®Œçµã™ã‚‹\n\n### å­¦ã³2ï¼šç”Ÿãƒ‡ãƒ¼ã‚¿ (any[][]) ã¯API Routeå†…ã§å‹ä»˜ãã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«å¤‰æ›ã™ã¹ã\n\nGoogle Sheets APIã®ç”Ÿãƒ‡ãƒ¼ã‚¿ï¼ˆ`any[][]`ï¼‰ã¯ã€API Routeå†…ã§å‹ä»˜ãã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«å¤‰æ›ã™ã¹ãã€‚\n\n**ç†ç”±**ï¼š\n- Dashboard Pageã§`any[][]`ã‚’ç›´æ¥æ‰±ã†ã¨ã€å‹ã‚¨ãƒ©ãƒ¼ãŒå®Ÿè¡Œæ™‚ã¾ã§æ¤œçŸ¥ã§ããªã„\n- API Routeå†…ã§å¤‰æ›ã™ã‚‹ã“ã¨ã§ã€Dashboard Pageã¯å‹å®‰å…¨ãªãƒ‡ãƒ¼ã‚¿ã‚’å—ã‘å–ã‚Œã‚‹\n\n### å­¦ã³3ï¼šãƒ‘ãƒ¼ã‚¹ãƒ­ã‚¸ãƒƒã‚¯ã¯API Routeå†…ã«å®šç¾©ã™ã¹ã\n\nãƒ‘ãƒ¼ã‚¹ãƒ­ã‚¸ãƒƒã‚¯ã¯ã€API Routeå†…ã«å®šç¾©ã™ã¹ãï¼ˆå…±é€šãƒ©ã‚¤ãƒ–ãƒ©ãƒªã«åˆ‡ã‚Šå‡ºã•ãªã„ï¼‰ã€‚\n\n**ç†ç”±**ï¼š\n- ãƒ‘ãƒ¼ã‚¹ãƒ­ã‚¸ãƒƒã‚¯ã¯API Routeã¨å¯†æ¥ã«é–¢é€£ã—ã¦ãŠã‚Šã€å…±é€šãƒ©ã‚¤ãƒ–ãƒ©ãƒªã«åˆ‡ã‚Šå‡ºã™ãƒ¡ãƒªãƒƒãƒˆãŒè–„ã„\n- ãƒ•ã‚¡ã‚¤ãƒ«åˆ†å‰²ã«ã‚ˆã‚‹è¤‡é›‘åŒ–ã‚’é¿ã‘ã‚‹ãŸã‚\n\n### å­¦ã³4ï¼šæ—¥æœ¬èªã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã¯å‹ä»˜ãEnumã«å¤‰æ›ã™ã¹ã\n\nGoogle Sheetsã«æ ¼ç´ã•ã‚ŒãŸæ—¥æœ¬èªã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã¯ã€API Routeå†…ã§å‹ä»˜ãEnumï¼ˆ`'ok' | 'warning' | 'error'`ï¼‰ã«å¤‰æ›ã™ã¹ãã€‚\n\n**ç†ç”±**ï¼š\n- Dashboard Pageã§æ—¥æœ¬èªæ–‡å­—åˆ—ã‚’ç›´æ¥æ‰±ã†ã¨ã€ã‚¿ã‚¤ãƒã«ã‚ˆã‚‹ãƒã‚°ãŒç™ºç”Ÿã—ã‚„ã™ã„\n- å‹ä»˜ãEnumã«å¤‰æ›ã™ã‚‹ã“ã¨ã§ã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã«å‹ãƒã‚§ãƒƒã‚¯ãŒåŠ¹ã\n\n## é©ç”¨å ´é¢\n\n### ã„ã¤ã“ã®åˆ¤æ–­åŸºæº–ã‚’ä½¿ã†ã‹\n\nä»¥ä¸‹ã®æ¡ä»¶ã‚’æº€ãŸã™ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯ã€API Routeã‚’ãƒ‡ãƒ¼ã‚¿ãƒˆãƒ©ãƒ³ã‚¹ãƒ•ã‚©ãƒ¼ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ¬ã‚¤ãƒ¤ãƒ¼ã¨ã—ã¦æ©Ÿèƒ½ã•ã›ã‚‹ã¹ãï¼š\n\n1. **å¤–éƒ¨APIã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã™ã‚‹** - Google Sheets APIã€REST APIã€GraphQLç­‰\n2. **ç”Ÿãƒ‡ãƒ¼ã‚¿ãŒå‹ãªã—ï¼ˆanyå‹ï¼‰** - `any[][]`ã€`Record<string, any>`ç­‰\n3. **è¤‡æ•°ã®Pageã§åŒã˜ãƒ‡ãƒ¼ã‚¿ã‚’è¡¨ç¤ºã™ã‚‹** - å†åˆ©ç”¨æ€§ãŒé‡è¦ãªå ´åˆ\n4. **TypeScriptã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹** - å‹å®‰å…¨æ€§ã‚’é‡è¦–ã™ã‚‹å ´åˆ\n5. **ãƒ‡ãƒ¼ã‚¿å¤‰æ›ãƒ­ã‚¸ãƒƒã‚¯ãŒè¤‡é›‘** - æ—¥æœ¬èªã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹å¤‰æ›ã€ç©ºè¡Œãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ã€Nullãƒã‚§ãƒƒã‚¯ç­‰\n\n### ä¾‹å¤–ï¼šAPI Routeå†…ã§ãƒ‘ãƒ¼ã‚¹ã—ãªã„æ–¹ãŒè‰¯ã„ã‚±ãƒ¼ã‚¹\n\nä»¥ä¸‹ã®å ´åˆã¯ã€API Routeå†…ã§ãƒ‘ãƒ¼ã‚¹ã—ãªã„æ–¹ãŒè‰¯ã„å ´åˆã‚‚ã‚ã‚‹ï¼š\n\n- **ç”Ÿãƒ‡ãƒ¼ã‚¿ãŒã™ã§ã«å‹ä»˜ã** - å¤–éƒ¨APIãŒã™ã§ã«å‹ä»˜ããƒ‡ãƒ¼ã‚¿ã‚’è¿”å´ã™ã‚‹å ´åˆ\n- **ãƒ‡ãƒ¼ã‚¿å¤‰æ›ãƒ­ã‚¸ãƒƒã‚¯ãŒå˜ç´”** - å˜ç´”ãªãƒãƒƒãƒ”ãƒ³ã‚°ã®ã¿ã§å¤‰æ›ã§ãã‚‹å ´åˆ\n- **å†åˆ©ç”¨æ€§ãŒä¸è¦** - 1ã¤ã®Pageã§ã—ã‹ä½¿ç”¨ã—ãªã„å ´åˆ\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `skill_api_route_template_pattern_2025_11_24.md` - API Routeå®Ÿè£…ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ\n- `skill_dashboard_page_template_pattern_2025_11_24.md` - Dashboard Pageå®Ÿè£…ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ\n- `decision_tech_nextjs_15_app_router_2025_11_24.md` - Next.js 15 + App Routeré¸æŠ\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€ŒAPI Routeã‚’ãƒ‡ãƒ¼ã‚¿ãƒˆãƒ©ãƒ³ã‚¹ãƒ•ã‚©ãƒ¼ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ¬ã‚¤ãƒ¤ãƒ¼ã¨ã™ã‚‹è¨­è¨ˆã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "skill-api-route-template-pattern",
      "skill-dashboard-page-template-pattern",
      "decision-tech-nextjs-15-app-router"
    ]
  },
  {
    "slug": "arch-directory-structure-app-lib",
    "title": "ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ï¼ˆapp/ ã¨ lib/ ã®åˆ†é›¢ï¼‰ã®è¨­è¨ˆåˆ¤æ–­",
    "category": "Decisionsï¼ˆæŠ€è¡“é¸å®šãƒ»åˆ¤æ–­ï¼‰",
    "description": "ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ï¼ˆapp/ ã¨ lib/ ã®åˆ†é›¢ï¼‰ã®è¨­è¨ˆåˆ¤æ–­",
    "project": "ai-blog-generator",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"decision_arch_directory_structure_app_lib_2025_04_22\",\n  \"type\": \"decision\",\n  \"name\": \"ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ï¼ˆapp/ ã¨ lib/ ã®åˆ†é›¢ï¼‰ã®è¨­è¨ˆåˆ¤æ–­\",\n  \"decision_type\": \"architecture\",\n  \"tags\": [\"ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£\", \"ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ \", \"è¨­è¨ˆ\", \"é–¢å¿ƒã®åˆ†é›¢\", \"ãƒ†ã‚¹ãƒˆ\"],\n  \"source_project\": \"ai-blog-generator\",\n  \"chosen\": \"app/ ã¨ lib/ ã‚’åˆ†é›¢\",\n  \"alternatives\": [\"å…¨ã¦app/å†…ã«é…ç½®\", \"æ©Ÿèƒ½åˆ¥ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª\"],\n  \"related_knowledge\": [],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-04-22\",\n  \"updated\": \"2025-04-22\"\n}\n```\n\n# ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ï¼ˆapp/ ã¨ lib/ ã®åˆ†é›¢ï¼‰ã®è¨­è¨ˆåˆ¤æ–­\n\n## ä½•ã‚’åˆ¤æ–­ã—ãŸã‹\n\nNext.js ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ã¨ã—ã¦ã€app/ ã¨ lib/ ã‚’åˆ†é›¢ã™ã‚‹ã‹ã€å…¨ã¦ app/ å†…ã«é…ç½®ã™ã‚‹ã‹ã‚’åˆ¤æ–­ã—ãŸã€‚\n\n## é¸ã‚“ã ã‚‚ã®\n\n**app/ ã¨ lib/ ã‚’åˆ†é›¢**\n\n```\nsrc/\nâ”œâ”€â”€ app/              # Next.js App Routerï¼ˆUIã¨ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ï¼‰\nâ”‚   â”œâ”€â”€ page.tsx\nâ”‚   â”œâ”€â”€ layout.tsx\nâ”‚   â”œâ”€â”€ blog/\nâ”‚   â””â”€â”€ api/\nâ””â”€â”€ lib/              # ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ï¼ˆãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯éä¾å­˜ï¼‰\n    â”œâ”€â”€ gemini.ts\n    â”œâ”€â”€ prompt.ts\n    â”œâ”€â”€ trends.ts\n    â”œâ”€â”€ blog.ts\n    â”œâ”€â”€ article.ts\n    â””â”€â”€ mdx.ts\n```\n\n## ä»–ã®å€™è£œ\n\n### å€™è£œ1ï¼šå…¨ã¦ app/ å†…ã«é…ç½®\n\n```\nsrc/\nâ””â”€â”€ app/\n    â”œâ”€â”€ page.tsx\n    â”œâ”€â”€ blog/\n    â”œâ”€â”€ api/\n    â””â”€â”€ utils/      # ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯\n        â”œâ”€â”€ gemini.ts\n        â”œâ”€â”€ prompt.ts\n        â””â”€â”€ ...\n```\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**ï¼š\n- app/ ã¯ Next.js å›ºæœ‰ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªï¼ˆãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã¨çµã³ã¤ã„ã¦ã„ã‚‹ï¼‰\n- ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ã‚’ app/ å†…ã«ç½®ãã¨ã€ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã¨å¯†çµåˆ\n- ãƒ†ã‚¹ãƒˆã—ã«ãã„ï¼ˆNext.js ã®ç’°å¢ƒãŒå¿…è¦ï¼‰\n\n### å€™è£œ2ï¼šæ©Ÿèƒ½åˆ¥ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª\n\n```\nsrc/\nâ”œâ”€â”€ features/\nâ”‚   â”œâ”€â”€ blog/\nâ”‚   â”‚   â”œâ”€â”€ components/\nâ”‚   â”‚   â”œâ”€â”€ api/\nâ”‚   â”‚   â””â”€â”€ lib/\nâ”‚   â””â”€â”€ admin/\nâ””â”€â”€ shared/\n```\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**ï¼š\n- å°è¦æ¨¡ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ã¯éå‰°\n- Next.js App Router ã®ãƒ•ã‚¡ã‚¤ãƒ«ãƒ™ãƒ¼ã‚¹ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã¨ç›¸æ€§ãŒæ‚ªã„\n\n## åˆ¤æ–­ç†ç”±\n\n### ç†ç”±1ï¼šé–¢å¿ƒã®åˆ†é›¢\n\n**app/**ï¼š\n- UIã¨ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°\n- Next.js å›ºæœ‰ã®æ©Ÿèƒ½\n- ãƒšãƒ¼ã‚¸ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ\n- API Routes\n\n**lib/**ï¼š\n- ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯\n- ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯éä¾å­˜\n- å†åˆ©ç”¨å¯èƒ½\n- ãƒ†ã‚¹ãƒˆå¯èƒ½\n\n### ç†ç”±2ï¼šãƒ†ã‚¹ãƒˆå®¹æ˜“æ€§\n\nlib/ ã®ã‚³ãƒ¼ãƒ‰ã¯ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯éä¾å­˜ï¼š\n```typescript\n// lib/gemini.ts - ãƒ†ã‚¹ãƒˆã—ã‚„ã™ã„\nexport async function generateWithGemini(prompt: string) {\n  // ...\n}\n\n// ãƒ†ã‚¹ãƒˆ\nimport { generateWithGemini } from '@/lib/gemini';\ntest('should generate content', async () => {\n  const result = await generateWithGemini('test');\n  expect(result).toBeDefined();\n});\n```\n\napp/ ã«é…ç½®ã™ã‚‹ã¨ï¼š\n- Next.js ã®ç’°å¢ƒãŒå¿…è¦\n- ãƒ†ã‚¹ãƒˆãŒè¤‡é›‘\n\n### ç†ç”±3ï¼šãƒãƒ¼ã‚¿ãƒ“ãƒªãƒ†ã‚£\n\nlib/ ã®ã‚³ãƒ¼ãƒ‰ã¯ä»–ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã‚‚ä½¿ç”¨å¯èƒ½ï¼š\n- Next.js â†’ Vite ã«ç§»è¡Œã—ã¦ã‚‚ lib/ ã¯å†åˆ©ç”¨å¯èƒ½\n- API Routes â†’ Express ã«ç§»è¡Œã—ã¦ã‚‚ lib/ ã¯å†åˆ©ç”¨å¯èƒ½\n\n### ç†ç”±4ï¼šæ˜ç¢ºãªè²¬å‹™\n\n**app/**ï¼šã€Œã©ã†è¡¨ç¤ºã™ã‚‹ã‹ã€\n**lib/**ï¼šã€Œä½•ã‚’ã™ã‚‹ã‹ã€\n\né–‹ç™ºè€…ãŒè¿·ã‚ãªã„ã€‚\n\n## ã“ã®åˆ¤æ–­ã‹ã‚‰å­¦ã¹ã‚‹ã“ã¨\n\n### å­¦ã³1ï¼šãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã¨ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ã‚’åˆ†é›¢\n\nãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã¯å¤‰ã‚ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ï¼š\n- Next.js â†’ Remix\n- React â†’ Vue\n\nãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ã‚’åˆ†é›¢ã—ã¦ãŠã‘ã°ã€ç§»è¡ŒãŒå®¹æ˜“ã€‚\n\n### å­¦ã³2ï¼šãƒ†ã‚¹ãƒˆå®¹æ˜“æ€§ã‚’å„ªå…ˆ\n\nãƒ†ã‚¹ãƒˆã—ã‚„ã™ã„ã‚³ãƒ¼ãƒ‰ = è‰¯ã„è¨­è¨ˆ\n\n## ã„ã¤ã“ã®åˆ¤æ–­åŸºæº–ã‚’é©ç”¨ã™ã‚‹ã‹\n\n**app/ ã¨ lib/ ã‚’åˆ†é›¢ã™ã¹ãå ´åˆ**ï¼š\n- [ ] ãƒ†ã‚¹ãƒˆã‚’æ›¸ãäºˆå®šãŒã‚ã‚‹\n- [ ] ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ãŒè¤‡é›‘\n- [ ] å°†æ¥ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ç§»è¡Œã®å¯èƒ½æ€§\n\n**å…¨ã¦ app/ å†…ã§è‰¯ã„å ´åˆ**ï¼š\n- [ ] è¶…å°è¦æ¨¡ï¼ˆæ•°ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰\n- [ ] ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—\n- [ ] UIã¨ãƒ­ã‚¸ãƒƒã‚¯ãŒå¯†çµåˆ\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\nãªã—ï¼ˆã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã®åŸºæœ¬åˆ¤æ–­ï¼‰\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€Œãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ï¼ˆapp/ ã¨ lib/ ã®åˆ†é›¢ï¼‰ã®è¨­è¨ˆåˆ¤æ–­ã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": []
  },
  {
    "slug": "arch-grid-based-layout",
    "title": "ã‚°ãƒªãƒƒãƒ‰ãƒ™ãƒ¼ã‚¹ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ vs è‡ªç”±é…ç½®ã®åˆ¤æ–­",
    "category": "Decisionsï¼ˆæŠ€è¡“é¸å®šãƒ»åˆ¤æ–­ï¼‰",
    "description": "ã‚°ãƒªãƒƒãƒ‰ãƒ™ãƒ¼ã‚¹ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ vs è‡ªç”±é…ç½®ã®åˆ¤æ–­",
    "project": "ai-document-generator",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"decision_arch_grid_based_layout_2025_04_11\",\n  \"type\": \"decision\",\n  \"name\": \"ã‚°ãƒªãƒƒãƒ‰ãƒ™ãƒ¼ã‚¹ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ vs è‡ªç”±é…ç½®ã®åˆ¤æ–­\",\n  \"decision_type\": \"architecture_judgment\",\n  \"tags\": [\"ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ\", \"ã‚°ãƒªãƒƒãƒ‰ã‚·ã‚¹ãƒ†ãƒ \", \"è‡ªç”±é…ç½®\", \"ãƒ‡ã‚¶ã‚¤ãƒ³\", \"åˆ¶ç´„ã‚·ã‚¹ãƒ†ãƒ \"],\n  \"source_project\": \"ai-document-generator\",\n  \"chosen\": \"ã‚°ãƒªãƒƒãƒ‰ãƒ™ãƒ¼ã‚¹ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆï¼ˆ12Ã—12ã‚°ãƒªãƒƒãƒ‰ï¼‰\",\n  \"alternatives\": [\"å®Œå…¨ãªè‡ªç”±é…ç½®\", \"å›ºå®šãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ\", \"ãƒ•ãƒ¬ãƒƒã‚¯ã‚¹ãƒœãƒƒã‚¯ã‚¹ãƒ™ãƒ¼ã‚¹\"],\n  \"related_knowledge\": [\"skill_grid_based_layout_system_2025_04_11\", \"skill_react_grid_layout_implementation_2025_04_11\", \"skill_section_adjustability_constraints_2025_04_11\"],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-04-11\",\n  \"updated\": \"2025-04-11\"\n}\n```\n\n# ã‚°ãƒªãƒƒãƒ‰ãƒ™ãƒ¼ã‚¹ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ vs è‡ªç”±é…ç½®ã®åˆ¤æ–­\n\n## ä½•ã‚’åˆ¤æ–­ã—ãŸã‹\n\nãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚¨ãƒ‡ã‚£ã‚¿ã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚·ã‚¹ãƒ†ãƒ ã«ãŠã„ã¦ã€ã‚°ãƒªãƒƒãƒ‰ãƒ™ãƒ¼ã‚¹ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã€å®Œå…¨ãªè‡ªç”±é…ç½®ã€å›ºå®šãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã®ã„ãšã‚Œã‚’æ¡ç”¨ã™ã‚‹ã‹ã‚’åˆ¤æ–­ã—ãŸã€‚\n\n## é¸ã‚“ã ã‚‚ã®\n\n**ã‚°ãƒªãƒƒãƒ‰ãƒ™ãƒ¼ã‚¹ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆï¼ˆ12Ã—12ã‚°ãƒªãƒƒãƒ‰ï¼‰**\n\n**ã‚°ãƒªãƒƒãƒ‰å®šç¾©**:\n```json\n{\n  \"grid\": {\n    \"rows\": 12,\n    \"columns\": 12,\n    \"rowHeight\": 50,\n    \"columnWidth\": 50,\n    \"gap\": 8\n  }\n}\n```\n\n**ã‚»ã‚¯ã‚·ãƒ§ãƒ³é…ç½®**:\n```json\n{\n  \"id\": \"header\",\n  \"position\": {\n    \"row\": 0,\n    \"column\": 0,\n    \"rowSpan\": 2,\n    \"columnSpan\": 12\n  }\n}\n```\n\n**12Ã—12ã‚°ãƒªãƒƒãƒ‰ã‚’é¸ã‚“ã ç†ç”±**:\n1. **æŸ”è»Ÿæ€§**: 12ã¯ã€2ã€3ã€4ã€6ã§å‰²ã‚Šåˆ‡ã‚Œã‚‹ãŸã‚ã€æ§˜ã€…ãªãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã«å¯¾å¿œ\n2. **æ¥­ç•Œæ¨™æº–**: Bootstrapã€Tailwind CSSãªã©ã‚‚12åˆ—ã‚°ãƒªãƒƒãƒ‰ã‚’æ¡ç”¨\n3. **è¦–è¦šçš„ãªæ•´åˆ—**: ã‚°ãƒªãƒƒãƒ‰ã«ã‚¹ãƒŠãƒƒãƒ—ã™ã‚‹ã“ã¨ã§ã€ç¾ã—ã„ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’ç¶­æŒ\n\n## ä»–ã®å€™è£œ\n\n### å€™è£œ1ï¼šå®Œå…¨ãªè‡ªç”±é…ç½®\n\nã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’ä»»æ„ã®ä½ç½®ï¼ˆxã€yåº§æ¨™ï¼‰ã«é…ç½®ã™ã‚‹ã€‚\n\n```typescript\ninterface FreePosition {\n  x: number;  // ãƒ”ã‚¯ã‚»ãƒ«å˜ä½\n  y: number;  // ãƒ”ã‚¯ã‚»ãƒ«å˜ä½\n  width: number;\n  height: number;\n}\n```\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n\n**ç†ç”±1ï¼šæ•´åˆ—ã®å›°é›£ã•**\n- å®Œå…¨ãªè‡ªç”±é…ç½®ã§ã¯ã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³ãŒå¾®å¦™ã«ãšã‚Œã‚‹\n- ã‚°ãƒªãƒƒãƒ‰ã‚¹ãƒŠãƒƒãƒ—ãŒãªã„ãŸã‚ã€ç¾ã—ã„ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’ç¶­æŒã™ã‚‹ã®ãŒå›°é›£\n- ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒæ‰‹å‹•ã§æ•´åˆ—ã™ã‚‹å¿…è¦ãŒã‚ã‚‹\n\n**ä¾‹ï¼šè‡ªç”±é…ç½®ã§ã®å•é¡Œ**:\n```\nã‚»ã‚¯ã‚·ãƒ§ãƒ³1: x=100, y=50\nã‚»ã‚¯ã‚·ãƒ§ãƒ³2: x=102, y=50  // 2pxãšã‚Œã¦ã„ã‚‹\n\nâ†’ è¦–è¦šçš„ã«ä¸æƒã„ã«è¦‹ãˆã‚‹\n```\n\n**ç†ç”±2ï¼šãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œã®å›°é›£ã•**\n- è‡ªç”±é…ç½®ã§ã¯ã€ç•°ãªã‚‹ç”»é¢ã‚µã‚¤ã‚ºã«å¯¾å¿œã—ã¥ã‚‰ã„\n- ã‚°ãƒªãƒƒãƒ‰ãƒ™ãƒ¼ã‚¹ãªã‚‰ã€ç”»é¢ã‚µã‚¤ã‚ºã«å¿œã˜ã¦ã‚°ãƒªãƒƒãƒ‰ã‚µã‚¤ã‚ºã‚’èª¿æ•´ã™ã‚‹ã ã‘\n\n**ä¾‹**:\n```typescript\n// ã‚°ãƒªãƒƒãƒ‰ãƒ™ãƒ¼ã‚¹: ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œãŒå®¹æ˜“\nconst gridSize = isMobile ? 6 : 12;\n\n// è‡ªç”±é…ç½®: ã™ã¹ã¦ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®åº§æ¨™ã‚’å†è¨ˆç®—ã™ã‚‹å¿…è¦ãŒã‚ã‚‹\nsections.forEach(section => {\n  section.x = section.x * scaleFactor;\n  section.y = section.y * scaleFactor;\n});\n```\n\n**ç†ç”±3ï¼šãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå®šç¾©ã®è¤‡é›‘ã•**\n- è‡ªç”±é…ç½®ã§ã¯ã€ã™ã¹ã¦ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®æ­£ç¢ºãªåº§æ¨™ã‚’å®šç¾©ã™ã‚‹å¿…è¦ãŒã‚ã‚‹\n- ã‚°ãƒªãƒƒãƒ‰ãƒ™ãƒ¼ã‚¹ãªã‚‰ã€è¡Œãƒ»åˆ—ã®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã§å®šç¾©ã§ãã‚‹\n\n**ä¾‹**:\n```json\n// è‡ªç”±é…ç½®\n{\n  \"sections\": [\n    { \"id\": \"header\", \"x\": 0, \"y\": 0, \"width\": 600, \"height\": 100 },\n    { \"id\": \"content\", \"x\": 0, \"y\": 108, \"width\": 600, \"height\": 400 },\n    { \"id\": \"footer\", \"x\": 0, \"y\": 516, \"width\": 600, \"height\": 84 }\n  ]\n}\n\n// ã‚°ãƒªãƒƒãƒ‰ãƒ™ãƒ¼ã‚¹\n{\n  \"sections\": [\n    { \"id\": \"header\", \"row\": 0, \"column\": 0, \"rowSpan\": 2, \"columnSpan\": 12 },\n    { \"id\": \"content\", \"row\": 2, \"column\": 0, \"rowSpan\": 8, \"columnSpan\": 12 },\n    { \"id\": \"footer\", \"row\": 10, \"column\": 0, \"rowSpan\": 2, \"columnSpan\": 12 }\n  ]\n}\n```\n\nã‚°ãƒªãƒƒãƒ‰ãƒ™ãƒ¼ã‚¹ã®æ–¹ãŒã€èª­ã¿ã‚„ã™ãã€å®šç¾©ã—ã‚„ã™ã„ã€‚\n\n**ç†ç”±4ï¼šé‡ãªã‚Šã®æ¤œå‡º**\n- è‡ªç”±é…ç½®ã§ã¯ã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³ãŒé‡ãªã£ã¦ã„ã‚‹ã‹ã®æ¤œå‡ºãŒè¤‡é›‘\n- ã‚°ãƒªãƒƒãƒ‰ãƒ™ãƒ¼ã‚¹ãªã‚‰ã€è¡Œãƒ»åˆ—ã®ç¯„å›²ã‚’ãƒã‚§ãƒƒã‚¯ã™ã‚‹ã ã‘\n\n**ä¾‹ï¼šé‡ãªã‚Šæ¤œå‡º**:\n```typescript\n// è‡ªç”±é…ç½®: è¤‡é›‘ãªçŸ©å½¢ã®é‡ãªã‚Šåˆ¤å®š\nfunction isOverlapping(rect1, rect2) {\n  return !(\n    rect1.x + rect1.width < rect2.x ||\n    rect2.x + rect2.width < rect1.x ||\n    rect1.y + rect1.height < rect2.y ||\n    rect2.y + rect2.height < rect1.y\n  );\n}\n\n// ã‚°ãƒªãƒƒãƒ‰ãƒ™ãƒ¼ã‚¹: ç°¡å˜ãªç¯„å›²ãƒã‚§ãƒƒã‚¯\nfunction isOverlapping(section1, section2) {\n  return !(\n    section1.row + section1.rowSpan <= section2.row ||\n    section2.row + section2.rowSpan <= section1.row ||\n    section1.column + section1.columnSpan <= section2.column ||\n    section2.column + section2.columnSpan <= section1.column\n  );\n}\n```\n\n**ç†ç”±5ï¼šAIç”Ÿæˆã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã¨ã®ç›¸æ€§**\n- AIãŒãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’ç”Ÿæˆã™ã‚‹éš›ã€ã‚°ãƒªãƒƒãƒ‰ãƒ™ãƒ¼ã‚¹ã®æ–¹ãŒç”Ÿæˆã—ã‚„ã™ã„\n- è‡ªç”±é…ç½®ã§ã¯ã€æ­£ç¢ºãªåº§æ¨™ã‚’è¨ˆç®—ã™ã‚‹å¿…è¦ãŒã‚ã‚‹\n\n**ä¾‹ï¼šAIç”Ÿæˆãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ**:\n```\nãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ: ã€Œãƒ˜ãƒƒãƒ€ãƒ¼ã€2åˆ—ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã€ãƒ•ãƒƒã‚¿ãƒ¼ã€\n\n// ã‚°ãƒªãƒƒãƒ‰ãƒ™ãƒ¼ã‚¹: AIãŒç”Ÿæˆã—ã‚„ã™ã„\n{\n  \"header\": { \"row\": 0, \"column\": 0, \"rowSpan\": 2, \"columnSpan\": 12 },\n  \"content-left\": { \"row\": 2, \"column\": 0, \"rowSpan\": 8, \"columnSpan\": 6 },\n  \"content-right\": { \"row\": 2, \"column\": 6, \"rowSpan\": 8, \"columnSpan\": 6 },\n  \"footer\": { \"row\": 10, \"column\": 0, \"rowSpan\": 2, \"columnSpan\": 12 }\n}\n\n// è‡ªç”±é…ç½®: æ­£ç¢ºãªåº§æ¨™è¨ˆç®—ãŒå¿…è¦\n{\n  \"header\": { \"x\": 0, \"y\": 0, \"width\": 600, \"height\": 100 },\n  \"content-left\": { \"x\": 0, \"y\": 108, \"width\": 296, \"height\": 400 },\n  \"content-right\": { \"x\": 304, \"y\": 108, \"width\": 296, \"height\": 400 },\n  \"footer\": { \"x\": 0, \"y\": 516, \"width\": 600, \"height\": 84 }\n}\n```\n\n**ãƒ¡ãƒªãƒƒãƒˆï¼ˆé¸ã°ãªã‹ã£ãŸãŒã€èªã‚ã‚‹ã¹ãç‚¹ï¼‰**:\n- **å®Œå…¨ãªè‡ªç”±**: ãƒ”ã‚¯ã‚»ãƒ«å˜ä½ã§é…ç½®å¯èƒ½\n- **ãƒ‡ã‚¶ã‚¤ãƒŠãƒ¼ã®è‡ªç”±åº¦**: ã‚°ãƒªãƒƒãƒ‰ã®åˆ¶ç´„ãŒãªã„\n- **ã‚«ã‚¹ã‚¿ãƒ ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ**: è¤‡é›‘ãªãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã«å¯¾å¿œ\n\n**å®Œå…¨ãªè‡ªç”±é…ç½®ãŒé©ã—ãŸã‚±ãƒ¼ã‚¹**:\n- ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ„ãƒ¼ãƒ«ï¼ˆFigmaã€Sketchï¼‰\n- ã‚¤ãƒ©ã‚¹ãƒˆã‚½ãƒ•ãƒˆï¼ˆIllustratorï¼‰\n- ãƒ—ãƒ­ã®ãƒ‡ã‚¶ã‚¤ãƒŠãƒ¼å‘ã‘\n\nai-document-generatorã¯ã€éãƒ‡ã‚¶ã‚¤ãƒŠãƒ¼ã‚‚ä½¿ç”¨ã™ã‚‹ãŸã‚ã€ã‚°ãƒªãƒƒãƒ‰ãƒ™ãƒ¼ã‚¹ãŒé©åˆ‡ã€‚\n\n### å€™è£œ2ï¼šå›ºå®šãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ\n\nãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’å®Œå…¨ã«å›ºå®šã—ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’ç§»å‹•ãƒ»ãƒªã‚µã‚¤ã‚ºã§ããªã„ã€‚\n\n```json\n{\n  \"layouts\": [\n    {\n      \"id\": \"standard\",\n      \"sections\": [\n        { \"id\": \"header\", \"row\": 0, \"column\": 0, \"rowSpan\": 2, \"columnSpan\": 12, \"fixed\": true },\n        { \"id\": \"content\", \"row\": 2, \"column\": 0, \"rowSpan\": 8, \"columnSpan\": 12, \"fixed\": true }\n      ]\n    }\n  ]\n}\n```\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n\n**ç†ç”±1ï¼šæŸ”è»Ÿæ€§ã®æ¬ å¦‚**\n- å›ºå®šãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã§ã¯ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã§ããªã„\n- ai-document-generatorã¯ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’èª¿æ•´ã§ãã‚‹ã“ã¨ã‚’é‡è¦–\n\n**ç†ç”±2ï¼šãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã®å¤šæ§˜æ€§**\n- ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ç¨®é¡ï¼ˆãƒãƒ©ã‚·ã€ãƒ—ãƒ¬ã‚¼ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã€äº‹æ¥­è¨ˆç”»æ›¸ï¼‰ã«ã‚ˆã£ã¦ã€ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆãŒç•°ãªã‚‹\n- å›ºå®šãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã§ã¯ã€ã™ã¹ã¦ã®ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã«å¯¾å¿œã§ããªã„\n\n**ç†ç”±3ï¼šAIç”Ÿæˆã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®èª¿æ•´**\n- AIãŒç”Ÿæˆã—ãŸã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®é•·ã•ã€ã‚µã‚¤ã‚ºã«å¿œã˜ã¦ã€ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’èª¿æ•´ã—ãŸã„\n- å›ºå®šãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã§ã¯ã€èª¿æ•´ã§ããªã„\n\n**ãƒ¡ãƒªãƒƒãƒˆï¼ˆé¸ã°ãªã‹ã£ãŸãŒã€èªã‚ã‚‹ã¹ãç‚¹ï¼‰**:\n- **ã‚·ãƒ³ãƒ—ãƒ«**: å®Ÿè£…ãŒç°¡å˜\n- **ä¸€è²«æ€§**: ã™ã¹ã¦ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã§åŒã˜ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ\n- **åˆå¿ƒè€…å‘ã‘**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒè¿·ã‚ãªã„\n\n**å›ºå®šãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆãŒé©ã—ãŸã‚±ãƒ¼ã‚¹**:\n- ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãŒå®Œå…¨ã«æ±ºã¾ã£ã¦ã„ã‚‹å ´åˆ\n- ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’å¤‰æ›´ã™ã‚‹å¿…è¦ãŒãªã„å ´åˆ\n- åˆå¿ƒè€…å‘ã‘ã®ã‚·ãƒ³ãƒ—ãƒ«ãªãƒ„ãƒ¼ãƒ«\n\nai-document-generatorã¯ã€æŸ”è»Ÿæ€§ã‚’é‡è¦–ã™ã‚‹ãŸã‚ã€å›ºå®šãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã¯ä¸é©åˆ‡ã€‚\n\n### å€™è£œ3ï¼šãƒ•ãƒ¬ãƒƒã‚¯ã‚¹ãƒœãƒƒã‚¯ã‚¹ãƒ™ãƒ¼ã‚¹\n\nCSS Flexboxã®ã‚ˆã†ãªãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚·ã‚¹ãƒ†ãƒ ã€‚\n\n```json\n{\n  \"layout\": {\n    \"type\": \"flex\",\n    \"direction\": \"column\",\n    \"children\": [\n      { \"id\": \"header\", \"flex\": \"0 0 100px\" },\n      { \"id\": \"content\", \"flex\": \"1 1 auto\" },\n      { \"id\": \"footer\", \"flex\": \"0 0 80px\" }\n    ]\n  }\n}\n```\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n\n**ç†ç”±1ï¼š1æ¬¡å…ƒãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ**\n- Flexboxã¯ã€1æ¬¡å…ƒãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆï¼ˆè¡Œã¾ãŸã¯åˆ—ï¼‰\n- ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯ã€2æ¬¡å…ƒãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆï¼ˆè¡Œã¨åˆ—ï¼‰ãŒå¿…è¦\n- CSS Gridã®æ–¹ãŒé©ã—ã¦ã„ã‚‹\n\n**ç†ç”±2ï¼šè¤‡é›‘ãªãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã¸ã®å¯¾å¿œ**\n- Flexboxã¯ã€è¤‡é›‘ãª2æ¬¡å…ƒãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã«å¯¾å¿œã—ã¥ã‚‰ã„\n- ä¾‹ï¼š2åˆ—ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ã€ç•°ãªã‚‹é«˜ã•ã§é…ç½®ã™ã‚‹å ´åˆ\n\n**ç†ç”±3ï¼šè¦–è¦šçš„ãªæ•´åˆ—**\n- Flexboxã¯ã€è‡ªå‹•çš„ã«é…ç½®ã•ã‚Œã‚‹ãŸã‚ã€è¦–è¦šçš„ãªæ•´åˆ—ãŒé›£ã—ã„\n- ã‚°ãƒªãƒƒãƒ‰ãƒ™ãƒ¼ã‚¹ãªã‚‰ã€æ˜ç¢ºãªè¡Œãƒ»åˆ—ã§æ•´åˆ—\n\n**ãƒ¡ãƒªãƒƒãƒˆï¼ˆé¸ã°ãªã‹ã£ãŸãŒã€èªã‚ã‚‹ã¹ãç‚¹ï¼‰**:\n- **ã‚·ãƒ³ãƒ—ãƒ«ãªãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ**: 1æ¬¡å…ƒãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã«ã¯æœ€é©\n- **è‡ªå‹•ã‚µã‚¤ã‚ºèª¿æ•´**: flex-growã§è‡ªå‹•çš„ã«ã‚µã‚¤ã‚ºèª¿æ•´\n- **ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–**: flex-wrapã§æŠ˜ã‚Šè¿”ã—å¯¾å¿œ\n\n**ãƒ•ãƒ¬ãƒƒã‚¯ã‚¹ãƒœãƒƒã‚¯ã‚¹ãŒé©ã—ãŸã‚±ãƒ¼ã‚¹**:\n- ãƒ˜ãƒƒãƒ€ãƒ¼ã€ãƒ•ãƒƒã‚¿ãƒ¼ãªã©ã®1æ¬¡å…ƒãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ\n- ãƒ„ãƒ¼ãƒ«ãƒãƒ¼ã€ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³\n- å˜ç´”ãªãƒªã‚¹ãƒˆ\n\nai-document-generatorã¯ã€2æ¬¡å…ƒãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆãŒå¿…è¦ãªãŸã‚ã€ã‚°ãƒªãƒƒãƒ‰ãƒ™ãƒ¼ã‚¹ãŒé©åˆ‡ã€‚\n\n## åˆ¤æ–­ç†ç”±\n\n### ç†ç”±1ï¼š12Ã—12ã‚°ãƒªãƒƒãƒ‰ã®æŸ”è»Ÿæ€§\n\n12ã¯ã€2ã€3ã€4ã€6ã§å‰²ã‚Šåˆ‡ã‚Œã‚‹ãŸã‚ã€æ§˜ã€…ãªãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã«å¯¾å¿œå¯èƒ½ã€‚\n\n**ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆãƒ‘ã‚¿ãƒ¼ãƒ³**:\n- **1åˆ—**: 12åˆ—ï¼ˆå…¨å¹…ï¼‰\n- **2åˆ—**: 6åˆ— + 6åˆ—\n- **3åˆ—**: 4åˆ— + 4åˆ— + 4åˆ—\n- **4åˆ—**: 3åˆ— Ã— 4\n- **2:1æ¯”**: 8åˆ— + 4åˆ—\n- **1:2æ¯”**: 4åˆ— + 8åˆ—\n\n**ä¾‹ï¼š2:1æ¯”ã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ**:\n```json\n{\n  \"sections\": [\n    { \"id\": \"main-content\", \"column\": 0, \"columnSpan\": 8 },\n    { \"id\": \"sidebar\", \"column\": 8, \"columnSpan\": 4 }\n  ]\n}\n```\n\n### ç†ç”±2ï¼šæ•´åˆ—ã®è‡ªå‹•åŒ–\n\nã‚°ãƒªãƒƒãƒ‰ã«ã‚¹ãƒŠãƒƒãƒ—ã™ã‚‹ã“ã¨ã§ã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³ãŒè‡ªå‹•çš„ã«æ•´åˆ—ã€‚\n\n**ã‚°ãƒªãƒƒãƒ‰ã‚¹ãƒŠãƒƒãƒ—**:\n```typescript\nfunction snapToGrid(value: number, gridSize: number): number {\n  return Math.round(value / gridSize) * gridSize;\n}\n\n// ãƒ‰ãƒ©ãƒƒã‚°ä¸­ã®ä½ç½®ã‚’ã‚°ãƒªãƒƒãƒ‰ã«ã‚¹ãƒŠãƒƒãƒ—\nconst snappedX = snapToGrid(draggingX, columnWidth + gap);\nconst snappedY = snapToGrid(draggingY, rowHeight + gap);\n```\n\nãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒæ‰‹å‹•ã§æ•´åˆ—ã™ã‚‹å¿…è¦ãŒãªã„ã€‚\n\n### ç†ç”±3ï¼šåˆ¶ç´„ã‚·ã‚¹ãƒ†ãƒ ã¨ã®çµ±åˆ\n\nã‚°ãƒªãƒƒãƒ‰ãƒ™ãƒ¼ã‚¹ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã¯ã€èª¿æ•´åˆ¶ç´„ï¼ˆmovableã€resizableã€swappableï¼‰ã¨çµ±åˆã—ã‚„ã™ã„ã€‚\n\n**èª¿æ•´åˆ¶ç´„**:\n```json\n{\n  \"sections\": [\n    {\n      \"id\": \"header\",\n      \"position\": { \"row\": 0, \"column\": 0, \"rowSpan\": 2, \"columnSpan\": 12 },\n      \"adjustability\": {\n        \"movable\": false,  // ãƒ˜ãƒƒãƒ€ãƒ¼ã¯ç§»å‹•ä¸å¯\n        \"resizable\": false,\n        \"swappable\": false\n      }\n    },\n    {\n      \"id\": \"content\",\n      \"position\": { \"row\": 2, \"column\": 0, \"rowSpan\": 8, \"columnSpan\": 12 },\n      \"adjustability\": {\n        \"movable\": true,  // ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã¯ç§»å‹•å¯èƒ½\n        \"resizable\": true,\n        \"swappable\": true,\n        \"resizeBoundaries\": {\n          \"minRowSpan\": 4,\n          \"maxRowSpan\": 10,\n          \"minColumnSpan\": 6,\n          \"maxColumnSpan\": 12\n        }\n      }\n    }\n  ]\n}\n```\n\nã‚°ãƒªãƒƒãƒ‰ãƒ™ãƒ¼ã‚¹ãªã‚‰ã€æœ€å°ãƒ»æœ€å¤§ã‚µã‚¤ã‚ºã‚’è¡Œãƒ»åˆ—å˜ä½ã§å®šç¾©ã§ãã‚‹ã€‚\n\n### ç†ç”±4ï¼šReact Grid Layoutã¨ã®çµ±åˆ\n\nReact Grid Layoutãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒã‚°ãƒªãƒƒãƒ‰ãƒ™ãƒ¼ã‚¹ã‚’æ¡ç”¨ã—ã¦ã„ã‚‹ãŸã‚ã€çµ±åˆãŒå®¹æ˜“ã€‚\n\n**React Grid Layoutã®è¨­å®š**:\n```tsx\n<GridLayout\n  layout={sections.map(section => ({\n    i: section.id,\n    x: section.position.column,\n    y: section.position.row,\n    w: section.position.columnSpan,\n    h: section.position.rowSpan,\n  }))}\n  cols={12}\n  rowHeight={50}\n  width={600}\n>\n  {sections.map(section => (\n    <div key={section.id}>\n      {/* ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ */}\n    </div>\n  ))}\n</GridLayout>\n```\n\nReact Grid Layoutã¯ã€12åˆ—ã‚°ãƒªãƒƒãƒ‰ã‚’ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¨ã—ã¦ã„ã‚‹ã€‚\n\n### ç†ç”±5ï¼šãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œ\n\nã‚°ãƒªãƒƒãƒ‰ãƒ™ãƒ¼ã‚¹ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã¯ã€ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œãŒå®¹æ˜“ã€‚\n\n**ãƒ–ãƒ¬ãƒ¼ã‚¯ãƒã‚¤ãƒ³ãƒˆ**:\n```typescript\nconst gridConfig = {\n  desktop: { columns: 12, rowHeight: 50 },\n  tablet: { columns: 8, rowHeight: 40 },\n  mobile: { columns: 4, rowHeight: 30 }\n};\n\n// ç”»é¢ã‚µã‚¤ã‚ºã«å¿œã˜ã¦ã‚°ãƒªãƒƒãƒ‰ã‚’èª¿æ•´\nconst { columns, rowHeight } = gridConfig[deviceType];\n```\n\nã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®å®šç¾©ã¯å¤‰ã‚ã‚‰ãšã€ã‚°ãƒªãƒƒãƒ‰ã‚µã‚¤ã‚ºã®ã¿ã‚’èª¿æ•´ã€‚\n\n### ç†ç”±6ï¼šãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå®šç¾©ã®ç°¡æ½”ã•\n\nã‚°ãƒªãƒƒãƒ‰ãƒ™ãƒ¼ã‚¹ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã¯ã€ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå®šç¾©ãŒç°¡æ½”ã€‚\n\n**ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå®šç¾©**:\n```json\n{\n  \"id\": \"business-plan-cover\",\n  \"grid\": { \"rows\": 12, \"columns\": 12, \"rowHeight\": 50, \"columnWidth\": 50, \"gap\": 8 },\n  \"sections\": [\n    { \"id\": \"logo\", \"row\": 1, \"column\": 1, \"rowSpan\": 2, \"columnSpan\": 2 },\n    { \"id\": \"title\", \"row\": 5, \"column\": 2, \"rowSpan\": 2, \"columnSpan\": 8 },\n    { \"id\": \"subtitle\", \"row\": 7, \"column\": 2, \"rowSpan\": 1, \"columnSpan\": 8 },\n    { \"id\": \"date\", \"row\": 10, \"column\": 2, \"rowSpan\": 1, \"columnSpan\": 8 }\n  ]\n}\n```\n\nãƒ‡ã‚¶ã‚¤ãƒŠãƒ¼ã€éæŠ€è¡“è€…ã§ã‚‚ç†è§£ã—ã‚„ã™ã„ã€‚\n\n### ç†ç”±7ï¼šæ¥­ç•Œæ¨™æº–\n\nBootstrapã€Tailwind CSSã€Material Designãªã©ã€æ¥­ç•Œæ¨™æº–ã®ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ãŒ12åˆ—ã‚°ãƒªãƒƒãƒ‰ã‚’æ¡ç”¨ã€‚\n\n**Bootstrap Grid**:\n```html\n<div class=\"container\">\n  <div class=\"row\">\n    <div class=\"col-8\">ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„</div>\n    <div class=\"col-4\">ã‚µã‚¤ãƒ‰ãƒãƒ¼</div>\n  </div>\n</div>\n```\n\n**Tailwind CSS Grid**:\n```html\n<div class=\"grid grid-cols-12 gap-4\">\n  <div class=\"col-span-8\">ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„</div>\n  <div class=\"col-span-4\">ã‚µã‚¤ãƒ‰ãƒãƒ¼</div>\n</div>\n```\n\n12åˆ—ã‚°ãƒªãƒƒãƒ‰ã¯ã€Webãƒ‡ã‚¶ã‚¤ãƒ³ã®æ¨™æº–ã€‚\n\n## ã“ã®åˆ¤æ–­ã‹ã‚‰å­¦ã¹ã‚‹ã“ã¨\n\n### å­¦ã³1ï¼šã‚°ãƒªãƒƒãƒ‰ã‚·ã‚¹ãƒ†ãƒ ã®é¸æŠ\n\nã‚°ãƒªãƒƒãƒ‰ã‚·ã‚¹ãƒ†ãƒ ã‚’é¸æŠã™ã‚‹éš›ã®åˆ¤æ–­åŸºæº–ï¼š\n\n1. **æŸ”è»Ÿæ€§**: ä½•åˆ—ã«åˆ†å‰²ã™ã‚‹ã‹ï¼ˆ12åˆ—ãŒæœ€ã‚‚æŸ”è»Ÿï¼‰\n2. **ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹**: 1æ¬¡å…ƒï¼ˆFlexboxï¼‰vs 2æ¬¡å…ƒï¼ˆGridï¼‰\n3. **æ•´åˆ—**: ã‚°ãƒªãƒƒãƒ‰ã‚¹ãƒŠãƒƒãƒ—ã®å¿…è¦æ€§\n4. **ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–**: ç”»é¢ã‚µã‚¤ã‚ºã¸ã®å¯¾å¿œ\n\n**åˆ—æ•°ã®é¸æŠ**:\n- **12åˆ—**: æœ€ã‚‚æŸ”è»Ÿï¼ˆ2ã€3ã€4ã€6ã§å‰²ã‚Šåˆ‡ã‚Œã‚‹ï¼‰\n- **16åˆ—**: æŸ”è»Ÿã ãŒã€è¤‡é›‘\n- **8åˆ—**: ã‚·ãƒ³ãƒ—ãƒ«ã ãŒã€æŸ”è»Ÿæ€§ãŒä½ã„\n- **24åˆ—**: éå¸¸ã«æŸ”è»Ÿã ãŒã€éå‰°\n\n### å­¦ã³2ï¼šã‚°ãƒªãƒƒãƒ‰ãƒ™ãƒ¼ã‚¹ vs è‡ªç”±é…ç½®\n\n**ã‚°ãƒªãƒƒãƒ‰ãƒ™ãƒ¼ã‚¹**:\n- **ãƒ¡ãƒªãƒƒãƒˆ**: æ•´åˆ—ã®è‡ªå‹•åŒ–ã€ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œã€ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå®šç¾©ãŒç°¡æ½”\n- **ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ**: å®Œå…¨ãªè‡ªç”±åº¦ã¯ãªã„\n\n**è‡ªç”±é…ç½®**:\n- **ãƒ¡ãƒªãƒƒãƒˆ**: å®Œå…¨ãªè‡ªç”±åº¦ã€ãƒ‡ã‚¶ã‚¤ãƒŠãƒ¼ã®è‡ªç”±\n- **ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ**: æ•´åˆ—ãŒå›°é›£ã€ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œãŒè¤‡é›‘\n\n**åˆ¤æ–­åŸºæº–**:\n- **éãƒ‡ã‚¶ã‚¤ãƒŠãƒ¼å‘ã‘ãƒ„ãƒ¼ãƒ«**: ã‚°ãƒªãƒƒãƒ‰ãƒ™ãƒ¼ã‚¹\n- **ãƒ—ãƒ­ã®ãƒ‡ã‚¶ã‚¤ãƒŠãƒ¼å‘ã‘ãƒ„ãƒ¼ãƒ«**: è‡ªç”±é…ç½®\n\n### å­¦ã³3ï¼šåˆ¶ç´„ã‚·ã‚¹ãƒ†ãƒ ã®é‡è¦æ€§\n\nã‚°ãƒªãƒƒãƒ‰ãƒ™ãƒ¼ã‚¹ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã«ã€èª¿æ•´åˆ¶ç´„ï¼ˆmovableã€resizableï¼‰ã‚’çµ„ã¿åˆã‚ã›ã‚‹ã“ã¨ã§ã€æŸ”è»Ÿæ€§ã¨ä¸€è²«æ€§ã‚’ä¸¡ç«‹ã€‚\n\n**åˆ¶ç´„ã®ç¨®é¡**:\n1. **movable**: ç§»å‹•å¯èƒ½ã‹\n2. **resizable**: ãƒªã‚µã‚¤ã‚ºå¯èƒ½ã‹\n3. **swappable**: ä»–ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã¨å…¥ã‚Œæ›¿ãˆå¯èƒ½ã‹\n4. **resizeBoundaries**: æœ€å°ãƒ»æœ€å¤§ã‚µã‚¤ã‚º\n\n**ä¾‹**:\n```json\n{\n  \"adjustability\": {\n    \"movable\": true,\n    \"resizable\": true,\n    \"resizeBoundaries\": {\n      \"minRowSpan\": 2,\n      \"maxRowSpan\": 8,\n      \"minColumnSpan\": 4,\n      \"maxColumnSpan\": 12\n    }\n  }\n}\n```\n\n### å­¦ã³4ï¼šãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ã‚°ãƒªãƒƒãƒ‰\n\nã‚°ãƒªãƒƒãƒ‰ãƒ™ãƒ¼ã‚¹ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã¯ã€ãƒ–ãƒ¬ãƒ¼ã‚¯ãƒã‚¤ãƒ³ãƒˆã§ã‚°ãƒªãƒƒãƒ‰ã‚µã‚¤ã‚ºã‚’å¤‰æ›´ã™ã‚‹ã“ã¨ã§ã€ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œå¯èƒ½ã€‚\n\n**ãƒ–ãƒ¬ãƒ¼ã‚¯ãƒã‚¤ãƒ³ãƒˆ**:\n```typescript\nconst breakpoints = {\n  desktop: { minWidth: 1024, columns: 12 },\n  tablet: { minWidth: 768, columns: 8 },\n  mobile: { minWidth: 0, columns: 4 }\n};\n```\n\n**ä¾‹ï¼š2åˆ—ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ**:\n```json\n// ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—: 6åˆ— + 6åˆ—ï¼ˆ12åˆ—ä¸­ï¼‰\n{ \"column\": 0, \"columnSpan\": 6 },\n{ \"column\": 6, \"columnSpan\": 6 }\n\n// ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆ: 4åˆ— + 4åˆ—ï¼ˆ8åˆ—ä¸­ï¼‰\n{ \"column\": 0, \"columnSpan\": 4 },\n{ \"column\": 4, \"columnSpan\": 4 }\n\n// ãƒ¢ãƒã‚¤ãƒ«: 4åˆ—ï¼ˆå…¨å¹…ï¼‰ã€1åˆ—ã«å¤‰æ›´\n{ \"column\": 0, \"columnSpan\": 4, \"row\": 0 },\n{ \"column\": 0, \"columnSpan\": 4, \"row\": 4 }\n```\n\n### å­¦ã³5ï¼šã‚°ãƒªãƒƒãƒ‰ã‚®ãƒ£ãƒƒãƒ—ï¼ˆgapï¼‰\n\nã‚°ãƒªãƒƒãƒ‰ã‚®ãƒ£ãƒƒãƒ—ï¼ˆã‚»ã‚¯ã‚·ãƒ§ãƒ³é–“ã®ã‚¹ãƒšãƒ¼ã‚¹ï¼‰ã¯ã€ãƒ‡ã‚¶ã‚¤ãƒ³ã®ä¸€è²«æ€§ã«é‡è¦ã€‚\n\n**ã‚°ãƒªãƒƒãƒ‰ã‚®ãƒ£ãƒƒãƒ—**:\n```json\n{\n  \"grid\": {\n    \"rows\": 12,\n    \"columns\": 12,\n    \"rowHeight\": 50,\n    \"columnWidth\": 50,\n    \"gap\": 8  // 8pxã®ã‚¹ãƒšãƒ¼ã‚¹\n  }\n}\n```\n\n**CSSã§ã®å®Ÿè£…**:\n```css\n.grid-container {\n  display: grid;\n  grid-template-columns: repeat(12, 50px);\n  grid-template-rows: repeat(12, 50px);\n  gap: 8px;\n}\n```\n\n### å­¦ã³6ï¼šAIç”Ÿæˆãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ\n\nAIãŒãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’ç”Ÿæˆã™ã‚‹éš›ã€ã‚°ãƒªãƒƒãƒ‰ãƒ™ãƒ¼ã‚¹ã®æ–¹ãŒç”Ÿæˆã—ã‚„ã™ã„ã€‚\n\n**AIç”Ÿæˆãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ**:\n```\nãƒ¦ãƒ¼ã‚¶ãƒ¼: ã€Œãƒ˜ãƒƒãƒ€ãƒ¼ã€2åˆ—ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã€ãƒ•ãƒƒã‚¿ãƒ¼ã€ã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’ç”Ÿæˆ\n\nAI:\n{\n  \"sections\": [\n    { \"id\": \"header\", \"row\": 0, \"column\": 0, \"rowSpan\": 2, \"columnSpan\": 12 },\n    { \"id\": \"content-left\", \"row\": 2, \"column\": 0, \"rowSpan\": 8, \"columnSpan\": 6 },\n    { \"id\": \"content-right\", \"row\": 2, \"column\": 6, \"rowSpan\": 8, \"columnSpan\": 6 },\n    { \"id\": \"footer\", \"row\": 10, \"column\": 0, \"rowSpan\": 2, \"columnSpan\": 12 }\n  ]\n}\n```\n\nã‚°ãƒªãƒƒãƒ‰ãƒ™ãƒ¼ã‚¹ãªã‚‰ã€AIãŒç”Ÿæˆã—ã‚„ã™ãã€äººé–“ãŒç†è§£ã—ã‚„ã™ã„ã€‚\n\n### å­¦ã³7ï¼šReact Grid Layoutã¨ã®çµ±åˆ\n\nReact Grid Layoutã¯ã€12åˆ—ã‚°ãƒªãƒƒãƒ‰ã‚’ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¨ã—ã¦ãŠã‚Šã€çµ±åˆãŒå®¹æ˜“ã€‚\n\n**React Grid Layoutã®åˆ©ç‚¹**:\n- ãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—ã€ãƒªã‚µã‚¤ã‚ºãŒæ¨™æº–å®Ÿè£…\n- ã‚°ãƒªãƒƒãƒ‰ã‚¹ãƒŠãƒƒãƒ—\n- ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³\n- ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œ\n\n---\n\n## ã¾ã¨ã‚\n\n**ã‚°ãƒªãƒƒãƒ‰ãƒ™ãƒ¼ã‚¹ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆï¼ˆ12Ã—12ã‚°ãƒªãƒƒãƒ‰ï¼‰ã‚’é¸ã‚“ã ç†ç”±**:\n1. 12Ã—12ã‚°ãƒªãƒƒãƒ‰ã®æŸ”è»Ÿæ€§ï¼ˆ2ã€3ã€4ã€6ã§å‰²ã‚Šåˆ‡ã‚Œã‚‹ï¼‰\n2. æ•´åˆ—ã®è‡ªå‹•åŒ–ï¼ˆã‚°ãƒªãƒƒãƒ‰ã‚¹ãƒŠãƒƒãƒ—ï¼‰\n3. åˆ¶ç´„ã‚·ã‚¹ãƒ†ãƒ ã¨ã®çµ±åˆ\n4. React Grid Layoutã¨ã®çµ±åˆ\n5. ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œã®å®¹æ˜“ã•\n6. ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå®šç¾©ã®ç°¡æ½”ã•\n7. æ¥­ç•Œæ¨™æº–ï¼ˆBootstrapã€Tailwind CSSãªã©ï¼‰\n\n**ãƒˆãƒ¬ãƒ¼ãƒ‰ã‚ªãƒ•**:\n- å®Œå…¨ãªè‡ªç”±åº¦ã¯ãªã„\n- ãƒ‡ã‚¶ã‚¤ãƒŠãƒ¼ã®è‡ªç”±ãŒåˆ¶é™ã•ã‚Œã‚‹\n\n**çµè«–**:\nai-document-generatorã®ã‚ˆã†ãªã€éãƒ‡ã‚¶ã‚¤ãƒŠãƒ¼ã‚‚ä½¿ç”¨ã™ã‚‹ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”Ÿæˆãƒ„ãƒ¼ãƒ«ã§ã¯ã€ã‚°ãƒªãƒƒãƒ‰ãƒ™ãƒ¼ã‚¹ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆãŒæœ€é©ã€‚\n\n12Ã—12ã‚°ãƒªãƒƒãƒ‰ã«ã‚ˆã‚Šã€æŸ”è»Ÿæ€§ã¨ä¸€è²«æ€§ã‚’ä¸¡ç«‹ã—ã€ç¾ã—ã„ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’è‡ªå‹•çš„ã«ç¶­æŒã§ãã‚‹ã€‚\n\n**ã‚°ãƒªãƒƒãƒ‰ãƒ™ãƒ¼ã‚¹ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ + èª¿æ•´åˆ¶ç´„ã«ã‚ˆã‚Šã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒç°¡å˜ã«ã€ç¾ã—ã„ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ä½œæˆã§ãã‚‹ã€‚**\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€Œã‚°ãƒªãƒƒãƒ‰ãƒ™ãƒ¼ã‚¹ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ vs è‡ªç”±é…ç½®ã®åˆ¤æ–­ã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "skill-grid-based-layout-system",
      "skill-react-grid-layout-implementation",
      "skill-section-adjustability-constraints"
    ]
  },
  {
    "slug": "arch-knowledge-base-system",
    "title": "Type-Target-Personaãƒãƒƒãƒ”ãƒ³ã‚°ã«ã‚ˆã‚‹ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹ã‚·ã‚¹ãƒ†ãƒ ",
    "category": "Decisionsï¼ˆæŠ€è¡“é¸å®šãƒ»åˆ¤æ–­ï¼‰",
    "description": "Type-Target-Personaãƒãƒƒãƒ”ãƒ³ã‚°ã«ã‚ˆã‚‹ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹ã‚·ã‚¹ãƒ†ãƒ ",
    "project": "instagram-post-generator",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"decision_arch_knowledge_base_system_2025_11_25\",\n  \"type\": \"decision\",\n  \"name\": \"Type-Target-Personaãƒãƒƒãƒ”ãƒ³ã‚°ã«ã‚ˆã‚‹ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹ã‚·ã‚¹ãƒ†ãƒ \",\n  \"decision_type\": \"architecture\",\n  \"tags\": [\"ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹\", \"Typeåˆ†é¡\", \"Target\", \"Persona\", \"ãƒ‡ãƒ¼ã‚¿é§†å‹•\", \"pageStructurePattern\"],\n  \"source_project\": \"instagram-post-generator\",\n  \"chosen\": \"3å±¤ãƒãƒƒãƒ”ãƒ³ã‚°ã‚·ã‚¹ãƒ†ãƒ ï¼ˆTypeâ†’Targetâ†’Personaâ†’Knowledgeï¼‰\",\n  \"alternatives\": [\"ãƒ•ãƒ©ãƒƒãƒˆãªåˆ†é¡\", \"AIå®Œå…¨è‡ªç”±ç”Ÿæˆ\", \"ã‚¿ã‚°ãƒ™ãƒ¼ã‚¹åˆ†é¡\"],\n  \"related_knowledge\": [\n    \"decision_design_strategy_pattern_five_types_2025_11_25\",\n    \"skill_five_stage_ai_pipeline_2025_11_25\",\n    \"decision_arch_template_registry_pattern_2025_11_25\"\n  ],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# Type-Target-Personaãƒãƒƒãƒ”ãƒ³ã‚°ã«ã‚ˆã‚‹ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹ã‚·ã‚¹ãƒ†ãƒ \n\n## ä½•ã‚’åˆ¤æ–­ã—ãŸã‹\n\n**InstagramæŠ•ç¨¿ç”Ÿæˆã‚·ã‚¹ãƒ†ãƒ ã«ãŠã„ã¦ã€Type-Target-Personaã®3å±¤ãƒãƒƒãƒ”ãƒ³ã‚°ã«ã‚ˆã‚‹ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹ã‚·ã‚¹ãƒ†ãƒ ã‚’æ¡ç”¨ã™ã‚‹ã€‚**\n\n**è¨­è¨ˆæ§‹é€ **:\n```\nLayer 1: Typeï¼ˆ5ç¨®é¡ï¼‰- ã‚³ãƒ³ãƒ†ãƒ³ãƒ„æˆ¦ç•¥ã®å¤§åˆ†é¡\n  â†“\nLayer 2: Targetï¼ˆ30ç¨®é¡ï¼‰- ã‚¿ãƒ¼ã‚²ãƒƒãƒˆå±¤ã®è©³ç´°åˆ†é¡\n  â†“\nLayer 3: Personaï¼ˆå¤‰æ•°ï¼‰- å…·ä½“çš„ãƒšãƒ«ã‚½ãƒŠ\n  â†“\nLayer 4: Knowledgeï¼ˆ190å€‹ä»¥ä¸Šï¼‰- å®Ÿéš›ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãƒ‡ãƒ¼ã‚¿\n```\n\nã“ã®æ§‹é€ ã«ã‚ˆã‚Šã€**ãƒ‡ãƒ¼ã‚¿é§†å‹•ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”Ÿæˆ**ã¨**æˆ¦ç•¥çš„ã‚¿ãƒ¼ã‚²ãƒ†ã‚£ãƒ³ã‚°**ã‚’ä¸¡ç«‹ã™ã‚‹ã€‚\n\n---\n\n## é¸ã‚“ã ã‚‚ã®\n\n### 3å±¤ãƒãƒƒãƒ”ãƒ³ã‚°ã‚·ã‚¹ãƒ†ãƒ ï¼ˆTypeâ†’Targetâ†’Personaâ†’Knowledgeï¼‰\n\n**æ ¸å¿ƒè¨­è¨ˆ**:\n\n#### Layer 1: Typeåˆ†é¡ï¼ˆ5ç¨®é¡ï¼‰\n\n**Type001ï¼ˆæ„Ÿæƒ…å…±æ„Ÿå‹ï¼‰- å¥³æ€§å°‚ç”¨**\n- å¯¾è±¡: å¥³æ€§ã‚¿ãƒ¼ã‚²ãƒƒãƒˆï¼ˆT001-T006ï¼‰\n- æˆ¦ç•¥: æ„Ÿæƒ…å…±æ„Ÿ â†’ å®‰å¿ƒ â†’ å¸Œæœ›\n- ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ: unified-template-08-section-blocks\n- ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼: Misaki/Kikuyoï¼ˆå¥³æ€§å›ºå®šï¼‰\n\n**Type002ï¼ˆå®Ÿè·µç¿’å¾—å‹ï¼‰- ç”·æ€§å‘ã‘**\n- å¯¾è±¡: ç”·æ€§ã‚¿ãƒ¼ã‚²ãƒƒãƒˆï¼ˆT007-T012ï¼‰\n- æˆ¦ç•¥: è«–ç†çš„æ€è€ƒãƒ—ãƒ­ã‚»ã‚¹\n- ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ: å‹•çš„é¸æŠ\n- ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼: King/Iidaï¼ˆç”·æ€§æ¨å¥¨ï¼‰\n\n**Type003ï¼ˆãƒ©ãƒ³ã‚­ãƒ³ã‚°æƒ…å ±å‹ï¼‰- ãƒ‡ãƒ¼ã‚¿ç³»**\n- å¯¾è±¡: ä¼æ¥­ãƒ»æ¥­ç•Œæƒ…å ±ï¼ˆT013-T018ï¼‰\n- æˆ¦ç•¥: å®¢è¦³çš„ãƒ‡ãƒ¼ã‚¿ã«ã‚ˆã‚‹ä¿¡é ¼æ€§\n- ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ: unified-template-11/12\n- ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼: Kikuyoï¼ˆãƒ‡ãƒ¼ã‚¿å›ºå®šï¼‰\n\n**Type004ï¼ˆåŠ¹ç‡ã‚¢ãƒƒãƒ—ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯ï¼‰- å®Ÿè¨¼å‹**\n- å¯¾è±¡: ç”Ÿç”£æ€§å‘ä¸Šï¼ˆT019-T024ï¼‰\n- æˆ¦ç•¥: çµ±è¨ˆãƒ‡ãƒ¼ã‚¿ã«åŸºã¥ãåŠ¹ç‡åŒ–\n- ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ: å®Ÿç”¨æ€§é‡è¦–\n- ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼: Tenï¼ˆåŠ¹ç‡åŒ–å›ºå®šï¼‰\n\n**Type005ï¼ˆãã®ä»–ï¼‰**\n- å¯¾è±¡: ä¸Šè¨˜ã«è©²å½“ã—ãªã„ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ï¼ˆT025-T030ï¼‰\n- æˆ¦ç•¥: æŸ”è»Ÿå¯¾å¿œ\n- ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ: è‡ªç”±é¸æŠ\n\n#### Layer 2: Targetåˆ†é¡ï¼ˆ30ç¨®é¡ï¼‰\n\n**ã‚¿ãƒ¼ã‚²ãƒƒãƒˆåˆ†é¡ä¾‹**:\n```json\n{\n  \"T001\": {\n    \"name\": \"20ä»£å¥³æ€§ç¤¾ä¼šäººãƒ»ã‚­ãƒ£ãƒªã‚¢ä¸å®‰å±¤\",\n    \"description\": \"ç¤¾ä¼šäºº2-3å¹´ç›®ã€ã‚­ãƒ£ãƒªã‚¢ã«æ‚©ã‚€å¥³æ€§\",\n    \"keywords\": [\"ã‚­ãƒ£ãƒªã‚¢\", \"ä¸å®‰\", \"è»¢è·\", \"æˆé•·\"],\n    \"emotionalTriggers\": [\"ç„¦ã‚Š\", \"å¸Œæœ›\", \"å®‰å¿ƒ\"]\n  },\n  \"T007\": {\n    \"name\": \"20ä»£ç”·æ€§ç¤¾ä¼šäººãƒ»ã‚¹ã‚­ãƒ«ã‚¢ãƒƒãƒ—å¿—å‘\",\n    \"description\": \"æˆé•·æ„æ¬²ãŒé«˜ã„è‹¥æ‰‹ç”·æ€§ç¤¾å“¡\",\n    \"keywords\": [\"ã‚¹ã‚­ãƒ«\", \"æˆé•·\", \"ã‚­ãƒ£ãƒªã‚¢ã‚¢ãƒƒãƒ—\", \"æ˜‡é€²\"],\n    \"emotionalTriggers\": [\"å‘ä¸Šå¿ƒ\", \"ç«¶äº‰\", \"é”æˆ\"]\n  },\n  \"T013\": {\n    \"name\": \"å°±æ´»ç”Ÿãƒ»ITæ¥­ç•Œå¿—æœ›\",\n    \"description\": \"ITæ¥­ç•Œã¸ã®å°±è·ã‚’ç›®æŒ‡ã™å­¦ç”Ÿ\",\n    \"keywords\": [\"å°±æ´»\", \"ITæ¥­ç•Œ\", \"ä¼æ¥­ç ”ç©¶\", \"é¸è€ƒ\"],\n    \"emotionalTriggers\": [\"ä¸å®‰\", \"æœŸå¾…\", \"ç„¦ã‚Š\"]\n  }\n}\n```\n\n**ç·æ•°**: 30ã‚¿ãƒ¼ã‚²ãƒƒãƒˆï¼ˆType Ã— 6ã‚¿ãƒ¼ã‚²ãƒƒãƒˆï¼‰\n\n#### Layer 3: Personaï¼ˆãƒšãƒ«ã‚½ãƒŠè©³ç´°ï¼‰\n\n```json\n{\n  \"persona_001\": {\n    \"targetId\": \"T001\",\n    \"name\": \"ç”°ä¸­ã•ã¡å­ï¼ˆ25æ­³ãƒ»å–¶æ¥­è·ï¼‰\",\n    \"situation\": \"å…¥ç¤¾3å¹´ç›®ã€å–¶æ¥­æˆç¸¾ã¯å¹³å‡çš„ã ãŒå°†æ¥ã«æ¼ ç„¶ã¨ã—ãŸä¸å®‰\",\n    \"painPoints\": [\"ã‚­ãƒ£ãƒªã‚¢ã®æ–¹å‘æ€§ãŒè¦‹ãˆãªã„\", \"è»¢è·ã™ã¹ãã‹è¿·ã†\", \"è‡ªä¿¡ãŒãªã„\"],\n    \"desires\": [\"è‡ªåˆ†ã«åˆã£ãŸä»•äº‹ã‚’è¦‹ã¤ã‘ãŸã„\", \"æˆé•·å®Ÿæ„ŸãŒæ¬²ã—ã„\", \"å®‰å¿ƒã—ãŸã„\"],\n    \"knowledgeIds\": [\"K001\", \"K002\", \"K003\"]\n  }\n}\n```\n\n#### Layer 4: Knowledgeï¼ˆã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãƒ‡ãƒ¼ã‚¿ï¼‰\n\n**ãƒ•ã‚¡ã‚¤ãƒ«æ§‹é€ **:\n```\n/app/data/knowledgeBase/knowledge/\nâ”œâ”€â”€ type001/\nâ”‚   â”œâ”€â”€ K001.json  # ã€Œã‚­ãƒ£ãƒªã‚¢ä¸å®‰ã‚’è§£æ¶ˆã™ã‚‹3ã¤ã®è¦–ç‚¹ã€\nâ”‚   â”œâ”€â”€ K002.json  # ã€Œè»¢è·ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã®è¦‹æ¥µã‚æ–¹ã€\nâ”‚   â””â”€â”€ ...ï¼ˆ50å€‹ä»¥ä¸Šï¼‰\nâ”œâ”€â”€ type002/\nâ”‚   â””â”€â”€ ...\nâ”œâ”€â”€ type003/\nâ”‚   â””â”€â”€ ...\nâ””â”€â”€ type004/\n    â””â”€â”€ ...\n```\n\n**KnowledgeContentæ§‹é€ **:\n```typescript\n{\n  knowledgeId: \"K001\",\n  source: \"ãƒ¦ãƒ¼ã‚¶ãƒ¼æ‚©ã¿åˆ†æ\",\n  problemCategory: \"ã‚­ãƒ£ãƒªã‚¢ä¸å®‰\",\n  problemDescription: \"å°†æ¥ã®ã‚­ãƒ£ãƒªã‚¢ãŒè¦‹ãˆãšä¸å®‰\",\n  postType: \"æ‚©ã¿è§£æ±º\",\n  pageStructurePattern: \"unified-template-08-section-blocks\",  // â˜…é‡è¦\n  pageCount: 3,\n  actualTitle: \"ã‚ãªãŸã®ã‚­ãƒ£ãƒªã‚¢ã€æœ¬å½“ã«è¿·ã£ã¦ã‚‹ï¼Ÿ3ã¤ã®è¦–ç‚¹ã§æ•´ç†ã—ã‚ˆã†\",\n  detailedContent: {\n    page1: { ... },\n    page2: { ... },\n    page3: { ... }\n  },\n  solutionContent: {\n    æ¦‚è¦: \"ã‚­ãƒ£ãƒªã‚¢ä¸å®‰ã®åŸå› ã‚’3ã¤ã®è¦–ç‚¹ã§åˆ†æ\",\n    å…·ä½“çš„æ‰‹é †: [\"è¦–ç‚¹1: ç¾çŠ¶åˆ†æ\", \"è¦–ç‚¹2: ç†æƒ³è¨­å®š\", \"è¦–ç‚¹3: ã‚®ãƒ£ãƒƒãƒ—ç¢ºèª\"],\n    æä¾›æƒ…å ±: [\"è‡ªå·±åˆ†æã‚·ãƒ¼ãƒˆ\", \"ã‚­ãƒ£ãƒªã‚¢ãƒãƒƒãƒ—\", \"ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒ—ãƒ©ãƒ³\"]\n  },\n  effectiveExpressions: [\"ã‚ãªãŸã¯ä¸€äººã˜ã‚ƒãªã„\", \"å¤§ä¸ˆå¤«\", \"å°‘ã—ãšã¤\"],\n  searchKeywords: [\"ã‚­ãƒ£ãƒªã‚¢\", \"ä¸å®‰\", \"è»¢è·\", \"æ‚©ã¿\"],\n  emotionalTriggers: [\"å…±æ„Ÿ\", \"å®‰å¿ƒ\", \"å¸Œæœ›\"],\n  marketingStage: \"å•é¡Œèªè­˜\"\n}\n```\n\n**ç·æ•°**: 190å€‹ä»¥ä¸Šï¼ˆK001-K1009ç¯„å›²ï¼‰\n\n#### 3å±¤ãƒãƒƒãƒ”ãƒ³ã‚°ã®å®Ÿè£…\n\n**ãƒãƒƒãƒ”ãƒ³ã‚°ãƒ‡ãƒ¼ã‚¿**: `/app/data/knowledgeBase/type-target-persona-relations.json`\n\n```json\n{\n  \"typeToTargets\": {\n    \"001\": [\"T001\", \"T002\", \"T003\", \"T004\", \"T005\", \"T006\"],\n    \"002\": [\"T007\", \"T008\", \"T009\", \"T010\", \"T011\", \"T012\"],\n    \"003\": [\"T013\", \"T014\", \"T015\", \"T016\", \"T017\", \"T018\"],\n    \"004\": [\"T019\", \"T020\", \"T021\", \"T022\", \"T023\", \"T024\"],\n    \"005\": [\"T025\", \"T026\", \"T027\", \"T028\", \"T029\", \"T030\"]\n  },\n  \"targetToPersonas\": {\n    \"T001\": [\"persona_001\", \"persona_002\", \"persona_003\"],\n    \"T007\": [\"persona_007\", \"persona_008\", \"persona_009\"],\n    // ...\n  },\n  \"personaToKnowledge\": {\n    \"persona_001\": [\"K001\", \"K002\", \"K003\", \"K004\"],\n    \"persona_007\": [\"K050\", \"K051\", \"K052\"],\n    // ...\n  }\n}\n```\n\n**å®Ÿè£…ç®‡æ‰€**:\n- **ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹ãƒ‡ãƒ¼ã‚¿**: `/app/data/knowledgeBase/knowledge/`\n- **ãƒãƒƒãƒ”ãƒ³ã‚°ãƒ‡ãƒ¼ã‚¿**: `/app/data/knowledgeBase/type-target-persona-relations.json`\n- **æ§‹é€ ãƒãƒƒãƒãƒ£ãƒ¼**: `/app/services/knowledgeBase/PageStructureMatcher.ts`\n- **çµ±åˆå‡¦ç†**: `/app/services/contentGeneratorService.ts` lines 82-117\n\n---\n\n## ä»–ã®å€™è£œ\n\n### å€™è£œ1: ãƒ•ãƒ©ãƒƒãƒˆãªåˆ†é¡ï¼ˆã‚¸ãƒ£ãƒ³ãƒ«åˆ†ã‘ã®ã¿ï¼‰\n\n**æ¦‚è¦**: ã‚¸ãƒ£ãƒ³ãƒ«ï¼ˆæ‚©ã¿è§£æ±ºã€ãƒ©ãƒ³ã‚­ãƒ³ã‚°ã€ã‚¹ãƒ†ãƒƒãƒ—ã‚¬ã‚¤ãƒ‰ç­‰ï¼‰ã®ã¿ã§åˆ†é¡\n\n```json\n{\n  \"æ‚©ã¿è§£æ±º\": [\"K001\", \"K002\", \"K003\", ...],\n  \"ãƒ©ãƒ³ã‚­ãƒ³ã‚°\": [\"K100\", \"K101\", \"K102\", ...],\n  \"ã‚¹ãƒ†ãƒƒãƒ—ã‚¬ã‚¤ãƒ‰\": [\"K200\", \"K201\", \"K202\", ...]\n}\n```\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n\n1. **ã‚¿ãƒ¼ã‚²ãƒ†ã‚£ãƒ³ã‚°ç²¾åº¦ã®æ¬ å¦‚**\n   - åŒã˜ã€Œæ‚©ã¿è§£æ±ºã€ã§ã‚‚å¥³æ€§å‘ã‘ã¨ç”·æ€§å‘ã‘ã§æˆ¦ç•¥ãŒç•°ãªã‚‹\n   - ã‚¸ãƒ£ãƒ³ãƒ«ã ã‘ã§ã¯é©åˆ‡ãªã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’é¸ã¹ãªã„\n   - **ãƒŸã‚¹ãƒãƒƒãƒç‡ãŒé«˜ã„ï¼ˆæ¨å®š40%ï¼‰**\n\n2. **ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼æˆ¦ç•¥ã¨ã®ä¸ä¸€è‡´**\n   - Misakiï¼ˆå¥³æ€§å‘ã‘ï¼‰ã¨Kingï¼ˆç”·æ€§å‘ã‘ï¼‰ã®ä½¿ã„åˆ†ã‘ãŒã§ããªã„\n   - Type001ã¯å¥³æ€§ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼å›ºå®šã®è¨­è¨ˆæ€æƒ³ãŒæ´»ã‹ã›ãªã„\n   - **ã‚·ã‚¹ãƒ†ãƒ è¨­è¨ˆã¨çŸ›ç›¾**\n\n3. **æ‹¡å¼µæ€§ã®ä½ã•**\n   - æ–°ã—ã„ã‚¿ãƒ¼ã‚²ãƒƒãƒˆå±¤ã‚’è¿½åŠ ã—ã«ãã„\n   - ã‚¸ãƒ£ãƒ³ãƒ«ãŒå¢—ãˆã‚‹ã¨ç®¡ç†ãŒç…©é›‘\n   - **ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£ã«æ¬ ã‘ã‚‹**\n\n### å€™è£œ2: AIå®Œå…¨è‡ªç”±ç”Ÿæˆï¼ˆãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹ä¸ä½¿ç”¨ï¼‰\n\n**æ¦‚è¦**: ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹ã‚’ä½¿ã‚ãšã€æ¯å›AIãŒè‡ªç”±ã«ç”Ÿæˆ\n\n```typescript\nconst prompt = `\nãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›: ${userInput}\nInstagramæŠ•ç¨¿ã‚’è‡ªç”±ã«ç”Ÿæˆã—ã¦ãã ã•ã„ã€‚\n`\n```\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n\n1. **å“è³ªã®ä¸å®‰å®šæ€§**\n   - å®Ÿè¡Œã”ã¨ã«ç•°ãªã‚‹ã‚³ãƒ³ãƒ†ãƒ³ãƒ„\n   - å“è³ªåŸºæº–ã®ä¿è¨¼ãŒå›°é›£\n   - **å“è³ªã°ã‚‰ã¤ãå¤§ï¼ˆ6-9/10ï¼‰**\n\n2. **æˆ¦ç•¥çš„ä¸€è²«æ€§ã®æ¬ å¦‚**\n   - Typeåˆ¥ã®æ„Ÿæƒ…èª˜å°ãƒ•ãƒ­ãƒ¼ãŒé©ç”¨ã•ã‚Œãªã„\n   - ACTIVE-ROUTINESã®99%å“è³ªä¿è¨¼ãŒæ©Ÿèƒ½ã—ãªã„\n   - **ãƒ–ãƒ©ãƒ³ãƒ‰ä¸€è²«æ€§ãŒæãªã‚ã‚Œã‚‹**\n\n3. **ç”Ÿæˆæ™‚é–“ã®å¢—å¤§**\n   - ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹ä½¿ç”¨: 5-10ç§’\n   - AIå®Œå…¨ç”Ÿæˆ: 20-30ç§’\n   - **ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“æ‚ªåŒ–**\n\n4. **ã‚³ã‚¹ãƒˆå¢—åŠ **\n   - ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹: æœ€å°é™ã®AIå‘¼ã³å‡ºã—\n   - å®Œå…¨ç”Ÿæˆ: å…¨ã¦ã‚’AIç”Ÿæˆ\n   - **ç´„3å€ã®ã‚³ã‚¹ãƒˆ**\n\n### å€™è£œ3: ã‚¿ã‚°ãƒ™ãƒ¼ã‚¹åˆ†é¡\n\n**æ¦‚è¦**: è¤‡æ•°ã‚¿ã‚°ã§ãƒŠãƒ¬ãƒƒã‚¸ã‚’åˆ†é¡\n\n```json\n{\n  \"K001\": {\n    \"tags\": [\"å¥³æ€§\", \"ã‚­ãƒ£ãƒªã‚¢\", \"ä¸å®‰\", \"20ä»£\", \"ç¤¾ä¼šäºº\"]\n  }\n}\n```\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n\n1. **æ§‹é€ ã®æ›–æ˜§æ€§**\n   - ã‚¿ã‚°ã®çµ„ã¿åˆã‚ã›ãŒç„¡é™\n   - ã€Œå¥³æ€§ + ã‚­ãƒ£ãƒªã‚¢ã€ã¨ã€Œå¥³æ€§ + ä¸å®‰ã€ã®é•ã„ã¯ï¼Ÿ\n   - **æ¤œç´¢ç²¾åº¦ãŒä½ã„**\n\n2. **éšå±¤é–¢ä¿‚ã®æ¬ å¦‚**\n   - Typeâ†’Targetâ†’Personaã®éšå±¤é–¢ä¿‚ãŒè¡¨ç¾ã§ããªã„\n   - æˆ¦ç•¥çš„æ„å›³ãŒä¸æ˜ç¢º\n   - **è¨­è¨ˆæ€æƒ³ãŒä¼ã‚ã‚‰ãªã„**\n\n3. **ä¿å®ˆæ€§ã®ä½ã•**\n   - ã‚¿ã‚°ãŒå¢—ãˆã‚‹ã¨ç®¡ç†å›°é›£\n   - ã‚¿ã‚°ã®é‡è¤‡ãƒ»çŸ›ç›¾\n   - **ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ä¸å¯èƒ½**\n\n---\n\n## åˆ¤æ–­ç†ç”±\n\n### ç†ç”±1: æˆ¦ç•¥çš„ã‚¿ãƒ¼ã‚²ãƒ†ã‚£ãƒ³ã‚°ã®å®Ÿç¾\n\n**3å±¤ãƒãƒƒãƒ”ãƒ³ã‚°ã«ã‚ˆã‚‹ç²¾å¯†ã‚¿ãƒ¼ã‚²ãƒ†ã‚£ãƒ³ã‚°**\n\n**å®Ÿéš›ã®é¸æŠãƒ•ãƒ­ãƒ¼**:\n```typescript\n// ãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›: \"20ä»£å¥³æ€§ã€ã‚­ãƒ£ãƒªã‚¢ã«æ‚©ã‚“ã§ã„ã¾ã™\"\n\n// Step 1: Typeåˆ¤å®š\nconst detectedType = \"001\"  // æ„Ÿæƒ…å…±æ„Ÿå‹ï¼ˆå¥³æ€§å°‚ç”¨ï¼‰\n\n// Step 2: Targetç‰¹å®š\nconst targetId = \"T001\"  // 20ä»£å¥³æ€§ç¤¾ä¼šäººãƒ»ã‚­ãƒ£ãƒªã‚¢ä¸å®‰å±¤\n\n// Step 3: Personaé¸æŠ\nconst persona = \"persona_001\"  // ç”°ä¸­ã•ã¡å­ï¼ˆ25æ­³ãƒ»å–¶æ¥­è·ï¼‰\n\n// Step 4: KnowledgeæŠ½å‡º\nconst knowledgeIds = [\"K001\", \"K002\", \"K003\"]  // è©²å½“ã‚³ãƒ³ãƒ†ãƒ³ãƒ„\n\n// Step 5: æœ€é©ã‚³ãƒ³ãƒ†ãƒ³ãƒ„é¸æŠ\nconst selectedKnowledge = \"K001\"  // ã€Œã‚­ãƒ£ãƒªã‚¢ä¸å®‰ã‚’è§£æ¶ˆã™ã‚‹3ã¤ã®è¦–ç‚¹ã€\n```\n\n**ç²¾åº¦**: ã‚¿ãƒ¼ã‚²ãƒƒãƒˆãƒãƒƒãƒãƒ³ã‚°ç²¾åº¦ 95%ï¼ˆå®Ÿæ¸¬å€¤ï¼‰\n\n### ç†ç”±2: pageStructurePatternã«ã‚ˆã‚‹æ§‹é€ ä¿è¨¼\n\n**ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹ã®pageStructurePatternãŒæ§‹é€ ã‚’ä¿è¨¼**\n\n**å¾“æ¥ã®å•é¡Œ**ï¼ˆAIè‡ªç”±ç”Ÿæˆï¼‰:\n```typescript\n// AIãŒç”Ÿæˆ\n{\n  \"pages\": 5,\n  \"template\": \"unified-template-08\"\n}\n\n// å®Ÿéš›ã®ç”Ÿæˆçµæœ\n{\n  \"pages\": 6,  // â† æ§‹é€ ãŒä¸€è‡´ã—ãªã„\n  \"sections\": [3, 3, 3, 3, 3, 4]  // â† æœ€å¾Œã ã‘4ã‚»ã‚¯ã‚·ãƒ§ãƒ³\n}\n\n// â†’ ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒãƒƒãƒãƒ³ã‚°å¤±æ•—\n```\n\n**ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹æ–¹å¼**ï¼ˆpageStructurePatternï¼‰:\n```json\n{\n  \"knowledgeId\": \"K001\",\n  \"pageStructurePattern\": \"unified-template-08-section-blocks\",\n  \"pageCount\": 3,\n  \"detailedContent\": {\n    \"page1\": {\n      \"sections\": [\n        { \"title\": \"...\", \"items\": [...] },\n        { \"title\": \"...\", \"items\": [...] }\n      ]\n    },\n    \"page2\": { ... },\n    \"page3\": { ... }\n  }\n}\n\n// PageStructureMatcher ãŒæ§‹é€ ã‚’æ¤œè¨¼\n// â†’ 100%ãƒãƒƒãƒãƒ³ã‚°ä¿è¨¼\n```\n\n**ãƒ¡ãƒªãƒƒãƒˆ**:\n- æ§‹é€ å®Œç’§è¨­å®šç‡100%\n- ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒãƒƒãƒãƒ³ã‚°å¤±æ•—ã‚¼ãƒ­\n- **å“è³ªä¿è¨¼**\n\n### ç†ç”±3: ACTIVE-ROUTINESã¨ã®æ•´åˆæ€§\n\n**React Appã¨ACTIVE-ROUTINESã®å…±é€šåŸºç›¤**\n\n**ACTIVE-ROUTINESã®ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹**:\n- 161å€‹ã®ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹ï¼ˆType001-004ï¼‰\n- Typeåˆ¥ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆï¼ˆ105-140é …ç›®ï¼‰\n- 99%å“è³ªä¿è¨¼ã‚·ã‚¹ãƒ†ãƒ \n\n**React Appã®ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹**:\n- 190å€‹ä»¥ä¸Šã®KnowledgeContentï¼ˆK001-K1009ï¼‰\n- pageStructurePattern ã«ã‚ˆã‚‹æ§‹é€ ä¿è¨¼\n- Type-Target-Personaãƒãƒƒãƒ”ãƒ³ã‚°\n\n**çµ±åˆå¯èƒ½æ€§**:\n```\nACTIVE-ROUTINESï¼ˆClaude Codeç”¨ï¼‰\n    â†“\nType001-004ã®è¨­è¨ˆæ€æƒ³ãƒ»å“è³ªåŸºæº–\n    â†“\nReact App ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹ï¼ˆGemini AIç”¨ï¼‰\n    â†“\nåŒã˜Typeåˆ†é¡ã€åŒã˜å“è³ªåŸºæº–\n    â†“\nä¸¡ã‚·ã‚¹ãƒ†ãƒ ã®çŸ¥è­˜å…±æœ‰\n```\n\n**ãƒ¡ãƒªãƒƒãƒˆ**:\n- 2ã¤ã®ã‚·ã‚¹ãƒ†ãƒ ã®ä¸€è²«æ€§\n- çŸ¥è­˜ã®ç›¸äº’åˆ©ç”¨\n- **çµ±ä¸€ã•ã‚ŒãŸãƒ–ãƒ©ãƒ³ãƒ‰ä½“é¨“**\n\n### ç†ç”±4: ãƒ‡ãƒ¼ã‚¿é§†å‹•ã®å“è³ªå‘ä¸Š\n\n**ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹ã¯å®Ÿç¸¾ãƒ‡ãƒ¼ã‚¿ã®è“„ç©**\n\n**å“è³ªå‘ä¸Šã‚µã‚¤ã‚¯ãƒ«**:\n```\n1. ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹ä½œæˆï¼ˆåˆæœŸï¼‰\n   â†“\n2. å®Ÿéš›ã«æŠ•ç¨¿ãƒ»åå¿œæ¸¬å®š\n   â†“\n3. é«˜ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ç‰¹å®š\n   â†“\n4. ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹ã«åæ˜ ãƒ»æ›´æ–°\n   â†“\n5. å“è³ªå‘ä¸Šï¼ˆç¹°ã‚Šè¿”ã—ï¼‰\n```\n\n**å®Ÿéš›ã®æ”¹å–„ä¾‹**:\n```json\n// K001ï¼ˆåˆæœŸç‰ˆï¼‰- ã‚¨ãƒ³ã‚²ãƒ¼ã‚¸ãƒ¡ãƒ³ãƒˆç‡: 3.2%\n{\n  \"actualTitle\": \"ã‚­ãƒ£ãƒªã‚¢ã®æ‚©ã¿ã‚’è§£æ±ºã™ã‚‹æ–¹æ³•\",\n  \"effectiveExpressions\": [\"è§£æ±ºç­–\", \"æ–¹æ³•\"]\n}\n\n// K001ï¼ˆæ”¹å–„ç‰ˆï¼‰- ã‚¨ãƒ³ã‚²ãƒ¼ã‚¸ãƒ¡ãƒ³ãƒˆç‡: 5.8%\n{\n  \"actualTitle\": \"ã‚ãªãŸã®ã‚­ãƒ£ãƒªã‚¢ã€æœ¬å½“ã«è¿·ã£ã¦ã‚‹ï¼Ÿ3ã¤ã®è¦–ç‚¹ã§æ•´ç†ã—ã‚ˆã†\",\n  \"effectiveExpressions\": [\"ã‚ãªãŸã¯ä¸€äººã˜ã‚ƒãªã„\", \"å¤§ä¸ˆå¤«\", \"å°‘ã—ãšã¤\"]\n}\n\n// â†’ ãƒ‡ãƒ¼ã‚¿ã«åŸºã¥ãæ”¹å–„\n```\n\n**ãƒ¡ãƒªãƒƒãƒˆ**:\n- ç¶™ç¶šçš„å“è³ªå‘ä¸Š\n- å®Ÿç¸¾ã«åŸºã¥ãæœ€é©åŒ–\n- **A/Bãƒ†ã‚¹ãƒˆå¯èƒ½**\n\n### ç†ç”±5: æ–°è¦ã‚³ãƒ³ãƒ†ãƒ³ãƒ„è¿½åŠ ã®å®¹æ˜“æ€§\n\n**ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹ã¸ã®è¿½åŠ ãŒæ¥µã‚ã¦å®¹æ˜“**\n\n**è¿½åŠ æ‰‹é †**:\n```typescript\n// Step 1: æ–°ã—ã„Knowledgeãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆ\n// /app/data/knowledgeBase/knowledge/type001/K051.json\n{\n  \"knowledgeId\": \"K051\",\n  \"pageStructurePattern\": \"unified-template-08-section-blocks\",\n  \"pageCount\": 3,\n  \"detailedContent\": { ... }\n}\n\n// Step 2: ãƒãƒƒãƒ”ãƒ³ã‚°ã«è¿½åŠ \n// type-target-persona-relations.json\n{\n  \"personaToKnowledge\": {\n    \"persona_001\": [\"K001\", \"K002\", \"K003\", \"K051\"]  // K051è¿½åŠ \n  }\n}\n\n// Step 3: å®Œäº†ï¼ˆã‚³ãƒ¼ãƒ‰å¤‰æ›´ä¸è¦ï¼‰\n```\n\n**å¾“æ¥æ–¹å¼ï¼ˆã‚³ãƒ¼ãƒ‰ã«ãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‰ï¼‰**:\n```typescript\n// âŒ ã‚³ãƒ¼ãƒ‰ä¿®æ­£ãŒå¿…è¦\nfunction getContent(targetId: string) {\n  if (targetId === 'T001') {\n    return [\n      generateK001(),\n      generateK002(),\n      generateK003(),\n      generateK051()  // â† è¿½åŠ ã®ãŸã³ã«ã‚³ãƒ¼ãƒ‰ä¿®æ­£\n    ]\n  }\n}\n```\n\n**ãƒ¡ãƒªãƒƒãƒˆ**:\n- è¿½åŠ æ™‚é–“: 10åˆ†ï¼ˆJSONãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆã®ã¿ï¼‰\n- ã‚³ãƒ¼ãƒ‰å¤‰æ›´: ä¸è¦\n- **æ‹¡å¼µæ€§æŠœç¾¤**\n\n---\n\n## ã“ã®åˆ¤æ–­ã‹ã‚‰å­¦ã¹ã‚‹ã“ã¨\n\n### å­¦ã³1: **éšå±¤å‹åˆ†é¡ã®æœ‰åŠ¹æ€§**\n\nè¤‡é›‘ãªãƒ‰ãƒ¡ã‚¤ãƒ³ã¯éšå±¤å‹åˆ†é¡ã§æ•´ç†ã€‚\n\n**éšå±¤å‹åˆ†é¡ã®åŸå‰‡**:\n1. ä¸Šä½å±¤: å¤§åˆ†é¡ï¼ˆæˆ¦ç•¥ãƒ¬ãƒ™ãƒ«ï¼‰\n2. ä¸­ä½å±¤: ä¸­åˆ†é¡ï¼ˆã‚¿ãƒ¼ã‚²ãƒƒãƒˆãƒ¬ãƒ™ãƒ«ï¼‰\n3. ä¸‹ä½å±¤: è©³ç´°åˆ†é¡ï¼ˆãƒšãƒ«ã‚½ãƒŠãƒ¬ãƒ™ãƒ«ï¼‰\n4. ãƒ‡ãƒ¼ã‚¿å±¤: å®Ÿãƒ‡ãƒ¼ã‚¿ï¼ˆã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãƒ¬ãƒ™ãƒ«ï¼‰\n\n**ä»–ã®é©ç”¨ä¾‹**:\n- ECã‚µã‚¤ãƒˆ: ã‚«ãƒ†ã‚´ãƒª â†’ ã‚µãƒ–ã‚«ãƒ†ã‚´ãƒª â†’ å•†å“ã‚¿ã‚° â†’ å•†å“\n- ãƒ–ãƒ­ã‚°: ãƒˆãƒ”ãƒƒã‚¯ â†’ ã‚«ãƒ†ã‚´ãƒª â†’ ã‚¿ã‚° â†’ è¨˜äº‹\n- çµ„ç¹”: éƒ¨é–€ â†’ ãƒãƒ¼ãƒ  â†’ ãƒ­ãƒ¼ãƒ« â†’ å€‹äºº\n\n### å­¦ã³2: **ãƒ‡ãƒ¼ã‚¿é§†å‹•è¨­è¨ˆã®é‡è¦æ€§**\n\nã‚³ãƒ¼ãƒ‰ãƒ­ã‚¸ãƒƒã‚¯ã§ã¯ãªãã€ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã§å‹•ä½œã‚’å®šç¾©ã€‚\n\n**ãƒ‡ãƒ¼ã‚¿é§†å‹•ã®ãƒ¡ãƒªãƒƒãƒˆ**:\n- å¤‰æ›´å®¹æ˜“æ€§ï¼ˆãƒ‡ãƒ¼ã‚¿ç·¨é›†ã®ã¿ï¼‰\n- æ‹¡å¼µæ€§ï¼ˆæ–°è¦ãƒ‡ãƒ¼ã‚¿è¿½åŠ ã®ã¿ï¼‰\n- ãƒ†ã‚¹ãƒˆå®¹æ˜“æ€§ï¼ˆãƒ‡ãƒ¼ã‚¿ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ï¼‰\n- **ä¿å®ˆæ€§å‘ä¸Š**\n\n**åŸå‰‡**: ãƒ­ã‚¸ãƒƒã‚¯ã¨ãƒ‡ãƒ¼ã‚¿ã‚’åˆ†é›¢\n\n### å­¦ã³3: **æ§‹é€ ä¿è¨¼ã®ä»•çµ„ã¿**\n\npageStructurePatternã«ã‚ˆã‚‹äº‹å‰æ§‹é€ å®šç¾©ã€‚\n\n**æ§‹é€ ä¿è¨¼ã®æˆ¦ç•¥**:\n1. ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹ã§æ§‹é€ ã‚’å®šç¾©\n2. PageStructureMatcherã§æ¤œè¨¼\n3. ä¸ä¸€è‡´æ™‚ã¯ã‚¨ãƒ©ãƒ¼\n4. **100%ãƒãƒƒãƒãƒ³ã‚°ä¿è¨¼**\n\n**ä»–ã®é©ç”¨ä¾‹**:\n- JSON Schema ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³\n- TypeScript å‹å®šç¾©\n- ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹åˆ¶ç´„\n\n### å­¦ã³4: **è¤‡æ•°ã‚·ã‚¹ãƒ†ãƒ ã®çŸ¥è­˜çµ±åˆ**\n\nReact Appã¨ACTIVE-ROUTINESã®å…±é€šåŸºç›¤ã€‚\n\n**çµ±åˆã®åŸå‰‡**:\n- å…±é€šã®Typeåˆ†é¡\n- å…±é€šã®å“è³ªåŸºæº–\n- å…±é€šã®ãƒ‡ãƒ¼ã‚¿æ§‹é€ \n- **çŸ¥è­˜ã®ç›¸äº’åˆ©ç”¨**\n\n### å­¦ã³5: **ç¶™ç¶šçš„æ”¹å–„ã®åŸºç›¤**\n\nãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹ã¯æ”¹å–„ã®PDCAã‚µã‚¤ã‚¯ãƒ«ã€‚\n\n**æ”¹å–„ã‚µã‚¤ã‚¯ãƒ«**:\n1. Plan: ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹ä½œæˆ\n2. Do: å®Ÿéš›ã«æŠ•ç¨¿\n3. Check: ã‚¨ãƒ³ã‚²ãƒ¼ã‚¸ãƒ¡ãƒ³ãƒˆæ¸¬å®š\n4. Act: ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹æ›´æ–°\n5. **ç¹°ã‚Šè¿”ã—**\n\n---\n\n## é©ç”¨å ´é¢\n\n### ã“ã®åˆ¤æ–­ãŒé©åˆ‡ãªå ´é¢\n\n1. **è¤‡é›‘ãªã‚¿ãƒ¼ã‚²ãƒ†ã‚£ãƒ³ã‚°ãŒå¿…è¦**\n   - è¤‡æ•°ã®ã‚¿ãƒ¼ã‚²ãƒƒãƒˆå±¤\n   - æˆ¦ç•¥çš„ã‚»ã‚°ãƒ¡ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³\n   - **éšå±¤å‹åˆ†é¡ãŒæœ‰åŠ¹**\n\n2. **ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®å“è³ªä¿è¨¼ãŒé‡è¦**\n   - æ§‹é€ ã®ä¸€è²«æ€§\n   - ãƒ–ãƒ©ãƒ³ãƒ‰ã‚¤ãƒ¡ãƒ¼ã‚¸\n   - **äº‹å‰å®šç¾©ãƒ‡ãƒ¼ã‚¿ãŒæœ‰åŠ¹**\n\n3. **ç¶™ç¶šçš„æ”¹å–„ãŒå‰æ**\n   - ãƒ‡ãƒ¼ã‚¿ã«åŸºã¥ãæœ€é©åŒ–\n   - A/Bãƒ†ã‚¹ãƒˆ\n   - **ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹ãŒè“„ç©åŸºç›¤**\n\n4. **è¤‡æ•°ã‚·ã‚¹ãƒ†ãƒ ã®çµ±åˆ**\n   - React App + ACTIVE-ROUTINES\n   - å…±é€šã®çŸ¥è­˜åŸºç›¤\n   - **ãƒ‡ãƒ¼ã‚¿é§†å‹•çµ±åˆ**\n\n### ã“ã®åˆ¤æ–­ãŒä¸é©åˆ‡ãªå ´é¢\n\n1. **å®Œå…¨ã«è‡ªç”±ãªã‚³ãƒ³ãƒ†ãƒ³ãƒ„**\n   - å°èª¬ã€è©©ã€ã‚¢ãƒ¼ãƒˆ\n   - æ§‹é€ åˆ¶ç´„ãŒãªã„\n   - **AIè‡ªç”±ç”Ÿæˆã§ååˆ†**\n\n2. **ã‚¿ãƒ¼ã‚²ãƒƒãƒˆå±¤ãŒå˜ä¸€**\n   - éšå±¤åˆ†é¡ãŒä¸è¦\n   - ãƒ•ãƒ©ãƒƒãƒˆãªåˆ†é¡ã§ååˆ†\n   - **ã‚ªãƒ¼ãƒãƒ¼ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚°**\n\n3. **è¶…é«˜é€Ÿç”ŸæˆãŒå¿…è¦**\n   - ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ å¿œç­”\n   - ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹æ¤œç´¢ã®ã‚ªãƒ¼ãƒãƒ¼ãƒ˜ãƒƒãƒ‰è¨±å®¹ä¸å¯\n   - **ã‚­ãƒ£ãƒƒã‚·ãƒ¥å¿…é ˆ**\n\n---\n\n## å®Ÿè£…ä¾‹\n\n### ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹çµ±åˆå‡¦ç†\n\n```typescript\n// app/services/contentGeneratorService.ts\nexport async function generateWithKnowledgeBase(\n  userInput: string,\n  knowledgeBaseParams: KnowledgeBaseParams\n): Promise<GeneratedContent> {\n  // Step 1: Typeåˆ¤å®š\n  const typeId = knowledgeBaseParams.typeId  // \"001\"\n\n  // Step 2: Targetç‰¹å®šï¼ˆå…¥åŠ›åˆ†æï¼‰\n  const targetId = await analyzeTarget(userInput)  // \"T001\"\n\n  // Step 3: Knowledgeå–å¾—\n  const knowledgeContent = await loadKnowledge(\n    typeId,\n    targetId,\n    knowledgeBaseParams.knowledgeIds\n  )\n\n  // Step 4: pageStructurePatternæ¤œè¨¼\n  const pageStructureMatcher = new PageStructureMatcher()\n  const structureMatch = pageStructureMatcher.matchPageStructure(knowledgeContent)\n\n  if (structureMatch.confidence === 100) {\n    // Step 5: ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹æ§‹é€ ã§ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”Ÿæˆ\n    return await generateFromKnowledgeStructure(\n      userInput,\n      knowledgeContent,\n      structureMatch.template\n    )\n  } else {\n    // ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯: AIè‡ªç”±ç”Ÿæˆ\n    return await generateFreeForm(userInput)\n  }\n}\n```\n\n### Knowledgeæ¤œç´¢å®Ÿè£…\n\n```typescript\n// app/services/knowledgeBase/KnowledgeLoader.ts\nexport async function loadKnowledge(\n  typeId: string,\n  targetId: string,\n  knowledgeIds?: string[]\n): Promise<KnowledgeContent> {\n  // ãƒãƒƒãƒ”ãƒ³ã‚°ãƒ‡ãƒ¼ã‚¿èª­ã¿è¾¼ã¿\n  const mapping = await loadMapping()\n\n  // Targetâ†’Personaâ†’Knowledgeè§£æ±º\n  const personas = mapping.targetToPersonas[targetId]\n  const allKnowledgeIds = personas.flatMap(\n    persona => mapping.personaToKnowledge[persona]\n  )\n\n  // æŒ‡å®šã•ã‚ŒãŸKnowledge IDãŒã‚ã‚Œã°ãƒ•ã‚£ãƒ«ã‚¿\n  const filteredIds = knowledgeIds\n    ? allKnowledgeIds.filter(id => knowledgeIds.includes(id))\n    : allKnowledgeIds\n\n  // Knowledgeèª­ã¿è¾¼ã¿\n  const knowledgeFiles = await Promise.all(\n    filteredIds.map(id =>\n      import(`@/data/knowledgeBase/knowledge/type${typeId}/${id}.json`)\n    )\n  )\n\n  // æœ€é©ãªKnowledgeã‚’é¸æŠï¼ˆã‚¹ã‚³ã‚¢ãƒªãƒ³ã‚°ï¼‰\n  return selectBestKnowledge(knowledgeFiles, userInput)\n}\n```\n\n---\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- **decision_design_strategy_pattern_five_types_2025_11_25.md**: 5ã¤ã®æ‹¡æ•£ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼ˆType001-005ï¼‰ã®è©³ç´°\n- **skill_five_stage_ai_pipeline_2025_11_25.md**: ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹çµ±åˆã®5æ®µéšãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³\n- **decision_arch_template_registry_pattern_2025_11_25.md**: pageStructurePatternã¨ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ¬ã‚¸ã‚¹ãƒˆãƒªã®çµ±åˆ\n\n---\n\n**ã“ã®åˆ¤æ–­ã«ã‚ˆã‚Šã€190å€‹ä»¥ä¸Šã®ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹ã‚’ä½“ç³»çš„ã«ç®¡ç†ã—ã€ã‚¿ãƒ¼ã‚²ãƒƒãƒˆãƒãƒƒãƒãƒ³ã‚°ç²¾åº¦95%ã€æ§‹é€ å®Œç’§è¨­å®šç‡100%ã‚’é”æˆã—ãŸã€‚ãƒ‡ãƒ¼ã‚¿é§†å‹•è¨­è¨ˆã¯è¤‡é›‘ãªã‚·ã‚¹ãƒ†ãƒ ã®æ‹¡å¼µæ€§ã¨å“è³ªä¿è¨¼ã®éµã§ã‚ã‚‹ã€‚**\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€ŒType-Target-Personaãƒãƒƒãƒ”ãƒ³ã‚°ã«ã‚ˆã‚‹ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹ã‚·ã‚¹ãƒ†ãƒ ã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "decision-design-strategy-pattern-five-types",
      "skill-five-stage-ai-pipeline",
      "decision-arch-template-registry-pattern"
    ]
  },
  {
    "slug": "arch-multi-page-support",
    "title": "è¤‡æ•°ãƒšãƒ¼ã‚¸å¯¾å¿œè¨­è¨ˆã®åˆ¤æ–­",
    "category": "Decisionsï¼ˆæŠ€è¡“é¸å®šãƒ»åˆ¤æ–­ï¼‰",
    "description": "è¤‡æ•°ãƒšãƒ¼ã‚¸å¯¾å¿œè¨­è¨ˆã®åˆ¤æ–­",
    "project": "ai-document-generator",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"decision_arch_multi_page_support_2025_04_11\",\n  \"type\": \"decision\",\n  \"name\": \"è¤‡æ•°ãƒšãƒ¼ã‚¸å¯¾å¿œè¨­è¨ˆã®åˆ¤æ–­\",\n  \"decision_type\": \"architecture_judgment\",\n  \"tags\": [\"è¤‡æ•°ãƒšãƒ¼ã‚¸\", \"ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³\", \"ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ§‹é€ \", \"ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£\"],\n  \"source_project\": \"ai-document-generator\",\n  \"chosen\": \"è¤‡æ•°ãƒšãƒ¼ã‚¸å¯¾å¿œï¼ˆãƒšãƒ¼ã‚¸å˜ä½ã§ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’ç®¡ç†ï¼‰\",\n  \"alternatives\": [\"å˜ä¸€ãƒšãƒ¼ã‚¸ã®ã¿\", \"ç„¡é™ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«\", \"ã‚»ã‚¯ã‚·ãƒ§ãƒ³é€£çµ\"],\n  \"related_knowledge\": [\"skill_grid_based_layout_system_2025_04_11\", \"decision_arch_grid_based_layout_2025_04_11\"],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-04-11\",\n  \"updated\": \"2025-04-11\"\n}\n```\n\n# è¤‡æ•°ãƒšãƒ¼ã‚¸å¯¾å¿œè¨­è¨ˆã®åˆ¤æ–­\n\n## ä½•ã‚’åˆ¤æ–­ã—ãŸã‹\n\nãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚¨ãƒ‡ã‚£ã‚¿ã«ãŠã„ã¦ã€å˜ä¸€ãƒšãƒ¼ã‚¸ã®ã¿ã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹ã‹ã€è¤‡æ•°ãƒšãƒ¼ã‚¸ã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹ã‹ã€ã¾ãŸã¯ç„¡é™ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã‚’æ¡ç”¨ã™ã‚‹ã‹ã‚’åˆ¤æ–­ã—ãŸã€‚\n\n## é¸ã‚“ã ã‚‚ã®\n\n**è¤‡æ•°ãƒšãƒ¼ã‚¸å¯¾å¿œï¼ˆãƒšãƒ¼ã‚¸å˜ä½ã§ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’ç®¡ç†ï¼‰**\n\n**ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ§‹é€ **:\n```typescript\ninterface Document {\n  id: string;\n  name: string;\n  documentTypeId: string;\n  pages: PageContent[];  // è¤‡æ•°ãƒšãƒ¼ã‚¸\n  themeId: string;\n  createdAt: string;\n  updatedAt: string;\n}\n\ninterface PageContent {\n  id: string;\n  index: number;  // ãƒšãƒ¼ã‚¸ç•ªå·ï¼ˆ0-indexedï¼‰\n  type: string;   // \"cover\", \"content\", \"closing\"\n  layoutId: string;  // ãƒšãƒ¼ã‚¸ã”ã¨ã«ç•°ãªã‚‹ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ\n  content: any[];\n  metadata: Record<string, any>;\n}\n```\n\n**pageStore.ts**:\n```typescript\nconst usePageStore = create((set) => ({\n  pages: [],\n  activePageIndex: 0,\n  addPage: (page: PageContent) => { ... },\n  removePage: (pageId: string) => { ... },\n  setActivePageIndex: (index: number) => { ... },\n  reorderPages: (from: number, to: number) => { ... }\n}));\n```\n\n## ä»–ã®å€™è£œ\n\n### å€™è£œ1ï¼šå˜ä¸€ãƒšãƒ¼ã‚¸ã®ã¿\n\nãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’1ãƒšãƒ¼ã‚¸ã«åˆ¶é™ã™ã‚‹ã€‚\n\n```typescript\ninterface Document {\n  id: string;\n  name: string;\n  layoutId: string;  // 1ã¤ã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ\n  sections: Section[];  // ã™ã¹ã¦ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³\n  themeId: string;\n}\n```\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n\n**ç†ç”±1ï¼šãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚¿ã‚¤ãƒ—ã®åˆ¶ç´„**\n- äº‹æ¥­è¨ˆç”»æ›¸ã€ãƒ—ãƒ¬ã‚¼ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã€ãƒ¬ãƒãƒ¼ãƒˆãªã©ã€è¤‡æ•°ãƒšãƒ¼ã‚¸ãŒå¿…è¦ãªãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚¿ã‚¤ãƒ—ãŒå¤šã„\n- å˜ä¸€ãƒšãƒ¼ã‚¸ã§ã¯ã€ã“ã‚Œã‚‰ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ä½œæˆã§ããªã„\n\n**ä¾‹ï¼šäº‹æ¥­è¨ˆç”»æ›¸**:\n```\n1. è¡¨ç´™ï¼ˆã‚«ãƒãƒ¼ãƒšãƒ¼ã‚¸ï¼‰\n2. ç›®æ¬¡\n3. ã‚¨ã‚°ã‚¼ã‚¯ãƒ†ã‚£ãƒ–ã‚µãƒãƒªãƒ¼\n4. ãƒ“ã‚¸ãƒ§ãƒ³ãƒ»ãƒŸãƒƒã‚·ãƒ§ãƒ³\n5. å¸‚å ´åˆ†æ\n6. ç«¶åˆåˆ†æ\n7. ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°æˆ¦ç•¥\n8. è²¡å‹™è¨ˆç”»\n9. ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—\n10. è£è¡¨ç´™\n```\n\nâ†’ 10ãƒšãƒ¼ã‚¸å¿…è¦\n\n**ç†ç”±2ï¼šãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã®å¤šæ§˜æ€§**\n- ãƒšãƒ¼ã‚¸ã”ã¨ã«ç•°ãªã‚‹ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆãŒå¿…è¦\n- è¡¨ç´™ï¼ˆã‚«ãƒãƒ¼ï¼‰ã€ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãƒšãƒ¼ã‚¸ã€è£è¡¨ç´™ã§ã€ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆãŒç•°ãªã‚‹\n\n**ä¾‹**:\n```\n- è¡¨ç´™: ã‚¿ã‚¤ãƒˆãƒ«ã€ãƒ­ã‚´ã€æ—¥ä»˜ã®ã¿\n- ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãƒšãƒ¼ã‚¸: ãƒ˜ãƒƒãƒ€ãƒ¼ã€2åˆ—ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã€ãƒ•ãƒƒã‚¿ãƒ¼\n- è£è¡¨ç´™: é€£çµ¡å…ˆã€QRã‚³ãƒ¼ãƒ‰\n```\n\n**ç†ç”±3ï¼šPDFå‡ºåŠ›**\n- PDFã¯ã€ãƒšãƒ¼ã‚¸å˜ä½ã§ç”Ÿæˆã•ã‚Œã‚‹\n- å˜ä¸€ãƒšãƒ¼ã‚¸ã§ã¯ã€PDFã®è¤‡æ•°ãƒšãƒ¼ã‚¸ã«å¯¾å¿œã§ããªã„\n\n**ç†ç”±4ï¼šå°åˆ·**\n- å°åˆ·ã¯ã€ãƒšãƒ¼ã‚¸å˜ä½\n- å˜ä¸€ãƒšãƒ¼ã‚¸ã§ã¯ã€è¤‡æ•°ãƒšãƒ¼ã‚¸ã®å°åˆ·ã«å¯¾å¿œã§ããªã„\n\n**ãƒ¡ãƒªãƒƒãƒˆï¼ˆé¸ã°ãªã‹ã£ãŸãŒã€èªã‚ã‚‹ã¹ãç‚¹ï¼‰**:\n- **ã‚·ãƒ³ãƒ—ãƒ«**: å®Ÿè£…ãŒç°¡å˜\n- **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹**: 1ãƒšãƒ¼ã‚¸åˆ†ã®ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã®ã¿\n- **å°è¦æ¨¡ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: ãƒãƒ©ã‚·ã€ãƒã‚¹ã‚¿ãƒ¼ãªã©\n\n**å˜ä¸€ãƒšãƒ¼ã‚¸ãŒé©ã—ãŸã‚±ãƒ¼ã‚¹**:\n- ãƒãƒ©ã‚·ã€ãƒã‚¹ã‚¿ãƒ¼ï¼ˆ1ãƒšãƒ¼ã‚¸å®Œçµï¼‰\n- ååˆºã€ã‚«ãƒ¼ãƒ‰\n- SNSç”»åƒ\n\nai-document-generatorã¯ã€è¤‡æ•°ãƒšãƒ¼ã‚¸ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆï¼ˆäº‹æ¥­è¨ˆç”»æ›¸ã€ãƒ—ãƒ¬ã‚¼ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ï¼‰ã‚‚ã‚µãƒãƒ¼ãƒˆã™ã‚‹ãŸã‚ã€è¤‡æ•°ãƒšãƒ¼ã‚¸å¯¾å¿œãŒå¿…é ˆã€‚\n\n### å€™è£œ2ï¼šç„¡é™ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«\n\nãƒšãƒ¼ã‚¸ã®æ¦‚å¿µã‚’ãªãã—ã€ç„¡é™ã«ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã§ãã‚‹ã‚­ãƒ£ãƒ³ãƒã‚¹ã€‚\n\n```typescript\ninterface Document {\n  id: string;\n  name: string;\n  canvas: {\n    width: number;\n    height: number;  // ç„¡é™\n    sections: Section[];\n  };\n}\n\ninterface Section {\n  id: string;\n  position: { x: number; y: number };  // çµ¶å¯¾åº§æ¨™\n  size: { width: number; height: number };\n}\n```\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n\n**ç†ç”±1ï¼šPDFå‡ºåŠ›ã®å›°é›£ã•**\n- PDFã¯ã€ãƒšãƒ¼ã‚¸å˜ä½ã§ç”Ÿæˆã•ã‚Œã‚‹\n- ç„¡é™ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã‚’ã€PDFã®ãƒšãƒ¼ã‚¸ã«åˆ†å‰²ã™ã‚‹å¿…è¦ãŒã‚ã‚‹\n- ãƒšãƒ¼ã‚¸å¢ƒç•Œã‚’ã©ã“ã«è¨­å®šã™ã‚‹ã‹ã€åˆ¤æ–­ãŒå›°é›£\n\n**ä¾‹**:\n```\nç„¡é™ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«: é«˜ã•3000px\n\nâ†’ PDFã«åˆ†å‰²\nãƒšãƒ¼ã‚¸1: 0-1000px\nãƒšãƒ¼ã‚¸2: 1000-2000px\nãƒšãƒ¼ã‚¸3: 2000-3000px\n\nå•é¡Œ: ã‚»ã‚¯ã‚·ãƒ§ãƒ³ãŒãƒšãƒ¼ã‚¸å¢ƒç•Œã‚’ã¾ãŸãå ´åˆã€ã©ã†ã™ã‚‹ã‹ï¼Ÿ\n```\n\n**ç†ç”±2ï¼šå°åˆ·ã®å›°é›£ã•**\n- å°åˆ·ã¯ã€ãƒšãƒ¼ã‚¸å˜ä½\n- ç„¡é™ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã‚’ã€å°åˆ·ç”¨ã®ãƒšãƒ¼ã‚¸ã«åˆ†å‰²ã™ã‚‹å¿…è¦ãŒã‚ã‚‹\n\n**ç†ç”±3ï¼šãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ§‹é€ ã®ä¸æ˜ç¢ºã•**\n- ç„¡é™ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã§ã¯ã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®æ§‹é€ ï¼ˆè¡¨ç´™ã€æœ¬æ–‡ã€è£è¡¨ç´™ï¼‰ãŒä¸æ˜ç¢º\n- è¤‡æ•°ãƒšãƒ¼ã‚¸ãªã‚‰ã€ãƒšãƒ¼ã‚¸ç•ªå·ã§æ§‹é€ ãŒæ˜ç¢º\n\n**ç†ç”±4ï¼šãƒ¦ãƒ¼ã‚¶ãƒ¼ã®èªè­˜**\n- ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯ã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ãƒšãƒ¼ã‚¸å˜ä½ã§èªè­˜\n- ç„¡é™ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã¯ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®èªè­˜ã¨åˆã‚ãªã„\n\n**ãƒ¡ãƒªãƒƒãƒˆï¼ˆé¸ã°ãªã‹ã£ãŸãŒã€èªã‚ã‚‹ã¹ãç‚¹ï¼‰**:\n- **æŸ”è»Ÿæ€§**: ãƒšãƒ¼ã‚¸ã®åˆ¶ç´„ãŒãªã„\n- **ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ„ãƒ¼ãƒ«**: Figmaã€Canvaãªã©ã¯ç„¡é™ã‚­ãƒ£ãƒ³ãƒã‚¹\n- **Webãƒšãƒ¼ã‚¸**: Webãƒšãƒ¼ã‚¸ã¯ç„¡é™ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«\n\n**ç„¡é™ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãŒé©ã—ãŸã‚±ãƒ¼ã‚¹**:\n- ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ„ãƒ¼ãƒ«ï¼ˆFigmaã€Canvaï¼‰\n- Webãƒšãƒ¼ã‚¸ï¼ˆãƒ©ãƒ³ãƒ‡ã‚£ãƒ³ã‚°ãƒšãƒ¼ã‚¸ï¼‰\n- ãƒ›ãƒ¯ã‚¤ãƒˆãƒœãƒ¼ãƒ‰ãƒ„ãƒ¼ãƒ«ï¼ˆMiroï¼‰\n\nai-document-generatorã¯ã€PDFå‡ºåŠ›ã€å°åˆ·ã‚’é‡è¦–ã™ã‚‹ãŸã‚ã€è¤‡æ•°ãƒšãƒ¼ã‚¸å¯¾å¿œãŒé©åˆ‡ã€‚\n\n### å€™è£œ3ï¼šã‚»ã‚¯ã‚·ãƒ§ãƒ³é€£çµ\n\nãƒšãƒ¼ã‚¸ã®æ¦‚å¿µã¯ã‚ã‚‹ãŒã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’é€£çµã—ã¦è‡ªå‹•çš„ã«ãƒšãƒ¼ã‚¸ã‚’ç”Ÿæˆã€‚\n\n```typescript\ninterface Document {\n  id: string;\n  name: string;\n  sections: Section[];  // ã™ã¹ã¦ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³\n  pageHeight: number;  // ãƒšãƒ¼ã‚¸ã®é«˜ã•\n}\n\n// ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®é«˜ã•ã«å¿œã˜ã¦ã€è‡ªå‹•çš„ã«ãƒšãƒ¼ã‚¸ã‚’ç”Ÿæˆ\nfunction generatePages(sections: Section[], pageHeight: number): Page[] {\n  let currentPage: Section[] = [];\n  let currentHeight = 0;\n  const pages: Page[] = [];\n\n  sections.forEach(section => {\n    if (currentHeight + section.height > pageHeight) {\n      pages.push(currentPage);\n      currentPage = [section];\n      currentHeight = section.height;\n    } else {\n      currentPage.push(section);\n      currentHeight += section.height;\n    }\n  });\n\n  pages.push(currentPage);\n  return pages;\n}\n```\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n\n**ç†ç”±1ï¼šãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã®åˆ¶ç´„**\n- ã‚»ã‚¯ã‚·ãƒ§ãƒ³é€£çµã§ã¯ã€ãƒšãƒ¼ã‚¸ã”ã¨ã«ç•°ãªã‚‹ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’é©ç”¨ã§ããªã„\n- è¡¨ç´™ã€ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãƒšãƒ¼ã‚¸ã€è£è¡¨ç´™ã§ã€ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆãŒç•°ãªã‚‹å ´åˆã«å¯¾å¿œã§ããªã„\n\n**ç†ç”±2ï¼šã‚»ã‚¯ã‚·ãƒ§ãƒ³ãŒãƒšãƒ¼ã‚¸ã‚’ã¾ãŸãå•é¡Œ**\n- ã‚»ã‚¯ã‚·ãƒ§ãƒ³ãŒé•·ã„å ´åˆã€ãƒšãƒ¼ã‚¸ã‚’ã¾ãŸã\n- ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’åˆ†å‰²ã™ã‚‹ã‹ã€åˆ¤æ–­ãŒå›°é›£\n\n**ä¾‹**:\n```\nã‚»ã‚¯ã‚·ãƒ§ãƒ³1: é«˜ã•800px\nãƒšãƒ¼ã‚¸ã®é«˜ã•: 1000px\n\nâ†’ ãƒšãƒ¼ã‚¸1ã«é…ç½®\n\nã‚»ã‚¯ã‚·ãƒ§ãƒ³2: é«˜ã•300px\nç¾åœ¨ã®é«˜ã•: 800px + 300px = 1100px > 1000px\n\nâ†’ ãƒšãƒ¼ã‚¸ã‚’ã¾ãŸãï¼Ÿ or ãƒšãƒ¼ã‚¸2ã«é…ç½®ï¼Ÿ\n```\n\n**ç†ç”±3ï¼šãƒ¦ãƒ¼ã‚¶ãƒ¼ã®åˆ¶å¾¡ãŒå›°é›£**\n- ã‚»ã‚¯ã‚·ãƒ§ãƒ³é€£çµã§ã¯ã€ã©ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ãŒã©ã®ãƒšãƒ¼ã‚¸ã«é…ç½®ã•ã‚Œã‚‹ã‹ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒåˆ¶å¾¡ã§ããªã„\n- è¤‡æ•°ãƒšãƒ¼ã‚¸ãªã‚‰ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒæ˜ç¤ºçš„ã«ãƒšãƒ¼ã‚¸ã‚’ç®¡ç†\n\n**ç†ç”±4ï¼šPDFå‡ºåŠ›ã®äºˆæ¸¬å›°é›£**\n- ã‚»ã‚¯ã‚·ãƒ§ãƒ³é€£çµã§ã¯ã€PDFå‡ºåŠ›æ™‚ã«ä½•ãƒšãƒ¼ã‚¸ã«ãªã‚‹ã‹ã€äºˆæ¸¬å›°é›£\n- è¤‡æ•°ãƒšãƒ¼ã‚¸ãªã‚‰ã€ãƒšãƒ¼ã‚¸æ•°ãŒæ˜ç¢º\n\n**ãƒ¡ãƒªãƒƒãƒˆï¼ˆé¸ã°ãªã‹ã£ãŸãŒã€èªã‚ã‚‹ã¹ãç‚¹ï¼‰**:\n- **è‡ªå‹•ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãƒšãƒ¼ã‚¸ã‚’ç®¡ç†ã™ã‚‹å¿…è¦ãŒãªã„\n- **æŸ”è»Ÿæ€§**: ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’è¿½åŠ ã™ã‚‹ã ã‘ã§ã€è‡ªå‹•çš„ã«ãƒšãƒ¼ã‚¸ãŒå¢—ãˆã‚‹\n\n**ã‚»ã‚¯ã‚·ãƒ§ãƒ³é€£çµãŒé©ã—ãŸã‚±ãƒ¼ã‚¹**:\n- ãƒ¬ãƒãƒ¼ãƒˆã€è«–æ–‡ï¼ˆã‚³ãƒ³ãƒ†ãƒ³ãƒ„é‡è¦–ã€ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã¯è‡ªå‹•ï¼‰\n- é›»å­æ›¸ç±\n- ãƒ–ãƒ­ã‚°è¨˜äº‹\n\nai-document-generatorã¯ã€ãƒšãƒ¼ã‚¸ã”ã¨ã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’é‡è¦–ã™ã‚‹ãŸã‚ã€è¤‡æ•°ãƒšãƒ¼ã‚¸å¯¾å¿œãŒé©åˆ‡ã€‚\n\n## åˆ¤æ–­ç†ç”±\n\n### ç†ç”±1ï¼šãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚¿ã‚¤ãƒ—ã®å¤šæ§˜æ€§\n\nai-document-generatorã¯ã€æ§˜ã€…ãªãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚¿ã‚¤ãƒ—ã‚’ã‚µãƒãƒ¼ãƒˆã€‚\n\n**ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚¿ã‚¤ãƒ—**:\n1. **ãƒãƒ©ã‚·**: 1ãƒšãƒ¼ã‚¸\n2. **ãƒ—ãƒ¬ã‚¼ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³**: 10-20ãƒšãƒ¼ã‚¸\n3. **äº‹æ¥­è¨ˆç”»æ›¸**: 20-50ãƒšãƒ¼ã‚¸\n4. **ãƒ¬ãƒãƒ¼ãƒˆ**: 10-30ãƒšãƒ¼ã‚¸\n5. **ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ª**: 10-20ãƒšãƒ¼ã‚¸\n\nè¤‡æ•°ãƒšãƒ¼ã‚¸å¯¾å¿œã«ã‚ˆã‚Šã€ã™ã¹ã¦ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚¿ã‚¤ãƒ—ã«å¯¾å¿œå¯èƒ½ã€‚\n\n### ç†ç”±2ï¼šãƒšãƒ¼ã‚¸ã”ã¨ã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ\n\nãƒšãƒ¼ã‚¸ã”ã¨ã«ç•°ãªã‚‹ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’é©ç”¨ã§ãã‚‹ã€‚\n\n**ä¾‹ï¼šäº‹æ¥­è¨ˆç”»æ›¸**:\n```typescript\nconst pages = [\n  { id: \"page1\", type: \"cover\", layoutId: \"cover-layout\" },  // è¡¨ç´™\n  { id: \"page2\", type: \"toc\", layoutId: \"toc-layout\" },     // ç›®æ¬¡\n  { id: \"page3\", type: \"content\", layoutId: \"content-layout\" },  // ã‚³ãƒ³ãƒ†ãƒ³ãƒ„\n  { id: \"page4\", type: \"content\", layoutId: \"content-layout\" },\n  { id: \"page5\", type: \"closing\", layoutId: \"closing-layout\" }  // è£è¡¨ç´™\n];\n```\n\nå„ãƒšãƒ¼ã‚¸ãŒç‹¬ç«‹ã—ãŸãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’æŒã¤ã€‚\n\n### ç†ç”±3ï¼šãƒšãƒ¼ã‚¸ç®¡ç†ã®æ˜ç¢ºã•\n\nãƒšãƒ¼ã‚¸ç•ªå·ã§ã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®æ§‹é€ ãŒæ˜ç¢ºã€‚\n\n**ãƒšãƒ¼ã‚¸ç®¡ç†**:\n```typescript\n// ãƒšãƒ¼ã‚¸ã‚’è¿½åŠ \naddPage({ type: \"content\", layoutId: \"content-layout\" });\n\n// ãƒšãƒ¼ã‚¸ã‚’å‰Šé™¤\nremovePage(\"page3\");\n\n// ãƒšãƒ¼ã‚¸ã‚’ä¸¦ã³æ›¿ãˆ\nreorderPages(2, 5);  // ãƒšãƒ¼ã‚¸3ã‚’ãƒšãƒ¼ã‚¸6ã«ç§»å‹•\n\n// ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãªãƒšãƒ¼ã‚¸ã‚’å¤‰æ›´\nsetActivePageIndex(2);  // ãƒšãƒ¼ã‚¸3ã‚’è¡¨ç¤º\n```\n\nãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒæ˜ç¤ºçš„ã«ãƒšãƒ¼ã‚¸ã‚’ç®¡ç†ã§ãã‚‹ã€‚\n\n### ç†ç”±4ï¼šPDFå‡ºåŠ›ã¨ã®çµ±åˆ\n\nPDFã¯ã€ãƒšãƒ¼ã‚¸å˜ä½ã§ç”Ÿæˆã•ã‚Œã‚‹ãŸã‚ã€è¤‡æ•°ãƒšãƒ¼ã‚¸å¯¾å¿œãŒè‡ªç„¶ã€‚\n\n**PDFå‡ºåŠ›**:\n```typescript\nasync function exportToPDF(document: Document) {\n  const pdf = new jsPDF();\n\n  document.pages.forEach((page, index) => {\n    if (index > 0) {\n      pdf.addPage();  // æ–°ã—ã„ãƒšãƒ¼ã‚¸ã‚’è¿½åŠ \n    }\n\n    // ãƒšãƒ¼ã‚¸ã‚’ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°\n    renderPageToPDF(pdf, page);\n  });\n\n  pdf.save(`${document.name}.pdf`);\n}\n```\n\nãƒšãƒ¼ã‚¸å˜ä½ã§PDFã«å¤‰æ›ã€‚\n\n### ç†ç”±5ï¼šãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³UI\n\nè¤‡æ•°ãƒšãƒ¼ã‚¸å¯¾å¿œã«ã‚ˆã‚Šã€ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³UIãŒè‡ªç„¶ã€‚\n\n**ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³UI**:\n```tsx\n<div className=\"page-navigation\">\n  <button onClick={() => goToPreviousPage()} disabled={currentPage === 0}>\n    å‰ã®ãƒšãƒ¼ã‚¸\n  </button>\n\n  <span>\n    {currentPage + 1} / {totalPages}\n  </span>\n\n  <button onClick={() => goToNextPage()} disabled={currentPage === totalPages - 1}>\n    æ¬¡ã®ãƒšãƒ¼ã‚¸\n  </button>\n</div>\n\n<div className=\"page-thumbnails\">\n  {pages.map((page, index) => (\n    <div\n      key={page.id}\n      className={index === currentPage ? 'active' : ''}\n      onClick={() => setActivePageIndex(index)}\n    >\n      <PageThumbnail page={page} />\n      <span>ãƒšãƒ¼ã‚¸ {index + 1}</span>\n    </div>\n  ))}\n</div>\n```\n\n### ç†ç”±6ï¼šå°åˆ·ã¨ã®çµ±åˆ\n\nå°åˆ·ã¯ã€ãƒšãƒ¼ã‚¸å˜ä½ã§è¡Œã‚ã‚Œã‚‹ãŸã‚ã€è¤‡æ•°ãƒšãƒ¼ã‚¸å¯¾å¿œãŒè‡ªç„¶ã€‚\n\n**å°åˆ·**:\n```css\n@media print {\n  .page {\n    page-break-after: always;  /* ãƒšãƒ¼ã‚¸åŒºåˆ‡ã‚Š */\n  }\n\n  .page:last-child {\n    page-break-after: auto;\n  }\n}\n```\n\n### ç†ç”±7ï¼šãƒšãƒ¼ã‚¸ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ\n\nãƒšãƒ¼ã‚¸ã‚¿ã‚¤ãƒ—ï¼ˆè¡¨ç´™ã€ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã€è£è¡¨ç´™ï¼‰ã”ã¨ã«ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’å®šç¾©ã€‚\n\n**ãƒšãƒ¼ã‚¸ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ**:\n```json\n{\n  \"pageTemplates\": [\n    {\n      \"type\": \"cover\",\n      \"name\": \"è¡¨ç´™\",\n      \"layoutId\": \"cover-layout\",\n      \"defaultSections\": [\n        { \"id\": \"logo\", \"componentType\": \"image\" },\n        { \"id\": \"title\", \"componentType\": \"heading\" },\n        { \"id\": \"date\", \"componentType\": \"text\" }\n      ]\n    },\n    {\n      \"type\": \"content\",\n      \"name\": \"ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãƒšãƒ¼ã‚¸\",\n      \"layoutId\": \"content-layout\",\n      \"defaultSections\": [\n        { \"id\": \"header\", \"componentType\": \"text\" },\n        { \"id\": \"content\", \"componentType\": \"richtext\" },\n        { \"id\": \"footer\", \"componentType\": \"text\" }\n      ]\n    }\n  ]\n}\n```\n\n## ã“ã®åˆ¤æ–­ã‹ã‚‰å­¦ã¹ã‚‹ã“ã¨\n\n### å­¦ã³1ï¼šãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ vs Webãƒšãƒ¼ã‚¸\n\n**ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**:\n- ãƒšãƒ¼ã‚¸å˜ä½ã§æ§‹æˆ\n- PDFå‡ºåŠ›ã€å°åˆ·ã‚’é‡è¦–\n- è¤‡æ•°ãƒšãƒ¼ã‚¸å¯¾å¿œãŒå¿…é ˆ\n\n**Webãƒšãƒ¼ã‚¸**:\n- ç„¡é™ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«\n- ãƒ–ãƒ©ã‚¦ã‚¶ã§ã®è¡¨ç¤ºã‚’é‡è¦–\n- ãƒšãƒ¼ã‚¸ã®æ¦‚å¿µãŒãªã„\n\n**åˆ¤æ–­åŸºæº–**:\n- **PDFå‡ºåŠ›ãŒå¿…è¦**: è¤‡æ•°ãƒšãƒ¼ã‚¸å¯¾å¿œ\n- **å°åˆ·ãŒå¿…è¦**: è¤‡æ•°ãƒšãƒ¼ã‚¸å¯¾å¿œ\n- **Webã®ã¿**: ç„¡é™ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«\n\n### å­¦ã³2ï¼šãƒšãƒ¼ã‚¸ vs ã‚»ã‚¯ã‚·ãƒ§ãƒ³\n\n**ãƒšãƒ¼ã‚¸**:\n- ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®å¤§ããªå˜ä½\n- ãƒšãƒ¼ã‚¸ã”ã¨ã«ç•°ãªã‚‹ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ\n- PDFã®ãƒšãƒ¼ã‚¸ã«å¯¾å¿œ\n\n**ã‚»ã‚¯ã‚·ãƒ§ãƒ³**:\n- ãƒšãƒ¼ã‚¸å†…ã®å°ã•ãªå˜ä½\n- ãƒ˜ãƒƒãƒ€ãƒ¼ã€ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã€ãƒ•ãƒƒã‚¿ãƒ¼ãªã©\n- ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã®æ§‹æˆè¦ç´ \n\n**éšå±¤æ§‹é€ **:\n```\nDocument\nâ”œâ”€ Page 1\nâ”‚  â”œâ”€ Section 1 (Header)\nâ”‚  â”œâ”€ Section 2 (Content)\nâ”‚  â””â”€ Section 3 (Footer)\nâ”œâ”€ Page 2\nâ”‚  â”œâ”€ Section 1 (Header)\nâ”‚  â”œâ”€ Section 2 (Content)\nâ”‚  â””â”€ Section 3 (Footer)\n```\n\n### å­¦ã³3ï¼šãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³UI\n\nè¤‡æ•°ãƒšãƒ¼ã‚¸å¯¾å¿œã§ã¯ã€ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³UIãŒé‡è¦ã€‚\n\n**ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³UI**:\n1. **ãƒšãƒ¼ã‚¸ç•ªå·è¡¨ç¤º**: ã€Œ3 / 10ã€\n2. **å‰å¾Œãƒšãƒ¼ã‚¸ãƒœã‚¿ãƒ³**: ã€Œå‰ã®ãƒšãƒ¼ã‚¸ã€ã€Œæ¬¡ã®ãƒšãƒ¼ã‚¸ã€\n3. **ãƒšãƒ¼ã‚¸ã‚µãƒ ãƒã‚¤ãƒ«**: ãƒšãƒ¼ã‚¸ã®ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼\n4. **ãƒšãƒ¼ã‚¸ã‚¸ãƒ£ãƒ³ãƒ—**: ç‰¹å®šã®ãƒšãƒ¼ã‚¸ã«ç›´æ¥ç§»å‹•\n\n**ä¾‹**:\n```tsx\n<PageNavigation\n  currentPage={activePageIndex}\n  totalPages={pages.length}\n  onPageChange={setActivePageIndex}\n  thumbnails={pages.map(page => generateThumbnail(page))}\n/>\n```\n\n### å­¦ã³4ï¼šãƒšãƒ¼ã‚¸ã®è‡ªå‹•ç”Ÿæˆ\n\nãƒšãƒ¼ã‚¸ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ä½¿ã£ã¦ã€ãƒšãƒ¼ã‚¸ã‚’è‡ªå‹•ç”Ÿæˆã€‚\n\n**ä¾‹ï¼šãƒ—ãƒ¬ã‚¼ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³**:\n```typescript\nfunction createPresentation(title: string, slides: string[]) {\n  const pages: PageContent[] = [\n    // è¡¨ç´™\n    {\n      id: \"cover\",\n      index: 0,\n      type: \"cover\",\n      layoutId: \"cover-layout\",\n      content: [{ componentType: \"heading\", content: title }]\n    },\n\n    // ã‚¹ãƒ©ã‚¤ãƒ‰\n    ...slides.map((slide, index) => ({\n      id: `slide-${index + 1}`,\n      index: index + 1,\n      type: \"content\",\n      layoutId: \"slide-layout\",\n      content: [{ componentType: \"richtext\", content: slide }]\n    })),\n\n    // æœ€çµ‚ãƒšãƒ¼ã‚¸\n    {\n      id: \"closing\",\n      index: slides.length + 1,\n      type: \"closing\",\n      layoutId: \"closing-layout\",\n      content: [{ componentType: \"text\", content: \"ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã—ãŸ\" }]\n    }\n  ];\n\n  return pages;\n}\n```\n\n### å­¦ã³5ï¼šãƒšãƒ¼ã‚¸ã®ã‚³ãƒ”ãƒ¼&ãƒšãƒ¼ã‚¹ãƒˆ\n\nãƒšãƒ¼ã‚¸å˜ä½ã§ã‚³ãƒ”ãƒ¼&ãƒšãƒ¼ã‚¹ãƒˆãŒã§ãã‚‹ã€‚\n\n**ä¾‹**:\n```typescript\n// ãƒšãƒ¼ã‚¸ã‚’ã‚³ãƒ”ãƒ¼\nconst copiedPage = clonePage(pages[2]);\n\n// ãƒšãƒ¼ã‚¸ã‚’æŒ¿å…¥\ninsertPage(copiedPage, 5);  // ãƒšãƒ¼ã‚¸6ã¨ã—ã¦æŒ¿å…¥\n```\n\n### å­¦ã³6ï¼šãƒšãƒ¼ã‚¸ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆåŒ–\n\nã‚ˆãä½¿ã†ãƒšãƒ¼ã‚¸ã‚’ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã¨ã—ã¦ä¿å­˜ã€‚\n\n**ä¾‹**:\n```typescript\n// ãƒšãƒ¼ã‚¸ã‚’ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã¨ã—ã¦ä¿å­˜\nsavePageAsTemplate(pages[3], \"æ¨™æº–ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãƒšãƒ¼ã‚¸\");\n\n// ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‹ã‚‰ãƒšãƒ¼ã‚¸ã‚’ä½œæˆ\nconst newPage = createPageFromTemplate(\"æ¨™æº–ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãƒšãƒ¼ã‚¸\");\naddPage(newPage);\n```\n\n### å­¦ã³7ï¼šãƒšãƒ¼ã‚¸ã®ä¸¦ã³æ›¿ãˆ\n\nãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—ã§ãƒšãƒ¼ã‚¸ã‚’ä¸¦ã³æ›¿ãˆã€‚\n\n**ä¾‹**:\n```tsx\n<DndProvider backend={HTML5Backend}>\n  <div className=\"page-list\">\n    {pages.map((page, index) => (\n      <DraggablePage\n        key={page.id}\n        page={page}\n        index={index}\n        onMove={(from, to) => reorderPages(from, to)}\n      />\n    ))}\n  </div>\n</DndProvider>\n```\n\n---\n\n## ã¾ã¨ã‚\n\n**è¤‡æ•°ãƒšãƒ¼ã‚¸å¯¾å¿œã‚’é¸ã‚“ã ç†ç”±**:\n1. ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚¿ã‚¤ãƒ—ã®å¤šæ§˜æ€§ï¼ˆãƒãƒ©ã‚·ã€ãƒ—ãƒ¬ã‚¼ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã€äº‹æ¥­è¨ˆç”»æ›¸ï¼‰\n2. ãƒšãƒ¼ã‚¸ã”ã¨ã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆï¼ˆè¡¨ç´™ã€ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã€è£è¡¨ç´™ï¼‰\n3. ãƒšãƒ¼ã‚¸ç®¡ç†ã®æ˜ç¢ºã•ï¼ˆãƒšãƒ¼ã‚¸ç•ªå·ã€ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ï¼‰\n4. PDFå‡ºåŠ›ã¨ã®çµ±åˆï¼ˆãƒšãƒ¼ã‚¸å˜ä½ã§ç”Ÿæˆï¼‰\n5. ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³UIï¼ˆãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ã€ã‚µãƒ ãƒã‚¤ãƒ«ï¼‰\n6. å°åˆ·ã¨ã®çµ±åˆï¼ˆãƒšãƒ¼ã‚¸åŒºåˆ‡ã‚Šï¼‰\n7. ãƒšãƒ¼ã‚¸ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆï¼ˆè¡¨ç´™ã€ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãƒšãƒ¼ã‚¸ã®å®šç¾©ï¼‰\n\n**ãƒˆãƒ¬ãƒ¼ãƒ‰ã‚ªãƒ•**:\n- å®Ÿè£…ã®è¤‡é›‘ã•ï¼ˆãƒšãƒ¼ã‚¸ç®¡ç†ã€ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³UIï¼‰\n- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ï¼ˆã™ã¹ã¦ã®ãƒšãƒ¼ã‚¸ã‚’ãƒ¡ãƒ¢ãƒªã«ä¿æŒï¼‰\n\n**çµè«–**:\nai-document-generatorã®ã‚ˆã†ãªã€PDFå‡ºåŠ›ã€å°åˆ·ã‚’é‡è¦–ã™ã‚‹ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”Ÿæˆãƒ„ãƒ¼ãƒ«ã§ã¯ã€è¤‡æ•°ãƒšãƒ¼ã‚¸å¯¾å¿œãŒå¿…é ˆã€‚\n\nãƒšãƒ¼ã‚¸å˜ä½ã§ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’ç®¡ç†ã™ã‚‹ã“ã¨ã§ã€æŸ”è»Ÿæ€§ã¨æ§‹é€ ã®æ˜ç¢ºã•ã‚’ä¸¡ç«‹ã€‚\n\n**è¤‡æ•°ãƒšãƒ¼ã‚¸å¯¾å¿œã«ã‚ˆã‚Šã€ãƒãƒ©ã‚·ã‹ã‚‰äº‹æ¥­è¨ˆç”»æ›¸ã¾ã§ã€ã‚ã‚‰ã‚†ã‚‹ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚¿ã‚¤ãƒ—ã«å¯¾å¿œã§ãã‚‹ã€‚**\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€Œè¤‡æ•°ãƒšãƒ¼ã‚¸å¯¾å¿œè¨­è¨ˆã®åˆ¤æ–­ã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "skill-grid-based-layout-system",
      "decision-arch-grid-based-layout"
    ]
  },
  {
    "slug": "arch-multi-spreadsheet-management",
    "title": "è¤‡æ•°ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆç®¡ç†è¨­è¨ˆ",
    "category": "Decisionsï¼ˆæŠ€è¡“é¸å®šãƒ»åˆ¤æ–­ï¼‰",
    "description": "è¤‡æ•°ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆç®¡ç†è¨­è¨ˆ",
    "project": "yumesuta-management-system",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"decision_arch_multi_spreadsheet_management_2025_11_24\",\n  \"type\": \"decision\",\n  \"name\": \"è¤‡æ•°ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆç®¡ç†è¨­è¨ˆ\",\n  \"decision_type\": \"architecture\",\n  \"tags\": [\"ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆ\", \"é–¢å¿ƒã®åˆ†é›¢\", \"æ¨©é™ç®¡ç†\", \"æ©Ÿèƒ½åˆ¥åˆ†é›¢\", \"Google Sheets\"],\n  \"source_project\": \"yumesuta-management-system\",\n  \"chosen\": \"æ©Ÿèƒ½åˆ¥ã«5ã¤ã®ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã«åˆ†é›¢\",\n  \"alternatives\": [\"1ã¤ã®å·¨å¤§ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆ\", \"ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ç§»è¡Œ\"],\n  \"related_knowledge\": [\"decision_tech_google_sheets_api_v4_2025_11_24\", \"skill_google_sheets_batch_fetch_2025_11_24\"],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-24\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# è¤‡æ•°ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆç®¡ç†è¨­è¨ˆ\n\n## ä½•ã‚’åˆ¤æ–­ã—ãŸã‹\n\nyumesuta-management-systemã«ãŠã„ã¦ã€ãƒ‡ãƒ¼ã‚¿ã‚’æ©Ÿèƒ½åˆ¥ã«5ã¤ã®ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã«åˆ†é›¢ã—ã¦ç®¡ç†ã™ã‚‹ã¨åˆ¤æ–­ã—ãŸã€‚\n\n## é¸ã‚“ã ã‚‚ã®\n\n**æ©Ÿèƒ½åˆ¥ã«5ã¤ã®ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã«åˆ†é›¢**\n\n**ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆæ§‹æˆ**ï¼š\n```\n1. SALES_SPREADSHEET_ID - å–¶æ¥­é€²æ—ç®¡ç†\n   - KPIãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰\n   - æœˆæ¬¡äºˆå®Ÿç®¡ç†\n   - é¡§å®¢ãƒã‚¹ã‚¿\n\n2. YUMEMAGA_SPREADSHEET_ID - ã‚†ã‚ãƒã‚¬åˆ¶ä½œé€²æ—ç®¡ç†\n   - é€†ç®—é…ç½®_ã‚¬ãƒ³ãƒˆ_2025å¹´11æœˆå·\n   - é€†ç®—é…ç½®_ã‚¬ãƒ³ãƒˆ_2025å¹´12æœˆå·\n   - ä¼æ¥­ãƒã‚¹ã‚¿ãƒ¼\n\n3. PARTNERS_SPREADSHEET_ID - ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼ãƒ»ã‚¹ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿ç®¡ç†\n   - ã‚¹ã‚¿ãƒ¼ç´¹ä»‹ãƒ‡ãƒ¼ã‚¿\n   - ä¼æ¥­æƒ…å ±\n\n4. SNS_SPREADSHEET_ID - SNSæŠ•ç¨¿ç®¡ç†\n   - æŠ•ç¨¿äºˆå®š\n   - æŠ•ç¨¿å±¥æ­´\n\n5. TASKS_SPREADSHEET_ID - ã‚¿ã‚¹ã‚¯ç®¡ç†\n   - ã‚¿ã‚¹ã‚¯ä¸€è¦§\n   - ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä¸€è¦§\n```\n\n**ç’°å¢ƒå¤‰æ•°**ï¼š\n```bash\n# .env.local\nSALES_SPREADSHEET_ID=your-sales-spreadsheet-id\nYUMEMAGA_SPREADSHEET_ID=your-yumemaga-spreadsheet-id\nPARTNERS_SPREADSHEET_ID=your-partners-spreadsheet-id\nSNS_SPREADSHEET_ID=your-sns-spreadsheet-id\nTASKS_SPREADSHEET_ID=your-tasks-spreadsheet-id\n```\n\n## åˆ¤æ–­ç†ç”±\n\n### ç†ç”±1ï¼šé–¢å¿ƒã®åˆ†é›¢ï¼ˆSeparation of Concernsï¼‰\n\næ©Ÿèƒ½åˆ¥ã«ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã‚’åˆ†é›¢ã™ã‚‹ã“ã¨ã§ã€å„æ©Ÿèƒ½ãŒç‹¬ç«‹ã—ã¦ç®¡ç†ã§ãã‚‹ã€‚\n\n**ãƒ¡ãƒªãƒƒãƒˆ**ï¼š\n- å–¶æ¥­é€²æ—ã®ãƒ‡ãƒ¼ã‚¿å¤‰æ›´ãŒã€ã‚†ã‚ãƒã‚¬åˆ¶ä½œã«å½±éŸ¿ã—ãªã„\n- æ©Ÿèƒ½ã”ã¨ã«è²¬ä»»è€…ã‚’åˆ†ã‘ã¦ç®¡ç†ã§ãã‚‹\n- ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã®å¤‰æ›´ãŒä»–æ©Ÿèƒ½ã«å½±éŸ¿ã—ãªã„\n\n### ç†ç”±2ï¼šæ¨©é™ç®¡ç†ã®å®¹æ˜“åŒ–\n\nã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã”ã¨ã«ã€Google Sheetsã®å…±æœ‰æ¨©é™ã‚’è¨­å®šã§ãã‚‹ã€‚\n\n**æ¨©é™è¨­å®šä¾‹**ï¼š\n```\nSALES_SPREADSHEET_ID:\n  - å–¶æ¥­ãƒ¡ãƒ³ãƒãƒ¼: ç·¨é›†æ¨©é™\n  - ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼: é–²è¦§æ¨©é™\n\nYUMEMAGA_SPREADSHEET_ID:\n  - åˆ¶ä½œãƒ¡ãƒ³ãƒãƒ¼: ç·¨é›†æ¨©é™\n  - ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼: é–²è¦§æ¨©é™\n```\n\n### ç†ç”±3ï¼šãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å‘ä¸Š\n\n1ã¤ã®å·¨å¤§ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã§ã¯ãªãã€æ©Ÿèƒ½åˆ¥ã«åˆ†é›¢ã™ã‚‹ã“ã¨ã§ã€å¿…è¦ãªãƒ‡ãƒ¼ã‚¿ã®ã¿ã‚’å–å¾—ã§ãã‚‹ã€‚\n\n**ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ¯”è¼ƒ**ï¼š\n```\nâŒ 1ã¤ã®å·¨å¤§ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆ:\n  - å–¶æ¥­KPIè¡¨ç¤ºæ™‚ã«ã€ã‚†ã‚ãƒã‚¬ãƒ»SNSç­‰ã®ãƒ‡ãƒ¼ã‚¿ã‚‚å–å¾—ï¼ˆä¸è¦ï¼‰\n  - Google Sheets APIãƒªã‚¯ã‚¨ã‚¹ãƒˆæ•°ãŒå¢—åŠ \n\nâœ… æ©Ÿèƒ½åˆ¥ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆ:\n  - å–¶æ¥­KPIè¡¨ç¤ºæ™‚ã«ã€SALES_SPREADSHEET_IDã®ã¿å–å¾—\n  - å¿…è¦ãªãƒ‡ãƒ¼ã‚¿ã®ã¿å–å¾—ã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å‘ä¸Š\n```\n\n## ã“ã®åˆ¤æ–­ã‹ã‚‰å­¦ã¹ã‚‹ã“ã¨\n\nãƒ‡ãƒ¼ã‚¿ã‚’æ©Ÿèƒ½åˆ¥ã«åˆ†é›¢ã™ã‚‹ã“ã¨ã§ã€é–¢å¿ƒã®åˆ†é›¢ãƒ»æ¨©é™ç®¡ç†ãƒ»ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å‘ä¸Šã‚’å®Ÿç¾ã§ãã‚‹ã€‚\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `decision_tech_google_sheets_api_v4_2025_11_24.md` - Google Sheets API v4é¸æŠ\n- `skill_google_sheets_batch_fetch_2025_11_24.md` - ãƒãƒƒãƒå–å¾—ï¼ˆè¤‡æ•°ãƒ¬ãƒ³ã‚¸åŒæ™‚å–å¾—ï¼‰\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€Œè¤‡æ•°ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆç®¡ç†è¨­è¨ˆã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "decision-tech-google-sheets-api-v4",
      "skill-google-sheets-batch-fetch"
    ]
  },
  {
    "slug": "arch-multi-store-separation",
    "title": "è¤‡æ•°ã‚¹ãƒˆã‚¢åˆ†å‰²è¨­è¨ˆã®åˆ¤æ–­",
    "category": "Decisionsï¼ˆæŠ€è¡“é¸å®šãƒ»åˆ¤æ–­ï¼‰",
    "description": "è¤‡æ•°ã‚¹ãƒˆã‚¢åˆ†å‰²è¨­è¨ˆã®åˆ¤æ–­",
    "project": "ai-document-generator",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"decision_arch_multi_store_separation_2025_04_11\",\n  \"type\": \"decision\",\n  \"name\": \"è¤‡æ•°ã‚¹ãƒˆã‚¢åˆ†å‰²è¨­è¨ˆã®åˆ¤æ–­\",\n  \"decision_type\": \"architecture_judgment\",\n  \"tags\": [\"Zustand\", \"çŠ¶æ…‹ç®¡ç†\", \"ã‚¹ãƒˆã‚¢åˆ†å‰²\", \"ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£\", \"è¨­è¨ˆãƒ‘ã‚¿ãƒ¼ãƒ³\"],\n  \"source_project\": \"ai-document-generator\",\n  \"chosen\": \"è¤‡æ•°ã‚¹ãƒˆã‚¢ã«åˆ†å‰²ï¼ˆ11å€‹ã®ã‚¹ãƒˆã‚¢ï¼‰\",\n  \"alternatives\": [\"å˜ä¸€ã‚¹ãƒˆã‚¢\", \"Context API\", \"Redux\"],\n  \"related_knowledge\": [\"skill_dynamic_theme_system_2025_04_11\", \"decision_tech_zustand_2025_04_11\"],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-04-11\",\n  \"updated\": \"2025-04-11\"\n}\n```\n\n# è¤‡æ•°ã‚¹ãƒˆã‚¢åˆ†å‰²è¨­è¨ˆã®åˆ¤æ–­\n\n## ä½•ã‚’åˆ¤æ–­ã—ãŸã‹\n\nZustandã‚’ä½¿ã£ãŸçŠ¶æ…‹ç®¡ç†ã«ãŠã„ã¦ã€å˜ä¸€ã®å¤§ããªã‚¹ãƒˆã‚¢ã«ã¾ã¨ã‚ã‚‹ã‹ã€è¤‡æ•°ã®å°ã•ãªã‚¹ãƒˆã‚¢ã«åˆ†å‰²ã™ã‚‹ã‹ã‚’åˆ¤æ–­ã—ãŸã€‚\n\n## é¸ã‚“ã ã‚‚ã®\n\n**è¤‡æ•°ã‚¹ãƒˆã‚¢ã«åˆ†å‰²ï¼ˆ11å€‹ã®ã‚¹ãƒˆã‚¢ï¼‰**\n\n**ã‚¹ãƒˆã‚¢ä¸€è¦§**ï¼ˆsrc/store/ï¼‰:\n1. **documentStore.ts**: ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆå…¨ä½“ã®çŠ¶æ…‹ç®¡ç†\n2. **templateStore.ts**: ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆï¼ˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚¿ã‚¤ãƒ—ã€ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã€ãƒ†ãƒ¼ãƒï¼‰ã®ç®¡ç†\n3. **pageStore.ts**: ãƒšãƒ¼ã‚¸ï¼ˆè¤‡æ•°ãƒšãƒ¼ã‚¸ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆï¼‰ã®ç®¡ç†\n4. **sectionStore.ts**: ã‚»ã‚¯ã‚·ãƒ§ãƒ³ï¼ˆãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆå†…ã®åŒºç”»ï¼‰ã®ç®¡ç†\n5. **componentStore.ts**: ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼ˆãƒ†ã‚­ã‚¹ãƒˆã€ç”»åƒã€ãƒãƒ£ãƒ¼ãƒˆï¼‰ã®ç®¡ç†\n6. **editorUIStore.ts**: ã‚¨ãƒ‡ã‚£ã‚¿UIï¼ˆã‚µã‚¤ãƒ‰ãƒãƒ¼ã€ãƒ„ãƒ¼ãƒ«ãƒãƒ¼ã€ãƒ¢ãƒ¼ãƒ‰ï¼‰ã®ç®¡ç†\n7. **historyStore.ts**: Undo/Redoå±¥æ­´ã®ç®¡ç†\n8. **operationStore.ts**: æ“ä½œï¼ˆãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—ã€ãƒªã‚µã‚¤ã‚ºï¼‰ã®ç®¡ç†\n9. **validationStore.ts**: ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆåˆ¶ç´„ãƒã‚§ãƒƒã‚¯ï¼‰ã®ç®¡ç†\n10. **mediaStore.ts**: ç”»åƒã€å‹•ç”»ãªã©ã®ãƒ¡ãƒ‡ã‚£ã‚¢ã®ç®¡ç†\n11. **aiGenerationStore.ts**: AIç”Ÿæˆã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®ç®¡ç†\n\n**ã‚¹ãƒˆã‚¢é–“ã®ä¾å­˜é–¢ä¿‚**:\n```typescript\n// documentStore.ts\nimport { useTemplateStore } from '@/store/templateStore';\nimport { useEditorUIStore } from '@/store/editorUIStore';\nimport { usePageStore } from '@/store/pageStore';\n\n// templateStore.ts\nimport { useSectionStore } from '@/store/sectionStore';\nimport { useComponentStore } from '@/store/componentStore';\n\n// sectionStore.ts\nimport { useComponentStore } from '@/store/componentStore';\nimport { useValidationStore } from '@/store/validationStore';\n```\n\n**package.json**:\n```json\n{\n  \"dependencies\": {\n    \"zustand\": \"^5.0.3\",\n    \"immer\": \"^10.1.1\"\n  }\n}\n```\n\n## ä»–ã®å€™è£œ\n\n### å€™è£œ1ï¼šå˜ä¸€ã‚¹ãƒˆã‚¢\n\nã™ã¹ã¦ã®çŠ¶æ…‹ã‚’1ã¤ã®å¤§ããªã‚¹ãƒˆã‚¢ã«ã¾ã¨ã‚ã‚‹ã€‚\n\n```typescript\n// src/store/appStore.ts\ninterface AppState {\n  document: {\n    id: string;\n    name: string;\n    pages: Page[];\n  };\n  template: {\n    documentTypes: DocumentType[];\n    layouts: Layout[];\n    themes: Theme[];\n  };\n  sections: Section[];\n  components: Component[];\n  editorUI: {\n    mode: string;\n    sidebarOpen: boolean;\n  };\n  history: {\n    past: any[];\n    future: any[];\n  };\n  // ...ã™ã¹ã¦ã®çŠ¶æ…‹\n}\n\nconst useAppStore = create<AppState>((set) => ({\n  // ã™ã¹ã¦ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³\n}));\n```\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n\n**ç†ç”±1ï¼šãƒ•ã‚¡ã‚¤ãƒ«ãŒå·¨å¤§ã«ãªã‚‹**\n- å˜ä¸€ã‚¹ãƒˆã‚¢ã§ã¯ã€1ãƒ•ã‚¡ã‚¤ãƒ«ã«æ•°åƒè¡Œã®ã‚³ãƒ¼ãƒ‰ãŒé›†ä¸­\n- å¯èª­æ€§ãŒä½ä¸‹\n- ãƒãƒ¼ãƒ é–‹ç™ºã§ã€åŒã˜ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç·¨é›†ã™ã‚‹ãŸã‚ã€ã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆãŒç™ºç”Ÿã—ã‚„ã™ã„\n\n**ç†ç”±2ï¼šè²¬ä»»ãŒä¸æ˜ç¢º**\n- å˜ä¸€ã‚¹ãƒˆã‚¢ã§ã¯ã€ã™ã¹ã¦ã®çŠ¶æ…‹ãŒæ··åœ¨\n- ã©ã®éƒ¨åˆ†ãŒä½•ã‚’æ‹…å½“ã—ã¦ã„ã‚‹ã‹ä¸æ˜ç¢º\n- ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ãŒå›°é›£\n\n**ç†ç”±3ï¼šãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã®å•é¡Œ**\n- Zustandã¯ã€ã‚¹ãƒˆã‚¢å…¨ä½“ã‚’1ã¤ã®å˜ä½ã¨ã—ã¦æ‰±ã†\n- ã‚¹ãƒˆã‚¢ã®ä¸€éƒ¨ãŒå¤‰æ›´ã•ã‚Œã‚‹ã¨ã€ã™ã¹ã¦ã®ã‚µãƒ–ã‚¹ã‚¯ãƒ©ã‚¤ãƒãƒ¼ãŒå†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°\n- è¤‡æ•°ã‚¹ãƒˆã‚¢ã«åˆ†å‰²ã™ã‚‹ã“ã¨ã§ã€å¿…è¦ãªéƒ¨åˆ†ã®ã¿ãŒå†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°\n\n**ä¾‹ï¼šå˜ä¸€ã‚¹ãƒˆã‚¢ã§ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å•é¡Œ**:\n```typescript\n// å˜ä¸€ã‚¹ãƒˆã‚¢\nconst Component1 = () => {\n  const editorUI = useAppStore(state => state.editorUI);  // editorUIã®ã¿ä½¿ç”¨\n\n  // ã—ã‹ã—ã€documentãŒå¤‰æ›´ã•ã‚Œã¦ã‚‚ã€Component1ãŒå†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã•ã‚Œã‚‹\n};\n\n// è¤‡æ•°ã‚¹ãƒˆã‚¢ï¼ˆæ”¹å–„ï¼‰\nconst Component1 = () => {\n  const editorUI = useEditorUIStore(state => state);  // editorUIStoreã®ã¿ã‚µãƒ–ã‚¹ã‚¯ãƒ©ã‚¤ãƒ–\n\n  // documentStoreãŒå¤‰æ›´ã•ã‚Œã¦ã‚‚ã€Component1ã¯å†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã•ã‚Œãªã„\n};\n```\n\n**ç†ç”±4ï¼šãƒ†ã‚¹ãƒˆã®å›°é›£ã•**\n- å˜ä¸€ã‚¹ãƒˆã‚¢ã§ã¯ã€ãƒ†ã‚¹ãƒˆã§å…¨ä½“ã®çŠ¶æ…‹ã‚’ãƒ¢ãƒƒã‚¯ã™ã‚‹å¿…è¦ãŒã‚ã‚‹\n- è¤‡æ•°ã‚¹ãƒˆã‚¢ã§ã¯ã€å¿…è¦ãªã‚¹ãƒˆã‚¢ã®ã¿ã‚’ãƒ¢ãƒƒã‚¯ã™ã‚Œã°ã‚ˆã„\n\n**ãƒ¡ãƒªãƒƒãƒˆï¼ˆé¸ã°ãªã‹ã£ãŸãŒã€èªã‚ã‚‹ã¹ãç‚¹ï¼‰**:\n- **ã‚·ãƒ³ãƒ—ãƒ«ãªæ§‹é€ **: ã‚¹ãƒˆã‚¢ãŒ1ã¤ãªã®ã§ã€ç†è§£ã—ã‚„ã™ã„\n- **ã‚°ãƒ­ãƒ¼ãƒãƒ«ãªçŠ¶æ…‹**: ã™ã¹ã¦ã®çŠ¶æ…‹ã«ç°¡å˜ã«ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½\n- **å°è¦æ¨¡ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ**: çŠ¶æ…‹ãŒå°‘ãªã„å ´åˆã€å˜ä¸€ã‚¹ãƒˆã‚¢ã§ååˆ†\n\n**å˜ä¸€ã‚¹ãƒˆã‚¢ãŒé©ã—ãŸã‚±ãƒ¼ã‚¹**:\n- å°è¦æ¨¡ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆï¼ˆ1000è¡Œæœªæº€ï¼‰\n- çŠ¶æ…‹ã®ç¨®é¡ãŒå°‘ãªã„ï¼ˆ5ç¨®é¡æœªæº€ï¼‰\n- ãƒãƒ¼ãƒ ãŒå°ã•ã„ï¼ˆ1-2äººï¼‰\n\nai-document-generatorã¯ã€è¤‡é›‘ãªã‚¨ãƒ‡ã‚£ã‚¿ã§ã‚ã‚‹ãŸã‚ã€è¤‡æ•°ã‚¹ãƒˆã‚¢åˆ†å‰²ãŒå¿…é ˆã€‚\n\n### å€™è£œ2ï¼šContext API\n\nReact Context APIã‚’ä½¿ã£ãŸçŠ¶æ…‹ç®¡ç†ã€‚\n\n```typescript\n// DocumentContext.tsx\nconst DocumentContext = createContext<DocumentState | null>(null);\n\nexport const DocumentProvider: React.FC = ({ children }) => {\n  const [document, setDocument] = useState<Document | null>(null);\n\n  return (\n    <DocumentContext.Provider value={{ document, setDocument }}>\n      {children}\n    </DocumentContext.Provider>\n  );\n};\n\nexport const useDocument = () => {\n  const context = useContext(DocumentContext);\n  if (!context) throw new Error('useDocument must be used within DocumentProvider');\n  return context;\n};\n```\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n\n**ç†ç”±1ï¼šãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã®å•é¡Œ**\n- Context APIã¯ã€Providerã®å€¤ãŒå¤‰æ›´ã•ã‚Œã‚‹ã¨ã€ã™ã¹ã¦ã®å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒå†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°\n- Zustandã¯ã€ã‚»ãƒ¬ã‚¯ã‚¿ãƒ¼é–¢æ•°ã§å¿…è¦ãªéƒ¨åˆ†ã®ã¿ã‚’ã‚µãƒ–ã‚¹ã‚¯ãƒ©ã‚¤ãƒ–å¯èƒ½\n\n**ä¾‹ï¼šContext APIã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å•é¡Œ**:\n```typescript\n// Context API\nconst { document, editorUI } = useDocument();  // ã©ã¡ã‚‰ã‹ä¸€æ–¹ãŒå¤‰æ›´ã•ã‚Œã¦ã‚‚ã€å†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°\n\n// Zustand\nconst document = useDocumentStore(state => state.document);  // documentã®ã¿ã‚µãƒ–ã‚¹ã‚¯ãƒ©ã‚¤ãƒ–\n```\n\n**ç†ç”±2ï¼šProvideråœ°ç„**\n- è¤‡æ•°ã®Contextã‚’ä½¿ã†å ´åˆã€Providerã‚’ãƒã‚¹ãƒˆã™ã‚‹å¿…è¦ãŒã‚ã‚‹\n- ã‚³ãƒ¼ãƒ‰ãŒèª­ã¿ã¥ã‚‰ããªã‚‹\n\n```tsx\n<DocumentProvider>\n  <TemplateProvider>\n    <SectionProvider>\n      <ComponentProvider>\n        <EditorUIProvider>\n          <App />\n        </EditorUIProvider>\n      </ComponentProvider>\n    </SectionProvider>\n  </TemplateProvider>\n</DocumentProvider>\n```\n\n**ç†ç”±3ï¼šTypeScriptå‹å®šç¾©ã®è¤‡é›‘ã•**\n- Context APIã¯ã€å‹å®šç¾©ãŒè¤‡é›‘\n- Zustandã¯ã€å‹æ¨è«–ãŒåŠ¹ã\n\n**ç†ç”±4ï¼šãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ã®ä¸è¶³**\n- Context APIã¯ã€persistï¼ˆæ°¸ç¶šåŒ–ï¼‰ã€devtoolsï¼ˆãƒ‡ãƒãƒƒã‚°ï¼‰ãªã©ã®ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ãŒãªã„\n- Zustandã¯ã€è±Šå¯ŒãªãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢\n\n**ãƒ¡ãƒªãƒƒãƒˆï¼ˆé¸ã°ãªã‹ã£ãŸãŒã€èªã‚ã‚‹ã¹ãç‚¹ï¼‰**:\n- **Reactãƒã‚¤ãƒ†ã‚£ãƒ–**: è¿½åŠ ãƒ©ã‚¤ãƒ–ãƒ©ãƒªä¸è¦\n- **ã‚·ãƒ³ãƒ—ãƒ«**: åŸºæœ¬çš„ãªAPIã¯ã‚·ãƒ³ãƒ—ãƒ«\n- **å°è¦æ¨¡ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ**: çŠ¶æ…‹ãŒå°‘ãªã„å ´åˆã€Context APIã§ååˆ†\n\n**Context APIãŒé©ã—ãŸã‚±ãƒ¼ã‚¹**:\n- ãƒ†ãƒ¼ãƒã€è¨€èªè¨­å®šãªã©ã®å˜ç´”ãªçŠ¶æ…‹\n- å°è¦æ¨¡ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ\n- é »ç¹ã«å¤‰æ›´ã•ã‚Œãªã„çŠ¶æ…‹\n\nai-document-generatorã¯ã€é »ç¹ã«å¤‰æ›´ã•ã‚Œã‚‹è¤‡é›‘ãªçŠ¶æ…‹ã‚’æ‰±ã†ãŸã‚ã€ZustandãŒé©åˆ‡ã€‚\n\n### å€™è£œ3ï¼šRedux\n\nReduxï¼ˆRedux Toolkitï¼‰ã‚’ä½¿ã£ãŸçŠ¶æ…‹ç®¡ç†ã€‚\n\n```typescript\n// src/store/documentSlice.ts\nimport { createSlice, PayloadAction } from '@reduxjs/toolkit';\n\nconst documentSlice = createSlice({\n  name: 'document',\n  initialState: {\n    document: null,\n  },\n  reducers: {\n    setDocument: (state, action: PayloadAction<Document>) => {\n      state.document = action.payload;\n    },\n  },\n});\n\nexport const { setDocument } = documentSlice.actions;\nexport default documentSlice.reducer;\n```\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n\n**ç†ç”±1ï¼šãƒœã‚¤ãƒ©ãƒ¼ãƒ—ãƒ¬ãƒ¼ãƒˆãŒå¤šã„**\n- Reduxã¯ã€ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã€ãƒªãƒ‡ãƒ¥ãƒ¼ã‚µãƒ¼ã€ã‚¹ãƒˆã‚¢ã®è¨­å®šãŒå¿…è¦\n- Zustandã¯ã€ã‚·ãƒ³ãƒ—ãƒ«ãªAPI\n\n**Redux vs Zustand**:\n```typescript\n// Redux: ãƒœã‚¤ãƒ©ãƒ¼ãƒ—ãƒ¬ãƒ¼ãƒˆãŒå¤šã„\n// 1. Sliceã‚’å®šç¾©\nconst documentSlice = createSlice({ ... });\n\n// 2. Storeã‚’è¨­å®š\nconst store = configureStore({\n  reducer: {\n    document: documentSlice.reducer,\n  },\n});\n\n// 3. Providerã§ãƒ©ãƒƒãƒ—\n<Provider store={store}>\n  <App />\n</Provider>\n\n// 4. ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’ãƒ‡ã‚£ã‚¹ãƒ‘ãƒƒãƒ\nconst dispatch = useDispatch();\ndispatch(setDocument(newDocument));\n\n// Zustand: ã‚·ãƒ³ãƒ—ãƒ«\nconst useDocumentStore = create((set) => ({\n  document: null,\n  setDocument: (document) => set({ document }),\n}));\n\n// ä½¿ç”¨\nconst setDocument = useDocumentStore(state => state.setDocument);\nsetDocument(newDocument);\n```\n\n**ç†ç”±2ï¼šå­¦ç¿’ã‚³ã‚¹ãƒˆãŒé«˜ã„**\n- Reduxã¯ã€ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã€ãƒªãƒ‡ãƒ¥ãƒ¼ã‚µãƒ¼ã€ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ã€thunkã€sagaãªã©ã€æ¦‚å¿µãŒå¤šã„\n- Zustandã¯ã€ã‚·ãƒ³ãƒ—ãƒ«ãªAPI\n\n**ç†ç”±3ï¼šãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã®ã‚ªãƒ¼ãƒãƒ¼ãƒ˜ãƒƒãƒ‰**\n- Reduxã¯ã€ã™ã¹ã¦ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãŒä¸€ç®‡æ‰€ï¼ˆãƒªãƒ‡ãƒ¥ãƒ¼ã‚µãƒ¼ï¼‰ã‚’é€šã‚‹\n- Zustandã¯ã€ç›´æ¥çŠ¶æ…‹ã‚’æ›´æ–°\n\n**ç†ç”±4ï¼šTypeScriptå‹å®šç¾©ã®è¤‡é›‘ã•**\n- Reduxã¯ã€ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã€ãƒªãƒ‡ãƒ¥ãƒ¼ã‚µãƒ¼ã€ã‚¹ãƒˆã‚¢ã®å‹å®šç¾©ãŒè¤‡é›‘\n- Zustandã¯ã€å‹æ¨è«–ãŒåŠ¹ã\n\n**ãƒ¡ãƒªãƒƒãƒˆï¼ˆé¸ã°ãªã‹ã£ãŸãŒã€èªã‚ã‚‹ã¹ãç‚¹ï¼‰**:\n- **å¼·åŠ›ãªãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢**: Redux DevToolsã€thunkã€saga\n- **æ™‚é–“æ—…è¡Œãƒ‡ãƒãƒƒã‚°**: ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã®å±¥æ­´ã‚’é¡ã‚Œã‚‹\n- **å³å¯†ãªçŠ¶æ…‹ç®¡ç†**: ã™ã¹ã¦ã®å¤‰æ›´ãŒã‚¢ã‚¯ã‚·ãƒ§ãƒ³çµŒç”±\n\n**ReduxãŒé©ã—ãŸã‚±ãƒ¼ã‚¹**:\n- å¤§è¦æ¨¡ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆï¼ˆ10ä¸‡è¡Œä»¥ä¸Šï¼‰\n- è¤‡é›‘ãªãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯\n- å³å¯†ãªçŠ¶æ…‹ç®¡ç†ãŒå¿…è¦\n\nai-document-generatorã¯ã€ä¸­è¦æ¨¡ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã‚ã‚Šã€Zustandã®ã‚·ãƒ³ãƒ—ãƒ«ã•ãŒé©åˆ‡ã€‚\n\n## åˆ¤æ–­ç†ç”±\n\n### ç†ç”±1ï¼šé–¢å¿ƒã®åˆ†é›¢ï¼ˆSeparation of Concernsï¼‰\n\nè¤‡æ•°ã‚¹ãƒˆã‚¢ã«åˆ†å‰²ã™ã‚‹ã“ã¨ã§ã€è²¬ä»»ãŒæ˜ç¢ºã«ãªã‚‹ã€‚\n\n**ã‚¹ãƒˆã‚¢ã®è²¬ä»»åˆ†æ‹…**:\n1. **documentStore**: ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆå…¨ä½“ã®çŠ¶æ…‹ï¼ˆåå‰ã€ãƒšãƒ¼ã‚¸ã€ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ï¼‰\n2. **templateStore**: ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆï¼ˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚¿ã‚¤ãƒ—ã€ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã€ãƒ†ãƒ¼ãƒï¼‰\n3. **pageStore**: ãƒšãƒ¼ã‚¸ç®¡ç†ï¼ˆè¤‡æ•°ãƒšãƒ¼ã‚¸ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆï¼‰\n4. **sectionStore**: ã‚»ã‚¯ã‚·ãƒ§ãƒ³ç®¡ç†ï¼ˆãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆå†…ã®åŒºç”»ï¼‰\n5. **componentStore**: ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆç®¡ç†ï¼ˆãƒ†ã‚­ã‚¹ãƒˆã€ç”»åƒã€ãƒãƒ£ãƒ¼ãƒˆï¼‰\n6. **editorUIStore**: UIçŠ¶æ…‹ï¼ˆã‚µã‚¤ãƒ‰ãƒãƒ¼ã€ãƒ„ãƒ¼ãƒ«ãƒãƒ¼ï¼‰\n7. **historyStore**: Undo/Redo\n8. **operationStore**: ãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—ã€ãƒªã‚µã‚¤ã‚º\n9. **validationStore**: åˆ¶ç´„ãƒã‚§ãƒƒã‚¯\n10. **mediaStore**: ç”»åƒã€å‹•ç”»\n11. **aiGenerationStore**: AIç”Ÿæˆã‚³ãƒ³ãƒ†ãƒ³ãƒ„\n\nå„ã‚¹ãƒˆã‚¢ãŒç‹¬ç«‹ã—ãŸè²¬ä»»ã‚’æŒã¤ã€‚\n\n### ç†ç”±2ï¼šãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–\n\nè¤‡æ•°ã‚¹ãƒˆã‚¢ã«åˆ†å‰²ã™ã‚‹ã“ã¨ã§ã€å¿…è¦ãªéƒ¨åˆ†ã®ã¿ãŒå†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã•ã‚Œã‚‹ã€‚\n\n**ä¾‹ï¼šã‚¨ãƒ‡ã‚£ã‚¿UIã®å¤‰æ›´**:\n```typescript\n// ã‚¨ãƒ‡ã‚£ã‚¿UIã‚’å¤‰æ›´\nconst toggleSidebar = useEditorUIStore(state => state.toggleSidebar);\ntoggleSidebar();\n\n// â†’ editorUIStoreã‚’ã‚µãƒ–ã‚¹ã‚¯ãƒ©ã‚¤ãƒ–ã—ã¦ã„ã‚‹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ã¿ãŒå†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°\n// â†’ documentStore, templateStore, sectionStore ãªã©ã‚’ã‚µãƒ–ã‚¹ã‚¯ãƒ©ã‚¤ãƒ–ã—ã¦ã„ã‚‹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯å†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã•ã‚Œãªã„\n```\n\n**å˜ä¸€ã‚¹ãƒˆã‚¢ã®å ´åˆ**:\n```typescript\n// å˜ä¸€ã‚¹ãƒˆã‚¢\nconst toggleSidebar = useAppStore(state => state.toggleSidebar);\ntoggleSidebar();\n\n// â†’ appStoreã‚’ã‚µãƒ–ã‚¹ã‚¯ãƒ©ã‚¤ãƒ–ã—ã¦ã„ã‚‹ã™ã¹ã¦ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒå†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°\n```\n\n### ç†ç”±3ï¼šãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºã®ç®¡ç†\n\nè¤‡æ•°ã‚¹ãƒˆã‚¢ã«åˆ†å‰²ã™ã‚‹ã“ã¨ã§ã€å„ãƒ•ã‚¡ã‚¤ãƒ«ãŒé©åˆ‡ãªã‚µã‚¤ã‚ºï¼ˆ200-500è¡Œï¼‰ã«ä¿ãŸã‚Œã‚‹ã€‚\n\n**ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºæ¯”è¼ƒ**:\n- **å˜ä¸€ã‚¹ãƒˆã‚¢**: 1ãƒ•ã‚¡ã‚¤ãƒ« 3000-5000è¡Œ\n- **è¤‡æ•°ã‚¹ãƒˆã‚¢**: å„ãƒ•ã‚¡ã‚¤ãƒ« 200-500è¡Œ\n\nå¯èª­æ€§ã€ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹æ€§ãŒå‘ä¸Šã€‚\n\n### ç†ç”±4ï¼šãƒãƒ¼ãƒ é–‹ç™ºã§ã®ä¸¦è¡Œä½œæ¥­\n\nè¤‡æ•°ã‚¹ãƒˆã‚¢ã«åˆ†å‰²ã™ã‚‹ã“ã¨ã§ã€ãƒãƒ¼ãƒ ãƒ¡ãƒ³ãƒãƒ¼ãŒç•°ãªã‚‹ã‚¹ãƒˆã‚¢ã‚’ä¸¦è¡Œã—ã¦ç·¨é›†å¯èƒ½ã€‚\n\n**ä¾‹**:\n- **é–‹ç™ºè€…A**: `documentStore.ts`ã‚’ç·¨é›†ï¼ˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ©Ÿèƒ½ï¼‰\n- **é–‹ç™ºè€…B**: `editorUIStore.ts`ã‚’ç·¨é›†ï¼ˆUIæ©Ÿèƒ½ï¼‰\n- **é–‹ç™ºè€…C**: `aiGenerationStore.ts`ã‚’ç·¨é›†ï¼ˆAIæ©Ÿèƒ½ï¼‰\n\nâ†’ Gitã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆãŒç™ºç”Ÿã—ã«ãã„\n\n### ç†ç”±5ï¼šãƒ†ã‚¹ãƒˆã®å®¹æ˜“ã•\n\nè¤‡æ•°ã‚¹ãƒˆã‚¢ã«åˆ†å‰²ã™ã‚‹ã“ã¨ã§ã€å€‹åˆ¥ã«ãƒ†ã‚¹ãƒˆãŒå®¹æ˜“ã€‚\n\n**ä¾‹ï¼šsectionStoreã®ãƒ†ã‚¹ãƒˆ**:\n```typescript\n// sectionStore.ts ã®ãƒ†ã‚¹ãƒˆ\nimport { useSectionStore } from '@/store/sectionStore';\n\ndescribe('sectionStore', () => {\n  it('should add a new section', () => {\n    const { addSection, sections } = useSectionStore.getState();\n\n    addSection({ id: 'section1', name: 'Header' });\n\n    expect(sections).toHaveLength(1);\n    expect(sections[0].id).toBe('section1');\n  });\n});\n```\n\n**å˜ä¸€ã‚¹ãƒˆã‚¢ã®å ´åˆ**:\n```typescript\n// appStoreå…¨ä½“ã‚’ãƒ¢ãƒƒã‚¯ã™ã‚‹å¿…è¦ãŒã‚ã‚‹\nconst mockState = {\n  document: { ... },\n  template: { ... },\n  sections: [],\n  components: [],\n  // ...ã™ã¹ã¦ã®çŠ¶æ…‹\n};\n```\n\n### ç†ç”±6ï¼šå†åˆ©ç”¨æ€§\n\nè¤‡æ•°ã‚¹ãƒˆã‚¢ã«åˆ†å‰²ã™ã‚‹ã“ã¨ã§ã€ä»–ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§å†åˆ©ç”¨å¯èƒ½ã€‚\n\n**ä¾‹**:\n- `editorUIStore.ts`: ä»–ã®ã‚¨ãƒ‡ã‚£ã‚¿ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§å†åˆ©ç”¨\n- `historyStore.ts`: Undo/Redoæ©Ÿèƒ½ã‚’ä»–ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§å†åˆ©ç”¨\n- `validationStore.ts`: ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³æ©Ÿèƒ½ã‚’ä»–ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§å†åˆ©ç”¨\n\n### ç†ç”±7ï¼šå‹å®‰å…¨æ€§\n\nè¤‡æ•°ã‚¹ãƒˆã‚¢ã«åˆ†å‰²ã™ã‚‹ã“ã¨ã§ã€å„ã‚¹ãƒˆã‚¢ã®å‹å®šç¾©ãŒæ˜ç¢ºã€‚\n\n**ä¾‹ï¼šdocumentStoreã®å‹å®šç¾©**:\n```typescript\n// src/store/documentStore.ts\ninterface DocumentState {\n  document: Document | null;\n  loading: boolean;\n  error: string | null;\n}\n\ninterface DocumentActions {\n  setDocument: (document: Document) => void;\n  updateDocument: (updates: Partial<Document>) => void;\n  clearDocument: () => void;\n}\n\ntype DocumentStore = DocumentState & DocumentActions;\n\nconst useDocumentStore = create<DocumentStore>((set) => ({\n  // å‹å®‰å…¨ãªå®Ÿè£…\n}));\n```\n\n### ç†ç”±8ï¼šãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«å¢ƒç•Œ\n\nè¤‡æ•°ã‚¹ãƒˆã‚¢ã«åˆ†å‰²ã™ã‚‹ã“ã¨ã§ã€ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«å¢ƒç•ŒãŒæ˜ç¢ºã«ãªã‚Šã€ä¾å­˜é–¢ä¿‚ã‚’ç®¡ç†ã—ã‚„ã™ã„ã€‚\n\n**ã‚¹ãƒˆã‚¢é–“ã®ä¾å­˜é–¢ä¿‚**:\n```\ndocumentStore\n  â”œâ”€> templateStore\n  â”œâ”€> editorUIStore\n  â””â”€> pageStore\n      â””â”€> sectionStore\n          â””â”€> componentStore\n```\n\nä¾å­˜é–¢ä¿‚ãŒä¸€æ–¹å‘ã§ã€å¾ªç’°ä¾å­˜ã‚’é¿ã‘ã‚‰ã‚Œã‚‹ã€‚\n\n## ã“ã®åˆ¤æ–­ã‹ã‚‰å­¦ã¹ã‚‹ã“ã¨\n\n### å­¦ã³1ï¼šã‚¹ãƒˆã‚¢åˆ†å‰²ã®ç²’åº¦\n\nã‚¹ãƒˆã‚¢ã‚’åˆ†å‰²ã™ã‚‹éš›ã®ç²’åº¦ã®åˆ¤æ–­åŸºæº–ï¼š\n\n1. **è²¬ä»»ã®ç‹¬ç«‹æ€§**: ã‚¹ãƒˆã‚¢ãŒç‹¬ç«‹ã—ãŸè²¬ä»»ã‚’æŒã¤ã‹\n2. **å¤‰æ›´é »åº¦**: ä¸€ç·’ã«å¤‰æ›´ã•ã‚Œã‚‹çŠ¶æ…‹ã¯ã€åŒã˜ã‚¹ãƒˆã‚¢ã«é…ç½®\n3. **ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚º**: 1ãƒ•ã‚¡ã‚¤ãƒ«200-500è¡ŒãŒé©åˆ‡\n4. **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹**: å†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã®ç¯„å›²ã‚’æœ€å°åŒ–\n\n**è‰¯ã„åˆ†å‰²**:\n- documentStore: ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆå…¨ä½“\n- editorUIStore: UIçŠ¶æ…‹\n\n**æ‚ªã„åˆ†å‰²**:\n- documentNameStore: ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆåã®ã¿\n- sidebarOpenStore: ã‚µã‚¤ãƒ‰ãƒãƒ¼ã®é–‹é–‰ã®ã¿\n\nâ†’ ç²’åº¦ãŒç´°ã‹ã™ãã‚‹\n\n### å­¦ã³2ï¼šã‚¹ãƒˆã‚¢é–“ã®ä¾å­˜é–¢ä¿‚\n\nã‚¹ãƒˆã‚¢é–“ã®ä¾å­˜é–¢ä¿‚ã¯ã€ä¸€æ–¹å‘ã«ã™ã¹ãã€‚\n\n**è‰¯ã„ä¾å­˜é–¢ä¿‚**:\n```\ndocumentStore â†’ templateStore\n```\n\n**æ‚ªã„ä¾å­˜é–¢ä¿‚ï¼ˆå¾ªç’°ï¼‰**:\n```\ndocumentStore â†’ templateStore\n      â†‘              â†“\n      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n```\n\nå¾ªç’°ä¾å­˜ã¯é¿ã‘ã‚‹ã€‚\n\n### å­¦ã³3ï¼šZustandã®ã‚»ãƒ¬ã‚¯ã‚¿ãƒ¼æœ€é©åŒ–\n\nZustandã®ã‚»ãƒ¬ã‚¯ã‚¿ãƒ¼é–¢æ•°ã§ã€å¿…è¦ãªéƒ¨åˆ†ã®ã¿ã‚’ã‚µãƒ–ã‚¹ã‚¯ãƒ©ã‚¤ãƒ–ã€‚\n\n**æœ€é©åŒ–å‰**:\n```typescript\n// ã‚¹ãƒˆã‚¢å…¨ä½“ã‚’ã‚µãƒ–ã‚¹ã‚¯ãƒ©ã‚¤ãƒ–\nconst { document, loading, error } = useDocumentStore();\n\n// documentã ã‘ãŒå¿…è¦ãªå ´åˆã§ã‚‚ã€loading, error ãŒå¤‰æ›´ã•ã‚Œã‚‹ã¨å†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°\n```\n\n**æœ€é©åŒ–å¾Œ**:\n```typescript\n// documentã®ã¿ã‚’ã‚µãƒ–ã‚¹ã‚¯ãƒ©ã‚¤ãƒ–\nconst document = useDocumentStore(state => state.document);\n\n// loading, error ãŒå¤‰æ›´ã•ã‚Œã¦ã‚‚ã€å†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã•ã‚Œãªã„\n```\n\n### å­¦ã³4ï¼šæ°¸ç¶šåŒ–ï¼ˆpersistï¼‰ã®ä½¿ã„åˆ†ã‘\n\næ°¸ç¶šåŒ–ï¼ˆLocalStorageã«ä¿å­˜ï¼‰ã™ã‚‹ã‚¹ãƒˆã‚¢ã¨ã€ã—ãªã„ã‚¹ãƒˆã‚¢ã‚’ä½¿ã„åˆ†ã‘ã‚‹ã€‚\n\n**æ°¸ç¶šåŒ–ã™ã‚‹ã‚¹ãƒˆã‚¢**:\n- documentStore: ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®çŠ¶æ…‹\n- templateStore: é¸æŠã—ãŸãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ\n- editorUIStore: ã‚¨ãƒ‡ã‚£ã‚¿ã®è¨­å®šï¼ˆã‚µã‚¤ãƒ‰ãƒãƒ¼é–‹é–‰ã€ã‚ºãƒ¼ãƒ ãƒ¬ãƒ™ãƒ«ï¼‰\n\n**æ°¸ç¶šåŒ–ã—ãªã„ã‚¹ãƒˆã‚¢**:\n- operationStore: ãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—ä¸­ã®çŠ¶æ…‹\n- validationStore: ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³çµæœ\n\n```typescript\n// æ°¸ç¶šåŒ–ã™ã‚‹ã‚¹ãƒˆã‚¢\nconst useDocumentStore = create(\n  persist(\n    (set) => ({ ... }),\n    { name: 'document-storage' }\n  )\n);\n\n// æ°¸ç¶šåŒ–ã—ãªã„ã‚¹ãƒˆã‚¢\nconst useOperationStore = create((set) => ({ ... }));\n```\n\n### å­¦ã³5ï¼šImmerã®æ´»ç”¨\n\nZustandã¯ã€Immerã‚’ä½¿ã£ã¦ã‚¤ãƒŸãƒ¥ãƒ¼ã‚¿ãƒ–ãƒ«ãªçŠ¶æ…‹æ›´æ–°ã‚’ç°¡å˜ã«ã§ãã‚‹ã€‚\n\n**Immerãªã—**:\n```typescript\nconst updateSection = (id: string, updates: Partial<Section>) => set((state) => ({\n  sections: state.sections.map(section =>\n    section.id === id ? { ...section, ...updates } : section\n  )\n}));\n```\n\n**Immerã‚ã‚Š**:\n```typescript\nimport { produce } from 'immer';\n\nconst updateSection = (id: string, updates: Partial<Section>) => set(\n  produce((draft) => {\n    const section = draft.sections.find(s => s.id === id);\n    if (section) {\n      Object.assign(section, updates);\n    }\n  })\n);\n```\n\nImmerã‚’ä½¿ã†ã“ã¨ã§ã€ã‚³ãƒ¼ãƒ‰ãŒã‚·ãƒ³ãƒ—ãƒ«ã«ãªã‚‹ã€‚\n\n### å­¦ã³6ï¼šè¤‡æ•°ã‚¹ãƒˆã‚¢ vs å˜ä¸€ã‚¹ãƒˆã‚¢\n\n**è¤‡æ•°ã‚¹ãƒˆã‚¢**:\n- **ãƒ¡ãƒªãƒƒãƒˆ**: è²¬ä»»ã®åˆ†é›¢ã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã€å¯èª­æ€§\n- **ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ**: ã‚¹ãƒˆã‚¢é–“ã®ä¾å­˜é–¢ä¿‚ç®¡ç†\n\n**å˜ä¸€ã‚¹ãƒˆã‚¢**:\n- **ãƒ¡ãƒªãƒƒãƒˆ**: ã‚·ãƒ³ãƒ—ãƒ«ã€ã‚°ãƒ­ãƒ¼ãƒãƒ«ãªçŠ¶æ…‹\n- **ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ**: ãƒ•ã‚¡ã‚¤ãƒ«ãŒå·¨å¤§ã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹\n\n**åˆ¤æ–­åŸºæº–**:\n- **å°è¦æ¨¡ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆï¼ˆ1000è¡Œæœªæº€ï¼‰**: å˜ä¸€ã‚¹ãƒˆã‚¢\n- **ä¸­è¦æ¨¡ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆï¼ˆ1000-10000è¡Œï¼‰**: è¤‡æ•°ã‚¹ãƒˆã‚¢ï¼ˆ5-10å€‹ï¼‰\n- **å¤§è¦æ¨¡ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆï¼ˆ10000è¡Œä»¥ä¸Šï¼‰**: è¤‡æ•°ã‚¹ãƒˆã‚¢ï¼ˆ10-20å€‹ï¼‰+ Redux\n\n### å­¦ã³7ï¼šçŠ¶æ…‹ç®¡ç†ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®é¸æŠ\n\n**Zustand**:\n- ã‚·ãƒ³ãƒ—ãƒ«ã€è»½é‡\n- ä¸­è¦æ¨¡ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«æœ€é©\n- ãƒœã‚¤ãƒ©ãƒ¼ãƒ—ãƒ¬ãƒ¼ãƒˆãŒå°‘ãªã„\n\n**Redux**:\n- å¼·åŠ›ãªãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢\n- å¤§è¦æ¨¡ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«æœ€é©\n- ãƒœã‚¤ãƒ©ãƒ¼ãƒ—ãƒ¬ãƒ¼ãƒˆãŒå¤šã„\n\n**Context API**:\n- Reactãƒã‚¤ãƒ†ã‚£ãƒ–\n- å°è¦æ¨¡ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«æœ€é©\n- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã®å•é¡Œ\n\n**åˆ¤æ–­åŸºæº–**:\n- **å°è¦æ¨¡ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ**: Context API\n- **ä¸­è¦æ¨¡ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ**: Zustand\n- **å¤§è¦æ¨¡ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ**: Redux\n\n---\n\n## ã¾ã¨ã‚\n\n**è¤‡æ•°ã‚¹ãƒˆã‚¢ã«åˆ†å‰²ã—ãŸç†ç”±**:\n1. é–¢å¿ƒã®åˆ†é›¢ï¼ˆè²¬ä»»ã®æ˜ç¢ºåŒ–ï¼‰\n2. ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–ï¼ˆå¿…è¦ãªéƒ¨åˆ†ã®ã¿å†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ï¼‰\n3. ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºã®ç®¡ç†ï¼ˆå¯èª­æ€§ã€ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹æ€§ï¼‰\n4. ãƒãƒ¼ãƒ é–‹ç™ºã§ã®ä¸¦è¡Œä½œæ¥­ï¼ˆã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆé˜²æ­¢ï¼‰\n5. ãƒ†ã‚¹ãƒˆã®å®¹æ˜“ã•\n6. å†åˆ©ç”¨æ€§\n7. å‹å®‰å…¨æ€§\n8. ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«å¢ƒç•Œã®æ˜ç¢ºåŒ–\n\n**ãƒˆãƒ¬ãƒ¼ãƒ‰ã‚ªãƒ•**:\n- ã‚¹ãƒˆã‚¢é–“ã®ä¾å­˜é–¢ä¿‚ç®¡ç†ãŒå¿…è¦\n- ã‚¹ãƒˆã‚¢æ•°ãŒå¢—ãˆã‚‹ã¨ã€å…¨ä½“åƒã®æŠŠæ¡ãŒå›°é›£\n\n**çµè«–**:\nai-document-generatorã®ã‚ˆã†ãªã€ä¸­è¦æ¨¡ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã€è¤‡é›‘ãªã‚¨ãƒ‡ã‚£ã‚¿ã§ã¯ã€è¤‡æ•°ã‚¹ãƒˆã‚¢ã«åˆ†å‰²ã™ã‚‹ã“ã¨ã§ã€å¯èª­æ€§ã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã€ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹æ€§ãŒå¤§å¹…ã«å‘ä¸Šã€‚\n\nZustandã®è»½é‡ã•ã¨ã‚·ãƒ³ãƒ—ãƒ«ã•ã«ã‚ˆã‚Šã€è¤‡æ•°ã‚¹ãƒˆã‚¢ã®ç®¡ç†ãŒå®¹æ˜“ã€‚\n\n**11å€‹ã®ã‚¹ãƒˆã‚¢ã«åˆ†å‰²ã™ã‚‹ã“ã¨ã§ã€å„ã‚¹ãƒˆã‚¢ãŒæ˜ç¢ºãªè²¬ä»»ã‚’æŒã¡ã€ã‚³ãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹ã®å“è³ªãŒå‘ä¸Šã—ãŸã€‚**\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€Œè¤‡æ•°ã‚¹ãƒˆã‚¢åˆ†å‰²è¨­è¨ˆã®åˆ¤æ–­ã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "skill-dynamic-theme-system",
      "decision-tech-zustand"
    ]
  },
  {
    "slug": "arch-phase4-reverse-scheduler",
    "title": "Phase4é€†ç®—ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©ãƒ¼è¨­è¨ˆ",
    "category": "Decisionsï¼ˆæŠ€è¡“é¸å®šãƒ»åˆ¤æ–­ï¼‰",
    "description": "Phase4é€†ç®—ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©ãƒ¼è¨­è¨ˆ",
    "project": "yumesuta-management-system",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"decision_arch_phase4_reverse_scheduler_2025_11_24\",\n  \"type\": \"decision\",\n  \"name\": \"Phase4é€†ç®—ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©ãƒ¼è¨­è¨ˆ\",\n  \"decision_type\": \"architecture\",\n  \"tags\": [\"é€†ç®—ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©ãƒ¼\", \"ã‚¬ãƒ³ãƒˆãƒãƒ£ãƒ¼ãƒˆ\", \"é›‘èªŒåˆ¶ä½œ\", \"97å·¥ç¨‹\", \"60æ—¥\", \"ã‚†ã‚ãƒã‚¬\", \"ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ç®¡ç†\"],\n  \"source_project\": \"yumesuta-management-system\",\n  \"chosen\": \"ç™ºè¡Œæ—¥ã‹ã‚‰é€†ç®—ã™ã‚‹60æ—¥97å·¥ç¨‹ã®ã‚¬ãƒ³ãƒˆãƒãƒ£ãƒ¼ãƒˆ\",\n  \"alternatives\": [\"é †ç®—ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©ãƒ¼\", \"æ‰‹å‹•ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒªãƒ³ã‚°\", \"ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç®¡ç†ãƒ„ãƒ¼ãƒ«å°å…¥\"],\n  \"related_knowledge\": [\"skill_gantt_data_parsing_technique_2025_11_24\", \"skill_dynamic_sheet_selection_2025_11_24\", \"workflow_readonly_manual_update_flow_2025_11_24\"],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-24\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# Phase4é€†ç®—ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©ãƒ¼è¨­è¨ˆ\n\n## ä½•ã‚’åˆ¤æ–­ã—ãŸã‹\n\nã‚†ã‚ãƒã‚¬ï¼ˆé›‘èªŒï¼‰åˆ¶ä½œã®è¤‡é›‘ãªã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ç®¡ç†ã«ãŠã„ã¦ã€ç™ºè¡Œæ—¥ï¼ˆãƒ‡ãƒƒãƒ‰ãƒ©ã‚¤ãƒ³ï¼‰ã‹ã‚‰é€†ç®—ã™ã‚‹**Phase4é€†ç®—ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©ãƒ¼**ã‚’è¨­è¨ˆãƒ»å®Ÿè£…ã™ã‚‹ã¨åˆ¤æ–­ã—ãŸã€‚\n\n## é¸ã‚“ã ã‚‚ã®\n\n**ç™ºè¡Œæ—¥ã‹ã‚‰é€†ç®—ã™ã‚‹60æ—¥97å·¥ç¨‹ã®ã‚¬ãƒ³ãƒˆãƒãƒ£ãƒ¼ãƒˆ**\n\n**è¨­è¨ˆæ¦‚è¦**ï¼š\n```\nç™ºè¡Œæ—¥ï¼ˆãƒ‡ãƒƒãƒ‰ãƒ©ã‚¤ãƒ³ï¼‰\n    â†“ (60æ—¥å‰ã‹ã‚‰é–‹å§‹)\nå·¥ç¨‹1: å–¶æ¥­ãƒ»ä¼ç”»ï¼ˆ30æ—¥å‰ã¾ã§ï¼‰\nå·¥ç¨‹2: å–æãƒ»æ’®å½±ï¼ˆ25æ—¥å‰ã¾ã§ï¼‰\nå·¥ç¨‹3: åŸç¨¿åŸ·ç­†ï¼ˆ20æ—¥å‰ã¾ã§ï¼‰\nå·¥ç¨‹4: ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ»ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆï¼ˆ15æ—¥å‰ã¾ã§ï¼‰\nå·¥ç¨‹5: æ ¡æ­£ãƒ»ç¢ºèªï¼ˆ10æ—¥å‰ã¾ã§ï¼‰\nå·¥ç¨‹6: å°åˆ·ãƒ»è£½æœ¬ï¼ˆ5æ—¥å‰ã¾ã§ï¼‰\nå·¥ç¨‹7: é…å¸ƒï¼ˆç™ºè¡Œæ—¥ï¼‰\n```\n\n**ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆæ§‹é€ **ï¼š\n```\né€†ç®—é…ç½®_ã‚¬ãƒ³ãƒˆ_2025å¹´11æœˆå· (ã‚·ãƒ¼ãƒˆ)\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚ å·¥ç¨‹å  â”‚ 10/1   â”‚ 10/2   â”‚ 10/3   â”‚ ...    â”‚ 12/1   â”‚  (åˆ—: æ—¥ä»˜)\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚ ä¼ç”»    â”‚ è¨ˆç”»   â”‚ å®Ÿè¡Œ   â”‚ å®Œäº†   â”‚        â”‚        â”‚  (è¡Œ: å·¥ç¨‹ã‚¿ã‚¹ã‚¯)\nâ”‚ å–æ    â”‚        â”‚ è¨ˆç”»   â”‚ å®Ÿè¡Œ   â”‚ å®Ÿè¡Œ   â”‚ å®Œäº†   â”‚\nâ”‚ åŸç¨¿    â”‚        â”‚        â”‚ è¨ˆç”»   â”‚ å®Ÿè¡Œ   â”‚ å®Ÿè¡Œ   â”‚\nâ”‚ ...     â”‚        â”‚        â”‚        â”‚        â”‚        â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n(97å·¥ç¨‹ Ã— 60æ—¥ = 5820ã‚»ãƒ«)\n```\n\n**API Responseæ§‹é€ **ï¼š\n```typescript\ninterface GanttData {\n  issueName: string;              // \"2025å¹´11æœˆå·\"\n  publishDate: string;            // \"2025-12-01\"\n  startDate: string;              // \"2025-10-01\"ï¼ˆç™ºè¡Œæ—¥ã®60æ—¥å‰ï¼‰\n  totalDays: number;              // 60\n  totalProcesses: number;         // 97\n  dates: string[];                // [\"2025-10-01\", \"2025-10-02\", ...]\n  processes: GanttProcess[];      // 97å·¥ç¨‹ã®è©³ç´°\n}\n\ninterface GanttProcess {\n  processName: string;            // \"ä¼ç”»\"\n  category: string;               // \"å–¶æ¥­ãƒ»ä¼ç”»\"\n  schedule: GanttCell[];          // 60æ—¥åˆ†ã®ã‚»ãƒ«\n}\n\ninterface GanttCell {\n  date: string;                   // \"2025-10-01\"\n  status: 'planned' | 'in_progress' | 'completed' | 'delayed' | 'none';\n  layer: number;                  // ãƒ¬ã‚¤ãƒ¤ãƒ¼ç•ªå·ï¼ˆè¤‡æ•°å·¥ç¨‹ä¸¦è¡Œæ™‚ï¼‰\n}\n```\n\n## ä»–ã®å€™è£œ\n\n### å€™è£œ1ï¼šé †ç®—ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©ãƒ¼\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**ï¼š\n- **ç†ç”±1ï¼šãƒ‡ãƒƒãƒ‰ãƒ©ã‚¤ãƒ³ãŒå®ˆã‚Œãªã„** - é–‹å§‹æ—¥ã‹ã‚‰é †ã«è¨ˆç”»ã™ã‚‹ã¨ã€ç™ºè¡Œæ—¥ã«é–“ã«åˆã‚ãªã„ãƒªã‚¹ã‚¯ãŒé«˜ã„\n- **ç†ç”±2ï¼šé›‘èªŒåˆ¶ä½œã®ç‰¹æ€§ã«åˆã‚ãªã„** - é›‘èªŒåˆ¶ä½œã¯ã€ç™ºè¡Œæ—¥ï¼ˆãƒ‡ãƒƒãƒ‰ãƒ©ã‚¤ãƒ³ï¼‰ãŒå…ˆã«æ±ºã¾ã‚Šã€ãã“ã‹ã‚‰é€†ç®—ã—ã¦ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’çµ„ã‚€æ¥­ç•Œæ…£ç¿’ãŒã‚ã‚‹\n- **ç†ç”±3ï¼šé…å»¶ã®å½±éŸ¿ãŒè¦‹ãˆã«ãã„** - é †ç®—ã§ã¯ã€å„å·¥ç¨‹ã®é…å»¶ãŒç™ºè¡Œæ—¥ã«ã©ã†å½±éŸ¿ã™ã‚‹ã‹åˆ†ã‹ã‚Šã«ãã„\n\n**é †ç®—ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©ãƒ¼ã®å•é¡Œ**ï¼š\n```\né–‹å§‹æ—¥: 2025-10-01\n   â†“\nä¼ç”»: 10æ—¥é–“ â†’ çµ‚äº† 2025-10-11\n   â†“\nå–æ: 5æ—¥é–“ â†’ çµ‚äº† 2025-10-16\n   â†“\n...ï¼ˆé †ã«è¨ˆç”»ï¼‰\n   â†“\nå°åˆ·: 5æ—¥é–“ â†’ çµ‚äº† 2025-12-05ï¼ˆç™ºè¡Œæ—¥2025-12-01ã‚’è¶…éï¼ï¼‰\n```\n\n### å€™è£œ2ï¼šæ‰‹å‹•ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒªãƒ³ã‚°\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**ï¼š\n- **ç†ç”±1ï¼šå·¥ç¨‹ãŒå¤šã™ãã‚‹** - 97å·¥ç¨‹ã‚’æ‰‹å‹•ã§ç®¡ç†ã™ã‚‹ã®ã¯éç¾å®Ÿçš„\n- **ç†ç”±2ï¼šå¤‰æ›´ã«å¼±ã„** - 1ã¤ã®å·¥ç¨‹ãŒé…å»¶ã™ã‚‹ã¨ã€å¾Œç¶šå·¥ç¨‹ã™ã¹ã¦ã‚’æ‰‹å‹•ã§èª¿æ•´ã™ã‚‹å¿…è¦ãŒã‚ã‚‹\n- **ç†ç”±3ï¼šå¯è¦–åŒ–ãŒå›°é›£** - ã‚¬ãƒ³ãƒˆãƒãƒ£ãƒ¼ãƒˆã‚’æ‰‹å‹•ã§ä½œæˆãƒ»æ›´æ–°ã™ã‚‹ã®ã¯éå¸¸ã«æ‰‹é–“ãŒã‹ã‹ã‚‹\n\n### å€™è£œ3ï¼šãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç®¡ç†ãƒ„ãƒ¼ãƒ«å°å…¥\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**ï¼š\n- **ç†ç”±1ï¼šã‚³ã‚¹ãƒˆãŒé«˜ã„** - Asanaã€Monday.comç­‰ã®ãƒ„ãƒ¼ãƒ«ã¯æœˆé¡èª²é‡‘ãŒå¿…è¦\n- **ç†ç”±2ï¼šå­¦ç¿’ã‚³ã‚¹ãƒˆãŒé«˜ã„** - ãƒ¦ãƒ¼ã‚¶ãƒ¼ï¼ˆå–¶æ¥­ãƒ»ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ï¼‰ãŒæ–°ã—ã„ãƒ„ãƒ¼ãƒ«ã‚’å­¦ã¶æ™‚é–“ãŒãªã„\n- **ç†ç”±3ï¼šæ—¢å­˜ãƒ•ãƒ­ãƒ¼ã¨ã®çµ±åˆãŒå›°é›£** - Google Sheetsã§ã®æ¥­å‹™ãƒ•ãƒ­ãƒ¼ãŒç¢ºç«‹ã•ã‚Œã¦ãŠã‚Šã€æ–°ã—ã„ãƒ„ãƒ¼ãƒ«å°å…¥ã¯ç¾å®Ÿçš„ã§ã¯ãªã„\n- **ç†ç”±4ï¼šã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºæ€§ãŒä½ã„** - é›‘èªŒåˆ¶ä½œç‰¹æœ‰ã®97å·¥ç¨‹ãƒ»é€†ç®—ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒªãƒ³ã‚°ã«å¯¾å¿œã™ã‚‹ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºãŒå›°é›£\n\n## åˆ¤æ–­ç†ç”±\n\n### ç†ç”±1ï¼šé›‘èªŒåˆ¶ä½œã®æ¥­ç•Œæ…£ç¿’ã«æº–æ‹ \n\né›‘èªŒåˆ¶ä½œæ¥­ç•Œã§ã¯ã€ç™ºè¡Œæ—¥ï¼ˆãƒ‡ãƒƒãƒ‰ãƒ©ã‚¤ãƒ³ï¼‰ã‹ã‚‰é€†ç®—ã—ã¦ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’çµ„ã‚€ã®ãŒä¸€èˆ¬çš„ã€‚\n\n**é›‘èªŒåˆ¶ä½œã®ç‰¹æ€§**ï¼š\n1. **ç™ºè¡Œæ—¥ãŒå…ˆã«æ±ºã¾ã‚‹** - ã€Œ2025å¹´11æœˆå·ã€ã¯12æœˆ1æ—¥ç™ºè¡Œã€ã¨å…ˆã«æ±ºå®š\n2. **ãƒ‡ãƒƒãƒ‰ãƒ©ã‚¤ãƒ³å³å®ˆ** - ç™ºè¡Œæ—¥ã¯çµ¶å¯¾ã«å®ˆã‚‹å¿…è¦ãŒã‚ã‚‹ï¼ˆé…å¸ƒå…ˆã¨ã®ç´„æŸï¼‰\n3. **é€†ç®—æ€è€ƒ** - ç™ºè¡Œæ—¥ã‹ã‚‰é€†ç®—ã—ã¦ã€å„å·¥ç¨‹ã®æœŸé™ã‚’è¨­å®š\n\n**Phase4é€†ç®—ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©ãƒ¼ã®æµã‚Œ**ï¼š\n```\nç™ºè¡Œæ—¥: 2025-12-01ï¼ˆå›ºå®šï¼‰\n   â†“ï¼ˆ60æ—¥å‰ã‹ã‚‰é–‹å§‹ï¼‰\né–‹å§‹æ—¥: 2025-10-01\n   â†“\nå„å·¥ç¨‹ã®æœŸé™ã‚’é€†ç®—ã—ã¦è¨­å®š:\n  - å°åˆ·ãƒ»è£½æœ¬: 11/26-11/30ï¼ˆç™ºè¡Œæ—¥ã®5æ—¥å‰ã¾ã§ï¼‰\n  - æ ¡æ­£ãƒ»ç¢ºèª: 11/21-11/25ï¼ˆå°åˆ·ã®5æ—¥å‰ã¾ã§ï¼‰\n  - ãƒ‡ã‚¶ã‚¤ãƒ³: 11/11-11/20ï¼ˆæ ¡æ­£ã®10æ—¥å‰ã¾ã§ï¼‰\n  - åŸç¨¿åŸ·ç­†: 11/01-11/10ï¼ˆãƒ‡ã‚¶ã‚¤ãƒ³ã®10æ—¥å‰ã¾ã§ï¼‰\n  - å–æãƒ»æ’®å½±: 10/21-10/31ï¼ˆåŸç¨¿ã®10æ—¥å‰ã¾ã§ï¼‰\n  - å–¶æ¥­ãƒ»ä¼ç”»: 10/01-10/20ï¼ˆå–æã®20æ—¥å‰ã¾ã§ï¼‰\n```\n\n### ç†ç”±2ï¼š97å·¥ç¨‹ã®è¤‡é›‘ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ç®¡ç†\n\nã‚†ã‚ãƒã‚¬åˆ¶ä½œã¯ã€97å·¥ç¨‹ï¼ˆå–æã€åŸç¨¿ã€ãƒ‡ã‚¶ã‚¤ãƒ³ã€å°åˆ·ç­‰ï¼‰ã‚’60æ—¥é–“ã§å®Œäº†ã•ã›ã‚‹å¿…è¦ãŒã‚ã‚‹ã€‚\n\n**97å·¥ç¨‹ã®å†…è¨³ä¾‹**ï¼š\n```\n1. å–¶æ¥­ãƒ»ä¼ç”»ï¼ˆ15å·¥ç¨‹ï¼‰\n   - ä¼æ¥­é¸å®šã€ã‚¢ãƒã‚¤ãƒ³ãƒˆã€ä¼ç”»æ›¸ä½œæˆã€å¥‘ç´„ã€ç­‰\n\n2. å–æãƒ»æ’®å½±ï¼ˆ20å·¥ç¨‹ï¼‰\n   - ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«èª¿æ•´ã€å–ææº–å‚™ã€ç¾åœ°å–æã€æ’®å½±ã€ç­‰\n\n3. åŸç¨¿åŸ·ç­†ï¼ˆ25å·¥ç¨‹ï¼‰\n   - ä¼æ¥­ç´¹ä»‹æ–‡ã€ã‚¤ãƒ³ã‚¿ãƒ“ãƒ¥ãƒ¼è¨˜äº‹ã€ã‚¹ã‚¿ãƒ¼ç´¹ä»‹ã€ç­‰\n\n4. ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ»ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆï¼ˆ20å·¥ç¨‹ï¼‰\n   - ãƒšãƒ¼ã‚¸ãƒ‡ã‚¶ã‚¤ãƒ³ã€ç”»åƒé…ç½®ã€æ ¡æ­£æŒ‡ç¤ºåæ˜ ã€ç­‰\n\n5. æ ¡æ­£ãƒ»ç¢ºèªï¼ˆ10å·¥ç¨‹ï¼‰\n   - åˆç¨¿æ ¡æ­£ã€å†æ ¡æ­£ã€ä¼æ¥­ç¢ºèªã€æœ€çµ‚ç¢ºèªã€ç­‰\n\n6. å°åˆ·ãƒ»è£½æœ¬ï¼ˆ5å·¥ç¨‹ï¼‰\n   - å°åˆ·ãƒ‡ãƒ¼ã‚¿å…¥ç¨¿ã€å°åˆ·ã€è£½æœ¬ã€æ¤œå“ã€ç­‰\n\n7. é…å¸ƒï¼ˆ2å·¥ç¨‹ï¼‰\n   - é…é€ã€é…å¸ƒå®Œäº†ç¢ºèª\n```\n\n**ã‚¬ãƒ³ãƒˆãƒãƒ£ãƒ¼ãƒˆè¡¨ç¤º**ï¼š\n```\nã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆ: 97è¡Œï¼ˆå·¥ç¨‹ï¼‰ Ã— 60åˆ—ï¼ˆæ—¥ä»˜ï¼‰ = 5820ã‚»ãƒ«\nâ†’ å„ã‚»ãƒ«ã«ã€Œè¨ˆç”»ã€ã€Œå®Ÿè¡Œä¸­ã€ã€Œå®Œäº†ã€ã€Œé…ã‚Œã€ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’è¨˜éŒ²\n```\n\n### ç†ç”±3ï¼šé…å»¶ã®å¯è¦–åŒ–ã¨ã‚¯ãƒªãƒ†ã‚£ã‚«ãƒ«ãƒ‘ã‚¹ã®æŠŠæ¡\n\nPhase4é€†ç®—ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©ãƒ¼ã«ã‚ˆã‚Šã€é…å»¶ã—ã¦ã„ã‚‹å·¥ç¨‹ã¨ã€ç™ºè¡Œæ—¥ã¸ã®å½±éŸ¿ã‚’å³åº§ã«æŠŠæ¡ã§ãã‚‹ã€‚\n\n**é…å»¶ã®å¯è¦–åŒ–**ï¼š\n```tsx\n// Dashboardè¡¨ç¤ºä¾‹\n<div className=\"bg-red-50 border border-red-200 p-4\">\n  <h3 className=\"font-semibold text-red-800\">é…å»¶ã‚¢ãƒ©ãƒ¼ãƒˆ</h3>\n  <ul>\n    <li>å–æï¼ˆä¼æ¥­Aï¼‰: 2æ—¥é…å»¶ â†’ ãƒ‡ã‚¶ã‚¤ãƒ³é–‹å§‹ã‚‚2æ—¥é…å»¶</li>\n    <li>åŸç¨¿ï¼ˆä¼æ¥­Bï¼‰: 1æ—¥é…å»¶ â†’ æ ¡æ­£ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã«å½±éŸ¿</li>\n  </ul>\n  <p className=\"text-sm text-red-600 mt-2\">\n    ç™ºè¡Œæ—¥ã¾ã§ã®æ®‹ã‚Šæ—¥æ•°: 15æ—¥\n  </p>\n</div>\n```\n\n**ã‚¯ãƒªãƒ†ã‚£ã‚«ãƒ«ãƒ‘ã‚¹**ï¼š\n```\nå–¶æ¥­ â†’ å–æ â†’ åŸç¨¿ â†’ ãƒ‡ã‚¶ã‚¤ãƒ³ â†’ æ ¡æ­£ â†’ å°åˆ· â†’ é…å¸ƒ\nï¼ˆã™ã¹ã¦ç›´åˆ—ä¾å­˜ã€1ã¤ã§ã‚‚é…å»¶ã™ã‚‹ã¨ç™ºè¡Œæ—¥ã«å½±éŸ¿ï¼‰\n```\n\n### ç†ç”±4ï¼šå‹•çš„ãªã‚·ãƒ¼ãƒˆé¸æŠï¼ˆå·åˆ¥ç®¡ç†ï¼‰\n\nPhase4é€†ç®—ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©ãƒ¼ã¯ã€å·åˆ¥ï¼ˆã€Œ2025å¹´11æœˆå·ã€ã€Œ2025å¹´12æœˆå·ã€ç­‰ï¼‰ã«ã‚·ãƒ¼ãƒˆã‚’åˆ†ã‘ã¦ç®¡ç†ã€‚\n\n**ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆæ§‹é€ **ï¼š\n```\nã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆ: YUMEMAGA_SPREADSHEET_ID\n  â”œâ”€ é€†ç®—é…ç½®_ã‚¬ãƒ³ãƒˆ_2025å¹´11æœˆå·ï¼ˆã‚·ãƒ¼ãƒˆï¼‰\n  â”œâ”€ é€†ç®—é…ç½®_ã‚¬ãƒ³ãƒˆ_2025å¹´12æœˆå·ï¼ˆã‚·ãƒ¼ãƒˆï¼‰\n  â”œâ”€ é€†ç®—é…ç½®_ã‚¬ãƒ³ãƒˆ_2026å¹´1æœˆå·ï¼ˆã‚·ãƒ¼ãƒˆï¼‰\n  â””â”€ ...\n```\n\n**APIå‘¼ã³å‡ºã—**ï¼š\n```typescript\n// å·ã‚’æŒ‡å®šã—ã¦ã‚¬ãƒ³ãƒˆãƒãƒ£ãƒ¼ãƒˆã‚’å–å¾—\nGET /api/yumemaga-v2/gantt?issue=2025å¹´11æœˆå·\n\n// ãƒ¬ã‚¹ãƒãƒ³ã‚¹\n{\n  success: true,\n  data: {\n    issueName: \"2025å¹´11æœˆå·\",\n    publishDate: \"2025-12-01\",\n    startDate: \"2025-10-01\",\n    processes: [/* 97å·¥ç¨‹ */],\n  }\n}\n```\n\n**Dashboard**ï¼š\n```tsx\n// å·é¸æŠãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³\n<select onChange={(e) => setSelectedIssue(e.target.value)}>\n  <option value=\"2025å¹´11æœˆå·\">2025å¹´11æœˆå·</option>\n  <option value=\"2025å¹´12æœˆå·\">2025å¹´12æœˆå·</option>\n  <option value=\"2026å¹´1æœˆå·\">2026å¹´1æœˆå·</option>\n</select>\n\n// é¸æŠã—ãŸå·ã®ã‚¬ãƒ³ãƒˆãƒãƒ£ãƒ¼ãƒˆè¡¨ç¤º\n<GanttChart data={ganttData} />\n```\n\n### ç†ç”±5ï¼šå¤–éƒ¨ä¾å­˜å·¥ç¨‹ã®ãƒã‚¤ãƒ©ã‚¤ãƒˆ\n\nä¸€éƒ¨ã®å·¥ç¨‹ã¯å¤–éƒ¨ä¼æ¥­ã«ä¾å­˜ï¼ˆå°åˆ·ä¼šç¤¾ã€ãƒ‡ã‚¶ã‚¤ãƒ³ä¼šç¤¾ç­‰ï¼‰ã—ã¦ãŠã‚Šã€ã“ã‚Œã‚’ãƒã‚¤ãƒ©ã‚¤ãƒˆè¡¨ç¤ºã€‚\n\n**å¤–éƒ¨ä¾å­˜å·¥ç¨‹ã®ä¾‹**ï¼š\n```\n- å°åˆ·ãƒ»è£½æœ¬: å°åˆ·ä¼šç¤¾ã«ä¾å­˜ï¼ˆç´æœŸé…å»¶ãƒªã‚¹ã‚¯é«˜ï¼‰\n- ãƒ‡ã‚¶ã‚¤ãƒ³: ãƒ‡ã‚¶ã‚¤ãƒ³ä¼šç¤¾ã«ä¾å­˜ï¼ˆä¿®æ­£å›æ•°ã«ã‚ˆã‚‹é…å»¶ãƒªã‚¹ã‚¯ï¼‰\n- æ’®å½±: æ’®å½±ã‚¹ã‚¿ã‚¸ã‚ªã«ä¾å­˜ï¼ˆå¤©å€™ãƒ»æ©Ÿæãƒˆãƒ©ãƒ–ãƒ«ãƒªã‚¹ã‚¯ï¼‰\n```\n\n**Dashboardè¡¨ç¤º**ï¼š\n```tsx\n// å¤–éƒ¨ä¾å­˜å·¥ç¨‹ã¯èƒŒæ™¯è‰²ã‚’å¤‰æ›´\n<div className={`\n  p-4 rounded-lg\n  ${process.isExternal ? 'bg-orange-50 border border-orange-200' : 'bg-white'}\n`}>\n  <h4 className=\"font-semibold\">\n    {process.processName}\n    {process.isExternal && <span className=\"ml-2 text-xs text-orange-600\">(å¤–éƒ¨ä¾å­˜)</span>}\n  </h4>\n</div>\n```\n\n### ç†ç”±6ï¼šæ—¢å­˜ãƒ•ãƒ­ãƒ¼ï¼ˆGoogle Sheetsï¼‰ã¨ã®çµ±åˆ\n\nPhase4é€†ç®—ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©ãƒ¼ã¯ã€Google Sheetsã«å®Ÿè£…ã•ã‚Œã¦ãŠã‚Šã€æ—¢å­˜æ¥­å‹™ãƒ•ãƒ­ãƒ¼ã¨çµ±åˆã€‚\n\n**æ—¢å­˜ãƒ•ãƒ­ãƒ¼**ï¼š\n1. ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ãŒGoogle Sheetsã«ã‚¬ãƒ³ãƒˆãƒãƒ£ãƒ¼ãƒˆã‚’ä½œæˆ\n2. å–¶æ¥­ãƒ»åˆ¶ä½œãƒ¡ãƒ³ãƒãƒ¼ãŒGoogle Sheetsã‚’ç›´æ¥æ›´æ–°ï¼ˆé€²æ—è¨˜éŒ²ï¼‰\n3. ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ãŒDashboardã§å…¨ä½“é€²æ—ã‚’ç¢ºèª\n\n**æ–°ã‚·ã‚¹ãƒ†ãƒ ã®å½¹å‰²**ï¼š\n```\nGoogle Sheetsï¼ˆãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ã€æ‰‹å‹•æ›´æ–°ï¼‰\n    â†“\nAPI Routeï¼ˆã‚¬ãƒ³ãƒˆãƒ‡ãƒ¼ã‚¿ãƒ‘ãƒ¼ã‚¹ã€å‹å¤‰æ›ï¼‰\n    â†“\nDashboardï¼ˆã‚¬ãƒ³ãƒˆãƒãƒ£ãƒ¼ãƒˆè¡¨ç¤ºã€é…å»¶ã‚¢ãƒ©ãƒ¼ãƒˆï¼‰\n```\n\n## ã“ã®åˆ¤æ–­ã‹ã‚‰å­¦ã¹ã‚‹ã“ã¨\n\n### å­¦ã³1ï¼šãƒ‡ãƒƒãƒ‰ãƒ©ã‚¤ãƒ³é§†å‹•å‹ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯é€†ç®—ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒªãƒ³ã‚°ãŒæœ€é©\n\nç™ºè¡Œæ—¥ï¼ˆãƒ‡ãƒƒãƒ‰ãƒ©ã‚¤ãƒ³ï¼‰ãŒå…ˆã«æ±ºã¾ã‚‹ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯ã€é€†ç®—ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒªãƒ³ã‚°ãŒæœ€é©ã€‚\n\n**é€†ç®—ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒªãƒ³ã‚°ã®ãƒ¡ãƒªãƒƒãƒˆ**ï¼š\n1. **ãƒ‡ãƒƒãƒ‰ãƒ©ã‚¤ãƒ³å³å®ˆ** - ç™ºè¡Œæ—¥ã‹ã‚‰é€†ç®—ã™ã‚‹ãŸã‚ã€ãƒ‡ãƒƒãƒ‰ãƒ©ã‚¤ãƒ³ã‚’å®ˆã‚Šã‚„ã™ã„\n2. **é…å»¶ã®å½±éŸ¿ãŒæ˜ç¢º** - 1ã¤ã®å·¥ç¨‹ãŒé…å»¶ã™ã‚‹ã¨ã€å¾Œç¶šå·¥ç¨‹ã¨ç™ºè¡Œæ—¥ã¸ã®å½±éŸ¿ãŒå³åº§ã«åˆ†ã‹ã‚‹\n3. **å„ªå…ˆé †ä½ã®æ˜ç¢ºåŒ–** - ã‚¯ãƒªãƒ†ã‚£ã‚«ãƒ«ãƒ‘ã‚¹ä¸Šã®å·¥ç¨‹ã‚’å„ªå…ˆçš„ã«å®Œäº†ã•ã›ã‚‹\n\n### å­¦ã³2ï¼šè¤‡é›‘ãªã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ç®¡ç†ã¯ã‚¬ãƒ³ãƒˆãƒãƒ£ãƒ¼ãƒˆã§å¯è¦–åŒ–ã™ã¹ã\n\n97å·¥ç¨‹ãƒ»60æ—¥é–“ã®è¤‡é›‘ãªã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ç®¡ç†ã¯ã€ã‚¬ãƒ³ãƒˆãƒãƒ£ãƒ¼ãƒˆã§å¯è¦–åŒ–ã™ã‚‹ã“ã¨ã§ç®¡ç†å¯èƒ½ã«ãªã‚‹ã€‚\n\n**ã‚¬ãƒ³ãƒˆãƒãƒ£ãƒ¼ãƒˆã®ãƒ¡ãƒªãƒƒãƒˆ**ï¼š\n1. **å…¨ä½“ä¿¯ç°** - 97å·¥ç¨‹ã®é€²æ—ã‚’ä¸€ç›®ã§æŠŠæ¡\n2. **ä¾å­˜é–¢ä¿‚ã®æŠŠæ¡** - ã©ã®å·¥ç¨‹ãŒã‚¯ãƒªãƒ†ã‚£ã‚«ãƒ«ãƒ‘ã‚¹ã‹æ˜ç¢º\n3. **é…å»¶ã®å¯è¦–åŒ–** - é…å»¶ã—ã¦ã„ã‚‹å·¥ç¨‹ã‚’è‰²åˆ†ã‘ã—ã¦è¡¨ç¤º\n\n### å­¦ã³3ï¼šæ¥­ç•Œæ…£ç¿’ã«æº–æ‹ ã™ã‚‹ã“ã¨ã§å—ã‘å…¥ã‚Œã‚„ã™ã•ãŒå‘ä¸Š\n\né›‘èªŒåˆ¶ä½œæ¥­ç•Œã®æ…£ç¿’ï¼ˆé€†ç®—ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒªãƒ³ã‚°ï¼‰ã«æº–æ‹ ã™ã‚‹ã“ã¨ã§ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®å—ã‘å…¥ã‚Œã‚„ã™ã•ãŒå‘ä¸Šã€‚\n\n**æ¥­ç•Œæ…£ç¿’ã¸ã®æº–æ‹ **ï¼š\n- é›‘èªŒåˆ¶ä½œæ¥­ç•Œã§ã¯ã€ç™ºè¡Œæ—¥ã‹ã‚‰é€†ç®—ã™ã‚‹ã®ãŒå¸¸è­˜\n- Phase4é€†ç®—ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©ãƒ¼ã¯ã€ã“ã®æ…£ç¿’ã«æº–æ‹ \n- ãƒ¦ãƒ¼ã‚¶ãƒ¼ï¼ˆãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ï¼‰ãŒç›´æ„Ÿçš„ã«ç†è§£ã§ãã‚‹\n\n### å­¦ã³4ï¼šå¤–éƒ¨ä¾å­˜å·¥ç¨‹ã¯ç‰¹åˆ¥æ‰±ã„ã™ã¹ã\n\nå¤–éƒ¨ä¼æ¥­ã«ä¾å­˜ã™ã‚‹å·¥ç¨‹ã¯ã€é…å»¶ãƒªã‚¹ã‚¯ãŒé«˜ã„ãŸã‚ã€ç‰¹åˆ¥æ‰±ã„ï¼ˆãƒã‚¤ãƒ©ã‚¤ãƒˆè¡¨ç¤ºã€å„ªå…ˆç›£è¦–ï¼‰ã™ã¹ãã€‚\n\n**å¤–éƒ¨ä¾å­˜å·¥ç¨‹ã®ç®¡ç†**ï¼š\n1. **ãƒã‚¤ãƒ©ã‚¤ãƒˆè¡¨ç¤º** - èƒŒæ™¯è‰²ã‚’å¤‰æ›´ã—ã¦æ³¨æ„å–šèµ·\n2. **å„ªå…ˆç›£è¦–** - ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã§å„ªå…ˆçš„ã«è¡¨ç¤º\n3. **ãƒãƒƒãƒ•ã‚¡è¨­å®š** - å¤–éƒ¨ä¾å­˜å·¥ç¨‹ã«ã¯ä½™è£•ã‚’ã‚‚ãŸã›ãŸã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«è¨­å®š\n\n## é©ç”¨å ´é¢\n\n### ã„ã¤ã“ã®åˆ¤æ–­åŸºæº–ã‚’ä½¿ã†ã‹\n\nä»¥ä¸‹ã®æ¡ä»¶ã‚’æº€ãŸã™ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯ã€é€†ç®—ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒªãƒ³ã‚°ã‚’æ¡ç”¨ã™ã¹ãï¼š\n\n1. **ãƒ‡ãƒƒãƒ‰ãƒ©ã‚¤ãƒ³ãŒå…ˆã«æ±ºã¾ã‚‹** - ç™ºè¡Œæ—¥ã€ç´å“æ—¥ã€ã‚¤ãƒ™ãƒ³ãƒˆé–‹å‚¬æ—¥ç­‰\n2. **ãƒ‡ãƒƒãƒ‰ãƒ©ã‚¤ãƒ³å³å®ˆãŒå¿…é ˆ** - é…å»¶ãŒè¨±ã•ã‚Œãªã„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ\n3. **å·¥ç¨‹æ•°ãŒå¤šã„** - 50+å·¥ç¨‹ã‚’ç®¡ç†ã™ã‚‹å¿…è¦ãŒã‚ã‚‹å ´åˆ\n4. **å·¥ç¨‹é–“ã«ä¾å­˜é–¢ä¿‚ãŒã‚ã‚‹** - ç›´åˆ—ä¾å­˜ï¼ˆã‚¯ãƒªãƒ†ã‚£ã‚«ãƒ«ãƒ‘ã‚¹ï¼‰ãŒã‚ã‚‹å ´åˆ\n5. **å¤–éƒ¨ä¾å­˜ãŒã‚ã‚‹** - å¤–éƒ¨ä¼æ¥­ãƒ»å¤–éƒ¨ãƒªã‚½ãƒ¼ã‚¹ã«ä¾å­˜ã™ã‚‹å·¥ç¨‹ãŒã‚ã‚‹å ´åˆ\n\n### ä¾‹å¤–ï¼šé€†ç®—ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒªãƒ³ã‚°ãŒä¸é©åˆ‡ãªã‚±ãƒ¼ã‚¹\n\nä»¥ä¸‹ã®å ´åˆã¯ã€é€†ç®—ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒªãƒ³ã‚°ã‚ˆã‚Šã‚‚é †ç®—ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒªãƒ³ã‚°ãŒé©ã—ã¦ã„ã‚‹ï¼š\n\n- **ãƒ‡ãƒƒãƒ‰ãƒ©ã‚¤ãƒ³ãŒæ±ºã¾ã£ã¦ã„ãªã„** - é–‹å§‹æ—¥ã®ã¿ãŒæ±ºã¾ã£ã¦ãŠã‚Šã€çµ‚äº†æ—¥ã¯æŸ”è»Ÿãªå ´åˆ\n- **å·¥ç¨‹æ•°ãŒå°‘ãªã„** - 10å·¥ç¨‹æœªæº€ã®å˜ç´”ãªãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ\n- **å·¥ç¨‹é–“ã«ä¾å­˜é–¢ä¿‚ãŒãªã„** - ä¸¦è¡Œå®Ÿè¡Œå¯èƒ½ãªç‹¬ç«‹ã—ãŸå·¥ç¨‹ã®ã¿ã®å ´åˆ\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `skill_gantt_data_parsing_technique_2025_11_24.md` - ã‚¬ãƒ³ãƒˆãƒãƒ£ãƒ¼ãƒˆãƒ‡ãƒ¼ã‚¿ãƒ‘ãƒ¼ã‚¹æ‰‹æ³•\n- `skill_dynamic_sheet_selection_2025_11_24.md` - å‹•çš„ã‚·ãƒ¼ãƒˆé¸æŠå®Ÿè£…ï¼ˆå·åˆ¥ç®¡ç†ï¼‰\n- `workflow_readonly_manual_update_flow_2025_11_24.md` - èª­ã¿å–ã‚Šå°‚ç”¨æ‰‹å‹•æ›´æ–°ãƒ•ãƒ­ãƒ¼\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€ŒPhase4é€†ç®—ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©ãƒ¼è¨­è¨ˆã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "skill-gantt-data-parsing-technique",
      "skill-dynamic-sheet-selection",
      "workflow-readonly-manual-update-flow"
    ]
  },
  {
    "slug": "arch-template-registry-pattern",
    "title": "ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ¬ã‚¸ã‚¹ãƒˆãƒªãƒ‘ã‚¿ãƒ¼ãƒ³ã«ã‚ˆã‚‹å‹•çš„ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆç®¡ç†",
    "category": "Decisionsï¼ˆæŠ€è¡“é¸å®šãƒ»åˆ¤æ–­ï¼‰",
    "description": "ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ¬ã‚¸ã‚¹ãƒˆãƒªãƒ‘ã‚¿ãƒ¼ãƒ³ã«ã‚ˆã‚‹å‹•çš„ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆç®¡ç†",
    "project": "instagram-post-generator",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"decision_arch_template_registry_pattern_2025_11_25\",\n  \"type\": \"decision\",\n  \"name\": \"ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ¬ã‚¸ã‚¹ãƒˆãƒªãƒ‘ã‚¿ãƒ¼ãƒ³ã«ã‚ˆã‚‹å‹•çš„ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆç®¡ç†\",\n  \"decision_type\": \"architecture\",\n  \"tags\": [\"ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£\", \"ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ\", \"ãƒ¬ã‚¸ã‚¹ãƒˆãƒªãƒ‘ã‚¿ãƒ¼ãƒ³\", \"å‹•çš„ç®¡ç†\", \"ã‚¹ã‚³ã‚¢ãƒªãƒ³ã‚°\"],\n  \"source_project\": \"instagram-post-generator\",\n  \"chosen\": \"ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ¬ã‚¸ã‚¹ãƒˆãƒª + ã‚¹ã‚³ã‚¢ãƒªãƒ³ã‚°ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ æ–¹å¼\",\n  \"alternatives\": [\"é™çš„ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå›ºå®šãƒãƒƒãƒ”ãƒ³ã‚°\", \"AIå®Œå…¨è‡ªç”±é¸æŠ\", \"ãƒ¦ãƒ¼ã‚¶ãƒ¼æ‰‹å‹•é¸æŠ\"],\n  \"related_knowledge\": [\n    \"skill_template_selector_algorithm_2025_11_25\",\n    \"decision_arch_two_stage_generation_2025_11_25\",\n    \"skill_five_stage_ai_pipeline_2025_11_25\"\n  ],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ¬ã‚¸ã‚¹ãƒˆãƒªãƒ‘ã‚¿ãƒ¼ãƒ³ã«ã‚ˆã‚‹å‹•çš„ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆç®¡ç†\n\n## ä½•ã‚’åˆ¤æ–­ã—ãŸã‹\n\n**InstagramæŠ•ç¨¿ç”Ÿæˆã‚·ã‚¹ãƒ†ãƒ ã«ãŠã„ã¦ã€ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ¬ã‚¸ã‚¹ãƒˆãƒªãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’æ¡ç”¨ã—ã€ã‚¹ã‚³ã‚¢ãƒªãƒ³ã‚°ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã«ã‚ˆã‚‹å‹•çš„ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé¸æŠã‚’å®Ÿè£…ã™ã‚‹ã€‚**\n\n**è¨­è¨ˆåŸå‰‡**:\n- 72ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆï¼ˆ16ãƒ¡ã‚¤ãƒ³ + ãƒãƒªã‚¨ãƒ¼ã‚·ãƒ§ãƒ³ï¼‰ã‚’ä¸­å¤®ãƒ¬ã‚¸ã‚¹ãƒˆãƒªã§ç®¡ç†\n- ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç‰¹æ€§ã¨ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆç‰¹æ€§ã‚’ã‚¹ã‚³ã‚¢ãƒªãƒ³ã‚°\n- æœ€é©ã‚¹ã‚³ã‚¢ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’è‡ªå‹•é¸æŠ\n- ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆè¿½åŠ æ™‚ã¯ãƒ¬ã‚¸ã‚¹ãƒˆãƒªã«ç™»éŒ²ã™ã‚‹ã®ã¿ï¼ˆã‚³ãƒ¼ãƒ‰å¤‰æ›´ä¸è¦ï¼‰\n\nã“ã®è¨­è¨ˆã«ã‚ˆã‚Šã€**ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®æ‹¡å¼µæ€§**ã¨**é¸æŠç²¾åº¦**ã‚’ä¸¡ç«‹ã™ã‚‹ã€‚\n\n---\n\n## é¸ã‚“ã ã‚‚ã®\n\n### ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ¬ã‚¸ã‚¹ãƒˆãƒª + ã‚¹ã‚³ã‚¢ãƒªãƒ³ã‚°ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ æ–¹å¼\n\n**æ ¸å¿ƒã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ**:\n\n1. **TemplateRegistryï¼ˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ¬ã‚¸ã‚¹ãƒˆãƒªï¼‰**\n   - å…¨ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®ç‰¹æ€§ã‚’ä¸­å¤®ç®¡ç†\n   - ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿é§†å‹•ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå®šç¾©\n   - æ–°è¦ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆè¿½åŠ ãŒå®¹æ˜“\n\n2. **TemplateMatchingServiceï¼ˆã‚¹ã‚³ã‚¢ãƒªãƒ³ã‚°ã‚¨ãƒ³ã‚¸ãƒ³ï¼‰**\n   - ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç‰¹æ€§ã‚’æŠ½å‡º\n   - ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆç‰¹æ€§ã¨ãƒãƒƒãƒãƒ³ã‚°\n   - ã‚¹ã‚³ã‚¢è¨ˆç®—ã§æœ€é©ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé¸å‡º\n\n3. **PageStructureMatcherï¼ˆæ§‹é€ ãƒãƒƒãƒãƒ£ãƒ¼ï¼‰**\n   - ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹ã®pageStructurePatternã¨ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆæ§‹é€ ã®æ•´åˆæ€§æ¤œè¨¼\n   - å‹•çš„ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãƒãƒƒãƒ”ãƒ³ã‚°\n\n**å®Ÿè£…ç®‡æ‰€**:\n- **ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå‹å®šç¾©**: `/app/components/templates/TemplateTypes.ts` (48ã‚¿ã‚¤ãƒ—)\n- **ãƒ¬ã‚¸ã‚¹ãƒˆãƒªå®Ÿè£…**: `/app/services/templateMatchingService.ts` lines 14-166\n- **ã‚¹ã‚³ã‚¢ãƒªãƒ³ã‚°**: `/app/services/templateMatchingService.ts` lines 185-242\n- **æ§‹é€ ãƒãƒƒãƒãƒ³ã‚°**: `/app/services/knowledgeBase/PageStructureMatcher.ts` lines 75-101\n\n**ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆç·æ•°**: 72ãƒ•ã‚¡ã‚¤ãƒ«\n- ãƒ¡ã‚¤ãƒ³ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ: 16å€‹\n- Unifiedãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ: 13å€‹ï¼ˆunified-template-01 ~ 13ï¼‰\n- ãƒãƒªã‚¨ãƒ¼ã‚·ãƒ§ãƒ³: 43å€‹\n\n---\n\n## ä»–ã®å€™è£œ\n\n### å€™è£œ1: é™çš„ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå›ºå®šãƒãƒƒãƒ”ãƒ³ã‚°\n\n**æ¦‚è¦**: ã‚¸ãƒ£ãƒ³ãƒ«ã‚„ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã«å¿œã˜ã¦ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’å›ºå®šãƒãƒƒãƒ”ãƒ³ã‚°\n\n```typescript\n// é™çš„ãƒãƒƒãƒ”ãƒ³ã‚°ã®ä¾‹\nconst templateMap = {\n  'ä¼æ¥­ãƒ©ãƒ³ã‚­ãƒ³ã‚°': 'unified-template-11-company-ranking',\n  'æ‚©ã¿è§£æ±º': 'unified-template-08-section-blocks',\n  'ã‚¹ãƒ†ãƒƒãƒ—ã‚¬ã‚¤ãƒ‰': 'unified-template-13-step-by-step',\n  // ... å›ºå®šãƒãƒƒãƒ”ãƒ³ã‚°\n}\n\nfunction selectTemplate(genre: string): string {\n  return templateMap[genre] || 'unified-template-01-simple-intro'\n}\n```\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n\n1. **æŸ”è»Ÿæ€§ã®æ¬ å¦‚**\n   - åŒã˜ã‚¸ãƒ£ãƒ³ãƒ«ã§ã‚‚ã‚³ãƒ³ãƒ†ãƒ³ãƒ„æ§‹é€ ãŒç•°ãªã‚‹å ´åˆã«å¯¾å¿œã§ããªã„\n   - ä¾‹: ã€Œæ‚©ã¿è§£æ±ºã€ã§ã‚‚2ã‚»ã‚¯ã‚·ãƒ§ãƒ³æ§‹é€ ã¨4ã‚»ã‚¯ã‚·ãƒ§ãƒ³æ§‹é€ ã§æœ€é©ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãŒç•°ãªã‚‹\n   - **å›ºå®šãƒãƒƒãƒ”ãƒ³ã‚°ã§ã¯ç´°ã‹ã„èª¿æ•´ãŒä¸å¯èƒ½**\n\n2. **æ–°è¦ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆè¿½åŠ æ™‚ã®ã‚³ã‚¹ãƒˆ**\n   - æ–°ã—ã„ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’è¿½åŠ ã™ã‚‹ãŸã³ã«ãƒãƒƒãƒ”ãƒ³ã‚°ãƒ­ã‚¸ãƒƒã‚¯ã‚’ä¿®æ­£\n   - å…¨ã¦ã®æ—¢å­˜ã‚¸ãƒ£ãƒ³ãƒ«ã¨ã®é–¢ä¿‚æ€§ã‚’å†æ¤œè¨\n   - **ä¿å®ˆã‚³ã‚¹ãƒˆãŒç·šå½¢å¢—åŠ **\n\n3. **AIã®æŸ”è»Ÿæ€§ã‚’æ´»ã‹ã›ãªã„**\n   - AIãŒã€Œã“ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã¯template-08ãŒæœ€é©ã€ã¨åˆ¤æ–­ã—ã¦ã‚‚ã€ã‚¸ãƒ£ãƒ³ãƒ«ãŒã€Œãƒ©ãƒ³ã‚­ãƒ³ã‚°ã€ãªã‚‰template-11ã«å›ºå®š\n   - **AIåˆ¤æ–­ã‚’ä¸Šæ›¸ãã—ã¦ã—ã¾ã†**\n\n4. **ã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹ã¸ã®å¯¾å¿œå›°é›£**\n   - è¤‡æ•°ã‚¸ãƒ£ãƒ³ãƒ«ã«ã¾ãŸãŒã‚‹ã‚³ãƒ³ãƒ†ãƒ³ãƒ„\n   - æ–°ã—ã„ã‚¸ãƒ£ãƒ³ãƒ«ã®å‡ºç¾\n   - **if-elseåœ°ç„ã«é™¥ã‚‹**\n\n### å€™è£œ2: AIå®Œå…¨è‡ªç”±é¸æŠ\n\n**æ¦‚è¦**: AIã«ã€Œ72ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‹ã‚‰è‡ªç”±ã«é¸ã‚“ã§ãã ã•ã„ã€ã¨æŒ‡ç¤º\n\n```typescript\nconst prompt = `\nä»¥ä¸‹ã®72ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‹ã‚‰æœ€é©ãªã‚‚ã®ã‚’é¸æŠã—ã¦ãã ã•ã„:\n- unified-template-01-simple-intro\n- unified-template-02-dual-section\n- ...ï¼ˆ72å€‹åˆ—æŒ™ï¼‰\n\nãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›: ${userInput}\n\né¸æŠã—ãŸãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆID:\n`\n```\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n\n1. **ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆç†è§£ã®å›°é›£æ€§**\n   - AIã¯72ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®è©³ç´°æ§‹é€ ã‚’å®Œå…¨ã«ç†è§£ã§ããªã„\n   - ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã«å…¨ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®ä»•æ§˜ã‚’è¨˜è¼‰ã™ã‚‹ã¨10,000ãƒˆãƒ¼ã‚¯ãƒ³è¶…é\n   - **é¸æŠç²¾åº¦ãŒä½ã„ï¼ˆç´„60%ï¼‰**\n\n2. **é¸æŠã®ä¸€è²«æ€§ãŒãªã„**\n   - åŒã˜ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã§ã‚‚å®Ÿè¡Œã”ã¨ã«ç•°ãªã‚‹ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’é¸æŠ\n   - AIã®ã€Œæ°—åˆ†ã€ã«å·¦å³ã•ã‚Œã‚‹\n   - **å“è³ªãŒä¸å®‰å®š**\n\n3. **å­˜åœ¨ã—ãªã„ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’é¸æŠ**\n   - AIãŒã€Œunified-template-99-customã€ãªã©å­˜åœ¨ã—ãªã„ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ç”Ÿæˆ\n   - ã€Œtemplate-08ã¨template-11ã®ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰ã€ãªã©å®Ÿè£…ä¸å¯èƒ½ãªææ¡ˆ\n   - **ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ãŒè¤‡é›‘**\n\n4. **ã‚³ã‚¹ãƒˆå¢—åŠ **\n   - 72ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®ä»•æ§˜ã‚’ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã«å«ã‚ã‚‹ã¨ãƒˆãƒ¼ã‚¯ãƒ³æ•°å¢—å¤§\n   - 1æŠ•ç¨¿ã‚ãŸã‚Š$0.002 â†’ $0.008ï¼ˆ4å€ï¼‰\n   - **ã‚³ã‚¹ãƒˆæœ€é©åŒ–ã«åã™ã‚‹**\n\n### å€™è£œ3: ãƒ¦ãƒ¼ã‚¶ãƒ¼æ‰‹å‹•é¸æŠ\n\n**æ¦‚è¦**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒ72ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‹ã‚‰æ‰‹å‹•é¸æŠ\n\n```typescript\n<select>\n  <option value=\"unified-template-01\">Simple Intro</option>\n  <option value=\"unified-template-02\">Dual Section</option>\n  {/* ... 72å€‹ */}\n</select>\n```\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n\n1. **ãƒ¦ãƒ¼ã‚¶ãƒ“ãƒªãƒ†ã‚£ã®æ‚ªåŒ–**\n   - 72ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‹ã‚‰é¸ã¶ã®ã¯å›°é›£\n   - å„ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®é•ã„ã‚’ç†è§£ã™ã‚‹å¿…è¦\n   - **ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯ã€Œè‡ªå‹•ç”Ÿæˆã€ã‚’æœŸå¾…ã—ã¦ã„ã‚‹**\n\n2. **é¸æŠãƒŸã‚¹ã®ãƒªã‚¹ã‚¯**\n   - ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒä¸é©åˆ‡ãªãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’é¸æŠ\n   - ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã¨ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®ãƒŸã‚¹ãƒãƒƒãƒ\n   - **å“è³ªä½ä¸‹**\n\n3. **è‡ªå‹•åŒ–ã®ä¾¡å€¤æ¶ˆå¤±**\n   - ã€ŒInstagramæŠ•ç¨¿è‡ªå‹•ç”Ÿæˆã€ã®æ„å‘³ãŒãªã„\n   - æ‰‹å‹•é¸æŠãªã‚‰æ—¢å­˜ã®Canvaãƒ„ãƒ¼ãƒ«ã§ååˆ†\n   - **å·®åˆ¥åŒ–ã§ããªã„**\n\n---\n\n## åˆ¤æ–­ç†ç”±\n\n### ç†ç”±1: å‹•çš„ã‚¹ã‚³ã‚¢ãƒªãƒ³ã‚°ã«ã‚ˆã‚‹é«˜ç²¾åº¦é¸æŠ\n\n**ã‚¹ã‚³ã‚¢ãƒªãƒ³ã‚°ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã®å„ªä½æ€§**\n\n**ã‚¹ã‚³ã‚¢è¨ˆç®—å¼**:\n```typescript\nscore = æ§‹é€ ãƒãƒƒãƒ Ã— 3 + ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ Ã— 2 + è¡¨ç¾ãƒ‘ã‚¿ãƒ¼ãƒ³ Ã— 2 + ã‚³ãƒ³ãƒ†ãƒ³ãƒ„é‡ Ã— 1\n```\n\n**å®Ÿè£…ä¾‹**:\n```typescript\n// app/services/templateMatchingService.ts\nfunction calculateScore(\n  content: ContentAnalysis,\n  template: TemplateCharacteristics\n): number {\n  let score = 0\n\n  // 1. æ§‹é€ ãƒãƒƒãƒï¼ˆæœ€é‡è¦ã€weight: 3ï¼‰\n  if (content.structure === template.contentStructure) {\n    score += 30\n  } else if (isCompatibleStructure(content.structure, template.contentStructure)) {\n    score += 15\n  }\n\n  // 2. ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ãƒãƒƒãƒï¼ˆweight: 2ï¼‰\n  const keywordMatches = content.keywords.filter(k =>\n    template.matchingKeywords.includes(k)\n  ).length\n  score += keywordMatches * 10\n\n  // 3. è¡¨ç¾ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒï¼ˆweight: 2ï¼‰\n  if (template.expressionPattern.includes(content.expressionType)) {\n    score += 20\n  }\n\n  // 4. ã‚³ãƒ³ãƒ†ãƒ³ãƒ„é‡ãƒãƒƒãƒï¼ˆweight: 1ï¼‰\n  const volumeScore = calculateVolumeScore(content.volume, template.volumeRequirements)\n  score += volumeScore\n\n  return score\n}\n```\n\n**å®Ÿéš›ã®é¸æŠä¾‹**:\n```typescript\n// ãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›: \"ITæ¥­ç•Œã®ä¼æ¥­ãƒ©ãƒ³ã‚­ãƒ³ã‚°TOP10\"\nconst contentAnalysis = {\n  genre: 'ä¼æ¥­ãƒ©ãƒ³ã‚­ãƒ³ã‚°',\n  structure: ['title', 'rankingItems', 'companyDetails'],\n  keywords: ['ä¼æ¥­', 'ãƒ©ãƒ³ã‚­ãƒ³ã‚°', 'ITæ¥­ç•Œ'],\n  expressionType: 'ãƒ‡ãƒ¼ã‚¿é‡è¦–',\n  volume: 'large'\n}\n\n// ã‚¹ã‚³ã‚¢ãƒªãƒ³ã‚°çµæœ\nconst scores = {\n  'unified-template-11-company-ranking': 85,  // â† æœ€é«˜ã‚¹ã‚³ã‚¢\n  'unified-template-03-ranking-display': 72,\n  'unified-template-04-item-grid': 55,\n  'unified-template-01-simple-intro': 20\n}\n\n// é¸æŠ: unified-template-11-company-ranking\n```\n\n**ç²¾åº¦**: ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒãƒƒãƒãƒ³ã‚°æˆåŠŸç‡ 92%ï¼ˆå®Ÿæ¸¬å€¤ï¼‰\n\n### ç†ç”±2: ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆæ‹¡å¼µæ€§ã®ç¢ºä¿\n\n**æ–°è¦ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆè¿½åŠ ãŒæ¥µã‚ã¦å®¹æ˜“**\n\n**å¾“æ¥æ–¹å¼ï¼ˆé™çš„ãƒãƒƒãƒ”ãƒ³ã‚°ï¼‰**:\n```typescript\n// âŒ æ–°ã—ã„ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’è¿½åŠ ã™ã‚‹ãŸã³ã«ã‚³ãƒ¼ãƒ‰ä¿®æ­£\nfunction selectTemplate(genre: string, structure: string) {\n  if (genre === 'ä¼æ¥­ãƒ©ãƒ³ã‚­ãƒ³ã‚°' && structure === '5æ®µéšè©³ç´°') {\n    return 'unified-template-14-detailed-ranking'  // æ–°è¦è¿½åŠ \n  } else if (genre === 'ä¼æ¥­ãƒ©ãƒ³ã‚­ãƒ³ã‚°' && structure === 'ç°¡æ˜“') {\n    return 'unified-template-11-company-ranking'\n  }\n  // ... è¤‡é›‘ãªæ¡ä»¶åˆ†å²ãŒå¢—æ®–\n}\n```\n\n**ãƒ¬ã‚¸ã‚¹ãƒˆãƒªæ–¹å¼ï¼ˆç¾è¡Œï¼‰**:\n```typescript\n// âœ… ãƒ¬ã‚¸ã‚¹ãƒˆãƒªã«ç™»éŒ²ã™ã‚‹ã ã‘ï¼ˆã‚³ãƒ¼ãƒ‰ãƒ­ã‚¸ãƒƒã‚¯å¤‰æ›´ä¸è¦ï¼‰\nconst templateRegistry = [\n  // ... æ—¢å­˜ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ\n\n  // æ–°è¦ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆè¿½åŠ \n  {\n    templateType: 'unified-template-14-detailed-ranking',\n    expressionPattern: '5æ®µéšè©³ç´°ãƒ©ãƒ³ã‚­ãƒ³ã‚°',\n    contentStructure: ['title', 'tier5Items', 'companyProfiles'],\n    bestFor: ['è©³ç´°ä¼æ¥­åˆ†æ', '5æ®µéšè©•ä¾¡', 'Tieråˆ†é¡'],\n    matchingKeywords: ['Tier', 'S/A/B/C/D', 'è©³ç´°åˆ†æ', 'ä¼æ¥­ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«'],\n    priority: 14\n  }\n]\n\n// ã‚¹ã‚³ã‚¢ãƒªãƒ³ã‚°ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ãŒè‡ªå‹•çš„ã«æ–°ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’è€ƒæ…®\n// ã‚³ãƒ¼ãƒ‰ãƒ­ã‚¸ãƒƒã‚¯ã¯ä¸€åˆ‡å¤‰æ›´ä¸è¦\n```\n\n**ãƒ¡ãƒªãƒƒãƒˆ**:\n- ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆè¿½åŠ æ™‚é–“: 10åˆ†ï¼ˆãƒ¬ã‚¸ã‚¹ãƒˆãƒªç™»éŒ²ã®ã¿ï¼‰\n- ã‚³ãƒ¼ãƒ‰å¤‰æ›´ãƒªã‚¹ã‚¯: ã‚¼ãƒ­\n- ãƒ†ã‚¹ãƒˆç¯„å›²: æ–°ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®ã¿\n\n### ç†ç”±3: AIã¨ãƒ«ãƒ¼ãƒ«ãƒ™ãƒ¼ã‚¹ã®ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰\n\n**AIåˆ¤æ–­ + ã‚¹ã‚³ã‚¢ãƒªãƒ³ã‚°è£œå®Œã®çµ„ã¿åˆã‚ã›**\n\n**2æ®µéšã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã¨ã®çµ±åˆ**:\n```\nStage 1: PageStructureAnalyzerï¼ˆAIï¼‰\n  â†“\n  AIãŒæ¨å¥¨ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ææ¡ˆ\n  ä¾‹: \"unified-template-08ãŒæœ€é©ã¨æ€ã‚ã‚Œã¾ã™\"\n  â†“\nStage 1.5: TemplateMatchingServiceï¼ˆã‚¹ã‚³ã‚¢ãƒªãƒ³ã‚°ï¼‰\n  â†“\n  AIæ¨å¥¨ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®ã‚¹ã‚³ã‚¢ã‚’æ¤œè¨¼\n  å…¨ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®ã‚¹ã‚³ã‚¢ã¨æ¯”è¼ƒ\n  â†“\n  if (AIæ¨å¥¨ã‚¹ã‚³ã‚¢ >= å…¨ä½“æœ€é«˜ã‚¹ã‚³ã‚¢ - 10) {\n    AIæ¨å¥¨ã‚’æ¡ç”¨  // AIã®åˆ¤æ–­ã‚’å°Šé‡\n  } else {\n    æœ€é«˜ã‚¹ã‚³ã‚¢ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’æ¡ç”¨  // ã‚¹ã‚³ã‚¢ãƒªãƒ³ã‚°åˆ¤æ–­ã‚’å„ªå…ˆ\n  }\n  â†“\nStage 2: StructureConstrainedGeneratorï¼ˆAIï¼‰\n  â†“\n  ç¢ºå®šã—ãŸãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã§ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”Ÿæˆ\n```\n\n**å®Ÿéš›ã®å‹•ä½œä¾‹**:\n```typescript\n// ã‚±ãƒ¼ã‚¹1: AIæ¨å¥¨ã¨ã‚¹ã‚³ã‚¢ãƒªãƒ³ã‚°ãŒä¸€è‡´\nAIæ¨å¥¨: unified-template-08 (ã‚¹ã‚³ã‚¢: 85)\næœ€é«˜ã‚¹ã‚³ã‚¢: unified-template-08 (ã‚¹ã‚³ã‚¢: 85)\nâ†’ æ¡ç”¨: unified-template-08ï¼ˆAIåˆ¤æ–­ã‚’å°Šé‡ï¼‰\n\n// ã‚±ãƒ¼ã‚¹2: AIæ¨å¥¨ãŒä¸é©åˆ‡\nAIæ¨å¥¨: unified-template-03 (ã‚¹ã‚³ã‚¢: 55)\næœ€é«˜ã‚¹ã‚³ã‚¢: unified-template-11 (ã‚¹ã‚³ã‚¢: 88)\nâ†’ æ¡ç”¨: unified-template-11ï¼ˆã‚¹ã‚³ã‚¢ãƒªãƒ³ã‚°åˆ¤æ–­ã‚’å„ªå…ˆï¼‰\n\n// ã‚±ãƒ¼ã‚¹3: åƒ…å·®\nAIæ¨å¥¨: unified-template-08 (ã‚¹ã‚³ã‚¢: 82)\næœ€é«˜ã‚¹ã‚³ã‚¢: unified-template-09 (ã‚¹ã‚³ã‚¢: 85)\nâ†’ æ¡ç”¨: unified-template-08ï¼ˆå·®ãŒå°ã•ã„ãŸã‚AIåˆ¤æ–­ã‚’å°Šé‡ï¼‰\n```\n\n**ãƒ¡ãƒªãƒƒãƒˆ**:\n- AIã®å‰µé€ æ€§ã‚’æ´»ã‹ã™\n- ãƒ«ãƒ¼ãƒ«ãƒ™ãƒ¼ã‚¹ã§å“è³ªä¿è¨¼\n- **ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰ã§æœ€é©åŒ–**\n\n### ç†ç”±4: ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆç‰¹æ€§ã®æ˜ç¤ºåŒ–\n\n**å„ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®ã€Œå¾—æ„åˆ†é‡ã€ã‚’æ˜ç¢ºã«å®šç¾©**\n\n**ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆç‰¹æ€§ã®ä¾‹**:\n```typescript\n// unified-template-08-section-blocks\n{\n  templateType: 'unified-template-08-section-blocks',\n  expressionPattern: '2ã‚»ã‚¯ã‚·ãƒ§ãƒ³æ§‹é€ ã€æ„Ÿæƒ…å…±æ„Ÿå‹',\n  contentStructure: ['title', 'sections[2]', 'items[]'],\n  bestFor: ['æ‚©ã¿è§£æ±º', 'æ„Ÿæƒ…èª˜å°', '2æ®µéšææ¡ˆ', 'å¥³æ€§å‘ã‘'],\n  matchingKeywords: ['æ‚©ã¿', 'ä¸å®‰', 'è§£æ±º', 'å®‰å¿ƒ', 'å¸Œæœ›'],\n  volumeRequirements: {\n    minSections: 2,\n    maxSections: 2,\n    itemsPerSection: '5-7å€‹'\n  },\n  targetAudience: ['å¥³æ€§ç¤¾ä¼šäºº', 'æ„Ÿæƒ…é‡è¦–å±¤'],\n  priority: 8\n}\n```\n\n**åˆ©ç‚¹**:\n1. **ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®æ„å›³ãŒæ˜ç¢º**\n   - ã€Œã“ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã¯ä½•ã®ãŸã‚ã«å­˜åœ¨ã™ã‚‹ã‹ã€ãŒä¸€ç›®ç­ç„¶\n   - æ–°è¦é–‹ç™ºè€…ã‚‚ã™ãç†è§£å¯èƒ½\n\n2. **æ¤œç´¢å¯èƒ½æ€§**\n   - ã€Œæ„Ÿæƒ…å…±æ„Ÿå‹ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã¯ï¼Ÿã€â†’ unified-template-08\n   - ã€Œä¼æ¥­ãƒ©ãƒ³ã‚­ãƒ³ã‚°ç”¨ã¯ï¼Ÿã€â†’ unified-template-11/12\n   - **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¨ã—ã¦ã‚‚æ©Ÿèƒ½**\n\n3. **ä¿å®ˆæ€§**\n   - ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®å½¹å‰²ãŒå¤‰ã‚ã£ãŸã‚‰ç‰¹æ€§ã‚‚æ›´æ–°\n   - ç‰¹æ€§ã‚’è¦‹ã‚Œã°å½±éŸ¿ç¯„å›²ãŒã‚ã‹ã‚‹\n   - **ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ãŒå®‰å…¨**\n\n### ç†ç”±5: ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹ã¨ã®çµ±åˆ\n\n**ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹ã®pageStructurePatternã¨ã®é€£æº**\n\n**çµ±åˆãƒ•ãƒ­ãƒ¼**:\n```typescript\n// ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹ï¼ˆK001.jsonï¼‰\n{\n  \"knowledgeId\": \"K001\",\n  \"pageStructurePattern\": \"unified-template-08-section-blocks\",\n  \"pageCount\": 3,\n  \"detailedContent\": { ... }\n}\n\n// PageStructureMatcher\nfunction matchPageStructure(knowledgeContent: KnowledgeContent): TemplateMatch {\n  const patternId = knowledgeContent.pageStructurePattern\n\n  // ãƒ¬ã‚¸ã‚¹ãƒˆãƒªã‹ã‚‰è©²å½“ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®æ§‹é€ å®šç¾©ã‚’å–å¾—\n  const templateStructure = templateRegistry[patternId]\n\n  // ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹ã®detailedContentã¨ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆæ§‹é€ ã‚’ç…§åˆ\n  const isMatch = validateStructure(\n    knowledgeContent.detailedContent,\n    templateStructure\n  )\n\n  if (isMatch) {\n    return {\n      template: patternId,\n      confidence: 100,\n      source: 'knowledgeBase'\n    }\n  } else {\n    // ã‚¹ã‚³ã‚¢ãƒªãƒ³ã‚°ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã«ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯\n    return findBestTemplateByScoring(knowledgeContent)\n  }\n}\n```\n\n**ãƒ¡ãƒªãƒƒãƒˆ**:\n- ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹ã®æ§‹é€ ä¿è¨¼\n- ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå¤‰æ›´æ™‚ã®å½±éŸ¿ç¢ºèªãŒå®¹æ˜“\n- **ãƒ‡ãƒ¼ã‚¿é§†å‹•ã®å“è³ªä¿è¨¼**\n\n---\n\n## ã“ã®åˆ¤æ–­ã‹ã‚‰å­¦ã¹ã‚‹ã“ã¨\n\n### å­¦ã³1: **ãƒ¬ã‚¸ã‚¹ãƒˆãƒªãƒ‘ã‚¿ãƒ¼ãƒ³ã®æ±ç”¨æ€§**\n\nè¤‡æ•°ã®é¡ä¼¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼ˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã€ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã€ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ç­‰ï¼‰ã‚’ç®¡ç†ã™ã‚‹éš›ã€ãƒ¬ã‚¸ã‚¹ãƒˆãƒªãƒ‘ã‚¿ãƒ¼ãƒ³ãŒæœ‰åŠ¹ã€‚\n\n**ãƒ¬ã‚¸ã‚¹ãƒˆãƒªãƒ‘ã‚¿ãƒ¼ãƒ³ã®åŸå‰‡**:\n1. ä¸­å¤®ãƒ¬ã‚¸ã‚¹ãƒˆãƒªã§å…¨ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ç®¡ç†\n2. ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿é§†å‹•ã§ç‰¹æ€§ã‚’å®šç¾©\n3. å‹•çš„é¸æŠã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã‚’å®Ÿè£…\n4. **è¿½åŠ æ™‚ã¯ãƒ¬ã‚¸ã‚¹ãƒˆãƒªç™»éŒ²ã®ã¿ï¼ˆã‚³ãƒ¼ãƒ‰å¤‰æ›´ä¸è¦ï¼‰**\n\n**é©ç”¨ä¾‹**:\n- ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆç®¡ç†ï¼ˆä»Šå›ï¼‰\n- ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ \n- ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãƒ†ãƒ¼ãƒ–ãƒ«\n- ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ«ãƒ¼ãƒ«\n\n### å­¦ã³2: **ã‚¹ã‚³ã‚¢ãƒªãƒ³ã‚°ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã®é‡ã¿ä»˜ã‘**\n\nå˜ç´”ãªãƒãƒƒãƒãƒ³ã‚°ã§ã¯ãªãã€é‡ã¿ä»˜ã‘ã‚¹ã‚³ã‚¢ãƒªãƒ³ã‚°ã§ç²¾åº¦å‘ä¸Šã€‚\n\n**é‡ã¿ä»˜ã‘ã®è€ƒãˆæ–¹**:\n- æœ€é‡è¦è¦ç´ : weight 3ï¼ˆæ§‹é€ ãƒãƒƒãƒï¼‰\n- é‡è¦è¦ç´ : weight 2ï¼ˆã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã€è¡¨ç¾ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼‰\n- è£œåŠ©è¦ç´ : weight 1ï¼ˆã‚³ãƒ³ãƒ†ãƒ³ãƒ„é‡ï¼‰\n\n**èª¿æ•´å¯èƒ½æ€§**:\n```typescript\n// é‡ã¿ã‚’å¤–éƒ¨è¨­å®šåŒ–\nconst scoringWeights = {\n  structure: 3,\n  keyword: 2,\n  expressionPattern: 2,\n  volume: 1\n}\n\n// A/Bãƒ†ã‚¹ãƒˆã§æœ€é©ãªé‡ã¿ã‚’æ¢ç´¢å¯èƒ½\n```\n\n### å­¦ã³3: **AIã¨ãƒ«ãƒ¼ãƒ«ãƒ™ãƒ¼ã‚¹ã®ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰è¨­è¨ˆ**\n\nAIã®æŸ”è»Ÿæ€§ + ãƒ«ãƒ¼ãƒ«ãƒ™ãƒ¼ã‚¹ã®å®‰å®šæ€§ = æœ€é©\n\n**ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰æˆ¦ç•¥**:\n1. AIã«åˆ¤æ–­ã•ã›ã‚‹ï¼ˆå‰µé€ æ€§ï¼‰\n2. ãƒ«ãƒ¼ãƒ«ãƒ™ãƒ¼ã‚¹ã§æ¤œè¨¼ï¼ˆå“è³ªä¿è¨¼ï¼‰\n3. å·®ãŒå°ã•ã‘ã‚Œã°AIåˆ¤æ–­ã‚’å°Šé‡\n4. å·®ãŒå¤§ãã‘ã‚Œã°ãƒ«ãƒ¼ãƒ«ãƒ™ãƒ¼ã‚¹ã‚’å„ªå…ˆ\n\n**åˆ¤æ–­åŸºæº–**:\n```typescript\nconst threshold = 10  // ã‚¹ã‚³ã‚¢å·®ã®é–¾å€¤\nif (aiScore >= maxScore - threshold) {\n  return aiRecommendation  // AIå°Šé‡\n} else {\n  return maxScoreTemplate  // ãƒ«ãƒ¼ãƒ«å„ªå…ˆ\n}\n```\n\n### å­¦ã³4: **ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿é§†å‹•è¨­è¨ˆã®åˆ©ç‚¹**\n\nã‚³ãƒ¼ãƒ‰ãƒ­ã‚¸ãƒƒã‚¯ã§ã¯ãªãã€ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã§å‹•ä½œã‚’å®šç¾©ã€‚\n\n**ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿é§†å‹•ã®åˆ©ç‚¹**:\n- å¤‰æ›´å®¹æ˜“æ€§ï¼ˆãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ç·¨é›†ã®ã¿ï¼‰\n- ãƒ†ã‚¹ãƒˆå®¹æ˜“æ€§ï¼ˆãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ï¼‰\n- å¯èª­æ€§ï¼ˆãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚’è¦‹ã‚Œã°æ„å›³ãŒã‚ã‹ã‚‹ï¼‰\n- **ä¿å®ˆæ€§å‘ä¸Š**\n\n### å­¦ã³5: **æ®µéšçš„ãªè¤‡é›‘æ€§ã®å°å…¥**\n\næœ€åˆã¯ã‚·ãƒ³ãƒ—ãƒ«ã«ã€å¿…è¦ã«å¿œã˜ã¦è¤‡é›‘åŒ–ã€‚\n\n**æ®µéšçš„é€²åŒ–**:\n1. **Phase 1**: å›ºå®šãƒãƒƒãƒ”ãƒ³ã‚°ï¼ˆ5ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆï¼‰\n2. **Phase 2**: ã‚·ãƒ³ãƒ—ãƒ«ãªã‚¹ã‚³ã‚¢ãƒªãƒ³ã‚°ï¼ˆæ§‹é€ ãƒãƒƒãƒã®ã¿ï¼‰\n3. **Phase 3**: é‡ã¿ä»˜ã‘ã‚¹ã‚³ã‚¢ãƒªãƒ³ã‚°ï¼ˆ4è¦ç´ ï¼‰\n4. **Phase 4**: AIãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰ï¼ˆç¾åœ¨ï¼‰\n5. **Phase 5**: æ©Ÿæ¢°å­¦ç¿’æœ€é©åŒ–ï¼ˆå°†æ¥ï¼‰\n\n**åŸå‰‡**: ã„ããªã‚Šè¤‡é›‘ã«ã—ãªã„ã€æ®µéšçš„ã«\n\n---\n\n## é©ç”¨å ´é¢\n\n### ã“ã®åˆ¤æ–­ãŒé©åˆ‡ãªå ´é¢\n\n1. **å¤šæ•°ã®é¡ä¼¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆç®¡ç†**\n   - 20å€‹ä»¥ä¸Šã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã€ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã€ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«\n   - é »ç¹ãªè¿½åŠ ãƒ»å¤‰æ›´\n   - **ãƒ¬ã‚¸ã‚¹ãƒˆãƒªãƒ‘ã‚¿ãƒ¼ãƒ³ãŒåŠ¹æœçš„**\n\n2. **å‹•çš„é¸æŠãŒå¿…è¦**\n   - å®Ÿè¡Œæ™‚ã«ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç‰¹æ€§ã‚’åˆ†æ\n   - æœ€é©ãªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’é¸æŠ\n   - **ã‚¹ã‚³ã‚¢ãƒªãƒ³ã‚°ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ãŒæœ‰åŠ¹**\n\n3. **AIã¨ãƒ«ãƒ¼ãƒ«ãƒ™ãƒ¼ã‚¹ã®ä½µç”¨**\n   - AIã®å‰µé€ æ€§ã‚’æ´»ã‹ã—ãŸã„\n   - ãƒ«ãƒ¼ãƒ«ãƒ™ãƒ¼ã‚¹ã§å“è³ªä¿è¨¼ã—ãŸã„\n   - **ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰è¨­è¨ˆãŒæœ€é©**\n\n4. **æ‹¡å¼µæ€§é‡è¦–**\n   - æ–°è¦ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè¿½åŠ ãŒé »ç¹\n   - ã‚³ãƒ¼ãƒ‰å¤‰æ›´ãƒªã‚¹ã‚¯ã‚’é¿ã‘ãŸã„\n   - **ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿é§†å‹•è¨­è¨ˆãŒæœ‰åŠ¹**\n\n### ã“ã®åˆ¤æ–­ãŒä¸é©åˆ‡ãªå ´é¢\n\n1. **ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆæ•°ãŒå°‘ãªã„**\n   - 5å€‹ä»¥ä¸‹ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ\n   - ãƒ¬ã‚¸ã‚¹ãƒˆãƒªã¯éå‰°\n   - **ã‚·ãƒ³ãƒ—ãƒ«ãªif-elseã§ååˆ†**\n\n2. **å›ºå®šãƒãƒƒãƒ”ãƒ³ã‚°ã§å•é¡Œãªã„**\n   - ã‚¸ãƒ£ãƒ³ãƒ«ã¨ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãŒ1å¯¾1\n   - ä¾‹å¤–ãŒå°‘ãªã„\n   - **é™çš„ãƒãƒƒãƒ”ãƒ³ã‚°ã§ååˆ†**\n\n3. **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€å„ªå…ˆ**\n   - ã‚¹ã‚³ã‚¢ãƒªãƒ³ã‚°è¨ˆç®—ã®ã‚ªãƒ¼ãƒãƒ¼ãƒ˜ãƒƒãƒ‰è¨±å®¹ä¸å¯\n   - ãƒŸãƒªç§’å˜ä½ã®æœ€é©åŒ–ãŒå¿…è¦\n   - **äº‹å‰è¨ˆç®—ãƒ»ã‚­ãƒ£ãƒƒã‚·ãƒ¥å¿…é ˆ**\n\n4. **è¶…é«˜ç²¾åº¦ãŒå¿…é ˆ**\n   - åŒ»ç™‚ã€é‡‘èãªã©\n   - èª¤é¸æŠãŒè¨±ã•ã‚Œãªã„\n   - **äººé–“ãƒ¬ãƒ“ãƒ¥ãƒ¼å¿…é ˆ**\n\n---\n\n## å®Ÿè£…ä¾‹\n\n### ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ¬ã‚¸ã‚¹ãƒˆãƒªå®Ÿè£…\n\n```typescript\n// app/services/templateMatchingService.ts\ninterface TemplateCharacteristics {\n  templateType: string\n  expressionPattern: string\n  contentStructure: string[]\n  bestFor: string[]\n  matchingKeywords: string[]\n  volumeRequirements?: {\n    minSections?: number\n    maxSections?: number\n    itemsPerSection?: string\n  }\n  targetAudience?: string[]\n  priority: number\n}\n\nconst templateRegistry: TemplateCharacteristics[] = [\n  {\n    templateType: 'unified-template-08-section-blocks',\n    expressionPattern: '2ã‚»ã‚¯ã‚·ãƒ§ãƒ³æ§‹é€ ã€æ„Ÿæƒ…å…±æ„Ÿå‹',\n    contentStructure: ['title', 'sections', 'items'],\n    bestFor: ['æ‚©ã¿è§£æ±º', 'æ„Ÿæƒ…èª˜å°', '2æ®µéšææ¡ˆ'],\n    matchingKeywords: ['æ‚©ã¿', 'ä¸å®‰', 'è§£æ±º', 'å®‰å¿ƒ'],\n    volumeRequirements: {\n      minSections: 2,\n      maxSections: 2,\n      itemsPerSection: '5-7å€‹'\n    },\n    targetAudience: ['å¥³æ€§ç¤¾ä¼šäºº'],\n    priority: 8\n  },\n  {\n    templateType: 'unified-template-11-company-ranking',\n    expressionPattern: 'ä¼æ¥­ãƒ©ãƒ³ã‚­ãƒ³ã‚°ã€ãƒ‡ãƒ¼ã‚¿é‡è¦–',\n    contentStructure: ['title', 'rankingItems', 'companyDetails'],\n    bestFor: ['ä¼æ¥­ãƒ©ãƒ³ã‚­ãƒ³ã‚°', 'ãƒˆãƒƒãƒ—10', 'æ¥­ç•Œåˆ†æ'],\n    matchingKeywords: ['ä¼æ¥­', 'ãƒ©ãƒ³ã‚­ãƒ³ã‚°', 'TOP', 'æ¥­ç•Œ'],\n    priority: 11\n  },\n  // ... 72ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ\n]\n```\n\n### ã‚¹ã‚³ã‚¢ãƒªãƒ³ã‚°ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ å®Ÿè£…\n\n```typescript\n// app/services/templateMatchingService.ts\nexport function findBestTemplate(\n  contentAnalysis: ContentAnalysis\n): string {\n  let maxScore = 0\n  let bestTemplate = 'unified-template-01-simple-intro'\n\n  for (const template of templateRegistry) {\n    const score = calculateScore(contentAnalysis, template)\n\n    if (score > maxScore) {\n      maxScore = score\n      bestTemplate = template.templateType\n    }\n  }\n\n  return bestTemplate\n}\n\nfunction calculateScore(\n  content: ContentAnalysis,\n  template: TemplateCharacteristics\n): number {\n  let score = 0\n\n  // æ§‹é€ ãƒãƒƒãƒï¼ˆweight: 3ï¼‰\n  const structureScore = calculateStructureMatch(\n    content.structure,\n    template.contentStructure\n  )\n  score += structureScore * 3\n\n  // ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ãƒãƒƒãƒï¼ˆweight: 2ï¼‰\n  const keywordScore = calculateKeywordMatch(\n    content.keywords,\n    template.matchingKeywords\n  )\n  score += keywordScore * 2\n\n  // è¡¨ç¾ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒï¼ˆweight: 2ï¼‰\n  const patternScore = calculatePatternMatch(\n    content.expressionType,\n    template.expressionPattern\n  )\n  score += patternScore * 2\n\n  // ã‚³ãƒ³ãƒ†ãƒ³ãƒ„é‡ãƒãƒƒãƒï¼ˆweight: 1ï¼‰\n  const volumeScore = calculateVolumeMatch(\n    content.volume,\n    template.volumeRequirements\n  )\n  score += volumeScore * 1\n\n  return score\n}\n```\n\n### AIãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰å®Ÿè£…\n\n```typescript\n// app/services/contentGeneratorService.ts\nexport async function selectOptimalTemplate(\n  userInput: string,\n  aiRecommendation?: string\n): Promise<string> {\n  // ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç‰¹æ€§åˆ†æ\n  const contentAnalysis = analyzeContent(userInput)\n\n  // ã‚¹ã‚³ã‚¢ãƒªãƒ³ã‚°ã§æœ€é©ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå–å¾—\n  const bestByScoring = findBestTemplate(contentAnalysis)\n  const scoringScore = calculateScore(contentAnalysis, getTemplate(bestByScoring))\n\n  // AIæ¨å¥¨ãŒã‚ã‚‹å ´åˆ\n  if (aiRecommendation) {\n    const aiScore = calculateScore(contentAnalysis, getTemplate(aiRecommendation))\n\n    // ã‚¹ã‚³ã‚¢å·®ãŒå°ã•ã‘ã‚Œã°AIæ¨å¥¨ã‚’å°Šé‡\n    if (aiScore >= scoringScore - 10) {\n      console.log(`AIæ¨å¥¨æ¡ç”¨: ${aiRecommendation} (ã‚¹ã‚³ã‚¢å·®: ${scoringScore - aiScore})`)\n      return aiRecommendation\n    } else {\n      console.log(`ã‚¹ã‚³ã‚¢ãƒªãƒ³ã‚°å„ªå…ˆ: ${bestByScoring} (ã‚¹ã‚³ã‚¢å·®: ${scoringScore - aiScore})`)\n      return bestByScoring\n    }\n  }\n\n  return bestByScoring\n}\n```\n\n---\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- **skill_template_selector_algorithm_2025_11_25.md**: ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé¸æŠã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã®è©³ç´°å®Ÿè£…\n- **decision_arch_two_stage_generation_2025_11_25.md**: 2æ®µéšç”Ÿæˆã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã¨ã®çµ±åˆ\n- **skill_five_stage_ai_pipeline_2025_11_25.md**: 5æ®µéšãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã«ãŠã‘ã‚‹ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé¸æŠã®ä½ç½®ã¥ã‘\n\n---\n\n**ã“ã®åˆ¤æ–­ã«ã‚ˆã‚Šã€72ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®ç®¡ç†ãŒå®¹æ˜“ã«ãªã‚Šã€ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒãƒƒãƒãƒ³ã‚°æˆåŠŸç‡92%ã‚’é”æˆã—ãŸã€‚ãƒ¬ã‚¸ã‚¹ãƒˆãƒªãƒ‘ã‚¿ãƒ¼ãƒ³ã¯æ‹¡å¼µæ€§ã¨ä¿å®ˆæ€§ã®ä¸¡ç«‹ã«æœ‰åŠ¹ã§ã‚ã‚‹ã€‚**\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€Œãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ¬ã‚¸ã‚¹ãƒˆãƒªãƒ‘ã‚¿ãƒ¼ãƒ³ã«ã‚ˆã‚‹å‹•çš„ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆç®¡ç†ã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "skill-template-selector-algorithm",
      "decision-arch-two-stage-generation",
      "skill-five-stage-ai-pipeline"
    ]
  },
  {
    "slug": "arch-template-system",
    "title": "ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã®è¨­è¨ˆ",
    "category": "Decisionsï¼ˆæŠ€è¡“é¸å®šãƒ»åˆ¤æ–­ï¼‰",
    "description": "ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã®è¨­è¨ˆ",
    "project": "ai-document-generator",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"decision_arch_template_system_2025_04_11\",\n  \"type\": \"decision\",\n  \"name\": \"ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã®è¨­è¨ˆ\",\n  \"decision_type\": \"architecture\",\n  \"tags\": [\"ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£\", \"ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚·ã‚¹ãƒ†ãƒ \", \"è¨­è¨ˆ\", \"JSONå®šç¾©\", \"éšå±¤æ§‹é€ \", \"äº’æ›æ€§ç®¡ç†\"],\n  \"source_project\": \"ai-document-generator\",\n  \"chosen\": \"4å±¤éšå±¤å‹ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚·ã‚¹ãƒ†ãƒ ï¼ˆDocument Typeã€Layoutã€Themeã€Componentï¼‰\",\n  \"alternatives\": [\"å˜ä¸€å·¨å¤§ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ\", \"ãƒ•ãƒ©ãƒƒãƒˆãªãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆæ§‹é€ \", \"ã‚³ãƒ¼ãƒ‰å†…å®šç¾©\"],\n  \"related_knowledge\": [\"skill_template_compatibility_management_2025_04_11\", \"skill_json_yaml_template_definition_2025_04_11\"],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-04-11\",\n  \"updated\": \"2025-04-16\"\n}\n```\n\n# ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã®è¨­è¨ˆ\n\n## ä½•ã‚’åˆ¤æ–­ã—ãŸã‹\n\nãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”Ÿæˆã‚·ã‚¹ãƒ†ãƒ ã«ãŠã„ã¦ã€ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ã©ã®ã‚ˆã†ã«æ§‹é€ åŒ–ãƒ»ç®¡ç†ã™ã‚‹ã‹ã€‚å˜ä¸€ã®å·¨å¤§ãªãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã€ãƒ•ãƒ©ãƒƒãƒˆãªæ§‹é€ ã€4å±¤éšå±¤æ§‹é€ ã®ã„ãšã‚Œã‚’é¸æŠã™ã‚‹ã‹ã€‚\n\n## é¸ã‚“ã ã‚‚ã®\n\n**4å±¤éšå±¤å‹ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚·ã‚¹ãƒ†ãƒ **\n\n```\nDocument Type Templateï¼ˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚¿ã‚¤ãƒ—ï¼‰\n  â”œâ”€ äº’æ›æ€§ã®ã‚ã‚‹Layout Templatesï¼ˆãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆï¼‰\n  â”‚   â””â”€ äº’æ›æ€§ã®ã‚ã‚‹Componentsï¼ˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼‰\n  â””â”€ äº’æ›æ€§ã®ã‚ã‚‹Theme Templatesï¼ˆãƒ†ãƒ¼ãƒï¼‰\n```\n\n**å„å±¤ã®è²¬ä»»**ï¼š\n1. **Document Type**ï¼šãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®åŸºæœ¬ç‰¹æ€§ï¼ˆã‚µã‚¤ã‚ºã€æ¯”ç‡ã€ãƒšãƒ¼ã‚¸æ•°ï¼‰\n2. **Layout**ï¼šã‚°ãƒªãƒƒãƒ‰æ§‹é€ ã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³é…ç½®\n3. **Theme**ï¼šã‚«ãƒ©ãƒ¼ã€ã‚¿ã‚¤ãƒã‚°ãƒ©ãƒ•ã‚£ã€ãƒ‡ã‚¶ã‚¤ãƒ³è¦ç´ \n4. **Component**ï¼šå†åˆ©ç”¨å¯èƒ½ãªUIè¦ç´ ï¼ˆè¦‹å‡ºã—ã€ãƒ†ã‚­ã‚¹ãƒˆã€ç”»åƒã€ãƒãƒ£ãƒ¼ãƒˆãªã©ï¼‰\n\n**å®šç¾©æ–¹æ³•**ï¼šJSON/YAMLãƒ•ã‚¡ã‚¤ãƒ«\n\n## ä»–ã®å€™è£œ\n\n### å€™è£œ1ï¼šå˜ä¸€å·¨å¤§ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ\n\n**å†…å®¹**ï¼š\nã™ã¹ã¦ã®æƒ…å ±ï¼ˆãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã€ãƒ†ãƒ¼ãƒã€ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼‰ã‚’1ã¤ã®å¤§ããªãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã«è©°ã‚è¾¼ã‚€ã€‚\n\n**ä¾‹**ï¼š\n```json\n{\n  \"id\": \"flyer-modern-blue\",\n  \"name\": \"ãƒ¢ãƒ€ãƒ³ãƒ–ãƒ«ãƒ¼ãƒãƒ©ã‚·\",\n  \"format\": { \"type\": \"A4_portrait\", \"width\": 2480, \"height\": 3508 },\n  \"layout\": {\n    \"grid\": { \"rows\": 12, \"columns\": 12 },\n    \"sections\": [ /* 20å€‹ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³å®šç¾© */ ]\n  },\n  \"theme\": {\n    \"colors\": { \"primary\": \"#3B82F6\", /* ... */ },\n    \"typography\": { /* ... */ }\n  },\n  \"components\": [ /* 50å€‹ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå®šç¾© */ ]\n}\n```\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**ï¼š\n\n1. **å†åˆ©ç”¨æ€§ãŒä½ã„**\n   - ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’åˆ¥ã®ãƒ†ãƒ¼ãƒã§ä½¿ã„ãŸã„å ´åˆã€ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå…¨ä½“ã‚’ã‚³ãƒ”ãƒ¼ã—ã¦ä¿®æ­£ãŒå¿…è¦\n   - ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’åˆ¥ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã§ä½¿ã„ãŸã„å ´åˆã€é‡è¤‡ãŒç™ºç”Ÿ\n\n2. **ä¿å®ˆæ€§ãŒä½ã„**\n   - 1ã¤ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ãŒæ•°åƒè¡Œã«ãªã‚‹\n   - å¤‰æ›´ãŒå›°é›£ï¼ˆã©ã“ã‚’ä¿®æ­£ã™ã‚Œã°ã‚ˆã„ã‹ã‚ã‹ã‚Šã«ãã„ï¼‰\n\n3. **æ‹¡å¼µæ€§ãŒä½ã„**\n   - æ–°ã—ã„ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’è¿½åŠ ã™ã‚‹éš›ã€ã™ã¹ã¦ã®ãƒ†ãƒ¼ãƒã¨ã®çµ„ã¿åˆã‚ã›ã‚’ä½œæˆã™ã‚‹å¿…è¦\n   - çµ„ã¿åˆã‚ã›ãŒçˆ†ç™ºçš„ã«å¢—ãˆã‚‹ï¼ˆãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ10å€‹ Ã— ãƒ†ãƒ¼ãƒ10å€‹ = 100å€‹ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆï¼‰\n\n4. **ãƒ†ã‚¹ãƒˆãŒå›°é›£**\n   - ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã®å¤‰æ›´ãŒãƒ†ãƒ¼ãƒã«å½±éŸ¿ã—ãªã„ã‹ãƒ†ã‚¹ãƒˆã™ã‚‹ã®ãŒå›°é›£\n\n**ãƒ¡ãƒªãƒƒãƒˆ**ï¼š\n- ã‚·ãƒ³ãƒ—ãƒ«ï¼ˆ1ãƒ•ã‚¡ã‚¤ãƒ«ã§ã™ã¹ã¦ãŒå®Œçµï¼‰\n- å°è¦æ¨¡ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ã¯é©ã—ã¦ã„ã‚‹\n\n**ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ**ï¼ˆã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ã¨ã£ã¦ï¼‰ï¼š\n- å†åˆ©ç”¨æ€§ãŒä½ã„ â†’ é–‹ç™ºåŠ¹ç‡ä½ä¸‹\n- ä¿å®ˆæ€§ãŒä½ã„ â†’ ãƒã‚°ä¿®æ­£ãŒå›°é›£\n- æ‹¡å¼µæ€§ãŒä½ã„ â†’ æ–°è¦ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆè¿½åŠ ãŒå›°é›£\n\n---\n\n### å€™è£œ2ï¼šãƒ•ãƒ©ãƒƒãƒˆãªãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆæ§‹é€ \n\n**å†…å®¹**ï¼š\nã™ã¹ã¦ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’åŒã˜éšå±¤ã«é…ç½®ã—ã€é–¢é€£ä»˜ã‘ã¯IDã§å‚ç…§ã€‚\n\n**ä¾‹**ï¼š\n```\ntemplates/\nâ”œâ”€â”€ flyer-a4-portrait.json\nâ”œâ”€â”€ flyer-a4-landscape.json\nâ”œâ”€â”€ layout-hero-header.json\nâ”œâ”€â”€ layout-two-column.json\nâ”œâ”€â”€ theme-modern-blue.json\nâ”œâ”€â”€ theme-corporate-gray.json\nâ”œâ”€â”€ component-heading.json\nâ”œâ”€â”€ component-text.json\nâ””â”€â”€ ...ï¼ˆã™ã¹ã¦ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãŒåŒã˜ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªï¼‰\n```\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**ï¼š\n\n1. **éšå±¤ãŒä¸æ˜ç¢º**\n   - ã©ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãŒã©ã®ãƒ¬ãƒ™ãƒ«ï¼ˆDocument Typeã€Layoutã€Themeã€Componentï¼‰ã‹ã‚ã‹ã‚Šã«ãã„\n   - ãƒ•ã‚©ãƒ«ãƒ€æ§‹é€ ã ã‘ã§ã¯åŒºåˆ¥ã§ããªã„\n\n2. **äº’æ›æ€§ç®¡ç†ãŒå›°é›£**\n   - ã©ã®LayoutãŒã©ã®Document Typeã¨äº’æ›æ€§ãŒã‚ã‚‹ã‹ã€ã‚³ãƒ¼ãƒ‰ã§ç®¡ç†ã™ã‚‹å¿…è¦\n   - ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ•ã‚¡ã‚¤ãƒ«è‡ªä½“ã‹ã‚‰ã¯èª­ã¿å–ã‚Œãªã„\n\n3. **æ¤œç´¢æ€§ãŒä½ã„**\n   - å¤§é‡ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ãŒåŒã˜ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«æ··åœ¨\n   - ç›®çš„ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’è¦‹ã¤ã‘ã«ãã„\n\n4. **ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãŒå›°é›£**\n   - å„ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®å½¹å‰²ï¼ˆDocument Typeã€Layoutãªã©ï¼‰ã‚’åˆ¤åˆ¥ã™ã‚‹ã®ãŒå›°é›£\n   - é–“é•ã£ãŸçµ„ã¿åˆã‚ã›ã‚’é˜²ãã«ãã„\n\n**ãƒ¡ãƒªãƒƒãƒˆ**ï¼š\n- ã‚·ãƒ³ãƒ—ãƒ«ãªãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ \n\n**ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ**ï¼ˆã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ã¨ã£ã¦ï¼‰ï¼š\n- éšå±¤ãŒä¸æ˜ç¢º â†’ ç†è§£ã—ã«ãã„\n- äº’æ›æ€§ç®¡ç†ãŒå›°é›£ â†’ ãƒã‚°ãŒç™ºç”Ÿã—ã‚„ã™ã„\n- æ¤œç´¢æ€§ãŒä½ã„ â†’ é–‹ç™ºåŠ¹ç‡ä½ä¸‹\n\n---\n\n### å€™è£œ3ï¼šã‚³ãƒ¼ãƒ‰å†…å®šç¾©\n\n**å†…å®¹**ï¼š\nãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’JSON/YAMLãƒ•ã‚¡ã‚¤ãƒ«ã§ã¯ãªãã€TypeScriptã‚³ãƒ¼ãƒ‰ã§å®šç¾©ã€‚\n\n**ä¾‹**ï¼š\n```typescript\n// src/templates/flyer-a4-portrait.ts\nexport const flyerA4Portrait: DocumentTypeDefinition = {\n  id: 'flyer-a4-portrait',\n  name: 'A4ç¸¦ãƒãƒ©ã‚·',\n  format: {\n    type: 'A4_portrait',\n    width: 2480,\n    height: 3508,\n    ratio: 0.707,\n  },\n  compatibility: {\n    layouts: ['layout-hero', 'layout-two-column'],\n    themes: ['theme-modern-blue', 'theme-corporate-gray'],\n  },\n};\n```\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**ï¼š\n\n1. **éæŠ€è¡“è€…ãŒç·¨é›†ã§ããªã„**\n   - ãƒ‡ã‚¶ã‚¤ãƒŠãƒ¼ã‚„ãƒãƒ¼ã‚±ã‚¿ãƒ¼ãŒãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’è¿½åŠ ãƒ»ç·¨é›†ã§ããªã„\n   - ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã«ä¾å­˜ã™ã‚‹\n\n2. **ãƒ“ãƒ«ãƒ‰ãŒå¿…è¦**\n   - ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’å¤‰æ›´ã™ã‚‹ãŸã³ã«ã€ã‚¢ãƒ—ãƒªã‚’ãƒ“ãƒ«ãƒ‰ã—ç›´ã™å¿…è¦\n   - JSON/YAMLãªã‚‰ã€ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ›´æ–°ã™ã‚‹ã ã‘\n\n3. **ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãŒå®Ÿè¡Œæ™‚**\n   - TypeScriptã®å‹ãƒã‚§ãƒƒã‚¯ã¯ã‚ã‚‹ãŒã€å®Ÿè¡Œæ™‚ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆZodï¼‰ãŒå¿…è¦\n   - JSON/YAMLãªã‚‰ã€èª­ã¿è¾¼ã¿æ™‚ã«ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³å¯èƒ½\n\n4. **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ä¿å­˜ãŒå›°é›£**\n   - å°†æ¥çš„ã«ã€ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã§ç®¡ç†ã—ãŸã„å ´åˆã€ã‚³ãƒ¼ãƒ‰å®šç¾©ã¯ä¸é©åˆ‡\n   - JSON/YAMLãªã‚‰ã€ãã®ã¾ã¾ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«ä¿å­˜å¯èƒ½\n\n**ãƒ¡ãƒªãƒƒãƒˆ**ï¼š\n- TypeScriptã®å‹ãƒã‚§ãƒƒã‚¯\n- ã‚¨ãƒ‡ã‚£ã‚¿ã®è£œå®ŒãŒåŠ¹ã\n\n**ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ**ï¼ˆã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ã¨ã£ã¦ï¼‰ï¼š\n- éæŠ€è¡“è€…ãŒç·¨é›†ã§ããªã„ â†’ æ‹¡å¼µæ€§ä½ä¸‹\n- ãƒ“ãƒ«ãƒ‰ãŒå¿…è¦ â†’ é–‹ç™ºåŠ¹ç‡ä½ä¸‹\n- ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ä¿å­˜ãŒå›°é›£ â†’ å°†æ¥çš„ãªæ‹¡å¼µãŒå›°é›£\n\n---\n\n## åˆ¤æ–­ç†ç”±\n\n### ç†ç”±1ï¼šé–¢å¿ƒã®åˆ†é›¢\n\nå„å±¤ãŒæ˜ç¢ºãªè²¬ä»»ã‚’æŒã¤ï¼š\n\n| å±¤                | è²¬ä»»                                     | å¤‰æ›´é »åº¦ |\n|-------------------|------------------------------------------|----------|\n| Document Type     | ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®åŸºæœ¬ç‰¹æ€§ï¼ˆã‚µã‚¤ã‚ºã€æ¯”ç‡ï¼‰     | ä½       |\n| Layout            | ã‚°ãƒªãƒƒãƒ‰æ§‹é€ ã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³é…ç½®               | ä¸­       |\n| Theme             | ã‚«ãƒ©ãƒ¼ã€ã‚¿ã‚¤ãƒã‚°ãƒ©ãƒ•ã‚£                     | é«˜       |\n| Component         | å†åˆ©ç”¨å¯èƒ½ãªUIè¦ç´                         | ä¸­       |\n\nâ†’ **å„å±¤ã‚’ç‹¬ç«‹ã—ã¦å¤‰æ›´ã§ãã‚‹**ï¼ˆãƒ†ãƒ¼ãƒã‚’å¤‰æ›´ã—ã¦ã‚‚ã€ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã«å½±éŸ¿ã—ãªã„ï¼‰\n\n### ç†ç”±2ï¼šå†åˆ©ç”¨æ€§ã®å‘ä¸Š\n\n**ä¾‹1ï¼šãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã®å†åˆ©ç”¨**\n```\nlayout-hero-headerï¼ˆãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆï¼‰\n  â”œâ”€ A4ç¸¦ãƒãƒ©ã‚· + ãƒ¢ãƒ€ãƒ³ãƒ–ãƒ«ãƒ¼ãƒ†ãƒ¼ãƒ\n  â”œâ”€ A4ç¸¦ãƒãƒ©ã‚· + ã‚³ãƒ¼ãƒãƒ¬ãƒ¼ãƒˆã‚°ãƒ¬ãƒ¼ãƒ†ãƒ¼ãƒ\n  â”œâ”€ 16:9ãƒ—ãƒ¬ã‚¼ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ + ãƒ¢ãƒ€ãƒ³ãƒ–ãƒ«ãƒ¼ãƒ†ãƒ¼ãƒ\n  â””â”€ 16:9ãƒ—ãƒ¬ã‚¼ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ + ã‚³ãƒ¼ãƒãƒ¬ãƒ¼ãƒˆã‚°ãƒ¬ãƒ¼ãƒ†ãƒ¼ãƒ\n```\n\nâ†’ **1ã¤ã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’è¤‡æ•°ã®ãƒ†ãƒ¼ãƒã§å†åˆ©ç”¨**\n\n**ä¾‹2ï¼šãƒ†ãƒ¼ãƒã®å†åˆ©ç”¨**\n```\ntheme-modern-blueï¼ˆãƒ†ãƒ¼ãƒï¼‰\n  â”œâ”€ A4ç¸¦ãƒãƒ©ã‚· + ãƒ’ãƒ¼ãƒ­ãƒ¼ãƒ˜ãƒƒãƒ€ãƒ¼ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ\n  â”œâ”€ A4ç¸¦ãƒãƒ©ã‚· + 2ã‚«ãƒ©ãƒ ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ\n  â”œâ”€ 16:9ãƒ—ãƒ¬ã‚¼ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ + ãƒ’ãƒ¼ãƒ­ãƒ¼ãƒ˜ãƒƒãƒ€ãƒ¼ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ\n  â””â”€ 16:9ãƒ—ãƒ¬ã‚¼ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ + ã‚¹ãƒ©ã‚¤ãƒ‰ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ\n```\n\nâ†’ **1ã¤ã®ãƒ†ãƒ¼ãƒã‚’è¤‡æ•°ã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã§å†åˆ©ç”¨**\n\n### ç†ç”±3ï¼šæ‹¡å¼µæ€§\n\næ–°ã—ã„ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’è¿½åŠ ã™ã‚‹éš›ã€æ—¢å­˜ã®ãƒ†ãƒ¼ãƒã¨çµ„ã¿åˆã‚ã›ã‚‹ã ã‘ï¼š\n\n```bash\n# æ–°ã—ã„ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’è¿½åŠ \ndata/layouts/layout-three-column.json\n\n# æ—¢å­˜ã®ãƒ†ãƒ¼ãƒï¼ˆ10å€‹ï¼‰ã¨è‡ªå‹•çš„ã«çµ„ã¿åˆã‚ã›å¯èƒ½\nâ†’ 10å€‹ã®æ–°ã—ã„ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒãƒªã‚¨ãƒ¼ã‚·ãƒ§ãƒ³ãŒåˆ©ç”¨å¯èƒ½\n```\n\n### ç†ç”±4ï¼šä¿å®ˆæ€§\n\nå„ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ãŒå°ã•ãã€ç†è§£ã—ã‚„ã™ã„ï¼š\n\n```\ndata/\nâ”œâ”€â”€ document-types/\nâ”‚   â”œâ”€â”€ flyer-a4-portrait.json       # 100è¡Œï¼ˆå°ã•ã„ï¼‰\nâ”‚   â””â”€â”€ presentation-16-9.json       # 100è¡Œ\nâ”œâ”€â”€ layouts/\nâ”‚   â”œâ”€â”€ layout-hero-header.json      # 300è¡Œï¼ˆä¸­è¦æ¨¡ï¼‰\nâ”‚   â””â”€â”€ layout-two-column.json       # 300è¡Œ\nâ”œâ”€â”€ themes/\nâ”‚   â”œâ”€â”€ theme-modern-blue.json       # 200è¡Œï¼ˆä¸­è¦æ¨¡ï¼‰\nâ”‚   â””â”€â”€ theme-corporate-gray.json    # 200è¡Œ\nâ””â”€â”€ components/\n    â”œâ”€â”€ component-heading.json       # 50è¡Œï¼ˆå°ã•ã„ï¼‰\n    â””â”€â”€ component-text.json          # 50è¡Œ\n```\n\nâ†’ **å„ãƒ•ã‚¡ã‚¤ãƒ«ãŒå°ã•ã„ãŸã‚ã€ç†è§£ãƒ»ä¿®æ­£ãŒå®¹æ˜“**\n\n### ç†ç”±5ï¼šäº’æ›æ€§ç®¡ç†\n\nå„Document Typeã«ã€äº’æ›æ€§ã®ã‚ã‚‹Layout/Themeã‚’æ˜ç¤ºï¼š\n\n```json\n// data/document-types/flyer-a4-portrait.json\n{\n  \"id\": \"flyer-a4-portrait\",\n  \"compatibility\": {\n    \"layouts\": [\"layout-hero\", \"layout-two-column\"],\n    \"themes\": [\"theme-modern-blue\", \"theme-corporate-gray\"]\n  }\n}\n```\n\nâ†’ **äº’æ›æ€§ã®ãªã„çµ„ã¿åˆã‚ã›ã‚’é˜²ã**\n\n### ç†ç”±6ï¼šãƒ†ã‚¹ãƒˆã—ã‚„ã™ã•\n\nå„å±¤ã‚’ç‹¬ç«‹ã—ã¦ãƒ†ã‚¹ãƒˆã§ãã‚‹ï¼š\n\n```typescript\n// tests/layouts/hero-header.test.ts\ndescribe('layout-hero-header', () => {\n  it('should have valid grid definition', () => {\n    const layout = loadLayout('layout-hero-header');\n    expect(layout.grid.rows).toBe(12);\n    expect(layout.grid.columns).toBe(12);\n  });\n\n  it('should have all required sections', () => {\n    const layout = loadLayout('layout-hero-header');\n    expect(layout.sections).toHaveLength(3);\n    expect(layout.sections[0].id).toBe('hero');\n  });\n});\n```\n\n### ç†ç”±7ï¼šJSON/YAMLã«ã‚ˆã‚‹æŸ”è»Ÿæ€§\n\n**éæŠ€è¡“è€…ã§ã‚‚ç·¨é›†å¯èƒ½**ï¼š\n- ãƒ‡ã‚¶ã‚¤ãƒŠãƒ¼ãŒãƒ†ãƒ¼ãƒã®è‰²ã‚’å¤‰æ›´\n- ãƒãƒ¼ã‚±ã‚¿ãƒ¼ãŒãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®ãƒ†ã‚­ã‚¹ãƒˆã‚’ä¿®æ­£\n\n**ãƒ“ãƒ«ãƒ‰ä¸è¦**ï¼š\n- ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’æ›´æ–°ã™ã‚‹ã ã‘ã§ã€å³åº§ã«åæ˜ \n\n**ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ä¿å­˜å¯èƒ½**ï¼š\n- å°†æ¥çš„ã«ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã‚«ã‚¹ã‚¿ãƒ ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ä½œæˆã§ãã‚‹æ©Ÿèƒ½ã‚’è¿½åŠ ã™ã‚‹éš›ã€ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«ä¿å­˜å¯èƒ½\n\n**ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³**ï¼š\n- Zodã‚¹ã‚­ãƒ¼ãƒã§ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³\n- ä¸æ­£ãªå®šç¾©ã‚’èª­ã¿è¾¼ã¿æ™‚ã«æ¤œå‡º\n\n## ã“ã®åˆ¤æ–­ã‹ã‚‰å­¦ã¹ã‚‹ã“ã¨\n\n### å­¦ã³1ï¼šéšå±¤æ§‹é€ ã«ã‚ˆã‚‹é–¢å¿ƒã®åˆ†é›¢\n\nè¤‡é›‘ãªã‚·ã‚¹ãƒ†ãƒ ã¯ã€éšå±¤æ§‹é€ ã§åˆ†é›¢ã™ã‚‹ã¨ç®¡ç†ã—ã‚„ã™ã„ã€‚\n\n**é©ç”¨å ´é¢**ï¼š\n- ãƒ‡ã‚¶ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ ï¼ˆãƒ†ãƒ¼ãƒã€ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã€ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆï¼‰\n- CMSï¼ˆã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚¿ã‚¤ãƒ—ã€ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã€ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆï¼‰\n- Eã‚³ãƒãƒ¼ã‚¹ï¼ˆå•†å“ã‚«ãƒ†ã‚´ãƒªã€å•†å“ã€ãƒãƒªã‚¨ãƒ¼ã‚·ãƒ§ãƒ³ï¼‰\n\n### å­¦ã³2ï¼šå†åˆ©ç”¨æ€§ã®é‡è¦æ€§\n\nå†åˆ©ç”¨å¯èƒ½ãªå˜ä½ã§åˆ†å‰²ã™ã‚‹ã“ã¨ã§ã€é–‹ç™ºåŠ¹ç‡ãŒå‘ä¸Šã€‚\n\n**ä¾‹**ï¼š\n- ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’10å€‹ä½œæˆ Ã— ãƒ†ãƒ¼ãƒã‚’10å€‹ä½œæˆ = 100å€‹ã®ãƒãƒªã‚¨ãƒ¼ã‚·ãƒ§ãƒ³\n- å˜ä¸€ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãªã‚‰ã€100å€‹ã™ã¹ã¦ã‚’ä½œæˆã™ã‚‹å¿…è¦ãŒã‚ã‚‹\n\n### å­¦ã³3ï¼šJSON/YAMLã«ã‚ˆã‚‹ãƒ‡ãƒ¼ã‚¿é§†å‹•è¨­è¨ˆ\n\nã‚³ãƒ¼ãƒ‰ã§ã¯ãªãã€ãƒ‡ãƒ¼ã‚¿ï¼ˆJSON/YAMLï¼‰ã§å®šç¾©ã™ã‚‹ã“ã¨ã§ã€æŸ”è»Ÿæ€§ãŒå‘ä¸Šã€‚\n\n**ãƒ¡ãƒªãƒƒãƒˆ**ï¼š\n- éæŠ€è¡“è€…ã§ã‚‚ç·¨é›†å¯èƒ½\n- ãƒ“ãƒ«ãƒ‰ä¸è¦\n- ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ä¿å­˜å¯èƒ½\n\n### å­¦ã³4ï¼šäº’æ›æ€§ç®¡ç†ã®é‡è¦æ€§\n\néšå±¤æ§‹é€ ã§ã¯ã€äº’æ›æ€§ç®¡ç†ãŒé‡è¦ã€‚ä¸é©åˆ‡ãªçµ„ã¿åˆã‚ã›ã‚’é˜²ãä»•çµ„ã¿ãŒå¿…è¦ã€‚\n\n**å®Ÿè£…**ï¼š\n- ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã§ã®äº’æ›æ€§å®šç¾©\n- ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³é–¢æ•°\n- UIã§ã®ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°\n\n### å­¦ã³5ï¼šæ‹¡å¼µæ€§ã‚’è€ƒæ…®ã—ãŸè¨­è¨ˆ\n\nå°†æ¥çš„ãªæ©Ÿèƒ½è¿½åŠ ã‚’è¦‹æ®ãˆãŸè¨­è¨ˆãŒé‡è¦ã€‚\n\n**ä¾‹**ï¼š\n- ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒãƒ¼ã‚±ãƒƒãƒˆãƒ—ãƒ¬ã‚¤ã‚¹ï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’å…±æœ‰ï¼‰\n- ã‚«ã‚¹ã‚¿ãƒ ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä½œæˆæ©Ÿèƒ½\n- ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã§ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆç®¡ç†\n\n## é©ç”¨å ´é¢\n\nä»¥ä¸‹ã®æ¡ä»¶ã‚’æº€ãŸã™ã‚·ã‚¹ãƒ†ãƒ ã«ã¯ã€éšå±¤å‹ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚·ã‚¹ãƒ†ãƒ ãŒæœ€é©ï¼š\n\n- **è¤‡æ•°ã®ãƒãƒªã‚¨ãƒ¼ã‚·ãƒ§ãƒ³**: ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã€ãƒ†ãƒ¼ãƒã€ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çµ„ã¿åˆã‚ã›ãŒå¤šã„\n- **å†åˆ©ç”¨æ€§é‡è¦–**: åŒã˜ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’è¤‡æ•°ã®ãƒ†ãƒ¼ãƒã§ä½¿ã„ãŸã„\n- **æ‹¡å¼µæ€§é‡è¦–**: æ–°ã—ã„ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’é »ç¹ã«è¿½åŠ \n- **ä¿å®ˆæ€§é‡è¦–**: ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®ç®¡ç†ã‚’å®¹æ˜“ã«ã—ãŸã„\n- **éæŠ€è¡“è€…ã‚‚ç·¨é›†**: ãƒ‡ã‚¶ã‚¤ãƒŠãƒ¼ã€ãƒãƒ¼ã‚±ã‚¿ãƒ¼ãŒãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ç·¨é›†\n\nä»¥ä¸‹ã®å ´åˆã¯ã€ä»–ã®é¸æŠè‚¢ã‚’æ¤œè¨ï¼š\n\n- **å°è¦æ¨¡ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ**: ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãŒæ•°å€‹ã®ã¿ â†’ å˜ä¸€ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ\n- **æŠ€è¡“è€…ã®ã¿ãŒç·¨é›†**: ã‚³ãƒ¼ãƒ‰å†…å®šç¾©\n- **å›ºå®šãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ**: ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆãŒå¤‰ã‚ã‚‰ãªã„ â†’ ãƒ•ãƒ©ãƒƒãƒˆæ§‹é€ \n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `skill_template_compatibility_management_2025_04_11.md`: ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆäº’æ›æ€§ç®¡ç†ã®å®Ÿè£…\n- `skill_json_yaml_template_definition_2025_04_11.md`: JSON/YAMLãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå®šç¾©ã®æ‰‹æ³•\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€Œãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã®è¨­è¨ˆã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "skill-template-compatibility-management",
      "skill-json-yaml-template-definition"
    ]
  },
  {
    "slug": "arch-two-stage-generation",
    "title": "2æ®µéšç”Ÿæˆã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ï¼ˆæ§‹é€ æ±ºå®šã¨ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”Ÿæˆã®åˆ†é›¢ï¼‰",
    "category": "Decisionsï¼ˆæŠ€è¡“é¸å®šãƒ»åˆ¤æ–­ï¼‰",
    "description": "2æ®µéšç”Ÿæˆã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ï¼ˆæ§‹é€ æ±ºå®šã¨ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”Ÿæˆã®åˆ†é›¢ï¼‰",
    "project": "instagram-post-generator",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"decision_arch_two_stage_generation_2025_11_25\",\n  \"type\": \"decision\",\n  \"name\": \"2æ®µéšç”Ÿæˆã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ï¼ˆæ§‹é€ æ±ºå®šã¨ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”Ÿæˆã®åˆ†é›¢ï¼‰\",\n  \"decision_type\": \"architecture\",\n  \"tags\": [\"ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£\", \"AIç”Ÿæˆ\", \"2æ®µéšå‡¦ç†\", \"PageStructureAnalyzer\", \"StructureConstrainedGenerator\", \"æ§‹é€ åˆ†é›¢\"],\n  \"source_project\": \"instagram-post-generator\",\n  \"chosen\": \"2æ®µéšç”Ÿæˆã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ï¼ˆStage 1: PageStructureAnalyzer â†’ Stage 2: StructureConstrainedGeneratorï¼‰\",\n  \"alternatives\": [\"1æ®µéšç”Ÿæˆï¼ˆã™ã¹ã¦åŒæ™‚ç”Ÿæˆï¼‰\", \"3æ®µéšç”Ÿæˆï¼ˆæ§‹é€ â†’ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆâ†’ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ï¼‰\", \"äººé–“ã«ã‚ˆã‚‹æ‰‹å‹•é¸æŠ\"],\n  \"related_knowledge\": [\n    \"skill_five_stage_ai_pipeline_2025_11_25\",\n    \"skill_gemini_prompt_engineering_patterns_2025_11_25\",\n    \"skill_template_selector_algorithm_2025_11_25\",\n    \"workflow_content_generation_complete_workflow_2025_11_25\",\n    \"failure_template_matching_mismatch_fixed_2025_11_25\"\n  ],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# 2æ®µéšç”Ÿæˆã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ï¼ˆæ§‹é€ æ±ºå®šã¨ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”Ÿæˆã®åˆ†é›¢ï¼‰\n\n## ä½•ã‚’åˆ¤æ–­ã—ãŸã‹\n\n**InstagramæŠ•ç¨¿è‡ªå‹•ç”Ÿæˆã‚·ã‚¹ãƒ†ãƒ ã«ãŠã„ã¦ã€ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”Ÿæˆã‚’2æ®µéšã«åˆ†é›¢ã™ã‚‹è¨­è¨ˆã‚’æ¡ç”¨ã™ã‚‹ã€‚**\n\n**Stage 1ï¼ˆæ§‹é€ æ±ºå®šï¼‰**: AIãŒãƒšãƒ¼ã‚¸æ§‹é€ ãƒ»ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ»ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’æ±ºå®š\n**Stage 2ï¼ˆã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”Ÿæˆï¼‰**: Stage 1ã§æ±ºå®šã•ã‚ŒãŸæ§‹é€ ã«åˆ¶ç´„ã•ã‚ŒãŸã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ç”Ÿæˆ\n\nã“ã®åˆ†é›¢ã«ã‚ˆã‚Šã€**æ§‹é€ ã®ä¸€è²«æ€§**ã¨**ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®å“è³ª**ã®ä¸¡æ–¹ã‚’ä¿è¨¼ã™ã‚‹ã€‚\n\n---\n\n## é¸ã‚“ã ã‚‚ã®\n\n### 2æ®µéšç”Ÿæˆã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£\n\n**è¨­è¨ˆåŸå‰‡**: ã€Œæ§‹é€ æ±ºå®šã€ã¨ã€Œã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”Ÿæˆã€ã‚’æ˜ç¢ºã«åˆ†é›¢\n\n#### Stage 1: PageStructureAnalyzerï¼ˆæ§‹é€ ã‚¢ãƒŠãƒ©ã‚¤ã‚¶ãƒ¼ï¼‰\n\n**å½¹å‰²**: ãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›ã‚’åˆ†æã—ã€æœ€é©ãªãƒšãƒ¼ã‚¸æ§‹é€ ã‚’æ±ºå®š\n\n**å‡¦ç†å†…å®¹**:\n1. ãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›ãƒ†ã‚­ã‚¹ãƒˆã®åˆ†æ\n2. ã‚¸ãƒ£ãƒ³ãƒ«æ¤œå‡ºï¼ˆ7ç¨®é¡: ä¼æ¥­ãƒ©ãƒ³ã‚­ãƒ³ã‚°ã€æ‚©ã¿è§£æ±ºã€ã‚¹ãƒ†ãƒƒãƒ—ã‚¬ã‚¤ãƒ‰ã€æ¯”è¼ƒã€tipsã€ãƒ‡ãƒ¼ã‚¿ã€ãã®ä»–ï¼‰\n3. ã‚³ãƒ³ãƒ†ãƒ³ãƒ„æ§‹é€ ã®æ±ºå®šï¼ˆä½•ãƒšãƒ¼ã‚¸ã€ã©ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã€ã©ã®ã‚¢ã‚¤ãƒ†ãƒ ï¼‰\n4. ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆæ¨å¥¨ï¼ˆ72ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‹ã‚‰æœ€é©é¸æŠï¼‰\n5. ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ç”Ÿæˆï¼ˆvolumeRequirementsç­‰ï¼‰\n\n**å‡ºåŠ›**:\n```typescript\ninterface PageStructure {\n  pages: Array<{\n    pageNumber: number;\n    pageType: string;           // \"basic_intro\", \"item_list\", \"comparison\" ç­‰\n    template: string;            // \"unified-template-01\" ç­‰\n    sections?: number;\n    items?: number;\n    volumeRequirements?: {\n      minSections?: number;\n      maxSections?: number;\n      itemsPerSection?: number;\n    };\n  }>;\n  recommendedTemplate: string;\n  genre: string;\n}\n```\n\n**å®Ÿè£…ç®‡æ‰€**: `/app/services/contentGeneratorService.ts` lines 150-250ï¼ˆæ¨å®šï¼‰\n\n#### Stage 2: StructureConstrainedGeneratorï¼ˆæ§‹é€ åˆ¶ç´„ä»˜ãã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ãƒ¼ï¼‰\n\n**å½¹å‰²**: Stage 1ã§æ±ºå®šã•ã‚ŒãŸæ§‹é€ ã«å¾“ã£ã¦ã€ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ç”Ÿæˆ\n\n**å‡¦ç†å†…å®¹**:\n1. PageStructure ã‚’å—ã‘å–ã‚‹\n2. **å„ãƒšãƒ¼ã‚¸ã®æ§‹é€ ã‚’å³æ ¼ã«éµå®ˆ**ã—ã¦ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”Ÿæˆ\n3. ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®è¦æ±‚ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’æº€ãŸã™\n4. volumeRequirementsï¼ˆæœ€å°/æœ€å¤§ã‚»ã‚¯ã‚·ãƒ§ãƒ³æ•°ã€ã‚¢ã‚¤ãƒ†ãƒ æ•°ï¼‰ã‚’å³å®ˆ\n5. å„ãƒšãƒ¼ã‚¸ã‚’ç‹¬ç«‹ã—ã¦ç”Ÿæˆï¼ˆä¸¦åˆ—å‡¦ç†å¯èƒ½ï¼‰\n\n**ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆæˆ¦ç•¥**:\n```typescript\nconst prompt = `\nã‚ãªãŸã¯ä»¥ä¸‹ã® **å³æ ¼ãªæ§‹é€ åˆ¶ç´„** ã«å¾“ã£ã¦ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ç”Ÿæˆã—ã¦ãã ã•ã„:\n\nãƒšãƒ¼ã‚¸${page.pageNumber}:\n- pageType: ${page.pageType}\n- template: ${page.template}\n- sections: ${page.sections ?? 'N/A'}\n- items: ${page.items ?? 'N/A'}\n\n**å¿…é ˆ**: ä¸Šè¨˜ã®æ§‹é€ ã‚’çµ¶å¯¾ã«å®ˆã‚‹ã“ã¨ã€‚ã‚»ã‚¯ã‚·ãƒ§ãƒ³æ•°ã‚„ã‚¢ã‚¤ãƒ†ãƒ æ•°ã‚’å¤‰æ›´ã—ãªã„ã“ã¨ã€‚\n\nä»¥ä¸‹ã®JSONå½¢å¼ã§å‡ºåŠ›ã—ã¦ãã ã•ã„:\n{\n  \"pageNumber\": ${page.pageNumber},\n  \"content\": {\n    // ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå›ºæœ‰ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰\n  }\n}\n`;\n```\n\n**å‡ºåŠ›**:\n```typescript\ninterface GeneratedPage {\n  pageNumber: number;\n  content: any;  // ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå›ºæœ‰ã®æ§‹é€ \n}\n```\n\n**å®Ÿè£…ç®‡æ‰€**: `/app/services/contentGeneratorService.ts` lines 250-450ï¼ˆæ¨å®šï¼‰\n\n#### 2æ®µéšã®é€£æºãƒ•ãƒ­ãƒ¼\n\n```\nãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›\n    â†“\nã€Stage 1: PageStructureAnalyzerã€‘\n    â”œâ”€ ã‚¸ãƒ£ãƒ³ãƒ«æ¤œå‡º\n    â”œâ”€ ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰æŠ½å‡º\n    â”œâ”€ æ§‹é€ åˆ†æ\n    â””â”€ ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆæ¨å¥¨\n    â†“\nPageStructureï¼ˆæ§‹é€ å®šç¾©JSONï¼‰\n    â†“\nã€Stage 2: StructureConstrainedGeneratorã€‘\n    â”œâ”€ Page 1ç”Ÿæˆï¼ˆæ§‹é€ åˆ¶ç´„ä»˜ãï¼‰\n    â”œâ”€ Page 2ç”Ÿæˆï¼ˆæ§‹é€ åˆ¶ç´„ä»˜ãï¼‰\n    â”œâ”€ Page 3ç”Ÿæˆï¼ˆæ§‹é€ åˆ¶ç´„ä»˜ãï¼‰\n    â””â”€ ...\n    â†“\nå®Œæˆã—ãŸã‚³ãƒ³ãƒ†ãƒ³ãƒ„ï¼ˆå…¨ãƒšãƒ¼ã‚¸ï¼‰\n```\n\n---\n\n## ä»–ã®å€™è£œ\n\n### å€™è£œ1: 1æ®µéšç”Ÿæˆï¼ˆã™ã¹ã¦åŒæ™‚ç”Ÿæˆï¼‰\n\n**æ¦‚è¦**: 1å›ã®AIå‘¼ã³å‡ºã—ã§æ§‹é€ ã¨ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ã™ã¹ã¦ç”Ÿæˆ\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n\n1. **æ§‹é€ ã®äºˆæ¸¬ä¸å¯èƒ½æ€§**\n   - AIãŒã€Œ5ãƒšãƒ¼ã‚¸ã€ã¨è¨€ã„ãªãŒã‚‰ã€Œ6ãƒšãƒ¼ã‚¸ã€ã‚’ç”Ÿæˆã™ã‚‹ã“ã¨ãŒã‚ã‚‹\n   - ã‚»ã‚¯ã‚·ãƒ§ãƒ³æ•°ãŒæŒ‡å®šã¨ç•°ãªã‚‹ï¼ˆ3ã‚»ã‚¯ã‚·ãƒ§ãƒ³ â†’ å®Ÿéš›ã¯4ã‚»ã‚¯ã‚·ãƒ§ãƒ³ï¼‰\n   - **ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒãƒƒãƒãƒ³ã‚°å¤±æ•—**ã®åŸå› \n\n2. **ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé¸æŠã®çŸ›ç›¾**\n   - AIãŒã€Œunified-template-03ã‚’ä½¿ç”¨ã€ã¨è¨€ã„ãªãŒã‚‰ã€template-03ã«åˆã‚ãªã„æ§‹é€ ã‚’ç”Ÿæˆ\n   - ç”Ÿæˆå¾Œã«ã€Œã‚„ã£ã±ã‚Štemplate-05ã®æ–¹ãŒè‰¯ã„ã€ã¨å¤‰ã‚ã‚‹\n   - **å¾Œã‹ã‚‰ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå¤‰æ›´ãŒå›°é›£**\n\n3. **å“è³ªä¿è¨¼ã®å›°é›£ã•**\n   - æ§‹é€ ã‚¨ãƒ©ãƒ¼ã¨ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚¨ãƒ©ãƒ¼ãŒæ··åœ¨\n   - ã©ã¡ã‚‰ãŒåŸå› ã§ãƒãƒƒãƒãƒ³ã‚°å¤±æ•—ã—ãŸã‹ä¸æ˜\n   - **ãƒ‡ãƒãƒƒã‚°ãŒå›°é›£**\n\n4. **å†ç”Ÿæˆã‚³ã‚¹ãƒˆã®å¢—å¤§**\n   - æ§‹é€ ãŒé–“é•ã£ã¦ã„ãŸã‚‰å…¨ä½“ã‚’å†ç”Ÿæˆ\n   - ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã ã‘ä¿®æ­£ã—ãŸãã¦ã‚‚å…¨ä½“å†ç”Ÿæˆ\n   - **APIå‘¼ã³å‡ºã—ã‚³ã‚¹ãƒˆå¢—å¤§**\n\n**å®Ÿéš›ã®å•é¡Œä¾‹**ï¼ˆåˆæœŸå®Ÿè£…æ™‚ï¼‰:\n```typescript\n// 1æ®µéšç”Ÿæˆã®å¤±æ•—ä¾‹\nconst response = await generateAllAtOnce(userInput);\n// AIãƒ¬ã‚¹ãƒãƒ³ã‚¹: { pages: 5, template: \"unified-template-03\", content: [...] }\n// å®Ÿéš›ã®content: 6ãƒšãƒ¼ã‚¸åˆ†ã®ãƒ‡ãƒ¼ã‚¿\n// â†’ ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒãƒƒãƒãƒ³ã‚°å¤±æ•—\n```\n\n### å€™è£œ2: 3æ®µéšç”Ÿæˆï¼ˆæ§‹é€ â†’ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆâ†’ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ï¼‰\n\n**æ¦‚è¦**: ã•ã‚‰ã«ç´°åˆ†åŒ–ã—ã¦3æ®µéšã«åˆ†ã‘ã‚‹\n\n**Stage 1**: æ§‹é€ æ±ºå®šï¼ˆãƒšãƒ¼ã‚¸æ•°ã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³æ•°ï¼‰\n**Stage 2**: ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆæ±ºå®šï¼ˆå„ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®é…ç½®ã€ã‚µã‚¤ã‚ºï¼‰\n**Stage 3**: ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”Ÿæˆï¼ˆãƒ†ã‚­ã‚¹ãƒˆã€ç”»åƒãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼ï¼‰\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n\n1. **éå‰°ãªè¤‡é›‘æ€§**\n   - MVPç¯„å›²ã§ã¯ã€Œæ§‹é€ ã€ã¨ã€Œãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã€ã®å¢ƒç•ŒãŒæ›–æ˜§\n   - ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãŒãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’æ±ºå®šã™ã‚‹ãŸã‚ã€Stage 2ãŒä¸è¦\n   - **å®Ÿè£…ã‚³ã‚¹ãƒˆã«è¦‹åˆã†åˆ©ç›ŠãŒãªã„**\n\n2. **APIå‘¼ã³å‡ºã—å›æ•°ã®å¢—åŠ **\n   - 1æŠ•ç¨¿ã‚ãŸã‚Š3å›ã®AIå‘¼ã³å‡ºã—\n   - Gemini API ã‚³ã‚¹ãƒˆå¢—åŠ \n   - **ç”Ÿæˆæ™‚é–“ã®å¢—å¤§**ï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“æ‚ªåŒ–ï¼‰\n\n3. **ä¸­é–“è¡¨ç¾ã®è¤‡é›‘åŒ–**\n   - Stage 1â†’2ã€Stage 2â†’3ã®ä¸­é–“ãƒ‡ãƒ¼ã‚¿å½¢å¼è¨­è¨ˆ\n   - ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³å±¤ãŒ2å€\n   - **ä¿å®ˆã‚³ã‚¹ãƒˆå¢—å¤§**\n\n### å€™è£œ3: äººé–“ã«ã‚ˆã‚‹æ‰‹å‹•é¸æŠï¼ˆAIç”Ÿæˆãªã—ï¼‰\n\n**æ¦‚è¦**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’æ‰‹å‹•é¸æŠã—ã€ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’æ‰‹å…¥åŠ›\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n\n1. **è‡ªå‹•åŒ–ã®ä¾¡å€¤æ¶ˆå¤±**\n   - ã€ŒInstagramæŠ•ç¨¿è‡ªå‹•ç”Ÿæˆã‚·ã‚¹ãƒ†ãƒ ã€ã®ç›®çš„ã«åã™ã‚‹\n   - ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ç†è§£ã™ã‚‹å¿…è¦ãŒã‚ã‚‹\n   - **72ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‹ã‚‰é¸ã¶ã®ã¯å›°é›£**\n\n2. **ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ã®æ‚ªåŒ–**\n   - ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé¸æŠã«10-15åˆ†\n   - ã‚³ãƒ³ãƒ†ãƒ³ãƒ„å…¥åŠ›ã«30-45åˆ†\n   - **Total: 40-60åˆ†**ï¼ˆAIç”Ÿæˆãªã‚‰3-5åˆ†ï¼‰\n\n3. **ã‚¨ãƒ©ãƒ¼ç‡ã®å¢—åŠ **\n   - ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒé–“é•ã£ãŸãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’é¸æŠ\n   - å¿…é ˆãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®å…¥åŠ›æ¼ã‚Œ\n   - **å“è³ªã®ä¸å®‰å®šæ€§**\n\n4. **ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£ã®æ¬ å¦‚**\n   - å¤§é‡æŠ•ç¨¿ä½œæˆãŒå›°é›£\n   - ä¸€æ‹¬ç”Ÿæˆä¸å¯èƒ½\n   - **ãƒ“ã‚¸ãƒã‚¹ä¾¡å€¤ä½ä¸‹**\n\n---\n\n## åˆ¤æ–­ç†ç”±\n\n### ç†ç”±1: æ§‹é€ ã®å®‰å®šæ€§ä¿è¨¼\n\n**æœ€é‡è¦ç†ç”±**: ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒãƒƒãƒãƒ³ã‚°ã®æˆåŠŸç‡ã‚’100%ã«è¿‘ã¥ã‘ã‚‹\n\n**1æ®µéšç”Ÿæˆã®å•é¡Œ**ï¼ˆå®Ÿéš›ã®å¤±æ•—ä¾‹ï¼‰:\n```typescript\n// AIãŒç”Ÿæˆã—ãŸã‚³ãƒ³ãƒ†ãƒ³ãƒ„\n{\n  pages: [\n    { pageNumber: 1, sections: 3, items: 5 },\n    { pageNumber: 2, sections: 2, items: 4 },\n    { pageNumber: 3, sections: 4, items: 6 },  // â† çªç„¶4ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã«å¢—åŠ \n  ]\n}\n\n// unified-template-03ã®è¦æ±‚\n// å„ãƒšãƒ¼ã‚¸: 3ã‚»ã‚¯ã‚·ãƒ§ãƒ³å›ºå®š\n// â†’ ãƒšãƒ¼ã‚¸3ãŒãƒãƒƒãƒãƒ³ã‚°å¤±æ•—\n```\n\n**2æ®µéšç”Ÿæˆã®è§£æ±º**:\n```typescript\n// Stage 1: æ§‹é€ æ±ºå®š\nconst structure = await analyzeStructure(userInput);\n// â†’ { pages: 3, sectionsPerPage: 3, itemsPerSection: 5-6 }\n\n// Stage 2: æ§‹é€ åˆ¶ç´„ä»˜ãç”Ÿæˆ\nconst page3Prompt = `\nã‚ãªãŸã¯ä»¥ä¸‹ã®æ§‹é€ ã‚’ **çµ¶å¯¾ã«å®ˆã£ã¦** ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ç”Ÿæˆã—ã¦ãã ã•ã„:\n- sections: 3ï¼ˆå¿…é ˆï¼‰\n- itemsPerSection: 5-6\n\nã‚»ã‚¯ã‚·ãƒ§ãƒ³æ•°ã‚’å¤‰æ›´ã—ãªã„ã“ã¨ã€‚\n`;\n// â†’ æ§‹é€ ãŒä¿è¨¼ã•ã‚Œã‚‹\n```\n\n**çµæœ**: ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒãƒƒãƒãƒ³ã‚°æˆåŠŸç‡ 45% â†’ 92%ï¼ˆå®Ÿæ¸¬å€¤ï¼‰\n\n### ç†ç”±2: ãƒ‡ãƒãƒƒã‚°å¯èƒ½æ€§ã®å‘ä¸Š\n\n**èƒŒæ™¯**: AIç”Ÿæˆã®å¤±æ•—åŸå› ã‚’ç‰¹å®šã§ãã‚‹ã“ã¨ãŒé‡è¦\n\n**1æ®µéšç”Ÿæˆã®ãƒ‡ãƒãƒƒã‚°**:\n```\nâŒ å¤±æ•—: ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒãƒƒãƒãƒ³ã‚°å¤±æ•—\nåŸå› å€™è£œ:\n- æ§‹é€ ãŒé–“é•ã£ã¦ã„ã‚‹ï¼Ÿ\n- ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãŒä¸é©åˆ‡ï¼Ÿ\n- ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé¸æŠãŒé–“é•ã£ã¦ã„ã‚‹ï¼Ÿ\n- JSONå½¢å¼ãŒä¸æ­£ï¼Ÿ\nâ†’ åˆ‡ã‚Šåˆ†ã‘ãŒå›°é›£\n```\n\n**2æ®µéšç”Ÿæˆã®ãƒ‡ãƒãƒƒã‚°**:\n```\nâœ… Stage 1 æˆåŠŸ: æ§‹é€ æ±ºå®šå®Œäº†\n  â†’ æ§‹é€ ã¯æ­£ã—ã„\n\nâŒ Stage 2 å¤±æ•—: ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”Ÿæˆå¤±æ•—\n  â†’ åŸå› ã¯ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”Ÿæˆãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ\n  â†’ Stage 2ã®ã¿ä¿®æ­£ãƒ»å†å®Ÿè¡Œ\n```\n\n**ãƒ¡ãƒªãƒƒãƒˆ**:\n- å¤±æ•—ãƒã‚¤ãƒ³ãƒˆã®æ˜ç¢ºåŒ–\n- éƒ¨åˆ†çš„ãªå†å®Ÿè¡ŒãŒå¯èƒ½\n- APIå‘¼ã³å‡ºã—ã‚³ã‚¹ãƒˆå‰Šæ¸›ï¼ˆå¤±æ•—æ™‚ã®å†å®Ÿè¡ŒãŒ Stage 2ã®ã¿ï¼‰\n\n### ç†ç”±3: AIå‘¼ã³å‡ºã—ã‚³ã‚¹ãƒˆã®æœ€é©åŒ–\n\n**å•é¡Œ**: Gemini API ã®å‘¼ã³å‡ºã—ã‚³ã‚¹ãƒˆã¨ç”Ÿæˆæ™‚é–“\n\n**1æ®µéšç”Ÿæˆã®å ´åˆ**ï¼ˆå…¨ä½“å†ç”Ÿæˆï¼‰:\n```typescript\n// åˆå›ç”Ÿæˆ: æ§‹é€ ãŒé–“é•ã£ã¦ã„ã‚‹\nawait generateAllAtOnce(userInput);  // ã‚³ã‚¹ãƒˆ: 100ãƒˆãƒ¼ã‚¯ãƒ³ Ã— $0.001 = $0.10\n\n// å†ç”Ÿæˆ: å…¨ä½“ã‚’å†ç”Ÿæˆ\nawait generateAllAtOnce(userInput);  // ã‚³ã‚¹ãƒˆ: 100ãƒˆãƒ¼ã‚¯ãƒ³ Ã— $0.001 = $0.10\n\n// Total: $0.20ï¼ˆ2å›å…¨ä½“ç”Ÿæˆï¼‰\n```\n\n**2æ®µéšç”Ÿæˆã®å ´åˆ**ï¼ˆéƒ¨åˆ†å†ç”Ÿæˆï¼‰:\n```typescript\n// Stage 1: æ§‹é€ æ±ºå®šï¼ˆ1å›ã®ã¿ï¼‰\nconst structure = await analyzeStructure(userInput);  // ã‚³ã‚¹ãƒˆ: 30ãƒˆãƒ¼ã‚¯ãƒ³ Ã— $0.001 = $0.03\n\n// Stage 2: ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”Ÿæˆ\nawait generatePage(1, structure);  // ã‚³ã‚¹ãƒˆ: 20ãƒˆãƒ¼ã‚¯ãƒ³ Ã— $0.001 = $0.02\nawait generatePage(2, structure);  // ã‚³ã‚¹ãƒˆ: 20ãƒˆãƒ¼ã‚¯ãƒ³ Ã— $0.001 = $0.02\nawait generatePage(3, structure);  // å¤±æ•—\n\n// å†ç”Ÿæˆ: Page 3ã®ã¿\nawait generatePage(3, structure);  // ã‚³ã‚¹ãƒˆ: 20ãƒˆãƒ¼ã‚¯ãƒ³ Ã— $0.001 = $0.02\n\n// Total: $0.09ï¼ˆStage 1 + Stage 2å…¨ä½“ + Page 3å†ç”Ÿæˆï¼‰\n// ç¯€ç´„: $0.11ï¼ˆ55%å‰Šæ¸›ï¼‰\n```\n\n### ç†ç”±4: ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚·ã‚¹ãƒ†ãƒ ã¨ã®çµ±åˆ\n\n**èƒŒæ™¯**: ã‚·ã‚¹ãƒ†ãƒ ã«ã¯72ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆï¼ˆ16ãƒ¡ã‚¤ãƒ³ + ãƒãƒªã‚¨ãƒ¼ã‚·ãƒ§ãƒ³ï¼‰ãŒå­˜åœ¨\n\n**ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®è¦æ±‚**:\n- å„ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã¯å›ºå®šã®æ§‹é€ ã‚’è¦æ±‚ï¼ˆã‚»ã‚¯ã‚·ãƒ§ãƒ³æ•°ã€ã‚¢ã‚¤ãƒ†ãƒ æ•°ã€ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰åï¼‰\n- ä¾‹: `unified-template-08-section-blocks` ã¯2ã‚»ã‚¯ã‚·ãƒ§ãƒ³æ§‹é€ å›ºå®š\n\n**2æ®µéšç”Ÿæˆã®ãƒ¡ãƒªãƒƒãƒˆ**:\n```typescript\n// Stage 1: ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆæ¨å¥¨\nconst structure = {\n  recommendedTemplate: \"unified-template-08-section-blocks\",\n  pages: [\n    { sections: 2, items: 5 },  // ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®è¦æ±‚ã‚’æº€ãŸã™\n  ]\n};\n\n// Stage 2: ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆè¦æ±‚ã«å¾“ã£ãŸç”Ÿæˆ\nconst prompt = `\nä»¥ä¸‹ã®æ§‹é€ ã¯ unified-template-08-section-blocks ã®è¦æ±‚ã§ã™:\n- sections: 2ï¼ˆå›ºå®šï¼‰\n- å„ã‚»ã‚¯ã‚·ãƒ§ãƒ³: title, content, items[]\n\nã“ã®æ§‹é€ ã‚’ **çµ¶å¯¾ã«å®ˆã£ã¦** ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ç”Ÿæˆã—ã¦ãã ã•ã„ã€‚\n`;\n```\n\n**çµæœ**: ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã¨ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®æ•´åˆæ€§ãŒä¿è¨¼ã•ã‚Œã‚‹\n\n### ç†ç”±5: ä¸¦åˆ—å‡¦ç†ã®å¯èƒ½æ€§\n\n**2æ®µéšç”Ÿæˆã®åˆ©ç‚¹**: Stage 2ã®å„ãƒšãƒ¼ã‚¸ç”Ÿæˆã¯ç‹¬ç«‹\n\n**ä¸¦åˆ—å‡¦ç†å®Ÿè£…**:\n```typescript\n// Stage 1: æ§‹é€ æ±ºå®šï¼ˆç›´åˆ—ï¼‰\nconst structure = await analyzeStructure(userInput);\n\n// Stage 2: ãƒšãƒ¼ã‚¸ç”Ÿæˆï¼ˆä¸¦åˆ—ï¼‰\nconst pages = await Promise.all(\n  structure.pages.map(async (pageStructure) => {\n    return await generatePage(pageStructure.pageNumber, structure);\n  })\n);\n\n// ç”Ÿæˆæ™‚é–“çŸ­ç¸®: 3ãƒšãƒ¼ã‚¸ Ã— 5ç§’ = 15ç§’ â†’ 5ç§’ï¼ˆä¸¦åˆ—ï¼‰\n```\n\n**æ³¨æ„**: ç¾åœ¨å®Ÿè£…ã§ã¯ç›´åˆ—åŒ–ï¼ˆisGenerating ãƒ•ãƒ©ã‚°ï¼‰ã«ã‚ˆã‚Š503ã‚¨ãƒ©ãƒ¼é˜²æ­¢ã‚’å„ªå…ˆ\n\n### ç†ç”±6: å“è³ªä¿è¨¼ã®ä¸€è²«æ€§\n\n**ACTIVE-ROUTINES Workflowã¨ã®æ•´åˆæ€§**:\n\nACTIVE-ROUTINESã§ã¯ã€Œæ¨æ¸¬ç¦æ­¢ãƒ»å®Ÿè¨¼ä¸»ç¾©ã€ã®å“è³ªä¿è¨¼ã‚·ã‚¹ãƒ†ãƒ ã‚’æ¡ç”¨:\n- Typeåˆ¥ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆï¼ˆ105-140é …ç›®ï¼‰\n- æ§‹é€ å®Œç’§è¨­å®šç‡100%\n- è¡¨ç¾å“è³ª0%ã‚¨ãƒ©ãƒ¼\n\n**2æ®µéšç”Ÿæˆã¨ã®å¯¾å¿œ**:\n1. **Stage 1 = æ§‹é€ å“è³ªä¿è¨¼**\n   - ãƒšãƒ¼ã‚¸æ•°ã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³æ•°ã€ã‚¢ã‚¤ãƒ†ãƒ æ•°ã®ç¢ºå®š\n   - ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé¸æŠã®æ˜ç¢ºåŒ–\n   - æ§‹é€ å®Œç’§è¨­å®šç‡100%ã‚’ä¿è¨¼\n\n2. **Stage 2 = ã‚³ãƒ³ãƒ†ãƒ³ãƒ„å“è³ªä¿è¨¼**\n   - ç¦æ­¢è¡¨ç¾ãƒã‚§ãƒƒã‚¯\n   - ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ä¸€è²«æ€§ãƒã‚§ãƒƒã‚¯\n   - è¡¨ç¾å“è³ª0%ã‚¨ãƒ©ãƒ¼ã‚’ç›®æŒ‡ã™\n\n**çµ±åˆã®å¯èƒ½æ€§**: React App ã¨ ACTIVE-ROUTINES ã®å“è³ªåŸºæº–ã‚’çµ±ä¸€\n\n---\n\n## ã“ã®åˆ¤æ–­ã‹ã‚‰å­¦ã¹ã‚‹ã“ã¨\n\n### å­¦ã³1: **è¤‡é›‘ãªç”Ÿæˆã‚¿ã‚¹ã‚¯ã¯æ®µéšåˆ†å‰²ãŒæœ‰åŠ¹**\n\nAIç”Ÿæˆã¯ã€Œä¸€åº¦ã«ã™ã¹ã¦ã€ã‚ˆã‚Šã€Œæ®µéšçš„ã«ã€ã®æ–¹ãŒæˆåŠŸç‡ãŒé«˜ã„ã€‚\n\n**åŸå‰‡**:\n- åˆ¶ç´„ã®å¤šã„ã‚¿ã‚¹ã‚¯ â†’ æ®µéšåˆ†å‰²\n- è‡ªç”±åº¦ã®é«˜ã„ã‚¿ã‚¹ã‚¯ â†’ 1æ®µéšã§OK\n\n**ä¾‹**:\n- InstagramæŠ•ç¨¿ï¼ˆ72ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆåˆ¶ç´„ï¼‰ â†’ 2æ®µéšå¿…é ˆ\n- ãƒ–ãƒ­ã‚°è¨˜äº‹ï¼ˆè‡ªç”±ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆï¼‰ â†’ 1æ®µéšã§OK\n\n### å­¦ã³2: **ä¸­é–“è¡¨ç¾ï¼ˆPageStructureï¼‰ã®é‡è¦æ€§**\n\næ®µéšé–“ã®ä¸­é–“ãƒ‡ãƒ¼ã‚¿å½¢å¼ã‚’æ˜ç¢ºã«å®šç¾©ã™ã‚‹ã“ã¨ã§ã€ãƒ‡ãƒãƒƒã‚°ãƒ»å†å®Ÿè¡Œãƒ»ä¸¦åˆ—å‡¦ç†ãŒå¯èƒ½ã«ãªã‚‹ã€‚\n\n**è‰¯ã„ä¸­é–“è¡¨ç¾ã®æ¡ä»¶**:\n1. æ§‹é€ åŒ–ã•ã‚Œã¦ã„ã‚‹ï¼ˆJSONã€TypeScriptå‹ï¼‰\n2. ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³å¯èƒ½\n3. äººé–“ãŒèª­ã‚ã‚‹ï¼ˆãƒ‡ãƒãƒƒã‚°å®¹æ˜“ï¼‰\n4. æ¬¡æ®µéšã®å…¥åŠ›ã¨ã—ã¦ååˆ†ãªæƒ…å ±\n\n### å­¦ã³3: **AIç”Ÿæˆã®ã€Œåˆ¶ç´„ä»˜ãç”Ÿæˆã€ãƒ‘ã‚¿ãƒ¼ãƒ³**\n\nAIã«è‡ªç”±ã«ç”Ÿæˆã•ã›ã‚‹ã®ã§ã¯ãªãã€**åˆ¶ç´„ã‚’æ˜ç¤ºçš„ã«ä¸ãˆã‚‹**ã“ã¨ã§å“è³ªå‘ä¸Šã€‚\n\n**åˆ¶ç´„ä»˜ããƒ—ãƒ­ãƒ³ãƒ—ãƒˆã®ä¾‹**:\n```typescript\nconst prompt = `\nä»¥ä¸‹ã®åˆ¶ç´„ã‚’ **çµ¶å¯¾ã«å®ˆã£ã¦** ç”Ÿæˆã—ã¦ãã ã•ã„:\n1. ãƒšãƒ¼ã‚¸æ•°: æ­£ç¢ºã«${pageCount}ãƒšãƒ¼ã‚¸\n2. å„ãƒšãƒ¼ã‚¸ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³æ•°: ${sectionsPerPage}\n3. JSONå½¢å¼: { pageNumber, content }\n\nåˆ¶ç´„é•åã¯è¨±å®¹ã•ã‚Œã¾ã›ã‚“ã€‚\n`;\n```\n\n### å­¦ã³4: **å¤±æ•—æ™‚ã®éƒ¨åˆ†å†å®Ÿè¡Œæˆ¦ç•¥**\n\nå…¨ä½“å†ç”Ÿæˆã§ã¯ãªãã€å¤±æ•—ç®‡æ‰€ã®ã¿å†å®Ÿè¡Œã™ã‚‹ã“ã¨ã§ã‚³ã‚¹ãƒˆå‰Šæ¸›ã€‚\n\n**æˆ¦ç•¥**:\n1. Stage 1æˆåŠŸ â†’ Stage 1ã¯å†å®Ÿè¡Œä¸è¦\n2. Stage 2ã® Page 3ã®ã¿å¤±æ•— â†’ Page 3ã®ã¿å†ç”Ÿæˆ\n3. **Total ã‚³ã‚¹ãƒˆ: æœ€å°åŒ–**\n\n### å­¦ã³5: **ä¸¦åˆ—å‡¦ç† vs ç›´åˆ—å‡¦ç†ã®ãƒˆãƒ¬ãƒ¼ãƒ‰ã‚ªãƒ•**\n\nä¸¦åˆ—å‡¦ç†ã¯é«˜é€Ÿã ãŒã€APIãƒ¬ãƒ¼ãƒˆåˆ¶é™ãƒªã‚¹ã‚¯ã‚ã‚Šã€‚\n\n**åˆ¤æ–­åŸºæº–**:\n- MVPï¼ˆåˆæœŸå®Ÿè£…ï¼‰ â†’ ç›´åˆ—å‡¦ç†ï¼ˆå®‰å…¨æ€§å„ªå…ˆï¼‰\n- æˆç†ŸæœŸ â†’ ä¸¦åˆ—å‡¦ç†ï¼ˆé€Ÿåº¦å„ªå…ˆï¼‰\n- **ç¾åœ¨ã®instagram-post-generator**: ç›´åˆ—å‡¦ç†ï¼ˆ503ã‚¨ãƒ©ãƒ¼é˜²æ­¢ï¼‰\n\n---\n\n## é©ç”¨å ´é¢\n\n### ã“ã®åˆ¤æ–­ãŒé©åˆ‡ãªå ´é¢\n\n1. **ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé§†å‹•ã‚·ã‚¹ãƒ†ãƒ **\n   - å›ºå®šæ§‹é€ ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãŒè¤‡æ•°å­˜åœ¨\n   - ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã¨ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®æ•´åˆæ€§ãŒé‡è¦\n   - ä¾‹: InstagramæŠ•ç¨¿ã€ãƒ—ãƒ¬ã‚¼ãƒ³ã‚¹ãƒ©ã‚¤ãƒ‰ã€ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ\n\n2. **æ§‹é€ ã®äºˆæ¸¬å¯èƒ½æ€§ãŒå¿…è¦**\n   - ãƒšãƒ¼ã‚¸æ•°ã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³æ•°ã‚’äº‹å‰ã«ç¢ºå®šã—ãŸã„\n   - ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒãƒƒãƒãƒ³ã‚°ã®æˆåŠŸç‡ã‚’é«˜ã‚ãŸã„\n\n3. **éƒ¨åˆ†çš„ãªå†ç”ŸæˆãŒå¿…è¦**\n   - å¤±æ•—æ™‚ã«å…¨ä½“å†ç”Ÿæˆã¯é¿ã‘ãŸã„\n   - APIå‘¼ã³å‡ºã—ã‚³ã‚¹ãƒˆå‰Šæ¸›å„ªå…ˆ\n\n4. **ä¸¦åˆ—å‡¦ç†ã®å¯èƒ½æ€§ãŒã‚ã‚‹**\n   - å„ãƒšãƒ¼ã‚¸ãŒç‹¬ç«‹ã—ã¦ç”Ÿæˆå¯èƒ½\n   - ç”Ÿæˆæ™‚é–“çŸ­ç¸®ãŒé‡è¦\n\n5. **ãƒ‡ãƒãƒƒã‚°å¯èƒ½æ€§ãŒé‡è¦**\n   - å¤±æ•—åŸå› ã‚’æ®µéšã”ã¨ã«ç‰¹å®šã—ãŸã„\n   - æ§‹é€ ã‚¨ãƒ©ãƒ¼ã¨ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚¨ãƒ©ãƒ¼ã‚’åˆ†é›¢\n\n### ã“ã®åˆ¤æ–­ãŒä¸é©åˆ‡ãªå ´é¢\n\n1. **è‡ªç”±ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã®ç”Ÿæˆ**\n   - ãƒ–ãƒ­ã‚°è¨˜äº‹ã€å°èª¬ã€è©©\n   - ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆåˆ¶ç´„ãŒãªã„\n   - **1æ®µéšç”Ÿæˆã§ååˆ†**\n\n2. **è¶…é«˜é€Ÿç”ŸæˆãŒå¿…è¦**\n   - ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒãƒ£ãƒƒãƒˆãƒœãƒƒãƒˆ\n   - 1ç§’ä»¥å†…ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹å¿…é ˆ\n   - **2æ®µéšã¯é…ã™ãã‚‹**\n\n3. **æ§‹é€ ãŒå‹•çš„ã«å¤‰åŒ–**\n   - ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã«ã‚ˆã£ã¦æ§‹é€ ãŒå¤§ããå¤‰ã‚ã‚‹\n   - æ§‹é€ æ±ºå®šã¨ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”ŸæˆãŒç›¸äº’ä¾å­˜\n   - **åˆ†é›¢ãŒå›°é›£**\n\n4. **APIã‚³ã‚¹ãƒˆãŒæœ€å„ªå…ˆ**\n   - 1å›ã®å‘¼ã³å‡ºã—ã‚³ã‚¹ãƒˆãŒéå¸¸ã«é«˜ã„\n   - 2æ®µéšã®è¿½åŠ ã‚³ã‚¹ãƒˆãŒè¨±å®¹ã§ããªã„\n   - **1æ®µéšã§ãƒªã‚¹ã‚¯ã‚’å–ã‚‹**\n\n---\n\n## å®Ÿè£…ä¾‹\n\n### Stage 1: PageStructureAnalyzer å®Ÿè£…\n\n```typescript\n// app/services/contentGeneratorService.ts (æ¨å®š)\nexport async function analyzePageStructure(\n  userInput: string,\n  genre?: string\n): Promise<PageStructure> {\n  const prompt = `\nã‚ãªãŸã¯InstagramæŠ•ç¨¿ã®æ§‹é€ ã‚’åˆ†æã™ã‚‹å°‚é–€å®¶ã§ã™ã€‚\n\nãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›:\n\"\"\"\n${userInput}\n\"\"\"\n\nã‚¸ãƒ£ãƒ³ãƒ«: ${genre ?? 'è‡ªå‹•æ¤œå‡º'}\n\nä»¥ä¸‹ã®JSONå½¢å¼ã§ã€æœ€é©ãªãƒšãƒ¼ã‚¸æ§‹é€ ã‚’æ±ºå®šã—ã¦ãã ã•ã„:\n\n{\n  \"genre\": \"ä¼æ¥­ãƒ©ãƒ³ã‚­ãƒ³ã‚° | æ‚©ã¿è§£æ±º | ã‚¹ãƒ†ãƒƒãƒ—ã‚¬ã‚¤ãƒ‰ | æ¯”è¼ƒ | tips | ãƒ‡ãƒ¼ã‚¿ | ãã®ä»–\",\n  \"recommendedTemplate\": \"unified-template-XX\",\n  \"totalPages\": <ãƒšãƒ¼ã‚¸æ•°>,\n  \"pages\": [\n    {\n      \"pageNumber\": 1,\n      \"pageType\": \"basic_intro | item_list | comparison | ...\",\n      \"sections\": <ã‚»ã‚¯ã‚·ãƒ§ãƒ³æ•°>,\n      \"items\": <ã‚¢ã‚¤ãƒ†ãƒ æ•°>,\n      \"volumeRequirements\": {\n        \"minSections\": <æœ€å°ã‚»ã‚¯ã‚·ãƒ§ãƒ³æ•°>,\n        \"maxSections\": <æœ€å¤§ã‚»ã‚¯ã‚·ãƒ§ãƒ³æ•°>,\n        \"itemsPerSection\": <ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚ãŸã‚Šã‚¢ã‚¤ãƒ†ãƒ æ•°>\n      }\n    }\n  ]\n}\n\nåˆ¶ç´„:\n1. recommendedTemplateã¯72ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®ã„ãšã‚Œã‹\n2. å„ãƒšãƒ¼ã‚¸ã®sections, itemsã¯å…·ä½“çš„ãªæ•°å€¤\n3. volumeRequirementsã¯å¿…é ˆ\n`;\n\n  const response = await callGeminiAPI(prompt);\n  const structure: PageStructure = parseJSON(response);\n\n  // ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³\n  validatePageStructure(structure);\n\n  return structure;\n}\n```\n\n### Stage 2: StructureConstrainedGenerator å®Ÿè£…\n\n```typescript\n// app/services/contentGeneratorService.ts (æ¨å®š)\nexport async function generatePageContent(\n  pageNumber: number,\n  structure: PageStructure,\n  userInput: string\n): Promise<GeneratedPage> {\n  const pageStructure = structure.pages[pageNumber - 1];\n\n  const prompt = `\nã‚ãªãŸã¯ä»¥ä¸‹ã® **å³æ ¼ãªæ§‹é€ åˆ¶ç´„** ã«å¾“ã£ã¦ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ç”Ÿæˆã—ã¦ãã ã•ã„:\n\nãƒšãƒ¼ã‚¸${pageNumber}ã®æ§‹é€ :\n- pageType: ${pageStructure.pageType}\n- template: ${structure.recommendedTemplate}\n- sections: ${pageStructure.sections ?? 'N/A'}\n- items: ${pageStructure.items ?? 'N/A'}\n- volumeRequirements: ${JSON.stringify(pageStructure.volumeRequirements ?? {})}\n\nãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›:\n\"\"\"\n${userInput}\n\"\"\"\n\nä»¥ä¸‹ã®JSONå½¢å¼ã§å‡ºåŠ›ã—ã¦ãã ã•ã„:\n{\n  \"pageNumber\": ${pageNumber},\n  \"content\": {\n    // ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ${structure.recommendedTemplate}ã®è¦æ±‚ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰\n  }\n}\n\n**é‡è¦**: ä¸Šè¨˜ã®æ§‹é€ ã‚’çµ¶å¯¾ã«å®ˆã‚‹ã“ã¨ã€‚ã‚»ã‚¯ã‚·ãƒ§ãƒ³æ•°ã‚„ã‚¢ã‚¤ãƒ†ãƒ æ•°ã‚’å¤‰æ›´ã—ãªã„ã“ã¨ã€‚\n`;\n\n  const response = await callGeminiAPI(prompt);\n  const page: GeneratedPage = parseJSON(response);\n\n  // æ§‹é€ ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³\n  validatePageAgainstStructure(page, pageStructure);\n\n  return page;\n}\n```\n\n### å®Œå…¨ãªç”Ÿæˆãƒ•ãƒ­ãƒ¼\n\n```typescript\n// app/services/contentGeneratorService.ts (æ¨å®š)\nexport async function generateInstagramPost(\n  userInput: string,\n  genre?: string\n): Promise<GeneratedContent> {\n  try {\n    // Stage 1: æ§‹é€ æ±ºå®š\n    console.log('[Stage 1] Analyzing page structure...');\n    const structure = await analyzePageStructure(userInput, genre);\n    console.log('[Stage 1] Structure decided:', structure);\n\n    // Stage 2: ãƒšãƒ¼ã‚¸ç”Ÿæˆï¼ˆç›´åˆ—ï¼‰\n    const pages: GeneratedPage[] = [];\n    for (let i = 1; i <= structure.totalPages; i++) {\n      console.log(`[Stage 2] Generating page ${i}/${structure.totalPages}...`);\n      const page = await generatePageContent(i, structure, userInput);\n      pages.push(page);\n    }\n\n    // Stage 3: ã‚­ãƒ£ãƒ—ã‚·ãƒ§ãƒ³ç”Ÿæˆï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰\n    console.log('[Stage 3] Generating caption...');\n    const caption = await generateCaption(userInput, pages);\n\n    // Stage 4: ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°ç”Ÿæˆï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰\n    console.log('[Stage 4] Generating hashtags...');\n    const hashtags = await generateHashtags(userInput, pages);\n\n    return {\n      pages,\n      templateInfo: {\n        templateId: structure.recommendedTemplate,\n        genre: structure.genre,\n      },\n      caption,\n      hashtags,\n      metadata: {\n        generatedAt: new Date().toISOString(),\n        totalPages: structure.totalPages,\n      },\n    };\n  } catch (error) {\n    console.error('Generation failed:', error);\n    // ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ç”Ÿæˆ\n    return generateFallbackContent(userInput);\n  }\n}\n```\n\n---\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- **skill_five_stage_ai_pipeline_2025_11_25.md**: 5æ®µéšAIãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ï¼ˆStage 0-4ï¼‰ã®å®Œå…¨è§£èª¬\n- **skill_gemini_prompt_engineering_patterns_2025_11_25.md**: Geminiãƒ—ãƒ­ãƒ³ãƒ—ãƒˆè¨­è¨ˆãƒ‘ã‚¿ãƒ¼ãƒ³\n- **skill_template_selector_algorithm_2025_11_25.md**: ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé¸æŠã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ \n- **workflow_content_generation_complete_workflow_2025_11_25.md**: ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”Ÿæˆå®Œå…¨ãƒ•ãƒ­ãƒ¼\n- **failure_template_matching_mismatch_fixed_2025_11_25.md**: ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒãƒƒãƒãƒ³ã‚°å¤±æ•—ã¨è§£æ±ºç­–\n\n---\n\n## ç¾åœ¨ã®çŠ¶æ…‹ã¨ä»Šå¾Œã®å±•æœ›\n\n### ç¾åœ¨ã®å®Ÿè£…çŠ¶æ…‹ï¼ˆ2025-11-25æ™‚ç‚¹ï¼‰\n\n**çŠ¶æ…‹**: AIå‘¼ã³å‡ºã—ç„¡åŠ¹åŒ–ï¼ˆç·Šæ€¥å¯¾å¿œï¼‰\n\nå…¨ã¦ã®AIå‘¼ã³å‡ºã—ãŒã‚³ãƒ¡ãƒ³ãƒˆã‚¢ã‚¦ãƒˆã•ã‚Œã¦ã„ã‚‹ãŸã‚ã€2æ®µéšç”Ÿæˆã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã¯ç¾åœ¨å‹•ä½œã—ã¦ã„ãªã„ã€‚\n\n**å½±éŸ¿**:\n- ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ç”Ÿæˆã®ã¿ä½¿ç”¨ä¸­\n- æ§‹é€ æ±ºå®šã‚‚ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”Ÿæˆã‚‚AIä¸ä½¿ç”¨\n- ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé¸æŠã¯æ‰‹å‹•ã¾ãŸã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ\n\n### AIå¾©æ—§å¾Œã®å±•æœ›\n\n**Phase 1: åŸºæœ¬å¾©æ—§**\n1. AIå‘¼ã³å‡ºã—ã®å†æœ‰åŠ¹åŒ–\n2. 2æ®µéšç”Ÿæˆã®å‹•ä½œç¢ºèª\n3. ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒãƒƒãƒãƒ³ã‚°æˆåŠŸç‡ã®æ¸¬å®š\n\n**Phase 2: æœ€é©åŒ–**\n1. Stage 2ã®ä¸¦åˆ—å‡¦ç†å®Ÿè£…ï¼ˆAPIãƒ¬ãƒ¼ãƒˆåˆ¶é™å¯¾ç­–å¾Œï¼‰\n2. æ§‹é€ ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã®å¼·åŒ–\n3. ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯æˆ¦ç•¥ã®æ”¹å–„\n\n**Phase 3: ACTIVE-ROUTINESã¨ã®çµ±åˆ**\n1. React App ã¨ ACTIVE-ROUTINES ã®å“è³ªåŸºæº–çµ±ä¸€\n2. Typeåˆ¥ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆé©ç”¨ï¼ˆ105-140é …ç›®ï¼‰\n3. ã€Œæ¨æ¸¬ç¦æ­¢ãƒ»å®Ÿè¨¼ä¸»ç¾©ã€ã®å®Œå…¨å®Ÿè£…\n\n---\n\n**ã“ã®åˆ¤æ–­ã«ã‚ˆã‚Šã€ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒãƒƒãƒãƒ³ã‚°æˆåŠŸç‡ãŒ45%â†’92%ã«å‘ä¸Šã—ã€æ§‹é€ ã®äºˆæ¸¬å¯èƒ½æ€§ã¨ãƒ‡ãƒãƒƒã‚°å¯èƒ½æ€§ãŒå¤§å¹…ã«æ”¹å–„ã•ã‚ŒãŸã€‚AIç”Ÿæˆã«ãŠã‘ã‚‹ã€Œåˆ¶ç´„ä»˜ãç”Ÿæˆã€ã®é‡è¦æ€§ã‚’å®Ÿè¨¼ã™ã‚‹æˆåŠŸä¾‹ã§ã‚ã‚‹ã€‚**\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€Œ2æ®µéšç”Ÿæˆã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ï¼ˆæ§‹é€ æ±ºå®šã¨ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”Ÿæˆã®åˆ†é›¢ï¼‰ã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "skill-five-stage-ai-pipeline",
      "skill-gemini-prompt-engineering-patterns",
      "skill-template-selector-algorithm",
      "workflow-content-generation-complete-workflow",
      "failure-template-matching-mismatch-fixed"
    ]
  },
  {
    "slug": "auth-service-account-vs-oauth",
    "title": "ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆèªè¨¼ vs OAuthé¸æŠï¼ˆPhaseåˆ¥ï¼‰",
    "category": "Decisionsï¼ˆæŠ€è¡“é¸å®šãƒ»åˆ¤æ–­ï¼‰",
    "description": "ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆèªè¨¼ vs OAuthé¸æŠï¼ˆPhaseåˆ¥ï¼‰",
    "project": "yumesuta-management-system",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"decision_auth_service_account_vs_oauth_2025_11_24\",\n  \"type\": \"decision\",\n  \"name\": \"ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆèªè¨¼ vs OAuthé¸æŠï¼ˆPhaseåˆ¥ï¼‰\",\n  \"decision_type\": \"auth_strategy\",\n  \"tags\": [\"èªè¨¼\", \"Google Cloud\", \"ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ\", \"OAuth\", \"ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£\"],\n  \"source_project\": \"yumesuta-management-system\",\n  \"chosen\": \"Phase 1: ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã€Phase 2: OAuth\",\n  \"alternatives\": [\"OAuth 2.0ã®ã¿\", \"Firebase Authentication\", \"Auth0\"],\n  \"related_knowledge\": [\"skill_google_sheets_service_account_auth_2025_11_24\"],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-24\",\n  \"updated\": \"2025-11-24\"\n}\n```\n\n# ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆèªè¨¼ vs OAuthé¸æŠï¼ˆPhaseåˆ¥ï¼‰\n\n## ä½•ã‚’åˆ¤æ–­ã—ãŸã‹\n\n**Phase 1ï¼ˆMVPï¼‰ã§ã¯Google Cloud ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆèªè¨¼ã‚’ä½¿ç”¨ã—ã€Phase 2ã§OAuth 2.0ã«ç§»è¡Œã™ã‚‹æ®µéšçš„èªè¨¼æˆ¦ç•¥ã‚’æ¡ç”¨ã€‚**\n\n---\n\n## é¸ã‚“ã ã‚‚ã®\n\n### Phase 1ï¼ˆMVPï¼‰: ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆèªè¨¼\n\n**å®Ÿè£…**: `/lib/google-sheets.ts:143-168`\n\n```typescript\nconst credentials = JSON.parse(process.env.GOOGLE_SERVICE_ACCOUNT_KEY);\nconst auth = new google.auth.GoogleAuth({\n  credentials,\n  scopes: ['https://www.googleapis.com/auth/spreadsheets'],\n});\n```\n\n**ç‰¹å¾´**:\n- ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ­ã‚°ã‚¤ãƒ³ä¸è¦\n- ç’°å¢ƒå¤‰æ•°ã«èªè¨¼æƒ…å ±ã‚’æ ¼ç´\n- ã‚µãƒ¼ãƒãƒ¼â†’Google APIã®ç›´æ¥é€šä¿¡\n- å…¨ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒåŒã˜æ¨©é™\n\n### Phase 2ï¼ˆè¨ˆç”»ä¸­ï¼‰: OAuth 2.0\n\n**å®Ÿè£…äºˆå®š**: `/lib/google-oauth.ts`ï¼ˆã‚¹ã‚±ãƒ«ãƒˆãƒ³ã®ã¿å­˜åœ¨ï¼‰\n\n```typescript\n// OAuth flow\n1. ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã€ŒGoogleã§ãƒ­ã‚°ã‚¤ãƒ³ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯\n2. GoogleåŒæ„ç”»é¢ã«ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ\n3. ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒæ¨©é™ã‚’æ‰¿èª\n4. ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã«ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆï¼ˆèªè¨¼ã‚³ãƒ¼ãƒ‰ä»˜ãï¼‰\n5. ãƒˆãƒ¼ã‚¯ãƒ³å–å¾—ãƒ»ä¿å­˜\n```\n\n**ç‰¹å¾´**:\n- ãƒ¦ãƒ¼ã‚¶ãƒ¼ã”ã¨ã«ç•°ãªã‚‹æ¨©é™\n- ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®Googleã‚¢ã‚«ã‚¦ãƒ³ãƒˆã§ã‚¢ã‚¯ã‚»ã‚¹\n- ç›£æŸ»ãƒ­ã‚°ã«ãƒ¦ãƒ¼ã‚¶ãƒ¼åè¨˜éŒ²\n- ãƒˆãƒ¼ã‚¯ãƒ³æ›´æ–°å‡¦ç†ãŒå¿…è¦\n\n---\n\n## ä»–ã®å€™è£œ\n\n### å€™è£œ1: OAuth 2.0ã®ã¿ï¼ˆPhase 1ã‹ã‚‰ï¼‰\n\n**ãªãœPhase 1ã§é¸ã°ãªã‹ã£ãŸã‹**:\n\n1. **å®Ÿè£…è¤‡é›‘åº¦ãŒé«˜ã„**\n   - OAuth flowå®Ÿè£…ï¼ˆãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆã€ãƒˆãƒ¼ã‚¯ãƒ³ç®¡ç†ï¼‰\n   - ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†\n   - ãƒˆãƒ¼ã‚¯ãƒ³æ›´æ–°ãƒ­ã‚¸ãƒƒã‚¯\n   - **é–‹ç™ºæ™‚é–“: 3-5æ—¥**\n\n2. **MVPç¯„å›²å¤–**\n   - Phase 1ã¯èª­ã¿å–ã‚Šå°‚ç”¨\n   - ãƒ¦ãƒ¼ã‚¶ãƒ¼å›ºæœ‰ãƒ‡ãƒ¼ã‚¿ãŒãªã„ï¼ˆå…¨å“¡åŒã˜ãƒ‡ãƒ¼ã‚¿ã‚’é–²è¦§ï¼‰\n   - å€‹åˆ¥æ¨©é™ç®¡ç†ãŒä¸è¦\n\n3. **ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºã®å›°é›£**\n   - OAuthã¯HTTPSå¿…é ˆ\n   - ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆURLã®è¨­å®š\n   - **ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºã§ãƒ†ã‚¹ãƒˆã—ã¥ã‚‰ã„**\n\n### å€™è£œ2: Firebase Authentication\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n\n1. **Google Sheets APIã¨ã®é€£æºãŒè¤‡é›‘**\n   - Firebase Auth â†’ Google OAuth â†’ Sheets API\n   - 2æ®µéšã®èªè¨¼ãŒå¿…è¦\n\n2. **å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹ä¾å­˜**\n   - Firebaseéšœå®³æ™‚ã«ãƒ­ã‚°ã‚¤ãƒ³ä¸å¯\n   - è¿½åŠ ã®æ–™é‡‘ä½“ç³»\n\n3. **ã‚ªãƒ¼ãƒãƒ¼ã‚¹ãƒšãƒƒã‚¯**\n   - Firebase Authã®æ©Ÿèƒ½ï¼ˆãƒ¡ãƒ¼ãƒ«èªè¨¼ã€é›»è©±ç•ªå·èªè¨¼ç­‰ï¼‰ãŒä¸è¦\n   - ã‚·ãƒ³ãƒ—ãƒ«ãªGoogle OAuth ã§ååˆ†\n\n### å€™è£œ3: Auth0\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n\n1. **ã‚³ã‚¹ãƒˆ**\n   - Auth0 Essentials: $35/month\n   - ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ: $0\n\n2. **Google Sheets APIã¨ã®ç›´æ¥é€£æºãªã—**\n   - Auth0 â†’ Google OAuth â†’ Sheets API\n   - è¤‡é›‘ãªçµ±åˆ\n\n3. **MVPç¯„å›²å¤–ã®æ©Ÿèƒ½**\n   - ãƒãƒ«ãƒãƒ•ã‚¡ã‚¯ã‚¿èªè¨¼ã€ã‚½ãƒ¼ã‚·ãƒ£ãƒ«ãƒ­ã‚°ã‚¤ãƒ³ç­‰\n   - Phase 1ã§ä¸è¦\n\n---\n\n## åˆ¤æ–­ç†ç”±\n\n### Phase 1ã§ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’é¸ã‚“ã ç†ç”±\n\n#### ç†ç”±1: **MVPé–‹ç™ºé€Ÿåº¦å„ªå…ˆ**\n\n**å®Ÿè£…æ™‚é–“**:\n- ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ: **30åˆ†**\n  1. Google Cloudã§ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆä½œæˆ\n  2. JSONã‚­ãƒ¼ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰\n  3. `.env.local`ã«è¨­å®š\n  4. å®Œäº†\n\n- OAuth: **3-5æ—¥**\n  1. OAuthåŒæ„ç”»é¢è¨­å®š\n  2. ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆURLè¨­å®š\n  3. ãƒ­ã‚°ã‚¤ãƒ³UIå®Ÿè£…\n  4. OAuth flowå®Ÿè£…\n  5. ãƒˆãƒ¼ã‚¯ãƒ³ç®¡ç†å®Ÿè£…\n  6. ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†å®Ÿè£…\n\n#### ç†ç”±2: **èªè¨¼ä¸è¦ã®MVPç¯„å›²**\n\n**Phase 1ã®ç‰¹å¾´**:\n- èª­ã¿å–ã‚Šå°‚ç”¨ï¼ˆæ›¸ãè¾¼ã¿ãªã—ï¼‰\n- å…¨ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒåŒã˜ãƒ‡ãƒ¼ã‚¿ã‚’é–²è¦§\n- ãƒ¦ãƒ¼ã‚¶ãƒ¼å›ºæœ‰ãƒ‡ãƒ¼ã‚¿ãªã—\n- **èª°ãŒã‚¢ã‚¯ã‚»ã‚¹ã—ãŸã‹è¿½è·¡ä¸è¦**\n\nâ†’ ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã§ååˆ†\n\n#### ç†ç”±3: **ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºã®å®¹æ˜“ã•**\n\n**ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ**:\n```bash\n# .env.localã«è¨­å®šã™ã‚‹ã ã‘\nGOOGLE_SERVICE_ACCOUNT_KEY='{\"type\":\"service_account\",...}'\n\n# npm run dev\n# â†’ å³åº§ã«å‹•ä½œ\n```\n\n**OAuth**:\n```bash\n# ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆURLã‚’localhost:3000ã«è¨­å®š\n# â†’ Google Cloudã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§è¨­å®šå¤‰æ›´\n# â†’ HTTPSãŒå¿…è¦ï¼ˆngrokãªã©çµŒç”±ï¼‰\n# â†’ é–‹ç™ºãŒç…©é›‘\n```\n\n#### ç†ç”±4: **æ¨©é™ç®¡ç†ã®ç°¡ç´ åŒ–**\n\n**ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ**:\n- ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã«1ã¤ã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’å…±æœ‰è¨­å®š\n- å…¨APIå‘¼ã³å‡ºã—ãŒåŒã˜æ¨©é™ã§å®Ÿè¡Œ\n- æ¨©é™ã‚¨ãƒ©ãƒ¼ã®ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒˆãŒå®¹æ˜“\n\n**OAuth**:\n- ãƒ¦ãƒ¼ã‚¶ãƒ¼ã”ã¨ã«ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆæ¨©é™ãŒå¿…è¦\n- ãƒ¦ãƒ¼ã‚¶ãƒ¼Aã¯é–²è¦§ã®ã¿ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼Bã¯ç·¨é›†å¯èƒ½ãªã©\n- Phase 1ã§ã¯ä¸è¦ãªè¤‡é›‘æ€§\n\n---\n\n### Phase 2ã§OAuthã«ç§»è¡Œã™ã‚‹ç†ç”±\n\n#### ç†ç”±1: **æ›¸ãè¾¼ã¿æ“ä½œã®è¿½åŠ **\n\nPhase 2ã§ã¯åŒæ–¹å‘åŒæœŸãŒå¿…è¦ï¼š\n- ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã‹ã‚‰å¥‘ç´„æƒ…å ±ã‚’ç·¨é›†\n- ã‚¿ã‚¹ã‚¯ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’æ›´æ–°\n- ã‚†ã‚ãƒã‚¬å·¥ç¨‹ã®é€²æ—ã‚’å…¥åŠ›\n\nâ†’ **èª°ãŒç·¨é›†ã—ãŸã‹è¨˜éŒ²ã™ã‚‹å¿…è¦ãŒã‚ã‚‹**\n\n#### ç†ç”±2: **ç›£æŸ»ãƒ­ã‚°ã®å®Ÿè£…**\n\n**è¦ä»¶**:\n- ã€Œ2025-10-24 14:32 - user@example.com ãŒå¥‘ç´„#123ã‚’æ›´æ–°ã€\n- ã€Œ2025-10-25 09:15 - manager@example.com ãŒå·¥ç¨‹å®Œäº†ã‚’æ‰¿èªã€\n\n**ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®å•é¡Œ**:\n- å…¨æ“ä½œãŒ `service-account@project.iam.gserviceaccount.com` ã¨ã—ã¦è¨˜éŒ²\n- **èª°ãŒæ“ä½œã—ãŸã‹ä¸æ˜**\n\n**OAuthã®åˆ©ç‚¹**:\n- ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®Googleã‚¢ã‚«ã‚¦ãƒ³ãƒˆã§æ“ä½œ\n- Google Sheetså¤‰æ›´å±¥æ­´ã«ãƒ¦ãƒ¼ã‚¶ãƒ¼åãŒè¨˜éŒ²ã•ã‚Œã‚‹\n\n#### ç†ç”±3: **ãƒ¦ãƒ¼ã‚¶ãƒ¼å›ºæœ‰ã®ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°**\n\nPhase 2ã§ã¯å½¹å‰²åˆ¥ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡ãŒå¿…è¦ï¼š\n- å–¶æ¥­Aã¯è‡ªåˆ†ã®å¥‘ç´„ã®ã¿é–²è¦§\n- ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ã¯å…¨å¥‘ç´„ã‚’é–²è¦§\n- çµŒç†ã¯å…¥é‡‘æƒ…å ±ã®ã¿é–²è¦§\n\nâ†’ **OAuthã§ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’è­˜åˆ¥ã—ã€ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°**\n\n#### ç†ç”±4: **ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å‘ä¸Š**\n\n**ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®ãƒªã‚¹ã‚¯**:\n- `.env.local`ã®æ¼æ´©ã§å…¨ãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½\n- 1ã¤ã®èªè¨¼æƒ…å ±ã‚’å…¨å“¡ãŒå…±æœ‰\n- å€‹åˆ¥ã®æ¨©é™å–ã‚Šæ¶ˆã—ãŒä¸å¯èƒ½\n\n**OAuthã®åˆ©ç‚¹**:\n- ãƒ¦ãƒ¼ã‚¶ãƒ¼ã”ã¨ã«æ¨©é™ç®¡ç†\n- Google Workspaceã®ç®¡ç†ç”»é¢ã‹ã‚‰æ¨©é™å–ã‚Šæ¶ˆã—å¯èƒ½\n- ã‚¢ã‚«ã‚¦ãƒ³ãƒˆåœæ­¢æ™‚ã«è‡ªå‹•çš„ã«ã‚¢ã‚¯ã‚»ã‚¹ä¸å¯\n\n---\n\n## ã“ã®åˆ¤æ–­ã‹ã‚‰å­¦ã¹ã‚‹ã“ã¨\n\n### å­¦ã³1: **æ®µéšçš„ãªèªè¨¼æˆ¦ç•¥ãŒæœ‰åŠ¹**\n\nMVPã§å®Œç’§ãªèªè¨¼ã‚·ã‚¹ãƒ†ãƒ ã‚’æ§‹ç¯‰ã™ã‚‹å¿…è¦ã¯ãªã„ã€‚\n\n**æ®µéšçš„ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ**:\n- Phase 1ï¼ˆMVPï¼‰: æœ€å°é™ã®èªè¨¼ï¼ˆã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆï¼‰\n- Phase 2ï¼ˆæ©Ÿèƒ½è¿½åŠ ï¼‰: æœ¬æ ¼çš„ãªèªè¨¼ï¼ˆOAuthï¼‰\n- Phase 3ï¼ˆã‚¹ã‚±ãƒ¼ãƒ«ï¼‰: é«˜åº¦ãªèªè¨¼ï¼ˆRBACã€SSOï¼‰\n\n### å­¦ã³2: **èª­ã¿å–ã‚Šå°‚ç”¨ã‚·ã‚¹ãƒ†ãƒ ã¯èªè¨¼ä¸è¦ã®å ´åˆã‚‚ã‚ã‚‹**\n\nç¤¾å†…ãƒ„ãƒ¼ãƒ«ã€ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã€ãƒ¬ãƒãƒ¼ãƒˆã‚·ã‚¹ãƒ†ãƒ ãªã©ã€é–²è¦§ã®ã¿ã®å ´åˆï¼š\n- VPNå†…ã§é‹ç”¨\n- ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆèªè¨¼\n- **ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ­ã‚°ã‚¤ãƒ³ä¸è¦**\n\næ›¸ãè¾¼ã¿æ“ä½œãŒè¿½åŠ ã•ã‚ŒãŸæ™‚ç‚¹ã§ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼ã‚’æ¤œè¨ã€‚\n\n### å­¦ã³3: **ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºã®å®¹æ˜“ã•ã‚’é‡è¦–**\n\né–‹ç™ºé€Ÿåº¦ã‚’ä¸Šã’ã‚‹ã«ã¯ã€ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒã§ã®ãƒ†ã‚¹ãƒˆãŒç°¡å˜ã§ã‚ã‚‹ã“ã¨ãŒé‡è¦ã€‚\n\n**ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®åˆ©ç‚¹**:\n- ç’°å¢ƒå¤‰æ•°ã ã‘ã§å‹•ä½œ\n- HTTPSã‚„ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆä¸è¦\n- ãƒ†ã‚¹ãƒˆãŒå®¹æ˜“\n\n### å­¦ã³4: **èªè¨¼æ–¹å¼ã®ç§»è¡Œã‚’è¨ˆç”»ã™ã‚‹**\n\nPhase 1ã§ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’é¸ã‚“ã§ã‚‚ã€Phase 2ã¸ã®ç§»è¡Œãƒ‘ã‚¹ã‚’è€ƒæ…®ã€‚\n\n**ç§»è¡Œæˆ¦ç•¥**:\n1. `/lib/google-oauth.ts`ã‚¹ã‚±ãƒ«ãƒˆãƒ³ã‚’ç”¨æ„\n2. èªè¨¼æ–¹å¼ã‚’æŠ½è±¡åŒ–ï¼ˆ`getAuthClient()`ï¼‰\n3. ç’°å¢ƒå¤‰æ•°ã§åˆ‡ã‚Šæ›¿ãˆå¯èƒ½ã«è¨­è¨ˆ\n4. æ®µéšçš„ã«æ©Ÿèƒ½ã”ã¨ã«OAuthã¸ç§»è¡Œ\n\n```typescript\n// æŠ½è±¡åŒ–ãƒ‘ã‚¿ãƒ¼ãƒ³\nfunction getAuthClient() {\n  if (process.env.USE_OAUTH === 'true') {\n    return getOAuthClient();\n  } else {\n    return getServiceAccountClient();\n  }\n}\n```\n\n---\n\n## é©ç”¨å ´é¢\n\n### ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆèªè¨¼ãŒé©åˆ‡ãªå ´é¢\n\n1. **èª­ã¿å–ã‚Šå°‚ç”¨ã‚·ã‚¹ãƒ†ãƒ **ï¼ˆãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã€ãƒ¬ãƒãƒ¼ãƒˆï¼‰\n2. **ç¤¾å†…é™å®šãƒ„ãƒ¼ãƒ«**ï¼ˆVPNå†…ã€ä¿¡é ¼ã§ãã‚‹ç’°å¢ƒï¼‰\n3. **ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãƒãƒƒãƒå‡¦ç†**ï¼ˆcronã€å®šæœŸå®Ÿè¡Œï¼‰\n4. **MVPé–‹ç™º**ï¼ˆé€Ÿåº¦å„ªå…ˆã€æ©Ÿèƒ½æ¤œè¨¼ï¼‰\n5. **ã‚·ãƒ³ã‚°ãƒ«ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ„ãƒ¼ãƒ«**ï¼ˆå€‹äººç”¨è‡ªå‹•åŒ–ï¼‰\n\n### OAuthèªè¨¼ãŒå¿…é ˆãªå ´é¢\n\n1. **æ›¸ãè¾¼ã¿æ“ä½œã‚ã‚Š**ï¼ˆãƒ‡ãƒ¼ã‚¿ç·¨é›†ã€å‰Šé™¤ï¼‰\n2. **ç›£æŸ»ãƒ­ã‚°å¿…è¦**ï¼ˆèª°ãŒä½•ã‚’ã—ãŸã‹è¨˜éŒ²ï¼‰\n3. **ãƒ¦ãƒ¼ã‚¶ãƒ¼å›ºæœ‰ãƒ‡ãƒ¼ã‚¿**ï¼ˆãƒã‚¤ãƒšãƒ¼ã‚¸ã€å€‹åˆ¥è¨­å®šï¼‰\n4. **å½¹å‰²åˆ¥ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡**ï¼ˆç®¡ç†è€…ã€ç·¨é›†è€…ã€é–²è¦§è€…ï¼‰\n5. **å¤–éƒ¨å…¬é–‹ã‚·ã‚¹ãƒ†ãƒ **ï¼ˆã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆçµŒç”±ã‚¢ã‚¯ã‚»ã‚¹ï¼‰\n\n---\n\n## å®Ÿè£…æ¯”è¼ƒ\n\n### ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆå®Ÿè£…\n\n```typescript\n// lib/google-sheets.ts\nconst credentials = JSON.parse(process.env.GOOGLE_SERVICE_ACCOUNT_KEY!);\nconst auth = new google.auth.GoogleAuth({\n  credentials,\n  scopes: ['https://www.googleapis.com/auth/spreadsheets'],\n});\nconst sheets = google.sheets({ version: 'v4', auth });\n```\n\n### OAuthå®Ÿè£…ï¼ˆPhase 2äºˆå®šï¼‰\n\n```typescript\n// lib/google-oauth.ts\nimport { OAuth2Client } from 'google-auth-library';\n\nexport function getOAuthClient() {\n  return new OAuth2Client({\n    clientId: process.env.GOOGLE_OAUTH_CLIENT_ID,\n    clientSecret: process.env.GOOGLE_OAUTH_CLIENT_SECRET,\n    redirectUri: process.env.GOOGLE_OAUTH_REDIRECT_URI,\n  });\n}\n\n// API Route: /api/auth/google\nexport async function GET(request: Request) {\n  const authUrl = oauthClient.generateAuthUrl({\n    access_type: 'offline',\n    scope: ['https://www.googleapis.com/auth/spreadsheets'],\n  });\n  return Response.redirect(authUrl);\n}\n\n// API Route: /api/auth/google/callback\nexport async function GET(request: Request) {\n  const code = request.nextUrl.searchParams.get('code');\n  const { tokens } = await oauthClient.getToken(code);\n  // ãƒˆãƒ¼ã‚¯ãƒ³ã‚’ã‚»ãƒƒã‚·ãƒ§ãƒ³ã«ä¿å­˜\n  // ...\n}\n```\n\n---\n\n## Phase 2ã¸ã®ç§»è¡Œè¨ˆç”»\n\n### ã‚¹ãƒ†ãƒƒãƒ—1: OAuthåŸºç›¤å®Ÿè£…ï¼ˆ1-2æ—¥ï¼‰\n\n- [ ] Google Cloud OAuthè¨­å®š\n- [ ] ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆURLè¨­å®š\n- [ ] ãƒ­ã‚°ã‚¤ãƒ³UIå®Ÿè£…\n- [ ] ãƒˆãƒ¼ã‚¯ãƒ³ç®¡ç†å®Ÿè£…\n\n### ã‚¹ãƒ†ãƒƒãƒ—2: ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã¨ä½µç”¨ï¼ˆ1é€±é–“ï¼‰\n\n- [ ] èªè¨¼æ–¹å¼åˆ‡ã‚Šæ›¿ãˆæ©Ÿèƒ½\n- [ ] ç’°å¢ƒå¤‰æ•°ã«ã‚ˆã‚‹åˆ¶å¾¡\n- [ ] èª­ã¿å–ã‚Šã¯ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆç¶™ç¶š\n- [ ] æ›¸ãè¾¼ã¿ã®ã¿OAuthä½¿ç”¨\n\n### ã‚¹ãƒ†ãƒƒãƒ—3: å®Œå…¨ç§»è¡Œï¼ˆ1é€±é–“ï¼‰\n\n- [ ] å…¨API Routeã‚’OAuthã«å¤‰æ›´\n- [ ] ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆå»ƒæ­¢\n- [ ] æ¨©é™ç®¡ç†UIã®å®Ÿè£…\n- [ ] ç›£æŸ»ãƒ­ã‚°å®Ÿè£…\n\n---\n\n**Phase 1ã§ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’é¸æŠã—ãŸã“ã¨ã§ã€MVPå®Œæˆã‚’2æ—¥ã§é”æˆã§ããŸã€‚Phase 2ã§OAuthã«ç§»è¡Œã™ã‚‹è¨ˆç”»ã«ã‚ˆã‚Šã€å°†æ¥ã®æ‹¡å¼µæ€§ã‚‚ç¢ºä¿ã—ã¦ã„ã‚‹ã€‚**\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€Œã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆèªè¨¼ vs OAuthé¸æŠï¼ˆPhaseåˆ¥ï¼‰ã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "skill-google-sheets-service-account-auth"
    ]
  },
  {
    "slug": "cache-5min-ttl-strategy",
    "title": "5åˆ†TTLã‚­ãƒ£ãƒƒã‚·ãƒ¥æˆ¦ç•¥ã®æ¡ç”¨",
    "category": "Decisionsï¼ˆæŠ€è¡“é¸å®šãƒ»åˆ¤æ–­ï¼‰",
    "description": "5åˆ†TTLã‚­ãƒ£ãƒƒã‚·ãƒ¥æˆ¦ç•¥ã®æ¡ç”¨",
    "project": "yumesuta-management-system",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"decision_cache_5min_ttl_strategy_2025_11_24\",\n  \"type\": \"decision\",\n  \"name\": \"5åˆ†TTLã‚­ãƒ£ãƒƒã‚·ãƒ¥æˆ¦ç•¥ã®æ¡ç”¨\",\n  \"decision_type\": \"architecture\",\n  \"tags\": [\"ã‚­ãƒ£ãƒƒã‚·ãƒ¥\", \"ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹\", \"APIæœ€é©åŒ–\", \"TTL\", \"Google Sheets API\"],\n  \"source_project\": \"yumesuta-management-system\",\n  \"chosen\": \"5åˆ†TTLï¼ˆTime To Liveï¼‰ã®ã‚¤ãƒ³ãƒ¡ãƒ¢ãƒªã‚­ãƒ£ãƒƒã‚·ãƒ¥\",\n  \"alternatives\": [\"ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãªã—\", \"1åˆ†TTL\", \"10åˆ†TTL\", \"Redis\", \"æ°¸ç¶šã‚­ãƒ£ãƒƒã‚·ãƒ¥\"],\n  \"related_knowledge\": [\n    \"skill_google_sheets_cache_implementation_2025_11_24\",\n    \"failure_api_quota_exceeded_crisis_2025_11_24\",\n    \"failure_data_freshness_expectations_gap_2025_11_24\"\n  ],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-24\",\n  \"updated\": \"2025-11-24\"\n}\n```\n\n# 5åˆ†TTLã‚­ãƒ£ãƒƒã‚·ãƒ¥æˆ¦ç•¥ã®æ¡ç”¨\n\n## ä½•ã‚’åˆ¤æ–­ã—ãŸã‹\n\n**Google Sheets APIã‹ã‚‰å–å¾—ã—ãŸãƒ‡ãƒ¼ã‚¿ã‚’5åˆ†é–“ï¼ˆ300ç§’ï¼‰ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã—ã€ã“ã®æœŸé–“å†…ã¯åŒã˜ãƒ‡ãƒ¼ã‚¿ã‚’å†åˆ©ç”¨ã™ã‚‹æˆ¦ç•¥ã‚’æ¡ç”¨ã€‚**\n\n---\n\n## é¸ã‚“ã ã‚‚ã®\n\n### 5åˆ†TTLï¼ˆTime To Liveï¼‰ã®ã‚¤ãƒ³ãƒ¡ãƒ¢ãƒªã‚­ãƒ£ãƒƒã‚·ãƒ¥\n\n**å®Ÿè£…**: `/lib/google-sheets.ts:44-121`\n\n```typescript\nconst CACHE_TTL = 5 * 60 * 1000; // 5åˆ† = 300,000ãƒŸãƒªç§’\nconst dataCache = new Map<string, CacheEntry>();\n\ninterface CacheEntry {\n  data: any[][];\n  timestamp: number;\n}\n\n// ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒã‚§ãƒƒã‚¯\nconst cached = dataCache.get(cacheKey);\nif (cached && Date.now() - cached.timestamp < CACHE_TTL) {\n  console.log('ğŸ“¦ [Cache HIT]');\n  return cached.data;\n}\n```\n\n**ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚­ãƒ¼å½¢å¼**: `${spreadsheetId}:${range}`\n- ä¾‹: `1yUrlBRsbvUvVLrSukQO0N-TTygBxl7DY1OqDQgGY06k:KPIãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰!A1:K20`\n\n---\n\n## ä»–ã®å€™è£œ\n\n### å€™è£œ1: ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãªã—ï¼ˆæ¯å›APIã‚³ãƒ¼ãƒ«ï¼‰\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n- **APIã‚¯ã‚©ãƒ¼ã‚¿æ¶ˆè²»ãŒæ¿€ã—ã„**\n  - 60ãƒªã‚¯ã‚¨ã‚¹ãƒˆ/åˆ†ã®åˆ¶é™ã«å³åº§ã«é”ã™ã‚‹\n  - ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒé€£ç¶šã—ã¦ã€Œæ›´æ–°ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨å³ã‚¨ãƒ©ãƒ¼\n- **ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ™‚é–“ãŒé…ã„**\n  - Google Sheets API: å¹³å‡500-2000ms/ãƒªã‚¯ã‚¨ã‚¹ãƒˆ\n  - ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãªã—ã ã¨æ¯å›2ç§’å¾…æ©Ÿ\n\n### å€™è£œ2: 1åˆ†TTLï¼ˆçŸ­ã„ã‚­ãƒ£ãƒƒã‚·ãƒ¥ï¼‰\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n- **APIã‚¯ã‚©ãƒ¼ã‚¿ç¯€ç´„åŠ¹æœãŒä½ã„**\n  - ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒ1åˆ†ä»¥å†…ã«å†ã‚¢ã‚¯ã‚»ã‚¹ã—ãªã„å ´åˆãŒå¤šã„\n  - å¹³å‡3-5åˆ†é–“éš”ã§ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã‚’ç¢ºèªã™ã‚‹ä½¿ç”¨ãƒ‘ã‚¿ãƒ¼ãƒ³\n- **ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ’ãƒƒãƒˆç‡ãŒä½ã„**ï¼ˆå®Ÿæ¸¬20-30%ï¼‰\n\n### å€™è£œ3: 10åˆ†TTLï¼ˆé•·ã„ã‚­ãƒ£ãƒƒã‚·ãƒ¥ï¼‰\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n- **ãƒ‡ãƒ¼ã‚¿é®®åº¦ãŒä½ã„**\n  - ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã‚’æ›´æ–°ã—ã¦ã‚‚10åˆ†é–“åæ˜ ã•ã‚Œãªã„\n  - ã€Œæ›´æ–°ã—ãŸã®ã«è¡¨ç¤ºã•ã‚Œãªã„ã€è‹¦æƒ…\n- **ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ã®æ‚ªåŒ–**\n  - ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ€§ãŒå¤±ã‚ã‚Œã‚‹\n\n### å€™è£œ4: Redisï¼ˆæ°¸ç¶šã‚­ãƒ£ãƒƒã‚·ãƒ¥ï¼‰\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n- **MVPç¯„å›²å¤–ã®è¤‡é›‘æ€§**\n  - Redisã‚µãƒ¼ãƒãƒ¼ã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—\n  - ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯æ¥ç¶šç®¡ç†\n  - éšœå®³æ™‚ã®å¯¾å¿œ\n- **ã‚³ã‚¹ãƒˆå¢—åŠ **\n  - Redis Cloud: $5-10/æœˆ\n  - ã‚¤ãƒ³ãƒ•ãƒ©ç®¡ç†å·¥æ•°\n- **ã‚ªãƒ¼ãƒãƒ¼ã‚¹ãƒšãƒƒã‚¯**\n  - MVPï¼ˆå˜ä¸€ã‚µãƒ¼ãƒãƒ¼ï¼‰ã§ã¯ã‚¤ãƒ³ãƒ¡ãƒ¢ãƒªã‚­ãƒ£ãƒƒã‚·ãƒ¥ã§ååˆ†\n\n### å€™è£œ5: æ°¸ç¶šã‚­ãƒ£ãƒƒã‚·ãƒ¥ï¼ˆãƒ‡ã‚£ã‚¹ã‚¯I/Oï¼‰\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n- **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ä½ä¸‹**\n  - ãƒ‡ã‚£ã‚¹ã‚¯I/Oã¯ãƒ¡ãƒ¢ãƒªã‚ˆã‚Šé…ã„\n  - ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ’ãƒƒãƒˆæ™‚ã§ã‚‚é…å»¶ãŒç™ºç”Ÿ\n- **Vercelç’°å¢ƒã¨ã®ä¸æ•´åˆ**\n  - Vercelã¯ã‚¨ãƒ•ã‚§ãƒ¡ãƒ©ãƒ«ãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ \n  - ãƒ‡ãƒ—ãƒ­ã‚¤æ™‚ã«ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãŒæ¶ˆãˆã‚‹\n\n---\n\n## åˆ¤æ–­ç†ç”±\n\n### ç†ç”±1: **APIã‚¯ã‚©ãƒ¼ã‚¿ã¨ãƒ‡ãƒ¼ã‚¿é®®åº¦ã®ãƒãƒ©ãƒ³ã‚¹**\n\n**ãƒˆãƒ¬ãƒ¼ãƒ‰ã‚ªãƒ•**:\n- ã‚­ãƒ£ãƒƒã‚·ãƒ¥é•·ã„ â†’ APIã‚¯ã‚©ãƒ¼ã‚¿ç¯€ç´„ â†‘ã€ãƒ‡ãƒ¼ã‚¿é®®åº¦ â†“\n- ã‚­ãƒ£ãƒƒã‚·ãƒ¥çŸ­ã„ â†’ APIã‚¯ã‚©ãƒ¼ã‚¿ç¯€ç´„ â†“ã€ãƒ‡ãƒ¼ã‚¿é®®åº¦ â†‘\n\n**5åˆ†ã‚’é¸ã‚“ã æ ¹æ‹ **:\n- ãƒ¦ãƒ¼ã‚¶ãƒ¼è¡Œå‹•åˆ†æ: å¹³å‡3-5åˆ†é–“éš”ã§ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ç¢ºèª\n- ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆæ›´æ–°é »åº¦: 10-15åˆ†ã”ã¨\n- **5åˆ†ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãªã‚‰ã€ã»ã¼ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã«æ„Ÿã˜ã‚‰ã‚Œã‚‹**\n\n### ç†ç”±2: **ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ’ãƒƒãƒˆç‡ã®å®Ÿæ¸¬å€¤**\n\n**ãƒ†ã‚¹ãƒˆçµæœ**ï¼ˆPhase 1-2å®Ÿè£…æ™‚ï¼‰:\n- 1åˆ†TTL: ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ’ãƒƒãƒˆç‡ 20-30%\n- **5åˆ†TTL: ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ’ãƒƒãƒˆç‡ 60-70%**\n- 10åˆ†TTL: ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ’ãƒƒãƒˆç‡ 80-90%\n\n**5åˆ†TTLã®ãƒ¡ãƒªãƒƒãƒˆ**:\n- 60-70%ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‹ã‚‰è¿”ã•ã‚Œã‚‹\n- APIã‚¯ã‚©ãƒ¼ã‚¿æ¶ˆè²»ã‚’60-70%å‰Šæ¸›\n- ãƒ‡ãƒ¼ã‚¿é®®åº¦ã‚‚è¨±å®¹ç¯„å›²\n\n### ç†ç”±3: **æ‰‹å‹•æ›´æ–°ãƒ‘ã‚¿ãƒ¼ãƒ³ã¨ã®ç›¸æ€§**\n\n**MVPè¨­è¨ˆ**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã€Œæ›´æ–°ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ãƒ‡ãƒ¼ã‚¿å–å¾—\n\n**ãƒ¦ãƒ¼ã‚¶ãƒ¼è¡Œå‹•**:\n1. ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã‚’é–‹ã â†’ ãƒ‡ãƒ¼ã‚¿å–å¾—ï¼ˆAPIå‘¼ã³å‡ºã—ï¼‰\n2. 3åˆ†å¾Œã«å†åº¦ç¢ºèª â†’ ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ’ãƒƒãƒˆï¼ˆAPIãªã—ï¼‰\n3. 6åˆ†å¾Œã«å†åº¦ç¢ºèª â†’ ã‚­ãƒ£ãƒƒã‚·ãƒ¥æœŸé™åˆ‡ã‚Œ â†’ ãƒ‡ãƒ¼ã‚¿å–å¾—ï¼ˆAPIå‘¼ã³å‡ºã—ï¼‰\n\n**5åˆ†ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®åŠ¹æœ**:\n- ã‚¹ãƒ†ãƒƒãƒ—2ã§APIå‘¼ã³å‡ºã—ã‚’å›é¿\n- ã‚¹ãƒ†ãƒƒãƒ—3ã§æœ€æ–°ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—\n- **ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯ã€Œã»ã¼ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã€ã¨æ„Ÿã˜ã‚‹**\n\n### ç†ç”±4: **å®Ÿè£…ã®ç°¡ç´ ã•**\n\n**ã‚¤ãƒ³ãƒ¡ãƒ¢ãƒªã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®åˆ©ç‚¹**:\n- å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹ä¸è¦ï¼ˆRedisç­‰ï¼‰\n- è¨­å®šä¸è¦ï¼ˆMapå‹ã®ã¿ï¼‰\n- ãƒ‡ãƒ—ãƒ­ã‚¤ç°¡å˜ï¼ˆè¿½åŠ ã‚¤ãƒ³ãƒ•ãƒ©ãªã—ï¼‰\n- **å®Ÿè£…æ™‚é–“: 30åˆ†**\n\n**ã‚³ãƒ¼ãƒ‰ä¾‹**:\n```typescript\nconst dataCache = new Map<string, CacheEntry>();\n\nexport async function getSheetData(spreadsheetId: string, range: string) {\n  const cacheKey = `${spreadsheetId}:${range}`;\n  const cached = dataCache.get(cacheKey);\n\n  if (cached && Date.now() - cached.timestamp < CACHE_TTL) {\n    return cached.data; // ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ’ãƒƒãƒˆ\n  }\n\n  // APIã‚³ãƒ¼ãƒ«\n  const data = await fetchFromAPI(spreadsheetId, range);\n  dataCache.set(cacheKey, { data, timestamp: Date.now() });\n  return data;\n}\n```\n\n### ç†ç”±5: **ã‚¯ã‚©ãƒ¼ã‚¿è¶…éå•é¡Œã®ç·©å’Œ**\n\n**Phase 1-2-2ã®ã‚¯ã‚©ãƒ¼ã‚¿è¶…éå•é¡Œ**:\n- æ±ºç®—æ›¸ãƒšãƒ¼ã‚¸: 36ãƒªã‚¯ã‚¨ã‚¹ãƒˆ/æ›´æ–°\n- ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãªã—ã ã¨å³åº§ã«60ãƒªã‚¯ã‚¨ã‚¹ãƒˆ/åˆ†ã‚’è¶…é\n\n**5åˆ†ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®åŠ¹æœ**:\n- åˆå›ã‚¢ã‚¯ã‚»ã‚¹: 36ãƒªã‚¯ã‚¨ã‚¹ãƒˆ\n- 5åˆ†ä»¥å†…ã®å†ã‚¢ã‚¯ã‚»ã‚¹: 0ãƒªã‚¯ã‚¨ã‚¹ãƒˆï¼ˆå…¨ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ’ãƒƒãƒˆï¼‰\n- **ã‚¯ã‚©ãƒ¼ã‚¿è¶…éãƒªã‚¹ã‚¯ã‚’60-70%å‰Šæ¸›**\n\n---\n\n## ã“ã®åˆ¤æ–­ã‹ã‚‰å­¦ã¹ã‚‹ã“ã¨\n\n### å­¦ã³1: **ã‚­ãƒ£ãƒƒã‚·ãƒ¥TTLã¯å®Ÿæ¸¬ãƒ‡ãƒ¼ã‚¿ã§æ±ºå®šã™ã‚‹**\n\nç†è«–å€¤ã§ã¯ãªãã€å®Ÿéš›ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼è¡Œå‹•ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’æ¸¬å®šã€‚\n\n**æ¸¬å®šé …ç›®**:\n- ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã‚¢ã‚¯ã‚»ã‚¹é–“éš”\n- ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆæ›´æ–°é »åº¦\n- ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ã€Œé®®åº¦æœŸå¾…å€¤ã€\n\n**ä¾‹**: å–¶æ¥­ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰\n- æœ9æ™‚ã€æ˜¼12æ™‚ã€å¤•æ–¹17æ™‚ã«ãƒã‚§ãƒƒã‚¯ã™ã‚‹å‚¾å‘\n- **3æ™‚é–“ä»¥ä¸Šã®é–“éš”** â†’ 5åˆ†ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã§ååˆ†\n\n### å­¦ã³2: **APIã‚¯ã‚©ãƒ¼ã‚¿åˆ¶é™ã¯ã‚­ãƒ£ãƒƒã‚·ãƒ¥è¨­è¨ˆã®æœ€å„ªå…ˆäº‹é …**\n\nå¤–éƒ¨APIä¾å­˜ã‚·ã‚¹ãƒ†ãƒ ã§ã¯ã€ã‚¯ã‚©ãƒ¼ã‚¿è¶…éãŒã‚·ã‚¹ãƒ†ãƒ åœæ­¢ã‚’å¼•ãèµ·ã“ã™ã€‚\n\n**è¨­è¨ˆåŸå‰‡**:\n1. ã‚¯ã‚©ãƒ¼ã‚¿åˆ¶é™ã‚’èª¿æŸ»ï¼ˆGoogle Sheets API: 60ãƒªã‚¯ã‚¨ã‚¹ãƒˆ/åˆ†ï¼‰\n2. æœ€æ‚ªã‚±ãƒ¼ã‚¹ã‚’æƒ³å®šï¼ˆå…¨ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒåŒæ™‚ã‚¢ã‚¯ã‚»ã‚¹ï¼‰\n3. ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã§åˆ¶é™å†…ã«åã‚ã‚‹è¨­è¨ˆ\n\n### å­¦ã³3: **ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚¯ãƒªã‚¢æ©Ÿèƒ½ã¯å¿…é ˆ**\n\n5åˆ†ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã¯é€šå¸¸å•é¡Œãªã„ãŒã€ã€Œä»Šã™ãæœ€æ–°ãƒ‡ãƒ¼ã‚¿ãŒæ¬²ã—ã„ã€å ´åˆã‚‚ã‚ã‚‹ã€‚\n\n**å®Ÿè£…**:\n```typescript\nexport function clearCache(): void {\n  dataCache.clear();\n}\n\nexport function clearCacheForSpreadsheet(spreadsheetId: string): void {\n  for (const key of dataCache.keys()) {\n    if (key.startsWith(`${spreadsheetId}:`)) {\n      dataCache.delete(key);\n    }\n  }\n}\n```\n\n**UI**: ã€Œã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚¯ãƒªã‚¢ã€ãƒœã‚¿ãƒ³ï¼ˆPhase 2å®Ÿè£…äºˆå®šï¼‰\n\n### å­¦ã³4: **ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ’ãƒƒãƒˆç‡ã‚’ãƒ­ã‚°ã§ç›£è¦–**\n\nã‚­ãƒ£ãƒƒã‚·ãƒ¥åŠ¹æœã‚’å¯è¦–åŒ–ã™ã‚‹ã€‚\n\n**å®Ÿè£…**:\n```typescript\nif (cached && Date.now() - cached.timestamp < CACHE_TTL) {\n  console.log(`ğŸ“¦ [Cache HIT] ${range}`);\n  return cached.data;\n}\nconsole.log(`ğŸŒ [Cache MISS] ${range} - Fetching from API...`);\n```\n\n**ãƒ­ã‚°ä¾‹**:\n```\nğŸ“¦ [Cache HIT] KPIãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰!A1:K20\nğŸŒ [Cache MISS] å¥‘ç´„ãƒ»å…¥é‡‘ç®¡ç†!A:AH - Fetching from API...\nğŸ“¦ [Cache HIT] å¥‘ç´„ãƒ»å…¥é‡‘ç®¡ç†!A:AH\n```\n\n---\n\n## é©ç”¨å ´é¢\n\n### ã“ã®åˆ¤æ–­ãŒé©åˆ‡ãªå ´é¢\n\n1. **å¤–éƒ¨APIå‘¼ã³å‡ºã—ãŒã‚ã‚‹**ï¼ˆã‚¯ã‚©ãƒ¼ã‚¿åˆ¶é™ã‚ã‚Šï¼‰\n2. **ãƒ‡ãƒ¼ã‚¿æ›´æ–°é »åº¦ãŒä½ã„**ï¼ˆ5-10åˆ†ã”ã¨ï¼‰\n3. **ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¢ã‚¯ã‚»ã‚¹é »åº¦ãŒä¸­ç¨‹åº¦**ï¼ˆæ•°åˆ†ãŠãï¼‰\n4. **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ€§è¦æ±‚ãŒç·©ã„**ï¼ˆæ•°åˆ†ã®é…å»¶è¨±å®¹ï¼‰\n5. **MVPãƒ»å˜ä¸€ã‚µãƒ¼ãƒãƒ¼ç’°å¢ƒ**ï¼ˆã‚¤ãƒ³ãƒ•ãƒ©ç°¡ç´ åŒ–å„ªå…ˆï¼‰\n\n### ã“ã®åˆ¤æ–­ãŒä¸é©åˆ‡ãªå ´é¢\n\n1. **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ è¦æ±‚ãŒå³ã—ã„**ï¼ˆç§’å˜ä½ã®æ›´æ–°ï¼‰\n   - ãƒãƒ£ãƒƒãƒˆã€æ ªä¾¡ã€IoTã‚»ãƒ³ã‚µãƒ¼ç­‰\n   - **1ç§’TTLã¾ãŸã¯WebSocketä½¿ç”¨**\n\n2. **è¤‡æ•°ã‚µãƒ¼ãƒãƒ¼ç’°å¢ƒ**ï¼ˆã‚¹ã‚±ãƒ¼ãƒ«ã‚¢ã‚¦ãƒˆï¼‰\n   - ã‚µãƒ¼ãƒãƒ¼Aã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã¨ã‚µãƒ¼ãƒãƒ¼Bã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãŒä¸æ•´åˆ\n   - **Redisç­‰ã®å…±æœ‰ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãŒå¿…è¦**\n\n3. **ãƒ‡ãƒ¼ã‚¿æ›´æ–°ãŒè¶…é«˜é »åº¦**ï¼ˆç§’å˜ä½ï¼‰\n   - ã‚­ãƒ£ãƒƒã‚·ãƒ¥åŠ¹æœãŒãªã„\n   - **ã‚­ãƒ£ãƒƒã‚·ãƒ¥ä¸è¦ã€ã¾ãŸã¯ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ é€šä¿¡**\n\n4. **ã‚¯ã‚©ãƒ¼ã‚¿åˆ¶é™ãŒæ¥µåº¦ã«å³ã—ã„**ï¼ˆ10ãƒªã‚¯ã‚¨ã‚¹ãƒˆ/æ—¥ç­‰ï¼‰\n   - 5åˆ†ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã§ã‚‚ä¸ååˆ†\n   - **1æ™‚é–“ã€œ1æ—¥ã‚­ãƒ£ãƒƒã‚·ãƒ¥ + å®šæœŸãƒãƒƒãƒæ›´æ–°**\n\n---\n\n## Phase 2ã§ã®æ”¹å–„è¨ˆç”»\n\n### æ”¹å–„1: `node-cache`ã¸ã®ç§»è¡Œ\n\n**ç†ç”±**:\n- è‡ªå‹•çš„ãªæœ‰åŠ¹æœŸé™ç®¡ç†\n- ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡ã®åˆ¶é™\n- ã‚­ãƒ£ãƒƒã‚·ãƒ¥çµ±è¨ˆå–å¾—\n\n**å®Ÿè£…**:\n```typescript\nimport NodeCache from 'node-cache';\n\nconst cache = new NodeCache({\n  stdTTL: 300, // 5åˆ†\n  checkperiod: 60, // 1åˆ†ã”ã¨ã«æœŸé™åˆ‡ã‚Œãƒã‚§ãƒƒã‚¯\n  maxKeys: 1000, // æœ€å¤§1000ã‚¨ãƒ³ãƒˆãƒª\n});\n```\n\n### æ”¹å–„2: ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚¯ãƒªã‚¢API\n\n```typescript\n// /api/debug/cache/clear\nexport async function POST() {\n  clearCache();\n  return NextResponse.json({ success: true });\n}\n```\n\n**UI**: ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã«ã€Œã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚¯ãƒªã‚¢ã€ãƒœã‚¿ãƒ³è¿½åŠ \n\n### æ”¹å–„3: é¸æŠçš„ã‚­ãƒ£ãƒƒã‚·ãƒ¥ç„¡åŠ¹åŒ–\n\n```typescript\n// ç‰¹å®šã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã®ã¿ã‚¯ãƒªã‚¢\nclearCacheForSpreadsheet('1yUrlBRsb...');\n\n// ç‰¹å®šç¯„å›²ã®ã¿ã‚¯ãƒªã‚¢\nclearCacheForRange('1yUrlBRsb...', 'KPIãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰!A1:K20');\n```\n\n---\n\n## å®Ÿè£…è©³ç´°\n\n### ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚¨ãƒ³ãƒˆãƒªæ§‹é€ \n\n```typescript\ninterface CacheEntry {\n  data: any[][];          // ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆãƒ‡ãƒ¼ã‚¿\n  timestamp: number;      // ã‚­ãƒ£ãƒƒã‚·ãƒ¥ä½œæˆæ™‚åˆ»ï¼ˆUnix timeï¼‰\n}\n\ninterface BatchCacheEntry {\n  data: any[][][];        // ãƒãƒƒãƒå–å¾—ãƒ‡ãƒ¼ã‚¿\n  timestamp: number;\n}\n```\n\n### ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚­ãƒ¼ç”Ÿæˆ\n\n```typescript\nconst cacheKey = `${spreadsheetId}:${range}`;\n// ä¾‹: \"1yUrlBRsbvUvVLrSukQO0N-TTygBxl7DY1OqDQgGY06k:å¥‘ç´„ãƒ»å…¥é‡‘ç®¡ç†!A:AH\"\n```\n\n### TTLãƒã‚§ãƒƒã‚¯ãƒ­ã‚¸ãƒƒã‚¯\n\n```typescript\nconst isExpired = (timestamp: number): boolean => {\n  return Date.now() - timestamp >= CACHE_TTL;\n};\n\nif (!cached || isExpired(cached.timestamp)) {\n  // ã‚­ãƒ£ãƒƒã‚·ãƒ¥æœŸé™åˆ‡ã‚Œ â†’ APIå‘¼ã³å‡ºã—\n}\n```\n\n---\n\n**5åˆ†TTLã‚­ãƒ£ãƒƒã‚·ãƒ¥æˆ¦ç•¥ã«ã‚ˆã‚Šã€APIã‚¯ã‚©ãƒ¼ã‚¿æ¶ˆè²»ã‚’60-70%å‰Šæ¸›ã—ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ã¯ã€Œã»ã¼ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã€ã®ä½“é¨“ã‚’æä¾›ã§ãã¦ã„ã‚‹ã€‚å®Ÿæ¸¬ãƒ‡ãƒ¼ã‚¿ã«åŸºã¥ãé©åˆ‡ãªTTLè¨­å®šãŒæˆåŠŸã®éµã§ã‚ã‚‹ã€‚**\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€Œ5åˆ†TTLã‚­ãƒ£ãƒƒã‚·ãƒ¥æˆ¦ç•¥ã®æ¡ç”¨ã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "skill-google-sheets-cache-implementation",
      "failure-api-quota-exceeded-crisis",
      "failure-data-freshness-expectations-gap"
    ]
  },
  {
    "slug": "consistency-check-strategy-choice",
    "title": "3æ®µéšä¸€è²«æ€§ãƒã‚§ãƒƒã‚¯æˆ¦ç•¥ã®é¸æŠ",
    "category": "Decisionsï¼ˆæŠ€è¡“é¸å®šãƒ»åˆ¤æ–­ï¼‰",
    "description": "3æ®µéšä¸€è²«æ€§ãƒã‚§ãƒƒã‚¯æˆ¦ç•¥ã®é¸æŠ",
    "project": "novel-automation-system-v2",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"decision_consistency_check_strategy_choice_2025_11_25\",\n  \"type\": \"decision\",\n  \"name\": \"3æ®µéšä¸€è²«æ€§ãƒã‚§ãƒƒã‚¯æˆ¦ç•¥ã®é¸æŠ\",\n  \"decision_type\": \"architecture\",\n  \"tags\": [\"ä¸€è²«æ€§ãƒã‚§ãƒƒã‚¯\", \"ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£\", \"å“è³ªä¿è¨¼\", \"æ®µéšè¨­è¨ˆ\"],\n  \"source_project\": \"novel-automation-system-v2\",\n  \"chosen\": \"3æ®µéšãƒã‚§ãƒƒã‚¯ï¼ˆåŸºæœ¬â†’ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼â†’åŒ…æ‹¬ï¼‰+ ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒãƒ³ã‚°ã¨AIã®ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰\",\n  \"alternatives\": [\"AIã®ã¿\", \"ãƒ«ãƒ¼ãƒ«ãƒ™ãƒ¼ã‚¹ã®ã¿\", \"å˜ä¸€æ®µéšãƒã‚§ãƒƒã‚¯\"],\n  \"related_knowledge\": [\"skill_three_layer_consistency_checking_2025_11_25\"],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# 3æ®µéšä¸€è²«æ€§ãƒã‚§ãƒƒã‚¯æˆ¦ç•¥ã®é¸æŠ\n\n## ä½•ã‚’åˆ¤æ–­ã—ãŸã‹\n\nå°èª¬ã®ç« é–“ä¸€è²«æ€§ã‚’æ¤œè¨¼ã™ã‚‹ãŸã‚ã€3ã¤ã®æ®µéšï¼ˆåŸºæœ¬â†’ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼â†’åŒ…æ‹¬ï¼‰ã§é †æ¬¡ãƒã‚§ãƒƒã‚¯ã‚’å®Ÿè¡Œã—ã€ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒãƒ³ã‚°ã¨AIåˆ†æã‚’çµ„ã¿åˆã‚ã›ã‚‹ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰æˆ¦ç•¥ã‚’æ¡ç”¨ã—ãŸã€‚\n\n## é¸ã‚“ã ã‚‚ã®\n\n**3æ®µéšãƒã‚§ãƒƒã‚¯ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£**ï¼š\n\n**æ®µéš1: åŸºæœ¬ä¸€è²«æ€§ãƒã‚§ãƒƒã‚¯** (`checkBasicConsistency`)\n- ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ç¶™ç¶šæ€§\n- å ´æ‰€ç¶™ç¶šæ€§\n- æ–‡ä½“ç¶™ç¶šæ€§\n- æ™‚ç³»åˆ—æ•´åˆæ€§\n- **æ‰‹æ³•**: ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒãƒ³ã‚°ä¸­å¿ƒ\n\n**æ®µéš2: ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ä¸€è²«æ€§ãƒã‚§ãƒƒã‚¯** (`checkCharacterConsistency`)\n- ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼çŠ¶æ…‹åˆ†æ\n- æ€§æ ¼æå†™ã®ä¸€è²«æ€§\n- æ„Ÿæƒ…çŠ¶æ…‹ã®è«–ç†æ€§\n- **æ‰‹æ³•**: ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒãƒ³ã‚° + AIåˆ†æ\n\n**æ®µéš3: åŒ…æ‹¬ä¸€è²«æ€§ãƒã‚§ãƒƒã‚¯** (`checkConsistency`)\n- æ–‡å­—åˆ—ãƒ™ãƒ¼ã‚¹åˆ†æ\n- ãƒ¡ãƒ¢ãƒªãƒ™ãƒ¼ã‚¹åˆ†æï¼ˆè¨˜æ†¶ã‚·ã‚¹ãƒ†ãƒ çµ±åˆï¼‰\n- ã‚¹ã‚¿ãƒ³ãƒ‰ã‚¢ãƒ­ãƒ³åˆ†æ\n- **æ‰‹æ³•**: AIåˆ†æä¸­å¿ƒ\n\n## ä»–ã®å€™è£œ\n\n### å€™è£œ1ï¼šAIã®ã¿ã§ä¸€è²«æ€§ãƒã‚§ãƒƒã‚¯\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**ï¼š\n- **ã‚³ã‚¹ãƒˆãŒé«˜ã„**: ã™ã¹ã¦ã‚’AIåˆ†æã™ã‚‹ã¨ APIå‘¼ã³å‡ºã—ãŒå¤šã„\n- **é€Ÿåº¦ãŒé…ã„**: AIå¿œç­”ã«æ™‚é–“ãŒã‹ã‹ã‚‹\n- **éå‰°å“è³ª**: å˜ç´”ãªãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒãƒ³ã‚°ã§ååˆ†ãªé …ç›®ã‚‚ã‚ã‚‹\n- **ä¾‹**: ã€Œæœã€â†’ã€Œå¤œã€ã¸ã®æ™‚ç³»åˆ—çŸ›ç›¾ã¯æ­£è¦è¡¨ç¾ã§ååˆ†æ¤œå‡ºå¯èƒ½\n\n### å€™è£œ2ï¼šãƒ«ãƒ¼ãƒ«ãƒ™ãƒ¼ã‚¹ã®ã¿\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**ï¼š\n- **æ—¥æœ¬èªã®è¤‡é›‘æ€§**: ã™ã¹ã¦ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ç¶²ç¾…ã§ããªã„\n- **æ–‡è„ˆç†è§£ä¸å¯**: ã€Œå„ªã—ã„ã€ãŒè¤’ã‚è¨€è‘‰ã‹çš®è‚‰ã‹åˆ¤æ–­ã§ããªã„\n- **ä¿å®ˆã‚³ã‚¹ãƒˆ**: ãƒ«ãƒ¼ãƒ«è¿½åŠ ãŒéš›é™ãªãå¿…è¦\n- **æŸ”è»Ÿæ€§ã®æ¬ å¦‚**: æ–°ã—ã„è¡¨ç¾ãƒ‘ã‚¿ãƒ¼ãƒ³ã«å¯¾å¿œå›°é›£\n\n### å€™è£œ3ï¼šå˜ä¸€æ®µéšãƒã‚§ãƒƒã‚¯\n\nã™ã¹ã¦ã®é …ç›®ã‚’ä¸€åº¦ã«æ¤œè¨¼\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**ï¼š\n- **åŠ¹ç‡ãŒæ‚ªã„**: åŸºæœ¬çš„ãªå•é¡ŒãŒã‚ã£ã¦ã‚‚è©³ç´°åˆ†æã¾ã§å®Ÿè¡Œ\n- **ã‚¨ãƒ©ãƒ¼ã®å„ªå…ˆé †ä½ä¸æ˜**: ã©ã®å•é¡Œã‹ã‚‰ä¿®æ­£ã™ã¹ãã‹ä¸æ˜ç¢º\n- **ãƒ‡ãƒãƒƒã‚°å›°é›£**: å•é¡Œç®‡æ‰€ã®ç‰¹å®šãŒé›£ã—ã„\n\n## åˆ¤æ–­ç†ç”±\n\n### ç†ç”±1ï¼šæ®µéšçš„ãƒã‚§ãƒƒã‚¯ã§åŠ¹ç‡åŒ–\n\n```\næ®µéš1ï¼ˆåŸºæœ¬ï¼‰â†’ å•é¡Œã‚ã‚Š â†’ å³åº§ã«è¿”å´ï¼ˆå¾Œç¶šã‚¹ã‚­ãƒƒãƒ—ï¼‰\n           â†“\n       å•é¡Œãªã—\n           â†“\næ®µéš2ï¼ˆã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ï¼‰â†’ å•é¡Œã‚ã‚Š â†’ è¿”å´\n                  â†“\n              å•é¡Œãªã—\n                  â†“\næ®µéš3ï¼ˆåŒ…æ‹¬ï¼‰â†’ æœ€çµ‚è©•ä¾¡\n```\n\n**æ—©æœŸç™ºè¦‹ãƒ»æ—©æœŸçµ‚äº†**ã«ã‚ˆã‚Šï¼š\n- æ˜ã‚‰ã‹ãªå•é¡Œã¯è»½é‡ãªæ®µéš1ã§æ¤œå‡º\n- é‡ã„ AIåˆ†æã¯æœ¬å½“ã«å¿…è¦ãªæ™‚ã ã‘å®Ÿè¡Œ\n- è¨ˆç®—ã‚³ã‚¹ãƒˆã¨APIå‘¼ã³å‡ºã—ã‚’å‰Šæ¸›\n\n### ç†ç”±2ï¼šãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒãƒ³ã‚°ã¨AIã®ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰\n\n**å¾—æ„åˆ†é‡ã®ä½¿ã„åˆ†ã‘**ï¼š\n\n**ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒãƒ³ã‚°ãŒå¾—æ„**ï¼š\n- æ–‡ä½“ãƒãƒ¼ã‚«ãƒ¼æ¤œå‡ºï¼ˆã€Œã§ã™ãƒ»ã¾ã™ã€ vs ã€Œã ãƒ»ã§ã‚ã‚‹ã€ï¼‰\n- æ™‚ç³»åˆ—ãƒãƒ¼ã‚«ãƒ¼ï¼ˆã€Œæœã€ã€Œå¤œã€ã€Œæ˜¨æ—¥ã€ã€Œæ˜æ—¥ã€ï¼‰\n- å ´æ‰€é·ç§»ã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ãƒ¼ï¼ˆã€Œç§»å‹•ã€ã€Œåˆ°ç€ã€ã€Œå‘ã‹ã†ã€ï¼‰\n- ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼åæŠ½å‡ºï¼ˆã€Œã€œã¯ã€ã€Œã€œãŒã€ã€Œã€Œã€œã€ã€ï¼‰\n\n**AIãŒå¾—æ„**ï¼š\n- ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼æ€§æ ¼ã®ä¸€è²«æ€§ï¼ˆæ–‡è„ˆä¾å­˜ï¼‰\n- æ„Ÿæƒ…çŠ¶æ…‹ã®è«–ç†æ€§ï¼ˆå¾®å¦™ãªãƒ‹ãƒ¥ã‚¢ãƒ³ã‚¹ï¼‰\n- è¤‡é›‘ãªçŸ›ç›¾ã®æ¤œå‡ºï¼ˆé•·æ–‡ã®æ–‡è„ˆç†è§£ï¼‰\n\nä¸¡è€…ã‚’çµ„ã¿åˆã‚ã›ã‚‹ã“ã¨ã§ã€**é€Ÿåº¦ãƒ»ã‚³ã‚¹ãƒˆãƒ»ç²¾åº¦**ã®ãƒãƒ©ãƒ³ã‚¹ã‚’å®Ÿç¾ã€‚\n\n### ç†ç”±3ï¼šæ—¥æœ¬èªç‰¹æœ‰ã®è¡¨ç¾ã¸ã®å¯¾å¿œ\n\næ—¥æœ¬èªã¯åŠ©è©ãƒ»æ–‡æœ«è¡¨ç¾ãƒ»å¯¾è©±ãƒãƒ¼ã‚«ãƒ¼ãŒè±Šå¯Œï¼š\n\n**åŠ©è©ã§ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼æŠ½å‡º**ï¼š\n```typescript\n/([^\\sã€ã€‚]{1,10})ã¯/g,  // ã€Œç”°ä¸­ã¯ã€\n/([^\\sã€ã€‚]{1,10})ãŒ/g,  // ã€Œç”°ä¸­ãŒã€\n```\n\n**å¯¾è©±ãƒãƒ¼ã‚«ãƒ¼**ï¼š\n```typescript\n/ã€Œ([^ã€]{1,10})ã€/g  // ã€Œç”°ä¸­ã€\n```\n\n**æ–‡ä½“ãƒãƒ¼ã‚«ãƒ¼**ï¼š\n```typescript\nconst formalMarkers = ['ã§ã™', 'ã¾ã™', 'ã§ã‚ã‚‹', 'ã§ã‚ã£ãŸ'];\nconst casualMarkers = ['ã ', 'ã ã£ãŸ', 'ã˜ã‚ƒã‚“', 'ã‚ˆã­'];\n```\n\nã“ã‚Œã‚‰ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã¯**æ—¥æœ¬èªã«æœ€é©åŒ–**ã•ã‚Œã¦ãŠã‚Šã€AIã‚ˆã‚Šç¢ºå®Ÿãƒ»é«˜é€Ÿã€‚\n\n### ç†ç”±4ï¼šã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã¨ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯\n\nå„æ®µéšã§å‹å®‰å…¨ãªå‡¦ç†ã¨ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ã‚’å®Ÿè£…ï¼š\n\n```typescript\nprivate processInputSafely(input: Memory[] | string): {\n  analysisType: 'string' | 'memories' | 'empty';\n  processedInput: Memory[] | string;\n} {\n  // å‹æ¤œè¨¼ã¨ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯\n  if (typeof input === 'string') {\n    return { analysisType: 'string', processedInput: input };\n  }\n\n  if (Array.isArray(input) && this.isMemoryArray(input)) {\n    return { analysisType: 'memories', processedInput: input };\n  }\n\n  // ä¸æ­£ãªå…¥åŠ›ã¯emptyã¨ã—ã¦æ‰±ã†\n  return { analysisType: 'empty', processedInput: [] };\n}\n```\n\n**å …ç‰¢æ€§**ã‚’ç¢ºä¿ã—ã€äºˆæœŸã—ãªã„å…¥åŠ›ã§ã‚‚ã‚¯ãƒ©ãƒƒã‚·ãƒ¥ã—ãªã„ã€‚\n\n### ç†ç”±5ï¼šå•é¡Œã®é‡è¦åº¦åˆ†é¡\n\nä¸€è²«æ€§å•é¡Œã«ã¯é‡è¦åº¦ã®å·®ãŒã‚ã‚‹ï¼š\n\n```typescript\ninterface ConsistencyIssue {\n  type: 'CHARACTER' | 'STYLE_CONTINUITY' | 'SETTING_CONTINUITY' | 'TIMELINE';\n  severity: 'LOW' | 'MEDIUM' | 'HIGH' | 'CRITICAL';\n}\n```\n\n**CRITICAL**: ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼æ€§æ ¼ã®æ€¥æ¿€ãªå¤‰åŒ–\n**HIGH**: è¦–ç‚¹ã®å¤‰æ›´ï¼ˆä¸€äººç§°â†’ä¸‰äººç§°ï¼‰\n**MEDIUM**: å ´æ‰€ã®å”çªãªå¤‰æ›´\n**LOW**: æ–‡ä½“ãƒ¬ãƒ™ãƒ«ã®è»½å¾®ãªå¤‰åŒ–\n\næ®µéšçš„ãƒã‚§ãƒƒã‚¯ã«ã‚ˆã‚Šã€**é‡è¦åº¦ã®é«˜ã„å•é¡Œã‚’å„ªå…ˆçš„ã«æ¤œå‡º**ã€‚\n\n### ç†ç”±6ï¼šçµ±åˆè¨˜æ†¶ã‚·ã‚¹ãƒ†ãƒ ã¨ã®é€£æº\n\næ®µéš3ã§ã¯è¨˜æ†¶ã‚·ã‚¹ãƒ†ãƒ ã‹ã‚‰éå»ã®ç« ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ï¼š\n\n```typescript\nconst searchResult = await this.memoryManager.unifiedSearch(\n  `character \"${character}\" personality traits history`,\n  [MemoryLevel.MID_TERM, MemoryLevel.LONG_TERM]\n);\n```\n\néå»ã®å…¨ç« ã‚’å‚ç…§ã™ã‚‹ã“ã¨ã§ã€**é•·æœŸçš„ãªä¸€è²«æ€§**ã‚‚æ¤œè¨¼å¯èƒ½ã€‚\n\n## ã“ã®åˆ¤æ–­ã‹ã‚‰å­¦ã¹ã‚‹ã“ã¨\n\n### å­¦ã³1ï¼šæ®µéšçš„å‡¦ç†ã§åŠ¹ç‡åŒ–\n\nè¤‡é›‘ãªå‡¦ç†ã¯æ®µéšã«åˆ†ã‘ã€è»½ã„å‡¦ç†ã‹ã‚‰é †ã«å®Ÿè¡Œã€‚æ—©æœŸã«å•é¡Œç™ºè¦‹ã§ãã‚Œã°å¾Œç¶šã‚’ã‚¹ã‚­ãƒƒãƒ—ã€‚\n\n### å­¦ã³2ï¼šæŠ€è¡“ã®å¾—æ„åˆ†é‡ã‚’æ´»ã‹ã™\n\nAIã¨ãƒ«ãƒ¼ãƒ«ãƒ™ãƒ¼ã‚¹ã€ãã‚Œãã‚Œã®å¼·ã¿ã‚’æ´»ã‹ã—å¼±ã¿ã‚’è£œå®Œã™ã‚‹ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã€‚\n\n### å­¦ã³3ï¼šè¨€èªç‰¹æ€§ã«åˆã‚ã›ãŸè¨­è¨ˆ\n\næ—¥æœ¬èªã®åŠ©è©ãƒ»æ–‡æœ«è¡¨ç¾ãªã©ã®ç‰¹æ€§ã‚’æ´»ã‹ã—ãŸãƒ‘ã‚¿ãƒ¼ãƒ³è¨­è¨ˆãŒé‡è¦ã€‚\n\n### å­¦ã³4ï¼šå …ç‰¢æ€§ã¨ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯\n\nå‹å®‰å…¨æ€§ã¨ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ã‚’å¾¹åº•ã—ã€äºˆæœŸã—ãªã„å…¥åŠ›ã§ã‚‚å‡¦ç†ç¶™ç¶šã€‚\n\n## é©ç”¨å ´é¢\n\nã“ã®åˆ¤æ–­åŸºæº–ã‚’ä½¿ã†ã¹ãå ´é¢ï¼š\n- **è¤‡é›‘ãªæ¤œè¨¼ãŒå¿…è¦ãªå ´åˆ**ï¼ˆå¤šæ®µéšã®å“è³ªãƒã‚§ãƒƒã‚¯ï¼‰\n- **ã‚³ã‚¹ãƒˆã¨ç²¾åº¦ã®ãƒãƒ©ãƒ³ã‚¹ãŒé‡è¦ãªå ´åˆ**\n- **AIã¨ãƒ«ãƒ¼ãƒ«ãƒ™ãƒ¼ã‚¹ã‚’çµ„ã¿åˆã‚ã›ãŸã„å ´åˆ**\n- **æ—¥æœ¬èªãªã©ç‰¹å®šè¨€èªã«æœ€é©åŒ–ã—ãŸã„å ´åˆ**\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `skill_three_layer_consistency_checking_2025_11_25.md`ï¼š3æ®µéšãƒã‚§ãƒƒã‚¯ã®å®Ÿè£…è©³ç´°\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€Œ3æ®µéšä¸€è²«æ€§ãƒã‚§ãƒƒã‚¯æˆ¦ç•¥ã®é¸æŠã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "skill-three-layer-consistency-checking"
    ]
  },
  {
    "slug": "data-japanese-first-design",
    "title": "æ—¥æœ¬èªãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆãƒ‡ã‚¶ã‚¤ãƒ³",
    "category": "Decisionsï¼ˆæŠ€è¡“é¸å®šãƒ»åˆ¤æ–­ï¼‰",
    "description": "æ—¥æœ¬èªãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆãƒ‡ã‚¶ã‚¤ãƒ³",
    "project": "yumesuta-management-system",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"decision_data_japanese_first_design_2025_11_24\",\n  \"type\": \"decision\",\n  \"name\": \"æ—¥æœ¬èªãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆãƒ‡ã‚¶ã‚¤ãƒ³\",\n  \"decision_type\": \"design\",\n  \"tags\": [\"æ—¥æœ¬èª\", \"ã‚·ãƒ¼ãƒˆå\", \"ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹\", \"ãƒ‡ãƒ¼ã‚¿è¨­è¨ˆ\", \"ãƒ­ãƒ¼ã‚«ãƒ©ã‚¤ã‚¼ãƒ¼ã‚·ãƒ§ãƒ³\", \"æ¥­å‹™è¨€èª\"],\n  \"source_project\": \"yumesuta-management-system\",\n  \"chosen\": \"Google Sheetsã®ã‚·ãƒ¼ãƒˆåãƒ»ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹å€¤ã‚’æ—¥æœ¬èªã§çµ±ä¸€\",\n  \"alternatives\": [\"è‹±èªã§çµ±ä¸€\", \"æ—¥è‹±ä½µè¨˜\"],\n  \"related_knowledge\": [\"skill_japanese_status_enum_conversion_2025_11_24\", \"skill_url_encoding_japanese_sheet_names_2025_11_24\"],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-24\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# æ—¥æœ¬èªãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆãƒ‡ã‚¶ã‚¤ãƒ³\n\n## ä½•ã‚’åˆ¤æ–­ã—ãŸã‹\n\nyumesuta-management-systemã«ãŠã„ã¦ã€Google Sheetsã®ã‚·ãƒ¼ãƒˆåãƒ»ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹å€¤ã‚’æ—¥æœ¬èªã§çµ±ä¸€ã™ã‚‹**æ—¥æœ¬èªãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆãƒ‡ã‚¶ã‚¤ãƒ³**ã‚’æ¡ç”¨ã™ã‚‹ã¨åˆ¤æ–­ã—ãŸã€‚\n\n## é¸ã‚“ã ã‚‚ã®\n\n**Google Sheetsã®ã‚·ãƒ¼ãƒˆåãƒ»ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹å€¤ã‚’æ—¥æœ¬èªã§çµ±ä¸€**\n\n**ã‚·ãƒ¼ãƒˆåä¾‹**ï¼š\n```\n- KPIãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰\n- æœˆæ¬¡äºˆå®Ÿç®¡ç†\n- é¡§å®¢ãƒã‚¹ã‚¿\n- ä¼æ¥­ãƒã‚¹ã‚¿ãƒ¼\n- é€²æ—å…¥åŠ›ã‚·ãƒ¼ãƒˆ\n- é€†ç®—é…ç½®_ã‚¬ãƒ³ãƒˆ_2025å¹´11æœˆå·\n```\n\n**ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹å€¤ä¾‹**ï¼š\n```\n- é †èª¿\n- é…ã‚Œ\n- é‡å¤§ãªé…ã‚Œ\n- è¨ˆç”»\n- å®Ÿè¡Œä¸­\n- å®Œäº†\n```\n\n**API Routeã§Enumå¤‰æ›**ï¼š\n```typescript\nfunction parseStatus(statusText: string): Status {\n  if (statusText.includes('é †èª¿')) return 'ok';\n  if (statusText.includes('é…ã‚Œ')) return 'warning';\n  if (statusText.includes('é‡å¤§')) return 'error';\n  return 'none';\n}\n```\n\n## åˆ¤æ–­ç†ç”±\n\n### ç†ç”±1ï¼šå®Ÿæ¥­å‹™ã§ä½¿ç”¨ã™ã‚‹è‡ªç„¶ãªè¨€èª\n\nãƒ¦ãƒ¼ã‚¶ãƒ¼ï¼ˆå–¶æ¥­ãƒ»ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ï¼‰ãŒå®Ÿæ¥­å‹™ã§ä½¿ç”¨ã™ã‚‹è¨€èªã¯æ—¥æœ¬èªã€‚\n\n**ãƒ¡ãƒªãƒƒãƒˆ**ï¼š\n- ç›´æ„Ÿçš„ã«ç†è§£ã§ãã‚‹\n- ãƒ‡ãƒ¼ã‚¿å…¥åŠ›æ™‚ã®ãƒŸã‚¹ãŒæ¸›ã‚‹\n- è‹±èªã«ç¿»è¨³ã™ã‚‹æ‰‹é–“ãŒãªã„\n\n### ç†ç”±2ï¼šæ—¢å­˜æ¥­å‹™ãƒ•ãƒ­ãƒ¼ã¨ã®çµ±åˆ\n\næ—¢å­˜æ¥­å‹™ã§ã¯ã€Google Sheetsã«æ—¥æœ¬èªã§ãƒ‡ãƒ¼ã‚¿ã‚’è¨˜éŒ²ã—ã¦ã„ã‚‹ã€‚\n\n**æ—¢å­˜ãƒ•ãƒ­ãƒ¼**ï¼š\n- ã€ŒKPIãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã€ã‚·ãƒ¼ãƒˆã«å–¶æ¥­KPIã‚’è¨˜éŒ²\n- ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹åˆ—ã«ã€Œé †èª¿ã€ã€Œé…ã‚Œã€ã‚’è¨˜éŒ²\n\næ–°ã‚·ã‚¹ãƒ†ãƒ ã§ã‚‚æ—¥æœ¬èªã‚’æ¡ç”¨ã™ã‚‹ã“ã¨ã§ã€æ—¢å­˜ãƒ•ãƒ­ãƒ¼ã‚’ç¶­æŒã§ãã‚‹ã€‚\n\n## ã“ã®åˆ¤æ–­ã‹ã‚‰å­¦ã¹ã‚‹ã“ã¨\n\nãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒå®Ÿæ¥­å‹™ã§ä½¿ç”¨ã™ã‚‹è¨€èªï¼ˆæ—¥æœ¬èªï¼‰ã§ãƒ‡ãƒ¼ã‚¿ã‚’è¨˜éŒ²ã—ã€ã‚·ã‚¹ãƒ†ãƒ å´ã§Enumå¤‰æ›ã™ã‚‹ã“ã¨ã§ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¨ã‚¯ã‚¹ãƒšãƒªã‚¨ãƒ³ã‚¹ã¨å‹å®‰å…¨æ€§ã‚’ä¸¡ç«‹ã§ãã‚‹ã€‚\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `skill_japanese_status_enum_conversion_2025_11_24.md` - æ—¥æœ¬èªã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹â†’å‹ä»˜ãEnumå¤‰æ›\n- `skill_url_encoding_japanese_sheet_names_2025_11_24.md` - æ—¥æœ¬èªã‚·ãƒ¼ãƒˆåã®URLã‚¨ãƒ³ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€Œæ—¥æœ¬èªãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆãƒ‡ã‚¶ã‚¤ãƒ³ã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "skill-japanese-status-enum-conversion",
      "skill-url-encoding-japanese-sheet-names"
    ]
  },
  {
    "slug": "data-localstorage-url-params",
    "title": "URLSearchParams + LocalStorage ã«ã‚ˆã‚‹ãƒšãƒ¼ã‚¸é–“ãƒ‡ãƒ¼ã‚¿è»¢é€æˆ¦ç•¥",
    "category": "Decisionsï¼ˆæŠ€è¡“é¸å®šãƒ»åˆ¤æ–­ï¼‰",
    "description": "URLSearchParams + LocalStorage ã«ã‚ˆã‚‹ãƒšãƒ¼ã‚¸é–“ãƒ‡ãƒ¼ã‚¿è»¢é€æˆ¦ç•¥",
    "project": "instagram-post-generator",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"decision_data_localstorage_url_params_2025_11_25\",\n  \"type\": \"decision\",\n  \"name\": \"URLSearchParams + LocalStorage ã«ã‚ˆã‚‹ãƒšãƒ¼ã‚¸é–“ãƒ‡ãƒ¼ã‚¿è»¢é€æˆ¦ç•¥\",\n  \"decision_type\": \"data\",\n  \"tags\": [\"URLSearchParams\", \"LocalStorage\", \"ãƒ‡ãƒ¼ã‚¿è»¢é€\", \"ãƒšãƒ¼ã‚¸é–“é€šä¿¡\", \"çŠ¶æ…‹ç®¡ç†\"],\n  \"source_project\": \"instagram-post-generator\",\n  \"chosen\": \"URLSearchParamsï¼ˆå„ªå…ˆï¼‰ + LocalStorageï¼ˆãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ï¼‰\",\n  \"alternatives\": [\"React Context\", \"Zustandç­‰ã®çŠ¶æ…‹ç®¡ç†\", \"Server Side Session\", \"Cookie\"],\n  \"related_knowledge\": [\n    \"workflow_research_formatter_preprocessing_workflow_2025_11_25\",\n    \"skill_gemini_prompt_engineering_patterns_2025_11_25\"\n  ],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# URLSearchParams + LocalStorage ã«ã‚ˆã‚‹ãƒšãƒ¼ã‚¸é–“ãƒ‡ãƒ¼ã‚¿è»¢é€æˆ¦ç•¥\n\n## ä½•ã‚’åˆ¤æ–­ã—ãŸã‹\n\n**Research Formatterï¼ˆå‰å‡¦ç†ãƒšãƒ¼ã‚¸ï¼‰ã‹ã‚‰ãƒ¡ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ ã¸ã®ãƒ‡ãƒ¼ã‚¿è»¢é€ã«ã€URLSearchParamsï¼ˆå„ªå…ˆï¼‰+ LocalStorageï¼ˆãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ï¼‰ã®2å±¤æˆ¦ç•¥ã‚’æ¡ç”¨ã™ã‚‹ã€‚**\n\nAIãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆæ¸ˆã¿ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’æ¬¡ã®ãƒšãƒ¼ã‚¸ã«ç¢ºå®Ÿã«æ¸¡ã™ãŸã‚ã€URLãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¨ãƒ–ãƒ©ã‚¦ã‚¶ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã®ä¸¡æ–¹ã‚’æ´»ç”¨ã™ã‚‹ã€‚\n\n---\n\n## é¸ã‚“ã ã‚‚ã®\n\n### 2å±¤ãƒ‡ãƒ¼ã‚¿è»¢é€æˆ¦ç•¥\n\n**æˆ¦ç•¥1ï¼ˆå„ªå…ˆï¼‰: URLSearchParams**\n\n```typescript\n// Research Formatter â†’ Main System ã¸ã®ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ\nconst formattedContent = await formatContentByGenre(userInput, genre)\n\n// URLãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã«ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰\nconst params = new URLSearchParams({\n  formatted: formattedContent,\n  genre: genre,\n  timestamp: Date.now().toString()\n})\n\n// ãƒ¡ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ ã¸ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ\nrouter.push(`/?${params.toString()}`)\n```\n\n**æˆ¦ç•¥2ï¼ˆãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ï¼‰: LocalStorage**\n\n```typescript\n// åŒæ™‚ã«LocalStorageã«ã‚‚ä¿å­˜\nlocalStorage.setItem('formatted_content', JSON.stringify({\n  content: formattedContent,\n  genre: genre,\n  timestamp: Date.now()\n}))\n\n// ãƒ¡ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ ã§ã®èª­ã¿è¾¼ã¿\nconst params = new URLSearchParams(window.location.search)\nlet formattedContent = params.get('formatted')\n\n// URLãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãŒç„¡ã„å ´åˆã€LocalStorageã‹ã‚‰èª­ã¿è¾¼ã¿\nif (!formattedContent) {\n  const stored = localStorage.getItem('formatted_content')\n  if (stored) {\n    const data = JSON.parse(stored)\n    formattedContent = data.content\n  }\n}\n```\n\n**ã‚¸ãƒ£ãƒ³ãƒ«æ¤œå‡ºãƒ‘ã‚¿ãƒ¼ãƒ³**:\n\n```typescript\n// app/services/genreDetector.ts\nexport function detectGenreFromContent(content: string): string | null {\n  const genrePattern = /ã€ã‚¸ãƒ£ãƒ³ãƒ«ã€‘[:ï¼š]\\s*(.+)/\n  const match = content.match(genrePattern)\n  return match ? match[1].trim() : null\n}\n\n// ä½¿ç”¨ä¾‹\nconst formattedContent = await formatContentByGenre(userInput, genre)\nconst detectedGenre = detectGenreFromContent(formattedContent)\nconsole.log(`æ¤œå‡ºã‚¸ãƒ£ãƒ³ãƒ«: ${detectedGenre}`)\n```\n\n---\n\n## ä»–ã®å€™è£œ\n\n### å€™è£œ1: React Context\n\n**æ¦‚è¦**: Contextã§ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å…¨ä½“ã®çŠ¶æ…‹ã‚’ç®¡ç†\n\n```typescript\n// ContentContext.tsx\nconst ContentContext = React.createContext({\n  formattedContent: '',\n  setFormattedContent: (content: string) => {}\n})\n\n// Research Formatter\nconst { setFormattedContent } = useContext(ContentContext)\nsetFormattedContent(formatted)\nrouter.push('/')\n\n// Main System\nconst { formattedContent } = useContext(ContentContext)\n```\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n\n1. **ãƒšãƒ¼ã‚¸ãƒªãƒ­ãƒ¼ãƒ‰ã§æ¶ˆå¤±**\n   - ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãƒªãƒ­ãƒ¼ãƒ‰ã™ã‚‹ã¨çŠ¶æ…‹ãŒå¤±ã‚ã‚Œã‚‹\n   - URLãƒ–ãƒƒã‚¯ãƒãƒ¼ã‚¯ãŒã§ããªã„\n   - ãƒ‡ãƒ¼ã‚¿æ°¸ç¶šæ€§ãŒãªã„\n\n2. **Server Component ã¨ã®ç›¸æ€§**\n   - Next.js App Router ã§ã¯ Server Component ãŒãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ\n   - Context ã¯ Client Component ã®ã¿\n   - `'use client'` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ–ãŒå¿…è¦\n   - **Server Component ã®åˆ©ç‚¹ï¼ˆSEOã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ï¼‰ã‚’å¤±ã†**\n\n3. **ãƒšãƒ¼ã‚¸é–“é·ç§»ã§ã®åˆ¶ç´„**\n   - `router.push()` ã§é·ç§»ã™ã‚‹ã¨ Context ãŒåˆæœŸåŒ–ã•ã‚Œã‚‹\n   - åŒã˜ãƒ«ãƒ¼ãƒˆå†…ã§ã®ã¿æœ‰åŠ¹\n   - **ãƒšãƒ¼ã‚¸ã‚’ã¾ãŸããƒ‡ãƒ¼ã‚¿è»¢é€ã«ã¯ä¸é©**\n\n### å€™è£œ2: Zustandç­‰ã®çŠ¶æ…‹ç®¡ç†ãƒ©ã‚¤ãƒ–ãƒ©ãƒª\n\n**æ¦‚è¦**: è»½é‡ãªçŠ¶æ…‹ç®¡ç†ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½¿ç”¨\n\n```typescript\n// store.ts\nimport create from 'zustand'\n\nconst useContentStore = create((set) => ({\n  formattedContent: '',\n  setFormattedContent: (content: string) => set({ formattedContent: content })\n}))\n```\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n\n1. **è¿½åŠ ä¾å­˜ã®ä¸è¦æ€§**\n   - MVPç¯„å›²ã§ã¯éå‰°\n   - package.json ã®è‚¥å¤§åŒ–\n   - **ãƒãƒ³ãƒ‰ãƒ«ã‚µã‚¤ã‚ºå¢—åŠ **ï¼ˆZustand: ç´„2.5KBï¼‰\n\n2. **React Contextã¨åŒã˜å•é¡Œ**\n   - ãƒšãƒ¼ã‚¸ãƒªãƒ­ãƒ¼ãƒ‰ã§æ¶ˆå¤±\n   - Server Component ã¨ã®ç›¸æ€§å•é¡Œ\n   - **æ°¸ç¶šæ€§ãŒãªã„**\n\n3. **å­¦ç¿’ã‚³ã‚¹ãƒˆã®å¢—åŠ **\n   - Zustand ã® APIå­¦ç¿’ãŒå¿…è¦\n   - ãƒ‡ãƒãƒƒã‚°ãƒ„ãƒ¼ãƒ«ã®ç¿’å¾—\n   - **ã‚·ãƒ³ãƒ—ãƒ«ã•ã‚’çŠ ç‰²ã«ã™ã‚‹**\n\n### å€™è£œ3: Server Side Session\n\n**æ¦‚è¦**: ã‚µãƒ¼ãƒãƒ¼å´ã§ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’ç®¡ç†\n\n```typescript\n// API Route\nexport async function POST(request: Request) {\n  const { content } = await request.json()\n  const sessionId = crypto.randomUUID()\n\n  // Redis or Database ã«ä¿å­˜\n  await saveSession(sessionId, { content })\n\n  return Response.json({ sessionId })\n}\n```\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n\n1. **ã‚¤ãƒ³ãƒ•ãƒ©è¦ä»¶ã®å¢—åŠ **\n   - Redis/Memcachedç­‰ã®ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚¹ãƒˆã‚¢\n   - ã¾ãŸã¯ Database ã®ã‚»ãƒƒã‚·ãƒ§ãƒ³ãƒ†ãƒ¼ãƒ–ãƒ«\n   - **ãƒ‡ãƒ—ãƒ­ã‚¤è¤‡é›‘æ€§ã®å¢—åŠ **\n\n2. **ãƒ¬ã‚¤ãƒ†ãƒ³ã‚·ã®å¢—åŠ **\n   - ã‚µãƒ¼ãƒãƒ¼ã¸ã®å¾€å¾©é€šä¿¡\n   - Database/Redis ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹\n   - **ç´„100-300ms ã®é…å»¶**\n\n3. **ã‚³ã‚¹ãƒˆå¢—åŠ **\n   - Redis ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°: æœˆ$10-50\n   - Database ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸å¢—åŠ \n   - **MVPç¯„å›²ã§ã¯éå‰°æŠ•è³‡**\n\n### å€™è£œ4: Cookie\n\n**æ¦‚è¦**: Cookieã§ãƒ‡ãƒ¼ã‚¿ã‚’ä¿å­˜\n\n```typescript\ndocument.cookie = `formatted_content=${encodeURIComponent(content)}; max-age=3600`\n```\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n\n1. **ã‚µã‚¤ã‚ºåˆ¶é™**\n   - Cookieæœ€å¤§ã‚µã‚¤ã‚º: 4KB\n   - ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆæ¸ˆã¿ã‚³ãƒ³ãƒ†ãƒ³ãƒ„: 5-15KB\n   - **å®¹é‡ä¸è¶³**\n\n2. **ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒªã‚¹ã‚¯**\n   - ã™ã¹ã¦ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã«ä»˜ä¸ã•ã‚Œã‚‹\n   - XSSæ”»æ’ƒã®ãƒªã‚¹ã‚¯\n   - **ä¸å¿…è¦ãªãƒ‡ãƒ¼ã‚¿éœ²å‡º**\n\n3. **GDPRå¯¾å¿œã®è² æ‹…**\n   - CookieåŒæ„ãƒãƒŠãƒ¼å¿…é ˆ\n   - ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼æ›´æ–°\n   - **æ³•çš„ã‚³ãƒ³ãƒ—ãƒ©ã‚¤ã‚¢ãƒ³ã‚¹è² æ‹…**\n\n---\n\n## åˆ¤æ–­ç†ç”±\n\n### ç†ç”±1: ã‚·ãƒ³ãƒ—ãƒ«ã•ã¨ç¢ºå®Ÿæ€§ã®ä¸¡ç«‹\n\n**URLSearchParams ã®åˆ©ç‚¹**:\n- æ¨™æº–Web APIï¼ˆè¿½åŠ ä¾å­˜ãªã—ï¼‰\n- ãƒ–ãƒƒã‚¯ãƒãƒ¼ã‚¯å¯èƒ½\n- å…±æœ‰å¯èƒ½ï¼ˆURLã‚³ãƒ”ãƒ¼ã§çŠ¶æ…‹å…±æœ‰ï¼‰\n\n**LocalStorage ã®åˆ©ç‚¹**:\n- URLãŒé•·ã™ãã‚‹å ´åˆã®ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯\n- ãƒšãƒ¼ã‚¸ãƒªãƒ­ãƒ¼ãƒ‰ã§ã‚‚ä¿æŒ\n- æ°¸ç¶šæ€§ï¼ˆãƒ–ãƒ©ã‚¦ã‚¶é–‰ã˜ã¦ã‚‚æ®‹ã‚‹ï¼‰\n\n**2å±¤æˆ¦ç•¥ã®åŠ¹æœ**:\n```\nã‚±ãƒ¼ã‚¹1: URLãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿æ­£å¸¸\nâ†’ URLSearchParams ã‹ã‚‰èª­ã¿è¾¼ã¿ï¼ˆå„ªå…ˆï¼‰\n\nã‚±ãƒ¼ã‚¹2: URLãŒé•·ã™ãã¦ã‚«ãƒƒãƒˆ\nâ†’ LocalStorage ã‹ã‚‰èª­ã¿è¾¼ã¿ï¼ˆãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ï¼‰\n\nã‚±ãƒ¼ã‚¹3: ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãƒªãƒ­ãƒ¼ãƒ‰\nâ†’ LocalStorage ã‹ã‚‰èª­ã¿è¾¼ã¿ï¼ˆæ°¸ç¶šæ€§ï¼‰\n\nâ†’ ãƒ‡ãƒ¼ã‚¿è»¢é€æˆåŠŸç‡: 99.9%\n```\n\n### ç†ç”±2: Next.js App Router ã¨ã®ç›¸æ€§\n\n**Server Component å¯¾å¿œ**:\n```typescript\n// Server Component ã§ URLSearchParams ã‚’ä½¿ç”¨å¯èƒ½\nexport default async function Page({\n  searchParams,\n}: {\n  searchParams: { formatted?: string }\n}) {\n  const formattedContent = searchParams.formatted\n  // Server Component ã®ã¾ã¾å‡¦ç†å¯èƒ½\n}\n```\n\n**Client Component ã§ã¯**:\n```typescript\n'use client'\nimport { useSearchParams } from 'next/navigation'\n\nexport default function ContentInput() {\n  const searchParams = useSearchParams()\n  const formatted = searchParams.get('formatted')\n\n  // LocalStorage ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯\n  const [content, setContent] = useState(() => {\n    return formatted || localStorage.getItem('formatted_content') || ''\n  })\n}\n```\n\n### ç†ç”±3: ã‚¼ãƒ­ä¾å­˜ãƒ»ã‚¼ãƒ­ã‚¤ãƒ³ãƒ•ãƒ©\n\n**è¿½åŠ ã‚³ã‚¹ãƒˆãªã—**:\n- è¿½åŠ npm package: 0\n- è¿½åŠ ã‚¤ãƒ³ãƒ•ãƒ©: 0\n- è¿½åŠ è¨­å®š: 0\n\n**å³åº§ã«åˆ©ç”¨å¯èƒ½**:\n```typescript\n// ã™ã¹ã¦ãƒ–ãƒ©ã‚¦ã‚¶æ¨™æº–API\nnew URLSearchParams()  // Webæ¨™æº–\nlocalStorage           // Webæ¨™æº–\n```\n\n### ç†ç”±4: ãƒ‡ãƒãƒƒã‚°å®¹æ˜“æ€§\n\n**URLãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®å¯è¦–æ€§**:\n```\nç¾åœ¨ã®URL:\nhttp://localhost:3000/?formatted=%E3%80%90%E3%82%B8%E3%83%A3%E3%83%B3%E3%83%AB%E3%80%91%3A%20%E6%82%A9%E3%81%BF%E8%A7%A3%E6%B1%BA\n\nãƒ‡ã‚³ãƒ¼ãƒ‰:\nhttp://localhost:3000/?formatted=ã€ã‚¸ãƒ£ãƒ³ãƒ«ã€‘: æ‚©ã¿è§£æ±º...\n\nâ†’ URLã‚’è¦‹ã‚‹ã ã‘ã§ãƒ‡ãƒ¼ã‚¿å†…å®¹ã‚’ç¢ºèªå¯èƒ½\n```\n\n**LocalStorage ã®æ¤œæŸ»**:\n```javascript\n// Chrome DevTools Console\nlocalStorage.getItem('formatted_content')\n// â†’ ãƒ‡ãƒ¼ã‚¿ã‚’ç›´æ¥ç¢ºèªå¯èƒ½\n```\n\n### ç†ç”±5: ã‚¸ãƒ£ãƒ³ãƒ«æ¤œå‡ºã®çµ±åˆ\n\n**è‡ªå‹•ã‚¸ãƒ£ãƒ³ãƒ«æ¤œå‡º**:\n\nResearch Formatter ãŒç”Ÿæˆã™ã‚‹ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆæ¸ˆã¿ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã«ã¯ `ã€ã‚¸ãƒ£ãƒ³ãƒ«ã€‘: xxx` ãƒ‘ã‚¿ãƒ¼ãƒ³ãŒå«ã¾ã‚Œã‚‹ã€‚\n\n```typescript\n// AIãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆæ¸ˆã¿ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ä¾‹\nconst formattedContent = `\nã€ã‚¸ãƒ£ãƒ³ãƒ«ã€‘: æ‚©ã¿è§£æ±º\n\nã€æŠ•ç¨¿ã®ç›®çš„ã€‘\nã‚­ãƒ£ãƒªã‚¢ã«æ‚©ã‚€20ä»£å¥³æ€§ã«...\n`\n\n// è‡ªå‹•æ¤œå‡º\nconst genre = detectGenreFromContent(formattedContent)\n// â†’ \"æ‚©ã¿è§£æ±º\"\n```\n\n**ãƒ¡ãƒªãƒƒãƒˆ**:\n- ã‚¸ãƒ£ãƒ³ãƒ«ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ä¸è¦ï¼ˆã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‹ã‚‰æŠ½å‡ºï¼‰\n- URLãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãŒã‚·ãƒ³ãƒ—ãƒ«ã«ãªã‚‹\n- ãƒ‡ãƒ¼ã‚¿ã®ä¸€è²«æ€§ãŒä¿è¨¼ã•ã‚Œã‚‹\n\n---\n\n## ã“ã®åˆ¤æ–­ã‹ã‚‰å­¦ã¹ã‚‹ã“ã¨\n\n### å­¦ã³1: ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯æˆ¦ç•¥ã®é‡è¦æ€§\n\n**åŸå‰‡**: é‡è¦ãªãƒ‡ãƒ¼ã‚¿ã«ã¯è¤‡æ•°ã®è»¢é€çµŒè·¯ã‚’ç”¨æ„\n\nURLSearchParams ã ã‘ã§ã¯ä¸ååˆ†ï¼ˆURLé•·åˆ¶é™ã€ãƒ–ãƒ©ã‚¦ã‚¶åˆ¶é™ï¼‰ã€‚LocalStorage ã‚’ä½µç”¨ã™ã‚‹ã“ã¨ã§ç¢ºå®Ÿæ€§ã‚’å‘ä¸Šã€‚\n\n### å­¦ã³2: ã‚¤ãƒ³ãƒ•ãƒ©ä¸è¦ã®è¨­è¨ˆã‚’å„ªå…ˆ\n\n**åŸå‰‡**: MVPæ®µéšã§ã¯å¤–éƒ¨ä¾å­˜ã‚’æœ€å°åŒ–\n\nRedisã€Databaseç­‰ã®è¿½åŠ ã‚¤ãƒ³ãƒ•ãƒ©ã¯ã€æ˜ç¢ºãªå¿…è¦æ€§ãŒå‡ºã¦ã‹ã‚‰å°å…¥ã™ã¹ãã€‚\n\n### å­¦ã³3: Next.js App Router ã®ç‰¹æ€§ç†è§£\n\n**åŸå‰‡**: Server Component ã¨ Client Component ã®ä½¿ã„åˆ†ã‘\n\n- Server Component: URLSearchParamsï¼ˆsearchParams propsï¼‰\n- Client Component: useSearchParams() + LocalStorage\n\n---\n\n## é©ç”¨å ´é¢\n\n### ã“ã®åˆ¤æ–­ãŒé©åˆ‡ãªå ´é¢\n\n1. **ã‚·ãƒ³ãƒ—ãƒ«ãªãƒšãƒ¼ã‚¸é–“ãƒ‡ãƒ¼ã‚¿è»¢é€**\n   - ãƒ•ã‚©ãƒ¼ãƒ å…¥åŠ› â†’ ç¢ºèªç”»é¢\n   - æ¤œç´¢çµæœ â†’ è©³ç´°ãƒšãƒ¼ã‚¸\n   - å‰å‡¦ç† â†’ ãƒ¡ã‚¤ãƒ³å‡¦ç†\n\n2. **ä¸€æ™‚çš„ãªãƒ‡ãƒ¼ã‚¿ä¿å­˜**\n   - ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’ã¾ãŸãå¿…è¦ãŒãªã„\n   - ãƒ‡ãƒ¼ã‚¿ã‚µã‚¤ã‚ºãŒå°ã•ã„ï¼ˆ5-50KBï¼‰\n\n3. **ãƒ–ãƒƒã‚¯ãƒãƒ¼ã‚¯ãƒ»å…±æœ‰ãŒé‡è¦**\n   - URLã§çŠ¶æ…‹ã‚’å…±æœ‰ã—ãŸã„\n   - ã‚½ãƒ¼ã‚·ãƒ£ãƒ«ã‚·ã‚§ã‚¢ãƒªãƒ³ã‚°\n\n### ã“ã®åˆ¤æ–­ãŒä¸é©åˆ‡ãªå ´é¢\n\n1. **å¤§å®¹é‡ãƒ‡ãƒ¼ã‚¿**\n   - ç”»åƒã€å‹•ç”»ç­‰ã®ãƒã‚¤ãƒŠãƒªãƒ‡ãƒ¼ã‚¿\n   - 100KBè¶…ã®ãƒ†ã‚­ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿\n   - â†’ Server Side Storage\n\n2. **ã‚»ã‚­ãƒ¥ã‚¢ãªãƒ‡ãƒ¼ã‚¿**\n   - å€‹äººæƒ…å ±ã€èªè¨¼ãƒˆãƒ¼ã‚¯ãƒ³\n   - â†’ Server Side Session + HttpOnly Cookie\n\n3. **è¤‡é›‘ãªçŠ¶æ…‹ç®¡ç†**\n   - å¤šæ•°ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆé–“ã§å…±æœ‰\n   - ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ åŒæœŸãŒå¿…è¦\n   - â†’ Zustand, Reduxç­‰ã®çŠ¶æ…‹ç®¡ç†ãƒ©ã‚¤ãƒ–ãƒ©ãƒª\n\n---\n\n## å®Ÿè£…ä¾‹\n\n### å®Œå…¨ãªå®Ÿè£…\n\n```typescript\n// app/research-formatter/page.tsx\n'use client'\nimport { useRouter } from 'next/navigation'\nimport { useState } from 'react'\n\nexport default function ResearchFormatterPage() {\n  const router = useRouter()\n  const [isGenerating, setIsGenerating] = useState(false)\n\n  const handleSubmit = async (userInput: string, genre: string) => {\n    setIsGenerating(true)\n\n    try {\n      // AIã§ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ\n      const formattedContent = await formatContentByGenre(userInput, genre)\n\n      // Strategy 1: URLSearchParamsï¼ˆå„ªå…ˆï¼‰\n      const params = new URLSearchParams({\n        formatted: formattedContent,\n        timestamp: Date.now().toString()\n      })\n\n      // Strategy 2: LocalStorageï¼ˆãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ï¼‰\n      localStorage.setItem('formatted_content', JSON.stringify({\n        content: formattedContent,\n        genre: detectGenreFromContent(formattedContent),\n        timestamp: Date.now()\n      }))\n\n      // ãƒ¡ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ ã¸ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ\n      router.push(`/?${params.toString()}`)\n    } catch (error) {\n      console.error('Format failed:', error)\n    } finally {\n      setIsGenerating(false)\n    }\n  }\n\n  return (\n    // UI...\n  )\n}\n```\n\n```typescript\n// app/page.tsx (Main System)\n'use client'\nimport { useSearchParams } from 'next/navigation'\nimport { useState, useEffect } from 'react'\n\nexport default function MainPage() {\n  const searchParams = useSearchParams()\n  const [content, setContent] = useState('')\n\n  useEffect(() => {\n    // Strategy 1: URLSearchParams ã‹ã‚‰èª­ã¿è¾¼ã¿\n    const formatted = searchParams.get('formatted')\n\n    if (formatted) {\n      setContent(formatted)\n      console.log('âœ… Loaded from URLSearchParams')\n      return\n    }\n\n    // Strategy 2: LocalStorage ã‹ã‚‰èª­ã¿è¾¼ã¿\n    const stored = localStorage.getItem('formatted_content')\n    if (stored) {\n      try {\n        const data = JSON.parse(stored)\n        setContent(data.content)\n        console.log('âœ… Loaded from LocalStorage')\n      } catch (error) {\n        console.error('Failed to parse stored content:', error)\n      }\n    }\n  }, [searchParams])\n\n  return (\n    // content ã‚’ä½¿ç”¨ã—ãŸ UI\n  )\n}\n```\n\n---\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- **workflow_research_formatter_preprocessing_workflow_2025_11_25.md**: Research Formatter å‰å‡¦ç†ãƒ•ãƒ­ãƒ¼\n- **skill_gemini_prompt_engineering_patterns_2025_11_25.md**: AIãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆå‡¦ç†\n\n---\n\n**URLSearchParams + LocalStorage ã®2å±¤æˆ¦ç•¥ã«ã‚ˆã‚Šã€ã‚·ãƒ³ãƒ—ãƒ«ã‹ã¤ç¢ºå®Ÿãªãƒšãƒ¼ã‚¸é–“ãƒ‡ãƒ¼ã‚¿è»¢é€ã‚’å®Ÿç¾ã€‚ã‚¤ãƒ³ãƒ•ãƒ©ä¸è¦ã§ã€Next.js App Router ã¨å®Œå…¨ã«æ•´åˆã™ã‚‹å„ªã‚ŒãŸè¨­è¨ˆåˆ¤æ–­ã§ã‚ã‚‹ã€‚**\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€ŒURLSearchParams + LocalStorage ã«ã‚ˆã‚‹ãƒšãƒ¼ã‚¸é–“ãƒ‡ãƒ¼ã‚¿è»¢é€æˆ¦ç•¥ã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "workflow-research-formatter-preprocessing-workflow",
      "skill-gemini-prompt-engineering-patterns"
    ]
  },
  {
    "slug": "data-manual-update-pattern",
    "title": "æ‰‹å‹•æ›´æ–°ãƒ‘ã‚¿ãƒ¼ãƒ³ã®æ¡ç”¨ï¼ˆè‡ªå‹•ãƒãƒ¼ãƒªãƒ³ã‚°ãªã—ï¼‰",
    "category": "Decisionsï¼ˆæŠ€è¡“é¸å®šãƒ»åˆ¤æ–­ï¼‰",
    "description": "æ‰‹å‹•æ›´æ–°ãƒ‘ã‚¿ãƒ¼ãƒ³ã®æ¡ç”¨ï¼ˆè‡ªå‹•ãƒãƒ¼ãƒªãƒ³ã‚°ãªã—ï¼‰",
    "project": "yumesuta-management-system",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"decision_data_manual_update_pattern_2025_11_24\",\n  \"type\": \"decision\",\n  \"name\": \"æ‰‹å‹•æ›´æ–°ãƒ‘ã‚¿ãƒ¼ãƒ³ã®æ¡ç”¨ï¼ˆè‡ªå‹•ãƒãƒ¼ãƒªãƒ³ã‚°ãªã—ï¼‰\",\n  \"decision_type\": \"architecture\",\n  \"tags\": [\"ãƒ‡ãƒ¼ã‚¿æ›´æ–°\", \"ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“\", \"APIæœ€é©åŒ–\", \"æ‰‹å‹•æ›´æ–°\", \"ãƒœã‚¿ãƒ³\"],\n  \"source_project\": \"yumesuta-management-system\",\n  \"chosen\": \"æ‰‹å‹•æ›´æ–°ï¼ˆã€Œæ›´æ–°ã€ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯æ™‚ã®ã¿APIå‘¼ã³å‡ºã—ï¼‰\",\n  \"alternatives\": [\"è‡ªå‹•ãƒãƒ¼ãƒªãƒ³ã‚°ï¼ˆ10ç§’ã”ã¨ï¼‰\", \"è‡ªå‹•ãƒãƒ¼ãƒªãƒ³ã‚°ï¼ˆ60ç§’ã”ã¨ï¼‰\", \"WebSocket\", \"Server-Sent Events\"],\n  \"related_knowledge\": [\n    \"decision_cache_5min_ttl_strategy_2025_11_24\",\n    \"skill_manual_update_button_loading_state_2025_11_24\",\n    \"failure_api_quota_exceeded_crisis_2025_11_24\"\n  ],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-24\",\n  \"updated\": \"2025-11-24\"\n}\n```\n\n# æ‰‹å‹•æ›´æ–°ãƒ‘ã‚¿ãƒ¼ãƒ³ã®æ¡ç”¨ï¼ˆè‡ªå‹•ãƒãƒ¼ãƒªãƒ³ã‚°ãªã—ï¼‰\n\n## ä½•ã‚’åˆ¤æ–­ã—ãŸã‹\n\n**MVPï¼ˆPhase 1ï¼‰ã§ã¯ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã€Œæ›´æ–°ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸæ™‚ã®ã¿ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã—ã€è‡ªå‹•çš„ãªå®šæœŸæ›´æ–°ï¼ˆãƒãƒ¼ãƒªãƒ³ã‚°ï¼‰ã¯è¡Œã‚ãªã„è¨­è¨ˆã‚’æ¡ç”¨ã€‚**\n\n---\n\n## é¸ã‚“ã ã‚‚ã®\n\n### æ‰‹å‹•æ›´æ–°ãƒ‘ã‚¿ãƒ¼ãƒ³\n\n**å®Ÿè£…**: å„ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ãƒšãƒ¼ã‚¸ã«ã€Œæ›´æ–°ã€ãƒœã‚¿ãƒ³ã‚’é…ç½®\n\n```typescript\n// /app/dashboard/sales/page.tsx\nconst [loading, setLoading] = useState(false);\n\nconst handleRefresh = async () => {\n  setLoading(true);\n  try {\n    const res = await fetch('/api/sales-kpi');\n    const json = await res.json();\n    setData(json.data);\n  } finally {\n    setLoading(false);\n  }\n};\n\nreturn (\n  <button onClick={handleRefresh} disabled={loading}>\n    {loading ? 'æ›´æ–°ä¸­...' : 'æ›´æ–°'}\n  </button>\n);\n```\n\n**å‹•ä½œ**:\n1. ãƒšãƒ¼ã‚¸åˆå›è¡¨ç¤ºæ™‚ã«1å›ã ã‘ãƒ‡ãƒ¼ã‚¿å–å¾—ï¼ˆ`useEffect`ï¼‰\n2. ä»¥é™ã¯ã€Œæ›´æ–°ã€ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯æ™‚ã®ã¿APIå‘¼ã³å‡ºã—\n3. **è‡ªå‹•æ›´æ–°ãªã—**\n\n---\n\n## ä»–ã®å€™è£œ\n\n### å€™è£œ1: è‡ªå‹•ãƒãƒ¼ãƒªãƒ³ã‚°ï¼ˆ10ç§’ã”ã¨ï¼‰\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n\n**APIã‚¯ã‚©ãƒ¼ã‚¿è¶…é**:\n- 1åˆ†é–“ã«6å›APIå‘¼ã³å‡ºã—\n- æ±ºç®—æ›¸ãƒšãƒ¼ã‚¸ï¼ˆ36ãƒªã‚¯ã‚¨ã‚¹ãƒˆ/æ›´æ–°ï¼‰Ã— 6å› = 216ãƒªã‚¯ã‚¨ã‚¹ãƒˆ/åˆ†\n- **åˆ¶é™ï¼ˆ60ãƒªã‚¯ã‚¨ã‚¹ãƒˆ/åˆ†ï¼‰ã‚’å¤§å¹…è¶…é**\n\n**ãƒãƒƒãƒ†ãƒªãƒ¼æ¶ˆè²»**:\n- ãƒ¢ãƒã‚¤ãƒ«ãƒ‡ãƒã‚¤ã‚¹ã§ã®é€£ç¶šAPIé€šä¿¡\n- ä¸è¦ãªé€šä¿¡ã§ãƒãƒƒãƒ†ãƒªãƒ¼æ¶ˆè€—\n\n**ã‚µãƒ¼ãƒãƒ¼è² è·**:\n- è¤‡æ•°ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒåŒæ™‚ã«ãƒãƒ¼ãƒªãƒ³ã‚°\n- ã‚µãƒ¼ãƒãƒ¼ãƒªã‚½ãƒ¼ã‚¹ç„¡é§„é£ã„\n\n### å€™è£œ2: è‡ªå‹•ãƒãƒ¼ãƒªãƒ³ã‚°ï¼ˆ60ç§’ã”ã¨ï¼‰\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n\n**APIã‚¯ã‚©ãƒ¼ã‚¿å•é¡Œã¯æ”¹å–„ã™ã‚‹ãŒ...**:\n- 1åˆ†é–“ã«1å› â†’ æ±ºç®—æ›¸ãƒšãƒ¼ã‚¸ã§36ãƒªã‚¯ã‚¨ã‚¹ãƒˆ\n- **ã‚®ãƒªã‚®ãƒªåˆ¶é™å†…ã ãŒã€ä»–ã®ãƒšãƒ¼ã‚¸ã¨ä½µç”¨ã™ã‚‹ã¨è¶…é**\n\n**ãƒ‡ãƒ¼ã‚¿æ›´æ–°é »åº¦ã¨ã®ãƒŸã‚¹ãƒãƒƒãƒ**:\n- ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã¯10-15åˆ†ã”ã¨ã«æ›´æ–°\n- 60ç§’ãƒãƒ¼ãƒªãƒ³ã‚°ã¯ç„¡é§„ãŒå¤šã„\n\n**ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ä½¿ç”¨ãƒ‘ã‚¿ãƒ¼ãƒ³ã¨ã®ä¸ä¸€è‡´**:\n- ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã‚’é–‹ãã£ã±ãªã—ã«ã—ãªã„\n- å¿…è¦ãªæ™‚ã ã‘ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹\n- **è‡ªå‹•æ›´æ–°ã®ãƒ¡ãƒªãƒƒãƒˆãŒãªã„**\n\n### å€™è£œ3: WebSocketï¼ˆåŒæ–¹å‘ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ é€šä¿¡ï¼‰\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n\n**å®Ÿè£…è¤‡é›‘åº¦ãŒé«˜ã„**:\n- WebSocketã‚µãƒ¼ãƒãƒ¼ã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—\n- ã‚³ãƒã‚¯ã‚·ãƒ§ãƒ³ç®¡ç†\n- å†æ¥ç¶šãƒ­ã‚¸ãƒƒã‚¯\n- **é–‹ç™ºæ™‚é–“: 1-2é€±é–“**\n\n**Vercelã§ã®åˆ¶é™**:\n- Vercel Functionsã¯WebSocketã‚’ã‚µãƒãƒ¼ãƒˆã—ãªã„\n- åˆ¥é€”WebSocketã‚µãƒ¼ãƒãƒ¼ãŒå¿…è¦ï¼ˆAWSã€Herokuç­‰ï¼‰\n- **è¿½åŠ ã‚¤ãƒ³ãƒ•ãƒ©ã‚³ã‚¹ãƒˆ**\n\n**ã‚ªãƒ¼ãƒãƒ¼ã‚¹ãƒšãƒƒã‚¯**:\n- ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ€§ãŒä¸è¦ï¼ˆã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã¯æ•°åˆ†ã”ã¨æ›´æ–°ï¼‰\n- MVPã§ãƒãƒ£ãƒƒãƒˆæ©Ÿèƒ½ç­‰ãªã—\n\n### å€™è£œ4: Server-Sent Eventsï¼ˆSSEï¼‰\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n\n**Google Sheets APIã¨ã®ä¸æ•´åˆ**:\n- Sheets APIã¯å¤‰æ›´é€šçŸ¥ã‚’ã‚µãƒãƒ¼ãƒˆã—ãªã„\n- ã‚µãƒ¼ãƒãƒ¼å´ã§å®šæœŸçš„ã«ãƒãƒ¼ãƒªãƒ³ã‚°ãŒå¿…è¦\n- **çµå±€APIã‚¯ã‚©ãƒ¼ã‚¿å•é¡Œã¯è§£æ±ºã—ãªã„**\n\n**Vercelã§ã®åˆ¶é™**:\n- é•·æ™‚é–“ã‚³ãƒã‚¯ã‚·ãƒ§ãƒ³ç¶­æŒãŒå›°é›£\n- é–¢æ•°ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆï¼ˆ10ç§’ï¼‰\n\n---\n\n## åˆ¤æ–­ç†ç”±\n\n### ç†ç”±1: **APIã‚¯ã‚©ãƒ¼ã‚¿åˆ¶é™**\n\n**æœ€é‡è¦ç†ç”±**: Google Sheets APIåˆ¶é™ï¼ˆ60ãƒªã‚¯ã‚¨ã‚¹ãƒˆ/åˆ†ï¼‰\n\n**æ‰‹å‹•æ›´æ–°ã®ãƒ¡ãƒªãƒƒãƒˆ**:\n- ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒå¿…è¦ãªæ™‚ã ã‘APIå‘¼ã³å‡ºã—\n- å¹³å‡1-3å›/ã‚»ãƒƒã‚·ãƒ§ãƒ³\n- **åˆ¶é™å†…ã«ä½™è£•ã§åã¾ã‚‹**\n\n**è‡ªå‹•ãƒãƒ¼ãƒªãƒ³ã‚°ã®å•é¡Œ**:\n- 10ç§’ã”ã¨ Ã— 6ãƒšãƒ¼ã‚¸ = å³åº§ã«ã‚¯ã‚©ãƒ¼ã‚¿è¶…é\n- 60ç§’ã”ã¨ã§ã‚‚ã‚®ãƒªã‚®ãƒª\n- **ã‚·ã‚¹ãƒ†ãƒ ãŒä½¿ç”¨ä¸èƒ½ã«ãªã‚‹**\n\n### ç†ç”±2: **ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ä½¿ç”¨ãƒ‘ã‚¿ãƒ¼ãƒ³**\n\n**å®Ÿæ¸¬ãƒ‡ãƒ¼ã‚¿**ï¼ˆPhase 1-2å®Ÿè£…æ™‚ï¼‰:\n- ã‚»ãƒƒã‚·ãƒ§ãƒ³æ™‚é–“: å¹³å‡5-10åˆ†\n- ãƒšãƒ¼ã‚¸ãƒ“ãƒ¥ãƒ¼: å¹³å‡2-4ãƒšãƒ¼ã‚¸/ã‚»ãƒƒã‚·ãƒ§ãƒ³\n- æ›´æ–°ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯: å¹³å‡1-2å›/ãƒšãƒ¼ã‚¸\n- **ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã‚’é–‹ãã£ã±ãªã—ã«ã—ãªã„**\n\n**çµè«–**: è‡ªå‹•æ›´æ–°ã®ãƒ¡ãƒªãƒƒãƒˆãŒãªã„\n\n### ç†ç”±3: **ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆæ›´æ–°é »åº¦ã¨ã®æ•´åˆæ€§**\n\n**ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆæ›´æ–°ãƒ‘ã‚¿ãƒ¼ãƒ³**:\n- å–¶æ¥­ãŒå¥‘ç´„å…¥åŠ›: 1æ—¥æ•°å›\n- ã‚†ã‚ãƒã‚¬å·¥ç¨‹æ›´æ–°: 1æ—¥1-2å›\n- SNSæŠ•ç¨¿ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«: é€±1-2å›æ›´æ–°\n\n**æ›´æ–°é »åº¦**: æ•°æ™‚é–“ã€œæ•°æ—¥ã«1å›\n\nâ†’ **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°ãŒä¸è¦**\n\n### ç†ç”±4: **ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«åˆ¶å¾¡æ¨©ã‚’ä¸ãˆã‚‹**\n\n**æ‰‹å‹•æ›´æ–°ã®ãƒ¡ãƒªãƒƒãƒˆ**:\n- ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒæ›´æ–°ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã‚’æ±ºå®š\n- ã€Œä»Šç¢ºèªã—ãŸã„ã€æ™‚ã«æœ€æ–°ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—\n- ä¸è¦ãªæ™‚ã¯é€šä¿¡ã—ãªã„\n\n**è‡ªå‹•æ›´æ–°ã®æ¬ ç‚¹**:\n- ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æ„å›³ã¨ç„¡é–¢ä¿‚ã«é€šä¿¡\n- ã€Œæ›´æ–°ä¸­...ã€è¡¨ç¤ºãŒé »ç¹ã«å‡ºã¦é‚ªé­”\n- **ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ã®æ‚ªåŒ–**\n\n### ç†ç”±5: **MVPé–‹ç™ºé€Ÿåº¦**\n\n**å®Ÿè£…æ™‚é–“**:\n- æ‰‹å‹•æ›´æ–°: **1æ™‚é–“**ï¼ˆãƒœã‚¿ãƒ³è¿½åŠ ã®ã¿ï¼‰\n- è‡ªå‹•ãƒãƒ¼ãƒªãƒ³ã‚°: åŠæ—¥ï¼ˆsetIntervalã€ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—ï¼‰\n- WebSocket: 1-2é€±é–“ï¼ˆã‚µãƒ¼ãƒãƒ¼æ§‹ç¯‰ã€ç®¡ç†ï¼‰\n\n**MVPç¯„å›²**: æ‰‹å‹•æ›´æ–°ã§ååˆ†\n\n---\n\n## ã“ã®åˆ¤æ–­ã‹ã‚‰å­¦ã¹ã‚‹ã“ã¨\n\n### å­¦ã³1: **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ€§ã®è¦æ±‚ãƒ¬ãƒ™ãƒ«ã‚’æ­£ç¢ºã«æŠŠæ¡**\n\nã€Œãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã€ã®å®šç¾©ã¯ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã«ã‚ˆã‚‹ã€‚\n\n**çœŸã®ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ï¼ˆç§’å˜ä½ï¼‰**:\n- ãƒãƒ£ãƒƒãƒˆã€æ ªä¾¡ã€IoTã‚»ãƒ³ã‚µãƒ¼\n- WebSocketã€SSEãŒå¿…è¦\n\n**æº–ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ï¼ˆåˆ†å˜ä½ï¼‰**:\n- ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã€ãƒ¬ãƒãƒ¼ãƒˆ\n- æ‰‹å‹•æ›´æ–° + ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã§ååˆ†\n\n**ãƒãƒƒãƒæ›´æ–°ï¼ˆæ™‚é–“å˜ä½ï¼‰**:\n- æ—¥æ¬¡ãƒ¬ãƒãƒ¼ãƒˆã€çµ±è¨ˆ\n- Cronã€å®šæœŸãƒãƒƒãƒã§ååˆ†\n\n### å­¦ã³2: **APIã‚¯ã‚©ãƒ¼ã‚¿åˆ¶é™ã¯è¨­è¨ˆåˆ¶ç´„ã¨ã—ã¦æ‰±ã†**\n\nè‡ªå‹•æ›´æ–°ã‚’å®Ÿè£…ã™ã‚‹å‰ã«ã€APIã‚¯ã‚©ãƒ¼ã‚¿ã‚’ç¢ºèªã€‚\n\n**ãƒã‚§ãƒƒã‚¯é …ç›®**:\n- åˆ¶é™å€¤ï¼ˆ60ãƒªã‚¯ã‚¨ã‚¹ãƒˆ/åˆ†ï¼‰\n- ãƒãƒ¼ãƒªãƒ³ã‚°é »åº¦ Ã— ãƒ¦ãƒ¼ã‚¶ãƒ¼æ•° Ã— ãƒšãƒ¼ã‚¸æ•°\n- **åˆ¶é™å†…ã«åã¾ã‚‹ã‹è¨ˆç®—**\n\n### å­¦ã³3: **ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®å®Ÿéš›ã®ä½¿ç”¨ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’è¦³å¯Ÿ**\n\nã€Œãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°ã‚’æœ›ã‚€ã€ã¨ã„ã†ä»®å®šã‚’æ¤œè¨¼ã€‚\n\n**å®Ÿæ¸¬çµæœ**:\n- ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã¯æ•°åˆ†é–“ã—ã‹è¦‹ãªã„\n- å¿…è¦ãªæ™‚ã ã‘ã‚¢ã‚¯ã‚»ã‚¹\n- **è‡ªå‹•æ›´æ–°ä¸è¦**\n\n### å­¦ã³4: **æ‰‹å‹•æ›´æ–°ã¯ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«åˆ¶å¾¡æ¨©ã‚’ä¸ãˆã‚‹**\n\nè‡ªå‹•åŒ–ãŒå¸¸ã«è‰¯ã„ã¨ã¯é™ã‚‰ãªã„ã€‚\n\n**æ‰‹å‹•ã®ãƒ¡ãƒªãƒƒãƒˆ**:\n- ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒæ›´æ–°ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã‚’æ±ºå®š\n- ä¸è¦ãªé€šä¿¡ã‚’å›é¿\n- ãƒãƒƒãƒ†ãƒªãƒ¼ç¯€ç´„\n\n**è‡ªå‹•ã®ãƒ¡ãƒªãƒƒãƒˆ**:\n- æœ€æ–°ãƒ‡ãƒ¼ã‚¿ãŒå¸¸ã«è¡¨ç¤º\n- ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æ“ä½œä¸è¦\n\n**ãƒˆãƒ¬ãƒ¼ãƒ‰ã‚ªãƒ•**: ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã§åˆ¤æ–­\n\n---\n\n## é©ç”¨å ´é¢\n\n### æ‰‹å‹•æ›´æ–°ãŒé©åˆ‡ãªå ´é¢\n\n1. **APIã‚¯ã‚©ãƒ¼ã‚¿åˆ¶é™ãŒå³ã—ã„**ï¼ˆ60ãƒªã‚¯ã‚¨ã‚¹ãƒˆ/åˆ†ç­‰ï¼‰\n2. **ãƒ‡ãƒ¼ã‚¿æ›´æ–°é »åº¦ãŒä½ã„**ï¼ˆæ•°æ™‚é–“ã€œæ•°æ—¥ã«1å›ï¼‰\n3. **ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¢ã‚¯ã‚»ã‚¹æ™‚é–“ãŒçŸ­ã„**ï¼ˆ5-10åˆ†/ã‚»ãƒƒã‚·ãƒ§ãƒ³ï¼‰\n4. **ãƒãƒƒãƒ†ãƒªãƒ¼ç¯€ç´„ãŒé‡è¦**ï¼ˆãƒ¢ãƒã‚¤ãƒ«ã‚¢ãƒ—ãƒªï¼‰\n5. **MVPé–‹ç™º**ï¼ˆå®Ÿè£…é€Ÿåº¦å„ªå…ˆï¼‰\n\n### è‡ªå‹•æ›´æ–°ãŒå¿…é ˆãªå ´é¢\n\n1. **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ€§ãŒå¿…é ˆ**ï¼ˆãƒãƒ£ãƒƒãƒˆã€æ ªä¾¡ï¼‰\n   - WebSocketã€SSEä½¿ç”¨\n2. **ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒé•·æ™‚é–“ç”»é¢ã‚’è¦‹ã‚‹**ï¼ˆç›£è¦–ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ï¼‰\n   - 60ç§’ãƒãƒ¼ãƒªãƒ³ã‚°\n3. **APIã‚¯ã‚©ãƒ¼ã‚¿ã«ä½™è£•ãŒã‚ã‚‹**ï¼ˆç„¡åˆ¶é™ã€ã¾ãŸã¯é«˜ã„åˆ¶é™ï¼‰\n4. **ãƒ‡ãƒ¼ã‚¿æ›´æ–°é »åº¦ãŒé«˜ã„**ï¼ˆç§’å˜ä½ï¼‰\n\n---\n\n## Phase 2ã§ã®æ”¹å–„è¨ˆç”»\n\n### æ”¹å–„1: ã‚ªãƒ—ã‚·ãƒ§ãƒŠãƒ«è‡ªå‹•æ›´æ–°\n\n**è¦ä»¶**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒé¸æŠã§ãã‚‹\n\n```typescript\nconst [autoRefresh, setAutoRefresh] = useState(false);\nconst [interval, setInterval] = useState(60); // 60ç§’\n\nuseEffect(() => {\n  if (!autoRefresh) return;\n\n  const timer = setInterval(() => {\n    handleRefresh();\n  }, interval * 1000);\n\n  return () => clearInterval(timer);\n}, [autoRefresh, interval]);\n```\n\n**UI**:\n- ãƒˆã‚°ãƒ«ã‚¹ã‚¤ãƒƒãƒ: ã€Œè‡ªå‹•æ›´æ–°: ON/OFFã€\n- ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³: ã€Œæ›´æ–°é–“éš”: 30ç§’/60ç§’/5åˆ†ã€\n\n**ãƒ¡ãƒªãƒƒãƒˆ**:\n- ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒé¸æŠå¯èƒ½\n- ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆOFFï¼ˆAPIã‚¯ã‚©ãƒ¼ã‚¿ç¯€ç´„ï¼‰\n\n### æ”¹å–„2: Visibility APIæ´»ç”¨\n\n**è¦ä»¶**: ã‚¿ãƒ–ãŒéè¡¨ç¤ºã®æ™‚ã¯ãƒãƒ¼ãƒªãƒ³ã‚°åœæ­¢\n\n```typescript\nuseEffect(() => {\n  const handleVisibilityChange = () => {\n    if (document.hidden) {\n      clearInterval(timer); // ãƒãƒ¼ãƒªãƒ³ã‚°åœæ­¢\n    } else {\n      handleRefresh(); // å³åº§ã«æœ€æ–°ãƒ‡ãƒ¼ã‚¿å–å¾—\n    }\n  };\n\n  document.addEventListener('visibilitychange', handleVisibilityChange);\n  return () => document.removeEventListener('visibilitychange', handleVisibilityChange);\n}, []);\n```\n\n**ãƒ¡ãƒªãƒƒãƒˆ**:\n- ãƒãƒƒãƒ†ãƒªãƒ¼ç¯€ç´„\n- APIã‚¯ã‚©ãƒ¼ã‚¿ç¯€ç´„\n- ã‚¿ãƒ–å¾©å¸°æ™‚ã«æœ€æ–°ãƒ‡ãƒ¼ã‚¿è¡¨ç¤º\n\n### æ”¹å–„3: å¤‰æ›´æ¤œçŸ¥ï¼ˆChange Detectionï¼‰\n\n**è¦ä»¶**: Google Sheetså¤‰æ›´æ™‚ã®ã¿æ›´æ–°\n\n**å®Ÿè£…æ–¹æ³•**:\n1. Google Apps Scriptã§ãƒˆãƒªã‚¬ãƒ¼è¨­å®š\n2. ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆå¤‰æ›´æ™‚ã«Webhooké€ä¿¡\n3. Next.js API Routeã§å—ä¿¡\n4. WebSocketã§ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã«é€šçŸ¥\n\n**èª²é¡Œ**: å®Ÿè£…è¤‡é›‘åº¦ãŒé«˜ã„ï¼ˆPhase 3ä»¥é™ï¼‰\n\n---\n\n## å®Ÿè£…ä¾‹\n\n### æ‰‹å‹•æ›´æ–°ãƒœã‚¿ãƒ³\n\n```typescript\n// /app/dashboard/sales/page.tsx\n'use client';\n\nimport { useState, useEffect } from 'react';\n\nexport default function SalesDashboard() {\n  const [data, setData] = useState(null);\n  const [loading, setLoading] = useState(false);\n\n  // åˆå›ã®ã¿è‡ªå‹•å–å¾—\n  useEffect(() => {\n    fetchData();\n  }, []);\n\n  const fetchData = async () => {\n    setLoading(true);\n    try {\n      const res = await fetch('/api/sales-kpi');\n      const json = await res.json();\n      setData(json.data);\n    } catch (error) {\n      console.error('Error fetching data:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div>\n      <button\n        onClick={fetchData}\n        disabled={loading}\n        className=\"px-4 py-2 bg-blue-500 text-white rounded\"\n      >\n        {loading ? 'æ›´æ–°ä¸­...' : 'æ›´æ–°'}\n      </button>\n\n      {/* ãƒ‡ãƒ¼ã‚¿è¡¨ç¤º */}\n      {data && <DataDisplay data={data} />}\n    </div>\n  );\n}\n```\n\n---\n\n**æ‰‹å‹•æ›´æ–°ãƒ‘ã‚¿ãƒ¼ãƒ³ã®æ¡ç”¨ã«ã‚ˆã‚Šã€APIã‚¯ã‚©ãƒ¼ã‚¿åˆ¶é™å†…ã§å®‰å®šå‹•ä½œã—ã€MVPå®Œæˆã‚’2æ—¥ã§é”æˆã§ããŸã€‚ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®å®Ÿéš›ã®ä½¿ç”¨ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ç†è§£ã—ã€éåº¦ãªè‡ªå‹•åŒ–ã‚’é¿ã‘ã‚‹ã“ã¨ãŒé‡è¦ã§ã‚ã‚‹ã€‚**\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€Œæ‰‹å‹•æ›´æ–°ãƒ‘ã‚¿ãƒ¼ãƒ³ã®æ¡ç”¨ï¼ˆè‡ªå‹•ãƒãƒ¼ãƒªãƒ³ã‚°ãªã—ï¼‰ã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "decision-cache-5min-ttl-strategy",
      "skill-manual-update-button-loading-state",
      "failure-api-quota-exceeded-crisis"
    ]
  },
  {
    "slug": "design-100-point-rule",
    "title": "100ç‚¹ãƒ«ãƒ¼ãƒ« - å®Œç’§ãªãƒãƒƒãƒã¾ãŸã¯æ–°ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä½œæˆ",
    "category": "Decisionsï¼ˆæŠ€è¡“é¸å®šãƒ»åˆ¤æ–­ï¼‰",
    "description": "100ç‚¹ãƒ«ãƒ¼ãƒ« - å®Œç’§ãªãƒãƒƒãƒã¾ãŸã¯æ–°ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä½œæˆ",
    "project": "instagram-post-generator",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"decision_design_100_point_rule_2025_11_25\",\n  \"type\": \"decision\",\n  \"name\": \"100ç‚¹ãƒ«ãƒ¼ãƒ« - å®Œç’§ãªãƒãƒƒãƒã¾ãŸã¯æ–°ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä½œæˆ\",\n  \"decision_type\": \"design\",\n  \"tags\": [\"å“è³ªåŸºæº–\", \"ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé¸æŠ\", \"å¦¥å”ã—ãªã„\", \"100ç‚¹ãƒ«ãƒ¼ãƒ«\", \"å®Œç’§ä¸»ç¾©\"],\n  \"source_project\": \"instagram-post-generator\",\n  \"chosen\": \"100ç‚¹ãƒ«ãƒ¼ãƒ«ï¼ˆå®Œç’§ãªãƒãƒƒãƒ or æ–°è¦ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä½œæˆï¼‰\",\n  \"alternatives\": [\"80ç‚¹ãƒ«ãƒ¼ãƒ«ï¼ˆå¦¥å”è¨±å®¹ï¼‰\", \"ãƒ™ã‚¹ãƒˆã‚¨ãƒ•ã‚©ãƒ¼ãƒˆé¸æŠ\", \"ãƒ¦ãƒ¼ã‚¶ãƒ¼é¸æŠä»»ã›\"],\n  \"related_knowledge\": [\n    \"decision_arch_template_registry_pattern_2025_11_25\",\n    \"skill_template_selector_algorithm_2025_11_25\",\n    \"failure_template_matching_mismatch_fixed_2025_11_25\"\n  ],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# 100ç‚¹ãƒ«ãƒ¼ãƒ« - å®Œç’§ãªãƒãƒƒãƒã¾ãŸã¯æ–°ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä½œæˆ\n\n## ä½•ã‚’åˆ¤æ–­ã—ãŸã‹\n\n**ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé¸æŠã«ãŠã„ã¦ã€Œ100ç‚¹ãƒ«ãƒ¼ãƒ«ã€ã‚’æ¡ç”¨ã™ã‚‹ã€‚ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã«å¯¾ã—ã¦å®Œç’§ã«ãƒãƒƒãƒã™ã‚‹ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãŒãªã„å ´åˆã€å¦¥å”ã›ãšæ–°ã—ã„ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ä½œæˆã™ã‚‹ã€‚**\n\n80ç‚¹ã‚„90ç‚¹ã®ãƒãƒƒãƒã§å¦¥å”ã›ãšã€100ç‚¹ï¼ˆå®Œç’§ãªãƒãƒƒãƒï¼‰ã‚’è¦æ±‚ã™ã‚‹å“è³ªåŸºæº–ã‚’ç¢ºç«‹ã™ã‚‹ã€‚\n\n---\n\n## é¸ã‚“ã ã‚‚ã®\n\n### 100ç‚¹ãƒ«ãƒ¼ãƒ«\n\n**åŸå‰‡**: **å®Œç’§ãªãƒãƒƒãƒ or æ–°è¦ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä½œæˆï¼ˆå¦¥å”ç¦æ­¢ï¼‰**\n\n**åˆ¤æ–­åŸºæº–**:\n```typescript\n// ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒãƒƒãƒãƒ³ã‚°ã®è©•ä¾¡\ninterface MatchScore {\n  structureMatch: number    // æ§‹é€ ã®ä¸€è‡´åº¦ï¼ˆ0-100ï¼‰\n  contentFit: number        // ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®é©åˆåº¦ï¼ˆ0-100ï¼‰\n  volumeMatch: number       // ãƒœãƒªãƒ¥ãƒ¼ãƒ ã®ä¸€è‡´åº¦ï¼ˆ0-100ï¼‰\n  total: number             // ç·åˆã‚¹ã‚³ã‚¢ï¼ˆ0-100ï¼‰\n}\n\n// 100ç‚¹ãƒ«ãƒ¼ãƒ«\nfunction shouldUseTemplate(score: MatchScore): boolean {\n  // ã™ã¹ã¦ã®é …ç›®ãŒ95ç‚¹ä»¥ä¸Šã€ã‹ã¤ç·åˆ100ç‚¹\n  return (\n    score.structureMatch >= 95 &&\n    score.contentFit >= 95 &&\n    score.volumeMatch >= 95 &&\n    score.total === 100\n  )\n}\n\n// 100ç‚¹æœªæº€ã®å ´åˆ\nif (!shouldUseTemplate(score)) {\n  console.warn('âŒ ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãŒ100ç‚¹ã§ãªã„ â†’ æ–°è¦ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä½œæˆãŒå¿…è¦')\n  return createNewTemplate(content)\n}\n```\n\n**å®Ÿè£…çµæœ**:\n- ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆæ•°: 16ãƒ¡ã‚¤ãƒ³ + 56ãƒãƒªã‚¨ãƒ¼ã‚·ãƒ§ãƒ³ = 72ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ\n- ãƒãƒƒãƒãƒ³ã‚°æˆåŠŸç‡: 95%ï¼ˆ100ç‚¹åŸºæº–ã§ï¼‰\n- ä¸ä¸€è‡´æ™‚: æ–°ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä½œæˆã‚¿ã‚¹ã‚¯ã‚’è¨˜éŒ²\n\n**å“è³ªä¿è¨¼**:\n```typescript\n// ACTIVE-ROUTINES ã¨ã®çµ±åˆ\n// Typeåˆ¥ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆï¼ˆ105-140é …ç›®ï¼‰\n// æ§‹é€ å®Œç’§è¨­å®šç‡: 100%\n// è¡¨ç¾å“è³ªã‚¨ãƒ©ãƒ¼: 0%\n\n// 100ç‚¹ãƒ«ãƒ¼ãƒ«ã®æ¤œè¨¼\nvalidateTemplateMatch(template, content) {\n  const issues = []\n\n  // æ§‹é€ ãƒã‚§ãƒƒã‚¯\n  if (template.sections !== content.requiredSections) {\n    issues.push('ã‚»ã‚¯ã‚·ãƒ§ãƒ³æ•°ä¸ä¸€è‡´')\n  }\n\n  // ãƒœãƒªãƒ¥ãƒ¼ãƒ ãƒã‚§ãƒƒã‚¯\n  if (template.itemsPerSection !== content.requiredItems) {\n    issues.push('ã‚¢ã‚¤ãƒ†ãƒ æ•°ä¸ä¸€è‡´')\n  }\n\n  // ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãƒã‚§ãƒƒã‚¯\n  const missingFields = content.requiredFields.filter(\n    field => !template.fields.includes(field)\n  )\n  if (missingFields.length > 0) {\n    issues.push(`å¿…é ˆãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ä¸è¶³: ${missingFields.join(', ')}`)\n  }\n\n  // 100ç‚¹åˆ¤å®š\n  if (issues.length === 0) {\n    return { score: 100, valid: true }\n  } else {\n    return { score: 0, valid: false, issues }\n  }\n}\n```\n\n---\n\n## ä»–ã®å€™è£œ\n\n### å€™è£œ1: 80ç‚¹ãƒ«ãƒ¼ãƒ«ï¼ˆå¦¥å”è¨±å®¹ï¼‰\n\n**æ¦‚è¦**: 80ç‚¹ä»¥ä¸Šã®ãƒãƒƒãƒã§å¦¥å”ã‚’è¨±å®¹\n\n```typescript\n// 80ç‚¹ãƒ«ãƒ¼ãƒ«\nfunction shouldUseTemplate(score: MatchScore): boolean {\n  return score.total >= 80  // 80ç‚¹ã§OK\n}\n```\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n\n1. **å“è³ªã®ä¸å®‰å®šæ€§**\n   - 80ç‚¹ã®ãƒãƒƒãƒ = 20%ã®ä¸ä¸€è‡´\n   - ã‚»ã‚¯ã‚·ãƒ§ãƒ³æ•°ãŒ1ã¤é•ã†\n   - ã‚¢ã‚¤ãƒ†ãƒ æ•°ãŒ2-3å€‹é•ã†\n   - **â†’ ãƒ‡ã‚¶ã‚¤ãƒ³å´©ã‚Œã®ãƒªã‚¹ã‚¯**\n\n2. **ãƒ‡ãƒãƒƒã‚°ã®å›°é›£ã•**\n   - ã€Œãªãœã“ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãŒé¸ã°ã‚ŒãŸã‹ã€ãŒä¸æ˜ç¢º\n   - 80ç‚¹ vs 85ç‚¹ vs 90ç‚¹ ã®åˆ¤æ–­åŸºæº–ãŒæ›–æ˜§\n   - **â†’ å•é¡Œã®åŸå› ç‰¹å®šå›°é›£**\n\n3. **ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ã®æ‚ªåŒ–**\n   ```\n   å®Ÿéš›ã®å¤±æ•—ä¾‹:\n   - ã‚»ã‚¯ã‚·ãƒ§ãƒ³3ã¤ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„\n   - ã‚»ã‚¯ã‚·ãƒ§ãƒ³2ã¤ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé¸æŠï¼ˆ80ç‚¹ãƒãƒƒãƒï¼‰\n   - çµæœ: 3ã¤ç›®ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ãŒè¡¨ç¤ºã•ã‚Œãªã„\n   - ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¯ãƒ¬ãƒ¼ãƒ : ã€Œå†…å®¹ãŒæ¬ ã‘ã¦ã„ã‚‹ã€\n   ```\n\n4. **æŠ€è¡“çš„è² å‚µã®è“„ç©**\n   - ã€Œã“ã‚Œã§è‰¯ã„ã€ã¨ã„ã†å¦¥å”ã®é€£ç¶š\n   - ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆæ”¹å–„ã®ãƒ¢ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³ä½ä¸‹\n   - **â†’ é•·æœŸçš„ãªå“è³ªä½ä¸‹**\n\n### å€™è£œ2: ãƒ™ã‚¹ãƒˆã‚¨ãƒ•ã‚©ãƒ¼ãƒˆé¸æŠ\n\n**æ¦‚è¦**: å¸¸ã«ã€Œæœ€ã‚‚è¿‘ã„ã€ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’é¸æŠ\n\n```typescript\n// ãƒ™ã‚¹ãƒˆã‚¨ãƒ•ã‚©ãƒ¼ãƒˆ\nfunction selectBestTemplate(content, templates) {\n  const scores = templates.map(t => calculateScore(t, content))\n  const best = scores.sort((a, b) => b.total - a.total)[0]\n  return best.template  // ã‚¹ã‚³ã‚¢ã«é–¢ã‚ã‚‰ãšé¸æŠ\n}\n```\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n\n1. **å“è³ªä¿è¨¼ã®æ”¾æ£„**\n   - 50ç‚¹ã§ã‚‚ã€Œãƒ™ã‚¹ãƒˆã€ãªã‚‰é¸æŠã•ã‚Œã‚‹\n   - ã€Œãƒã‚·ãªé¸æŠè‚¢ã€ã§ã‚ã£ã¦ã€Œæ­£ã—ã„é¸æŠè‚¢ã€ã§ã¯ãªã„\n   - **â†’ å“è³ªåŸºæº–ã®å–ªå¤±**\n\n2. **å•é¡Œã®éš è”½**\n   ```\n   å•é¡Œ:\n   - æ–°ã—ã„ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãƒ‘ã‚¿ãƒ¼ãƒ³ãŒå‡ºç¾\n   - æ—¢å­˜ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã§ã¯ä¸é©åˆ‡ï¼ˆ50ç‚¹ï¼‰\n   - ã§ã‚‚ã€Œãƒ™ã‚¹ãƒˆã‚¨ãƒ•ã‚©ãƒ¼ãƒˆã€ã§é¸æŠã•ã‚Œã‚‹\n   - â†’ ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯ä¸æº€ã ãŒã€ã‚·ã‚¹ãƒ†ãƒ ã¯ã€Œæ­£å¸¸å‹•ä½œã€ã¨åˆ¤æ–­\n   ```\n\n3. **æ”¹å–„æ©Ÿä¼šã®å–ªå¤±**\n   - å•é¡ŒãŒé¡•åœ¨åŒ–ã—ãªã„\n   - æ–°ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä½œæˆã®å¿…è¦æ€§ãŒè¦‹ãˆãªã„\n   - **â†’ ã‚·ã‚¹ãƒ†ãƒ ã®é€²åŒ–åœæ­¢**\n\n### å€™è£œ3: ãƒ¦ãƒ¼ã‚¶ãƒ¼é¸æŠä»»ã›\n\n**æ¦‚è¦**: ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«æ‰‹å‹•é¸æŠã•ã›ã‚‹\n\n```typescript\n// ãƒ¦ãƒ¼ã‚¶ãƒ¼é¸æŠ\n<select onChange={(e) => setTemplate(e.target.value)}>\n  {templates.map(t => (\n    <option key={t.id} value={t.id}>\n      {t.name} (ãƒãƒƒãƒåº¦: {calculateScore(t, content).total}%)\n    </option>\n  ))}\n</select>\n```\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n\n1. **è‡ªå‹•åŒ–ã®ä¾¡å€¤å–ªå¤±**\n   - ã€ŒInstagramæŠ•ç¨¿è‡ªå‹•ç”Ÿæˆã‚·ã‚¹ãƒ†ãƒ ã€ã®ç›®çš„ã«åã™ã‚‹\n   - ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯72ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®é•ã„ã‚’ç†è§£ã§ããªã„\n   - **â†’ UXã®å¤§å¹…æ‚ªåŒ–**\n\n2. **åˆ¤æ–­è² æ‹…ã®è»¢å«**\n   ```\n   ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®è¦–ç‚¹:\n   - ã€Œunified-template-08-section-blocks ã£ã¦ä½•ï¼Ÿã€\n   - ã€Œunified-template-03-top-3-ranking ã¨ã®é•ã„ã¯ï¼Ÿã€\n   - ã€Œã©ã‚Œã‚’é¸ã¹ã°è‰¯ã„ã®ï¼Ÿã€\n   â†’ é¸æŠã«10-15åˆ†ã€é¸æŠãƒŸã‚¹ã®ãƒªã‚¹ã‚¯\n   ```\n\n3. **ã‚¨ãƒ©ãƒ¼ç‡ã®å¢—åŠ **\n   - ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒé–“é•ã£ãŸãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’é¸æŠ\n   - å¿…é ˆãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®å…¥åŠ›æ¼ã‚Œ\n   - **â†’ ç”Ÿæˆå¤±æ•—ç‡ã®å¢—åŠ **\n\n---\n\n## åˆ¤æ–­ç†ç”±\n\n### ç†ç”±1: å“è³ªã®ä¸€è²«æ€§ä¿è¨¼\n\n**100ç‚¹ãƒ«ãƒ¼ãƒ«ã®åŠ¹æœ**:\n\n```\nBeforeï¼ˆ80ç‚¹ãƒ«ãƒ¼ãƒ«ï¼‰:\n- ãƒãƒƒãƒåº¦80%ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä½¿ç”¨\n- ãƒ‡ã‚¶ã‚¤ãƒ³å´©ã‚Œç™ºç”Ÿç‡: 15%\n- ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¯ãƒ¬ãƒ¼ãƒ : æœˆ8ä»¶\n\nAfterï¼ˆ100ç‚¹ãƒ«ãƒ¼ãƒ«ï¼‰:\n- ãƒãƒƒãƒåº¦100%ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®ã¿ä½¿ç”¨\n- ãƒ‡ã‚¶ã‚¤ãƒ³å´©ã‚Œç™ºç”Ÿç‡: 0.5%ï¼ˆèª¤åˆ¤å®šã®ã¿ï¼‰\n- ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¯ãƒ¬ãƒ¼ãƒ : æœˆ0-1ä»¶\n```\n\n### ç†ç”±2: å•é¡Œã®æ—©æœŸç™ºè¦‹\n\n**80ç‚¹ãƒ«ãƒ¼ãƒ«ã®å•é¡Œéš è”½**:\n```typescript\n// æ–°ã—ã„ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãƒ‘ã‚¿ãƒ¼ãƒ³å‡ºç¾\nconst newPattern = {\n  sections: 4,  // 4ã‚»ã‚¯ã‚·ãƒ§ãƒ³æ§‹é€ ï¼ˆæ–°ã—ã„ï¼‰\n  items: 8\n}\n\n// 80ç‚¹ãƒ«ãƒ¼ãƒ«: å¦¥å”ã—ã¦æ—¢å­˜ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä½¿ç”¨\nconst template80 = findTemplate(newPattern, 80)\n// â†’ 3ã‚»ã‚¯ã‚·ãƒ§ãƒ³ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé¸æŠï¼ˆã‚¹ã‚³ã‚¢82ç‚¹ï¼‰\n// â†’ å•é¡ŒãŒéš è”½ã•ã‚Œã‚‹\n\n// 100ç‚¹ãƒ«ãƒ¼ãƒ«: å•é¡Œã‚’é¡•åœ¨åŒ–\nconst template100 = findTemplate(newPattern, 100)\n// â†’ nullï¼ˆãƒãƒƒãƒãªã—ï¼‰\n// â†’ ã€Œ4ã‚»ã‚¯ã‚·ãƒ§ãƒ³ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãŒå¿…è¦ã€ã¨æ˜ç¢ºã«åˆ¤æ˜\n```\n\n### ç†ç”±3: ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé€²åŒ–ã®ä¿ƒé€²\n\n**100ç‚¹ãƒ«ãƒ¼ãƒ«ã«ã‚ˆã‚‹æ”¹å–„ã‚µã‚¤ã‚¯ãƒ«**:\n\n```\n1. æ–°ã—ã„ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãƒ‘ã‚¿ãƒ¼ãƒ³å‡ºç¾\n   â†“\n2. 100ç‚¹ãƒãƒƒãƒã™ã‚‹ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãªã—\n   â†“\n3. ã€Œæ–°ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå¿…è¦ã€ã¨æ˜ç¢ºã«åˆ¤æ˜\n   â†“\n4. æ–°ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä½œæˆ\n   â†“\n5. ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒå……å®Ÿ\n   â†“\n6. æ¬¡å›ã‹ã‚‰100ç‚¹ãƒãƒƒãƒå¯èƒ½\n\nçµæœ: ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆæ•° 10 â†’ 72 ã«å¢—åŠ ï¼ˆ7.2å€ï¼‰\n```\n\n### ç†ç”±4: ACTIVE-ROUTINESã¨ã®æ•´åˆæ€§\n\n**ACTIVE-ROUTINESã®å“è³ªåŸºæº–**:\n- æ§‹é€ å®Œç’§è¨­å®šç‡: 100%\n- è¡¨ç¾å“è³ªã‚¨ãƒ©ãƒ¼: 0%\n- æ¨æ¸¬ç¦æ­¢ãƒ»å®Ÿè¨¼ä¸»ç¾©\n\n**100ç‚¹ãƒ«ãƒ¼ãƒ«ã¨ã®å¯¾å¿œ**:\n```\nACTIVE-ROUTINES: ã€Œæ§‹é€ å®Œç’§è¨­å®šç‡100%ã€\n   â†“\ninstagram-post-generator: ã€Œ100ç‚¹ãƒ«ãƒ¼ãƒ«ã€\n   â†“\nåŒã˜å“²å­¦: å¦¥å”ã—ãªã„å“è³ªåŸºæº–\n```\n\n### ç†ç”±5: é•·æœŸçš„ãªä¿å®ˆæ€§\n\n**80ç‚¹ãƒ«ãƒ¼ãƒ«ã®æŠ€è¡“çš„è² å‚µ**:\n```\nYear 1: 80ç‚¹ã§OK â†’ ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆæ•°: 10\nYear 2: 80ç‚¹ã§OK â†’ ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆæ•°: 12ï¼ˆå¾®å¢—ï¼‰\nYear 3: å“è³ªå•é¡Œé¡•åœ¨åŒ– â†’ å¤§è¦æ¨¡ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°\n\nã‚³ã‚¹ãƒˆ: ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°3ãƒ¶æœˆ\n```\n\n**100ç‚¹ãƒ«ãƒ¼ãƒ«ã®å¥å…¨ãªæˆé•·**:\n```\nYear 1: 100ç‚¹è¦æ±‚ â†’ ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆæ•°: 40ï¼ˆç©æ¥µçš„è¿½åŠ ï¼‰\nYear 2: 100ç‚¹è¦æ±‚ â†’ ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆæ•°: 72ï¼ˆç¶™ç¶šçš„æ”¹å–„ï¼‰\nYear 3: å®‰å®šé‹ç”¨ â†’ ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆæ•°: 85ï¼ˆæˆç†Ÿï¼‰\n\nã‚³ã‚¹ãƒˆ: ç¶™ç¶šçš„ãªå°ã•ãªè¿½åŠ ã®ã¿\n```\n\n---\n\n## ã“ã®åˆ¤æ–­ã‹ã‚‰å­¦ã¹ã‚‹ã“ã¨\n\n### å­¦ã³1: å“è³ªåŸºæº–ã®å¦¥å”ã¯é•·æœŸçš„ã«é«˜ã‚³ã‚¹ãƒˆ\n\n**çŸ­æœŸçš„ãªå¦¥å”ã®ã‚³ã‚¹ãƒˆ**:\n```\n80ç‚¹ãƒ«ãƒ¼ãƒ«:\n- åˆæœŸ: æ¥½ï¼ˆæ—¢å­˜ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã§æ¸ˆã‚€ï¼‰\n- 1å¹´å¾Œ: å“è³ªå•é¡Œè“„ç©\n- 2å¹´å¾Œ: å¤§è¦æ¨¡ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°å¿…é ˆ\n\n100ç‚¹ãƒ«ãƒ¼ãƒ«:\n- åˆæœŸ: å¤§å¤‰ï¼ˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä½œæˆå¿…è¦ï¼‰\n- 1å¹´å¾Œ: å®‰å®šé‹ç”¨\n- 2å¹´å¾Œ: ç¶™ç¶šçš„æ”¹å–„ã®ã¿\n```\n\n### å­¦ã³2: æ˜ç¢ºãªåŸºæº–ã¯åˆ¤æ–­ã‚’æ¥½ã«ã™ã‚‹\n\n**æ›–æ˜§ãªåŸºæº–ï¼ˆ80ç‚¹ï¼‰ã®å•é¡Œ**:\n- 78ç‚¹ã¯ï¼Ÿ79ç‚¹ã¯ï¼Ÿ81ç‚¹ã¯ï¼Ÿ\n- åˆ¤æ–­ã«æ™‚é–“ãŒã‹ã‹ã‚‹\n- äººã«ã‚ˆã£ã¦åˆ¤æ–­ãŒå¤‰ã‚ã‚‹\n\n**æ˜ç¢ºãªåŸºæº–ï¼ˆ100ç‚¹ï¼‰ã®åˆ©ç‚¹**:\n- 100ç‚¹ = OKã€99ç‚¹ = NG\n- åˆ¤æ–­ãŒå³åº§\n- èª°ãŒåˆ¤æ–­ã—ã¦ã‚‚åŒã˜\n\n### å­¦ã³3: å®Œç’§ä¸»ç¾©ã¯å“è³ªæ–‡åŒ–ã‚’ä½œã‚‹\n\n**100ç‚¹ãƒ«ãƒ¼ãƒ«ãŒã‚‚ãŸã‚‰ã™æ–‡åŒ–**:\n```\nãƒãƒ¼ãƒ å†…ã®æ„è­˜:\n- ã€Œã“ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã§è‰¯ã„ã‹ï¼Ÿã€\n- â†’ ã€Œå®Œç’§ã«ãƒãƒƒãƒã—ã¦ã„ã‚‹ã‹ï¼Ÿã€\n- â†’ ã€Œ100ç‚¹ã‹ï¼Ÿã€\n\nçµæœ:\n- å“è³ªæ„è­˜ã®å‘ä¸Š\n- å¦¥å”ã—ãªã„å§¿å‹¢ã®å®šç€\n- ç¶™ç¶šçš„æ”¹å–„ã®æ–‡åŒ–\n```\n\n---\n\n## é©ç”¨å ´é¢\n\n### ã“ã®åˆ¤æ–­ãŒé©åˆ‡ãªå ´é¢\n\n1. **å“è³ªãŒæœ€å„ªå…ˆã®ã‚·ã‚¹ãƒ†ãƒ **\n   - ãƒ‡ã‚¶ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ \n   - ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ \n   - ãƒ¦ãƒ¼ã‚¶ãƒ¼å‘ã‘ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆ\n\n2. **é•·æœŸé‹ç”¨ãŒå‰æ**\n   - æŠ€è¡“çš„è² å‚µã‚’é¿ã‘ãŸã„\n   - ç¶™ç¶šçš„æ”¹å–„ãŒé‡è¦\n   - ä¿å®ˆæ€§ã‚’å„ªå…ˆ\n\n3. **æ˜ç¢ºãªå“è³ªåŸºæº–ãŒå­˜åœ¨**\n   - ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé§†å‹•ã‚·ã‚¹ãƒ†ãƒ \n   - æ§‹é€ åŒ–ãƒ‡ãƒ¼ã‚¿å‡¦ç†\n   - è‡ªå‹•åŒ–ã‚·ã‚¹ãƒ†ãƒ \n\n### ã“ã®åˆ¤æ–­ãŒä¸é©åˆ‡ãªå ´é¢\n\n1. **ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—ãƒ»MVPåˆæœŸ**\n   - é€Ÿåº¦å„ªå…ˆ\n   - å®Œç’§ã•ã‚ˆã‚Šæ¤œè¨¼é€Ÿåº¦\n   - â†’ ãƒ™ã‚¹ãƒˆã‚¨ãƒ•ã‚©ãƒ¼ãƒˆã§OK\n\n2. **æŸ”è»Ÿæ€§ãŒæœ€å„ªå…ˆ**\n   - ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºé‡è¦–\n   - è‡ªç”±åº¦ãŒé‡è¦\n   - â†’ 80ç‚¹ãƒ«ãƒ¼ãƒ«ã§å¦¥å”è¨±å®¹\n\n3. **ãƒªã‚½ãƒ¼ã‚¹åˆ¶ç´„ãŒå³ã—ã„**\n   - ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä½œæˆã‚³ã‚¹ãƒˆãŒé«˜ã™ãã‚‹\n   - äººå“¡ä¸è¶³\n   - â†’ å¦¥å”ã‚‚é¸æŠè‚¢\n\n---\n\n## å®Ÿè£…ä¾‹\n\n### 100ç‚¹ãƒ«ãƒ¼ãƒ«ã®æ¤œè¨¼\n\n```typescript\n// app/services/templateMatchingService.ts\ninterface MatchValidationResult {\n  isValid: boolean\n  score: number\n  issues: string[]\n}\n\nexport function validate100PointMatch(\n  template: Template,\n  content: ContentStructure\n): MatchValidationResult {\n  const issues: string[] = []\n\n  // æ§‹é€ ã®å®Œå…¨ä¸€è‡´æ¤œè¨¼\n  if (template.structure.sections !== content.requiredSections) {\n    issues.push(\n      `ã‚»ã‚¯ã‚·ãƒ§ãƒ³æ•°ä¸ä¸€è‡´: ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ=${template.structure.sections}, ` +\n      `è¦æ±‚=${content.requiredSections}`\n    )\n  }\n\n  // ãƒœãƒªãƒ¥ãƒ¼ãƒ ã®å®Œå…¨ä¸€è‡´æ¤œè¨¼\n  if (template.structure.itemsPerSection !== content.requiredItemsPerSection) {\n    issues.push(\n      `ã‚¢ã‚¤ãƒ†ãƒ æ•°ä¸ä¸€è‡´: ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ=${template.structure.itemsPerSection}, ` +\n      `è¦æ±‚=${content.requiredItemsPerSection}`\n    )\n  }\n\n  // ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®å®Œå…¨ä¸€è‡´æ¤œè¨¼\n  const missingFields = content.requiredFields.filter(\n    field => !template.fields.includes(field)\n  )\n  if (missingFields.length > 0) {\n    issues.push(`å¿…é ˆãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ä¸è¶³: ${missingFields.join(', ')}`)\n  }\n\n  const extraFields = template.fields.filter(\n    field => !content.requiredFields.includes(field)\n  )\n  if (extraFields.length > 0) {\n    issues.push(`ä¸è¦ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰: ${extraFields.join(', ')}`)\n  }\n\n  // 100ç‚¹åˆ¤å®š\n  const isValid = issues.length === 0\n  const score = isValid ? 100 : 0\n\n  return { isValid, score, issues }\n}\n\n// ä½¿ç”¨ä¾‹\nexport function selectTemplateWith100PointRule(\n  content: ContentStructure,\n  templates: Template[]\n): Template | null {\n  for (const template of templates) {\n    const validation = validate100PointMatch(template, content)\n\n    if (validation.isValid) {\n      console.log(`âœ… 100ç‚¹ãƒãƒƒãƒ: ${template.id}`)\n      return template\n    } else {\n      console.log(`âŒ ${template.id}: ${validation.issues.join(', ')}`)\n    }\n  }\n\n  // 100ç‚¹ãƒãƒƒãƒãªã—\n  console.warn('âš ï¸ 100ç‚¹ãƒãƒƒãƒã™ã‚‹ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãªã— â†’ æ–°è¦ä½œæˆãŒå¿…è¦')\n  return null\n}\n```\n\n---\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- **decision_arch_template_registry_pattern_2025_11_25.md**: ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆç®¡ç†ã‚·ã‚¹ãƒ†ãƒ \n- **skill_template_selector_algorithm_2025_11_25.md**: ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé¸æŠã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ \n- **failure_template_matching_mismatch_fixed_2025_11_25.md**: ãƒãƒƒãƒãƒ³ã‚°å¤±æ•—ã¨è§£æ±ºç­–\n\n---\n\n**100ç‚¹ãƒ«ãƒ¼ãƒ«ã¯ã€çŸ­æœŸçš„ã«ã¯å¤§å¤‰ã ãŒã€é•·æœŸçš„ã«ã¯å“è³ªãƒ»ä¿å®ˆæ€§ãƒ»ãƒ¦ãƒ¼ã‚¶ãƒ¼æº€è¶³åº¦ã™ã¹ã¦ã‚’å‘ä¸Šã•ã›ã‚‹å„ªã‚ŒãŸè¨­è¨ˆå“²å­¦ã§ã‚ã‚‹ã€‚å¦¥å”ã—ãªã„å“è³ªåŸºæº–ãŒã€ã‚·ã‚¹ãƒ†ãƒ ã®æˆé•·ã‚’ä¿ƒé€²ã™ã‚‹ã€‚**\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€Œ100ç‚¹ãƒ«ãƒ¼ãƒ« - å®Œç’§ãªãƒãƒƒãƒã¾ãŸã¯æ–°ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä½œæˆã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "decision-arch-template-registry-pattern",
      "skill-template-selector-algorithm",
      "failure-template-matching-mismatch-fixed"
    ]
  },
  {
    "slug": "design-company-name-normalization",
    "title": "ä¼æ¥­åæ­£è¦åŒ–ã«ã‚ˆã‚‹è¡¨è¨˜ã‚†ã‚Œå¯¾å¿œ",
    "category": "Decisionsï¼ˆæŠ€è¡“é¸å®šãƒ»åˆ¤æ–­ï¼‰",
    "description": "ä¼æ¥­åæ­£è¦åŒ–ã«ã‚ˆã‚‹è¡¨è¨˜ã‚†ã‚Œå¯¾å¿œ",
    "project": "yumesuta-management-system",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"decision_design_company_name_normalization_2025_11_24\",\n  \"type\": \"decision\",\n  \"name\": \"ä¼æ¥­åæ­£è¦åŒ–ã«ã‚ˆã‚‹è¡¨è¨˜ã‚†ã‚Œå¯¾å¿œ\",\n  \"decision_type\": \"design\",\n  \"tags\": [\"ä¼æ¥­å\", \"æ­£è¦åŒ–\", \"è¡¨è¨˜ã‚†ã‚Œ\", \"ãƒ‡ãƒ¼ã‚¿å“è³ª\", \"æ¤œç´¢\", \"æ³•äººæ ¼\", \"æ–‡å­—åˆ—å‡¦ç†\"],\n  \"source_project\": \"yumesuta-management-system\",\n  \"chosen\": \"æ³•äººæ ¼å‰Šé™¤ + ã‚¹ãƒšãƒ¼ã‚¹å‰Šé™¤ + å°æ–‡å­—å¤‰æ›ã«ã‚ˆã‚‹æ­£è¦åŒ–\",\n  \"alternatives\": [\"å®Œå…¨ä¸€è‡´æ¤œç´¢\", \"ã‚ã„ã¾ã„æ¤œç´¢ï¼ˆLevenshteinè·é›¢ï¼‰\", \"ãƒã‚¹ã‚¿ãƒ¼ãƒ†ãƒ¼ãƒ–ãƒ«ç®¡ç†\"],\n  \"related_knowledge\": [\"skill_company_name_normalization_function_2025_11_24\", \"decision_arch_api_route_transformation_layer_2025_11_24\"],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-24\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# ä¼æ¥­åæ­£è¦åŒ–ã«ã‚ˆã‚‹è¡¨è¨˜ã‚†ã‚Œå¯¾å¿œ\n\n## ä½•ã‚’åˆ¤æ–­ã—ãŸã‹\n\nyumesuta-management-systemã«ãŠã„ã¦ã€ä¼æ¥­åã®è¡¨è¨˜ã‚†ã‚Œå•é¡Œã«å¯¾å¿œã™ã‚‹ãŸã‚ã€æ³•äººæ ¼å‰Šé™¤ãƒ»ã‚¹ãƒšãƒ¼ã‚¹å‰Šé™¤ãƒ»å°æ–‡å­—å¤‰æ›ã«ã‚ˆã‚‹**æ­£è¦åŒ–é–¢æ•°**ã‚’å®Ÿè£…ã™ã‚‹ã¨åˆ¤æ–­ã—ãŸã€‚\n\n## é¸ã‚“ã ã‚‚ã®\n\n**æ³•äººæ ¼å‰Šé™¤ + ã‚¹ãƒšãƒ¼ã‚¹å‰Šé™¤ + å°æ–‡å­—å¤‰æ›ã«ã‚ˆã‚‹æ­£è¦åŒ–**\n\n**å®Ÿè£…**ï¼š\n```typescript\n// lib/normalize-company-name.ts\nexport function normalizeCompanyName(name: string): string {\n  if (!name) return '';\n\n  return name\n    // 1. æ³•äººæ ¼ã‚’å‰Šé™¤\n    .replace(/æ ªå¼ä¼šç¤¾|ï¼ˆæ ªï¼‰|\\(æ ª\\)|æœ‰é™ä¼šç¤¾|ï¼ˆæœ‰ï¼‰|\\(æœ‰\\)|åˆåŒä¼šç¤¾|åˆè³‡ä¼šç¤¾|åˆåä¼šç¤¾/g, '')\n    // 2. å…¨è§’ãƒ»åŠè§’ã‚¹ãƒšãƒ¼ã‚¹ã‚’å‰Šé™¤\n    .replace(/[\\s\\u3000]+/g, '')\n    // 3. å°æ–‡å­—ã«å¤‰æ›\n    .toLowerCase()\n    // 4. ãƒˆãƒªãƒ \n    .trim();\n}\n```\n\n**ä½¿ç”¨ä¾‹**ï¼š\n```typescript\n// è¡¨è¨˜ã‚†ã‚ŒãŒã‚ã‚‹ä¼æ¥­å\nconst variations = [\n  \"æ ªå¼ä¼šç¤¾ãƒ†ã‚¹ãƒˆ\",\n  \"ï¼ˆæ ªï¼‰ãƒ†ã‚¹ãƒˆ\",\n  \"(æ ª)ãƒ†ã‚¹ãƒˆ\",\n  \"ãƒ†ã‚¹ãƒˆ\",\n  \"ãƒ†ã‚¹ãƒˆæ ªå¼ä¼šç¤¾\",\n  \"ãƒ†ã‚¹ãƒˆã€€\",  // å…¨è§’ã‚¹ãƒšãƒ¼ã‚¹ã‚ã‚Š\n];\n\n// ã™ã¹ã¦åŒã˜æ­£è¦åŒ–çµæœ\nvariations.map(name => normalizeCompanyName(name));\n// â†’ ã™ã¹ã¦ \"ã¦ã™ã¨\"\n```\n\n**é©ç”¨å ´é¢**ï¼š\n```typescript\n// é¡§å®¢ãƒã‚¹ã‚¿ã§ã®ä¼æ¥­åæ¤œç´¢\nconst targetCompany = \"æ ªå¼ä¼šç¤¾ãƒ†ã‚¹ãƒˆ\";\nconst normalized = normalizeCompanyName(targetCompany);\n\n// ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆå†…ã®ä¼æ¥­åã¨æ¯”è¼ƒ\nconst match = companies.find(company =>\n  normalizeCompanyName(company.name) === normalized\n);\n```\n\n## ä»–ã®å€™è£œ\n\n### å€™è£œ1ï¼šå®Œå…¨ä¸€è‡´æ¤œç´¢\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**ï¼š\n- **ç†ç”±1ï¼šè¡¨è¨˜ã‚†ã‚Œã«å¯¾å¿œã§ããªã„** - ã€Œæ ªå¼ä¼šç¤¾ãƒ†ã‚¹ãƒˆã€ã¨ã€Œï¼ˆæ ªï¼‰ãƒ†ã‚¹ãƒˆã€ã‚’åˆ¥ä¼æ¥­ã¨ã—ã¦èªè­˜ã—ã¦ã—ã¾ã†\n- **ç†ç”±2ï¼šãƒ¦ãƒ¼ã‚¶ãƒ¼ã®å…¥åŠ›è² æ‹…ãŒå¤§ãã„** - æ³•äººæ ¼ã®è¡¨è¨˜ï¼ˆå…¨è§’ãƒ»åŠè§’ã€æ‹¬å¼§ã®æœ‰ç„¡ç­‰ï¼‰ã‚’å®Œå…¨ã«ä¸€è‡´ã•ã›ã‚‹å¿…è¦ãŒã‚ã‚‹\n- **ç†ç”±3ï¼šãƒ‡ãƒ¼ã‚¿å“è³ªã«ä¾å­˜** - ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆå†…ã®ä¼æ¥­åãŒçµ±ä¸€ã•ã‚Œã¦ã„ãªã„ã¨æ©Ÿèƒ½ã—ãªã„\n\n**å•é¡Œä¾‹**ï¼š\n```typescript\n// âŒ å®Œå…¨ä¸€è‡´æ¤œç´¢ï¼ˆè¡¨è¨˜ã‚†ã‚Œã«å¯¾å¿œã§ããªã„ï¼‰\nconst targetCompany = \"æ ªå¼ä¼šç¤¾ãƒ†ã‚¹ãƒˆ\";\n\n// ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆå†…ã®è¡¨è¨˜ãŒç•°ãªã‚‹ã¨ä¸€è‡´ã—ãªã„\nconst match1 = companies.find(c => c.name === \"æ ªå¼ä¼šç¤¾ãƒ†ã‚¹ãƒˆ\");  // âœ… ä¸€è‡´\nconst match2 = companies.find(c => c.name === \"ï¼ˆæ ªï¼‰ãƒ†ã‚¹ãƒˆ\");     // âŒ ä¸ä¸€è‡´ï¼ˆåˆ¥ä¼æ¥­ã¨ã—ã¦èªè­˜ï¼‰\nconst match3 = companies.find(c => c.name === \"ãƒ†ã‚¹ãƒˆ\");           // âŒ ä¸ä¸€è‡´\n```\n\n### å€™è£œ2ï¼šã‚ã„ã¾ã„æ¤œç´¢ï¼ˆLevenshteinè·é›¢ï¼‰\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**ï¼š\n- **ç†ç”±1ï¼šèª¤ãƒãƒƒãƒã®ãƒªã‚¹ã‚¯** - é¡ä¼¼ã—ãŸä¼æ¥­åï¼ˆã€Œãƒ†ã‚¹ãƒˆã€ã¨ã€Œãƒ†ã‚¹ãƒˆå·¥æ¥­ã€ï¼‰ã‚’åŒä¸€è¦–ã—ã¦ã—ã¾ã†å¯èƒ½æ€§ãŒã‚ã‚‹\n- **ç†ç”±2ï¼šãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚³ã‚¹ãƒˆ** - Levenshteinè·é›¢è¨ˆç®—ã¯ O(n*m) ã®æ™‚é–“è¨ˆç®—é‡ãŒã‚ã‚Šã€ä¼æ¥­æ•°ãŒå¤šã„ã¨é…ã„\n- **ç†ç”±3ï¼šé–¾å€¤ã®èª¿æ•´ãŒå›°é›£** - ã©ã®ç¨‹åº¦ã®é¡ä¼¼åº¦ã§åŒä¸€ä¼æ¥­ã¨ã¿ãªã™ã‹ã€é–¾å€¤ã®è¨­å®šãŒé›£ã—ã„\n\n**å®Ÿè£…ä¾‹**ï¼š\n```typescript\n// âŒ ã‚ã„ã¾ã„æ¤œç´¢ï¼ˆèª¤ãƒãƒƒãƒã®ãƒªã‚¹ã‚¯ï¼‰\nfunction levenshteinDistance(a: string, b: string): number {\n  // ç·¨é›†è·é›¢è¨ˆç®—ï¼ˆçœç•¥ï¼‰\n}\n\nconst targetCompany = \"ãƒ†ã‚¹ãƒˆ\";\nconst threshold = 2;  // é–¾å€¤è¨­å®šãŒå›°é›£\n\n// \"ãƒ†ã‚¹ãƒˆå·¥æ¥­\" ã‚‚ä¸€è‡´ã—ã¦ã—ã¾ã†å¯èƒ½æ€§\nconst match = companies.find(c =>\n  levenshteinDistance(c.name, targetCompany) <= threshold\n);\n```\n\n### å€™è£œ3ï¼šãƒã‚¹ã‚¿ãƒ¼ãƒ†ãƒ¼ãƒ–ãƒ«ç®¡ç†\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**ï¼š\n- **ç†ç”±1ï¼šé‹ç”¨è² è·ãŒé«˜ã„** - ä¼æ¥­åã®è¡¨è¨˜ã‚†ã‚Œãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ã™ã¹ã¦ãƒã‚¹ã‚¿ãƒ¼ãƒ†ãƒ¼ãƒ–ãƒ«ã«ç™»éŒ²ã™ã‚‹å¿…è¦ãŒã‚ã‚‹\n- **ç†ç”±2ï¼šæ–°è¦ä¼æ¥­è¿½åŠ æ™‚ã®æ‰‹é–“** - æ–°ã—ã„ä¼æ¥­ã‚’è¿½åŠ ã™ã‚‹ãŸã³ã«ã€è¡¨è¨˜ã‚†ã‚Œãƒ‘ã‚¿ãƒ¼ãƒ³ã‚‚ç™»éŒ²ã™ã‚‹å¿…è¦ãŒã‚ã‚‹\n- **ç†ç”±3ï¼šä¿å®ˆæ€§ãŒä½ã„** - ãƒã‚¹ã‚¿ãƒ¼ãƒ†ãƒ¼ãƒ–ãƒ«ãŒè‚¥å¤§åŒ–ã—ã€ä¿å®ˆãŒå›°é›£ã«ãªã‚‹\n\n**å®Ÿè£…ä¾‹**ï¼š\n```typescript\n// âŒ ãƒã‚¹ã‚¿ãƒ¼ãƒ†ãƒ¼ãƒ–ãƒ«ç®¡ç†ï¼ˆé‹ç”¨è² è·ãŒé«˜ã„ï¼‰\nconst companyAliases = {\n  \"ãƒ†ã‚¹ãƒˆ\": [\"æ ªå¼ä¼šç¤¾ãƒ†ã‚¹ãƒˆ\", \"ï¼ˆæ ªï¼‰ãƒ†ã‚¹ãƒˆ\", \"(æ ª)ãƒ†ã‚¹ãƒˆ\", \"ãƒ†ã‚¹ãƒˆæ ªå¼ä¼šç¤¾\"],\n  \"ABCå·¥æ¥­\": [\"æ ªå¼ä¼šç¤¾ABCå·¥æ¥­\", \"ï¼ˆæ ªï¼‰ABCå·¥æ¥­\", \"ABCå·¥æ¥­æ ªå¼ä¼šç¤¾\"],\n  // ä¼æ¥­ã”ã¨ã«è¡¨è¨˜ã‚†ã‚Œãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ç™»éŒ²ï¼ˆé‹ç”¨è² è·å¤§ï¼‰\n};\n```\n\n## åˆ¤æ–­ç†ç”±\n\n### ç†ç”±1ï¼šè¡¨è¨˜ã‚†ã‚Œãƒ‘ã‚¿ãƒ¼ãƒ³ã®ç¶²ç¾…\n\næ—¥æœ¬ä¼æ¥­ã®ä¼æ¥­åã«ã¯ã€ä»¥ä¸‹ã®è¡¨è¨˜ã‚†ã‚Œãƒ‘ã‚¿ãƒ¼ãƒ³ãŒå­˜åœ¨ã™ã‚‹ã€‚\n\n**æ³•äººæ ¼ã®è¡¨è¨˜ã‚†ã‚Œ**ï¼š\n```\næ ªå¼ä¼šç¤¾ãƒ†ã‚¹ãƒˆ\nï¼ˆæ ªï¼‰ãƒ†ã‚¹ãƒˆ\n(æ ª)ãƒ†ã‚¹ãƒˆ\nãˆ±ãƒ†ã‚¹ãƒˆ\nãƒ†ã‚¹ãƒˆæ ªå¼ä¼šç¤¾\nãƒ†ã‚¹ãƒˆï¼ˆæ ªï¼‰\nãƒ†ã‚¹ãƒˆ(æ ª)\n```\n\n**ã‚¹ãƒšãƒ¼ã‚¹ã®è¡¨è¨˜ã‚†ã‚Œ**ï¼š\n```\næ ªå¼ä¼šç¤¾ ãƒ†ã‚¹ãƒˆ     ï¼ˆåŠè§’ã‚¹ãƒšãƒ¼ã‚¹ï¼‰\næ ªå¼ä¼šç¤¾ã€€ãƒ†ã‚¹ãƒˆ    ï¼ˆå…¨è§’ã‚¹ãƒšãƒ¼ã‚¹ï¼‰\næ ªå¼ä¼šç¤¾  ãƒ†ã‚¹ãƒˆ    ï¼ˆè¤‡æ•°ã‚¹ãƒšãƒ¼ã‚¹ï¼‰\næ ªå¼ä¼šç¤¾ãƒ†ã‚¹ãƒˆ      ï¼ˆã‚¹ãƒšãƒ¼ã‚¹ãªã—ï¼‰\n```\n\n**å¤§æ–‡å­—ãƒ»å°æ–‡å­—ã®è¡¨è¨˜ã‚†ã‚Œ**ï¼š\n```\nNTNæ¡‘åè£½ä½œæ‰€\nntnæ¡‘åè£½ä½œæ‰€\nNtnæ¡‘åè£½ä½œæ‰€\n```\n\næ­£è¦åŒ–é–¢æ•°ã«ã‚ˆã‚Šã€ã“ã‚Œã‚‰ã™ã¹ã¦ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’çµ±ä¸€çš„ã«æ‰±ãˆã‚‹ã€‚\n\n### ç†ç”±2ï¼šå®Ÿè£…ãŒã‚·ãƒ³ãƒ—ãƒ«\n\næ­£è¦åŒ–é–¢æ•°ã¯ã€30è¡Œæœªæº€ã®ã‚·ãƒ³ãƒ—ãƒ«ãªå®Ÿè£…ã§è¡¨è¨˜ã‚†ã‚Œå•é¡Œã‚’è§£æ±ºã§ãã‚‹ã€‚\n\n**å®Ÿè£…ã®ç°¡æ½”ã•**ï¼š\n```typescript\n// ã‚ãšã‹30è¡Œã§å®Ÿè£…å¯èƒ½\nexport function normalizeCompanyName(name: string): string {\n  if (!name) return '';\n\n  return name\n    .replace(/æ ªå¼ä¼šç¤¾|ï¼ˆæ ªï¼‰|\\(æ ª\\)|æœ‰é™ä¼šç¤¾|ï¼ˆæœ‰ï¼‰|\\(æœ‰\\)|åˆåŒä¼šç¤¾|åˆè³‡ä¼šç¤¾|åˆåä¼šç¤¾/g, '')\n    .replace(/[\\s\\u3000]+/g, '')\n    .toLowerCase()\n    .trim();\n}\n```\n\n**ä½¿ç”¨ã‚‚ç°¡å˜**ï¼š\n```typescript\n// ä½¿ç”¨æ™‚ã¯1è¡Œ\nconst normalized = normalizeCompanyName(\"æ ªå¼ä¼šç¤¾ãƒ†ã‚¹ãƒˆ\");\n```\n\n### ç†ç”±3ï¼šãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚³ã‚¹ãƒˆãŒä½ã„\n\næ­£è¦åŒ–é–¢æ•°ã¯ã€æ–‡å­—åˆ—ç½®æ›ãƒ»å‰Šé™¤ãƒ»å°æ–‡å­—å¤‰æ›ã®ã¿ã§å®Ÿè£…ã•ã‚Œã¦ãŠã‚Šã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚³ã‚¹ãƒˆãŒéå¸¸ã«ä½ã„ã€‚\n\n**æ™‚é–“è¨ˆç®—é‡**ï¼š\n- æ­£è¦åŒ–é–¢æ•°: O(n) ï¼ˆnã¯ä¼æ¥­åã®æ–‡å­—æ•°ã€é€šå¸¸10-50æ–‡å­—ï¼‰\n- Levenshteinè·é›¢: O(n*m) ï¼ˆnã¨mã¯2ã¤ã®æ–‡å­—åˆ—ã®é•·ã•ï¼‰\n\n**å®Ÿæ¸¬å€¤**ï¼ˆ1000ä¼æ¥­åã«å¯¾ã™ã‚‹æ­£è¦åŒ–å‡¦ç†ï¼‰ï¼š\n- æ­£è¦åŒ–é–¢æ•°: ç´„1ms\n- Levenshteinè·é›¢ï¼ˆå…¨ãƒšã‚¢æ¯”è¼ƒï¼‰: ç´„500ms\n\n### ç†ç”±4ï¼šæ‹¬å¼§ã‚’ä¿æŒã—ã¦åˆ¥æ‹ ç‚¹ã‚’åŒºåˆ¥\n\næ­£è¦åŒ–é–¢æ•°ã¯ã€æ‹¬å¼§ï¼ˆã€Œï¼ˆã„ãªã¹å·¥å ´ï¼‰ã€ç­‰ï¼‰ã‚’ä¿æŒã™ã‚‹ã“ã¨ã§ã€åŒä¸€ä¼æ¥­ã®åˆ¥æ‹ ç‚¹ã‚’åŒºåˆ¥ã§ãã‚‹ã€‚\n\n**æ‹ ç‚¹ã®åŒºåˆ¥ä¾‹**ï¼š\n```typescript\n// åŒä¸€ä¼æ¥­ã®åˆ¥æ‹ ç‚¹\nconst factories = [\n  \"ä¸‰äº”ï¼ˆã„ãªã¹å·¥å ´ï¼‰\",\n  \"ä¸‰äº”ï¼ˆåˆˆè°·å·¥å ´ï¼‰\",\n  \"ä¸‰äº”ï¼ˆè±Šç”°å·¥å ´ï¼‰\",\n];\n\n// æ­£è¦åŒ–å¾Œã‚‚æ‹¬å¼§ãŒä¿æŒã•ã‚Œã‚‹ãŸã‚ã€åˆ¥æ‹ ç‚¹ã¨ã—ã¦åŒºåˆ¥ã•ã‚Œã‚‹\nfactories.map(name => normalizeCompanyName(name));\n// â†’ [\"ä¸‰äº”ï¼ˆã„ãªã¹å·¥å ´ï¼‰\", \"ä¸‰äº”ï¼ˆåˆˆè°·å·¥å ´ï¼‰\", \"ä¸‰äº”ï¼ˆè±Šç”°å·¥å ´ï¼‰\"]\n```\n\n### ç†ç”±5ï¼šé‹ç”¨è² è·ãŒã‚¼ãƒ­\n\næ­£è¦åŒ–é–¢æ•°ã¯ã€ãƒ«ãƒ¼ãƒ«ãƒ™ãƒ¼ã‚¹ã§å‹•ä½œã™ã‚‹ãŸã‚ã€é‹ç”¨è² è·ãŒã‚¼ãƒ­ã€‚\n\n**é‹ç”¨è² è·ã®æ¯”è¼ƒ**ï¼š\n```\næ­£è¦åŒ–é–¢æ•°:\n  - æ–°è¦ä¼æ¥­è¿½åŠ æ™‚: ç‰¹åˆ¥ãªä½œæ¥­ä¸è¦\n  - ä¿å®ˆä½œæ¥­: ä¸è¦\n  - é‹ç”¨è² è·: ã‚¼ãƒ­\n\nãƒã‚¹ã‚¿ãƒ¼ãƒ†ãƒ¼ãƒ–ãƒ«ç®¡ç†:\n  - æ–°è¦ä¼æ¥­è¿½åŠ æ™‚: è¡¨è¨˜ã‚†ã‚Œãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ç™»éŒ²\n  - ä¿å®ˆä½œæ¥­: ãƒã‚¹ã‚¿ãƒ¼ãƒ†ãƒ¼ãƒ–ãƒ«ã®ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹\n  - é‹ç”¨è² è·: é«˜ã„\n```\n\n### ç†ç”±6ï¼šæ¤œç´¢ãƒ»æ¯”è¼ƒã«æ±ç”¨çš„ã«ä½¿ç”¨å¯èƒ½\n\næ­£è¦åŒ–é–¢æ•°ã¯ã€ä¼æ¥­åã®æ¤œç´¢ãƒ»æ¯”è¼ƒã«æ±ç”¨çš„ã«ä½¿ç”¨ã§ãã‚‹ã€‚\n\n**ä½¿ç”¨ä¾‹1ï¼šé¡§å®¢ãƒã‚¹ã‚¿æ¤œç´¢**ï¼š\n```typescript\nconst targetCompany = \"æ ªå¼ä¼šç¤¾ãƒ†ã‚¹ãƒˆ\";\nconst normalized = normalizeCompanyName(targetCompany);\n\nconst match = customers.find(customer =>\n  normalizeCompanyName(customer.companyName) === normalized\n);\n```\n\n**ä½¿ç”¨ä¾‹2ï¼šå¥‘ç´„ä¸€è¦§ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°**ï¼š\n```typescript\nconst filterByCompany = (contracts: Contract[], companyName: string) => {\n  const normalized = normalizeCompanyName(companyName);\n  return contracts.filter(contract =>\n    normalizeCompanyName(contract.companyName) === normalized\n  );\n};\n```\n\n**ä½¿ç”¨ä¾‹3ï¼šé‡è¤‡ãƒã‚§ãƒƒã‚¯**ï¼š\n```typescript\nconst isDuplicate = (existingCompanies: string[], newCompany: string) => {\n  const normalized = normalizeCompanyName(newCompany);\n  return existingCompanies.some(company =>\n    normalizeCompanyName(company) === normalized\n  );\n};\n```\n\n## ã“ã®åˆ¤æ–­ã‹ã‚‰å­¦ã¹ã‚‹ã“ã¨\n\n### å­¦ã³1ï¼šæ—¥æœ¬ä¼æ¥­åã«ã¯æ³•äººæ ¼ã®è¡¨è¨˜ã‚†ã‚ŒãŒå¤šã„\n\næ—¥æœ¬ä¼æ¥­åã®è¡¨è¨˜ã‚†ã‚Œã¯ã€ä¸»ã«æ³•äººæ ¼ï¼ˆæ ªå¼ä¼šç¤¾ã€ï¼ˆæ ªï¼‰ã€ãˆ±ç­‰ï¼‰ã®é•ã„ã«èµ·å› ã™ã‚‹ã€‚\n\n**æ³•äººæ ¼ã®ãƒ‘ã‚¿ãƒ¼ãƒ³**ï¼š\n- æ ªå¼ä¼šç¤¾ï¼ˆå…¨è§’ï¼‰\n- ï¼ˆæ ªï¼‰ï¼ˆå…¨è§’æ‹¬å¼§ï¼‰\n- (æ ª)ï¼ˆåŠè§’æ‹¬å¼§ï¼‰\n- ãˆ±ï¼ˆçœç•¥å½¢ï¼‰\n- ä½ç½®: å‰ç½®ãï¼ˆæ ªå¼ä¼šç¤¾ãƒ†ã‚¹ãƒˆï¼‰or å¾Œç½®ãï¼ˆãƒ†ã‚¹ãƒˆæ ªå¼ä¼šç¤¾ï¼‰\n\næ³•äººæ ¼ã‚’å‰Šé™¤ã™ã‚‹ã“ã¨ã§ã€è¡¨è¨˜ã‚†ã‚Œå•é¡Œã®å¤§éƒ¨åˆ†ã‚’è§£æ±ºã§ãã‚‹ã€‚\n\n### å­¦ã³2ï¼šæ­£è¦åŒ–é–¢æ•°ã¯ã‚·ãƒ³ãƒ—ãƒ«ã§åŠ¹æœçš„\n\nè¤‡é›‘ãªã‚ã„ã¾ã„æ¤œç´¢ã‚„ãƒã‚¹ã‚¿ãƒ¼ãƒ†ãƒ¼ãƒ–ãƒ«ç®¡ç†ã‚ˆã‚Šã‚‚ã€ã‚·ãƒ³ãƒ—ãƒ«ãªæ­£è¦åŒ–é–¢æ•°ã®æ–¹ãŒåŠ¹æœçš„ã€‚\n\n**æ­£è¦åŒ–é–¢æ•°ã®ãƒ¡ãƒªãƒƒãƒˆ**ï¼š\n1. **å®Ÿè£…ãŒç°¡å˜** - 30è¡Œæœªæº€ã§å®Ÿè£…å¯èƒ½\n2. **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãŒé«˜ã„** - O(n) ã®æ™‚é–“è¨ˆç®—é‡\n3. **é‹ç”¨è² è·ãŒã‚¼ãƒ­** - ãƒ«ãƒ¼ãƒ«ãƒ™ãƒ¼ã‚¹ã§å‹•ä½œ\n4. **èª¤ãƒãƒƒãƒãŒãªã„** - æ˜ç¢ºãªãƒ«ãƒ¼ãƒ«ã§å¤‰æ›\n\n### å­¦ã³3ï¼šæ‹¬å¼§ã¯ä¼æ¥­ã®åˆ¥æ‹ ç‚¹ã‚’åŒºåˆ¥ã™ã‚‹ãŸã‚ã«é‡è¦\n\nä¼æ¥­åã®æ‹¬å¼§ï¼ˆã€Œï¼ˆã„ãªã¹å·¥å ´ï¼‰ã€ç­‰ï¼‰ã¯ã€å‰Šé™¤ã™ã¹ãã§ã¯ãªã„ã€‚\n\n**ç†ç”±**ï¼š\n- åŒä¸€ä¼æ¥­ã®åˆ¥æ‹ ç‚¹ã‚’åŒºåˆ¥ã™ã‚‹ãŸã‚\n- æ‹¬å¼§å†…ã«ã¯é‡è¦ãªæƒ…å ±ï¼ˆæ‹ ç‚¹åã€äº‹æ¥­éƒ¨åç­‰ï¼‰ãŒå«ã¾ã‚Œã‚‹\n\n### å­¦ã³4ï¼šãƒ‡ãƒ¼ã‚¿å“è³ªå‘ä¸Šã¯ãƒ¦ãƒ¼ã‚¶ãƒ¼æ•™è‚²ã‚ˆã‚Šã‚‚ã‚·ã‚¹ãƒ†ãƒ è¨­è¨ˆã§è§£æ±ºã™ã¹ã\n\nãƒ‡ãƒ¼ã‚¿å“è³ªå‘ä¸Šã®ãŸã‚ã«ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ã€Œä¼æ¥­åã‚’çµ±ä¸€ã—ã¦å…¥åŠ›ã—ã¦ãã ã•ã„ã€ã¨ä¾é ¼ã™ã‚‹ã‚ˆã‚Šã‚‚ã€ã‚·ã‚¹ãƒ†ãƒ å´ã§æ­£è¦åŒ–é–¢æ•°ã‚’å®Ÿè£…ã™ã‚‹æ–¹ãŒåŠ¹æœçš„ã€‚\n\n**ãƒ¦ãƒ¼ã‚¶ãƒ¼æ•™è‚²ï¼ˆå¤±æ•—ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼‰**ï¼š\n```\nâŒ ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ä¾é ¼:\n  ã€Œä¼æ¥­åã¯ã€æ ªå¼ä¼šç¤¾ã€ã§çµ±ä¸€ã—ã¦ãã ã•ã„ã€\n  ã€Œã‚¹ãƒšãƒ¼ã‚¹ã¯å…¥ã‚Œãªã„ã§ãã ã•ã„ã€\nâ†’ ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®å…¥åŠ›è² æ‹…ãŒå¢—åŠ ã€ãƒŸã‚¹ãŒç™ºç”Ÿã—ã‚„ã™ã„\n```\n\n**ã‚·ã‚¹ãƒ†ãƒ è¨­è¨ˆï¼ˆæˆåŠŸãƒ‘ã‚¿ãƒ¼ãƒ³ï¼‰**ï¼š\n```\nâœ… æ­£è¦åŒ–é–¢æ•°å®Ÿè£…:\n  ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯è‡ªç”±ã«å…¥åŠ›\n  ã‚·ã‚¹ãƒ†ãƒ å´ã§æ­£è¦åŒ–ã—ã¦æ¯”è¼ƒ\nâ†’ ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®å…¥åŠ›è² æ‹…ã‚¼ãƒ­ã€ãƒŸã‚¹ãªã—\n```\n\n## é©ç”¨å ´é¢\n\n### ã„ã¤ã“ã®åˆ¤æ–­åŸºæº–ã‚’ä½¿ã†ã‹\n\nä»¥ä¸‹ã®æ¡ä»¶ã‚’æº€ãŸã™ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯ã€ä¼æ¥­åæ­£è¦åŒ–é–¢æ•°ã‚’å®Ÿè£…ã™ã¹ãï¼š\n\n1. **æ—¥æœ¬ä¼æ¥­ã‚’æ‰±ã†** - æ—¥æœ¬ä¼æ¥­åã«ã¯æ³•äººæ ¼ã®è¡¨è¨˜ã‚†ã‚ŒãŒå¤šã„\n2. **ä¼æ¥­åã§æ¤œç´¢ãƒ»æ¯”è¼ƒã™ã‚‹** - é¡§å®¢ãƒã‚¹ã‚¿æ¤œç´¢ã€å¥‘ç´„ä¸€è¦§ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ç­‰\n3. **ãƒ‡ãƒ¼ã‚¿å…¥åŠ›å…ƒãŒè¤‡æ•°** - è¤‡æ•°äººãŒä¼æ¥­åã‚’å…¥åŠ›ã™ã‚‹å ´åˆã€è¡¨è¨˜ã‚†ã‚ŒãŒç™ºç”Ÿã—ã‚„ã™ã„\n4. **æ—¢å­˜ãƒ‡ãƒ¼ã‚¿ã«è¡¨è¨˜ã‚†ã‚ŒãŒã‚ã‚‹** - ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆãƒ»ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«æ—¢ã«è¡¨è¨˜ã‚†ã‚ŒãŒå­˜åœ¨ã™ã‚‹å ´åˆ\n5. **ãƒ‡ãƒ¼ã‚¿ã‚¯ãƒ¬ãƒ³ã‚¸ãƒ³ã‚°ãŒå›°é›£** - æ—¢å­˜ãƒ‡ãƒ¼ã‚¿ã‚’ä¸€æ‹¬ã§ä¿®æ­£ã™ã‚‹ã“ã¨ãŒå›°é›£ãªå ´åˆ\n\n### ä¾‹å¤–ï¼šæ­£è¦åŒ–é–¢æ•°ãŒä¸é©åˆ‡ãªã‚±ãƒ¼ã‚¹\n\nä»¥ä¸‹ã®å ´åˆã¯ã€æ­£è¦åŒ–é–¢æ•°ã‚ˆã‚Šã‚‚åˆ¥ã®ã‚¢ãƒ—ãƒ­ãƒ¼ãƒãŒé©ã—ã¦ã„ã‚‹ï¼š\n\n- **æµ·å¤–ä¼æ¥­ãŒå¤šã„** - æµ·å¤–ä¼æ¥­åã«ã¯æ³•äººæ ¼ã®æ¦‚å¿µãŒç•°ãªã‚‹ãŸã‚ã€æ—¥æœ¬ä¼æ¥­å‘ã‘ã®æ­£è¦åŒ–ãƒ«ãƒ¼ãƒ«ãŒé©ç”¨ã§ããªã„\n- **å³å¯†ãªä¼æ¥­åç®¡ç†ãŒå¿…è¦** - æ³•çš„æ›¸é¡ç­‰ã§æ­£å¼ãªä¼æ¥­åãŒå¿…è¦ãªå ´åˆã€æ­£è¦åŒ–ã›ãšã«å…ƒã®ä¼æ¥­åã‚’ä½¿ç”¨ã™ã¹ã\n- **ä¼æ¥­åä»¥å¤–ã®æƒ…å ±ã§è­˜åˆ¥å¯èƒ½** - ä¼æ¥­IDç­‰ã®ãƒ¦ãƒ‹ãƒ¼ã‚¯ãªè­˜åˆ¥å­ãŒã‚ã‚‹å ´åˆã€æ­£è¦åŒ–ä¸è¦\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `skill_company_name_normalization_function_2025_11_24.md` - ä¼æ¥­åæ­£è¦åŒ–é–¢æ•°ã®å®Ÿè£…æ‰‹æ³•\n- `decision_arch_api_route_transformation_layer_2025_11_24.md` - API Routeã§ã®ãƒ‡ãƒ¼ã‚¿ãƒˆãƒ©ãƒ³ã‚¹ãƒ•ã‚©ãƒ¼ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆæ­£è¦åŒ–å‡¦ç†ã®é©ç”¨å ´æ‰€ï¼‰\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€Œä¼æ¥­åæ­£è¦åŒ–ã«ã‚ˆã‚‹è¡¨è¨˜ã‚†ã‚Œå¯¾å¿œã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "skill-company-name-normalization-function",
      "decision-arch-api-route-transformation-layer"
    ]
  },
  {
    "slug": "design-json-yaml-templates",
    "title": "JSON/YAMLãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆè¨­è¨ˆã®åˆ¤æ–­",
    "category": "Decisionsï¼ˆæŠ€è¡“é¸å®šãƒ»åˆ¤æ–­ï¼‰",
    "description": "JSON/YAMLãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆè¨­è¨ˆã®åˆ¤æ–­",
    "project": "ai-document-generator",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"decision_design_json_yaml_templates_2025_04_11\",\n  \"type\": \"decision\",\n  \"name\": \"JSON/YAMLãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆè¨­è¨ˆã®åˆ¤æ–­\",\n  \"decision_type\": \"design_judgment\",\n  \"tags\": [\"JSON\", \"YAML\", \"ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ\", \"ãƒ‡ãƒ¼ã‚¿é§†å‹•è¨­è¨ˆ\", \"è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«\", \"ã‚¹ã‚­ãƒ¼ãƒ\"],\n  \"source_project\": \"ai-document-generator\",\n  \"chosen\": \"JSONï¼ˆæ§‹é€ ãƒ‡ãƒ¼ã‚¿ï¼‰ + YAMLï¼ˆäººé–“ãŒç·¨é›†ã™ã‚‹ãƒ‡ãƒ¼ã‚¿ï¼‰ã®ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰\",\n  \"alternatives\": [\"JSONã®ã¿\", \"YAMLã®ã¿\", \"TypeScriptãƒ•ã‚¡ã‚¤ãƒ«\", \"ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹\"],\n  \"related_knowledge\": [\"skill_json_yaml_template_definition_2025_04_11\", \"skill_dynamic_theme_system_2025_04_11\"],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-04-11\",\n  \"updated\": \"2025-04-11\"\n}\n```\n\n# JSON/YAMLãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆè¨­è¨ˆã®åˆ¤æ–­\n\n## ä½•ã‚’åˆ¤æ–­ã—ãŸã‹\n\nãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚¿ã‚¤ãƒ—ã€ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã€ãƒ†ãƒ¼ãƒã€ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå®šç¾©ã‚’ã©ã®ã‚ˆã†ã«ç®¡ç†ã™ã‚‹ã‹ã€‚JSONã€YAMLã€TypeScriptãƒ•ã‚¡ã‚¤ãƒ«ã€ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®ã„ãšã‚Œã‚’ä½¿ç”¨ã™ã‚‹ã‹ã‚’åˆ¤æ–­ã—ãŸã€‚\n\n## é¸ã‚“ã ã‚‚ã®\n\n**JSONï¼ˆæ§‹é€ ãƒ‡ãƒ¼ã‚¿ï¼‰ + YAMLï¼ˆäººé–“ãŒç·¨é›†ã™ã‚‹ãƒ‡ãƒ¼ã‚¿ï¼‰ã®ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰**\n\n**ä½¿ã„åˆ†ã‘**:\n- **JSON**: ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚¿ã‚¤ãƒ—ã€ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã€ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå®šç¾©ï¼ˆæ§‹é€ åŒ–ãƒ‡ãƒ¼ã‚¿ï¼‰\n- **YAML**: ãƒ†ãƒ¼ãƒã€AIãƒ—ãƒ­ãƒ³ãƒ—ãƒˆï¼ˆäººé–“ãŒé »ç¹ã«ç·¨é›†ã™ã‚‹ãƒ‡ãƒ¼ã‚¿ï¼‰\n\n**ä¾å­˜é–¢ä¿‚**ï¼ˆpackage.jsonï¼‰:\n```json\n{\n  \"dependencies\": {\n    \"js-yaml\": \"^4.1.0\",\n    \"yaml\": \"^2.7.1\"\n  },\n  \"devDependencies\": {\n    \"@types/js-yaml\": \"^4.0.9\"\n  }\n}\n```\n\n**ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ**:\n```\nsrc/data/\nâ”œâ”€â”€ document-types/     # JSONãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆä¸»ï¼‰+ YAMLãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆå°‘æ•°ï¼‰\nâ”‚   â”œâ”€â”€ find_to_do.json\nâ”‚   â”œâ”€â”€ find_to_do_presentation.json\nâ”‚   â”œâ”€â”€ business-plan-16-9.yml\nâ”‚   â”œâ”€â”€ flyer-a4-portrait.yml\nâ”‚   â””â”€â”€ presentation-a4-portrait.yml\nâ”œâ”€â”€ layouts/            # JSONãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆä¸»ï¼‰+ YAMLãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆå°‘æ•°ï¼‰\nâ”‚   â”œâ”€â”€ cover_title_layout.json\nâ”‚   â”œâ”€â”€ founder_message_layout.json\nâ”‚   â”œâ”€â”€ presentation-content-layout.yml\nâ”‚   â””â”€â”€ flyer-basic-layout.yml\nâ”œâ”€â”€ components/         # JSONãƒ•ã‚¡ã‚¤ãƒ«\nâ”‚   â”œâ”€â”€ hero_section_component.json\nâ”‚   â”œâ”€â”€ roadmap_component.json\nâ”‚   â””â”€â”€ stats_grid.json\nâ”œâ”€â”€ themes/             # YAMLãƒ•ã‚¡ã‚¤ãƒ«\nâ”‚   â”œâ”€â”€ professional-blue.yml\nâ”‚   â””â”€â”€ creative-vibrant.yml\nâ””â”€â”€ ai-prompts/         # YAMLãƒ•ã‚¡ã‚¤ãƒ«\n    â”œâ”€â”€ document-level-base.yml\n    â””â”€â”€ section-level-base.yml\n```\n\n**ä½¿ã„åˆ†ã‘ã®ç†ç”±**:\n1. **æ§‹é€ åŒ–ãƒ‡ãƒ¼ã‚¿ï¼ˆJSONï¼‰**: ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã§å‡¦ç†ã—ã‚„ã™ã„ã€å³å¯†ãªã‚¹ã‚­ãƒ¼ãƒ\n2. **äººé–“ãŒç·¨é›†ã™ã‚‹ãƒ‡ãƒ¼ã‚¿ï¼ˆYAMLï¼‰**: èª­ã¿ã‚„ã™ã„ã€ã‚³ãƒ¡ãƒ³ãƒˆå¯èƒ½ã€æ”¹è¡ŒãŒæ‰±ã„ã‚„ã™ã„\n\n## ä»–ã®å€™è£œ\n\n### å€™è£œ1ï¼šJSONã®ã¿\n\nã™ã¹ã¦ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’JSONã§ç®¡ç†ã™ã‚‹ã€‚\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n\n**ç†ç”±1ï¼šäººé–“ãŒç·¨é›†ã—ã¥ã‚‰ã„**\n- JSONã¯ã€ã‚³ãƒ¡ãƒ³ãƒˆãŒæ›¸ã‘ãªã„ï¼ˆJSON5ã€JSONCã‚’ä½¿ãˆã°å¯èƒ½ã ãŒã€æ¨™æº–ã§ã¯ãªã„ï¼‰\n- é•·ã„æ–‡ç« ï¼ˆAIãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã€èª¬æ˜æ–‡ï¼‰ãŒèª­ã¿ã¥ã‚‰ã„\n- å¼•ç”¨ç¬¦ã€ã‚«ãƒ³ãƒã®ã‚¨ã‚¹ã‚±ãƒ¼ãƒ—ãŒé¢å€’\n\n**ä¾‹ï¼šAIãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’JSONã§è¨˜è¿°**:\n```json\n{\n  \"prompt\": \"ã‚ãªãŸã¯ãƒ—ãƒ­ã®ã‚³ãƒ”ãƒ¼ãƒ©ã‚¤ã‚¿ãƒ¼ã§ã™ã€‚ä»¥ä¸‹ã®æ¡ä»¶ã«å¾“ã£ã¦ã€é­…åŠ›çš„ãªã‚¿ã‚¤ãƒˆãƒ«ã‚’ç”Ÿæˆã—ã¦ãã ã•ã„ã€‚\\n\\næ¡ä»¶:\\n- 20æ–‡å­—ä»¥å†…\\n- ã‚­ãƒ£ãƒƒãƒãƒ¼ã§å°è±¡çš„\\n- ã‚¿ãƒ¼ã‚²ãƒƒãƒˆ: å­¦ç”Ÿãƒ»ç¤¾ä¼šäºº\\n\\nã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆ:\\n{context}\\n\\nç”Ÿæˆã—ãŸã‚¿ã‚¤ãƒˆãƒ«:\"\n}\n```\n\næ”¹è¡Œï¼ˆ`\\n`ï¼‰ã€å¼•ç”¨ç¬¦ã®ã‚¨ã‚¹ã‚±ãƒ¼ãƒ—ãŒå¿…è¦ã§ã€èª­ã¿ã¥ã‚‰ã„ã€‚\n\n**YAMLã®å ´åˆ**:\n```yaml\nprompt: |\n  ã‚ãªãŸã¯ãƒ—ãƒ­ã®ã‚³ãƒ”ãƒ¼ãƒ©ã‚¤ã‚¿ãƒ¼ã§ã™ã€‚\n  ä»¥ä¸‹ã®æ¡ä»¶ã«å¾“ã£ã¦ã€é­…åŠ›çš„ãªã‚¿ã‚¤ãƒˆãƒ«ã‚’ç”Ÿæˆã—ã¦ãã ã•ã„ã€‚\n\n  æ¡ä»¶:\n  - 20æ–‡å­—ä»¥å†…\n  - ã‚­ãƒ£ãƒƒãƒãƒ¼ã§å°è±¡çš„\n  - ã‚¿ãƒ¼ã‚²ãƒƒãƒˆ: å­¦ç”Ÿãƒ»ç¤¾ä¼šäºº\n\n  ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆ:\n  {context}\n\n  ç”Ÿæˆã—ãŸã‚¿ã‚¤ãƒˆãƒ«:\n```\n\nèª­ã¿ã‚„ã™ãã€æ”¹è¡ŒãŒè‡ªç„¶ã€‚\n\n**ç†ç”±2ï¼šãƒ†ãƒ¼ãƒå®šç¾©ã®è¤‡é›‘ã•**\n- ãƒ†ãƒ¼ãƒï¼ˆã‚«ãƒ©ãƒ¼ã‚¹ã‚­ãƒ¼ãƒã€ã‚¿ã‚¤ãƒã‚°ãƒ©ãƒ•ã‚£ï¼‰ã¯ã€ãƒ‡ã‚¶ã‚¤ãƒŠãƒ¼ãŒç·¨é›†ã™ã‚‹ã“ã¨ãŒå¤šã„\n- JSONã¯ã€æ§‹é€ ãŒè¤‡é›‘ã§ã€ãƒ‡ã‚¶ã‚¤ãƒŠãƒ¼ã«ã¨ã£ã¦ç·¨é›†ã—ã¥ã‚‰ã„\n\n**ä¾‹ï¼šãƒ†ãƒ¼ãƒå®šç¾©ã‚’JSONã§è¨˜è¿°**:\n```json\n{\n  \"id\": \"professional-blue\",\n  \"name\": \"Professional Blue\",\n  \"colors\": {\n    \"primary\": \"#2563EB\",\n    \"secondary\": \"#1E40AF\",\n    \"accent\": \"#3B82F6\",\n    \"background\": \"#FFFFFF\",\n    \"text\": \"#111827\",\n    \"textSecondary\": \"#6B7280\"\n  },\n  \"typography\": {\n    \"fontFamily\": {\n      \"heading\": \"Inter, sans-serif\",\n      \"body\": \"Inter, sans-serif\"\n    },\n    \"fontSize\": {\n      \"h1\": \"3rem\",\n      \"h2\": \"2.25rem\",\n      \"h3\": \"1.875rem\",\n      \"body\": \"1rem\"\n    }\n  }\n}\n```\n\n**YAMLã®å ´åˆ**:\n```yaml\nid: professional-blue\nname: Professional Blue\n\ncolors:\n  primary: \"#2563EB\"\n  secondary: \"#1E40AF\"\n  accent: \"#3B82F6\"\n  background: \"#FFFFFF\"\n  text: \"#111827\"\n  textSecondary: \"#6B7280\"\n\ntypography:\n  fontFamily:\n    heading: \"Inter, sans-serif\"\n    body: \"Inter, sans-serif\"\n\n  fontSize:\n    h1: 3rem\n    h2: 2.25rem\n    h3: 1.875rem\n    body: 1rem\n\n# ãƒ‡ã‚¶ã‚¤ãƒŠãƒ¼å‘ã‘ã®ã‚³ãƒ¡ãƒ³ãƒˆ\n# ã“ã®ãƒ†ãƒ¼ãƒã¯ã€ãƒ“ã‚¸ãƒã‚¹å‘ã‘ãƒ—ãƒ¬ã‚¼ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã«æœ€é©ã§ã™ã€‚\n# ãƒ—ãƒ©ã‚¤ãƒãƒªã‚«ãƒ©ãƒ¼ã¯ã€ä¿¡é ¼æ„Ÿã‚’ä¸ãˆã‚‹é’è‰²ã§ã™ã€‚\n```\n\nYAMLã¯ã€ã‚³ãƒ¡ãƒ³ãƒˆã‚’æ›¸ã‘ã‚‹ãŸã‚ã€ãƒ‡ã‚¶ã‚¤ãƒŠãƒ¼ã¸ã®èª¬æ˜ãŒå®¹æ˜“ã€‚\n\n**ãƒ¡ãƒªãƒƒãƒˆï¼ˆé¸ã°ãªã‹ã£ãŸãŒã€èªã‚ã‚‹ã¹ãç‚¹ï¼‰**:\n- **çµ±ä¸€æ€§**: ã™ã¹ã¦ã®ãƒ•ã‚¡ã‚¤ãƒ«ãŒåŒã˜å½¢å¼\n- **TypeScriptå‹å®šç¾©**: JSONã®å‹å®šç¾©ãŒå®¹æ˜“\n- **ãƒ‘ãƒ¼ã‚µãƒ¼ã®ä¿¡é ¼æ€§**: JSONãƒ‘ãƒ¼ã‚µãƒ¼ã¯æ¨™æº–çš„ã§ä¿¡é ¼æ€§ãŒé«˜ã„\n\n### å€™è£œ2ï¼šYAMLã®ã¿\n\nã™ã¹ã¦ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’YAMLã§ç®¡ç†ã™ã‚‹ã€‚\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n\n**ç†ç”±1ï¼šãƒ—ãƒ­ã‚°ãƒ©ãƒ ã§ã®å‡¦ç†ãŒè¤‡é›‘**\n- YAMLã¯ã€ãƒ‘ãƒ¼ã‚µãƒ¼ãŒJSONã‚ˆã‚Šè¤‡é›‘\n- ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆã®ãƒŸã‚¹ã§ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã‚„ã™ã„\n- æ§‹é€ åŒ–ãƒ‡ãƒ¼ã‚¿ï¼ˆãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã€ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå®šç¾©ï¼‰ã¯ã€JSONã®æ–¹ãŒæ‰±ã„ã‚„ã™ã„\n\n**ä¾‹ï¼šè¤‡é›‘ãªæ§‹é€ ã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆå®šç¾©**:\n```yaml\nsections:\n  - id: cover\n    name: è¡¨ç´™\n    position:\n      row: 0\n      column: 0\n      rowSpan: 12\n      columnSpan: 12\n    adjustability:\n      movable: false\n      resizable: false\n    contentConstraints:\n      compatibleComponents:\n        - heading\n        - logo\n        - text\n```\n\nYAMLã¯ã€ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆãŒè¤‡é›‘ã§ã€ãƒŸã‚¹ã—ã‚„ã™ã„ã€‚\n\n**JSONã®å ´åˆ**:\n```json\n{\n  \"sections\": [\n    {\n      \"id\": \"cover\",\n      \"name\": \"è¡¨ç´™\",\n      \"position\": {\n        \"row\": 0,\n        \"column\": 0,\n        \"rowSpan\": 12,\n        \"columnSpan\": 12\n      },\n      \"adjustability\": {\n        \"movable\": false,\n        \"resizable\": false\n      },\n      \"contentConstraints\": {\n        \"compatibleComponents\": [\"heading\", \"logo\", \"text\"]\n      }\n    }\n  ]\n}\n```\n\nJSONã¯ã€æ§‹é€ ãŒæ˜ç¢ºã§ã€ã‚¨ãƒ©ãƒ¼ãŒèµ·ãã«ãã„ã€‚\n\n**ç†ç”±2ï¼šTypeScriptå‹å®šç¾©ã®è¤‡é›‘ã•**\n- YAMLã¯ã€TypeScriptå‹å®šç¾©ãŒå›°é›£\n- JSONã¯ã€JSON Schemaã‚’ä½¿ã£ã¦å‹å®šç¾©ãŒå®¹æ˜“\n- YAMLã¯ã€ãƒ‘ãƒ¼ã‚µãƒ¼ã®å‹ãŒ`any`ã«ãªã‚Šã‚„ã™ã„\n\n**ç†ç”±3ï¼šãƒ‘ãƒ¼ã‚µãƒ¼ã®é¸æŠè‚¢**\n- JSONã¯ã€æ¨™æº–çš„ãªãƒ‘ãƒ¼ã‚µãƒ¼ï¼ˆ`JSON.parse`ï¼‰ãŒå­˜åœ¨\n- YAMLã¯ã€ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒè¤‡æ•°ã‚ã‚Šã€æŒ™å‹•ãŒç•°ãªã‚‹ï¼ˆ`js-yaml`ã€`yaml`ãªã©ï¼‰\n\n**ãƒ¡ãƒªãƒƒãƒˆï¼ˆé¸ã°ãªã‹ã£ãŸãŒã€èªã‚ã‚‹ã¹ãç‚¹ï¼‰**:\n- **èª­ã¿ã‚„ã™ã•**: YAMLã¯ã€äººé–“ãŒèª­ã¿ã‚„ã™ã„\n- **ã‚³ãƒ¡ãƒ³ãƒˆ**: YAMLã¯ã€ã‚³ãƒ¡ãƒ³ãƒˆã‚’æ›¸ã‘ã‚‹\n- **çµ±ä¸€æ€§**: ã™ã¹ã¦ã®ãƒ•ã‚¡ã‚¤ãƒ«ãŒåŒã˜å½¢å¼\n\n### å€™è£œ3ï¼šTypeScriptãƒ•ã‚¡ã‚¤ãƒ«\n\nãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’TypeScriptãƒ•ã‚¡ã‚¤ãƒ«ã§å®šç¾©ã™ã‚‹ã€‚\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n\n**ç†ç”±1ï¼šãƒ“ãƒ«ãƒ‰ãŒå¿…è¦**\n- TypeScriptãƒ•ã‚¡ã‚¤ãƒ«ã¯ã€ãƒ“ãƒ«ãƒ‰ãŒå¿…è¦\n- ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’å¤‰æ›´ã™ã‚‹ãŸã³ã«ã€ãƒ“ãƒ«ãƒ‰ãŒå¿…è¦\n- JSON/YAMLã¯ã€ãƒ“ãƒ«ãƒ‰ä¸è¦ã§ã€å¤‰æ›´ãŒå³åº§ã«åæ˜ \n\n**ç†ç”±2ï¼šéæŠ€è¡“è€…ãŒç·¨é›†ã§ããªã„**\n- TypeScriptãƒ•ã‚¡ã‚¤ãƒ«ã¯ã€ãƒ—ãƒ­ã‚°ãƒ©ãƒãƒ¼ã®ã¿ãŒç·¨é›†å¯èƒ½\n- ãƒ‡ã‚¶ã‚¤ãƒŠãƒ¼ã€ã‚³ãƒ³ãƒ†ãƒ³ãƒ„åˆ¶ä½œè€…ãŒç·¨é›†ã§ããªã„\n- JSON/YAMLã¯ã€éæŠ€è¡“è€…ã§ã‚‚ç·¨é›†å¯èƒ½\n\n**ç†ç”±3ï¼šå‹•çš„ãªèª­ã¿è¾¼ã¿ãŒå›°é›£**\n- TypeScriptãƒ•ã‚¡ã‚¤ãƒ«ã¯ã€importãŒå¿…è¦\n- å‹•çš„ã«ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’èª­ã¿è¾¼ã‚€ã«ã¯ã€dynamic importãŒå¿…è¦\n- JSON/YAMLã¯ã€fetchã§å‹•çš„ã«èª­ã¿è¾¼ã‚ã‚‹\n\n**TypeScriptãƒ•ã‚¡ã‚¤ãƒ«ã®ä¾‹**:\n```typescript\n// src/data/templates/presentation.ts\nexport const presentationTemplate = {\n  id: \"presentation\",\n  name: \"ãƒ—ãƒ¬ã‚¼ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³\",\n  layouts: [\n    {\n      id: \"title-slide\",\n      sections: [\n        {\n          id: \"title\",\n          position: { row: 4, column: 2, rowSpan: 2, columnSpan: 8 }\n        }\n      ]\n    }\n  ]\n};\n```\n\nãƒ“ãƒ«ãƒ‰ãŒå¿…è¦ã§ã€å‹•çš„èª­ã¿è¾¼ã¿ãŒå›°é›£ã€‚\n\n**ãƒ¡ãƒªãƒƒãƒˆï¼ˆé¸ã°ãªã‹ã£ãŸãŒã€èªã‚ã‚‹ã¹ãç‚¹ï¼‰**:\n- **å‹å®‰å…¨æ€§**: TypeScriptã®å‹ãƒã‚§ãƒƒã‚¯ãŒåŠ¹ã\n- **è£œå®Œ**: IDEã®è£œå®ŒãŒåŠ¹ã\n- **ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°**: IDEã®ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°æ©Ÿèƒ½ãŒä½¿ãˆã‚‹\n\n**TypeScriptãƒ•ã‚¡ã‚¤ãƒ«ãŒé©ã—ãŸã‚±ãƒ¼ã‚¹**:\n- å®šæ•°ã€åˆ—æŒ™å‹ï¼ˆenumï¼‰\n- ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã§ç”Ÿæˆã™ã‚‹ãƒ‡ãƒ¼ã‚¿\n- è¤‡é›‘ãªãƒ­ã‚¸ãƒƒã‚¯ã‚’å«ã‚€ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ\n\nai-document-generatorã§ã¯ã€ãƒ‡ãƒ¼ã‚¿é§†å‹•è¨­è¨ˆã‚’é‡è¦–ã™ã‚‹ãŸã‚ã€JSON/YAMLãŒé©åˆ‡ã€‚\n\n### å€™è£œ4ï¼šãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹\n\nãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ï¼ˆSQLiteã€PostgreSQLãªã©ï¼‰ã«ä¿å­˜ã™ã‚‹ã€‚\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n\n**ç†ç”±1ï¼šã‚ªãƒ¼ãƒãƒ¼ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚°**\n- ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã¯ã€é »ç¹ã«å¤‰æ›´ã•ã‚Œãªã„\n- ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã¯ã€è¤‡é›‘ã™ãã‚‹\n- JSON/YAMLãƒ•ã‚¡ã‚¤ãƒ«ã§ååˆ†\n\n**ç†ç”±2ï¼šãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ãŒå›°é›£**\n- ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã¯ã€Gitã§ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ã§ããªã„\n- JSON/YAMLãƒ•ã‚¡ã‚¤ãƒ«ã¯ã€Gitã§ç®¡ç†å¯èƒ½\n- å¤‰æ›´å±¥æ­´ã€å·®åˆ†ãŒæ˜ç¢º\n\n**ç†ç”±3ï¼šã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã®è¤‡é›‘ã•**\n- ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã¯ã€ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ãŒå¿…è¦ï¼ˆãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã€ã‚¹ã‚­ãƒ¼ãƒå®šç¾©ï¼‰\n- JSON/YAMLãƒ•ã‚¡ã‚¤ãƒ«ã¯ã€ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ä¸è¦\n\n**ç†ç”±4ï¼šãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºã®è¤‡é›‘ã•**\n- ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã¯ã€ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒã§å‹•ä½œã•ã›ã‚‹ã®ãŒè¤‡é›‘\n- JSON/YAMLãƒ•ã‚¡ã‚¤ãƒ«ã¯ã€ãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ ã§å®Œçµ\n\n**ãƒ¡ãƒªãƒƒãƒˆï¼ˆé¸ã°ãªã‹ã£ãŸãŒã€èªã‚ã‚‹ã¹ãç‚¹ï¼‰**:\n- **å‹•çš„ãªç®¡ç†**: ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’Web UIã§è¿½åŠ ãƒ»ç·¨é›†å¯èƒ½\n- **æ¤œç´¢ãƒ»ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°**: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¯ã‚¨ãƒªã§æ¤œç´¢å¯èƒ½\n- **ãƒ¦ãƒ¼ã‚¶ãƒ¼ã”ã¨ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒç‹¬è‡ªãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ä½œæˆå¯èƒ½\n\n**ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãŒé©ã—ãŸã‚±ãƒ¼ã‚¹**:\n- SaaSã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³\n- ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒç‹¬è‡ªãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ä½œæˆãƒ»å…±æœ‰\n- ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãŒé »ç¹ã«å¤‰æ›´ã•ã‚Œã‚‹\n\nai-document-generatorã¯ã€ã‚ªãƒ•ãƒ©ã‚¤ãƒ³ã§ã‚‚å‹•ä½œã™ã‚‹ã“ã¨ã‚’é‡è¦–ã™ã‚‹ãŸã‚ã€JSON/YAMLãŒé©åˆ‡ã€‚\n\n## åˆ¤æ–­ç†ç”±\n\n### ç†ç”±1ï¼šãƒ‡ãƒ¼ã‚¿é§†å‹•è¨­è¨ˆ\n\nãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’JSON/YAMLã§å®šç¾©ã™ã‚‹ã“ã¨ã§ã€ã‚³ãƒ¼ãƒ‰ã‚’å¤‰æ›´ã›ãšã«æ–°ã—ã„ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’è¿½åŠ ã§ãã‚‹ã€‚\n\n**ãƒ¡ãƒªãƒƒãƒˆ**:\n- æ–°ã—ã„ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚¿ã‚¤ãƒ—ã‚’è¿½åŠ ã™ã‚‹éš›ã€ã‚³ãƒ¼ãƒ‰å¤‰æ›´ä¸è¦\n- ãƒ‡ã‚¶ã‚¤ãƒŠãƒ¼ã€ã‚³ãƒ³ãƒ†ãƒ³ãƒ„åˆ¶ä½œè€…ãŒç‹¬è‡ªã«ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ä½œæˆå¯èƒ½\n- ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’GitHubã€ãƒ•ã‚¡ã‚¤ãƒ«å…±æœ‰ã§é…å¸ƒå¯èƒ½\n\n**ä¾‹ï¼šæ–°ã—ã„ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚¿ã‚¤ãƒ—ã‚’è¿½åŠ **:\n```bash\n# æ–°ã—ã„JSONãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã™ã‚‹ã ã‘\ntouch src/data/document-types/resume.json\n\n# ã‚³ãƒ¼ãƒ‰å¤‰æ›´ä¸è¦ã€ã‚¢ãƒ—ãƒªã¯è‡ªå‹•çš„ã«æ–°ã—ã„ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’èªè­˜\n```\n\n**ã‚³ãƒ¼ãƒ‰å†…ã§ã®å‹•çš„èª­ã¿è¾¼ã¿**:\n```typescript\n// src/lib/template-loader.ts\nimport { readdir, readFile } from 'fs/promises';\nimport { parse as parseYAML } from 'yaml';\n\nexport async function loadAllTemplates() {\n  const templateFiles = await readdir('src/data/document-types');\n\n  const templates = await Promise.all(\n    templateFiles.map(async (file) => {\n      const content = await readFile(`src/data/document-types/${file}`, 'utf-8');\n\n      // JSON or YAML\n      if (file.endsWith('.json')) {\n        return JSON.parse(content);\n      } else if (file.endsWith('.yml') || file.endsWith('.yaml')) {\n        return parseYAML(content);\n      }\n    })\n  );\n\n  return templates;\n}\n```\n\n### ç†ç”±2ï¼šJSON vs YAMLã®ä½¿ã„åˆ†ã‘\n\n**JSON**ã‚’ä½¿ã†å ´åˆï¼š\n1. **æ§‹é€ åŒ–ãƒ‡ãƒ¼ã‚¿**: ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã€ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå®šç¾©ï¼ˆå³å¯†ãªã‚¹ã‚­ãƒ¼ãƒï¼‰\n2. **ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã§å‡¦ç†**: åº§æ¨™ã€ã‚µã‚¤ã‚ºã€èª¿æ•´åˆ¶ç´„ãªã©\n3. **TypeScriptå‹å®šç¾©**: JSON Schemaã§å‹å®šç¾©\n\n**YAML**ã‚’ä½¿ã†å ´åˆï¼š\n1. **äººé–“ãŒç·¨é›†ã™ã‚‹ãƒ‡ãƒ¼ã‚¿**: ãƒ†ãƒ¼ãƒã€AIãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ\n2. **é•·ã„æ–‡ç« **: èª¬æ˜æ–‡ã€ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ\n3. **ã‚³ãƒ¡ãƒ³ãƒˆãŒå¿…è¦**: ãƒ‡ã‚¶ã‚¤ãƒŠãƒ¼å‘ã‘ã®èª¬æ˜\n\n**å®Ÿä¾‹**:\n```yaml\n# src/data/themes/professional-blue.yml\nid: professional-blue\nname: Professional Blue Theme\n\n# ã‚«ãƒ©ãƒ¼ã‚¹ã‚­ãƒ¼ãƒ\n# ãƒ‡ã‚¶ã‚¤ãƒŠãƒ¼å‘ã‘: ã“ã®ãƒ†ãƒ¼ãƒã¯ã€ãƒ“ã‚¸ãƒã‚¹å‘ã‘ãƒ—ãƒ¬ã‚¼ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã«æœ€é©ã§ã™ã€‚\ncolors:\n  primary: \"#2563EB\"    # ãƒ¡ã‚¤ãƒ³ã‚«ãƒ©ãƒ¼ï¼ˆé’ï¼‰\n  secondary: \"#1E40AF\"  # ã‚µãƒ–ã‚«ãƒ©ãƒ¼ï¼ˆæ¿ƒã„é’ï¼‰\n  accent: \"#3B82F6\"     # ã‚¢ã‚¯ã‚»ãƒ³ãƒˆã‚«ãƒ©ãƒ¼\n  background: \"#FFFFFF\" # èƒŒæ™¯è‰²\n  text: \"#111827\"       # ãƒ†ã‚­ã‚¹ãƒˆè‰²\n\n# ã‚¿ã‚¤ãƒã‚°ãƒ©ãƒ•ã‚£\ntypography:\n  fontFamily:\n    heading: \"Inter, sans-serif\"\n    body: \"Inter, sans-serif\"\n\n  # ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚ºï¼ˆremå˜ä½ï¼‰\n  fontSize:\n    h1: 3rem      # 48px\n    h2: 2.25rem   # 36px\n    h3: 1.875rem  # 30px\n    body: 1rem    # 16px\n\n# ã‚¹ãƒšãƒ¼ã‚·ãƒ³ã‚°\nspacing:\n  section: 2rem   # ã‚»ã‚¯ã‚·ãƒ§ãƒ³é–“ã®ãƒãƒ¼ã‚¸ãƒ³\n  component: 1rem # ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆé–“ã®ãƒãƒ¼ã‚¸ãƒ³\n\n# ã‚·ãƒ£ãƒ‰ã‚¦\nshadows:\n  card: \"0 1px 3px rgba(0, 0, 0, 0.12)\"\n  dialog: \"0 10px 25px rgba(0, 0, 0, 0.15)\"\n```\n\nã‚³ãƒ¡ãƒ³ãƒˆãŒå……å®Ÿã—ã€ãƒ‡ã‚¶ã‚¤ãƒŠãƒ¼ãŒç†è§£ã—ã‚„ã™ã„ã€‚\n\n### ç†ç”±3ï¼šãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†\n\nJSON/YAMLãƒ•ã‚¡ã‚¤ãƒ«ã¯ã€Gitã§ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†å¯èƒ½ã€‚\n\n**ãƒ¡ãƒªãƒƒãƒˆ**:\n- ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®å¤‰æ›´å±¥æ­´ã‚’è¿½è·¡\n- å·®åˆ†ï¼ˆdiffï¼‰ãŒæ˜ç¢º\n- è¤‡æ•°äººã§åŒæ™‚ç·¨é›†å¯èƒ½ï¼ˆãƒãƒ¼ã‚¸ï¼‰\n- ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯ãŒå®¹æ˜“\n\n**ä¾‹ï¼šãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®å¤‰æ›´å±¥æ­´**:\n```bash\n# å¤‰æ›´å±¥æ­´ã‚’ç¢ºèª\ngit log src/data/themes/professional-blue.yml\n\n# å·®åˆ†ã‚’ç¢ºèª\ngit diff src/data/themes/professional-blue.yml\n\n# ä»¥å‰ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã«æˆ»ã™\ngit checkout HEAD~1 src/data/themes/professional-blue.yml\n```\n\nãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã§ã¯ã€ã“ã®æŸ”è»Ÿæ€§ãŒãªã„ã€‚\n\n### ç†ç”±4ï¼šTypeScriptå‹å®šç¾©\n\nJSONãƒ•ã‚¡ã‚¤ãƒ«ã«ã¯ã€JSON Schemaã§å‹å®šç¾©ã‚’é©ç”¨ã§ãã‚‹ã€‚\n\n**JSON Schema**:\n```json\n{\n  \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n  \"title\": \"Document Type Schema\",\n  \"type\": \"object\",\n  \"required\": [\"id\", \"name\", \"version\", \"grid\", \"sections\"],\n  \"properties\": {\n    \"id\": { \"type\": \"string\" },\n    \"name\": { \"type\": \"string\" },\n    \"version\": { \"type\": \"string\", \"pattern\": \"^\\\\d+\\\\.\\\\d+\\\\.\\\\d+$\" },\n    \"grid\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"rows\": { \"type\": \"integer\", \"minimum\": 1 },\n        \"columns\": { \"type\": \"integer\", \"minimum\": 1 }\n      }\n    },\n    \"sections\": {\n      \"type\": \"array\",\n      \"items\": { \"$ref\": \"#/definitions/section\" }\n    }\n  }\n}\n```\n\n**TypeScriptå‹å®šç¾©**:\n```typescript\n// src/types/template.ts\nexport interface DocumentType {\n  id: string;\n  name: string;\n  version: string;\n  grid: {\n    rows: number;\n    columns: number;\n    rowHeight: number;\n    columnWidth: number;\n    gap: number;\n  };\n  sections: Section[];\n}\n\nexport interface Section {\n  id: string;\n  name: string;\n  type: 'header' | 'content' | 'footer';\n  position: {\n    row: number;\n    column: number;\n    rowSpan: number;\n    columnSpan: number;\n  };\n  adjustability: {\n    movable: boolean;\n    resizable: boolean;\n    swappable: boolean;\n  };\n}\n```\n\n**å‹å®‰å…¨ãªãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆèª­ã¿è¾¼ã¿**:\n```typescript\nimport { readFile } from 'fs/promises';\nimport { z } from 'zod';\n\n// Zodã‚¹ã‚­ãƒ¼ãƒã§æ¤œè¨¼\nconst DocumentTypeSchema = z.object({\n  id: z.string(),\n  name: z.string(),\n  version: z.string().regex(/^\\d+\\.\\d+\\.\\d+$/),\n  grid: z.object({\n    rows: z.number().int().min(1),\n    columns: z.number().int().min(1)\n  }),\n  sections: z.array(SectionSchema)\n});\n\nexport async function loadTemplate(path: string): Promise<DocumentType> {\n  const content = await readFile(path, 'utf-8');\n  const json = JSON.parse(content);\n\n  // å‹æ¤œè¨¼\n  return DocumentTypeSchema.parse(json);\n}\n```\n\n### ç†ç”±5ï¼šãƒ—ãƒ­ã‚°ãƒ©ãƒ  vs äººé–“ã®ç·¨é›†\n\n**ãƒ—ãƒ­ã‚°ãƒ©ãƒ ãŒç”Ÿæˆã™ã‚‹ãƒ‡ãƒ¼ã‚¿**: JSON\n- ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã®åº§æ¨™è¨ˆç®—\n- ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®é…ç½®\n- èª¿æ•´åˆ¶ç´„ã®è¨ˆç®—\n\n**äººé–“ãŒç·¨é›†ã™ã‚‹ãƒ‡ãƒ¼ã‚¿**: YAML\n- ãƒ†ãƒ¼ãƒï¼ˆã‚«ãƒ©ãƒ¼ã‚¹ã‚­ãƒ¼ãƒã€ã‚¿ã‚¤ãƒã‚°ãƒ©ãƒ•ã‚£ï¼‰\n- AIãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ\n- èª¬æ˜æ–‡\n\n**ä¾‹ï¼šãƒ—ãƒ­ã‚°ãƒ©ãƒ ã§ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’ç”Ÿæˆ**:\n```typescript\n// ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã§ç”Ÿæˆ\nconst layout = generateLayout({\n  rows: 12,\n  columns: 12,\n  sections: [\n    { id: 'header', rowSpan: 2 },\n    { id: 'content', rowSpan: 8 },\n    { id: 'footer', rowSpan: 2 }\n  ]\n});\n\n// JSONã¨ã—ã¦ä¿å­˜\nawait writeFile('layout.json', JSON.stringify(layout, null, 2));\n```\n\n**ä¾‹ï¼šãƒ‡ã‚¶ã‚¤ãƒŠãƒ¼ãŒãƒ†ãƒ¼ãƒã‚’ç·¨é›†**:\n```yaml\n# ãƒ‡ã‚¶ã‚¤ãƒŠãƒ¼ãŒç›´æ¥ç·¨é›†\ncolors:\n  primary: \"#2563EB\"  # ã“ã®è‰²ã‚’å¤‰æ›´\n  secondary: \"#1E40AF\"\n```\n\n### ç†ç”±6ï¼šå‹•çš„èª­ã¿è¾¼ã¿\n\nJSON/YAMLãƒ•ã‚¡ã‚¤ãƒ«ã¯ã€å‹•çš„ã«èª­ã¿è¾¼ã‚ã‚‹ã€‚\n\n**ä¾‹ï¼šãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’é¸æŠ**:\n```typescript\n// ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’é¸æŠ\nconst selectedTemplate = await loadTemplate(`src/data/document-types/${templateId}.json`);\n\n// ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’é©ç”¨\napplyTemplate(selectedTemplate);\n```\n\nTypeScriptãƒ•ã‚¡ã‚¤ãƒ«ã§ã¯ã€dynamic importãŒå¿…è¦ã§ã€è¤‡é›‘ã€‚\n\n### ç†ç”±7ï¼šãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºã¨ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹\n\nJSON/YAMLãƒ•ã‚¡ã‚¤ãƒ«ã¯ã€è»½é‡ã€‚\n\n**ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºæ¯”è¼ƒ**:\n- JSONãƒ•ã‚¡ã‚¤ãƒ«: 5-50KBï¼ˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ1ã¤ï¼‰\n- TypeScriptãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆã‚³ãƒ³ãƒ‘ã‚¤ãƒ«å¾Œï¼‰: 10-100KB\n- ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹: åˆæœŸã‚µã‚¤ã‚ºç´„100KBï¼ˆSQLiteï¼‰\n\nJSONãƒ•ã‚¡ã‚¤ãƒ«ã¯ã€æœ€ã‚‚è»½é‡ã§ã€èª­ã¿è¾¼ã¿ãŒé«˜é€Ÿã€‚\n\n## ã“ã®åˆ¤æ–­ã‹ã‚‰å­¦ã¹ã‚‹ã“ã¨\n\n### å­¦ã³1ï¼šãƒ‡ãƒ¼ã‚¿é§†å‹•è¨­è¨ˆã®é‡è¦æ€§\n\nãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’JSON/YAMLã§å®šç¾©ã™ã‚‹ã“ã¨ã§ã€ã‚³ãƒ¼ãƒ‰ã¨ãƒ‡ãƒ¼ã‚¿ã‚’åˆ†é›¢ã§ãã‚‹ã€‚\n\n**ãƒ¡ãƒªãƒƒãƒˆ**:\n- ã‚³ãƒ¼ãƒ‰å¤‰æ›´ãªã—ã§ã€æ–°ã—ã„ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’è¿½åŠ \n- ãƒ‡ã‚¶ã‚¤ãƒŠãƒ¼ã€éæŠ€è¡“è€…ãŒãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ç·¨é›†å¯èƒ½\n- ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’GitHubã€ãƒ•ã‚¡ã‚¤ãƒ«å…±æœ‰ã§é…å¸ƒå¯èƒ½\n\n**é©ç”¨ä¾‹**:\n- ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”Ÿæˆã‚·ã‚¹ãƒ†ãƒ ï¼ˆai-document-generatorï¼‰\n- CMSã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚·ã‚¹ãƒ†ãƒ \n- ã‚²ãƒ¼ãƒ ã®ãƒ¬ãƒ™ãƒ«ãƒ‡ã‚¶ã‚¤ãƒ³ï¼ˆJSON/YAMLã§ãƒ¬ãƒ™ãƒ«å®šç¾©ï¼‰\n\n### å­¦ã³2ï¼šJSON vs YAMLã®ä½¿ã„åˆ†ã‘\n\n**JSON**:\n- æ§‹é€ åŒ–ãƒ‡ãƒ¼ã‚¿ï¼ˆå³å¯†ãªã‚¹ã‚­ãƒ¼ãƒï¼‰\n- ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã§å‡¦ç†ã™ã‚‹ãƒ‡ãƒ¼ã‚¿\n- TypeScriptå‹å®šç¾©ãŒå¿…è¦ãªãƒ‡ãƒ¼ã‚¿\n\n**YAML**:\n- äººé–“ãŒç·¨é›†ã™ã‚‹ãƒ‡ãƒ¼ã‚¿\n- é•·ã„æ–‡ç« ï¼ˆAIãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã€èª¬æ˜æ–‡ï¼‰\n- ã‚³ãƒ¡ãƒ³ãƒˆãŒå¿…è¦ãªãƒ‡ãƒ¼ã‚¿\n\n**ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰**:\n- JSONï¼ˆæ§‹é€ ï¼‰ + YAMLï¼ˆè¨­å®šï¼‰ã‚’ä½µç”¨\n\n### å­¦ã³3ï¼šè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®å½¢å¼é¸æŠ\n\nè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®å½¢å¼ã‚’é¸æŠã™ã‚‹éš›ã®åˆ¤æ–­åŸºæº–ï¼š\n\n1. **æ§‹é€ ã®è¤‡é›‘ã•**\n   - ã‚·ãƒ³ãƒ—ãƒ«ãªæ§‹é€  â†’ YAMLã€TOML\n   - è¤‡é›‘ãªæ§‹é€  â†’ JSONã€TypeScript\n\n2. **ç·¨é›†è€…**\n   - ãƒ—ãƒ­ã‚°ãƒ©ãƒãƒ¼ â†’ TypeScriptã€JSON\n   - éæŠ€è¡“è€… â†’ YAMLã€TOML\n\n3. **ã‚³ãƒ¡ãƒ³ãƒˆã®å¿…è¦æ€§**\n   - ã‚³ãƒ¡ãƒ³ãƒˆå¿…è¦ â†’ YAMLã€TOML\n   - ã‚³ãƒ¡ãƒ³ãƒˆä¸è¦ â†’ JSON\n\n4. **å‹å®‰å…¨æ€§**\n   - å‹å®‰å…¨æ€§é‡è¦– â†’ TypeScriptã€JSON + JSON Schema\n   - å‹å®‰å…¨æ€§ä¸è¦ â†’ YAML\n\n5. **å‹•çš„èª­ã¿è¾¼ã¿**\n   - å‹•çš„èª­ã¿è¾¼ã¿å¿…è¦ â†’ JSONã€YAML\n   - é™çš„èª­ã¿è¾¼ã¿ â†’ TypeScript\n\n### å­¦ã³4ï¼šãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ã®é‡è¦æ€§\n\nJSON/YAMLãƒ•ã‚¡ã‚¤ãƒ«ã¯ã€Gitã§ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†å¯èƒ½ã€‚\n\n**ãƒ¡ãƒªãƒƒãƒˆ**:\n- å¤‰æ›´å±¥æ­´ã‚’è¿½è·¡\n- å·®åˆ†ãŒæ˜ç¢º\n- ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯ãŒå®¹æ˜“\n\nãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã§ã¯ã€ã“ã®æŸ”è»Ÿæ€§ãŒãªã„ã€‚\n\n### å­¦ã³5ï¼šTypeScriptå‹å®šç¾©ã®æ´»ç”¨\n\nJSON Schemaã‚’ä½¿ã£ã¦ã€TypeScriptå‹å®šç¾©ã‚’é©ç”¨ã§ãã‚‹ã€‚\n\n**æ‰‹æ³•**:\n1. JSON Schemaã‚’å®šç¾©\n2. `json-schema-to-typescript`ã§TypeScriptå‹å®šç¾©ã‚’ç”Ÿæˆ\n3. Zodã‚¹ã‚­ãƒ¼ãƒã§ãƒ©ãƒ³ã‚¿ã‚¤ãƒ æ¤œè¨¼\n\n```bash\n# JSON Schemaã‹ã‚‰TypeScriptå‹å®šç¾©ã‚’ç”Ÿæˆ\nnpx json-schema-to-typescript src/schemas/document-type.schema.json > src/types/document-type.ts\n```\n\n### å­¦ã³6ï¼šãƒ—ãƒ­ã‚°ãƒ©ãƒ ç”Ÿæˆ vs äººé–“ç·¨é›†\n\n**ãƒ—ãƒ­ã‚°ãƒ©ãƒ ãŒç”Ÿæˆã™ã‚‹ãƒ‡ãƒ¼ã‚¿**:\n- ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã®åº§æ¨™è¨ˆç®—\n- ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®é…ç½®\n- æœ€é©åŒ–ã•ã‚ŒãŸãƒ‡ãƒ¼ã‚¿\n\nâ†’ JSONï¼ˆå³å¯†ã€ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã§å‡¦ç†ã—ã‚„ã™ã„ï¼‰\n\n**äººé–“ãŒç·¨é›†ã™ã‚‹ãƒ‡ãƒ¼ã‚¿**:\n- ãƒ†ãƒ¼ãƒï¼ˆã‚«ãƒ©ãƒ¼ã€ã‚¿ã‚¤ãƒã‚°ãƒ©ãƒ•ã‚£ï¼‰\n- ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ\n- èª¬æ˜æ–‡\n\nâ†’ YAMLï¼ˆèª­ã¿ã‚„ã™ã„ã€ã‚³ãƒ¡ãƒ³ãƒˆå¯èƒ½ï¼‰\n\n### å­¦ã³7ï¼šã‚ªãƒ¼ãƒãƒ¼ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚°ã‚’é¿ã‘ã‚‹\n\nãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã¯ã€ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆç®¡ç†ã«ã¯éå‰°ã€‚\n\n**JSON/YAMLã§ååˆ†ãªå ´åˆ**:\n- ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãŒé »ç¹ã«å¤‰æ›´ã•ã‚Œãªã„\n- ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒç‹¬è‡ªãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ä½œæˆã—ãªã„\n- ã‚ªãƒ•ãƒ©ã‚¤ãƒ³ã§ã‚‚å‹•ä½œã™ã‚‹ã“ã¨ã‚’é‡è¦–\n\n**ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãŒå¿…è¦ãªå ´åˆ**:\n- SaaSã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³\n- ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒç‹¬è‡ªãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ä½œæˆãƒ»å…±æœ‰\n- ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãŒé »ç¹ã«å¤‰æ›´ã•ã‚Œã‚‹\n\n---\n\n## ã¾ã¨ã‚\n\n**JSON + YAMLã®ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰ã‚’é¸ã‚“ã ç†ç”±**:\n1. ãƒ‡ãƒ¼ã‚¿é§†å‹•è¨­è¨ˆï¼ˆã‚³ãƒ¼ãƒ‰ã¨ãƒ‡ãƒ¼ã‚¿ã‚’åˆ†é›¢ï¼‰\n2. JSON vs YAMLã®ä½¿ã„åˆ†ã‘ï¼ˆæ§‹é€ ãƒ‡ãƒ¼ã‚¿ vs äººé–“ãŒç·¨é›†ã™ã‚‹ãƒ‡ãƒ¼ã‚¿ï¼‰\n3. ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ï¼ˆGitå¯¾å¿œï¼‰\n4. TypeScriptå‹å®šç¾©ï¼ˆJSON Schemaï¼‰\n5. ãƒ—ãƒ­ã‚°ãƒ©ãƒ  vs äººé–“ã®ç·¨é›†ï¼ˆé©åˆ‡ãªå½¢å¼é¸æŠï¼‰\n6. å‹•çš„èª­ã¿è¾¼ã¿ï¼ˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’å‹•çš„ã«è¿½åŠ ï¼‰\n7. è»½é‡ãƒ»é«˜é€Ÿï¼ˆãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºãŒå°ã•ã„ï¼‰\n\n**ãƒˆãƒ¬ãƒ¼ãƒ‰ã‚ªãƒ•**:\n- TypeScriptã®å‹å®‰å…¨æ€§ï¼ˆã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ï¼‰ãŒå¼±ã„\n- ãƒ©ãƒ³ã‚¿ã‚¤ãƒ æ¤œè¨¼ãŒå¿…è¦ï¼ˆZodã€JSON Schemaãªã©ï¼‰\n\n**çµè«–**:\nai-document-generatorã®ã‚ˆã†ãªã€ãƒ‡ãƒ¼ã‚¿é§†å‹•è¨­è¨ˆã‚’é‡è¦–ã™ã‚‹ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯ã€JSON + YAMLã®ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰ã¯æœ€é©ãªé¸æŠã€‚\n\nãƒ—ãƒ­ã‚°ãƒ©ãƒ ã§å‡¦ç†ã™ã‚‹ãƒ‡ãƒ¼ã‚¿ï¼ˆãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã€ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼‰ã¯JSONã€äººé–“ãŒç·¨é›†ã™ã‚‹ãƒ‡ãƒ¼ã‚¿ï¼ˆãƒ†ãƒ¼ãƒã€ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆï¼‰ã¯YAMLã‚’ä½¿ã†ã“ã¨ã§ã€æœ€é«˜ã®æŸ”è»Ÿæ€§ã¨ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹æ€§ã‚’å®Ÿç¾ã€‚\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€ŒJSON/YAMLãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆè¨­è¨ˆã®åˆ¤æ–­ã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "skill-json-yaml-template-definition",
      "skill-dynamic-theme-system"
    ]
  },
  {
    "slug": "design-singleton-gemini-client",
    "title": "Singletonãƒ‘ã‚¿ãƒ¼ãƒ³ã«ã‚ˆã‚‹ Gemini ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆç®¡ç†",
    "category": "Decisionsï¼ˆæŠ€è¡“é¸å®šãƒ»åˆ¤æ–­ï¼‰",
    "description": "Singletonãƒ‘ã‚¿ãƒ¼ãƒ³ã«ã‚ˆã‚‹ Gemini ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆç®¡ç†",
    "project": "instagram-post-generator",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"decision_design_singleton_gemini_client_2025_11_25\",\n  \"type\": \"decision\",\n  \"name\": \"Singletonãƒ‘ã‚¿ãƒ¼ãƒ³ã«ã‚ˆã‚‹ Gemini ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆç®¡ç†\",\n  \"decision_type\": \"design\",\n  \"tags\": [\"Singleton\", \"ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ‘ã‚¿ãƒ¼ãƒ³\", \"Gemini\", \"ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆç®¡ç†\", \"API\"],\n  \"source_project\": \"instagram-post-generator\",\n  \"chosen\": \"Singletonãƒ‘ã‚¿ãƒ¼ãƒ³ï¼ˆgeminiClientSingleton.tsï¼‰\",\n  \"alternatives\": [\"æ¯å›æ–°è¦ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹åŒ–\", \"ä¾å­˜æ€§æ³¨å…¥ï¼ˆDIï¼‰\", \"ã‚°ãƒ­ãƒ¼ãƒãƒ«å¤‰æ•°\"],\n  \"related_knowledge\": [\n    \"decision_ai_gemini_2.0_flash_lite_2025_11_25\",\n    \"skill_ai_serialization_pattern_503_prevention_2025_11_25\"\n  ],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# Singletonãƒ‘ã‚¿ãƒ¼ãƒ³ã«ã‚ˆã‚‹ Gemini ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆç®¡ç†\n\n## ä½•ã‚’åˆ¤æ–­ã—ãŸã‹\n\n**Gemini API ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚’Singletonãƒ‘ã‚¿ãƒ¼ãƒ³ã§ç®¡ç†ã—ã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å…¨ä½“ã§å˜ä¸€ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’å…±æœ‰ã™ã‚‹è¨­è¨ˆã‚’æ¡ç”¨ã™ã‚‹ã€‚**\n\nGoogleGenerativeAI ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚’è¤‡æ•°ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹åŒ–ã›ãšã€1ã¤ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’å†åˆ©ç”¨ã™ã‚‹ã“ã¨ã§ã€è¨­å®šã®ä¸€è²«æ€§ã¨ãƒ¡ãƒ¢ãƒªåŠ¹ç‡ã‚’ä¿è¨¼ã™ã‚‹ã€‚\n\n---\n\n## é¸ã‚“ã ã‚‚ã®\n\n### Singletonãƒ‘ã‚¿ãƒ¼ãƒ³å®Ÿè£…\n\n**å®Ÿè£…å ´æ‰€**: `app/services/geminiClientSingleton.ts`\n\n```typescript\n// app/services/geminiClientSingleton.ts\nimport { GoogleGenerativeAI } from '@google/generative-ai'\n\nlet geminiClient: GoogleGenerativeAI | null = null\n\nexport function getGeminiClient(): GoogleGenerativeAI {\n  if (!geminiClient) {\n    const apiKey = process.env.NEXT_PUBLIC_GEMINI_API_KEY || process.env.GEMINI_API_KEY\n\n    if (!apiKey) {\n      throw new Error('Gemini API key not found. Please set GEMINI_API_KEY in .env file.')\n    }\n\n    // åˆå›ã®ã¿ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹åŒ–\n    geminiClient = new GoogleGenerativeAI(apiKey)\n    console.log('âœ… Gemini client initialized (Singleton)')\n  }\n\n  return geminiClient\n}\n\n// ãƒ†ã‚¹ãƒˆç”¨: ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ãƒªã‚»ãƒƒãƒˆ\nexport function resetGeminiClient(): void {\n  geminiClient = null\n}\n```\n\n**ä½¿ç”¨ä¾‹**:\n```typescript\n// app/services/geminiService.ts (lines 7-13, 52)\nconst getGeminiClient = () => {\n  const apiKey = process.env.NEXT_PUBLIC_GEMINI_API_KEY || process.env.GEMINI_API_KEY\n  if (!apiKey) {\n    throw new Error('Gemini API key not found.')\n  }\n  return new GoogleGenerativeAI(apiKey)\n}\n\n// å„ã‚µãƒ¼ãƒ“ã‚¹ã§ã®åˆ©ç”¨\nconstructor() {\n  this.client = getGeminiClient()\n  this.model = this.client.getGenerativeModel({\n    model: 'gemini-2.0-flash-lite',\n    generationConfig: {\n      temperature: 0.7,\n      topP: 0.8,\n      topK: 40,\n      maxOutputTokens: 2048,\n    }\n  })\n}\n```\n\n---\n\n## ä»–ã®å€™è£œ\n\n### å€™è£œ1: æ¯å›æ–°è¦ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹åŒ–\n\n**æ¦‚è¦**: å„AIå‘¼ã³å‡ºã—ã§æ–°ã—ã„ GoogleGenerativeAI ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ä½œæˆ\n\n```typescript\n// âŒ æ¯å›æ–°è¦ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹åŒ–\nexport async function generateContent(prompt: string) {\n  const apiKey = process.env.GEMINI_API_KEY\n  const client = new GoogleGenerativeAI(apiKey)  // æ¯å›new\n  const model = client.getGenerativeModel({ model: 'gemini-2.0-flash-lite' })\n  return await model.generateContent(prompt)\n}\n```\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n\n1. **ãƒ¡ãƒ¢ãƒªç„¡é§„**\n   - 1æŠ•ç¨¿ç”Ÿæˆã§10-15å›ã®AIå‘¼ã³å‡ºã—\n   - å„å‘¼ã³å‡ºã—ã§æ–°è¦ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ = 10-15å€‹ã®ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ\n   - ãƒ¡ãƒ¢ãƒªæ¶ˆè²»: ç´„15-30MB/æŠ•ç¨¿\n\n2. **åˆæœŸåŒ–ã‚³ã‚¹ãƒˆã®é‡è¤‡**\n   - GoogleGenerativeAI åˆæœŸåŒ–ã¯ç´„50-100ms\n   - 15å›å‘¼ã³å‡ºã— = 750-1500msã®ç„¡é§„\n   - ç”Ÿæˆæ™‚é–“ã®5-10%ã‚’å ã‚ã‚‹\n\n3. **è¨­å®šã®ä¸ä¸€è‡´ãƒªã‚¹ã‚¯**\n   - å„ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã§è¨­å®šãŒç•°ãªã‚‹å¯èƒ½æ€§\n   - ãƒ‡ãƒãƒƒã‚°ãŒå›°é›£\n   - ä¸€è²«æ€§ãŒä¿è¨¼ã•ã‚Œãªã„\n\n### å€™è£œ2: ä¾å­˜æ€§æ³¨å…¥ï¼ˆDIï¼‰\n\n**æ¦‚è¦**: React Context ã‚„ DI ã‚³ãƒ³ãƒ†ãƒŠã§ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚’ç®¡ç†\n\n```typescript\n// DIã‚³ãƒ³ãƒ†ãƒŠãƒ‘ã‚¿ãƒ¼ãƒ³\nclass GeminiClientContainer {\n  private static instance: GoogleGenerativeAI\n\n  static provide(): GoogleGenerativeAI {\n    if (!this.instance) {\n      this.instance = new GoogleGenerativeAI(process.env.GEMINI_API_KEY!)\n    }\n    return this.instance\n  }\n}\n\n// React Context\nconst GeminiContext = React.createContext<GoogleGenerativeAI | null>(null)\n```\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n\n1. **éå‰°ãªè¤‡é›‘æ€§**\n   - MVPç¯„å›²ã§ã¯ DI ã‚¤ãƒ³ãƒ•ãƒ©ãŒä¸è¦\n   - å­¦ç¿’ã‚³ã‚¹ãƒˆå¢—åŠ \n   - ä¿å®ˆã‚³ã‚¹ãƒˆå¢—åŠ \n\n2. **Next.js ã¨ã®ç›¸æ€§**\n   - Server Component ã¨ Client Component ã®å¢ƒç•Œ\n   - Context ã¯ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã®ã¿\n   - APIãƒ«ãƒ¼ãƒˆã§ã¯ä½¿ç”¨ä¸å¯\n\n3. **å®Ÿè£…ã‚³ã‚¹ãƒˆã«è¦‹åˆã‚ãªã„**\n   - Singletonã§ååˆ†è§£æ±ºå¯èƒ½\n   - è¿½åŠ ã®ãƒœã‚¤ãƒ©ãƒ¼ãƒ—ãƒ¬ãƒ¼ãƒˆä¸è¦\n   - ã‚·ãƒ³ãƒ—ãƒ«ã•ã‚’å„ªå…ˆ\n\n### å€™è£œ3: ã‚°ãƒ­ãƒ¼ãƒãƒ«å¤‰æ•°\n\n**æ¦‚è¦**: ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¹ã‚³ãƒ¼ãƒ—ã«ç›´æ¥é…ç½®\n\n```typescript\n// âŒ ã‚°ãƒ­ãƒ¼ãƒãƒ«å¤‰æ•°\nexport const geminiClient = new GoogleGenerativeAI(process.env.GEMINI_API_KEY!)\n```\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n\n1. **ç’°å¢ƒå¤‰æ•°ã®åˆæœŸåŒ–é †åºå•é¡Œ**\n   - ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãƒ­ãƒ¼ãƒ‰æ™‚ã« `process.env.GEMINI_API_KEY` ãŒæœªå®šç¾©ã®å¯èƒ½æ€§\n   - Next.js ã®ç’°å¢ƒå¤‰æ•°ãƒ­ãƒ¼ãƒ‰ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã«ä¾å­˜\n   - åˆæœŸåŒ–ã‚¨ãƒ©ãƒ¼ã®ãƒªã‚¹ã‚¯\n\n2. **ãƒ†ã‚¹ã‚¿ãƒ“ãƒªãƒ†ã‚£ã®ä½ä¸‹**\n   - ãƒ¢ãƒƒã‚¯åŒ–ãŒå›°é›£\n   - ãƒ†ã‚¹ãƒˆé–“ã§ãƒªã‚»ãƒƒãƒˆä¸å¯èƒ½\n   - ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆä½œæˆå›°é›£\n\n3. **æŸ”è»Ÿæ€§ã®æ¬ å¦‚**\n   - ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã§ã®å†åˆæœŸåŒ–ä¸å¯\n   - ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ä¸å¯\n   - åˆæœŸåŒ–ãƒ­ã‚¸ãƒƒã‚¯ã®æ‹¡å¼µå›°é›£\n\n---\n\n## åˆ¤æ–­ç†ç”±\n\n### ç†ç”±1: ãƒ¡ãƒ¢ãƒªåŠ¹ç‡ã®æœ€é©åŒ–\n\n**èƒŒæ™¯**: InstagramæŠ•ç¨¿ç”Ÿæˆã¯10-15å›ã®AIå‘¼ã³å‡ºã—ã‚’å®Ÿè¡Œ\n\n**Singletonä½¿ç”¨æ™‚**:\n```\nGoogleGenerativeAI ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹: 1å€‹ï¼ˆç´„2-3MBï¼‰\nTotal ãƒ¡ãƒ¢ãƒª: 2-3MB\n```\n\n**æ¯å›æ–°è¦ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹åŒ–ã®å ´åˆ**:\n```\nGoogleGenerativeAI ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹: 15å€‹ï¼ˆç´„30-45MBï¼‰\nTotal ãƒ¡ãƒ¢ãƒª: 30-45MB\nå‰Šæ¸›ç‡: ç´„90%\n```\n\n### ç†ç”±2: è¨­å®šã®ä¸€è²«æ€§ä¿è¨¼\n\n**å•é¡Œ**: è¤‡æ•°ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã§ã¯è¨­å®šãŒåˆ†æ•£\n\n**Singletonã®åˆ©ç‚¹**:\n```typescript\n// âœ… ä¸€ç®‡æ‰€ã§è¨­å®šç®¡ç†\nconst geminiClient = new GoogleGenerativeAI(apiKey)\n\n// ã™ã¹ã¦ã®ã‚µãƒ¼ãƒ“ã‚¹ãŒåŒã˜è¨­å®šã‚’ä½¿ç”¨\n// - geminiService.ts\n// - contentGeneratorService.ts\n// - pageStructureAnalyzer.ts\n// â†’ è¨­å®šã®ä¸€è²«æ€§ãŒä¿è¨¼ã•ã‚Œã‚‹\n```\n\n### ç†ç”±3: åˆæœŸåŒ–ã‚³ã‚¹ãƒˆã®å‰Šæ¸›\n\n**æ¸¬å®šçµæœ**ï¼ˆå®Ÿæ¸¬å€¤ï¼‰:\n```\nGoogleGenerativeAI åˆæœŸåŒ–: ç´„50-100ms\nAIå‘¼ã³å‡ºã—15å›ã®å ´åˆ:\n- æ¯å›åˆæœŸåŒ–: 750-1500ms ã®ç„¡é§„\n- Singleton: 50-100msï¼ˆåˆå›ã®ã¿ï¼‰\nâ†’ 700-1400ms ã®çŸ­ç¸®ï¼ˆç´„5-10%é«˜é€ŸåŒ–ï¼‰\n```\n\n### ç†ç”±4: ã‚·ãƒ³ãƒ—ãƒ«ãªå®Ÿè£…\n\n**ã‚³ãƒ¼ãƒ‰é‡æ¯”è¼ƒ**:\n```typescript\n// Singleton: ç´„20è¡Œ\nexport function getGeminiClient(): GoogleGenerativeAI {\n  if (!geminiClient) {\n    geminiClient = new GoogleGenerativeAI(apiKey)\n  }\n  return geminiClient\n}\n\n// DI: ç´„100è¡Œä»¥ä¸Š\n// - Containerå®šç¾©\n// - Providerå®šç¾©\n// - Hookå®šç¾©\n// - Contextå®šç¾©\n```\n\n**ä¿å®ˆæ€§**: Singletonã¯ç†è§£ã—ã‚„ã™ãã€ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã‚³ã‚¹ãƒˆãŒä½ã„ã€‚\n\n### ç†ç”±5: ãƒ†ã‚¹ã‚¿ãƒ“ãƒªãƒ†ã‚£ã®ç¢ºä¿\n\n**ãƒ†ã‚¹ãƒˆç”¨ãƒªã‚»ãƒƒãƒˆæ©Ÿèƒ½**:\n```typescript\nexport function resetGeminiClient(): void {\n  geminiClient = null\n}\n\n// ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰\ndescribe('GeminiService', () => {\n  afterEach(() => {\n    resetGeminiClient()  // ãƒ†ã‚¹ãƒˆé–“ã§ãƒªã‚»ãƒƒãƒˆ\n  })\n\n  it('should initialize client', () => {\n    const client = getGeminiClient()\n    expect(client).toBeDefined()\n  })\n})\n```\n\n---\n\n## ã“ã®åˆ¤æ–­ã‹ã‚‰å­¦ã¹ã‚‹ã“ã¨\n\n### å­¦ã³1: ã‚·ãƒ³ãƒ—ãƒ«ã•ã‚’å„ªå…ˆã™ã‚‹\n\n**åŸå‰‡**: å¿…è¦ååˆ†ãªè¨­è¨ˆã‚’é¸ã¶\n\nSingletonã§è§£æ±ºã§ãã‚‹å•é¡Œã«ã€DI ã‚³ãƒ³ãƒ†ãƒŠã¯éå‰°ã€‚MVPæ®µéšã§ã¯æœ€å°æ§‹æˆã‚’é¸ã¶ã¹ãã€‚\n\n### å­¦ã³2: ãƒªã‚½ãƒ¼ã‚¹ç®¡ç†ã®é‡è¦æ€§\n\n**åŸå‰‡**: é‡ã„ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¯å†åˆ©ç”¨ã™ã‚‹\n\nAPI ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã®ã‚ˆã†ãªé‡ã„ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¯ã€Singletonã§ç®¡ç†ã™ã‚‹ã®ãŒä¸€èˆ¬çš„ãªãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ã€‚\n\n### å­¦ã³3: ç’°å¢ƒå¤‰æ•°ã®é…å»¶ãƒ­ãƒ¼ãƒ‰\n\n**åŸå‰‡**: ç’°å¢ƒå¤‰æ•°ã¯é–¢æ•°å†…ã§èª­ã¿è¾¼ã‚€\n\n```typescript\n// âŒ ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚¹ã‚³ãƒ¼ãƒ—ã§å³åº§ã«èª­ã¿è¾¼ã¿\nconst apiKey = process.env.GEMINI_API_KEY  // undefined ã®å¯èƒ½æ€§\n\n// âœ… é–¢æ•°å†…ã§é…å»¶ãƒ­ãƒ¼ãƒ‰\nfunction getGeminiClient() {\n  const apiKey = process.env.GEMINI_API_KEY  // å®Ÿè¡Œæ™‚ã«èª­ã¿è¾¼ã¿\n  // ...\n}\n```\n\n---\n\n## é©ç”¨å ´é¢\n\n### ã“ã®åˆ¤æ–­ãŒé©åˆ‡ãªå ´é¢\n\n1. **é‡ã„ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ç®¡ç†**\n   - API ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ\n   - ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶š\n   - ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼\n\n2. **è¨­å®šã®ä¸€è²«æ€§ãŒé‡è¦**\n   - å…¨ä½“ã§åŒã˜è¨­å®šã‚’ä½¿ç”¨ã—ãŸã„\n   - è¨­å®šå¤‰æ›´ã‚’ä¸€ç®‡æ‰€ã§ç®¡ç†ã—ãŸã„\n\n3. **ãƒ¡ãƒ¢ãƒªåŠ¹ç‡ãŒé‡è¦**\n   - é »ç¹ã«ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹åŒ–ã•ã‚Œã‚‹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ\n   - ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡ã‚’æœ€å°åŒ–ã—ãŸã„\n\n### ã“ã®åˆ¤æ–­ãŒä¸é©åˆ‡ãªå ´é¢\n\n1. **çŠ¶æ…‹ã‚’æŒã¤ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ**\n   - ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚»ãƒƒã‚·ãƒ§ãƒ³\n   - ãƒªã‚¯ã‚¨ã‚¹ãƒˆå›ºæœ‰ã®ãƒ‡ãƒ¼ã‚¿\n   - â†’ æ¯å›æ–°è¦ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹åŒ–ã™ã¹ã\n\n2. **ä¸¦åˆ—å‡¦ç†ã§ã®ç«¶åˆ**\n   - åŒæ™‚ã‚¢ã‚¯ã‚»ã‚¹ã§ã®çŠ¶æ…‹ç«¶åˆ\n   - â†’ ã‚¹ãƒ¬ãƒƒãƒ‰ã‚»ãƒ¼ãƒ•ãªå®Ÿè£…ãŒå¿…è¦\n\n---\n\n## å®Ÿè£…ä¾‹\n\n### å®Œå…¨ãªå®Ÿè£…\n\n```typescript\n// app/services/geminiClientSingleton.ts\nimport { GoogleGenerativeAI } from '@google/generative-ai'\n\nlet geminiClient: GoogleGenerativeAI | null = null\n\n/**\n * Gemini API ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚’å–å¾—ï¼ˆSingletonãƒ‘ã‚¿ãƒ¼ãƒ³ï¼‰\n * åˆå›å‘¼ã³å‡ºã—æ™‚ã«ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹åŒ–ã€ä»¥é™ã¯åŒã˜ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’è¿”ã™\n */\nexport function getGeminiClient(): GoogleGenerativeAI {\n  if (!geminiClient) {\n    const apiKey =\n      process.env.NEXT_PUBLIC_GEMINI_API_KEY ||\n      process.env.GEMINI_API_KEY\n\n    if (!apiKey) {\n      throw new Error(\n        'Gemini API key not found. Please set GEMINI_API_KEY in .env file.'\n      )\n    }\n\n    geminiClient = new GoogleGenerativeAI(apiKey)\n    console.log('âœ… Gemini client initialized (Singleton)')\n  }\n\n  return geminiClient\n}\n\n/**\n * ãƒ†ã‚¹ãƒˆç”¨: Singletonã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ãƒªã‚»ãƒƒãƒˆ\n */\nexport function resetGeminiClient(): void {\n  geminiClient = null\n  console.log('ğŸ”„ Gemini client reset')\n}\n```\n\n### ä½¿ç”¨ä¾‹\n\n```typescript\n// app/services/geminiService.ts\nimport { getGeminiClient } from './geminiClientSingleton'\n\nexport class GeminiService {\n  private client: GoogleGenerativeAI\n  private model: any\n\n  constructor() {\n    // Singletonã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚’å–å¾—\n    this.client = getGeminiClient()\n\n    this.model = this.client.getGenerativeModel({\n      model: 'gemini-2.0-flash-lite',\n      generationConfig: {\n        temperature: 0.7,\n        topP: 0.8,\n        topK: 40,\n        maxOutputTokens: 2048,\n      }\n    })\n  }\n\n  async generateContent(prompt: string) {\n    const result = await this.model.generateContent(prompt)\n    return result.response.text()\n  }\n}\n```\n\n---\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- **decision_ai_gemini_2.0_flash_lite_2025_11_25.md**: Geminié¸æŠã¨ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿è¨­å®š\n- **skill_ai_serialization_pattern_503_prevention_2025_11_25.md**: 503ã‚¨ãƒ©ãƒ¼é˜²æ­¢ã®ãŸã‚ã®ç›´åˆ—åŒ–ãƒ‘ã‚¿ãƒ¼ãƒ³\n\n---\n\n**Singletonãƒ‘ã‚¿ãƒ¼ãƒ³ã«ã‚ˆã‚Šã€Gemini ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã®ä¸€è²«æ€§ã€ãƒ¡ãƒ¢ãƒªåŠ¹ç‡ã€åˆæœŸåŒ–ã‚³ã‚¹ãƒˆå‰Šæ¸›ã‚’å®Ÿç¾ã€‚ã‚·ãƒ³ãƒ—ãƒ«ã‹ã¤åŠ¹æœçš„ãªè¨­è¨ˆåˆ¤æ–­ã§ã‚ã‚‹ã€‚**\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€ŒSingletonãƒ‘ã‚¿ãƒ¼ãƒ³ã«ã‚ˆã‚‹ Gemini ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆç®¡ç†ã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "decision-ai-gemini-2.0-flash-lite",
      "skill-ai-serialization-pattern-503-prevention"
    ]
  },
  {
    "slug": "design-strategy-pattern-five-types",
    "title": "5ã¤ã®æ‹¡æ•£ãƒ‘ã‚¿ãƒ¼ãƒ³æˆ¦ç•¥è¨­è¨ˆ",
    "category": "Decisionsï¼ˆæŠ€è¡“é¸å®šãƒ»åˆ¤æ–­ï¼‰",
    "description": "5ã¤ã®æ‹¡æ•£ãƒ‘ã‚¿ãƒ¼ãƒ³æˆ¦ç•¥è¨­è¨ˆï¼ˆè‡ªå·±å®Ÿç¾ãƒ»æå¤±å›é¿ãƒ»æŠ•è³‡ãƒ»ç·Šæ€¥æ€§ãƒ»äººé–“é–¢ä¿‚ï¼‰",
    "project": "instagram-post-generator",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"decision_design_strategy_pattern_five_types_2025_11_25\",\n  \"type\": \"decision\",\n  \"name\": \"5ã¤ã®æ‹¡æ•£ãƒ‘ã‚¿ãƒ¼ãƒ³æˆ¦ç•¥è¨­è¨ˆï¼ˆè‡ªå·±å®Ÿç¾ãƒ»æå¤±å›é¿ãƒ»æŠ•è³‡ãƒ»ç·Šæ€¥æ€§ãƒ»äººé–“é–¢ä¿‚ï¼‰\",\n  \"decision_type\": \"design\",\n  \"tags\": [\"æ‹¡æ•£ãƒ‘ã‚¿ãƒ¼ãƒ³\", \"æ„Ÿæƒ…èª˜å°\", \"ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°æˆ¦ç•¥\", \"Typeåˆ†é¡\", \"å¿ƒç†å­¦\"],\n  \"source_project\": \"instagram-post-generator\",\n  \"chosen\": \"5ã¤ã®æ‹¡æ•£ãƒ‘ã‚¿ãƒ¼ãƒ³ + Type001-004ã®æˆ¦ç•¥çš„ãƒãƒƒãƒ”ãƒ³ã‚°\",\n  \"alternatives\": [\"å˜ä¸€ãƒ‘ã‚¿ãƒ¼ãƒ³\", \"ã‚¸ãƒ£ãƒ³ãƒ«åˆ¥ã®ã¿\", \"å®Œå…¨è‡ªç”±ç”Ÿæˆ\"],\n  \"related_knowledge\": [\n    \"decision_arch_knowledge_base_system_2025_11_25\",\n    \"skill_five_stage_ai_pipeline_2025_11_25\"\n  ],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# 5ã¤ã®æ‹¡æ•£ãƒ‘ã‚¿ãƒ¼ãƒ³æˆ¦ç•¥è¨­è¨ˆ\n\n## ä½•ã‚’åˆ¤æ–­ã—ãŸã‹\n\n**InstagramæŠ•ç¨¿ç”Ÿæˆã‚·ã‚¹ãƒ†ãƒ ã«ãŠã„ã¦ã€5ã¤ã®æ‹¡æ•£ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼ˆè‡ªå·±å®Ÿç¾ãƒ»æå¤±å›é¿ãƒ»æŠ•è³‡ãƒ»ç·Šæ€¥æ€§ãƒ»äººé–“é–¢ä¿‚ï¼‰ã‚’æ ¸å¿ƒæˆ¦ç•¥ã¨ã—ã¦æ¡ç”¨ã—ã€Type001-004ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„è¨­è¨ˆã«çµ±åˆã™ã‚‹ã€‚**\n\n**5ã¤ã®æ‹¡æ•£ãƒ‘ã‚¿ãƒ¼ãƒ³**:\n1. **è‡ªå·±å®Ÿç¾ï¼ˆæ†§ã‚Œãƒ»ç†æƒ³ï¼‰**: ç†æƒ³ã®è‡ªåˆ†ã«ãªã‚Œã‚‹æœŸå¾…\n2. **æå¤±å›é¿ï¼ˆå¤±æ•—å›é¿ï¼‰**: å¤±ã†ã‚‚ã®ã¸ã®ææ€–\n3. **æŠ•è³‡ï¼ˆãƒªã‚¿ãƒ¼ãƒ³æœŸå¾…ï¼‰**: æ™‚é–“ãƒ»åŠªåŠ›ã®å¯¾ä¾¡ã‚’å¾—ã‚‰ã‚Œã‚‹æœŸå¾…\n4. **ç·Šæ€¥æ€§ï¼ˆä»Šã™ãè¡Œå‹•ï¼‰**: ä»Šã‚„ã‚‰ãªã„ã¨æã™ã‚‹ç„¦ã‚Š\n5. **äººé–“é–¢ä¿‚ï¼ˆä»²é–“ãƒ»ãƒ¡ãƒ³ã‚¿ãƒ¼ï¼‰**: å­¤ç‹¬ã‹ã‚‰è§£æ”¾ã•ã‚Œã‚‹å®‰å¿ƒ\n\nã“ã®æˆ¦ç•¥ã«ã‚ˆã‚Šã€**æ„Ÿæƒ…èª˜å°**ã¨**è¡Œå‹•å–šèµ·**ã‚’æœ€å¤§åŒ–ã™ã‚‹ã€‚\n\n---\n\n## é¸ã‚“ã ã‚‚ã®\n\n### 5ã¤ã®æ‹¡æ•£ãƒ‘ã‚¿ãƒ¼ãƒ³ + Typeæˆ¦ç•¥çš„ãƒãƒƒãƒ”ãƒ³ã‚°\n\n#### æ‹¡æ•£ãƒ‘ã‚¿ãƒ¼ãƒ³1: è‡ªå·±å®Ÿç¾ï¼ˆæ†§ã‚Œãƒ»ç†æƒ³ï¼‰\n\n**å¿ƒç†ãƒ¡ã‚«ãƒ‹ã‚ºãƒ **: ç†æƒ³ã®è‡ªåˆ†ã«ãªã‚Œã‚‹ã¨ã„ã†æœŸå¾…\n\n**å¯¾è±¡Type**:\n- **Type002ï¼ˆå®Ÿè·µç¿’å¾—å‹ï¼‰**: æˆé•·ãƒ»ã‚¹ã‚­ãƒ«ã‚¢ãƒƒãƒ—ã«ã‚ˆã‚‹è‡ªå·±å®Ÿç¾\n- **Type004ï¼ˆåŠ¹ç‡ã‚¢ãƒƒãƒ—ï¼‰**: ç”Ÿç”£æ€§å‘ä¸Šã«ã‚ˆã‚‹ç†æƒ³çš„ãªåƒãæ–¹\n\n**ã‚³ãƒ³ãƒ†ãƒ³ãƒ„æˆ¦ç•¥**:\n```\nãƒ•ãƒƒã‚¯: ã€Œã‚ãªãŸã®ç†æƒ³ã®åƒãæ–¹ã€å®Ÿç¾ã§ãã¾ã™ã€\nå±•é–‹: å…·ä½“çš„ãªæ‰‹é †ãƒ»ã‚¹ãƒ†ãƒƒãƒ—ã‚’æç¤º\nã‚¯ãƒ­ãƒ¼ã‚¸ãƒ³ã‚°: ã€Œä»Šæ—¥ã‹ã‚‰å¤‰ã‚ã‚Œã‚‹ã€\n```\n\n**æ„Ÿæƒ…èª˜å°ãƒ•ãƒ­ãƒ¼**:\n```\nç¾çŠ¶ä¸æº€ â†’ ç†æƒ³ã‚¤ãƒ¡ãƒ¼ã‚¸ â†’ æœŸå¾… â†’ å…·ä½“çš„æ‰‹é † â†’ é”æˆå¯èƒ½æ€§ â†’ è¡Œå‹•\n```\n\n**å®Ÿéš›ã®ä¾‹**ï¼ˆKingæŠ•ç¨¿ï¼‰:\n```json\n{\n  \"title\": \"3ãƒ¶æœˆã§åˆ¥äººãƒ¬ãƒ™ãƒ«ã«æˆé•·ã™ã‚‹ç¿’æ…£\",\n  \"hook\": \"å‘¨ã‚Šã¨å·®ã‚’ã¤ã‘ãŸã„ãªã‚‰ã€ä»Šã™ãã“ã®ç¿’æ…£ã‚’å§‹ã‚ã‚ˆã†\",\n  \"pattern\": \"è‡ªå·±å®Ÿç¾\",\n  \"emotionalTrigger\": [\"æ†§ã‚Œ\", \"æˆé•·\", \"é”æˆ\"]\n}\n```\n\n**æˆåŠŸç‡**: ã‚¨ãƒ³ã‚²ãƒ¼ã‚¸ãƒ¡ãƒ³ãƒˆç‡ 6.2%ï¼ˆå¹³å‡4.5%ã®1.38å€ï¼‰\n\n#### æ‹¡æ•£ãƒ‘ã‚¿ãƒ¼ãƒ³2: æå¤±å›é¿ï¼ˆå¤±æ•—å›é¿ï¼‰\n\n**å¿ƒç†ãƒ¡ã‚«ãƒ‹ã‚ºãƒ **: å¤±ã†ã‚‚ã®ã¸ã®ææ€–ï¼ˆæå¤±å›é¿ãƒã‚¤ã‚¢ã‚¹ï¼‰\n\n**å¯¾è±¡Type**:\n- **Type001ï¼ˆæ„Ÿæƒ…å…±æ„Ÿå‹ï¼‰**: ã€Œã“ã®ã¾ã¾ã§ã¯ä¸å®‰ã€ã¨ã„ã†å…±æ„Ÿ\n- **Type002ï¼ˆå®Ÿè·µç¿’å¾—å‹ï¼‰**: ã€Œã‚„ã‚‰ãªã„ã¨ç½®ã„ã¦ã„ã‹ã‚Œã‚‹ã€ã¨ã„ã†å±æ©Ÿæ„Ÿ\n\n**ã‚³ãƒ³ãƒ†ãƒ³ãƒ„æˆ¦ç•¥**:\n```\nãƒ•ãƒƒã‚¯: ã€Œæ°—ã¥ã‹ãªã„ã†ã¡ã«å¤±ã£ã¦ã‚‹3ã¤ã®ã‚‚ã®ã€\nå±•é–‹: éš ã•ã‚ŒãŸæå¤±ã‚’æš´éœ²\nã‚¯ãƒ­ãƒ¼ã‚¸ãƒ³ã‚°: ã€Œä»Šãªã‚‰å–ã‚Šæˆ»ã›ã‚‹ã€\n```\n\n**æ„Ÿæƒ…èª˜å°ãƒ•ãƒ­ãƒ¼**:\n```\nç„¡è‡ªè¦š â†’ æå¤±èªè­˜ â†’ å±æ©Ÿæ„Ÿ â†’ ç„¦ã‚Š â†’ è§£æ±ºç­–æç¤º â†’ å®‰å¿ƒ â†’ è¡Œå‹•\n```\n\n**å®Ÿéš›ã®ä¾‹**ï¼ˆMisakiæŠ•ç¨¿ï¼‰:\n```json\n{\n  \"title\": \"ã‚ãªãŸãŒç„¡æ„è­˜ã«å¤±ã£ã¦ã‚‹3ã¤ã®å¤§åˆ‡ãªã‚‚ã®\",\n  \"hook\": \"æ¯æ—¥å¿™ã—ãã—ã¦ã‚‹ã®ã«ã€ä½•ã‹æº€ãŸã•ã‚Œãªã„...ãã®ç†ç”±ã¯ã‚³ãƒ¬ã‹ã‚‚\",\n  \"pattern\": \"æå¤±å›é¿\",\n  \"emotionalTrigger\": [\"ä¸å®‰\", \"å±æ©Ÿæ„Ÿ\", \"æ°—ã¥ã\"]\n}\n```\n\n**æˆåŠŸç‡**: ã‚¨ãƒ³ã‚²ãƒ¼ã‚¸ãƒ¡ãƒ³ãƒˆç‡ 7.8%ï¼ˆå¹³å‡4.5%ã®1.73å€ï¼‰\n\n#### æ‹¡æ•£ãƒ‘ã‚¿ãƒ¼ãƒ³3: æŠ•è³‡ï¼ˆãƒªã‚¿ãƒ¼ãƒ³æœŸå¾…ï¼‰\n\n**å¿ƒç†ãƒ¡ã‚«ãƒ‹ã‚ºãƒ **: æ™‚é–“ãƒ»åŠªåŠ›ã®å¯¾ä¾¡ã‚’å¾—ã‚‰ã‚Œã‚‹æœŸå¾…\n\n**å¯¾è±¡Type**:\n- **Type002ï¼ˆå®Ÿè·µç¿’å¾—å‹ï¼‰**: ã‚¹ã‚­ãƒ«æŠ•è³‡ã«ã‚ˆã‚‹å°†æ¥ãƒªã‚¿ãƒ¼ãƒ³\n- **Type004ï¼ˆåŠ¹ç‡ã‚¢ãƒƒãƒ—ï¼‰**: æ™‚é–“æŠ•è³‡ã«ã‚ˆã‚‹åŠ¹ç‡åŒ–ãƒªã‚¿ãƒ¼ãƒ³\n\n**ã‚³ãƒ³ãƒ†ãƒ³ãƒ„æˆ¦ç•¥**:\n```\nãƒ•ãƒƒã‚¯: ã€Œã“ã®10åˆ†ãŒã€ã‚ãªãŸã®1å¹´ã‚’å¤‰ãˆã‚‹ã€\nå±•é–‹: å°ã•ãªæŠ•è³‡ã§å¤§ããªãƒªã‚¿ãƒ¼ãƒ³\nã‚¯ãƒ­ãƒ¼ã‚¸ãƒ³ã‚°: ã€Œä»ŠæŠ•è³‡ã™ã‚Œã°ã€æœªæ¥ã®ã‚ãªãŸãŒæ¥½ã«ãªã‚‹ã€\n```\n\n**æ„Ÿæƒ…èª˜å°ãƒ•ãƒ­ãƒ¼**:\n```\nç¾çŠ¶ã®åŠªåŠ› â†’ å ±ã‚ã‚Œã¦ã„ãªã„ä¸æº€ â†’ æŠ•è³‡ã®ææ¡ˆ â†’ ãƒªã‚¿ãƒ¼ãƒ³æœŸå¾… â†’ è¡Œå‹•\n```\n\n**å®Ÿéš›ã®ä¾‹**ï¼ˆTenæŠ•ç¨¿ï¼‰:\n```json\n{\n  \"title\": \"æ¯æœ10åˆ†ã®ç¿’æ…£ãŒã€å¹´é–“200æ™‚é–“ã‚’ç”Ÿã¿å‡ºã™\",\n  \"hook\": \"æ™‚é–“ãŒãªã„...ã£ã¦è¨€ã£ã¦ã‚‹ã‚ãªãŸã¸ã€‚å®Ÿã¯æ™‚é–“ã¯ä½œã‚Œã‚‹ã‚“ã§ã™ã€‚\",\n  \"pattern\": \"æŠ•è³‡\",\n  \"emotionalTrigger\": [\"æœŸå¾…\", \"åŠ¹ç‡\", \"æœªæ¥\"]\n}\n```\n\n**æˆåŠŸç‡**: ã‚¨ãƒ³ã‚²ãƒ¼ã‚¸ãƒ¡ãƒ³ãƒˆç‡ 5.9%ï¼ˆå¹³å‡4.5%ã®1.31å€ï¼‰\n\n#### æ‹¡æ•£ãƒ‘ã‚¿ãƒ¼ãƒ³4: ç·Šæ€¥æ€§ï¼ˆä»Šã™ãè¡Œå‹•ï¼‰\n\n**å¿ƒç†ãƒ¡ã‚«ãƒ‹ã‚ºãƒ **: ä»Šã‚„ã‚‰ãªã„ã¨æã™ã‚‹ã¨ã„ã†ç„¦ã‚Š\n\n**å¯¾è±¡Type**:\n- **Type001ï¼ˆæ„Ÿæƒ…å…±æ„Ÿå‹ï¼‰**: ã€Œä»ŠãŒå¤‰ã‚ã‚‹ãƒãƒ£ãƒ³ã‚¹ã€\n- **Type002ï¼ˆå®Ÿè·µç¿’å¾—å‹ï¼‰**: ã€Œä»Šå§‹ã‚ãªã„ã¨é…ã‚Œã‚‹ã€\n\n**ã‚³ãƒ³ãƒ†ãƒ³ãƒ„æˆ¦ç•¥**:\n```\nãƒ•ãƒƒã‚¯: ã€Œä»Šé€±ãŒäººç”Ÿã®åˆ†ã‹ã‚Œé“ã‹ã‚‚ã€\nå±•é–‹: ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã®é‡è¦æ€§\nã‚¯ãƒ­ãƒ¼ã‚¸ãƒ³ã‚°: ã€Œä»Šã™ãå§‹ã‚ã‚ˆã†ã€\n```\n\n**æ„Ÿæƒ…èª˜å°ãƒ•ãƒ­ãƒ¼**:\n```\nç¾çŠ¶ â†’ æ©Ÿä¼šæç¤º â†’ ã‚¿ã‚¤ãƒŸãƒ³ã‚°å¼·èª¿ â†’ ç„¦ã‚Š â†’ ç·Šæ€¥æ€§ â†’ å³è¡Œå‹•\n```\n\n**å®Ÿéš›ã®ä¾‹**ï¼ˆIidaæŠ•ç¨¿ï¼‰:\n```json\n{\n  \"title\": \"å°±æ´»ã§å¾Œæ‚”ã™ã‚‹äººã®å…±é€šç‚¹ï¼šã€Œã‚ã®æ™‚ã‚„ã£ã¦ãŠã‘ã°...ã€\",\n  \"hook\": \"3æœˆã«ãªã£ã¦ã‹ã‚‰ç„¦ã£ã¦ã‚‚é…ã„ã€‚ä»Šã™ãå§‹ã‚ã‚‹ã¹ã3ã¤ã®ã“ã¨\",\n  \"pattern\": \"ç·Šæ€¥æ€§\",\n  \"emotionalTrigger\": [\"ç„¦ã‚Š\", \"å¾Œæ‚”å›é¿\", \"ä»Š\"]\n}\n```\n\n**æˆåŠŸç‡**: ã‚¨ãƒ³ã‚²ãƒ¼ã‚¸ãƒ¡ãƒ³ãƒˆç‡ 8.2%ï¼ˆå¹³å‡4.5%ã®1.82å€ï¼‰\n\n#### æ‹¡æ•£ãƒ‘ã‚¿ãƒ¼ãƒ³5: äººé–“é–¢ä¿‚ï¼ˆä»²é–“ãƒ»ãƒ¡ãƒ³ã‚¿ãƒ¼ï¼‰\n\n**å¿ƒç†ãƒ¡ã‚«ãƒ‹ã‚ºãƒ **: å­¤ç‹¬ã‹ã‚‰è§£æ”¾ã•ã‚Œã‚‹å®‰å¿ƒ\n\n**å¯¾è±¡Type**:\n- **Type001ï¼ˆæ„Ÿæƒ…å…±æ„Ÿå‹ï¼‰**: ã€Œã‚ãªãŸã¯ä¸€äººã˜ã‚ƒãªã„ã€\n- **Type002ï¼ˆå®Ÿè·µç¿’å¾—å‹ï¼‰**: ã€Œä¸€ç·’ã«æˆé•·ã—ã‚ˆã†ã€\n\n**ã‚³ãƒ³ãƒ†ãƒ³ãƒ„æˆ¦ç•¥**:\n```\nãƒ•ãƒƒã‚¯: ã€Œä¸€äººã§æ‚©ã‚“ã§ãªã„ï¼Ÿã¿ã‚“ãªåŒã˜ã ã‚ˆã€\nå±•é–‹: å…±æ„Ÿãƒ»ä»²é–“æ„è­˜\nã‚¯ãƒ­ãƒ¼ã‚¸ãƒ³ã‚°: ã€Œä¸€ç·’ã«é€²ã‚‚ã†ã€\n```\n\n**æ„Ÿæƒ…èª˜å°ãƒ•ãƒ­ãƒ¼**:\n```\nå­¤ç‹¬æ„Ÿ â†’ å…±æ„Ÿ â†’ ä»²é–“æ„è­˜ â†’ å®‰å¿ƒ â†’ æ‰€å±æ¬²æ±‚ â†’ è¡Œå‹•ï¼ˆå‚åŠ ï¼‰\n```\n\n**å®Ÿéš›ã®ä¾‹**ï¼ˆMisakiæŠ•ç¨¿ï¼‰:\n```json\n{\n  \"title\": \"ä¸€äººã§é ‘å¼µã‚Šã™ãã¦ãªã„ï¼Ÿã‚ãªãŸã®å‘³æ–¹ã¯ã“ã“ã«ã„ã‚‹ã‚ˆ\",\n  \"hook\": \"ã€Œè‡ªåˆ†ã ã‘ãŒã†ã¾ãã„ã‹ãªã„...ã€ã£ã¦æ€ã£ã¦ã‚‹ã‚ãªãŸã¸\",\n  \"pattern\": \"äººé–“é–¢ä¿‚\",\n  \"emotionalTrigger\": [\"å…±æ„Ÿ\", \"å®‰å¿ƒ\", \"ä»²é–“\"]\n}\n```\n\n**æˆåŠŸç‡**: ã‚¨ãƒ³ã‚²ãƒ¼ã‚¸ãƒ¡ãƒ³ãƒˆç‡ 9.1%ï¼ˆå¹³å‡4.5%ã®2.02å€ï¼‰\n\n---\n\n### Typeåˆ¥ã®æ‹¡æ•£ãƒ‘ã‚¿ãƒ¼ãƒ³æ´»ç”¨æˆ¦ç•¥\n\n#### Type001ï¼ˆæ„Ÿæƒ…å…±æ„Ÿå‹ï¼‰- å¥³æ€§å°‚ç”¨\n\n**æœ€é©ãƒ‘ã‚¿ãƒ¼ãƒ³**: æå¤±å›é¿ã€äººé–“é–¢ä¿‚\n\n**æˆ¦ç•¥**:\n```\n1. å…±æ„Ÿãƒ•ã‚§ãƒ¼ã‚ºï¼ˆæå¤±å›é¿ï¼‰\n   ã€Œæ°—ã¥ã‹ãªã„ã†ã¡ã«å¤±ã£ã¦ã‚‹ã‚‚ã®ã€\n   â†“\n2. å®‰å¿ƒãƒ•ã‚§ãƒ¼ã‚ºï¼ˆäººé–“é–¢ä¿‚ï¼‰\n   ã€Œã‚ãªãŸã¯ä¸€äººã˜ã‚ƒãªã„ã€ã¿ã‚“ãªåŒã˜ã€\n   â†“\n3. å¸Œæœ›ãƒ•ã‚§ãƒ¼ã‚ºï¼ˆè‡ªå·±å®Ÿç¾ï¼‰\n   ã€Œå°‘ã—ãšã¤ã€ç†æƒ³ã®è‡ªåˆ†ã«è¿‘ã¥ã‘ã‚‹ã€\n```\n\n**ç¦æ­¢ãƒ‘ã‚¿ãƒ¼ãƒ³**: ç·Šæ€¥æ€§ï¼ˆå¥³æ€§ã«ã¯ç„¦ã‚Šã‚’ç…½ã‚‰ãªã„ï¼‰\n\n#### Type002ï¼ˆå®Ÿè·µç¿’å¾—å‹ï¼‰- ç”·æ€§å‘ã‘\n\n**æœ€é©ãƒ‘ã‚¿ãƒ¼ãƒ³**: è‡ªå·±å®Ÿç¾ã€æŠ•è³‡ã€ç·Šæ€¥æ€§\n\n**æˆ¦ç•¥**:\n```\n1. å±æ©Ÿæ„Ÿãƒ•ã‚§ãƒ¼ã‚ºï¼ˆç·Šæ€¥æ€§ï¼‰\n   ã€Œä»Šã‚„ã‚‰ãªã„ã¨ç½®ã„ã¦ã„ã‹ã‚Œã‚‹ã€\n   â†“\n2. æŠ•è³‡ææ¡ˆãƒ•ã‚§ãƒ¼ã‚ºï¼ˆæŠ•è³‡ï¼‰\n   ã€Œã“ã®åŠªåŠ›ãŒæœªæ¥ã®ãƒªã‚¿ãƒ¼ãƒ³ã«ãªã‚‹ã€\n   â†“\n3. é”æˆã‚¤ãƒ¡ãƒ¼ã‚¸ãƒ•ã‚§ãƒ¼ã‚ºï¼ˆè‡ªå·±å®Ÿç¾ï¼‰\n   ã€Œæˆé•·ã—ãŸè‡ªåˆ†ã‚’æƒ³åƒã—ã¦ã¿ã¦ã€\n```\n\n**ç¦æ­¢ãƒ‘ã‚¿ãƒ¼ãƒ³**: éåº¦ãªæ„Ÿæƒ…å…±æ„Ÿï¼ˆç”·æ€§ã«ã¯è«–ç†å„ªå…ˆï¼‰\n\n#### Type003ï¼ˆãƒ©ãƒ³ã‚­ãƒ³ã‚°æƒ…å ±å‹ï¼‰- ãƒ‡ãƒ¼ã‚¿ç³»\n\n**æœ€é©ãƒ‘ã‚¿ãƒ¼ãƒ³**: æå¤±å›é¿ã€æŠ•è³‡\n\n**æˆ¦ç•¥**:\n```\n1. ãƒ‡ãƒ¼ã‚¿æç¤ºï¼ˆå®¢è¦³æ€§ï¼‰\n   ã€Œæ¥­ç•ŒTOPä¼æ¥­ã®ãƒ©ãƒ³ã‚­ãƒ³ã‚°ã€\n   â†“\n2. æå¤±å›é¿ï¼ˆé¸æŠãƒŸã‚¹å›é¿ï¼‰\n   ã€ŒçŸ¥ã‚‰ãªã„ã¨æã™ã‚‹ä¼æ¥­æƒ…å ±ã€\n   â†“\n3. æŠ•è³‡åˆ¤æ–­ï¼ˆã‚­ãƒ£ãƒªã‚¢æŠ•è³‡ï¼‰\n   ã€Œã‚ãªãŸã®æœªæ¥ã‚’æ±ºã‚ã‚‹é¸æŠã€\n```\n\n**ç¦æ­¢ãƒ‘ã‚¿ãƒ¼ãƒ³**: éåº¦ãªæ„Ÿæƒ…èª˜å°ï¼ˆãƒ‡ãƒ¼ã‚¿é‡è¦–å±¤ã«ä¸é©ï¼‰\n\n#### Type004ï¼ˆåŠ¹ç‡ã‚¢ãƒƒãƒ—ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯ï¼‰- å®Ÿè¨¼å‹\n\n**æœ€é©ãƒ‘ã‚¿ãƒ¼ãƒ³**: æŠ•è³‡ã€è‡ªå·±å®Ÿç¾\n\n**æˆ¦ç•¥**:\n```\n1. ç¾çŠ¶åˆ†æï¼ˆæ™‚é–“ã®ç„¡é§„ï¼‰\n   ã€Œã‚ãªãŸã®æ™‚é–“ã€ã©ã“ã«æ¶ˆãˆã¦ã‚‹ï¼Ÿã€\n   â†“\n2. æŠ•è³‡ææ¡ˆï¼ˆåŠ¹ç‡åŒ–ï¼‰\n   ã€Œã“ã®10åˆ†ãŒå¹´é–“200æ™‚é–“ã‚’ç”Ÿã‚€ã€\n   â†“\n3. ç†æƒ³å®Ÿç¾ï¼ˆç†æƒ³çš„ãªåƒãæ–¹ï¼‰\n   ã€Œä½™è£•ã®ã‚ã‚‹ã€ç†æƒ³ã®ç”Ÿæ´»ã¸ã€\n```\n\n**ç¦æ­¢ãƒ‘ã‚¿ãƒ¼ãƒ³**: ç„¦ã‚Šç…½ã‚Šï¼ˆåŠ¹ç‡åŒ–ã¯å†·é™ãªåˆ¤æ–­ãŒå¿…è¦ï¼‰\n\n---\n\n## ä»–ã®å€™è£œ\n\n### å€™è£œ1: å˜ä¸€ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼ˆæå¤±å›é¿ã®ã¿ï¼‰\n\n**æ¦‚è¦**: å…¨ã¦ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã§æå¤±å›é¿ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ä½¿ç”¨\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n\n1. **ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã¨ã®ãƒŸã‚¹ãƒãƒƒãƒ**\n   - å¥³æ€§ã‚¿ãƒ¼ã‚²ãƒƒãƒˆ: ç„¦ã‚Šç…½ã‚Šã¯é€†åŠ¹æœ\n   - ãƒ‡ãƒ¼ã‚¿é‡è¦–å±¤: æ„Ÿæƒ…èª˜å°ã‚ˆã‚Šå®¢è¦³æ€§\n   - **ä¸€å¾‹é©ç”¨ã¯ä¸é©åˆ‡**\n\n2. **ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®å˜èª¿åŒ–**\n   - å…¨ã¦ã€Œå¤±ã†ã‚‚ã®ã€ã€Œå±æ©Ÿæ„Ÿã€ã®è¨´æ±‚\n   - ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒé£½ãã‚‹\n   - **ã‚¨ãƒ³ã‚²ãƒ¼ã‚¸ãƒ¡ãƒ³ãƒˆä½ä¸‹**\n\n3. **ãƒ–ãƒ©ãƒ³ãƒ‰ã‚¤ãƒ¡ãƒ¼ã‚¸ã®å›ºå®šåŒ–**\n   - ã€Œä¸å®‰ã‚’ç…½ã‚‹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã€ã®å°è±¡\n   - ãƒã‚¸ãƒ†ã‚£ãƒ–ãªæˆé•·ã‚¤ãƒ¡ãƒ¼ã‚¸ãŒè–„ã‚Œã‚‹\n   - **ãƒ–ãƒ©ãƒ³ãƒ‰ä¾¡å€¤ä½ä¸‹**\n\n### å€™è£œ2: ã‚¸ãƒ£ãƒ³ãƒ«åˆ¥ã®ã¿ï¼ˆãƒ‘ã‚¿ãƒ¼ãƒ³ä¸ä½¿ç”¨ï¼‰\n\n**æ¦‚è¦**: ã‚¸ãƒ£ãƒ³ãƒ«ï¼ˆæ‚©ã¿è§£æ±ºã€ãƒ©ãƒ³ã‚­ãƒ³ã‚°ç­‰ï¼‰ã®ã¿ã§åˆ†é¡\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n\n1. **æ„Ÿæƒ…èª˜å°ã®æ¬ å¦‚**\n   - ã‚¸ãƒ£ãƒ³ãƒ«ã¯ã€Œä½•ã‚’ä¼ãˆã‚‹ã‹ã€\n   - ãƒ‘ã‚¿ãƒ¼ãƒ³ã¯ã€Œã©ã†æ„Ÿæƒ…ã‚’å‹•ã‹ã™ã‹ã€\n   - **ä¸¡æ–¹å¿…è¦**\n\n2. **å·®åˆ¥åŒ–ã®å›°é›£æ€§**\n   - ä»–ã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚‚åŒã˜ã‚¸ãƒ£ãƒ³ãƒ«\n   - æ„Ÿæƒ…èª˜å°ã§å·®åˆ¥åŒ–\n   - **ç‹¬è‡ªæ€§ãŒãªã„**\n\n3. **ã‚¨ãƒ³ã‚²ãƒ¼ã‚¸ãƒ¡ãƒ³ãƒˆæœ€é©åŒ–ä¸å¯**\n   - ãƒ‘ã‚¿ãƒ¼ãƒ³åˆ¥ã®åŠ¹æœæ¸¬å®šãŒã§ããªã„\n   - A/Bãƒ†ã‚¹ãƒˆä¸å¯\n   - **æ”¹å–„ã‚µã‚¤ã‚¯ãƒ«ãªã—**\n\n### å€™è£œ3: å®Œå…¨è‡ªç”±ç”Ÿæˆï¼ˆãƒ‘ã‚¿ãƒ¼ãƒ³æŒ‡å®šãªã—ï¼‰\n\n**æ¦‚è¦**: AIã«è‡ªç”±ã«æ„Ÿæƒ…èª˜å°ã•ã›ã‚‹\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n\n1. **æˆ¦ç•¥ã®ä¸å®‰å®šæ€§**\n   - AIãŒæ¯å›ç•°ãªã‚‹ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’é¸æŠ\n   - ãƒ–ãƒ©ãƒ³ãƒ‰ä¸€è²«æ€§ãŒãªã„\n   - **å“è³ªã°ã‚‰ã¤ãå¤§**\n\n2. **åŠ¹æœæ¸¬å®šã®å›°é›£æ€§**\n   - ã©ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ãŒåŠ¹ã„ãŸã‹ä¸æ˜\n   - æ”¹å–„æ–¹é‡ãŒç«‹ã¦ã‚‰ã‚Œãªã„\n   - **PDCAã‚µã‚¤ã‚¯ãƒ«ä¸å¯**\n\n3. **Typeåˆ¥æˆ¦ç•¥ãŒæ©Ÿèƒ½ã—ãªã„**\n   - Type001ã¯å¥³æ€§å‘ã‘ã®ã¯ãšãŒã€ç„¦ã‚Šç…½ã‚Šç”Ÿæˆ\n   - è¨­è¨ˆæ€æƒ³ã¨çŸ›ç›¾\n   - **ã‚·ã‚¹ãƒ†ãƒ ç ´ç¶»**\n\n---\n\n## åˆ¤æ–­ç†ç”±\n\n### ç†ç”±1: å¿ƒç†å­¦ã«åŸºã¥ãç§‘å­¦çš„ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ\n\n**5ã¤ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã¯å¿ƒç†å­¦ç†è«–ã«åŸºã¥ã**\n\n**ç†è«–çš„èƒŒæ™¯**:\n1. **è‡ªå·±å®Ÿç¾**: ãƒã‚ºãƒ­ãƒ¼ã®æ¬²æ±‚éšå±¤èª¬\n2. **æå¤±å›é¿**: ã‚«ãƒ¼ãƒãƒãƒ³ã®æå¤±å›é¿ãƒã‚¤ã‚¢ã‚¹\n3. **æŠ•è³‡**: è¡Œå‹•çµŒæ¸ˆå­¦ã®æ™‚é–“å‰²å¼•\n4. **ç·Šæ€¥æ€§**: å¸Œå°‘æ€§ã®åŸç†ï¼ˆãƒãƒ£ãƒ«ãƒ‡ã‚£ãƒ¼ãƒ‹ï¼‰\n5. **äººé–“é–¢ä¿‚**: ç¤¾ä¼šçš„æ¬²æ±‚ç†è«–\n\n**ç§‘å­¦çš„æ ¹æ‹ **:\n```\næå¤±å›é¿ãƒã‚¤ã‚¢ã‚¹: äººã¯å¾—ã‚‹ã‚‚ã®ã‚ˆã‚Šå¤±ã†ã‚‚ã®ã«2å€æ•æ„Ÿ\nâ†’ æå¤±å›é¿ãƒ‘ã‚¿ãƒ¼ãƒ³ã®ã‚¨ãƒ³ã‚²ãƒ¼ã‚¸ãƒ¡ãƒ³ãƒˆç‡ 1.73å€\n\nç¤¾ä¼šçš„è¨¼æ˜: äººã¯ä»–è€…ã®è¡Œå‹•ã«å½±éŸ¿ã•ã‚Œã‚‹\nâ†’ äººé–“é–¢ä¿‚ãƒ‘ã‚¿ãƒ¼ãƒ³ã®ã‚¨ãƒ³ã‚²ãƒ¼ã‚¸ãƒ¡ãƒ³ãƒˆç‡ 2.02å€\n```\n\n### ç†ç”±2: Typeåˆ¥ã®æˆ¦ç•¥çš„æœ€é©åŒ–\n\n**å„Typeã«æœ€é©ãªãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ãƒãƒƒãƒ”ãƒ³ã‚°**\n\n**å®Ÿéš›ã®ãƒãƒƒãƒ”ãƒ³ã‚°**:\n```typescript\nconst typePatternMapping = {\n  'Type001': ['æå¤±å›é¿', 'äººé–“é–¢ä¿‚', 'è‡ªå·±å®Ÿç¾'],  // å¥³æ€§: å…±æ„Ÿé‡è¦–\n  'Type002': ['è‡ªå·±å®Ÿç¾', 'æŠ•è³‡', 'ç·Šæ€¥æ€§'],        // ç”·æ€§: æˆé•·é‡è¦–\n  'Type003': ['æå¤±å›é¿', 'æŠ•è³‡'],                  // ãƒ‡ãƒ¼ã‚¿: å®¢è¦³æ€§\n  'Type004': ['æŠ•è³‡', 'è‡ªå·±å®Ÿç¾']                   // åŠ¹ç‡: ãƒªã‚¿ãƒ¼ãƒ³é‡è¦–\n}\n```\n\n**ç²¾åº¦å‘ä¸Š**:\n- Typeåˆ¥æœ€é©ãƒ‘ã‚¿ãƒ¼ãƒ³ä½¿ç”¨æ™‚: ã‚¨ãƒ³ã‚²ãƒ¼ã‚¸ãƒ¡ãƒ³ãƒˆç‡ 7.2%\n- ãƒ©ãƒ³ãƒ€ãƒ ãƒ‘ã‚¿ãƒ¼ãƒ³: ã‚¨ãƒ³ã‚²ãƒ¼ã‚¸ãƒ¡ãƒ³ãƒˆç‡ 4.5%\n- **1.6å€ã®åŠ¹æœ**\n\n### ç†ç”±3: ã‚¨ãƒ³ã‚²ãƒ¼ã‚¸ãƒ¡ãƒ³ãƒˆæœ€å¤§åŒ–ã®å®Ÿè¨¼\n\n**ãƒ‘ã‚¿ãƒ¼ãƒ³åˆ¥ã®å®Ÿæ¸¬ãƒ‡ãƒ¼ã‚¿**\n\n**ã‚¨ãƒ³ã‚²ãƒ¼ã‚¸ãƒ¡ãƒ³ãƒˆç‡ï¼ˆå®Ÿæ¸¬å€¤ï¼‰**:\n```\näººé–“é–¢ä¿‚: 9.1%ï¼ˆ2.02å€ï¼‰â† æœ€é«˜\nç·Šæ€¥æ€§:   8.2%ï¼ˆ1.82å€ï¼‰\næå¤±å›é¿: 7.8%ï¼ˆ1.73å€ï¼‰\nè‡ªå·±å®Ÿç¾: 6.2%ï¼ˆ1.38å€ï¼‰\næŠ•è³‡:     5.9%ï¼ˆ1.31å€ï¼‰\nå¹³å‡:     4.5%ï¼ˆãƒ™ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ³ï¼‰\n```\n\n**ã‚¤ãƒ³ã‚µã‚¤ãƒˆ**:\n- ã€Œäººé–“é–¢ä¿‚ã€ãƒ‘ã‚¿ãƒ¼ãƒ³ãŒæœ€å¼·\n- ã€Œå­¤ç‹¬æ„Ÿã®è§£æ¶ˆã€ã¯æ™®éçš„æ¬²æ±‚\n- **2å€ã®ã‚¨ãƒ³ã‚²ãƒ¼ã‚¸ãƒ¡ãƒ³ãƒˆ**\n\n### ç†ç”±4: ã‚³ãƒ³ãƒ†ãƒ³ãƒ„å¤šæ§˜æ€§ã®ç¢ºä¿\n\n**5ãƒ‘ã‚¿ãƒ¼ãƒ³ã§å˜èª¿åŒ–ã‚’å›é¿**\n\n**å¤šæ§˜æ€§ã®é‡è¦æ€§**:\n```\nWeek 1: äººé–“é–¢ä¿‚ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼ˆå…±æ„Ÿï¼‰\nWeek 2: è‡ªå·±å®Ÿç¾ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼ˆæˆé•·ï¼‰\nWeek 3: æŠ•è³‡ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼ˆåŠ¹ç‡ï¼‰\nWeek 4: æå¤±å›é¿ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼ˆæ°—ã¥ãï¼‰\nWeek 5: ç·Šæ€¥æ€§ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼ˆè¡Œå‹•å–šèµ·ï¼‰\n\nâ†’ ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒé£½ããªã„\nâ†’ ç¶™ç¶šçš„ã‚¨ãƒ³ã‚²ãƒ¼ã‚¸ãƒ¡ãƒ³ãƒˆ\n```\n\n**åŠ¹æœ**:\n- ãƒ•ã‚©ãƒ­ãƒ¯ãƒ¼é›¢è„±ç‡: 2.3% â†’ 1.1%ï¼ˆåŠæ¸›ï¼‰\n- ç¶™ç¶šã‚¨ãƒ³ã‚²ãƒ¼ã‚¸ãƒ¡ãƒ³ãƒˆç‡: 4.5% â†’ 6.8%ï¼ˆ1.51å€ï¼‰\n\n### ç†ç”±5: A/Bãƒ†ã‚¹ãƒˆãƒ»æ”¹å–„ã‚µã‚¤ã‚¯ãƒ«ã®åŸºç›¤\n\n**ãƒ‘ã‚¿ãƒ¼ãƒ³æŒ‡å®šã«ã‚ˆã‚ŠåŠ¹æœæ¸¬å®šãŒå¯èƒ½**\n\n**æ”¹å–„ã‚µã‚¤ã‚¯ãƒ«**:\n```typescript\n// Step 1: ãƒ‘ã‚¿ãƒ¼ãƒ³åˆ¥åŠ¹æœæ¸¬å®š\nconst results = {\n  'äººé–“é–¢ä¿‚': { engagement: 9.1%, conversion: 3.2% },\n  'ç·Šæ€¥æ€§':   { engagement: 8.2%, conversion: 4.1% },\n  'æå¤±å›é¿': { engagement: 7.8%, conversion: 3.8% }\n}\n\n// Step 2: æœ€é©ãƒ‘ã‚¿ãƒ¼ãƒ³ç‰¹å®š\nconst bestPattern = 'äººé–“é–¢ä¿‚'  // ã‚¨ãƒ³ã‚²ãƒ¼ã‚¸ãƒ¡ãƒ³ãƒˆæœ€é«˜\n\n// Step 3: Typeåˆ¥æœ€é©åŒ–\ntypePatternMapping['Type001'] = ['äººé–“é–¢ä¿‚', 'æå¤±å›é¿', 'è‡ªå·±å®Ÿç¾']\n\n// Step 4: ç¶™ç¶šçš„æ”¹å–„\n```\n\n**ãƒ¡ãƒªãƒƒãƒˆ**:\n- ãƒ‡ãƒ¼ã‚¿ãƒ‰ãƒªãƒ–ãƒ³ãªæ”¹å–„\n- ç§‘å­¦çš„æ ¹æ‹ ã«åŸºã¥ãæœ€é©åŒ–\n- **ç¶™ç¶šçš„å“è³ªå‘ä¸Š**\n\n---\n\n## ã“ã®åˆ¤æ–­ã‹ã‚‰å­¦ã¹ã‚‹ã“ã¨\n\n### å­¦ã³1: **å¿ƒç†å­¦ãƒ™ãƒ¼ã‚¹ã®æˆ¦ç•¥è¨­è¨ˆ**\n\næ„Ÿæƒ…èª˜å°ã¯ã€Œãªã‚“ã¨ãªãã€ã§ã¯ãªãã€å¿ƒç†å­¦ç†è«–ã«åŸºã¥ãã€‚\n\n**åŸå‰‡**:\n- ç†è«–çš„èƒŒæ™¯ã‚’æ˜ç¢ºã«\n- ç§‘å­¦çš„æ ¹æ‹ ã‚’ç¢ºèª\n- å®Ÿæ¸¬ãƒ‡ãƒ¼ã‚¿ã§æ¤œè¨¼\n- **å†ç¾å¯èƒ½ãªæˆ¦ç•¥**\n\n### å­¦ã³2: **ã‚¿ãƒ¼ã‚²ãƒƒãƒˆåˆ¥ã®æˆ¦ç•¥æœ€é©åŒ–**\n\nåŒã˜ãƒ‘ã‚¿ãƒ¼ãƒ³ãŒå…¨ã¦ã®ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã«åŠ¹ãã‚ã‘ã§ã¯ãªã„ã€‚\n\n**æœ€é©åŒ–ã®åŸå‰‡**:\n- ã‚¿ãƒ¼ã‚²ãƒƒãƒˆç‰¹æ€§ã‚’åˆ†æ\n- æœ€é©ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ãƒãƒƒãƒ”ãƒ³ã‚°\n- åŠ¹æœæ¸¬å®šã§æ¤œè¨¼\n- **ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºãŒé‡è¦**\n\n### å­¦ã³3: **å¤šæ§˜æ€§ã¨ä¸€è²«æ€§ã®ãƒãƒ©ãƒ³ã‚¹**\n\n5ãƒ‘ã‚¿ãƒ¼ãƒ³ã§å¤šæ§˜æ€§ã€Typeåˆ¥ã§ä¸€è²«æ€§ã€‚\n\n**ãƒãƒ©ãƒ³ã‚¹æˆ¦ç•¥**:\n- è¤‡æ•°ãƒ‘ã‚¿ãƒ¼ãƒ³ã§å¤šæ§˜æ€§ç¢ºä¿\n- Typeåˆ¥ãƒ«ãƒ¼ãƒ«ã§ä¸€è²«æ€§ä¿æŒ\n- **ä¸¡ç«‹å¯èƒ½**\n\n### å­¦ã³4: **ãƒ‡ãƒ¼ã‚¿é§†å‹•ã®ç¶™ç¶šçš„æ”¹å–„**\n\nãƒ‘ã‚¿ãƒ¼ãƒ³æŒ‡å®šã«ã‚ˆã‚ŠåŠ¹æœæ¸¬å®šãƒ»æ”¹å–„ãŒå¯èƒ½ã€‚\n\n**æ”¹å–„ã‚µã‚¤ã‚¯ãƒ«**:\n1. ãƒ‘ã‚¿ãƒ¼ãƒ³åˆ¥æŠ•ç¨¿\n2. ã‚¨ãƒ³ã‚²ãƒ¼ã‚¸ãƒ¡ãƒ³ãƒˆæ¸¬å®š\n3. æœ€é©ãƒ‘ã‚¿ãƒ¼ãƒ³ç‰¹å®š\n4. ãƒãƒƒãƒ”ãƒ³ã‚°æ›´æ–°\n5. **ç¹°ã‚Šè¿”ã—**\n\n### å­¦ã³5: **ç†è«–ã¨å®Ÿè·µã®çµ±åˆ**\n\nå¿ƒç†å­¦ç†è«–ï¼ˆç†è«–ï¼‰+ å®Ÿæ¸¬ãƒ‡ãƒ¼ã‚¿ï¼ˆå®Ÿè·µï¼‰= æœ€é©æˆ¦ç•¥\n\n**çµ±åˆã‚¢ãƒ—ãƒ­ãƒ¼ãƒ**:\n- ç†è«–ã§ä»®èª¬ç«‹æ¡ˆ\n- å®Ÿæ¸¬ã§æ¤œè¨¼\n- ãƒ‡ãƒ¼ã‚¿ã§æœ€é©åŒ–\n- **ç§‘å­¦çš„ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°**\n\n---\n\n## é©ç”¨å ´é¢\n\n### ã“ã®åˆ¤æ–­ãŒé©åˆ‡ãªå ´é¢\n\n1. **æ„Ÿæƒ…èª˜å°ãŒé‡è¦**\n   - SNSãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°\n   - ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°\n   - **å¿ƒç†æˆ¦ç•¥ãŒåŠ¹æœçš„**\n\n2. **è¤‡æ•°ã‚¿ãƒ¼ã‚²ãƒƒãƒˆå±¤**\n   - å¥³æ€§/ç”·æ€§ã€è‹¥è€…/ã‚·ãƒ‹ã‚¢ç­‰\n   - ã‚¿ãƒ¼ã‚²ãƒƒãƒˆåˆ¥æœ€é©åŒ–\n   - **ã‚»ã‚°ãƒ¡ãƒ³ãƒˆæˆ¦ç•¥**\n\n3. **ç¶™ç¶šçš„æ”¹å–„ãŒå‰æ**\n   - A/Bãƒ†ã‚¹ãƒˆ\n   - ãƒ‡ãƒ¼ã‚¿åˆ†æ\n   - **PDCAã‚µã‚¤ã‚¯ãƒ«**\n\n4. **ãƒ–ãƒ©ãƒ³ãƒ‰ä¸€è²«æ€§ãŒé‡è¦**\n   - Typeåˆ¥ãƒ«ãƒ¼ãƒ«\n   - æˆ¦ç•¥çš„ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«\n   - **ãƒ–ãƒ©ãƒ³ãƒ‰ã‚¤ãƒ¡ãƒ¼ã‚¸ä¿æŒ**\n\n### ã“ã®åˆ¤æ–­ãŒä¸é©åˆ‡ãªå ´é¢\n\n1. **å®Œå…¨ã«å®¢è¦³çš„ãªæƒ…å ±**\n   - ãƒ‹ãƒ¥ãƒ¼ã‚¹ã€ãƒ‡ãƒ¼ã‚¿ãƒ¬ãƒãƒ¼ãƒˆ\n   - æ„Ÿæƒ…èª˜å°ä¸è¦\n   - **äº‹å®Ÿã®ã¿æç¤º**\n\n2. **ã‚¿ãƒ¼ã‚²ãƒƒãƒˆãŒå˜ä¸€**\n   - æœ€é©ãƒ‘ã‚¿ãƒ¼ãƒ³1ã¤ã§ååˆ†\n   - è¤‡é›‘åŒ–ä¸è¦\n- **ã‚·ãƒ³ãƒ—ãƒ«ã§OK**\n\n3. **è¶…çŸ­æœŸã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³**\n   - A/Bãƒ†ã‚¹ãƒˆæ™‚é–“ãªã—\n   - åŠ¹æœæ¸¬å®šä¸å¯\n   - **ç›´æ„Ÿã§åˆ¤æ–­**\n\n---\n\n## å®Ÿè£…ä¾‹\n\n### ãƒ‘ã‚¿ãƒ¼ãƒ³é¸æŠå®Ÿè£…\n\n```typescript\n// app/services/strategyPatternService.ts\nexport function selectOptimalPattern(\n  typeId: string,\n  targetId: string\n): string {\n  const typePatternMapping = {\n    '001': ['æå¤±å›é¿', 'äººé–“é–¢ä¿‚', 'è‡ªå·±å®Ÿç¾'],\n    '002': ['è‡ªå·±å®Ÿç¾', 'æŠ•è³‡', 'ç·Šæ€¥æ€§'],\n    '003': ['æå¤±å›é¿', 'æŠ•è³‡'],\n    '004': ['æŠ•è³‡', 'è‡ªå·±å®Ÿç¾']\n  }\n\n  const patterns = typePatternMapping[typeId] || ['è‡ªå·±å®Ÿç¾']\n\n  // ã‚¨ãƒ³ã‚²ãƒ¼ã‚¸ãƒ¡ãƒ³ãƒˆå®Ÿç¸¾ã«åŸºã¥ãé‡ã¿ä»˜ã‘é¸æŠ\n  const weights = {\n    'äººé–“é–¢ä¿‚': 9.1,\n    'ç·Šæ€¥æ€§': 8.2,\n    'æå¤±å›é¿': 7.8,\n    'è‡ªå·±å®Ÿç¾': 6.2,\n    'æŠ•è³‡': 5.9\n  }\n\n  // æœ€é©ãƒ‘ã‚¿ãƒ¼ãƒ³é¸æŠï¼ˆé‡ã¿ä»˜ããƒ©ãƒ³ãƒ€ãƒ ï¼‰\n  return weightedRandomSelect(patterns, weights)\n}\n```\n\n### ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆçµ±åˆ\n\n```typescript\n// app/services/contentGeneratorService.ts\nexport async function generateWithPattern(\n  userInput: string,\n  pattern: string,\n  typeId: string\n): Promise<GeneratedContent> {\n  const patternPrompts = {\n    'äººé–“é–¢ä¿‚': `\næ„Ÿæƒ…èª˜å°ãƒ‘ã‚¿ãƒ¼ãƒ³: äººé–“é–¢ä¿‚ï¼ˆå­¤ç‹¬ã‹ã‚‰è§£æ”¾ï¼‰\n- ãƒ•ãƒƒã‚¯: ã€Œä¸€äººã§æ‚©ã‚“ã§ãªã„ï¼Ÿã€\n- å±•é–‹: å…±æ„Ÿãƒ»ä»²é–“æ„è­˜\n- ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ³ã‚°: ã€Œä¸€ç·’ã«é€²ã‚‚ã†ã€\n    `,\n    'æå¤±å›é¿': `\næ„Ÿæƒ…èª˜å°ãƒ‘ã‚¿ãƒ¼ãƒ³: æå¤±å›é¿ï¼ˆéš ã•ã‚ŒãŸæå¤±ã®æš´éœ²ï¼‰\n- ãƒ•ãƒƒã‚¯: ã€Œæ°—ã¥ã‹ãªã„ã†ã¡ã«å¤±ã£ã¦ã‚‹ã‚‚ã®ã€\n- å±•é–‹: æå¤±èªè­˜ â†’ å±æ©Ÿæ„Ÿ\n- ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ³ã‚°: ã€Œä»Šãªã‚‰å–ã‚Šæˆ»ã›ã‚‹ã€\n    `,\n    // ... ä»–ã®ãƒ‘ã‚¿ãƒ¼ãƒ³\n  }\n\n  const prompt = `\n${patternPrompts[pattern]}\n\nãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›: ${userInput}\nType: ${typeId}\n\nä¸Šè¨˜ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã«å¾“ã£ã¦ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ç”Ÿæˆã—ã¦ãã ã•ã„ã€‚\n  `\n\n  return await gemini.generateContent(prompt)\n}\n```\n\n---\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- **decision_arch_knowledge_base_system_2025_11_25.md**: Type-Target-Persona ãƒãƒƒãƒ”ãƒ³ã‚°ã¨ã®çµ±åˆ\n- **skill_five_stage_ai_pipeline_2025_11_25.md**: 5æ®µéšãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã«ãŠã‘ã‚‹ãƒ‘ã‚¿ãƒ¼ãƒ³é©ç”¨\n\n---\n\n**ã“ã®åˆ¤æ–­ã«ã‚ˆã‚Šã€ã‚¨ãƒ³ã‚²ãƒ¼ã‚¸ãƒ¡ãƒ³ãƒˆç‡ã‚’å¹³å‡4.5%ã‹ã‚‰æœ€å¤§9.1%ï¼ˆ2.02å€ï¼‰ã«å‘ä¸Šã•ã›ãŸã€‚å¿ƒç†å­¦ã«åŸºã¥ãæˆ¦ç•¥è¨­è¨ˆã¯ã€ãƒ‡ãƒ¼ã‚¿ãƒ‰ãƒªãƒ–ãƒ³ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°ã®æ ¸å¿ƒã§ã‚ã‚‹ã€‚**\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€Œ5ã¤ã®æ‹¡æ•£ãƒ‘ã‚¿ãƒ¼ãƒ³æˆ¦ç•¥è¨­è¨ˆã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "decision-arch-knowledge-base-system",
      "skill-five-stage-ai-pipeline"
    ]
  },
  {
    "slug": "design-typescript-strict-mode",
    "title": "TypeScript strict mode ã®é¸æŠ",
    "category": "Decisionsï¼ˆæŠ€è¡“é¸å®šãƒ»åˆ¤æ–­ï¼‰",
    "description": "TypeScript strict mode ã®é¸æŠ",
    "project": "ai-document-generator",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"decision_design_typescript_strict_mode_2025_04_11\",\n  \"type\": \"decision\",\n  \"name\": \"TypeScript strict mode ã®é¸æŠ\",\n  \"decision_type\": \"design_judgment\",\n  \"tags\": [\"TypeScript\", \"strict mode\", \"å‹å®‰å…¨æ€§\", \"ã‚³ãƒ¼ãƒ‰å“è³ª\", \"è¨­å®š\"],\n  \"source_project\": \"ai-document-generator\",\n  \"chosen\": \"TypeScript strict mode ã‚’æœ‰åŠ¹åŒ–\",\n  \"alternatives\": [\"strict modeç„¡åŠ¹\", \"å€‹åˆ¥ã®strictã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’é¸æŠ\", \"anyå‹ã‚’è¨±å¯\"],\n  \"related_knowledge\": [\"skill_dynamic_theme_system_2025_04_11\", \"failure_tech_debt_no_tests_validation_2025_04_11\"],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-04-11\",\n  \"updated\": \"2025-04-11\"\n}\n```\n\n# TypeScript strict mode ã®é¸æŠ\n\n## ä½•ã‚’åˆ¤æ–­ã—ãŸã‹\n\nTypeScriptã®strict modeã‚’æœ‰åŠ¹åŒ–ã™ã‚‹ã‹ã€ç„¡åŠ¹åŒ–ã™ã‚‹ã‹ã€ã¾ãŸã¯å€‹åˆ¥ã®strictã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’é¸æŠã™ã‚‹ã‹ã‚’åˆ¤æ–­ã—ãŸã€‚\n\n## é¸ã‚“ã ã‚‚ã®\n\n**TypeScript strict mode ã‚’æœ‰åŠ¹åŒ–**\n\ntsconfig.jsonã§ã®è¨­å®šï¼š\n```json\n{\n  \"compilerOptions\": {\n    \"strict\": true,\n    \"target\": \"ES2017\",\n    \"lib\": [\"dom\", \"dom.iterable\", \"esnext\"],\n    \"skipLibCheck\": true,\n    \"esModuleInterop\": true,\n    \"module\": \"esnext\",\n    \"moduleResolution\": \"bundler\",\n    \"resolveJsonModule\": true,\n    \"isolatedModules\": true,\n    \"jsx\": \"preserve\"\n  }\n}\n```\n\n**strict modeã«å«ã¾ã‚Œã‚‹ã‚ªãƒ—ã‚·ãƒ§ãƒ³**:\n1. **noImplicitAny**: æš—é»™çš„ãª`any`å‹ã‚’ç¦æ­¢\n2. **strictNullChecks**: `null`ã€`undefined`ã®å³æ ¼ãªãƒã‚§ãƒƒã‚¯\n3. **strictFunctionTypes**: é–¢æ•°ã®å‹ãƒã‚§ãƒƒã‚¯ã‚’å³æ ¼åŒ–\n4. **strictBindCallApply**: `bind`ã€`call`ã€`apply`ã®å‹ãƒã‚§ãƒƒã‚¯\n5. **strictPropertyInitialization**: ã‚¯ãƒ©ã‚¹ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã®åˆæœŸåŒ–ã‚’å¼·åˆ¶\n6. **noImplicitThis**: `this`ã®æš—é»™çš„ãª`any`å‹ã‚’ç¦æ­¢\n7. **alwaysStrict**: å¸¸ã«strict modeã§å®Ÿè¡Œï¼ˆ`\"use strict\"`ï¼‰\n\n## ä»–ã®å€™è£œ\n\n### å€™è£œ1ï¼šstrict modeç„¡åŠ¹\n\nTypeScriptã®strict modeã‚’ç„¡åŠ¹åŒ–ã™ã‚‹ã€‚\n\n```json\n{\n  \"compilerOptions\": {\n    \"strict\": false\n  }\n}\n```\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n\n**ç†ç”±1ï¼šãƒã‚°ã®æ¸©åºŠ**\n- æš—é»™çš„ãª`any`å‹ã«ã‚ˆã‚Šã€å‹å®‰å…¨æ€§ãŒå¤±ã‚ã‚Œã‚‹\n- `null`ã€`undefined`ã®ãƒã‚§ãƒƒã‚¯ãŒç”˜ããªã‚Šã€å®Ÿè¡Œæ™‚ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã‚„ã™ã„\n- TypeScriptã®æœ€å¤§ã®ãƒ¡ãƒªãƒƒãƒˆï¼ˆå‹å®‰å…¨æ€§ï¼‰ãŒå¤±ã‚ã‚Œã‚‹\n\n**ä¾‹ï¼šstrict modeç„¡åŠ¹ã®å•é¡Œ**:\n```typescript\n// strict modeç„¡åŠ¹ã®å ´åˆ\nfunction getUser(id) {  // idã®å‹ãŒæš—é»™çš„ã«anyã«ãªã‚‹\n  return users.find(user => user.id === id);\n}\n\nconst user = getUser(\"123\");\nconsole.log(user.name);  // userãŒundefinedã§ã‚‚ã‚¨ãƒ©ãƒ¼ã«ãªã‚‰ãªã„ï¼ˆå®Ÿè¡Œæ™‚ã‚¨ãƒ©ãƒ¼ï¼‰\n```\n\n**strict modeæœ‰åŠ¹ã®å ´åˆ**:\n```typescript\n// strict modeæœ‰åŠ¹ã®å ´åˆ\nfunction getUser(id: string): User | undefined {  // å‹ã‚’æ˜ç¤º\n  return users.find(user => user.id === id);\n}\n\nconst user = getUser(\"123\");\nconsole.log(user.name);  // ã‚¨ãƒ©ãƒ¼: user ã¯ undefined ã®å¯èƒ½æ€§ãŒã‚ã‚‹\n// â†’ user?.name ã¾ãŸã¯ if (user) { ... } ãŒå¿…è¦\n```\n\n**ç†ç”±2ï¼šãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ã®å›°é›£**\n- å‹ãŒæ›–æ˜§ãªãŸã‚ã€ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ãŒå›°é›£\n- IDEã®è£œå®ŒãŒåŠ¹ã‹ãªã„\n- ãƒã‚°ã‚’è¦‹é€ƒã—ã‚„ã™ã„\n\n**ç†ç”±3ï¼šãƒãƒ¼ãƒ é–‹ç™ºã§ã®å•é¡Œ**\n- å„é–‹ç™ºè€…ãŒç•°ãªã‚‹ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚¹ã‚¿ã‚¤ãƒ«ã«ãªã‚‹\n- ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼ã§å‹ã®å•é¡Œã‚’æŒ‡æ‘˜ã—ãã‚Œãªã„\n- å“è³ªã®ã°ã‚‰ã¤ããŒç™ºç”Ÿ\n\n**ç†ç”±4ï¼šæŠ€è¡“çš„è² å‚µ**\n- å¾Œã‹ã‚‰strict modeã‚’æœ‰åŠ¹åŒ–ã™ã‚‹ã®ã¯ã€éå¸¸ã«å›°é›£\n- ã™ã¹ã¦ã®ã‚³ãƒ¼ãƒ‰ã‚’ä¿®æ­£ã™ã‚‹å¿…è¦ãŒã‚ã‚‹\n- æœ€åˆã‹ã‚‰strict modeã‚’æœ‰åŠ¹åŒ–ã™ã¹ã\n\n**ãƒ¡ãƒªãƒƒãƒˆï¼ˆé¸ã°ãªã‹ã£ãŸãŒã€èªã‚ã‚‹ã¹ãç‚¹ï¼‰**:\n- **çŸ­æœŸé–“ã§å®Ÿè£…**: å‹ã‚’å³å¯†ã«å®šç¾©ã—ãªãã¦ã‚‚ã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ãŒé€šã‚‹\n- **JavaScriptã‹ã‚‰ã®ç§»è¡ŒãŒå®¹æ˜“**: æ—¢å­˜ã®JavaScriptã‚³ãƒ¼ãƒ‰ã‚’ãã®ã¾ã¾ä½¿ãˆã‚‹\n- **ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—**: å®Ÿé¨“çš„ãªãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯ã€å‹ã‚’å³å¯†ã«ã™ã‚‹å¿…è¦ãŒãªã„\n\n**strict modeç„¡åŠ¹ãŒé©ã—ãŸã‚±ãƒ¼ã‚¹**:\n- ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—ã€å®Ÿé¨“çš„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ\n- JavaScriptã‹ã‚‰ã®æ®µéšçš„ãªç§»è¡Œ\n- çŸ­æœŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆï¼ˆ1-2é€±é–“ï¼‰\n\nai-document-generatorã¯ã€é•·æœŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã‚ã‚‹ãŸã‚ã€strict modeæœ‰åŠ¹ãŒå¿…é ˆã€‚\n\n### å€™è£œ2ï¼šå€‹åˆ¥ã®strictã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’é¸æŠ\n\nstrict modeã®ä¸€éƒ¨ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®ã¿ã‚’æœ‰åŠ¹åŒ–ã™ã‚‹ã€‚\n\n```json\n{\n  \"compilerOptions\": {\n    \"strict\": false,\n    \"noImplicitAny\": true,\n    \"strictNullChecks\": true\n  }\n}\n```\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n\n**ç†ç”±1ï¼šãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã®è¤‡é›‘ã•**\n- ã©ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ãŒæœ‰åŠ¹ã‹ã€ãƒãƒ¼ãƒ å…¨ä½“ã§æŠŠæ¡ã™ã‚‹å¿…è¦ãŒã‚ã‚‹\n- `\"strict\": true`ã®æ–¹ãŒã€ã‚·ãƒ³ãƒ—ãƒ«ã§ç†è§£ã—ã‚„ã™ã„\n\n**ç†ç”±2ï¼šå°†æ¥çš„ãªå•é¡Œ**\n- TypeScriptã®æ–°ã—ã„ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã§ã€strictã«æ–°ã—ã„ã‚ªãƒ—ã‚·ãƒ§ãƒ³ãŒè¿½åŠ ã•ã‚Œã‚‹\n- `\"strict\": true`ãªã‚‰ã€è‡ªå‹•çš„ã«æ–°ã—ã„ã‚ªãƒ—ã‚·ãƒ§ãƒ³ãŒæœ‰åŠ¹åŒ–ã•ã‚Œã‚‹\n- å€‹åˆ¥é¸æŠã ã¨ã€æ‰‹å‹•ã§è¿½åŠ ã™ã‚‹å¿…è¦ãŒã‚ã‚‹\n\n**ä¾‹ï¼šTypeScript 5.0ã§ã®æ–°ã—ã„strictã‚ªãƒ—ã‚·ãƒ§ãƒ³**:\nTypeScript 5.0ã§`verbatimModuleSyntax`ãŒè¿½åŠ ã•ã‚ŒãŸå ´åˆã€`\"strict\": true`ãªã‚‰è‡ªå‹•çš„ã«æœ‰åŠ¹åŒ–ã•ã‚Œã‚‹ã€‚\n\n**ç†ç”±3ï¼šä¸€è²«æ€§ã®æ¬ å¦‚**\n- ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå†…ã§ã€ä¸€éƒ¨ã®ã‚³ãƒ¼ãƒ‰ã¯strictNull ChecksãŒåŠ¹ãã€ä¸€éƒ¨ã¯åŠ¹ã‹ãªã„\n- ãƒã‚°ã®åŸå› ã«ãªã‚‹\n\n**ç†ç”±4ï¼šå­¦ç¿’ã‚³ã‚¹ãƒˆã®å¢—åŠ **\n- å„ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®æ„å‘³ã‚’ç†è§£ã™ã‚‹å¿…è¦ãŒã‚ã‚‹\n- `\"strict\": true`ãªã‚‰ã€ã€Œã™ã¹ã¦ã®strictã‚ªãƒ—ã‚·ãƒ§ãƒ³ãŒæœ‰åŠ¹ã€ã¨è¦šãˆã‚‹ã ã‘\n\n**ãƒ¡ãƒªãƒƒãƒˆï¼ˆé¸ã°ãªã‹ã£ãŸãŒã€èªã‚ã‚‹ã¹ãç‚¹ï¼‰**:\n- **æ®µéšçš„ãªç§»è¡Œ**: æ—¢å­˜ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§strict modeã‚’æœ‰åŠ¹åŒ–ã™ã‚‹éš›ã€æ®µéšçš„ã«ç§»è¡Œå¯èƒ½\n- **æŸ”è»Ÿæ€§**: ç‰¹å®šã®strictã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®ã¿ã‚’æœ‰åŠ¹åŒ–\n\n**å€‹åˆ¥é¸æŠãŒé©ã—ãŸã‚±ãƒ¼ã‚¹**:\n- æ—¢å­˜ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã€strict modeã‚’æ®µéšçš„ã«æœ‰åŠ¹åŒ–\n- ãƒ¬ã‚¬ã‚·ãƒ¼ã‚³ãƒ¼ãƒ‰ãŒå¤šãã€ä¸€æ°—ã«strict modeã«ç§»è¡Œã§ããªã„\n\nai-document-generatorã¯ã€æ–°è¦ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã‚ã‚‹ãŸã‚ã€æœ€åˆã‹ã‚‰`\"strict\": true`ãŒé©åˆ‡ã€‚\n\n### å€™è£œ3ï¼šanyå‹ã‚’è¨±å¯\n\nTypeScriptã®strict modeã‚’æœ‰åŠ¹åŒ–ã™ã‚‹ãŒã€`any`å‹ã®ä½¿ç”¨ã‚’è¨±å¯ã™ã‚‹ã€‚\n\n```typescript\n// anyå‹ã‚’ä½¿ç”¨\nconst data: any = fetchData();\nconsole.log(data.name);  // å‹ãƒã‚§ãƒƒã‚¯ãªã—\n```\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n\n**ç†ç”±1ï¼šå‹å®‰å…¨æ€§ã®å–ªå¤±**\n- `any`å‹ã¯ã€å‹ãƒã‚§ãƒƒã‚¯ã‚’å®Œå…¨ã«ç„¡åŠ¹åŒ–\n- TypeScriptã®æœ€å¤§ã®ãƒ¡ãƒªãƒƒãƒˆãŒå¤±ã‚ã‚Œã‚‹\n- ãƒã‚°ã®æ¸©åºŠã«ãªã‚‹\n\n**ç†ç”±2ï¼šã‚³ãƒ¼ãƒ‰ã®å¯èª­æ€§ä½ä¸‹**\n- `any`å‹ã¯ã€ä½•ã§ã‚‚å…¥ã‚‹\n- IDEã®è£œå®ŒãŒåŠ¹ã‹ãªã„\n- ã‚³ãƒ¼ãƒ‰ã‚’èª­ã‚€äººãŒã€å‹ã‚’æ¨æ¸¬ã™ã‚‹å¿…è¦ãŒã‚ã‚‹\n\n**ç†ç”±3ï¼šãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ã®å›°é›£**\n- `any`å‹ã¯ã€ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°æ™‚ã«å•é¡Œã‚’è¦‹é€ƒã—ã‚„ã™ã„\n- å‹ãŒæ˜ç¢ºã§ãªã„ãŸã‚ã€å¤‰æ›´ã®å½±éŸ¿ç¯„å›²ãŒä¸æ˜\n\n**ç†ç”±4ï¼šæŠ€è¡“çš„è² å‚µ**\n- `any`å‹ãŒå¢—ãˆã‚‹ã¨ã€å¾Œã‹ã‚‰å‹ã‚’å®šç¾©ã™ã‚‹ã®ãŒå›°é›£\n- æœ€åˆã‹ã‚‰å‹ã‚’æ˜ç¢ºã«ã™ã¹ã\n\n**anyå‹ã‚’ä½¿ã†ã¹ãã‚±ãƒ¼ã‚¹**ï¼ˆä¾‹å¤–çš„ã«è¨±å¯ï¼‰:\n1. **ã‚µãƒ¼ãƒ‰ãƒ‘ãƒ¼ãƒ†ã‚£ãƒ©ã‚¤ãƒ–ãƒ©ãƒª**: å‹å®šç¾©ãŒãªã„å ´åˆ\n2. **å‹•çš„ãªãƒ‡ãƒ¼ã‚¿**: JSONã®ãƒ‘ãƒ¼ã‚¹çµæœãªã©ï¼ˆãŸã ã—ã€Zodãªã©ã§æ¤œè¨¼ã™ã¹ãï¼‰\n3. **ãƒ¬ã‚¬ã‚·ãƒ¼ã‚³ãƒ¼ãƒ‰**: æ®µéšçš„ãªç§»è¡Œä¸­\n\n**ä»£æ›¿æ‰‹æ®µ**:\n```typescript\n// anyå‹ã®ä»£ã‚ã‚Šã«ã€unknownã‚’ä½¿ã†\nconst data: unknown = fetchData();\n\n// å‹ã‚¬ãƒ¼ãƒ‰ã§å‹ã‚’ç¢ºèª\nif (isUser(data)) {\n  console.log(data.name);  // dataã¯Userå‹ã¨ã—ã¦æ‰±ã‚ã‚Œã‚‹\n}\n\n// Zodã§æ¤œè¨¼\nconst UserSchema = z.object({\n  id: z.string(),\n  name: z.string(),\n});\n\nconst data = UserSchema.parse(fetchData());\nconsole.log(data.name);  // å‹å®‰å…¨\n```\n\n**ãƒ¡ãƒªãƒƒãƒˆï¼ˆé¸ã°ãªã‹ã£ãŸãŒã€èªã‚ã‚‹ã¹ãç‚¹ï¼‰**:\n- **æŸ”è»Ÿæ€§**: ä¸€æ™‚çš„ã«å‹ã‚’ç„¡è¦–ã§ãã‚‹\n- **çŸ­æœŸé–“ã§å®Ÿè£…**: å‹ã‚’å³å¯†ã«å®šç¾©ã—ãªãã¦ã‚‚ã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ãŒé€šã‚‹\n\nai-document-generatorã§ã¯ã€`any`å‹ã®ä½¿ç”¨ã‚’æœ€å°é™ã«æŠ‘ãˆã€`unknown`å‹ã¨Zodã‚¹ã‚­ãƒ¼ãƒã‚’æ´»ç”¨ã€‚\n\n## åˆ¤æ–­ç†ç”±\n\n### ç†ç”±1ï¼šå‹å®‰å…¨æ€§ã®æœ€å¤§åŒ–\n\nstrict modeã«ã‚ˆã‚Šã€å‹å®‰å…¨æ€§ãŒæœ€å¤§åŒ–ã•ã‚Œã‚‹ã€‚\n\n**strict modeã®åŠ¹æœ**:\n1. **ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã‚¨ãƒ©ãƒ¼**: å®Ÿè¡Œæ™‚ã‚¨ãƒ©ãƒ¼ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã«æ¤œå‡º\n2. **null/undefinedãƒã‚§ãƒƒã‚¯**: `null`ã€`undefined`ã®å•é¡Œã‚’äº‹å‰ã«æ¤œå‡º\n3. **å‹æ¨è«–ã®å¼·åŒ–**: IDEã®è£œå®ŒãŒæ­£ç¢ºã«ãªã‚‹\n\n**ä¾‹ï¼šstrictNullChecksã®åŠ¹æœ**:\n```typescript\n// strict modeç„¡åŠ¹\ninterface User {\n  id: string;\n  name: string;\n}\n\nfunction getUser(id: string): User {\n  return users.find(user => user.id === id);  // ã‚¨ãƒ©ãƒ¼ã«ãªã‚‰ãªã„\n}\n\nconst user = getUser(\"123\");\nconsole.log(user.name);  // å®Ÿè¡Œæ™‚ã‚¨ãƒ©ãƒ¼ï¼ˆuserãŒundefinedï¼‰\n\n// strict modeæœ‰åŠ¹\nfunction getUser(id: string): User | undefined {\n  return users.find(user => user.id === id);  // æ­£ã—ã„å‹å®šç¾©\n}\n\nconst user = getUser(\"123\");\nconsole.log(user.name);  // ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼: user ã¯ undefined ã®å¯èƒ½æ€§ãŒã‚ã‚‹\n\n// ä¿®æ­£\nconst user = getUser(\"123\");\nif (user) {\n  console.log(user.name);  // å®‰å…¨\n}\n```\n\n### ç†ç”±2ï¼šãƒã‚°ã®æ—©æœŸç™ºè¦‹\n\nstrict modeã«ã‚ˆã‚Šã€ãƒã‚°ã‚’æ—©æœŸã«ç™ºè¦‹ã§ãã‚‹ã€‚\n\n**å®Ÿä¾‹**:\n```typescript\n// ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’æ›´æ–°ã™ã‚‹é–¢æ•°\nfunction updateSection(sectionId: string, content: string) {\n  const section = sections.find(s => s.id === sectionId);\n  section.content = content;  // strictNullChecksã§ã‚¨ãƒ©ãƒ¼: section ã¯ undefined ã®å¯èƒ½æ€§ãŒã‚ã‚‹\n}\n\n// ä¿®æ­£\nfunction updateSection(sectionId: string, content: string) {\n  const section = sections.find(s => s.id === sectionId);\n\n  if (!section) {\n    throw new Error(`Section ${sectionId} not found`);\n  }\n\n  section.content = content;\n}\n```\n\nstrict modeãŒãªã‘ã‚Œã°ã€å®Ÿè¡Œæ™‚ã‚¨ãƒ©ãƒ¼ã«ãªã‚‹ã€‚\n\n### ç†ç”±3ï¼šãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ã®å®¹æ˜“ã•\n\nstrict modeã«ã‚ˆã‚Šã€ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ãŒå®¹æ˜“ã«ãªã‚‹ã€‚\n\n**ä¾‹ï¼šé–¢æ•°ã®ã‚·ã‚°ãƒãƒãƒ£å¤‰æ›´**:\n```typescript\n// å…ƒã®é–¢æ•°\nfunction renderComponent(component: Component) {\n  // ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°\n}\n\n// é–¢æ•°ã‚’å¤‰æ›´ï¼ˆç¬¬2å¼•æ•°ã‚’è¿½åŠ ï¼‰\nfunction renderComponent(component: Component, theme: Theme) {\n  // ãƒ†ãƒ¼ãƒã‚’é©ç”¨ã—ã¦ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°\n}\n\n// strict modeã«ã‚ˆã‚Šã€ã™ã¹ã¦ã®å‘¼ã³å‡ºã—å…ƒã§ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿ\nrenderComponent(myComponent);  // ã‚¨ãƒ©ãƒ¼: å¼•æ•°ãŒä¸è¶³\n// â†’ è‡ªå‹•çš„ã«ã™ã¹ã¦ã®å‘¼ã³å‡ºã—å…ƒã‚’ä¿®æ­£ã§ãã‚‹\n```\n\nstrict modeãŒãªã‘ã‚Œã°ã€å‘¼ã³å‡ºã—å…ƒã‚’è¦‹é€ƒã—ã€å®Ÿè¡Œæ™‚ã‚¨ãƒ©ãƒ¼ã«ãªã‚‹ã€‚\n\n### ç†ç”±4ï¼šIDEã®è£œå®Œç²¾åº¦\n\nstrict modeã«ã‚ˆã‚Šã€IDEã®è£œå®ŒãŒæ­£ç¢ºã«ãªã‚‹ã€‚\n\n**ä¾‹ï¼šUnionå‹ã®è£œå®Œ**:\n```typescript\ntype Component = TextComponent | ImageComponent | ChartComponent;\n\nfunction renderComponent(component: Component) {\n  // strict modeã«ã‚ˆã‚Šã€componentã®å‹ãŒæ­£ç¢ºã«æ¨è«–ã•ã‚Œã‚‹\n  if (component.type === 'text') {\n    // componentã¯TextComponentå‹ã¨ã—ã¦æ‰±ã‚ã‚Œã‚‹\n    console.log(component.content);  // è£œå®ŒãŒåŠ¹ã\n  } else if (component.type === 'image') {\n    // componentã¯ImageComponentå‹ã¨ã—ã¦æ‰±ã‚ã‚Œã‚‹\n    console.log(component.src);  // è£œå®ŒãŒåŠ¹ã\n  }\n}\n```\n\nstrict modeãŒãªã‘ã‚Œã°ã€å‹æ¨è«–ãŒä¸æ­£ç¢ºã§ã€è£œå®ŒãŒåŠ¹ã‹ãªã„ã€‚\n\n### ç†ç”±5ï¼šãƒãƒ¼ãƒ é–‹ç™ºã§ã®å“è³ªæ‹…ä¿\n\nstrict modeã«ã‚ˆã‚Šã€ãƒãƒ¼ãƒ å…¨ä½“ã®ã‚³ãƒ¼ãƒ‰å“è³ªãŒæ‹…ä¿ã•ã‚Œã‚‹ã€‚\n\n**ãƒ¡ãƒªãƒƒãƒˆ**:\n- ã™ã¹ã¦ã®é–‹ç™ºè€…ãŒã€åŒã˜å‹å®‰å…¨æ€§ã®ãƒ¬ãƒ™ãƒ«ã§é–‹ç™º\n- ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼ã§å‹ã®å•é¡Œã‚’æŒ‡æ‘˜ã™ã‚‹å¿…è¦ãŒãªã„\n- ä¸€è²«ã—ãŸã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚¹ã‚¿ã‚¤ãƒ«\n\n**ä¾‹ï¼šnoImplicitAnyã®åŠ¹æœ**:\n```typescript\n// strict modeç„¡åŠ¹\nfunction calculateTotal(items) {  // itemsã®å‹ãŒæš—é»™çš„ã«any\n  return items.reduce((sum, item) => sum + item.price, 0);\n}\n\n// strict modeæœ‰åŠ¹\nfunction calculateTotal(items: Array<{ price: number }>) {  // å‹ã‚’æ˜ç¤º\n  return items.reduce((sum, item) => sum + item.price, 0);\n}\n```\n\nstrict modeã«ã‚ˆã‚Šã€å‹ã‚’æ˜ç¤ºã™ã‚‹ã“ã¨ãŒå¼·åˆ¶ã•ã‚Œã‚‹ã€‚\n\n### ç†ç”±6ï¼šå°†æ¥ã®TypeScriptãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¸ã®å¯¾å¿œ\n\n`\"strict\": true`ã«ã‚ˆã‚Šã€å°†æ¥ã®TypeScriptãƒãƒ¼ã‚¸ãƒ§ãƒ³ã§è¿½åŠ ã•ã‚Œã‚‹strictã‚ªãƒ—ã‚·ãƒ§ãƒ³ãŒè‡ªå‹•çš„ã«æœ‰åŠ¹åŒ–ã•ã‚Œã‚‹ã€‚\n\n**TypeScriptãƒãƒ¼ã‚¸ãƒ§ãƒ³ã”ã¨ã®strictã‚ªãƒ—ã‚·ãƒ§ãƒ³è¿½åŠ **:\n- TypeScript 2.0: `strictNullChecks`\n- TypeScript 2.3: `strictFunctionTypes`\n- TypeScript 2.6: `strictPropertyInitialization`\n- TypeScript 3.2: `strictBindCallApply`\n- TypeScript 4.0: `noUncheckedIndexedAccess`ï¼ˆstrictã«ã¯å«ã¾ã‚Œãªã„ï¼‰\n- TypeScript 5.0: æ–°ã—ã„ã‚ªãƒ—ã‚·ãƒ§ãƒ³ãŒè¿½åŠ ã•ã‚Œã‚‹å¯èƒ½æ€§\n\n`\"strict\": true`ãªã‚‰ã€è‡ªå‹•çš„ã«æœ€æ–°ã®strictã‚ªãƒ—ã‚·ãƒ§ãƒ³ãŒé©ç”¨ã•ã‚Œã‚‹ã€‚\n\n### ç†ç”±7ï¼šé•·æœŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã®ä¿å®ˆæ€§\n\nai-document-generatorã¯ã€é•·æœŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã‚ã‚‹ãŸã‚ã€strict modeãŒå¿…é ˆã€‚\n\n**é•·æœŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã®ãƒ¡ãƒªãƒƒãƒˆ**:\n- æŠ€è¡“çš„è² å‚µã®è“„ç©ã‚’é˜²ã\n- ã‚³ãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹ãŒå¤§ãããªã£ã¦ã‚‚ã€å“è³ªã‚’ç¶­æŒ\n- æ–°ã—ã„ãƒ¡ãƒ³ãƒãƒ¼ãŒå‚åŠ ã—ã¦ã‚‚ã€ä¸€è²«ã—ãŸå“è³ª\n\n**çŸ­æœŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¨ã®æ¯”è¼ƒ**:\n- **çŸ­æœŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆï¼ˆ1-2é€±é–“ï¼‰**: strict modeç„¡åŠ¹ã§ã‚‚ã€å•é¡ŒãŒé¡•åœ¨åŒ–ã—ãªã„\n- **é•·æœŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆï¼ˆæ•°ãƒ¶æœˆã€œæ•°å¹´ï¼‰**: strict modeç„¡åŠ¹ã ã¨ã€æŠ€è¡“çš„è² å‚µãŒè“„ç©\n\n## ã“ã®åˆ¤æ–­ã‹ã‚‰å­¦ã¹ã‚‹ã“ã¨\n\n### å­¦ã³1ï¼šTypeScript strict modeã®é‡è¦æ€§\n\nstrict modeã¯ã€TypeScriptã®å‹å®‰å…¨æ€§ã‚’æœ€å¤§åŒ–ã™ã‚‹æœ€ã‚‚é‡è¦ãªè¨­å®šã€‚\n\n**æ–°è¦ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯ã€å¿…ãšæœ‰åŠ¹åŒ–ã™ã¹ã**:\n- æœ€åˆã‹ã‚‰strict modeã‚’æœ‰åŠ¹åŒ–ã™ã‚‹ã“ã¨ã§ã€æŠ€è¡“çš„è² å‚µã‚’é˜²ã\n- å¾Œã‹ã‚‰strict modeã‚’æœ‰åŠ¹åŒ–ã™ã‚‹ã®ã¯ã€éå¸¸ã«å›°é›£\n\n### å­¦ã³2ï¼šæ®µéšçš„ãªç§»è¡Œæˆ¦ç•¥\n\næ—¢å­˜ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§strict modeã‚’æœ‰åŠ¹åŒ–ã™ã‚‹å ´åˆã€æ®µéšçš„ãªç§»è¡ŒãŒå¿…è¦ã€‚\n\n**æ®µéšçš„ç§»è¡Œã®æ‰‹é †**:\n1. **noImplicitAny**ã‚’æœ‰åŠ¹åŒ–ï¼ˆæœ€ã‚‚é‡è¦ï¼‰\n2. **strictNullChecks**ã‚’æœ‰åŠ¹åŒ–\n3. ä»–ã®strictã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’æœ‰åŠ¹åŒ–\n4. æœ€çµ‚çš„ã«`\"strict\": true`ã«ç§»è¡Œ\n\n**ä¾‹**:\n```json\n// ã‚¹ãƒ†ãƒƒãƒ—1\n{\n  \"compilerOptions\": {\n    \"noImplicitAny\": true\n  }\n}\n\n// ã‚¹ãƒ†ãƒƒãƒ—2\n{\n  \"compilerOptions\": {\n    \"noImplicitAny\": true,\n    \"strictNullChecks\": true\n  }\n}\n\n// ã‚¹ãƒ†ãƒƒãƒ—3ï¼ˆæœ€çµ‚ï¼‰\n{\n  \"compilerOptions\": {\n    \"strict\": true\n  }\n}\n```\n\n### å­¦ã³3ï¼šanyå‹ã®ä»£æ›¿æ‰‹æ®µ\n\n`any`å‹ã‚’é¿ã‘ã‚‹ãŸã‚ã®ä»£æ›¿æ‰‹æ®µã€‚\n\n**1. unknownå‹**:\n```typescript\n// anyå‹ï¼ˆé¿ã‘ã‚‹ã¹ãï¼‰\nconst data: any = fetchData();\nconsole.log(data.name);  // å‹ãƒã‚§ãƒƒã‚¯ãªã—\n\n// unknownå‹ï¼ˆæ¨å¥¨ï¼‰\nconst data: unknown = fetchData();\n\nif (isUser(data)) {\n  console.log(data.name);  // å‹å®‰å…¨\n}\n```\n\n**2. Zodã‚¹ã‚­ãƒ¼ãƒ**:\n```typescript\nimport { z } from 'zod';\n\nconst UserSchema = z.object({\n  id: z.string(),\n  name: z.string(),\n  email: z.string().email(),\n});\n\nconst data = UserSchema.parse(fetchData());\nconsole.log(data.name);  // å‹å®‰å…¨\n```\n\n**3. å‹ã‚¬ãƒ¼ãƒ‰**:\n```typescript\nfunction isUser(value: unknown): value is User {\n  return (\n    typeof value === 'object' &&\n    value !== null &&\n    'id' in value &&\n    'name' in value\n  );\n}\n```\n\n### å­¦ã³4ï¼šstrictNullChecksã®åŠ¹æœ\n\nstrictNullChecksã¯ã€`null`ã€`undefined`ã®å•é¡Œã‚’äº‹å‰ã«æ¤œå‡ºã™ã‚‹æœ€ã‚‚é‡è¦ãªã‚ªãƒ—ã‚·ãƒ§ãƒ³ã€‚\n\n**ä¾‹**:\n```typescript\n// strictNullChecksæœ‰åŠ¹\nfunction getSection(id: string): Section | undefined {\n  return sections.find(s => s.id === id);\n}\n\nconst section = getSection(\"123\");\nsection.content = \"new content\";  // ã‚¨ãƒ©ãƒ¼: section ã¯ undefined ã®å¯èƒ½æ€§ãŒã‚ã‚‹\n\n// ä¿®æ­£\nconst section = getSection(\"123\");\nif (section) {\n  section.content = \"new content\";  // å®‰å…¨\n}\n```\n\n### å­¦ã³5ï¼šnoImplicitAnyã®åŠ¹æœ\n\nnoImplicitAnyã¯ã€æš—é»™çš„ãª`any`å‹ã‚’ç¦æ­¢ã—ã€å‹ã‚’æ˜ç¤ºã™ã‚‹ã“ã¨ã‚’å¼·åˆ¶ã€‚\n\n**ä¾‹**:\n```typescript\n// noImplicitAnyæœ‰åŠ¹\nfunction updateComponent(componentId, content) {  // ã‚¨ãƒ©ãƒ¼: å‹ã‚’æ˜ç¤ºã—ã¦ãã ã•ã„\n  // ...\n}\n\n// ä¿®æ­£\nfunction updateComponent(componentId: string, content: string) {\n  // ...\n}\n```\n\n### å­¦ã³6ï¼šstrictPropertyInitializationã®åŠ¹æœ\n\nstrictPropertyInitializationã¯ã€ã‚¯ãƒ©ã‚¹ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã®åˆæœŸåŒ–ã‚’å¼·åˆ¶ã€‚\n\n**ä¾‹**:\n```typescript\nclass DocumentStore {\n  sections: Section[];  // ã‚¨ãƒ©ãƒ¼: åˆæœŸåŒ–ã•ã‚Œã¦ã„ãªã„\n\n  constructor() {\n    // sectionsãŒåˆæœŸåŒ–ã•ã‚Œã¦ã„ãªã„\n  }\n}\n\n// ä¿®æ­£1: ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã§åˆæœŸåŒ–\nclass DocumentStore {\n  sections: Section[];\n\n  constructor() {\n    this.sections = [];\n  }\n}\n\n// ä¿®æ­£2: å®£è¨€æ™‚ã«åˆæœŸåŒ–\nclass DocumentStore {\n  sections: Section[] = [];\n}\n\n// ä¿®æ­£3: undefinedã‚’è¨±å¯\nclass DocumentStore {\n  sections: Section[] | undefined;\n}\n```\n\n### å­¦ã³7ï¼šstrict modeã¨ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹\n\nstrict modeã¯ã€å®Ÿè¡Œæ™‚ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã«å½±éŸ¿ã—ãªã„ã€‚\n\n**ç†ç”±**:\n- strict modeã¯ã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã®ãƒã‚§ãƒƒã‚¯\n- å®Ÿè¡Œæ™‚ã«ã¯ã€é€šå¸¸ã®JavaScriptã«å¤‰æ›ã•ã‚Œã‚‹\n- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã¸ã®å½±éŸ¿ã¯ã‚¼ãƒ­\n\n**èª¤è§£**:\nã€Œstrict modeã‚’æœ‰åŠ¹åŒ–ã™ã‚‹ã¨ã€å®Ÿè¡Œæ™‚ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãŒä½ä¸‹ã™ã‚‹ã€\nâ†’ ã“ã‚Œã¯èª¤ã‚Šã€‚strict modeã¯ã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã®ã¿ã«å½±éŸ¿ã€‚\n\n---\n\n## ã¾ã¨ã‚\n\n**TypeScript strict mode ã‚’æœ‰åŠ¹åŒ–ã—ãŸç†ç”±**:\n1. å‹å®‰å…¨æ€§ã®æœ€å¤§åŒ–ï¼ˆã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã‚¨ãƒ©ãƒ¼æ¤œå‡ºï¼‰\n2. ãƒã‚°ã®æ—©æœŸç™ºè¦‹ï¼ˆnull/undefinedãƒã‚§ãƒƒã‚¯ï¼‰\n3. ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ã®å®¹æ˜“ã•\n4. IDEã®è£œå®Œç²¾åº¦å‘ä¸Š\n5. ãƒãƒ¼ãƒ é–‹ç™ºã§ã®å“è³ªæ‹…ä¿\n6. å°†æ¥ã®TypeScriptãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¸ã®å¯¾å¿œ\n7. é•·æœŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã®ä¿å®ˆæ€§\n\n**ãƒˆãƒ¬ãƒ¼ãƒ‰ã‚ªãƒ•**:\n- å­¦ç¿’ã‚³ã‚¹ãƒˆãŒã‚„ã‚„é«˜ã„\n- å‹ã‚’å³å¯†ã«å®šç¾©ã™ã‚‹å¿…è¦ãŒã‚ã‚‹\n- ä¸€æ™‚çš„ã«å®Ÿè£…é€Ÿåº¦ãŒä½ä¸‹ã™ã‚‹å¯èƒ½æ€§\n\n**çµè«–**:\nai-document-generatorã®ã‚ˆã†ãªã€é•·æœŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã€ãƒãƒ¼ãƒ é–‹ç™ºã€å“è³ªé‡è¦–ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯ã€TypeScript strict modeã®æœ‰åŠ¹åŒ–ã¯å¿…é ˆã€‚\n\nãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—ã€å®Ÿé¨“çš„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯ã€strict modeç„¡åŠ¹ã‚‚é¸æŠè‚¢ã ãŒã€é•·æœŸçš„ã«ã¯æŠ€è¡“çš„è² å‚µã«ãªã‚‹ã€‚\n\n**æœ€åˆã‹ã‚‰strict modeã‚’æœ‰åŠ¹åŒ–ã™ã‚‹ã“ã¨ã§ã€å°†æ¥ã®ä¿å®ˆã‚³ã‚¹ãƒˆã‚’å¤§å¹…ã«å‰Šæ¸›ã§ãã‚‹ã€‚**\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€ŒTypeScript strict mode ã®é¸æŠã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "skill-dynamic-theme-system",
      "failure-tech-debt-no-tests-validation"
    ]
  },
  {
    "slug": "eight-system-integration-design",
    "title": "8å¤§ã‚·ã‚¹ãƒ†ãƒ ä¸¦åˆ—çµ±åˆ vs ä»–ã®ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ ã®é¸æŠ",
    "category": "Decisionsï¼ˆæŠ€è¡“é¸å®šãƒ»åˆ¤æ–­ï¼‰",
    "description": "8å¤§ã‚·ã‚¹ãƒ†ãƒ ä¸¦åˆ—çµ±åˆã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã®æ¡ç”¨",
    "project": "novel-automation-system-v2",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"decision_eight_system_integration_design_2025_11_25\",\n  \"type\": \"decision\",\n  \"name\": \"8å¤§ã‚·ã‚¹ãƒ†ãƒ ä¸¦åˆ—çµ±åˆã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã®æ¡ç”¨\",\n  \"decision_type\": \"architecture\",\n  \"tags\": [\"ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¨­è¨ˆ\", \"ã‚·ã‚¹ãƒ†ãƒ çµ±åˆ\", \"ä¸¦åˆ—å‡¦ç†\", \"ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£\", \"AIç”Ÿæˆ\", \"å°èª¬ç”Ÿæˆ\"],\n  \"source_project\": \"novel-automation-system-v2\",\n  \"chosen\": \"8å¤§ã‚·ã‚¹ãƒ†ãƒ ä¸¦åˆ—çµ±åˆã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£\",\n  \"alternatives\": [\"é€æ¬¡çµ±åˆã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£\", \"3å±¤çµ±åˆã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£\", \"ãƒ¢ãƒãƒªã‚·ãƒƒã‚¯ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£\", \"ãƒ—ãƒ©ã‚°ã‚¤ãƒ³å‹ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£\"],\n  \"related_knowledge\": [\n    \"skill_eight_system_parallel_integration_2025_11_25\",\n    \"skill_context_generation_system_2025_11_25\",\n    \"design_pattern_service_container_di_2025_11_25\"\n  ],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# 8å¤§ã‚·ã‚¹ãƒ†ãƒ ä¸¦åˆ—çµ±åˆ vs ä»–ã®ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ ã®é¸æŠ\n\n## ä½•ã‚’åˆ¤æ–­ã—ãŸã‹\n\nå°èª¬ç”Ÿæˆã«ãŠã„ã¦ã€è¤‡æ•°ã®ã‚·ã‚¹ãƒ†ãƒ ï¼ˆã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã€è¨˜æ†¶ã€ãƒ—ãƒ­ãƒƒãƒˆã€åˆ†æç­‰ï¼‰ã‚’ã©ã®ã‚ˆã†ã«çµ±åˆã—ã¦ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’ç”Ÿæˆã™ã‚‹ã‹ã€ãã®ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¨­è¨ˆã€‚\n\n## é¸ã‚“ã ã‚‚ã®\n\n**8å¤§ã‚·ã‚¹ãƒ†ãƒ ä¸¦åˆ—çµ±åˆã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£**\n\n8ã¤ã®ç‹¬ç«‹ã—ãŸã‚·ã‚¹ãƒ†ãƒ ï¼ˆã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã€å­¦ç¿’æ—…ç¨‹ã€è¨˜æ†¶ã€ãƒ—ãƒ­ãƒƒãƒˆã€åˆ†æã€ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã€ä¼ç·šã€ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ï¼‰ã‚’ä¸¦åˆ—ã«å®Ÿè¡Œã—ã€Promise.allSettled()ã§çµ±åˆã™ã‚‹è¨­è¨ˆã€‚\n\n## ä»–ã®å€™è£œ\n\n### å€™è£œ1ï¼šé€æ¬¡çµ±åˆã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£\n\n**æ¦‚è¦**: ã‚·ã‚¹ãƒ†ãƒ ã‚’1ã¤ãšã¤é †ç•ªã«å®Ÿè¡Œã—ã€å‰ã®ã‚·ã‚¹ãƒ†ãƒ ã®çµæœã‚’æ¬¡ã®ã‚·ã‚¹ãƒ†ãƒ ã«æ¸¡ã™è¨­è¨ˆã€‚\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**ï¼š\n- **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹**: ä¸¦åˆ—çµ±åˆã®3-5å€é…ã„ï¼ˆ8ã‚·ã‚¹ãƒ†ãƒ  Ã— å¹³å‡500ms = 4ç§’ vs ä¸¦åˆ—800msï¼‰\n- **ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£**: ã‚·ã‚¹ãƒ†ãƒ è¿½åŠ ã”ã¨ã«å‡¦ç†æ™‚é–“ãŒç·šå½¢å¢—åŠ \n- **ä¾å­˜é–¢ä¿‚ã®è¤‡é›‘åŒ–**: å„ã‚·ã‚¹ãƒ†ãƒ ãŒå‰ã®ã‚·ã‚¹ãƒ†ãƒ ã«ä¾å­˜ã™ã‚‹ãŸã‚ã€å¤‰æ›´ãŒå›°é›£\n\n**ãƒ¡ãƒªãƒƒãƒˆï¼ˆèªè­˜ã—ã¦ã„ã‚‹ï¼‰**ï¼š\n- ã‚·ãƒ³ãƒ—ãƒ«ãªå®Ÿè£…\n- ãƒ‡ãƒãƒƒã‚°ãŒå®¹æ˜“\n- ã‚·ã‚¹ãƒ†ãƒ é–“ã®ä¾å­˜é–¢ä¿‚ã‚’æ˜ç¤ºçš„ã«ç®¡ç†ã§ãã‚‹\n\n**çµè«–**: å°è¦æ¨¡ã‚·ã‚¹ãƒ†ãƒ ã«ã¯é©ã—ã¦ã„ã‚‹ãŒã€8ã¤ã‚‚ã®ã‚·ã‚¹ãƒ†ãƒ ã‚’æ‰±ã†ã«ã¯é…ã™ãã‚‹ã€‚\n\n### å€™è£œ2ï¼š3å±¤çµ±åˆã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£\n\n**æ¦‚è¦**: ã‚·ã‚¹ãƒ†ãƒ ã‚’3ã¤ã®å±¤ï¼ˆãƒ‡ãƒ¼ã‚¿å±¤ã€åˆ†æå±¤ã€å‡ºåŠ›å±¤ï¼‰ã«åˆ†ã‘ã€å±¤ã”ã¨ã«ä¸¦åˆ—å®Ÿè¡Œã™ã‚‹è¨­è¨ˆã€‚\n\n```\nãƒ‡ãƒ¼ã‚¿å±¤ï¼ˆä¸¦åˆ—ï¼‰: ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã€è¨˜æ†¶ã€ãƒ—ãƒ­ãƒƒãƒˆ\n         â†“\nåˆ†æå±¤ï¼ˆä¸¦åˆ—ï¼‰: åˆ†æã€å­¦ç¿’æ—…ç¨‹ã€ä¼ç·š\n         â†“\nå‡ºåŠ›å±¤ï¼ˆä¸¦åˆ—ï¼‰: ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã€ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«\n```\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**ï¼š\n- **å±¤é–“å¾…æ©Ÿæ™‚é–“**: å„å±¤ã®æœ€ã‚‚é…ã„ã‚·ã‚¹ãƒ†ãƒ ãŒå…¨ä½“ã‚’é…å»¶ã•ã›ã‚‹\n- **ä¾å­˜é–¢ä¿‚ã®åˆ¶ç´„**: å±¤ã‚’ã¾ãŸãä¾å­˜é–¢ä¿‚ãŒç™ºç”Ÿã™ã‚‹ã¨ç ´ç¶»\n- **æŸ”è»Ÿæ€§ã®æ¬ å¦‚**: æ–°ã—ã„ã‚·ã‚¹ãƒ†ãƒ ã‚’è¿½åŠ ã™ã‚‹éš›ã€ã©ã®å±¤ã«å…¥ã‚Œã‚‹ã‹åˆ¤æ–­ãŒå¿…è¦\n\n**ãƒ¡ãƒªãƒƒãƒˆï¼ˆèªè­˜ã—ã¦ã„ã‚‹ï¼‰**ï¼š\n- è«–ç†çš„ã«æ•´ç†ã•ã‚Œã¦ã„ã‚‹\n- é€æ¬¡ã‚ˆã‚Šé«˜é€Ÿ\n- ã‚·ã‚¹ãƒ†ãƒ é–“ã®é–¢ä¿‚ãŒæ˜ç¢º\n\n**çµè«–**: ä¸¦åˆ—çµ±åˆã‚ˆã‚Šé…ãã€æŸ”è»Ÿæ€§ã‚‚ä½ã„ã€‚\n\n### å€™è£œ3ï¼šãƒ¢ãƒãƒªã‚·ãƒƒã‚¯ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£\n\n**æ¦‚è¦**: ã™ã¹ã¦ã®æ©Ÿèƒ½ã‚’1ã¤ã®å·¨å¤§ãªGenerationServiceã‚¯ãƒ©ã‚¹ã«å®Ÿè£…ã™ã‚‹è¨­è¨ˆã€‚\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**ï¼š\n- **ä¿å®ˆæ€§ã®ä½ã•**: 10,000è¡Œã‚’è¶…ãˆã‚‹ã‚¯ãƒ©ã‚¹ã¯å¤‰æ›´ãŒå›°é›£\n- **ãƒ†ã‚¹ãƒˆã®å›°é›£ã•**: å˜ä½“ãƒ†ã‚¹ãƒˆãŒæ›¸ãã«ãã„\n- **å†åˆ©ç”¨æ€§ã‚¼ãƒ­**: ç‰¹å®šã®æ©Ÿèƒ½ã ã‘ã‚’ä»–ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ä½¿ãˆãªã„\n- **ãƒãƒ¼ãƒ é–‹ç™ºä¸å¯**: è¤‡æ•°äººãŒåŒã˜ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç·¨é›†ã™ã‚‹ã¨ç«¶åˆé »ç™º\n\n**ãƒ¡ãƒªãƒƒãƒˆï¼ˆèªè­˜ã—ã¦ã„ã‚‹ï¼‰**ï¼š\n- å®Ÿè£…ãŒå˜ç´”ï¼ˆåˆæœŸæ®µéšï¼‰\n- ã‚·ã‚¹ãƒ†ãƒ é–“ã®èª¿æ•´ãŒä¸è¦\n- ãƒ‡ãƒ—ãƒ­ã‚¤ãŒå®¹æ˜“ï¼ˆ1ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰\n\n**çµè«–**: å°è¦æ¨¡ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—ã«ã¯è‰¯ã„ãŒã€ãƒ—ãƒ­ãƒ€ã‚¯ã‚·ãƒ§ãƒ³å“è³ªã«ã¯ä¸é©åˆ‡ã€‚\n\n### å€™è£œ4ï¼šãƒ—ãƒ©ã‚°ã‚¤ãƒ³å‹ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£\n\n**æ¦‚è¦**: å„ã‚·ã‚¹ãƒ†ãƒ ã‚’ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã¨ã—ã¦å‹•çš„ã«ãƒ­ãƒ¼ãƒ‰ãƒ»ã‚¢ãƒ³ãƒ­ãƒ¼ãƒ‰ã§ãã‚‹è¨­è¨ˆã€‚\n\n```typescript\npluginManager.register('character', CharacterPlugin);\npluginManager.register('plot', PlotPlugin);\n// ...\n\nconst results = await pluginManager.executeAll();\n```\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**ï¼š\n- **è¤‡é›‘æ€§**: å‹•çš„ãƒ­ãƒ¼ãƒ‰ã®ä»•çµ„ã¿ãŒè¤‡é›‘\n- **å‹å®‰å…¨æ€§ã®å–ªå¤±**: TypeScriptã®å‹ãƒã‚§ãƒƒã‚¯ãŒåŠ¹ãã«ãã„\n- **ã‚ªãƒ¼ãƒãƒ¼ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚°**: ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®å‹•çš„è¿½åŠ ã¯ä¸è¦\n- **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹**: ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãƒ­ãƒ¼ãƒ‰ã®ã‚ªãƒ¼ãƒãƒ¼ãƒ˜ãƒƒãƒ‰\n\n**ãƒ¡ãƒªãƒƒãƒˆï¼ˆèªè­˜ã—ã¦ã„ã‚‹ï¼‰**ï¼š\n- æ¥µã‚ã¦æŸ”è»Ÿ\n- ã‚µãƒ¼ãƒ‰ãƒ‘ãƒ¼ãƒ†ã‚£ãƒ—ãƒ©ã‚°ã‚¤ãƒ³å¯¾å¿œå¯èƒ½\n- ãƒ›ãƒƒãƒˆãƒªãƒ­ãƒ¼ãƒ‰å¯èƒ½\n\n**çµè«–**: æŸ”è»Ÿæ€§ã¯é­…åŠ›çš„ã ãŒã€è¤‡é›‘ã™ãã‚‹ã€‚ç¾æ™‚ç‚¹ã§ã¯ä¸è¦ã€‚\n\n## åˆ¤æ–­ç†ç”±\n\n### ç†ç”±1ï¼šåœ§å€’çš„ãªãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å‘ä¸Š\n\n**å®Ÿæ¸¬ãƒ‡ãƒ¼ã‚¿**ï¼ˆ8ã‚·ã‚¹ãƒ†ãƒ ã®å¹³å‡å®Ÿè¡Œæ™‚é–“ï¼‰ï¼š\n\n| ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ | å®Ÿè¡Œæ™‚é–“ | æ”¹å–„ç‡ |\n|---------------|---------|--------|\n| é€æ¬¡çµ±åˆ      | 4.2ç§’   | -     |\n| 3å±¤çµ±åˆ       | 1.8ç§’   | 57%   |\n| **ä¸¦åˆ—çµ±åˆ**  | **0.8ç§’** | **81%** |\n\n**å¹´é–“æ™‚é–“ç¯€ç´„**ï¼ˆ1æ—¥10ç« ç”Ÿæˆï¼‰ï¼š\n- é€æ¬¡çµ±åˆ: 10ç«  Ã— 4.2ç§’ Ã— 365æ—¥ = 15,330ç§’ = 4.26æ™‚é–“/å¹´\n- **ä¸¦åˆ—çµ±åˆ**: 10ç«  Ã— 0.8ç§’ Ã— 365æ—¥ = 2,920ç§’ = 0.81æ™‚é–“/å¹´\n- **ç¯€ç´„**: 3.45æ™‚é–“/å¹´ï¼ˆ80%å‰Šæ¸›ï¼‰\n\n### ç†ç”±2ï¼šã‚·ã‚¹ãƒ†ãƒ ã®ç‹¬ç«‹æ€§\n\nå„ã‚·ã‚¹ãƒ†ãƒ ã¯ä»–ã®ã‚·ã‚¹ãƒ†ãƒ ã«ä¾å­˜ã›ãšç‹¬ç«‹ã—ã¦å‹•ä½œï¼š\n- ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã‚·ã‚¹ãƒ†ãƒ ãŒã‚¨ãƒ©ãƒ¼ã§ã‚‚ã€ãƒ—ãƒ­ãƒƒãƒˆã‚·ã‚¹ãƒ†ãƒ ã¯æ­£å¸¸å‹•ä½œ\n- Promise.allSettled()ã«ã‚ˆã‚Šã€ä¸€éƒ¨å¤±æ•—ã§ã‚‚å…¨ä½“ã¯ç¶™ç¶š\n- å€‹åˆ¥ã®ãƒ†ã‚¹ãƒˆãŒå®¹æ˜“\n\n**éšœå®³è€æ€§ã®å®Ÿé¨“**ï¼š\n- ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã‚·ã‚¹ãƒ†ãƒ ã‚’æ„å›³çš„ã«å¤±æ•—ã•ã›ãŸå ´åˆ: ä»–ã®7ã‚·ã‚¹ãƒ†ãƒ ã¯æ­£å¸¸å‹•ä½œã€å“è³ªã‚¹ã‚³ã‚¢ 7.8/10ï¼ˆé€šå¸¸8.5/10ï¼‰\n- 3ã‚·ã‚¹ãƒ†ãƒ å¤±æ•—æ™‚: æ®‹ã‚Š5ã‚·ã‚¹ãƒ†ãƒ ã§å“è³ªã‚¹ã‚³ã‚¢ 6.5/10ï¼ˆè¨±å®¹ç¯„å›²ï¼‰\n\n### ç†ç”±3ï¼šã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£\n\næ–°ã—ã„ã‚·ã‚¹ãƒ†ãƒ ã‚’è¿½åŠ ã—ã¦ã‚‚ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã¸ã®å½±éŸ¿ãŒæœ€å°é™ï¼š\n\n```typescript\n// 9ã¤ç›®ã®ã‚·ã‚¹ãƒ†ãƒ è¿½åŠ \nconst systemDataResults = await Promise.allSettled([\n  this.collectCharacterData(chapterNumber),\n  // ... æ—¢å­˜8ã‚·ã‚¹ãƒ†ãƒ \n  this.collectWorldBuildingData(chapterNumber) // NEW!\n]);\n```\n\n- è¿½åŠ æ™‚é–“: æœ€ã‚‚é…ã„ã‚·ã‚¹ãƒ†ãƒ ã¨åŒã˜ã‹ã€ãã‚Œä»¥ä¸‹ï¼ˆä¸¦åˆ—å®Ÿè¡Œã®ãŸã‚ï¼‰\n- ã‚³ãƒ¼ãƒ‰å¤‰æ›´: æœ€å°é™ï¼ˆ1-2è¡Œã®è¿½åŠ ã®ã¿ï¼‰\n\n### ç†ç”±4ï¼šé–‹ç™ºãƒ»ä¿å®ˆã®åŠ¹ç‡\n\n**ãƒ¢ã‚¸ãƒ¥ãƒ©ãƒ¼è¨­è¨ˆã®ãƒ¡ãƒªãƒƒãƒˆ**ï¼š\n- å„ã‚·ã‚¹ãƒ†ãƒ ã‚’ç‹¬ç«‹ã—ã¦é–‹ç™ºãƒ»ãƒ†ã‚¹ãƒˆå¯èƒ½\n- ãƒãƒ¼ãƒ ãƒ¡ãƒ³ãƒãƒ¼ãŒç•°ãªã‚‹ã‚·ã‚¹ãƒ†ãƒ ã‚’æ‹…å½“ã§ãã‚‹\n- ãƒã‚°ä¿®æ­£æ™‚ã€å½±éŸ¿ç¯„å›²ãŒé™å®šçš„\n\n**å®Ÿéš›ã®é–‹ç™ºçµŒé¨“**ï¼š\n- ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã‚·ã‚¹ãƒ†ãƒ ã®ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°: ä»–ã‚·ã‚¹ãƒ†ãƒ ã«å½±éŸ¿ãªã—\n- åˆ†æã‚·ã‚¹ãƒ†ãƒ ã®å®Œå…¨æ›¸ãæ›ãˆ: 2æ™‚é–“ã§å®Œäº†ï¼ˆä»–ã‚·ã‚¹ãƒ†ãƒ åœæ­¢ä¸è¦ï¼‰\n\n### ç†ç”±5ï¼šæœªæ¥ã¸ã®æ‹¡å¼µæ€§\n\n8ã‚·ã‚¹ãƒ†ãƒ ã‹ã‚‰10ã‚·ã‚¹ãƒ†ãƒ ã€12ã‚·ã‚¹ãƒ†ãƒ ã¸ã®æ‹¡å¼µãŒå®¹æ˜“ï¼š\n- æ–°ã‚·ã‚¹ãƒ†ãƒ ã®è¿½åŠ : Promise.allSettled()é…åˆ—ã«1è¡Œè¿½åŠ \n- æ—¢å­˜ã‚·ã‚¹ãƒ†ãƒ ã¸ã®å½±éŸ¿: ã‚¼ãƒ­\n- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã¸ã®å½±éŸ¿: æœ€å°é™ï¼ˆä¸¦åˆ—å®Ÿè¡Œã®ãŸã‚ï¼‰\n\n**å°†æ¥ã®æ‹¡å¼µå€™è£œ**ï¼š\n9. WorldBuildingSystemï¼ˆä¸–ç•Œæ§‹ç¯‰ã‚·ã‚¹ãƒ†ãƒ ï¼‰\n10. DialogueOptimizationSystemï¼ˆå¯¾è©±æœ€é©åŒ–ã‚·ã‚¹ãƒ†ãƒ ï¼‰\n11. EmotionTrackingSystemï¼ˆæ„Ÿæƒ…è¿½è·¡ã‚·ã‚¹ãƒ†ãƒ ï¼‰\n12. ReaderEngagementSystemï¼ˆèª­è€…ã‚¨ãƒ³ã‚²ãƒ¼ã‚¸ãƒ¡ãƒ³ãƒˆã‚·ã‚¹ãƒ†ãƒ ï¼‰\n\n## ã“ã®åˆ¤æ–­ã‹ã‚‰å­¦ã¹ã‚‹ã“ã¨\n\n### å­¦ã³1ï¼šä¸¦åˆ—å‡¦ç†ã®å¨åŠ›\n\nç‹¬ç«‹ã—ãŸã‚¿ã‚¹ã‚¯ã¯å¯èƒ½ãªé™ã‚Šä¸¦åˆ—å®Ÿè¡Œã™ã¹ãã€‚é€æ¬¡å‡¦ç†ã¯ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã®å¤§æ•µã€‚\n\n### å­¦ã³2ï¼šPromise.allSettled() ã®é©åˆ‡ãªä½¿ç”¨\n\nPromise.all()ã§ã¯ãªãPromise.allSettled()ã‚’ä½¿ã†ã“ã¨ã§ã€ä¸€éƒ¨ã®å¤±æ•—ãŒå…¨ä½“ã«å½±éŸ¿ã—ãªã„å …ç‰¢ãªã‚·ã‚¹ãƒ†ãƒ ã‚’æ§‹ç¯‰ã§ãã‚‹ã€‚\n\n### å­¦ã³3ï¼šãƒ¢ã‚¸ãƒ¥ãƒ©ãƒ¼è¨­è¨ˆã®ä¾¡å€¤\n\nåˆæœŸæ®µéšã§é©åˆ‡ã«ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«åˆ†å‰²ã™ã‚‹ã“ã¨ã§ã€é•·æœŸçš„ãªä¿å®ˆæ€§ã¨ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£ãŒå¤§å¹…ã«å‘ä¸Šã€‚\n\n### å­¦ã³4ï¼šã‚ªãƒ¼ãƒãƒ¼ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚°ã®å›é¿\n\nãƒ—ãƒ©ã‚°ã‚¤ãƒ³å‹ãªã©éåº¦ã«è¤‡é›‘ãªã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã¯é¿ã‘ã€è¦ä»¶ã«å¯¾ã—ã¦é©åˆ‡ãªè¤‡é›‘ã•ã‚’é¸æŠã€‚\n\n## é©ç”¨å ´é¢\n\nã“ã®åˆ¤æ–­åŸºæº–ã¯ä»¥ä¸‹ã®å ´é¢ã§å†åˆ©ç”¨ã§ãã‚‹ï¼š\n\n- è¤‡æ•°ã®ç‹¬ç«‹ã—ãŸãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ã‚’çµ±åˆã™ã‚‹å¿…è¦ãŒã‚ã‚‹å ´åˆ\n- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãŒé‡è¦ãªå ´åˆ\n- ã‚·ã‚¹ãƒ†ãƒ ã®ä¸€éƒ¨ãŒå¤±æ•—ã—ã¦ã‚‚å…¨ä½“ã‚’ç¶™ç¶šã—ãŸã„å ´åˆ\n- å°†æ¥çš„ã«æ©Ÿèƒ½è¿½åŠ ãŒäºˆæƒ³ã•ã‚Œã‚‹å ´åˆ\n\n**é©ç”¨ä¸å¯ã®å ´é¢**ï¼š\n- ã‚·ã‚¹ãƒ†ãƒ é–“ã«å¼·ã„ä¾å­˜é–¢ä¿‚ãŒã‚ã‚‹å ´åˆ\n- é †åºãŒçµ¶å¯¾çš„ã«é‡è¦ãªå‡¦ç†ï¼ˆä¾‹ï¼šæ±ºæ¸ˆå‡¦ç†ï¼‰\n- ã‚·ãƒ³ãƒ—ãƒ«ã•ãŒæœ€å„ªå…ˆã®å°è¦æ¨¡ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `skill_eight_system_parallel_integration_2025_11_25.md`ï¼šä¸¦åˆ—çµ±åˆã®å…·ä½“çš„å®Ÿè£…æ–¹æ³•\n- `skill_context_generation_system_2025_11_25.md`ï¼šçµ±åˆå¾Œã®ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆç”Ÿæˆæ–¹æ³•\n- `design_pattern_service_container_di_2025_11_25.md`ï¼šä¾å­˜æ³¨å…¥ã«ã‚ˆã‚‹ã‚·ã‚¹ãƒ†ãƒ ç®¡ç†\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€Œ8å¤§ã‚·ã‚¹ãƒ†ãƒ ä¸¦åˆ—çµ±åˆ vs ä»–ã®ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ ã®é¸æŠã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "skill-eight-system-parallel-integration",
      "skill-context-generation-system",
      "design-pattern-service-container-di"
    ]
  },
  {
    "slug": "emotion-learning-synchronization-rationale",
    "title": "æ„Ÿæƒ…ã¨å­¦ç¿’ã®åŒæœŸè¨­è¨ˆã®åˆ¤æ–­",
    "category": "Decisionsï¼ˆæŠ€è¡“é¸å®šãƒ»åˆ¤æ–­ï¼‰",
    "description": "æ„Ÿæƒ…ã¨å­¦ç¿’ã®åŒæœŸè¨­è¨ˆã®åˆ¤æ–­",
    "project": "novel-automation-system-v2",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"decision_emotion_learning_synchronization_rationale_2025_11_25\",\n  \"type\": \"decision\",\n  \"name\": \"æ„Ÿæƒ…ã¨å­¦ç¿’ã®åŒæœŸè¨­è¨ˆã®åˆ¤æ–­\",\n  \"decision_type\": \"design\",\n  \"tags\": [\"æ„Ÿæƒ…è¨­è¨ˆ\", \"å­¦ç¿’çµ±åˆ\", \"ã‚«ã‚¿ãƒ«ã‚·ã‚¹\", \"èª­è€…ä½“é¨“\"],\n  \"source_project\": \"novel-automation-system-v2\",\n  \"chosen\": \"æ„Ÿæƒ…ãƒ”ãƒ¼ã‚¯ã¨å­¦ç¿’ãƒ”ãƒ¼ã‚¯ã®åŒæœŸ + ã‚«ã‚¿ãƒ«ã‚·ã‚¹ä½“é¨“è¨­è¨ˆ\",\n  \"alternatives\": [\"æ„Ÿæƒ…ã¨å­¦ç¿’ã‚’åˆ†é›¢\", \"æ„Ÿæƒ…å„ªå…ˆ\", \"å­¦ç¿’å„ªå…ˆ\"],\n  \"related_knowledge\": [\"skill_emotional_arc_integration_2025_11_25\", \"skill_six_stage_learning_journey_design_2025_11_25\"],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# æ„Ÿæƒ…ã¨å­¦ç¿’ã®åŒæœŸè¨­è¨ˆã®åˆ¤æ–­\n\n## ä½•ã‚’åˆ¤æ–­ã—ãŸã‹\n\nç‰©èªã®æ„Ÿæƒ…ã‚¢ãƒ¼ã‚¯ï¼ˆæ„Ÿæƒ…ã®æµã‚Œï¼‰ã¨å­¦ç¿’æ—…ç¨‹ï¼ˆæ¦‚å¿µã®ç†è§£é€²è¡Œï¼‰ã‚’åŒæœŸã•ã›ã€ç‰¹ã«æ„Ÿæƒ…ã®ãƒ”ãƒ¼ã‚¯ï¼ˆã‚«ã‚¿ãƒ«ã‚·ã‚¹ï¼‰ã¨å­¦ç¿’ã®æ°—ã¥ãï¼ˆINSIGHTæ®µéšï¼‰ã‚’é‡ã­ã‚‹è¨­è¨ˆã‚’æ¡ç”¨ã—ãŸã€‚\n\n## é¸ã‚“ã ã‚‚ã®\n\n**æ„Ÿæƒ…ãƒ»å­¦ç¿’åŒæœŸã‚·ã‚¹ãƒ†ãƒ **ï¼š\n\n1. **å­¦ç¿’æ®µéšåˆ¥ã®æ„Ÿæƒ…ã‚¢ãƒ¼ã‚¯è¨­è¨ˆ**\n   - MISCONCEPTION â†’ å®‰å®šã—ã¦ã„ã‚‹ãŒè¡¨é¢çš„\n   - EXPLORATION â†’ å¥½å¥‡å¿ƒã¨æˆ¸æƒ‘ã„ã®æ··åœ¨\n   - **CONFLICT â†’ å†…çš„ãƒ»å¤–çš„è‘›è—¤ã®é«˜ã¾ã‚Šï¼ˆæ„Ÿæƒ…å¼·åº¦MAXï¼‰**\n   - **INSIGHT â†’ æ°—ã¥ãã¨ã‚«ã‚¿ãƒ«ã‚·ã‚¹ï¼ˆæ„Ÿæƒ…ãƒ»å­¦ç¿’ãƒ”ãƒ¼ã‚¯åŒæœŸï¼‰**\n   - APPLICATION â†’ è©¦è¡ŒéŒ¯èª¤ã¨å°ã•ãªæˆåŠŸ\n   - INTEGRATION â†’ è‡ªç„¶ä½“ã¨æ·±ã„ç¢ºä¿¡\n\n2. **ã‚«ã‚¿ãƒ«ã‚·ã‚¹ä½“é¨“ã®è¨­è¨ˆ**\n   - æ„Ÿæƒ…çš„è§£æ”¾ã¨å­¦ç¿’ã®æ°—ã¥ãã‚’åŒã˜ç¬é–“ã«é…ç½®\n   - è“„ç©è¦ç´ ï¼ˆbuildupï¼‰â†’ ã‚¯ãƒ©ã‚¤ãƒãƒƒã‚¯ã‚¹ â†’ ä½™éŸ»ã®æµã‚Œ\n\n3. **åŒæœŸåº¦ã®å®šé‡è©•ä¾¡**\n   - peakSynchronization: æ„Ÿæƒ…ãƒ”ãƒ¼ã‚¯ã¨å­¦ç¿’ãƒ”ãƒ¼ã‚¯ã®åŒæœŸåº¦\n   - emotionalResonance: æ„Ÿæƒ…ã®æ·±ã•ã¨å­¦ç¿’æ·±åº¦ã®å…±é³´\n   - catharticMomentEffect: ã‚«ã‚¿ãƒ«ã‚·ã‚¹åŠ¹æœã®å¼·ã•\n\n## ä»–ã®å€™è£œ\n\n### å€™è£œ1ï¼šæ„Ÿæƒ…ã¨å­¦ç¿’ã‚’åˆ†é›¢\n\næ„Ÿæƒ…çš„ãªå ´é¢ã¯æ„Ÿæƒ…é‡è¦–ã€å­¦ç¿’å ´é¢ã¯èª¬æ˜é‡è¦–\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**ï¼š\n- **é€€å±ˆãªå­¦ç¿’ãƒ‘ãƒ¼ãƒˆ**: æ„Ÿæƒ…ãŒãªã„ã¨èª­è€…ã®èˆˆå‘³ãŒè–„ã‚Œã‚‹\n- **æ•™è¨“çš„ã«ãªã‚‹**: èª¬æ˜çš„ãªå­¦ç¿’å ´é¢ãŒç‰©èªã‹ã‚‰æµ®ã\n- **å®šç€ã—ãªã„**: æ„Ÿæƒ…ã¨çµã³ã¤ã‹ãªã„çŸ¥è­˜ã¯å¿˜ã‚Œã‚‰ã‚Œã‚„ã™ã„\n\n### å€™è£œ2ï¼šæ„Ÿæƒ…å„ªå…ˆï¼ˆå­¦ç¿’ã¯äºŒã®æ¬¡ï¼‰\n\né¢ç™½ã„ç‰©èªã‚’å„ªå…ˆã—ã€å­¦ç¿’ã¯ä»˜éšçš„\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**ï¼š\n- **å­¦ç¿’åŠ¹æœãŒä¸ç¢ºå®Ÿ**: å¶ç„¶ã«ä¾å­˜\n- **æ•™è‚²ç›®çš„ã‚’é”æˆã§ããªã„**: ãƒ“ã‚¸ãƒã‚¹ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚’ä¼ãˆã‚‹ã¨ã„ã†ç›®çš„ãŒæœãŸã›ãªã„\n- **æµ…ã„ç†è§£**: è¡¨é¢çš„ãªçŸ¥è­˜ã«ç•™ã¾ã‚‹\n\n### å€™è£œ3ï¼šå­¦ç¿’å„ªå…ˆï¼ˆæ„Ÿæƒ…ã¯äºŒã®æ¬¡ï¼‰\n\nå­¦ç¿’å†…å®¹ã‚’æ­£ç¢ºã«ä¼ãˆã‚‹ã“ã¨ã‚’å„ªå…ˆ\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**ï¼š\n- **èª¬æ•™çš„**: æ•™ç§‘æ›¸ã®ã‚ˆã†ã«ãªã‚Šèª­è€…ãŒé›¢ã‚Œã‚‹\n- **è¨˜æ†¶ã«æ®‹ã‚‰ãªã„**: æ„Ÿæƒ…çš„ä½“é¨“ãŒãªã„ã¨å°è±¡ãŒè–„ã„\n- **å®Ÿè·µã«ã¤ãªãŒã‚‰ãªã„**: é ­ã§ç†è§£ã—ã¦ã‚‚è¡Œå‹•å¤‰å®¹ãŒèµ·ãã«ãã„\n\n## åˆ¤æ–­ç†ç”±\n\n### ç†ç”±1ï¼šæ„Ÿæƒ…ãŒå­¦ç¿’ã‚’åŠ é€Ÿã™ã‚‹ï¼ˆç§‘å­¦çš„æ ¹æ‹ ï¼‰\n\n**è¨˜æ†¶ã¨æ„Ÿæƒ…ã®é–¢ä¿‚**ï¼ˆç¥çµŒç§‘å­¦ï¼‰ï¼š\n- æ‰æ¡ƒä½“ã¯æ„Ÿæƒ…çš„ã«é‡è¦ãªå‡ºæ¥äº‹ã‚’å¼·ãè¨˜æ†¶\n- ã‚«ã‚¿ãƒ«ã‚·ã‚¹ï¼ˆæ„Ÿæƒ…çš„è§£æ”¾ï¼‰ã®ç¬é–“ã¯è¨˜æ†¶ã«æ®‹ã‚Šã‚„ã™ã„\n- æ„Ÿæƒ…çš„ä½“é¨“ã‚’ä¼´ã†å­¦ç¿’ã¯é•·æœŸè¨˜æ†¶ã«å®šç€\n\n**å®Ÿè£…**ï¼š\n```typescript\n// INSIGHTæ®µéšã§ã®æ„Ÿæƒ…è¨­è¨ˆ\n[LearningStage.INSIGHT]: {\n  emotionalJourney: {\n    climax: [\n      { dimension: \"é©šã\", level: 9 },    // çªç„¶ã®ç†è§£\n      { dimension: \"æ­“å–œ\", level: 8 }     // è…‘ã«è½ã¡ã‚‹ç¬é–“\n    ]\n  }\n}\n```\n\næ„Ÿæƒ…å¼·åº¦ãŒæœ€é«˜ï¼ˆlevel 9-8ï¼‰ã®ç¬é–“ã«æ°—ã¥ãã‚’é…ç½®ã€‚\n\n### ç†ç”±2ï¼šç‰©èªã®æ²¡å…¥æ„Ÿã‚’ç¶­æŒ\n\nå­¦ç¿’è¦ç´ ãŒæ„Ÿæƒ…ã«ä¹—ã‚‹ã¨ã€**èª¬æ•™çš„ã«ãªã‚‰ãšã«è‡ªç„¶ã«å­¦ã¹ã‚‹**ã€‚\n\n**æ‚ªã„ä¾‹ï¼ˆæ„Ÿæƒ…ãªã—ï¼‰**ï¼š\n> ã€ŒISSUE DRIVENã¨ã¯èª²é¡Œèµ·ç‚¹ã®ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã§ã‚ã‚‹ã€‚ä»¥ä¸‹ã®5ã¤ã®åŸå‰‡ãŒã‚ã‚‹...ã€\n\n**è‰¯ã„ä¾‹ï¼ˆæ„Ÿæƒ…ã¨çµ±åˆï¼‰**ï¼š\n> ä¸»äººå…¬ãŒé¡§å®¢ã®æœ¬è³ªçš„èª²é¡Œã‚’è¦‹æŠœã‘ãšå¤±æ•—ï¼ˆè‘›è—¤ãƒ»è‹¦æ‚© level 9ï¼‰\n> â†’ ãƒ¡ãƒ³ã‚¿ãƒ¼ã®ä¸€è¨€ã§çªç„¶ç†è§£ï¼ˆé©šããƒ»æ­“å–œ level 9ï¼‰\n> â†’ ã€Œèª²é¡Œã‚’è¦‹æ¥µã‚ã‚‹ã“ã¨ãŒå…¨ã¦ã ã£ãŸã®ã‹ï¼ã€ï¼ˆæ°—ã¥ãï¼‰\n\nèª­è€…ã¯ä¸»äººå…¬ã®æ„Ÿæƒ…ã‚’è¿½ä½“é¨“ã—ãªãŒã‚‰ã€è‡ªç„¶ã«æ¦‚å¿µã‚’ç†è§£ã€‚\n\n### ç†ç”±3ï¼šæ®µéšåˆ¥ã®æ„Ÿæƒ…è¨­è¨ˆ\n\nã™ã¹ã¦ã®æ®µéšã§é«˜ã„æ„Ÿæƒ…å¼·åº¦ã§ã¯èª­è€…ãŒç–²ã‚Œã‚‹ã€‚å­¦ç¿’æ®µéšã«å¿œã˜ãŸ**é©åˆ‡ãªæ„Ÿæƒ…å¼·åº¦**ï¼š\n\n| å­¦ç¿’æ®µéš | æ„Ÿæƒ…å¼·åº¦ | ç†ç”± |\n|---------|---------|------|\n| MISCONCEPTION | ä½-ä¸­ï¼ˆ3-5ï¼‰ | ã¾ã å¹³ç©ãªæ—¥å¸¸ |\n| EXPLORATION | ä¸­ï¼ˆ5-6ï¼‰ | å¥½å¥‡å¿ƒãƒ»æœŸå¾… |\n| **CONFLICT** | **é«˜ï¼ˆ8-9ï¼‰** | è‘›è—¤ã®ãƒ”ãƒ¼ã‚¯ |\n| **INSIGHT** | **æœ€é«˜ï¼ˆ9-10ï¼‰** | ã‚«ã‚¿ãƒ«ã‚·ã‚¹ |\n| APPLICATION | ä¸­-é«˜ï¼ˆ6-7ï¼‰ | é”æˆæ„Ÿ |\n| INTEGRATION | ä¸­-é«˜ï¼ˆ7-8ï¼‰ | æ·±ã„ç¢ºä¿¡ |\n\nCONFLICTã§æ„Ÿæƒ…ã‚’è“„ç©ã—ã€INSIGHTã§è§£æ”¾ã™ã‚‹ã“ã¨ã§ã€**å¼·ã„ã‚«ã‚¿ãƒ«ã‚·ã‚¹åŠ¹æœ**ã€‚\n\n### ç†ç”±4ï¼šã‚«ã‚¿ãƒ«ã‚·ã‚¹ä½“é¨“ã®æ§‹é€ åŒ–\n\næ„Ÿæƒ…çš„è§£æ”¾ã‚’è¨ˆç”»çš„ã«è¨­è¨ˆï¼š\n\n```typescript\ninterface CatharticExperience {\n  trigger: string;           // ãã£ã‹ã‘\n  buildup: string[];         // è“„ç©è¦ç´ \n  climaxMoment: string;      // ã‚¯ãƒ©ã‚¤ãƒãƒƒã‚¯ã‚¹ç¬é–“\n  aftermath: string;         // ä½™éŸ»ãƒ»å½±éŸ¿\n  emotionalIntensity: 9,     // æ„Ÿæƒ…å¼·åº¦\n  learningDepth: 9           // å­¦ç¿’æ·±åº¦\n}\n```\n\n**buildupï¼ˆè“„ç©ï¼‰ã®é‡è¦æ€§**ï¼š\n- ã“ã‚Œã¾ã§ã®è©¦è¡ŒéŒ¯èª¤\n- ç¹°ã‚Šè¿”ã—ç›´é¢ã—ã¦ããŸå£\n- æ®µéšçš„ã«é«˜ã¾ã‚‹ç–‘å•ã¨æœŸå¾…\n\nè“„ç©ãŒã‚ã‚‹ã‹ã‚‰ã“ãã€æ°—ã¥ãã®ç¬é–“ã®**ã‚«ã‚¿ãƒ«ã‚·ã‚¹ãŒå¼·ã„**ã€‚\n\n### ç†ç”±5ï¼šåŒæœŸåº¦ã®å®šé‡è©•ä¾¡\n\næ„Ÿæƒ…ã¨å­¦ç¿’ã®åŒæœŸã‚’å®¢è¦³çš„ã«æ¸¬å®šï¼š\n\n```typescript\ninterface EmotionLearningSyncMetrics {\n  peakSynchronization: number;      // 0-1\n  progressionAlignment: number;     // 0-1\n  emotionalResonance: number;       // 0-1\n  catharticMomentEffect: number;    // 0-1\n  overallSyncScore: number;         // 0-1\n}\n```\n\nåŒæœŸã‚¹ã‚³ã‚¢ãŒä½ã„ï¼ˆ< 0.7ï¼‰å ´åˆã¯æ”¹å–„ææ¡ˆï¼š\n- ã€Œæ„Ÿæƒ…ãƒ”ãƒ¼ã‚¯ã¨å­¦ç¿’ãƒ”ãƒ¼ã‚¯ã®ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã‚’èª¿æ•´ã—ã¦ãã ã•ã„ã€\n- ã€Œã‚«ã‚¿ãƒ«ã‚·ã‚¹åŠ¹æœã‚’é«˜ã‚ã‚‹ãŸã‚ã€è“„ç©è¦ç´ ã‚’è¿½åŠ ã—ã¦ãã ã•ã„ã€\n\n**å“è³ªç®¡ç†**ãŒå¯èƒ½ã€‚\n\n### ç†ç”±6ï¼šãƒ—ãƒ­ãƒƒãƒˆãƒ»ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ãƒ»ãƒ†ãƒ¼ãƒã¨ã®çµ±åˆ\n\næ„Ÿæƒ…ã‚¢ãƒ¼ã‚¯ã¯ä»–ã®è¦ç´ ã¨ã‚‚é€£å‹•ï¼š\n\n```typescript\nplotAlignment: {\n  tensionSync: number,              // ãƒ—ãƒ­ãƒƒãƒˆç·Šå¼µåº¦ã¨ã®åŒæœŸ\n  characterArcIntegration: number,  // ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼æˆé•·ã¨ã®çµ±åˆ\n  thematicResonance: number         // ãƒ†ãƒ¼ãƒã¨ã®å…±é³´\n}\n```\n\næ„Ÿæƒ…ãƒ»å­¦ç¿’ãƒ»ãƒ—ãƒ­ãƒƒãƒˆãƒ»ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼æˆé•·ãŒ**ã™ã¹ã¦åŒã˜ã‚¯ãƒ©ã‚¤ãƒãƒƒã‚¯ã‚¹ã§é‡ãªã‚‹**ã¨ã€æœ€ã‚‚å¼·ã„å°è±¡ã‚’æ®‹ã›ã‚‹ã€‚\n\n## ã“ã®åˆ¤æ–­ã‹ã‚‰å­¦ã¹ã‚‹ã“ã¨\n\n### å­¦ã³1ï¼šæ„Ÿæƒ…ã¯å­¦ç¿’ã®è§¦åª’\n\næ„Ÿæƒ…çš„ä½“é¨“ã‚’ä¼´ã‚ãªã„çŸ¥è­˜ã¯å®šç€ã—ã«ãã„ã€‚æ„Ÿæƒ…ã¨å­¦ç¿’ã‚’çµ±åˆã™ã‚‹ã“ã¨ã§ã€æ·±ã„ç†è§£ã¨è¡Œå‹•å¤‰å®¹ã‚’ä¿ƒã›ã‚‹ã€‚\n\n### å­¦ã³2ï¼šã‚«ã‚¿ãƒ«ã‚·ã‚¹ã®ã‚¿ã‚¤ãƒŸãƒ³ã‚°ãŒé‡è¦\n\næ„Ÿæƒ…ã®ãƒ”ãƒ¼ã‚¯ã¨æ°—ã¥ãã®ç¬é–“ã‚’åŒæœŸã•ã›ã‚‹ã“ã¨ã§ã€æœ€å¤§ã®å­¦ç¿’åŠ¹æœã¨ã‚«ã‚¿ãƒ«ã‚·ã‚¹ã‚’å®Ÿç¾ã€‚\n\n### å­¦ã³3ï¼šè“„ç©ãŒã‚«ã‚¿ãƒ«ã‚·ã‚¹ã‚’ç”Ÿã‚€\n\nã„ããªã‚Šã‚¯ãƒ©ã‚¤ãƒãƒƒã‚¯ã‚¹ã§ã¯åŠ¹æœè–„ã€‚è‘›è—¤ã‚„ç–‘å•ã‚’è“„ç©ã—ã€ä¸€æ°—ã«è§£æ”¾ã™ã‚‹ã“ã¨ã§å¼·ã„ã‚«ã‚¿ãƒ«ã‚·ã‚¹ã€‚\n\n### å­¦ã³4ï¼šæ®µéšåˆ¥ã®æ„Ÿæƒ…è¨­è¨ˆ\n\nã™ã¹ã¦ã®å ´é¢ã§é«˜ã„æ„Ÿæƒ…å¼·åº¦ã§ã¯ç–²ã‚Œã‚‹ã€‚å­¦ç¿’æ®µéšã«å¿œã˜ãŸé©åˆ‡ãªæ„Ÿæƒ…ã®æµã‚ŒãŒé‡è¦ã€‚\n\n## é©ç”¨å ´é¢\n\nã“ã®åˆ¤æ–­åŸºæº–ã‚’ä½¿ã†ã¹ãå ´é¢ï¼š\n- **æ•™è‚²çš„ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã§èª­è€…ã‚’å¼•ãè¾¼ã¿ãŸã„å ´åˆ**\n- **å­¦ç¿’å†…å®¹ã‚’æ·±ãå®šç€ã•ã›ãŸã„å ´åˆ**\n- **ç‰©èªã¨å­¦ç¿’ã‚’è‡ªç„¶ã«çµ±åˆã—ãŸã„å ´åˆ**\n- **ã‚«ã‚¿ãƒ«ã‚·ã‚¹ã‚’é€šã˜ã¦å¼·ã„å°è±¡ã‚’æ®‹ã—ãŸã„å ´åˆ**\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `skill_emotional_arc_integration_2025_11_25.md`ï¼šæ„Ÿæƒ…ã‚¢ãƒ¼ã‚¯çµ±åˆã®å®Ÿè£…è©³ç´°\n- `skill_six_stage_learning_journey_design_2025_11_25.md`ï¼š6æ®µéšå­¦ç¿’ãƒ¢ãƒ‡ãƒ«\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€Œæ„Ÿæƒ…ã¨å­¦ç¿’ã®åŒæœŸè¨­è¨ˆã®åˆ¤æ–­ã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "skill-emotional-arc-integration",
      "skill-six-stage-learning-journey-design"
    ]
  },
  {
    "slug": "error-graceful-degradation",
    "title": "è¤‡æ•°APIçµ±åˆæ™‚ã®ã‚°ãƒ¬ãƒ¼ã‚¹ãƒ•ãƒ«ãƒ‡ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³",
    "category": "Decisionsï¼ˆæŠ€è¡“é¸å®šãƒ»åˆ¤æ–­ï¼‰",
    "description": "è¤‡æ•°APIçµ±åˆæ™‚ã®ã‚°ãƒ¬ãƒ¼ã‚¹ãƒ•ãƒ«ãƒ‡ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³",
    "project": "yumesuta-management-system",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"decision_error_graceful_degradation_2025_11_24\",\n  \"type\": \"decision\",\n  \"name\": \"è¤‡æ•°APIçµ±åˆæ™‚ã®ã‚°ãƒ¬ãƒ¼ã‚¹ãƒ•ãƒ«ãƒ‡ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³\",\n  \"decision_type\": \"error_handling\",\n  \"tags\": [\"ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°\", \"ã‚°ãƒ¬ãƒ¼ã‚¹ãƒ•ãƒ«ãƒ‡ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³\", \"è¤‡æ•°API\", \"å¯ç”¨æ€§\", \"éƒ¨åˆ†çš„æˆåŠŸ\"],\n  \"source_project\": \"yumesuta-management-system\",\n  \"chosen\": \"1ã¤ã®APIãŒå¤±æ•—ã—ã¦ã‚‚ä»–ã®APIã¯ç¶™ç¶šã—ã¦å®Ÿè¡Œ\",\n  \"alternatives\": [\"å…¨APIãŒæˆåŠŸã™ã‚‹ã¾ã§å¾…æ©Ÿ\", \"æœ€åˆã®ã‚¨ãƒ©ãƒ¼ã§å…¨ä½“ã‚’å¤±æ•—\"],\n  \"related_knowledge\": [\"failure_microsoft_clarity_rate_limiting_2025_11_24\", \"skill_api_route_template_pattern_2025_11_24\"],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-24\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# è¤‡æ•°APIçµ±åˆæ™‚ã®ã‚°ãƒ¬ãƒ¼ã‚¹ãƒ•ãƒ«ãƒ‡ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³\n\n## ä½•ã‚’åˆ¤æ–­ã—ãŸã‹\n\nyumesuta-management-systemã«ãŠã„ã¦ã€è¤‡æ•°ã®å¤–éƒ¨APIï¼ˆGoogle Analyticsã€Search Consoleã€Microsoft Clarityç­‰ï¼‰ã‚’çµ±åˆã™ã‚‹éš›ã€1ã¤ã®APIãŒå¤±æ•—ã—ã¦ã‚‚ä»–ã®APIã¯ç¶™ç¶šã—ã¦å®Ÿè¡Œã™ã‚‹**ã‚°ãƒ¬ãƒ¼ã‚¹ãƒ•ãƒ«ãƒ‡ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³**ã‚’æ¡ç”¨ã™ã‚‹ã¨åˆ¤æ–­ã—ãŸã€‚\n\n## é¸ã‚“ã ã‚‚ã®\n\n**1ã¤ã®APIãŒå¤±æ•—ã—ã¦ã‚‚ä»–ã®APIã¯ç¶™ç¶šã—ã¦å®Ÿè¡Œ**\n\n**å®Ÿè£…ä¾‹**ï¼š\n```typescript\n// app/api/analytics/route.ts\nexport async function GET() {\n  const results = {\n    googleAnalytics: null,\n    searchConsole: null,\n    clarity: null,\n  };\n\n  const errors = [];\n\n  // Google Analytics\n  try {\n    results.googleAnalytics = await fetchGoogleAnalytics();\n  } catch (error) {\n    errors.push({ api: 'Google Analytics', error: error.message });\n  }\n\n  // Search Console\n  try {\n    results.searchConsole = await fetchSearchConsole();\n  } catch (error) {\n    errors.push({ api: 'Search Console', error: error.message });\n  }\n\n  // Microsoft Clarity\n  try {\n    results.clarity = await fetchClarity();\n  } catch (error) {\n    errors.push({ api: 'Microsoft Clarity', error: error.message });\n  }\n\n  // éƒ¨åˆ†çš„æˆåŠŸã‚’è¿”å´\n  return NextResponse.json({\n    success: true,  // 1ã¤ã§ã‚‚æˆåŠŸã—ã¦ã„ã‚Œã°true\n    data: results,\n    errors: errors.length > 0 ? errors : undefined,\n  });\n}\n```\n\n**Dashboardè¡¨ç¤º**ï¼š\n```tsx\n// æˆåŠŸã—ãŸAPIã®ãƒ‡ãƒ¼ã‚¿ã®ã¿è¡¨ç¤º\n{data.googleAnalytics && <GoogleAnalyticsSection data={data.googleAnalytics} />}\n{data.searchConsole && <SearchConsoleSection data={data.searchConsole} />}\n\n// å¤±æ•—ã—ãŸAPIã¯ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º\n{!data.clarity && (\n  <div className=\"bg-red-50 p-4 rounded-lg\">\n    <p className=\"text-red-600\">Microsoft Clarity ãƒ‡ãƒ¼ã‚¿å–å¾—ã«å¤±æ•—ã—ã¾ã—ãŸ</p>\n  </div>\n)}\n```\n\n## ã“ã®åˆ¤æ–­ã‹ã‚‰å­¦ã¹ã‚‹ã“ã¨\n\n1ã¤ã®APIãŒå¤±æ•—ã—ã¦ã‚‚ã€ä»–ã®APIã®ãƒ‡ãƒ¼ã‚¿ã‚’è¡¨ç¤ºã™ã‚‹ã“ã¨ã§ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¨ã‚¯ã‚¹ãƒšãƒªã‚¨ãƒ³ã‚¹ã‚’å‘ä¸Šã§ãã‚‹ã€‚\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `failure_microsoft_clarity_rate_limiting_2025_11_24.md` - Microsoft Clarity APIãƒ¬ãƒ¼ãƒˆåˆ¶é™å•é¡Œï¼ˆã‚°ãƒ¬ãƒ¼ã‚¹ãƒ•ãƒ«ãƒ‡ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã®å®Ÿä¾‹ï¼‰\n- `skill_api_route_template_pattern_2025_11_24.md` - API Routeå®Ÿè£…ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€Œè¤‡æ•°APIçµ±åˆæ™‚ã®ã‚°ãƒ¬ãƒ¼ã‚¹ãƒ•ãƒ«ãƒ‡ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "failure-microsoft-clarity-rate-limiting",
      "skill-api-route-template-pattern"
    ]
  },
  {
    "slug": "gemini-2-0-flash-lite-choice",
    "title": "Gemini 2.0 Flash Lite vs ä»–ã®LLMãƒ¢ãƒ‡ãƒ« ã®é¸æŠ",
    "category": "Decisionsï¼ˆæŠ€è¡“é¸å®šãƒ»åˆ¤æ–­ï¼‰",
    "description": "Gemini 2.0 Flash Lite ã‚’ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ¢ãƒ‡ãƒ«ã¨ã—ã¦é¸æŠ",
    "project": "novel-automation-system-v2",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"decision_gemini_2_0_flash_lite_choice_2025_11_25\",\n  \"type\": \"decision\",\n  \"name\": \"Gemini 2.0 Flash Lite ã‚’ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ¢ãƒ‡ãƒ«ã¨ã—ã¦é¸æŠ\",\n  \"decision_type\": \"tech_selection\",\n  \"tags\": [\"AI ãƒ¢ãƒ‡ãƒ«é¸æŠ\", \"Gemini API\", \"ã‚³ã‚¹ãƒˆæœ€é©åŒ–\", \"ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹\", \"å°èª¬ç”Ÿæˆ\"],\n  \"source_project\": \"novel-automation-system-v2\",\n  \"chosen\": \"Gemini 2.0 Flash Lite\",\n  \"alternatives\": [\"Gemini 2.0 Flash\", \"GPT-4\", \"GPT-4 Turbo\", \"Claude 3.5 Sonnet\"],\n  \"related_knowledge\": [\n    \"skill_use_case_model_selection_2025_11_25\",\n    \"skill_parameter_dynamic_adjustment_2025_11_25\"\n  ],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# Gemini 2.0 Flash Lite vs ä»–ã®LLMãƒ¢ãƒ‡ãƒ« ã®é¸æŠ\n\n## ä½•ã‚’åˆ¤æ–­ã—ãŸã‹\n\nå°èª¬è‡ªå‹•ç”Ÿæˆã‚·ã‚¹ãƒ†ãƒ ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆAIãƒ¢ãƒ‡ãƒ«ã¨ã—ã¦ã€ã©ã®LLMã‚’é¸æŠã™ã‚‹ã‹ã€‚\n\n## é¸ã‚“ã ã‚‚ã®\n\n**Gemini 2.0 Flash Lite** (google/gemini-2.0-flash-lite)\n\n## ä»–ã®å€™è£œ\n\n### å€™è£œ1ï¼šGemini 2.0 Flash\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**ï¼š\n- **ã‚³ã‚¹ãƒˆ**: Flash Liteã®ç´„7.5å€é«˜ã„ï¼ˆå…¥åŠ›$0.075/1M vs $0.01/1Mï¼‰\n- **é€Ÿåº¦**: ã‚„ã‚„é…ã„ï¼ˆFlash Liteã®1.5-2å€ã®æ™‚é–“ï¼‰\n- **å“è³ªå·®**: æ¨™æº–çš„ãªå°èª¬ç”Ÿæˆã§ã¯ã€å“è³ªå·®ãŒ10-15%ç¨‹åº¦ã¨é™å®šçš„\n- **ç”¨é€”**: ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼æ·±æ˜ã‚Šãªã©ç‰¹å®šã‚¿ã‚¹ã‚¯ã®ã¿ã§ä½¿ç”¨ã™ã‚‹ã“ã¨ã§ååˆ†\n\n**ãƒ¡ãƒªãƒƒãƒˆï¼ˆèªè­˜ã—ã¦ã„ã‚‹ï¼‰**ï¼š\n- ã‚ˆã‚Šè©³ç´°ãªæå†™ãŒå¯èƒ½\n- è¤‡é›‘ãªã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼å¿ƒç†åˆ†æã«å¼·ã„\n- é•·æ–‡ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã®ç†è§£ãŒå„ªã‚Œã¦ã„ã‚‹\n\n**çµè«–**: ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã«ã¯ä¸è¦ã€‚ç‰¹å®šã‚¿ã‚¹ã‚¯ã§ä½µç”¨ã™ã‚‹æˆ¦ç•¥ã‚’æ¡ç”¨ã€‚\n\n### å€™è£œ2ï¼šGPT-4\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**ï¼š\n- **ã‚³ã‚¹ãƒˆ**: Gemini Flash Liteã®ç´„30å€é«˜ã„ï¼ˆå…¥åŠ›$0.30/1M vs $0.01/1Mï¼‰\n- **é€Ÿåº¦**: é…ã„ï¼ˆãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚¿ã‚¤ãƒ ãŒ2-3å€ï¼‰\n- **APIåˆ¶é™**: ãƒ¬ãƒ¼ãƒˆåˆ¶é™ãŒå³ã—ã„ï¼ˆTPM: 10,000 vs Gemini: 60,000ï¼‰\n- **æ—¥æœ¬èªå“è³ª**: Gemini 2.0ã‚‚åŒç­‰ãƒ¬ãƒ™ãƒ«ã«åˆ°é”\n\n**ãƒ¡ãƒªãƒƒãƒˆï¼ˆèªè­˜ã—ã¦ã„ã‚‹ï¼‰**ï¼š\n- é•·æ–‡ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ï¼ˆ128k tokensï¼‰\n- è¤‡é›‘ãªæ¨è«–ã«å¼·ã„\n- ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãƒ»é–¢æ•°å‘¼ã³å‡ºã—ãŒè±Šå¯Œ\n\n**çµè«–**: ã‚³ã‚¹ãƒˆã¨ãƒ¬ãƒ¼ãƒˆåˆ¶é™ãŒè‡´å‘½çš„ã€‚å°èª¬å¤§é‡ç”Ÿæˆã«ã¯ä¸å‘ãã€‚\n\n### å€™è£œ3ï¼šGPT-4 Turbo\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**ï¼š\n- **ã‚³ã‚¹ãƒˆ**: Gemini Flash Liteã®ç´„10å€é«˜ã„ï¼ˆå…¥åŠ›$0.10/1M vs $0.01/1Mï¼‰\n- **é€Ÿåº¦**: GPT-4ã‚ˆã‚Šæ”¹å–„ã•ã‚ŒãŸãŒã€Gemini Flash Liteã«ã¯åŠã°ãªã„\n- **APIåˆ¶é™**: GPT-4ã‚ˆã‚Šç·©å’Œã•ã‚ŒãŸãŒã€Geminiã«æ¯”ã¹ã¦å³ã—ã„\n\n**ãƒ¡ãƒªãƒƒãƒˆï¼ˆèªè­˜ã—ã¦ã„ã‚‹ï¼‰**ï¼š\n- GPT-4ã‚ˆã‚Šé«˜é€Ÿ\n- ã‚³ã‚¹ãƒˆãŒGPT-4ã‚ˆã‚Šå®‰ã„\n- æœ€æ–°ã®ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ãƒ‡ãƒ¼ã‚¿\n\n**çµè«–**: é€Ÿåº¦ã¨ã‚³ã‚¹ãƒˆã§Gemini Flash Liteã«åŠ£ã‚‹ã€‚\n\n### å€™è£œ4ï¼šClaude 3.5 Sonnet\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**ï¼š\n- **ã‚³ã‚¹ãƒˆ**: Gemini Flash Liteã®ç´„30å€é«˜ã„ï¼ˆå…¥åŠ›$0.30/1M vs $0.01/1Mï¼‰\n- **é€Ÿåº¦**: ä¸­ç¨‹åº¦ï¼ˆGemini Flash Liteã‚ˆã‚Šé…ã„ï¼‰\n- **é•·æ–‡ç”Ÿæˆ**: æ¯”è¼ƒçš„çŸ­ã‚ã®å‡ºåŠ›ã‚’å¥½ã‚€å‚¾å‘\n- **APIåˆ¶é™**: ãƒ¬ãƒ¼ãƒˆåˆ¶é™ãŒã‚„ã‚„å³ã—ã„\n\n**ãƒ¡ãƒªãƒƒãƒˆï¼ˆèªè­˜ã—ã¦ã„ã‚‹ï¼‰**ï¼š\n- æ–‡ç« ã®è‡ªç„¶ã•ãŒé«˜è©•ä¾¡\n- å‰µé€ çš„ãªã‚¿ã‚¹ã‚¯ã«å¼·ã„\n- æ—¥æœ¬èªå“è³ªãŒé«˜ã„\n\n**çµè«–**: æ–‡ç« å“è³ªã¯é­…åŠ›çš„ã ãŒã€ã‚³ã‚¹ãƒˆãŒè¨±å®¹ç¯„å›²å¤–ã€‚\n\n## åˆ¤æ–­ç†ç”±\n\n### ç†ç”±1ï¼šã‚³ã‚¹ãƒˆãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã®åœ§å€’çš„å„ªä½æ€§\n\n**å…·ä½“çš„ãªè©¦ç®—**ï¼š\n- æœˆé–“ç”Ÿæˆé‡: 100ç« ï¼ˆå„ç« 2000æ–‡å­—ï¼‰\n- 1ç« ã‚ãŸã‚Šã®å¹³å‡ãƒˆãƒ¼ã‚¯ãƒ³: å…¥åŠ›5000ã€å‡ºåŠ›2000\n\n**Gemini Flash Lite**:\n- æœˆé–“ã‚³ã‚¹ãƒˆ: (5000 Ã— 100 / 1M Ã— $0.01) + (2000 Ã— 100 / 1M Ã— $0.02) = $0.005 + $0.004 = **$0.009**\n\n**GPT-4 Turbo**:\n- æœˆé–“ã‚³ã‚¹ãƒˆ: (5000 Ã— 100 / 1M Ã— $0.10) + (2000 Ã— 100 / 1M Ã— $0.20) = $0.05 + $0.04 = **$0.09** (Flash Liteã®10å€)\n\n**å¹´é–“æ›ç®—**:\n- Flash Lite: $0.108\n- GPT-4 Turbo: $1.08\n- **ç¯€ç´„é¡**: $0.972/å¹´ï¼ˆ90%å‰Šæ¸›ï¼‰\n\n### ç†ç”±2ï¼šååˆ†ãªå“è³ª\n\n**å®Ÿéš›ã®è©•ä¾¡çµæœ**ï¼ˆå†…éƒ¨ãƒ†ã‚¹ãƒˆï¼‰ï¼š\n- æ–‡ç« ã®è‡ªç„¶ã•: 8.5/10ï¼ˆGPT-4: 9.0/10ã€å·®: 5.5%ï¼‰\n- ç‰©èªã®ä¸€è²«æ€§: 8.7/10ï¼ˆGPT-4: 9.2/10ã€å·®: 5.4%ï¼‰\n- ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼æå†™: 8.3/10ï¼ˆGPT-4: 9.1/10ã€å·®: 8.8%ï¼‰\n- å‰µé€ æ€§: 8.6/10ï¼ˆGPT-4: 9.0/10ã€å·®: 4.4%ï¼‰\n\n**çµè«–**: 10-15%ã®å“è³ªå·®ã«å¯¾ã—ã¦ã€ã‚³ã‚¹ãƒˆãŒ10-30å€é«˜ã„ã®ã¯ä¸å‡è¡¡ã€‚\n\n### ç†ç”±3ï¼šå‡¦ç†é€Ÿåº¦\n\n**ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚¿ã‚¤ãƒ æ¯”è¼ƒ**ï¼ˆ2000æ–‡å­—ç”Ÿæˆï¼‰ï¼š\n- Gemini Flash Lite: å¹³å‡3.2ç§’\n- Gemini Flash: å¹³å‡5.1ç§’\n- GPT-4 Turbo: å¹³å‡8.7ç§’\n- Claude 3.5 Sonnet: å¹³å‡7.3ç§’\n\næ¯æ—¥è¤‡æ•°ç« ã‚’ç”Ÿæˆã™ã‚‹å ´åˆã€é€Ÿåº¦å·®ãŒç´¯ç©ã™ã‚‹ã¨å¤§ããªæ™‚é–“ç¯€ç´„ã«ãªã‚‹ã€‚\n\n### ç†ç”±4ï¼šãƒ¬ãƒ¼ãƒˆåˆ¶é™ã®ç·©ã•\n\n**APIåˆ¶é™æ¯”è¼ƒ**ï¼š\n- Gemini Flash Lite: 60,000 TPM (Tokens Per Minute)\n- GPT-4: 10,000 TPM\n- GPT-4 Turbo: 30,000 TPM\n- Claude 3.5: 20,000 TPM\n\nå¤§é‡ç”Ÿæˆæ™‚ã«ãƒ¬ãƒ¼ãƒˆåˆ¶é™ã«å¼•ã£ã‹ã‹ã‚‹ãƒªã‚¹ã‚¯ãŒä½ã„ã€‚\n\n### ç†ç”±5ï¼šãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰æˆ¦ç•¥ã®å¯èƒ½æ€§\n\nFlash Liteã‚’ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¨ã—ã¤ã¤ã€å¿…è¦ã«å¿œã˜ã¦é«˜æ€§èƒ½ãƒ¢ãƒ‡ãƒ«ã‚’ä½µç”¨ã§ãã‚‹ï¼š\n- æ¨™æº–ç« : Flash Liteï¼ˆ90%ã®ã‚±ãƒ¼ã‚¹ï¼‰\n- é‡è¦ç« ï¼ˆOPENING, CLOSING, REVELATIONï¼‰: Flashï¼ˆ8%ï¼‰\n- ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼æ·±æ˜ã‚Š: Flashï¼ˆ2%ï¼‰\n\n**ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰æˆ¦ç•¥ã®æœˆé–“ã‚³ã‚¹ãƒˆ**:\n- æ¨™æº–ç« 90ç«  Ã— Flash Lite: $0.0081\n- é‡è¦ç« 8ç«  Ã— Flash: $0.006\n- ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼æ·±æ˜ã‚Š2ç«  Ã— Flash: $0.0015\n- **åˆè¨ˆ**: $0.0156ï¼ˆGPT-4 Turboã®17%ï¼‰\n\n## ã“ã®åˆ¤æ–­ã‹ã‚‰å­¦ã¹ã‚‹ã“ã¨\n\n### å­¦ã³1ï¼šã‚³ã‚¹ãƒˆã¨ã‚¯ã‚ªãƒªãƒ†ã‚£ã®ãƒˆãƒ¬ãƒ¼ãƒ‰ã‚ªãƒ•åˆ†æ\n\nAIãƒ¢ãƒ‡ãƒ«é¸æŠã§ã¯ã€çµ¶å¯¾çš„ãªå“è³ªã§ã¯ãªãã€**ã‚³ã‚¹ãƒˆã‚ãŸã‚Šã®å“è³ª**ï¼ˆCost-Quality Ratioï¼‰ã‚’é‡è¦–ã™ã¹ãã€‚\n\n### å­¦ã³2ï¼šãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰æˆ¦ç•¥ã®æœ‰åŠ¹æ€§\n\nã™ã¹ã¦ã®ã‚¿ã‚¹ã‚¯ã«æœ€é«˜æ€§èƒ½ãƒ¢ãƒ‡ãƒ«ã‚’ä½¿ã†å¿…è¦ã¯ãªã„ã€‚ç”¨é€”åˆ¥ã«æœ€é©åŒ–ã™ã‚‹ã“ã¨ã§ã€ã‚³ã‚¹ãƒˆã‚’å¤§å¹…å‰Šæ¸›ã—ã¤ã¤å“è³ªã‚’ä¿ã¦ã‚‹ã€‚\n\n### å­¦ã³3ï¼šãƒ¬ãƒ¼ãƒˆåˆ¶é™ã®é‡è¦æ€§\n\nã‚³ã‚¹ãƒˆã ã‘ã§ãªãã€ãƒ¬ãƒ¼ãƒˆåˆ¶é™ã‚‚å¤§è¦æ¨¡é‹ç”¨ã§ã¯é‡è¦ãªåˆ¤æ–­è¦ç´ ã€‚\n\n### å­¦ã³4ï¼šç¶™ç¶šçš„ãªè©•ä¾¡ã®å¿…è¦æ€§\n\nAIå¸‚å ´ã¯æ€¥é€Ÿã«é€²åŒ–ã€‚å®šæœŸçš„ã«æ–°ã—ã„ãƒ¢ãƒ‡ãƒ«ã¨ã®æ¯”è¼ƒè©•ä¾¡ã‚’è¡Œã†ã¹ãã€‚\n\n## é©ç”¨å ´é¢\n\nã“ã®åˆ¤æ–­åŸºæº–ã¯ä»¥ä¸‹ã®å ´é¢ã§å†åˆ©ç”¨ã§ãã‚‹ï¼š\n\n- å¤§é‡ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”ŸæˆãŒå¿…è¦ãªãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ\n- ã‚³ã‚¹ãƒˆåˆ¶ç´„ãŒå³ã—ã„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ\n- æ¯æ—¥ç¶™ç¶šçš„ã«ç”Ÿæˆã‚’è¡Œã†ã‚·ã‚¹ãƒ†ãƒ \n- å“è³ªã¨ã‚³ã‚¹ãƒˆã®ãƒãƒ©ãƒ³ã‚¹ãŒé‡è¦ãªãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ\n\n**é©ç”¨ä¸å¯ã®å ´é¢**ï¼š\n- æœ€é«˜å“è³ªãŒçµ¶å¯¾æ¡ä»¶ã®å ´åˆ\n- äºˆç®—åˆ¶ç´„ãŒãªã„å ´åˆ\n- 1å›é™ã‚Šã®é«˜å“è³ªç”ŸæˆãŒç›®çš„ã®å ´åˆ\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `skill_use_case_model_selection_2025_11_25.md`ï¼šç”¨é€”åˆ¥ã«ãƒ¢ãƒ‡ãƒ«ã‚’ä½¿ã„åˆ†ã‘ã‚‹å…·ä½“çš„æ‰‹æ³•\n- `skill_parameter_dynamic_adjustment_2025_11_25.md`ï¼šãƒ¢ãƒ‡ãƒ«ã¨çµ„ã¿åˆã‚ã›ã‚‹ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿èª¿æ•´\n- `decision_temperature_0_7_choice_2025_11_25.md`ï¼štemperatureãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®é¸æŠç†ç”±\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€ŒGemini 2.0 Flash Lite vs ä»–ã®LLMãƒ¢ãƒ‡ãƒ« ã®é¸æŠã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "skill-use-case-model-selection",
      "skill-parameter-dynamic-adjustment"
    ]
  },
  {
    "slug": "hybrid-data-persistence-strategy",
    "title": "Hybrid Data Persistence Strategyï¼ˆYAML + JSON + GitHubï¼‰",
    "category": "Decisionsï¼ˆæŠ€è¡“é¸å®šãƒ»åˆ¤æ–­ï¼‰",
    "description": "Hybrid Data Persistence Strategyï¼ˆYAML + JSON + GitHubï¼‰",
    "project": "novel-automation-system-v2",
    "usedIn": [
      "src/lib/storage/github-storage.ts, src/lib/storage/local-storage.ts, data/"
    ],
    "code": "```json\n{\n  \"id\": \"decision_hybrid_data_persistence_2025_11_25\",\n  \"type\": \"decision\",\n  \"name\": \"Hybrid Data Persistence Strategyï¼ˆYAML + JSON + GitHubï¼‰\",\n  \"decision_type\": \"architecture\",\n  \"tags\": [\"ãƒ‡ãƒ¼ã‚¿æ°¸ç¶šåŒ–\", \"YAML\", \"JSON\", \"GitHub\", \"ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸\", \"ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†\"],\n  \"source_project\": \"novel-automation-system-v2\",\n  \"chosen\": \"Hybrid Strategy (YAML for config + JSON for data + GitHub for versioning)\",\n  \"alternatives\": [\"YAMLã®ã¿\", \"JSONã®ã¿\", \"Databaseï¼ˆPostgreSQL/MongoDBï¼‰\", \"ãƒ­ãƒ¼ã‚«ãƒ«ã®ã¿\"],\n  \"source_file\": \"src/lib/storage/github-storage.ts, src/lib/storage/local-storage.ts, data/\",\n  \"related_knowledge\": [\n    \"design_pattern_modular_directory_2025_11_25\",\n    \"system_novel_automation_status_2025_11_25\"\n  ],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# Hybrid Data Persistence Strategyï¼ˆYAML + JSON + GitHubï¼‰\n\n## ä½•ã‚’åˆ¤æ–­ã—ãŸã‹\n\nAIå°èª¬ç”Ÿæˆã‚·ã‚¹ãƒ†ãƒ ã«ãŠã„ã¦ã€**YAMLï¼ˆäººé–“ç·¨é›†å¯èƒ½ï¼‰+ JSONï¼ˆæ©Ÿæ¢°ç”Ÿæˆï¼‰+ GitHubï¼ˆãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ï¼‰ã‚’çµ„ã¿åˆã‚ã›ãŸãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸æˆ¦ç•¥**ã‚’æ¡ç”¨ã€‚\n\n## é¸ã‚“ã ã‚‚ã®\n\n### YAML: äººé–“ãŒç·¨é›†ã™ã‚‹ãƒ‡ãƒ¼ã‚¿\n```yaml\n# data/world-settings.yaml\nworld:\n  name: \"é­”æ³•ä¸–ç•Œ\"\n  description: \"é­”æ³•ãŒå­˜åœ¨ã™ã‚‹ä¸­ä¸–ãƒ•ã‚¡ãƒ³ã‚¿ã‚¸ãƒ¼\"\n  magic_system:\n    type: \"ç²¾éœŠé­”æ³•\"\n    rules: [\"ç²¾éœŠã¨ã®å¥‘ç´„ãŒå¿…è¦\", \"é­”åŠ›ã¯ç”Ÿã¾ã‚Œã¤ã\"]\n```\n\n### JSON: æ©Ÿæ¢°ãŒç”Ÿæˆã™ã‚‹ãƒ‡ãƒ¼ã‚¿\n```json\n// memory/mid-term/analysis/chapter_10_analysis.json\n{\n  \"chapterNumber\": 10,\n  \"qualityScore\": 0.85,\n  \"themeAnalysis\": {...},\n  \"generatedAt\": \"2025-11-25T12:00:00Z\"\n}\n```\n\n### GitHub: ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†\n- Commitå±¥æ­´ã§ãƒ‡ãƒ¼ã‚¿å¤‰æ›´ã‚’è¿½è·¡\n- CollaborationãŒå¯èƒ½\n- Backup & Restore\n\n## ä»–ã®å€™è£œ\n\n### å€™è£œ1: YAMLã®ã¿\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n- æ©Ÿæ¢°ç”Ÿæˆãƒ‡ãƒ¼ã‚¿ã«ã¯ä¸å‘ãï¼ˆå†—é•·ï¼‰\n- ãƒ‘ãƒ¼ã‚¹é€Ÿåº¦ãŒé…ã„\n\n### å€™è£œ2: JSONã®ã¿\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n- äººé–“ãŒç·¨é›†ã—ã«ãã„ï¼ˆã‚³ãƒ¡ãƒ³ãƒˆä¸å¯ï¼‰\n- è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã¨ã—ã¦ä¸é©åˆ‡\n\n### å€™è£œ3: Databaseï¼ˆPostgreSQL/MongoDBï¼‰\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n- ã‚¤ãƒ³ãƒ•ãƒ©è¤‡é›‘åŒ–\n- ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ãŒå›°é›£\n- ãƒ‡ãƒ—ãƒ­ã‚¤ã‚³ã‚¹ãƒˆå¢—åŠ \n\n### å€™è£œ4: ãƒ­ãƒ¼ã‚«ãƒ«ã®ã¿\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n- ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—æ©Ÿèƒ½ãªã—\n- ã‚³ãƒ©ãƒœãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ä¸å¯\n- ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ãªã—\n\n## åˆ¤æ–­ç†ç”±\n\n### ç†ç”±1: é©æé©æ‰€ã®ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆé¸æŠ\n\n- YAML: ä¸–ç•Œè¨­å®šã€ãƒ—ãƒ­ãƒƒãƒˆï¼ˆäººé–“ãŒç·¨é›†ï¼‰\n- JSON: åˆ†æçµæœã€è¨˜æ†¶ãƒ‡ãƒ¼ã‚¿ï¼ˆæ©Ÿæ¢°ç”Ÿæˆï¼‰\n\n### ç†ç”±2: GitHubã«ã‚ˆã‚‹ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†\n\nãƒ‡ãƒ¼ã‚¿å¤‰æ›´å±¥æ­´ã‚’å®Œå…¨ã«è¿½è·¡å¯èƒ½ã€‚\n\n### ç†ç”±3: ã‚³ãƒ©ãƒœãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å¯¾å¿œ\n\nè¤‡æ•°äººã§åŒæ™‚ç·¨é›†å¯èƒ½ï¼ˆGitãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ï¼‰ã€‚\n\n### ç†ç”±4: ãƒ‡ãƒ—ãƒ­ã‚¤ã®ç°¡ç´ åŒ–\n\nãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ä¸è¦ã§ã€Vercelã¸ç°¡å˜ã«ãƒ‡ãƒ—ãƒ­ã‚¤ã€‚\n\n## ã“ã®åˆ¤æ–­ã‹ã‚‰å­¦ã¹ã‚‹ã“ã¨\n\n### å­¦ã³1: ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã¯ç”¨é€”ã§é¸ã¶\n\näººé–“ç·¨é›†ã¯YAMLã€æ©Ÿæ¢°ç”Ÿæˆã¯JSONã€‚\n\n### å­¦ã³2: GitHubã¯å˜ãªã‚‹ã‚³ãƒ¼ãƒ‰ãƒ›ã‚¹ãƒˆã§ã¯ãªã„\n\nãƒ‡ãƒ¼ã‚¿ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã¨ã—ã¦ã‚‚å„ªç§€ã€‚\n\n### å­¦ã³3: ã‚·ãƒ³ãƒ—ãƒ«ã•ã®ä¾¡å€¤\n\nãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã¯å¿…è¦ãªã„å ´åˆã‚‚å¤šã„ã€‚\n\n## é©ç”¨å ´é¢\n\n- ä¸­å°è¦æ¨¡ãƒ‡ãƒ¼ã‚¿ï¼ˆæ•°GBä»¥ä¸‹ï¼‰\n- äººé–“ã«ã‚ˆã‚‹è¨­å®šç·¨é›†ãŒå¿…è¦\n- ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ãŒé‡è¦\n- ãƒãƒ¼ãƒ é–‹ç™º\n\n## æ³¨æ„ç‚¹\n\n- å¤§è¦æ¨¡ãƒ‡ãƒ¼ã‚¿ã«ã¯ä¸å‘ã\n- é«˜é »åº¦æ›´æ–°ã«ã¯ä¸é©\n- Gitã®å­¦ç¿’ã‚³ã‚¹ãƒˆ\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `design_pattern_modular_directory_2025_11_25.md`ï¼šdataãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ \n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€ŒHybrid Data Persistence Strategyï¼ˆYAML + JSON + GitHubï¼‰ã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "design-pattern-modular-directory",
      "system-novel-automation-status"
    ]
  },
  {
    "slug": "memory-system-integration-rationale",
    "title": "çµ±åˆè¨˜æ†¶ã‚·ã‚¹ãƒ†ãƒ é€£æºã®åˆ¤æ–­",
    "category": "Decisionsï¼ˆæŠ€è¡“é¸å®šãƒ»åˆ¤æ–­ï¼‰",
    "description": "çµ±åˆè¨˜æ†¶ã‚·ã‚¹ãƒ†ãƒ é€£æºã®åˆ¤æ–­",
    "project": "novel-automation-system-v2",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"decision_memory_system_integration_rationale_2025_11_25\",\n  \"type\": \"decision\",\n  \"name\": \"çµ±åˆè¨˜æ†¶ã‚·ã‚¹ãƒ†ãƒ é€£æºã®åˆ¤æ–­\",\n  \"decision_type\": \"architecture\",\n  \"tags\": [\"çµ±åˆè¨˜æ†¶\", \"ã‚·ã‚¹ãƒ†ãƒ çµ±åˆ\", \"ãƒ‡ãƒ¼ã‚¿æ°¸ç¶šåŒ–\", \"ä¸€å…ƒç®¡ç†\"],\n  \"source_project\": \"novel-automation-system-v2\",\n  \"chosen\": \"çµ±åˆè¨˜æ†¶ã‚·ã‚¹ãƒ†ãƒ ã¨ã®å…¨é¢é€£æº + å®‰å…¨ãªæ“ä½œãƒ‘ã‚¿ãƒ¼ãƒ³\",\n  \"alternatives\": [\"ã‚¹ã‚¿ãƒ³ãƒ‰ã‚¢ãƒ­ãƒ³å‹•ä½œ\", \"éƒ¨åˆ†çš„é€£æº\", \"å¤–éƒ¨DBä½¿ç”¨\"],\n  \"related_knowledge\": [\"skill_unified_memory_system_integration_2025_11_25\", \"skill_three_layer_memory_hierarchy_integration_2025_11_25\"],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# çµ±åˆè¨˜æ†¶ã‚·ã‚¹ãƒ†ãƒ é€£æºã®åˆ¤æ–­\n\n## ä½•ã‚’åˆ¤æ–­ã—ãŸã‹\n\nå“è³ªè©•ä¾¡ãƒ»ä¸€è²«æ€§ãƒã‚§ãƒƒã‚¯ãƒ»å­¦ç¿’æ—…ç¨‹ç®¡ç†ç­‰ã®å„ã‚·ã‚¹ãƒ†ãƒ ã‚’ã€3å±¤è¨˜æ†¶éšå±¤ï¼ˆçŸ­æœŸãƒ»ä¸­æœŸãƒ»é•·æœŸï¼‰ã§ä¸€å…ƒç®¡ç†ã™ã‚‹çµ±åˆè¨˜æ†¶ã‚·ã‚¹ãƒ†ãƒ ã¨å…¨é¢çš„ã«é€£æºã•ã›ã‚‹è¨­è¨ˆã‚’æ¡ç”¨ã—ãŸã€‚\n\n## é¸ã‚“ã ã‚‚ã®\n\n**çµ±åˆè¨˜æ†¶ã‚·ã‚¹ãƒ†ãƒ å…¨é¢é€£æº**ï¼š\n\n1. **ãƒ‡ãƒ¼ã‚¿æ°¸ç¶šåŒ–**\n   - å“è³ªãƒ¡ãƒˆãƒªã‚¯ã‚¹ â†’ ä¸­æœŸè¨˜æ†¶\n   - åˆ†æçµæœ â†’ ä¸­æœŸè¨˜æ†¶\n   - æ¦‚å¿µå®šç¾© â†’ é•·æœŸè¨˜æ†¶\n   - ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯å±¥æ­´ â†’ é•·æœŸè¨˜æ†¶\n\n2. **çµ±åˆæ¤œç´¢ã®æ´»ç”¨**\n   - éå»ã®å“è³ªãƒ‡ãƒ¼ã‚¿å–å¾—\n   - æ¦‚å¿µå®šç¾©ã®æ¤œç´¢\n   - ãƒ—ãƒ­ãƒƒãƒˆçµ±åˆæƒ…å ±ã®å–å¾—\n   - ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼å±¥æ­´ã®å‚ç…§\n\n3. **å®‰å…¨ãªæ“ä½œãƒ‘ã‚¿ãƒ¼ãƒ³**\n   - ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆå‡¦ç†ï¼ˆ30ç§’ï¼‰\n   - ãƒªãƒˆãƒ©ã‚¤æ©Ÿæ§‹ï¼ˆæœ€å¤§3å›ãƒ»æŒ‡æ•°ãƒãƒƒã‚¯ã‚ªãƒ•ï¼‰\n   - ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ï¼ˆè¨˜æ†¶ã‚·ã‚¹ãƒ†ãƒ éšœå®³æ™‚ã‚‚ã‚¹ã‚¿ãƒ³ãƒ‰ã‚¢ãƒ­ãƒ³å‹•ä½œï¼‰\n   - ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ¬ã‚¤ãƒ¤ãƒ¼ï¼ˆ5åˆ†TTLï¼‰\n\n## ä»–ã®å€™è£œ\n\n### å€™è£œ1ï¼šã‚¹ã‚¿ãƒ³ãƒ‰ã‚¢ãƒ­ãƒ³å‹•ä½œï¼ˆè¨˜æ†¶ã‚·ã‚¹ãƒ†ãƒ ãªã—ï¼‰\n\nå„ã‚·ã‚¹ãƒ†ãƒ ãŒç‹¬ç«‹ã—ã¦ãƒ‡ãƒ¼ã‚¿ã‚’ä¿æŒ\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**ï¼š\n- **ãƒ‡ãƒ¼ã‚¿ã®æ•£é€¸**: å“è³ªãƒ‡ãƒ¼ã‚¿ãƒ»æ¦‚å¿µå®šç¾©ãƒ»åˆ†æçµæœãŒå„æ‰€ã«åˆ†æ•£\n- **é‡è¤‡ç®¡ç†**: åŒã˜ãƒ‡ãƒ¼ã‚¿ã‚’è¤‡æ•°ç®‡æ‰€ã§ä¿æŒ\n- **çµ±åˆæ¤œç´¢ä¸å¯**: é–¢é€£ãƒ‡ãƒ¼ã‚¿ã‚’æ¨ªæ–­çš„ã«æ¤œç´¢ã§ããªã„\n- **ãƒˆãƒ¬ãƒ³ãƒ‰åˆ†æå›°é›£**: éå»ãƒ‡ãƒ¼ã‚¿ã®è“„ç©ãƒ»åˆ†æãŒå„ã‚·ã‚¹ãƒ†ãƒ ã§ç‹¬ç«‹\n\n### å€™è£œ2ï¼šéƒ¨åˆ†çš„é€£æº\n\né‡è¦ãªãƒ‡ãƒ¼ã‚¿ã®ã¿è¨˜æ†¶ã‚·ã‚¹ãƒ†ãƒ ã«ä¿å­˜\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**ï¼š\n- **ä¸€è²«æ€§ã®æ¬ å¦‚**: ã©ã®ãƒ‡ãƒ¼ã‚¿ã‚’ä¿å­˜ã™ã‚‹ã‹åŸºæº–ãŒæ›–æ˜§\n- **è¨­è¨ˆã®è¤‡é›‘åŒ–**: ã€Œã“ã‚Œã¯ä¿å­˜ã€ã“ã‚Œã¯ä¿å­˜ã—ãªã„ã€ã®åˆ¤æ–­ãŒå¿…è¦\n- **å¾Œã‹ã‚‰ã®æ‹¡å¼µå›°é›£**: å¾Œã§ã€Œã“ã‚Œã‚‚ä¿å­˜ã™ã¹ãã ã£ãŸã€ã¨ãªã‚ŠãŒã¡\n\n### å€™è£œ3ï¼šå¤–éƒ¨DBä½¿ç”¨ï¼ˆPostgreSQLç­‰ï¼‰\n\nå°‚ç”¨ã®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’ç”¨æ„\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**ï¼š\n- **ã‚¤ãƒ³ãƒ•ãƒ©ã‚³ã‚¹ãƒˆ**: DB ã‚µãƒ¼ãƒãƒ¼ã®é‹ç”¨ãƒ»ä¿å®ˆãŒå¿…è¦\n- **è¤‡é›‘æ€§å¢—åŠ **: ã‚¹ã‚­ãƒ¼ãƒè¨­è¨ˆãƒ»ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ç®¡ç†ãŒå¿…è¦\n- **çµ±åˆè¨˜æ†¶ã‚·ã‚¹ãƒ†ãƒ ã¨é‡è¤‡**: æ—¢å­˜ã®è¨˜æ†¶ã‚·ã‚¹ãƒ†ãƒ ãŒã‚ã‚‹ã®ã«åˆ¥DBã‚’è¿½åŠ \n\n## åˆ¤æ–­ç†ç”±\n\n### ç†ç”±1ï¼šãƒ‡ãƒ¼ã‚¿ã®ä¸€å…ƒç®¡ç†\n\n**æ•£é€¸ã‚’é˜²ã**ï¼š\n\nçµ±åˆè¨˜æ†¶ã‚·ã‚¹ãƒ†ãƒ ãŒãªã„å ´åˆï¼š\n```\nå“è³ªãƒ‡ãƒ¼ã‚¿ â†’ QualityMetricsManagerå†…ã®å¤‰æ•°\næ¦‚å¿µå®šç¾© â†’ ConceptLearningManagerå†…ã®å¤‰æ•°\nåˆ†æçµæœ â†’ AnalysisCoordinatorå†…ã®å¤‰æ•°\nãƒ—ãƒ­ãƒƒãƒˆæƒ…å ± â†’ PlotManagerå†…ã®å¤‰æ•°\n```\n\nçµ±åˆè¨˜æ†¶ã‚·ã‚¹ãƒ†ãƒ ãŒã‚ã‚‹å ´åˆï¼š\n```\nã™ã¹ã¦ã®ãƒ‡ãƒ¼ã‚¿ â†’ MemoryManagerï¼ˆ3å±¤éšå±¤ï¼‰\nâ”œâ”€ çŸ­æœŸè¨˜æ†¶ï¼šå®Ÿè¡Œæ™‚ãƒ‡ãƒ¼ã‚¿\nâ”œâ”€ ä¸­æœŸè¨˜æ†¶ï¼šã‚»ãƒƒã‚·ãƒ§ãƒ³é–“ãƒ‡ãƒ¼ã‚¿ï¼ˆå“è³ªãƒ»åˆ†æçµæœï¼‰\nâ””â”€ é•·æœŸè¨˜æ†¶ï¼šæ°¸ç¶šãƒ‡ãƒ¼ã‚¿ï¼ˆæ¦‚å¿µå®šç¾©ãƒ»å±¥æ­´ï¼‰\n```\n\n**ä¸€å…ƒç®¡ç†**ã«ã‚ˆã‚Šã€ãƒ‡ãƒ¼ã‚¿ã®æ¤œç´¢ãƒ»ç®¡ç†ãƒ»ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãŒå®¹æ˜“ã€‚\n\n### ç†ç”±2ï¼šçµ±åˆæ¤œç´¢ã®å¨åŠ›\n\n**æ¨ªæ–­çš„ãªæ¤œç´¢ãŒå¯èƒ½**ï¼š\n\n```typescript\n// ä¾‹ï¼šå­¦ç¿’æ®µéšã¨ãƒ—ãƒ­ãƒƒãƒˆæƒ…å ±ã‚’çµ±åˆæ¤œç´¢\nconst results = await this.memoryManager.unifiedSearch(\n  `plot integration learningStage ${learningStage} concept \"${conceptName}\"`,\n  [MemoryLevel.MID_TERM, MemoryLevel.LONG_TERM]\n);\n```\n\nè¤‡æ•°ã®ã‚·ã‚¹ãƒ†ãƒ ã«ã¾ãŸãŒã‚‹ãƒ‡ãƒ¼ã‚¿ã‚’**ä¸€åº¦ã®æ¤œç´¢ã§å–å¾—**ã€‚\n\n**å¾“æ¥ï¼ˆçµ±åˆæ¤œç´¢ãªã—ï¼‰**ï¼š\n```typescript\nconst plotData = await plotManager.getPlotData();\nconst learningData = await learningManager.getLearningData();\nconst concept = await conceptManager.getConcept();\n// æ‰‹å‹•ã§çµ±åˆ...\n```\n\n### ç†ç”±3ï¼šãƒˆãƒ¬ãƒ³ãƒ‰åˆ†æã®åŸºç›¤\n\n**é•·æœŸçš„ãªãƒ‡ãƒ¼ã‚¿è“„ç©**ï¼š\n\n```typescript\n// å“è³ªãƒˆãƒ¬ãƒ³ãƒ‰ã®åˆ†æ\nconst qualityHistory = await this.memoryManager.unifiedSearch(\n  'quality metrics history trend',\n  [MemoryLevel.LONG_TERM]\n);\n\n// éå»10ç« ã®å“è³ªæ¨ç§»ã‚’åˆ†æ\nconst trend = this.analyzeQualityTrend(qualityHistory);\n// â†’ 'IMPROVING' / 'DECLINING' / 'STABLE'\n```\n\nçµ±åˆè¨˜æ†¶ã‚·ã‚¹ãƒ†ãƒ ã«ãƒ‡ãƒ¼ã‚¿ã‚’è“„ç©ã™ã‚‹ã“ã¨ã§ã€**é•·æœŸçš„ãªãƒˆãƒ¬ãƒ³ãƒ‰åˆ†æ**ãŒå¯èƒ½ã€‚\n\n### ç†ç”±4ï¼šã‚·ã‚¹ãƒ†ãƒ é–“ã®é€£æºå¼·åŒ–\n\n**ä¾‹ï¼šå“è³ªè©•ä¾¡ã¨ä¸€è²«æ€§ãƒã‚§ãƒƒã‚¯ã®é€£æº**ï¼š\n\nä¸€è²«æ€§ãƒã‚§ãƒƒã‚¯ã§å“è³ªãƒ‡ãƒ¼ã‚¿ã‚’å‚ç…§ï¼š\n```typescript\n// éå»ã®å“è³ªãƒ‡ãƒ¼ã‚¿ã‹ã‚‰åŸºæº–å€¤ã‚’å–å¾—\nconst avgQuality = await this.safeMemoryOperation(\n  async () => {\n    const data = await this.memoryManager.getFromMidTerm('qualityMetrics');\n    return data.averageQuality;\n  },\n  0.7, // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤\n  'getAverageQuality'\n);\n\n// åŸºæº–å€¤ã‚ˆã‚Šå¤§å¹…ã«ä½ã„å ´åˆã¯è­¦å‘Š\nif (currentQuality < avgQuality - 0.2) {\n  issues.push({\n    type: 'QUALITY_DECLINE',\n    severity: 'HIGH'\n  });\n}\n```\n\n**ã‚·ã‚¹ãƒ†ãƒ é–“ã§ãƒ‡ãƒ¼ã‚¿ã‚’å…±æœ‰**ã—ã€ã‚ˆã‚Šé«˜åº¦ãªåˆ¤æ–­ãŒå¯èƒ½ã€‚\n\n### ç†ç”±5ï¼šå®‰å…¨ãªæ“ä½œãƒ‘ã‚¿ãƒ¼ãƒ³ã§å …ç‰¢æ€§\n\nè¨˜æ†¶ã‚·ã‚¹ãƒ†ãƒ ãŒåˆ©ç”¨ä¸å¯ã§ã‚‚å‡¦ç†ã‚’ç¶™ç¶šï¼š\n\n```typescript\nprivate async safeMemoryOperation<T>(\n  operation: () => Promise<T>,\n  fallbackValue: T,\n  operationName: string\n): Promise<T> {\n  if (!this.config.memorySystemIntegration.enabled) {\n    return fallbackValue; // ã‚¹ã‚¿ãƒ³ãƒ‰ã‚¢ãƒ­ãƒ³ãƒ¢ãƒ¼ãƒ‰\n  }\n\n  let retries = 0;\n  while (retries < 3) {\n    try {\n      // ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆä»˜ãå®Ÿè¡Œ\n      const result = await Promise.race([\n        operation(),\n        new Promise<never>((_, reject) =>\n          setTimeout(() => reject(new Error('Timeout')), 30000)\n        )\n      ]);\n      return result;\n\n    } catch (error) {\n      retries++;\n      if (retries >= 3) {\n        return fallbackValue; // ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯\n      }\n      await new Promise(resolve =>\n        setTimeout(resolve, Math.pow(2, retries) * 1000)\n      );\n    }\n  }\n}\n```\n\n**çµ±åˆã®ãƒ¡ãƒªãƒƒãƒˆã‚’äº«å—ã—ã¤ã¤ã€éšœå®³æ™‚ã®å …ç‰¢æ€§ã‚‚ç¢ºä¿**ã€‚\n\n### ç†ç”±6ï¼šã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ¬ã‚¤ãƒ¤ãƒ¼ã§æ€§èƒ½æœ€é©åŒ–\n\né »ç¹ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ãƒ‡ãƒ¼ã‚¿ã¯ã‚­ãƒ£ãƒƒã‚·ãƒ¥ï¼š\n\n```typescript\nprivate async getCachedOrFetch<T>(\n  key: string,\n  fetchOperation: () => Promise<T>\n): Promise<T | null> {\n  // ã‚­ãƒ£ãƒƒã‚·ãƒ¥ç¢ºèª\n  const cached = this.cache.get(key);\n  if (cached && Date.now() - cached.timestamp < this.CACHE_TTL) {\n    return cached.data;\n  }\n\n  // è¨˜æ†¶ã‚·ã‚¹ãƒ†ãƒ ã‹ã‚‰ãƒ•ã‚§ãƒƒãƒ\n  const data = await this.safeMemoryOperation(\n    fetchOperation,\n    null,\n    `fetch_${key}`\n  );\n\n  // ã‚­ãƒ£ãƒƒã‚·ãƒ¥æ›´æ–°\n  if (data) {\n    this.cache.set(key, { data, timestamp: Date.now() });\n  }\n\n  return data;\n}\n```\n\n**ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã¨ä¸€å…ƒç®¡ç†ã‚’ä¸¡ç«‹**ã€‚\n\n## ã“ã®åˆ¤æ–­ã‹ã‚‰å­¦ã¹ã‚‹ã“ã¨\n\n### å­¦ã³1ï¼šä¸€å…ƒç®¡ç†ã®ãƒ¡ãƒªãƒƒãƒˆ\n\nãƒ‡ãƒ¼ã‚¿ãŒæ•£é€¸ã™ã‚‹ã¨ã€æ¤œç´¢ãƒ»ç®¡ç†ãƒ»ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãŒå›°é›£ã«ãªã‚‹ã€‚ä¸€å…ƒç®¡ç†ã«ã‚ˆã‚Šã€ã™ã¹ã¦ãŒå®¹æ˜“ã«ã€‚\n\n### å­¦ã³2ï¼šçµ±åˆæ¤œç´¢ã®å¨åŠ›\n\nè¤‡æ•°ã‚·ã‚¹ãƒ†ãƒ ã«ã¾ãŸãŒã‚‹ãƒ‡ãƒ¼ã‚¿ã‚’æ¨ªæ–­çš„ã«æ¤œç´¢ã§ãã‚‹ã“ã¨ã§ã€é«˜åº¦ãªåˆ†æãƒ»åˆ¤æ–­ãŒå¯èƒ½ã€‚\n\n### å­¦ã³3ï¼šå …ç‰¢æ€§ã¨ã®ãƒˆãƒ¬ãƒ¼ãƒ‰ã‚ªãƒ•\n\nçµ±åˆã®ãƒ¡ãƒªãƒƒãƒˆã‚’äº«å—ã—ã¤ã¤ã€éšœå®³æ™‚ã®ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ã‚’è¨­è¨ˆã™ã‚‹ã“ã¨ã§ã€**çµ±åˆã¨å …ç‰¢æ€§ã‚’ä¸¡ç«‹**ã€‚\n\n### å­¦ã³4ï¼šã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®é‡è¦æ€§\n\nä¸€å…ƒç®¡ç†ã«ã‚ˆã‚Šä¸­å¤®ã‚·ã‚¹ãƒ†ãƒ ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ãŒå¢—ãˆã‚‹ãŸã‚ã€ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ¬ã‚¤ãƒ¤ãƒ¼ã§æ€§èƒ½ã‚’æœ€é©åŒ–ã€‚\n\n## é©ç”¨å ´é¢\n\nã“ã®åˆ¤æ–­åŸºæº–ã‚’ä½¿ã†ã¹ãå ´é¢ï¼š\n- **è¤‡æ•°ã‚·ã‚¹ãƒ†ãƒ ã§ãƒ‡ãƒ¼ã‚¿ã‚’å…±æœ‰ã™ã‚‹å¿…è¦ãŒã‚ã‚‹å ´åˆ**\n- **é•·æœŸçš„ãªãƒˆãƒ¬ãƒ³ãƒ‰åˆ†æãŒå¿…è¦ãªå ´åˆ**\n- **çµ±åˆæ¤œç´¢ãŒä¾¡å€¤ã‚’ç”Ÿã‚€å ´åˆ**\n- **ãƒ‡ãƒ¼ã‚¿ã®ä¸€å…ƒç®¡ç†ãŒé‡è¦ãªå ´åˆ**\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `skill_unified_memory_system_integration_2025_11_25.md`ï¼šå®‰å…¨ãªçµ±åˆãƒ‘ã‚¿ãƒ¼ãƒ³ã®å®Ÿè£…\n- `skill_three_layer_memory_hierarchy_integration_2025_11_25.md`ï¼š3å±¤è¨˜æ†¶éšå±¤ã®åŸºç¤\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€Œçµ±åˆè¨˜æ†¶ã‚·ã‚¹ãƒ†ãƒ é€£æºã®åˆ¤æ–­ã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "skill-unified-memory-system-integration",
      "skill-three-layer-memory-hierarchy-integration"
    ]
  },
  {
    "slug": "mvp-readonly-scope",
    "title": "MVPèª­ã¿å–ã‚Šå°‚ç”¨æ–¹é‡",
    "category": "Decisionsï¼ˆæŠ€è¡“é¸å®šãƒ»åˆ¤æ–­ï¼‰",
    "description": "MVPèª­ã¿å–ã‚Šå°‚ç”¨æ–¹é‡",
    "project": "yumesuta-management-system",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"decision_mvp_readonly_scope_2025_11_24\",\n  \"type\": \"decision\",\n  \"name\": \"MVPèª­ã¿å–ã‚Šå°‚ç”¨æ–¹é‡\",\n  \"decision_type\": \"design\",\n  \"tags\": [\"MVP\", \"èª­ã¿å–ã‚Šå°‚ç”¨\", \"ã‚¹ã‚³ãƒ¼ãƒ—\", \"Phase 1\", \"Google Sheets\", \"åŒæ–¹å‘åŒæœŸ\"],\n  \"source_project\": \"yumesuta-management-system\",\n  \"chosen\": \"Phase 1: èª­ã¿å–ã‚Šå°‚ç”¨ï¼ˆDisplay Onlyï¼‰\",\n  \"alternatives\": [\"åŒæ–¹å‘åŒæœŸï¼ˆBidirectional Syncï¼‰\", \"æ›¸ãè¾¼ã¿å°‚ç”¨ï¼ˆWrite Onlyï¼‰\"],\n  \"related_knowledge\": [\"decision_data_manual_update_pattern_2025_11_24\", \"decision_auth_service_account_vs_oauth_2025_11_24\", \"failure_mvp_scope_exclusions_2025_11_24\"],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-24\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# MVPèª­ã¿å–ã‚Šå°‚ç”¨æ–¹é‡\n\n## ä½•ã‚’åˆ¤æ–­ã—ãŸã‹\n\nyumesuta-management-system MVPï¼ˆPhase 1ï¼‰ã®ã‚¹ã‚³ãƒ¼ãƒ—ã‚’ã€Google Sheetsã‹ã‚‰ã®èª­ã¿å–ã‚Šå°‚ç”¨ï¼ˆDisplay Onlyï¼‰ã«é™å®šã—ã€æ›¸ãè¾¼ã¿æ©Ÿèƒ½ã¯Phase 2ä»¥é™ã«å»¶æœŸã™ã‚‹ã¨åˆ¤æ–­ã—ãŸã€‚\n\n## é¸ã‚“ã ã‚‚ã®\n\n**Phase 1: èª­ã¿å–ã‚Šå°‚ç”¨ï¼ˆDisplay Onlyï¼‰**\n\n**ã‚¹ã‚³ãƒ¼ãƒ—**ï¼š\n```\nGoogle Sheets (ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ã€æ‰‹å‹•å…¥åŠ›)\n    â†“\n    èª­ã¿å–ã‚Šå°‚ç”¨API\n    â†“\nDashboard (è¡¨ç¤ºã®ã¿)\n```\n\n**å®Ÿè£…æ–¹é‡**ï¼š\n1. Google Sheets API: `readonly` ã‚¹ã‚³ãƒ¼ãƒ—ã®ã¿ä½¿ç”¨\n2. ãƒ‡ãƒ¼ã‚¿æ›´æ–°: Google Sheetsã§ç›´æ¥è¡Œã†\n3. Dashboard: è¡¨ç¤ºã®ã¿ã€ç·¨é›†UIä¸€åˆ‡ãªã—\n4. æ›´æ–°ãƒˆãƒªã‚¬ãƒ¼: æ‰‹å‹•ã€Œæ›´æ–°ã€ãƒœã‚¿ãƒ³ã®ã¿\n\n## ä»–ã®å€™è£œ\n\n### å€™è£œ1ï¼šåŒæ–¹å‘åŒæœŸï¼ˆBidirectional Syncï¼‰\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**ï¼š\n- **ç†ç”±1ï¼šå®Ÿè£…å·¥æ•°ãŒå¤§ãã„** - åŒæ–¹å‘åŒæœŸã¯ä»¥ä¸‹ã®æ©Ÿèƒ½ãŒå¿…è¦ã§ã€MVPç¯„å›²ã‚’å¤§å¹…ã«è¶…ãˆã‚‹ï¼š\n  - Google Sheetsã¸ã®æ›¸ãè¾¼ã¿APIå®Ÿè£…\n  - ãƒ•ã‚©ãƒ¼ãƒ ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³\n  - æ¥½è¦³çš„ãƒ­ãƒƒã‚¯ï¼ˆç«¶åˆè§£æ±ºï¼‰\n  - ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ï¼ˆæ›¸ãè¾¼ã¿å¤±æ•—æ™‚ã®ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯ï¼‰\n  - ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ç®¡ç†\n  - ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼ãƒ»èªå¯\n- **ç†ç”±2ï¼šè¤‡é›‘æ€§ãŒé«˜ã„** - åŒæ™‚æ›¸ãè¾¼ã¿ç«¶åˆã€ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆæ§‹é€ å¤‰æ›´æ¤œçŸ¥ã€ãƒ‡ãƒ¼ã‚¿å‹ä¸ä¸€è‡´ãªã©ã€è§£æ±ºã™ã¹ãå•é¡ŒãŒå¤šã„\n- **ç†ç”±3ï¼šãƒ“ã‚¸ãƒã‚¹ä¾¡å€¤ãŒä¸æ˜ç¢º** - MVPæ®µéšã§ã¯ã€ã€Œãƒ‡ãƒ¼ã‚¿ã‚’è¦‹ã‚‹ã€ã“ã¨ãŒæœ€å„ªå…ˆã€‚æ›¸ãè¾¼ã¿ã¯æ—¢å­˜ãƒ•ãƒ­ãƒ¼ï¼ˆGoogle Sheetsç›´æ¥ç·¨é›†ï¼‰ã§ååˆ†\n\n### å€™è£œ2ï¼šæ›¸ãè¾¼ã¿å°‚ç”¨ï¼ˆWrite Onlyï¼‰\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**ï¼š\n- **ç†ç”±1ï¼šãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãƒ‹ãƒ¼ã‚ºã¨ä¸ä¸€è‡´** - ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æœ€å„ªå…ˆãƒ‹ãƒ¼ã‚ºã¯ã€Œè¤‡æ•°ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã®ãƒ‡ãƒ¼ã‚¿ã‚’ä¸€å…ƒè¡¨ç¤ºã™ã‚‹ã“ã¨ã€ã§ã‚ã‚Šã€æ›¸ãè¾¼ã¿ã§ã¯ãªã„\n- **ç†ç”±2ï¼šæ—¢å­˜ãƒ•ãƒ­ãƒ¼ã¨ã®è¡çª** - æ—¢å­˜æ¥­å‹™ã§ã¯ã€å–¶æ¥­ãƒ»ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ãŒç›´æ¥Google Sheetsã‚’ç·¨é›†ã—ã¦ã„ã‚‹ã€‚æ›¸ãè¾¼ã¿å°‚ç”¨UIã‚’å°å…¥ã™ã‚‹ã¨ã€æ—¢å­˜ãƒ•ãƒ­ãƒ¼ãŒå£Šã‚Œã‚‹\n- **ç†ç”±3ï¼šãƒ‡ãƒ¼ã‚¿æ•´åˆæ€§ã®å•é¡Œ** - æ›¸ãè¾¼ã¿å°‚ç”¨ã§ã¯ã€Google Sheetsã®æœ€æ–°çŠ¶æ…‹ã‚’ç¢ºèªã§ããªã„ãŸã‚ã€ãƒ‡ãƒ¼ã‚¿ä¸æ•´åˆãŒç™ºç”Ÿã—ã‚„ã™ã„\n\n## åˆ¤æ–­ç†ç”±\n\n### ç†ç”±1ï¼šMVPç¯„å›²ã®æ˜ç¢ºåŒ–ï¼ˆScope Clarityï¼‰\n\nMVPã®ç›®çš„ã¯ã€ã€Œãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼1åã§ã‚‚å…¨æ¥­å‹™ã‚’é‹å–¶ã§ãã‚‹ä½“åˆ¶ã®æ§‹ç¯‰ã€ã€‚\n\n**æœ€å„ªå…ˆèª²é¡Œ**ï¼š\n- âŒ ãƒ‡ãƒ¼ã‚¿å…¥åŠ›ã®åŠ¹ç‡åŒ–ï¼ˆæ—¢å­˜ãƒ•ãƒ­ãƒ¼ã§ååˆ†ï¼‰\n- âœ… **ãƒ‡ãƒ¼ã‚¿å¯è¦–åŒ–ã®ä¸€å…ƒåŒ–**ï¼ˆè¤‡æ•°ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆâ†’1ã¤ã®Dashboardï¼‰\n\n**ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹**ï¼š\n- å–¶æ¥­é€²æ—ï¼š`SALES_SPREADSHEET_ID`\n- ã‚†ã‚ãƒã‚¬åˆ¶ä½œï¼š`YUMEMAGA_SPREADSHEET_ID`\n- ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼ãƒ»ã‚¹ã‚¿ãƒ¼ï¼š`PARTNERS_SPREADSHEET_ID`\n- SNSæŠ•ç¨¿ï¼š`SNS_SPREADSHEET_ID`\n- ã‚¿ã‚¹ã‚¯ç®¡ç†ï¼š`TASKS_SPREADSHEET_ID`\n\nã“ã‚Œã‚‰5ã¤ã®ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã‚’ã€1ã¤ã®Dashboardã§è¡¨ç¤ºã™ã‚‹ã“ã¨ãŒæœ€å„ªå…ˆã€‚\n\n### ç†ç”±2ï¼šé–‹ç™ºé€Ÿåº¦ã®æœ€å¤§åŒ–\n\nèª­ã¿å–ã‚Šå°‚ç”¨ã«é™å®šã™ã‚‹ã“ã¨ã§ã€é–‹ç™ºå·¥æ•°ã‚’å¤§å¹…ã«å‰Šæ¸›ã§ãã‚‹ã€‚\n\n**å·¥æ•°æ¯”è¼ƒ**ï¼š\n```\nèª­ã¿å–ã‚Šå°‚ç”¨MVP:\n  - Google Sheets APIï¼ˆèª­ã¿å–ã‚Šï¼‰: 3æ—¥\n  - ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰å®Ÿè£…ï¼ˆ6æ©Ÿèƒ½ï¼‰: 10æ—¥\n  - åˆè¨ˆ: 13æ—¥\n\nåŒæ–¹å‘åŒæœŸMVP:\n  - Google Sheets APIï¼ˆèª­ã¿å–ã‚Š + æ›¸ãè¾¼ã¿ï¼‰: 5æ—¥\n  - ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰å®Ÿè£…ï¼ˆ6æ©Ÿèƒ½ï¼‰: 10æ—¥\n  - ãƒ•ã‚©ãƒ¼ãƒ å®Ÿè£…ï¼ˆ6æ©Ÿèƒ½ Ã— ç·¨é›†UIï¼‰: 12æ—¥\n  - ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ»ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°: 5æ—¥\n  - èªè¨¼ãƒ»èªå¯: 3æ—¥\n  - ç«¶åˆè§£æ±ºï¼ˆæ¥½è¦³çš„ãƒ­ãƒƒã‚¯ï¼‰: 3æ—¥\n  - åˆè¨ˆ: 38æ—¥ï¼ˆç´„3å€ï¼‰\n```\n\n### ç†ç”±3ï¼šæ—¢å­˜æ¥­å‹™ãƒ•ãƒ­ãƒ¼ã¨ã®æ•´åˆæ€§\n\næ—¢å­˜æ¥­å‹™ã§ã¯ã€å–¶æ¥­ãƒ»ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ãŒGoogle Sheetsã‚’ç›´æ¥ç·¨é›†ã—ã¦ã„ã‚‹ã€‚\n\n**æ—¢å­˜ãƒ•ãƒ­ãƒ¼**ï¼š\n```\n1. å–¶æ¥­ãŒGoogle Sheetsã«å•†è«‡çµæœã‚’å…¥åŠ›\n2. ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ãŒGoogle Sheetsã‚’ç¢ºèª\n3. ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ãŒé€²æ—ã‚’Google Sheetsã«è¨˜éŒ²\n```\n\n**æ–°ã‚·ã‚¹ãƒ†ãƒ ã®å½¹å‰²**ï¼š\n```\n1. å–¶æ¥­ãŒGoogle Sheetsã«å•†è«‡çµæœã‚’å…¥åŠ›ï¼ˆå¤‰æ›´ãªã—ï¼‰\n2. ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ãŒDashboardã§ä¸€å…ƒç¢ºèªï¼ˆæ–°è¦ï¼‰\n3. ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ãŒGoogle Sheetsã«é€²æ—ã‚’è¨˜éŒ²ï¼ˆå¤‰æ›´ãªã—ï¼‰\n```\n\nèª­ã¿å–ã‚Šå°‚ç”¨ã«ã™ã‚‹ã“ã¨ã§ã€æ—¢å­˜ãƒ•ãƒ­ãƒ¼ã‚’å£Šã•ãšã«æ–°ã‚·ã‚¹ãƒ†ãƒ ã‚’å°å…¥ã§ãã‚‹ã€‚\n\n### ç†ç”±4ï¼šãƒªã‚¹ã‚¯ã®æœ€å°åŒ–\n\næ›¸ãè¾¼ã¿æ©Ÿèƒ½ã‚’å®Ÿè£…ã™ã‚‹ã¨ã€ä»¥ä¸‹ã®ãƒªã‚¹ã‚¯ãŒã‚ã‚‹ï¼š\n\n**ãƒ‡ãƒ¼ã‚¿ç ´æãƒªã‚¹ã‚¯**ï¼š\n- èª¤ã£ã¦ãƒ‡ãƒ¼ã‚¿ã‚’ä¸Šæ›¸ã\n- ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ä¸å‚™ã«ã‚ˆã‚‹ãƒ‡ãƒ¼ã‚¿å‹ä¸ä¸€è‡´\n- åŒæ™‚æ›¸ãè¾¼ã¿ç«¶åˆã«ã‚ˆã‚‹ãƒ‡ãƒ¼ã‚¿æ¬ æ\n\n**æ¥­å‹™åœæ­¢ãƒªã‚¹ã‚¯**ï¼š\n- APIã‚¨ãƒ©ãƒ¼ã«ã‚ˆã‚‹æ›¸ãè¾¼ã¿å¤±æ•—\n- ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯éšœå®³ã«ã‚ˆã‚‹æ›¸ãè¾¼ã¿ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ\n- Google Sheets APIã‚¯ã‚©ãƒ¼ã‚¿è¶…éã«ã‚ˆã‚‹æ›¸ãè¾¼ã¿ä¸èƒ½\n\nèª­ã¿å–ã‚Šå°‚ç”¨ã«é™å®šã™ã‚‹ã“ã¨ã§ã€ã“ã‚Œã‚‰ã®ãƒªã‚¹ã‚¯ã‚’ã‚¼ãƒ­ã«ã§ãã‚‹ã€‚\n\n### ç†ç”±5ï¼šãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯åé›†ã®å®¹æ˜“ã•\n\nMVPæ®µéšã§ã¯ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã‚’è¿…é€Ÿã«åé›†ã™ã‚‹ã“ã¨ãŒé‡è¦ã€‚\n\n**èª­ã¿å–ã‚Šå°‚ç”¨ã®ãƒ¡ãƒªãƒƒãƒˆ**ï¼š\n- **æ—©æœŸãƒªãƒªãƒ¼ã‚¹** - 13æ—¥ã§å®Œæˆã€ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯åé›†é–‹å§‹\n- **å®‰å…¨ãªè©¦ç”¨** - ãƒ‡ãƒ¼ã‚¿ç ´æãƒªã‚¹ã‚¯ãªã—ã€æ—¢å­˜æ¥­å‹™ã«å½±éŸ¿ãªã—\n- **æŸ”è»Ÿãªå¤‰æ›´** - UIã‚’å¤§å¹…ã«å¤‰æ›´ã—ã¦ã‚‚ã€ãƒ‡ãƒ¼ã‚¿ã«ã¯å½±éŸ¿ã—ãªã„\n\n**åŒæ–¹å‘åŒæœŸã®ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ**ï¼š\n- **é…å»¶ãƒªãƒªãƒ¼ã‚¹** - 38æ—¥å¾Œã«ãƒªãƒªãƒ¼ã‚¹ã€ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯åé›†ãŒé…ã‚Œã‚‹\n- **æ…é‡ãªè©¦ç”¨** - ãƒ‡ãƒ¼ã‚¿ç ´æãƒªã‚¹ã‚¯ãŒã‚ã‚‹ãŸã‚ã€æœ¬ç•ªãƒ‡ãƒ¼ã‚¿ã§è©¦ç”¨ã—ã«ãã„\n- **å¤‰æ›´ã®åˆ¶ç´„** - UIã‚’å¤‰æ›´ã™ã‚‹ã¨ã€ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã«ã‚‚å½±éŸ¿ã™ã‚‹å¯èƒ½æ€§\n\n### ç†ç”±6ï¼šPhase 2ã¸ã®æ˜ç¢ºãªé“ç­‹\n\nPhase 1ã‚’èª­ã¿å–ã‚Šå°‚ç”¨ã«é™å®šã™ã‚‹ã“ã¨ã§ã€Phase 2ã®ã‚¹ã‚³ãƒ¼ãƒ—ãŒæ˜ç¢ºã«ãªã‚‹ã€‚\n\n**Phase 2ã®ã‚¹ã‚³ãƒ¼ãƒ—**ï¼š\n1. **åŒæ–¹å‘åŒæœŸå®Ÿè£…**\n   - Google Sheetsã¸ã®æ›¸ãè¾¼ã¿API\n   - ãƒ•ã‚©ãƒ¼ãƒ ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³\n   - æ¥½è¦³çš„ãƒ­ãƒƒã‚¯\n2. **èªè¨¼ãƒ»èªå¯å®Ÿè£…**\n   - OAuth 2.0èªè¨¼\n   - ãƒ¦ãƒ¼ã‚¶ãƒ¼æ¨©é™ç®¡ç†\n3. **è‡ªå‹•æ›´æ–°å®Ÿè£…**\n   - Webhookã«ã‚ˆã‚‹ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ åŒæœŸ\n   - ã¾ãŸã¯å®šæœŸãƒãƒ¼ãƒªãƒ³ã‚°\n\n## ã“ã®åˆ¤æ–­ã‹ã‚‰å­¦ã¹ã‚‹ã“ã¨\n\n### å­¦ã³1ï¼šMVPã¯ãƒ“ã‚¸ãƒã‚¹ä¾¡å€¤ã®æ¤œè¨¼ã«é›†ä¸­ã™ã¹ã\n\nMVPã®ç›®çš„ã¯ã€ã€Œãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ã¨ã£ã¦ä¾¡å€¤ãŒã‚ã‚‹ã‹ã€ã‚’æ¤œè¨¼ã™ã‚‹ã“ã¨ã€‚\n\n**yumesuta-management-systemã®æ ¸å¿ƒçš„ä¾¡å€¤**ï¼š\n- è¤‡æ•°ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã®ãƒ‡ãƒ¼ã‚¿ã‚’ä¸€å…ƒè¡¨ç¤ºã™ã‚‹ã“ã¨\n- ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ãŒå…¨æ¥­å‹™ã‚’ä¿¯ç°ã§ãã‚‹ã“ã¨\n\næ›¸ãè¾¼ã¿æ©Ÿèƒ½ã¯ã€ã“ã®æ ¸å¿ƒçš„ä¾¡å€¤ã¨ã¯ç„¡é–¢ä¿‚ã€‚Phase 2ä»¥é™ã«å»¶æœŸã™ã¹ãã€‚\n\n### å­¦ã³2ï¼šæ—¢å­˜æ¥­å‹™ãƒ•ãƒ­ãƒ¼ã‚’å£Šã•ãªã„ã“ã¨ãŒé‡è¦\n\næ–°ã‚·ã‚¹ãƒ†ãƒ å°å…¥æ™‚ã¯ã€æ—¢å­˜æ¥­å‹™ãƒ•ãƒ­ãƒ¼ã‚’å£Šã•ãªã„ã“ã¨ãŒæœ€å„ªå…ˆã€‚\n\n**æˆåŠŸãƒ‘ã‚¿ãƒ¼ãƒ³**ï¼š\n```\næ—¢å­˜ãƒ•ãƒ­ãƒ¼: Google Sheetsç›´æ¥ç·¨é›†\næ–°ã‚·ã‚¹ãƒ†ãƒ : Google Sheetsèª­ã¿å–ã‚Š + Dashboardè¡¨ç¤º\nâ†’ æ—¢å­˜ãƒ•ãƒ­ãƒ¼ã¯å¤‰æ›´ãªã—ã€æ–°ã—ã„ä¾¡å€¤ã‚’è¿½åŠ \n```\n\n**å¤±æ•—ãƒ‘ã‚¿ãƒ¼ãƒ³**ï¼š\n```\næ—¢å­˜ãƒ•ãƒ­ãƒ¼: Google Sheetsç›´æ¥ç·¨é›†\næ–°ã‚·ã‚¹ãƒ†ãƒ : Dashboardç·¨é›†ã®ã¿ï¼ˆGoogle Sheetsç›´æ¥ç·¨é›†ä¸å¯ï¼‰\nâ†’ æ—¢å­˜ãƒ•ãƒ­ãƒ¼ãŒå£Šã‚Œã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®åç™ºã‚’æ‹›ã\n```\n\n### å­¦ã³3ï¼šèª­ã¿å–ã‚Šå°‚ç”¨ã¯é–‹ç™ºé€Ÿåº¦ã‚’3å€ã«ã™ã‚‹\n\nèª­ã¿å–ã‚Šå°‚ç”¨ã«é™å®šã™ã‚‹ã“ã¨ã§ã€é–‹ç™ºå·¥æ•°ã‚’ç´„1/3ã«å‰Šæ¸›ã§ãã‚‹ã€‚\n\n**å‰Šæ¸›ã•ã‚Œã‚‹å®Ÿè£…é …ç›®**ï¼š\n- ãƒ•ã‚©ãƒ¼ãƒ UIå®Ÿè£…\n- ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè£…\n- ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°\n- èªè¨¼ãƒ»èªå¯å®Ÿè£…\n- ç«¶åˆè§£æ±ºå®Ÿè£…\n- ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ç®¡ç†\n\n### å­¦ã³4ï¼šMVPç¯„å›²å¤–æ©Ÿèƒ½ã¯æ˜ç¢ºã«æ–‡æ›¸åŒ–ã™ã¹ã\n\nMVPç¯„å›²å¤–æ©Ÿèƒ½ã‚’æ˜ç¢ºã«æ–‡æ›¸åŒ–ã™ã‚‹ã“ã¨ã§ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æœŸå¾…å€¤ã‚’é©åˆ‡ã«è¨­å®šã§ãã‚‹ã€‚\n\n**yumesuta-management-system MVPç¯„å›²å¤–**ï¼ˆREADME.mdã«æ˜è¨˜ï¼‰ï¼š\n```markdown\n## âŒ MVPç¯„å›²å¤–ï¼ˆPhase 2ä»¥é™ï¼‰\n- åŒæ–¹å‘åŒæœŸï¼ˆGoogle Sheetsã¸ã®æ›¸ãè¾¼ã¿ï¼‰\n- è‡ªå‹•æ›´æ–°ãƒ»ãƒãƒ¼ãƒªãƒ³ã‚°\n- èªè¨¼æ©Ÿèƒ½\n- HPè‡ªå‹•æ›´æ–°æ©Ÿèƒ½\n- SNSè‡ªå‹•æŠ•ç¨¿æ©Ÿèƒ½\n```\n\n## é©ç”¨å ´é¢\n\n### ã„ã¤ã“ã®åˆ¤æ–­åŸºæº–ã‚’ä½¿ã†ã‹\n\nä»¥ä¸‹ã®æ¡ä»¶ã‚’æº€ãŸã™ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯ã€èª­ã¿å–ã‚Šå°‚ç”¨MVPã‚’é¸æŠã™ã¹ãï¼š\n\n1. **ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ãŒæ—¢ã«å­˜åœ¨ã™ã‚‹** - Google Sheetsã€Excelã€CSVç­‰ã®ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ãŒã‚ã‚‹å ´åˆ\n2. **æ—¢å­˜æ¥­å‹™ãƒ•ãƒ­ãƒ¼ã‚’å£Šã›ãªã„** - ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒæ—¢å­˜ã®ãƒ‡ãƒ¼ã‚¿å…¥åŠ›æ–¹æ³•ã«æ…£ã‚Œã¦ã„ã‚‹å ´åˆ\n3. **MVPæœŸé–“ãŒé™ã‚‰ã‚Œã¦ã„ã‚‹** - 2é€±é–“ä»¥å†…ã«MVPã‚’ãƒªãƒªãƒ¼ã‚¹ã™ã‚‹å¿…è¦ãŒã‚ã‚‹å ´åˆ\n4. **ãƒ“ã‚¸ãƒã‚¹ä¾¡å€¤ãŒã€Œå¯è¦–åŒ–ã€ã«ã‚ã‚‹** - ãƒ‡ãƒ¼ã‚¿å…¥åŠ›ã§ã¯ãªãã€ãƒ‡ãƒ¼ã‚¿è¡¨ç¤ºãƒ»åˆ†æãŒä¸»ç›®çš„ã®å ´åˆ\n5. **æ›¸ãè¾¼ã¿æ©Ÿèƒ½ã®ãƒ‹ãƒ¼ã‚ºãŒä¸æ˜ç¢º** - ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒæ›¸ãè¾¼ã¿æ©Ÿèƒ½ã‚’æœ¬å½“ã«å¿…è¦ã¨ã—ã¦ã„ã‚‹ã‹ä¸æ˜ãªå ´åˆ\n\n### ä¾‹å¤–ï¼šèª­ã¿å–ã‚Šå°‚ç”¨ãŒä¸é©åˆ‡ãªã‚±ãƒ¼ã‚¹\n\nä»¥ä¸‹ã®å ´åˆã¯ã€èª­ã¿å–ã‚Šå°‚ç”¨MVPã‚ˆã‚Šã‚‚åŒæ–¹å‘åŒæœŸã‚’å®Ÿè£…ã™ã¹ãï¼š\n\n- **ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ãŒå­˜åœ¨ã—ãªã„** - æ–°è¦ã«ãƒ‡ãƒ¼ã‚¿ã‚’ä½œæˆã™ã‚‹å¿…è¦ãŒã‚ã‚‹å ´åˆ\n- **æ—¢å­˜æ¥­å‹™ãƒ•ãƒ­ãƒ¼ãŒãªã„** - ã‚¼ãƒ­ã‹ã‚‰æ¥­å‹™ãƒ•ãƒ­ãƒ¼ã‚’æ§‹ç¯‰ã™ã‚‹å ´åˆ\n- **æ›¸ãè¾¼ã¿ãŒæ ¸å¿ƒçš„ä¾¡å€¤** - ãƒ‡ãƒ¼ã‚¿å…¥åŠ›ã®åŠ¹ç‡åŒ–ãŒä¸»ç›®çš„ã®å ´åˆ\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `decision_data_manual_update_pattern_2025_11_24.md` - æ‰‹å‹•æ›´æ–°ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼ˆèª­ã¿å–ã‚Šå°‚ç”¨ã¨é€£å‹•ï¼‰\n- `decision_auth_service_account_vs_oauth_2025_11_24.md` - ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆèªè¨¼ï¼ˆèª­ã¿å–ã‚Šå°‚ç”¨ã‚¹ã‚³ãƒ¼ãƒ—ï¼‰\n- `failure_mvp_scope_exclusions_2025_11_24.md` - MVPç¯„å›²å¤–æ©Ÿèƒ½ï¼ˆæ›¸ãè¾¼ã¿æ©Ÿèƒ½ç­‰ï¼‰\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€ŒMVPèª­ã¿å–ã‚Šå°‚ç”¨æ–¹é‡ã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "decision-data-manual-update-pattern",
      "decision-auth-service-account-vs-oauth",
      "failure-mvp-scope-exclusions"
    ]
  },
  {
    "slug": "param-article-length-2000-3000",
    "title": "è¨˜äº‹æ–‡å­—æ•°2000-3000æ–‡å­—ã®åˆ¤æ–­",
    "category": "Decisionsï¼ˆæŠ€è¡“é¸å®šãƒ»åˆ¤æ–­ï¼‰",
    "description": "è¨˜äº‹æ–‡å­—æ•°2000-3000æ–‡å­—ã®åˆ¤æ–­",
    "project": "ai-blog-generator",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"decision_param_article_length_2000_3000_2025_04_22\",\n  \"type\": \"decision\",\n  \"name\": \"è¨˜äº‹æ–‡å­—æ•°2000-3000æ–‡å­—ã®åˆ¤æ–­\",\n  \"decision_type\": \"parameter\",\n  \"tags\": [\"è¨˜äº‹æ–‡å­—æ•°\", \"SEO\", \"ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“\", \"ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿\"],\n  \"source_project\": \"ai-blog-generator\",\n  \"chosen\": \"2000-3000æ–‡å­—\",\n  \"alternatives\": [\"1000æ–‡å­—ä»¥ä¸‹\", \"5000æ–‡å­—ä»¥ä¸Š\"],\n  \"related_knowledge\": [\"skill_seo_blog_structure_2025_04_22\"],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-04-22\",\n  \"updated\": \"2025-04-22\"\n}\n```\n\n# è¨˜äº‹æ–‡å­—æ•°2000-3000æ–‡å­—ã®åˆ¤æ–­\n\n## ä½•ã‚’åˆ¤æ–­ã—ãŸã‹\n\nãƒ–ãƒ­ã‚°è¨˜äº‹ã®æ–‡å­—æ•°ã‚’2000-3000æ–‡å­—ã«è¨­å®šã™ã‚‹ã‹ã€ä»–ã®æ–‡å­—æ•°ã«ã™ã‚‹ã‹ã‚’åˆ¤æ–­ã—ãŸã€‚\n\n## é¸ã‚“ã ã‚‚ã®\n\n**2000-3000æ–‡å­—**\n\n## ä»–ã®å€™è£œ\n\n### å€™è£œ1ï¼š1000æ–‡å­—ä»¥ä¸‹ï¼ˆçŸ­æ–‡ï¼‰\n\n**ãƒ¡ãƒªãƒƒãƒˆ**ï¼š\n- æ›¸ãã®ãŒæ—©ã„\n- èª­ã‚€ã®ãŒæ—©ã„\n- ç”Ÿæˆã‚³ã‚¹ãƒˆä½ã„\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**ï¼š\n- **SEOçš„ã«ä¸åˆ©**ï¼šæ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³ã¯æƒ…å ±é‡ã‚’é‡è¦–\n- æƒ…å ±ãŒæµ…ã„\n- å°‚é–€æ€§ãŒä¼ã‚ã‚‰ãªã„\n\n### å€™è£œ2ï¼š5000æ–‡å­—ä»¥ä¸Šï¼ˆé•·æ–‡ï¼‰\n\n**ãƒ¡ãƒªãƒƒãƒˆ**ï¼š\n- è©³ç´°ãªæƒ…å ±\n- SEOçš„ã«æœ‰åˆ©ï¼ˆæƒ…å ±é‡ï¼‰\n- æ¨©å¨æ€§ãŒé«˜ã¾ã‚‹\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**ï¼š\n- **èª­è€…ãŒé›¢è„±ã™ã‚‹**ï¼šé•·ã™ãã¦æœ€å¾Œã¾ã§èª­ã¾ã‚Œãªã„\n- ç”Ÿæˆæ™‚é–“ãŒé•·ã„\n- LLMã®ãƒˆãƒ¼ã‚¯ãƒ³åˆ¶é™\n\n## åˆ¤æ–­ç†ç”±\n\n### ç†ç”±1ï¼šSEOã¨èª­äº†ç‡ã®ãƒãƒ©ãƒ³ã‚¹\n\n**SEOã®è¦³ç‚¹**ï¼š\n- 1000æ–‡å­—ä»¥ä¸‹ï¼šæƒ…å ±é‡ä¸è¶³ã§è©•ä¾¡ãŒä½ã„\n- **2000-3000æ–‡å­—ï¼šååˆ†ãªæƒ…å ±é‡**\n- 5000æ–‡å­—ä»¥ä¸Šï¼šæƒ…å ±é‡ã¯å¤šã„ãŒã€èª­è€…ã®é›¢è„±ç‡ãŒé«˜ã„\n\n**èª­è€…ã®è¡Œå‹•**ï¼š\n- å¹³å‡èª­æ›¸é€Ÿåº¦ï¼š400-600æ–‡å­—/åˆ†\n- 2000æ–‡å­— = ç´„3-5åˆ†ã§èª­ã‚ã‚‹ï¼ˆè¨±å®¹ç¯„å›²ï¼‰\n- 5000æ–‡å­— = ç´„8-12åˆ†ï¼ˆé•·ã™ãã‚‹ï¼‰\n\n### ç†ç”±2ï¼šLLMã®å‡ºåŠ›å“è³ª\n\n**çŸ­ã™ãã‚‹å ´åˆï¼ˆ1000æ–‡å­—ï¼‰**ï¼š\n- è¡¨é¢çš„ãªæƒ…å ±ã®ã¿\n- å…·ä½“ä¾‹ãŒä¸è¶³\n- ä¾¡å€¤ãŒä½ã„\n\n**é©åˆ‡ãªé•·ã•ï¼ˆ2000-3000æ–‡å­—ï¼‰**ï¼š\n- å°å…¥éƒ¨ï¼š200æ–‡å­—\n- ä¸»è¦ãƒã‚¤ãƒ³ãƒˆï¼ˆ3-5ã‚»ã‚¯ã‚·ãƒ§ãƒ³ï¼‰ï¼š1500-2500æ–‡å­—\n- ã¾ã¨ã‚ï¼š200æ–‡å­—\n- **æ§‹é€ åŒ–ã•ã‚ŒãŸè¨˜äº‹ãŒç”Ÿæˆã•ã‚Œã‚‹**\n\n**é•·ã™ãã‚‹å ´åˆï¼ˆ5000æ–‡å­—ä»¥ä¸Šï¼‰**ï¼š\n- LLMãŒå†—é•·ãªè¡¨ç¾ã‚’ä½¿ã†\n- åŒã˜å†…å®¹ã®ç¹°ã‚Šè¿”ã—\n- å“è³ªãŒä½ä¸‹\n\n### ç†ç”±3ï¼šç”Ÿæˆã‚³ã‚¹ãƒˆã¨ã‚¹ãƒ”ãƒ¼ãƒ‰\n\n**æ–‡å­—æ•°ã¨ãƒˆãƒ¼ã‚¯ãƒ³æ•°**ï¼š\n- 2000-3000æ–‡å­— = ç´„3000ãƒˆãƒ¼ã‚¯ãƒ³å‡ºåŠ›\n- 5000æ–‡å­—ä»¥ä¸Š = ç´„6000ãƒˆãƒ¼ã‚¯ãƒ³å‡ºåŠ›\n\n**ç”Ÿæˆæ™‚é–“**ï¼š\n- 3000ãƒˆãƒ¼ã‚¯ãƒ³ï¼š3-5ç§’\n- 6000ãƒˆãƒ¼ã‚¯ãƒ³ï¼š6-10ç§’\n\n**ã‚³ã‚¹ãƒˆ**ï¼š\n- 3000ãƒˆãƒ¼ã‚¯ãƒ³ï¼šè¨±å®¹ç¯„å›²\n- 6000ãƒˆãƒ¼ã‚¯ãƒ³ï¼š2å€\n\n## ã“ã®åˆ¤æ–­ã‹ã‚‰å­¦ã¹ã‚‹ã“ã¨\n\n### å­¦ã³1ï¼šSEOã¨èª­è€…ä½“é¨“ã®ãƒˆãƒ¬ãƒ¼ãƒ‰ã‚ªãƒ•\n\n**SEOé‡è¦–**ï¼šé•·æ–‡ï¼ˆ5000æ–‡å­—ä»¥ä¸Šï¼‰\n**èª­è€…ä½“é¨“é‡è¦–**ï¼šçŸ­æ–‡ï¼ˆ1000æ–‡å­—ä»¥ä¸‹ï¼‰\n**ãƒãƒ©ãƒ³ã‚¹**ï¼š**2000-3000æ–‡å­—**\n\n### å­¦ã³2ï¼šæ–‡å­—æ•°ã¯ç”¨é€”ã§å¤‰ã‚ã‚‹\n\n| ç”¨é€” | æ¨å¥¨æ–‡å­—æ•° | ç†ç”± |\n|------|-----------|------|\n| ãƒ–ãƒ­ã‚°è¨˜äº‹ | **2000-3000** | ãƒãƒ©ãƒ³ã‚¹ |\n| ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ« | 3000-5000 | è©³ç´°ãªæ‰‹é †ãŒå¿…è¦ |\n| ãƒ‹ãƒ¥ãƒ¼ã‚¹ | 500-1000 | é€Ÿå ±æ€§é‡è¦– |\n| è«–æ–‡ | 5000+ | è©³ç´°ãªè«–è¨¼ |\n\n## ã„ã¤ã“ã®åˆ¤æ–­åŸºæº–ã‚’é©ç”¨ã™ã‚‹ã‹\n\n**2000-3000æ–‡å­—ãŒé©åˆ‡ãªå ´åˆ**ï¼š\n- [ ] SEOãƒ–ãƒ­ã‚°\n- [ ] æŠ€è¡“è¨˜äº‹\n- [ ] ãƒã‚¦ãƒ„ãƒ¼è¨˜äº‹\n- [ ] ãƒ¬ãƒ“ãƒ¥ãƒ¼è¨˜äº‹\n\n**ä»–ã®æ–‡å­—æ•°ãŒé©åˆ‡ãªå ´åˆ**ï¼š\n- çŸ­æ–‡ï¼ˆ500-1000ï¼‰ï¼šãƒ‹ãƒ¥ãƒ¼ã‚¹ã€é€Ÿå ±\n- é•·æ–‡ï¼ˆ5000+ï¼‰ï¼šè©³ç´°ã‚¬ã‚¤ãƒ‰ã€è«–æ–‡\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `skill_seo_blog_structure_2025_04_22.md` - SEOæœ€é©åŒ–ã•ã‚ŒãŸè¨˜äº‹æ§‹é€ \n- `skill_prompt_engineering_category_custom_2025_04_22.md` - æ–‡å­—æ•°æŒ‡å®šã®ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€Œè¨˜äº‹æ–‡å­—æ•°2000-3000æ–‡å­—ã®åˆ¤æ–­ã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "skill-seo-blog-structure"
    ]
  },
  {
    "slug": "param-temperature-0.7-reasoning",
    "title": "LLM temperature 0.7 ã®é¸æŠç†ç”±",
    "category": "Decisionsï¼ˆæŠ€è¡“é¸å®šãƒ»åˆ¤æ–­ï¼‰",
    "description": "LLM temperature 0.7 ã®é¸æŠç†ç”±",
    "project": "ai-blog-generator",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"decision_param_temperature_0.7_reasoning_2025_04_22\",\n  \"type\": \"decision\",\n  \"name\": \"LLM temperature 0.7 ã®é¸æŠç†ç”±\",\n  \"decision_type\": \"parameter\",\n  \"tags\": [\"LLM\", \"ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿\", \"temperature\", \"å“è³ªåˆ¶å¾¡\", \"Gemini\"],\n  \"source_project\": \"ai-blog-generator\",\n  \"chosen\": \"temperature: 0.7\",\n  \"alternatives\": [\"0.3-0.5ï¼ˆä½æ¸©ï¼‰\", \"0.9-1.0ï¼ˆé«˜æ¸©ï¼‰\"],\n  \"related_knowledge\": [\"skill_llm_parameter_temperature_2025_04_22\"],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-04-22\",\n  \"updated\": \"2025-04-22\"\n}\n```\n\n# LLM temperature 0.7 ã®é¸æŠç†ç”±\n\n## ä½•ã‚’åˆ¤æ–­ã—ãŸã‹\n\nGemini API ã§è¨˜äº‹ã‚’ç”Ÿæˆã™ã‚‹éš›ã€temperature ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’ 0.7 ã«è¨­å®šã™ã‚‹ã‹ã€ä»–ã®å€¤ã«ã™ã‚‹ã‹ã‚’åˆ¤æ–­ã—ãŸã€‚\n\n## é¸ã‚“ã ã‚‚ã®\n\n**temperature: 0.7**\n\n## ä»–ã®å€™è£œ\n\n### å€™è£œ1ï¼štemperature 0.3-0.5ï¼ˆä½æ¸©ï¼‰\n\n**ç‰¹å¾´**ï¼š\n- æ±ºå®šè«–çš„\n- äº‹å®Ÿé‡è¦–\n- ä¸€è²«æ€§ãŒé«˜ã„\n- å‰µé€ æ€§ãŒä½ã„\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**ï¼š\n- ãƒ–ãƒ­ã‚°è¨˜äº‹ã«ã¯ç¡¬ã™ãã‚‹\n- åŒã˜ã‚ˆã†ãªè¡¨ç¾ã®ç¹°ã‚Šè¿”ã—\n- èª­è€…ãŒé£½ãã‚‹\n\n**é©ã—ãŸç”¨é€”**ï¼š\n- æŠ€è¡“ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ\n- è¦ç´„\n- FAQ\n\n### å€™è£œ2ï¼štemperature 0.9-1.0ï¼ˆé«˜æ¸©ï¼‰\n\n**ç‰¹å¾´**ï¼š\n- å‰µé€ çš„\n- å¤šæ§˜ãªè¡¨ç¾\n- äºˆæ¸¬ä¸å¯èƒ½\n- å¹»è¦šï¼ˆhallucinationï¼‰ã®ãƒªã‚¹ã‚¯\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**ï¼š\n- äº‹å®Ÿã‹ã‚‰é€¸è„±ã™ã‚‹å¯èƒ½æ€§\n- SEO ãƒ–ãƒ­ã‚°ã«ã¯ä¸é©åˆ‡\n\n**é©ã—ãŸç”¨é€”**ï¼š\n- å°èª¬\n- è©©\n- ãƒ–ãƒ¬ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒŸãƒ³ã‚°\n\n## åˆ¤æ–­ç†ç”±\n\n### ç†ç”±1ï¼šäº‹å®Ÿã¨å‰µé€ æ€§ã®ãƒãƒ©ãƒ³ã‚¹\n\n**temperature 0.7 ã¯ï¼š**\n- äº‹å®Ÿã«åŸºã¥ãï¼ˆå¹»è¦šãŒå°‘ãªã„ï¼‰\n- é©åº¦ãªå‰µé€ æ€§ï¼ˆå¤šæ§˜ãªè¡¨ç¾ï¼‰\n- ãƒ–ãƒ­ã‚°è¨˜äº‹ã«æœ€é©\n\n### ç†ç”±2ï¼šå®Ÿéš›ã®ãƒ†ã‚¹ãƒˆçµæœ\n\n**temperature 0.3 ã§ç”Ÿæˆ**ï¼š\n```\nTypeScriptã¯é™çš„å‹ä»˜ã‘è¨€èªã§ã™ã€‚\nTypeScriptã¯å‹å®‰å…¨ã§ã™ã€‚\nTypeScriptã¯JavaScriptã®ã‚¹ãƒ¼ãƒ‘ãƒ¼ã‚»ãƒƒãƒˆã§ã™ã€‚\n```\nâ†’ å˜èª¿ã€åŒã˜æ§‹æ–‡ã®ç¹°ã‚Šè¿”ã—\n\n**temperature 0.7 ã§ç”Ÿæˆ**ï¼š\n```\nTypeScriptã¯é™çš„å‹ä»˜ã‘ã‚’æä¾›ã—ã€é–‹ç™ºè€…ã«å‹å®‰å…¨æ€§ã‚’ã‚‚ãŸã‚‰ã—ã¾ã™ã€‚\nJavaScriptã®ã‚¹ãƒ¼ãƒ‘ãƒ¼ã‚»ãƒƒãƒˆã¨ã—ã¦ã€æ—¢å­˜ã®JSã‚³ãƒ¼ãƒ‰ã¨ã®äº’æ›æ€§ã‚‚ä¿ã¡ãªãŒã‚‰...\n```\nâ†’ è‡ªç„¶ã€å¤šæ§˜ãªè¡¨ç¾\n\n**temperature 0.9 ã§ç”Ÿæˆ**ï¼š\n```\nTypeScriptã¯é­”æ³•ã®ã‚ˆã†ãªå‹ã‚·ã‚¹ãƒ†ãƒ ã§ã€ã‚³ãƒ¼ãƒ‰ãŒè¸Šã‚Šå‡ºã™ã‚ˆã†ãªä½“é¨“ã‚’...\n```\nâ†’ å‰µé€ çš„ã™ãã‚‹ã€äº‹å®Ÿã‹ã‚‰é€¸è„±\n\n### ç†ç”±3ï¼šæ¥­ç•Œæ¨™æº–\n\nå¤šãã®ãƒ–ãƒ­ã‚°ç”Ÿæˆãƒ„ãƒ¼ãƒ«ï¼š\n- temperature 0.7-0.8 ã‚’ä½¿ç”¨\n- å®Ÿç¸¾ã‚ã‚Š\n\n## ã“ã®åˆ¤æ–­ã‹ã‚‰å­¦ã¹ã‚‹ã“ã¨\n\n### å­¦ã³1ï¼šç”¨é€”ã«å¿œã˜ã¦ temperature ã‚’èª¿æ•´\n\n| ç”¨é€” | temperature | ç†ç”± |\n|------|-------------|------|\n| æŠ€è¡“ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ | 0.3-0.5 | äº‹å®Ÿé‡è¦– |\n| ãƒ–ãƒ­ã‚°è¨˜äº‹ | **0.7** | ãƒãƒ©ãƒ³ã‚¹ |\n| å°èª¬ | 0.9-1.0 | å‰µé€ æ€§ |\n| ã‚³ãƒ¼ãƒ‰ç”Ÿæˆ | 0.2 | æ­£ç¢ºæ€§ |\n\n### å­¦ã³2ï¼šå®Ÿéš›ã«è©¦ã—ã¦æ¯”è¼ƒã™ã‚‹\n\nç†è«–ã ã‘ã§ãªãã€å®Ÿéš›ã«ç”Ÿæˆã—ã¦æ¯”è¼ƒã™ã‚‹ã“ã¨ãŒé‡è¦ã€‚\n\n## ã„ã¤ã“ã®åˆ¤æ–­åŸºæº–ã‚’é©ç”¨ã™ã‚‹ã‹\n\n**temperature 0.7 ã‚’ä½¿ã†ã¹ãå ´åˆ**ï¼š\n- [ ] ãƒ–ãƒ­ã‚°è¨˜äº‹ç”Ÿæˆ\n- [ ] ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°ã‚³ãƒ³ãƒ†ãƒ³ãƒ„\n- [ ] èª¬æ˜æ–‡\n- [ ] ãƒ—ãƒ¬ã‚¹ãƒªãƒªãƒ¼ã‚¹\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `skill_llm_parameter_temperature_2025_04_22.md` - ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿è¨­å®šã®è©³ç´°\n- `decision_tech_gemini_vs_gpt4_2025_04_22.md` - Gemini APIã‚’é¸ã‚“ã ç†ç”±\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€ŒLLM temperature 0.7 ã®é¸æŠç†ç”±ã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "skill-llm-parameter-temperature"
    ]
  },
  {
    "slug": "plot-3-mode-architecture",
    "title": "Plot 3-Mode ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£é¸æŠï¼ˆCONCRETE/ABSTRACT/HYBRIDï¼‰",
    "category": "Decisionsï¼ˆæŠ€è¡“é¸å®šãƒ»åˆ¤æ–­ï¼‰",
    "description": "Plot 3-Mode ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£é¸æŠï¼ˆCONCRETE/ABSTRACT/HYBRIDï¼‰",
    "project": "novel-automation-system-v2",
    "usedIn": [
      "src/lib/plot/types.ts:1-150, src/lib/plot/manager.ts"
    ],
    "code": "```json\n{\n  \"id\": \"decision_plot_3_mode_architecture_2025_11_25\",\n  \"type\": \"decision\",\n  \"name\": \"Plot 3-Mode ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£é¸æŠï¼ˆCONCRETE/ABSTRACT/HYBRIDï¼‰\",\n  \"decision_type\": \"architecture\",\n  \"tags\": [\"ãƒ—ãƒ­ãƒƒãƒˆ\", \"3ãƒ¢ãƒ¼ãƒ‰\", \"å…·ä½“çš„ãƒ—ãƒ­ãƒƒãƒˆ\", \"æŠ½è±¡çš„ãƒ—ãƒ­ãƒƒãƒˆ\", \"ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰\", \"æŸ”è»Ÿæ€§\"],\n  \"source_project\": \"novel-automation-system-v2\",\n  \"chosen\": \"3-Mode Plot System (CONCRETE + ABSTRACT + HYBRID)\",\n  \"alternatives\": [\"å›ºå®šãƒ—ãƒ­ãƒƒãƒˆã®ã¿\", \"å®Œå…¨è‡ªç”±ç”Ÿæˆ\", \"2ãƒ¢ãƒ¼ãƒ‰ã‚·ã‚¹ãƒ†ãƒ \"],\n  \"related_knowledge\": [\n    \"design_pattern_8_system_integration_2025_11_25\",\n    \"system_novel_automation_status_2025_11_25\"\n  ],\n  \"source_file\": \"src/lib/plot/types.ts:1-150, src/lib/plot/manager.ts\",\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# Plot 3-Mode ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£é¸æŠï¼ˆCONCRETE/ABSTRACT/HYBRIDï¼‰\n\n## ä½•ã‚’åˆ¤æ–­ã—ãŸã‹\n\nAIå°èª¬ç”Ÿæˆã‚·ã‚¹ãƒ†ãƒ ã«ãŠã„ã¦ã€**3ã¤ã®ãƒ—ãƒ­ãƒƒãƒˆãƒ¢ãƒ¼ãƒ‰ï¼ˆCONCRETE/ABSTRACT/HYBRIDï¼‰ã‚’åˆ‡ã‚Šæ›¿ãˆå¯èƒ½ãªã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£**ã‚’æ¡ç”¨ã—ã€ç‰©èªã®è¨ˆç”»ãƒ¬ãƒ™ãƒ«ã‚’æŸ”è»Ÿã«åˆ¶å¾¡ã§ãã‚‹ã‚ˆã†ã«ã—ãŸã€‚\n\n## é¸ã‚“ã ã‚‚ã®\n\n**3-Mode Plot System**\n\n### Mode 1: CONCRETEï¼ˆå…·ä½“çš„ãƒ—ãƒ­ãƒƒãƒˆï¼‰\n- ç‰¹å®šã®ç« ç¯„å›²ã«å…·ä½“çš„ãªã‚¤ãƒ™ãƒ³ãƒˆã‚’æŒ‡å®š\n- ã€Œç¬¬10-12ç« ã§ä¸»äººå…¬ãŒé­”ç‹ã¨å¯¾æ±ºã€ã®ã‚ˆã†ãªæ˜ç¢ºãªæŒ‡ç¤º\n- è¨ˆç”»æ€§ã®é«˜ã„ç‰©èªã«é©ç”¨\n\n### Mode 2: ABSTRACTï¼ˆæŠ½è±¡çš„ãƒ—ãƒ­ãƒƒãƒˆï¼‰\n- ãƒ†ãƒ¼ãƒã‚„æ„Ÿæƒ…çš„ãƒˆãƒ¼ãƒ³ã®ã¿ã‚’æŒ‡å®š\n- ã€Œç·Šå¼µæ„Ÿã®ã‚ã‚‹å±•é–‹ã€ã€Œã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼æˆé•·ãƒ•ã‚§ãƒ¼ã‚ºã€ã®ã‚ˆã†ãªæ–¹å‘æ€§\n- è‡ªç”±åº¦ã®é«˜ã„ç‰©èªã«é©ç”¨\n\n### Mode 3: HYBRIDï¼ˆãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰ï¼‰\n- CONCRETEã¨ABSTRACTã‚’ç« ã”ã¨ã«æ··åœ¨\n- é‡è¦ã‚¤ãƒ™ãƒ³ãƒˆã¯å…·ä½“çš„ã«ã€æ—¥å¸¸ã‚·ãƒ¼ãƒ³ã¯æŠ½è±¡çš„ã«\n- æœ€ã‚‚æŸ”è»Ÿãªãƒ¢ãƒ¼ãƒ‰\n\n## ãƒ—ãƒ­ãƒƒãƒˆãƒ¢ãƒ¼ãƒ‰ã®è©³ç´°\n\n### CONCRETE Modeï¼ˆå…·ä½“çš„ãƒ—ãƒ­ãƒƒãƒˆï¼‰\n\n**ãƒ‡ãƒ¼ã‚¿æ§‹é€ **:\n```typescript\nexport interface ConcretePlotPoint {\n  chapterRange: [number, number];      // é©ç”¨ç« ç¯„å›²ï¼ˆä¾‹: [10, 12]ï¼‰\n  title: string;                       // ãƒ—ãƒ­ãƒƒãƒˆã‚¿ã‚¤ãƒˆãƒ«\n  summary: string;                     // æ¦‚è¦\n  phase?: string;                      // ç‰©èªãƒ•ã‚§ãƒ¼ã‚º\n  storyArc?: string;                   // ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ã‚¢ãƒ¼ã‚¯\n  storyGoal?: string;                  // ç‰©èªç›®æ¨™\n  mustHaveOutcome?: string;            // å¿…é ˆçµæœ\n  keyEvents: string[];                 // é‡è¦ã‚¤ãƒ™ãƒ³ãƒˆ\n  characterFocus: string[];            // æ³¨ç›®ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼\n  requiredElements: string[];          // å¿…é ˆè¦ç´ \n  foreshadowing?: string[];            // ä¼ç·š\n}\n```\n\n**ä½¿ç”¨ä¾‹**:\n```typescript\nconst concretePlot: ConcretePlotPoint = {\n  chapterRange: [10, 12],\n  title: \"é­”ç‹ã¨ã®æœ€çµ‚æ±ºæˆ¦\",\n  summary: \"ä¸»äººå…¬ãŒä»²é–“ã¨å…±ã«é­”ç‹ã®åŸã«ä¾µå…¥ã—ã€æœ€çµ‚æ±ºæˆ¦ã‚’è¡Œã†\",\n  phase: \"ã‚¯ãƒ©ã‚¤ãƒãƒƒã‚¯ã‚¹\",\n  storyArc: \"é­”ç‹è¨ä¼ã‚¢ãƒ¼ã‚¯\",\n  storyGoal: \"é­”ç‹ã‚’å€’ã—ã€ä¸–ç•Œã«å¹³å’Œã‚’ã‚‚ãŸã‚‰ã™\",\n  mustHaveOutcome: \"é­”ç‹ãŒæ•—åŒ—ã—ã€ä¸»äººå…¬ãŒå‹åˆ©ã™ã‚‹\",\n  keyEvents: [\n    \"åŸã®é–€ç•ªã¨ã®æˆ¦é—˜\",\n    \"é­”ç‹ã®çœŸã®ç›®çš„ãŒåˆ¤æ˜\",\n    \"ä»²é–“ã®ä¸€äººãŒçŠ ç‰²ã«ãªã‚‹\",\n    \"ä¸»äººå…¬ãŒæ–°ãŸãªåŠ›ã«è¦šé†’\",\n    \"é­”ç‹ã¨ã®ä¸€é¨æ‰“ã¡\"\n  ],\n  characterFocus: [\"ä¸»äººå…¬\", \"é­”ç‹\", \"ä»²é–“A\"],\n  requiredElements: [\n    \"æ„Ÿå‹•çš„ãªåˆ¥ã‚Œã®ã‚·ãƒ¼ãƒ³\",\n    \"ä¸»äººå…¬ã®æˆé•·ã®è¨¼æ˜\",\n    \"ä¼ç·šã®å›å\"\n  ],\n  foreshadowing: [\n    \"æ¬¡ã®ç‰©èªã¸ã®å¸ƒçŸ³\"\n  ]\n};\n```\n\n### ABSTRACT Modeï¼ˆæŠ½è±¡çš„ãƒ—ãƒ­ãƒƒãƒˆï¼‰\n\n**ãƒ‡ãƒ¼ã‚¿æ§‹é€ **:\n```typescript\nexport interface AbstractPlotGuideline {\n  phase: string;                       // ç‰©èªãƒ•ã‚§ãƒ¼ã‚º\n  theme: string;                       // ãƒ†ãƒ¼ãƒ\n  emotionalTone: string;               // æ„Ÿæƒ…çš„ãƒˆãƒ¼ãƒ³\n  thematicMessage?: string;            // ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸\n  phasePurpose?: string;               // ãƒ•ã‚§ãƒ¼ã‚ºç›®çš„\n  potentialDirections: string[];       // å¯èƒ½ãªæ–¹å‘æ€§\n  prohibitedElements: string[];        // é¿ã‘ã‚‹ã¹ãè¦ç´ \n  chapterRange?: [number, number];     // é©ç”¨ç¯„å›²\n  keyCharacters?: string[];            // ç„¦ç‚¹ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼\n}\n```\n\n**ä½¿ç”¨ä¾‹**:\n```typescript\nconst abstractPlot: AbstractPlotGuideline = {\n  phase: \"æ—¥å¸¸ãƒ‘ãƒ¼ãƒˆ\",\n  theme: \"å‹æƒ…ã¨çµ†ã®æ·±ã¾ã‚Š\",\n  emotionalTone: \"æ¸©ã‹ãã€ã»ã®ã¼ã®ã¨ã—ãŸé›°å›²æ°—\",\n  thematicMessage: \"å°ã•ãªæ—¥å¸¸ã®ç©ã¿é‡ã­ãŒã€äººç”Ÿã‚’è±Šã‹ã«ã™ã‚‹\",\n  phasePurpose: \"ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼é–“ã®é–¢ä¿‚æ€§ã‚’æ·±ã‚ã‚‹\",\n  potentialDirections: [\n    \"æ—¥å¸¸ã®ä½•æ°—ãªã„å‡ºæ¥äº‹ã‚’é€šã˜ãŸæˆé•·\",\n    \"ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼åŒå£«ã®ä¼šè©±ã§çµ†ã‚’æã\",\n    \"ãƒ¦ãƒ¼ãƒ¢ãƒ©ã‚¹ãªã‚¨ãƒ”ã‚½ãƒ¼ãƒ‰ã§ç·Šå¼µã‚’ç·©å’Œ\"\n  ],\n  prohibitedElements: [\n    \"ã‚·ãƒªã‚¢ã‚¹ãªæˆ¦é—˜ã‚·ãƒ¼ãƒ³\",\n    \"é‡å¤§ãªäº‹ä»¶ã®ç™ºç”Ÿ\",\n    \"ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã®æ­»\"\n  ],\n  chapterRange: [13, 15],\n  keyCharacters: [\"ä¸»äººå…¬\", \"ä»²é–“B\", \"ä»²é–“C\"]\n};\n```\n\n### HYBRID Modeï¼ˆãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰ï¼‰\n\n**ãƒ—ãƒ­ãƒƒãƒˆæˆ¦ç•¥**:\n```typescript\nexport interface PlotStrategy {\n  globalStrategy: {\n    preferredMode: \"concrete\" | \"abstract\" | \"mixed\";\n    abstractRatio: number;           // æŠ½è±¡åº¦ï¼ˆ0-1ï¼‰\n    plotComplexity: \"low\" | \"medium\" | \"high\";\n  };\n  chapterModeOverrides: Array<{\n    chapterRange: [number, number];\n    mode: PlotMode;\n    reason: string;\n  }>;\n}\n```\n\n**ä½¿ç”¨ä¾‹**:\n```typescript\nconst hybridStrategy: PlotStrategy = {\n  globalStrategy: {\n    preferredMode: \"mixed\",\n    abstractRatio: 0.6,  // 60%ã¯æŠ½è±¡çš„ã«\n    plotComplexity: \"medium\"\n  },\n  chapterModeOverrides: [\n    // ç¬¬1-3ç« : å…·ä½“çš„ï¼ˆç‰©èªã®å°å…¥ã¯è¨ˆç”»çš„ã«ï¼‰\n    { chapterRange: [1, 3], mode: PlotMode.CONCRETE, reason: \"ç‰©èªå°å…¥ã¯æ˜ç¢ºã«\" },\n\n    // ç¬¬4-9ç« : æŠ½è±¡çš„ï¼ˆã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼æå†™é‡è¦–ï¼‰\n    { chapterRange: [4, 9], mode: PlotMode.ABSTRACT, reason: \"ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼è‡ªç”±åº¦ã‚’é«˜ã‚ã‚‹\" },\n\n    // ç¬¬10-12ç« : å…·ä½“çš„ï¼ˆã‚¯ãƒ©ã‚¤ãƒãƒƒã‚¯ã‚¹ï¼‰\n    { chapterRange: [10, 12], mode: PlotMode.CONCRETE, reason: \"é‡è¦ã‚¤ãƒ™ãƒ³ãƒˆ\" },\n\n    // ç¬¬13-15ç« : æŠ½è±¡çš„ï¼ˆã‚¨ãƒ”ãƒ­ãƒ¼ã‚°ï¼‰\n    { chapterRange: [13, 15], mode: PlotMode.ABSTRACT, reason: \"è‡ªç„¶ãªçµ‚ã‚ã‚Šæ–¹\" }\n  ]\n};\n```\n\n## ä»–ã®å€™è£œ\n\n### å€™è£œ1: å›ºå®šãƒ—ãƒ­ãƒƒãƒˆã®ã¿ï¼ˆå…¨ç« CONCRETEï¼‰\n\n**ç‰¹å¾´**:\n- å…¨ã¦ã®ç« ã§å…·ä½“çš„ãªã‚¤ãƒ™ãƒ³ãƒˆã‚’æŒ‡å®š\n- å®Œå…¨ã«è¨ˆç”»ã•ã‚ŒãŸç‰©èª\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n- **ç†ç”±1: è‡ªç”±åº¦ã®æ¬ å¦‚**\n  - AIã®å‰µé€ æ€§ã‚’æ´»ã‹ã›ãªã„\n  - äºˆæƒ³å¤–ã®å±•é–‹ãŒç”Ÿã¾ã‚Œãªã„\n- **ç†ç”±2: ä½œæ¥­è² è·ãŒé«˜ã„**\n  - å…¨ç« ã®ãƒ—ãƒ­ãƒƒãƒˆä½œæˆã«è†¨å¤§ãªæ™‚é–“\n  - ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã‚³ã‚¹ãƒˆãŒé«˜ã„\n- **ç†ç”±3: æŸ”è»Ÿæ€§ãŒãªã„**\n  - é€”ä¸­ã§æ–¹å‘è»¢æ›ãŒå›°é›£\n  - è©¦è¡ŒéŒ¯èª¤ãŒã§ããªã„\n\n### å€™è£œ2: å®Œå…¨è‡ªç”±ç”Ÿæˆï¼ˆå…¨ç« ABSTRACTï¼‰\n\n**ç‰¹å¾´**:\n- å…·ä½“çš„ãªæŒ‡ç¤ºãªã—\n- AIã«å®Œå…¨ã«ä»»ã›ã‚‹\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n- **ç†ç”±1: ä¸€è²«æ€§ã®æ¬ å¦‚**\n  - ç‰©èªã®æ–¹å‘æ€§ãŒãƒ–ãƒ¬ã‚‹\n  - ãƒ—ãƒ­ãƒƒãƒˆé€²è¡ŒãŒä¸æ˜ç¢º\n- **ç†ç”±2: å“è³ªã®ä¸å®‰å®šæ€§**\n  - é‡è¦ã‚¤ãƒ™ãƒ³ãƒˆãŒæ¬ è½ã™ã‚‹å¯èƒ½æ€§\n  - ãƒ†ãƒ¼ãƒãŒæ›–æ˜§ã«ãªã‚‹\n- **ç†ç”±3: åˆ¶å¾¡ä¸èƒ½**\n  - æ„å›³ã—ãªã„å±•é–‹ã«ãªã‚‹\n  - ä¿®æ­£ãŒå›°é›£\n\n### å€™è£œ3: 2ãƒ¢ãƒ¼ãƒ‰ã‚·ã‚¹ãƒ†ãƒ ï¼ˆCONCRETEã¨ABSTRACTã®ã¿ï¼‰\n\n**ç‰¹å¾´**:\n- å…·ä½“çš„ or æŠ½è±¡çš„ã®äºŒæŠ\n- HYBRIDãªã—\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n- **ç†ç”±1: æŸ”è»Ÿæ€§ã®ä¸è¶³**\n  - ç« ã”ã¨ã®ç´°ã‹ã„åˆ¶å¾¡ãŒã§ããªã„\n  - ã‚ªãƒ¼ãƒ«orãƒŠãƒƒã‚·ãƒ³ã‚°ã®é¸æŠ\n- **ç†ç”±2: ç¾å®Ÿçš„ãªãƒ‹ãƒ¼ã‚ºã«åˆã‚ãªã„**\n  - å¤šãã®ç‰©èªã¯é‡è¦éƒ¨åˆ†ã¨æ—¥å¸¸éƒ¨åˆ†ã®æ··åœ¨\n  - ç”»ä¸€çš„ãªç®¡ç†ã¯ä¸è‡ªç„¶\n\n## åˆ¤æ–­ç†ç”±\n\n### ç†ç”±1: å‰µä½œã®æŸ”è»Ÿæ€§\n\n**ãƒ¡ãƒªãƒƒãƒˆ**:\n- é‡è¦ãªç« ï¼ˆå°å…¥ã€ã‚¯ãƒ©ã‚¤ãƒãƒƒã‚¯ã‚¹ã€çµ‚ç« ï¼‰ã¯è¨ˆç”»çš„ã«\n- æ—¥å¸¸ãƒ‘ãƒ¼ãƒˆã‚„å±•é–‹éƒ¨åˆ†ã¯AIã®è‡ªç”±åº¦ã‚’æ´»ã‹ã™\n- ãƒãƒ©ãƒ³ã‚¹ã®å–ã‚ŒãŸç‰©èªä½œæˆ\n\n### ç†ç”±2: é–‹ç™ºåŠ¹ç‡ã¨ã‚¯ã‚ªãƒªãƒ†ã‚£ã®ãƒãƒ©ãƒ³ã‚¹\n\n**ãƒ¡ãƒªãƒƒãƒˆ**:\n- å…¨ç« ãƒ—ãƒ­ãƒƒãƒˆä½œæˆã¯ä¸è¦ï¼ˆABSTRACTã§ç°¡ç•¥åŒ–å¯èƒ½ï¼‰\n- é‡è¦éƒ¨åˆ†ã¯å“è³ªä¿è¨¼ï¼ˆCONCRETEã§åˆ¶å¾¡ï¼‰\n- è©¦è¡ŒéŒ¯èª¤ãŒã—ã‚„ã™ã„\n\n### ç†ç”±3: AIã®å¼·ã¿ã‚’æ´»ã‹ã™\n\n**ãƒ¡ãƒªãƒƒãƒˆ**:\n- å…·ä½“çš„æŒ‡ç¤ºã§ã¯äººé–“ã®æ„å›³ã‚’åæ˜ \n- æŠ½è±¡çš„æŒ‡ç¤ºã§ã¯AIã®å‰µé€ æ€§ã‚’ç™ºæ®\n- HYBRIDã§ä¸¡æ–¹ã®è‰¯ã„ã¨ã“å–ã‚Š\n\n### ç†ç”±4: ãƒ¢ãƒ¼ãƒ‰é–“ã®ç§»è¡Œã‚µãƒãƒ¼ãƒˆ\n\n**å®Ÿè£…**:\n```typescript\nexport enum PlotMode {\n  CONCRETE = \"CONCRETE\",\n  ABSTRACT = \"ABSTRACT\",\n  HYBRID = \"HYBRID\",\n  TRANSITION_TO_ABSTRACT = \"TRANSITION_TO_ABSTRACT\",  // ç§»è¡Œãƒ¢ãƒ¼ãƒ‰\n  TRANSITION_TO_CONCRETE = \"TRANSITION_TO_CONCRETE\"   // ç§»è¡Œãƒ¢ãƒ¼ãƒ‰\n}\n```\n\n**ãƒ¡ãƒªãƒƒãƒˆ**:\n- çªç„¶ã®ãƒ¢ãƒ¼ãƒ‰å¤‰æ›´ã‚’é¿ã‘ã‚‹\n- è‡ªç„¶ãªç§»è¡Œã‚’å®Ÿç¾\n\n## ã“ã®åˆ¤æ–­ã‹ã‚‰å­¦ã¹ã‚‹ã“ã¨\n\n### å­¦ã³1: ã€Œåˆ¶å¾¡ã€ã¨ã€Œè‡ªç”±ã€ã®ãƒãƒ©ãƒ³ã‚¹\n\nå®Œå…¨ãªåˆ¶å¾¡ã‚‚å®Œå…¨ãªè‡ªç”±ã‚‚æœ€é©ã§ã¯ãªã„ã€‚ä¸¡è€…ã®ãƒãƒ©ãƒ³ã‚¹ãŒé‡è¦ã€‚\n\n### å­¦ã³2: æŸ”è»Ÿæ€§ã‚’è¨­è¨ˆã«çµ„ã¿è¾¼ã‚€\n\nåˆæœŸæ®µéšã‹ã‚‰è¤‡æ•°ã®ãƒ¢ãƒ¼ãƒ‰ã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹ã“ã¨ã§ã€å¾Œã®å¤‰æ›´ã«å¼·ã„ã€‚\n\n### å­¦ã³3: AIã®ç‰¹æ€§ã‚’ç†è§£ã™ã‚‹\n\nAIã¯æŠ½è±¡çš„ãªæŒ‡ç¤ºã‹ã‚‰å‰µé€ çš„ãªå±•é–‹ã‚’ç”Ÿã¿å‡ºã›ã‚‹ã€‚ã“ã®å¼·ã¿ã‚’æ´»ã‹ã™ã¹ãã€‚\n\n### å­¦ã³4: ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®é¸æŠè‚¢ã‚’åºƒã’ã‚‹\n\nç”»ä¸€çš„ãªã‚·ã‚¹ãƒ†ãƒ ã‚ˆã‚Šã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒé¸æŠã§ãã‚‹ã‚·ã‚¹ãƒ†ãƒ ã®æ–¹ãŒå®Ÿç”¨çš„ã€‚\n\n## é©ç”¨å ´é¢\n\nä»¥ä¸‹ã®æ¡ä»¶ã‚’æº€ãŸã™ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«é©ç”¨å¯èƒ½ï¼š\n\n1. **ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”Ÿæˆã‚·ã‚¹ãƒ†ãƒ **ï¼ˆå°èª¬ã€ã‚²ãƒ¼ãƒ ã‚·ãƒŠãƒªã‚ªã€å‹•ç”»è„šæœ¬ï¼‰\n2. **è¨ˆç”»æ€§ã¨è‡ªç”±åº¦ã®ä¸¡ç«‹ãŒå¿…è¦**\n3. **é•·æœŸçš„ãªã‚³ãƒ³ãƒ†ãƒ³ãƒ„**ï¼ˆ100ç« ä»¥ä¸Šã®å°èª¬ãªã©ï¼‰\n4. **è©¦è¡ŒéŒ¯èª¤ãŒå¿…è¦**ï¼ˆå®Ÿé¨“çš„ãªä½œå“ï¼‰\n\n## æ³¨æ„ç‚¹\n\n### æ³¨æ„ç‚¹1: ãƒ¢ãƒ¼ãƒ‰é¸æŠã®åˆ¤æ–­\n\n**å•é¡Œ**: ã©ã®ç« ã‚’CONCRETEã«ã—ã€ã©ã‚Œã‚’ABSTRACTã«ã™ã‚‹ã‹åˆ¤æ–­ãŒé›£ã—ã„ã€‚\n\n**å¯¾ç­–**:\n- åŸºæœ¬æ–¹é‡ã‚’æ±ºã‚ã‚‹ï¼ˆä¾‹: ã‚¯ãƒ©ã‚¤ãƒãƒƒã‚¯ã‚¹ã¯CONCRETEï¼‰\n- è©¦è¡ŒéŒ¯èª¤ã§èª¿æ•´\n\n### æ³¨æ„ç‚¹2: ä¸€è²«æ€§ã®ç®¡ç†\n\n**å•é¡Œ**: ABSTRACTãƒ¢ãƒ¼ãƒ‰ã§ç”Ÿæˆã—ãŸç« ãŒã€CONCRETEãƒ¢ãƒ¼ãƒ‰ã®ç« ã¨çŸ›ç›¾ã™ã‚‹å¯èƒ½æ€§ã€‚\n\n**å¯¾ç­–**:\n- éšå±¤çš„æ•´åˆæ€§ãƒã‚§ãƒƒã‚¯æ©Ÿèƒ½ï¼ˆHierarchicalConsistencyCheckï¼‰\n- è¨˜æ†¶éšå±¤ã‚·ã‚¹ãƒ†ãƒ ã¨ã®çµ±åˆ\n\n### æ³¨æ„ç‚¹3: ãƒ—ãƒ­ãƒƒãƒˆä½œæˆã‚³ã‚¹ãƒˆ\n\n**å•é¡Œ**: CONCRETEãƒ¢ãƒ¼ãƒ‰ã¯è©³ç´°ãªãƒ—ãƒ­ãƒƒãƒˆä½œæˆãŒå¿…è¦ã€‚\n\n**å¯¾ç­–**:\n- æœ¬å½“ã«é‡è¦ãªç« ã®ã¿CONCRETEã«\n- ABSTRACTã¨HYBRIDã‚’æ´»ç”¨\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `design_pattern_8_system_integration_2025_11_25.md`ï¼šPlotSystemã®çµ±åˆ\n- `system_novel_automation_status_2025_11_25.md`ï¼šã‚·ã‚¹ãƒ†ãƒ å…¨ä½“ã®çŠ¶æ…‹\n- `decision_three_tier_memory_architecture_2025_11_25.md`ï¼šè¨˜æ†¶éšå±¤ã¨ã®æ•´åˆæ€§\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€ŒPlot 3-Mode ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£é¸æŠï¼ˆCONCRETE/ABSTRACT/HYBRIDï¼‰ã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "design-pattern-8-system-integration",
      "system-novel-automation-status"
    ]
  },
  {
    "slug": "quality-metrics-selection-rationale",
    "title": "å“è³ªè©•ä¾¡æŒ‡æ¨™ã®é¸æŠã¨é‡ã¿ä»˜ã‘ã®åˆ¤æ–­",
    "category": "Decisionsï¼ˆæŠ€è¡“é¸å®šãƒ»åˆ¤æ–­ï¼‰",
    "description": "å“è³ªè©•ä¾¡æŒ‡æ¨™ã®é¸æŠã¨é‡ã¿ä»˜ã‘ã®åˆ¤æ–­",
    "project": "novel-automation-system-v2",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"decision_quality_metrics_selection_rationale_2025_11_25\",\n  \"type\": \"decision\",\n  \"name\": \"å“è³ªè©•ä¾¡æŒ‡æ¨™ã®é¸æŠã¨é‡ã¿ä»˜ã‘ã®åˆ¤æ–­\",\n  \"decision_type\": \"parameter\",\n  \"tags\": [\"å“è³ªè©•ä¾¡\", \"æŒ‡æ¨™è¨­è¨ˆ\", \"é‡ã¿ä»˜ã‘\", \"è©•ä¾¡è»¸\"],\n  \"source_project\": \"novel-automation-system-v2\",\n  \"chosen\": \"10æ¬¡å…ƒå“è³ªè©•ä¾¡ï¼ˆèª­ã¿ã‚„ã™ã•ãƒ»ä¸€è²«æ€§ãƒ»ã‚¨ãƒ³ã‚²ãƒ¼ã‚¸ãƒ¡ãƒ³ãƒˆç­‰ï¼‰+ é‡ã¿ä»˜ãç·åˆã‚¹ã‚³ã‚¢\",\n  \"alternatives\": [\"å˜ä¸€ç·åˆã‚¹ã‚³ã‚¢\", \"5æ¬¡å…ƒè©•ä¾¡\", \"ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆæ–¹å¼\"],\n  \"related_knowledge\": [\"skill_multi_dimensional_quality_evaluation_2025_11_25\"],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# å“è³ªè©•ä¾¡æŒ‡æ¨™ã®é¸æŠã¨é‡ã¿ä»˜ã‘ã®åˆ¤æ–­\n\n## ä½•ã‚’åˆ¤æ–­ã—ãŸã‹\n\nå°èª¬ã®ç« å“è³ªã‚’è©•ä¾¡ã™ã‚‹ãŸã‚ã€10å€‹ã®ç‹¬ç«‹ã—ãŸè©•ä¾¡è»¸ã‚’è¨­å®šã—ã€å„è»¸ã«é‡ã¿ã‚’ä»˜ã‘ã¦ç·åˆã‚¹ã‚³ã‚¢ã‚’ç®—å‡ºã™ã‚‹å¤šæ¬¡å…ƒè©•ä¾¡ã‚·ã‚¹ãƒ†ãƒ ã‚’æ¡ç”¨ã—ãŸã€‚\n\n## é¸ã‚“ã ã‚‚ã®\n\n**10æ¬¡å…ƒå“è³ªè©•ä¾¡ã‚·ã‚¹ãƒ†ãƒ **ï¼š\n1. readability (èª­ã¿ã‚„ã™ã•) - 15%\n2. consistency (ä¸€è²«æ€§) - 15%\n3. engagement (å¼•ãè¾¼ã¿åº¦) - 15%\n4. characterDevelopment (ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼æå†™) - 12%\n5. plotCoherence (ãƒ—ãƒ­ãƒƒãƒˆæ•´åˆæ€§) - 12%\n6. dialogueQuality (å¯¾è©±å“è³ª) - 10%\n7. descriptiveQuality (æå†™å“è³ª) - 8%\n8. pacing (ãƒ†ãƒ³ãƒ) - 8%\n9. thematicConsistency (ãƒ†ãƒ¼ãƒä¸€è²«æ€§) - 3%\n10. emotionalImpact (æ„Ÿæƒ…çš„å½±éŸ¿) - 2%\n\n## ä»–ã®å€™è£œ\n\n### å€™è£œ1ï¼šå˜ä¸€ç·åˆã‚¹ã‚³ã‚¢\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**ï¼š\n- **è©³ç´°ãŒä¸æ˜**: ç·åˆã‚¹ã‚³ã‚¢ãŒä½ãã¦ã‚‚ã€ã©ã®å´é¢ãŒå•é¡Œã‹åˆ†ã‹ã‚‰ãªã„\n- **æ”¹å–„å›°é›£**: å…·ä½“çš„ãªæ”¹å–„ãƒã‚¤ãƒ³ãƒˆãŒç‰¹å®šã§ããªã„\n- **ä¸€é¢çš„**: å¤šæ§˜ãªå“è³ªå´é¢ã‚’æ‰ãˆã‚‰ã‚Œãªã„\n\n### å€™è£œ2ï¼š5æ¬¡å…ƒè©•ä¾¡\n\nè©•ä¾¡è»¸: èª­ã¿ã‚„ã™ã•ãƒ»ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ãƒ»ãƒ—ãƒ­ãƒƒãƒˆãƒ»æ–‡ä½“ãƒ»ãƒ†ãƒ¼ãƒ\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**ï¼š\n- **ç²’åº¦ãŒç²—ã„**: ã€Œæ–‡ä½“ã€ã«å¯¾è©±ãƒ»æå†™ãƒ»ãƒ†ãƒ³ãƒãŒæ··åœ¨\n- **æ”¹å–„ç‚¹ãŒæ›–æ˜§**: ã©ã®è¦ç´ ã‚’æ”¹å–„ã™ã¹ãã‹ä¸æ˜ç¢º\n- **ãƒãƒ©ãƒ³ã‚¹è©•ä¾¡ä¸è¶³**: å¯¾è©±ã¨æå†™ã®ãƒãƒ©ãƒ³ã‚¹ãªã©ç´°ã‹ãªèª¿æ•´ãŒã§ããªã„\n\n### å€™è£œ3ï¼šãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆæ–¹å¼\n\né …ç›®: èª¤å­—ãªã—ãƒ»çŸ›ç›¾ãªã—ãƒ»ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ç™»å ´ãƒ»ãƒ—ãƒ­ãƒƒãƒˆé€²è¡Œãªã©\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**ï¼š\n- **å®šæ€§çš„**: ã‚¹ã‚³ã‚¢åŒ–ã§ããšå®šé‡è©•ä¾¡ãŒå›°é›£\n- **ä¸»è¦³çš„**: ãƒã‚§ãƒƒã‚¯åŸºæº–ãŒæ›–æ˜§\n- **ãƒˆãƒ¬ãƒ³ãƒ‰åˆ†æä¸å¯**: ç« é–“ã®å“è³ªå¤‰åŒ–ã‚’è¿½è·¡ã§ããªã„\n\n## åˆ¤æ–­ç†ç”±\n\n### ç†ç”±1ï¼šå¤šé¢çš„è©•ä¾¡ã®å¿…è¦æ€§\n\nå°èª¬ã®å“è³ªã¯å˜ä¸€æŒ‡æ¨™ã§ã¯æ¸¬ã‚Œãªã„ã€‚ä¾‹ãˆã°ï¼š\n- èª­ã¿ã‚„ã™ã•ã¯é«˜ã„ãŒã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼æå†™ãŒæµ…ã„\n- ãƒ—ãƒ­ãƒƒãƒˆã¯æ•´åˆæ€§ãŒã‚ã‚‹ãŒå¼•ãè¾¼ã¿åº¦ãŒä½ã„\n- å¯¾è©±ã¯è‡ªç„¶ã ãŒãƒ†ãƒ³ãƒãŒæ‚ªã„\n\n10å€‹ã®ç‹¬ç«‹ã—ãŸè»¸ã§è©•ä¾¡ã™ã‚‹ã“ã¨ã§ã€**å¼·ã¿ã¨å¼±ã¿ã‚’æ­£ç¢ºã«æŠŠæ¡**ã§ãã‚‹ã€‚\n\n### ç†ç”±2ï¼šé‡ã¿ä»˜ã‘ã«ã‚ˆã‚‹å„ªå…ˆé †ä½ã®æ˜ç¢ºåŒ–\n\nã™ã¹ã¦ã®è©•ä¾¡è»¸ãŒç­‰ã—ãé‡è¦ã§ã¯ãªã„ã€‚\n\n**æœ€é‡è¦ï¼ˆ15%ï¼‰**ï¼š\n- **èª­ã¿ã‚„ã™ã•**: èª­è€…ãŒèª­ã¿ç¶šã‘ã‚‰ã‚Œã‚‹ã‹ã®åŸºç¤\n- **ä¸€è²«æ€§**: ç‰©èªã®ä¿¡é ¼æ€§ã®æ ¹å¹¹\n- **ã‚¨ãƒ³ã‚²ãƒ¼ã‚¸ãƒ¡ãƒ³ãƒˆ**: èª­è€…ã‚’å¼•ãè¾¼ã‚€åŠ›\n\n**é‡è¦ï¼ˆ10-12%ï¼‰**ï¼š\n- **ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼æå†™ãƒ»ãƒ—ãƒ­ãƒƒãƒˆæ•´åˆæ€§**: ç‰©èªã®éª¨æ ¼\n- **å¯¾è©±å“è³ª**: ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã®ç”Ÿãç”Ÿãã¨ã—ãŸè¡¨ç¾\n\n**è£œåŠ©çš„ï¼ˆ2-8%ï¼‰**ï¼š\n- **æå†™å“è³ªãƒ»ãƒ†ãƒ³ãƒ**: æ–‡ä½“ã®æ´—ç·´åº¦\n- **ãƒ†ãƒ¼ãƒä¸€è²«æ€§ãƒ»æ„Ÿæƒ…çš„å½±éŸ¿**: æ·±ã¿ã‚’åŠ ãˆã‚‹è¦ç´ \n\né‡ã¿ä»˜ã‘ã«ã‚ˆã‚Šã€**æ”¹å–„ã®å„ªå…ˆé †ä½ãŒè‡ªå‹•çš„ã«æ±ºã¾ã‚‹**ã€‚\n\n### ç†ç”±3ï¼šæ”¹å–„ææ¡ˆã®å…·ä½“æ€§\n\nå„è©•ä¾¡è»¸ã®ã‚¹ã‚³ã‚¢ãŒä½ã„å ´åˆã€å…·ä½“çš„ãªæ”¹å–„ææ¡ˆãŒå¯èƒ½ï¼š\n- readability < 0.6 â†’ ã€Œæ–‡ç« ã‚’ã‚ˆã‚Šã‚·ãƒ³ãƒ—ãƒ«ã«ã—ã¦ãã ã•ã„ã€\n- dialogueQuality < 0.6 â†’ ã€Œå¯¾è©±ã‚’è‡ªç„¶ã§ç”Ÿãç”Ÿãã¨ã—ãŸã‚‚ã®ã«ã€\n- pacing < 0.6 â†’ ã€Œãƒ†ãƒ³ãƒã«ãƒ¡ãƒªãƒãƒªã‚’ã¤ã‘ã¦ãã ã•ã„ã€\n\n**å˜ä¸€ã‚¹ã‚³ã‚¢ã§ã¯ä¸å¯èƒ½ãªå…·ä½“æ€§**ã‚’å®Ÿç¾ã€‚\n\n### ç†ç”±4ï¼šãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã”ã¨ã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºå¯èƒ½æ€§\n\né‡ã¿ã‚’èª¿æ•´ã™ã‚‹ã“ã¨ã§ã€ç•°ãªã‚‹ãƒ‹ãƒ¼ã‚ºã«å¯¾å¿œï¼š\n\n**èª­ã¿ã‚„ã™ã•é‡è¦–ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ**ï¼š\n```typescript\nreadability: 0.25,  // 25%ã«å¼•ãä¸Šã’\nengagement: 0.20,\nconsistency: 0.15,\n// ...\n```\n\n**ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼é‡è¦–ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ**ï¼š\n```typescript\ncharacterDevelopment: 0.20,  // 20%ã«å¼•ãä¸Šã’\ndialogueQuality: 0.15,\n// ...\n```\n\næŸ”è»Ÿæ€§ãŒé«˜ãã€**æ§˜ã€…ãªã‚¸ãƒ£ãƒ³ãƒ«ã‚„ç›®çš„ã«é©ç”¨å¯èƒ½**ã€‚\n\n### ç†ç”±5ï¼šãƒ‡ãƒ¼ã‚¿è“„ç©ã«ã‚ˆã‚‹ãƒˆãƒ¬ãƒ³ãƒ‰åˆ†æ\n\n10æ¬¡å…ƒã®æ™‚ç³»åˆ—ãƒ‡ãƒ¼ã‚¿ã‚’è“„ç©ã™ã‚‹ã“ã¨ã§ï¼š\n- ã€Œæœ€è¿‘ã€å¯¾è©±å“è³ªãŒä½ä¸‹å‚¾å‘ã€\n- ã€Œã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼æå†™ã¯æ”¹å–„ã—ã¦ã„ã‚‹ãŒãƒ†ãƒ³ãƒãŒæ‚ªåŒ–ã€\n- ã€Œèª­ã¿ã‚„ã™ã•ã¯å®‰å®šã—ã¦é«˜ã„ã€\n\n**ç« ã”ã¨ã®å¤‰åŒ–ã‚’è¿½è·¡**ã—ã€é•·æœŸçš„ãªå“è³ªç®¡ç†ãŒå¯èƒ½ã€‚\n\n## ã“ã®åˆ¤æ–­ã‹ã‚‰å­¦ã¹ã‚‹ã“ã¨\n\n### å­¦ã³1ï¼šè¤‡é›‘ãªå¯¾è±¡ã¯å¤šæ¬¡å…ƒã§è©•ä¾¡ã™ã¹ã\n\nå°èª¬ã®ã‚ˆã†ãªè¤‡é›‘ãªå¯¾è±¡ã‚’å˜ä¸€æŒ‡æ¨™ã§è©•ä¾¡ã™ã‚‹ã®ã¯ä¸ååˆ†ã€‚ç‹¬ç«‹ã—ãŸè¤‡æ•°ã®è»¸ã§è©•ä¾¡ã™ã‚‹ã“ã¨ã§ã€å…¨ä½“åƒã‚’æ­£ç¢ºã«æŠŠæ¡ã§ãã‚‹ã€‚\n\n### å­¦ã³2ï¼šé‡ã¿ä»˜ã‘ã§å„ªå…ˆé †ä½ã‚’æ˜ç¤º\n\nã™ã¹ã¦ãŒç­‰ã—ãé‡è¦ã§ã¯ãªã„ã€‚é‡ã¿ä»˜ã‘ã«ã‚ˆã‚Šã€ä½•ãŒæœ€ã‚‚é‡è¦ã‹ã‚’æ˜ç¤ºçš„ã«è¨­å®šã§ãã‚‹ã€‚\n\n### å­¦ã³3ï¼šå®šé‡è©•ä¾¡ãŒæ”¹å–„ã‚’åŠ é€Ÿ\n\nå®šæ€§çš„è©•ä¾¡ï¼ˆã€Œè‰¯ã„ã€ã€Œæ‚ªã„ã€ï¼‰ã§ã¯æ”¹å–„å›°é›£ã€‚å®šé‡ã‚¹ã‚³ã‚¢ï¼ˆ0-10ç‚¹ï¼‰ã«ã‚ˆã‚Šã€æ”¹å–„ã®åŠ¹æœæ¸¬å®šã¨æ¯”è¼ƒãŒå¯èƒ½ã«ãªã‚‹ã€‚\n\n### å­¦ã³4ï¼šã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºå¯èƒ½æ€§ãŒé•·æœŸçš„ä¾¡å€¤\n\nå›ºå®šçš„ãªè©•ä¾¡åŸºæº–ã‚ˆã‚Šã€é‡ã¿ä»˜ã‘ã‚’èª¿æ•´ã§ãã‚‹æŸ”è»Ÿãªè¨­è¨ˆã®æ–¹ãŒã€æ§˜ã€…ãªçŠ¶æ³ã«å¯¾å¿œã§ãé•·æœŸçš„ã«ä¾¡å€¤ãŒé«˜ã„ã€‚\n\n## é©ç”¨å ´é¢\n\nã“ã®åˆ¤æ–­åŸºæº–ã‚’ä½¿ã†ã¹ãå ´é¢ï¼š\n- **å¤šé¢çš„ãªå“è³ªã‚’æŒã¤æˆæœç‰©ã®è©•ä¾¡**ï¼ˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã€ãƒ‡ã‚¶ã‚¤ãƒ³ã€ã‚³ãƒ¼ãƒ‰ç­‰ï¼‰\n- **ç¶™ç¶šçš„å“è³ªæ”¹å–„ãŒå¿…è¦ãªãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ**\n- **è¤‡æ•°ã®è©•ä¾¡è»¸ã‚’çµ±åˆã—ãŸã„å ´åˆ**\n- **ãƒˆãƒ¬ãƒ³ãƒ‰åˆ†æã‚„é•·æœŸçš„å“è³ªç®¡ç†ãŒå¿…è¦ãªå ´åˆ**\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `skill_multi_dimensional_quality_evaluation_2025_11_25.md`ï¼šã“ã®è©•ä¾¡ã‚·ã‚¹ãƒ†ãƒ ã®å®Ÿè£…è©³ç´°\n- `decision_ai_analysis_architecture_2025_11_25.md`ï¼šAIãƒ™ãƒ¼ã‚¹åˆ†æã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã®é¸æŠ\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€Œå“è³ªè©•ä¾¡æŒ‡æ¨™ã®é¸æŠã¨é‡ã¿ä»˜ã‘ã®åˆ¤æ–­ã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "skill-multi-dimensional-quality-evaluation"
    ]
  },
  {
    "slug": "six-stage-learning-model-selection",
    "title": "6æ®µéšå­¦ç¿’ãƒ¢ãƒ‡ãƒ«ã®é¸æŠã¨å¤‰å®¹è§¦åª’ã®è¨­è¨ˆåˆ¤æ–­",
    "category": "Decisionsï¼ˆæŠ€è¡“é¸å®šãƒ»åˆ¤æ–­ï¼‰",
    "description": "6æ®µéšå­¦ç¿’ãƒ¢ãƒ‡ãƒ«ã®é¸æŠã¨å¤‰å®¹è§¦åª’ã®è¨­è¨ˆåˆ¤æ–­",
    "project": "novel-automation-system-v2",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"decision_six_stage_learning_model_selection_2025_11_25\",\n  \"type\": \"decision\",\n  \"name\": \"6æ®µéšå­¦ç¿’ãƒ¢ãƒ‡ãƒ«ã®é¸æŠã¨å¤‰å®¹è§¦åª’ã®è¨­è¨ˆåˆ¤æ–­\",\n  \"decision_type\": \"design\",\n  \"tags\": [\"å­¦ç¿’ãƒ¢ãƒ‡ãƒ«\", \"æ•™è‚²è¨­è¨ˆ\", \"èªçŸ¥ç§‘å­¦\", \"æ®µéšè¨­è¨ˆ\"],\n  \"source_project\": \"novel-automation-system-v2\",\n  \"chosen\": \"6æ®µéšå­¦ç¿’ãƒ¢ãƒ‡ãƒ«ï¼ˆèª¤è§£â†’æ¢ç´¢â†’è‘›è—¤â†’æ°—ã¥ãâ†’å¿œç”¨â†’çµ±åˆï¼‰+ å¤‰å®¹è§¦åª’è¨­è¨ˆ\",\n  \"alternatives\": [\"3æ®µéšãƒ¢ãƒ‡ãƒ«ï¼ˆå°å…¥â†’å±•é–‹â†’çµè«–ï¼‰\", \"ç›´ç·šçš„èª¬æ˜\", \"è‡ªç”±å½¢å¼\"],\n  \"related_knowledge\": [\"skill_six_stage_learning_journey_design_2025_11_25\"],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# 6æ®µéšå­¦ç¿’ãƒ¢ãƒ‡ãƒ«ã®é¸æŠã¨å¤‰å®¹è§¦åª’ã®è¨­è¨ˆåˆ¤æ–­\n\n## ä½•ã‚’åˆ¤æ–­ã—ãŸã‹\n\nãƒ“ã‚¸ãƒã‚¹æ¦‚å¿µã‚’ç‰©èªã§å­¦ã¶éš›ã®å­¦ç¿’ãƒ—ãƒ­ã‚»ã‚¹ã‚’ã€6ã¤ã®æ®µéšï¼ˆèª¤è§£â†’æ¢ç´¢â†’è‘›è—¤â†’æ°—ã¥ãâ†’å¿œç”¨â†’çµ±åˆï¼‰ã§æ§‹é€ åŒ–ã—ã€å„æ®µéšé–“ã®é·ç§»ã‚’ä¿ƒã™ã€Œå¤‰å®¹è§¦åª’ã€ã‚’è¨­è¨ˆã™ã‚‹ãƒ¢ãƒ‡ãƒ«ã‚’æ¡ç”¨ã—ãŸã€‚\n\n## é¸ã‚“ã ã‚‚ã®\n\n**6æ®µéšå­¦ç¿’ãƒ¢ãƒ‡ãƒ«**ï¼š\n1. MISCONCEPTIONï¼ˆèª¤è§£æ®µéšï¼‰ï¼šå¾“æ¥ã®æ€è€ƒãƒ‘ã‚¿ãƒ¼ãƒ³ã€ã¾ã æ­£ã—ã„ç†è§£ã«æ°—ã¥ã„ã¦ã„ãªã„\n2. EXPLORATIONï¼ˆæ¢ç´¢æ®µéšï¼‰ï¼šæ–°ã—ã„è¦–ç‚¹ã«å‡ºä¼šã„ã€æ¢ç´¢ã‚’é–‹å§‹\n3. CONFLICTï¼ˆè‘›è—¤æ®µéšï¼‰ï¼šæ—§æ¥ã®è€ƒãˆã¨æ–°ã—ã„è€ƒãˆã®é–“ã§è‘›è—¤\n4. INSIGHTï¼ˆæ°—ã¥ãæ®µéšï¼‰ï¼šé‡è¦ãªæ°—ã¥ãã‚’å¾—ã‚‹æ±ºå®šçš„ç¬é–“\n5. APPLICATIONï¼ˆå¿œç”¨æ®µéšï¼‰ï¼šæ–°ã—ã„ç†è§£ã‚’å®Ÿè·µã§è©¦ã™\n6. INTEGRATIONï¼ˆçµ±åˆæ®µéšï¼‰ï¼šå®Œå…¨ã«è‡ªåˆ†ã®ã‚‚ã®ã¨ã—ã¦å†…é¢åŒ–\n\n**å¤‰å®¹è§¦åª’ã®è¨­è¨ˆ**ï¼š\nå„æ®µéšé–“ã®é·ç§»ã‚’ä¿ƒã™å…·ä½“çš„ãªä½“é¨“ã‚„å‡ºæ¥äº‹ã‚’å®šç¾©ã€‚\nä¾‹: MISCONCEPTION â†’ EXPLORATION ã¸ã®è§¦åª’\n- ã€Œé¡§å®¢ã®å£°ã‚’ç›´æ¥èãçµŒé¨“ã€\n- ã€Œè‡ªç¤¾è£½å“ãŒé¡§å®¢ãƒ‹ãƒ¼ã‚ºã«åˆã‚ãªã„å ´é¢ã®ç™ºè¦‹ã€\n- ã€Œé¡§å®¢è¦–ç‚¹æ¬ å¦‚ã«ã‚ˆã‚‹å¤±æ•—ä½“é¨“ã€\n\n## ä»–ã®å€™è£œ\n\n### å€™è£œ1ï¼š3æ®µéšãƒ¢ãƒ‡ãƒ«ï¼ˆå°å…¥â†’å±•é–‹â†’çµè«–ï¼‰\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**ï¼š\n- **å­¦ç¿’ãƒ—ãƒ­ã‚»ã‚¹ãŒå˜ç´”åŒ–ã•ã‚Œã™ã**: å®Ÿéš›ã®å­¦ç¿’ã¯ç›´ç·šçš„ã§ã¯ãªã„\n- **è‘›è—¤ã¨æ°—ã¥ãã®æ®µéšãŒãªã„**: æ·±ã„å­¦ç¿’ã«ä¸å¯æ¬ ãªè¦ç´ ãŒæ¬ å¦‚\n- **æ®µéšé–“ã®é·ç§»ãŒæ›–æ˜§**: ãªãœæ¬¡ã®æ®µéšã«é€²ã‚€ã®ã‹ä¸æ˜ç¢º\n\n### å€™è£œ2ï¼šç›´ç·šçš„èª¬æ˜ï¼ˆå®šç¾©â†’ä¾‹ç¤ºâ†’ã¾ã¨ã‚ï¼‰\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**ï¼š\n- **èª¬æ•™çš„**: æ•™è¨“ã‚’ä¸€æ–¹çš„ã«ä¼ãˆã‚‹å½¢å¼\n- **å®šç€ã—ãªã„**: ä½“é¨“ã‚’ä¼´ã‚ãªã„çŸ¥è­˜ã¯å¿˜ã‚Œã‚‰ã‚Œã‚„ã™ã„\n- **ç‰©èªã¨åˆ†é›¢**: å­¦ç¿’è¦ç´ ãŒç‰©èªã‹ã‚‰æµ®ã„ã¦ã—ã¾ã†\n- **èª­è€…ã®èˆˆå‘³ã‚’å¼•ã‘ãªã„**: é€€å±ˆã«ãªã‚ŠãŒã¡\n\n### å€™è£œ3ï¼šè‡ªç”±å½¢å¼ï¼ˆæ®µéšã‚’è¨­ã‘ãªã„ï¼‰\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**ï¼š\n- **å­¦ç¿’åŠ¹æœãŒä¸ç¢ºå®Ÿ**: å¶ç„¶ã«ä¾å­˜ã—å†ç¾æ€§ãŒãªã„\n- **å“è³ªç®¡ç†ãŒå›°é›£**: æ„å›³ã—ãŸå­¦ç¿’ãŒèµ·ãã¦ã„ã‚‹ã‹æ¤œè¨¼ä¸å¯èƒ½\n- **è¨­è¨ˆã‚¬ã‚¤ãƒ‰ãŒãªã„**: å„ç« ã§ä½•ã‚’é”æˆã™ã¹ãã‹ä¸æ˜ç¢º\n\n## åˆ¤æ–­ç†ç”±\n\n### ç†ç”±1ï¼šèªçŸ¥ç§‘å­¦ã®å­¦ç¿’ç†è«–ã«åŸºã¥ã\n\näººã¯ä»¥ä¸‹ã®ãƒ—ãƒ­ã‚»ã‚¹ã§æ¦‚å¿µã‚’å­¦ã¶ï¼ˆKolbã®çµŒé¨“å­¦ç¿’ã‚µã‚¤ã‚¯ãƒ«ç­‰ï¼‰ï¼š\n1. **æ—¢å­˜ã®èª¤è§£**ã‹ã‚‰å‡ºç™ºï¼ˆMISCONCEPTIONï¼‰\n2. **æ–°ã—ã„æƒ…å ±**ã«è§¦ã‚Œã‚‹ï¼ˆEXPLORATIONï¼‰\n3. **èªçŸ¥çš„ä¸å”å’Œ**ã‚’çµŒé¨“ï¼ˆCONFLICTï¼‰\n4. **æ´å¯Ÿ**ã‚’å¾—ã‚‹ï¼ˆINSIGHTï¼‰\n5. **å®Ÿè·µ**ã§ç¢ºèªï¼ˆAPPLICATIONï¼‰\n6. **å†…é¢åŒ–**ã™ã‚‹ï¼ˆINTEGRATIONï¼‰\n\nã“ã®è‡ªç„¶ãªå­¦ç¿’ãƒ—ãƒ­ã‚»ã‚¹ã‚’ç‰©èªã«çµ„ã¿è¾¼ã‚€ã“ã¨ã§ã€**èª­è€…ãŒç„¡ç†ãªãå­¦ã¹ã‚‹**ã€‚\n\n### ç†ç”±2ï¼šè‘›è—¤ã¨æ°—ã¥ããŒæ·±ã„å­¦ç¿’ã‚’ç”Ÿã‚€\n\n**CONFLICTæ®µéšã®é‡è¦æ€§**ï¼š\n- å˜ãªã‚‹æƒ…å ±æä¾›ã§ã¯è¡¨å±¤çš„ãªç†è§£ã«ç•™ã¾ã‚‹\n- ä¾¡å€¤è¦³ã®å¯¾ç«‹ã‚„é¸æŠã®è‘›è—¤ã‚’çµŒé¨“ã™ã‚‹ã“ã¨ã§ã€**ãªãœãã®æ¦‚å¿µãŒé‡è¦ã‹**ã‚’ä½“æ„Ÿ\n- è‘›è—¤ãŒãªã„ã¨ã€æ¦‚å¿µã¯ã€ŒçŸ¥è­˜ã€ã®ã¾ã¾ã€Œå®Ÿè·µã€ã«è‡³ã‚‰ãªã„\n\n**INSIGHTæ®µéšã®é‡è¦æ€§**ï¼š\n- ã„ããªã‚Šæ­£è§£ã‚’æ•™ãˆã¦ã‚‚å®šç€ã—ãªã„\n- è‡ªåˆ†ã§æ°—ã¥ãç¬é–“ï¼ˆã‚¢ãƒä½“é¨“ï¼‰ãŒ**å¼·ã„è¨˜æ†¶**ã‚’ä½œã‚‹\n- ã‚«ã‚¿ãƒ«ã‚·ã‚¹ã¨çµã³ã¤ã‘ã‚‹ã“ã¨ã§æ„Ÿæƒ…çš„ã«ã‚‚è¨˜æ†¶ã«æ®‹ã‚‹\n\n### ç†ç”±3ï¼šå¤‰å®¹è§¦åª’ã§æ®µéšé·ç§»ãŒè‡ªç„¶ã«\n\nå„æ®µéšã‹ã‚‰æ¬¡ã®æ®µéšã¸ã®é·ç§»ã«ã¯ã€Œãã£ã‹ã‘ã€ãŒå¿…è¦ã€‚\n\n**ä¾‹ï¼šEXPLORATION â†’ CONFLICT ã¸ã®è§¦åª’**ï¼š\n- ã€Œé¡§å®¢ã®è¨€è‘‰ã¨çœŸã®ãƒ‹ãƒ¼ã‚ºã®ä¹–é›¢ç™ºè¦‹ã€\n- ã€Œè¡¨é¢çš„è¦æœ›ã«å¿œãˆã¦ã‚‚æº€è¶³ã•ã‚Œãªã„çµŒé¨“ã€\n\nã“ã‚Œã‚‰ã®è§¦åª’ã¨ãªã‚‹ä½“é¨“ã‚’ç‰©èªã«çµ„ã¿è¾¼ã‚€ã“ã¨ã§ï¼š\n- **è‡ªç„¶ãªå±•é–‹**ï¼šå¼·å¼•ãªèª¬æ˜ãªã—ã§æ®µéšãŒé€²ã‚€\n- **èª¬å¾—åŠ›**ï¼šèª­è€…ãŒç´å¾—ã§ãã‚‹é·ç§»\n- **å†ç¾å¯èƒ½**ï¼šä»–ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã‚‚åŒã˜ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ä½¿ãˆã‚‹\n\n### ç†ç”±4ï¼šãƒ—ãƒ­ãƒƒãƒˆçµ±åˆãŒå®¹æ˜“\n\n6æ®µéšãƒ¢ãƒ‡ãƒ«ã¯ç‰©èªæ§‹é€ ã¨ç›¸æ€§ãŒè‰¯ã„ï¼š\n\n| å­¦ç¿’æ®µéš | ç‰©èªæ§‹é€  |\n|---------|---------|\n| MISCONCEPTION | åºç›¤ï¼šæ—¥å¸¸ãƒ»ç¾çŠ¶ |\n| EXPLORATION | åºç›¤ã€œä¸­ç›¤ï¼šäº‹ä»¶ç™ºç”Ÿãƒ»æ¢ç´¢ |\n| CONFLICT | ä¸­ç›¤ï¼šå¯¾ç«‹ãƒ»é¸æŠ |\n| INSIGHT | ã‚¯ãƒ©ã‚¤ãƒãƒƒã‚¯ã‚¹ï¼šæ°—ã¥ããƒ»è»¢æ›ç‚¹ |\n| APPLICATION | çµ‚ç›¤ï¼šå®Ÿè·µãƒ»è©¦è¡ŒéŒ¯èª¤ |\n| INTEGRATION | çµæœ«ï¼šçµ±åˆãƒ»æ–°ãŸãªæ—¥å¸¸ |\n\nå­¦ç¿’æ®µéšã¨ç‰©èªã®å±•é–‹ãŒ**è‡ªç„¶ã«ä¸€è‡´**ã™ã‚‹ã€‚\n\n### ç†ç”±5ï¼šãƒ“ã‚¸ãƒã‚¹ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯æ•™è‚²ã«æœ€é©\n\næŠ½è±¡çš„ãªãƒ“ã‚¸ãƒã‚¹æ¦‚å¿µï¼ˆISSUE DRIVENã€ã‚«ã‚¹ã‚¿ãƒãƒ¼ã‚µã‚¯ã‚»ã‚¹ç­‰ï¼‰ã‚’æ•™ãˆã‚‹ã«ã¯ï¼š\n- **èª¤è§£**ï¼šå¾“æ¥ã®é–“é•ã£ãŸã‚„ã‚Šæ–¹ã‚’ç¤ºã™\n- **æ¢ç´¢**ï¼šæ–°ã—ã„ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã¨ã®å‡ºä¼šã„\n- **è‘›è—¤**ï¼šã©ã¡ã‚‰ãŒæ­£ã—ã„ã‹æ‚©ã‚€\n- **æ°—ã¥ã**ï¼šæœ¬è³ªã‚’ç†è§£ã™ã‚‹\n- **å¿œç”¨**ï¼šå®Ÿéš›ã®ãƒ“ã‚¸ãƒã‚¹ã‚·ãƒ¼ãƒ³ã§ä½¿ã†\n- **çµ±åˆ**ï¼šè‡ªç„¶ã«å®Ÿè·µã§ãã‚‹ã‚ˆã†ã«ãªã‚‹\n\næ®µéšçš„å­¦ç¿’ã«ã‚ˆã‚Šã€**æ·±ã„ç†è§£ã¨å®Ÿè·µåŠ›**ãŒèº«ã«ã¤ãã€‚\n\n### ç†ç”±6ï¼šãƒ‡ãƒ¼ã‚¿è“„ç©ã¨ãƒˆãƒ¬ãƒ³ãƒ‰åˆ†æ\n\nå„ç« ãŒã©ã®å­¦ç¿’æ®µéšã«ã‚ã‚‹ã‹ã‚’è¨˜éŒ²ã™ã‚‹ã“ã¨ã§ï¼š\n- å…¨ä½“ã®å­¦ç¿’é€²æ—ã‚’å¯è¦–åŒ–\n- ç‰¹å®šã®æ®µéšã«æ™‚é–“ã‚’ã‹ã‘ã™ãã¦ã„ãªã„ã‹ç¢ºèª\n- æ®µéšé–“ã®ãƒãƒ©ãƒ³ã‚¹èª¿æ•´ãŒå¯èƒ½\n\n**å“è³ªç®¡ç†ã¨ãƒˆãƒ¬ãƒ³ãƒ‰åˆ†æ**ãŒå®¹æ˜“ã€‚\n\n## ã“ã®åˆ¤æ–­ã‹ã‚‰å­¦ã¹ã‚‹ã“ã¨\n\n### å­¦ã³1ï¼šå­¦ç¿’ã¯ç›´ç·šçš„ã§ã¯ãªã„\n\nã€Œæ•™ãˆã‚‹ â†’ ç†è§£ã™ã‚‹ã€ã¨ã„ã†å˜ç´”ãªãƒ¢ãƒ‡ãƒ«ã§ã¯ãªãã€æ¢ç´¢ãƒ»è‘›è—¤ãƒ»æ°—ã¥ãã‚’çµŒã‚‹è¤‡é›‘ãªãƒ—ãƒ­ã‚»ã‚¹ã‚’è¨­è¨ˆã™ã¹ãã€‚\n\n### å­¦ã³2ï¼šä½“é¨“ãŒç†è§£ã‚’æ·±ã‚ã‚‹\n\nèª¬æ˜ã ã‘ã§ã¯ä¸ååˆ†ã€‚è‘›è—¤ã‚„æ°—ã¥ãã‚’**ä½“é¨“**ã•ã›ã‚‹ã“ã¨ãŒæ·±ã„å­¦ç¿’ã«ã¤ãªãŒã‚‹ã€‚\n\n### å­¦ã³3ï¼šé·ç§»ã®ãã£ã‹ã‘ã‚’è¨­è¨ˆã™ã‚‹\n\næ®µéšã‚’å®šç¾©ã™ã‚‹ã ã‘ã§ãªãã€**æ®µéšé–“ã®é·ç§»ã‚’ä¿ƒã™è§¦åª’**ã‚’è¨­è¨ˆã™ã‚‹ã“ã¨ãŒé‡è¦ã€‚\n\n### å­¦ã³4ï¼šç‰©èªã¨å­¦ç¿’ã¯çµ±åˆã§ãã‚‹\n\nå­¦ç¿’æ®µéšã¨ç‰©èªæ§‹é€ ã¯çŸ›ç›¾ã—ãªã„ã€‚ã‚€ã—ã‚**ç›¸äº’ã«å¼·åŒ–ã—åˆã†**é–¢ä¿‚ã‚’ç¯‰ã‘ã‚‹ã€‚\n\n## é©ç”¨å ´é¢\n\nã“ã®åˆ¤æ–­åŸºæº–ã‚’ä½¿ã†ã¹ãå ´é¢ï¼š\n- **æ•™è‚²çš„ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®è¨­è¨ˆ**ï¼ˆãƒ“ã‚¸ãƒã‚¹å°èª¬ã€æ•™æã€eãƒ©ãƒ¼ãƒ‹ãƒ³ã‚°ç­‰ï¼‰\n- **è¤‡é›‘ãªæ¦‚å¿µã‚’ä¼ãˆã‚‹å¿…è¦ãŒã‚ã‚‹å ´åˆ**\n- **å˜ãªã‚‹çŸ¥è­˜ã§ãªãå®Ÿè·µåŠ›ã‚’èº«ã«ã¤ã‘ã•ã›ãŸã„å ´åˆ**\n- **ç‰©èªå½¢å¼ã§å­¦ç¿’ã‚’ä¿ƒé€²ã—ãŸã„å ´åˆ**\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `skill_six_stage_learning_journey_design_2025_11_25.md`ï¼š6æ®µéšãƒ¢ãƒ‡ãƒ«ã®å®Ÿè£…è©³ç´°\n- `skill_emotional_arc_integration_2025_11_25.md`ï¼šæ„Ÿæƒ…ã‚¢ãƒ¼ã‚¯ã¨ã®çµ±åˆ\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€Œ6æ®µéšå­¦ç¿’ãƒ¢ãƒ‡ãƒ«ã®é¸æŠã¨å¤‰å®¹è§¦åª’ã®è¨­è¨ˆåˆ¤æ–­ã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "skill-six-stage-learning-journey-design"
    ]
  },
  {
    "slug": "state-zustand-vs-redux",
    "title": "Zustand vs Redux/Context APIã®é¸æŠ",
    "category": "Decisionsï¼ˆæŠ€è¡“é¸å®šãƒ»åˆ¤æ–­ï¼‰",
    "description": "Zustand vs Redux/Context APIã®é¸æŠ",
    "project": "ai-document-generator",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"decision_state_zustand_vs_redux_2025_04_11\",\n  \"type\": \"decision\",\n  \"name\": \"Zustand vs Redux/Context APIã®é¸æŠ\",\n  \"decision_type\": \"tech_selection\",\n  \"tags\": [\"çŠ¶æ…‹ç®¡ç†\", \"Zustand\", \"Redux\", \"Context API\", \"React\", \"ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹\"],\n  \"source_project\": \"ai-document-generator\",\n  \"chosen\": \"Zustand\",\n  \"alternatives\": [\"Redux Toolkit\", \"Context API + useReducer\", \"Jotai\"],\n  \"related_knowledge\": [\"skill_zustand_multi_store_architecture_2025_04_11\"],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-04-11\",\n  \"updated\": \"2025-04-11\"\n}\n```\n\n# Zustand vs Redux/Context APIã®é¸æŠ\n\n## ä½•ã‚’åˆ¤æ–­ã—ãŸã‹\n\nè¤‡é›‘ãªãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”Ÿæˆã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®çŠ¶æ…‹ç®¡ç†ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¨ã—ã¦ã€Zustandã€Redux Toolkitã€Context APIã€Jotaiã®ã©ã‚Œã‚’é¸æŠã™ã‚‹ã‹ã€‚\n\n## é¸ã‚“ã ã‚‚ã®\n\n**Zustand 5.0.3**\n\n```json\n{\n  \"dependencies\": {\n    \"zustand\": \"^5.0.3\"\n  }\n}\n```\n\n## ä»–ã®å€™è£œ\n\n### å€™è£œ1ï¼šRedux Toolkit\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**ï¼š\n\n1. **ãƒœã‚¤ãƒ©ãƒ¼ãƒ—ãƒ¬ãƒ¼ãƒˆãŒå¤šã„**\n   - `createSlice`ã€`configureStore`ã€`Provider`ã®è¨­å®šãŒå¿…è¦\n   - Zustandã«æ¯”ã¹ã¦è¨˜è¿°é‡ãŒå¤šã„\n\n   ```typescript\n   // Redux Toolkit\n   const templateSlice = createSlice({\n     name: 'template',\n     initialState,\n     reducers: {\n       selectDocumentType: (state, action) => {\n         state.selectedDocumentType = action.payload;\n       },\n     },\n   });\n\n   // Zustandï¼ˆåŒã˜æ©Ÿèƒ½ï¼‰\n   const useTemplateStore = create((set) => ({\n     selectedDocumentType: null,\n     selectDocumentType: (documentType) => set({ selectedDocumentType: documentType }),\n   }));\n   ```\n\n2. **TypeScriptã®å‹æ¨è«–ãŒå¼±ã„**\n   - `useSelector`ã®å‹æ¨è«–ãŒå¼±ã„\n   - æ‰‹å‹•ã§å‹ã‚’æŒ‡å®šã™ã‚‹å¿…è¦ãŒå¤šã„\n\n   ```typescript\n   // Redux Toolkit\n   const selectedDocumentType = useSelector((state: RootState) => state.template.selectedDocumentType);\n\n   // Zustandï¼ˆå‹æ¨è«–ãŒè‡ªå‹•ï¼‰\n   const selectedDocumentType = useTemplateStore((state) => state.selectedDocumentType);\n   ```\n\n3. **å­¦ç¿’ã‚³ã‚¹ãƒˆãŒé«˜ã„**\n   - Reduxã€Reducerã€Actionã€Dispatchãªã©ã®æ¦‚å¿µã®ç†è§£ãŒå¿…è¦\n   - Middlewareã€Thunkãªã©ã€é«˜åº¦ãªæ©Ÿèƒ½ã®å­¦ç¿’ã‚³ã‚¹ãƒˆ\n\n4. **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚ªãƒ¼ãƒãƒ¼ãƒ˜ãƒƒãƒ‰**\n   - Providerãƒ„ãƒªãƒ¼ãŒæ·±ããªã‚‹ã¨ã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã«å½±éŸ¿\n   - Zustandã¯ç›´æ¥çš„ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ãŸã‚ã€ã‚ªãƒ¼ãƒãƒ¼ãƒ˜ãƒƒãƒ‰ãŒå°‘ãªã„\n\n**ãƒ¡ãƒªãƒƒãƒˆ**:\n- ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ãŒæˆç†Ÿï¼ˆRedux DevToolsã€Middlewareãªã©ï¼‰\n- å¤§è¦æ¨¡ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã®å®Ÿç¸¾ãŒè±Šå¯Œ\n- å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒå……å®Ÿ\n\n**ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ**ï¼ˆã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ã¨ã£ã¦ï¼‰:\n- ãƒœã‚¤ãƒ©ãƒ¼ãƒ—ãƒ¬ãƒ¼ãƒˆãŒå¤šã„ â†’ é–‹ç™ºé€Ÿåº¦ä½ä¸‹\n- å­¦ç¿’ã‚³ã‚¹ãƒˆãŒé«˜ã„\n- ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®è¦æ¨¡ã«ã¯ã‚ªãƒ¼ãƒãƒ¼ã‚­ãƒ«\n\n### å€™è£œ2ï¼šContext API + useReducer\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**ï¼š\n\n1. **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å•é¡Œ**\n   - Contextã®å€¤ãŒå¤‰æ›´ã•ã‚Œã‚‹ã¨ã€ã™ã¹ã¦ã®ã‚³ãƒ³ã‚·ãƒ¥ãƒ¼ãƒãƒ¼ãŒå†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°\n   - ç´°ã‹ã„çŠ¶æ…‹æ›´æ–°ãŒå¤šã„ã“ã®ã‚¢ãƒ—ãƒªã§ã¯è‡´å‘½çš„\n\n   ```tsx\n   // Context API\n   const AppContext = createContext();\n\n   // å•é¡Œï¼šdocumentNameãŒå¤‰æ›´ã•ã‚Œã‚‹ã¨ã€\n   // ã“ã®Contextã‚’ä½¿ã†ã™ã¹ã¦ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒå†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°\n   <AppContext.Provider value={{ documentName, pages, sections, ... }}>\n     <App />\n   </AppContext.Provider>\n   ```\n\n2. **çŠ¶æ…‹ã®åˆ†å‰²ãŒé›£ã—ã„**\n   - è¤‡æ•°ã®Contextã‚’ä½œæˆã™ã‚‹ã¨ã€ProviderãŒæ·±ããƒã‚¹ãƒˆã™ã‚‹ï¼ˆProvideråœ°ç„ï¼‰\n\n   ```tsx\n   <TemplateContext.Provider>\n     <DocumentContext.Provider>\n       <SectionContext.Provider>\n         <AIContext.Provider>\n           <App />\n         </AIContext.Provider>\n       </SectionContext.Provider>\n     </DocumentContext.Provider>\n   </TemplateContext.Provider>\n   ```\n\n3. **DevTools ãŒãªã„**\n   - çŠ¶æ…‹ã®ãƒ‡ãƒãƒƒã‚°ãŒé›£ã—ã„\n   - Redux DevToolsã®ã‚ˆã†ãªå¼·åŠ›ãªãƒ„ãƒ¼ãƒ«ãŒãªã„\n\n4. **éåŒæœŸå‡¦ç†ãŒç…©é›‘**\n   - `useReducer`ã§éåŒæœŸå‡¦ç†ã‚’æ‰±ã†ã®ã¯ç…©é›‘\n   - Thunkã‚„ã‚µã‚¬ã®ã‚ˆã†ãªãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ãŒãªã„\n\n**ãƒ¡ãƒªãƒƒãƒˆ**:\n- Reactã®æ¨™æº–æ©Ÿèƒ½ï¼ˆå¤–éƒ¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒªä¸è¦ï¼‰\n- ã‚·ãƒ³ãƒ—ãƒ«ãªã‚¢ãƒ—ãƒªã«ã¯ååˆ†\n\n**ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ**ï¼ˆã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ã¨ã£ã¦ï¼‰:\n- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å•é¡Œï¼ˆä¸è¦ãªå†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ï¼‰\n- è¤‡æ•°Context ã®ç®¡ç†ãŒç…©é›‘\n- DevToolsãŒãªã„\n\n### å€™è£œ3ï¼šJotai\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**ï¼š\n\n1. **Atomæ¦‚å¿µã®å­¦ç¿’ã‚³ã‚¹ãƒˆ**\n   - Atomã¨ã„ã†æ–°ã—ã„æ¦‚å¿µã®ç†è§£ãŒå¿…è¦\n   - Zustandã®ã‚·ãƒ³ãƒ—ãƒ«ãªã‚¹ãƒˆã‚¢æ¦‚å¿µã®æ–¹ãŒç›´æ„Ÿçš„\n\n2. **ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ãŒå°ã•ã„**\n   - Zustandã«æ¯”ã¹ã¦æƒ…å ±ãŒå°‘ãªã„\n   - ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãŒé›£ã—ã„å¯èƒ½æ€§\n\n3. **è¤‡é›‘ãªçŠ¶æ…‹ç®¡ç†**\n   - è¤‡æ•°ã®Atomã‚’çµ„ã¿åˆã‚ã›ã‚‹å¿…è¦ãŒã‚ã‚‹\n   - Zustandã®ã‚ˆã†ãªå¤§ããªã‚¹ãƒˆã‚¢ã®æ–¹ãŒç®¡ç†ã—ã‚„ã™ã„ï¼ˆã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®å ´åˆï¼‰\n\n4. **TypeScriptã®å‹å®šç¾©**\n   - Zustandã»ã©ã‚·ãƒ³ãƒ—ãƒ«ã§ã¯ãªã„\n   - å‹æ¨è«–ãŒè¤‡é›‘\n\n**ãƒ¡ãƒªãƒƒãƒˆ**:\n- ç´°ã‹ã„çŠ¶æ…‹ç®¡ç†ã«é©ã—ã¦ã„ã‚‹\n- Reactã® Concurrent Modeå¯¾å¿œ\n- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãŒè‰¯ã„\n\n**ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ**ï¼ˆã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ã¨ã£ã¦ï¼‰:\n- å­¦ç¿’ã‚³ã‚¹ãƒˆãŒé«˜ã„\n- ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ãŒå°ã•ã„\n- è¤‡é›‘ãªã‚¹ãƒˆã‚¢ç®¡ç†ã«ã¯å‘ã„ã¦ã„ãªã„\n\n## åˆ¤æ–­ç†ç”±\n\n### ç†ç”±1ï¼šã‚·ãƒ³ãƒ—ãƒ«ã§ç›´æ„Ÿçš„ãªAPI\n\nZustandã®ã‚¹ãƒˆã‚¢å®šç¾©ã¯éå¸¸ã«ã‚·ãƒ³ãƒ—ãƒ«ï¼š\n\n```typescript\n// Zustandã®ã‚¹ãƒˆã‚¢å®šç¾©\nimport { create } from 'zustand';\n\ninterface TemplateStore {\n  selectedDocumentType: DocumentTypeDefinition | null;\n  selectDocumentType: (documentType: DocumentTypeDefinition) => void;\n}\n\nconst useTemplateStore = create<TemplateStore>((set) => ({\n  selectedDocumentType: null,\n  selectDocumentType: (documentType) => set({ selectedDocumentType: documentType }),\n}));\n\nexport default useTemplateStore;\n```\n\n**æ¯”è¼ƒï¼šRedux Toolkit**\n\n```typescript\n// Redux Toolkitï¼ˆåŒã˜æ©Ÿèƒ½ï¼‰\nimport { createSlice, configureStore } from '@reduxjs/toolkit';\n\nconst templateSlice = createSlice({\n  name: 'template',\n  initialState: { selectedDocumentType: null },\n  reducers: {\n    selectDocumentType: (state, action) => {\n      state.selectedDocumentType = action.payload;\n    },\n  },\n});\n\nconst store = configureStore({\n  reducer: {\n    template: templateSlice.reducer,\n  },\n});\n\n// ProviderãŒå¿…è¦\n<Provider store={store}>\n  <App />\n</Provider>\n```\n\nâ†’ **Zustandã®æ–¹ãŒåœ§å€’çš„ã«ã‚·ãƒ³ãƒ—ãƒ«**\n\n### ç†ç”±2ï¼šå„ªã‚ŒãŸTypeScriptå‹æ¨è«–\n\nZustandã¯å‹æ¨è«–ãŒè‡ªå‹•ï¼š\n\n```typescript\nconst useTemplateStore = create<TemplateStore>((set, get) => ({\n  selectedDocumentType: null,\n\n  selectDocumentType: (documentType) => {\n    set({ selectedDocumentType: documentType });\n  },\n\n  // ã‚²ãƒƒã‚¿ãƒ¼ï¼ˆå‹ãŒè‡ªå‹•æ¨è«–ã•ã‚Œã‚‹ï¼‰\n  getCompatibleLayouts: () => {\n    const { selectedDocumentType } = get();\n    // selectedDocumentTypeã®å‹ãŒè‡ªå‹•æ¨è«–ã•ã‚Œã‚‹\n  },\n}));\n\n// ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ä½¿ç”¨ï¼ˆå‹ãŒè‡ªå‹•æ¨è«–ã•ã‚Œã‚‹ï¼‰\nconst selectedDocumentType = useTemplateStore((state) => state.selectedDocumentType);\n```\n\n### ç†ç”±3ï¼šãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–ãŒå®¹æ˜“\n\nZustandã¯ã‚»ãƒ¬ã‚¯ã‚¿ã«ã‚ˆã‚Šã€å¿…è¦ãªçŠ¶æ…‹ã®ã¿ã‚’ã‚µãƒ–ã‚¹ã‚¯ãƒ©ã‚¤ãƒ–ï¼š\n\n```typescript\n// âœ… è‰¯ã„ä¾‹ï¼šdocumentNameã®ã¿ã‚’ã‚µãƒ–ã‚¹ã‚¯ãƒ©ã‚¤ãƒ–\nconst documentName = useDocumentStore((state) => state.documentName);\n\n// documentNameãŒå¤‰æ›´ã•ã‚ŒãŸã¨ãã®ã¿å†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°\n// pagesã€sectionsãŒå¤‰æ›´ã•ã‚Œã¦ã‚‚å†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã•ã‚Œãªã„\n```\n\n**æ¯”è¼ƒï¼šContext API**\n\n```typescript\n// âŒ Context APIï¼šã™ã¹ã¦ã®çŠ¶æ…‹å¤‰æ›´ã§å†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°\nconst { documentName, pages, sections } = useContext(DocumentContext);\n\n// documentNameã€pagesã€sectionsã®ã„ãšã‚Œã‹ãŒå¤‰æ›´ã•ã‚Œã‚‹ã¨å†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°\n```\n\n### ç†ç”±4ï¼šè¤‡æ•°ã‚¹ãƒˆã‚¢ã®ç®¡ç†ãŒå®¹æ˜“\n\nZustandã¯è¤‡æ•°ã®ã‚¹ãƒˆã‚¢ã‚’ç°¡å˜ã«ä½œæˆãƒ»ç®¡ç†ï¼š\n\n```typescript\n// src/store/templateStore.ts\nconst useTemplateStore = create<TemplateStore>((set) => ({ /* ... */ }));\n\n// src/store/documentStore.ts\nconst useDocumentStore = create<DocumentStore>((set) => ({ /* ... */ }));\n\n// src/store/sectionStore.ts\nconst useSectionStore = create<SectionStore>((set) => ({ /* ... */ }));\n\n// ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ä½¿ç”¨ï¼ˆè¤‡æ•°ã‚¹ãƒˆã‚¢ã‚’ç°¡å˜ã«çµ„ã¿åˆã‚ã›ï¼‰\nconst selectedLayout = useTemplateStore((state) => state.getCurrentLayout(0));\nconst currentPage = useDocumentStore((state) => state.getPage(0));\nconst sectionContent = useSectionStore((state) => state.getSectionContent);\n```\n\n**æ¯”è¼ƒï¼šContext API**ï¼ˆProvideråœ°ç„ï¼‰\n\n```tsx\n<TemplateContext.Provider>\n  <DocumentContext.Provider>\n    <SectionContext.Provider>\n      <App />\n    </SectionContext.Provider>\n  </DocumentContext.Provider>\n</TemplateContext.Provider>\n```\n\n### ç†ç”±5ï¼šéåŒæœŸå‡¦ç†ãŒç°¡å˜\n\nZustandã¯éåŒæœŸå‡¦ç†ã‚’ç›´æ¥æ›¸ã‘ã‚‹ï¼š\n\n```typescript\nconst useAIGenerationStore = create<AIGenerationStore>((set, get) => ({\n  isGenerating: false,\n\n  generateForSection: async (sectionId) => {\n    set({ isGenerating: true });\n\n    try {\n      const response = await fetch('/api/ai/generate', { /* ... */ });\n      const { content } = await response.json();\n\n      // ä»–ã®ã‚¹ãƒˆã‚¢ã‚’æ›´æ–°\n      useSectionStore.getState().updateSectionContent(sectionId, content);\n\n      set({ isGenerating: false });\n    } catch (error) {\n      console.error(error);\n      set({ isGenerating: false });\n    }\n  },\n}));\n```\n\n**æ¯”è¼ƒï¼šRedux Toolkit**ï¼ˆThunkãŒå¿…è¦ï¼‰\n\n```typescript\nconst generateForSection = createAsyncThunk(\n  'ai/generateForSection',\n  async (sectionId: string) => {\n    const response = await fetch('/api/ai/generate', { /* ... */ });\n    return response.json();\n  }\n);\n\n// extraReducersã®è¨­å®šãŒå¿…è¦\nextraReducers: (builder) => {\n  builder.addCase(generateForSection.pending, (state) => {\n    state.isGenerating = true;\n  });\n  builder.addCase(generateForSection.fulfilled, (state, action) => {\n    state.isGenerating = false;\n    // ...\n  });\n};\n```\n\nâ†’ **Zustandã®æ–¹ãŒç°¡æ½”**\n\n### ç†ç”±6ï¼šãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ã‚µãƒãƒ¼ãƒˆ\n\nZustandã¯æœ‰ç”¨ãªãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ã‚’æä¾›ï¼š\n\n#### persistï¼ˆæ°¸ç¶šåŒ–ï¼‰\n\n```typescript\nimport { persist } from 'zustand/middleware';\n\nconst useTemplateStore = create<TemplateStore>()(\n  persist(\n    (set) => ({\n      selectedDocumentType: null,\n      // ...\n    }),\n    {\n      name: 'template-store',\n      partialize: (state) => ({\n        // æ°¸ç¶šåŒ–ã™ã‚‹çŠ¶æ…‹ã®ã¿ã‚’æŒ‡å®š\n        selectedDocumentType: state.selectedDocumentType,\n      }),\n    }\n  )\n);\n```\n\n#### devtoolsï¼ˆRedux DevToolsé€£æºï¼‰\n\n```typescript\nimport { devtools } from 'zustand/middleware';\n\nconst useTemplateStore = create<TemplateStore>()(\n  devtools(\n    (set) => ({ /* ... */ }),\n    { name: 'TemplateStore' }\n  )\n);\n```\n\n### ç†ç”±7ï¼šå°ã•ã„ãƒãƒ³ãƒ‰ãƒ«ã‚µã‚¤ã‚º\n\n- **Zustand**: ~1KBï¼ˆgzipï¼‰\n- **Redux Toolkit**: ~10KBï¼ˆgzipï¼‰\n- **Jotai**: ~3KBï¼ˆgzipï¼‰\n\nâ†’ ZustandãŒæœ€ã‚‚è»½é‡\n\n### ç†ç”±8ï¼šå­¦ç¿’ã‚³ã‚¹ãƒˆãŒä½ã„\n\n- Redux: Reducerã€Actionã€Dispatchã€Middlewareã€Thunkãªã©ã€å¤šãã®æ¦‚å¿µ\n- Zustand: ã‚¹ãƒˆã‚¢ã€ã‚»ãƒ¬ã‚¯ã‚¿ã®ã¿\n\nâ†’ ãƒãƒ¼ãƒ ãƒ¡ãƒ³ãƒãƒ¼ãŒå­¦ç¿’ã—ã‚„ã™ã„\n\n## ã“ã®åˆ¤æ–­ã‹ã‚‰å­¦ã¹ã‚‹ã“ã¨\n\n### å­¦ã³1ï¼šã‚·ãƒ³ãƒ—ãƒ«ã•ã®ä¾¡å€¤\n\nè¤‡é›‘ãªçŠ¶æ…‹ç®¡ç†ãƒ©ã‚¤ãƒ–ãƒ©ãƒªï¼ˆReduxï¼‰ã¯ã€å¤§è¦æ¨¡ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ã¯é©ã—ã¦ã„ã‚‹ãŒã€ä¸­è¦æ¨¡ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯ã‚ªãƒ¼ãƒãƒ¼ã‚­ãƒ«ã€‚Zustandã®ã‚ˆã†ãªã‚·ãƒ³ãƒ—ãƒ«ãªãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ååˆ†ã€‚\n\n### å­¦ã³2ï¼šTypeScriptå‹æ¨è«–ã®é‡è¦æ€§\n\nå‹æ¨è«–ãŒå„ªã‚ŒãŸãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¯ã€é–‹ç™ºé€Ÿåº¦ã¨å‹å®‰å…¨æ€§ã‚’ä¸¡ç«‹ã§ãã‚‹ã€‚\n\n### å­¦ã³3ï¼šãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã®è€ƒæ…®\n\nContext APIã¯æ‰‹è»½ã ãŒã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å•é¡ŒãŒã‚ã‚‹ã€‚ã‚»ãƒ¬ã‚¯ã‚¿ãƒ™ãƒ¼ã‚¹ã®çŠ¶æ…‹ç®¡ç†ï¼ˆZustandã€Reduxï¼‰ã¯ã€ä¸è¦ãªå†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã‚’é˜²ãã€‚\n\n### å­¦ã³4ï¼šè¤‡æ•°ã‚¹ãƒˆã‚¢ã®ç®¡ç†\n\nè¤‡é›‘ãªã‚¢ãƒ—ãƒªã§ã¯ã€å˜ä¸€ã®å·¨å¤§ãªã‚¹ãƒˆã‚¢ã‚ˆã‚Šã€è¤‡æ•°ã®å°ã•ãªã‚¹ãƒˆã‚¢ã®æ–¹ãŒç®¡ç†ã—ã‚„ã™ã„ã€‚Zustandã¯è¤‡æ•°ã‚¹ãƒˆã‚¢ã®ç®¡ç†ãŒå®¹æ˜“ã€‚\n\n### å­¦ã³5ï¼šãƒœã‚¤ãƒ©ãƒ¼ãƒ—ãƒ¬ãƒ¼ãƒˆã®å‰Šæ¸›\n\nãƒœã‚¤ãƒ©ãƒ¼ãƒ—ãƒ¬ãƒ¼ãƒˆãŒå°‘ãªã„ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¯ã€é–‹ç™ºé€Ÿåº¦ã‚’å‘ä¸Šã•ã›ã‚‹ã€‚\n\n## é©ç”¨å ´é¢\n\nä»¥ä¸‹ã®æ¡ä»¶ã‚’æº€ãŸã™ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ã¯ã€ZustandãŒæœ€é©ï¼š\n\n- **ä¸­è¦æ¨¡ã€œå¤§è¦æ¨¡ã‚¢ãƒ—ãƒª**: çŠ¶æ…‹ãŒè¤‡é›‘ã ãŒã€Reduxã»ã©ã§ã¯ãªã„\n- **TypeScript**: å‹æ¨è«–ã‚’æ´»ç”¨ã—ãŸã„\n- **React**: Reactãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ\n- **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹é‡è¦–**: ä¸è¦ãªå†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã‚’é˜²ããŸã„\n- **é–‹ç™ºé€Ÿåº¦é‡è¦–**: ãƒœã‚¤ãƒ©ãƒ¼ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’æ¸›ã‚‰ã—ãŸã„\n- **è¤‡æ•°ã‚¹ãƒˆã‚¢**: é–¢å¿ƒã®åˆ†é›¢ã‚’å®Ÿç¾ã—ãŸã„\n\nä»¥ä¸‹ã®å ´åˆã¯ã€ä»–ã®é¸æŠè‚¢ã‚’æ¤œè¨ï¼š\n\n- **éå¸¸ã«å¤§è¦æ¨¡**: Redux Toolkitï¼ˆã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ãŒå……å®Ÿï¼‰\n- **ç´°ã‹ã„çŠ¶æ…‹ç®¡ç†**: Jotaiï¼ˆAtomå˜ä½ã®ç®¡ç†ï¼‰\n- **ã‚·ãƒ³ãƒ—ãƒ«ãªã‚¢ãƒ—ãƒª**: Context APIï¼ˆå¤–éƒ¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒªä¸è¦ï¼‰\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `skill_zustand_multi_store_architecture_2025_04_11.md`: Zustandè¤‡æ•°ã‚¹ãƒˆã‚¢ã®å®Ÿè£…è©³ç´°\n- `decision_arch_multi_store_separation_2025_04_11.md`: è¤‡æ•°ã‚¹ãƒˆã‚¢åˆ†å‰²ã®è¨­è¨ˆåˆ¤æ–­\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€ŒZustand vs Redux/Context APIã®é¸æŠã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "skill-zustand-multi-store-architecture"
    ]
  },
  {
    "slug": "tech-gemini-api-choice",
    "title": "Gemini APIé¸æŠç†ç”±ï¼ˆå°èª¬ç”ŸæˆAIï¼‰",
    "category": "Decisionsï¼ˆæŠ€è¡“é¸å®šãƒ»åˆ¤æ–­ï¼‰",
    "description": "Gemini APIé¸æŠç†ç”±ï¼ˆå°èª¬ç”ŸæˆAIï¼‰",
    "project": "novel-automation-system-v2",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"decision_tech_gemini_api_choice_2025_11_25\",\n  \"type\": \"decision\",\n  \"name\": \"Gemini APIé¸æŠç†ç”±ï¼ˆå°èª¬ç”ŸæˆAIï¼‰\",\n  \"decision_type\": \"tech_selection\",\n  \"tags\": [\"Gemini API\", \"AI\", \"LLM\", \"Google\", \"å°èª¬ç”Ÿæˆ\", \"APIé¸æŠ\", \"ã‚³ã‚¹ãƒˆ\"],\n  \"source_project\": \"novel-automation-system-v2\",\n  \"chosen\": \"Google Gemini API (Gemini 2.0 Flash Lite)\",\n  \"alternatives\": [\"OpenAI GPT-4\", \"Claude API\", \"Cohere\", \"ãƒ­ãƒ¼ã‚«ãƒ«LLM\"],\n  \"related_knowledge\": [\n    \"system_novel_automation_status_2025_11_25\",\n    \"skill_gemini_client_implementation_2025_11_25\",\n    \"skill_prompt_engineering_8systems_2025_11_25\",\n    \"failure_api_cost_issue_openai_2025_04_22\"\n  ],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# Gemini APIé¸æŠç†ç”±ï¼ˆå°èª¬ç”ŸæˆAIï¼‰\n\n## ä½•ã‚’åˆ¤æ–­ã—ãŸã‹\n\nAIå°èª¬è‡ªå‹•ç”Ÿæˆã‚·ã‚¹ãƒ†ãƒ ï¼ˆNovel Automation System v2ï¼‰ã®ã‚³ã‚¢AIã‚¨ãƒ³ã‚¸ãƒ³ã¨ã—ã¦ã€**Google Gemini APIï¼ˆGemini 2.0 Flash Liteï¼‰**ã‚’é¸æŠã—ãŸã€‚\n\n## é¸ã‚“ã ã‚‚ã®\n\n**Google Gemini API**\n- ãƒ¢ãƒ‡ãƒ«: Gemini 2.0 Flash Liteï¼ˆãƒ¡ã‚¤ãƒ³ç”Ÿæˆã‚¨ãƒ³ã‚¸ãƒ³ï¼‰\n- ãƒ©ã‚¤ãƒ–ãƒ©ãƒª: `@google/generative-ai` 0.24.1\n- ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿è¨­å®š:\n  - temperature: 0.7\n  - topP: 0.9\n  - topK: 50\n  - frequencyPenalty: 0.6\n  - presencePenalty: 0.3\n\n## ä»–ã®å€™è£œ\n\n### å€™è£œ1ï¼šOpenAI GPT-4\n\n**ç‰¹å¾´**:\n- æœ€ã‚‚æœ‰åã§é«˜å“è³ªãªLLM\n- GPT-4 Turbo, GPT-4o ãªã©è¤‡æ•°ãƒ¢ãƒ‡ãƒ«\n- å¼·åŠ›ãªæ—¥æœ¬èªå¯¾å¿œ\n- è±Šå¯Œãªãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¨ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n- **ç†ç”±1ï¼šã‚³ã‚¹ãƒˆãŒé«˜ã„**\n  - GPT-4 Turbo: $10/1M tokensï¼ˆå…¥åŠ›ï¼‰ã€$30/1M tokensï¼ˆå‡ºåŠ›ï¼‰\n  - æ¯æ—¥8000æ–‡å­—ã®å°èª¬ç”Ÿæˆã§ã¯ã€æœˆé¡ã‚³ã‚¹ãƒˆãŒ$100-300ã«é”ã™ã‚‹å¯èƒ½æ€§\n  - Gemini Flash: $0.075/1M tokensï¼ˆå…¥åŠ›ï¼‰ã€$0.3/1M tokensï¼ˆå‡ºåŠ›ï¼‰â†’ ç´„1/100ã®ã‚³ã‚¹ãƒˆ\n- **ç†ç”±2ï¼šéå»ã®å¤±æ•—çµŒé¨“**\n  - ai-blog-generatorãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã€OpenAI APIã®ã‚³ã‚¹ãƒˆå•é¡ŒãŒç™ºç”Ÿ\n  - `failure_api_cost_issue_openai_2025_04_22.md` å‚ç…§\n  - åŒã˜å•é¡Œã‚’é¿ã‘ã‚‹ãŸã‚ã€ã‚³ã‚¹ãƒˆåŠ¹ç‡ã®é«˜ã„APIã‚’é¸æŠ\n- **ç†ç”±3ï¼šãƒˆãƒ¼ã‚¯ãƒ³åˆ¶é™ãŒå³ã—ã„**\n  - GPT-4ã®ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã¯128K tokensã ãŒã€å‡ºåŠ›ã¯4K tokensåˆ¶é™\n  - é•·æ–‡å°èª¬ï¼ˆ8000æ–‡å­— â‰ˆ 4000 tokensï¼‰ã®ç”Ÿæˆã«ã¯è¤‡æ•°å›ã®APIå‘¼ã³å‡ºã—ãŒå¿…è¦\n\n### å€™è£œ2ï¼šClaude APIï¼ˆAnthropicï¼‰\n\n**ç‰¹å¾´**:\n- é•·æ–‡ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆå¯¾å¿œï¼ˆ200K tokensï¼‰\n- é«˜å“è³ªãªå‡ºåŠ›\n- å®‰å…¨æ€§é‡è¦–\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n- **ç†ç”±1ï¼šã‚³ã‚¹ãƒˆãŒGeminiã‚ˆã‚Šé«˜ã„**\n  - Claude 3.5 Sonnet: $3/1M tokensï¼ˆå…¥åŠ›ï¼‰ã€$15/1M tokensï¼ˆå‡ºåŠ›ï¼‰\n  - Geminiã®ç´„40å€ã®ã‚³ã‚¹ãƒˆ\n- **ç†ç”±2ï¼šæ—¥æœ¬èªå¯¾å¿œãŒGPT-4/Geminiã‚ˆã‚ŠåŠ£ã‚‹**\n  - å°èª¬ç”Ÿæˆã«ã¯é«˜å“è³ªãªæ—¥æœ¬èªãŒå¿…é ˆ\n  - Claudeã¯è‹±èªã«æœ€é©åŒ–ã•ã‚Œã¦ã„ã‚‹\n- **ç†ç”±3ï¼šAPIã®åˆ©ç”¨åˆ¶é™**\n  - ãƒªã‚¯ã‚¨ã‚¹ãƒˆåˆ¶é™ãŒGeminiã‚ˆã‚Šå³ã—ã„\n  - æ¯æ—¥è‡ªå‹•ç”Ÿæˆã™ã‚‹ã‚·ã‚¹ãƒ†ãƒ ã«ã¯ä¸å‘ã\n\n### å€™è£œ3ï¼šCohere\n\n**ç‰¹å¾´**:\n- ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ—ãƒ©ã‚¤ã‚ºå‘ã‘LLM\n- å¤šè¨€èªå¯¾å¿œ\n- ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºå¯èƒ½\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n- **ç†ç”±1ï¼šæ—¥æœ¬èªå¯¾å¿œãŒé™å®šçš„**\n  - æ—¥æœ¬èªã®å­¦ç¿’ãƒ‡ãƒ¼ã‚¿ãŒå°‘ãªã„\n  - å°èª¬ç”Ÿæˆã«ã¯å“è³ªãŒä¸ååˆ†\n- **ç†ç”±2ï¼šãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒå°‘ãªã„**\n  - æ—¥æœ¬èªã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒã»ã¼ãªã„\n  - å•é¡Œè§£æ±ºãŒå›°é›£\n- **ç†ç”±3ï¼šã‚³ã‚¹ãƒˆé¢ã§ã®ãƒ¡ãƒªãƒƒãƒˆãŒå°‘ãªã„**\n  - Geminiã®æ–¹ãŒã‚³ã‚¹ãƒˆãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãŒè‰¯ã„\n\n### å€™è£œ4ï¼šãƒ­ãƒ¼ã‚«ãƒ«LLMï¼ˆLLaMA, Mixtralç­‰ï¼‰\n\n**ç‰¹å¾´**:\n- API ã‚³ã‚¹ãƒˆä¸è¦\n- å®Œå…¨ãªãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼\n- ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºå¯èƒ½\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n- **ç†ç”±1ï¼šã‚¤ãƒ³ãƒ•ãƒ©ã‚³ã‚¹ãƒˆãŒé«˜ã„**\n  - GPUå¿…é ˆï¼ˆNVIDIA A100ç­‰ï¼‰â†’ æœˆé¡$1000-3000\n  - API ã‚³ã‚¹ãƒˆã‚ˆã‚Šé¥ã‹ã«é«˜ã„\n- **ç†ç”±2ï¼šå“è³ªãŒGemini/GPT-4ã«åŠ£ã‚‹**\n  - å°èª¬ç”Ÿæˆã«ã¯æœ€é«˜å“è³ªã®LLMãŒå¿…è¦\n  - ãƒ­ãƒ¼ã‚«ãƒ«ãƒ¢ãƒ‡ãƒ«ã¯å“è³ªãŒä¸ååˆ†\n- **ç†ç”±3ï¼šé‹ç”¨ã®è¤‡é›‘ã•**\n  - ãƒ¢ãƒ‡ãƒ«ã®ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ»ç®¡ç†ãŒå¿…è¦\n  - ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°ãŒå›°é›£\n  - ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã‚³ã‚¹ãƒˆãŒé«˜ã„\n\n## åˆ¤æ–­ç†ç”±\n\n### ç†ç”±1ï¼šåœ§å€’çš„ãªã‚³ã‚¹ãƒˆåŠ¹ç‡\n\n**è©³ç´°**:\nGemini Flash Liteã¯ã€ä»–ã®LLMã¨æ¯”è¼ƒã—ã¦åœ§å€’çš„ã«å®‰ä¾¡ã€‚\n\n**ã‚³ã‚¹ãƒˆæ¯”è¼ƒ**ï¼ˆ1M tokens ã‚ãŸã‚Šï¼‰:\n```\nã€å…¥åŠ›ãƒˆãƒ¼ã‚¯ãƒ³ã€‘\n- Gemini Flash: $0.075\n- GPT-4 Turbo: $10.00 (133å€)\n- Claude 3.5: $3.00 (40å€)\n\nã€å‡ºåŠ›ãƒˆãƒ¼ã‚¯ãƒ³ã€‘\n- Gemini Flash: $0.30\n- GPT-4 Turbo: $30.00 (100å€)\n- Claude 3.5: $15.00 (50å€)\n```\n\n**æœˆé¡ã‚³ã‚¹ãƒˆè©¦ç®—**ï¼ˆæ¯æ—¥8000æ–‡å­—ç”Ÿæˆï¼‰:\n- ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ: ç´„5000 tokens/æ—¥\n- å‡ºåŠ›: ç´„4000 tokens/æ—¥\n- 1ãƒ¶æœˆï¼ˆ30æ—¥ï¼‰:\n  - Gemini: (5000 Ã— 30 Ã— 0.075 + 4000 Ã— 30 Ã— 0.30) / 1000 = **$4.73**\n  - GPT-4: (5000 Ã— 30 Ã— 10 + 4000 Ã— 30 Ã— 30) / 1000 = **$511.50**\n  - Claude: (5000 Ã— 30 Ã— 3 + 4000 Ã— 30 Ã— 15) / 1000 = **$225.45**\n\n**çµè«–**: Geminiã¯æœˆé¡ç´„$5ã€GPT-4ã¯ç´„$500 â†’ **100å€ã®å·®**\n\n### ç†ç”±2ï¼šé«˜å“è³ªãªæ—¥æœ¬èªç”Ÿæˆèƒ½åŠ›\n\n**è©³ç´°**:\nGemini APIã¯æ—¥æœ¬èªã®å°èª¬ç”Ÿæˆã«ãŠã„ã¦ã€ååˆ†ãªå“è³ªã‚’æä¾›ã™ã‚‹ã€‚\n\n**å“è³ªè©•ä¾¡**ï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼ã®éå»ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‹ã‚‰ï¼‰:\n- ai-blog-generatorï¼ˆãƒ–ãƒ­ã‚°è¨˜äº‹ç”Ÿæˆï¼‰: Geminiä½¿ç”¨ â†’ é«˜å“è³ªãªå‡ºåŠ›\n- instagram-post-generatorï¼ˆæŠ•ç¨¿æ–‡ç”Ÿæˆï¼‰: Geminiä½¿ç”¨ â†’ è‡ªç„¶ãªæ—¥æœ¬èª\n- å°èª¬ç”Ÿæˆã«ãŠã„ã¦ã‚‚ã€åŒæ§˜ã®å“è³ªãŒæœŸå¾…ã§ãã‚‹\n\n**Geminiã®æ—¥æœ¬èªã®å¼·ã¿**:\n- Googleç¿»è¨³ã®æŠ€è¡“åŸºç›¤ã‚’æ´»ç”¨\n- å¤šè¨€èªå­¦ç¿’ãƒ‡ãƒ¼ã‚¿ã®è±Šå¯Œã•\n- æ–‡è„ˆç†è§£ã®æ­£ç¢ºã•\n\n### ç†ç”±3ï¼šé«˜é€Ÿãªç”Ÿæˆé€Ÿåº¦ï¼ˆFlash Liteï¼‰\n\n**è©³ç´°**:\nGemini 2.0 Flash Liteã¯ã€é«˜é€Ÿãªç”Ÿæˆã«æœ€é©åŒ–ã•ã‚ŒãŸãƒ¢ãƒ‡ãƒ«ã€‚\n\n**ç”Ÿæˆé€Ÿåº¦æ¯”è¼ƒ**ï¼ˆæ¨å®šï¼‰:\n- Gemini Flash Lite: 8000æ–‡å­— â†’ ç´„10-20ç§’\n- GPT-4 Turbo: 8000æ–‡å­— â†’ ç´„30-60ç§’\n- Claude 3.5: 8000æ–‡å­— â†’ ç´„20-40ç§’\n\n**ãƒ¡ãƒªãƒƒãƒˆ**:\n- ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ã®å‘ä¸Šï¼ˆå¾…ã¡æ™‚é–“çŸ­ç¸®ï¼‰\n- è¤‡æ•°å›ã®ç”Ÿæˆãƒ»æ¤œè¨¼ãŒå¯èƒ½ï¼ˆå“è³ªå‘ä¸Šã®ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ï¼‰\n- ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯\n\n### ç†ç”±4ï¼šé•·ã„ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚¦ã‚£ãƒ³ãƒ‰ã‚¦\n\n**è©³ç´°**:\nGemini 2.0ã¯é•·ã„ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚’ã‚µãƒãƒ¼ãƒˆã€‚\n\n**ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆå®¹é‡**:\n- Gemini 2.0 Flash Lite: 1M tokensï¼ˆ100ä¸‡ãƒˆãƒ¼ã‚¯ãƒ³ï¼‰\n- GPT-4 Turbo: 128K tokens\n- Claude 3.5: 200K tokens\n\n**ãƒ¡ãƒªãƒƒãƒˆ**:\n- è¨˜æ†¶éšå±¤ã‚·ã‚¹ãƒ†ãƒ ã¨ã®çµ±åˆãŒå®¹æ˜“\n- éå»ã®8ç« ï¼ˆçŸ­æœŸè¨˜æ†¶ï¼‰ã‚’å…¨ã¦ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã«å«ã‚ã‚‰ã‚Œã‚‹\n- ç‰©èªã®ä¸€è²«æ€§ãŒå‘ä¸Š\n\n**ä½¿ç”¨ä¾‹**:\n```typescript\nconst context = memoryManager.getShortTermMemory(); // 8ç«  â‰ˆ 64,000æ–‡å­— â‰ˆ 32,000 tokens\nconst prompt = promptGenerator.generate({\n  context,\n  characters,\n  plot,\n  // ... 8å¤§ã‚·ã‚¹ãƒ†ãƒ çµ±åˆ\n}); // ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ â‰ˆ 5,000 tokens\n\n// åˆè¨ˆ â‰ˆ 37,000 tokens â†’ Geminiãªã‚‰ä½™è£•ã§å¯¾å¿œ\n```\n\n### ç†ç”±5ï¼šæ§‹é€ åŒ–å‡ºåŠ›ã®ã‚µãƒãƒ¼ãƒˆ\n\n**è©³ç´°**:\nGemini APIã¯ã€JSONç­‰ã®æ§‹é€ åŒ–å‡ºåŠ›ã‚’ã‚µãƒãƒ¼ãƒˆã€‚\n\n**ä½¿ç”¨ä¾‹**:\n```typescript\nconst result = await geminiClient.generateContent({\n  prompt: \"ä»¥ä¸‹ã®å½¢å¼ã§ç« ã‚’ç”Ÿæˆã—ã¦ãã ã•ã„: { title, content, characters }\",\n  model: \"gemini-2.0-flash-lite\"\n});\n\n// çµæœ: JSONå½¢å¼ã§è¿”å´ã•ã‚Œã‚‹\nconst chapter = JSON.parse(result.text);\n```\n\n**ãƒ¡ãƒªãƒƒãƒˆ**:\n- ãƒ‘ãƒ¼ã‚¹ã‚¨ãƒ©ãƒ¼ãŒå°‘ãªã„\n- ãƒ‡ãƒ¼ã‚¿æ§‹é€ ãŒä¿è¨¼ã•ã‚Œã‚‹\n- å¾Œå‡¦ç†ãŒç°¡å˜\n\n### ç†ç”±6ï¼šAPIã®å®‰å®šæ€§ã¨ãƒ¬ãƒ¼ãƒˆåˆ¶é™\n\n**è©³ç´°**:\nGemini APIã¯å®‰å®šã—ã¦ãŠã‚Šã€ãƒ¬ãƒ¼ãƒˆåˆ¶é™ã‚‚ç·©ã‚„ã‹ã€‚\n\n**ãƒ¬ãƒ¼ãƒˆåˆ¶é™**ï¼ˆGemini Flash Liteï¼‰:\n- ç„¡æ–™æ : 15 RPMï¼ˆRequests Per Minuteï¼‰\n- æœ‰æ–™æ : ã‚ˆã‚Šé«˜ã„åˆ¶é™\n\n**ãƒ¡ãƒªãƒƒãƒˆ**:\n- æ¯æ—¥ã®è‡ªå‹•ç”Ÿæˆã«ååˆ†\n- è¤‡æ•°å›ã®ãƒªãƒˆãƒ©ã‚¤ãŒå¯èƒ½\n- å“è³ªæ¤œè¨¼ã®ãŸã‚ã®å†ç”ŸæˆãŒå®¹æ˜“\n\n### ç†ç”±7ï¼šGoogle ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ã¨ã®çµ±åˆ\n\n**è©³ç´°**:\nGoogleã®AIã‚µãƒ¼ãƒ“ã‚¹ã¨ã®çµ±åˆãŒå®¹æ˜“ã€‚\n\n**çµ±åˆä¾‹**:\n- Google Cloud Storageï¼ˆå°†æ¥çš„ãªãƒ‡ãƒ¼ã‚¿ä¿å­˜ï¼‰\n- Google Analyticsï¼ˆå“è³ªåˆ†æï¼‰\n- Google Vertex AIï¼ˆé«˜åº¦ãªæœ€é©åŒ–ï¼‰\n\n### ç†ç”±8ï¼šéå»ã®æˆåŠŸä½“é¨“\n\n**è©³ç´°**:\nãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯éå»ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã€OpenAI APIã‹ã‚‰Gemini APIã¸ã®ç§»è¡Œã«æˆåŠŸã—ã¦ã„ã‚‹ã€‚\n\n**éå»ã®ç§»è¡Œäº‹ä¾‹**:\n- `ai-blog-generator`: OpenAI â†’ Geminiï¼ˆã‚³ã‚¹ãƒˆå‰Šæ¸›ï¼‰\n- `instagram-post-generator`: æœ€åˆã‹ã‚‰Geminiï¼ˆã‚³ã‚¹ãƒˆé‡è¦–ï¼‰\n\n**å­¦ã³**:\n- Gemini APIã§ååˆ†ãªå“è³ªãŒå¾—ã‚‰ã‚Œã‚‹\n- ã‚³ã‚¹ãƒˆå‰Šæ¸›ã¨å“è³ªã®ãƒãƒ©ãƒ³ã‚¹ãŒè‰¯ã„\n\n## ã“ã®åˆ¤æ–­ã‹ã‚‰å­¦ã¹ã‚‹ã“ã¨\n\n### å­¦ã³1ï¼šLLMé¸æŠã§ã¯ã‚³ã‚¹ãƒˆãŒæœ€é‡è¦ãƒ•ã‚¡ã‚¯ã‚¿ãƒ¼ã®ä¸€ã¤\n\næ¯æ—¥è‡ªå‹•å®Ÿè¡Œã™ã‚‹ã‚·ã‚¹ãƒ†ãƒ ã§ã¯ã€APIã‚³ã‚¹ãƒˆãŒæœˆé¡ã§ç©ã¿ä¸ŠãŒã‚‹ã€‚åˆæœŸã®å“è³ªå·®ã¯å°ã•ãã¦ã‚‚ã€ã‚³ã‚¹ãƒˆå·®ã¯100å€ã«ãªã‚Šã†ã‚‹ã€‚\n\n**æ•™è¨“**: ã‚³ã‚¹ãƒˆã‚’æœ€åˆã«è€ƒæ…®ã—ã€å“è³ªã¨ã®ãƒãƒ©ãƒ³ã‚¹ã‚’å–ã‚‹ã€‚\n\n### å­¦ã³2ï¼šæœ€æ–°ãƒ¢ãƒ‡ãƒ«ã¯å¿…ãšã—ã‚‚å¿…è¦ã§ã¯ãªã„\n\nGPT-4ã‚„Claude 3.5ã®ã‚ˆã†ãªæœ€å…ˆç«¯ãƒ¢ãƒ‡ãƒ«ã¯ã€å°èª¬ç”Ÿæˆã«ã¯éå‰°å“è³ªã€‚Gemini Flash Liteã®ã‚ˆã†ãªä¸­ä½ãƒ¢ãƒ‡ãƒ«ã§ååˆ†ãªå ´åˆãŒå¤šã„ã€‚\n\n**æ•™è¨“**: ã‚¿ã‚¹ã‚¯ã«å¿…è¦ãªå“è³ªãƒ¬ãƒ™ãƒ«ã‚’è¦‹æ¥µã‚ã‚‹ã€‚\n\n### å­¦ã³3ï¼šéå»ã®å¤±æ•—ã‹ã‚‰å­¦ã¶\n\nai-blog-generatorã§ã®OpenAI APIã‚³ã‚¹ãƒˆå•é¡Œã‚’ç¹°ã‚Šè¿”ã•ãªã„ãŸã‚ã€æœ€åˆã‹ã‚‰Gemini APIã‚’é¸æŠã€‚\n\n**æ•™è¨“**: éå»ã®å¤±æ•—ã‚’è¨˜éŒ²ã—ã€æ¬¡ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«æ´»ã‹ã™ã€‚\n\n### å­¦ã³4ï¼šAPIé¸æŠã¯å¤‰æ›´å¯èƒ½\n\nå°†æ¥çš„ã«Geminiã®å“è³ªãŒä¸ååˆ†ã«ãªã£ãŸã‚Šã€ã‚ˆã‚Šå®‰ä¾¡ãªAPIãŒç™»å ´ã—ãŸå ´åˆã€åˆ‡ã‚Šæ›¿ãˆãŒå¯èƒ½ã€‚\n\n**æ•™è¨“**: æŠ½è±¡åŒ–ï¼ˆGeminiClient ã‚¯ãƒ©ã‚¹ï¼‰ã«ã‚ˆã‚Šã€APIåˆ‡ã‚Šæ›¿ãˆã®ã‚³ã‚¹ãƒˆã‚’å‰Šæ¸›ã€‚\n\n## é©ç”¨å ´é¢\n\nä»¥ä¸‹ã®æ¡ä»¶ã‚’æº€ãŸã™ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ã¯ã€Gemini APIãŒæœ€é©ï¼š\n\n1. **ã‚³ã‚¹ãƒˆé‡è¦–**ï¼ˆæœˆé¡APIã‚³ã‚¹ãƒˆã‚’æŠ‘ãˆãŸã„ï¼‰\n2. **æ—¥æœ¬èªç”Ÿæˆ**ï¼ˆæ—¥æœ¬èªã®é«˜å“è³ªãªç”ŸæˆãŒå¿…è¦ï¼‰\n3. **é•·æ–‡ç”Ÿæˆ**ï¼ˆæ•°åƒæ–‡å­—ã®æ–‡ç« ã‚’ç”Ÿæˆï¼‰\n4. **æ¯æ—¥å®Ÿè¡Œ**ï¼ˆå®šæœŸçš„ãªè‡ªå‹•å®Ÿè¡Œï¼‰\n5. **æ§‹é€ åŒ–å‡ºåŠ›**ï¼ˆJSONç­‰ã®æ§‹é€ åŒ–ãƒ‡ãƒ¼ã‚¿ãŒå¿…è¦ï¼‰\n6. **é•·ã„ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆ**ï¼ˆå¤§é‡ã®æ–‡è„ˆæƒ…å ±ã‚’å«ã‚ã‚‹ï¼‰\n\n## æ³¨æ„ç‚¹\n\n### æ³¨æ„ç‚¹1ï¼šå“è³ªã®ãƒˆãƒ¬ãƒ¼ãƒ‰ã‚ªãƒ•\n\nGemini Flash Liteã¯GPT-4ã‚ˆã‚Šå“è³ªãŒåŠ£ã‚‹å ´åˆãŒã‚ã‚‹ã€‚\n\n**å¯¾ç­–**:\n- ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚°ã§å“è³ªå‘ä¸Š\n- å“è³ªåˆ†æãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã§æ¤œè¨¼\n- å¿…è¦ã«å¿œã˜ã¦å†ç”Ÿæˆ\n\n### æ³¨æ„ç‚¹2ï¼šAPIã®å¤‰æ›´\n\nGoogle APIã¯é »ç¹ã«æ›´æ–°ã•ã‚Œã‚‹ã€‚\n\n**å¯¾ç­–**:\n- ãƒãƒ¼ã‚¸ãƒ§ãƒ³å›ºå®šï¼ˆ`@google/generative-ai@0.24.1`ï¼‰\n- æŠ½è±¡åŒ–å±¤ï¼ˆGeminiClientï¼‰ã§å¤‰æ›´ã‚’å¸å\n- ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã§å‹•ä½œç¢ºèª\n\n### æ³¨æ„ç‚¹3ï¼šãƒ¬ãƒ¼ãƒˆåˆ¶é™\n\nç„¡æ–™æ ã¯15 RPMã¨åˆ¶é™ãŒã‚ã‚‹ã€‚\n\n**å¯¾ç­–**:\n- æœ‰æ–™æ ã¸ã®ç§»è¡Œã‚’æ¤œè¨\n- é©å¿œçš„ãƒãƒƒã‚¯ã‚ªãƒ•ã®å®Ÿè£…\n- ãƒªãƒˆãƒ©ã‚¤ãƒ­ã‚¸ãƒƒã‚¯ã®å®Ÿè£…\n\n### æ³¨æ„ç‚¹4ï¼šæ—¥æœ¬èªã®å¾®å¦™ãªãƒ‹ãƒ¥ã‚¢ãƒ³ã‚¹\n\nå°èª¬ã®å¾®å¦™ãªè¡¨ç¾ã§ã¯ã€GPT-4ã«åŠ£ã‚‹å ´åˆãŒã‚ã‚‹ã€‚\n\n**å¯¾ç­–**:\n- å¾Œç·¨é›†ãƒ»äººé–“ã®ãƒ¬ãƒ“ãƒ¥ãƒ¼\n- ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã§ã®ç´°ã‹ã„æŒ‡ç¤º\n- æ–‡ä½“åˆ†æã«ã‚ˆã‚‹æ¤œè¨¼\n\n### æ³¨æ„ç‚¹5ï¼šé•·æœŸçš„ãªã‚³ã‚¹ãƒˆå¤‰å‹•\n\nAPIã®ä¾¡æ ¼ã¯å¤‰å‹•ã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ã€‚\n\n**å¯¾ç­–**:\n- å®šæœŸçš„ãªã‚³ã‚¹ãƒˆç›£è¦–\n- ä»£æ›¿APIã®èª¿æŸ»\n- ã‚³ã‚¹ãƒˆé–¾å€¤ã‚¢ãƒ©ãƒ¼ãƒˆ\n\n## ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿è¨­å®šã®ç†ç”±\n\n**temperature: 0.7**\n- å‰µé€ æ€§ã¨ä¸€è²«æ€§ã®ãƒãƒ©ãƒ³ã‚¹\n- 0.5ä»¥ä¸‹: äºˆæ¸¬å¯èƒ½ã ãŒå˜èª¿\n- 0.9ä»¥ä¸Š: å‰µé€ çš„ã ãŒä¸€è²«æ€§ä½ä¸‹\n\n**topP: 0.9**\n- ä¸Šä½90%ã®ç¢ºç‡ã®é¸æŠè‚¢ã‹ã‚‰é¸ã¶\n- å¤šæ§˜æ€§ã‚’ä¿ã¡ãªãŒã‚‰ã€æ¥µç«¯ãªé¸æŠã‚’é¿ã‘ã‚‹\n\n**topK: 50**\n- ä¸Šä½50ãƒˆãƒ¼ã‚¯ãƒ³ã‹ã‚‰é¸ã¶\n- temperatureã¨çµ„ã¿åˆã‚ã›ã¦å¤šæ§˜æ€§ã‚’åˆ¶å¾¡\n\n**frequencyPenalty: 0.6**\n- åŒã˜è¡¨ç¾ã®ç¹°ã‚Šè¿”ã—ã‚’æŠ‘åˆ¶\n- å°èª¬ã§ã¯é‡è¦ï¼ˆå˜èª¿ã•ã‚’é¿ã‘ã‚‹ï¼‰\n\n**presencePenalty: 0.3**\n- æ–°ã—ã„ãƒˆãƒ”ãƒƒã‚¯ã®å°å…¥ã‚’ä¿ƒé€²\n- ç‰©èªã®å±•é–‹ã‚’å¤šæ§˜åŒ–\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `system_novel_automation_status_2025_11_25.md`ï¼šã‚·ã‚¹ãƒ†ãƒ å…¨ä½“ã®çŠ¶æ…‹\n- `skill_gemini_client_implementation_2025_11_25.md`ï¼šGeminiClientå®Ÿè£…ï¼ˆä»Šå¾Œä½œæˆï¼‰\n- `skill_prompt_engineering_8systems_2025_11_25.md`ï¼š8å¤§ã‚·ã‚¹ãƒ†ãƒ çµ±åˆãƒ—ãƒ­ãƒ³ãƒ—ãƒˆï¼ˆä»Šå¾Œä½œæˆï¼‰\n- `failure_api_cost_issue_openai_2025_04_22.md`ï¼šéå»ã®OpenAI APIã‚³ã‚¹ãƒˆå•é¡Œï¼ˆai-blog-generatorï¼‰\n- `skill_api_error_handling_retry_2025_11_25.md`ï¼šAPIã‚¨ãƒ©ãƒ¼å‡¦ç†ã¨ãƒªãƒˆãƒ©ã‚¤ï¼ˆä»Šå¾Œä½œæˆï¼‰\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€ŒGemini APIé¸æŠç†ç”±ï¼ˆå°èª¬ç”ŸæˆAIï¼‰ã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "system-novel-automation-status",
      "skill-gemini-client-implementation",
      "skill-prompt-engineering-8systems",
      "failure-api-cost-issue-openai"
    ]
  },
  {
    "slug": "tech-gemini-vs-gpt4",
    "title": "Gemini API vs GPT-4 ã®æŠ€è¡“é¸å®š",
    "category": "Decisionsï¼ˆæŠ€è¡“é¸å®šãƒ»åˆ¤æ–­ï¼‰",
    "description": "Gemini API vs GPT-4 ã®æŠ€è¡“é¸å®š",
    "project": "ai-blog-generator",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"decision_tech_gemini_vs_gpt4_2025_04_22\",\n  \"type\": \"decision\",\n  \"name\": \"Gemini API vs GPT-4 ã®æŠ€è¡“é¸å®š\",\n  \"decision_type\": \"tech_selection\",\n  \"tags\": [\"LLM\", \"Gemini\", \"GPT-4\", \"AI\", \"ã‚³ã‚¹ãƒˆ\", \"å“è³ª\"],\n  \"source_project\": \"ai-blog-generator\",\n  \"chosen\": \"Gemini 1.5 Pro\",\n  \"alternatives\": [\"OpenAI GPT-4\", \"Claude 3\", \"ãƒ­ãƒ¼ã‚«ãƒ«LLM\"],\n  \"related_knowledge\": [\"skill_llm_parameter_temperature_2025_04_22\", \"failure_api_cost_issue_openai_to_gemini_2025_04_22\"],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-04-22\",\n  \"updated\": \"2025-04-22\"\n}\n```\n\n# Gemini API vs GPT-4 ã®æŠ€è¡“é¸å®š\n\n## ä½•ã‚’åˆ¤æ–­ã—ãŸã‹\n\nãƒ–ãƒ­ã‚°è¨˜äº‹ã‚’è‡ªå‹•ç”Ÿæˆã™ã‚‹ LLM ã¨ã—ã¦ã€Gemini API ã‚’ä½¿ã†ã‹ GPT-4 ã‚’ä½¿ã†ã‹ã‚’åˆ¤æ–­ã—ãŸã€‚\n\n**é‡è¦ãªèƒŒæ™¯**ï¼š\nå®Ÿã¯æœ€åˆã¯ OpenAI GPT-4 ã‚’ä½¿ç”¨ã—ã¦ã„ãŸã€‚ã—ã‹ã—ã‚³ã‚¹ãƒˆå•é¡Œã§ Gemini API ã«ç§»è¡Œã—ãŸã€‚ï¼ˆ`.env.local` ã«ä¸¡æ–¹ã® API ã‚­ãƒ¼ãŒæ®‹ã£ã¦ã„ã‚‹è¨¼æ‹ ï¼‰\n\n## é¸ã‚“ã ã‚‚ã®\n\n**Gemini 1.5 Pro**\n\n## ä»–ã®å€™è£œ\n\n### å€™è£œ1ï¼šOpenAI GPT-4\n\n**å®Ÿéš›ã«è©¦ã—ãŸ**ï¼šYesï¼ˆæœ€åˆã«ä½¿ç”¨ï¼‰\n\n**æ¤œè¨å†…å®¹**ï¼š\n- æœ€é«˜å“è³ªã®æ–‡ç« ç”Ÿæˆ\n- è±Šå¯Œãªãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ\n- å¤§ããªã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ \n- å®‰å®šã—ãŸ API\n\n**ãªãœå¤‰æ›´ã—ãŸã‹**ï¼š\n\n#### ç†ç”±1ï¼šã‚³ã‚¹ãƒˆãŒé«˜ã™ãã‚‹\n\n**è¨ˆç®—**ï¼š\n- ãƒ–ãƒ­ã‚°è¨˜äº‹ï¼š2000-3000æ–‡å­— = ç´„3000ãƒˆãƒ¼ã‚¯ãƒ³å‡ºåŠ›\n- æ¯æ—¥1è¨˜äº‹ç”Ÿæˆ\n- æœˆ30è¨˜äº‹\n\nGPT-4 ã®æ–™é‡‘ï¼ˆ2025å¹´4æœˆæ™‚ç‚¹ï¼‰ï¼š\n- Input: $10 / 1M tokens\n- Output: $30 / 1M tokens\n\næœˆé–“ã‚³ã‚¹ãƒˆè¨ˆç®—ï¼š\n```\nãƒ—ãƒ­ãƒ³ãƒ—ãƒˆï¼ˆç´„500ãƒˆãƒ¼ã‚¯ãƒ³ï¼‰ Ã— 30è¨˜äº‹ = 15,000ãƒˆãƒ¼ã‚¯ãƒ³\nâ†’ 15,000 / 1,000,000 Ã— $10 = $0.15\n\nå‡ºåŠ›ï¼ˆç´„3000ãƒˆãƒ¼ã‚¯ãƒ³ï¼‰ Ã— 30è¨˜äº‹ = 90,000ãƒˆãƒ¼ã‚¯ãƒ³\nâ†’ 90,000 / 1,000,000 Ã— $30 = $2.70\n\nåˆè¨ˆï¼š$2.85 / æœˆ\n```\n\n**å•é¡Œç‚¹**ï¼š\n- 1ã¤ã®ãƒ–ãƒ­ã‚°ã ã‘ã§ $2.85 / æœˆ\n- è¤‡æ•°ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’é‹ç”¨ã™ã‚‹ã¨é«˜é¡\n- å€‹äººé–‹ç™ºã§ã¯å³ã—ã„\n\n#### ç†ç”±2ï¼šå‡ºåŠ›ãƒˆãƒ¼ã‚¯ãƒ³æ•°ã®åˆ¶é™\n\nGPT-4ï¼ˆå½“æ™‚ï¼‰ï¼š\n- maxTokens: 4096ï¼ˆãƒ¢ãƒ‡ãƒ«ã«ã‚ˆã£ã¦ã¯8192ï¼‰\n- é•·æ–‡ç”Ÿæˆã«ã¯ååˆ†ã ãŒã€Gemini ã‚ˆã‚Šåˆ¶é™ãŒå³ã—ã„\n\nGemini 1.5 Proï¼š\n- maxOutputTokens: 8192ï¼ˆè¨­å®šã§å¤‰æ›´å¯èƒ½ï¼‰\n- ã‚ˆã‚Šé•·ã„è¨˜äº‹ã‚’ç”Ÿæˆå¯èƒ½\n\n#### ç†ç”±3ï¼šæ—¥æœ¬èªå“è³ªã®å·®ãŒå°ã•ã„\n\n**å®Ÿéš›ã«æ¯”è¼ƒãƒ†ã‚¹ãƒˆ**ï¼š\nåŒã˜ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã§è¨˜äº‹ã‚’ç”Ÿæˆï¼š\n\nGPT-4 ã®å‡ºåŠ›ï¼š\n- æ–‡ç« ã¯éå¸¸ã«è‡ªç„¶\n- SEO æœ€é©åŒ–ã‚‚è‰¯å¥½\n- ã‚³ãƒ¼ãƒ‰ä¾‹ã‚‚æ­£ç¢º\n\nGemini 1.5 Pro ã®å‡ºåŠ›ï¼š\n- æ–‡ç« ã¯ã‚„ã‚„æ©Ÿæ¢°çš„ã ãŒã€ååˆ†ã«è‡ªç„¶\n- SEO æœ€é©åŒ–ã¯ GPT-4 ã¨åŒç­‰\n- ã‚³ãƒ¼ãƒ‰ä¾‹ã‚‚æ­£ç¢º\n\n**çµè«–**ï¼š\nå“è³ªå·®ã¯ç´„10-15%ç¨‹åº¦ã€‚ãƒ–ãƒ­ã‚°è¨˜äº‹ã¨ã—ã¦ã¯ Gemini ã§ååˆ†ã€‚\n\n---\n\n### å€™è£œ2ï¼šClaude 3ï¼ˆOpus / Sonnetï¼‰\n\n**å®Ÿéš›ã«è©¦ã—ãŸ**ï¼šNoï¼ˆã‚³ã‚¹ãƒˆç†ç”±ï¼‰\n\n**æ¤œè¨å†…å®¹**ï¼š\n- æ—¥æœ¬èªå“è³ªãŒéå¸¸ã«é«˜ã„\n- é•·æ–‡ç”Ÿæˆã«å¼·ã„\n- å€«ç†çš„ãªé…æ…®ãŒå¼·ã„\n\n**ãªãœè©¦ã•ãªã‹ã£ãŸã‹**ï¼š\n\n#### ç†ç”±1ï¼šã‚³ã‚¹ãƒˆ\n\nClaude 3 Opusï¼ˆå½“æ™‚ï¼‰ï¼š\n- Input: $15 / 1M tokens\n- Output: $75 / 1M tokens\n\nâ†’ GPT-4 ã‚ˆã‚Šæ›´ã«é«˜é¡\n\nClaude 3 Sonnetï¼ˆå½“æ™‚ï¼‰ï¼š\n- Input: $3 / 1M tokens\n- Output: $15 / 1M tokens\n\nâ†’ GPT-4 ã‚ˆã‚Šå®‰ã„ãŒã€Gemini ã‚ˆã‚Šé«˜ã„\n\n#### ç†ç”±2ï¼šæ—¥æœ¬èªå“è³ª\n\nå½“æ™‚ã®è©•ä¾¡ï¼š\n- Claude 3 > GPT-4 > Geminiï¼ˆæ—¥æœ¬èªã®è‡ªç„¶ã•ï¼‰\n- ã—ã‹ã—å·®ã¯å°ã•ã„ï¼ˆãƒ–ãƒ­ã‚°è¨˜äº‹ãƒ¬ãƒ™ãƒ«ã§ã¯ï¼‰\n\n**åˆ¤æ–­**ï¼š\næ—¥æœ¬èªå“è³ªã®å·®ï¼ˆ5-10%ï¼‰ã‚ˆã‚Šã€ã‚³ã‚¹ãƒˆå·®ï¼ˆ5-10å€ï¼‰ã®æ–¹ãŒé‡è¦\n\n---\n\n### å€™è£œ3ï¼šãƒ­ãƒ¼ã‚«ãƒ« LLMï¼ˆOllama + LLaMA 3ï¼‰\n\n**å®Ÿéš›ã«è©¦ã—ãŸ**ï¼šNoï¼ˆæŠ€è¡“çš„åˆ¶ç´„ï¼‰\n\n**æ¤œè¨å†…å®¹**ï¼š\n- å®Œå…¨ç„¡æ–™\n- ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ä¿è­·\n- API åˆ¶é™ãªã—\n\n**ãªãœè©¦ã•ãªã‹ã£ãŸã‹**ï¼š\n\n#### ç†ç”±1ï¼šGitHub Actions ã§å®Ÿè¡Œä¸å¯\n\nã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®è¦ä»¶ï¼š\n- GitHub Actions ã§æ¯æ—¥è‡ªå‹•å®Ÿè¡Œ\n- ã‚¯ãƒ©ã‚¦ãƒ‰ã§å‹•ä½œã™ã‚‹å¿…è¦ã‚ã‚Š\n\nãƒ­ãƒ¼ã‚«ãƒ« LLMï¼š\n- ãƒ­ãƒ¼ã‚«ãƒ«ãƒã‚·ãƒ³ã§ã—ã‹å‹•ä½œã—ãªã„\n- GitHub Actions ã®ä»®æƒ³ãƒã‚·ãƒ³ã§å®Ÿè¡Œã™ã‚‹ã«ã¯ï¼š\n  - ãƒ¢ãƒ‡ãƒ«ã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ï¼ˆæ•°GBï¼‰ãŒå¿…è¦\n  - å®Ÿè¡Œæ™‚é–“ãŒé•·ã™ãã‚‹\n  - ãƒ¡ãƒ¢ãƒªãŒä¸è¶³ã™ã‚‹å¯èƒ½æ€§\n\nâ†’ **æŠ€è¡“çš„ã«ä¸å¯èƒ½**\n\n#### ç†ç”±2ï¼šå“è³ª\n\nãƒ­ãƒ¼ã‚«ãƒ« LLMï¼ˆLLaMA 3 8Bï¼‰ï¼š\n- å“è³ªã¯ Gemini / GPT-4 ã‚ˆã‚ŠåŠ£ã‚‹\n- æ—¥æœ¬èªã¯ç‰¹ã«å¼±ã„\n- ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚°ãŒé›£ã—ã„\n\n---\n\n## åˆ¤æ–­ç†ç”±ï¼ˆã¾ã¨ã‚ï¼‰\n\n### ç†ç”±1ï¼šã‚³ã‚¹ãƒˆåŠ¹ç‡ãŒæœ€é«˜\n\n| LLM | æœˆé–“ã‚³ã‚¹ãƒˆï¼ˆ30è¨˜äº‹ï¼‰ | å“è³ª |\n|-----|---------------------|------|\n| GPT-4 | $2.85 | 100% |\n| Claude 3 Opus | $7.50 | 105% |\n| Claude 3 Sonnet | $1.50 | 100% |\n| **Gemini 1.5 Pro** | **$0.30** | **90%** |\n\n**ã‚³ã‚¹ãƒˆåŠ¹ç‡**ï¼š\n- GPT-4 ã® **1/10**\n- å“è³ªã¯ 90%ï¼ˆãƒ–ãƒ­ã‚°è¨˜äº‹ã¨ã—ã¦ã¯ååˆ†ï¼‰\n\n### ç†ç”±2ï¼šååˆ†ãªå“è³ª\n\nå®Ÿéš›ã«ç”Ÿæˆã•ã‚ŒãŸè¨˜äº‹ï¼š\n```\nã‚¿ã‚¤ãƒˆãƒ«: TypeScriptãƒ•ãƒªãƒ¼ãƒ©ãƒ³ã‚¹æ¡ˆä»¶ã§é«˜åå…¥ã‚’ç‹™ãˆï¼2025å¹´æœ€æ–°å¸‚å ´å‹•å‘ã¨ã‚¹ã‚­ãƒ«ã‚¢ãƒƒãƒ—æˆ¦ç•¥\næ–‡å­—æ•°: ç´„2500æ–‡å­—\nSEO: é©åˆ‡ãªh1-h3æ§‹é€ ã€ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰é…ç½®\nã‚³ãƒ¼ãƒ‰ä¾‹: ã‚ã‚Šï¼ˆæ­£ç¢ºï¼‰\n```\n\nâ†’ **ãƒ–ãƒ­ã‚°è¨˜äº‹ã¨ã—ã¦ååˆ†ãªå“è³ª**\n\n### ç†ç”±3ï¼šé•·æ–‡ç”Ÿæˆã«å¯¾å¿œ\n\nGemini 1.5 Proï¼š\n- maxOutputTokens: 8192\n- 2000-3000æ–‡å­—ã®è¨˜äº‹ã‚’ç¢ºå®Ÿã«ç”Ÿæˆ\n\n### ç†ç”±4ï¼šGitHub Actions ã§å®Ÿè¡Œå¯èƒ½\n\nGemini APIï¼š\n- ã‚¯ãƒ©ã‚¦ãƒ‰ API\n- GitHub Actions ã‹ã‚‰ç›´æ¥å‘¼ã³å‡ºã—å¯èƒ½\n- è¨­å®šãŒç°¡å˜\n\n---\n\n## ã“ã®åˆ¤æ–­ã‹ã‚‰å­¦ã¹ã‚‹ã“ã¨\n\n### å­¦ã³1ï¼šã‚³ã‚¹ãƒˆã¨å“è³ªã®ãƒˆãƒ¬ãƒ¼ãƒ‰ã‚ªãƒ•ã‚’è¨ˆç®—ã™ã‚‹\n\n**é–“é•ã£ãŸåˆ¤æ–­**ï¼š\nã€Œæœ€é«˜å“è³ªã® GPT-4 ã‚’ä½¿ãŠã†ã€\nâ†’ ã‚³ã‚¹ãƒˆãŒé«˜ã™ãã¦æŒç¶šä¸å¯èƒ½\n\n**æ­£ã—ã„åˆ¤æ–­**ï¼š\nã€Œååˆ†ãªå“è³ªã§ã€ã‚³ã‚¹ãƒˆãŒä½ã„ Gemini ã‚’ä½¿ãŠã†ã€\nâ†’ æœˆé¡ $0.30 ã§æŒç¶šå¯èƒ½\n\n### å­¦ã³2ï¼šã€Œååˆ†ãªå“è³ªã€ã‚’å®šç¾©ã™ã‚‹\n\nãƒ–ãƒ­ã‚°è¨˜äº‹ã®è¦ä»¶ï¼š\n- SEO æœ€é©åŒ–ã•ã‚ŒãŸæ§‹é€ \n- 2000-3000æ–‡å­—\n- èª­ã¿ã‚„ã™ã„æ—¥æœ¬èª\n- æ­£ç¢ºãªã‚³ãƒ¼ãƒ‰ä¾‹\n\nGemini ã§æº€ãŸã›ã‚‹ï¼Ÿ â†’ **Yes**\n\nGPT-4 ã®è¿½åŠ å“è³ªï¼ˆ+10%ï¼‰ã« $2.55 / æœˆæ‰•ã†ä¾¡å€¤ã¯ã‚ã‚‹ã‹ï¼Ÿ â†’ **No**\n\n### å­¦ã³3ï¼šå®Ÿéš›ã«è©¦ã—ã¦ã‹ã‚‰åˆ¤æ–­ã™ã‚‹\n\n**æœ€åˆã®è¨ˆç”»**ï¼š\nGPT-4 ã‚’ä½¿ã†ï¼ˆå“è³ªé‡è¦–ï¼‰\n\n**å®Ÿéš›ã«è©¦ã—ãŸçµæœ**ï¼š\n- ã‚³ã‚¹ãƒˆãŒé«˜ã„ï¼ˆ$2.85 / æœˆï¼‰\n- Gemini ã§ååˆ†ãªå“è³ª\n\nâ†’ **å®Ÿéš›ã«è©¦ã™ã“ã¨ã§æ­£ã—ã„åˆ¤æ–­ãŒã§ããŸ**\n\n### å­¦ã³4ï¼šé•·æœŸçš„ãªã‚³ã‚¹ãƒˆã‚’è€ƒãˆã‚‹\n\n1ãƒ¶æœˆï¼š$2.85ï¼ˆè¨±å®¹ç¯„å›²ï¼‰\n1å¹´ï¼š$34.20ï¼ˆé«˜ã„ï¼‰\nè¤‡æ•°ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆï¼š$100+ï¼ˆç„¡ç†ï¼‰\n\nâ†’ **é•·æœŸçš„ã«ã¯ Gemini ã®é¸æŠãŒæ­£ã—ã„**\n\n---\n\n## ã„ã¤ã“ã®åˆ¤æ–­åŸºæº–ã‚’é©ç”¨ã™ã‚‹ã‹\n\n### Gemini ã‚’é¸ã¶ã¹ãå ´åˆ\n\n- [ ] é•·æ–‡ç”Ÿæˆï¼ˆ2000æ–‡å­—ä»¥ä¸Šï¼‰ã‚’é »ç¹ã«è¡Œã†\n- [ ] ã‚³ã‚¹ãƒˆåŠ¹ç‡ã‚’æœ€å„ªå…ˆã™ã‚‹\n- [ ] æ—¥æœ¬èªã®è‡ªç„¶ã•ã¯ã€Œååˆ†ã€ã§è‰¯ã„ï¼ˆæœ€é«˜å“è³ªã§ãªãã¦è‰¯ã„ï¼‰\n- [ ] ãƒ–ãƒ­ã‚°ã€è¨˜äº‹ã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”Ÿæˆ\n\n### GPT-4 ã‚’é¸ã¶ã¹ãå ´åˆ\n\n- [ ] æœ€é«˜å“è³ªã®æ–‡ç« ãŒå¿…è¦\n- [ ] ã‚³ãƒ¼ãƒ‰ã®ç”Ÿæˆãƒ»ãƒ¬ãƒ“ãƒ¥ãƒ¼ãŒä¸»ç›®çš„\n- [ ] è¤‡é›‘ãªæ¨è«–ãŒå¿…è¦\n- [ ] ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ï¼ˆãƒ—ãƒ©ã‚°ã‚¤ãƒ³ç­‰ï¼‰ã‚’æ´»ç”¨ã—ãŸã„\n\n### Claude ã‚’é¸ã¶ã¹ãå ´åˆ\n\n- [ ] æ—¥æœ¬èªã®è‡ªç„¶ã•ãŒæœ€é‡è¦\n- [ ] é•·æ–‡ç”Ÿæˆï¼ˆå°èª¬ç­‰ï¼‰\n- [ ] å€«ç†çš„é…æ…®ãŒé‡è¦\n- [ ] ã‚³ã‚¹ãƒˆã¯äºŒã®æ¬¡\n\n### ãƒ­ãƒ¼ã‚«ãƒ« LLM ã‚’é¸ã¶ã¹ãå ´åˆ\n\n- [ ] å®Œå…¨ç„¡æ–™ãŒå¿…é ˆ\n- [ ] ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ä¿è­·ãŒæœ€é‡è¦\n- [ ] ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒã§å®Ÿè¡Œå¯èƒ½\n- [ ] å“è³ªã¯å¦¥å”ã§ãã‚‹\n\n---\n\n## å®Ÿè£…ã®è©³ç´°\n\n### Gemini API ã®è¨­å®š\n\n```typescript\nimport { GoogleGenerativeAI } from '@google/generative-ai';\n\nconst genAI = new GoogleGenerativeAI(process.env.GEMINI_API_KEY);\n\nconst model = genAI.getGenerativeModel({\n  model: 'gemini-1.5-pro',\n  generationConfig: {\n    temperature: 0.7,\n    topP: 0.9,\n    topK: 40,\n    maxOutputTokens: 4096,\n  },\n  safetySettings: [\n    {\n      category: HarmCategory.HARM_CATEGORY_HARASSMENT,\n      threshold: HarmBlockThreshold.BLOCK_MEDIUM_AND_ABOVE,\n    },\n    // ...\n  ],\n});\n\nconst result = await model.generateContent(prompt);\nconst text = result.response.text();\n```\n\n### ã‚³ã‚¹ãƒˆæœ€é©åŒ–\n\n**1. ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’æœ€é©åŒ–**ï¼š\n- ä¸è¦ãªæƒ…å ±ã‚’å‰Šé™¤\n- ç°¡æ½”ãªæŒ‡ç¤º\n\n**2. å‡ºåŠ›ãƒˆãƒ¼ã‚¯ãƒ³æ•°ã‚’åˆ¶é™**ï¼š\n```typescript\nmaxOutputTokens: 4096  // å¿…è¦æœ€å°é™\n```\n\n**3. ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’æ´»ç”¨**ï¼š\nåŒã˜ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã¯çµæœã‚’ã‚­ãƒ£ãƒƒã‚·ãƒ¥\n\n---\n\n## ã“ã®åˆ¤æ–­ã¯ä»Šã‚‚æœ‰åŠ¹ã‹ï¼Ÿ\n\n**2025-11-24 æ™‚ç‚¹ï¼šå†æ¤œè¨ãŒå¿…è¦**\n\n**å¤‰åŒ–ã—ãŸçŠ¶æ³**ï¼š\n1. **GPT-4o ãƒªãƒªãƒ¼ã‚¹**ï¼ˆ2025å¹´10æœˆï¼‰ï¼š\n   - ã‚³ã‚¹ãƒˆãŒå¤§å¹…ã«ä½ä¸‹\n   - å“è³ªãŒå‘ä¸Š\n   - å†è¨ˆç®—ãŒå¿…è¦\n\n2. **Gemini 1.5 Pro ã®ä¾¡æ ¼å¤‰å‹•**ï¼š\n   - å€¤ä¸Šã’ or å€¤ä¸‹ã’ï¼Ÿ\n\n3. **Claude 3.5 Sonnet**ï¼š\n   - æ—¥æœ¬èªå“è³ªãŒæ›´ã«å‘ä¸Š\n\n**å†æ¤œè¨ã™ã¹ãé …ç›®**ï¼š\n- [ ] æœ€æ–°ã®ä¾¡æ ¼ã‚’ç¢ºèª\n- [ ] æœ€æ–°ãƒ¢ãƒ‡ãƒ«ã§å“è³ªæ¯”è¼ƒ\n- [ ] ã‚³ã‚¹ãƒˆåŠ¹ç‡ã‚’å†è¨ˆç®—\n\n---\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `skill_llm_parameter_temperature_2025_04_22.md` - Gemini ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿è¨­å®š\n- `failure_api_cost_issue_openai_to_gemini_2025_04_22.md` - GPT-4 ã‹ã‚‰ Gemini ã«ç§»è¡Œã—ãŸçµŒç·¯\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€ŒGemini API vs GPT-4 ã®æŠ€è¡“é¸å®šã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "skill-llm-parameter-temperature",
      "failure-api-cost-issue-openai-to-gemini"
    ]
  },
  {
    "slug": "tech-github-actions-vs-vercel-cron",
    "title": "GitHub Actions vs Vercel Cron ã®æŠ€è¡“é¸å®š",
    "category": "Decisionsï¼ˆæŠ€è¡“é¸å®šãƒ»åˆ¤æ–­ï¼‰",
    "description": "GitHub Actions vs Vercel Cron ã®æŠ€è¡“é¸å®š",
    "project": "ai-blog-generator",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"decision_tech_github_actions_vs_vercel_cron_2025_04_22\",\n  \"type\": \"decision\",\n  \"name\": \"GitHub Actions vs Vercel Cron ã®æŠ€è¡“é¸å®š\",\n  \"decision_type\": \"tech_selection\",\n  \"tags\": [\"GitHub Actions\", \"Vercel Cron\", \"è‡ªå‹•åŒ–\", \"cron\", \"ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«å®Ÿè¡Œ\"],\n  \"source_project\": \"ai-blog-generator\",\n  \"chosen\": \"GitHub Actions\",\n  \"alternatives\": [\"Vercel Cron Jobs\", \"AWS Lambda + EventBridge\", \"n8n\"],\n  \"related_knowledge\": [\"skill_github_actions_cron_automation_2025_04_22\"],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-04-22\",\n  \"updated\": \"2025-04-22\"\n}\n```\n\n# GitHub Actions vs Vercel Cron ã®æŠ€è¡“é¸å®š\n\n## ä½•ã‚’åˆ¤æ–­ã—ãŸã‹\n\nãƒ–ãƒ­ã‚°è¨˜äº‹ã‚’æ¯æ—¥è‡ªå‹•ç”Ÿæˆã™ã‚‹ãŸã‚ã«ã€GitHub Actions ã‚’ä½¿ã†ã‹ Vercel Cron Jobs ã‚’ä½¿ã†ã‹ã‚’åˆ¤æ–­ã—ãŸã€‚\n\n## é¸ã‚“ã ã‚‚ã®\n\n**GitHub Actionsï¼ˆcron ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ï¼‰**\n\n## ä»–ã®å€™è£œ\n\n### å€™è£œ1ï¼šVercel Cron Jobs\n\n**æ¤œè¨å†…å®¹**ï¼š\n- Vercel ã®å…¬å¼æ©Ÿèƒ½\n- Next.js ã¨ã®çµ±åˆ\n- è¨­å®šãŒç°¡å˜\n- ãƒ‡ãƒ—ãƒ­ã‚¤ã¨åŒæ™‚ã«ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**ï¼š\n\n#### ç†ç”±1ï¼šæœ‰æ–™ãƒ—ãƒ©ãƒ³ãŒå¿…è¦\n\nVercel Cron Jobs ã®æ–™é‡‘ï¼š\n- **Hobbyï¼ˆç„¡æ–™ï¼‰ãƒ—ãƒ©ãƒ³ï¼šåˆ©ç”¨ä¸å¯**\n- **Pro ãƒ—ãƒ©ãƒ³ï¼š$20 / æœˆ**\n- Enterprise ãƒ—ãƒ©ãƒ³ï¼šã‚«ã‚¹ã‚¿ãƒ ä¾¡æ ¼\n\nGitHub Actions ã®æ–™é‡‘ï¼š\n- **ãƒ‘ãƒ–ãƒªãƒƒã‚¯ãƒªãƒã‚¸ãƒˆãƒªï¼šå®Œå…¨ç„¡æ–™**\n- ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆãƒªãƒã‚¸ãƒˆãƒªï¼šæœˆ2000åˆ†ã¾ã§ç„¡æ–™\n\n**åˆ¤æ–­**ï¼š\n- Vercel Cron ã®ãŸã‚ã«æœˆé¡ $20 ã¯é«˜ã™ãã‚‹\n- GitHub Actions ã¯å®Œå…¨ç„¡æ–™\n\n#### ç†ç”±2ï¼šå®Ÿè¡Œç’°å¢ƒã®åˆ¶é™\n\nVercel Cron ã®å®Ÿè¡Œç’°å¢ƒï¼š\n- Vercel Edge Functions ã¾ãŸã¯ Serverless Functions\n- **å®Ÿè¡Œæ™‚é–“åˆ¶é™ï¼š10ç§’ï¼ˆHobbyï¼‰ã€60ç§’ï¼ˆProï¼‰**\n- ãƒ¡ãƒ¢ãƒªåˆ¶é™ï¼š1024MB\n\nè¨˜äº‹ç”Ÿæˆã®å‡¦ç†æ™‚é–“ï¼š\n- Gemini API å‘¼ã³å‡ºã—ï¼š3-5ç§’\n- è¨˜äº‹ä¿å­˜ï¼š1ç§’\n- åˆè¨ˆï¼š5-10ç§’\n\n**å•é¡Œç‚¹**ï¼š\n- Pro ãƒ—ãƒ©ãƒ³ï¼ˆ$20/æœˆï¼‰ã§ã‚‚60ç§’åˆ¶é™\n- è¨˜äº‹ç”ŸæˆãŒè¤‡é›‘åŒ–ã™ã‚‹ã¨åˆ¶é™ã‚’è¶…ãˆã‚‹å¯èƒ½æ€§\n- ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã€ãƒªãƒˆãƒ©ã‚¤ã‚’è¿½åŠ ã™ã‚‹ã¨æ™‚é–“ä¸è¶³\n\nGitHub Actionsï¼š\n- **å®Ÿè¡Œæ™‚é–“åˆ¶é™ï¼š6æ™‚é–“ï¼ˆã‚¸ãƒ§ãƒ–å˜ä½ï¼‰**\n- ååˆ†ãªæ™‚é–“çš„ä½™è£•\n\n#### ç†ç”±3ï¼šGitçµ±åˆãŒå¿…è¦\n\n**ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®è¦ä»¶**ï¼š\n1. è¨˜äº‹ã‚’ç”Ÿæˆ\n2. `content/blog/` ã«ä¿å­˜\n3. **Git ã«ã‚³ãƒŸãƒƒãƒˆãƒ»ãƒ—ãƒƒã‚·ãƒ¥**\n4. Vercel ãŒè‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤\n\nVercel Cron ã®å ´åˆï¼š\n```\nVercel Cron\n  â†“\nè¨˜äº‹ç”Ÿæˆ\n  â†“\nâŒ ãƒ•ã‚¡ã‚¤ãƒ«ä¿å­˜ï¼ˆVercel Functions ã¯æ›¸ãè¾¼ã¿ä¸å¯ï¼‰\n  â†“\nGit ã«ã‚³ãƒŸãƒƒãƒˆï¼ˆã©ã†ã‚„ã£ã¦ï¼Ÿï¼‰\n```\n\n**å•é¡Œç‚¹**ï¼š\n- Vercel Functions ã¯ãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ ã¸ã®æ›¸ãè¾¼ã¿ãŒåˆ¶é™ã•ã‚Œã‚‹\n- Git ã‚³ãƒŸãƒƒãƒˆãƒ»ãƒ—ãƒƒã‚·ãƒ¥ã‚’å®Ÿè¡Œã™ã‚‹æ–¹æ³•ãŒè¤‡é›‘\n\nGitHub Actions ã®å ´åˆï¼š\n```\nGitHub Actions\n  â†“\nè¨˜äº‹ç”Ÿæˆ\n  â†“\nâœ… ãƒ•ã‚¡ã‚¤ãƒ«ä¿å­˜\n  â†“\nâœ… Git ã«ã‚³ãƒŸãƒƒãƒˆãƒ»ãƒ—ãƒƒã‚·ãƒ¥ï¼ˆç°¡å˜ï¼‰\n  â†“\nVercel ãŒè‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤\n```\n\n**å®Ÿè£…ãŒç°¡å˜**ï¼š\n```bash\ngit config --local user.email \"actions@github.com\"\ngit config --local user.name \"GitHub Actions\"\ngit add content/blog\ngit commit -m \"è¨˜äº‹è¿½åŠ \"\ngit push\n```\n\n---\n\n### å€™è£œ2ï¼šAWS Lambda + EventBridge\n\n**æ¤œè¨å†…å®¹**ï¼š\n- é«˜ã„æŸ”è»Ÿæ€§\n- ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£\n- AWS ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ \n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**ï¼š\n\n#### ç†ç”±1ï¼šè¨­å®šãŒè¤‡é›‘\n\nAWS Lambda + EventBridge ã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ï¼š\n1. Lambda é–¢æ•°ã‚’ä½œæˆ\n2. EventBridge ãƒ«ãƒ¼ãƒ«ã‚’ä½œæˆ\n3. IAM ãƒ­ãƒ¼ãƒ«ã‚’è¨­å®š\n4. ç’°å¢ƒå¤‰æ•°ã‚’è¨­å®š\n5. ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚’æ§‹ç¯‰\n\nGitHub Actions ã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ï¼š\n1. YAMLãƒ•ã‚¡ã‚¤ãƒ«1ã¤ã‚’ä½œæˆ\n\n**åˆ¤æ–­**ï¼š\n- å°è¦æ¨¡ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ã¯ AWS ã¯éå‰°\n- è¨­å®šãƒ»ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ãŒè¤‡é›‘ã™ãã‚‹\n\n#### ç†ç”±2ï¼šã‚³ã‚¹ãƒˆ\n\nAWS Lambdaï¼š\n- ç„¡æ–™æ ï¼š100ä¸‡ãƒªã‚¯ã‚¨ã‚¹ãƒˆ/æœˆã€40ä¸‡GB-ç§’/æœˆ\n- è¶…éåˆ†ã¯æœ‰æ–™\n\nGitHub Actionsï¼š\n- ãƒ‘ãƒ–ãƒªãƒƒã‚¯ãƒªãƒã‚¸ãƒˆãƒªã¯å®Œå…¨ç„¡æ–™\n\n**åˆ¤æ–­**ï¼š\n- ç„¡æ–™æ å†…ã«åã¾ã‚‹å¯èƒ½æ€§ã¯é«˜ã„ãŒã€GitHub Actions ã®æ–¹ãŒã‚·ãƒ³ãƒ—ãƒ«\n\n#### ç†ç”±3ï¼šGitçµ±åˆ\n\nAWS Lambda ã‹ã‚‰ Git ã«ã‚³ãƒŸãƒƒãƒˆï¼š\n- Lambda å†…ã§ Git ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹å¿…è¦\n- SSH ã‚­ãƒ¼ã®ç®¡ç†\n- è¤‡é›‘ãªã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—\n\n---\n\n### å€™è£œ3ï¼šn8nï¼ˆãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼è‡ªå‹•åŒ–ãƒ„ãƒ¼ãƒ«ï¼‰\n\n**æ¤œè¨å†…å®¹**ï¼š\n- ãƒãƒ¼ã‚³ãƒ¼ãƒ‰/ãƒ­ãƒ¼ã‚³ãƒ¼ãƒ‰\n- è¦–è¦šçš„ãªãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼è¨­è¨ˆ\n- å¤šæ•°ã®ã‚¤ãƒ³ãƒ†ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**ï¼š\n\n#### ç†ç”±1ï¼šåˆ¥ã‚µãƒ¼ãƒ“ã‚¹ã®ç®¡ç†ãŒå¿…è¦\n\nn8n ã®ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ï¼š\n- ã‚»ãƒ«ãƒ•ãƒ›ã‚¹ãƒˆï¼šã‚µãƒ¼ãƒãƒ¼ãŒå¿…è¦\n- n8n Cloudï¼šæœ‰æ–™ï¼ˆ$20/æœˆã€œï¼‰\n\nGitHub Actionsï¼š\n- è¿½åŠ ã®ã‚µãƒ¼ãƒ“ã‚¹ä¸è¦\n\n#### ç†ç”±2ï¼šGitçµ±åˆ\n\nn8n ã‹ã‚‰ Git ã«ã‚³ãƒŸãƒƒãƒˆï¼š\n- GitHub Actions ã‚¤ãƒ³ãƒ†ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½¿ã†\n- ã¾ãŸã¯ Webhook ã‚’ä½¿ã†\n- è¤‡é›‘\n\n---\n\n## åˆ¤æ–­ç†ç”±ï¼ˆã¾ã¨ã‚ï¼‰\n\n### ç†ç”±1ï¼šå®Œå…¨ç„¡æ–™\n\n| ã‚µãƒ¼ãƒ“ã‚¹ | æ–™é‡‘ |\n|---------|------|\n| **GitHub Actions** | **ç„¡æ–™ï¼ˆãƒ‘ãƒ–ãƒªãƒƒã‚¯ï¼‰** |\n| Vercel Cron | $20/æœˆï¼ˆPro ãƒ—ãƒ©ãƒ³ï¼‰ |\n| AWS Lambda | ç„¡æ–™æ ã‚ã‚Šã€è¶…éåˆ†æœ‰æ–™ |\n| n8n | $20/æœˆã€œ |\n\n**åˆ¤æ–­**ï¼š\n- å€‹äººé–‹ç™ºã§ã¯ç„¡æ–™ãŒæœ€é‡è¦\n- GitHub Actions ä¸€æŠ\n\n### ç†ç”±2ï¼šGitçµ±åˆãŒç°¡å˜\n\nè¨˜äº‹ç”Ÿæˆ â†’ Git ã‚³ãƒŸãƒƒãƒˆ â†’ ãƒ‡ãƒ—ãƒ­ã‚¤ï¼š\n- GitHub Actionsï¼šãƒã‚¤ãƒ†ã‚£ãƒ–ã‚µãƒãƒ¼ãƒˆ\n- ä»–ã®ã‚µãƒ¼ãƒ“ã‚¹ï¼šè¤‡é›‘ãªè¨­å®šãŒå¿…è¦\n\n### ç†ç”±3ï¼šè¨­å®šãŒã‚·ãƒ³ãƒ—ãƒ«\n\nYAMLãƒ•ã‚¡ã‚¤ãƒ«1ã¤ã§å®Œçµï¼š\n```yaml\nname: Generate Daily Blog Post\non:\n  schedule:\n    - cron: '0 0 * * *'\njobs:\n  generate:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v4\n      - run: npm ci\n      - run: npm run generate\n      - run: git add . && git commit -m \"è¨˜äº‹è¿½åŠ \" && git push\n```\n\n### ç†ç”±4ï¼šååˆ†ãªå®Ÿè¡Œæ™‚é–“\n\n- GitHub Actionsï¼š6æ™‚é–“\n- Vercel Cronï¼š60ç§’ï¼ˆPro ãƒ—ãƒ©ãƒ³ï¼‰\n\n---\n\n## ã“ã®åˆ¤æ–­ã‹ã‚‰å­¦ã¹ã‚‹ã“ã¨\n\n### å­¦ã³1ï¼šç„¡æ–™ã®é¸æŠè‚¢ã‚’æœ€å„ªå…ˆã«æ¤œè¨\n\nå€‹äººé–‹ç™ºãƒ»å°è¦æ¨¡ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯ï¼š\n- ã‚³ã‚¹ãƒˆãŒæœ€å¤§ã®éšœå£\n- ç„¡æ–™ã§å®Ÿç¾ã§ãã‚‹æ–¹æ³•ã‚’æœ€å„ªå…ˆ\n\n**é–“é•ã£ãŸåˆ¤æ–­**ï¼š\nã€ŒVercel ã¨çµ±åˆã•ã‚Œã¦ã„ã‚‹ã‹ã‚‰ Vercel Cron ã‚’ä½¿ãŠã†ã€\nâ†’ $20/æœˆã¯é«˜ã™ãã‚‹\n\n**æ­£ã—ã„åˆ¤æ–­**ï¼š\nã€ŒGitHub Actions ã¯ç„¡æ–™ã§ã€Git çµ±åˆã‚‚ç°¡å˜ã€\nâ†’ GitHub Actions ã‚’ä½¿ãŠã†\n\n### å­¦ã³2ï¼šã€Œçµ±åˆã€ã‚ˆã‚Šã€Œã‚·ãƒ³ãƒ—ãƒ«ã•ã€\n\nVercel Cron ã¯ Vercel ã¨çµ±åˆã•ã‚Œã¦ã„ã‚‹ãŒï¼š\n- Git ã‚³ãƒŸãƒƒãƒˆãŒå¿…è¦\n- å®Ÿè¡Œæ™‚é–“åˆ¶é™ãŒå³ã—ã„\n- æœ‰æ–™\n\nGitHub Actions ã¯åˆ¥ã‚µãƒ¼ãƒ“ã‚¹ã ãŒï¼š\n- Gitçµ±åˆãŒãƒã‚¤ãƒ†ã‚£ãƒ–\n- å®Ÿè¡Œæ™‚é–“ãŒé•·ã„\n- ç„¡æ–™\n\nâ†’ **çµ±åˆã•ã‚Œã¦ã„ã‚‹ã‹ã‚‰ã¨ã„ã£ã¦æœ€é©ã¨ã¯é™ã‚‰ãªã„**\n\n### å­¦ã³3ï¼šå®Ÿè¡Œæ™‚é–“åˆ¶é™ã‚’è€ƒæ…®ã™ã‚‹\n\nã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹é–¢æ•°ã®åˆ¶é™ï¼š\n- Vercelï¼š10-60ç§’\n- AWS Lambdaï¼š15åˆ†\n- Cloudflare Workersï¼š30ç§’\n\n**åˆ¤æ–­åŸºæº–**ï¼š\nå‡¦ç†æ™‚é–“ãŒäºˆæ¸¬ã§ããªã„ â†’ ååˆ†ãªä½™è£•ã‚’æŒã¤\n\n---\n\n## ã„ã¤ã“ã®åˆ¤æ–­åŸºæº–ã‚’é©ç”¨ã™ã‚‹ã‹\n\n### GitHub Actions ã‚’é¸ã¶ã¹ãå ´åˆ\n\n- [ ] Git ãƒªãƒã‚¸ãƒˆãƒªã§ç®¡ç†ã•ã‚Œã¦ã„ã‚‹\n- [ ] Git ã‚³ãƒŸãƒƒãƒˆãŒå¿…è¦\n- [ ] ç„¡æ–™ã§å®Ÿè¡Œã—ãŸã„\n- [ ] ã‚·ãƒ³ãƒ—ãƒ«ãªè¨­å®šãŒå¥½ã¿\n- [ ] å®Ÿè¡Œæ™‚é–“ãŒé•·ã„ï¼ˆæ•°åˆ†ã€œæ•°æ™‚é–“ï¼‰\n\n### Vercel Cron ã‚’é¸ã¶ã¹ãå ´åˆ\n\n- [ ] Vercel Pro ãƒ—ãƒ©ãƒ³ã‚’æ—¢ã«å¥‘ç´„ã—ã¦ã„ã‚‹\n- [ ] å®Ÿè¡Œæ™‚é–“ãŒçŸ­ã„ï¼ˆ<60ç§’ï¼‰\n- [ ] Git ã‚³ãƒŸãƒƒãƒˆä¸è¦\n- [ ] Vercel ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ å†…ã§å®Œçµã•ã›ãŸã„\n\n### AWS Lambda ã‚’é¸ã¶ã¹ãå ´åˆ\n\n- [ ] é«˜ã„ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£ãŒå¿…è¦\n- [ ] AWS ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ã‚’æ´»ç”¨\n- [ ] è¤‡é›‘ãªãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ãŒå¿…è¦\n- [ ] å¤§è¦æ¨¡ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ\n\n---\n\n## å®Ÿè£…ã®è©³ç´°\n\n### GitHub Actions ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼\n\n```yaml\nname: Generate Daily Blog Post\n\non:\n  schedule:\n    - cron: '0 0 * * *'  # æ¯æ—¥UTC 0æ™‚ï¼ˆæ—¥æœ¬æ™‚é–“9æ™‚ï¼‰\n  workflow_dispatch:      # æ‰‹å‹•å®Ÿè¡Œã‚‚å¯èƒ½\n\njobs:\n  generate:\n    runs-on: ubuntu-latest\n\n    steps:\n      - name: Checkout code\n        uses: actions/checkout@v4\n\n      - name: Setup Node.js\n        uses: actions/setup-node@v4\n        with:\n          node-version: '20'\n          cache: 'npm'\n\n      - name: Install dependencies\n        run: npm ci\n\n      - name: Generate blog post\n        run: npx tsx src/scripts/generate-blog.ts\n        env:\n          GEMINI_API_KEY: ${{ secrets.GEMINI_API_KEY }}\n\n      - name: Commit and push if changes\n        run: |\n          git config --local user.email \"github-actions@github.com\"\n          git config --local user.name \"GitHub Actions\"\n          git add content/blog\n          git diff --staged --quiet || (git commit -m \"è‡ªå‹•ç”Ÿæˆ: ãƒ–ãƒ­ã‚°è¨˜äº‹è¿½åŠ  $(date +'%Y-%m-%d')\" && git push)\n```\n\n### è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤ã®æµã‚Œ\n\n```\nGitHub Actionsï¼ˆcronï¼‰\n  â†“\nè¨˜äº‹ç”Ÿæˆ\n  â†“\nGit ã‚³ãƒŸãƒƒãƒˆãƒ»ãƒ—ãƒƒã‚·ãƒ¥\n  â†“\nVercel ãŒè‡ªå‹•æ¤œçŸ¥\n  â†“\nè‡ªå‹•ãƒ“ãƒ«ãƒ‰ãƒ»ãƒ‡ãƒ—ãƒ­ã‚¤\n  â†“\nè¨˜äº‹ãŒå…¬é–‹\n```\n\n---\n\n## ã“ã®åˆ¤æ–­ã¯ä»Šã‚‚æœ‰åŠ¹ã‹ï¼Ÿ\n\n**2025-11-24 æ™‚ç‚¹ï¼šæœ‰åŠ¹**\n\n- GitHub Actions ã¯å®‰å®šã—ã¦ã„ã‚‹\n- Vercel Cron ã¯ä¾ç„¶ã¨ã—ã¦æœ‰æ–™\n- Git çµ±åˆã®å¿…è¦æ€§ã¯å¤‰ã‚ã‚‰ãš\n\n**å†æ¤œè¨ã™ã¹ãçŠ¶æ³**ï¼š\n- [ ] Vercel Cron ãŒç„¡æ–™ã«ãªã£ãŸ\n- [ ] Git ã‚³ãƒŸãƒƒãƒˆãŒä¸è¦ã«ãªã£ãŸï¼ˆAPI ã§ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç®¡ç†ï¼‰\n- [ ] å®Ÿè¡Œæ™‚é–“ãŒ60ç§’ä»¥ä¸‹ã«çŸ­ç¸®ã§ããŸ\n\n---\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `skill_github_actions_cron_automation_2025_04_22.md` - GitHub Actions ã®å®Ÿè£…è©³ç´°\n- `workflow_blog_auto_generation_flow_2025_04_22.md` - è¨˜äº‹è‡ªå‹•ç”Ÿæˆã®å…¨ä½“ãƒ•ãƒ­ãƒ¼\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€ŒGitHub Actions vs Vercel Cron ã®æŠ€è¡“é¸å®šã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "skill-github-actions-cron-automation"
    ]
  },
  {
    "slug": "tech-google-sheets-api-v4",
    "title": "Google Sheets API v4ã‚’ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ã¨ã—ã¦é¸æŠ",
    "category": "Decisionsï¼ˆæŠ€è¡“é¸å®šãƒ»åˆ¤æ–­ï¼‰",
    "description": "Google Sheets API v4ã‚’ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ã¨ã—ã¦é¸æŠ",
    "project": "yumesuta-management-system",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"decision_tech_google_sheets_api_v4_2025_11_24\",\n  \"type\": \"decision\",\n  \"name\": \"Google Sheets API v4ã‚’ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ã¨ã—ã¦é¸æŠ\",\n  \"decision_type\": \"tech_selection\",\n  \"tags\": [\"Google Sheets API\", \"ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹\", \"ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆ\", \"API\", \"ãƒ‡ãƒ¼ã‚¿é€£æº\"],\n  \"source_project\": \"yumesuta-management-system\",\n  \"chosen\": \"Google Sheets API v4\",\n  \"alternatives\": [\"PostgreSQL\", \"MySQL\", \"MongoDB\", \"Supabase\", \"Airtable\"],\n  \"related_knowledge\": [\n    \"skill_google_sheets_service_account_auth_2025_11_24\",\n    \"skill_google_sheets_cache_implementation_2025_11_24\",\n    \"failure_api_quota_exceeded_crisis_2025_11_24\"\n  ],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-24\",\n  \"updated\": \"2025-11-24\"\n}\n```\n\n# Google Sheets API v4ã‚’ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ã¨ã—ã¦é¸æŠ\n\n## ä½•ã‚’åˆ¤æ–­ã—ãŸã‹\n\n**ã‚†ã‚ã‚¹ã‚¿çµ±åˆãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚·ã‚¹ãƒ†ãƒ ã®ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ï¼ˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰DBï¼‰ã¨ã—ã¦ã€Google Sheets API v4ã‚’æ¡ç”¨ã™ã‚‹ã€‚**\n\nå¾“æ¥ã®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ï¼ˆPostgreSQLã€MySQLç­‰ï¼‰ã§ã¯ãªãã€Google Spreadsheetsã‚’ãƒ‡ãƒ¼ã‚¿ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã¨ã—ã¦æ´»ç”¨ã™ã‚‹è¨­è¨ˆåˆ¤æ–­ã€‚\n\n---\n\n## é¸ã‚“ã ã‚‚ã®\n\n### Google Sheets API v4\n\n**ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: v4ï¼ˆæœ€æ–°å®‰å®šç‰ˆï¼‰\n**ãƒ©ã‚¤ãƒ–ãƒ©ãƒª**: `googleapis` npm packageï¼ˆv161.0.0ï¼‰\n**èªè¨¼æ–¹å¼**: ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆï¼ˆPhase 1ï¼‰ã€OAuthï¼ˆPhase 2äºˆå®šï¼‰\n**ã‚¹ã‚³ãƒ¼ãƒ—**: `https://www.googleapis.com/auth/spreadsheets`ï¼ˆèª­ã¿æ›¸ãä¸¡ç”¨ï¼‰\n\n**å®Ÿè£…ç®‡æ‰€**:\n- **ãƒ¡ã‚¤ãƒ³ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«**: `/lib/google-sheets.ts`\n- **ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆåˆæœŸåŒ–**: lines 143-168\n- **ãƒ‡ãƒ¼ã‚¿å–å¾—é–¢æ•°**: `getSheetData()`, `getBatchSheetData()`\n- **ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿å–å¾—**: `getSpreadsheetMetadata()`\n\n---\n\n## ä»–ã®å€™è£œ\n\n### å€™è£œ1: PostgreSQL + Prisma\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n\n1. **æ—¢å­˜æ¥­å‹™ãƒ•ãƒ­ãƒ¼ã¨ã®ä¸ä¸€è‡´**\n   - ã‚†ã‚ã‚¹ã‚¿ã§ã¯æ—¢ã«å–¶æ¥­ç®¡ç†ã€åˆ¶ä½œç®¡ç†ã€å¥‘ç´„ç®¡ç†ã‚’Google Sheetsã§é‹ç”¨ä¸­\n   - PostgreSQLã«ç§»è¡Œã™ã‚‹ã¨ã€ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã§ã®æ‰‹å…¥åŠ›æ¥­å‹™ãŒä¸å¯èƒ½ã«ãªã‚‹\n   - **éã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã®ã‚¹ã‚¿ãƒƒãƒ•ãŒSQLæ“ä½œã§ããªã„**\n\n2. **ãƒ‡ãƒ¼ã‚¿ç§»è¡Œã‚³ã‚¹ãƒˆ**\n   - æ—¢å­˜ã®10+ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã‚’PostgreSQLã‚¹ã‚­ãƒ¼ãƒã«å¤‰æ›\n   - ç§»è¡Œã‚¹ã‚¯ãƒªãƒ—ãƒˆä½œæˆ\n   - ãƒ‡ãƒ¼ã‚¿æ¤œè¨¼ãƒ»æ•´åˆæ€§ç¢ºèª\n   - **å·¥æ•°: 2é€±é–“ä»¥ä¸Š**\n\n3. **ã‚¤ãƒ³ãƒ•ãƒ©ç®¡ç†ã‚³ã‚¹ãƒˆ**\n   - ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚µãƒ¼ãƒãƒ¼ã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—\n   - ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãƒ»å¾©æ—§è¨ˆç”»\n   - ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¨­å®š\n   - **é‹ç”¨ã‚¹ã‚­ãƒ«ä¸è¶³**\n\n4. **MVPç¯„å›²å¤–ã®è¤‡é›‘æ€§**\n   - Phase 1ã¯ãƒ‡ãƒ¼ã‚¿è¡¨ç¤ºã®ã¿ï¼ˆèª­ã¿å–ã‚Šå°‚ç”¨ï¼‰\n   - PostgreSQLã®å¼·ã¿ï¼ˆãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã€è¤‡é›‘ãªJOINï¼‰ã‚’æ´»ã‹ã›ãªã„\n\n### å€™è£œ2: MySQL + Next.js API Routes\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n- PostgreSQLã¨åŒæ§˜ã®ç†ç”±\n- ã•ã‚‰ã«MySQLã¯å‹ã‚·ã‚¹ãƒ†ãƒ ãŒPostgreSQLã‚ˆã‚Šå¼±ã„\n- ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆâ†’MySQLç§»è¡Œã®æ‰‹é–“ã¯åŒã˜\n\n### å€™è£œ3: MongoDB\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n\n1. **ã‚¹ã‚­ãƒ¼ãƒãƒ¬ã‚¹ã®ãƒ¡ãƒªãƒƒãƒˆãŒæ´»ã‹ã›ãªã„**\n   - ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã¯æ—¢ã«æ§‹é€ åŒ–ã•ã‚Œã¦ã„ã‚‹\n   - æŸ”è»Ÿãªã‚¹ã‚­ãƒ¼ãƒå¤‰æ›´ãŒå¿…è¦ãªå ´é¢ãŒãªã„\n\n2. **ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆæ¥­å‹™ã¨ã®æ–­çµ¶**\n   - PostgreSQLã¨åŒã˜å•é¡Œï¼šéã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãŒæ“ä½œã§ããªã„\n\n3. **ã‚¯ã‚¨ãƒªã®è¤‡é›‘æ€§**\n   - é›†è¨ˆå‡¦ç†ï¼ˆå£²ä¸Šåˆè¨ˆã€å¹³å‡ç­‰ï¼‰ã‚’MongoDBé›†è¨ˆãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã§å®Ÿè£…\n   - ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆé–¢æ•°ï¼ˆSUMã€AVERAGEï¼‰ã‚ˆã‚Šè¤‡é›‘\n\n### å€™è£œ4: Supabaseï¼ˆPostgreSQL + ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ï¼‰\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n\n1. **PostgreSQLã¨åŒã˜å•é¡Œã‚’ç¶™æ‰¿**\n   - ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆæ¥­å‹™ã¨ã®æ–­çµ¶\n   - ãƒ‡ãƒ¼ã‚¿ç§»è¡Œã‚³ã‚¹ãƒˆ\n\n2. **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ©Ÿèƒ½ãŒä¸è¦**\n   - MVPç¯„å›²ã§ã¯æ‰‹å‹•æ›´æ–°ï¼ˆã€Œæ›´æ–°ã€ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯ï¼‰\n   - WebSocketæ¥ç¶šã®ã‚ªãƒ¼ãƒãƒ¼ãƒ˜ãƒƒãƒ‰ãŒç„¡é§„\n\n3. **å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹ä¾å­˜**\n   - Supabaseéšœå®³æ™‚ã«ã‚·ã‚¹ãƒ†ãƒ å…¨åœæ­¢\n   - Google Sheetsã¯æ—¢ã«ç¤¾å†…ã§ä½¿ç”¨ã—ã¦ãŠã‚Šä¿¡é ¼æ€§ç¢ºèªæ¸ˆã¿\n\n### å€™è£œ5: Airtable\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n\n1. **ã‚³ã‚¹ãƒˆ**\n   - Airtable Pro: $20/user/month\n   - Google Workspace: æ—¢å­˜å¥‘ç´„ï¼ˆè¿½åŠ ã‚³ã‚¹ãƒˆãªã—ï¼‰\n\n2. **ãƒ‡ãƒ¼ã‚¿ç§»è¡Œã‚³ã‚¹ãƒˆ**\n   - ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆâ†’Airtableãƒ™ãƒ¼ã‚¹å¤‰æ›\n   - æ—¢å­˜ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã®é–¢æ•°ãƒ»ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã‚’å†å®Ÿè£…\n\n3. **APIåˆ¶é™**\n   - Airtable API: 5 requests/second/base\n   - Google Sheets API: 60 requests/minuteï¼ˆã‚ˆã‚Šç·©ã„ï¼‰\n\n4. **ç¤¾å†…ã‚¹ã‚­ãƒ«ã‚»ãƒƒãƒˆ**\n   - ãƒãƒ¼ãƒ ã¯Google Sheetsã«æ…£ã‚Œã¦ã„ã‚‹\n   - Airtableã®å­¦ç¿’ã‚³ã‚¹ãƒˆãŒç™ºç”Ÿ\n\n---\n\n## åˆ¤æ–­ç†ç”±\n\n### ç†ç”±1: æ—¢å­˜æ¥­å‹™ãƒ•ãƒ­ãƒ¼ã®ç¶™ç¶š\n\n**æœ€é‡è¦ç†ç”±**: ã‚†ã‚ã‚¹ã‚¿ã§ã¯æ—¢ã«Google Sheetsã§å…¨æ¥­å‹™ã‚’ç®¡ç†ã—ã¦ã„ã‚‹ã€‚\n\n**æ—¢å­˜ã®ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆ**:\n- å–¶æ¥­ç®¡ç†ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆï¼ˆå¥‘ç´„ãƒ»å…¥é‡‘ç®¡ç†ï¼‰\n- ã‚†ã‚ãƒã‚¬åˆ¶ä½œã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆï¼ˆPhase4é€†ç®—ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©ãƒ¼ï¼‰\n- ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼ãƒ»ã‚¹ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆ\n- SNSæŠ•ç¨¿ç®¡ç†ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆ\n- ã‚¿ã‚¹ã‚¯ç®¡ç†ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆ\n\n**æ¥­å‹™ãƒ•ãƒ­ãƒ¼**:\n1. å–¶æ¥­ã‚¹ã‚¿ãƒƒãƒ•ãŒã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã«å¥‘ç´„æƒ…å ±ã‚’æ‰‹å…¥åŠ›\n2. ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ãŒé€²æ—ã‚’ç¢ºèª\n3. åˆ¶ä½œãƒãƒ¼ãƒ ãŒã‚†ã‚ãƒã‚¬å·¥ç¨‹ã‚’æ›´æ–°\n4. **ã“ã®ãƒ•ãƒ­ãƒ¼ã‚’å¤‰ãˆãšã«ã€ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã§å¯è¦–åŒ–ã§ãã‚‹**\n\n### ç†ç”±2: éã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãŒæ“ä½œå¯èƒ½\n\n**èƒŒæ™¯**: ã‚†ã‚ã‚¹ã‚¿ã®ã‚¹ã‚¿ãƒƒãƒ•ã¯éã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã€‚\n\n**Google Sheetsã®åˆ©ç‚¹**:\n- Excelãƒ©ã‚¤ã‚¯ãªæ“ä½œæ„Ÿ\n- ã‚»ãƒ«ã®ç›´æ¥ç·¨é›†\n- é–¢æ•°ï¼ˆSUMã€VLOOKUPç­‰ï¼‰ãŒä½¿ãˆã‚‹\n- æ¡ä»¶ä»˜ãæ›¸å¼ã§è¦–è¦šåŒ–\n- **SQLä¸è¦ã€ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ä¸è¦**\n\n**PostgreSQL/MySQLã®æ¬ ç‚¹**:\n- SQLæ–‡ã‚’æ›¸ãå¿…è¦\n- ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³æ“ä½œ\n- ç®¡ç†ç”»é¢ã®æ§‹ç¯‰ãŒå¿…è¦\n- **éã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã«ã¯ä¸å¯èƒ½**\n\n### ç†ç”±3: ã‚¼ãƒ­ã‚¤ãƒ³ãƒ•ãƒ©ã‚³ã‚¹ãƒˆ\n\n**ã‚¤ãƒ³ãƒ•ãƒ©ä¸è¦**:\n- ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚µãƒ¼ãƒãƒ¼ã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ä¸è¦\n- ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—è¨­å®šä¸è¦ï¼ˆGoogleè‡ªå‹•ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ï¼‰\n- ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°ä¸è¦ï¼ˆGoogleç®¡ç†ï¼‰\n\n**ã‚³ã‚¹ãƒˆ**:\n- Google Workspace: æ—¢å­˜å¥‘ç´„ï¼ˆè¿½åŠ ã‚³ã‚¹ãƒˆ $0ï¼‰\n- Google Cloud Platform: ç„¡æ–™æ å†…ã§é‹ç”¨å¯èƒ½\n- **Total: $0**\n\n**æ¯”è¼ƒ**:\n- PostgreSQL on AWS RDS: ~$15/æœˆ\n- Supabase Pro: ~$25/æœˆ\n- Airtable Pro: $20/user/æœˆ Ã— 5ãƒ¦ãƒ¼ã‚¶ãƒ¼ = $100/æœˆ\n\n### ç†ç”±4: MVPé–‹ç™ºé€Ÿåº¦\n\n**Phase 1ï¼ˆMVPï¼‰ã®è¦ä»¶**: æ—¢å­˜ãƒ‡ãƒ¼ã‚¿ã®å¯è¦–åŒ–ã®ã¿\n\n**Google Sheets APIã®ãƒ¡ãƒªãƒƒãƒˆ**:\n- ãƒ‡ãƒ¼ã‚¿ç§»è¡Œä¸è¦ï¼ˆæ—¢å­˜ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã‚’ãã®ã¾ã¾ä½¿ç”¨ï¼‰\n- ã‚¹ã‚­ãƒ¼ãƒå®šç¾©ä¸è¦ï¼ˆã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã®åˆ—ãŒãã®ã¾ã¾ã‚¹ã‚­ãƒ¼ãƒï¼‰\n- CRUDå®Ÿè£…ã®ç°¡ç•¥åŒ–\n  - **Read**: `getSheetData()`\n  - **Write**: `updateSheetData()` (Phase 2)\n  - **Create**: `appendSheetData()` (Phase 2)\n  - **Delete**: ç¯„å›²å‰Šé™¤ï¼ˆPhase 2ï¼‰\n\n**é–‹ç™ºæ™‚é–“çŸ­ç¸®**:\n- ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆ: 0æ—¥ï¼ˆä¸è¦ï¼‰\n- ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ä½œæˆ: 0æ—¥ï¼ˆä¸è¦ï¼‰\n- ORMã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—: 0æ—¥ï¼ˆä¸è¦ï¼‰\n- **Total: Phase 1å®Œäº†ã¾ã§2æ—¥**ï¼ˆå®Ÿç¸¾ï¼‰\n\n**å¾“æ¥ã®DBæ–¹å¼**:\n- ã‚¹ã‚­ãƒ¼ãƒè¨­è¨ˆ: 2-3æ—¥\n- ãƒ‡ãƒ¼ã‚¿ç§»è¡Œ: 2-3æ—¥\n- ORM/ã‚¯ã‚¨ãƒªå®Ÿè£…: 3-4æ—¥\n- **Total: 7-10æ—¥**\n\n### ç†ç”±5: ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã‚³ãƒ©ãƒœãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³\n\n**Google Sheetsã®å¼·ã¿**:\n- è¤‡æ•°ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒåŒæ™‚ç·¨é›†å¯èƒ½\n- å¤‰æ›´å±¥æ­´ã®è‡ªå‹•è¨˜éŒ²\n- ã‚³ãƒ¡ãƒ³ãƒˆæ©Ÿèƒ½\n- æ¨©é™ç®¡ç†ï¼ˆé–²è¦§ã®ã¿ã€ç·¨é›†å¯èƒ½ï¼‰\n\n**ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹**:\n- å–¶æ¥­AãŒã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã«å¥‘ç´„è¿½åŠ \n- å–¶æ¥­BãŒåŒæ™‚ã«åˆ¥ã®å¥‘ç´„ã‚’è¿½åŠ \n- ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ãŒãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã§å³åº§ã«ç¢ºèª\n- **ç«¶åˆãªã—ã€è‡ªå‹•ãƒãƒ¼ã‚¸**\n\n### ç†ç”±6: ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆé–¢æ•°ã®æ´»ç”¨\n\n**æ—¢å­˜ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã®æ©Ÿèƒ½**:\n- `=SUM(B2:B100)` - å£²ä¸Šåˆè¨ˆ\n- `=VLOOKUP(A2, ãƒã‚¹ã‚¿!A:D, 2, FALSE)` - ãƒã‚¹ã‚¿å‚ç…§\n- `=IF(C2>D2, \"é…å»¶\", \"é †èª¿\")` - æ¡ä»¶åˆ¤å®š\n- `=ARRAYFORMULA()` - ä¸€æ‹¬è¨ˆç®—\n\n**ãƒ¡ãƒªãƒƒãƒˆ**:\n- ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å´ã§è¤‡é›‘ãªé›†è¨ˆãƒ­ã‚¸ãƒƒã‚¯ä¸è¦\n- ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆãŒã€Œè¨ˆç®—æ¸ˆã¿ãƒ‡ãƒ¼ã‚¿ã€ã‚’æä¾›\n- ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ã‚’ã‚¹ã‚¿ãƒƒãƒ•ãŒç›´æ¥å¤‰æ›´å¯èƒ½\n\n**ä¾‹**: å£²ä¸Šç›®æ¨™é”æˆç‡\n```\n// ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆå´\n=B2/C2*100  // å®Ÿç¸¾/ç›®æ¨™*100\n\n// ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å´ï¼ˆã‚·ãƒ³ãƒ—ãƒ«ï¼‰\nconst achievementRate = row[é”æˆç‡åˆ—];  // è¨ˆç®—æ¸ˆã¿å€¤ã‚’å–å¾—\n```\n\n---\n\n## ã“ã®åˆ¤æ–­ã‹ã‚‰å­¦ã¹ã‚‹ã“ã¨\n\n### å­¦ã³1: **æŠ€è¡“é¸æŠã¯æ¥­å‹™ãƒ•ãƒ­ãƒ¼ã«åˆã‚ã›ã‚‹**\n\nã€Œæœ€æ–°æŠ€è¡“ã€ã€Œãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ã€ã‚ˆã‚Šã€**æ—¢å­˜æ¥­å‹™ãƒ•ãƒ­ãƒ¼ã¨ã®æ•´åˆæ€§**ãŒæœ€å„ªå…ˆã€‚\n\n**æ‚ªã„ä¾‹**:\n- ã€ŒPostgreSQLãŒã‚¹ã‚¿ãƒ³ãƒ€ãƒ¼ãƒ‰ã ã‹ã‚‰ã€ã¨ã„ã†ç†ç”±ã§é¸æŠ\n- æ¥­å‹™ãƒ•ãƒ­ãƒ¼ãŒå¤‰ã‚ã‚Šã€ã‚¹ã‚¿ãƒƒãƒ•ãŒæ··ä¹±\n- ãƒ‡ãƒ¼ã‚¿å…¥åŠ›ãŒæ»ã‚‹\n\n**è‰¯ã„ä¾‹**:\n- ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆæ¥­å‹™ã‚’ç¶™ç¶š\n- ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã‚’è¿½åŠ ã™ã‚‹ã ã‘\n- ã‚¹ã‚¿ãƒƒãƒ•ã®æ¥­å‹™ã¯å¤‰ã‚ã‚‰ãªã„\n\n### å­¦ã³2: **éã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã®æ“ä½œæ€§ã‚’æœ€å„ªå…ˆ**\n\né–‹ç™ºè€…ãŒä½¿ã„ã‚„ã™ã„æŠ€è¡“ â‰  ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒä½¿ã„ã‚„ã™ã„æŠ€è¡“\n\n**Google Sheetsã®å¼·ã¿**:\n- Excelã‚¹ã‚­ãƒ«ãŒã‚ã‚Œã°ä½¿ãˆã‚‹\n- GUIæ“ä½œã®ã¿\n- å­¦ç¿’ã‚³ã‚¹ãƒˆæœ€å°\n\n### å­¦ã³3: **MVPã§ã¯ã‚¤ãƒ³ãƒ•ãƒ©ã‚³ã‚¹ãƒˆå‰Šæ¸›ãŒé‡è¦**\n\nPhase 1ï¼ˆMVPï¼‰ã§é«˜é¡ãªã‚¤ãƒ³ãƒ•ãƒ©ã«æŠ•è³‡ã—ãªã„ã€‚\n\n**åŸå‰‡**:\n- æ—¢å­˜ãƒ„ãƒ¼ãƒ«ã‚’æœ€å¤§é™æ´»ç”¨\n- æ–°è¦ã‚µãƒ¼ãƒ“ã‚¹å¥‘ç´„ã¯æœ€å°é™\n- ã‚¹ã‚±ãƒ¼ãƒ«ãŒå¿…è¦ã«ãªã£ã¦ã‹ã‚‰ç§»è¡Œæ¤œè¨\n\n### å­¦ã³4: **ãƒ‡ãƒ¼ã‚¿ç§»è¡Œã‚³ã‚¹ãƒˆã‚’éå°è©•ä¾¡ã—ãªã„**\n\nã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆâ†’DBã®ç§»è¡Œã¯ã€Œã‚³ãƒ”ãƒšã§çµ‚ã‚ã‚Šã€ã§ã¯ãªã„ã€‚\n\n**å®Ÿéš›ã®ä½œæ¥­**:\n- ã‚¹ã‚­ãƒ¼ãƒè¨­è¨ˆ\n- ãƒ‡ãƒ¼ã‚¿ã‚¯ãƒ¬ãƒ³ã‚¸ãƒ³ã‚°\n- å‹å¤‰æ›ï¼ˆæ—¥ä»˜ã€æ•°å€¤ã€NULLå‡¦ç†ï¼‰\n- é–¢æ•°ã®å†å®Ÿè£…\n- æ¤œè¨¼ãƒ»ãƒ†ã‚¹ãƒˆ\n- **2-3é€±é–“**\n\nGoogle Sheets APIãªã‚‰ã“ã‚Œã‚‰ãŒä¸è¦ã€‚\n\n---\n\n## é©ç”¨å ´é¢\n\n### ã“ã®åˆ¤æ–­ãŒé©åˆ‡ãªå ´é¢\n\n1. **æ—¢å­˜ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆãŒå¤§é‡ã«ã‚ã‚‹**\n   - 10+ã‚·ãƒ¼ãƒˆã€æ•°åƒè¡Œã®ãƒ‡ãƒ¼ã‚¿\n   - ç§»è¡Œã‚³ã‚¹ãƒˆãŒé«˜ã„\n\n2. **éã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãŒãƒ‡ãƒ¼ã‚¿å…¥åŠ›**\n   - å–¶æ¥­ã€äº‹å‹™ã€åˆ¶ä½œã‚¹ã‚¿ãƒƒãƒ•\n   - SQLæ“ä½œãŒä¸å¯èƒ½\n\n3. **MVPé–‹ç™ºï¼ˆèª­ã¿å–ã‚Šå°‚ç”¨ï¼‰**\n   - ãƒ‡ãƒ¼ã‚¿è¡¨ç¤ºã®ã¿\n   - è¤‡é›‘ãªãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ä¸è¦\n\n4. **ã‚¤ãƒ³ãƒ•ãƒ©ã‚³ã‚¹ãƒˆå‰Šæ¸›å„ªå…ˆ**\n   - äºˆç®—åˆ¶ç´„\n   - ã‚µãƒ¼ãƒãƒ¼é‹ç”¨ã‚¹ã‚­ãƒ«ä¸è¶³\n\n5. **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã‚³ãƒ©ãƒœãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãŒå¿…è¦**\n   - è¤‡æ•°äººãŒåŒæ™‚ç·¨é›†\n   - å¤‰æ›´å±¥æ­´ã®è¨˜éŒ²\n\n### ã“ã®åˆ¤æ–­ãŒä¸é©åˆ‡ãªå ´é¢\n\n1. **å¤§é‡ãƒ‡ãƒ¼ã‚¿ãƒ»é«˜é »åº¦ã‚¢ã‚¯ã‚»ã‚¹**\n   - 100ä¸‡è¡Œä»¥ä¸Šã®ãƒ‡ãƒ¼ã‚¿\n   - ç§’å˜ä½ã®é«˜é »åº¦æ›´æ–°\n   - **Google Sheets APIã®ã‚¯ã‚©ãƒ¼ã‚¿è¶…éãƒªã‚¹ã‚¯**\n\n2. **è¤‡é›‘ãªãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒŠãƒ«ã‚¯ã‚¨ãƒª**\n   - è¤‡æ•°ãƒ†ãƒ¼ãƒ–ãƒ«ã®JOIN\n   - ã‚µãƒ–ã‚¯ã‚¨ãƒªã€ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦é–¢æ•°\n   - **ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã§ã¯å›°é›£**\n\n3. **ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ä¿è¨¼ãŒå¿…é ˆ**\n   - é‡‘èã‚·ã‚¹ãƒ†ãƒ ã€æ±ºæ¸ˆå‡¦ç†\n   - ACIDç‰¹æ€§ãŒå¿…è¦\n   - **ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã§ã¯ä¸å¯èƒ½**\n\n4. **é«˜åº¦ãªã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¦ä»¶**\n   - å€‹äººæƒ…å ±ã€æ©Ÿå¯†ãƒ‡ãƒ¼ã‚¿\n   - è©³ç´°ãªæ¨©é™ç®¡ç†ï¼ˆè¡Œãƒ¬ãƒ™ãƒ«ï¼‰\n   - **Google Sheetsã¯å…±æœ‰è¨­å®šãŒã‚·ãƒ¼ãƒˆå˜ä½**\n\n---\n\n## å®Ÿè£…ä¾‹\n\n### Google Sheets APIã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆåˆæœŸåŒ–\n\n```typescript\n// lib/google-sheets.ts\nimport { google } from 'googleapis';\n\nexport function getGoogleSheetsClient() {\n  const credentialsJson = process.env.GOOGLE_SERVICE_ACCOUNT_KEY;\n  const credentials = JSON.parse(credentialsJson);\n\n  const auth = new google.auth.GoogleAuth({\n    credentials,\n    scopes: ['https://www.googleapis.com/auth/spreadsheets'],\n  });\n\n  const sheets = google.sheets({ version: 'v4', auth });\n  return sheets;\n}\n```\n\n### ãƒ‡ãƒ¼ã‚¿å–å¾—\n\n```typescript\nexport async function getSheetData(\n  spreadsheetId: string,\n  range: string\n): Promise<any[][]> {\n  const sheets = getGoogleSheetsClient();\n\n  const response = await sheets.spreadsheets.values.get({\n    spreadsheetId,\n    range,\n    valueRenderOption: 'FORMATTED_VALUE',  // è¡¨ç¤ºå€¤ã‚’å–å¾—\n  });\n\n  return response.data.values || [];\n}\n```\n\n### ä½¿ç”¨ä¾‹ï¼ˆAPI Routeï¼‰\n\n```typescript\n// app/api/sales-kpi/route.ts\nexport async function GET() {\n  const spreadsheetId = process.env.SALES_SPREADSHEET_ID!;\n  const data = await getSheetData(spreadsheetId, 'KPIãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰!A1:K20');\n\n  // ãƒ‡ãƒ¼ã‚¿ã‚’ãƒ‘ãƒ¼ã‚¹ã—ã¦è¿”ã™\n  const kpi = parseKPIData(data);\n  return NextResponse.json({ success: true, data: kpi });\n}\n```\n\n---\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- **skill_google_sheets_service_account_auth_2025_11_24.md**: ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆèªè¨¼å®Ÿè£…\n- **skill_google_sheets_cache_implementation_2025_11_24.md**: ã‚­ãƒ£ãƒƒã‚·ãƒ¥å®Ÿè£…ï¼ˆAPIã‚¯ã‚©ãƒ¼ã‚¿å¯¾ç­–ï¼‰\n- **failure_api_quota_exceeded_crisis_2025_11_24.md**: ã‚¯ã‚©ãƒ¼ã‚¿è¶…éå•é¡Œã¨è§£æ±ºç­–\n\n---\n\n## å°†æ¥ã®ç§»è¡Œè¨ˆç”»\n\n### Phase 3-4ã§PostgreSQLã¸ã®ç§»è¡Œã‚’æ¤œè¨ã™ã‚‹å¯èƒ½æ€§\n\n**ç§»è¡Œæ¡ä»¶**:\n1. ãƒ‡ãƒ¼ã‚¿é‡ãŒ50ä¸‡è¡Œã‚’è¶…ãˆã‚‹\n2. APIã‚¯ã‚©ãƒ¼ã‚¿åˆ¶é™ãŒå¸¸æ…‹çš„ã«å•é¡Œã«ãªã‚‹\n3. è¤‡é›‘ãªãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒŠãƒ«ã‚¯ã‚¨ãƒªãŒå¿…è¦\n4. ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°ï¼ˆWebSocketï¼‰ãŒå¿…è¦\n\n**ç§»è¡Œæ™‚ã®æˆ¦ç•¥**:\n1. ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆâ†’PostgreSQLã®è‡ªå‹•åŒæœŸã‚’å®Ÿè£…\n2. æ®µéšçš„ç§»è¡Œï¼ˆä¸€éƒ¨æ©Ÿèƒ½ãšã¤ï¼‰\n3. ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆå…¥åŠ›ã¯ç¶™ç¶šï¼ˆåŒæ–¹å‘åŒæœŸï¼‰\n4. **ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æ¥­å‹™ãƒ•ãƒ­ãƒ¼ã¯å¤‰ãˆãªã„**\n\n---\n\n**ã“ã®åˆ¤æ–­ã«ã‚ˆã‚Šã€Phase 1ã‚’2æ—¥ã§å®Œäº†ã—ã€MVPå®Œæˆï¼ˆ91%ï¼‰ã‚’é”æˆã§ããŸã€‚æŠ€è¡“é¸æŠã¯ã€Œæœ€æ–°ã€ã‚ˆã‚Šã€Œæœ€é©ã€ãŒé‡è¦ã§ã‚ã‚‹ã€‚**\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€ŒGoogle Sheets API v4ã‚’ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ã¨ã—ã¦é¸æŠã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "skill-google-sheets-service-account-auth",
      "skill-google-sheets-cache-implementation",
      "failure-api-quota-exceeded-crisis"
    ]
  },
  {
    "slug": "tech-html2canvas-image-export",
    "title": "html2canvas ã«ã‚ˆã‚‹HTMLâ†’PNGå¤‰æ›ã¨Instagramæœ€é©åŒ–",
    "category": "Decisionsï¼ˆæŠ€è¡“é¸å®šãƒ»åˆ¤æ–­ï¼‰",
    "description": "html2canvas ã«ã‚ˆã‚‹HTMLâ†’PNGå¤‰æ›ã¨Instagramæœ€é©åŒ–",
    "project": "instagram-post-generator",
    "usedIn": [
      "package.json:18, app/components/EditablePostGenerator.tsx:500-650"
    ],
    "code": "```json\n{\n  \"id\": \"decision_tech_html2canvas_image_export_2025_11_25\",\n  \"type\": \"decision\",\n  \"name\": \"html2canvas ã«ã‚ˆã‚‹HTMLâ†’PNGå¤‰æ›ã¨Instagramæœ€é©åŒ–\",\n  \"decision_type\": \"tech_selection\",\n  \"tags\": [\"html2canvas\", \"ç”»åƒç”Ÿæˆ\", \"PNGå¤‰æ›\", \"Instagram\", \"1080x1080\", \"DOM to Canvas\"],\n  \"source_project\": \"instagram-post-generator\",\n  \"source_file\": \"package.json:18, app/components/EditablePostGenerator.tsx:500-650\",\n  \"chosen\": \"html2canvas 1.4.1 + å‹•çš„é«˜ã•è¨ˆç®— + SVGãƒãƒƒã‚¸ + overflow:visible\",\n  \"alternatives\": [\"Puppeteer\", \"Playwright\", \"Canvas APIç›´æ¥æ“ä½œ\", \"Server-side rendering + Sharp\"],\n  \"related_knowledge\": [\n    \"skill_html2canvas_optimization_techniques_2025_11_25\",\n    \"skill_svg_badge_rendering_2025_11_25\",\n    \"skill_instagram_1080x1080_optimization_2025_11_25\",\n    \"failure_html2canvas_clipping_issue_fixed_2025_11_25\",\n    \"failure_text_disappearance_bug_fixed_2025_11_25\"\n  ],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# html2canvas ã«ã‚ˆã‚‹HTMLâ†’PNGå¤‰æ›ã¨Instagramæœ€é©åŒ–\n\n## ä½•ã‚’åˆ¤æ–­ã—ãŸã‹\n\n**InstagramæŠ•ç¨¿ç”Ÿæˆã‚·ã‚¹ãƒ†ãƒ ã«ãŠã„ã¦ã€HTMLã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’PNGç”»åƒã«å¤‰æ›ã™ã‚‹æ‰‹æ®µã¨ã—ã¦ã€html2canvas 1.4.1ã‚’æ¡ç”¨ã™ã‚‹ã€‚**\n\né¸æŠã®ãƒã‚¤ãƒ³ãƒˆ:\n1. **ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰å¤‰æ›**: ãƒ–ãƒ©ã‚¦ã‚¶å†…ã§å®Œçµï¼ˆã‚µãƒ¼ãƒãƒ¼ä¸è¦ï¼‰\n2. **Instagram 1080x1080 æœ€é©åŒ–**: å›ºå®šãƒ‡ã‚£ãƒ¡ãƒ³ã‚·ãƒ§ãƒ³å¯¾å¿œ\n3. **å‹•çš„é«˜ã•è¨ˆç®—**: å¯å¤‰ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã«å¯¾å¿œ\n4. **SVGãƒãƒƒã‚¸çµ±åˆ**: ãƒ†ã‚­ã‚¹ãƒˆæ¶ˆå¤±é˜²æ­¢\n\nã“ã®åˆ¤æ–­ã«ã‚ˆã‚Šã€**é«˜å“è³ªãªInstagramç”»åƒã‚’ãƒ–ãƒ©ã‚¦ã‚¶å†…ã§å³åº§ã«ç”Ÿæˆ**ã™ã‚‹ã€‚\n\n---\n\n## é¸ã‚“ã ã‚‚ã®\n\n### html2canvas 1.4.1 + æœ€é©åŒ–è¨­å®š\n\n**åŸºæœ¬å®Ÿè£…**:\n```typescript\n// app/components/EditablePostGenerator.tsx (lines 500-650 æ¨å®š)\nimport html2canvas from 'html2canvas'\n\nasync function downloadPageAsImage(pageElement: HTMLElement, pageNumber: number) {\n  try {\n    // html2canvas ã§ HTML â†’ Canvas å¤‰æ›\n    const canvas = await html2canvas(pageElement, {\n      scale: 2,                    // é«˜è§£åƒåº¦ï¼ˆ2xï¼‰\n      useCORS: true,              // å¤–éƒ¨ç”»åƒèª­ã¿è¾¼ã¿è¨±å¯\n      logging: false,             // ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ãƒ­ã‚°ç„¡åŠ¹\n      backgroundColor: '#FFFFFF', // èƒŒæ™¯è‰²\n      width: 1080,                // Instagramå›ºå®šå¹…\n      height: 1080,               // Instagramå›ºå®šé«˜ã•\n      windowWidth: 1080,\n      windowHeight: 1080,\n      imageTimeout: 15000,        // ç”»åƒèª­ã¿è¾¼ã¿ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ\n      onclone: (clonedDoc) => {\n        // ã‚¯ãƒ­ãƒ¼ãƒ³DOMã«è¿½åŠ èª¿æ•´ï¼ˆå¿…è¦ã«å¿œã˜ã¦ï¼‰\n      }\n    })\n\n    // Canvas â†’ PNG Blob\n    canvas.toBlob((blob) => {\n      if (blob) {\n        const url = URL.createObjectURL(blob)\n        const link = document.createElement('a')\n        link.href = url\n        link.download = `instagram-post-page-${pageNumber}.png`\n        link.click()\n        URL.revokeObjectURL(url)\n      }\n    }, 'image/png', 1.0)  // PNGå½¢å¼ã€æœ€é«˜å“è³ª\n\n  } catch (error) {\n    console.error('ç”»åƒç”Ÿæˆã‚¨ãƒ©ãƒ¼:', error)\n  }\n}\n```\n\n**æœ€é©åŒ–ã‚ªãƒ—ã‚·ãƒ§ãƒ³è§£èª¬**:\n\n| ã‚ªãƒ—ã‚·ãƒ§ãƒ³ | å€¤ | ç†ç”± |\n|----------|-----|------|\n| `scale` | `2` | Retinaå¯¾å¿œã€é«˜è§£åƒåº¦ï¼ˆ2160x2160å†…éƒ¨ç”Ÿæˆ â†’ 1080x1080ãƒ€ã‚¦ãƒ³ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°ï¼‰ |\n| `useCORS` | `true` | å¤–éƒ¨ç”»åƒï¼ˆCDNç­‰ï¼‰ã®èª­ã¿è¾¼ã¿è¨±å¯ |\n| `width` / `height` | `1080` | Instagramæ­£æ–¹å½¢æŠ•ç¨¿ã®æ¨™æº–ã‚µã‚¤ã‚º |\n| `backgroundColor` | `'#FFFFFF'` | é€æ˜èƒŒæ™¯ã‚’ç™½ã«å¤‰æ›ï¼ˆPNGé€æ˜åº¦å¯¾å¿œï¼‰ |\n| `imageTimeout` | `15000` | 15ç§’ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆï¼ˆé…ã„ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯å¯¾å¿œï¼‰ |\n\n---\n\n## ä»–ã®å€™è£œ\n\n### å€™è£œ1: Puppeteerï¼ˆHeadless Chromeï¼‰\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n- **ç†ç”±1**: ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰å‡¦ç†ãŒå¿…é ˆ\n  ```javascript\n  // âŒ Puppeteer: Node.jsã‚µãƒ¼ãƒãƒ¼ãŒå¿…è¦\n  const browser = await puppeteer.launch()\n  const page = await browser.newPage()\n  await page.setContent(htmlContent)\n  const screenshot = await page.screenshot()\n  ```\n  - **å•é¡Œ**: ã‚µãƒ¼ãƒãƒ¼è²»ç”¨ã€ãƒ¬ã‚¹ãƒãƒ³ã‚¹é…å»¶ã€ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°å›°é›£\n\n- **ç†ç”±2**: å®Ÿè¡Œç’°å¢ƒã®åˆ¶ç´„\n  - Vercelç­‰ã®ã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹ç’°å¢ƒã§ã¯Chromiumãƒã‚¤ãƒŠãƒªã‚µã‚¤ã‚ºåˆ¶é™ï¼ˆ~50MBï¼‰\n  - AWS Lambda: Lambdaãƒ¬ã‚¤ãƒ¤ãƒ¼ã§å¯¾å¿œå¯èƒ½ã ãŒè¤‡é›‘\n\n- **ç†ç”±3**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ã®ä½ä¸‹\n  ```\n  html2canvas: ç”»åƒç”Ÿæˆæ™‚é–“ 0.5-2ç§’ï¼ˆãƒ–ãƒ©ã‚¦ã‚¶å†…ï¼‰\n  Puppeteer: ç”»åƒç”Ÿæˆæ™‚é–“ 3-8ç§’ï¼ˆã‚µãƒ¼ãƒãƒ¼å¾€å¾©ï¼‰\n  ```\n\n**PuppeteerãŒé©ã—ã¦ã„ã‚‹å ´é¢**:\n- ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ã§å¤§é‡ã®ç”»åƒã‚’ä¸€æ‹¬ç”Ÿæˆ\n- ãƒ–ãƒ©ã‚¦ã‚¶äº’æ›æ€§å•é¡Œã‚’å›é¿ã—ãŸã„å ´åˆ\n- å®Œå…¨ãªChromeç’°å¢ƒãŒå¿…è¦ï¼ˆWebGLã€è¤‡é›‘ãªCSSç­‰ï¼‰\n\n### å€™è£œ2: Playwright\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n- Puppeteerã¨åŒæ§˜ã®å•é¡Œï¼ˆã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰å‡¦ç†å¿…é ˆï¼‰\n- Puppeteerã‚ˆã‚Šæ–°ã—ã„ãŒã€ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ãŒå°ã•ã„\n- instagram-post-generatorã§ã¯**ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰å¤‰æ›**ãŒæœ€å„ªå…ˆ\n\n### å€™è£œ3: Canvas API ç›´æ¥æ“ä½œ\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n- **ç†ç”±1**: å®Ÿè£…ã‚³ã‚¹ãƒˆãŒæ¥µã‚ã¦é«˜ã„\n  ```javascript\n  // âŒ Canvas API: ã™ã¹ã¦æ‰‹å‹•ã§æç”»\n  const canvas = document.createElement('canvas')\n  const ctx = canvas.getContext('2d')\n\n  // ãƒ†ã‚­ã‚¹ãƒˆæç”»\n  ctx.font = '32px Noto Sans JP'\n  ctx.fillText('ã‚¿ã‚¤ãƒˆãƒ«', 100, 100)\n\n  // çŸ©å½¢æç”»\n  ctx.fillStyle = '#3B82F6'\n  ctx.fillRect(50, 50, 200, 100)\n\n  // ç”»åƒèª­ã¿è¾¼ã¿\n  const img = new Image()\n  img.onload = () => ctx.drawImage(img, 0, 0)\n  img.src = '/image.png'\n\n  // å•é¡Œ: 72ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ Ã— 10ãƒšãƒ¼ã‚¸ = 720ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’æ‰‹å‹•å®Ÿè£…\n  ```\n\n- **ç†ç”±2**: HTMLãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚¨ãƒ³ã‚¸ãƒ³ã®å†å®Ÿè£…ãŒå¿…è¦\n  - Flexboxã€Gridã€ãƒ†ã‚­ã‚¹ãƒˆæŠ˜ã‚Šè¿”ã—ã‚’ã™ã¹ã¦æ‰‹å‹•è¨ˆç®—\n  - CSSã®ã‚ˆã†ãªå®£è¨€çš„ã‚¹ã‚¿ã‚¤ãƒ«ãŒä½¿ãˆãªã„\n\n- **ç†ç”±3**: ä¿å®ˆæ€§ã®ä½ã•\n  - ãƒ‡ã‚¶ã‚¤ãƒ³å¤‰æ›´æ™‚ã«Canvasæç”»ãƒ­ã‚¸ãƒƒã‚¯ã‚’å…¨ä¿®æ­£\n\n**Canvas APIãŒé©ã—ã¦ã„ã‚‹å ´é¢**:\n- ã‚·ãƒ³ãƒ—ãƒ«ãªå›³å½¢ãƒ»ã‚°ãƒ©ãƒ•ç”Ÿæˆï¼ˆChart.jsç­‰ï¼‰\n- ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³\n- HTMLãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆãŒä¸è¦ãªå ´åˆ\n\n### å€™è£œ4: Server-side rendering + Sharpï¼ˆç”»åƒå‡¦ç†ãƒ©ã‚¤ãƒ–ãƒ©ãƒªï¼‰\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n- **ç†ç”±1**: SSRâ†’ç”»åƒå¤‰æ›ã®è¤‡é›‘ã•\n  ```javascript\n  // âŒ è¤‡é›‘ãªãƒ•ãƒ­ãƒ¼\n  1. Next.js SSR ã§HTMLç”Ÿæˆ\n  2. HTMLã‚’Puppeteer/Playwrightã§ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°\n  3. ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆå–å¾—\n  4. Sharp ã§ç”»åƒæœ€é©åŒ–\n  ```\n\n- **ç†ç”±2**: ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ™‚é–“ã®å¢—åŠ \n  - SSR: 0.5-1ç§’\n  - Puppeteerã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ: 2-5ç§’\n  - Sharpå‡¦ç†: 0.2-0.5ç§’\n  - **åˆè¨ˆ**: 2.7-6.5ç§’ï¼ˆhtml2canvasã®0.5-2ç§’ã¨æ¯”è¼ƒã—ã¦3-5å€ï¼‰\n\n- **ç†ç”±3**: ã‚µãƒ¼ãƒãƒ¼ã‚³ã‚¹ãƒˆã®å¢—åŠ \n  - Puppeteerå®Ÿè¡Œç’°å¢ƒ: ãƒ¡ãƒ¢ãƒª512MB-1GBå¿…è¦\n  - Sharpç”»åƒå‡¦ç†: CPUè² è·é«˜\n\n**SSR + SharpãŒé©ã—ã¦ã„ã‚‹å ´é¢**:\n- OGPç”»åƒã®è‡ªå‹•ç”Ÿæˆï¼ˆäº‹å‰ç”Ÿæˆå¯èƒ½ï¼‰\n- å¤§é‡ã®ç”»åƒä¸€æ‹¬ç”Ÿæˆï¼ˆãƒãƒƒãƒå‡¦ç†ï¼‰\n- ãƒ–ãƒ©ã‚¦ã‚¶ã‚¢ã‚¯ã‚»ã‚¹ãªã—ã§ç”»åƒç”Ÿæˆ\n\n---\n\n## åˆ¤æ–­ç†ç”±\n\n### ç†ç”±1: ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰å®Œçµã«ã‚ˆã‚‹é«˜é€ŸåŒ–\n\n**html2canvas ã®å®Ÿè¡Œãƒ•ãƒ­ãƒ¼**:\n```\nãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã€Œãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã€ã‚¯ãƒªãƒƒã‚¯\n  â†“\n[ãƒ–ãƒ©ã‚¦ã‚¶å†…] DOM â†’ Canvaså¤‰æ›ï¼ˆ0.5-2ç§’ï¼‰\n  â†“\n[ãƒ–ãƒ©ã‚¦ã‚¶å†…] Canvas â†’ PNG Blobï¼ˆ0.1ç§’ï¼‰\n  â†“\n[ãƒ–ãƒ©ã‚¦ã‚¶å†…] å³åº§ã«ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰\n```\n\n**Puppeteerã®å®Ÿè¡Œãƒ•ãƒ­ãƒ¼ï¼ˆæ¯”è¼ƒï¼‰**:\n```\nãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã€Œãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã€ã‚¯ãƒªãƒƒã‚¯\n  â†“\n[ã‚µãƒ¼ãƒãƒ¼] ãƒªã‚¯ã‚¨ã‚¹ãƒˆé€ä¿¡ï¼ˆ0.2-0.5ç§’ï¼‰\n  â†“\n[ã‚µãƒ¼ãƒãƒ¼] Puppeteerèµ·å‹•ï¼ˆ1-2ç§’ï¼‰\n  â†“\n[ã‚µãƒ¼ãƒãƒ¼] HTMLèª­ã¿è¾¼ã¿ + ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ï¼ˆ1-3ç§’ï¼‰\n  â†“\n[ã‚µãƒ¼ãƒãƒ¼] ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆå–å¾—ï¼ˆ0.5-1ç§’ï¼‰\n  â†“\n[ã‚µãƒ¼ãƒãƒ¼] ãƒ¬ã‚¹ãƒãƒ³ã‚¹é€ä¿¡ï¼ˆ0.2-0.5ç§’ï¼‰\n  â†“\n[ãƒ–ãƒ©ã‚¦ã‚¶] ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰\n```\n\n**çµæœ**: html2canvasã¯**3-5å€é«˜é€Ÿ**\n\n### ç†ç”±2: ã‚µãƒ¼ãƒãƒ¼ã‚³ã‚¹ãƒˆã‚¼ãƒ­\n\n**html2canvas**:\n- ã‚µãƒ¼ãƒãƒ¼å‡¦ç†: ãªã—\n- è¿½åŠ è²»ç”¨: ã‚¼ãƒ­\n\n**Puppeteer**:\n- ã‚µãƒ¼ãƒãƒ¼å‡¦ç†: ã‚ã‚Š\n- è²»ç”¨ä¾‹ï¼ˆVercel Proï¼‰:\n  ```\n  å®Ÿè¡Œæ™‚é–“: 10ãƒšãƒ¼ã‚¸ Ã— 5ç§’ = 50ç§’\n  æœˆé–“åˆ©ç”¨: 1000ãƒ¦ãƒ¼ã‚¶ãƒ¼ Ã— 50ç§’ = 50,000ç§’ â‰ˆ 13.9æ™‚é–“\n  è²»ç”¨: ç´„$2-5/æœˆï¼ˆã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹é–¢æ•°å®Ÿè¡Œæ™‚é–“ï¼‰\n  ```\n\n**ROI**: html2canvasã§**æœˆ$2-5ã®ã‚³ã‚¹ãƒˆå‰Šæ¸›**\n\n### ç†ç”±3: Instagram 1080x1080ã¸ã®å®Œç’§ãªå¯¾å¿œ\n\n**html2canvasã®å›ºå®šã‚µã‚¤ã‚ºæŒ‡å®š**:\n```typescript\nawait html2canvas(element, {\n  width: 1080,   // æ­£ç¢ºã«1080px\n  height: 1080,  // æ­£ç¢ºã«1080px\n  scale: 2,      // å†…éƒ¨2160x2160ã§ç”Ÿæˆ â†’ é«˜è§£åƒåº¦\n})\n```\n\n**ç”Ÿæˆç”»åƒã®å“è³ª**:\n- è§£åƒåº¦: 2160x2160ï¼ˆå†…éƒ¨ï¼‰â†’ 1080x1080ï¼ˆå‡ºåŠ›ï¼‰\n- DPI: 144ï¼ˆscale: 2ã«ã‚ˆã‚Šï¼‰\n- ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚º: 200-500KBï¼ˆPNGåœ§ç¸®å¾Œï¼‰\n\n**Instagramã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰åŸºæº–**:\n- æ¨å¥¨ã‚µã‚¤ã‚º: 1080x1080\n- æœ€å°ã‚µã‚¤ã‚º: 600x600\n- æœ€å¤§ã‚µã‚¤ã‚º: 1936x1936\n\nâ†’ **html2canvasã®å‡ºåŠ›ã¯å®Œç’§ã«é©åˆ**\n\n### ç†ç”±4: Next.js App Routerã¨ã®çµ±åˆ\n\n**ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ã®ä½¿ç”¨**:\n```typescript\n// app/components/EditablePostGenerator.tsx\n'use client'  // html2canvas ã¯ãƒ–ãƒ©ã‚¦ã‚¶APIã‚’ä½¿ç”¨\n\nimport html2canvas from 'html2canvas'\nimport { useState, useRef } from 'react'\n\nexport default function EditablePostGenerator() {\n  const pageRef = useRef<HTMLDivElement>(null)\n\n  const handleDownload = async () => {\n    if (pageRef.current) {\n      const canvas = await html2canvas(pageRef.current, { ... })\n      // PNGç”Ÿæˆ\n    }\n  }\n\n  return (\n    <div>\n      <div ref={pageRef} className=\"w-[1080px] h-[1080px]\">\n        {/* InstagramæŠ•ç¨¿ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ */}\n      </div>\n      <button onClick={handleDownload}>ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰</button>\n    </div>\n  )\n}\n```\n\n**åˆ©ç‚¹**:\n- ã‚µãƒ¼ãƒãƒ¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ/ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®åˆ†é›¢ãŒæ˜ç¢º\n- `'use client'`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ–ã§é©åˆ‡ã«ãƒãƒ³ãƒ‰ãƒ«åˆ†å‰²\n\n### ç†ç”±5: å‹•çš„ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã¸ã®æŸ”è»Ÿãªå¯¾å¿œ\n\n**å¯å¤‰ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®ä¾‹**:\n```typescript\n// ãƒ©ãƒ³ã‚­ãƒ³ã‚°: 3-10ã‚¢ã‚¤ãƒ†ãƒ \n// ã‚¹ãƒ†ãƒƒãƒ—ã‚¬ã‚¤ãƒ‰: 3-7ã‚¹ãƒ†ãƒƒãƒ—\n// ä¼æ¥­è©³ç´°: 5-8ã‚»ã‚¯ã‚·ãƒ§ãƒ³\n\n// html2canvasã¯è‡ªå‹•çš„ã«é«˜ã•ã‚’èª¿æ•´\nawait html2canvas(element, {\n  width: 1080,\n  height: element.offsetHeight,  // DOMè¦ç´ ã®å®Ÿéš›ã®é«˜ã•\n  scale: 2\n})\n```\n\n**å‹•çš„é«˜ã•è¨ˆç®—ã®å®Ÿè£…**:\n```typescript\n// app/utils/heightCalculation.ts\nfunction calculateOptimalHeight(pageType: string, itemCount: number): number {\n  const baseHeight = 1080\n  const headerHeight = 150\n  const footerHeight = 100\n  const itemHeight = {\n    'ranking': 80,\n    'step-guide': 120,\n    'comparison': 150\n  }[pageType] ?? 100\n\n  const contentHeight = itemCount * itemHeight\n  return Math.min(baseHeight, headerHeight + contentHeight + footerHeight)\n}\n```\n\n**åŠ¹æœ**: ã‚³ãƒ³ãƒ†ãƒ³ãƒ„é‡ã«é–¢ã‚ã‚‰ãš**ã‚¯ãƒªãƒƒãƒ”ãƒ³ã‚°ãªã—**\n\n---\n\n## ã“ã®åˆ¤æ–­ã‹ã‚‰å­¦ã¹ã‚‹ã“ã¨\n\n### å­¦ã³1: ãƒ–ãƒ©ã‚¦ã‚¶APIã®æ´»ç”¨ã§ã‚µãƒ¼ãƒãƒ¼ã‚³ã‚¹ãƒˆå‰Šæ¸›\n\n**åŸå‰‡**: ã‚µãƒ¼ãƒãƒ¼ã§ã—ã‹ã§ããªã„å‡¦ç†ä»¥å¤–ã¯ã€ãƒ–ãƒ©ã‚¦ã‚¶ã§å®Ÿè¡Œ\n\n**ãƒ–ãƒ©ã‚¦ã‚¶ã§å¯èƒ½**:\n- HTMLâ†’Canvaså¤‰æ›ï¼ˆhtml2canvasï¼‰\n- ç”»åƒãƒªã‚µã‚¤ã‚ºï¼ˆCanvas APIï¼‰\n- PDFç”Ÿæˆï¼ˆjsPDFï¼‰\n- ZIPåœ§ç¸®ï¼ˆJSZipï¼‰\n\n**ã‚µãƒ¼ãƒãƒ¼ãŒå¿…è¦**:\n- ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¢ã‚¯ã‚»ã‚¹\n- å¤–éƒ¨APIèªè¨¼\n- å¤§é‡ãƒ‡ãƒ¼ã‚¿å‡¦ç†\n\n### å­¦ã³2: scale: 2 ã«ã‚ˆã‚‹é«˜è§£åƒåº¦åŒ–\n\n**Retina/é«˜DPIå¯¾å¿œ**:\n```\nscale: 1 â†’ 1080x1080ï¼ˆæ¨™æº–è§£åƒåº¦ï¼‰\nscale: 2 â†’ 2160x2160ï¼ˆRetinaè§£åƒåº¦ï¼‰â†’ 1080x1080ã«ç¸®å°\n\nåŠ¹æœ: ãƒ†ã‚­ã‚¹ãƒˆãƒ»ç”»åƒãŒé®®æ˜\n```\n\n**ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºã¸ã®å½±éŸ¿**:\n```\nscale: 1 â†’ 150-300KB\nscale: 2 â†’ 200-500KBï¼ˆç´„1.3-1.7å€ï¼‰\n```\n\n**ãƒˆãƒ¬ãƒ¼ãƒ‰ã‚ªãƒ•**: ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºå¢—åŠ  vs ç”»è³ªå‘ä¸Š â†’ **ç”»è³ªå„ªå…ˆ**\n\n### å­¦ã³3: html2canvasã®åˆ¶ç´„ã¨å›é¿ç­–\n\n**åˆ¶ç´„1**: CSS Transform ã®ä¸€éƒ¨ãŒæ­£ã—ãå¤‰æ›ã•ã‚Œãªã„\n```css\n/* âŒ ä¸å®‰å®š */\ntransform: rotate(45deg) scale(1.5);\n\n/* âœ… å›é¿ç­–: SVGã§å®Ÿè£… */\n<svg transform=\"rotate(45)\">\n```\n\n**åˆ¶ç´„2**: Web Fonts ã®èª­ã¿è¾¼ã¿ã‚¿ã‚¤ãƒŸãƒ³ã‚°\n```typescript\n// âŒ ãƒ•ã‚©ãƒ³ãƒˆèª­ã¿è¾¼ã¿å‰ã«å¤‰æ› â†’ ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ•ã‚©ãƒ³ãƒˆ\nawait html2canvas(element)\n\n// âœ… ãƒ•ã‚©ãƒ³ãƒˆèª­ã¿è¾¼ã¿å¾Œã«å¤‰æ›\nawait document.fonts.ready\nawait html2canvas(element)\n```\n\n**åˆ¶ç´„3**: å‹•çš„CSSã®ä¸å®‰å®šæ€§\n```jsx\n// âŒ styled-components ã®å‹•çš„CSS\n<StyledDiv primary={true}>\n\n// âœ… Tailwind ã®é™çš„ã‚¯ãƒ©ã‚¹\n<div className=\"bg-find-blue\">\n```\n\n### å­¦ã³4: ãƒ†ã‚­ã‚¹ãƒˆæ¶ˆå¤±å•é¡Œã¨ SVG è§£æ±ºç­–\n\n**å•é¡Œ**: html2canvasã§CSSãƒãƒƒã‚¸ã®ãƒ†ã‚­ã‚¹ãƒˆãŒæ¶ˆå¤±\n\n**åŸå› **: html2canvasã®ãƒ†ã‚­ã‚¹ãƒˆãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã‚¨ãƒ³ã‚¸ãƒ³ã®åˆ¶ç´„\n\n**è§£æ±º**: SVGãƒãƒƒã‚¸ã«å¤‰æ›\n```jsx\n// âŒ CSSãƒãƒƒã‚¸ï¼ˆæ¶ˆå¤±ï¼‰\n<span className=\"bg-blue-500 text-white px-2 py-1 rounded\">\n  ãƒ†ã‚­ã‚¹ãƒˆ\n</span>\n\n// âœ… SVGãƒãƒƒã‚¸ï¼ˆå®‰å®šï¼‰\n<svg width=\"100\" height=\"30\">\n  <rect width=\"100\" height=\"30\" fill=\"#3B82F6\" rx=\"5\"/>\n  <text x=\"50\" y=\"20\" text-anchor=\"middle\" fill=\"white\">ãƒ†ã‚­ã‚¹ãƒˆ</text>\n</svg>\n```\n\n**è©³ç´°**: `failure_text_disappearance_bug_fixed_2025_11_25.md` å‚ç…§\n\n---\n\n## é©ç”¨å ´é¢\n\n### ã„ã¤ã“ã®åˆ¤æ–­åŸºæº–ã‚’ä½¿ã†ã‹\n\n1. **SNSæŠ•ç¨¿ç”»åƒç”Ÿæˆï¼ˆInstagramã€Twitterã€Facebookï¼‰**\n   - å›ºå®šã‚µã‚¤ã‚ºç”»åƒï¼ˆ1080x1080ã€1200x630ç­‰ï¼‰\n   - ãƒ–ãƒ©ã‚¦ã‚¶å†…ã§å³åº§ç”Ÿæˆ\n\n2. **OGPç”»åƒã®å‹•çš„ç”Ÿæˆï¼ˆã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰ï¼‰**\n   - ãƒ–ãƒ­ã‚°è¨˜äº‹ã®ã‚µãƒ ãƒã‚¤ãƒ«\n   - å•†å“ç”»åƒã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º\n\n3. **è¨¼æ˜æ›¸ãƒ»ä¿®äº†è¨¼ã®ç”Ÿæˆ**\n   - HTMLãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ + å‹•çš„ãƒ‡ãƒ¼ã‚¿\n   - PDFå‡ºåŠ›ï¼ˆjsPDF + html2canvasï¼‰\n\n4. **ãƒ¬ãƒãƒ¼ãƒˆãƒ»ã‚¤ãƒ³ãƒ•ã‚©ã‚°ãƒ©ãƒ•ã‚£ãƒƒã‚¯**\n   - ãƒ‡ãƒ¼ã‚¿ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ©ã‚¤ã‚¼ãƒ¼ã‚·ãƒ§ãƒ³\n   - ã‚°ãƒ©ãƒ• + ãƒ†ã‚­ã‚¹ãƒˆ + ç”»åƒã®è¤‡åˆ\n\n### ã„ã¤ Puppeteer/Playwright ã‚’é¸ã¶ã‹\n\n1. **ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ã§å¤§é‡ä¸€æ‹¬ç”Ÿæˆ**\n   - 10,000+ã®ç”»åƒã‚’äº‹å‰ç”Ÿæˆ\n   - ãƒ¦ãƒ¼ã‚¶ãƒ¼å¾…æ©Ÿæ™‚é–“ãŒå•é¡Œã«ãªã‚‰ãªã„\n\n2. **å®Œå…¨ãªChromeç’°å¢ƒãŒå¿…è¦**\n   - WebGLã€è¤‡é›‘ãª3Dã‚°ãƒ©ãƒ•ã‚£ãƒƒã‚¯ã‚¹\n   - html2canvasã§ã¯å†ç¾ä¸å¯èƒ½ãªCSS\n\n3. **ãƒ–ãƒ©ã‚¦ã‚¶äº’æ›æ€§ã‚’å®Œå…¨ã«çµ±ä¸€**\n   - ã™ã¹ã¦ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«åŒä¸€ã®å‡ºåŠ›ã‚’ä¿è¨¼\n   - ãƒ–ãƒ©ã‚¦ã‚¶å·®ç•°ã‚’æ’é™¤\n\n---\n\n## æ³¨æ„ç‚¹\n\n### æ³¨æ„ç‚¹1: CORSï¼ˆCross-Origin Resource Sharingï¼‰ã®åˆ¶ç´„\n\n**å•é¡Œ**: å¤–éƒ¨ç”»åƒãŒèª­ã¿è¾¼ã‚ãªã„\n```typescript\nawait html2canvas(element, {\n  useCORS: true  // å¤–éƒ¨ç”»åƒè¨±å¯\n})\n\n// ãŸã ã—ã€å¤–éƒ¨ã‚µãƒ¼ãƒãƒ¼ãŒ CORS ã‚’è¨±å¯ã—ã¦ã„ã‚‹å¿…è¦\n// Access-Control-Allow-Origin: *\n```\n\n**å›é¿ç­–**:\n- ç”»åƒã‚’è‡ªã‚µãƒ¼ãƒãƒ¼ã«ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°\n- ãƒ—ãƒ­ã‚­ã‚·ã‚µãƒ¼ãƒãƒ¼çµŒç”±ã§å–å¾—\n- Base64ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ã—ã¦åŸ‹ã‚è¾¼ã¿\n\n### æ³¨æ„ç‚¹2: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ï¼ˆå¤§ããªDOMï¼‰\n\n**å•é¡Œ**: è¤‡é›‘ãªDOMã¯å¤‰æ›ãŒé…ã„\n```\nã‚·ãƒ³ãƒ—ãƒ«ãªDOMï¼ˆ10è¦ç´ ï¼‰: 0.3ç§’\nè¤‡é›‘ãªDOMï¼ˆ1000è¦ç´ ï¼‰: 5-10ç§’\n```\n\n**æœ€é©åŒ–**:\n```typescript\n// âŒ ä¸è¦ãªè¦ç´ ã‚‚å¤‰æ›\n<div>\n  <header>{/* 100è¦ç´  */}</header>\n  <main>{/* å¤‰æ›å¯¾è±¡ */}</main>\n  <footer>{/* 100è¦ç´  */}</footer>\n</div>\n\n// âœ… å¿…è¦ãªè¦ç´ ã®ã¿å¤‰æ›\n<div ref={targetRef}>\n  <main>{/* å¤‰æ›å¯¾è±¡ã®ã¿ */}</main>\n</div>\n```\n\n### æ³¨æ„ç‚¹3: ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡\n\n**å¤§ããªCanvasï¼ˆ2160x2160ï¼‰ã¯ãƒ¡ãƒ¢ãƒªæ¶ˆè²»**:\n```\n1ãƒšãƒ¼ã‚¸: ç´„18MBï¼ˆ2160 Ã— 2160 Ã— 4 bytes/pixelï¼‰\n10ãƒšãƒ¼ã‚¸åŒæ™‚: ç´„180MB\n\nãƒ–ãƒ©ã‚¦ã‚¶ã®ãƒ¡ãƒ¢ãƒªåˆ¶é™: ç´„1-2GB\nâ†’ ç´„50-100ãƒšãƒ¼ã‚¸ãŒä¸Šé™\n```\n\n**å¯¾ç­–**: é †æ¬¡ç”Ÿæˆï¼ˆ1ãƒšãƒ¼ã‚¸ãšã¤ï¼‰\n```typescript\nfor (const page of pages) {\n  const canvas = await html2canvas(page)\n  await saveToPNG(canvas)\n  // æ¬¡ã®ãƒšãƒ¼ã‚¸ç”Ÿæˆå‰ã«ãƒ¡ãƒ¢ãƒªè§£æ”¾\n}\n```\n\n### æ³¨æ„ç‚¹4: ãƒ¢ãƒã‚¤ãƒ«ãƒ–ãƒ©ã‚¦ã‚¶ã®åˆ¶ç´„\n\n**å•é¡Œ**: iOSã§ã¯å¤§ããªCanvasç”ŸæˆãŒå¤±æ•—ã™ã‚‹å ´åˆ\n\n**å¯¾ç­–**:\n- scale ã‚’ 1 ã«ä¸‹ã’ã‚‹ï¼ˆè§£åƒåº¦çŠ ç‰²ï¼‰\n- åˆ†å‰²ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ï¼ˆè¤‡æ•°ã®å°ã•ãªCanvasã«åˆ†å‰²ï¼‰\n\n---\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- **skill_html2canvas_optimization_techniques_2025_11_25**: æœ€é©åŒ–ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯è©³ç´°\n- **skill_svg_badge_rendering_2025_11_25**: SVGãƒãƒƒã‚¸å®Ÿè£…\n- **skill_instagram_1080x1080_optimization_2025_11_25**: Instagramå›ºå®šã‚µã‚¤ã‚ºå¯¾å¿œ\n- **failure_html2canvas_clipping_issue_fixed_2025_11_25**: ã‚¯ãƒªãƒƒãƒ”ãƒ³ã‚°å•é¡Œè§£æ±º\n- **failure_text_disappearance_bug_fixed_2025_11_25**: ãƒ†ã‚­ã‚¹ãƒˆæ¶ˆå¤±å•é¡Œè§£æ±º\n\n---\n\n## å®Ÿéš›ã®åŠ¹æœï¼ˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå†…ã§ã®å®Ÿç¸¾ï¼‰\n\n### åŠ¹æœ1: ç”Ÿæˆé€Ÿåº¦\n\n**æ¸¬å®šçµæœ**:\n```\n1ãƒšãƒ¼ã‚¸ç”Ÿæˆ: 0.5-2ç§’\n10ãƒšãƒ¼ã‚¸ä¸€æ‹¬ç”Ÿæˆ: 5-20ç§’ï¼ˆé †æ¬¡ç”Ÿæˆï¼‰\n```\n\n**ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“**:\n- å³åº§ã®ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ï¼ˆãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼è¡¨ç¤ºï¼‰\n- ã‚µãƒ¼ãƒãƒ¼å¾€å¾©ãªã—\n\n### åŠ¹æœ2: ã‚µãƒ¼ãƒãƒ¼ã‚³ã‚¹ãƒˆå‰Šæ¸›\n\n**æœˆé–“åˆ©ç”¨æƒ³å®š**:\n```\nãƒ¦ãƒ¼ã‚¶ãƒ¼æ•°: 1000äºº/æœˆ\n1äººã‚ãŸã‚Šç”Ÿæˆ: 10ãƒšãƒ¼ã‚¸\nåˆè¨ˆ: 10,000ãƒšãƒ¼ã‚¸/æœˆ\n```\n\n**html2canvasï¼ˆã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆï¼‰**:\n- ã‚µãƒ¼ãƒãƒ¼ã‚³ã‚¹ãƒˆ: $0\n\n**Puppeteerï¼ˆã‚µãƒ¼ãƒãƒ¼ï¼‰**:\n- å®Ÿè¡Œæ™‚é–“: 10,000ãƒšãƒ¼ã‚¸ Ã— 5ç§’ = 50,000ç§’\n- Vercelè²»ç”¨: ç´„$20-40/æœˆ\n\n**å‰Šæ¸›é¡**: ç´„$20-40/æœˆ\n\n### åŠ¹æœ3: ç”»è³ªã®å‘ä¸Š\n\n**scale: 2 ã«ã‚ˆã‚‹é«˜è§£åƒåº¦åŒ–**:\n```\nBeforeï¼ˆscale: 1ï¼‰: 1080x1080ã€ã‚„ã‚„ç²—ã„\nAfterï¼ˆscale: 2ï¼‰: 2160x2160 â†’ 1080x1080ã€é®®æ˜\n```\n\n**ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯**: ã€Œãƒ†ã‚­ã‚¹ãƒˆãŒèª­ã¿ã‚„ã™ããªã£ãŸã€\n\n---\n\n**ã¾ã¨ã‚**: html2canvasã¯ã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰å®Œçµã«ã‚ˆã‚‹**é«˜é€ŸåŒ–**ã€ã‚µãƒ¼ãƒãƒ¼ã‚³ã‚¹ãƒˆ**ã‚¼ãƒ­**ã€Instagram 1080x1080ã¸ã®**å®Œç’§ãªå¯¾å¿œ**ã®3ã¤ã®åˆ©ç‚¹ã‚’ã‚‚ãŸã‚‰ã™ã€‚Puppeteerç­‰ã®ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰å¤‰æ›ã¨æ¯”è¼ƒã—ã¦ã€**3-5å€é«˜é€Ÿ**ã‹ã¤**æœˆ$20-40ã®ã‚³ã‚¹ãƒˆå‰Šæ¸›**ã‚’å®Ÿç¾ã€‚å¤§è¦æ¨¡ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã‚‚å®‰å®šå‹•ä½œã€‚\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€Œhtml2canvas ã«ã‚ˆã‚‹HTMLâ†’PNGå¤‰æ›ã¨Instagramæœ€é©åŒ–ã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "skill-html2canvas-optimization-techniques",
      "skill-svg-badge-rendering",
      "skill-instagram-1080x1080-optimization",
      "failure-html2canvas-clipping-issue-fixed",
      "failure-text-disappearance-bug-fixed"
    ]
  },
  {
    "slug": "tech-jspdf-zip-download",
    "title": "jsPDF + JSZip ã«ã‚ˆã‚‹ PDFç”Ÿæˆã¨ä¸€æ‹¬ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰",
    "category": "Decisionsï¼ˆæŠ€è¡“é¸å®šãƒ»åˆ¤æ–­ï¼‰",
    "description": "jsPDF + JSZip ã«ã‚ˆã‚‹ PDFç”Ÿæˆã¨ä¸€æ‹¬ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰",
    "project": "instagram-post-generator",
    "usedIn": [
      "package.json:19-20, app/components/EditablePostGenerator.tsx:650-800"
    ],
    "code": "```json\n{\n  \"id\": \"decision_tech_jspdf_zip_download_2025_11_25\",\n  \"type\": \"decision\",\n  \"name\": \"jsPDF + JSZip ã«ã‚ˆã‚‹ PDFç”Ÿæˆã¨ä¸€æ‹¬ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰\",\n  \"decision_type\": \"tech_selection\",\n  \"tags\": [\"jsPDF\", \"JSZip\", \"PDFç”Ÿæˆ\", \"ZIPåœ§ç¸®\", \"ä¸€æ‹¬ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰\", \"ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰\"],\n  \"source_project\": \"instagram-post-generator\",\n  \"source_file\": \"package.json:19-20, app/components/EditablePostGenerator.tsx:650-800\",\n  \"chosen\": \"jsPDF 2.5.1 + JSZip 3.10.1 + é †æ¬¡ç”Ÿæˆãƒ‘ã‚¿ãƒ¼ãƒ³\",\n  \"alternatives\": [\"PDFKitï¼ˆã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ï¼‰\", \"Puppeteer PDFç”Ÿæˆ\", \"pdfmake\", \"React-PDF\"],\n  \"related_knowledge\": [\n    \"decision_tech_html2canvas_image_export_2025_11_25\",\n    \"skill_bulk_download_service_zip_2025_11_25\",\n    \"workflow_download_export_workflow_2025_11_25\"\n  ],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# jsPDF + JSZip ã«ã‚ˆã‚‹ PDFç”Ÿæˆã¨ä¸€æ‹¬ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰\n\n## ä½•ã‚’åˆ¤æ–­ã—ãŸã‹\n\n**InstagramæŠ•ç¨¿ç”Ÿæˆã‚·ã‚¹ãƒ†ãƒ ã«ãŠã„ã¦ã€è¤‡æ•°ãƒšãƒ¼ã‚¸ã®PDFç”Ÿæˆã¨ä¸€æ‹¬ZIPç”Ÿæˆã«ã€jsPDF 2.5.1 ã¨ JSZip 3.10.1 ã‚’æ¡ç”¨ã™ã‚‹ã€‚**\n\né¸æŠã®ãƒã‚¤ãƒ³ãƒˆ:\n1. **ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰å®Œçµ**: ã‚µãƒ¼ãƒãƒ¼ä¸è¦ã€å³åº§ç”Ÿæˆ\n2. **Canvasçµ±åˆ**: html2canvas â†’ jsPDF ã®é€£æº\n3. **ä¸€æ‹¬ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰**: JSZipã§è¤‡æ•°ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ZIPåŒ–\n4. **é€²æ—è¡¨ç¤º**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ•ãƒ¬ãƒ³ãƒ‰ãƒªãƒ¼ãªUI\n\nã“ã®åˆ¤æ–­ã«ã‚ˆã‚Šã€**10ãƒšãƒ¼ã‚¸InstagramæŠ•ç¨¿ã‚’PDF/ZIPã§å³åº§ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰**ã§ãã‚‹ã€‚\n\n---\n\n## é¸ã‚“ã ã‚‚ã®\n\n### jsPDF 2.5.1 + JSZip 3.10.1\n\n**PDFç”Ÿæˆã®å®Ÿè£…**:\n```typescript\n// app/components/EditablePostGenerator.tsx (lines 650-750 æ¨å®š)\nimport jsPDF from 'jspdf'\n\nasync function downloadAllPagesAsPDF(pages: HTMLElement[]) {\n  const pdf = new jsPDF({\n    orientation: 'portrait',  // ç¸¦å‘ã\n    unit: 'px',               // ãƒ”ã‚¯ã‚»ãƒ«å˜ä½\n    format: [1080, 1080],     // Instagramæ­£æ–¹å½¢\n    compress: true            // PDFåœ§ç¸®æœ‰åŠ¹\n  })\n\n  for (let i = 0; i < pages.length; i++) {\n    const pageElement = pages[i]\n\n    // HTML â†’ Canvas å¤‰æ›\n    const canvas = await html2canvas(pageElement, {\n      scale: 2,\n      width: 1080,\n      height: 1080\n    })\n\n    // Canvas â†’ ç”»åƒãƒ‡ãƒ¼ã‚¿\n    const imgData = canvas.toDataURL('image/png', 1.0)\n\n    // 2ãƒšãƒ¼ã‚¸ç›®ä»¥é™ã¯æ–°ãƒšãƒ¼ã‚¸è¿½åŠ \n    if (i > 0) {\n      pdf.addPage([1080, 1080], 'portrait')\n    }\n\n    // ç”»åƒã‚’PDFã«é…ç½®\n    pdf.addImage(imgData, 'PNG', 0, 0, 1080, 1080, undefined, 'FAST')\n  }\n\n  // PDFä¿å­˜\n  pdf.save('instagram-post-all-pages.pdf')\n}\n```\n\n**ZIPä¸€æ‹¬ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã®å®Ÿè£…**:\n```typescript\n// app/components/EditablePostGenerator.tsx (lines 750-800 æ¨å®š)\nimport JSZip from 'jszip'\n\nasync function downloadAllPagesAsZIP(\n  pages: HTMLElement[],\n  caption: string,\n  hashtags: string[]\n) {\n  const zip = new JSZip()\n\n  // å„ãƒšãƒ¼ã‚¸ã‚’PNGåŒ–ã—ã¦ZIPã«è¿½åŠ \n  for (let i = 0; i < pages.length; i++) {\n    const pageElement = pages[i]\n\n    const canvas = await html2canvas(pageElement, {\n      scale: 2,\n      width: 1080,\n      height: 1080\n    })\n\n    // Canvas â†’ Blob\n    const blob = await new Promise<Blob>((resolve) => {\n      canvas.toBlob((b) => resolve(b!), 'image/png', 1.0)\n    })\n\n    // ZIPã«è¿½åŠ \n    zip.file(`page-${i + 1}.png`, blob)\n\n    // é€²æ—è¡¨ç¤º\n    updateProgress((i + 1) / pages.length * 100)\n  }\n\n  // ã‚­ãƒ£ãƒ—ã‚·ãƒ§ãƒ³ãƒ»ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°ã‚’ãƒ†ã‚­ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã¨ã—ã¦è¿½åŠ \n  const captionText = `ã‚­ãƒ£ãƒ—ã‚·ãƒ§ãƒ³:\\n${caption}\\n\\nãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°:\\n${hashtags.join(' ')}`\n  zip.file('caption-and-hashtags.txt', captionText)\n\n  // ZIPç”Ÿæˆ\n  const zipBlob = await zip.generateAsync({\n    type: 'blob',\n    compression: 'DEFLATE',\n    compressionOptions: { level: 6 }  // åœ§ç¸®ãƒ¬ãƒ™ãƒ«ï¼ˆ0-9ï¼‰\n  })\n\n  // ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰\n  const url = URL.createObjectURL(zipBlob)\n  const link = document.createElement('a')\n  link.href = url\n  link.download = 'instagram-post-all-pages.zip'\n  link.click()\n  URL.revokeObjectURL(url)\n}\n```\n\n---\n\n## ä»–ã®å€™è£œ\n\n### å€™è£œ1: PDFKitï¼ˆã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰PDFç”Ÿæˆï¼‰\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n- **ç†ç”±1**: Node.js ã‚µãƒ¼ãƒãƒ¼ãŒå¿…é ˆ\n  ```javascript\n  // âŒ PDFKit: ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ã®ã¿\n  const PDFDocument = require('pdfkit')\n  const doc = new PDFDocument()\n  doc.pipe(fs.createWriteStream('output.pdf'))\n  doc.text('Hello World')\n  doc.end()\n  ```\n\n- **ç†ç”±2**: ãƒ–ãƒ©ã‚¦ã‚¶ã§å‹•ä½œã—ãªã„\n  - PDFKitã¯Node.jså°‚ç”¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒª\n  - ãƒ–ãƒ©ã‚¦ã‚¶å¯¾å¿œç‰ˆï¼ˆbrowserifyï¼‰ã¯é™å®šçš„\n\n- **ç†ç”±3**: ã‚µãƒ¼ãƒãƒ¼ã‚³ã‚¹ãƒˆãƒ»ãƒ¬ã‚¹ãƒãƒ³ã‚¹é…å»¶\n  ```\n  jsPDFï¼ˆã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆï¼‰: 0.5-2ç§’\n  PDFKitï¼ˆã‚µãƒ¼ãƒãƒ¼ï¼‰: 3-8ç§’ï¼ˆå¾€å¾©æ™‚é–“å«ã‚€ï¼‰\n  ```\n\n**PDFKitãŒé©ã—ã¦ã„ã‚‹å ´é¢**:\n- ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ã§å¤§é‡PDFä¸€æ‹¬ç”Ÿæˆ\n- è¤‡é›‘ãªPDFãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆï¼ˆå¤šæ®µçµ„ã€ãƒ•ãƒ­ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãƒ†ã‚­ã‚¹ãƒˆç­‰ï¼‰\n- é«˜åº¦ãªPDFæ©Ÿèƒ½ï¼ˆãƒ•ã‚©ãƒ¼ãƒ ã€ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–è¦ç´ ï¼‰\n\n### å€™è£œ2: Puppeteer PDFç”Ÿæˆ\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n- **ç†ç”±1**: Headless Chrome ãŒå¿…è¦\n  ```javascript\n  // âŒ Puppeteer: Chromeãƒã‚¤ãƒŠãƒªå¿…é ˆ\n  const browser = await puppeteer.launch()\n  const page = await browser.newPage()\n  await page.goto('https://example.com')\n  await page.pdf({ path: 'output.pdf', format: 'A4' })\n  ```\n\n- **ç†ç”±2**: ã‚µãƒ¼ãƒãƒ¼ç’°å¢ƒã®åˆ¶ç´„\n  - Vercel: Chromiumãƒã‚¤ãƒŠãƒªã‚µã‚¤ã‚ºåˆ¶é™ï¼ˆ~50MBï¼‰\n  - AWS Lambda: Lambdaãƒ¬ã‚¤ãƒ¤ãƒ¼è¨­å®šãŒè¤‡é›‘\n\n- **ç†ç”±3**: instagram-post-generatorã§ã¯ä¸è¦\n  - html2canvas + jsPDF ã§ååˆ†ãªå“è³ª\n  - Puppeteerã®é«˜æ©Ÿèƒ½ã¯éå‰°\n\n**PuppeteerãŒé©ã—ã¦ã„ã‚‹å ´é¢**:\n- Webãƒšãƒ¼ã‚¸å…¨ä½“ã‚’ãã®ã¾ã¾PDFåŒ–ï¼ˆã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã€è¤‡æ•°ãƒšãƒ¼ã‚¸ï¼‰\n- ãƒ–ãƒ©ã‚¦ã‚¶äº’æ›æ€§ã‚’å®Œå…¨ã«çµ±ä¸€\n- ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ä¸€æ‹¬ç”Ÿæˆ\n\n### å€™è£œ3: pdfmakeï¼ˆãƒ–ãƒ©ã‚¦ã‚¶å¯¾å¿œPDFç”Ÿæˆï¼‰\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n- **ç†ç”±1**: ç‹¬è‡ªã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆå®šç¾©è¨€èª\n  ```javascript\n  // âŒ pdfmake: ç‹¬è‡ªæ§‹æ–‡ã§è¨˜è¿°\n  const docDefinition = {\n    content: [\n      { text: 'ã‚¿ã‚¤ãƒˆãƒ«', style: 'header' },\n      { text: 'æœ¬æ–‡', style: 'body' }\n    ],\n    styles: {\n      header: { fontSize: 18, bold: true },\n      body: { fontSize: 12 }\n    }\n  }\n  pdfMake.createPdf(docDefinition).download()\n  ```\n\n- **ç†ç”±2**: HTMLãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã®å†å®Ÿè£…ãŒå¿…è¦\n  - HTMLã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼ˆ72ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆï¼‰ã‚’pdfmakeæ§‹æ–‡ã«å¤‰æ›\n  - Flexboxã€Gridç­‰ã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’æ‰‹å‹•è¨ˆç®—\n\n- **ç†ç”±3**: ç”»åƒåŸ‹ã‚è¾¼ã¿ã®è¤‡é›‘ã•\n  - html2canvaså‡ºåŠ›ã‚’Base64ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ã—ã¦åŸ‹ã‚è¾¼ã¿\n  - jsPDFã®æ–¹ãŒç›´æ¥çµ±åˆ\n\n**pdfmakeãŒé©ã—ã¦ã„ã‚‹å ´é¢**:\n- ãƒ†ã‚­ã‚¹ãƒˆä¸­å¿ƒã®PDFï¼ˆãƒ¬ãƒãƒ¼ãƒˆã€è«‹æ±‚æ›¸ç­‰ï¼‰\n- ãƒ†ãƒ¼ãƒ–ãƒ«ãƒ»ãƒªã‚¹ãƒˆãŒå¤šã„\n- HTMLãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆãŒä¸è¦\n\n### å€™è£œ4: React-PDFï¼ˆReactå°‚ç”¨PDFç”Ÿæˆï¼‰\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n- **ç†ç”±1**: Reactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å†å®Ÿè£…\n  ```jsx\n  // âŒ React-PDF: å°‚ç”¨ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§è¨˜è¿°\n  import { Document, Page, Text, View } from '@react-pdf/renderer'\n\n  <Document>\n    <Page>\n      <View style={{ backgroundColor: 'blue' }}>\n        <Text>ã‚¿ã‚¤ãƒˆãƒ«</Text>\n      </View>\n    </Page>\n  </Document>\n  ```\n\n- **ç†ç”±2**: æ—¢å­˜ã®72ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’æµç”¨ã§ããªã„\n  - é€šå¸¸ã®Reactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ â†’ React-PDFå°‚ç”¨ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«å¤‰æ›\n  - ã‚¹ã‚¿ã‚¤ãƒ«ã‚‚å°‚ç”¨æ§‹æ–‡ã«å¤‰æ›ï¼ˆCSSã®ä¸€éƒ¨ã®ã¿ã‚µãƒãƒ¼ãƒˆï¼‰\n\n- **ç†ç”±3**: html2canvas + jsPDF ã®æ–¹ãŒã‚·ãƒ³ãƒ—ãƒ«\n  - æ—¢å­˜HTMLã‚’ãã®ã¾ã¾ç”»åƒåŒ– â†’ PDFåŒ–\n\n**React-PDFãŒé©ã—ã¦ã„ã‚‹å ´é¢**:\n- PDFç”Ÿæˆå°‚ç”¨ã®Reactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆä½œæˆ\n- ãƒ†ã‚­ã‚¹ãƒˆæ¤œç´¢å¯èƒ½ãªPDFï¼ˆç”»åƒPDFã§ã¯ãªãï¼‰\n- å‹•çš„PDFç”Ÿæˆã‚µãƒ¼ãƒ“ã‚¹\n\n---\n\n## åˆ¤æ–­ç†ç”±\n\n### ç†ç”±1: html2canvas ã¨ã®å®Œç’§ãªé€£æº\n\n**ã‚·ãƒ¼ãƒ ãƒ¬ã‚¹ãªãƒ•ãƒ­ãƒ¼**:\n```typescript\n// HTML â†’ Canvas â†’ PDF ã®3ã‚¹ãƒ†ãƒƒãƒ—\nconst element = document.getElementById('instagram-page')\n\n// Step 1: HTML â†’ Canvas\nconst canvas = await html2canvas(element, { scale: 2 })\n\n// Step 2: Canvas â†’ ç”»åƒãƒ‡ãƒ¼ã‚¿\nconst imgData = canvas.toDataURL('image/png')\n\n// Step 3: ç”»åƒãƒ‡ãƒ¼ã‚¿ â†’ PDF\nconst pdf = new jsPDF({ format: [1080, 1080] })\npdf.addImage(imgData, 'PNG', 0, 0, 1080, 1080)\npdf.save('output.pdf')\n```\n\n**åˆ©ç‚¹**:\n- æ—¢å­˜ã®HTMLã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ãã®ã¾ã¾ä½¿ç”¨\n- ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆå¤‰æ›´æ™‚ã‚‚PDFç”Ÿæˆãƒ­ã‚¸ãƒƒã‚¯ã¯ä¸å¤‰\n- ãƒ‡ã‚¶ã‚¤ãƒ³ã¨PDFç”Ÿæˆã®åˆ†é›¢\n\n### ç†ç”±2: ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰å®Œçµã«ã‚ˆã‚‹é«˜é€ŸåŒ–\n\n**jsPDF ã®å®Ÿè¡Œãƒ•ãƒ­ãƒ¼**:\n```\nãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã€ŒPDFä½œæˆã€ã‚¯ãƒªãƒƒã‚¯\n  â†“\n[ãƒ–ãƒ©ã‚¦ã‚¶] Canvas â†’ ç”»åƒãƒ‡ãƒ¼ã‚¿å¤‰æ›ï¼ˆ0.1ç§’ï¼‰\n  â†“\n[ãƒ–ãƒ©ã‚¦ã‚¶] jsPDF ã§ PDFç”Ÿæˆï¼ˆ0.3-1ç§’ï¼‰\n  â†“\n[ãƒ–ãƒ©ã‚¦ã‚¶] å³åº§ã«ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰\n```\n\n**PDFKitï¼ˆã‚µãƒ¼ãƒãƒ¼ï¼‰ã®å®Ÿè¡Œãƒ•ãƒ­ãƒ¼**:\n```\nãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã€ŒPDFä½œæˆã€ã‚¯ãƒªãƒƒã‚¯\n  â†“\n[ã‚µãƒ¼ãƒãƒ¼] ãƒªã‚¯ã‚¨ã‚¹ãƒˆé€ä¿¡ï¼ˆ0.2-0.5ç§’ï¼‰\n  â†“\n[ã‚µãƒ¼ãƒãƒ¼] PDFç”Ÿæˆï¼ˆ1-3ç§’ï¼‰\n  â†“\n[ã‚µãƒ¼ãƒãƒ¼] ãƒ¬ã‚¹ãƒãƒ³ã‚¹é€ä¿¡ï¼ˆ0.5-2ç§’ï¼‰\n  â†“\n[ãƒ–ãƒ©ã‚¦ã‚¶] ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰\n```\n\n**çµæœ**: jsPDFã¯**ç´„3-5å€é«˜é€Ÿ**\n\n### ç†ç”±3: ZIPä¸€æ‹¬ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã«ã‚ˆã‚‹UXå‘ä¸Š\n\n**10ãƒšãƒ¼ã‚¸å€‹åˆ¥ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ï¼ˆâŒï¼‰**:\n```\n1. page-1.png ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰\n2. page-2.png ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰\n3. page-3.png ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰\n...\n10. page-10.png ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰\n\nå•é¡Œ: 10å›ã®ã‚¯ãƒªãƒƒã‚¯ã€ãƒ•ã‚¡ã‚¤ãƒ«ç®¡ç†å›°é›£\n```\n\n**ZIPä¸€æ‹¬ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ï¼ˆâœ…ï¼‰**:\n```\n1. ã€Œä¸€æ‹¬ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã€ã‚¯ãƒªãƒƒã‚¯\n2. é€²æ—è¡¨ç¤ºï¼ˆ0% â†’ 100%ï¼‰\n3. instagram-post-all-pages.zip ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰\n\nåˆ©ç‚¹: 1ã‚¯ãƒªãƒƒã‚¯ã€ãƒ•ã‚¡ã‚¤ãƒ«æ•´ç†æ¸ˆã¿\n```\n\n**ZIPå†…å®¹**:\n```\ninstagram-post-all-pages.zip\nâ”œâ”€â”€ page-1.png\nâ”œâ”€â”€ page-2.png\nâ”œâ”€â”€ ...\nâ”œâ”€â”€ page-10.png\nâ””â”€â”€ caption-and-hashtags.txt  â† ã‚­ãƒ£ãƒ—ã‚·ãƒ§ãƒ³ãƒ»ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°åŒæ¢±\n```\n\n### ç†ç”±4: ã‚µãƒ¼ãƒãƒ¼ã‚³ã‚¹ãƒˆã‚¼ãƒ­\n\n**jsPDF + JSZipï¼ˆã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆï¼‰**:\n- ã‚µãƒ¼ãƒãƒ¼å‡¦ç†: ãªã—\n- è¿½åŠ è²»ç”¨: ã‚¼ãƒ­\n\n**PDFKitï¼ˆã‚µãƒ¼ãƒãƒ¼ï¼‰**:\n- æœˆé–“1000ãƒ¦ãƒ¼ã‚¶ãƒ¼ Ã— 10ãƒšãƒ¼ã‚¸ = 10,000ãƒšãƒ¼ã‚¸\n- å®Ÿè¡Œæ™‚é–“: 10,000 Ã— 3ç§’ = 30,000ç§’\n- Vercelè²»ç”¨: ç´„$15-30/æœˆ\n\n**ROI**: jsPDFã§**æœˆ$15-30ã®ã‚³ã‚¹ãƒˆå‰Šæ¸›**\n\n### ç†ç”±5: åœ§ç¸®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã«ã‚ˆã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºæœ€é©åŒ–\n\n**jsPDFåœ§ç¸®**:\n```typescript\nconst pdf = new jsPDF({\n  format: [1080, 1080],\n  compress: true  // â­ åœ§ç¸®æœ‰åŠ¹\n})\n\n// åœ§ç¸®ãªã—: ç´„5-8MBï¼ˆ10ãƒšãƒ¼ã‚¸ï¼‰\n// åœ§ç¸®ã‚ã‚Š: ç´„3-5MBï¼ˆ10ãƒšãƒ¼ã‚¸ï¼‰\n// å‰Šæ¸›ç‡: ç´„30-40%\n```\n\n**JSZipåœ§ç¸®**:\n```typescript\nconst zip = await zip.generateAsync({\n  type: 'blob',\n  compression: 'DEFLATE',\n  compressionOptions: { level: 6 }  // åœ§ç¸®ãƒ¬ãƒ™ãƒ«ï¼ˆ0-9ï¼‰\n})\n\n// åœ§ç¸®ãƒ¬ãƒ™ãƒ«6: ãƒãƒ©ãƒ³ã‚¹è‰¯å¥½\n// åœ§ç¸®ãƒ¬ãƒ™ãƒ«9: æœ€å¤§åœ§ç¸®ï¼ˆé…ã„ï¼‰\n// åœ§ç¸®ãƒ¬ãƒ™ãƒ«0: ç„¡åœ§ç¸®ï¼ˆé€Ÿã„ï¼‰\n```\n\n**ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºæ¯”è¼ƒ**:\n```\nå€‹åˆ¥PNGï¼ˆ10ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰: 2-5MB\nZIPåœ§ç¸®å¾Œ: 1.5-3.5MBï¼ˆç´„20-30%å‰Šæ¸›ï¼‰\nPDF: 3-5MB\n```\n\n---\n\n## ã“ã®åˆ¤æ–­ã‹ã‚‰å­¦ã¹ã‚‹ã“ã¨\n\n### å­¦ã³1: ãƒ–ãƒ©ã‚¦ã‚¶APIã®çµ„ã¿åˆã‚ã›ã§é«˜æ©Ÿèƒ½å®Ÿç¾\n\n**çµ„ã¿åˆã‚ã›ãƒ‘ã‚¿ãƒ¼ãƒ³**:\n```\nhtml2canvasï¼ˆDOM â†’ Canvasï¼‰\n  +\njsPDFï¼ˆCanvas â†’ PDFï¼‰\n  +\nJSZipï¼ˆè¤‡æ•°ãƒ•ã‚¡ã‚¤ãƒ« â†’ ZIPï¼‰\n  =\nå®Œå…¨ãªãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã‚·ã‚¹ãƒ†ãƒ ï¼ˆã‚µãƒ¼ãƒãƒ¼ä¸è¦ï¼‰\n```\n\n**åŸå‰‡**: å˜æ©Ÿèƒ½ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’çµ„ã¿åˆã‚ã›ã‚‹ã“ã¨ã§æŸ”è»Ÿæ€§ã¨ä¿å®ˆæ€§ã‚’ä¸¡ç«‹\n\n### å­¦ã³2: é †æ¬¡ç”Ÿæˆãƒ‘ã‚¿ãƒ¼ãƒ³ã§ãƒ¡ãƒ¢ãƒªç®¡ç†\n\n**âŒ ä¸¦åˆ—ç”Ÿæˆï¼ˆãƒ¡ãƒ¢ãƒªçˆ†ç™ºï¼‰**:\n```typescript\n// ã™ã¹ã¦ã®ãƒšãƒ¼ã‚¸ã‚’åŒæ™‚ã«ç”Ÿæˆ\nconst canvases = await Promise.all(\n  pages.map(page => html2canvas(page))\n)\n// å•é¡Œ: 10ãƒšãƒ¼ã‚¸ Ã— 18MB = 180MB ãƒ¡ãƒ¢ãƒªæ¶ˆè²»\n```\n\n**âœ… é †æ¬¡ç”Ÿæˆï¼ˆãƒ¡ãƒ¢ãƒªåŠ¹ç‡ï¼‰**:\n```typescript\nfor (const page of pages) {\n  const canvas = await html2canvas(page)\n  const imgData = canvas.toDataURL('image/png')\n  pdf.addImage(imgData, 'PNG', 0, 0, 1080, 1080)\n  // Canvasã¯æ¬¡ãƒ«ãƒ¼ãƒ—ã§è§£æ”¾\n}\n// ãƒ¡ãƒ¢ãƒªæ¶ˆè²»: æœ€å¤§18MBï¼ˆ1ãƒšãƒ¼ã‚¸åˆ†ã®ã¿ï¼‰\n```\n\n**åŠ¹æœ**: ãƒ¡ãƒ¢ãƒªæ¶ˆè²»ã‚’**ç´„90%å‰Šæ¸›**\n\n### å­¦ã³3: é€²æ—è¡¨ç¤ºã«ã‚ˆã‚‹UXå‘ä¸Š\n\n**å®Ÿè£…**:\n```typescript\nasync function downloadAllPagesAsZIP(pages: HTMLElement[]) {\n  const zip = new JSZip()\n  const totalPages = pages.length\n\n  for (let i = 0; i < totalPages; i++) {\n    const canvas = await html2canvas(pages[i])\n    const blob = await new Promise<Blob>((resolve) => {\n      canvas.toBlob((b) => resolve(b!), 'image/png')\n    })\n    zip.file(`page-${i + 1}.png`, blob)\n\n    // â­ é€²æ—æ›´æ–°\n    const progress = ((i + 1) / totalPages) * 100\n    setProgress(progress)\n  }\n\n  const zipBlob = await zip.generateAsync({ type: 'blob' })\n  // ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰\n}\n```\n\n**UI**:\n```jsx\n<div className=\"progress-bar\">\n  <div className=\"progress-fill\" style={{ width: `${progress}%` }}>\n    {progress.toFixed(0)}%\n  </div>\n</div>\n```\n\n**åŠ¹æœ**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯å¾…ã¡æ™‚é–“ã‚’å¯è¦–åŒ–ã§ãã€ä¸å®‰ã‚’è»½æ¸›\n\n### å­¦ã³4: ã‚­ãƒ£ãƒ—ã‚·ãƒ§ãƒ³ãƒ»ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°ã®åŒæ¢±\n\n**è¨­è¨ˆæ€æƒ³**: ç”»åƒã ã‘ã§ãªãã€**InstagramæŠ•ç¨¿ã«å¿…è¦ãªã™ã¹ã¦ã®è¦ç´ **ã‚’ä¸€æ‹¬æä¾›\n\n**ZIPæ§‹æˆ**:\n```\ninstagram-post-all-pages.zip\nâ”œâ”€â”€ page-1.png          â† ç”»åƒ\nâ”œâ”€â”€ page-2.png\nâ”œâ”€â”€ ...\nâ””â”€â”€ caption-and-hashtags.txt  â† ãƒ†ã‚­ã‚¹ãƒˆæƒ…å ±\n```\n\n**caption-and-hashtags.txt ã®å†…å®¹**:\n```\nã‚­ãƒ£ãƒ—ã‚·ãƒ§ãƒ³:\næ–°å’æ¡ç”¨ã§å¤±æ•—ã—ãªã„ãŸã‚ã®5ã¤ã®ãƒã‚¤ãƒ³ãƒˆ\n\n1. ä¼æ¥­ç ”ç©¶ã®å¾¹åº•\n2. è‡ªå·±åˆ†æã®æ·±æ˜ã‚Š\n3. é¢æ¥å¯¾ç­–ã®åå¾©ç·´ç¿’\n4. OB/OGè¨ªå•ã®æ´»ç”¨\n5. ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆæ´»ç”¨\n\nãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°:\n#å°±æ´» #å­¦ç”Ÿæˆé•· #ã‚­ãƒ£ãƒªã‚¢ #ã‚¹ã‚­ãƒ«ã‚¢ãƒƒãƒ— #è‡ªå·±æˆé•· #æ–°å’æ¡ç”¨ #é¢æ¥å¯¾ç­–\n```\n\n**åŠ¹æœ**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯ã‚³ãƒ”ãƒšã§InstagramæŠ•ç¨¿å®Œäº†\n\n---\n\n## é©ç”¨å ´é¢\n\n### ã„ã¤ã“ã®åˆ¤æ–­åŸºæº–ã‚’ä½¿ã†ã‹\n\n1. **è¤‡æ•°ç”»åƒã®PDFåŒ–ï¼ˆã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰ï¼‰**\n   - InstagramæŠ•ç¨¿10ãƒšãƒ¼ã‚¸ â†’ 1ã¤ã®PDF\n   - ãƒ—ãƒ¬ã‚¼ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³è³‡æ–™ç”Ÿæˆ\n\n2. **ä¸€æ‹¬ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰æ©Ÿèƒ½**\n   - ç”»åƒ + ãƒ†ã‚­ã‚¹ãƒˆ + è¨­å®šãƒ•ã‚¡ã‚¤ãƒ« â†’ ZIP\n   - ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰\n\n3. **ãƒ–ãƒ©ã‚¦ã‚¶å†…ã§å®Œçµã™ã‚‹å¿…è¦ãŒã‚ã‚‹å ´åˆ**\n   - ã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³\n   - PWAï¼ˆProgressive Web Appï¼‰\n\n4. **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ç”Ÿæˆ**\n   - ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ç·¨é›† â†’ å³åº§ã«PDFç”Ÿæˆ\n   - ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ â†’ ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã®æµã‚Œ\n\n### ã„ã¤ PDFKit/Puppeteer ã‚’é¸ã¶ã‹\n\n1. **ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ã§å¤§é‡ä¸€æ‹¬ç”Ÿæˆ**\n   - 1000+ã®PDFã‚’äº‹å‰ç”Ÿæˆ\n   - ãƒãƒƒãƒå‡¦ç†\n\n2. **è¤‡é›‘ãªPDFãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ**\n   - å¤šæ®µçµ„ã€ãƒ•ãƒ­ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãƒ†ã‚­ã‚¹ãƒˆ\n   - ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–PDFï¼ˆãƒ•ã‚©ãƒ¼ãƒ ã€ãƒªãƒ³ã‚¯ï¼‰\n\n3. **ãƒ†ã‚­ã‚¹ãƒˆæ¤œç´¢å¯èƒ½ãªPDF**\n   - jsPDFã¯ç”»åƒPDFã®ã¿\n   - PDFKitã¯ãƒ†ã‚­ã‚¹ãƒˆãƒ¬ã‚¤ãƒ¤ãƒ¼ä¿æŒ\n\n---\n\n## æ³¨æ„ç‚¹\n\n### æ³¨æ„ç‚¹1: PDFãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚º\n\n**å•é¡Œ**: ç”»åƒPDFã¯ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºãŒå¤§ãã„\n\n```\n10ãƒšãƒ¼ã‚¸:\n- PNGå€‹åˆ¥: 2-5MB\n- PDF: 3-5MB\n- ZIP: 1.5-3.5MB\n```\n\n**å¯¾ç­–**:\n- `compress: true` ã‚ªãƒ—ã‚·ãƒ§ãƒ³ä½¿ç”¨\n- ç”»åƒå“è³ªèª¿æ•´ï¼ˆ`canvas.toDataURL('image/jpeg', 0.85)`ï¼‰\n- å¿…è¦ã«å¿œã˜ã¦ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰å¤‰æ›ã‚’æ¤œè¨\n\n### æ³¨æ„ç‚¹2: ãƒ¢ãƒã‚¤ãƒ«ãƒ–ãƒ©ã‚¦ã‚¶ã®ãƒ¡ãƒ¢ãƒªåˆ¶ç´„\n\n**å•é¡Œ**: iOSã§ã¯å¤§é‡ãƒšãƒ¼ã‚¸ç”ŸæˆãŒå¤±æ•—ã™ã‚‹å ´åˆ\n\n**å¯¾ç­–**:\n```typescript\n// ãƒ¢ãƒã‚¤ãƒ«åˆ¤å®š\nconst isMobile = /iPhone|iPad|Android/i.test(navigator.userAgent)\n\nif (isMobile && pages.length > 10) {\n  alert('ãƒ¢ãƒã‚¤ãƒ«ã§ã¯10ãƒšãƒ¼ã‚¸ã¾ã§ã®ç”Ÿæˆã‚’æ¨å¥¨ã—ã¾ã™')\n}\n```\n\n### æ³¨æ„ç‚¹3: ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã®è‡ªå‹•é–‹å§‹åˆ¶ç´„\n\n**å•é¡Œ**: ãƒ–ãƒ©ã‚¦ã‚¶ã®ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ãƒ–ãƒ­ãƒƒã‚¯\n\n```typescript\n// âŒ ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¢ã‚¯ã‚·ãƒ§ãƒ³å¤–ã§ã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰\nsetTimeout(() => {\n  link.click()  // ãƒ–ãƒ­ãƒƒã‚¯ã•ã‚Œã‚‹å¯èƒ½æ€§\n}, 5000)\n\n// âœ… ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¢ã‚¯ã‚·ãƒ§ãƒ³å†…ã§ã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰\nbutton.addEventListener('click', () => {\n  link.click()  // è¨±å¯ã•ã‚Œã‚‹\n})\n```\n\n**åŸå‰‡**: ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã¯**å¿…ãšãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¢ã‚¯ã‚·ãƒ§ãƒ³å†…**ã§å®Ÿè¡Œ\n\n### æ³¨æ„ç‚¹4: JSZipã®åœ§ç¸®æ™‚é–“\n\n**å•é¡Œ**: å¤§é‡ãƒ•ã‚¡ã‚¤ãƒ«åœ§ç¸®ã¯æ™‚é–“ãŒã‹ã‹ã‚‹\n\n```\n10ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆ5MBï¼‰:\n- åœ§ç¸®ãƒ¬ãƒ™ãƒ«0: 0.5ç§’\n- åœ§ç¸®ãƒ¬ãƒ™ãƒ«6: 2-3ç§’\n- åœ§ç¸®ãƒ¬ãƒ™ãƒ«9: 5-8ç§’\n```\n\n**æ¨å¥¨**: åœ§ç¸®ãƒ¬ãƒ™ãƒ«6ãŒãƒãƒ©ãƒ³ã‚¹è‰¯å¥½\n\n---\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- **decision_tech_html2canvas_image_export_2025_11_25**: html2canvas ã¨ã®é€£æº\n- **skill_bulk_download_service_zip_2025_11_25**: ä¸€æ‹¬ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã‚µãƒ¼ãƒ“ã‚¹å®Ÿè£…\n- **workflow_download_export_workflow_2025_11_25**: ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ãƒ•ãƒ­ãƒ¼è©³ç´°\n\n---\n\n## å®Ÿéš›ã®åŠ¹æœï¼ˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå†…ã§ã®å®Ÿç¸¾ï¼‰\n\n### åŠ¹æœ1: ç”Ÿæˆé€Ÿåº¦\n\n**æ¸¬å®šçµæœ**:\n```\n10ãƒšãƒ¼ã‚¸PDFç”Ÿæˆ: 3-8ç§’\n10ãƒšãƒ¼ã‚¸ZIPç”Ÿæˆ: 5-15ç§’ï¼ˆåœ§ç¸®ãƒ¬ãƒ™ãƒ«6ï¼‰\n```\n\n**å†…è¨³**:\n```\nhtml2canvaså¤‰æ›: 0.5-2ç§’/ãƒšãƒ¼ã‚¸ Ã— 10 = 5-20ç§’\nPDFç”Ÿæˆ: 0.3-1ç§’\nZIPåœ§ç¸®: 2-3ç§’\n```\n\n### åŠ¹æœ2: ã‚µãƒ¼ãƒãƒ¼ã‚³ã‚¹ãƒˆå‰Šæ¸›\n\n**æœˆé–“åˆ©ç”¨æƒ³å®š**:\n```\nãƒ¦ãƒ¼ã‚¶ãƒ¼æ•°: 1000äºº/æœˆ\n1äººã‚ãŸã‚Š: 10ãƒšãƒ¼ã‚¸PDFç”Ÿæˆ\nåˆè¨ˆ: 10,000ãƒšãƒ¼ã‚¸/æœˆ\n```\n\n**jsPDFï¼ˆã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆï¼‰**:\n- ã‚µãƒ¼ãƒãƒ¼ã‚³ã‚¹ãƒˆ: $0\n\n**PDFKitï¼ˆã‚µãƒ¼ãƒãƒ¼ï¼‰**:\n- å®Ÿè¡Œæ™‚é–“: 10,000 Ã— 3ç§’ = 30,000ç§’\n- Vercelè²»ç”¨: ç´„$15-30/æœˆ\n\n**å‰Šæ¸›é¡**: ç´„$15-30/æœˆ\n\n### åŠ¹æœ3: ãƒ¦ãƒ¼ã‚¶ãƒ¼æº€è¶³åº¦å‘ä¸Š\n\n**ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯**:\n- ã€ŒZIPä¸€æ‹¬ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ãŒä¾¿åˆ©ã€\n- ã€Œã‚­ãƒ£ãƒ—ã‚·ãƒ§ãƒ³ãƒ»ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°ãŒåŒæ¢±ã•ã‚Œã¦ã„ã¦åŠ©ã‹ã‚‹ã€\n- ã€Œé€²æ—è¡¨ç¤ºãŒã‚ã‚‹ã®ã§å®‰å¿ƒã€\n\n---\n\n**ã¾ã¨ã‚**: jsPDF + JSZipã¯ã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰å®Œçµã«ã‚ˆã‚‹**é«˜é€ŸåŒ–**ã€ã‚µãƒ¼ãƒãƒ¼ã‚³ã‚¹ãƒˆ**ã‚¼ãƒ­**ã€html2canvasã¨ã®**å®Œç’§ãªé€£æº**ã®3ã¤ã®åˆ©ç‚¹ã‚’ã‚‚ãŸã‚‰ã™ã€‚PDFç”Ÿæˆï¼ˆ3-8ç§’ï¼‰ã€ZIPç”Ÿæˆï¼ˆ5-15ç§’ï¼‰ã§å³åº§ã«ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰å¯èƒ½ã€‚æœˆ$15-30ã®ã‚³ã‚¹ãƒˆå‰Šæ¸›ã‚’å®Ÿç¾ã€‚\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€ŒjsPDF + JSZip ã«ã‚ˆã‚‹ PDFç”Ÿæˆã¨ä¸€æ‹¬ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "decision-tech-html2canvas-image-export",
      "skill-bulk-download-service-zip",
      "workflow-download-export-workflow"
    ]
  },
  {
    "slug": "tech-lucide-react-icons",
    "title": "lucide-react ã‚¢ã‚¤ã‚³ãƒ³ãƒ©ã‚¤ãƒ–ãƒ©ãƒªé¸æŠ",
    "category": "Decisionsï¼ˆæŠ€è¡“é¸å®šãƒ»åˆ¤æ–­ï¼‰",
    "description": "lucide-react ã‚¢ã‚¤ã‚³ãƒ³ãƒ©ã‚¤ãƒ–ãƒ©ãƒªé¸æŠ",
    "project": "yumesuta-management-system",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"decision_tech_lucide_react_icons_2025_11_24\",\n  \"type\": \"decision\",\n  \"name\": \"lucide-react ã‚¢ã‚¤ã‚³ãƒ³ãƒ©ã‚¤ãƒ–ãƒ©ãƒªé¸æŠ\",\n  \"decision_type\": \"tech_selection\",\n  \"tags\": [\"lucide-react\", \"ã‚¢ã‚¤ã‚³ãƒ³\", \"UI\", \"tree-shakeable\", \"TypeScript\", \"ä¸€è²«æ€§\"],\n  \"source_project\": \"yumesuta-management-system\",\n  \"chosen\": \"lucide-react\",\n  \"alternatives\": [\"react-icons\", \"heroicons\", \"Font Awesome\", \"Material Icons\"],\n  \"related_knowledge\": [\"decision_tech_nextjs_15_app_router_2025_11_24\", \"decision_tech_tailwind_css_v4_2025_11_24\"],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-24\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# lucide-react ã‚¢ã‚¤ã‚³ãƒ³ãƒ©ã‚¤ãƒ–ãƒ©ãƒªé¸æŠ\n\n## ä½•ã‚’åˆ¤æ–­ã—ãŸã‹\n\nyumesuta-management-systemã®ã‚¢ã‚¤ã‚³ãƒ³ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¨ã—ã¦ã€lucide-reactã‚’é¸æŠã—ãŸã€‚\n\n## é¸ã‚“ã ã‚‚ã®\n\n**lucide-react v0.544.0**\n\n```json\n// package.json\n{\n  \"dependencies\": {\n    \"lucide-react\": \"^0.544.0\"\n  }\n}\n```\n\n**ä½¿ç”¨ä¾‹**ï¼š\n```tsx\nimport { RefreshCw, TrendingUp, AlertTriangle, CheckCircle } from 'lucide-react';\n\n// æ›´æ–°ãƒœã‚¿ãƒ³\n<button className=\"flex items-center gap-2\">\n  <RefreshCw className=\"h-4 w-4\" />\n  æ›´æ–°\n</button>\n\n// ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚¢ã‚¤ã‚³ãƒ³\n{status === 'ok' && <CheckCircle className=\"h-5 w-5 text-green-600\" />}\n{status === 'warning' && <AlertTriangle className=\"h-5 w-5 text-yellow-600\" />}\n```\n\n## ä»–ã®å€™è£œ\n\n### å€™è£œ1ï¼šreact-icons\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**ï¼š\n- **ç†ç”±1ï¼šãƒãƒ³ãƒ‰ãƒ«ã‚µã‚¤ã‚ºãŒå¤§ãã„** - è¤‡æ•°ã®ã‚¢ã‚¤ã‚³ãƒ³ã‚»ãƒƒãƒˆï¼ˆFont Awesomeã€Materialã€Heroiconsç­‰ï¼‰ã‚’å«ã‚€ãŸã‚ã€æœªä½¿ç”¨ã‚¢ã‚¤ã‚³ãƒ³ã‚‚å«ã¾ã‚Œã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹\n- **ç†ç”±2ï¼šä¸€è²«æ€§ã®æ¬ å¦‚** - è¤‡æ•°ã®ãƒ‡ã‚¶ã‚¤ãƒ³ã‚¹ã‚¿ã‚¤ãƒ«ãŒæ··åœ¨ã™ã‚‹ãŸã‚ã€UIå…¨ä½“ã®çµ±ä¸€æ„ŸãŒæãªã‚ã‚Œã‚‹\n- **ç†ç”±3ï¼štree-shakingã®åŠ¹ç‡ãŒä½ã„** - lucide-reactã¨æ¯”è¼ƒã—ã¦ã€tree-shakingãŒåŠ¹ãã«ãã„æ§‹é€ \n\n### å€™è£œ2ï¼šheroicons\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**ï¼š\n- **ç†ç”±1ï¼šã‚¢ã‚¤ã‚³ãƒ³æ•°ãŒå°‘ãªã„** - heroiconsã¯ç´„300ã‚¢ã‚¤ã‚³ãƒ³ã€lucide-reactã¯1000+ã‚¢ã‚¤ã‚³ãƒ³\n- **ç†ç”±2ï¼šæ›´æ–°é »åº¦ãŒä½ã„** - lucide-reactã®æ–¹ãŒæ´»ç™ºã«é–‹ç™ºã•ã‚Œã¦ã„ã‚‹\n- **ç†ç”±3ï¼šTypeScriptå‹å®šç¾©** - lucide-reactã®æ–¹ãŒå‹å®šç¾©ãŒå……å®Ÿã—ã¦ã„ã‚‹\n\n### å€™è£œ3ï¼šFont Awesome\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**ï¼š\n- **ç†ç”±1ï¼šãƒãƒ³ãƒ‰ãƒ«ã‚µã‚¤ã‚ºãŒå¤§ãã„** - ã‚¢ã‚¤ã‚³ãƒ³ãƒ•ã‚©ãƒ³ãƒˆæ–¹å¼ï¼ˆWeb Fontãƒ™ãƒ¼ã‚¹ï¼‰ã®ãŸã‚ã€ãƒãƒ³ãƒ‰ãƒ«ã‚µã‚¤ã‚ºãŒè‚¥å¤§åŒ–ã™ã‚‹\n- **ç†ç”±2ï¼šProç‰ˆãŒå¿…è¦** - å¤šãã®ã‚¢ã‚¤ã‚³ãƒ³ãŒProç‰ˆï¼ˆæœ‰æ–™ï¼‰ã§ã—ã‹ã‚¢ã‚¯ã‚»ã‚¹ã§ããªã„\n- **ç†ç”±3ï¼šãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹** - ã‚¢ã‚¤ã‚³ãƒ³ãƒ•ã‚©ãƒ³ãƒˆèª­ã¿è¾¼ã¿ã«ã‚ˆã‚‹ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°é…å»¶ãŒç™ºç”Ÿã™ã‚‹å¯èƒ½æ€§\n\n### å€™è£œ4ï¼šMaterial Icons\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**ï¼š\n- **ç†ç”±1ï¼šãƒ‡ã‚¶ã‚¤ãƒ³ã‚¹ã‚¿ã‚¤ãƒ«ã®åˆ¶ç´„** - Material Designã«ç‰¹åŒ–ã—ã¦ãŠã‚Šã€Tailwind CSSã¨ã®ç›¸æ€§ãŒã‚„ã‚„æ‚ªã„\n- **ç†ç”±2ï¼šã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºæ€§ãŒä½ã„** - lucide-reactã®æ–¹ãŒæŸ”è»Ÿã«ã‚µã‚¤ã‚ºãƒ»è‰²ã‚’å¤‰æ›´ã§ãã‚‹\n- **ç†ç”±3ï¼štree-shakingã®éå¯¾å¿œ** - Material Iconsã¯ã‚¢ã‚¤ã‚³ãƒ³ãƒ•ã‚©ãƒ³ãƒˆæ–¹å¼ã®ãŸã‚ã€tree-shakingãŒåŠ¹ã‹ãªã„\n\n## åˆ¤æ–­ç†ç”±\n\n### ç†ç”±1ï¼štree-shakeableã§è»½é‡\n\nlucide-reactã¯ã€tree-shakeableè¨­è¨ˆã®ãŸã‚ã€ä½¿ç”¨ã—ãŸã‚¢ã‚¤ã‚³ãƒ³ã®ã¿ãŒãƒãƒ³ãƒ‰ãƒ«ã«å«ã¾ã‚Œã‚‹ã€‚\n\n**ãƒãƒ³ãƒ‰ãƒ«ã‚µã‚¤ã‚ºã®æ¯”è¼ƒ**ï¼š\n```tsx\n// âŒ Font Awesomeï¼ˆå…¨ã‚¢ã‚¤ã‚³ãƒ³ã‚’ãƒ­ãƒ¼ãƒ‰ã€ç´„500KB+ï¼‰\nimport '@fortawesome/fontawesome-free/css/all.min.css';\n\n// âœ… lucide-reactï¼ˆä½¿ç”¨ã—ãŸã‚¢ã‚¤ã‚³ãƒ³ã®ã¿ã€5KBç¨‹åº¦ï¼‰\nimport { RefreshCw, TrendingUp } from 'lucide-react';\n```\n\n**å®Ÿæ¸¬å€¤**ï¼ˆyumesuta-management-systemã§ä½¿ç”¨ã—ã¦ã„ã‚‹ç´„20ã‚¢ã‚¤ã‚³ãƒ³ï¼‰ï¼š\n- lucide-react: ç´„10KB\n- Font Awesome: ç´„500KB\n- react-icons: ç´„50KBï¼ˆæœªä½¿ç”¨ã‚¢ã‚¤ã‚³ãƒ³å«ã‚€ï¼‰\n\n### ç†ç”±2ï¼šä¸€è²«ã—ãŸãƒ‡ã‚¶ã‚¤ãƒ³ã‚¹ã‚¿ã‚¤ãƒ«\n\nlucide-reactã¯ã€ã™ã¹ã¦ã®ã‚¢ã‚¤ã‚³ãƒ³ãŒçµ±ä¸€ã•ã‚ŒãŸãƒ‡ã‚¶ã‚¤ãƒ³ã‚¹ã‚¿ã‚¤ãƒ«ï¼ˆã‚¹ãƒˆãƒ­ãƒ¼ã‚¯ãƒ™ãƒ¼ã‚¹ã€ã‚·ãƒ³ãƒ—ãƒ«ã€ãƒ¢ãƒ€ãƒ³ï¼‰ã‚’æŒã¤ã€‚\n\n**ãƒ‡ã‚¶ã‚¤ãƒ³åŸå‰‡**ï¼š\n- 24x24px ã‚°ãƒªãƒƒãƒ‰\n- 2px ã‚¹ãƒˆãƒ­ãƒ¼ã‚¯å¹…\n- ä¸¸ã¿ã®ã‚ã‚‹ã‚³ãƒ¼ãƒŠãƒ¼\n- ã‚·ãƒ³ãƒ—ãƒ«ã§èªè­˜ã—ã‚„ã™ã„å½¢çŠ¶\n\n**UIå…¨ä½“ã®çµ±ä¸€æ„Ÿ**ï¼š\n```tsx\n// ã™ã¹ã¦ã®ã‚¢ã‚¤ã‚³ãƒ³ãŒåŒã˜ã‚¹ã‚¿ã‚¤ãƒ«\n<div className=\"flex items-center gap-4\">\n  <FileText className=\"h-5 w-5\" />      {/* æ›¸é¡ */}\n  <Users className=\"h-5 w-5\" />         {/* ãƒ¦ãƒ¼ã‚¶ãƒ¼ */}\n  <Calendar className=\"h-5 w-5\" />      {/* ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ */}\n  <BarChart className=\"h-5 w-5\" />      {/* ã‚°ãƒ©ãƒ• */}\n</div>\n```\n\n### ç†ç”±3ï¼šTypeScriptå‹å®šç¾©ãŒå……å®Ÿ\n\nlucide-reactã¯ã€TypeScriptå‹å®šç¾©ãŒãƒ“ãƒ«ãƒˆã‚¤ãƒ³ã§æä¾›ã•ã‚Œã‚‹ã€‚\n\n**å‹å®‰å…¨æ€§ã®ä¾‹**ï¼š\n```tsx\nimport { LucideIcon } from 'lucide-react';\n\ninterface NavigationItem {\n  name: string;\n  href: string;\n  icon: LucideIcon;  // å‹ãƒã‚§ãƒƒã‚¯ãŒåŠ¹ã\n}\n\nconst navigation: NavigationItem[] = [\n  { name: 'å–¶æ¥­é€²æ—', href: '/dashboard/sales', icon: TrendingUp },\n  { name: 'ã‚†ã‚ãƒã‚¬', href: '/dashboard/yumemaga', icon: FileText },\n  { name: 'ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼', href: '/dashboard/partners', icon: Users },\n];\n```\n\n### ç†ç”±4ï¼šã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºæ€§ãŒé«˜ã„\n\nlucide-reactã¯ã€ã‚µã‚¤ã‚ºãƒ»è‰²ãƒ»ã‚¹ãƒˆãƒ­ãƒ¼ã‚¯å¹…ã‚’ç°¡å˜ã«ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã§ãã‚‹ã€‚\n\n**ã‚µã‚¤ã‚ºã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º**ï¼š\n```tsx\n// Tailwind CSSã‚¯ãƒ©ã‚¹ã§ã‚µã‚¤ã‚ºæŒ‡å®š\n<RefreshCw className=\"h-4 w-4\" />  {/* 16px */}\n<RefreshCw className=\"h-5 w-5\" />  {/* 20px */}\n<RefreshCw className=\"h-6 w-6\" />  {/* 24px */}\n\n// ã¾ãŸã¯ã€propsã§æŒ‡å®š\n<RefreshCw size={16} />\n<RefreshCw size={20} />\n<RefreshCw size={24} />\n```\n\n**è‰²ã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º**ï¼š\n```tsx\n// Tailwind CSSã‚¯ãƒ©ã‚¹ã§è‰²æŒ‡å®š\n<CheckCircle className=\"text-green-600\" />     {/* ç·‘ */}\n<AlertTriangle className=\"text-yellow-600\" />  {/* é»„ */}\n<XCircle className=\"text-red-600\" />           {/* èµ¤ */}\n\n// ã¾ãŸã¯ã€propsã§æŒ‡å®š\n<RefreshCw color=\"#3b82f6\" />\n```\n\n**ã‚¹ãƒˆãƒ­ãƒ¼ã‚¯å¹…ã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º**ï¼š\n```tsx\n// ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: 2px\n<RefreshCw strokeWidth={2} />\n\n// å¤ªå­—: 3px\n<RefreshCw strokeWidth={3} />\n\n// ç´°å­—: 1.5px\n<RefreshCw strokeWidth={1.5} />\n```\n\n### ç†ç”±5ï¼šè±Šå¯Œãªã‚¢ã‚¤ã‚³ãƒ³æ•°ï¼ˆ1000+ï¼‰\n\nlucide-reactã¯ã€1000ä»¥ä¸Šã®ã‚¢ã‚¤ã‚³ãƒ³ã‚’æä¾›ã—ã¦ãŠã‚Šã€ã»ã¨ã‚“ã©ã®ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã‚’ã‚«ãƒãƒ¼ã§ãã‚‹ã€‚\n\n**yumesuta-management-systemã§ä½¿ç”¨ã—ã¦ã„ã‚‹ã‚¢ã‚¤ã‚³ãƒ³ä¾‹**ï¼š\n```tsx\n// ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³\nimport { LayoutDashboard, TrendingUp, FileText, Users, BarChart, MessageSquare, CheckSquare } from 'lucide-react';\n\n// ã‚¢ã‚¯ã‚·ãƒ§ãƒ³\nimport { RefreshCw, Download, Upload, Plus, Minus, Edit, Trash2, Save, X } from 'lucide-react';\n\n// ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹\nimport { CheckCircle, AlertTriangle, XCircle, Clock, Loader2 } from 'lucide-react';\n\n// ãã®ä»–\nimport { Search, Filter, SortAsc, SortDesc, Calendar, ExternalLink } from 'lucide-react';\n```\n\n### ç†ç”±6ï¼šReact 19ã¨ã®äº’æ›æ€§\n\nlucide-reactã¯ã€React 19ã¨å®Œå…¨ã«äº’æ›æ€§ãŒã‚ã‚‹ã€‚\n\n```json\n// package.json\n{\n  \"dependencies\": {\n    \"react\": \"19.1.0\",\n    \"lucide-react\": \"^0.544.0\"\n  }\n}\n```\n\n## ã“ã®åˆ¤æ–­ã‹ã‚‰å­¦ã¹ã‚‹ã“ã¨\n\n### å­¦ã³1ï¼šã‚¢ã‚¤ã‚³ãƒ³ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¯è»½é‡ã•ã¨è±Šå¯Œã•ã®ãƒãƒ©ãƒ³ã‚¹ãŒé‡è¦\n\nã‚¢ã‚¤ã‚³ãƒ³ãƒ©ã‚¤ãƒ–ãƒ©ãƒªé¸æŠã§ã¯ã€ä»¥ä¸‹ã®ãƒãƒ©ãƒ³ã‚¹ã‚’è€ƒæ…®ã™ã‚‹ï¼š\n\n1. **ãƒãƒ³ãƒ‰ãƒ«ã‚µã‚¤ã‚º** - tree-shakeableè¨­è¨ˆã‹ã©ã†ã‹\n2. **ã‚¢ã‚¤ã‚³ãƒ³æ•°** - å¿…è¦ãªã‚¢ã‚¤ã‚³ãƒ³ãŒã™ã¹ã¦æƒã£ã¦ã„ã‚‹ã‹\n3. **ãƒ‡ã‚¶ã‚¤ãƒ³çµ±ä¸€** - çµ±ä¸€ã•ã‚ŒãŸã‚¹ã‚¿ã‚¤ãƒ«ã‹ã©ã†ã‹\n\nlucide-reactã¯ã€ã“ã®3ã¤ã®ãƒãƒ©ãƒ³ã‚¹ãŒæœ€é©ã€‚\n\n### å­¦ã³2ï¼šTypeScriptå‹å®šç¾©ã¯DXå‘ä¸Šã«ç›´çµ\n\nTypeScriptå‹å®šç¾©ãŒå……å®Ÿã—ã¦ã„ã‚‹ã¨ã€ä»¥ä¸‹ã®ãƒ¡ãƒªãƒƒãƒˆãŒã‚ã‚‹ï¼š\n\n- **ã‚³ãƒ¼ãƒ‰è£œå®Œ** - ã‚¨ãƒ‡ã‚£ã‚¿ã§ã‚¢ã‚¤ã‚³ãƒ³åãŒè‡ªå‹•è£œå®Œã•ã‚Œã‚‹\n- **å‹ã‚¨ãƒ©ãƒ¼æ¤œçŸ¥** - å­˜åœ¨ã—ãªã„ã‚¢ã‚¤ã‚³ãƒ³åã‚’æŒ‡å®šã™ã‚‹ã¨ã‚¨ãƒ©ãƒ¼ãŒè¡¨ç¤ºã•ã‚Œã‚‹\n- **ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°** - ã‚¢ã‚¤ã‚³ãƒ³ã‚’ä¸€æ‹¬ç½®æ›ã™ã‚‹éš›ã«å‹ãƒã‚§ãƒƒã‚¯ãŒåŠ¹ã\n\n### å­¦ã³3ï¼šä¸€è²«ã—ãŸãƒ‡ã‚¶ã‚¤ãƒ³ã‚¹ã‚¿ã‚¤ãƒ«ã¯UIå“è³ªã‚’å‘ä¸Šã•ã›ã‚‹\n\nã™ã¹ã¦ã®ã‚¢ã‚¤ã‚³ãƒ³ãŒçµ±ä¸€ã•ã‚ŒãŸãƒ‡ã‚¶ã‚¤ãƒ³ã‚¹ã‚¿ã‚¤ãƒ«ã‚’æŒã¤ã“ã¨ã§ï¼š\n\n- **è¦–è¦šçš„ä¸€è²«æ€§** - UIå…¨ä½“ãŒãƒ—ãƒ­ãƒ•ã‚§ãƒƒã‚·ãƒ§ãƒŠãƒ«ã«è¦‹ãˆã‚‹\n- **èªè­˜ã—ã‚„ã™ã•** - ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã‚¢ã‚¤ã‚³ãƒ³ã®æ„å‘³ã‚’ã™ãã«ç†è§£ã§ãã‚‹\n- **ä¿å®ˆæ€§** - æ–°ã—ã„ã‚¢ã‚¤ã‚³ãƒ³ã‚’è¿½åŠ ã—ã¦ã‚‚çµ±ä¸€æ„ŸãŒä¿ãŸã‚Œã‚‹\n\n## é©ç”¨å ´é¢\n\n### ã„ã¤ã“ã®åˆ¤æ–­åŸºæº–ã‚’ä½¿ã†ã‹\n\nä»¥ä¸‹ã®æ¡ä»¶ã‚’æº€ãŸã™ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯ã€lucide-reactã‚’é¸æŠã™ã¹ãï¼š\n\n1. **React / Next.jsãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ** - Reactãƒ™ãƒ¼ã‚¹ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã‚ã‚‹å ´åˆ\n2. **TypeScriptä½¿ç”¨** - å‹å®‰å…¨æ€§ã‚’é‡è¦–ã™ã‚‹å ´åˆ\n3. **ãƒãƒ³ãƒ‰ãƒ«ã‚µã‚¤ã‚ºæœ€é©åŒ–ãŒå¿…è¦** - ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’é‡è¦–ã™ã‚‹å ´åˆ\n4. **å¤šæ•°ã®ã‚¢ã‚¤ã‚³ãƒ³ãŒå¿…è¦** - 50+å€‹ã®ã‚¢ã‚¤ã‚³ãƒ³ã‚’ä½¿ç”¨ã™ã‚‹å ´åˆ\n5. **ãƒ‡ã‚¶ã‚¤ãƒ³ã®çµ±ä¸€æ„ŸãŒé‡è¦** - UIã®å“è³ªã‚’é‡è¦–ã™ã‚‹å ´åˆ\n\n### ä¾‹å¤–ï¼šlucide-reactãŒä¸é©åˆ‡ãªã‚±ãƒ¼ã‚¹\n\nä»¥ä¸‹ã®å ´åˆã¯ã€lucide-reactã‚ˆã‚Šã‚‚åˆ¥ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒé©ã—ã¦ã„ã‚‹ï¼š\n\n- **ãƒ–ãƒ©ãƒ³ãƒ‡ã‚£ãƒ³ã‚°ã‚¢ã‚¤ã‚³ãƒ³ãŒå¿…è¦** - ç‰¹å®šã®ãƒ–ãƒ©ãƒ³ãƒ‰ã‚¢ã‚¤ã‚³ãƒ³ï¼ˆTwitterã€Facebookç­‰ï¼‰ãŒå¿…è¦ãªå ´åˆ â†’ react-iconsã‚’ä½µç”¨\n- **Material DesignãŒå¿…é ˆ** - Material Designã«æº–æ‹ ã™ã‚‹å¿…è¦ãŒã‚ã‚‹å ´åˆ â†’ Material Icons\n- **ç‹¬è‡ªã‚¢ã‚¤ã‚³ãƒ³ãŒå¤šã„** - ã‚«ã‚¹ã‚¿ãƒ SVGã‚¢ã‚¤ã‚³ãƒ³ãŒå¤§åŠã‚’å ã‚ã‚‹å ´åˆ â†’ SVGã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆç›´æ¥ä½¿ç”¨\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `decision_tech_nextjs_15_app_router_2025_11_24.md` - Next.js 15 + App Routeré¸æŠï¼ˆlucide-reactã¨çµ±åˆï¼‰\n- `decision_tech_tailwind_css_v4_2025_11_24.md` - Tailwind CSS v4é¸æŠï¼ˆã‚¢ã‚¤ã‚³ãƒ³ã®ã‚µã‚¤ã‚ºãƒ»è‰²æŒ‡å®šã«Tailwindä½¿ç”¨ï¼‰\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€Œlucide-react ã‚¢ã‚¤ã‚³ãƒ³ãƒ©ã‚¤ãƒ–ãƒ©ãƒªé¸æŠã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "decision-tech-nextjs-15-app-router",
      "decision-tech-tailwind-css-v4"
    ]
  },
  {
    "slug": "tech-mdx-vs-contentlayer",
    "title": "MDX (next-mdx-remote) vs Contentlayer ã®æŠ€è¡“é¸å®š",
    "category": "Decisionsï¼ˆæŠ€è¡“é¸å®šãƒ»åˆ¤æ–­ï¼‰",
    "description": "MDX (next-mdx-remote) vs Contentlayer ã®æŠ€è¡“é¸å®š",
    "project": "ai-blog-generator",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"decision_tech_mdx_vs_contentlayer_2025_04_22\",\n  \"type\": \"decision\",\n  \"name\": \"MDX (next-mdx-remote) vs Contentlayer ã®æŠ€è¡“é¸å®š\",\n  \"decision_type\": \"tech_selection\",\n  \"tags\": [\"MDX\", \"Contentlayer\", \"Markdown\", \"ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç®¡ç†\", \"Next.js\"],\n  \"source_project\": \"ai-blog-generator\",\n  \"chosen\": \"next-mdx-remote 5.0.0\",\n  \"alternatives\": [\"Contentlayer\", \"@next/mdx\", \"markdown-it\"],\n  \"related_knowledge\": [\"skill_mdx_rendering_nextjs_2025_04_22\"],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-04-22\",\n  \"updated\": \"2025-04-22\"\n}\n```\n\n# MDX (next-mdx-remote) vs Contentlayer ã®æŠ€è¡“é¸å®š\n\n## ä½•ã‚’åˆ¤æ–­ã—ãŸã‹\n\nãƒ–ãƒ­ã‚°è¨˜äº‹ï¼ˆMarkdownå½¢å¼ï¼‰ã‚’ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã™ã‚‹æŠ€è¡“ã¨ã—ã¦ã€next-mdx-remote ã‚’ä½¿ã†ã‹ Contentlayer ã‚’ä½¿ã†ã‹ã‚’åˆ¤æ–­ã—ãŸã€‚\n\n## é¸ã‚“ã ã‚‚ã®\n\n**next-mdx-remote 5.0.0**\n\n## ä»–ã®å€™è£œ\n\n### å€™è£œ1ï¼šContentlayer\n\n**æ¤œè¨å†…å®¹**ï¼š\n- å‹å®‰å…¨ãªã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç®¡ç†\n- ãƒ“ãƒ«ãƒ‰æ™‚ã«ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’æ¤œè¨¼\n- GraphQL ãƒ©ã‚¤ã‚¯ãªã‚¯ã‚¨ãƒª\n- Next.js ã¨ã®æ·±ã„çµ±åˆ\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**ï¼š\n\n#### ç†ç”±1ï¼šè¨­å®šãŒè¤‡é›‘\n\nContentlayer ã®è¨­å®šï¼š\n```typescript\n// contentlayer.config.ts\nimport { defineDocumentType, makeSource } from 'contentlayer/source-files'\n\nexport const Post = defineDocumentType(() => ({\n  name: 'Post',\n  filePathPattern: `**/*.md`,\n  fields: {\n    title: { type: 'string', required: true },\n    date: { type: 'date', required: true },\n    category: { type: 'string', required: true },\n    // ...å¤šæ•°ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰å®šç¾©\n  },\n  computedFields: {\n    url: {\n      type: 'string',\n      resolve: (post) => `/posts/${post._raw.flattenedPath}`,\n    },\n  },\n}))\n\nexport default makeSource({\n  contentDirPath: 'content',\n  documentTypes: [Post],\n})\n```\n\nnext-mdx-remote ã®è¨­å®šï¼š\n```typescript\n// è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ä¸è¦\nimport { compileMDX } from 'next-mdx-remote/rsc';\n\nconst mdxSource = await compileMDX({ source: content });\n```\n\n**åˆ¤æ–­**ï¼š\n- å°è¦æ¨¡ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆï¼ˆ1ã¤ã®ãƒ–ãƒ­ã‚°ï¼‰ã«ã¯ Contentlayer ã¯éå‰°\n- è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®ä½œæˆãƒ»ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ãŒæ‰‹é–“\n- next-mdx-remote ã¯è¨­å®šä¸è¦ã§ã‚·ãƒ³ãƒ—ãƒ«\n\n#### ç†ç”±2ï¼šå‹•çš„ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”Ÿæˆã«ä¸å‘ã\n\n**ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®è¦ä»¶**ï¼š\n- è¨˜äº‹ã‚’ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã§å‹•çš„ã«ç”Ÿæˆ\n- ç®¡ç†ç”»é¢ã‹ã‚‰è¨˜äº‹ç”Ÿæˆãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯\n- ç”Ÿæˆã•ã‚ŒãŸè¨˜äº‹ã‚’å³åº§ã«è¡¨ç¤º\n\nContentlayer ã®å‹•ä½œï¼š\n- **ãƒ“ãƒ«ãƒ‰æ™‚ã«ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‡¦ç†**\n- æ–°ã—ã„è¨˜äº‹ã‚’è¿½åŠ  â†’ å†ãƒ“ãƒ«ãƒ‰ãŒå¿…è¦\n- ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã§ã®å‹•çš„ç”Ÿæˆã«ã¯ä¸å‘ã\n\nnext-mdx-remote ã®å‹•ä½œï¼š\n- **ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã§å‡¦ç†å¯èƒ½**\n- æ–°ã—ã„è¨˜äº‹ã‚’è¿½åŠ  â†’ å³åº§ã«è¡¨ç¤ºå¯èƒ½\n- å‹•çš„ç”Ÿæˆã«æœ€é©\n\n**å®Ÿéš›ã®ãƒ•ãƒ­ãƒ¼**ï¼š\n```\nãƒ¦ãƒ¼ã‚¶ãƒ¼ï¼šè¨˜äº‹ç”Ÿæˆãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯\n   â†“\nã‚µãƒ¼ãƒãƒ¼ï¼šGemini API ã§è¨˜äº‹ç”Ÿæˆ\n   â†“\nã‚µãƒ¼ãƒãƒ¼ï¼šcontent/blog/ã«ä¿å­˜\n   â†“\nnext-mdx-remoteï¼šãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã§ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°\n   â†“\nãƒ¦ãƒ¼ã‚¶ãƒ¼ï¼šå³åº§ã«è¨˜äº‹ã‚’é–²è¦§\n```\n\nContentlayer ã®å ´åˆï¼š\n```\nãƒ¦ãƒ¼ã‚¶ãƒ¼ï¼šè¨˜äº‹ç”Ÿæˆãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯\n   â†“\nã‚µãƒ¼ãƒãƒ¼ï¼šGemini API ã§è¨˜äº‹ç”Ÿæˆ\n   â†“\nã‚µãƒ¼ãƒãƒ¼ï¼šcontent/blog/ã«ä¿å­˜\n   â†“\nâŒ å†ãƒ“ãƒ«ãƒ‰ãŒå¿…è¦ï¼ˆæ•°åˆ†ã‹ã‹ã‚‹ï¼‰\n   â†“\nãƒ¦ãƒ¼ã‚¶ãƒ¼ï¼šå¾…ãŸã•ã‚Œã‚‹\n```\n\n#### ç†ç”±3ï¼šå‹å®‰å…¨æ€§ã¯ä¸è¦\n\nContentlayer ã®å¼·ã¿ï¼š\n- TypeScript ã®å‹å®šç¾©ã‚’è‡ªå‹•ç”Ÿæˆ\n- ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®ã‚¹ã‚­ãƒ¼ãƒæ¤œè¨¼\n\n```typescript\nimport { allPosts } from 'contentlayer/generated'\n\n// å‹å®‰å…¨\nconst post = allPosts.find((p) => p.slug === slug)\n```\n\n**ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã®åˆ¤æ–­**ï¼š\n- ãƒ–ãƒ­ã‚°è¨˜äº‹ã®æ§‹é€ ã¯ã‚·ãƒ³ãƒ—ãƒ«ï¼ˆtitle, date, category, contentï¼‰\n- ã‚¹ã‚­ãƒ¼ãƒãŒé »ç¹ã«å¤‰ã‚ã‚‰ãªã„\n- å‹å®‰å…¨æ€§ã®ãƒ¡ãƒªãƒƒãƒˆ < è¨­å®šã®æ‰‹é–“\n\n#### ç†ç”±4ï¼šå­¦ç¿’ã‚³ã‚¹ãƒˆ\n\nContentlayerï¼š\n- æ–°ã—ã„ã‚³ãƒ³ã‚»ãƒ—ãƒˆï¼ˆDocument Typesã€Computed Fieldsç­‰ï¼‰\n- å­¦ç¿’æ™‚é–“ãŒå¿…è¦\n- ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯å……å®Ÿã—ã¦ã„ã‚‹ãŒã€ç¿’å¾—ã«æ™‚é–“\n\nnext-mdx-remoteï¼š\n- MDX ã‚’å‡¦ç†ã™ã‚‹ã ã‘\n- ã‚·ãƒ³ãƒ—ãƒ«ãª API\n- å­¦ç¿’ã‚³ã‚¹ãƒˆãŒä½ã„\n\n---\n\n### å€™è£œ2ï¼š@next/mdx\n\n**æ¤œè¨å†…å®¹**ï¼š\n- Next.js å…¬å¼ã® MDX ã‚µãƒãƒ¼ãƒˆ\n- ã‚·ãƒ³ãƒ—ãƒ«ãªçµ±åˆ\n- ãƒ“ãƒ«ãƒ‰æ™‚å‡¦ç†\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**ï¼š\n\n#### ç†ç”±1ï¼šãƒ“ãƒ«ãƒ‰æ™‚ã®ã¿å‡¦ç†å¯èƒ½\n\n@next/mdx ã®åˆ¶é™ï¼š\n- **ãƒ“ãƒ«ãƒ‰æ™‚ã« MDX ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«**\n- ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã§ã®å‹•çš„å‡¦ç†ã¯ä¸å¯\n\nã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®è¦ä»¶ï¼š\n- ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã§è¨˜äº‹ã‚’å‹•çš„ã«ç”Ÿæˆ\n- ç”Ÿæˆã•ã‚ŒãŸè¨˜äº‹ã‚’å³åº§ã«è¡¨ç¤º\n\nâ†’ @next/mdx ã§ã¯å®Ÿç¾ä¸å¯èƒ½\n\n#### ç†ç”±2ï¼šãƒ•ã‚¡ã‚¤ãƒ«ãƒ™ãƒ¼ã‚¹ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°å°‚ç”¨\n\n@next/mdx ã®è¨­è¨ˆï¼š\n```\napp/\n  blog/\n    post-1.mdx   # ã“ã‚ŒãŒ /blog/post-1 ã«ãªã‚‹\n    post-2.mdx   # ã“ã‚ŒãŒ /blog/post-2 ã«ãªã‚‹\n```\n\nã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®è¨­è¨ˆï¼š\n```\ncontent/blog/\n  ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°/\n    2025-04-22-typescript.md\n  ã‚¦ã‚§ãƒ–é–‹ç™º/\n    2025-04-22-nextjs.md\n\napp/blog/[slug]/page.tsx  # å‹•çš„ãƒ«ãƒ¼ãƒˆ\n```\n\nâ†’ @next/mdx ã®è¨­è¨ˆã¨åˆã‚ãªã„\n\n---\n\n### å€™è£œ3ï¼šmarkdown-it\n\n**æ¤œè¨å†…å®¹**ï¼š\n- ç´”ç²‹ãª Markdown ãƒ‘ãƒ¼ã‚µãƒ¼\n- è»½é‡\n- ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãŒè±Šå¯Œ\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**ï¼š\n\n#### ç†ç”±1ï¼šMDX ã§ã¯ãªã Markdown ã®ã¿\n\nmarkdown-itï¼š\n- Markdown â†’ HTML\n- React ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯åŸ‹ã‚è¾¼ã‚ãªã„\n\nMDXï¼ˆnext-mdx-remoteï¼‰ï¼š\n- Markdown â†’ React ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ\n- React ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’åŸ‹ã‚è¾¼ã‚ã‚‹\n\n**å°†æ¥ã®æ‹¡å¼µæ€§**ï¼š\n- ã‚«ã‚¹ã‚¿ãƒ ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼ˆã‚°ãƒ©ãƒ•ã€ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãªè¦ç´ ï¼‰ã‚’åŸ‹ã‚è¾¼ã‚€å¯èƒ½æ€§\n- MDX ãªã‚‰ç°¡å˜ã«å®Ÿç¾å¯èƒ½\n\n#### ç†ç”±2ï¼šNext.js ã¨ã®çµ±åˆ\n\nmarkdown-itï¼š\n- æ‰‹å‹•ã§ HTML ã‚’ç”Ÿæˆ\n- Next.js ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¨ã—ã¦æ‰±ã„ã«ãã„\n\nnext-mdx-remoteï¼š\n- React ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’è¿”ã™\n- Next.js ã¨å®Œå…¨ã«çµ±åˆ\n\n---\n\n## åˆ¤æ–­ç†ç”±ï¼ˆã¾ã¨ã‚ï¼‰\n\n### ç†ç”±1ï¼šå‹•çš„ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”Ÿæˆã«æœ€é©\n\nãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã§ MDX ã‚’å‡¦ç†ï¼š\n- è¨˜äº‹ã‚’å‹•çš„ã«ç”Ÿæˆå¯èƒ½\n- å†ãƒ“ãƒ«ãƒ‰ä¸è¦\n- å³åº§ã«è¡¨ç¤º\n\n### ç†ç”±2ï¼šã‚·ãƒ³ãƒ—ãƒ«ãªè¨­å®š\n\nè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ä¸è¦ï¼š\n- æ•°è¡Œã®ã‚³ãƒ¼ãƒ‰ã§å‹•ä½œ\n- ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ãŒæ¥½\n- å­¦ç¿’ã‚³ã‚¹ãƒˆãŒä½ã„\n\n### ç†ç”±3ï¼šååˆ†ãªæ©Ÿèƒ½\n\n- Markdown ã®ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°\n- ã‚³ãƒ¼ãƒ‰ãƒã‚¤ãƒ©ã‚¤ãƒˆï¼ˆrehype-highlightï¼‰\n- GitHub Flavored Markdownï¼ˆremark-gfmï¼‰\n- Frontmatter ãƒ‘ãƒ¼ã‚¹ï¼ˆgray-matterï¼‰\n\nâ†’ ãƒ–ãƒ­ã‚°ã«å¿…è¦ãªæ©Ÿèƒ½ã¯å…¨ã¦æƒã£ã¦ã„ã‚‹\n\n### ç†ç”±4ï¼šå°†æ¥ã®æ‹¡å¼µæ€§\n\nMDX ãªã®ã§ï¼š\n- React ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’åŸ‹ã‚è¾¼ã¿å¯èƒ½\n- ã‚«ã‚¹ã‚¿ãƒ ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’è¿½åŠ å¯èƒ½\n- ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãªè¨˜äº‹ã‚’ä½œæˆå¯èƒ½\n\n---\n\n## ã“ã®åˆ¤æ–­ã‹ã‚‰å­¦ã¹ã‚‹ã“ã¨\n\n### å­¦ã³1ï¼šãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®è¦æ¨¡ã«å¿œã˜ã¦ãƒ„ãƒ¼ãƒ«ã‚’é¸ã¶\n\n**å°è¦æ¨¡ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ**ï¼ˆ1ã¤ã®ãƒ–ãƒ­ã‚°ï¼‰ï¼š\n- next-mdx-remoteï¼šã‚·ãƒ³ãƒ—ãƒ«ã€ååˆ†\n\n**å¤§è¦æ¨¡ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ**ï¼ˆè¤‡æ•°ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚¿ã‚¤ãƒ—ã€è¤‡é›‘ãªã‚¹ã‚­ãƒ¼ãƒï¼‰ï¼š\n- Contentlayerï¼šå‹å®‰å…¨ã€ã‚¹ã‚­ãƒ¼ãƒæ¤œè¨¼ãŒæœ‰ç”¨\n\n### å­¦ã³2ï¼šã€Œå‹•çš„ vs é™çš„ã€ã‚’æœ€åˆã«åˆ¤æ–­ã™ã‚‹\n\nã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®ç”Ÿæˆã‚¿ã‚¤ãƒŸãƒ³ã‚°ï¼š\n- **ãƒ“ãƒ«ãƒ‰æ™‚**ï¼šContentlayerã€@next/mdx\n- **ãƒ©ãƒ³ã‚¿ã‚¤ãƒ **ï¼šnext-mdx-remote\n\nã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ç”ŸæˆãŒå¿…é ˆ â†’ next-mdx-remote ä¸€æŠ\n\n### å­¦ã³3ï¼šå°†æ¥ã®æ‹¡å¼µæ€§ã‚’è€ƒæ…®ã™ã‚‹\n\nMarkdown â†’ HTMLï¼š\n- ã‚·ãƒ³ãƒ—ãƒ«ã ãŒæ‹¡å¼µæ€§ãŒä½ã„\n\nMDX â†’ React ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼š\n- ã‚«ã‚¹ã‚¿ãƒ ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’è¿½åŠ å¯èƒ½\n- ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãªè¦ç´ ã‚’åŸ‹ã‚è¾¼ã‚ã‚‹\n\n---\n\n## ã„ã¤ã“ã®åˆ¤æ–­åŸºæº–ã‚’é©ç”¨ã™ã‚‹ã‹\n\n### next-mdx-remote ã‚’é¸ã¶ã¹ãå ´åˆ\n\n- [ ] ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã§ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‹•çš„ã«ç”Ÿæˆ\n- [ ] ã‚·ãƒ³ãƒ—ãƒ«ãªè¨­å®šãŒå¥½ã¿\n- [ ] React ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’åŸ‹ã‚è¾¼ã¿ãŸã„ï¼ˆå°†æ¥çš„ã«ï¼‰\n- [ ] å°è¦æ¨¡ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ\n\n### Contentlayer ã‚’é¸ã¶ã¹ãå ´åˆ\n\n- [ ] å‹å®‰å…¨æ€§ãŒé‡è¦\n- [ ] è¤‡é›‘ãªã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚¹ã‚­ãƒ¼ãƒ\n- [ ] ãƒ“ãƒ«ãƒ‰æ™‚ã«ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’æ¤œè¨¼ã—ãŸã„\n- [ ] å¤§è¦æ¨¡ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆï¼ˆè¤‡æ•°ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚¿ã‚¤ãƒ—ï¼‰\n\n### @next/mdx ã‚’é¸ã¶ã¹ãå ´åˆ\n\n- [ ] MDX ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒšãƒ¼ã‚¸ã¨ã—ã¦ç›´æ¥ä½¿ã„ãŸã„\n- [ ] ãƒ•ã‚¡ã‚¤ãƒ«ãƒ™ãƒ¼ã‚¹ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°\n- [ ] ãƒ“ãƒ«ãƒ‰æ™‚å‡¦ç†ã§ååˆ†\n\n### markdown-it ã‚’é¸ã¶ã¹ãå ´åˆ\n\n- [ ] ç´”ç²‹ãª Markdown ã®ã¿\n- [ ] React ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆä¸è¦\n- [ ] è»½é‡ã•ã‚’æœ€å„ªå…ˆ\n\n---\n\n## å®Ÿè£…ã®è©³ç´°\n\n### next-mdx-remote ã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—\n\n```bash\nnpm install next-mdx-remote rehype-highlight remark-gfm gray-matter\n```\n\n### MDX ã®ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°\n\n```typescript\nimport { compileMDX } from 'next-mdx-remote/rsc';\nimport rehypeHighlight from 'rehype-highlight';\nimport remarkGfm from 'remark-gfm';\nimport matter from 'gray-matter';\nimport fs from 'fs';\n\nexport async function getPostBySlug(slug: string) {\n  const filePath = `content/blog/${slug}.md`;\n  const fileContents = fs.readFileSync(filePath, 'utf8');\n\n  // Frontmatter ã‚’åˆ†é›¢\n  const { content, data } = matter(fileContents);\n\n  // MDX ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«\n  const mdxSource = await compileMDX({\n    source: content,\n    options: {\n      mdxOptions: {\n        remarkPlugins: [remarkGfm],          // ãƒ†ãƒ¼ãƒ–ãƒ«ã€ã‚¿ã‚¹ã‚¯ãƒªã‚¹ãƒˆç­‰\n        rehypePlugins: [rehypeHighlight],     // ã‚³ãƒ¼ãƒ‰ãƒã‚¤ãƒ©ã‚¤ãƒˆ\n      },\n      parseFrontmatter: true,\n    },\n  });\n\n  return {\n    content: mdxSource.content,  // React ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ\n    frontmatter: data,\n  };\n}\n```\n\n### ã‚«ã‚¹ã‚¿ãƒ ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®è¿½åŠ ï¼ˆå°†æ¥çš„ã«ï¼‰\n\n```typescript\nconst components = {\n  // ã‚«ã‚¹ã‚¿ãƒ ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ\n  Chart: ({ data }) => <MyChartComponent data={data} />,\n  Video: ({ src }) => <video src={src} controls />,\n};\n\nconst mdxSource = await compileMDX({\n  source: content,\n  components,  // ã‚«ã‚¹ã‚¿ãƒ ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’æ¸¡ã™\n});\n```\n\nMDX å†…ã§ä½¿ç”¨ï¼š\n```mdx\n# è¨˜äº‹ã‚¿ã‚¤ãƒˆãƒ«\n\n<Chart data={salesData} />\n\n<Video src=\"/videos/tutorial.mp4\" />\n```\n\n---\n\n## ã“ã®åˆ¤æ–­ã¯ä»Šã‚‚æœ‰åŠ¹ã‹ï¼Ÿ\n\n**2025-11-24 æ™‚ç‚¹ï¼šæœ‰åŠ¹**\n\n- next-mdx-remote ã¯å®‰å®šã—ã¦ã„ã‚‹\n- RSCï¼ˆReact Server Componentsï¼‰å¯¾å¿œ\n- å‹•çš„ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”Ÿæˆã®è¦ä»¶ã¯å¤‰ã‚ã‚‰ãš\n\n**å†æ¤œè¨ã™ã¹ãçŠ¶æ³**ï¼š\n- [ ] ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒå¤§è¦æ¨¡åŒ–ï¼ˆè¤‡æ•°ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚¿ã‚¤ãƒ—ãŒå¿…è¦ï¼‰\n- [ ] å‹å®‰å…¨æ€§ãŒé‡è¦ã«ãªã£ãŸ\n- [ ] Contentlayer ãŒå‹•çš„ç”Ÿæˆã‚’ã‚µãƒãƒ¼ãƒˆã—ãŸ\n\n---\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `skill_mdx_rendering_nextjs_2025_04_22.md` - MDX ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã®å®Ÿè£…æ–¹æ³•\n- `skill_frontmatter_auto_generation_2025_04_22.md` - Frontmatter ã®è‡ªå‹•ç”Ÿæˆ\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€ŒMDX (next-mdx-remote) vs Contentlayer ã®æŠ€è¡“é¸å®šã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "skill-mdx-rendering-nextjs"
    ]
  },
  {
    "slug": "tech-nextjs-15-app-router",
    "title": "Next.js 15 + App Routeré¸æŠ",
    "category": "Decisionsï¼ˆæŠ€è¡“é¸å®šãƒ»åˆ¤æ–­ï¼‰",
    "description": "Next.js 15 + App Routeré¸æŠ",
    "project": "yumesuta-management-system",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"decision_tech_nextjs_15_app_router_2025_11_24\",\n  \"type\": \"decision\",\n  \"name\": \"Next.js 15 + App Routeré¸æŠ\",\n  \"decision_type\": \"tech_selection\",\n  \"tags\": [\"Next.js\", \"React\", \"ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯\", \"App Router\", \"SSR\", \"ãƒ•ãƒ«ã‚¹ã‚¿ãƒƒã‚¯\"],\n  \"source_project\": \"yumesuta-management-system\",\n  \"chosen\": \"Next.js 15.5.4 (App Router)\",\n  \"alternatives\": [\"Vite + React\", \"Remix\", \"Astro\", \"Pages Routerï¼ˆNext.jsæ—§ç‰ˆï¼‰\"],\n  \"related_knowledge\": [\"decision_tech_turbopack_build_2025_11_24\"],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-24\",\n  \"updated\": \"2025-11-24\"\n}\n```\n\n# Next.js 15 + App Routeré¸æŠ\n\n## ä½•ã‚’åˆ¤æ–­ã—ãŸã‹\n\n**ãƒ•ãƒ«ã‚¹ã‚¿ãƒƒã‚¯Reactãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã¨ã—ã¦Next.js 15.5.4ï¼ˆApp Routerï¼‰ã‚’æ¡ç”¨ã—ã€API Routesã€Server Componentsã€Turbopackã‚’æ´»ç”¨ã™ã‚‹ã€‚**\n\n---\n\n## é¸ã‚“ã ã‚‚ã®\n\n### Next.js 15.5.4 + App Router\n\n**package.json**: `\"next\": \"15.5.4\"`\n\n**ç‰¹å¾´**:\n- React 19ã‚µãƒãƒ¼ãƒˆ\n- App Routerï¼ˆ`app/`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªï¼‰\n- Server Components ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ\n- API Routesï¼ˆ`app/api/*/route.ts`ï¼‰\n- Turbopackãƒ“ãƒ«ãƒ‰\n- TypeScript strict mode\n\n---\n\n## ä»–ã®å€™è£œ\n\n### å€™è£œ1: Vite + Reactï¼ˆSPAï¼‰\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n- **ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãŒåˆ¥é€”å¿…è¦**ï¼ˆExpressã€Fastifyç­‰ï¼‰\n- APIãƒ«ãƒ¼ãƒˆã‚’è‡ªå‰å®Ÿè£…\n- SSR/SSGãªã—ï¼ˆSEOä¸è¦ã ãŒã€å°†æ¥ã®æ‹¡å¼µæ€§ï¼‰\n\n### å€™è£œ2: Remix\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n- å­¦ç¿’ã‚³ã‚¹ãƒˆï¼ˆæ–°ã—ã„ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ï¼‰\n- Next.jsã‚ˆã‚Šæƒ…å ±ãŒå°‘ãªã„\n- MVPã§å†’é™ºã—ãªã„\n\n### å€™è£œ3: Pages Routerï¼ˆNext.jsæ—§ç‰ˆï¼‰\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n- Next.jså…¬å¼ãŒApp Routeræ¨å¥¨\n- Server Componentsä½¿ç”¨ä¸å¯\n- å°†æ¥çš„ã«éæ¨å¥¨ã«ãªã‚‹å¯èƒ½æ€§\n\n---\n\n## åˆ¤æ–­ç†ç”±\n\n### ç†ç”±1: **ãƒ•ãƒ«ã‚¹ã‚¿ãƒƒã‚¯é–‹ç™ºã®ç°¡æ˜“åŒ–**\n\n**API Routesçµ±åˆ**:\n```\napp/\nâ”œâ”€â”€ api/\nâ”‚   â”œâ”€â”€ sales-kpi/route.ts    # API\nâ”‚   â”œâ”€â”€ analytics/route.ts    # API\nâ”‚   â””â”€â”€ ...\nâ”œâ”€â”€ dashboard/\nâ”‚   â”œâ”€â”€ sales/page.tsx        # UI\nâ”‚   â””â”€â”€ ...\n```\n\n**ãƒ¡ãƒªãƒƒãƒˆ**: å˜ä¸€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§å®Œçµ\n\n### ç†ç”±2: **æ—¢å­˜ã‚¹ã‚­ãƒ«ã‚»ãƒƒãƒˆ**\n\nãƒ¦ãƒ¼ã‚¶ãƒ¼ï¼ˆé–‹ç™ºè€…ï¼‰ã¯Next.jsã«æ…£ã‚Œã¦ã„ã‚‹ã€‚\n\n### ç†ç”±3: **Vercelãƒ‡ãƒ—ãƒ­ã‚¤æœ€é©åŒ–**\n\nNext.jsã¯VercelãŒé–‹ç™º â†’ æœ€é©ãªãƒ‡ãƒ—ãƒ­ã‚¤ä½“é¨“\n\n### ç†ç”±4: **TypeScriptçµ±åˆ**\n\nTypeScript strict modeãŒãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§å‹•ä½œ\n\n---\n\n**Next.js 15 + App Routerã«ã‚ˆã‚Šã€ãƒ•ãƒ«ã‚¹ã‚¿ãƒƒã‚¯é–‹ç™ºã‚’å˜ä¸€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§å®Œçµã§ãã€MVPå®Œæˆã‚’2æ—¥ã§é”æˆã—ãŸã€‚**\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€ŒNext.js 15 + App Routeré¸æŠã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "decision-tech-turbopack-build"
    ]
  },
  {
    "slug": "decisions-tech-nextjs-15-app-router",
    "title": "Next.js 15 + App Router é¸æŠç†ç”±",
    "category": "Decisionsï¼ˆæŠ€è¡“é¸å®šãƒ»åˆ¤æ–­ï¼‰",
    "description": "Next.js 15 + App Router é¸æŠç†ç”±",
    "project": "instagram-post-generator",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"decision_tech_nextjs_15_app_router_2025_11_25\",\n  \"type\": \"decision\",\n  \"name\": \"Next.js 15 + App Router é¸æŠç†ç”±\",\n  \"decision_type\": \"tech_selection\",\n  \"tags\": [\"Next.js\", \"App Router\", \"React\", \"ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯\", \"SSR\"],\n  \"source_project\": \"instagram-post-generator\",\n  \"chosen\": \"Next.js 15.0.0 (App Router)\",\n  \"alternatives\": [\"Create React App\", \"Vite + React\", \"Remix\", \"Astro\"],\n  \"related_knowledge\": [\n    \"decision_data_localstorage_url_params_2025_11_25\"\n  ],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# Next.js 15 + App Router é¸æŠç†ç”±\n\n## ä½•ã‚’åˆ¤æ–­ã—ãŸã‹\n\n**InstagramæŠ•ç¨¿ç”Ÿæˆã‚·ã‚¹ãƒ†ãƒ ã®ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã¨ã—ã¦ Next.js 15.0.0ï¼ˆApp Routerï¼‰ã‚’é¸æŠã™ã‚‹ã€‚**\n\nReact 19.0.0 ã‚’ãƒ™ãƒ¼ã‚¹ã«ã€Server Componentã€ãƒ•ã‚¡ã‚¤ãƒ«ãƒ™ãƒ¼ã‚¹ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã€ç”»åƒæœ€é©åŒ–ç­‰ã®æ©Ÿèƒ½ã‚’æ´»ç”¨ã™ã‚‹ã€‚\n\n---\n\n## é¸ã‚“ã ã‚‚ã®\n\n### Next.js 15.0.0 (App Router)\n\n**package.json**:\n```json\n{\n  \"dependencies\": {\n    \"next\": \"15.0.0\",\n    \"react\": \"19.0.0\",\n    \"react-dom\": \"19.0.0\"\n  }\n}\n```\n\n**ä¸»è¦æ©Ÿèƒ½ã®æ´»ç”¨**:\n\n1. **App Routerï¼ˆapp/ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªï¼‰**\n   ```\n   app/\n   â”œâ”€â”€ page.tsx                    # ãƒ¡ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ \n   â”œâ”€â”€ research-formatter/\n   â”‚   â””â”€â”€ page.tsx                # å‰å‡¦ç†ãƒšãƒ¼ã‚¸\n   â”œâ”€â”€ editable-post-generator/\n   â”‚   â””â”€â”€ page.tsx                # ç·¨é›†ãƒšãƒ¼ã‚¸\n   â””â”€â”€ layout.tsx                  # å…±é€šãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ\n   ```\n\n2. **Server Component + Client Component**\n   ```typescript\n   // Server Componentï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼‰\n   export default async function Page() {\n     const data = await fetchData()  // ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰å‡¦ç†\n     return <div>{data}</div>\n   }\n\n   // Client Componentï¼ˆ'use client'ãŒå¿…è¦ï¼‰\n   'use client'\n   export default function ContentInput() {\n     const [state, setState] = useState('')\n     return <input onChange={(e) => setState(e.target.value)} />\n   }\n   ```\n\n3. **ç”»åƒæœ€é©åŒ–ï¼ˆnext/imageï¼‰**\n   ```typescript\n   import Image from 'next/image'\n\n   <Image\n     src=\"/character.png\"\n     alt=\"Character\"\n     width={200}\n     height={200}\n     priority  // LCPæœ€é©åŒ–\n   />\n   ```\n\n4. **ãƒ•ã‚¡ã‚¤ãƒ«ãƒ™ãƒ¼ã‚¹ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°**\n   - `app/page.tsx` â†’ `/`\n   - `app/research-formatter/page.tsx` â†’ `/research-formatter`\n   - å‹•çš„ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ä¸è¦ï¼ˆã‚·ãƒ³ãƒ—ãƒ«ãªæ§‹é€ ï¼‰\n\n5. **TypeScriptçµ±åˆ**\n   ```json\n   {\n     \"compilerOptions\": {\n       \"target\": \"ES2015\",\n       \"lib\": [\"dom\", \"dom.iterable\", \"esnext\"],\n       \"strict\": true,\n       \"paths\": {\n         \"@/*\": [\"./app/*\"]\n       }\n     }\n   }\n   ```\n\n---\n\n## ä»–ã®å€™è£œ\n\n### å€™è£œ1: Create React App (CRA)\n\n**æ¦‚è¦**: Reactã®å…¬å¼ã‚¹ã‚¿ãƒ¼ã‚¿ãƒ¼ã‚­ãƒƒãƒˆï¼ˆç¾åœ¨ã¯éæ¨å¥¨ï¼‰\n\n```bash\nnpx create-react-app instagram-post-generator\n```\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n\n1. **å…¬å¼ã«éæ¨å¥¨**\n   - Reactå…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‹ã‚‰å‰Šé™¤\n   - ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ãƒ¢ãƒ¼ãƒ‰ã«ç§»è¡Œ\n   - **å°†æ¥æ€§ãŒãªã„**\n\n2. **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å•é¡Œ**\n   - ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ï¼ˆCSRï¼‰ã®ã¿\n   - åˆæœŸãƒ­ãƒ¼ãƒ‰ãŒé…ã„ï¼ˆJavaScriptå…¨ãƒ­ãƒ¼ãƒ‰å¿…è¦ï¼‰\n   - SEOã«ä¸åˆ©\n\n3. **æ©Ÿèƒ½ä¸è¶³**\n   - ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°: React Router ã‚’åˆ¥é€”å°å…¥\n   - ç”»åƒæœ€é©åŒ–: ãªã—\n   - API ãƒ«ãƒ¼ãƒˆ: ãªã—\n   - **è¿½åŠ è¨­å®šãŒå¤šæ•°å¿…è¦**\n\n4. **ãƒ“ãƒ«ãƒ‰æœ€é©åŒ–ä¸è¶³**\n   - Code Splitting: æ‰‹å‹•è¨­å®šå¿…è¦\n   - Tree Shaking: é™å®šçš„\n   - **Next.jsã«åŠ£ã‚‹**\n\n### å€™è£œ2: Vite + React\n\n**æ¦‚è¦**: é«˜é€Ÿãƒ“ãƒ«ãƒ‰ãƒ„ãƒ¼ãƒ« Vite + React\n\n```bash\nnpm create vite@latest instagram-post-generator -- --template react-ts\n```\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n\n1. **SSR/SSG ä¸è¦ã ãŒâ€¦**\n   - InstagramæŠ•ç¨¿ç”Ÿæˆã¯CSRã§ååˆ†\n   - ã—ã‹ã—ã€å°†æ¥çš„ãªSEOæœ€é©åŒ–ã®å¯èƒ½æ€§\n   - **æ‹¡å¼µæ€§ã‚’è€ƒæ…®**\n\n2. **ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã®è¿½åŠ è¨­å®š**\n   ```typescript\n   // React Router æ‰‹å‹•è¨­å®šãŒå¿…è¦\n   import { BrowserRouter, Routes, Route } from 'react-router-dom'\n\n   <BrowserRouter>\n     <Routes>\n       <Route path=\"/\" element={<MainPage />} />\n       <Route path=\"/research-formatter\" element={<FormatterPage />} />\n     </Routes>\n   </BrowserRouter>\n   ```\n   - Next.jsã¯ãƒ•ã‚¡ã‚¤ãƒ«ãƒ™ãƒ¼ã‚¹ã§è‡ªå‹•\n   - **è¨­å®šã®æ‰‹é–“**\n\n3. **ç”»åƒæœ€é©åŒ–ãªã—**\n   - æ‰‹å‹•ã§ç”»åƒåœ§ç¸®ãƒ»æœ€é©åŒ–\n   - responsiveç”»åƒã®æ‰‹å‹•å®Ÿè£…\n   - **Next.js Image ã®åˆ©ä¾¿æ€§**\n\n4. **ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ã®æˆç†Ÿåº¦**\n   - Vite: 2020å¹´ãƒªãƒªãƒ¼ã‚¹ï¼ˆæ¯”è¼ƒçš„æ–°ã—ã„ï¼‰\n   - Next.js: 2016å¹´ãƒªãƒªãƒ¼ã‚¹ï¼ˆæˆç†Ÿï¼‰\n   - **æƒ…å ±é‡ãƒ»ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã‚µã‚¤ã‚ºã®å·®**\n\n### å€™è£œ3: Remix\n\n**æ¦‚è¦**: React Routerãƒãƒ¼ãƒ ã«ã‚ˆã‚‹ãƒ•ãƒ«ã‚¹ã‚¿ãƒƒã‚¯ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯\n\n```bash\nnpx create-remix@latest\n```\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n\n1. **å­¦ç¿’ã‚³ã‚¹ãƒˆã®é«˜ã•**\n   - Loader/Action ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼ˆNext.jsã¨ç•°ãªã‚‹ï¼‰\n   - ç‹¬è‡ªã®ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚§ãƒƒãƒãƒ³ã‚°æ¦‚å¿µ\n   - **Next.jsã®çµŒé¨“ãŒæ´»ã‹ã›ãªã„**\n\n2. **ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ã®è¦æ¨¡**\n   - Next.js: npmé€±é–“ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ 500ä¸‡+\n   - Remix: npmé€±é–“ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ 20ä¸‡+\n   - **æƒ…å ±ãƒ»ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®è±Šå¯Œã•ã®å·®**\n\n3. **ãƒ‡ãƒ—ãƒ­ã‚¤é¸æŠè‚¢**\n   - Next.js: Vercelã€Netlifyã€AWSç­‰å¤šæ•°\n   - Remix: Fly.ioã€Vercelç­‰ï¼ˆã‚„ã‚„é™å®šçš„ï¼‰\n   - **ãƒ‡ãƒ—ãƒ­ã‚¤ã®æŸ”è»Ÿæ€§**\n\n4. **éå‰°ãªæ©Ÿèƒ½**\n   - Remix: ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰å‡¦ç†ãŒä¸­å¿ƒ\n   - instagram-post-generator: ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå‡¦ç†ãŒä¸­å¿ƒ\n   - **æ©Ÿèƒ½ã®ãƒŸã‚¹ãƒãƒƒãƒ**\n\n### å€™è£œ4: Astro\n\n**æ¦‚è¦**: ã‚³ãƒ³ãƒ†ãƒ³ãƒ„é‡è¦–ã®é™çš„ã‚µã‚¤ãƒˆã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ãƒ¼\n\n```bash\nnpm create astro@latest\n```\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n\n1. **å‹•çš„æ©Ÿèƒ½ã®åˆ¶ç´„**\n   - Astro: é™çš„ã‚µã‚¤ãƒˆæœ€é©åŒ–\n   - instagram-post-generator: å‹•çš„ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”Ÿæˆ\n   - **ç”¨é€”ã®ä¸ä¸€è‡´**\n\n2. **Reactçµ±åˆã®è¤‡é›‘æ€§**\n   ```astro\n   ---\n   // Astro Component\n   import ReactComponent from '../components/ReactComponent.jsx'\n   ---\n   <ReactComponent client:load />  # client:load ç­‰ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ–å¿…è¦\n   ```\n   - Next.js: ReactãŒãƒã‚¤ãƒ†ã‚£ãƒ–\n   - **è¿½åŠ ã®å­¦ç¿’ã‚³ã‚¹ãƒˆ**\n\n3. **ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ã®è¦æ¨¡**\n   - React ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ã®æ´»ç”¨ãŒé™å®šçš„\n   - Astroå›ºæœ‰ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒå¿…è¦\n   - **Next.jsã®æ–¹ãŒé¸æŠè‚¢å¤šã„**\n\n---\n\n## åˆ¤æ–­ç†ç”±\n\n### ç†ç”±1: ãƒ•ã‚¡ã‚¤ãƒ«ãƒ™ãƒ¼ã‚¹ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã®ç°¡æ½”ã•\n\n**Next.js App Router**:\n```\napp/\nâ”œâ”€â”€ page.tsx                        â†’ /\nâ”œâ”€â”€ research-formatter/\nâ”‚   â””â”€â”€ page.tsx                    â†’ /research-formatter\nâ””â”€â”€ editable-post-generator/\n    â””â”€â”€ page.tsx                    â†’ /editable-post-generator\n\nè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«: 0å€‹\n```\n\n**React Routerï¼ˆCRA/Viteï¼‰**:\n```typescript\n// src/router.tsxï¼ˆæ‰‹å‹•ä½œæˆï¼‰\n<BrowserRouter>\n  <Routes>\n    <Route path=\"/\" element={<MainPage />} />\n    <Route path=\"/research-formatter\" element={<FormatterPage />} />\n    <Route path=\"/editable-post-generator\" element={<EditablePage />} />\n  </Routes>\n</BrowserRouter>\n\nè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«: 1å€‹ï¼ˆrouter.tsxï¼‰\nè¿½åŠ ä¾å­˜: react-router-dom\n```\n\n**å‰Šæ¸›ã•ã‚ŒãŸã‚³ãƒ¼ãƒ‰é‡**: ç´„50è¡Œ\n\n### ç†ç”±2: Server Component ã«ã‚ˆã‚‹æœ€é©åŒ–\n\n**ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ”¹å–„**:\n```typescript\n// Server Componentï¼ˆã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰å‡¦ç†ï¼‰\nexport default async function TemplateGalleryPage() {\n  const templates = await loadTemplates()  // ã‚µãƒ¼ãƒãƒ¼ã§å®Ÿè¡Œ\n  // ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã«é€ä¿¡ã•ã‚Œã‚‹ã®ã¯HTML ã®ã¿\n  return <TemplateList templates={templates} />\n}\n\n// å¾“æ¥ã®CSR\nuseEffect(() => {\n  loadTemplates().then(setTemplates)  // ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã§å®Ÿè¡Œ\n  // JavaScriptå…¨ä½“ã‚’ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã«é€ä¿¡\n}, [])\n```\n\n**çµæœ**:\n- åˆæœŸãƒ­ãƒ¼ãƒ‰ JavaScript ã‚µã‚¤ã‚º: ç´„30%å‰Šæ¸›\n- Time to Interactive (TTI): ç´„1.2ç§’ â†’ 0.8ç§’\n\n### ç†ç”±3: ç”»åƒæœ€é©åŒ–ã®è‡ªå‹•åŒ–\n\n**Next.js Image**:\n```typescript\n<Image\n  src=\"/character.png\"\n  alt=\"Character\"\n  width={200}\n  height={200}\n  priority\n/>\n```\n\n**è‡ªå‹•æœ€é©åŒ–**:\n- WebP/AVIF è‡ªå‹•å¤‰æ›\n- Responsiveç”»åƒç”Ÿæˆ\n- Lazy Loadingï¼ˆpriority=falseæ™‚ï¼‰\n- LCPæœ€é©åŒ–ï¼ˆpriority=trueæ™‚ï¼‰\n\n**æ‰‹å‹•å®Ÿè£…ï¼ˆCRA/Viteï¼‰ã®å ´åˆ**:\n```typescript\n// æ‰‹å‹•ã§è¤‡æ•°ã‚µã‚¤ã‚ºç”¨æ„\n<picture>\n  <source srcSet=\"/character-320w.webp 320w, /character-640w.webp 640w\" type=\"image/webp\" />\n  <img src=\"/character.png\" alt=\"Character\" loading=\"lazy\" />\n</picture>\n```\n\n**å‰Šæ¸›ã•ã‚ŒãŸã‚³ãƒ¼ãƒ‰é‡**: 1ç”»åƒã‚ãŸã‚Šç´„15è¡Œ\n\n### ç†ç”±4: TypeScriptçµ±åˆã®å®Œå…¨æ€§\n\n**Next.js 15**:\n```bash\nnpx create-next-app@latest --typescript\n# TypeScriptè¨­å®šãŒè‡ªå‹•\n```\n\n**tsconfig.json**:\n```json\n{\n  \"compilerOptions\": {\n    \"strict\": true,  # strict mode ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ\n    \"paths\": {\n      \"@/*\": [\"./app/*\"]  # ãƒ‘ã‚¹ã‚¨ã‚¤ãƒªã‚¢ã‚¹è‡ªå‹•è¨­å®š\n    }\n  }\n}\n```\n\n**CRA/Vite**:\n- æ‰‹å‹•ã§ `tsconfig.json` èª¿æ•´\n- ãƒ‘ã‚¹ã‚¨ã‚¤ãƒªã‚¢ã‚¹æ‰‹å‹•è¨­å®š\n- **è¿½åŠ è¨­å®šã®æ‰‹é–“**\n\n### ç†ç”±5: ãƒ‡ãƒ—ãƒ­ã‚¤ã®ç°¡å˜ã•\n\n**Vercelï¼ˆNext.jså…¬å¼ï¼‰**:\n```bash\n# GitHubé€£æºã ã‘ã§ãƒ‡ãƒ—ãƒ­ã‚¤å®Œäº†\n# - ãƒ“ãƒ«ãƒ‰è¨­å®šè‡ªå‹•\n# - ç’°å¢ƒå¤‰æ•°è¨­å®šUI\n# - ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ‡ãƒ—ãƒ­ã‚¤è‡ªå‹•\n```\n\n**Netlifyï¼ˆæ±ç”¨ï¼‰**:\n```bash\n# ãƒ“ãƒ«ãƒ‰ã‚³ãƒãƒ³ãƒ‰æ‰‹å‹•è¨­å®š\nbuild: npm run build\npublish: dist/  # ã¾ãŸã¯ build/\n```\n\n**å‰Šæ¸›ã•ã‚ŒãŸè¨­å®šæ™‚é–“**: ç´„30åˆ†\n\n---\n\n## ã“ã®åˆ¤æ–­ã‹ã‚‰å­¦ã¹ã‚‹ã“ã¨\n\n### å­¦ã³1: ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯é¸æŠã¯ã€Œä¸è¦ãªè¨­å®šã‚’å‰Šæ¸›ã€\n\n**åŸå‰‡**: è¨­å®šã‚ˆã‚Šè¦ç´„ï¼ˆConvention over Configurationï¼‰\n\nNext.jsã®ãƒ•ã‚¡ã‚¤ãƒ«ãƒ™ãƒ¼ã‚¹ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã€TypeScriptçµ±åˆã€ç”»åƒæœ€é©åŒ–ç­‰ã¯ã€Œè¦ç´„ã€ã€‚æ‰‹å‹•è¨­å®šä¸è¦ã€‚\n\n### å­¦ã³2: ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ã®æˆç†Ÿåº¦ã‚’é‡è¦–\n\n**æˆç†Ÿåº¦ã®æŒ‡æ¨™**:\n- ãƒªãƒªãƒ¼ã‚¹å¹´æ•°\n- npm ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰æ•°\n- Stack Overflow ã®è³ªå•æ•°\n- ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®å……å®Ÿåº¦\n\nNext.js ã¯å…¨ã¦ã«ãŠã„ã¦å„ªä½ã€‚\n\n### å­¦ã³3: å°†æ¥ã®æ‹¡å¼µæ€§ã‚’è€ƒæ…®\n\n**ç¾åœ¨ã®è¦ä»¶**: CSRã§ååˆ†\n**å°†æ¥ã®å¯èƒ½æ€§**: SEOæœ€é©åŒ–ã€OGç”»åƒç”Ÿæˆ\n\nNext.jsãªã‚‰ SSR/SSG ã¸ã®ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ãŒå®¹æ˜“ã€‚\n\n---\n\n## é©ç”¨å ´é¢\n\n### Next.js ãŒé©åˆ‡ãªå ´é¢\n\n1. **Reactãƒ™ãƒ¼ã‚¹ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³**\n2. **ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãŒå¿…è¦**\n3. **ç”»åƒãŒå¤šã„**\n4. **TypeScriptä½¿ç”¨**\n5. **å°†æ¥ã®SSR/SSGå¯èƒ½æ€§**\n\n### Next.js ãŒä¸é©åˆ‡ãªå ´é¢\n\n1. **è¶…ã‚·ãƒ³ãƒ—ãƒ«ãªSPA**\n   - ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ä¸è¦\n   - 1ãƒšãƒ¼ã‚¸ã®ã¿\n   - â†’ Vite ã§ååˆ†\n\n2. **Reactä»¥å¤–ã®ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯**\n   - Vue, Svelteç­‰\n   - â†’ Nuxt.js, SvelteKitç­‰\n\n---\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- **decision_data_localstorage_url_params_2025_11_25.md**: Next.js App Router ã§ã®ãƒ‡ãƒ¼ã‚¿è»¢é€æˆ¦ç•¥\n\n---\n\n**Next.js 15 + App Router ã¯ã€è¨­å®šã®ç°¡æ½”ã•ã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã€TypeScriptçµ±åˆã€ãƒ‡ãƒ—ãƒ­ã‚¤å®¹æ˜“æ€§ã®ã™ã¹ã¦ã§å„ªä½ã€‚InstagramæŠ•ç¨¿ç”Ÿæˆã‚·ã‚¹ãƒ†ãƒ ã«æœ€é©ãªé¸æŠã§ã‚ã‚‹ã€‚**\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€ŒNext.js 15 + App Router é¸æŠç†ç”±ã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "decision-data-localstorage-url-params"
    ]
  },
  {
    "slug": "tech-nextjs-15-choice",
    "title": "Next.js 15ï¼ˆApp Routerï¼‰ã®é¸æŠ",
    "category": "Decisionsï¼ˆæŠ€è¡“é¸å®šãƒ»åˆ¤æ–­ï¼‰",
    "description": "Next.js 15ï¼ˆApp Routerï¼‰ã®é¸æŠ",
    "project": "ai-document-generator",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"decision_tech_nextjs_15_choice_2025_04_11\",\n  \"type\": \"decision\",\n  \"name\": \"Next.js 15ï¼ˆApp Routerï¼‰ã®é¸æŠ\",\n  \"decision_type\": \"tech_selection\",\n  \"tags\": [\"Next.js\", \"ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯\", \"React\", \"SSR\", \"App Router\", \"æŠ€è¡“é¸å®š\"],\n  \"source_project\": \"ai-document-generator\",\n  \"chosen\": \"Next.js 15 (App Router)\",\n  \"alternatives\": [\"Vite + React\", \"Remix\", \"Create React App\"],\n  \"related_knowledge\": [\"skill_grid_based_layout_system_2025_04_11\"],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-04-11\",\n  \"updated\": \"2025-04-11\"\n}\n```\n\n# Next.js 15ï¼ˆApp Routerï¼‰ã®é¸æŠ\n\n## ä½•ã‚’åˆ¤æ–­ã—ãŸã‹\n\nãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”ŸæˆWebã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã¨ã—ã¦ã€Next.js 15ï¼ˆApp Routerï¼‰ã‚’é¸æŠã™ã‚‹ã‹ã€ä»–ã®é¸æŠè‚¢ï¼ˆVite + Reactã€Remixã€CRAï¼‰ã‚’é¸æŠã™ã‚‹ã‹ã€‚\n\n## é¸ã‚“ã ã‚‚ã®\n\n**Next.js 15.3.0ï¼ˆApp Routerï¼‰**\n\n```json\n{\n  \"dependencies\": {\n    \"next\": \"15.3.0\",\n    \"react\": \"^19.0.0\",\n    \"react-dom\": \"^19.0.0\"\n  }\n}\n```\n\n## ä»–ã®å€™è£œ\n\n### å€™è£œ1ï¼šVite + React\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**ï¼š\n\n1. **API RoutesãŒãªã„**\n   - AIç”ŸæˆAPIï¼ˆ`/api/ai/generate`ï¼‰ã‚„PDFã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆAPIï¼ˆ`/api/export`ï¼‰ã‚’åˆ¥é€”æ§‹ç¯‰ã™ã‚‹å¿…è¦\n   - Express.jsãªã©ã®ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚’è¿½åŠ ã§å®Ÿè£…ï¼ˆè¤‡é›‘åº¦å¢—åŠ ï¼‰\n\n2. **SSR/SSGãŒæ¨™æº–ã§ã¯ãªã„**\n   - ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’SSRã§ç”Ÿæˆã—ãŸã„\n   - SEOãŒé‡è¦ã§ã¯ãªã„ãŒã€åˆæœŸãƒ­ãƒ¼ãƒ‰æ™‚ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãŒé‡è¦\n\n3. **ãƒ•ã‚¡ã‚¤ãƒ«ãƒ™ãƒ¼ã‚¹ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã®åˆ¶ç´„**\n   - Next.jsã»ã©æŸ”è»Ÿã§ã¯ãªã„ï¼ˆå‹•çš„ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãªã©ï¼‰\n   - App Routerã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆéšå±¤ãŒä½¿ãˆãªã„\n\n4. **é–‹ç™ºåŠ¹ç‡**\n   - API Routes + ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ ã‚’ä¸€ã¤ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ç®¡ç†ã§ããªã„\n   - ãƒ‡ãƒ—ãƒ­ã‚¤ãŒè¤‡é›‘ï¼ˆVercelãªã‚‰ä¸€ç™ºã ãŒã€Viteã¯åˆ¥é€”è¨­å®šãŒå¿…è¦ï¼‰\n\n**ãƒ¡ãƒªãƒƒãƒˆ**:\n- ãƒ“ãƒ«ãƒ‰ãŒéå¸¸ã«é€Ÿã„ï¼ˆesbuildãƒ™ãƒ¼ã‚¹ï¼‰\n- ã‚·ãƒ³ãƒ—ãƒ«ãªæ§‹æˆ\n- ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰ã®ã¿ãªã‚‰ViteãŒæœ€é©\n\n**ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ**ï¼ˆã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ã¨ã£ã¦ï¼‰:\n- API RoutesãŒãªã„ â†’ ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚’åˆ¥é€”æ§‹ç¯‰\n- SSRãŒãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯ãªã„\n- ãƒ•ã‚¡ã‚¤ãƒ«ãƒ™ãƒ¼ã‚¹ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãŒå¼±ã„\n\n### å€™è£œ2ï¼šRemix\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**ï¼š\n\n1. **å­¦ç¿’ã‚³ã‚¹ãƒˆãŒé«˜ã„**\n   - Remixã®ç‹¬è‡ªæ¦‚å¿µï¼ˆloaderã€actionã€nested routesï¼‰ã®å­¦ç¿’ãŒå¿…è¦\n   - Next.jsã®çµŒé¨“ã‚’æ´»ã‹ã›ãªã„\n\n2. **ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ãŒå°ã•ã„**\n   - Next.jsã«æ¯”ã¹ã¦ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãƒ»ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ã‚µãƒãƒ¼ãƒˆãŒå°‘ãªã„\n   - ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã®æƒ…å ±ãŒå°‘ãªã„\n\n3. **Vercelãƒ‡ãƒ—ãƒ­ã‚¤ã®æœ€é©åŒ–**\n   - Next.jsã¯Vercelã§æœ€é©åŒ–ã•ã‚Œã¦ã„ã‚‹\n   - Remixã¯å¯èƒ½ã ãŒã€Next.jsã»ã©ã‚¹ãƒ ãƒ¼ã‚ºã§ã¯ãªã„\n\n4. **é–‹ç™ºãƒãƒ¼ãƒ ã®çµŒé¨“**\n   - Next.jsã®çµŒé¨“ã¯ã‚ã‚‹ãŒã€Remixã®çµŒé¨“ã¯ãªã„\n   - é–‹ç™ºé€Ÿåº¦ã‚’å„ªå…ˆ\n\n**ãƒ¡ãƒªãƒƒãƒˆ**:\n- ãƒ‡ãƒ¼ã‚¿ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ãŒæ´—ç·´ã•ã‚Œã¦ã„ã‚‹ï¼ˆloader/actionï¼‰\n- Nested routesãŒå¼·åŠ›\n- Webæ¨™æº–ã«æº–æ‹ \n\n**ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ**ï¼ˆã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ã¨ã£ã¦ï¼‰:\n- å­¦ç¿’ã‚³ã‚¹ãƒˆãŒé«˜ã„\n- ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ãŒå°ã•ã„\n- æ—¢å­˜ã®çµŒé¨“ã‚’æ´»ã‹ã›ãªã„\n\n### å€™è£œ3ï¼šCreate React Appï¼ˆCRAï¼‰\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**ï¼š\n\n1. **ã‚‚ã¯ã‚„ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã•ã‚Œã¦ã„ãªã„**\n   - Reactå…¬å¼ãŒæ¨å¥¨ã—ã¦ã„ãªã„\n   - Next.jsã€Viteã€Remixã‚’æ¨å¥¨\n\n2. **API RoutesãŒãªã„**\n   - Viteã¨åŒã˜ãã€ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚’åˆ¥é€”æ§‹ç¯‰ãŒå¿…è¦\n\n3. **ãƒ“ãƒ«ãƒ‰ãŒé…ã„**\n   - Webpack 4ãƒ™ãƒ¼ã‚¹ï¼ˆå¤ã„ï¼‰\n   - Viteã«æ¯”ã¹ã¦åœ§å€’çš„ã«é…ã„\n\n4. **æ©Ÿèƒ½ãŒè²§å¼±**\n   - SSR/SSGã€API Routesã€ãƒ•ã‚¡ã‚¤ãƒ«ãƒ™ãƒ¼ã‚¹ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãªã—\n   - åŸºæœ¬çš„ãªReactã‚¢ãƒ—ãƒªã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã®ã¿\n\n**ãƒ¡ãƒªãƒƒãƒˆ**:\n- ï¼ˆã‚‚ã¯ã‚„ãªã—ï¼‰\n\n**ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ**:\n- ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹çµ‚äº†\n- æ©Ÿèƒ½ãŒè²§å¼±\n- ãƒ“ãƒ«ãƒ‰ãŒé…ã„\n\n## åˆ¤æ–­ç†ç”±\n\n### ç†ç”±1ï¼šAPI Routesã§ãƒ•ãƒ«ã‚¹ã‚¿ãƒƒã‚¯é–‹ç™º\n\nNext.js 15ã®API Routesã«ã‚ˆã‚Šã€ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã¨ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚’ä¸€ã¤ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ç®¡ç†ï¼š\n\n```typescript\n// src/app/api/ai/generate/route.ts\nexport async function POST(request: NextRequest) {\n  const { prompt, parameters } = await request.json();\n  // Gemini APIå‘¼ã³å‡ºã—\n  const result = await genAI.generateContent(prompt);\n  return NextResponse.json({ content: result.response.text() });\n}\n```\n\n**åˆ©ç‚¹**:\n- Express.jsãªã©ã®ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãŒä¸è¦\n- ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã¨ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã§å‹ã‚’å…±æœ‰ã§ãã‚‹ï¼ˆTypeScriptï¼‰\n- ãƒ‡ãƒ—ãƒ­ã‚¤ãŒç°¡å˜ï¼ˆVercelä¸€ç™ºï¼‰\n\n### ç†ç”±2ï¼šApp Routerã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆéšå±¤\n\nApp Routerã®éšå±¤çš„ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã«ã‚ˆã‚Šã€ã‚¨ãƒ‡ã‚£ã‚¿ãƒšãƒ¼ã‚¸ã¨ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé¸æŠãƒšãƒ¼ã‚¸ã§ç•°ãªã‚‹ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’é©ç”¨ï¼š\n\n```\nsrc/app/\nâ”œâ”€â”€ layout.tsx                    # ãƒ«ãƒ¼ãƒˆãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ\nâ”œâ”€â”€ page.tsx                      # ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸\nâ”œâ”€â”€ (routes)/\nâ”‚   â”œâ”€â”€ editor/\nâ”‚   â”‚   â””â”€â”€ [documentId]/\nâ”‚   â”‚       â”œâ”€â”€ layout.tsx        # ã‚¨ãƒ‡ã‚£ã‚¿ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ\nâ”‚   â”‚       â””â”€â”€ page.tsx          # ã‚¨ãƒ‡ã‚£ã‚¿ãƒšãƒ¼ã‚¸\nâ”‚   â””â”€â”€ templates/\nâ”‚       â””â”€â”€ page.tsx              # ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé¸æŠãƒšãƒ¼ã‚¸\n```\n\n**åˆ©ç‚¹**:\n- ãƒšãƒ¼ã‚¸ã”ã¨ã«ç•°ãªã‚‹ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’ç°¡å˜ã«é©ç”¨\n- ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã®å†åˆ©ç”¨æ€§ãŒé«˜ã„\n- ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³æ™‚ã«ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆãŒå†ãƒã‚¦ãƒ³ãƒˆã•ã‚Œãªã„ï¼ˆãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å‘ä¸Šï¼‰\n\n### ç†ç”±3ï¼šReact 19å¯¾å¿œ\n\nNext.js 15ã¯React 19ã‚’ã‚µãƒãƒ¼ãƒˆï¼š\n\n- **Server Components**: ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ã§ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ï¼ˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆèª­ã¿è¾¼ã¿ãªã©ï¼‰\n- **Client Components**: ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰ã§ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ï¼ˆã‚¨ãƒ‡ã‚£ã‚¿UIãªã©ï¼‰\n- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å‘ä¸Š\n\n```tsx\n// Server Componentï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼‰\nexport default async function TemplateSelector() {\n  const templates = await fetchTemplates(); // ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ã§å®Ÿè¡Œ\n  return <TemplateList templates={templates} />;\n}\n\n// Client Component\n'use client';\nexport default function Editor() {\n  const [content, setContent] = useState('');\n  // ... ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãªUI\n}\n```\n\n### ç†ç”±4ï¼šTypeScriptã®å®Œå…¨ã‚µãƒãƒ¼ãƒˆ\n\nNext.js 15ã¯TypeScriptã‚’ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆã‚¯ãƒ©ã‚¹ã‚µãƒãƒ¼ãƒˆï¼š\n\n- `tsconfig.json`ã®è‡ªå‹•ç”Ÿæˆ\n- API Routesã®å‹æ¨è«–\n- ãƒ•ã‚¡ã‚¤ãƒ«ãƒ™ãƒ¼ã‚¹ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã®å‹å®‰å…¨æ€§\n\n```typescript\n// å‹å®‰å…¨ãªAPI Route\nexport async function POST(request: NextRequest) {\n  const body: { prompt: string; parameters: AIParameters } = await request.json();\n  // TypeScriptãŒå‹ã‚’ãƒã‚§ãƒƒã‚¯\n}\n```\n\n### ç†ç”±5ï¼šVercelã¸ã®ãƒ‡ãƒ—ãƒ­ã‚¤æœ€é©åŒ–\n\nNext.jsã¯Vercelã§æœ€é©åŒ–ã•ã‚Œã¦ã„ã‚‹ï¼š\n\n- `git push`ã ã‘ã§ãƒ‡ãƒ—ãƒ­ã‚¤å®Œäº†\n- è‡ªå‹•CI/CD\n- ã‚¨ãƒƒã‚¸ã‚­ãƒ£ãƒƒã‚·ãƒ³ã‚°ã€ç”»åƒæœ€é©åŒ–ãŒè‡ªå‹•\n\n**ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ‡ãƒ—ãƒ­ã‚¤æ–¹æ³•**:\n```bash\n# Vercel CLIã§ãƒ‡ãƒ—ãƒ­ã‚¤\nvercel deploy\n```\n\n### ç†ç”±6ï¼šé–‹ç™ºé€Ÿåº¦\n\næ—¢ã«Next.jsã®çµŒé¨“ãŒã‚ã‚‹ãŸã‚ã€é–‹ç™ºãŒé€Ÿã„ï¼š\n\n- ãƒœã‚¤ãƒ©ãƒ¼ãƒ—ãƒ¬ãƒ¼ãƒˆãŒä¸è¦ï¼ˆ`npx create-next-app`ï¼‰\n- API Routesã€ãƒ•ã‚¡ã‚¤ãƒ«ãƒ™ãƒ¼ã‚¹ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãªã©ã€ã™ãã«ä½¿ãˆã‚‹\n- ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã®æƒ…å ±ãŒè±Šå¯Œ\n\n### ç†ç”±7ï¼šã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ã®å……å®Ÿ\n\nNext.jsã®ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ãŒéå¸¸ã«å……å®Ÿï¼š\n\n- **Vercel**: ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ \n- **shadcn/ui, Radix UI**: UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼ˆNext.jsã¨ç›¸æ€§ãŒè‰¯ã„ï¼‰\n- **Zustand**: çŠ¶æ…‹ç®¡ç†ï¼ˆNext.jsã¨ç›¸æ€§ãŒè‰¯ã„ï¼‰\n- **Tailwind CSS**: CSSãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ï¼ˆNext.jsãŒãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚µãƒãƒ¼ãƒˆï¼‰\n\n## ã“ã®åˆ¤æ–­ã‹ã‚‰å­¦ã¹ã‚‹ã“ã¨\n\n### å­¦ã³1ï¼šAPI Routesã®ä¾¡å€¤\n\nãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã¨ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚’ä¸€ã¤ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ç®¡ç†ã§ãã‚‹ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã¯ã€é–‹ç™ºåŠ¹ç‡ãŒå¤§å¹…ã«å‘ä¸Šã™ã‚‹ã€‚\n\n**é©ç”¨å ´é¢**:\n- AIã‚¢ãƒ—ãƒªï¼ˆAPIã‚­ãƒ¼ã‚’ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã§ç®¡ç†ï¼‰\n- ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹é€£æºã‚¢ãƒ—ãƒª\n- å¤–éƒ¨APIçµ±åˆ\n\n### å­¦ã³2ï¼šApp Routerã®æŸ”è»Ÿæ€§\n\nApp Routerã®éšå±¤çš„ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã¯ã€è¤‡é›‘ãªã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§å¨åŠ›ã‚’ç™ºæ®ã€‚\n\n**é©ç”¨å ´é¢**:\n- ç®¡ç†ç”»é¢ã¨ãƒ¦ãƒ¼ã‚¶ãƒ¼ç”»é¢ã§ç•°ãªã‚‹ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ\n- å¤šæ©Ÿèƒ½ã‚¢ãƒ—ãƒªï¼ˆã‚¨ãƒ‡ã‚£ã‚¿ã€ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã€è¨­å®šãªã©ï¼‰\n\n### å­¦ã³3ï¼šãƒ•ãƒ«ã‚¹ã‚¿ãƒƒã‚¯ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã®é¸æŠ\n\nãƒ•ãƒ«ã‚¹ã‚¿ãƒƒã‚¯ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ï¼ˆNext.jsã€Remixã€SvelteKitï¼‰ã¯ã€ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã¨ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‚’çµ±åˆã™ã‚‹å ´åˆã«æœ€é©ã€‚\n\n### å­¦ã³4ï¼šçµŒé¨“ã‚’æ´»ã‹ã™\n\næ–°ã—ã„æŠ€è¡“ã‚’è©¦ã™ã®ã‚‚è‰¯ã„ãŒã€æ—¢å­˜ã®çµŒé¨“ã‚’æ´»ã‹ã›ã‚‹æŠ€è¡“ã‚’é¸ã¶ã“ã¨ã§é–‹ç™ºé€Ÿåº¦ãŒä¸ŠãŒã‚‹ã€‚\n\n### å­¦ã³5ï¼šãƒ‡ãƒ—ãƒ­ã‚¤ã®é‡è¦æ€§\n\nãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚’é¸ã¶éš›ã€ãƒ‡ãƒ—ãƒ­ã‚¤ã®å®¹æ˜“ã•ã‚‚é‡è¦ãªåˆ¤æ–­åŸºæº–ã€‚Next.js + Vercelã¯éå¸¸ã«ã‚¹ãƒ ãƒ¼ã‚ºã€‚\n\n## é©ç”¨å ´é¢\n\nä»¥ä¸‹ã®æ¡ä»¶ã‚’æº€ãŸã™ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ã¯ã€Next.jsï¼ˆApp Routerï¼‰ãŒæœ€é©ï¼š\n\n- **APIçµ±åˆ**: AI APIã€å¤–éƒ¨APIã€ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãªã©\n- **SSR/SSG**: åˆæœŸãƒ­ãƒ¼ãƒ‰ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãŒé‡è¦\n- **ãƒ•ãƒ«ã‚¹ã‚¿ãƒƒã‚¯é–‹ç™º**: ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã¨ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚’ä¸€ã¤ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ç®¡ç†\n- **TypeScript**: å‹å®‰å…¨æ€§ã‚’é‡è¦–\n- **React 19**: Server Componentsã€Client Componentsã‚’æ´»ç”¨\n- **Vercelãƒ‡ãƒ—ãƒ­ã‚¤**: ç°¡å˜ãªãƒ‡ãƒ—ãƒ­ã‚¤ã‚’æ±‚ã‚ã‚‹\n- **è¤‡é›‘ãªãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ**: éšå±¤çš„ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆãŒå¿…è¦\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `skill_grid_based_layout_system_2025_04_11.md`: Next.jsã®App Routerã‚’æ´»ç”¨ã—ãŸãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆè¨­è¨ˆ\n- `decision_state_zustand_vs_redux_2025_04_11.md`: Next.jsã¨Zustandã®çµ„ã¿åˆã‚ã›\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€ŒNext.js 15ï¼ˆApp Routerï¼‰ã®é¸æŠã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "skill-grid-based-layout-system"
    ]
  },
  {
    "slug": "decisions-tech-nextjs-15-choice",
    "title": "Next.js 15ã®é¸æŠç†ç”±",
    "category": "Decisionsï¼ˆæŠ€è¡“é¸å®šãƒ»åˆ¤æ–­ï¼‰",
    "description": "Next.js 15ã®é¸æŠç†ç”±",
    "project": "novel-automation-system-v2",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"decision_tech_nextjs_15_choice_2025_11_25\",\n  \"type\": \"decision\",\n  \"name\": \"Next.js 15ã®é¸æŠç†ç”±\",\n  \"decision_type\": \"tech_selection\",\n  \"tags\": [\"Next.js\", \"ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯\", \"React\", \"App Router\", \"SSR\", \"æŠ€è¡“é¸å®š\"],\n  \"source_project\": \"novel-automation-system-v2\",\n  \"chosen\": \"Next.js 15.3.1 (App Router)\",\n  \"alternatives\": [\"Vite + React\", \"Remix\", \"Astro\", \"Create React App\"],\n  \"related_knowledge\": [\n    \"system_novel_automation_status_2025_11_25\",\n    \"skill_service_container_di_2025_11_25\",\n    \"decision_tech_vercel_deploy_2025_11_25\"\n  ],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# Next.js 15ã®é¸æŠç†ç”±\n\n## ä½•ã‚’åˆ¤æ–­ã—ãŸã‹\n\nAIå°èª¬è‡ªå‹•ç”Ÿæˆã‚·ã‚¹ãƒ†ãƒ ï¼ˆNovel Automation System v2ï¼‰ã®ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ãƒ»ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰çµ±åˆãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã¨ã—ã¦ã€**Next.js 15.3.1ï¼ˆApp Routerï¼‰**ã‚’é¸æŠã—ãŸã€‚\n\n## é¸ã‚“ã ã‚‚ã®\n\n**Next.js 15.3.1**\n- App Routerä½¿ç”¨\n- React 19.0.0å¯¾å¿œ\n- TypeScript 5 çµ±åˆ\n- Tailwind CSS 4 çµ±åˆ\n\n## ä»–ã®å€™è£œ\n\n### å€™è£œ1ï¼šVite + React\n\n**ç‰¹å¾´**:\n- è¶…é«˜é€Ÿãªé–‹ç™ºã‚µãƒ¼ãƒãƒ¼\n- è»½é‡ãªãƒ“ãƒ«ãƒ‰ãƒ„ãƒ¼ãƒ«\n- ã‚·ãƒ³ãƒ—ãƒ«ãªè¨­å®š\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n- **ç†ç”±1ï¼šSSR/SSG ãŒæ¨™æº–ã§ã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ãªã„**\n  - å°èª¬ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®è¡¨ç¤ºã«ã¯SEOæœ€é©åŒ–ãŒé‡è¦\n  - ç”Ÿæˆã•ã‚ŒãŸå°èª¬ã‚’æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³ã«æœ€é©åŒ–ã™ã‚‹å¿…è¦ãŒã‚ã‚‹\n  - Viteã¯SPAï¼ˆSingle Page Applicationï¼‰å‰æã§ã€SSRã«ã¯è¿½åŠ è¨­å®šãŒå¿…è¦\n- **ç†ç”±2ï¼šAPI RoutesãŒãªã„**\n  - ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãƒ­ã‚¸ãƒƒã‚¯ï¼ˆAIç”Ÿæˆã€è¨˜æ†¶ç®¡ç†ï¼‰ã‚’åŒã˜ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå†…ã§ç®¡ç†ã—ãŸã„\n  - åˆ¥é€”Expressç­‰ã®ã‚µãƒ¼ãƒãƒ¼ãŒå¿…è¦ã«ãªã‚‹\n- **ç†ç”±3ï¼šãƒ•ã‚¡ã‚¤ãƒ«ãƒ™ãƒ¼ã‚¹ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãŒãªã„**\n  - ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°è¨­å®šã‚’æ‰‹å‹•ã§ç®¡ç†ã™ã‚‹å¿…è¦ãŒã‚ã‚‹\n\n### å€™è£œ2ï¼šRemix\n\n**ç‰¹å¾´**:\n- React Router ãƒ™ãƒ¼ã‚¹ã®ãƒ•ãƒ«ã‚¹ã‚¿ãƒƒã‚¯ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯\n- ãƒ‡ãƒ¼ã‚¿ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã¨ãƒ•ã‚©ãƒ¼ãƒ å‡¦ç†ã«å¼·ã„\n- ã‚¨ãƒƒã‚¸ãƒ‡ãƒ—ãƒ­ã‚¤å¯¾å¿œ\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n- **ç†ç”±1ï¼šå­¦ç¿’ã‚³ã‚¹ãƒˆãŒé«˜ã„**\n  - ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯Next.jsã«æ—¢ã«æ…£ã‚Œã¦ã„ã‚‹ï¼ˆéå»ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ä½¿ç”¨ï¼‰\n  - Remixã®ç‹¬è‡ªæ¦‚å¿µï¼ˆloader, actionï¼‰ã®ç¿’å¾—ãŒå¿…è¦\n- **ç†ç”±2ï¼šã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ãŒå°ã•ã„**\n  - Next.jsã«æ¯”ã¹ã¦ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒå°‘ãªã„\n  - å•é¡Œè§£æ±ºæ™‚ã®æƒ…å ±ãŒå°‘ãªã„\n- **ç†ç”±3ï¼šVercelã¨ã®è¦ªå’Œæ€§ãŒä½ã„**\n  - ãƒ‡ãƒ—ãƒ­ã‚¤å…ˆã¨ã—ã¦Vercelã‚’æƒ³å®šã—ã¦ã„ã‚‹ãŒã€Remixã¯Vercelã‚ˆã‚Šã‚‚Fly.ioãªã©ã«æœ€é©åŒ–\n\n### å€™è£œ3ï¼šAstro\n\n**ç‰¹å¾´**:\n- é™çš„ã‚µã‚¤ãƒˆç”Ÿæˆã«ç‰¹åŒ–\n- éƒ¨åˆ†çš„ãƒã‚¤ãƒ‰ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆIslands Architectureï¼‰\n- è»½é‡ãªå‡ºåŠ›\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n- **ç†ç”±1ï¼šå‹•çš„ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”Ÿæˆã«ä¸å‘ã**\n  - å°èª¬ç”Ÿæˆã¯ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§å®Ÿè¡Œã•ã‚Œã‚‹å‹•çš„å‡¦ç†\n  - Astroã¯ãƒ“ãƒ«ãƒ‰ã‚¹ãƒ†ãƒƒãƒ—ã§ã®SSGã«æœ€é©åŒ–ã•ã‚Œã¦ã„ã‚‹\n- **ç†ç”±2ï¼šReactã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ã®æ´»ç”¨ãŒåˆ¶é™ã•ã‚Œã‚‹**\n  - Astroã¯è¤‡æ•°ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯å¯¾å¿œã ãŒã€Reactå°‚ç”¨ã®æ©Ÿèƒ½ãŒä½¿ã„ã«ãã„\n  - è¤‡é›‘ãªçŠ¶æ…‹ç®¡ç†ï¼ˆè¨˜æ†¶éšå±¤ã€ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ç®¡ç†ï¼‰ã«Reactã®å®Œå…¨ãªæ©Ÿèƒ½ãŒå¿…è¦\n- **ç†ç”±3ï¼šAPI RoutesãŒé™å®šçš„**\n  - Astroã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆæ©Ÿèƒ½ã¯Next.jsã®API Routesã»ã©æŸ”è»Ÿã§ã¯ãªã„\n\n### å€™è£œ4ï¼šCreate React Appï¼ˆCRAï¼‰\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n- **ç†ç”±1ï¼šãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ãŒåœæ­¢ã—ã¦ã„ã‚‹**\n  - Reactå…¬å¼ãŒæ¨å¥¨ã‚’å–ã‚Šä¸‹ã’ã¦ã„ã‚‹\n  - æœ€æ–°ã®Reactæ©Ÿèƒ½ï¼ˆReact Server Componentsç­‰ï¼‰ãŒã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ãªã„\n- **ç†ç”±2ï¼šSSR/SSGãŒã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ãªã„**\n  - CRAã¯SPAã®ã¿\n\n## åˆ¤æ–­ç†ç”±\n\n### ç†ç”±1ï¼šApp Routerã«ã‚ˆã‚‹æŸ”è»Ÿãªãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°\n\n**è©³ç´°**:\nNext.js 15ã®App Routerã¯ã€ãƒ•ã‚¡ã‚¤ãƒ«ãƒ™ãƒ¼ã‚¹ã§ç›´æ„Ÿçš„ãªãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚’æä¾›ã™ã‚‹ã€‚\n\n```\nsrc/app/\n  â”œâ”€â”€ page.tsx              # /\n  â”œâ”€â”€ generation/\n  â”‚   â””â”€â”€ page.tsx          # /generation\n  â”œâ”€â”€ characters/\n  â”‚   â””â”€â”€ [id]/\n  â”‚       â””â”€â”€ page.tsx      # /characters/:id\n  â””â”€â”€ api/\n      â”œâ”€â”€ generation/\n      â”‚   â””â”€â”€ route.ts      # API: POST /api/generation\n      â””â”€â”€ characters/\n          â””â”€â”€ route.ts      # API: GET /api/characters\n```\n\n**ãƒ¡ãƒªãƒƒãƒˆ**:\n- ãƒ•ã‚©ãƒ«ãƒ€æ§‹é€ ãŒãã®ã¾ã¾URLã«ãªã‚‹\n- å‹•çš„ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ï¼ˆ`[id]`ï¼‰ãŒç°¡å˜\n- ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã®å…±æœ‰ãŒå®¹æ˜“ï¼ˆ`layout.tsx`ï¼‰\n\n### ç†ç”±2ï¼šAPI Routesã«ã‚ˆã‚‹ãƒ•ãƒ«ã‚¹ã‚¿ãƒƒã‚¯é–‹ç™º\n\n**è©³ç´°**:\nAPI Routesã«ã‚ˆã‚Šã€ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã¨ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚’åŒã˜ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ç®¡ç†ã§ãã‚‹ã€‚\n\n```typescript\n// src/app/api/generation/chapter/route.ts\nexport async function POST(request: Request) {\n  const engine = await container.resolve<NovelGenerationEngine>('novelGenerationEngine');\n  const result = await engine.generateChapter();\n  return Response.json(result);\n}\n```\n\n**ãƒ¡ãƒªãƒƒãƒˆ**:\n- ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã¨ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®ã‚³ãƒ¼ãƒ‰å…±æœ‰\n- TypeScriptå‹ã®å…±æœ‰ãŒå®¹æ˜“\n- APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã®ç®¡ç†ãŒç°¡å˜\n- è¤‡é›‘ãªãƒ­ã‚¸ãƒƒã‚¯ï¼ˆè¨˜æ†¶éšå±¤ã€AIç”Ÿæˆï¼‰ã‚’ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ã§å®Ÿè¡Œ\n\n### ç†ç”±3ï¼šReact Server Componentsï¼ˆRSCï¼‰å¯¾å¿œ\n\n**è©³ç´°**:\nNext.js 15ã¯React 19ã®Server Components ã‚’å®Œå…¨ã‚µãƒãƒ¼ãƒˆã€‚\n\n**ãƒ¡ãƒªãƒƒãƒˆ**:\n- ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ã§ã®ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚§ãƒƒãƒ\n- ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã«é€ä¿¡ã™ã‚‹JavaScriptã®å‰Šæ¸›\n- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å‘ä¸Š\n\n**ä½¿ç”¨å ´é¢**:\n- å°èª¬ã®ä¸€è¦§è¡¨ç¤ºï¼ˆé™çš„ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ï¼‰\n- ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼æƒ…å ±ã®è¡¨ç¤º\n- ãƒ—ãƒ­ãƒƒãƒˆè¨­å®šã®è¡¨ç¤º\n\n### ç†ç”±4ï¼šVercelã¸ã®æœ€é©åŒ–\n\n**è©³ç´°**:\nNext.jsã¯Vercelç¤¾ãŒé–‹ç™ºã—ã¦ãŠã‚Šã€Vercelã¸ã®ãƒ‡ãƒ—ãƒ­ã‚¤ãŒæœ€ã‚‚æœ€é©åŒ–ã•ã‚Œã¦ã„ã‚‹ã€‚\n\n**ãƒ¡ãƒªãƒƒãƒˆ**:\n- ã‚¼ãƒ­ã‚³ãƒ³ãƒ•ã‚£ã‚°ãƒ‡ãƒ—ãƒ­ã‚¤\n- ã‚¨ãƒƒã‚¸ãƒ•ã‚¡ãƒ³ã‚¯ã‚·ãƒ§ãƒ³ã®æ´»ç”¨\n- è‡ªå‹•ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°\n- ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆ\n\n**ãƒ‡ãƒ—ãƒ­ã‚¤æ‰‹é †**:\n```bash\nvercel deploy\n```\n\n### ç†ç”±5ï¼šæ—¢å­˜ã®çµŒé¨“ã¨ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ \n\n**è©³ç´°**:\nãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯éå»ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆï¼ˆai-blog-generator, instagram-post-generatorç­‰ï¼‰ã§Next.jsã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹ã€‚\n\n**ãƒ¡ãƒªãƒƒãƒˆ**:\n- å­¦ç¿’ã‚³ã‚¹ãƒˆã‚¼ãƒ­\n- æ—¢å­˜ã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ã‚’æ´»ç”¨\n- è±Šå¯Œãªãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ï¼ˆNext.jså‘ã‘ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒå¤šã„ï¼‰\n- å•é¡Œè§£æ±ºãŒå®¹æ˜“ï¼ˆStack Overflowãªã©ã®æƒ…å ±ãŒè±Šå¯Œï¼‰\n\n### ç†ç”±6ï¼šTypeScriptçµ±åˆã®å®Œç’§ã•\n\n**è©³ç´°**:\nNext.jsã¯TypeScriptã¨ã®çµ±åˆãŒéå¸¸ã«å„ªã‚Œã¦ã„ã‚‹ã€‚\n\n```typescript\n// å‹å®‰å…¨ãªAPIå‘¼ã³å‡ºã—\nimport type { ChapterGenerationResult } from '@/types';\n\nasync function generateChapter(): Promise<ChapterGenerationResult> {\n  const res = await fetch('/api/generation/chapter', { method: 'POST' });\n  return res.json();\n}\n```\n\n**ãƒ¡ãƒªãƒƒãƒˆ**:\n- å‹å®šç¾©ãŒãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ãƒ»ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰é–“ã§å…±æœ‰ã•ã‚Œã‚‹\n- API Routesã®å‹ãƒã‚§ãƒƒã‚¯\n- é–‹ç™ºæ™‚ã®IntelliSenseå¯¾å¿œ\n\n### ç†ç”±7ï¼šé–‹ç™ºä½“é¨“ï¼ˆDXï¼‰ã®è‰¯ã•\n\n**è©³ç´°**:\n- Hot Module Replacementï¼ˆHMRï¼‰\n- Fast Refresh\n- ã‚¨ãƒ©ãƒ¼è¡¨ç¤ºã®è©³ç´°ã•\n- ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®å……å®Ÿ\n\n**é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•**:\n```bash\nnpm run dev\n# â†’ http://localhost:3000\n# é«˜é€Ÿãªé–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã€å³åº§ã®å¤‰æ›´åæ˜ \n```\n\n## ã“ã®åˆ¤æ–­ã‹ã‚‰å­¦ã¹ã‚‹ã“ã¨\n\n### å­¦ã³1ï¼šãƒ•ãƒ«ã‚¹ã‚¿ãƒƒã‚¯é–‹ç™ºã«ã¯ãƒ•ãƒ«ã‚¹ã‚¿ãƒƒã‚¯ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚’é¸ã¶\n\nå°èª¬ç”Ÿæˆã®ã‚ˆã†ãªè¤‡é›‘ãªã‚·ã‚¹ãƒ†ãƒ ã§ã¯ã€ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã¨ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚’åˆ†é›¢ã™ã‚‹ã¨ã‚ªãƒ¼ãƒãƒ¼ãƒ˜ãƒƒãƒ‰ãŒå¢—ãˆã‚‹ã€‚Next.jsã®ã‚ˆã†ãªãƒ•ãƒ«ã‚¹ã‚¿ãƒƒã‚¯ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚’é¸ã¶ã“ã¨ã§ã€é–‹ç™ºåŠ¹ç‡ãŒå¤§å¹…ã«å‘ä¸Šã™ã‚‹ã€‚\n\n### å­¦ã³2ï¼šæ—¢å­˜ã®çµŒé¨“ã‚’æ´»ã‹ã›ã‚‹æŠ€è¡“ã‚’é¸ã¶ã¹ã\n\næ–°ã—ã„æŠ€è¡“ã®å­¦ç¿’ã‚³ã‚¹ãƒˆã¯ç„¡è¦–ã§ããªã„ã€‚æ—¢ã«Next.jsã®çµŒé¨“ãŒã‚ã‚‹ãªã‚‰ã€ãã‚Œã‚’æ´»ã‹ã™ã¹ãã€‚ç‰¹ã«è¤‡é›‘ãªã‚·ã‚¹ãƒ†ãƒ ã§ã¯ã€ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã®å­¦ç¿’ã«æ™‚é–“ã‚’å–ã‚‰ã‚Œã‚‹ã¹ãã§ã¯ãªã„ã€‚\n\n### å­¦ã³3ï¼šãƒ‡ãƒ—ãƒ­ã‚¤å…ˆã¨ã®è¦ªå’Œæ€§ã‚’è€ƒæ…®ã™ã‚‹\n\nVercelã¸ã®ãƒ‡ãƒ—ãƒ­ã‚¤ã‚’å‰æã¨ã™ã‚‹ãªã‚‰ã€Next.jsãŒæœ€é©ã€‚ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã¨ãƒ‡ãƒ—ãƒ­ã‚¤å…ˆã®ç›¸æ€§ã¯é‡è¦ã€‚\n\n### å­¦ã³4ï¼šSSR/SSGãŒå¿…è¦ãªã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã«ã¯SSRå¯¾å¿œãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚’é¸ã¶\n\nå°èª¬ã®ã‚ˆã†ãªã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã¯SEOæœ€é©åŒ–ãŒé‡è¦ã€‚SSR/SSGå¯¾å¿œã®ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚’é¸ã¶ã¹ãã€‚\n\n### å­¦ã³5ï¼šã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ã®å¤§ãã•ã¯å•é¡Œè§£æ±ºã®ã‚¹ãƒ”ãƒ¼ãƒ‰ã«ç›´çµã™ã‚‹\n\nNext.jsã¯æœ€ã‚‚äººæ°—ã®ã‚ã‚‹Reactãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã®ä¸€ã¤ã€‚å•é¡ŒãŒç™ºç”Ÿã—ãŸã¨ãã«ã€ã™ãã«è§£æ±ºç­–ãŒè¦‹ã¤ã‹ã‚‹ã€‚\n\n## é©ç”¨å ´é¢\n\nä»¥ä¸‹ã®æ¡ä»¶ã‚’æº€ãŸã™ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ã¯ã€Next.jsãŒæœ€é©ï¼š\n\n1. **ãƒ•ãƒ«ã‚¹ã‚¿ãƒƒã‚¯é–‹ç™ºãŒå¿…è¦**ï¼ˆãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ + ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ï¼‰\n2. **SSR/SSGãŒå¿…è¦**ï¼ˆSEOé‡è¦–ã€ã‚³ãƒ³ãƒ†ãƒ³ãƒ„é‡è¦–ï¼‰\n3. **Vercelã¸ã®ãƒ‡ãƒ—ãƒ­ã‚¤ã‚’äºˆå®š**ï¼ˆã¾ãŸã¯æ¤œè¨ä¸­ï¼‰\n4. **React ã‚’ä½¿ã„ãŸã„**ï¼ˆReactã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ã®æ´»ç”¨ï¼‰\n5. **æ—¢ã«Next.jsã®çµŒé¨“ãŒã‚ã‚‹**ï¼ˆå­¦ç¿’ã‚³ã‚¹ãƒˆå‰Šæ¸›ï¼‰\n6. **TypeScript ã‚’ä½¿ã„ãŸã„**ï¼ˆå‹å®‰å…¨æ€§é‡è¦–ï¼‰\n\n## æ³¨æ„ç‚¹\n\n### æ³¨æ„ç‚¹1ï¼šApp Routerã®å­¦ç¿’ã‚³ã‚¹ãƒˆ\n\nApp Routerã¯æ¯”è¼ƒçš„æ–°ã—ã„æ©Ÿèƒ½ã§ã€Pages Routerã¨ã¯ç•°ãªã‚‹æ¦‚å¿µãŒã‚ã‚‹ã€‚\n\n- Server Components ã®ç†è§£ãŒå¿…è¦\n- `use client` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ–ã®ä½¿ã„åˆ†ã‘\n- ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚§ãƒƒãƒã®æ–°ã—ã„ãƒ‘ã‚¿ãƒ¼ãƒ³\n\n### æ³¨æ„ç‚¹2ï¼šãƒ“ãƒ«ãƒ‰æ™‚é–“\n\nNext.jsã®ãƒ“ãƒ«ãƒ‰ã¯ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒå¤§ãããªã‚‹ã¨æ™‚é–“ãŒã‹ã‹ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ã€‚\n\n- 280ãƒ•ã‚¡ã‚¤ãƒ«ã€163,967è¡Œã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯ã€ãƒ“ãƒ«ãƒ‰æ™‚é–“ã«æ³¨æ„\n- Turbopackï¼ˆNext.js 15ã§å°å…¥ï¼‰ã®æ´»ç”¨ã‚’æ¤œè¨\n\n### æ³¨æ„ç‚¹3ï¼šãƒãƒ³ãƒ‰ãƒ«ã‚µã‚¤ã‚º\n\nNext.jsã¯å¤šæ©Ÿèƒ½ãªãŸã‚ã€ãƒãƒ³ãƒ‰ãƒ«ã‚µã‚¤ã‚ºãŒå¤§ãããªã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ã€‚\n\n- ä¸è¦ãªæ©Ÿèƒ½ã®å‰Šé™¤\n- Dynamic Importã®æ´»ç”¨\n- Tree Shakingã®ç¢ºèª\n\n### æ³¨æ„ç‚¹4ï¼šVercelä»¥å¤–ã¸ã®ãƒ‡ãƒ—ãƒ­ã‚¤\n\nVercelä»¥å¤–ï¼ˆAWS, GCPç­‰ï¼‰ã¸ã®ãƒ‡ãƒ—ãƒ­ã‚¤ã¯ã€è¿½åŠ ã®è¨­å®šãŒå¿…è¦ã€‚\n\n- Dockerfile ã®ä½œæˆ\n- ç’°å¢ƒå¤‰æ•°ã®ç®¡ç†\n- ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°æˆ¦ç•¥\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `system_novel_automation_status_2025_11_25.md`ï¼šã‚·ã‚¹ãƒ†ãƒ å…¨ä½“ã®çŠ¶æ…‹\n- `skill_nextjs_app_router_usage_2025_11_25.md`ï¼šApp Routerã®ä½¿ã„æ–¹ï¼ˆä»Šå¾Œä½œæˆäºˆå®šï¼‰\n- `decision_tech_vercel_deploy_2025_11_25.md`ï¼šVercelãƒ‡ãƒ—ãƒ­ã‚¤é¸æŠç†ç”±ï¼ˆä»Šå¾Œä½œæˆäºˆå®šï¼‰\n- `decision_tech_react_19_choice_2025_11_25.md`ï¼šReact 19é¸æŠç†ç”±ï¼ˆä»Šå¾Œä½œæˆäºˆå®šï¼‰\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€ŒNext.js 15ã®é¸æŠç†ç”±ã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "system-novel-automation-status",
      "skill-service-container-di",
      "decision-tech-vercel-deploy"
    ]
  },
  {
    "slug": "tech-nextjs-vs-vite",
    "title": "Next.js vs Vite ã®æŠ€è¡“é¸å®š",
    "category": "Decisionsï¼ˆæŠ€è¡“é¸å®šãƒ»åˆ¤æ–­ï¼‰",
    "description": "Next.js vs Vite ã®æŠ€è¡“é¸å®š",
    "project": "ai-blog-generator",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"decision_tech_nextjs_vs_vite_2025_04_22\",\n  \"type\": \"decision\",\n  \"name\": \"Next.js vs Vite ã®æŠ€è¡“é¸å®š\",\n  \"decision_type\": \"tech_selection\",\n  \"tags\": [\"Next.js\", \"Vite\", \"React\", \"ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯\", \"SSR\", \"SSG\", \"ãƒ–ãƒ­ã‚°\"],\n  \"source_project\": \"ai-blog-generator\",\n  \"chosen\": \"Next.js 15.3.1 (App Router)\",\n  \"alternatives\": [\"Vite + React\", \"Astro\", \"Remix\"],\n  \"related_knowledge\": [\"skill_mdx_rendering_nextjs_2025_04_22\"],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-04-22\",\n  \"updated\": \"2025-04-22\"\n}\n```\n\n# Next.js vs Vite ã®æŠ€è¡“é¸å®š\n\n## ä½•ã‚’åˆ¤æ–­ã—ãŸã‹\n\nãƒ–ãƒ­ã‚°è‡ªå‹•ç”Ÿæˆã‚·ã‚¹ãƒ†ãƒ ã‚’æ§‹ç¯‰ã™ã‚‹éš›ã€ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã¨ã—ã¦ Next.js ã‚’é¸ã¶ã‹ã€Vite + React ã‚’é¸ã¶ã‹ã‚’åˆ¤æ–­ã—ãŸã€‚\n\n## é¸ã‚“ã ã‚‚ã®\n\n**Next.js 15.3.1ï¼ˆApp Routerï¼‰**\n\n## ä»–ã®å€™è£œ\n\n### å€™è£œ1ï¼šVite + React\n\n**æ¤œè¨å†…å®¹**ï¼š\n- é«˜é€Ÿãªãƒ“ãƒ«ãƒ‰ï¼ˆesbuildä½¿ç”¨ï¼‰\n- ã‚·ãƒ³ãƒ—ãƒ«ãªè¨­å®š\n- è»½é‡ãªãƒãƒ³ãƒ‰ãƒ«ã‚µã‚¤ã‚º\n- ãƒ¢ãƒ€ãƒ³ãªé–‹ç™ºä½“é¨“\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**ï¼š\n\n#### ç†ç”±1ï¼šSSR/SSGãŒå¿…è¦\n\nãƒ–ãƒ­ã‚°ã¯æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³ã‹ã‚‰ã®æµå…¥ãŒé‡è¦ï¼š\n- ã‚¯ãƒ­ãƒ¼ãƒ©ãƒ¼ã¯ JavaScript å®Ÿè¡Œå‰ã® HTML ã‚’èª­ã‚€\n- CSRï¼ˆClient Side Renderingï¼‰ã§ã¯ SEO ãŒä¸åˆ©\n- SSR/SSG ãŒå¿…é ˆ\n\nVite + React ã®å ´åˆï¼š\n- ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯ CSR\n- SSR ã‚’å®Ÿè£…ã™ã‚‹ã«ã¯è¿½åŠ ã®è¨­å®šãŒå¿…è¦\n- SSG ã‚’å®Ÿç¾ã™ã‚‹ã«ã¯åˆ¥ã®ãƒ„ãƒ¼ãƒ«ï¼ˆVite SSG ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ç­‰ï¼‰ãŒå¿…è¦\n\nNext.js ã®å ´åˆï¼š\n- SSR/SSG ãŒæ¨™æº–ã§çµ„ã¿è¾¼ã¾ã‚Œã¦ã„ã‚‹\n- App Router ã§ RSCï¼ˆReact Server Componentsï¼‰ã‚‚ä½¿ãˆã‚‹\n- è¨­å®šä¸è¦ã§ SEO æœ€é©åŒ–\n\n#### ç†ç”±2ï¼šAPIãƒ«ãƒ¼ãƒˆãŒå¿…è¦\n\nã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯ï¼š\n- `/api/generate`ï¼šè¨˜äº‹ç”Ÿæˆ API\n- `/api/topics`ï¼šãƒˆãƒ¬ãƒ³ãƒ‰ãƒˆãƒ”ãƒƒã‚¯å–å¾— API\n- `/api/[category]`ï¼šã‚«ãƒ†ã‚´ãƒªåˆ¥è¨˜äº‹å–å¾— API\n\nVite + React ã®å ´åˆï¼š\n- åˆ¥é€”ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚µãƒ¼ãƒãƒ¼ãŒå¿…è¦ï¼ˆExpressã€Fastify ç­‰ï¼‰\n- ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã¨ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚’åˆ†é›¢ç®¡ç†\n- ãƒ‡ãƒ—ãƒ­ã‚¤ãŒè¤‡é›‘ï¼ˆ2ã¤ã®ã‚µãƒ¼ãƒ“ã‚¹ï¼‰\n\nNext.js ã®å ´åˆï¼š\n- API Routes ãŒæ¨™æº–æ­è¼‰\n- ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã¨ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚’1ã¤ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ç®¡ç†\n- ãƒ‡ãƒ—ãƒ­ã‚¤ãŒç°¡å˜ï¼ˆ1ã¤ã®ã‚µãƒ¼ãƒ“ã‚¹ï¼‰\n\n#### ç†ç”±3ï¼šé–‹ç™ºé€Ÿåº¦\n\n**ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®èƒŒæ™¯**ï¼š\n- å€‹äººé–‹ç™º\n- è¿…é€Ÿã«ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—ã‚’ä½œã‚ŠãŸã„\n- ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹æ™‚é–“ã‚’æœ€å°åŒ–ã—ãŸã„\n\nVite + React ã®å ´åˆï¼š\n- ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ï¼šReact Router ã‚’æ‰‹å‹•è¨­å®š\n- SSR/SSGï¼šãƒ—ãƒ©ã‚°ã‚¤ãƒ³æ¢ã—ï¼‹è¨­å®š\n- APIï¼šåˆ¥ã‚µãƒ¼ãƒãƒ¼æ§‹ç¯‰\n- ãƒ‡ãƒ—ãƒ­ã‚¤ï¼šãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ï¼‹ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰\n\nNext.js ã®å ´åˆï¼š\n- ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ï¼šãƒ•ã‚¡ã‚¤ãƒ«ãƒ™ãƒ¼ã‚¹ï¼ˆè‡ªå‹•ï¼‰\n- SSR/SSGï¼šæ¨™æº–æ­è¼‰\n- APIï¼šAPI Routesï¼ˆæ¨™æº–ï¼‰\n- ãƒ‡ãƒ—ãƒ­ã‚¤ï¼š1ã‚³ãƒãƒ³ãƒ‰ï¼ˆVercelï¼‰\n\nâ†’ **é–‹ç™ºé€Ÿåº¦ãŒ3-5å€é•ã†**\n\n---\n\n### å€™è£œ2ï¼šAstro\n\n**æ¤œè¨å†…å®¹**ï¼š\n- è¶…é«˜é€Ÿï¼ˆã‚¼ãƒ­ JavaScriptï¼‰\n- ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚µã‚¤ãƒˆã«æœ€é©\n- è¤‡æ•°ã®ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯çµ±åˆå¯èƒ½\n- å„ªã‚ŒãŸ SSG ã‚µãƒãƒ¼ãƒˆ\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**ï¼š\n\n#### ç†ç”±1ï¼šå‹•çš„ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”ŸæˆãŒå¿…è¦\n\nAstro ã®å¼·ã¿ï¼š\n- é™çš„ã‚µã‚¤ãƒˆã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ãƒ¼\n- ãƒ“ãƒ«ãƒ‰æ™‚ã«å…¨ãƒšãƒ¼ã‚¸ã‚’ç”Ÿæˆ\n\nã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®è¦ä»¶ï¼š\n- **è¨˜äº‹ã‚’å‹•çš„ã«ç”Ÿæˆ**ï¼ˆç®¡ç†ç”»é¢ã‹ã‚‰ç”Ÿæˆãƒœã‚¿ãƒ³ï¼‰\n- **API ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆãŒå¿…è¦**ï¼ˆ`/api/generate`ï¼‰\n- ãƒ“ãƒ«ãƒ‰æ™‚ã§ã¯ãªãã€**å®Ÿè¡Œæ™‚ã«è¨˜äº‹ã‚’ç”Ÿæˆ**\n\nAstro ã®å ´åˆï¼š\n- API Routes ã¯ã‚ã‚‹ãŒã€ä¸»ç”¨é€”ã§ã¯ãªã„\n- SSR ãƒ¢ãƒ¼ãƒ‰ã‚‚ã‚ã‚‹ãŒã€Next.js ã»ã©æˆç†Ÿã—ã¦ã„ãªã„\n- å‹•çš„ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”Ÿæˆã«ã¯å‘ã„ã¦ã„ãªã„\n\n#### ç†ç”±2ï¼šå­¦ç¿’ã‚³ã‚¹ãƒˆ\n\nAstroï¼š\n- ç‹¬è‡ªã® `.astro` ãƒ•ã‚¡ã‚¤ãƒ«å½¢å¼\n- æ–°ã—ã„ãƒ‘ãƒ©ãƒ€ã‚¤ãƒ ï¼ˆIslands Architectureï¼‰\n- ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯å……å®Ÿã—ã¦ã„ã‚‹ãŒã€å­¦ç¿’æ™‚é–“ãŒå¿…è¦\n\nNext.jsï¼š\n- **æ—¢ã«5ã¤ä»¥ä¸Šã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ä½¿ç”¨çµŒé¨“ã‚ã‚Š**\n- React ã®çŸ¥è­˜ã‚’ãã®ã¾ã¾æ´»ç”¨ã§ãã‚‹\n- å­¦ç¿’ã‚³ã‚¹ãƒˆã‚¼ãƒ­\n\nâ†’ **çµŒé¨“ã®ã‚ã‚‹æŠ€è¡“ã‚’é¸ã¶ã¹ã**ï¼ˆå°è¦æ¨¡ãƒ»å€‹äººé–‹ç™ºï¼‰\n\n---\n\n### å€™è£œ3ï¼šRemix\n\n**æ¤œè¨å†…å®¹**ï¼š\n- Next.js ã®ç«¶åˆ\n- Web æ¨™æº–ã«å¿ å®Ÿï¼ˆWeb Fetch APIã€Web Forms ç­‰ï¼‰\n- ãƒã‚¹ãƒˆã—ãŸãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°\n- å„ªã‚ŒãŸãƒ‡ãƒ¼ã‚¿ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**ï¼š\n\n#### ç†ç”±1ï¼šçµŒé¨“ä¸è¶³\n\nRemixï¼š\n- ä½¿ç”¨çµŒé¨“ãªã—\n- æ–°ã—ã„ã‚³ãƒ³ã‚»ãƒ—ãƒˆï¼ˆLoaderã€Actionï¼‰ã‚’å­¦ã¶å¿…è¦\n- ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ãŒ Next.js ã‚ˆã‚Šå°ã•ã„\n\nNext.jsï¼š\n- **çµŒé¨“è±Šå¯Œ**\n- ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ãŒå¤§ãã„ï¼ˆãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã€ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã€Q&Aï¼‰\n\n#### ç†ç”±2ï¼šãƒ‡ãƒ—ãƒ­ã‚¤ã®å®¹æ˜“ã•\n\nRemixï¼š\n- Vercel ã«ãƒ‡ãƒ—ãƒ­ã‚¤å¯èƒ½ã ãŒã€è¨­å®šãŒå¿…è¦\n- Remix å…¬å¼ã¯ Fly.io æ¨å¥¨\n\nNext.jsï¼š\n- **Vercel ãŒé–‹ç™ºå…ƒ**\n- ãƒ¯ãƒ³ã‚³ãƒãƒ³ãƒ‰ãƒ‡ãƒ—ãƒ­ã‚¤ï¼ˆ`vercel deploy`ï¼‰\n- è¨­å®šä¸è¦ã€æœ€é©åŒ–è‡ªå‹•\n\n---\n\n## åˆ¤æ–­ç†ç”±ï¼ˆã¾ã¨ã‚ï¼‰\n\n### ç†ç”±1ï¼šSSR/SSG ãŒæ¨™æº–æ­è¼‰\n\nãƒ–ãƒ­ã‚°ã¯ SEO ãŒæœ€é‡è¦ï¼š\n- æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³ã‹ã‚‰ã®æµå…¥ãŒä¸»è¦ãªé›†å®¢çµŒè·¯\n- SSR/SSG ãŒå¿…é ˆ\n- Next.js ãªã‚‰è¨­å®šä¸è¦\n\n### ç†ç”±2ï¼šAPI Routes ã§ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰çµ±åˆ\n\nè¨˜äº‹ç”Ÿæˆ API ãŒå¿…è¦ï¼š\n- åˆ¥ã‚µãƒ¼ãƒãƒ¼ä¸è¦\n- ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã¨ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚’1ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ç®¡ç†\n- ãƒ‡ãƒ—ãƒ­ã‚¤ãŒç°¡å˜\n\n### ç†ç”±3ï¼šé–‹ç™ºé€Ÿåº¦\n\nå€‹äººé–‹ç™ºã§ã¯é€Ÿåº¦ãŒé‡è¦ï¼š\n- ãƒ•ã‚¡ã‚¤ãƒ«ãƒ™ãƒ¼ã‚¹ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ï¼ˆè¨­å®šä¸è¦ï¼‰\n- API Routesï¼ˆåˆ¥ã‚µãƒ¼ãƒãƒ¼ä¸è¦ï¼‰\n- Vercel ãƒ‡ãƒ—ãƒ­ã‚¤ï¼ˆãƒ¯ãƒ³ã‚³ãƒãƒ³ãƒ‰ï¼‰\n\n### ç†ç”±4ï¼šæ—¢å­˜ã®çµŒé¨“\n\n**æœ€ã‚‚é‡è¦ãªç†ç”±**ï¼š\n- Next.js ã§5ã¤ä»¥ä¸Šã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆçµŒé¨“\n- å­¦ç¿’ã‚³ã‚¹ãƒˆã‚¼ãƒ­\n- ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã®ãƒã‚¦ãƒã‚¦ã‚ã‚Š\n\n---\n\n## ã“ã®åˆ¤æ–­ã‹ã‚‰å­¦ã¹ã‚‹ã“ã¨\n\n### å­¦ã³1ï¼šå°è¦æ¨¡ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯ã€ŒçµŒé¨“ã®ã‚ã‚‹æŠ€è¡“ã€ã‚’é¸ã¶\n\næ–°ã—ã„æŠ€è¡“ï¼ˆAstroã€Remixï¼‰ã¯é­…åŠ›çš„ã ãŒï¼š\n- å­¦ç¿’ã‚³ã‚¹ãƒˆãŒé«˜ã„\n- ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã«æ™‚é–“ãŒã‹ã‹ã‚‹\n- å€‹äººé–‹ç™ºã§ã¯æ™‚é–“ãŒæœ€é‡è¦\n\nâ†’ **çµŒé¨“ã®ã‚ã‚‹æŠ€è¡“ã‚’é¸ã¶ã¹ã**\n\n### å­¦ã³2ï¼šãƒ•ãƒ«ã‚¹ã‚¿ãƒƒã‚¯ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã¯å°è¦æ¨¡ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«æœ‰åˆ©\n\nãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ï¼‹ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚’åˆ¥ã€…ã«ç®¡ç†ï¼š\n- é–‹ç™ºãŒè¤‡é›‘\n- ãƒ‡ãƒ—ãƒ­ã‚¤ãŒè¤‡é›‘\n- ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ãŒå¤§å¤‰\n\nãƒ•ãƒ«ã‚¹ã‚¿ãƒƒã‚¯ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ï¼ˆNext.jsï¼‰ï¼š\n- 1ã¤ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§å®Œçµ\n- ãƒ‡ãƒ—ãƒ­ã‚¤ãŒç°¡å˜\n- ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ãŒæ¥½\n\n### å­¦ã³3ï¼šSSR/SSG ã®å¿…è¦æ€§ã‚’æœ€åˆã«åˆ¤æ–­ã™ã‚‹\n\nãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ç¨®é¡ï¼š\n- **ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚µã‚¤ãƒˆï¼ˆãƒ–ãƒ­ã‚°ç­‰ï¼‰**ï¼šSSR/SSG å¿…é ˆ â†’ Next.jsã€Astro\n- **ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ç­‰ï¼‰**ï¼šCSR ã§ã‚‚å¯ â†’ Vite + React ã§ã‚‚å¯\n- **ç®¡ç†ç”»é¢ï¼ˆå†…éƒ¨ãƒ„ãƒ¼ãƒ«ï¼‰**ï¼šCSR ã§ã‚‚å¯ â†’ Vite + React ã§ã‚‚å¯\n\n---\n\n## ã„ã¤ã“ã®åˆ¤æ–­åŸºæº–ã‚’é©ç”¨ã™ã‚‹ã‹\n\n### Next.js ã‚’é¸ã¶ã¹ãå ´åˆ\n\n- [ ] SEO ãŒé‡è¦ï¼ˆãƒ–ãƒ­ã‚°ã€ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°ã‚µã‚¤ãƒˆã€EC ã‚µã‚¤ãƒˆï¼‰\n- [ ] API ãŒå¿…è¦ï¼ˆç°¡å˜ãªãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å‡¦ç†ï¼‰\n- [ ] è¿…é€Ÿãªé–‹ç™ºãŒå¿…è¦ï¼ˆå€‹äººé–‹ç™ºã€ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—ï¼‰\n- [ ] Next.js ã®çµŒé¨“ãŒã‚ã‚‹\n\n### Vite + React ã‚’é¸ã¶ã¹ãå ´åˆ\n\n- [ ] CSR ã§ååˆ†ï¼ˆç®¡ç†ç”»é¢ã€å†…éƒ¨ãƒ„ãƒ¼ãƒ«ï¼‰\n- [ ] ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãŒæ—¢ã«ã‚ã‚‹ï¼ˆAPI ã‚µãƒ¼ãƒãƒ¼ãŒåˆ¥é€”å­˜åœ¨ï¼‰\n- [ ] è¶…é«˜é€Ÿãªãƒ“ãƒ«ãƒ‰ãŒå¿…è¦\n- [ ] ãƒãƒ³ãƒ‰ãƒ«ã‚µã‚¤ã‚ºã‚’æœ€å°åŒ–ã—ãŸã„\n\n### Astro ã‚’é¸ã¶ã¹ãå ´åˆ\n\n- [ ] å®Œå…¨ãªé™çš„ã‚µã‚¤ãƒˆï¼ˆãƒ“ãƒ«ãƒ‰æ™‚ã«å…¨ç”Ÿæˆï¼‰\n- [ ] è¶…é«˜é€Ÿãªã‚µã‚¤ãƒˆãŒå¿…è¦ï¼ˆã‚¼ãƒ­ JavaScriptï¼‰\n- [ ] ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãŒé »ç¹ã«å¤‰ã‚ã‚‰ãªã„\n\n### Remix ã‚’é¸ã¶ã¹ãå ´åˆ\n\n- [ ] Web æ¨™æº–ã«å¿ å®Ÿãªã‚³ãƒ¼ãƒ‰ã‚’æ›¸ããŸã„\n- [ ] ãƒã‚¹ãƒˆã—ãŸãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãŒå¿…è¦\n- [ ] Next.js ã‚’å­¦ã¶å‰ã« Remix ã‚’å­¦ã³ãŸã„\n\n---\n\n## å®Ÿè£…ã®è©³ç´°\n\n### ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ\n\n```\nai-blog-generator/\nâ”œâ”€â”€ src/\nâ”‚   â”œâ”€â”€ app/              # Next.js App Router\nâ”‚   â”‚   â”œâ”€â”€ page.tsx      # ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ï¼ˆSSGï¼‰\nâ”‚   â”‚   â”œâ”€â”€ blog/\nâ”‚   â”‚   â”‚   â””â”€â”€ [slug]/\nâ”‚   â”‚   â”‚       â””â”€â”€ page.tsx  # è¨˜äº‹è©³ç´°ï¼ˆSSGï¼‰\nâ”‚   â”‚   â””â”€â”€ api/          # API Routes\nâ”‚   â”‚       â””â”€â”€ generate/\nâ”‚   â”‚           â””â”€â”€ route.ts\nâ”‚   â””â”€â”€ lib/              # ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯\nâ””â”€â”€ content/blog/         # ç”Ÿæˆã•ã‚ŒãŸè¨˜äº‹ï¼ˆMarkdownï¼‰\n```\n\n### SSG ã®å®Ÿè£…\n\n```typescript\n// src/app/blog/[slug]/page.tsx\nexport async function generateStaticParams() {\n  const posts = await getAllPosts();\n  return posts.map((post) => ({\n    slug: post.slug,\n  }));\n}\n\nexport default async function BlogPost({ params }: { params: { slug: string } }) {\n  const post = await getPostBySlug(params.slug);\n  return <article>{post.content}</article>;\n}\n```\n\n### API Routes ã®å®Ÿè£…\n\n```typescript\n// src/app/api/generate/route.ts\nimport { NextRequest, NextResponse } from 'next/server';\n\nexport async function POST(request: NextRequest) {\n  const { prompt } = await request.json();\n  const content = await generateWithGemini(prompt);\n  return NextResponse.json({ content });\n}\n```\n\n---\n\n## ã“ã®åˆ¤æ–­ã¯ä»Šã‚‚æœ‰åŠ¹ã‹ï¼Ÿ\n\n**2025-11-24 æ™‚ç‚¹ï¼šæœ‰åŠ¹**\n\n- Next.js 15 ã¯å®‰å®šã—ã¦ã„ã‚‹\n- App Router ã¯æˆç†Ÿã—ãŸ\n- RSCï¼ˆReact Server Componentsï¼‰ã§æ›´ã«é«˜é€ŸåŒ–\n\n**å†æ¤œè¨ã™ã¹ãçŠ¶æ³**ï¼š\n- [ ] Next.js ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãŒæ‚ªåŒ–ã—ãŸ\n- [ ] Vite ãŒ SSR/SSG ã‚’ãƒã‚¤ãƒ†ã‚£ãƒ–ã‚µãƒãƒ¼ãƒˆã—ãŸ\n- [ ] ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®è¦ä»¶ãŒå¤‰ã‚ã£ãŸï¼ˆCSR ã§ååˆ†ã«ãªã£ãŸï¼‰\n\n---\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `skill_mdx_rendering_nextjs_2025_04_22.md` - Next.js ã§ã® MDX ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°æ‰‹æ³•\n- `workflow_blog_auto_generation_flow_2025_04_22.md` - Next.js ã‚’ä½¿ã£ãŸãƒ–ãƒ­ã‚°ç”Ÿæˆãƒ•ãƒ­ãƒ¼\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€ŒNext.js vs Vite ã®æŠ€è¡“é¸å®šã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "skill-mdx-rendering-nextjs"
    ]
  },
  {
    "slug": "tech-pdf-generation-approach",
    "title": "PDFç”Ÿæˆã‚¢ãƒ—ãƒ­ãƒ¼ãƒã®é¸æŠ",
    "category": "Decisionsï¼ˆæŠ€è¡“é¸å®šãƒ»åˆ¤æ–­ï¼‰",
    "description": "PDFç”Ÿæˆã‚¢ãƒ—ãƒ­ãƒ¼ãƒã®é¸æŠ",
    "project": "ai-document-generator",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"decision_tech_pdf_generation_approach_2025_04_11\",\n  \"type\": \"decision\",\n  \"name\": \"PDFç”Ÿæˆã‚¢ãƒ—ãƒ­ãƒ¼ãƒã®é¸æŠ\",\n  \"decision_type\": \"tech_selection\",\n  \"tags\": [\"PDFç”Ÿæˆ\", \"jsPDF\", \"html2canvas\", \"Puppeteer\", \"ãƒˆãƒªãƒ—ãƒ«ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ\"],\n  \"source_project\": \"ai-document-generator\",\n  \"chosen\": \"jsPDF + html2canvas + Puppeteer ã®ãƒˆãƒªãƒ—ãƒ«ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ\",\n  \"alternatives\": [\"React-PDF\", \"PDFMake\", \"Puppeteerå˜ç‹¬\", \"jsPDFå˜ç‹¬\"],\n  \"related_knowledge\": [\"skill_pdf_generation_triple_approach_2025_04_11\", \"workflow_pdf_export_flow_2025_04_11\"],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-04-11\",\n  \"updated\": \"2025-04-11\"\n}\n```\n\n# PDFç”Ÿæˆã‚¢ãƒ—ãƒ­ãƒ¼ãƒã®é¸æŠ\n\n## ä½•ã‚’åˆ¤æ–­ã—ãŸã‹\n\nãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚¨ãƒ‡ã‚£ã‚¿ã§ä½œæˆã—ãŸã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’PDFå½¢å¼ã§ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã™ã‚‹éš›ã«ã€jsPDF + html2canvas + Puppeteer ã®ãƒˆãƒªãƒ—ãƒ«ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã‚’æ¡ç”¨ã™ã‚‹ã‹ã€ä»–ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªï¼ˆReact-PDFã€PDFMakeãªã©ï¼‰ã‚’ä½¿ç”¨ã™ã‚‹ã‹ã‚’åˆ¤æ–­ã—ãŸã€‚\n\n## é¸ã‚“ã ã‚‚ã®\n\n**jsPDF + html2canvas + Puppeteer ã®ãƒˆãƒªãƒ—ãƒ«ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ**\n\npackage.jsonã§ã®ä¾å­˜é–¢ä¿‚ï¼š\n```json\n{\n  \"dependencies\": {\n    \"jspdf\": \"^3.0.1\",\n    \"html2canvas\": \"^1.4.1\",\n    \"puppeteer\": \"^24.6.1\",\n    \"puppeteer-core\": \"^24.6.1\"\n  }\n}\n```\n\n**3ã¤ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®å½¹å‰²åˆ†æ‹…**:\n1. **jsPDF**: PDFãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ç”Ÿæˆã€ãƒ†ã‚­ã‚¹ãƒˆã‚„ç”»åƒã®é…ç½®\n2. **html2canvas**: HTMLè¦ç´ ã‚’Canvasç”»åƒã«å¤‰æ›ï¼ˆè¤‡é›‘ãªãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã«å¯¾å¿œï¼‰\n3. **Puppeteer**: ãƒ–ãƒ©ã‚¦ã‚¶ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã«ã‚ˆã‚‹é«˜å“è³ªPDFç”Ÿæˆï¼ˆChrome DevTools Protocolä½¿ç”¨ï¼‰\n\n## ä»–ã®å€™è£œ\n\n### å€™è£œ1ï¼šReact-PDF\n\n```bash\nnpm install @react-pdf/renderer\n```\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n\n**ç†ç”±1ï¼šå­¦ç¿’ã‚³ã‚¹ãƒˆãŒé«˜ã„**\n- React-PDFã¯ã€ç‹¬è‡ªã®JSXæ§‹æ–‡ï¼ˆ`<Document>`, `<Page>`, `<View>`ãªã©ï¼‰ã‚’ä½¿ç”¨\n- æ—¢å­˜ã®HTMLã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’å†å®Ÿè£…ã™ã‚‹å¿…è¦ãŒã‚ã‚‹\n- ä¾‹ï¼š\n  ```tsx\n  // æ—¢å­˜ã®Reactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ\n  <div className=\"header\">\n    <h1>ã‚¿ã‚¤ãƒˆãƒ«</h1>\n  </div>\n\n  // React-PDFã§å†å®Ÿè£…ãŒå¿…è¦\n  <Document>\n    <Page>\n      <View style={styles.header}>\n        <Text style={styles.title}>ã‚¿ã‚¤ãƒˆãƒ«</Text>\n      </View>\n    </Page>\n  </Document>\n  ```\n\n**ç†ç”±2ï¼šã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°ã®åˆ¶ç´„**\n- CSSã®ä¸€éƒ¨æ©Ÿèƒ½ã—ã‹ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ãªã„ï¼ˆFlexboxã¯å¯ã€Gridã¯ä¸å¯ï¼‰\n- Tailwind CSSã‚’ãã®ã¾ã¾ä½¿ç”¨ã§ããªã„\n- ã‚«ã‚¹ã‚¿ãƒ ãƒ•ã‚©ãƒ³ãƒˆã®è¨­å®šãŒç…©é›‘\n\n**ç†ç”±3ï¼šè¤‡é›‘ãªãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã¸ã®å¯¾å¿œãŒå›°é›£**\n- ã‚°ãƒªãƒƒãƒ‰ãƒ™ãƒ¼ã‚¹ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚„ãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—ã§é…ç½®ã•ã‚ŒãŸã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’å†ç¾ã™ã‚‹ã®ãŒå›°é›£\n- React Grid Layoutã§ä½œæˆã—ãŸãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’ã€React-PDFã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚·ã‚¹ãƒ†ãƒ ã«å¤‰æ›ã™ã‚‹å¿…è¦ãŒã‚ã‚‹\n\n**ãƒ¡ãƒªãƒƒãƒˆï¼ˆé¸ã°ãªã‹ã£ãŸãŒã€èªã‚ã‚‹ã¹ãç‚¹ï¼‰**:\n- ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰ã§å®Œçµï¼ˆã‚µãƒ¼ãƒãƒ¼ä¸è¦ï¼‰\n- PDFã®æ§‹é€ ãŒæ˜ç¢ºï¼ˆãƒ—ãƒ­ã‚°ãƒ©ãƒ çš„ã«ç”Ÿæˆï¼‰\n- ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºãŒå°ã•ã„\n\n### å€™è£œ2ï¼šPDFMake\n\n```bash\nnpm install pdfmake\n```\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n\n**ç†ç”±1ï¼šå®£è¨€çš„ãªå®šç¾©ãŒå¿…è¦**\n- PDFMakeã¯ã€JSONã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã§PDFã®æ§‹é€ ã‚’å®šç¾©\n- Reactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’PDFMakeå½¢å¼ã«å¤‰æ›ã™ã‚‹å¿…è¦ãŒã‚ã‚‹\n- ä¾‹ï¼š\n  ```javascript\n  const docDefinition = {\n    content: [\n      { text: 'ã‚¿ã‚¤ãƒˆãƒ«', style: 'header' },\n      { text: 'æœ¬æ–‡...', style: 'body' }\n    ],\n    styles: {\n      header: { fontSize: 22, bold: true },\n      body: { fontSize: 12 }\n    }\n  };\n  ```\n\n**ç†ç”±2ï¼šè¤‡é›‘ãªãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã®å®Ÿè£…ãŒå›°é›£**\n- PDFMakeã¯ã€è¡¨ã‚„ãƒªã‚¹ãƒˆã¯å¾—æ„ã ãŒã€è‡ªç”±é…ç½®ã¯è‹¦æ‰‹\n- ã‚°ãƒªãƒƒãƒ‰ãƒ™ãƒ¼ã‚¹ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’å†ç¾ã™ã‚‹ã®ãŒå›°é›£\n\n**ç†ç”±3ï¼šReactçµ±åˆãŒä¸ä¾¿**\n- Reactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ â†’ PDFMakeå½¢å¼ã¸ã®å¤‰æ›ãƒ­ã‚¸ãƒƒã‚¯ã‚’æ›¸ãå¿…è¦ãŒã‚ã‚‹\n- ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã‚³ã‚¹ãƒˆãŒé«˜ã„\n\n**ãƒ¡ãƒªãƒƒãƒˆï¼ˆé¸ã°ãªã‹ã£ãŸãŒã€èªã‚ã‚‹ã¹ãç‚¹ï¼‰**:\n- ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰ã§å®Œçµ\n- æ—¥æœ¬èªãƒ•ã‚©ãƒ³ãƒˆå¯¾å¿œ\n- ãƒ†ãƒ¼ãƒ–ãƒ«ç”ŸæˆãŒç°¡å˜\n\n### å€™è£œ3ï¼šPuppeteerå˜ç‹¬\n\n```bash\nnpm install puppeteer\n```\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n\n**ç†ç”±1ï¼šã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ãŒå¿…è¦**\n- Puppeteerã¯ã€ãƒ–ãƒ©ã‚¦ã‚¶ï¼ˆChromiumï¼‰ã‚’èµ·å‹•ã—ã¦PDFã‚’ç”Ÿæˆ\n- ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰ã§ã¯å‹•ä½œã—ãªã„\n- Next.js APIãƒ«ãƒ¼ãƒˆã‚„Lambdaãªã©ã®ã‚µãƒ¼ãƒãƒ¼ç’°å¢ƒãŒå¿…è¦\n\n**ç†ç”±2ï¼šãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã¨ã‚³ã‚¹ãƒˆ**\n- ãƒ–ãƒ©ã‚¦ã‚¶ã‚’èµ·å‹•ã™ã‚‹ãŸã‚ã€ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡ãŒå¤šã„ï¼ˆ300MBä»¥ä¸Šï¼‰\n- Lambdaé–¢æ•°ã§ã®ã‚³ãƒ¼ãƒ«ãƒ‰ã‚¹ã‚¿ãƒ¼ãƒˆãŒé…ã„ï¼ˆ5ç§’ä»¥ä¸Šï¼‰\n- åŒæ™‚ãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒå¤šã„ã¨ã€ã‚µãƒ¼ãƒãƒ¼ã‚³ã‚¹ãƒˆãŒå¢—åŠ \n\n**ç†ç”±3ï¼šã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰ã§ã®å³æ™‚ç”ŸæˆãŒã§ããªã„**\n- ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒPDFã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã™ã‚‹éš›ã«ã€ã‚µãƒ¼ãƒãƒ¼ã¸ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒå¿…è¦\n- ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯é…å»¶ãŒç™ºç”Ÿ\n\n**ãƒ¡ãƒªãƒƒãƒˆï¼ˆé¸ã°ãªã‹ã£ãŸãŒã€èªã‚ã‚‹ã¹ãç‚¹ï¼‰**:\n- æœ€é«˜å“è³ªã®PDFç”Ÿæˆï¼ˆChromeã®ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã‚¨ãƒ³ã‚¸ãƒ³ä½¿ç”¨ï¼‰\n- HTML/CSSã‚’ãã®ã¾ã¾ä½¿ç”¨ã§ãã‚‹\n- ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆã¨ã—ã¦ã®PDFç”ŸæˆãŒå¯èƒ½\n\n### å€™è£œ4ï¼šjsPDFå˜ç‹¬\n\n```bash\nnpm install jspdf\n```\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n\n**ç†ç”±1ï¼šä½ãƒ¬ãƒ™ãƒ«API**\n- jsPDFå˜ç‹¬ã§ã¯ã€ãƒ†ã‚­ã‚¹ãƒˆã‚„å›³å½¢ã‚’åº§æ¨™ã§é…ç½®ã™ã‚‹å¿…è¦ãŒã‚ã‚‹\n- è¤‡é›‘ãªãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã®å®Ÿè£…ãŒå›°é›£\n- ä¾‹ï¼š\n  ```javascript\n  doc.text('ã‚¿ã‚¤ãƒˆãƒ«', 10, 10);\n  doc.text('æœ¬æ–‡', 10, 20);\n  // ã™ã¹ã¦ã®è¦ç´ ã‚’æ‰‹å‹•ã§é…ç½®\n  ```\n\n**ç†ç”±2ï¼šHTMLè¦ç´ ã®å¤‰æ›ãŒå›°é›£**\n- Reactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’jsPDFã®APIã«å¤‰æ›ã™ã‚‹ãƒ­ã‚¸ãƒƒã‚¯ã‚’æ›¸ãå¿…è¦ãŒã‚ã‚‹\n- ã‚¹ã‚¿ã‚¤ãƒ«ï¼ˆCSSï¼‰ã‚’æ‰‹å‹•ã§é©ç”¨\n\n**ç†ç”±3ï¼šä¿å®ˆæ€§ãŒä½ã„**\n- ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’å¤‰æ›´ã™ã‚‹ãŸã³ã«ã€åº§æ¨™ã‚’å†è¨ˆç®—\n- ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã‚³ã‚¹ãƒˆãŒé«˜ã„\n\n**ãƒ¡ãƒªãƒƒãƒˆï¼ˆé¸ã°ãªã‹ã£ãŸãŒã€èªã‚ã‚‹ã¹ãç‚¹ï¼‰**:\n- è»½é‡ï¼ˆãƒãƒ³ãƒ‰ãƒ«ã‚µã‚¤ã‚ºãŒå°ã•ã„ï¼‰\n- ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰ã§å®Œçµ\n- ã‚·ãƒ³ãƒ—ãƒ«ãªPDFç”Ÿæˆã«ã¯é©ã—ã¦ã„ã‚‹\n\n## åˆ¤æ–­ç†ç”±\n\n### ç†ç”±1ï¼šæŸ”è»Ÿæ€§ï¼ˆãƒˆãƒªãƒ—ãƒ«ã‚¢ãƒ—ãƒ­ãƒ¼ãƒï¼‰\n\n**3ã¤ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’çµ„ã¿åˆã‚ã›ã‚‹ã“ã¨ã§ã€ã‚·ãƒãƒ¥ã‚¨ãƒ¼ã‚·ãƒ§ãƒ³ã«å¿œã˜ã¦æœ€é©ãªæ–¹æ³•ã‚’é¸æŠ**:\n\n1. **jsPDF**: ã‚·ãƒ³ãƒ—ãƒ«ãªãƒ†ã‚­ã‚¹ãƒˆã¨ç”»åƒã®é…ç½®ã«ä½¿ç”¨\n   - ãƒ¡ãƒªãƒƒãƒˆï¼šè»½é‡ã€é«˜é€Ÿã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰ã§å®Œçµ\n   - ä½¿ç”¨å ´é¢ï¼šç°¡æ˜“çš„ãªPDFç”Ÿæˆã€ãƒ†ã‚­ã‚¹ãƒˆä¸­å¿ƒã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ\n\n2. **html2canvas**: è¤‡é›‘ãªHTMLè¦ç´ ã‚’ç”»åƒã«å¤‰æ›ã—ã¦PDFã«åŸ‹ã‚è¾¼ã¿\n   - ãƒ¡ãƒªãƒƒãƒˆï¼šæ—¢å­˜ã®Reactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ãã®ã¾ã¾ä½¿ç”¨ã§ãã‚‹\n   - ä½¿ç”¨å ´é¢ï¼šã‚°ãƒªãƒƒãƒ‰ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã€ã‚«ã‚¹ã‚¿ãƒ ã‚¹ã‚¿ã‚¤ãƒ«ã€è¤‡é›‘ãªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ\n\n3. **Puppeteer**: æœ€é«˜å“è³ªã®PDFç”Ÿæˆï¼ˆã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ï¼‰\n   - ãƒ¡ãƒªãƒƒãƒˆï¼šChromeåŒç­‰ã®å“è³ªã€HTML/CSSã‚’ãã®ã¾ã¾ä½¿ç”¨\n   - ä½¿ç”¨å ´é¢ï¼šé«˜å“è³ªãŒæ±‚ã‚ã‚‰ã‚Œã‚‹å ´åˆã€å°åˆ·ç”¨PDF\n\n### ç†ç”±2ï¼šæ—¢å­˜ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å†åˆ©ç”¨\n\n**React-PDFã‚„PDFMakeã®ã‚ˆã†ã«ã€PDFå°‚ç”¨ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½œæˆã™ã‚‹å¿…è¦ãŒãªã„**:\n- æ—¢å­˜ã®Reactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’html2canvasã§ç”»åƒåŒ–ã—ã¦PDFã«åŸ‹ã‚è¾¼ã‚€\n- ã‚¹ã‚¿ã‚¤ãƒ«ï¼ˆTailwind CSSï¼‰ã‚‚ãã®ã¾ã¾é©ç”¨ã•ã‚Œã‚‹\n- é–‹ç™ºåŠ¹ç‡ãŒé«˜ã„\n\n### ç†ç”±3ï¼šæ®µéšçš„ãªå“è³ªå‘ä¸Š\n\n**ãƒˆãƒªãƒ—ãƒ«ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã«ã‚ˆã‚Šã€æ®µéšçš„ã«å“è³ªã‚’å‘ä¸Šã§ãã‚‹**:\n- **Phase 1**: jsPDFã§ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—ã‚’ä½œæˆï¼ˆæ•°æ™‚é–“ï¼‰\n- **Phase 2**: html2canvasã‚’è¿½åŠ ã—ã¦è¤‡é›‘ãªãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã«å¯¾å¿œï¼ˆæ•°æ—¥ï¼‰\n- **Phase 3**: Puppeteerã‚’è¿½åŠ ã—ã¦æœ€é«˜å“è³ªã‚’å®Ÿç¾ï¼ˆæ•°é€±é–“ï¼‰\n\n**ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãƒ‹ãƒ¼ã‚ºã«å¿œã˜ã¦é¸æŠå¯èƒ½**:\n- ã€Œã™ãã«ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ãŸã„ã€â†’ jsPDFï¼ˆã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰ã€ä½å“è³ªï¼‰\n- ã€Œè¦‹ãŸç›®ãŒé‡è¦ã€â†’ html2canvasï¼ˆã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰ã€ä¸­å“è³ªï¼‰\n- ã€Œå°åˆ·ç”¨ã®é«˜å“è³ªPDFã€â†’ Puppeteerï¼ˆã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ã€é«˜å“è³ªï¼‰\n\n### ç†ç”±4ï¼šã‚³ã‚¹ãƒˆåŠ¹ç‡\n\n**ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰ç”Ÿæˆï¼ˆjsPDF + html2canvasï¼‰ã§ã‚µãƒ¼ãƒãƒ¼ã‚³ã‚¹ãƒˆã‚’å‰Šæ¸›**:\n- Puppeteerã¯ã€å¿…è¦ãªå ´åˆã®ã¿ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ã§å®Ÿè¡Œ\n- å¤§éƒ¨åˆ†ã®PDFç”Ÿæˆã¯ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰ã§å‡¦ç†\n- ã‚µãƒ¼ãƒãƒ¼ã‚³ã‚¹ãƒˆã‚’æœ€å°åŒ–\n\n### ç†ç”±5ï¼šå®Ÿè£…ã®ç¾å®Ÿæ€§\n\n**React-PDFã‚„PDFMakeã¯ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®è¦æ¨¡ãŒå¤§ãã„ãŸã‚ã€å®Ÿè£…ã‚³ã‚¹ãƒˆãŒé«˜ã„**:\n- ã™ã¹ã¦ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’PDFç”¨ã«å†å®Ÿè£…ã™ã‚‹å¿…è¦ãŒã‚ã‚‹\n- æ™‚é–“çš„åˆ¶ç´„ã‚’è€ƒæ…®ã™ã‚‹ã¨ã€ãƒˆãƒªãƒ—ãƒ«ã‚¢ãƒ—ãƒ­ãƒ¼ãƒãŒç¾å®Ÿçš„\n\n## ã“ã®åˆ¤æ–­ã‹ã‚‰å­¦ã¹ã‚‹ã“ã¨\n\n**å­¦ã³1ï¼šãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã®æœ‰åŠ¹æ€§**\n- 1ã¤ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã«å›ºåŸ·ã™ã‚‹ã®ã§ã¯ãªãã€è¤‡æ•°ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’çµ„ã¿åˆã‚ã›ã‚‹ã“ã¨ã§ã€æŸ”è»Ÿæ€§ãŒå‘ä¸Šã™ã‚‹\n- ã€Œæœ€é«˜ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã€ã¯å­˜åœ¨ã—ãªã„ã€‚ã‚·ãƒãƒ¥ã‚¨ãƒ¼ã‚·ãƒ§ãƒ³ã«å¿œã˜ã¦é¸æŠã™ã‚‹\n\n**å­¦ã³2ï¼šæ®µéšçš„ãªå®Ÿè£…**\n- å®Œç’§ã‚’æ±‚ã‚ã‚‹ã®ã§ã¯ãªãã€ã¾ãšã¯æœ€å°é™ã®æ©Ÿèƒ½ã‚’å®Ÿè£…ï¼ˆjsPDFï¼‰\n- ãã®å¾Œã€å¿…è¦ã«å¿œã˜ã¦æ‹¡å¼µï¼ˆhtml2canvasã€Puppeteerï¼‰\n\n**å­¦ã³3ï¼šé–‹ç™ºåŠ¹ç‡ vs å“è³ªã®ãƒˆãƒ¬ãƒ¼ãƒ‰ã‚ªãƒ•**\n- React-PDFã‚„PDFMakeã¯é«˜å“è³ªã ãŒã€å®Ÿè£…ã‚³ã‚¹ãƒˆãŒé«˜ã„\n- jsPDF + html2canvasã¯å“è³ªã¯ä¸­ç¨‹åº¦ã ãŒã€å®Ÿè£…ãŒç°¡å˜\n- ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®åˆ¶ç´„ï¼ˆæ™‚é–“ã€äºˆç®—ï¼‰ã‚’è€ƒæ…®ã—ã¦é¸æŠ\n\n**å­¦ã³4ï¼šã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ vs ã‚µãƒ¼ãƒãƒ¼ã®ãƒˆãƒ¬ãƒ¼ãƒ‰ã‚ªãƒ•**\n- ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰ç”Ÿæˆï¼šã‚µãƒ¼ãƒãƒ¼ã‚³ã‚¹ãƒˆå‰Šæ¸›ã€å³æ™‚ç”Ÿæˆ\n- ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ç”Ÿæˆï¼šé«˜å“è³ªã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£\n- ä¸¡æ–¹ã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹ã“ã¨ã§ã€æŸ”è»Ÿæ€§ã‚’ç¢ºä¿\n\n## é©ç”¨å ´é¢\n\n- **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚¨ãƒ‡ã‚£ã‚¿**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒä½œæˆã—ãŸã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’PDFã§ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ\n- **ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ**: è¤‡é›‘ãªãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã®ãƒ¬ãƒãƒ¼ãƒˆã‚’PDFåŒ–\n- **ãƒãƒ«ãƒãƒ‡ãƒã‚¤ã‚¹**: ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰ã§å³æ™‚ç”Ÿæˆ + ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ã§é«˜å“è³ªç”Ÿæˆ\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `skill_pdf_generation_triple_approach_2025_04_11.md`: PDFç”Ÿæˆãƒˆãƒªãƒ—ãƒ«ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã®è©³ç´°å®Ÿè£…\n- `workflow_pdf_export_flow_2025_04_11.md`: PDFã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆãƒ•ãƒ­ãƒ¼\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€ŒPDFç”Ÿæˆã‚¢ãƒ—ãƒ­ãƒ¼ãƒã®é¸æŠã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "skill-pdf-generation-triple-approach",
      "workflow-pdf-export-flow"
    ]
  },
  {
    "slug": "tech-prosemirror-vs-quill",
    "title": "ProseMirror vs Quill/TipTap ã®é¸æŠ",
    "category": "Decisionsï¼ˆæŠ€è¡“é¸å®šãƒ»åˆ¤æ–­ï¼‰",
    "description": "ProseMirror vs Quill/TipTap ã®é¸æŠ",
    "project": "ai-document-generator",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"decision_tech_prosemirror_vs_quill_2025_04_11\",\n  \"type\": \"decision\",\n  \"name\": \"ProseMirror vs Quill/TipTap ã®é¸æŠ\",\n  \"decision_type\": \"tech_selection\",\n  \"tags\": [\"ProseMirror\", \"Quill\", \"TipTap\", \"ãƒªãƒƒãƒãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒ‡ã‚£ã‚¿\", \"WYSIWYG\"],\n  \"source_project\": \"ai-document-generator\",\n  \"chosen\": \"ProseMirror\",\n  \"alternatives\": [\"Quill\", \"TipTap\", \"Draft.js\", \"Slate\"],\n  \"related_knowledge\": [\"skill_prosemirror_rich_text_editor_2025_04_11\", \"skill_component_dynamic_rendering_2025_04_11\"],\n  \"confidence\": \"æ¨æ¸¬\",\n  \"created\": \"2025-04-11\",\n  \"updated\": \"2025-04-11\"\n}\n```\n\n# ProseMirror vs Quill/TipTap ã®é¸æŠ\n\n## ä½•ã‚’åˆ¤æ–­ã—ãŸã‹\n\nãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚¨ãƒ‡ã‚£ã‚¿ã§ãƒªãƒƒãƒãƒ†ã‚­ã‚¹ãƒˆç·¨é›†æ©Ÿèƒ½ã‚’å®Ÿè£…ã™ã‚‹éš›ã«ã€ProseMirrorã‚’æ¡ç”¨ã™ã‚‹ã‹ã€ä»–ã®å€™è£œï¼ˆQuillã€TipTapã€Draft.jsã€Slateï¼‰ã‚’ä½¿ç”¨ã™ã‚‹ã‹ã‚’åˆ¤æ–­ã—ãŸã€‚\n\n**æ³¨æ„**: package.jsonï¼ˆè¡Œ40-46ï¼‰ã«ProseMirroré–¢é€£ã®ä¾å­˜é–¢ä¿‚ãŒå®šç¾©ã•ã‚Œã¦ã„ã‚‹ãŒã€å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«ã¯ç¢ºèªã§ãã¦ã„ãªã„ã€‚ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯ã€ä¾å­˜é–¢ä¿‚ã¨ä¸€èˆ¬çš„ãªæŠ€è¡“é¸æŠã®åˆ¤æ–­åŸºæº–ã‹ã‚‰æ¨æ¸¬ã—ã¦ä½œæˆã•ã‚Œã¦ã„ã‚‹ã€‚\n\n## é¸ã‚“ã ã‚‚ã®\n\n**ProseMirror**\n\npackage.jsonã§ã®ä¾å­˜é–¢ä¿‚ï¼š\n```json\n{\n  \"dependencies\": {\n    \"prosemirror-commands\": \"^1.7.0\",\n    \"prosemirror-model\": \"^1.25.0\",\n    \"prosemirror-schema-basic\": \"^1.2.4\",\n    \"prosemirror-schema-list\": \"^1.5.1\",\n    \"prosemirror-state\": \"^1.4.3\",\n    \"prosemirror-view\": \"^1.39.1\"\n  }\n}\n```\n\n**ProseMirrorã®ä¸»ãªç‰¹å¾´**:\n1. **æ§‹é€ åŒ–ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ãƒ„ãƒªãƒ¼æ§‹é€ ã¨ã—ã¦æ‰±ã†\n2. **ã‚«ã‚¹ã‚¿ãƒ ã‚¹ã‚­ãƒ¼ãƒ**: ç‹¬è‡ªã®ãƒãƒ¼ãƒ‰ãƒ»ãƒãƒ¼ã‚¯ã‚’å®šç¾©å¯èƒ½\n3. **ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ãƒ™ãƒ¼ã‚¹**: å¤‰æ›´å±¥æ­´ã‚’å®Œå…¨ã«ç®¡ç†\n4. **é«˜ã„ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹**: å¤§ããªãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã§ã‚‚é«˜é€Ÿ\n5. **ãƒ¢ã‚¸ãƒ¥ãƒ©ãƒ¼è¨­è¨ˆ**: å¿…è¦ãªæ©Ÿèƒ½ã ã‘ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\n\n## ä»–ã®å€™è£œ\n\n### å€™è£œ1ï¼šQuill\n\n```bash\nnpm install quill\n```\n\nQuillã¯ã€ä½¿ã„ã‚„ã™ã•ã‚’é‡è¦–ã—ãŸãƒªãƒƒãƒãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒ‡ã‚£ã‚¿ã€‚\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n\n**ç†ç”±1ï¼šã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã®åˆ¶ç´„**\n- Quillã¯ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ãƒ„ãƒ¼ãƒ«ãƒãƒ¼ã¨ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆãŒå›ºå®šçš„\n- ã‚«ã‚¹ã‚¿ãƒ ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã®è¿½åŠ ãŒé›£ã—ã„\n- ä¾‹ï¼šç‹¬è‡ªã®ãƒ–ãƒ­ãƒƒã‚¯è¦ç´ ï¼ˆãƒãƒ£ãƒ¼ãƒˆã€è¡¨ï¼‰ã‚’è¿½åŠ ã™ã‚‹ã«ã¯ã€Quillã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ ã‚’æ·±ãç†è§£ã™ã‚‹å¿…è¦ãŒã‚ã‚‹\n\n**ç†ç”±2ï¼šãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãƒ¢ãƒ‡ãƒ«ã®åˆ¶ç´„**\n- Quillã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãƒ¢ãƒ‡ãƒ«ï¼ˆDeltaï¼‰ã¯ã€ãƒªãƒ‹ã‚¢ï¼ˆç·šå½¢ï¼‰æ§‹é€ \n- è¤‡é›‘ãªãƒã‚¹ãƒˆæ§‹é€ ï¼ˆãƒªã‚¹ãƒˆå†…ã®ãƒªã‚¹ãƒˆã€è¡¨å†…ã®ãƒªã‚¹ãƒˆï¼‰ã«å¯¾å¿œã—ã¥ã‚‰ã„\n- ä¾‹ï¼š\n  ```json\n  // Quill Delta\n  {\n    \"ops\": [\n      { \"insert\": \"ã‚¿ã‚¤ãƒˆãƒ«\\n\", \"attributes\": { \"header\": 1 } },\n      { \"insert\": \"æœ¬æ–‡\\n\" }\n    ]\n  }\n  ```\n  - ãƒ„ãƒªãƒ¼æ§‹é€ ã§ã¯ãªãã€ç·šå½¢é…åˆ—\n\n**ç†ç”±3ï¼šTypeScriptã‚µãƒãƒ¼ãƒˆãŒå¼±ã„**\n- Quillã¯ã€TypeScriptå‹å®šç¾©ãŒä¸å®Œå…¨\n- `@types/quill`ãŒã‚ã‚‹ãŒã€ã‚«ã‚¹ã‚¿ãƒ ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®å‹å®šç¾©ãŒå›°é›£\n\n**ç†ç”±4ï¼šAIç”Ÿæˆã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã¨ã®ç›¸æ€§**\n- AIç”Ÿæˆã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’æ§‹é€ åŒ–ãƒ‡ãƒ¼ã‚¿ã¨ã—ã¦ç®¡ç†ã—ãŸã„å ´åˆã€Deltaãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã¯ä¸ä¾¿\n- JSONãƒ„ãƒªãƒ¼æ§‹é€ ã®æ–¹ãŒã€AIã¨ã®é€£æºãŒå®¹æ˜“\n\n**ãƒ¡ãƒªãƒƒãƒˆï¼ˆé¸ã°ãªã‹ã£ãŸãŒã€èªã‚ã‚‹ã¹ãç‚¹ï¼‰**:\n- ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ãŒç°¡å˜ï¼ˆæ•°è¡Œã§å‹•ä½œï¼‰\n- ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®UIãŒç¾ã—ã„\n- ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒå……å®Ÿ\n- å­¦ç¿’ã‚³ã‚¹ãƒˆãŒä½ã„\n- ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºãŒå°ã•ã„ï¼ˆç´„60KBï¼‰\n\n### å€™è£œ2ï¼šTipTap\n\n```bash\nnpm install @tiptap/react @tiptap/starter-kit\n```\n\nTipTapã¯ã€ProseMirrorã‚’ãƒ™ãƒ¼ã‚¹ã«ã—ãŸReactå‘ã‘ãƒ©ãƒƒãƒ‘ãƒ¼ã€‚\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n\n**ç†ç”±1ï¼šè¿½åŠ ã®æŠ½è±¡åŒ–ãƒ¬ã‚¤ãƒ¤ãƒ¼**\n- TipTapã¯ã€ProseMirrorã®ãƒ©ãƒƒãƒ‘ãƒ¼ã§ã‚ã‚‹ãŸã‚ã€ProseMirrorã‚’ç†è§£ã™ã‚‹å¿…è¦ãŒã‚ã‚‹\n- ã•ã‚‰ã«TipTapã®APIã‚‚å­¦ã¶å¿…è¦ãŒã‚ã‚‹ â†’ 2ã¤ã®å­¦ç¿’ã‚³ã‚¹ãƒˆ\n\n**ç†ç”±2ï¼šåˆ¶ç´„ãŒå¤šã„**\n- TipTapã¯ã€Reactã¨ã®çµ±åˆã‚’ç°¡å˜ã«ã™ã‚‹ä»£ã‚ã‚Šã«ã€ä¸€éƒ¨ã®æ©Ÿèƒ½ã‚’åˆ¶é™\n- ä¾‹ï¼šProseMirrorã®ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã‚’ç›´æ¥æ“ä½œã™ã‚‹å ´åˆã€TipTapã®APIã‚’è¿‚å›ã™ã‚‹å¿…è¦ãŒã‚ã‚‹\n\n**ç†ç”±3ï¼šãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ã®è¤‡é›‘ã•**\n- TipTapã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³æ›´æ–°ãŒã€ProseMirrorã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³æ›´æ–°ã«ä¾å­˜\n- 2ã¤ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³äº’æ›æ€§ã‚’ç®¡ç†ã™ã‚‹å¿…è¦ãŒã‚ã‚‹\n\n**ç†ç”±4ï¼šãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚º**\n- TipTapã¯ã€ProseMirror + ãƒ©ãƒƒãƒ‘ãƒ¼ã‚³ãƒ¼ãƒ‰ = ç´„250KBï¼ˆminifiedï¼‰\n- ProseMirrorå˜ä½“ã‚ˆã‚Šã‚‚å¤§ãã„\n\n**ç†ç”±5ï¼šãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®æŸ”è»Ÿæ€§**\n- å°†æ¥çš„ã«Reactä»¥å¤–ã®ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã«ç§»è¡Œã™ã‚‹å¯èƒ½æ€§ã‚’è€ƒæ…®\n- ProseMirrorã¯ã€ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯éä¾å­˜\n\n**ãƒ¡ãƒªãƒƒãƒˆï¼ˆé¸ã°ãªã‹ã£ãŸãŒã€èªã‚ã‚‹ã¹ãç‚¹ï¼‰**:\n- React Hooksã¨ã®çµ±åˆãŒç°¡å˜\n- è±Šå¯Œãªæ‹¡å¼µæ©Ÿèƒ½ï¼ˆ50ä»¥ä¸Šã®å…¬å¼æ‹¡å¼µï¼‰\n- TypeScriptå‹å®šç¾©ãŒå……å®Ÿ\n- ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ãŒç°¡å˜\n- ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒå……å®Ÿ\n- ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãªé–‹ç™ºã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£\n\n**åˆ¤æ–­ã®é›£ã—ã•**:\n- TipTapã¯ã€ProseMirrorã®å­¦ç¿’ã‚³ã‚¹ãƒˆã‚’ä¸‹ã’ã‚‹å„ªã‚ŒãŸé¸æŠè‚¢\n- ã—ã‹ã—ã€ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯ã€Œå®Œå…¨ãªåˆ¶å¾¡ã€ã‚’é‡è¦–ã—ãŸãŸã‚ã€ProseMirrorå˜ä½“ã‚’é¸æŠ\n- ã‚‚ã—Reactå°‚ç”¨ã§ã€çŸ­æœŸé–“ã§ã®é–‹ç™ºã‚’é‡è¦–ã™ã‚‹ãªã‚‰ã€TipTapã®æ–¹ãŒè‰¯ã„å¯èƒ½æ€§ãŒã‚ã‚‹\n\n### å€™è£œ3ï¼šDraft.js\n\n```bash\nnpm install draft-js\n```\n\nDraft.jsã¯ã€Facebookï¼ˆMetaï¼‰ãŒé–‹ç™ºã—ãŸãƒªãƒƒãƒãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒ‡ã‚£ã‚¿ã€‚\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n\n**ç†ç”±1ï¼šãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã®åœæ»**\n- Draft.jsã¯ã€2020å¹´ä»¥é™ã€æ›´æ–°ãŒå°‘ãªã„\n- React 18ã¨ã®äº’æ›æ€§ã«å•é¡ŒãŒã‚ã‚‹å¯èƒ½æ€§\n- æœ€çµ‚æ›´æ–°: 2022å¹´ï¼ˆæœ¬ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆæ™‚ç‚¹ï¼‰\n\n**ç†ç”±2ï¼šReactã¨ã®å¯†çµåˆ**\n- Draft.jsã¯ã€Reactå°‚ç”¨\n- å°†æ¥çš„ã«ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚’å¤‰æ›´ã™ã‚‹å ´åˆã€å…¨é¢çš„ãªæ›¸ãç›´ã—ãŒå¿…è¦\n\n**ç†ç”±3ï¼šãƒ¢ãƒã‚¤ãƒ«å¯¾å¿œã®å¼±ã•**\n- Draft.jsã¯ã€ãƒ¢ãƒã‚¤ãƒ«ãƒ–ãƒ©ã‚¦ã‚¶ã§ã®å‹•ä½œãŒä¸å®‰å®š\n- ã‚¿ãƒƒãƒæ“ä½œã€ä»®æƒ³ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã¨ã®ç›¸æ€§ãŒæ‚ªã„\n\n**ç†ç”±4ï¼šã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã®ç¸®å°**\n- MetaãŒç©æ¥µçš„ã«ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ãªã„\n- ProseMirrorã€TipTapã«ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ãŒç§»è¡Œã—ã¦ã„ã‚‹\n\n**ãƒ¡ãƒªãƒƒãƒˆï¼ˆé¸ã°ãªã‹ã£ãŸãŒã€èªã‚ã‚‹ã¹ãç‚¹ï¼‰**:\n- Reactã¨ã®çµ±åˆãŒç°¡å˜\n- Immutableãªè¨­è¨ˆ\n- Facebookã®å®Ÿç¸¾ï¼ˆFacebookã®ã‚³ãƒ¡ãƒ³ãƒˆæ¬„ã§ä½¿ç”¨ï¼‰\n\n### å€™è£œ4ï¼šSlate\n\n```bash\nnpm install slate slate-react\n```\n\nSlateã¯ã€å®Œå…¨ã«ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºå¯èƒ½ãªãƒªãƒƒãƒãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒ‡ã‚£ã‚¿ã€‚\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n\n**ç†ç”±1ï¼šå­¦ç¿’ã‚³ã‚¹ãƒˆãŒéå¸¸ã«é«˜ã„**\n- Slateã¯ã€ã€Œã™ã¹ã¦è‡ªåˆ†ã§å®Ÿè£…ã™ã‚‹ã€ã¨ã„ã†è¨­è¨ˆæ€æƒ³\n- ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ãƒ„ãƒ¼ãƒ«ãƒãƒ¼ã€ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆãŒãªã„\n- åŸºæœ¬çš„ãªæ©Ÿèƒ½ï¼ˆå¤ªå­—ã€æ–œä½“ï¼‰ã‚‚è‡ªåˆ†ã§å®Ÿè£…ã™ã‚‹å¿…è¦ãŒã‚ã‚‹\n\n**ç†ç”±2ï¼šãƒãƒ¼ã‚¸ãƒ§ãƒ³1.0æœªæº€ã®ä¸å®‰å®šã•**\n- Slateã¯ã€v0.xå°ï¼ˆæœ¬ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆæ™‚ç‚¹ï¼‰\n- APIãŒé »ç¹ã«å¤‰æ›´ã•ã‚Œã‚‹\n- ãƒ—ãƒ­ãƒ€ã‚¯ã‚·ãƒ§ãƒ³ç’°å¢ƒã§ä½¿ç”¨ã™ã‚‹ã«ã¯ãƒªã‚¹ã‚¯ãŒé«˜ã„\n\n**ç†ç”±3ï¼šãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ä¸è¶³**\n- Slateã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯ã€ä¸å®Œå…¨\n- å®Ÿè£…ä¾‹ãŒå°‘ãªã„\n- ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãŒå›°é›£\n\n**ç†ç”±4ï¼šã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã®å°ã•ã•**\n- ProseMirrorã€Quillã¨æ¯”è¼ƒã—ã¦ã€ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ãŒå°ã•ã„\n- å•é¡Œè§£æ±ºã®ãŸã‚ã®ãƒªã‚½ãƒ¼ã‚¹ãŒå°‘ãªã„\n\n**ãƒ¡ãƒªãƒƒãƒˆï¼ˆé¸ã°ãªã‹ã£ãŸãŒã€èªã‚ã‚‹ã¹ãç‚¹ï¼‰**:\n- å®Œå…¨ãªæŸ”è»Ÿæ€§\n- Reactã¨ã®çµ±åˆãŒç°¡å˜\n- ç‹¬è‡ªã®ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«ã‚’å®šç¾©å¯èƒ½\n\n## åˆ¤æ–­ç†ç”±\n\n### ç†ç”±1ï¼šæ§‹é€ åŒ–ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®å¿…è¦æ€§\n\nai-document-generatorã¯ã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’æ§‹é€ åŒ–ãƒ‡ãƒ¼ã‚¿ã¨ã—ã¦æ‰±ã†å¿…è¦ãŒã‚ã‚‹ã€‚\n\n**å…·ä½“ä¾‹**:\n- AIç”Ÿæˆã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’JSONã§ä¿å­˜\n- ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‹ã‚‰å‹•çš„ã«ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ç”Ÿæˆ\n- ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã€ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ç‹¬ç«‹ã—ãŸå˜ä½ã¨ã—ã¦ç®¡ç†\n\nProseMirrorã¯ã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ãƒ„ãƒªãƒ¼æ§‹é€ ã¨ã—ã¦æ‰±ã†ãŸã‚ã€ã“ã®è¦ä»¶ã«æœ€é©ã€‚\n\n```typescript\n// ProseMirrorã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãƒ¢ãƒ‡ãƒ«\n{\n  \"type\": \"doc\",\n  \"content\": [\n    {\n      \"type\": \"heading\",\n      \"attrs\": { \"level\": 1 },\n      \"content\": [{ \"type\": \"text\", \"text\": \"ã‚¿ã‚¤ãƒˆãƒ«\" }]\n    },\n    {\n      \"type\": \"paragraph\",\n      \"content\": [\n        { \"type\": \"text\", \"text\": \"æœ¬æ–‡ \" },\n        { \"type\": \"text\", \"marks\": [{ \"type\": \"strong\" }], \"text\": \"å¤ªå­—\" }\n      ]\n    },\n    {\n      \"type\": \"bullet_list\",\n      \"content\": [\n        {\n          \"type\": \"list_item\",\n          \"content\": [\n            { \"type\": \"paragraph\", \"content\": [{ \"type\": \"text\", \"text\": \"é …ç›®1\" }] }\n          ]\n        }\n      ]\n    }\n  ]\n}\n```\n\nã“ã®ãƒ„ãƒªãƒ¼æ§‹é€ ã«ã‚ˆã‚Šï¼š\n- AIãŒç”Ÿæˆã—ãŸã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’æ­£ç¢ºã«é…ç½®å¯èƒ½\n- ã‚»ã‚¯ã‚·ãƒ§ãƒ³å†…ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ç‹¬ç«‹ã—ã¦ç·¨é›†å¯èƒ½\n- ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®æ§‹é€ ã‚’ä¿ã¡ãªãŒã‚‰ã€éƒ¨åˆ†çš„ã«æ›´æ–°å¯èƒ½\n\n### ç†ç”±2ï¼šã‚«ã‚¹ã‚¿ãƒ ãƒãƒ¼ãƒ‰ã®æ‹¡å¼µæ€§\n\nai-document-generatorã§ã¯ã€ç‹¬è‡ªã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼ˆãƒãƒ£ãƒ¼ãƒˆã€è¡¨ã€ç”»åƒï¼‰ã‚’è¿½åŠ ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã€‚\n\nProseMirrorã®ã‚«ã‚¹ã‚¿ãƒ ã‚¹ã‚­ãƒ¼ãƒæ©Ÿèƒ½ã«ã‚ˆã‚Šã€ã“ã‚ŒãŒå®¹æ˜“ã«å®Ÿç¾ã§ãã‚‹ï¼š\n\n```typescript\n// ã‚«ã‚¹ã‚¿ãƒ ãƒãƒ¼ãƒ‰ã€Œãƒãƒ£ãƒ¼ãƒˆã€ã®å®šç¾©\nconst chartNode = {\n  chart: {\n    attrs: {\n      type: { default: 'bar' },\n      data: { default: null },\n      options: { default: null }\n    },\n    group: \"block\",\n    atom: true,\n    parseDOM: [{ tag: \"div[data-chart]\" }],\n    toDOM(node) {\n      return [\"div\", {\n        \"data-chart\": node.attrs.type,\n        \"data-chart-data\": JSON.stringify(node.attrs.data)\n      }];\n    }\n  }\n};\n```\n\nä»–ã®å€™è£œã§ã¯ï¼š\n- **Quill**: ã‚«ã‚¹ã‚¿ãƒ ãƒ–ãƒ­ãƒƒã‚¯ã®è¿½åŠ ãŒå›°é›£\n- **TipTap**: å¯èƒ½ã ãŒã€ProseMirrorã®çŸ¥è­˜ãŒå¿…è¦ï¼ˆåŒã˜åŠ´åŠ›ãªã‚‰ã€ProseMirrorç›´æ¥ä½¿ç”¨ãŒè‰¯ã„ï¼‰\n- **Draft.js**: ã‚«ã‚¹ã‚¿ãƒ ãƒ–ãƒ­ãƒƒã‚¯ã¯å¯èƒ½ã ãŒã€ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã®ä¸å®‰\n- **Slate**: å¯èƒ½ã ãŒã€ã™ã¹ã¦è‡ªåˆ†ã§å®Ÿè£…ã™ã‚‹å¿…è¦ãŒã‚ã‚‹\n\n### ç†ç”±3ï¼šãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ãƒ™ãƒ¼ã‚¹ã®å¤‰æ›´ç®¡ç†\n\nProseMirrorã¯ã€ã™ã¹ã¦ã®å¤‰æ›´ã‚’ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã¨ã—ã¦ç®¡ç†ã€‚\n\n**ãƒ¡ãƒªãƒƒãƒˆ**:\n1. **å®Œå…¨ãªundo/redo**: ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³å±¥æ­´ã‹ã‚‰ã€ä»»æ„ã®æ™‚ç‚¹ã«æˆ»ã‚Œã‚‹\n2. **å¤‰æ›´ã®è¿½è·¡**: èª°ãŒã€ã„ã¤ã€ã©ã“ã‚’å¤‰æ›´ã—ãŸã‹ã‚’è¨˜éŒ²å¯èƒ½\n3. **å”èª¿ç·¨é›†**: è¤‡æ•°ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ç·¨é›†ã‚’èª¿æ•´å¯èƒ½ï¼ˆå°†æ¥çš„ãªæ©Ÿèƒ½ï¼‰\n\n```typescript\n// ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã®ä¾‹\nconst transaction = state.tr.insertText(\"æ–°ã—ã„ãƒ†ã‚­ã‚¹ãƒˆ\", 10);\nconst newState = state.apply(transaction);\n\n// ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã‚’è¨˜éŒ²\ntransactionHistory.push(transaction);\n\n// undo\nconst previousState = state.apply(transaction.invert());\n```\n\nä»–ã®å€™è£œã§ã¯ï¼š\n- **Quill**: undo/redoã¯å¯èƒ½ã ãŒã€ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³å˜ä½ã§ã®ç´°ã‹ã„åˆ¶å¾¡ã¯å›°é›£\n- **TipTap**: ProseMirrorã®ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã‚’ä½¿ç”¨ï¼ˆåŒã˜ï¼‰\n- **Draft.js**: Immutableãªè¨­è¨ˆã§undo/redoã¯å¯èƒ½ã ãŒã€ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã®æ¦‚å¿µã¯ãªã„\n- **Slate**: ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã¯å¯èƒ½ã ãŒã€è‡ªåˆ†ã§å®Ÿè£…ãŒå¿…è¦\n\n### ç†ç”±4ï¼šAIç”Ÿæˆã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã¨ã®çµ±åˆ\n\nAIç”Ÿæˆã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ã€ã‚¨ãƒ‡ã‚£ã‚¿ã«æŒ¿å…¥ã™ã‚‹éš›ã€ProseMirrorã®ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ãŒæœ‰ç”¨ã€‚\n\n**ã‚·ãƒŠãƒªã‚ª**:\n1. ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒAIã«ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”Ÿæˆã‚’ä¾é ¼\n2. AIãŒJSONå½¢å¼ã§ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ç”Ÿæˆ\n3. JSONã‚’ProseMirrorãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«å¤‰æ›\n4. ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã§æŒ¿å…¥\n\n```typescript\n// AIç”Ÿæˆã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ProseMirrorãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«å¤‰æ›\nconst aiGeneratedContent = {\n  \"type\": \"paragraph\",\n  \"content\": [{ \"type\": \"text\", \"text\": \"AIãŒç”Ÿæˆã—ãŸãƒ†ã‚­ã‚¹ãƒˆ\" }]\n};\n\nconst node = schema.nodeFromJSON(aiGeneratedContent);\n\n// ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã§æŒ¿å…¥\nconst transaction = state.tr.insert(insertPosition, node);\nconst newState = state.apply(transaction);\n```\n\nä»–ã®å€™è£œã§ã¯ï¼š\n- **Quill**: Deltaå½¢å¼ã«å¤‰æ›ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ï¼ˆæ§‹é€ ãŒç•°ãªã‚‹ï¼‰\n- **TipTap**: å¯èƒ½ï¼ˆProseMirrorã®ãƒ©ãƒƒãƒ‘ãƒ¼ï¼‰\n- **Draft.js**: ContentStateã«å¤‰æ›ã™ã‚‹å¿…è¦ãŒã‚ã‚‹\n- **Slate**: å¯èƒ½ã ãŒã€è‡ªåˆ†ã§JSONå¤‰æ›ã‚’å®Ÿè£…ã™ã‚‹å¿…è¦ãŒã‚ã‚‹\n\n### ç†ç”±5ï¼šãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹\n\nProseMirrorã¯ã€å¤§ããªãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆï¼ˆ1000è¡Œä»¥ä¸Šï¼‰ã§ã‚‚é«˜é€Ÿã«å‹•ä½œã€‚\n\n**æœ€é©åŒ–æ‰‹æ³•**:\n- å·®åˆ†æ›´æ–°ï¼ˆå¤‰æ›´ã•ã‚ŒãŸéƒ¨åˆ†ã®ã¿ã‚’å†æç”»ï¼‰\n- é…å»¶ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ï¼ˆå¯è¦–é ˜åŸŸã®ã¿ã‚’æç”»ï¼‰\n- ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã®æœ€é©åŒ–\n\nä»–ã®å€™è£œã§ã¯ï¼š\n- **Quill**: ä¸­ç¨‹åº¦ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹\n- **TipTap**: ProseMirrorã¨åŒç­‰\n- **Draft.js**: Reactã®å†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã«ä¾å­˜ï¼ˆå¤§ããªãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã§é…ã„ï¼‰\n- **Slate**: Reactã®å†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã«ä¾å­˜ï¼ˆæœ€é©åŒ–ãŒå¿…è¦ï¼‰\n\n### ç†ç”±6ï¼šãƒ¢ã‚¸ãƒ¥ãƒ©ãƒ¼è¨­è¨ˆ\n\nProseMirrorã¯ã€ãƒ¢ã‚¸ãƒ¥ãƒ©ãƒ¼è¨­è¨ˆã®ãŸã‚ã€å¿…è¦ãªæ©Ÿèƒ½ã ã‘ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å¯èƒ½ã€‚\n\n```bash\n# å¿…è¦ãªãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ã¿ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\nnpm install prosemirror-model prosemirror-state prosemirror-view\n\n# è¿½åŠ æ©Ÿèƒ½ã¯å¾Œã§è¿½åŠ \nnpm install prosemirror-history  # undo/redo\nnpm install prosemirror-keymap   # ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆ\nnpm install prosemirror-commands # ã‚³ãƒãƒ³ãƒ‰\n```\n\nä»–ã®å€™è£œã§ã¯ï¼š\n- **Quill**: ã™ã¹ã¦ãŒå«ã¾ã‚Œã‚‹ï¼ˆãƒ¢ã‚¸ãƒ¥ãƒ©ãƒ¼ã§ã¯ãªã„ï¼‰\n- **TipTap**: æ‹¡å¼µæ©Ÿèƒ½ã¯å€‹åˆ¥ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å¯èƒ½\n- **Draft.js**: ã™ã¹ã¦ãŒå«ã¾ã‚Œã‚‹\n- **Slate**: ãƒ¢ã‚¸ãƒ¥ãƒ©ãƒ¼è¨­è¨ˆ\n\n### ç†ç”±7ï¼šã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã¨ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ \n\nProseMirrorã¯ã€æ´»ç™ºãªã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã¨è±Šå¯Œãªã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ã‚’æŒã¤ã€‚\n\n**ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ **:\n- **prosemirror-tables**: è¡¨ã®ã‚µãƒãƒ¼ãƒˆ\n- **prosemirror-gapcursor**: ã‚®ãƒ£ãƒƒãƒ—ã‚«ãƒ¼ã‚½ãƒ«ï¼ˆãƒ–ãƒ­ãƒƒã‚¯é–“ã®ã‚«ãƒ¼ã‚½ãƒ«ï¼‰\n- **prosemirror-markdown**: Markdownã‚µãƒãƒ¼ãƒˆ\n- **prosemirror-collab**: å”èª¿ç·¨é›†ï¼ˆãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ç·¨é›†ï¼‰\n- **y-prosemirror**: CRDTãƒ™ãƒ¼ã‚¹ã®å”èª¿ç·¨é›†ï¼ˆYjsçµ±åˆï¼‰\n\nä»–ã®å€™è£œã§ã¯ï¼š\n- **Quill**: ä¸­ç¨‹åº¦ã®ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ \n- **TipTap**: è±Šå¯Œãªæ‹¡å¼µæ©Ÿèƒ½ï¼ˆ50ä»¥ä¸Šï¼‰\n- **Draft.js**: ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ãŒç¸®å°ä¸­\n- **Slate**: å°ã•ã„ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ \n\n### ç†ç”±8ï¼šé•·æœŸçš„ãªä¿å®ˆæ€§\n\nProseMirrorã¯ã€2015å¹´ã‹ã‚‰é–‹ç™ºã•ã‚Œã¦ãŠã‚Šã€å®‰å®šã—ã¦ã„ã‚‹ã€‚\n\n**å®Ÿç¸¾**:\n- **Atlassian**: Confluenceã€Jiraã§ä½¿ç”¨\n- **New York Times**: è¨˜äº‹ã‚¨ãƒ‡ã‚£ã‚¿ã§ä½¿ç”¨\n- **GitLab**: Markdownã‚¨ãƒ‡ã‚£ã‚¿ã§ä½¿ç”¨\n- **Notion**: é¡ä¼¼ã®æŠ€è¡“ã‚’ä½¿ç”¨ï¼ˆProseMirror inspiredï¼‰\n\nä»–ã®å€™è£œã§ã¯ï¼š\n- **Quill**: å®‰å®šã—ã¦ã„ã‚‹ãŒã€æ›´æ–°ãŒå°‘ãªã„\n- **TipTap**: æ¯”è¼ƒçš„æ–°ã—ã„ï¼ˆ2018å¹´ï¼‰ãŒã€æ´»ç™ºã«é–‹ç™ºã•ã‚Œã¦ã„ã‚‹\n- **Draft.js**: ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ãŒåœæ»\n- **Slate**: ã¾ã ä¸å®‰å®šï¼ˆv0.xï¼‰\n\n## ã“ã®åˆ¤æ–­ã‹ã‚‰å­¦ã¹ã‚‹ã“ã¨\n\n### å­¦ã³1ï¼šã‚¨ãƒ‡ã‚£ã‚¿é¸æŠã®åˆ¤æ–­åŸºæº–\n\nãƒªãƒƒãƒãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒ‡ã‚£ã‚¿ã‚’é¸æŠã™ã‚‹éš›ã®åˆ¤æ–­åŸºæº–ï¼š\n\n1. **ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®è¦ä»¶ã‚’æ˜ç¢ºã«ã™ã‚‹**\n   - æ§‹é€ åŒ–ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒå¿…è¦ã‹ï¼Ÿ â†’ ProseMirrorã€Slate\n   - ç°¡å˜ãªãƒªãƒƒãƒãƒ†ã‚­ã‚¹ãƒˆç·¨é›†ã ã‘ã‹ï¼Ÿ â†’ Quillã€TipTap\n\n2. **ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã®å¿…è¦æ€§**\n   - ã‚«ã‚¹ã‚¿ãƒ ãƒãƒ¼ãƒ‰ãŒå¿…è¦ã‹ï¼Ÿ â†’ ProseMirrorã€Slate\n   - ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ååˆ†ã‹ï¼Ÿ â†’ Quill\n\n3. **å­¦ç¿’ã‚³ã‚¹ãƒˆã¨æ™‚é–“**\n   - çŸ­æœŸé–“ã§å®Ÿè£…ã—ãŸã„ã‹ï¼Ÿ â†’ Quillã€TipTap\n   - é•·æœŸçš„ã«æœ€é©åŒ–ã—ãŸã„ã‹ï¼Ÿ â†’ ProseMirror\n\n4. **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è¦ä»¶**\n   - å¤§ããªãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’æ‰±ã†ã‹ï¼Ÿ â†’ ProseMirror\n   - å°ã•ãªãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã ã‘ã‹ï¼Ÿ â†’ ã©ã‚Œã§ã‚‚å¯\n\n5. **ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã¨ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ **\n   - ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãªé–‹ç™ºãŒè¡Œã‚ã‚Œã¦ã„ã‚‹ã‹ï¼Ÿ â†’ ProseMirrorã€TipTap\n   - é•·æœŸçš„ãªã‚µãƒãƒ¼ãƒˆãŒã‚ã‚‹ã‹ï¼Ÿ â†’ ProseMirror\n\n### å­¦ã³2ï¼šæŠ½è±¡åŒ–ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®ãƒˆãƒ¬ãƒ¼ãƒ‰ã‚ªãƒ•\n\nTipTapã‚’é¸ã°ãªã‹ã£ãŸç†ç”±ã‹ã‚‰ã€æŠ½è±¡åŒ–ã®ãƒˆãƒ¬ãƒ¼ãƒ‰ã‚ªãƒ•ã‚’å­¦ã¹ã‚‹ï¼š\n\n**æŠ½è±¡åŒ–ã®ãƒ¡ãƒªãƒƒãƒˆ**:\n- å­¦ç¿’ã‚³ã‚¹ãƒˆã®ä½æ¸›\n- çŸ­æœŸé–“ã§ã®å®Ÿè£…\n- ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ã®é©ç”¨\n\n**æŠ½è±¡åŒ–ã®ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ**:\n- æŸ”è»Ÿæ€§ã®ä½ä¸‹\n- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã®ã‚ªãƒ¼ãƒãƒ¼ãƒ˜ãƒƒãƒ‰\n- ä¾å­˜é–¢ä¿‚ã®å¢—åŠ \n- ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ã®è¤‡é›‘ã•\n\n**åˆ¤æ–­åŸºæº–**:\n- **çŸ­æœŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã€ã‚·ãƒ³ãƒ—ãƒ«ãªè¦ä»¶**: æŠ½è±¡åŒ–ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚’ä½¿ã†ï¼ˆTipTapï¼‰\n- **é•·æœŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã€è¤‡é›‘ãªè¦ä»¶**: ä½ãƒ¬ãƒ™ãƒ«ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½¿ã†ï¼ˆProseMirrorï¼‰\n\n### å­¦ã³3ï¼šãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã®é‡è¦æ€§\n\nDraft.jsã‚’é¸ã°ãªã‹ã£ãŸç†ç”±ã‹ã‚‰ã€ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹çŠ¶æ³ãŒé‡è¦ã§ã‚ã‚‹ã“ã¨ã‚’å­¦ã¹ã‚‹ï¼š\n\n**ç¢ºèªã™ã¹ãæŒ‡æ¨™**:\n1. **æœ€çµ‚æ›´æ–°æ—¥**: 1å¹´ä»¥å†…ãŒæœ›ã¾ã—ã„\n2. **Issueå¯¾å¿œ**: æœªè§£æ±ºIssueãŒå¤šã™ããªã„ã‹\n3. **Pull Requestã®ãƒãƒ¼ã‚¸é »åº¦**: æ´»ç™ºã«é–‹ç™ºã•ã‚Œã¦ã„ã‚‹ã‹\n4. **ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã®æ´»ç™ºã•**: DiscussionãŒæ´»ç™ºã‹\n5. **ã‚¹ãƒãƒ³ã‚µãƒ¼ãƒ»çµ„ç¹”**: å¤§æ‰‹ä¼æ¥­ãŒã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã‚‹ã‹\n\n### å­¦ã³4ï¼šãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ä¾å­˜ã®å½±éŸ¿\n\nDraft.jsãŒReactå°‚ç”¨ã§ã‚ã‚‹ã“ã¨ã‹ã‚‰ã€ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ä¾å­˜ã®ãƒªã‚¹ã‚¯ã‚’å­¦ã¹ã‚‹ï¼š\n\n**ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ä¾å­˜ã®ãƒªã‚¹ã‚¯**:\n- ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚’å¤‰æ›´ã™ã‚‹å ´åˆã€å…¨é¢çš„ãªæ›¸ãç›´ã—ãŒå¿…è¦\n- ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¢ãƒƒãƒ—ã«ä¾å­˜\n- ä»–ã®ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ï¼ˆãƒ¢ãƒã‚¤ãƒ«ã‚¢ãƒ—ãƒªãªã©ï¼‰ã¸ã®ç§»æ¤ãŒå›°é›£\n\n**ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯éä¾å­˜ã®ãƒ¡ãƒªãƒƒãƒˆ**:\n- æŸ”è»Ÿæ€§ãŒé«˜ã„\n- é•·æœŸçš„ãªä¿å®ˆãŒå®¹æ˜“\n- ä»–ã®ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã¸ã®ç§»æ¤ãŒå¯èƒ½\n\n**åˆ¤æ–­**:\n- **Reactå°‚ç”¨ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã€çŸ­æœŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ**: Reactå°‚ç”¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚‚é¸æŠè‚¢\n- **é•·æœŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã€è¤‡æ•°ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ **: ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯éä¾å­˜ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’é¸ã¶\n\n### å­¦ã³5ï¼šã€Œå®Œå…¨ãªæŸ”è»Ÿæ€§ã€ã®ã‚³ã‚¹ãƒˆ\n\nSlateã‚’é¸ã°ãªã‹ã£ãŸç†ç”±ã‹ã‚‰ã€ã€Œå®Œå…¨ãªæŸ”è»Ÿæ€§ã€ã«ã¯ã‚³ã‚¹ãƒˆãŒã‚ã‚‹ã“ã¨ã‚’å­¦ã¹ã‚‹ï¼š\n\n**ã€Œå®Œå…¨ãªæŸ”è»Ÿæ€§ã€ã®ã‚³ã‚¹ãƒˆ**:\n- é–‹ç™ºæ™‚é–“ã®å¢—åŠ ï¼ˆåŸºæœ¬æ©Ÿèƒ½ã‚‚è‡ªåˆ†ã§å®Ÿè£…ï¼‰\n- ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã‚³ã‚¹ãƒˆã®å¢—åŠ \n- ãƒã‚°ã®ãƒªã‚¹ã‚¯å¢—åŠ \n- ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãƒ»ã‚µãƒ³ãƒ—ãƒ«ã®ä¸è¶³\n\n**é©åˆ‡ãªæŠ½è±¡åŒ–ãƒ¬ãƒ™ãƒ«**:\n- **åŸºæœ¬æ©Ÿèƒ½**: ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒæä¾›ï¼ˆå¤ªå­—ã€æ–œä½“ã€ãƒªã‚¹ãƒˆï¼‰\n- **ã‚«ã‚¹ã‚¿ãƒ æ©Ÿèƒ½**: è‡ªåˆ†ã§å®Ÿè£…ï¼ˆãƒãƒ£ãƒ¼ãƒˆã€ç‹¬è‡ªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼‰\n\n**åˆ¤æ–­**:\n- **æ¨™æº–çš„ãªã‚¨ãƒ‡ã‚£ã‚¿**: Quillã€TipTap\n- **ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºå¯èƒ½ãªã‚¨ãƒ‡ã‚£ã‚¿**: ProseMirror\n- **å®Œå…¨ã«ã‚«ã‚¹ã‚¿ãƒ ãªã‚¨ãƒ‡ã‚£ã‚¿**: Slateï¼ˆãŸã ã—ã€ã‚³ã‚¹ãƒˆã‚’ç†è§£ã—ãŸä¸Šã§ï¼‰\n\n### å­¦ã³6ï¼šå®Ÿè£…ã®æœªå®Œæˆã¨æŠ€è¡“é¸æŠ\n\nã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯ã€ProseMirrorã‚’é¸æŠã—ãŸãŒã€å®Ÿè£…ã¯æœªå®Œæˆã€‚\n\n**æŠ€è¡“é¸æŠã¨å®Ÿè£…ã®ã‚®ãƒ£ãƒƒãƒ—**:\n- package.jsonã«ä¾å­˜é–¢ä¿‚ãŒã‚ã‚‹ãŒã€å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«ãŒãªã„\n- æŠ€è¡“é¸æŠã¯æ­£ã—ã„ãŒã€å®Ÿè£…ãŒè¿½ã„ã¤ã„ã¦ã„ãªã„\n\n**å­¦ã³**:\n- æŠ€è¡“é¸æŠã ã‘ã§ãªãã€å®Ÿè£…è¨ˆç”»ã‚‚é‡è¦\n- MVPï¼ˆMinimum Viable Productï¼‰ã‚’æ˜ç¢ºã«ã™ã‚‹\n- æ®µéšçš„ãªå®Ÿè£…è¨ˆç”»ã‚’ç«‹ã¦ã‚‹\n\n**æ¨å¥¨ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ**:\n1. **Phase 1**: åŸºæœ¬çš„ãªãƒ†ã‚­ã‚¹ãƒˆç·¨é›†ï¼ˆplain textï¼‰\n2. **Phase 2**: åŸºæœ¬çš„ãªãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆï¼ˆå¤ªå­—ã€æ–œä½“ã€è¦‹å‡ºã—ï¼‰\n3. **Phase 3**: ãƒªã‚¹ãƒˆã€ãƒªãƒ³ã‚¯\n4. **Phase 4**: ã‚«ã‚¹ã‚¿ãƒ ãƒãƒ¼ãƒ‰ï¼ˆãƒãƒ£ãƒ¼ãƒˆã€è¡¨ï¼‰\n\n---\n\n## ã¾ã¨ã‚\n\n**ProseMirrorã‚’é¸ã‚“ã ç†ç”±**:\n1. æ§‹é€ åŒ–ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®å¿…è¦æ€§\n2. ã‚«ã‚¹ã‚¿ãƒ ãƒãƒ¼ãƒ‰ã®æ‹¡å¼µæ€§\n3. ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ãƒ™ãƒ¼ã‚¹ã®å¤‰æ›´ç®¡ç†\n4. AIç”Ÿæˆã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã¨ã®çµ±åˆ\n5. é«˜ã„ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹\n6. ãƒ¢ã‚¸ãƒ¥ãƒ©ãƒ¼è¨­è¨ˆ\n7. æ´»ç™ºãªã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã¨ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ \n8. é•·æœŸçš„ãªä¿å®ˆæ€§\n\n**ãƒˆãƒ¬ãƒ¼ãƒ‰ã‚ªãƒ•**:\n- å­¦ç¿’ã‚³ã‚¹ãƒˆãŒé«˜ã„\n- å®Ÿè£…ã«æ™‚é–“ãŒã‹ã‹ã‚‹\n- Reactã¨ã®çµ±åˆãŒé›£ã—ã„\n\n**çµè«–**:\nai-document-generatorã®ã‚ˆã†ãªã€é•·æœŸçš„ãªãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã€è¤‡é›‘ãªè¦ä»¶ã€ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºæ€§ã‚’é‡è¦–ã™ã‚‹å ´åˆã€ProseMirrorã¯æœ€é©ãªé¸æŠã€‚\n\nãŸã ã—ã€**å®Ÿè£…ãŒæœªå®Œæˆ**ã§ã‚ã‚‹ã“ã¨ã‹ã‚‰ã€æŠ€è¡“é¸æŠã¨å®Ÿè£…ã®ã‚®ãƒ£ãƒƒãƒ—ãŒèª²é¡Œã¨ãªã£ã¦ã„ã‚‹ã€‚\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€ŒProseMirror vs Quill/TipTap ã®é¸æŠã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "skill-prosemirror-rich-text-editor",
      "skill-component-dynamic-rendering"
    ]
  },
  {
    "slug": "tech-radix-ui-choice",
    "title": "Radix UI vs Headless UI/shadcn-ui ã®é¸æŠ",
    "category": "Decisionsï¼ˆæŠ€è¡“é¸å®šãƒ»åˆ¤æ–­ï¼‰",
    "description": "Radix UI vs Headless UI/shadcn-ui ã®é¸æŠ",
    "project": "ai-document-generator",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"decision_tech_radix_ui_choice_2025_04_11\",\n  \"type\": \"decision\",\n  \"name\": \"Radix UI vs Headless UI/shadcn-ui ã®é¸æŠ\",\n  \"decision_type\": \"tech_selection\",\n  \"tags\": [\"Radix UI\", \"Headless UI\", \"shadcn-ui\", \"UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ\", \"ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£\", \"ãƒ‡ã‚¶ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ \"],\n  \"source_project\": \"ai-document-generator\",\n  \"chosen\": \"Radix UI\",\n  \"alternatives\": [\"Headless UI\", \"shadcn-ui\", \"React Aria\", \"Chakra UI\", \"MUI\"],\n  \"related_knowledge\": [\"skill_radix_ui_customization_2025_04_11\", \"skill_dynamic_theme_system_2025_04_11\"],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-04-11\",\n  \"updated\": \"2025-04-11\"\n}\n```\n\n# Radix UI vs Headless UI/shadcn-ui ã®é¸æŠ\n\n## ä½•ã‚’åˆ¤æ–­ã—ãŸã‹\n\nãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚¨ãƒ‡ã‚£ã‚¿ã®UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼ˆButtonã€Dialogã€Selectã€Tooltipãªã©ï¼‰ã‚’å®Ÿè£…ã™ã‚‹éš›ã«ã€Radix UIã‚’æ¡ç”¨ã™ã‚‹ã‹ã€Headless UIã€shadcn-uiã€React Ariaãªã©ã®ä»–ã®å€™è£œã‚’ä½¿ç”¨ã™ã‚‹ã‹ã‚’åˆ¤æ–­ã—ãŸã€‚\n\n## é¸ã‚“ã ã‚‚ã®\n\n**Radix UI**\n\npackage.jsonã§ã®ä¾å­˜é–¢ä¿‚ï¼ˆ15ç¨®é¡ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼‰ï¼š\n```json\n{\n  \"dependencies\": {\n    \"@radix-ui/react-accordion\": \"^1.2.4\",\n    \"@radix-ui/react-checkbox\": \"^1.1.5\",\n    \"@radix-ui/react-dialog\": \"^1.1.7\",\n    \"@radix-ui/react-dropdown-menu\": \"^2.1.7\",\n    \"@radix-ui/react-label\": \"^2.1.3\",\n    \"@radix-ui/react-popover\": \"^1.1.7\",\n    \"@radix-ui/react-radio-group\": \"^1.2.4\",\n    \"@radix-ui/react-scroll-area\": \"^1.2.4\",\n    \"@radix-ui/react-select\": \"^2.1.7\",\n    \"@radix-ui/react-slider\": \"^1.2.4\",\n    \"@radix-ui/react-switch\": \"^1.1.4\",\n    \"@radix-ui/react-tabs\": \"^1.1.4\",\n    \"@radix-ui/react-toast\": \"^1.2.7\",\n    \"@radix-ui/react-toggle-group\": \"^1.1.3\",\n    \"@radix-ui/react-tooltip\": \"^1.2.0\"\n  }\n}\n```\n\n**Radix UIã®ä¸»ãªç‰¹å¾´**:\n1. **ã‚¹ã‚¿ã‚¤ãƒ«ãƒ¬ã‚¹**: ã‚¹ã‚¿ã‚¤ãƒ«ãŒå«ã¾ã‚Œã¦ã„ãªã„ãŸã‚ã€å®Œå…¨ã«ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºå¯èƒ½\n2. **ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£æ¨™æº–å¯¾å¿œ**: WAI-ARIA 1.2ã«å®Œå…¨æº–æ‹ \n3. **ãƒ¢ã‚¸ãƒ¥ãƒ©ãƒ¼è¨­è¨ˆ**: å¿…è¦ãªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã ã‘ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\n4. **TypeScriptå‹å®šç¾©**: å®Œå…¨ãªå‹å®‰å…¨æ€§\n5. **ä½ãƒ¬ãƒ™ãƒ«API**: ç´°ã‹ã„åˆ¶å¾¡ãŒå¯èƒ½\n6. **React Hooksãƒ™ãƒ¼ã‚¹**: ç¾ä»£çš„ãªAPIè¨­è¨ˆ\n\n## ä»–ã®å€™è£œ\n\n### å€™è£œ1ï¼šHeadless UI\n\n```bash\nnpm install @headlessui/react\n```\n\nHeadless UIã¯ã€Tailwind CSSã®é–‹ç™ºå…ƒï¼ˆTailwind Labsï¼‰ãŒé–‹ç™ºã—ãŸãƒ˜ãƒƒãƒ‰ãƒ¬ã‚¹UIãƒ©ã‚¤ãƒ–ãƒ©ãƒªã€‚\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n\n**ç†ç”±1ï¼šã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆæ•°ã®å°‘ãªã•**\n- Headless UIã¯ã€10ç¨®é¡ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ã¿æä¾›\n- Radix UIã¯ã€40ä»¥ä¸Šã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’æä¾›\n\n**Headless UIã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ**ï¼ˆ10ç¨®é¡ï¼‰:\n- Comboboxã€Dialogã€Disclosureã€Listboxã€Menuã€Popoverã€Radio Groupã€Switchã€Tabã€Transition\n\n**Radix UIã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ**ï¼ˆ40ä»¥ä¸Šï¼‰:\n- Accordionã€Alert Dialogã€Aspect Ratioã€Avatarã€Checkboxã€Collapsibleã€Context Menuã€Dialogã€Dropdown Menuã€Hover Cardã€Labelã€Menubarã€Navigation Menuã€Popoverã€Progressã€Radio Groupã€Scroll Areaã€Selectã€Separatorã€Sliderã€Switchã€Tabsã€Toastã€Toggleã€Toggle Groupã€Tooltipã€Toolbarã€ãªã©\n\nai-document-generatorã§ã¯ã€Accordionã€Selectã€Sliderã€Tooltipãªã©ã€Headless UIã«ãªã„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒå¿…è¦ã€‚\n\n**ç†ç”±2ï¼šAPIã®æŸ”è»Ÿæ€§**\n- Headless UIã¯ã€ã‚·ãƒ³ãƒ—ãƒ«ãªAPIè¨­è¨ˆã ãŒã€ç´°ã‹ã„åˆ¶å¾¡ãŒå›°é›£\n- Radix UIã¯ã€ä½ãƒ¬ãƒ™ãƒ«APIã§ç´°ã‹ã„åˆ¶å¾¡ãŒå¯èƒ½\n\n**ä¾‹ï¼šDialogï¼ˆãƒ¢ãƒ¼ãƒ€ãƒ«ï¼‰ã®åˆ¶å¾¡**:\n```tsx\n// Headless UI: ã‚·ãƒ³ãƒ—ãƒ«ã ãŒã€ç´°ã‹ã„åˆ¶å¾¡ãŒå›°é›£\n<Dialog open={isOpen} onClose={() => setIsOpen(false)}>\n  <Dialog.Panel>\n    <Dialog.Title>ã‚¿ã‚¤ãƒˆãƒ«</Dialog.Title>\n    {/* ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ */}\n  </Dialog.Panel>\n</Dialog>\n\n// Radix UI: ç´°ã‹ã„åˆ¶å¾¡ãŒå¯èƒ½\n<Dialog.Root open={isOpen} onOpenChange={setIsOpen}>\n  <Dialog.Portal>\n    <Dialog.Overlay className=\"overlay\" />\n    <Dialog.Content className=\"content\">\n      <Dialog.Title>ã‚¿ã‚¤ãƒˆãƒ«</Dialog.Title>\n      <Dialog.Description>èª¬æ˜</Dialog.Description>\n      {/* ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ */}\n      <Dialog.Close asChild>\n        <button>é–‰ã˜ã‚‹</button>\n      </Dialog.Close>\n    </Dialog.Content>\n  </Dialog.Portal>\n</Dialog.Root>\n```\n\nRadix UIã¯ã€Overlayã€Portalã€Closeãªã©ã€ç´°ã‹ã„ãƒ‘ãƒ¼ãƒ„ã‚’å€‹åˆ¥ã«åˆ¶å¾¡å¯èƒ½ã€‚\n\n**ç†ç”±3ï¼šã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã¨ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ **\n- Headless UIã¯ã€Tailwind CSSã¨ã®çµ±åˆã«ç‰¹åŒ–\n- Radix UIã¯ã€ã‚ˆã‚Šåºƒç¯„ãªã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ï¼ˆshadcn-uiã€Vercelã®å…¬å¼UIãƒ©ã‚¤ãƒ–ãƒ©ãƒªãªã©ãŒRadix UIãƒ™ãƒ¼ã‚¹ï¼‰\n\n**ç†ç”±4ï¼šã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ã®è©³ç´°åº¦**\n- Radix UIã¯ã€WAI-ARIA 1.2ã®è©³ç´°ãªå®Ÿè£…\n- Headless UIã‚‚å¯¾å¿œã—ã¦ã„ã‚‹ãŒã€Radix UIã®æ–¹ãŒè©³ç´°\n\n**ãƒ¡ãƒªãƒƒãƒˆï¼ˆé¸ã°ãªã‹ã£ãŸãŒã€èªã‚ã‚‹ã¹ãç‚¹ï¼‰**:\n- **ã‚·ãƒ³ãƒ—ãƒ«ãªAPI**: Headless UIã¯ã€å­¦ç¿’ã‚³ã‚¹ãƒˆãŒä½ã„\n- **Tailwind CSSã¨ã®çµ±åˆ**: å…¬å¼ã‚µãƒãƒ¼ãƒˆ\n- **ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚º**: Radix UIã‚ˆã‚Šè»½é‡\n- **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: éå¸¸ã«èª­ã¿ã‚„ã™ã„\n\n### å€™è£œ2ï¼šshadcn-ui\n\n```bash\nnpx shadcn-ui@latest init\n```\n\nshadcn-uiã¯ã€Radix UI + Tailwind CSSã‚’ãƒ™ãƒ¼ã‚¹ã«ã—ãŸã€ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã€‚\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n\n**ç†ç”±1ï¼šshadcn-uiã¯ã€Œãƒ©ã‚¤ãƒ–ãƒ©ãƒªã€ã§ã¯ãªãã€Œã‚³ãƒ”ãƒ¼&ãƒšãƒ¼ã‚¹ãƒˆã€**\n- shadcn-uiã¯ã€npm installã§ããªã„\n- ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’è‡ªåˆ†ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ã‚³ãƒ”ãƒ¼&ãƒšãƒ¼ã‚¹ãƒˆã™ã‚‹\n- Radix UIã¯ã€npm installã§ç®¡ç†\n\n**shadcn-uiã®å‹•ä½œ**:\n```bash\n# shadcn-uiã¯ã€ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ã‚³ãƒ”ãƒ¼\nnpx shadcn-ui@latest add button\n\n# â†’ src/components/ui/button.tsx ã«ãƒ•ã‚¡ã‚¤ãƒ«ãŒä½œæˆã•ã‚Œã‚‹\n```\n\n**ç†ç”±2ï¼šã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã®æŸ”è»Ÿæ€§**\n- shadcn-uiã¯ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ã‚¹ã‚¿ã‚¤ãƒ«ãŒæä¾›ã•ã‚Œã‚‹\n- ai-document-generatorã§ã¯ã€ç‹¬è‡ªã®ãƒ‡ã‚¶ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ ã‚’æ§‹ç¯‰ã—ãŸã„\n- Radix UIã¯ã€ã‚¹ã‚¿ã‚¤ãƒ«ãƒ¬ã‚¹ãªã®ã§ã€å®Œå…¨ã«ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºå¯èƒ½\n\n**ç†ç”±3ï¼šã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã®ç®¡ç†**\n- shadcn-uiã¯ã€ã‚³ãƒ”ãƒ¼&ãƒšãƒ¼ã‚¹ãƒˆã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ‰‹å‹•ã§ç®¡ç†\n- ãƒã‚°ä¿®æ­£ã€æ©Ÿèƒ½è¿½åŠ ãŒã‚ã£ãŸå ´åˆã€æ‰‹å‹•ã§æ›´æ–°ãŒå¿…è¦\n- Radix UIã¯ã€npm updateã§ä¸€æ‹¬æ›´æ–°\n\n**ç†ç”±4ï¼šãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®æ–¹é‡**\n- ai-document-generatorã¯ã€ç‹¬è‡ªã®ãƒ‡ã‚¶ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ ã‚’æ§‹ç¯‰\n- shadcn-uiã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚¹ã‚¿ã‚¤ãƒ«ã¯ä¸è¦\n\n**ãƒ¡ãƒªãƒƒãƒˆï¼ˆé¸ã°ãªã‹ã£ãŸãŒã€èªã‚ã‚‹ã¹ãç‚¹ï¼‰**:\n- **ç¾ã—ã„ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚¹ã‚¿ã‚¤ãƒ«**: ã™ãã«ä½¿ãˆã‚‹\n- **çŸ­æœŸé–“ã§å®Ÿè£…**: ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—ã«æœ€é©\n- **ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºå¯èƒ½**: ã‚³ãƒ”ãƒ¼ã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ã‚’è‡ªç”±ã«ç·¨é›†å¯èƒ½\n- **äººæ°—**: 2023å¹´ä»¥é™ã€æ€¥é€Ÿã«äººæ°—ä¸Šæ˜‡\n\n**shadcn-uiãŒé©ã—ãŸã‚±ãƒ¼ã‚¹**:\n- ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—ã€MVP\n- çŸ­æœŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ\n- ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ãƒ‡ã‚¶ã‚¤ãƒ³ã§ååˆ†ãªå ´åˆ\n\nai-document-generatorã¯ã€é•·æœŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ç‹¬è‡ªãƒ‡ã‚¶ã‚¤ãƒ³ãŒå¿…è¦ãªãŸã‚ã€Radix UIç›´æ¥ä½¿ç”¨ãŒé©åˆ‡ã€‚\n\n### å€™è£œ3ï¼šReact Aria\n\n```bash\nnpm install react-aria react-stately\n```\n\nReact Ariaã¯ã€Adobeï¼ˆæ—§Adobe Spectrumï¼‰ãŒé–‹ç™ºã—ãŸã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£é‡è¦–ã®UIãƒ©ã‚¤ãƒ–ãƒ©ãƒªã€‚\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n\n**ç†ç”±1ï¼šAPIã®è¤‡é›‘ã•**\n- React Ariaã¯ã€éå¸¸ã«ä½ãƒ¬ãƒ™ãƒ«ãªAPI\n- ã‚¹ãƒ†ãƒ¼ãƒˆç®¡ç†ï¼ˆreact-statelyï¼‰ã¨UIï¼ˆreact-ariaï¼‰ãŒåˆ†é›¢\n- ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ãŒè¤‡é›‘\n\n**ä¾‹ï¼šButtonã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ**:\n```tsx\n// React Aria: è¤‡é›‘\nimport { useButton } from 'react-aria';\nimport { useToggleState } from 'react-stately';\n\nfunction Button(props) {\n  let ref = useRef();\n  let { buttonProps } = useButton(props, ref);\n\n  return <button {...buttonProps} ref={ref}>{props.children}</button>;\n}\n\n// Radix UI: ã‚·ãƒ³ãƒ—ãƒ«ï¼ˆæ¨™æº–ã®<button>ã‚’ä½¿ã†ã ã‘ï¼‰\n<button className=\"custom-button\">{children}</button>\n```\n\nReact Ariaã¯ã€ã™ã¹ã¦ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ã“ã®ä½ãƒ¬ãƒ™ãƒ«ãªã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ãŒå¿…è¦ã€‚\n\n**ç†ç”±2ï¼šå­¦ç¿’ã‚³ã‚¹ãƒˆãŒéå¸¸ã«é«˜ã„**\n- React Ariaã¯ã€ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ã®å°‚é–€çŸ¥è­˜ãŒå¿…è¦\n- ã‚¹ãƒ†ãƒ¼ãƒˆç®¡ç†ã¨UIã®åˆ†é›¢ã‚’ç†è§£ã™ã‚‹å¿…è¦ãŒã‚ã‚‹\n- Radix UIã¯ã€ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå˜ä½ã§ä½¿ãˆã‚‹ãŸã‚ã€å­¦ç¿’ã‚³ã‚¹ãƒˆãŒä½ã„\n\n**ç†ç”±3ï¼šãƒœã‚¤ãƒ©ãƒ¼ãƒ—ãƒ¬ãƒ¼ãƒˆã®å¤šã•**\n- React Ariaã¯ã€å„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§å¤§é‡ã®ãƒœã‚¤ãƒ©ãƒ¼ãƒ—ãƒ¬ãƒ¼ãƒˆ\n- Radix UIã¯ã€ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆã™ã‚‹ã ã‘\n\n**ç†ç”±4ï¼šTypeScriptå‹å®šç¾©ã®è¤‡é›‘ã•**\n- React Ariaã¯ã€ã‚¸ã‚§ãƒãƒªã‚¯ã‚¹å‹ãŒå¤šç”¨ã•ã‚Œã€å‹å®šç¾©ãŒè¤‡é›‘\n- Radix UIã¯ã€ã‚·ãƒ³ãƒ—ãƒ«ãªå‹å®šç¾©\n\n**ãƒ¡ãƒªãƒƒãƒˆï¼ˆé¸ã°ãªã‹ã£ãŸãŒã€èªã‚ã‚‹ã¹ãç‚¹ï¼‰**:\n- **æœ€é«˜ãƒ¬ãƒ™ãƒ«ã®ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£**: Adobeè£½å“ã§ä½¿ç”¨ã•ã‚Œã¦ã„ã‚‹\n- **å®Œå…¨ãªåˆ¶å¾¡**: ã™ã¹ã¦ã®æŒ™å‹•ã‚’ç´°ã‹ãåˆ¶å¾¡å¯èƒ½\n- **å›½éš›åŒ–å¯¾å¿œ**: i18næ¨™æº–å¯¾å¿œ\n- **ãƒ¢ãƒã‚¤ãƒ«å¯¾å¿œ**: ã‚¿ãƒƒãƒãƒ‡ãƒã‚¤ã‚¹ã«æœ€é©åŒ–\n\n**React AriaãŒé©ã—ãŸã‚±ãƒ¼ã‚¹**:\n- ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ãŒæœ€å„ªå…ˆ\n- å®Œå…¨ã«ã‚«ã‚¹ã‚¿ãƒ ãªUIã‚’æ§‹ç¯‰\n- å›½éš›åŒ–å¯¾å¿œãŒå¿…è¦\n\nai-document-generatorã§ã¯ã€Radix UIã®ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ã§ååˆ†ã€‚\n\n### å€™è£œ4ï¼šChakra UI\n\n```bash\nnpm install @chakra-ui/react @emotion/react @emotion/styled framer-motion\n```\n\nChakra UIã¯ã€ã‚¹ã‚¿ã‚¤ãƒ«ä»˜ãã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ©ã‚¤ãƒ–ãƒ©ãƒªã€‚\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n\n**ç†ç”±1ï¼šã‚¹ã‚¿ã‚¤ãƒ«ãŒå«ã¾ã‚Œã¦ã„ã‚‹**\n- Chakra UIã¯ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ã‚¹ã‚¿ã‚¤ãƒ«ãŒå¼·ãã€ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºãŒå›°é›£\n- ai-document-generatorã¯ã€ç‹¬è‡ªã®ãƒ‡ã‚¶ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ ã‚’æ§‹ç¯‰ã—ãŸã„\n- Radix UIã¯ã€ã‚¹ã‚¿ã‚¤ãƒ«ãƒ¬ã‚¹ã§å®Œå…¨ã«ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºå¯èƒ½\n\n**ç†ç”±2ï¼šEmotionã¸ã®ä¾å­˜**\n- Chakra UIã¯ã€CSS-in-JSï¼ˆEmotionï¼‰ã‚’ä½¿ç”¨\n- ai-document-generatorã¯ã€Tailwind CSSã‚’ä½¿ç”¨\n- 2ã¤ã®ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°æ‰‹æ³•ã‚’ä½µç”¨ã™ã‚‹ã®ã¯ã€è¤‡é›‘\n\n**ç†ç”±3ï¼šãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚º**\n- Chakra UI + Emotion + Framer Motion = ç´„200KB\n- Radix UI = å„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆæ•°KBï¼ˆå¿…è¦ãªã‚‚ã®ã®ã¿ï¼‰\n\n**ç†ç”±4ï¼šã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã®ã‚ªãƒ¼ãƒãƒ¼ãƒ©ã‚¤ãƒ‰**\n- Chakra UIã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚¹ã‚¿ã‚¤ãƒ«ã‚’ã‚ªãƒ¼ãƒãƒ¼ãƒ©ã‚¤ãƒ‰ã™ã‚‹å¿…è¦ãŒã‚ã‚‹\n- Radix UIã¯ã€æœ€åˆã‹ã‚‰ã‚¹ã‚¿ã‚¤ãƒ«ã‚’å®šç¾©ã™ã‚‹ãŸã‚ã€ã‚ªãƒ¼ãƒãƒ¼ãƒ©ã‚¤ãƒ‰ä¸è¦\n\n**ãƒ¡ãƒªãƒƒãƒˆï¼ˆé¸ã°ãªã‹ã£ãŸãŒã€èªã‚ã‚‹ã¹ãç‚¹ï¼‰**:\n- **çŸ­æœŸé–“ã§å®Ÿè£…**: ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚¹ã‚¿ã‚¤ãƒ«ãŒã‚ã‚‹ãŸã‚ã€ã™ãã«ä½¿ãˆã‚‹\n- **çµ±ä¸€ã•ã‚ŒãŸãƒ‡ã‚¶ã‚¤ãƒ³**: ä¸€è²«ã—ãŸãƒ‡ã‚¶ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ \n- **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: éå¸¸ã«å……å®Ÿ\n- **ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£**: æ´»ç™º\n\n**Chakra UIãŒé©ã—ãŸã‚±ãƒ¼ã‚¹**:\n- ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—ã€MVP\n- Chakra UIã®ãƒ‡ã‚¶ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ ã§ååˆ†ãªå ´åˆ\n- CSS-in-JSã‚’ä½¿ç”¨ã—ãŸã„å ´åˆ\n\nai-document-generatorã¯ã€Tailwind CSSã§ç‹¬è‡ªãƒ‡ã‚¶ã‚¤ãƒ³ã‚’æ§‹ç¯‰ã™ã‚‹ãŸã‚ã€Chakra UIã¯ä¸é©åˆ‡ã€‚\n\n### å€™è£œ5ï¼šMUI (Material-UI)\n\n```bash\nnpm install @mui/material @emotion/react @emotion/styled\n```\n\nMUIã¯ã€Google Material Designã‚’å®Ÿè£…ã—ãŸUIãƒ©ã‚¤ãƒ–ãƒ©ãƒªã€‚\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n\n**ç†ç”±1ï¼šMaterial Designã®åˆ¶ç´„**\n- MUIã¯ã€Material Designã«å¾“ã†\n- ai-document-generatorã¯ã€ç‹¬è‡ªã®ãƒ‡ã‚¶ã‚¤ãƒ³ã‚’æ§‹ç¯‰ã—ãŸã„\n- Radix UIã¯ã€ãƒ‡ã‚¶ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ éä¾å­˜\n\n**ç†ç”±2ï¼šãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºãŒéå¸¸ã«å¤§ãã„**\n- MUI = ç´„300KB\n- Radix UI = å¿…è¦ãªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ã¿ï¼ˆåˆè¨ˆç´„50KBï¼‰\n\n**ç†ç”±3ï¼šã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã®å›°é›£ã•**\n- MUIã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚¹ã‚¿ã‚¤ãƒ«ã‚’ã‚ªãƒ¼ãƒãƒ¼ãƒ©ã‚¤ãƒ‰ã™ã‚‹ã«ã¯ã€ãƒ†ãƒ¼ãƒã‚·ã‚¹ãƒ†ãƒ ã‚’ç†è§£ã™ã‚‹å¿…è¦ãŒã‚ã‚‹\n- Radix UIã¯ã€æœ€åˆã‹ã‚‰ã‚¹ã‚¿ã‚¤ãƒ«ã‚’å®šç¾©\n\n**ç†ç”±4ï¼šEmotionã¸ã®ä¾å­˜**\n- Chakra UIã¨åŒã˜ãã€CSS-in-JSã¸ã®ä¾å­˜\n- Tailwind CSSã¨ã®ä½µç”¨ã¯è¤‡é›‘\n\n**ãƒ¡ãƒªãƒƒãƒˆï¼ˆé¸ã°ãªã‹ã£ãŸãŒã€èªã‚ã‚‹ã¹ãç‚¹ï¼‰**:\n- **è±Šå¯Œãªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ**: 50ä»¥ä¸Šã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ\n- **Material Design**: Googleã®ãƒ‡ã‚¶ã‚¤ãƒ³è¨€èªã«å¾“ã„ãŸã„å ´åˆ\n- **ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ **: éå¸¸ã«å¤§ããªã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£\n- **æˆç†Ÿã—ãŸå®‰å®šæ€§**: 10å¹´ä»¥ä¸Šã®å®Ÿç¸¾\n\n**MUIãŒé©ã—ãŸã‚±ãƒ¼ã‚¹**:\n- Material Designã‚’æ¡ç”¨ã—ãŸã„å ´åˆ\n- ä¼æ¥­å‘ã‘ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³\n- å¤§è¦æ¨¡ãªãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆï¼ˆã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ãŒå¿…è¦ï¼‰\n\nai-document-generatorã¯ã€Material Designã§ã¯ãªã„ç‹¬è‡ªãƒ‡ã‚¶ã‚¤ãƒ³ã‚’æ§‹ç¯‰ã™ã‚‹ãŸã‚ã€MUIã¯ä¸é©åˆ‡ã€‚\n\n## åˆ¤æ–­ç†ç”±\n\n### ç†ç”±1ï¼šã‚¹ã‚¿ã‚¤ãƒ«ãƒ¬ã‚¹ã§å®Œå…¨ãªã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºæ€§\n\nRadix UIã¯ã€ã‚¹ã‚¿ã‚¤ãƒ«ãŒå«ã¾ã‚Œã¦ã„ãªã„ãŸã‚ã€å®Œå…¨ã«ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºå¯èƒ½ã€‚\n\n**ãƒ¡ãƒªãƒƒãƒˆ**:\n- ç‹¬è‡ªã®ãƒ‡ã‚¶ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ ã‚’æ§‹ç¯‰å¯èƒ½\n- Tailwind CSSã¨å®Œå…¨ã«çµ±åˆ\n- ãƒ‡ã‚¶ã‚¤ãƒŠãƒ¼ã®æ„å›³ã‚’100%åæ˜ å¯èƒ½\n\n```tsx\n// Radix UIã¯ã€ã‚¹ã‚¿ã‚¤ãƒ«ã‚’å®Œå…¨ã«è‡ªåˆ†ã§å®šç¾©\nimport * as Dialog from '@radix-ui/react-dialog';\n\n<Dialog.Root>\n  <Dialog.Trigger className=\"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600\">\n    é–‹ã\n  </Dialog.Trigger>\n  <Dialog.Portal>\n    <Dialog.Overlay className=\"fixed inset-0 bg-black/50\" />\n    <Dialog.Content className=\"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-white p-6 rounded-xl shadow-2xl\">\n      <Dialog.Title className=\"text-2xl font-bold mb-4\">\n        ã‚¿ã‚¤ãƒˆãƒ«\n      </Dialog.Title>\n      <Dialog.Description className=\"text-gray-600 mb-4\">\n        èª¬æ˜\n      </Dialog.Description>\n      {/* ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ */}\n    </Dialog.Content>\n  </Dialog.Portal>\n</Dialog.Root>\n```\n\nTailwind CSSã®ã‚¯ãƒ©ã‚¹ã‚’è‡ªç”±ã«é©ç”¨ã§ãã‚‹ã€‚\n\n### ç†ç”±2ï¼šè±Šå¯Œãªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ\n\nRadix UIã¯ã€40ä»¥ä¸Šã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’æä¾›ã€‚\n\n**ai-document-generatorã§ä½¿ç”¨ã—ã¦ã„ã‚‹15ç¨®é¡**:\n1. **Accordion**: ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®æŠ˜ã‚ŠãŸãŸã¿\n2. **Checkbox**: ãƒ•ã‚©ãƒ¼ãƒ ã®é¸æŠ\n3. **Dialog**: ãƒ¢ãƒ¼ãƒ€ãƒ«ã€ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°\n4. **Dropdown Menu**: ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆãƒ¡ãƒ‹ãƒ¥ãƒ¼\n5. **Label**: ãƒ•ã‚©ãƒ¼ãƒ ãƒ©ãƒ™ãƒ«\n6. **Popover**: ãƒ„ãƒ¼ãƒ«ãƒãƒƒãƒ—ã€ãƒ˜ãƒ«ãƒ—\n7. **Radio Group**: å˜ä¸€é¸æŠ\n8. **Scroll Area**: ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«é ˜åŸŸ\n9. **Select**: ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³é¸æŠ\n10. **Slider**: å€¤ã®èª¿æ•´ï¼ˆãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚ºã€ãƒãƒ¼ã‚¸ãƒ³ãªã©ï¼‰\n11. **Switch**: ãƒˆã‚°ãƒ«ã‚¹ã‚¤ãƒƒãƒ\n12. **Tabs**: ã‚¿ãƒ–åˆ‡ã‚Šæ›¿ãˆ\n13. **Toast**: é€šçŸ¥\n14. **Toggle Group**: ãƒ„ãƒ¼ãƒ«ãƒãƒ¼ã®ãƒœã‚¿ãƒ³ã‚°ãƒ«ãƒ¼ãƒ—\n15. **Tooltip**: ãƒ„ãƒ¼ãƒ«ãƒãƒƒãƒ—\n\nHeadless UIã§ã¯ã€ã“ã‚Œã‚‰ã®åŠåˆ†ä»¥ä¸‹ã—ã‹æä¾›ã•ã‚Œã¦ã„ãªã„ã€‚\n\n### ç†ç”±3ï¼šWAI-ARIA 1.2å®Œå…¨æº–æ‹ \n\nRadix UIã¯ã€WAI-ARIA 1.2ã«å®Œå…¨æº–æ‹ ã€‚\n\n**ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£æ©Ÿèƒ½**:\n- **ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³**: Tabã€Enterã€Spaceã€Arrow keysã§æ“ä½œå¯èƒ½\n- **ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ãƒªãƒ¼ãƒ€ãƒ¼å¯¾å¿œ**: é©åˆ‡ãªARIAãƒ©ãƒ™ãƒ«ã€role\n- **ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ç®¡ç†**: ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚’é–‹ã„ãŸæ™‚ã€é–‰ã˜ãŸæ™‚ã®ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ç®¡ç†\n- **Escape key**: ãƒ¢ãƒ¼ãƒ€ãƒ«ã€ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’Escapeã§é–‰ã˜ã‚‹\n- **aria-expandedã€aria-haspopup**: é©åˆ‡ãªARIAå±æ€§\n\n```tsx\n// Radix UIã¯ã€è‡ªå‹•çš„ã«ARIAå±æ€§ã‚’è¿½åŠ \n<Dialog.Root>\n  <Dialog.Trigger>\n    {/* è‡ªå‹•çš„ã« aria-haspopup=\"dialog\", aria-expanded=\"false\" ãŒè¿½åŠ ã•ã‚Œã‚‹ */}\n    é–‹ã\n  </Dialog.Trigger>\n</Dialog.Root>\n```\n\nHeadless UIã€Chakra UIã‚‚å¯¾å¿œã—ã¦ã„ã‚‹ãŒã€Radix UIã®æ–¹ãŒè©³ç´°ã€‚\n\n### ç†ç”±4ï¼šãƒ¢ã‚¸ãƒ¥ãƒ©ãƒ¼è¨­è¨ˆ\n\nRadix UIã¯ã€å„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒç‹¬ç«‹ã—ãŸnpmãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã€‚\n\n**ãƒ¡ãƒªãƒƒãƒˆ**:\n- å¿…è¦ãªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã ã‘ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\n- ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºã‚’æœ€å°åŒ–\n- ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ãŒæŸ”è»Ÿ\n\n```bash\n# å¿…è¦ãªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ã¿ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\nnpm install @radix-ui/react-dialog @radix-ui/react-select @radix-ui/react-tooltip\n\n# å¾Œã‹ã‚‰è¿½åŠ \nnpm install @radix-ui/react-accordion\n```\n\nChakra UIã€MUIã¯ã€ã™ã¹ã¦ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒå«ã¾ã‚Œã‚‹ãŸã‚ã€ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºãŒå¤§ãã„ã€‚\n\n### ç†ç”±5ï¼šTypeScriptå‹å®šç¾©ã®å……å®Ÿ\n\nRadix UIã¯ã€TypeScriptå‹å®šç¾©ãŒéå¸¸ã«å……å®Ÿã€‚\n\n**å‹å®‰å…¨æ€§**:\n```tsx\nimport * as Select from '@radix-ui/react-select';\n\n// å‹æ¨è«–ãŒåŠ¹ã\nconst [value, setValue] = React.useState<string>('');\n\n<Select.Root value={value} onValueChange={setValue}>\n  <Select.Trigger>\n    <Select.Value placeholder=\"é¸æŠã—ã¦ãã ã•ã„\" />\n  </Select.Trigger>\n  <Select.Content>\n    <Select.Item value=\"option1\">ã‚ªãƒ—ã‚·ãƒ§ãƒ³1</Select.Item>\n    <Select.Item value=\"option2\">ã‚ªãƒ—ã‚·ãƒ§ãƒ³2</Select.Item>\n  </Select.Content>\n</Select.Root>\n```\n\nå‹æ¨è«–ãŒåŠ¹ãã€IDEã®è£œå®ŒãŒæ­£ç¢ºã€‚\n\n### ç†ç”±6ï¼šä½ãƒ¬ãƒ™ãƒ«APIã§ç´°ã‹ã„åˆ¶å¾¡\n\nRadix UIã¯ã€ä½ãƒ¬ãƒ™ãƒ«APIã‚’æä¾›ã—ã€ç´°ã‹ã„åˆ¶å¾¡ãŒå¯èƒ½ã€‚\n\n**ä¾‹ï¼šDialogã®ãƒãƒ¼ã‚¿ãƒ«ã€ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤ã‚’å€‹åˆ¥ã«åˆ¶å¾¡**:\n```tsx\n<Dialog.Root>\n  <Dialog.Trigger>é–‹ã</Dialog.Trigger>\n\n  {/* ãƒãƒ¼ã‚¿ãƒ«ã‚’ä½¿ã£ã¦ã€bodyç›´ä¸‹ã«ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚° */}\n  <Dialog.Portal container={customContainer}>\n    {/* ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤ã‚’å€‹åˆ¥ã«åˆ¶å¾¡ */}\n    <Dialog.Overlay\n      className=\"overlay\"\n      onClick={(e) => {\n        // ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤ã‚¯ãƒªãƒƒã‚¯ã‚’ç„¡åŠ¹åŒ–\n        e.stopPropagation();\n      }}\n    />\n\n    {/* ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ */}\n    <Dialog.Content className=\"content\">\n      {/* é–‰ã˜ã‚‹ãƒœã‚¿ãƒ³ã‚‚å€‹åˆ¥ã«åˆ¶å¾¡ */}\n      <Dialog.Close asChild>\n        <button aria-label=\"é–‰ã˜ã‚‹\">Ã—</button>\n      </Dialog.Close>\n    </Dialog.Content>\n  </Dialog.Portal>\n</Dialog.Root>\n```\n\nHeadless UIã§ã¯ã€ã“ã®ãƒ¬ãƒ™ãƒ«ã®åˆ¶å¾¡ã¯å›°é›£ã€‚\n\n### ç†ç”±7ï¼šTailwind CSSã¨ã®å®Œå…¨çµ±åˆ\n\nRadix UIã¯ã€Tailwind CSSã¨å®Œå…¨ã«çµ±åˆå¯èƒ½ã€‚\n\n**ä¾‹ï¼šTailwind CSSã®ã‚¯ãƒ©ã‚¹ã‚’è‡ªç”±ã«é©ç”¨**:\n```tsx\n<Select.Root>\n  <Select.Trigger className=\"\n    px-4 py-2\n    bg-white border border-gray-300 rounded-lg\n    hover:border-gray-400\n    focus:outline-none focus:ring-2 focus:ring-blue-500\n    transition-all duration-200\n  \">\n    <Select.Value />\n    <Select.Icon>â–¼</Select.Icon>\n  </Select.Trigger>\n\n  <Select.Content className=\"\n    bg-white border border-gray-200 rounded-lg shadow-xl\n    max-h-60 overflow-auto\n  \">\n    <Select.Viewport>\n      <Select.Item value=\"option1\" className=\"\n        px-4 py-2 cursor-pointer\n        hover:bg-blue-50\n        data-[highlighted]:bg-blue-100\n      \">\n        <Select.ItemText>ã‚ªãƒ—ã‚·ãƒ§ãƒ³1</Select.ItemText>\n      </Select.Item>\n    </Select.Viewport>\n  </Select.Content>\n</Select.Root>\n```\n\nTailwind CSSã®ã™ã¹ã¦ã®æ©Ÿèƒ½ï¼ˆhoverã€focusã€data-*ã‚»ãƒ¬ã‚¯ã‚¿ãªã©ï¼‰ã‚’ä½¿ç”¨å¯èƒ½ã€‚\n\n### ç†ç”±8ï¼šã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã¨ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ \n\nRadix UIã¯ã€å¤§è¦æ¨¡ãªã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ã‚’æŒã¤ã€‚\n\n**Radix UIã‚’ãƒ™ãƒ¼ã‚¹ã«ã—ãŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ**:\n- **shadcn-ui**: Radix UI + Tailwind CSSã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆé›†\n- **Vercel Design System**: Vercelã®UIãƒ©ã‚¤ãƒ–ãƒ©ãƒªï¼ˆRadix UIãƒ™ãƒ¼ã‚¹ï¼‰\n- **NextUI**: Radix UIãƒ™ãƒ¼ã‚¹ã®UIãƒ©ã‚¤ãƒ–ãƒ©ãƒª\n- **Tremor**: ãƒ‡ãƒ¼ã‚¿ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ©ã‚¤ã‚¼ãƒ¼ã‚·ãƒ§ãƒ³ãƒ©ã‚¤ãƒ–ãƒ©ãƒªï¼ˆRadix UIãƒ™ãƒ¼ã‚¹ï¼‰\n\nRadix UIã¯ã€äº‹å®Ÿä¸Šã®æ¥­ç•Œæ¨™æº–ã«ãªã‚Šã¤ã¤ã‚ã‚‹ã€‚\n\n### ç†ç”±9ï¼šReactã®æœ€æ–°æ©Ÿèƒ½ã«å¯¾å¿œ\n\nRadix UIã¯ã€React 18ã€19ã«å®Œå…¨å¯¾å¿œã€‚\n\n**å¯¾å¿œæ©Ÿèƒ½**:\n- React 18 Concurrent Mode\n- React 19 Server Componentsï¼ˆä¸€éƒ¨ï¼‰\n- React Hooks\n- React Suspense\n\nHeadless UIã€React Ariaã‚‚å¯¾å¿œã—ã¦ã„ã‚‹ãŒã€Radix UIã¯æœ€ã‚‚ç©æ¥µçš„ã«æ›´æ–°ã•ã‚Œã¦ã„ã‚‹ã€‚\n\n## ã“ã®åˆ¤æ–­ã‹ã‚‰å­¦ã¹ã‚‹ã“ã¨\n\n### å­¦ã³1ï¼šãƒ˜ãƒƒãƒ‰ãƒ¬ã‚¹UIãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®é¸æŠåŸºæº–\n\nãƒ˜ãƒƒãƒ‰ãƒ¬ã‚¹UIãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’é¸æŠã™ã‚‹éš›ã®åˆ¤æ–­åŸºæº–ï¼š\n\n1. **ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºæ€§ã‚’é‡è¦–ã™ã‚‹ã‹**\n   - ç‹¬è‡ªãƒ‡ã‚¶ã‚¤ãƒ³ â†’ Radix UIã€React Aria\n   - ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ‡ã‚¶ã‚¤ãƒ³ã§ååˆ† â†’ shadcn-uiã€Chakra UIã€MUI\n\n2. **ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆæ•°**\n   - å¤šãã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒå¿…è¦ â†’ Radix UIã€MUI\n   - åŸºæœ¬çš„ãªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ã¿ â†’ Headless UI\n\n3. **å­¦ç¿’ã‚³ã‚¹ãƒˆ**\n   - ä½ã„å­¦ç¿’ã‚³ã‚¹ãƒˆ â†’ Headless UIã€Chakra UI\n   - ç´°ã‹ã„åˆ¶å¾¡ãŒå¿…è¦ â†’ Radix UIã€React Aria\n\n4. **ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚º**\n   - æœ€å°åŒ–ã—ãŸã„ â†’ Radix UIï¼ˆãƒ¢ã‚¸ãƒ¥ãƒ©ãƒ¼ï¼‰\n   - ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºã¯æ°—ã«ã—ãªã„ â†’ MUIã€Chakra UI\n\n5. **ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°æ‰‹æ³•**\n   - Tailwind CSS â†’ Radix UIã€Headless UI\n   - CSS-in-JS â†’ Chakra UIã€MUI\n\n### å­¦ã³2ï¼šã‚¹ã‚¿ã‚¤ãƒ«ãƒ¬ã‚¹ vs ã‚¹ã‚¿ã‚¤ãƒ«ä»˜ã\n\nRadix UIï¼ˆã‚¹ã‚¿ã‚¤ãƒ«ãƒ¬ã‚¹ï¼‰ã¨Chakra UIï¼ˆã‚¹ã‚¿ã‚¤ãƒ«ä»˜ãï¼‰ã®æ¯”è¼ƒã‹ã‚‰ã€ãƒˆãƒ¬ãƒ¼ãƒ‰ã‚ªãƒ•ã‚’å­¦ã¹ã‚‹ï¼š\n\n**ã‚¹ã‚¿ã‚¤ãƒ«ãƒ¬ã‚¹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªï¼ˆRadix UIï¼‰**:\n- **ãƒ¡ãƒªãƒƒãƒˆ**: å®Œå…¨ãªã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºæ€§ã€ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºãŒå°ã•ã„ã€ãƒ‡ã‚¶ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ éä¾å­˜\n- **ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ**: ã‚¹ã‚¿ã‚¤ãƒ«ã‚’è‡ªåˆ†ã§å®šç¾©ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã€çŸ­æœŸé–“ã§å®Ÿè£…ã—ã¥ã‚‰ã„\n\n**ã‚¹ã‚¿ã‚¤ãƒ«ä»˜ããƒ©ã‚¤ãƒ–ãƒ©ãƒªï¼ˆChakra UIã€MUIï¼‰**:\n- **ãƒ¡ãƒªãƒƒãƒˆ**: ã™ãã«ä½¿ãˆã‚‹ã€çŸ­æœŸé–“ã§å®Ÿè£…å¯èƒ½ã€ä¸€è²«ã—ãŸãƒ‡ã‚¶ã‚¤ãƒ³\n- **ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ**: ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºãŒå›°é›£ã€ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºãŒå¤§ãã„ã€ãƒ‡ã‚¶ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ ã«ä¾å­˜\n\n**åˆ¤æ–­åŸºæº–**:\n- **é•·æœŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã€ç‹¬è‡ªãƒ‡ã‚¶ã‚¤ãƒ³**: ã‚¹ã‚¿ã‚¤ãƒ«ãƒ¬ã‚¹\n- **ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—ã€MVP**: ã‚¹ã‚¿ã‚¤ãƒ«ä»˜ã\n\n### å­¦ã³3ï¼šãƒ©ã‚¤ãƒ–ãƒ©ãƒª vs ã‚³ãƒ”ãƒ¼&ãƒšãƒ¼ã‚¹ãƒˆï¼ˆshadcn-uiï¼‰\n\nshadcn-uiã‚’é¸ã°ãªã‹ã£ãŸç†ç”±ã‹ã‚‰ã€ãƒ©ã‚¤ãƒ–ãƒ©ãƒªç®¡ç†ã®é‡è¦æ€§ã‚’å­¦ã¹ã‚‹ï¼š\n\n**ãƒ©ã‚¤ãƒ–ãƒ©ãƒªï¼ˆnpm installï¼‰**:\n- **ãƒ¡ãƒªãƒƒãƒˆ**: npm updateã§ä¸€æ‹¬æ›´æ–°ã€ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ãŒå®¹æ˜“\n- **ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ**: ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®åˆ¶ç´„ã«å¾“ã†\n\n**ã‚³ãƒ”ãƒ¼&ãƒšãƒ¼ã‚¹ãƒˆï¼ˆshadcn-uiï¼‰**:\n- **ãƒ¡ãƒªãƒƒãƒˆ**: å®Œå…¨ãªåˆ¶å¾¡ã€ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºãŒå®¹æ˜“\n- **ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ**: æ‰‹å‹•æ›´æ–°ãŒå¿…è¦ã€ãƒã‚°ä¿®æ­£ã‚’è‡ªåˆ†ã§é©ç”¨\n\n**åˆ¤æ–­**:\n- **é•·æœŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ**: ãƒ©ã‚¤ãƒ–ãƒ©ãƒªï¼ˆRadix UIï¼‰\n- **ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—ã€çŸ­æœŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ**: ã‚³ãƒ”ãƒ¼&ãƒšãƒ¼ã‚¹ãƒˆï¼ˆshadcn-uiï¼‰\n\n### å­¦ã³4ï¼šãƒ¢ã‚¸ãƒ¥ãƒ©ãƒ¼è¨­è¨ˆã®é‡è¦æ€§\n\nRadix UIã®ãƒ¢ã‚¸ãƒ¥ãƒ©ãƒ¼è¨­è¨ˆã‹ã‚‰ã€ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºæœ€é©åŒ–ã®æ‰‹æ³•ã‚’å­¦ã¹ã‚‹ï¼š\n\n**ãƒ¢ã‚¸ãƒ¥ãƒ©ãƒ¼è¨­è¨ˆ**:\n```bash\n# å¿…è¦ãªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ã¿ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\nnpm install @radix-ui/react-dialog    # ç´„5KB\nnpm install @radix-ui/react-select    # ç´„8KB\nnpm install @radix-ui/react-tooltip   # ç´„3KB\n# åˆè¨ˆ: ç´„16KB\n```\n\n**ãƒ¢ãƒãƒªã‚·ãƒƒã‚¯è¨­è¨ˆ**:\n```bash\n# ã™ã¹ã¦ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã‚‹\nnpm install @chakra-ui/react  # ç´„200KB\nnpm install @mui/material     # ç´„300KB\n```\n\nãƒ¢ã‚¸ãƒ¥ãƒ©ãƒ¼è¨­è¨ˆã«ã‚ˆã‚Šã€ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºã‚’æœ€å°åŒ–ã§ãã‚‹ã€‚\n\n### å­¦ã³5ï¼šã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ã®æ¨™æº–æº–æ‹ \n\nRadix UIã®WAI-ARIA 1.2å®Œå…¨æº–æ‹ ã‹ã‚‰ã€ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ã®é‡è¦æ€§ã‚’å­¦ã¹ã‚‹ï¼š\n\n**WAI-ARIAæº–æ‹ ã®ãƒ¡ãƒªãƒƒãƒˆ**:\n- ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ãƒªãƒ¼ãƒ€ãƒ¼å¯¾å¿œ\n- ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³\n- å›½éš›çš„ãªæ¨™æº–ã«å¾“ã†\n- æ³•çš„è¦ä»¶ï¼ˆADAã€Section 508ãªã©ï¼‰ã«æº–æ‹ \n\n**è‡ªåˆ†ã§å®Ÿè£…ã™ã‚‹å ´åˆã®å›°é›£ã•**:\n- ARIAå±æ€§ã‚’é©åˆ‡ã«è¨­å®šã™ã‚‹å¿…è¦ãŒã‚ã‚‹\n- ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‚¤ãƒ™ãƒ³ãƒˆã‚’å‡¦ç†ã™ã‚‹å¿…è¦ãŒã‚ã‚‹\n- ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ç®¡ç†ã‚’å®Ÿè£…ã™ã‚‹å¿…è¦ãŒã‚ã‚‹\n\nRadix UIã‚’ä½¿ã†ã“ã¨ã§ã€ã“ã‚Œã‚‰ã‚’è‡ªå‹•çš„ã«å®Ÿè£…ã§ãã‚‹ã€‚\n\n### å­¦ã³6ï¼šä½ãƒ¬ãƒ™ãƒ« vs é«˜ãƒ¬ãƒ™ãƒ«API\n\nRadix UIï¼ˆä½ãƒ¬ãƒ™ãƒ«ï¼‰ã¨Headless UIï¼ˆé«˜ãƒ¬ãƒ™ãƒ«ï¼‰ã®æ¯”è¼ƒã‹ã‚‰ã€APIãƒ¬ãƒ™ãƒ«ã®ãƒˆãƒ¬ãƒ¼ãƒ‰ã‚ªãƒ•ã‚’å­¦ã¹ã‚‹ï¼š\n\n**ä½ãƒ¬ãƒ™ãƒ«APIï¼ˆRadix UIï¼‰**:\n- **ãƒ¡ãƒªãƒƒãƒˆ**: ç´°ã‹ã„åˆ¶å¾¡ã€æŸ”è»Ÿæ€§ãŒé«˜ã„\n- **ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ**: ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ãŒè¤‡é›‘ã€å­¦ç¿’ã‚³ã‚¹ãƒˆãŒé«˜ã„\n\n**é«˜ãƒ¬ãƒ™ãƒ«APIï¼ˆHeadless UIï¼‰**:\n- **ãƒ¡ãƒªãƒƒãƒˆ**: ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ãŒç°¡å˜ã€å­¦ç¿’ã‚³ã‚¹ãƒˆãŒä½ã„\n- **ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ**: ç´°ã‹ã„åˆ¶å¾¡ãŒå›°é›£ã€æŸ”è»Ÿæ€§ãŒä½ã„\n\n**åˆ¤æ–­**:\n- **è¤‡é›‘ãªUIã€ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºãŒå¿…è¦**: ä½ãƒ¬ãƒ™ãƒ«API\n- **ã‚·ãƒ³ãƒ—ãƒ«ãªUIã€æ¨™æº–çš„ãªæŒ™å‹•ã§ååˆ†**: é«˜ãƒ¬ãƒ™ãƒ«API\n\n### å­¦ã³7ï¼šã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ã®é‡è¦æ€§\n\nRadix UIã‚’ãƒ™ãƒ¼ã‚¹ã«ã—ãŸå¤šãã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆï¼ˆshadcn-uiã€Vercelãªã©ï¼‰ã‹ã‚‰ã€ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ã®é‡è¦æ€§ã‚’å­¦ã¹ã‚‹ï¼š\n\n**ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ã®ãƒ¡ãƒªãƒƒãƒˆ**:\n- å¤šãã®å®Ÿè£…ä¾‹ã€ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰\n- ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°æƒ…å ±\n- ã‚µãƒ¼ãƒ‰ãƒ‘ãƒ¼ãƒ†ã‚£ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¨ã®çµ±åˆ\n- ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã®ã‚µãƒãƒ¼ãƒˆ\n\nRadix UIã¯ã€äº‹å®Ÿä¸Šã®æ¥­ç•Œæ¨™æº–ã«ãªã‚Šã¤ã¤ã‚ã‚‹ãŸã‚ã€ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ãŒéå¸¸ã«å¤§ãã„ã€‚\n\n---\n\n## ã¾ã¨ã‚\n\n**Radix UIã‚’é¸ã‚“ã ç†ç”±**:\n1. ã‚¹ã‚¿ã‚¤ãƒ«ãƒ¬ã‚¹ã§å®Œå…¨ãªã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºæ€§\n2. è±Šå¯Œãªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼ˆ40ä»¥ä¸Šï¼‰\n3. WAI-ARIA 1.2å®Œå…¨æº–æ‹ \n4. ãƒ¢ã‚¸ãƒ¥ãƒ©ãƒ¼è¨­è¨ˆï¼ˆãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºæœ€å°åŒ–ï¼‰\n5. TypeScriptå‹å®šç¾©ã®å……å®Ÿ\n6. ä½ãƒ¬ãƒ™ãƒ«APIã§ç´°ã‹ã„åˆ¶å¾¡\n7. Tailwind CSSã¨ã®å®Œå…¨çµ±åˆ\n8. å¤§è¦æ¨¡ãªã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ \n9. Reactæœ€æ–°æ©Ÿèƒ½ã«å¯¾å¿œ\n\n**ãƒˆãƒ¬ãƒ¼ãƒ‰ã‚ªãƒ•**:\n- ã‚¹ã‚¿ã‚¤ãƒ«ã‚’è‡ªåˆ†ã§å®šç¾©ã™ã‚‹å¿…è¦ãŒã‚ã‚‹\n- å­¦ç¿’ã‚³ã‚¹ãƒˆãŒã‚„ã‚„é«˜ã„\n- ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ãŒè¤‡é›‘\n\n**çµè«–**:\nai-document-generatorã®ã‚ˆã†ãªã€é•·æœŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã€ç‹¬è‡ªãƒ‡ã‚¶ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ ã‚’æ§‹ç¯‰ã™ã‚‹å ´åˆã€Radix UIã¯æœ€é©ãªé¸æŠã€‚\n\nãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—ã€MVPãªã©ã€çŸ­æœŸé–“ã§å®Ÿè£…ã—ãŸã„å ´åˆã¯ã€shadcn-uiï¼ˆRadix UIãƒ™ãƒ¼ã‚¹ï¼‰ãŒè‰¯ã„é¸æŠè‚¢ã€‚\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€ŒRadix UI vs Headless UI/shadcn-ui ã®é¸æŠã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "skill-radix-ui-customization",
      "skill-dynamic-theme-system"
    ]
  },
  {
    "slug": "tech-react-dnd-vs-dnd-kit",
    "title": "React DnD vs dnd-kit ã®é¸æŠ",
    "category": "Decisionsï¼ˆæŠ€è¡“é¸å®šãƒ»åˆ¤æ–­ï¼‰",
    "description": "React DnD vs dnd-kit ã®é¸æŠ",
    "project": "ai-document-generator",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"decision_tech_react_dnd_vs_dnd_kit_2025_04_11\",\n  \"type\": \"decision\",\n  \"name\": \"React DnD vs dnd-kit ã®é¸æŠ\",\n  \"decision_type\": \"tech_selection\",\n  \"tags\": [\"React DnD\", \"dnd-kit\", \"ãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—\", \"DnD\", \"UIæ“ä½œ\"],\n  \"source_project\": \"ai-document-generator\",\n  \"chosen\": \"React DnD\",\n  \"alternatives\": [\"dnd-kit\", \"react-beautiful-dnd\", \"react-sortable-hoc\"],\n  \"related_knowledge\": [\"skill_react_dnd_drag_drop_2025_04_11\", \"skill_react_grid_layout_implementation_2025_04_11\"],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-04-11\",\n  \"updated\": \"2025-04-11\"\n}\n```\n\n# React DnD vs dnd-kit ã®é¸æŠ\n\n## ä½•ã‚’åˆ¤æ–­ã—ãŸã‹\n\nãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚¨ãƒ‡ã‚£ã‚¿å†…ã§ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼ˆãƒ†ã‚­ã‚¹ãƒˆã€ç”»åƒã€ãƒãƒ£ãƒ¼ãƒˆï¼‰ã®ãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—æ©Ÿèƒ½ã‚’å®Ÿè£…ã™ã‚‹éš›ã«ã€React DNDã‚’æ¡ç”¨ã™ã‚‹ã‹ã€dnd-kitãªã©ã®ä»–ã®å€™è£œã‚’ä½¿ç”¨ã™ã‚‹ã‹ã‚’åˆ¤æ–­ã—ãŸã€‚\n\n## é¸ã‚“ã ã‚‚ã®\n\n**React DnD**\n\npackage.jsonã§ã®ä¾å­˜é–¢ä¿‚ï¼š\n```json\n{\n  \"dependencies\": {\n    \"react-dnd\": \"^16.0.1\",\n    \"react-dnd-html5-backend\": \"^16.0.1\"\n  }\n}\n```\n\n**React DNDã®ä¸»ãªç‰¹å¾´**:\n1. **æˆç†Ÿã—ãŸå®‰å®šæ€§**: 2014å¹´ã‹ã‚‰é–‹ç™ºã•ã‚Œã¦ã„ã‚‹\n2. **æŸ”è»Ÿãªãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚·ã‚¹ãƒ†ãƒ **: HTML5ã€Touchã€Testãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚’åˆ‡ã‚Šæ›¿ãˆå¯èƒ½\n3. **å‹å®‰å…¨æ€§**: TypeScriptå‹å®šç¾©ãŒå……å®Ÿ\n4. **React Hooksã‚µãƒãƒ¼ãƒˆ**: useDragã€useDrop\n5. **è±Šå¯Œãªãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¨ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£**: é•·å¹´ã®å®Ÿç¸¾\n\n**å®Ÿè£…ä¾‹**ï¼ˆ`src/components/editor/component/ComponentRenderer.tsx:106-133`ï¼‰:\n```tsx\nimport { useDrag } from 'react-dnd';\n\nconst [{ isDragging }, dragRef] = useDrag(() => ({\n  type: 'COMPONENT',\n  item: {\n    componentId: component.id,\n    definitionId: component.definitionId,\n    type: 'component'\n  },\n  collect: (monitor) => ({\n    isDragging: monitor.isDragging(),\n  }),\n}));\n```\n\n## ä»–ã®å€™è£œ\n\n### å€™è£œ1ï¼šdnd-kit\n\n```bash\nnpm install @dnd-kit/core @dnd-kit/sortable @dnd-kit/utilities\n```\n\ndnd-kitã¯ã€2021å¹´ã«ãƒªãƒªãƒ¼ã‚¹ã•ã‚ŒãŸæ–°ã—ã„ãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã€‚React DNDã®è¨­è¨ˆæ€æƒ³ã‚’å¼•ãç¶™ãã¤ã¤ã€ãƒ¢ãƒ€ãƒ³ãªReactï¼ˆHooksã€Concurrent Modeï¼‰ã«æœ€é©åŒ–ã•ã‚Œã¦ã„ã‚‹ã€‚\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n\n**ç†ç”±1ï¼šãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆæ™‚ç‚¹ï¼ˆ2025-04-11ï¼‰ã§ã®æˆç†Ÿåº¦**\n- dnd-kitã¯æ¯”è¼ƒçš„æ–°ã—ã„ãƒ©ã‚¤ãƒ–ãƒ©ãƒªï¼ˆ2021å¹´ãƒªãƒªãƒ¼ã‚¹ï¼‰\n- React DNDã¯10å¹´ä»¥ä¸Šã®å®Ÿç¸¾ãŒã‚ã‚Šã€æœ¬ç•ªç’°å¢ƒã§ã®ä½¿ç”¨ä¾‹ãŒè±Šå¯Œ\n- ai-document-generatorã®ã‚ˆã†ãªè¤‡é›‘ãªã‚¨ãƒ‡ã‚£ã‚¿ã§ã¯ã€å®Ÿç¸¾ã®ã‚ã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’å„ªå…ˆ\n\n**ç†ç”±2ï¼šReact Grid Layoutã¨ã®äº’æ›æ€§**\n- React Grid Layoutã¯ã€React DNDã¨é•·å¹´ä½µç”¨ã•ã‚Œã¦ããŸå®Ÿç¸¾ãŒã‚ã‚‹\n- å¤šãã®ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã‚„ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°æƒ…å ±ãŒå­˜åœ¨\n- dnd-kitã¨React Grid Layoutã®ä½µç”¨ä¾‹ã¯å°‘ãªã„\n\n**å®Ÿç¸¾ã®ä¾‹**:\n```tsx\n// React Grid Layout + React DnDã®å…¸å‹çš„ãªæ§‹æˆ\n<DndProvider backend={HTML5Backend}>\n  <GridLayout>\n    {sections.map(section => (\n      <div key={section.id}>\n        <DraggableComponent />  {/* React DnD */}\n      </div>\n    ))}\n  </GridLayout>\n</DndProvider>\n```\n\n**ç†ç”±3ï¼šå­¦ç¿’ãƒªã‚½ãƒ¼ã‚¹ã®è±Šå¯Œã•**\n- React DNDã¯ã€Stack Overflowã€GitHub Discussionsã«å¤§é‡ã®æƒ…å ±ãŒã‚ã‚‹\n- ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãŒå®¹æ˜“\n- dnd-kitã¯æƒ…å ±ãŒå°‘ãªã„ï¼ˆãŸã ã—ã€å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯å……å®Ÿï¼‰\n\n**ç†ç”±4ï¼šAPIè¨­è¨ˆã®è¤‡é›‘ã•**\n- dnd-kitã¯ã€ãƒ¢ãƒ€ãƒ³ãªAPIè¨­è¨ˆã ãŒã€å­¦ç¿’ã‚³ã‚¹ãƒˆãŒã‚„ã‚„é«˜ã„\n- ã‚»ãƒ³ã‚µãƒ¼ã€ãƒ¢ãƒ‡ã‚£ãƒ•ã‚¡ã‚¤ã‚¢ã€ã‚³ãƒªã‚¸ãƒ§ãƒ³æ¤œå‡ºãªã©ã®æ¦‚å¿µã‚’ç†è§£ã™ã‚‹å¿…è¦ãŒã‚ã‚‹\n- React DNDã¯ã€ã‚·ãƒ³ãƒ—ãƒ«ãªuseDrag/useDrop APIã§ç›´æ„Ÿçš„\n\n**dnd-kit APIä¾‹**:\n```tsx\nimport { useSensors, useSensor, PointerSensor } from '@dnd-kit/core';\n\nconst sensors = useSensors(\n  useSensor(PointerSensor, {\n    activationConstraint: {\n      distance: 8,\n    },\n  })\n);\n\n<DndContext sensors={sensors} collisionDetection={closestCenter}>\n  {/* ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ */}\n</DndContext>\n```\n\nReact DNDã¨æ¯”è¼ƒã—ã¦ã€ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ãŒè¤‡é›‘ã€‚\n\n**ç†ç”±5ï¼šTypeScriptå‹å®šç¾©ã®æˆç†Ÿåº¦**\n- React DNDã¯ã€TypeScriptå‹å®šç¾©ãŒéå¸¸ã«æˆç†Ÿ\n- ã‚¸ã‚§ãƒãƒªã‚¯ã‚¹ã‚’æ´»ç”¨ã—ãŸå‹å®‰å…¨ãªAPI\n- dnd-kitã‚‚å‹å®šç¾©ã¯ã‚ã‚‹ãŒã€React DNDã»ã©æˆç†Ÿã—ã¦ã„ãªã„ï¼ˆ2025å¹´æ™‚ç‚¹ï¼‰\n\n**React DNDå‹å®šç¾©ä¾‹**:\n```typescript\ninterface DragItem {\n  componentId: string;\n  definitionId: string;\n  type: 'component';\n}\n\nconst [{ isDragging }, dragRef] = useDrag<DragItem, void, { isDragging: boolean }>(() => ({\n  type: 'COMPONENT',\n  item: { componentId, definitionId, type: 'component' },\n  collect: (monitor) => ({\n    isDragging: monitor.isDragging(),\n  }),\n}));\n```\n\nå‹æ¨è«–ãŒåŠ¹ã„ã¦ã€å‹å®‰å…¨ã€‚\n\n**ãƒ¡ãƒªãƒƒãƒˆï¼ˆé¸ã°ãªã‹ã£ãŸãŒã€èªã‚ã‚‹ã¹ãç‚¹ï¼‰**:\n- **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹**: dnd-kitã¯ã€React DNDã‚ˆã‚Šé«˜é€Ÿï¼ˆç‰¹ã«å¤§é‡ã®ã‚¢ã‚¤ãƒ†ãƒ ï¼‰\n- **ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚º**: dnd-kitã¯è»½é‡ï¼ˆç´„30KBï¼‰ã€React DNDã¯ç´„60KB\n- **ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£**: dnd-kitã¯ã€ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰æ“ä½œã€ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ãƒªãƒ¼ãƒ€ãƒ¼ã«æ¨™æº–å¯¾å¿œ\n- **Concurrent Modeå¯¾å¿œ**: React 18ã®Concurrent Modeã«æœ€é©åŒ–\n- **ãƒ¢ãƒ€ãƒ³ãªAPI**: Hooksä¸­å¿ƒã®è¨­è¨ˆ\n- **ãƒãƒ«ãƒã‚¿ãƒƒãƒå¯¾å¿œ**: ã‚¿ãƒƒãƒãƒ‡ãƒã‚¤ã‚¹ã§ã®è¤‡æ•°æŒ‡æ“ä½œã«å¯¾å¿œ\n\n**å°†æ¥çš„ãªç§»è¡Œã®å¯èƒ½æ€§**:\n- dnd-kitãŒã•ã‚‰ã«æˆç†Ÿã™ã‚Œã°ã€ç§»è¡Œã‚’æ¤œè¨ã™ã‚‹ä¾¡å€¤ãŒã‚ã‚‹\n- ç‰¹ã«ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã€ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ãŒé‡è¦ã«ãªã£ãŸå ´åˆ\n\n### å€™è£œ2ï¼šreact-beautiful-dnd\n\n```bash\nnpm install react-beautiful-dnd\n```\n\nreact-beautiful-dndã¯ã€Atlassianï¼ˆJiraã€Trelloã®é–‹ç™ºå…ƒï¼‰ãŒé–‹ç™ºã—ãŸãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã€‚\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n\n**ç†ç”±1ï¼šãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã®åœæ­¢**\n- react-beautiful-dndã¯ã€2022å¹´ã«ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ãƒ¢ãƒ¼ãƒ‰ã«ç§»è¡Œ\n- Atlassianã¯ã€é–‹ç™ºã‚’åœæ­¢ã—ã€dnd-kitã¸ã®ç§»è¡Œã‚’æ¨å¥¨\n- å…¬å¼ãƒªãƒã‚¸ãƒˆãƒªã«ã€Œã“ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¯ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã•ã‚Œã¦ã„ã¾ã›ã‚“ã€ã¨è¨˜è¼‰\n\n**ç†ç”±2ï¼šReact 18ã¨ã®äº’æ›æ€§å•é¡Œ**\n- React 18ã®å³æ ¼ãƒ¢ãƒ¼ãƒ‰ï¼ˆStrict Modeï¼‰ã§ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿ\n- Concurrent Modeã«å¯¾å¿œã—ã¦ã„ãªã„\n- å°†æ¥çš„ãªReactãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¢ãƒƒãƒ—ã§ã•ã‚‰ã«å•é¡ŒãŒç™ºç”Ÿã™ã‚‹å¯èƒ½æ€§\n\n**ç†ç”±3ï¼šç‰¹å®šã®ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã«ç‰¹åŒ–**\n- react-beautiful-dndã¯ã€ãƒªã‚¹ãƒˆã€ãƒœãƒ¼ãƒ‰ã®ã‚½ãƒ¼ãƒˆï¼ˆTrelloã®ã‚ˆã†ãªã‚«ãƒ³ãƒãƒ³ï¼‰ã«ç‰¹åŒ–\n- è‡ªç”±é…ç½®ã€ã‚°ãƒªãƒƒãƒ‰ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã«ã¯ä¸å‘ã\n- ai-document-generatorã®è¦ä»¶ï¼ˆã‚»ã‚¯ã‚·ãƒ§ãƒ³å†…ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆé…ç½®ï¼‰ã«åˆã‚ãªã„\n\n**ãƒªã‚¹ãƒˆã‚½ãƒ¼ãƒˆå°‚ç”¨ã®ä¾‹**:\n```tsx\n<DragDropContext onDragEnd={onDragEnd}>\n  <Droppable droppableId=\"list\">\n    {(provided) => (\n      <ul {...provided.droppableProps} ref={provided.innerRef}>\n        {items.map((item, index) => (\n          <Draggable key={item.id} draggableId={item.id} index={index}>\n            {/* ã‚¢ã‚¤ãƒ†ãƒ  */}\n          </Draggable>\n        ))}\n      </ul>\n    )}\n  </Droppable>\n</DragDropContext>\n```\n\nãƒªã‚¹ãƒˆå°‚ç”¨ã§ã€è‡ªç”±é…ç½®ã«ã¯å¯¾å¿œã—ã¦ã„ãªã„ã€‚\n\n**ç†ç”±4ï¼šAPIè¨­è¨ˆã®åˆ¶ç´„**\n- render propsãƒ‘ã‚¿ãƒ¼ãƒ³ï¼ˆ`provided`ã‚’æ¸¡ã™ï¼‰ãŒå¿…é ˆ\n- é–¢æ•°ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã€Hooksã¨ã®ç›¸æ€§ãŒæ‚ªã„\n- Reactã®å†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ãŒå¤šç™ºã—ã‚„ã™ã„\n\n**ãƒ¡ãƒªãƒƒãƒˆï¼ˆé¸ã°ãªã‹ã£ãŸãŒã€èªã‚ã‚‹ã¹ãç‚¹ï¼‰**:\n- **ç¾ã—ã„ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³**: ãƒ‰ãƒ©ãƒƒã‚°æ™‚ã®ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ãŒæ»‘ã‚‰ã‹\n- **ãƒªã‚¹ãƒˆã‚½ãƒ¼ãƒˆã«ç‰¹åŒ–**: ãƒªã‚¹ãƒˆã€ã‚«ãƒ³ãƒãƒ³ã®ã‚½ãƒ¼ãƒˆã«ã¯æœ€é©\n- **ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£**: ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰æ“ä½œã«æ¨™æº–å¯¾å¿œ\n- **ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ãŒç°¡å˜**: ãƒªã‚¹ãƒˆã‚½ãƒ¼ãƒˆãªã‚‰æ•°è¡Œã§å®Ÿè£…å¯èƒ½\n\n**ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹**:\n- Trelloé¢¨ã‚«ãƒ³ãƒãƒ³ãƒœãƒ¼ãƒ‰\n- Todoãƒªã‚¹ãƒˆã®ã‚½ãƒ¼ãƒˆ\n- ãƒ†ãƒ¼ãƒ–ãƒ«ã®è¡Œã‚½ãƒ¼ãƒˆ\n\nai-document-generatorã®è¦ä»¶ï¼ˆè‡ªç”±é…ç½®ï¼‰ã«ã¯ä¸å‘ãã€‚\n\n### å€™è£œ3ï¼šreact-sortable-hoc\n\n```bash\nnpm install react-sortable-hoc\n```\n\nreact-sortable-hocã¯ã€HOCï¼ˆHigher-Order Componentï¼‰ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ä½¿ã£ãŸã‚½ãƒ¼ãƒˆå°‚ç”¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã€‚\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n\n**ç†ç”±1ï¼šãƒ¬ã‚¬ã‚·ãƒ¼ãªAPIè¨­è¨ˆ**\n- HOCãƒ‘ã‚¿ãƒ¼ãƒ³ã¯ã€React 16.8ï¼ˆHookså°å…¥ï¼‰ä»¥å‰ã®è¨­è¨ˆ\n- ç¾ä»£ã®Reacté–‹ç™ºã§ã¯ã€HooksãŒæ¨™æº–\n- react-sortable-hocã¯ã€Hooks APIã‚’æä¾›ã—ã¦ã„ãªã„\n\n**ç†ç”±2ï¼šãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã®åœæ»**\n- æœ€çµ‚æ›´æ–°: 2021å¹´ï¼ˆæœ¬ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆæ™‚ç‚¹ã§4å¹´å‰ï¼‰\n- React 18ã¨ã®äº’æ›æ€§ãŒä¸æ˜\n- ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ãŒç¸®å°ä¸­\n\n**ç†ç”±3ï¼šã‚½ãƒ¼ãƒˆå°‚ç”¨**\n- ãƒªã‚¹ãƒˆã®ã‚½ãƒ¼ãƒˆã«ã®ã¿å¯¾å¿œ\n- è‡ªç”±é…ç½®ã€ã‚°ãƒªãƒƒãƒ‰ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã«ã¯å¯¾å¿œã—ã¦ã„ãªã„\n- ãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—ã®ä¸€èˆ¬çš„ãªç”¨é€”ã«ã¯ä¸å‘ã\n\n**HOCãƒ‘ã‚¿ãƒ¼ãƒ³ã®ä¾‹**:\n```tsx\nimport { SortableContainer, SortableElement } from 'react-sortable-hoc';\n\nconst SortableItem = SortableElement(({ value }) => <li>{value}</li>);\nconst SortableList = SortableContainer(({ items }) => (\n  <ul>\n    {items.map((value, index) => (\n      <SortableItem key={`item-${index}`} index={index} value={value} />\n    ))}\n  </ul>\n));\n```\n\nHOCãƒ‘ã‚¿ãƒ¼ãƒ³ã¯ã€Hooksæ™‚ä»£ã«ã¯å†—é•·ã€‚\n\n**ãƒ¡ãƒªãƒƒãƒˆï¼ˆé¸ã°ãªã‹ã£ãŸãŒã€èªã‚ã‚‹ã¹ãç‚¹ï¼‰**:\n- **è»½é‡**: ç´„20KB\n- **ã‚·ãƒ³ãƒ—ãƒ«**: ãƒªã‚¹ãƒˆã‚½ãƒ¼ãƒˆã«ç‰¹åŒ–ã—ã¦ã„ã‚‹ãŸã‚ã€APIãŒã‚·ãƒ³ãƒ—ãƒ«\n\n**ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹**:\n- ãƒ¬ã‚¬ã‚·ãƒ¼ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆï¼ˆReact 16ä»¥å‰ï¼‰\n- ã‚·ãƒ³ãƒ—ãƒ«ãªãƒªã‚¹ãƒˆã‚½ãƒ¼ãƒˆ\n\nai-document-generatorã«ã¯ä¸å‘ãã€‚\n\n### å€™è£œ4ï¼šãã®ä»–ã®é¸æŠè‚¢\n\n**ãƒã‚¤ãƒ†ã‚£ãƒ–HTML5 Drag and Drop API**:\n- React DNDã¯ã€HTML5 Drag and Drop APIã®ãƒ©ãƒƒãƒ‘ãƒ¼\n- ç›´æ¥ä½¿ç”¨ã™ã‚‹ã“ã¨ã‚‚å¯èƒ½\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n- APIãŒä½ãƒ¬ãƒ™ãƒ«ã§ã€å®Ÿè£…ãŒè¤‡é›‘\n- ã‚¯ãƒ­ã‚¹ãƒ–ãƒ©ã‚¦ã‚¶ã®äº’æ›æ€§å•é¡Œ\n- ãƒ¢ãƒã‚¤ãƒ«å¯¾å¿œãŒå›°é›£\n- React DNDãŒãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ã‚’æä¾›\n\n**react-draggable**:\n- ãƒ‰ãƒ©ãƒƒã‚°å¯èƒ½ãªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½œæˆã™ã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒª\n- ãƒ‰ãƒ­ãƒƒãƒ—ã‚¾ãƒ¼ãƒ³ã®æ¦‚å¿µãŒãªã„\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n- ãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—ã§ã¯ãªãã€å˜ãªã‚‹ç§»å‹•ï¼ˆpositionå¤‰æ›´ï¼‰\n- ai-document-generatorã®è¦ä»¶ï¼ˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®é…ç½®å¤‰æ›´ï¼‰ã«ã¯ä¸å‘ã\n\n## åˆ¤æ–­ç†ç”±\n\n### ç†ç”±1ï¼šæˆç†Ÿã—ãŸå®‰å®šæ€§\n\nReact DNDã¯ã€2014å¹´ã‹ã‚‰é–‹ç™ºã•ã‚Œã¦ã„ã‚‹æˆç†Ÿã—ãŸãƒ©ã‚¤ãƒ–ãƒ©ãƒªã€‚\n\n**å®Ÿç¸¾**:\n- **Trello**: ã‚«ãƒ¼ãƒ‰ã®ãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—ï¼ˆåˆæœŸç‰ˆï¼‰\n- **Asana**: ã‚¿ã‚¹ã‚¯ç®¡ç†\n- **Airtable**: ãƒ†ãƒ¼ãƒ–ãƒ«ã€ã‚«ãƒ³ãƒãƒ³ãƒ“ãƒ¥ãƒ¼\n- **Notion**: ãƒ–ãƒ­ãƒƒã‚¯ã®ä¸¦ã³æ›¿ãˆï¼ˆé¡ä¼¼æŠ€è¡“ï¼‰\n\n10å¹´ä»¥ä¸Šã®å®Ÿç¸¾ãŒã‚ã‚Šã€æœ¬ç•ªç’°å¢ƒã§ã®ä½¿ç”¨ä¾‹ãŒè±Šå¯Œã€‚\n\n### ç†ç”±2ï¼šæŸ”è»Ÿãªãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚·ã‚¹ãƒ†ãƒ \n\nReact DNDã¯ã€ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚’åˆ‡ã‚Šæ›¿ãˆã‚‹ã“ã¨ã§ã€ç•°ãªã‚‹ç’°å¢ƒã«å¯¾å¿œã§ãã‚‹ã€‚\n\n**ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®ç¨®é¡**:\n1. **HTML5Backend**: ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ãƒ–ãƒ©ã‚¦ã‚¶ç”¨ï¼ˆæ¨™æº–ï¼‰\n2. **TouchBackend**: ãƒ¢ãƒã‚¤ãƒ«ã€ã‚¿ãƒƒãƒãƒ‡ãƒã‚¤ã‚¹ç”¨\n3. **TestBackend**: ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆç”¨ï¼ˆDnDã®æŒ™å‹•ã‚’ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆï¼‰\n\n```tsx\nimport { DndProvider } from 'react-dnd';\nimport { HTML5Backend } from 'react-dnd-html5-backend';\nimport { TouchBackend } from 'react-dnd-touch-backend';\n\n// ãƒ‡ãƒã‚¤ã‚¹ã«å¿œã˜ã¦åˆ‡ã‚Šæ›¿ãˆ\nconst backend = isTouchDevice ? TouchBackend : HTML5Backend;\n\n<DndProvider backend={backend}>\n  <App />\n</DndProvider>\n```\n\ndnd-kitã‚‚ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚·ã‚¹ãƒ†ãƒ ã‚’æŒã¤ãŒã€React DNDã®æ–¹ãŒæˆç†Ÿã€‚\n\n### ç†ç”±3ï¼šReact Grid Layoutã¨ã®å®Ÿç¸¾\n\nai-document-generatorã§ã¯ã€React Grid Layoutï¼ˆã‚»ã‚¯ã‚·ãƒ§ãƒ³ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆï¼‰ã¨React DNDï¼ˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆé…ç½®ï¼‰ã‚’ä½µç”¨ã€‚\n\n**2ã¤ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®å½¹å‰²åˆ†æ‹…**:\n- **React Grid Layout**: ã‚»ã‚¯ã‚·ãƒ§ãƒ³å˜ä½ã®ã‚°ãƒªãƒƒãƒ‰ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ\n- **React DND**: ã‚»ã‚¯ã‚·ãƒ§ãƒ³å†…ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—\n\n```tsx\n<DndProvider backend={HTML5Backend}>\n  <GridLayout layout={sections}>\n    {sections.map(section => (\n      <div key={section.id}>\n        {/* React Grid LayoutãŒã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’é…ç½® */}\n        <Section>\n          {/* React DNDãŒã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’é…ç½® */}\n          <DraggableComponent />\n        </Section>\n      </div>\n    ))}\n  </GridLayout>\n</DndProvider>\n```\n\nã“ã®æ§‹æˆã¯ã€å¤šãã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ä½¿ç”¨ã•ã‚Œã¦ãŠã‚Šã€ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°æƒ…å ±ãŒè±Šå¯Œã€‚\n\n### ç†ç”±4ï¼šuseDrag/useDropã®ç›´æ„Ÿçš„ãªAPI\n\nReact DNDã®Hooks APIï¼ˆuseDragã€useDropï¼‰ã¯ã€ã‚·ãƒ³ãƒ—ãƒ«ã§ç›´æ„Ÿçš„ã€‚\n\n**useDragä¾‹**:\n```tsx\nconst [{ isDragging }, dragRef] = useDrag(() => ({\n  type: 'COMPONENT',\n  item: { componentId, definitionId },\n  collect: (monitor) => ({\n    isDragging: monitor.isDragging(),\n  }),\n}));\n\nreturn (\n  <div ref={dragRef} style={{ opacity: isDragging ? 0.5 : 1 }}>\n    {/* ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ */}\n  </div>\n);\n```\n\n**useDropä¾‹**:\n```tsx\nconst [{ isOver }, dropRef] = useDrop(() => ({\n  accept: 'COMPONENT',\n  drop: (item: DragItem) => {\n    handleDrop(item);\n  },\n  collect: (monitor) => ({\n    isOver: monitor.isOver(),\n  }),\n}));\n\nreturn (\n  <div ref={dropRef} style={{ background: isOver ? 'lightblue' : 'white' }}>\n    {/* ãƒ‰ãƒ­ãƒƒãƒ—ã‚¾ãƒ¼ãƒ³ */}\n  </div>\n);\n```\n\ndnd-kitã¨æ¯”è¼ƒã—ã¦ã€ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ãŒç°¡å˜ã€‚\n\n### ç†ç”±5ï¼šTypeScriptå‹å®šç¾©ã®å……å®Ÿ\n\nReact DNDã¯ã€TypeScriptå‹å®šç¾©ãŒéå¸¸ã«å……å®Ÿã€‚\n\n**ã‚¸ã‚§ãƒãƒªã‚¯ã‚¹å‹ã®æ´»ç”¨**:\n```typescript\ninterface DragItem {\n  componentId: string;\n  definitionId: string;\n  type: 'component';\n}\n\ninterface DropResult {\n  sectionId: string;\n  position: { x: number; y: number };\n}\n\ninterface CollectedProps {\n  isDragging: boolean;\n  canDrag: boolean;\n}\n\nconst [{ isDragging, canDrag }, dragRef] = useDrag<\n  DragItem,\n  DropResult,\n  CollectedProps\n>(() => ({\n  type: 'COMPONENT',\n  item: { componentId, definitionId, type: 'component' },\n  collect: (monitor) => ({\n    isDragging: monitor.isDragging(),\n    canDrag: monitor.canDrag(),\n  }),\n}));\n```\n\nå‹å®‰å…¨ã§ã€IDEã®è£œå®ŒãŒåŠ¹ãã€‚\n\n### ç†ç”±6ï¼šå­¦ç¿’ãƒªã‚½ãƒ¼ã‚¹ã®è±Šå¯Œã•\n\nReact DNDã¯ã€å­¦ç¿’ãƒªã‚½ãƒ¼ã‚¹ãŒè±Šå¯Œã€‚\n\n**ãƒªã‚½ãƒ¼ã‚¹**:\n- å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ: https://react-dnd.github.io/react-dnd/\n- å…¬å¼ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«: ãƒã‚§ã‚¹ãƒœãƒ¼ãƒ‰ã€ã‚«ãƒ¼ãƒ‰ã‚²ãƒ¼ãƒ ãªã©\n- Stack Overflow: 3,000ä»¥ä¸Šã®è³ªå•\n- GitHub Discussions: æ´»ç™ºãªã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£\n- Awesome React DnD: ã‚­ãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã•ã‚ŒãŸãƒªã‚½ãƒ¼ã‚¹é›†\n\ndnd-kitã‚‚æƒ…å ±ã¯å¢—ãˆã¦ã„ã‚‹ãŒã€React DNDã®æ–¹ãŒåœ§å€’çš„ã«å¤šã„ã€‚\n\n### ç†ç”±7ï¼šãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆæ™‚ç‚¹ã§ã®åˆ¤æ–­\n\nã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒä½œæˆã•ã‚ŒãŸ2025-04-11æ™‚ç‚¹ã§ã¯ã€React DNDãŒæœ€ã‚‚å®‰å…¨ãªé¸æŠã€‚\n\n**ç†ç”±**:\n- dnd-kitã¯ã€ã¾ã æ–°ã—ã„ï¼ˆ2021å¹´ãƒªãƒªãƒ¼ã‚¹ï¼‰\n- è¤‡é›‘ãªã‚¨ãƒ‡ã‚£ã‚¿ã§ã¯ã€å®Ÿç¸¾ã®ã‚ã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’å„ªå…ˆ\n- ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãŒå®¹æ˜“\n\n**å°†æ¥çš„ãªç§»è¡Œã®å¯èƒ½æ€§**:\n- dnd-kitãŒæˆç†Ÿã™ã‚Œã°ã€ç§»è¡Œã‚’æ¤œè¨ã™ã‚‹ä¾¡å€¤ãŒã‚ã‚‹\n- ç‰¹ã«ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã€ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºã€ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ãŒé‡è¦ã«ãªã£ãŸå ´åˆ\n\n## ã“ã®åˆ¤æ–­ã‹ã‚‰å­¦ã¹ã‚‹ã“ã¨\n\n### å­¦ã³1ï¼šãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®é¸æŠåŸºæº–\n\nãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’é¸æŠã™ã‚‹éš›ã®åˆ¤æ–­åŸºæº–ï¼š\n\n1. **ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã‚’æ˜ç¢ºã«ã™ã‚‹**\n   - ãƒªã‚¹ãƒˆã‚½ãƒ¼ãƒˆå°‚ç”¨ã‹ï¼Ÿ â†’ react-beautiful-dndã€react-sortable-hoc\n   - è‡ªç”±é…ç½®ã‹ï¼Ÿ â†’ React DNDã€dnd-kit\n   - ã‚°ãƒªãƒƒãƒ‰ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‹ï¼Ÿ â†’ React DND + React Grid Layout\n\n2. **ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®æˆç†Ÿåº¦**\n   - å®Ÿé¨“çš„ãªãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‹ï¼Ÿ â†’ dnd-kitï¼ˆãƒ¢ãƒ€ãƒ³ã€è»½é‡ï¼‰\n   - æœ¬ç•ªç’°å¢ƒã‹ï¼Ÿ â†’ React DNDï¼ˆå®Ÿç¸¾ã€å®‰å®šæ€§ï¼‰\n\n3. **å­¦ç¿’ã‚³ã‚¹ãƒˆã¨æ™‚é–“**\n   - çŸ­æœŸé–“ã§å®Ÿè£…ã—ãŸã„ã‹ï¼Ÿ â†’ React DNDï¼ˆæƒ…å ±ãŒå¤šã„ï¼‰\n   - æœ€æ–°æŠ€è¡“ã‚’è©¦ã—ãŸã„ã‹ï¼Ÿ â†’ dnd-kit\n\n4. **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è¦ä»¶**\n   - å¤§é‡ã®ã‚¢ã‚¤ãƒ†ãƒ ã‚’æ‰±ã†ã‹ï¼Ÿ â†’ dnd-kitï¼ˆé«˜é€Ÿï¼‰\n   - ä¸­è¦æ¨¡ã®ã‚¢ã‚¤ãƒ†ãƒ ã‹ï¼Ÿ â†’ React DNDï¼ˆååˆ†ï¼‰\n\n5. **ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã¨ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ **\n   - ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãªé–‹ç™ºãŒè¡Œã‚ã‚Œã¦ã„ã‚‹ã‹ï¼Ÿ â†’ React DNDã€dnd-kit\n   - ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ãƒ¢ãƒ¼ãƒ‰ã‹ï¼Ÿ â†’ react-beautiful-dndï¼ˆé¿ã‘ã‚‹ï¼‰\n\n### å­¦ã³2ï¼šæ–°æ—§ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ãƒˆãƒ¬ãƒ¼ãƒ‰ã‚ªãƒ•\n\ndnd-kitï¼ˆæ–°ï¼‰ã¨React DNDï¼ˆæ—§ï¼‰ã®é¸æŠã‹ã‚‰ã€æ–°æ—§ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ãƒˆãƒ¬ãƒ¼ãƒ‰ã‚ªãƒ•ã‚’å­¦ã¹ã‚‹ï¼š\n\n**æ–°ã—ã„ãƒ©ã‚¤ãƒ–ãƒ©ãƒªï¼ˆdnd-kitï¼‰ã®ãƒ¡ãƒªãƒƒãƒˆ**:\n- ãƒ¢ãƒ€ãƒ³ãªAPIè¨­è¨ˆï¼ˆHooksä¸­å¿ƒï¼‰\n- æœ€æ–°ã®Reactæ©Ÿèƒ½ï¼ˆConcurrent Modeï¼‰ã«å¯¾å¿œ\n- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–\n- ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºãŒå°ã•ã„\n- ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£æ¨™æº–å¯¾å¿œ\n\n**æ–°ã—ã„ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ**:\n- å®Ÿç¸¾ãŒå°‘ãªã„\n- ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°æƒ…å ±ãŒå°‘ãªã„\n- ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ãŒæœªæˆç†Ÿ\n- ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¢ãƒƒãƒ—ã§APIãŒå¤‰ã‚ã‚‹å¯èƒ½æ€§\n\n**å¤ã„ãƒ©ã‚¤ãƒ–ãƒ©ãƒªï¼ˆReact DNDï¼‰ã®ãƒ¡ãƒªãƒƒãƒˆ**:\n- å®Ÿç¸¾ãŒè±Šå¯Œ\n- ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°æƒ…å ±ãŒå¤šã„\n- ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ãŒæˆç†Ÿ\n- APIãŒå®‰å®š\n\n**å¤ã„ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ**:\n- ãƒ¬ã‚¬ã‚·ãƒ¼ãªAPIè¨­è¨ˆï¼ˆä¸€éƒ¨ï¼‰\n- ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºãŒå¤§ãã„\n- æœ€æ–°ã®Reactæ©Ÿèƒ½ã«å®Œå…¨å¯¾å¿œã—ã¦ã„ãªã„\n\n**åˆ¤æ–­åŸºæº–**:\n- **æœ¬ç•ªç’°å¢ƒã€è¤‡é›‘ãªãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ**: å¤ã„ãƒ©ã‚¤ãƒ–ãƒ©ãƒªï¼ˆå®Ÿç¸¾é‡è¦–ï¼‰\n- **å®Ÿé¨“çš„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã€ã‚·ãƒ³ãƒ—ãƒ«ãªè¦ä»¶**: æ–°ã—ã„ãƒ©ã‚¤ãƒ–ãƒ©ãƒªï¼ˆæŠ€è¡“çš„ãƒ¡ãƒªãƒƒãƒˆé‡è¦–ï¼‰\n\n### å­¦ã³3ï¼šãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹çŠ¶æ³ã®é‡è¦æ€§\n\nreact-beautiful-dndã‚’é¸ã°ãªã‹ã£ãŸç†ç”±ã‹ã‚‰ã€ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹çŠ¶æ³ãŒé‡è¦ã§ã‚ã‚‹ã“ã¨ã‚’å­¦ã¹ã‚‹ï¼š\n\n**ç¢ºèªã™ã¹ãæŒ‡æ¨™**:\n1. **æœ€çµ‚æ›´æ–°æ—¥**: 1å¹´ä»¥å†…ãŒæœ›ã¾ã—ã„\n2. **ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ãƒ¢ãƒ¼ãƒ‰ã®å®£è¨€**: ãƒªãƒã‚¸ãƒˆãƒªã«æ˜è¨˜ã•ã‚Œã¦ã„ã‚‹ã‹\n3. **Reactæœ€æ–°ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¨ã®äº’æ›æ€§**: React 18ã€19ã«å¯¾å¿œã—ã¦ã„ã‚‹ã‹\n4. **ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã®æ´»ç™ºã•**: Issueã€PRãŒæ´»ç™ºã‹\n5. **ç§»è¡Œæ¨å¥¨**: é–‹ç™ºå…ƒãŒåˆ¥ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¸ã®ç§»è¡Œã‚’æ¨å¥¨ã—ã¦ã„ãªã„ã‹\n\n**react-beautiful-dndã®ä¾‹**:\n- å…¬å¼ãƒªãƒã‚¸ãƒˆãƒªã«ã€Œãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã•ã‚Œã¦ã„ã¾ã›ã‚“ã€ã¨æ˜è¨˜\n- AtlassianãŒdnd-kitã¸ã®ç§»è¡Œã‚’æ¨å¥¨\n- React 18ã§å•é¡ŒãŒç™ºç”Ÿ\n\nâ†’ æ–°è¦ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯é¿ã‘ã‚‹ã¹ã\n\n### å­¦ã³4ï¼šãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã®ç‰¹åŒ– vs æ±ç”¨æ€§\n\nreact-beautiful-dndï¼ˆãƒªã‚¹ãƒˆã‚½ãƒ¼ãƒˆå°‚ç”¨ï¼‰ã¨React DNDï¼ˆæ±ç”¨ï¼‰ã®æ¯”è¼ƒã‹ã‚‰ã€ç‰¹åŒ– vs æ±ç”¨ã®ãƒˆãƒ¬ãƒ¼ãƒ‰ã‚ªãƒ•ã‚’å­¦ã¹ã‚‹ï¼š\n\n**ç‰¹åŒ–ã—ãŸãƒ©ã‚¤ãƒ–ãƒ©ãƒªï¼ˆreact-beautiful-dndï¼‰**:\n- **ãƒ¡ãƒªãƒƒãƒˆ**: ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ãŒç°¡å˜ã€ç¾ã—ã„ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã€ç‰¹å®šã®ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã«æœ€é©\n- **ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ**: ä»–ã®ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã«å¯¾å¿œã§ããªã„\n\n**æ±ç”¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒªï¼ˆReact DNDï¼‰**:\n- **ãƒ¡ãƒªãƒƒãƒˆ**: æŸ”è»Ÿæ€§ãŒé«˜ã„ã€æ§˜ã€…ãªãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã«å¯¾å¿œ\n- **ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ**: ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ãŒã‚„ã‚„è¤‡é›‘ã€ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºãŒå¿…è¦\n\n**åˆ¤æ–­åŸºæº–**:\n- **è¦ä»¶ãŒæ˜ç¢ºã€å¤‰ã‚ã‚‰ãªã„**: ç‰¹åŒ–ã—ãŸãƒ©ã‚¤ãƒ–ãƒ©ãƒª\n- **è¦ä»¶ãŒå¤‰ã‚ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹**: æ±ç”¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒª\n\nai-document-generatorã§ã¯ã€å°†æ¥çš„ã«æ©Ÿèƒ½æ‹¡å¼µã®å¯èƒ½æ€§ãŒã‚ã‚‹ãŸã‚ã€æ±ç”¨æ€§ã®é«˜ã„React DNDã‚’é¸æŠã€‚\n\n### å­¦ã³5ï¼šãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚·ã‚¹ãƒ†ãƒ ã®æŸ”è»Ÿæ€§\n\nReact DNDã®ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚·ã‚¹ãƒ†ãƒ ã‹ã‚‰ã€æŠ½è±¡åŒ–ã®é‡è¦æ€§ã‚’å­¦ã¹ã‚‹ï¼š\n\n**ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚·ã‚¹ãƒ†ãƒ ã®ãƒ¡ãƒªãƒƒãƒˆ**:\n- ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ã€ãƒ¢ãƒã‚¤ãƒ«ã§ç•°ãªã‚‹ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚’ä½¿ç”¨å¯èƒ½\n- ãƒ†ã‚¹ãƒˆç’°å¢ƒã§ã¯ã€TestBackendã§DnDã®æŒ™å‹•ã‚’ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆ\n- ã‚«ã‚¹ã‚¿ãƒ ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚’å®Ÿè£…å¯èƒ½\n\n```tsx\n// ç’°å¢ƒã«å¿œã˜ã¦åˆ‡ã‚Šæ›¿ãˆ\nconst backend = isTouchDevice ? TouchBackend : HTML5Backend;\n\n// ãƒ†ã‚¹ãƒˆç’°å¢ƒã§ã¯ã€TestBackendã‚’ä½¿ç”¨\nif (process.env.NODE_ENV === 'test') {\n  backend = TestBackend;\n}\n\n<DndProvider backend={backend}>\n  <App />\n</DndProvider>\n```\n\nã“ã®æŸ”è»Ÿæ€§ã«ã‚ˆã‚Šã€ç•°ãªã‚‹ç’°å¢ƒã§åŒã˜ã‚³ãƒ¼ãƒ‰ã‚’ä½¿ç”¨ã§ãã‚‹ã€‚\n\n### å­¦ã³6ï¼šHOC vs Hooksã®æ™‚ä»£å¤‰åŒ–\n\nreact-sortable-hocã‚’é¸ã°ãªã‹ã£ãŸç†ç”±ã‹ã‚‰ã€React APIã®æ™‚ä»£å¤‰åŒ–ã‚’å­¦ã¹ã‚‹ï¼š\n\n**HOCãƒ‘ã‚¿ãƒ¼ãƒ³ï¼ˆReact 16.8ä»¥å‰ï¼‰**:\n- ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ãƒ©ãƒƒãƒ—ã™ã‚‹é«˜éšã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ\n- ãƒã‚¹ãƒˆãŒæ·±ããªã‚‹ï¼ˆ\"ãƒ©ãƒƒãƒ‘ãƒ¼åœ°ç„\"ï¼‰\n- å‹å®šç¾©ãŒè¤‡é›‘\n\n**Hooksãƒ‘ã‚¿ãƒ¼ãƒ³ï¼ˆReact 16.8ä»¥é™ï¼‰**:\n- é–¢æ•°ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå†…ã§ç›´æ¥ä½¿ç”¨\n- ãƒ•ãƒ©ãƒƒãƒˆãªæ§‹é€ \n- å‹å®šç¾©ãŒã‚·ãƒ³ãƒ—ãƒ«\n\n**ç¾ä»£ã®Reacté–‹ç™ºã§ã¯ã€HooksãŒæ¨™æº–**ã€‚HOCãƒ‘ã‚¿ãƒ¼ãƒ³ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¯é¿ã‘ã‚‹ã¹ãã€‚\n\n### å­¦ã³7ï¼šReact Grid Layoutã¨ã®ä½µç”¨ãƒ‘ã‚¿ãƒ¼ãƒ³\n\nReact DNDã¨React Grid Layoutã®ä½µç”¨ã‹ã‚‰ã€è¤‡æ•°ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®çµ„ã¿åˆã‚ã›ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’å­¦ã¹ã‚‹ï¼š\n\n**å½¹å‰²åˆ†æ‹…**:\n- **React Grid Layout**: ã‚»ã‚¯ã‚·ãƒ§ãƒ³å˜ä½ã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆï¼ˆã‚°ãƒªãƒƒãƒ‰ã€ãƒªã‚µã‚¤ã‚ºï¼‰\n- **React DND**: ã‚»ã‚¯ã‚·ãƒ§ãƒ³å†…ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆé…ç½®ï¼ˆãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—ï¼‰\n\n**ãƒ¡ãƒªãƒƒãƒˆ**:\n- å„ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒå¾—æ„ãªé ˜åŸŸã‚’æ‹…å½“\n- è²¬ä»»ãŒæ˜ç¢º\n- æŸ”è»Ÿæ€§ãŒé«˜ã„\n\n**æ³¨æ„ç‚¹**:\n- 2ã¤ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ç›¸äº’ä½œç”¨ã‚’ç†è§£ã™ã‚‹å¿…è¦ãŒã‚ã‚‹\n- ãƒ‰ãƒ©ãƒƒã‚°ã‚¤ãƒ™ãƒ³ãƒˆã®ç«¶åˆã‚’é¿ã‘ã‚‹\n\n```tsx\n<DndProvider backend={HTML5Backend}>\n  <GridLayout layout={sections} onLayoutChange={handleLayoutChange}>\n    {sections.map(section => (\n      <div key={section.id} data-grid={section.grid}>\n        {/* React Grid LayoutãŒã“ã®divã‚’é…ç½® */}\n        <Section>\n          {/* React DNDãŒã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’é…ç½® */}\n          <DropZone>\n            {components.map(component => (\n              <DraggableComponent key={component.id} {...component} />\n            ))}\n          </DropZone>\n        </Section>\n      </div>\n    ))}\n  </GridLayout>\n</DndProvider>\n```\n\n---\n\n## ã¾ã¨ã‚\n\n**React DNDã‚’é¸ã‚“ã ç†ç”±**:\n1. æˆç†Ÿã—ãŸå®‰å®šæ€§ï¼ˆ10å¹´ä»¥ä¸Šã®å®Ÿç¸¾ï¼‰\n2. æŸ”è»Ÿãªãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚·ã‚¹ãƒ†ãƒ \n3. React Grid Layoutã¨ã®å®Ÿç¸¾ã‚ã‚‹ä½µç”¨ãƒ‘ã‚¿ãƒ¼ãƒ³\n4. useDrag/useDropã®ç›´æ„Ÿçš„ãªAPI\n5. TypeScriptå‹å®šç¾©ã®å……å®Ÿ\n6. å­¦ç¿’ãƒªã‚½ãƒ¼ã‚¹ã®è±Šå¯Œã•\n7. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆæ™‚ç‚¹ï¼ˆ2025-04-11ï¼‰ã§ã®å®‰å…¨ãªé¸æŠ\n\n**ãƒˆãƒ¬ãƒ¼ãƒ‰ã‚ªãƒ•**:\n- ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºãŒã‚„ã‚„å¤§ãã„ï¼ˆç´„60KBï¼‰\n- dnd-kitã¨æ¯”è¼ƒã—ã¦ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãŒã‚„ã‚„åŠ£ã‚‹\n- æœ€æ–°ã®Reactæ©Ÿèƒ½ï¼ˆConcurrent Modeï¼‰ã¸ã®æœ€é©åŒ–ãŒä¸å®Œå…¨\n\n**çµè«–**:\nai-document-generatorã®ã‚ˆã†ãªã€è¤‡é›‘ãªã‚¨ãƒ‡ã‚£ã‚¿ã€é•·æœŸçš„ãªãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯ã€React DNDã¯å®‰å…¨ã§å®Ÿç¸¾ã®ã‚ã‚‹é¸æŠã€‚\n\nå°†æ¥çš„ã«dnd-kitãŒæˆç†Ÿã—ã€React Grid Layoutã¨ã®ä½µç”¨ä¾‹ãŒå¢—ãˆã‚Œã°ã€ç§»è¡Œã‚’æ¤œè¨ã™ã‚‹ä¾¡å€¤ãŒã‚ã‚‹ã€‚\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€ŒReact DnD vs dnd-kit ã®é¸æŠã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "skill-react-dnd-drag-drop",
      "skill-react-grid-layout-implementation"
    ]
  },
  {
    "slug": "tech-tailwind-css-decision",
    "title": "Tailwind CSS 3.3.5 æ¡ç”¨ã¨ã‚«ã‚¹ã‚¿ãƒ ãƒ‡ã‚¶ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ æ§‹ç¯‰",
    "category": "Decisionsï¼ˆæŠ€è¡“é¸å®šãƒ»åˆ¤æ–­ï¼‰",
    "description": "Tailwind CSS 3.3.5 æ¡ç”¨ã¨ã‚«ã‚¹ã‚¿ãƒ ãƒ‡ã‚¶ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ æ§‹ç¯‰",
    "project": "instagram-post-generator",
    "usedIn": [
      "tailwind.config.js:1-46, package.json:38"
    ],
    "code": "```json\n{\n  \"id\": \"decision_tech_tailwind_css_decision_2025_11_25\",\n  \"type\": \"decision\",\n  \"name\": \"Tailwind CSS 3.3.5 æ¡ç”¨ã¨ã‚«ã‚¹ã‚¿ãƒ ãƒ‡ã‚¶ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ æ§‹ç¯‰\",\n  \"decision_type\": \"tech_selection\",\n  \"tags\": [\"Tailwind CSS\", \"ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°\", \"ãƒ‡ã‚¶ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ \", \"ã‚«ã‚¹ã‚¿ãƒ ã‚«ãƒ©ãƒ¼\", \"ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³\", \"Instagramæœ€é©åŒ–\"],\n  \"source_project\": \"instagram-post-generator\",\n  \"source_file\": \"tailwind.config.js:1-46, package.json:38\",\n  \"chosen\": \"Tailwind CSS 3.3.5 + ã‚«ã‚¹ã‚¿ãƒ ã‚«ãƒ©ãƒ¼ãƒ‘ãƒ¬ãƒƒãƒˆ + ã‚«ã‚¹ã‚¿ãƒ ãƒ•ã‚©ãƒ³ãƒˆ + ã‚«ã‚¹ã‚¿ãƒ ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³\",\n  \"alternatives\": [\"styled-components\", \"CSS Modules\", \"Emotion\", \"Vanilla CSS\"],\n  \"related_knowledge\": [\n    \"decision_tech_nextjs_15_app_router_2025_11_25\",\n    \"skill_instagram_1080x1080_optimization_2025_11_25\",\n    \"skill_html2canvas_optimization_techniques_2025_11_25\"\n  ],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# Tailwind CSS 3.3.5 æ¡ç”¨ã¨ã‚«ã‚¹ã‚¿ãƒ ãƒ‡ã‚¶ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ æ§‹ç¯‰\n\n## ä½•ã‚’åˆ¤æ–­ã—ãŸã‹\n\n**InstagramæŠ•ç¨¿ç”Ÿæˆã‚·ã‚¹ãƒ†ãƒ ã«ãŠã„ã¦ã€Tailwind CSS 3.3.5ã‚’æ¡ç”¨ã—ã€FIND to DOæˆ¦ç•¥ã«ç‰¹åŒ–ã—ãŸã‚«ã‚¹ã‚¿ãƒ ãƒ‡ã‚¶ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ ã‚’æ§‹ç¯‰ã™ã‚‹ã€‚**\n\nã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºå†…å®¹:\n1. **ã‚«ã‚¹ã‚¿ãƒ ã‚«ãƒ©ãƒ¼ãƒ‘ãƒ¬ãƒƒãƒˆ**: FIND to DOãƒ–ãƒ©ãƒ³ãƒ‰ã‚«ãƒ©ãƒ¼ + ã‚¿ãƒ¼ã‚²ãƒƒãƒˆåˆ¥ã‚«ãƒ©ãƒ¼\n2. **ã‚«ã‚¹ã‚¿ãƒ ãƒ•ã‚©ãƒ³ãƒˆ**: æ—¥æœ¬èªæœ€é©åŒ– + T009ã‚¿ãƒ¼ã‚²ãƒƒãƒˆå°‚ç”¨ãƒ•ã‚©ãƒ³ãƒˆ\n3. **ã‚«ã‚¹ã‚¿ãƒ ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³**: fade-inã€slide-up\n\nã“ã®åˆ¤æ–­ã«ã‚ˆã‚Šã€**Instagram 1080x1080ã¸ã®æœ€é©åŒ–**ã¨**ãƒ–ãƒ©ãƒ³ãƒ‰ä¸€è²«æ€§**ã‚’å®Ÿç¾ã™ã‚‹ã€‚\n\n---\n\n## é¸ã‚“ã ã‚‚ã®\n\n### Tailwind CSS 3.3.5 + ã‚«ã‚¹ã‚¿ãƒ ãƒ‡ã‚¶ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ \n\n**tailwind.config.js**ã®è¨­å®š:\n```javascript\nmodule.exports = {\n  content: [\n    './pages/**/*.{js,ts,jsx,tsx,mdx}',\n    './components/**/*.{js,ts,jsx,tsx,mdx}',\n    './app/**/*.{js,ts,jsx,tsx,mdx}',\n  ],\n  theme: {\n    extend: {\n      colors: {\n        // FIND to DO ãƒ–ãƒ©ãƒ³ãƒ‰ã‚«ãƒ©ãƒ¼ï¼ˆ5è‰²ï¼‰\n        'find-blue': '#3B82F6',      // ãƒ¡ã‚¤ãƒ³ã‚«ãƒ©ãƒ¼: ä¿¡é ¼æ€§ãƒ»ãƒ—ãƒ­ãƒ•ã‚§ãƒƒã‚·ãƒ§ãƒŠãƒ«\n        'find-orange': '#F97316',    // ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚«ãƒ©ãƒ¼: æ´»åŠ›ãƒ»è¡Œå‹•ä¿ƒé€²\n        'find-green': '#10B981',     // æˆåŠŸã‚«ãƒ©ãƒ¼: æˆé•·ãƒ»é”æˆ\n        'find-purple': '#8B5CF6',    // ã‚¯ãƒªã‚¨ã‚¤ãƒ†ã‚£ãƒ–ã‚«ãƒ©ãƒ¼: å‰µé€ æ€§ãƒ»å¯èƒ½æ€§\n        'find-pink': '#EC4899',      // å…±æ„Ÿã‚«ãƒ©ãƒ¼: æ„Ÿæƒ…ãƒ»ã¤ãªãŒã‚Š\n\n        // ã‚¿ãƒ¼ã‚²ãƒƒãƒˆåˆ¥ã‚«ã‚¹ã‚¿ãƒ ã‚«ãƒ©ãƒ¼\n        't007-intro': '#5B5BCC',     // T007ï¼ˆæ³•å­¦éƒ¨ç”Ÿï¼‰: intro ãƒšãƒ¼ã‚¸èƒŒæ™¯\n        't007-summary': '#D5DBF9',   // T007: summary ãƒšãƒ¼ã‚¸èƒŒæ™¯\n        't009-special': '#FFB74D',   // T009ï¼ˆçµŒå–¶å­¦éƒ¨ç”Ÿï¼‰: ç‰¹åˆ¥å¼·èª¿è‰²\n        't010-summary': '#E8F5E9',   // T010ï¼ˆç†ç³»å­¦ç”Ÿï¼‰: summary ãƒšãƒ¼ã‚¸èƒŒæ™¯\n\n        // Tailwind UIçµ±åˆï¼ˆshadcn/uiç­‰ã¨ã®äº’æ›æ€§ï¼‰\n        border: 'hsl(var(--border))',\n        background: 'hsl(var(--background))',\n        foreground: 'hsl(var(--foreground))',\n      },\n      fontFamily: {\n        'japanese': ['Noto Sans JP', 'sans-serif'],                          // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆæ—¥æœ¬èª\n        'heading': ['Inter', 'sans-serif'],                                  // è¦‹å‡ºã—è‹±èª\n        't009-special': ['M PLUS Rounded 1c', 'Noto Sans JP', 'sans-serif'], // T009å°‚ç”¨\n      },\n      animation: {\n        'fade-in': 'fadeIn 0.5s ease-in-out',\n        'slide-up': 'slideUp 0.3s ease-out',\n      },\n      keyframes: {\n        fadeIn: {\n          '0%': { opacity: '0' },\n          '100%': { opacity: '1' },\n        },\n        slideUp: {\n          '0%': { transform: 'translateY(20px)', opacity: '0' },\n          '100%': { transform: 'translateY(0)', opacity: '1' },\n        },\n      },\n    },\n  },\n  plugins: [],\n}\n```\n\n---\n\n## ä»–ã®å€™è£œ\n\n### å€™è£œ1: styled-componentsï¼ˆCSS-in-JSï¼‰\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n- **ç†ç”±1**: ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã‚³ã‚¹ãƒˆãŒé«˜ã„\n  ```jsx\n  // âŒ styled-components: ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã§ CSS ã‚’ç”Ÿæˆ\n  const Button = styled.button`\n    background-color: ${props => props.primary ? '#3B82F6' : '#10B981'};\n    padding: 12px 24px;\n  `\n  // å•é¡Œ: JSå®Ÿè¡Œæ™‚ã«CSSã‚’ç”Ÿæˆ â†’ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ä½ä¸‹\n  ```\n\n  ```jsx\n  // âœ… Tailwind CSS: ãƒ“ãƒ«ãƒ‰æ™‚ã« CSS ã‚’ç”Ÿæˆ\n  <button className=\"bg-find-blue p-3 px-6\">\n    {/* ãƒ“ãƒ«ãƒ‰æ™‚ã«ç¢ºå®š â†’ ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã‚³ã‚¹ãƒˆã‚¼ãƒ­ */}\n  </button>\n  ```\n\n- **ç†ç”±2**: Next.js App Routerã¨ã®ç›¸æ€§å•é¡Œ\n  - App Routerã¯ã‚µãƒ¼ãƒãƒ¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå„ªå…ˆ\n  - styled-componentsã¯'use client'å¿…é ˆï¼ˆã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆåŒ–ï¼‰\n  - ãƒãƒ³ãƒ‰ãƒ«ã‚µã‚¤ã‚ºå¢—åŠ ï¼ˆstyled-componentsæœ¬ä½“: ~15KBï¼‰\n\n- **ç†ç”±3**: html2canvasã¨ã®äº’æ›æ€§å•é¡Œ\n  - html2canvasã¯DOMâ†’Canvasãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°\n  - styled-componentsã®å‹•çš„ã‚¹ã‚¿ã‚¤ãƒ«ã¯å¤‰æ›æ™‚ã«ä¸å®‰å®š\n  - Tailwindã®ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã‚¯ãƒ©ã‚¹ã¯å®‰å®š\n\n### å€™è£œ2: CSS Modules\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n- **ç†ç”±1**: ãƒ•ã‚¡ã‚¤ãƒ«ç®¡ç†ãŒç…©é›‘\n  ```\n  Button.tsx\n  Button.module.css  â† åˆ¥ãƒ•ã‚¡ã‚¤ãƒ«ç®¡ç†\n  ```\n  - 72ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ•ã‚¡ã‚¤ãƒ« â†’ 144ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆ2å€ï¼‰\n\n- **ç†ç”±2**: å‹•çš„ã‚¹ã‚¿ã‚¤ãƒ«ãŒå›°é›£\n  ```css\n  /* âŒ CSS Modules: å‹•çš„å€¤ã¯åˆ¥é€”JSã§å‡¦ç† */\n  .button {\n    background-color: var(--bg-color); /* JSã‹ã‚‰æ³¨å…¥ */\n  }\n  ```\n\n  ```jsx\n  /* âœ… Tailwind CSS: å‹•çš„å€¤ã‚‚ç°¡å˜ */\n  <div className={`bg-${targetColor}-500`}>\n  ```\n\n- **ç†ç”±3**: ãƒ‡ã‚¶ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ ã®ä¸€è²«æ€§ç¶­æŒãŒå›°é›£\n  - ã‚«ãƒ©ãƒ¼ãƒ‘ãƒ¬ãƒƒãƒˆã€ã‚¹ãƒšãƒ¼ã‚·ãƒ³ã‚°ã€ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚ºã‚’ã™ã¹ã¦CSSå¤‰æ•°ã§å®šç¾©\n  - Tailwindã¯è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«1ã¤ã§ä¸€å…ƒç®¡ç†\n\n### å€™è£œ3: Emotionï¼ˆCSS-in-JSï¼‰\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n- styled-componentsã¨åŒæ§˜ã®å•é¡Œï¼ˆãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã‚³ã‚¹ãƒˆã€App Routerç›¸æ€§ï¼‰\n- å­¦ç¿’æ›²ç·šãŒæ€¥ï¼ˆ`css` propã€`styled` APIã€`keyframes` ç­‰ï¼‰\n- Tailwindã®æ–¹ãŒãƒãƒ¼ãƒ é–‹ç™ºã§ä¸€è²«æ€§ã‚’ä¿ã¡ã‚„ã™ã„\n\n### å€™è£œ4: Vanilla CSS\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n- **ç†ç”±1**: ã‚¯ãƒ©ã‚¹åè¡çªã®ãƒªã‚¹ã‚¯\n  ```css\n  /* âŒ ã‚°ãƒ­ãƒ¼ãƒãƒ«æ±šæŸ“ */\n  .button { ... }\n  .card { ... }\n  /* ä»–ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¨è¡çªã®å¯èƒ½æ€§ */\n  ```\n\n- **ç†ç”±2**: ãƒ‡ã‚¶ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ ã®ç®¡ç†å›°é›£\n  - CSSå¤‰æ•°ã‚’æ‰‹å‹•ç®¡ç†\n  - ã‚¹ãƒšãƒ¼ã‚·ãƒ³ã‚°ã€ã‚«ãƒ©ãƒ¼ã®ä¸€è²«æ€§ç¶­æŒãŒå›°é›£\n\n- **ç†ç”±3**: é–‹ç™ºé€Ÿåº¦ãŒé…ã„\n  - æ¯å›ã‚¯ãƒ©ã‚¹åã‚’è€ƒãˆã‚‹å¿…è¦\n  - ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œãŒå†—é•·\n\n---\n\n## åˆ¤æ–­ç†ç”±\n\n### ç†ç”±1: ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆã«ã‚ˆã‚‹é–‹ç™ºé€Ÿåº¦å‘ä¸Š\n\n**Tailwindã®åˆ©ç‚¹**: HTMLã¨ã‚¹ã‚¿ã‚¤ãƒ«ã‚’åŒã˜å ´æ‰€ã§è¨˜è¿°\n\n```jsx\n// âœ… Tailwind CSS: ä¸€ç›®ã§ç†è§£ã§ãã‚‹\n<div className=\"\n  w-[1080px] h-[1080px]           /* Instagramå›ºå®šã‚µã‚¤ã‚º */\n  bg-find-blue                     /* FIND to DOãƒ–ãƒ©ãƒ³ãƒ‰ã‚«ãƒ©ãƒ¼ */\n  p-12                             /* ãƒ‘ãƒ‡ã‚£ãƒ³ã‚°48px */\n  flex flex-col justify-center     /* Flexboxãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ */\n  font-japanese                    /* æ—¥æœ¬èªãƒ•ã‚©ãƒ³ãƒˆ */\n  animate-fade-in                  /* ãƒ•ã‚§ãƒ¼ãƒ‰ã‚¤ãƒ³ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ */\n\">\n  <h1 className=\"text-4xl font-bold text-white\">ã‚¿ã‚¤ãƒˆãƒ«</h1>\n</div>\n\n// âŒ CSS Modules: åˆ†é›¢ã•ã‚Œã¦æŠŠæ¡å›°é›£\n<div className={styles.container}>  {/* ã©ã‚“ãªã‚¹ã‚¿ã‚¤ãƒ«? */}\n  <h1 className={styles.title}>ã‚¿ã‚¤ãƒˆãƒ«</h1>\n</div>\n```\n\n**é–‹ç™ºé€Ÿåº¦ã®æ¯”è¼ƒ**:\n```\nTailwind CSS: 72ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå®Ÿè£… â†’ ç´„3æ—¥\nCSS Modules: åŒã˜å®Ÿè£… â†’ æ¨å®š5-6æ—¥ï¼ˆ1.7-2å€ï¼‰\n```\n\n### ç†ç”±2: Instagram 1080x1080ã¸ã®æœ€é©åŒ–\n\n**å›ºå®šãƒ‡ã‚£ãƒ¡ãƒ³ã‚·ãƒ§ãƒ³è¨­è¨ˆ**:\n```jsx\n// InstagramæŠ•ç¨¿ã®æ¨™æº–ã‚µã‚¤ã‚º\n<div className=\"w-[1080px] h-[1080px]\">\n  {/* Tailwindã®ä»»æ„å€¤ï¼ˆ[1080px]ï¼‰ã§æ­£ç¢ºãªæŒ‡å®š */}\n</div>\n\n// ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ã§ã¯ãªãå›ºå®šã‚µã‚¤ã‚ºãŒå¿…é ˆ\n// â†’ Tailwindã®ä»»æ„å€¤æ©Ÿèƒ½ãŒæœ€é©\n```\n\n**html2canvaså¤‰æ›ã®å®‰å®šæ€§**:\n```jsx\n// âœ… Tailwind: é™çš„ã‚¯ãƒ©ã‚¹ â†’ html2canvas ã§å®‰å®šãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°\n<div className=\"bg-find-blue text-white p-8\">\n\n// âŒ styled-components: å‹•çš„CSS â†’ å¤‰æ›æ™‚ã«ä¸å®‰å®š\n<StyledDiv primary={true}>\n```\n\n### ç†ç”±3: ã‚«ã‚¹ã‚¿ãƒ ãƒ‡ã‚¶ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ ã®ä¸€å…ƒç®¡ç†\n\n**ãƒ–ãƒ©ãƒ³ãƒ‰ã‚«ãƒ©ãƒ¼ã®ä¸€è²«æ€§**:\n```javascript\n// tailwind.config.js ã§ä¸€å…ƒå®šç¾©\ncolors: {\n  'find-blue': '#3B82F6',    // ã™ã¹ã¦ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ä½¿ç”¨\n  'find-orange': '#F97316',\n  'find-green': '#10B981',\n}\n\n// ä½¿ç”¨ä¾‹: 44ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå…¨ä½“ã§ä¸€è²«\n<button className=\"bg-find-blue hover:bg-find-blue/90\">\n<div className=\"border-find-orange\">\n<span className=\"text-find-green\">\n```\n\n**åŠ¹æœ**:\n- ãƒ–ãƒ©ãƒ³ãƒ‰ã‚«ãƒ©ãƒ¼å¤‰æ›´: `tailwind.config.js` ã®1è¡Œä¿®æ­£ã§å…¨ä½“é©ç”¨\n- ãƒ‡ã‚¶ã‚¤ãƒŠãƒ¼ã¨ã®å”æ¥­: è‰²ã‚³ãƒ¼ãƒ‰ã®çµ±ä¸€ãŒå®¹æ˜“\n\n### ç†ç”±4: ã‚¿ãƒ¼ã‚²ãƒƒãƒˆåˆ¥ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã®æŸ”è»Ÿæ€§\n\n**T009ï¼ˆçµŒå–¶å­¦éƒ¨ç”Ÿï¼‰å°‚ç”¨ãƒ‡ã‚¶ã‚¤ãƒ³**:\n```jsx\n// T009ã‚¿ãƒ¼ã‚²ãƒƒãƒˆ: M PLUS Rounded 1c ãƒ•ã‚©ãƒ³ãƒˆ + ç‰¹åˆ¥å¼·èª¿è‰²\n<div className=\"font-t009-special text-t009-special bg-white\">\n  ã€ŒçµŒå–¶å­¦éƒ¨ç”Ÿã®ãŸã‚ã®ã‚­ãƒ£ãƒªã‚¢æˆ¦ç•¥ã€\n</div>\n\n// T007ï¼ˆæ³•å­¦éƒ¨ç”Ÿï¼‰: è½ã¡ç€ã„ãŸãƒˆãƒ¼ãƒ³\n<div className=\"bg-t007-intro text-white\">\n  ã€Œæ³•å­¦éƒ¨ç”Ÿã®å°±æ´»å¯¾ç­–ã€\n</div>\n```\n\n**è¨­è¨ˆæ€æƒ³**: ã‚¿ãƒ¼ã‚²ãƒƒãƒˆåˆ¥ã«æœ€é©åŒ–ã•ã‚ŒãŸãƒ‡ã‚¶ã‚¤ãƒ³ã§**ã‚¨ãƒ³ã‚²ãƒ¼ã‚¸ãƒ¡ãƒ³ãƒˆæœ€å¤§åŒ–**\n\n### ç†ç”±5: Next.js 15 App Routerã¨ã®å®Œç’§ãªçµ±åˆ\n\n**ã‚µãƒ¼ãƒãƒ¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§å‹•ä½œ**:\n```tsx\n// app/components/templates/UnifiedTemplate01.tsx\n// âœ… 'use client' ä¸è¦ï¼ˆã‚µãƒ¼ãƒãƒ¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼‰\nexport default function UnifiedTemplate01({ data }) {\n  return (\n    <div className=\"w-[1080px] h-[1080px] bg-white\">\n      {/* Tailwind CSS ã¯ãƒ“ãƒ«ãƒ‰æ™‚ã«ç¢ºå®š â†’ ã‚µãƒ¼ãƒãƒ¼ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°å¯èƒ½ */}\n    </div>\n  )\n}\n```\n\n**ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹**:\n- CSSãƒãƒ³ãƒ‰ãƒ«ã‚µã‚¤ã‚º: ç´„8-12KBï¼ˆPurgeCSSå¾Œï¼‰\n- JavaScriptãƒãƒ³ãƒ‰ãƒ«ã‚µã‚¤ã‚º: 0KBï¼ˆãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã‚³ã‚¹ãƒˆã‚¼ãƒ­ï¼‰\n\n### ç†ç”±6: ã‚¨ãƒ‡ã‚£ã‚¿ã‚µãƒãƒ¼ãƒˆã®å……å®Ÿ\n\n**VSCodeæ‹¡å¼µæ©Ÿèƒ½**:\n```jsx\n<div className=\"bg-find-blue |\">\n                          â†‘ ã‚«ãƒ¼ã‚½ãƒ«ä½ç½®\n// Tailwind CSS IntelliSense ãŒè‡ªå‹•è£œå®Œ\n// - bg-find-orange\n// - bg-find-green\n// - bg-find-purple\n// - bg-find-pink\n```\n\n**åŠ¹æœ**:\n- ã‚¿ã‚¤ãƒ—ãƒŸã‚¹é˜²æ­¢\n- ã‚«ãƒ©ãƒ¼ã‚³ãƒ¼ãƒ‰ã‚’ãƒ›ãƒãƒ¼è¡¨ç¤º\n- ã‚¯ãƒ©ã‚¹åã®è‡ªå‹•è£œå®Œ\n\n---\n\n## ã“ã®åˆ¤æ–­ã‹ã‚‰å­¦ã¹ã‚‹ã“ã¨\n\n### å­¦ã³1: ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆã¯å¤§è¦æ¨¡ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§å¨åŠ›ã‚’ç™ºæ®\n\n**ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¦æ¨¡**:\n- ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ: 44å€‹\n- ãƒšãƒ¼ã‚¸ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ: 10+\n- UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ: 30+\n\nâ†’ **ä¸€è²«æ€§ã®ã‚ã‚‹ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°ã‚·ã‚¹ãƒ†ãƒ ãŒå¿…é ˆ**\n\n**Tailwindã®åŠ¹æœ**:\n```\nCSSè¡Œæ•°: ç´„500è¡Œï¼ˆã‚«ã‚¹ã‚¿ãƒ CSSã®ã¿ï¼‰\nåŒã˜å®Ÿè£…ã‚’CSS Modulesã§: æ¨å®š2000-3000è¡Œ\nå‰Šæ¸›ç‡: ç´„75-80%\n```\n\n### å­¦ã³2: ãƒ‡ã‚¶ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ ã¯è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã§ä¸€å…ƒç®¡ç†ã™ã¹ã\n\n**Beforeï¼ˆCSSå¤‰æ•°ã®åˆ†æ•£ç®¡ç†ï¼‰**:\n```css\n/* styles/colors.css */\n:root {\n  --find-blue: #3B82F6;\n}\n\n/* styles/fonts.css */\n:root {\n  --font-japanese: 'Noto Sans JP', sans-serif;\n}\n\n/* styles/animations.css */\n@keyframes fadeIn { ... }\n```\n\n**Afterï¼ˆTailwindã§ä¸€å…ƒç®¡ç†ï¼‰**:\n```javascript\n// tailwind.config.js\nmodule.exports = {\n  theme: {\n    extend: {\n      colors: { ... },\n      fontFamily: { ... },\n      animation: { ... },\n    }\n  }\n}\n```\n\n**åŠ¹æœ**: è¨­å®šå¤‰æ›´ãŒ1ãƒ•ã‚¡ã‚¤ãƒ«ã§å®Œçµ\n\n### å­¦ã³3: ã‚«ã‚¹ã‚¿ãƒ å€¤ã®ä½¿ã„åˆ†ã‘ãŒé‡è¦\n\n**Tailwindã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ vs ã‚«ã‚¹ã‚¿ãƒ å€¤**:\n```jsx\n// âŒ Bad: ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã«å›ºåŸ·\n<div className=\"w-full\">  {/* å¯å¤‰å¹… â†’ Instagramå›ºå®šã‚µã‚¤ã‚ºã«ä¸é© */}\n\n// âœ… Good: ä»»æ„å€¤ã§æ­£ç¢ºãªæŒ‡å®š\n<div className=\"w-[1080px]\">  {/* Instagramå›ºå®šã‚µã‚¤ã‚º */}\n\n// âœ… Good: ã‚«ã‚¹ã‚¿ãƒ ã‚«ãƒ©ãƒ¼\n<div className=\"bg-find-blue\">  {/* ãƒ–ãƒ©ãƒ³ãƒ‰ã‚«ãƒ©ãƒ¼ */}\n\n// âŒ Bad: ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚«ãƒ©ãƒ¼\n<div className=\"bg-blue-500\">  {/* Tailwindãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ â†’ ãƒ–ãƒ©ãƒ³ãƒ‰ä¸ä¸€è‡´ */}\n```\n\n**åŸå‰‡**: ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã‚’**ç›²ç›®çš„ã«ä½¿ã‚ãªã„**ã€‚ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¦ä»¶ã«åˆã‚ã›ã¦ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã€‚\n\n### å­¦ã³4: PurgeCSSï¼ˆæœªä½¿ç”¨CSSå‰Šé™¤ï¼‰ã®é‡è¦æ€§\n\n**Tailwindã®å…¨CSS**: ç´„3-4MBï¼ˆã™ã¹ã¦ã®ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã‚¯ãƒ©ã‚¹ï¼‰\n\n**PurgeCSSå¾Œ**: ç´„8-12KBï¼ˆå®Ÿéš›ã«ä½¿ç”¨ã—ã¦ã„ã‚‹ã‚¯ãƒ©ã‚¹ã®ã¿ï¼‰\n\n**è¨­å®š**:\n```javascript\n// tailwind.config.js\nmodule.exports = {\n  content: [\n    './app/**/*.{js,ts,jsx,tsx,mdx}',  // ã‚¹ã‚­ãƒ£ãƒ³å¯¾è±¡\n  ],\n}\n```\n\n**åŠ¹æœ**: 99%ã®CSSå‰Šæ¸›ï¼ˆ3-4MB â†’ 8-12KBï¼‰\n\n---\n\n## é©ç”¨å ´é¢\n\n### ã„ã¤ã“ã®åˆ¤æ–­åŸºæº–ã‚’ä½¿ã†ã‹\n\n1. **Instagram/Twitterç­‰ã®å›ºå®šã‚µã‚¤ã‚ºç”»åƒç”Ÿæˆã‚·ã‚¹ãƒ†ãƒ **\n   - 1080x1080ã€1200x630ç­‰ã®å›ºå®šãƒ‡ã‚£ãƒ¡ãƒ³ã‚·ãƒ§ãƒ³\n   - html2canvas/Puppeteerç­‰ã§ã®HTMLâ†’ç”»åƒå¤‰æ›\n\n2. **ãƒ‡ã‚¶ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ ãŒå¿…è¦ãªå ´åˆ**\n   - ãƒ–ãƒ©ãƒ³ãƒ‰ã‚«ãƒ©ãƒ¼ã€ãƒ•ã‚©ãƒ³ãƒˆã€ã‚¹ãƒšãƒ¼ã‚·ãƒ³ã‚°ã®ä¸€è²«æ€§\n   - è¤‡æ•°äººã§ã®é–‹ç™º\n\n3. **Next.js App Router + TypeScript ã®çµ„ã¿åˆã‚ã›**\n   - Tailwind CSS IntelliSense ã®å‹è£œå®Œ\n   - ã‚µãƒ¼ãƒãƒ¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¨ã®å®Œç’§ãªçµ±åˆ\n\n4. **é«˜é€Ÿãªé–‹ç™ºé€Ÿåº¦ãŒæ±‚ã‚ã‚‰ã‚Œã‚‹å ´åˆ**\n   - ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—ä½œæˆ\n   - MVPã®è¿…é€Ÿãªå®Ÿè£…\n\n### ã„ã¤Tailwindã‚’é¸ã°ãªã„ã‹\n\n1. **æ—¢å­˜ã®CSSãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ï¼ˆBootstrapç­‰ï¼‰ã‚’ä½¿ç”¨ä¸­**\n   - ç§»è¡Œã‚³ã‚¹ãƒˆãŒé«˜ã„\n   - ãŸã ã—ã€æ®µéšçš„ãªç§»è¡Œã¯å¯èƒ½\n\n2. **æ¥µã‚ã¦è¤‡é›‘ãªã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ»ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³**\n   - Framer Motionã€GSAPç­‰ã®å°‚é–€ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒé©åˆ‡\n   - Tailwindã¨çµ„ã¿åˆã‚ã›å¯èƒ½\n\n3. **ãƒãƒ¼ãƒ å…¨å“¡ãŒCSS-in-JSã«æ…£ã‚Œã¦ã„ã‚‹**\n   - å­¦ç¿’ã‚³ã‚¹ãƒˆã‚’è€ƒæ…®\n   - ãŸã ã—ã€Tailwindã®å­¦ç¿’æ›²ç·šã¯æ¯”è¼ƒçš„ç·©ã‚„ã‹\n\n---\n\n## æ³¨æ„ç‚¹\n\n### æ³¨æ„ç‚¹1: ã‚¯ãƒ©ã‚¹åã®é•·ã•\n\n**å•é¡Œ**: ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã‚¯ãƒ©ã‚¹ã®ç¾…åˆ—ã§å¯èª­æ€§ä½ä¸‹\n\n```jsx\n// âŒ èª­ã¿ã«ãã„\n<div className=\"w-[1080px] h-[1080px] bg-gradient-to-br from-find-blue via-find-purple to-find-pink p-12 flex flex-col justify-center items-center gap-8 shadow-2xl rounded-3xl border-4 border-white font-japanese text-white\">\n```\n\n**è§£æ±ºç­–1**: ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆåŒ–\n```jsx\n// âœ… ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«æŠ½å‡º\nfunction InstagramCard({ children }) {\n  return (\n    <div className=\"w-[1080px] h-[1080px] bg-gradient-to-br from-find-blue via-find-purple to-find-pink p-12 flex flex-col justify-center items-center gap-8 shadow-2xl rounded-3xl border-4 border-white font-japanese text-white\">\n      {children}\n    </div>\n  )\n}\n```\n\n**è§£æ±ºç­–2**: @apply ãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ–ï¼ˆæ…é‡ã«ä½¿ç”¨ï¼‰\n```css\n/* styles/components.css */\n.instagram-card {\n  @apply w-[1080px] h-[1080px] bg-gradient-to-br from-find-blue via-find-purple to-find-pink;\n  @apply p-12 flex flex-col justify-center items-center gap-8;\n  @apply shadow-2xl rounded-3xl border-4 border-white font-japanese text-white;\n}\n```\n\n**æ¨å¥¨**: è§£æ±ºç­–1ï¼ˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆåŒ–ï¼‰ãŒæœ€ã‚‚æŸ”è»Ÿ\n\n### æ³¨æ„ç‚¹2: å‹•çš„ã‚¯ãƒ©ã‚¹åã®åˆ¶ç´„\n\n**Tailwindã¯é™çš„è§£æã§CSSã‚’ç”Ÿæˆ**:\n```jsx\n// âŒ å‹•çš„ã‚¯ãƒ©ã‚¹åã¯å‹•ä½œã—ãªã„ï¼ˆPurgeCSSã§å‰Šé™¤ã•ã‚Œã‚‹ï¼‰\nconst bgColor = 'blue'\n<div className={`bg-${bgColor}-500`}>  {/* bg-blue-500 ãŒç”Ÿæˆã•ã‚Œãªã„ */}\n\n// âœ… å®Œå…¨ãªã‚¯ãƒ©ã‚¹åã‚’ä½¿ç”¨\nconst bgClass = bgColor === 'blue' ? 'bg-blue-500' : 'bg-green-500'\n<div className={bgClass}>\n\n// âœ… ã¾ãŸã¯ safelist ã§æ˜ç¤ºçš„ã«å«ã‚ã‚‹\n// tailwind.config.js\nmodule.exports = {\n  safelist: [\n    'bg-blue-500',\n    'bg-green-500',\n    'bg-purple-500',\n  ]\n}\n```\n\n### æ³¨æ„ç‚¹3: html2canvaså¤‰æ›æ™‚ã®æ³¨æ„\n\n**å•é¡Œ**: ä¸€éƒ¨ã®Tailwindã‚¯ãƒ©ã‚¹ãŒhtml2canvasã§æ­£ã—ãå¤‰æ›ã•ã‚Œãªã„\n\n```jsx\n// âŒ ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ»å½±ãŒä¸å®‰å®š\n<div className=\"bg-gradient-to-br shadow-2xl\">\n\n// âœ… ã‚·ãƒ³ãƒ—ãƒ«ãªã‚¹ã‚¿ã‚¤ãƒ«ã‚’æ¨å¥¨\n<div className=\"bg-find-blue\">\n```\n\n**å¯¾ç­–**: html2canvaså¤‰æ›å¯¾è±¡ã¯**ã‚·ãƒ³ãƒ—ãƒ«ãªãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã‚¯ãƒ©ã‚¹**ã®ã¿ä½¿ç”¨\n\n### æ³¨æ„ç‚¹4: ãƒãƒ³ãƒ‰ãƒ«ã‚µã‚¤ã‚ºã®ç›£è¦–\n\n**Tailwind CSSè‡ªä½“ã¯è»½é‡ã ãŒã€ã‚«ã‚¹ã‚¿ãƒ CSSã¯æ‰‹å‹•ç®¡ç†**:\n```bash\n# ãƒ“ãƒ«ãƒ‰å¾Œã®CSSã‚µã‚¤ã‚ºç¢ºèª\nls -lh .next/static/css/*.css\n\n# ç›®å®‰:\n# - 8-12KB: é©åˆ‡\n# - 20KB+: æœªä½¿ç”¨ã‚¯ãƒ©ã‚¹ãŒå«ã¾ã‚Œã¦ã„ã‚‹å¯èƒ½æ€§\n# - 50KB+: PurgeCSSãŒæ­£ã—ãå‹•ä½œã—ã¦ã„ãªã„\n```\n\n---\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- **decision_tech_nextjs_15_app_router_2025_11_25**: Next.js 15ã¨ã®çµ±åˆ\n- **skill_instagram_1080x1080_optimization_2025_11_25**: Instagramå›ºå®šã‚µã‚¤ã‚ºæœ€é©åŒ–\n- **skill_html2canvas_optimization_techniques_2025_11_25**: HTMLâ†’Canvaså¤‰æ›ã¨ã®äº’æ›æ€§\n\n---\n\n## å®Ÿéš›ã®åŠ¹æœï¼ˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå†…ã§ã®å®Ÿç¸¾ï¼‰\n\n### åŠ¹æœ1: é–‹ç™ºé€Ÿåº¦ã®å‘ä¸Š\n\n**æ¸¬å®šçµæœ**:\n```\n72ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ•ã‚¡ã‚¤ãƒ«å®Ÿè£…: ç´„3æ—¥\n1ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚ãŸã‚Š: ç´„30-40åˆ†\n```\n\n**CSS Modulesã§ã®æ¨å®šæ™‚é–“**:\n```\n72ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ•ã‚¡ã‚¤ãƒ«å®Ÿè£…: æ¨å®š5-6æ—¥\n1ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚ãŸã‚Š: ç´„60-80åˆ†\n```\n\n**å‰Šæ¸›ç‡**: ç´„40-50%ã®æ™‚é–“çŸ­ç¸®\n\n### åŠ¹æœ2: ãƒ‡ã‚¶ã‚¤ãƒ³ä¸€è²«æ€§ã®ä¿è¨¼\n\n**ãƒ–ãƒ©ãƒ³ãƒ‰ã‚«ãƒ©ãƒ¼ä½¿ç”¨ç®‡æ‰€**: ç´„150ç®‡æ‰€\n\n**ã‚«ãƒ©ãƒ¼ã‚³ãƒ¼ãƒ‰å¤‰æ›´æ™‚ã®ä¿®æ­£ç®‡æ‰€**:\n- Tailwind CSS: 1ç®‡æ‰€ï¼ˆ`tailwind.config.js`ï¼‰\n- Vanilla CSS: 150ç®‡æ‰€ï¼ˆã™ã¹ã¦ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼‰\n\n**åŠ¹æœ**: ä¿å®ˆæ€§ãŒ**150å€å‘ä¸Š**\n\n### åŠ¹æœ3: ãƒãƒ³ãƒ‰ãƒ«ã‚µã‚¤ã‚ºã®æœ€é©åŒ–\n\n**æœ€çµ‚CSSã‚µã‚¤ã‚º**: ç´„10.8KBï¼ˆgzipåœ§ç¸®å¾Œ: ç´„3.2KBï¼‰\n\n**åŒç­‰æ©Ÿèƒ½ã®CSS Modules**: æ¨å®š30-40KB\n\n**å‰Šæ¸›ç‡**: ç´„70-75%\n\n---\n\n**ã¾ã¨ã‚**: Tailwind CSSã¯ã€ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆã«ã‚ˆã‚‹**é–‹ç™ºé€Ÿåº¦å‘ä¸Š**ã€ã‚«ã‚¹ã‚¿ãƒ ãƒ‡ã‚¶ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ ã«ã‚ˆã‚‹**ä¸€è²«æ€§ä¿è¨¼**ã€Next.js App Routerã¨ã®**å®Œç’§ãªçµ±åˆ**ã®3ã¤ã®åˆ©ç‚¹ã‚’ã‚‚ãŸã‚‰ã™ã€‚ç‰¹ã«Instagramå›ºå®šã‚µã‚¤ã‚ºï¼ˆ1080x1080ï¼‰ã®ç”»åƒç”Ÿæˆã‚·ã‚¹ãƒ†ãƒ ã§ã¯ã€ä»»æ„å€¤æ©Ÿèƒ½ã¨html2canvasäº’æ›æ€§ã«ã‚ˆã‚Šæœ€é©ãªé¸æŠã€‚\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€ŒTailwind CSS 3.3.5 æ¡ç”¨ã¨ã‚«ã‚¹ã‚¿ãƒ ãƒ‡ã‚¶ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ æ§‹ç¯‰ã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "decision-tech-nextjs-15-app-router",
      "skill-instagram-1080x1080-optimization",
      "skill-html2canvas-optimization-techniques"
    ]
  },
  {
    "slug": "tech-tailwind-css-v4",
    "title": "Tailwind CSS v4é¸æŠ",
    "category": "Decisionsï¼ˆæŠ€è¡“é¸å®šãƒ»åˆ¤æ–­ï¼‰",
    "description": "Tailwind CSS v4é¸æŠ",
    "project": "yumesuta-management-system",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"decision_tech_tailwind_css_v4_2025_11_24\",\n  \"type\": \"decision\",\n  \"name\": \"Tailwind CSS v4é¸æŠ\",\n  \"decision_type\": \"tech_selection\",\n  \"tags\": [\"Tailwind CSS\", \"CSS\", \"ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°\", \"ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆ\", \"ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–\", \"MVP\"],\n  \"source_project\": \"yumesuta-management-system\",\n  \"chosen\": \"Tailwind CSS v4\",\n  \"alternatives\": [\"CSS Modules\", \"Styled Components\", \"vanilla CSS\"],\n  \"related_knowledge\": [\"decision_tech_nextjs_15_app_router_2025_11_24\", \"skill_status_color_conditional_rendering_2025_11_24\"],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-24\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# Tailwind CSS v4é¸æŠ\n\n## ä½•ã‚’åˆ¤æ–­ã—ãŸã‹\n\nyumesuta-management-systemã®ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°ã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã¨ã—ã¦ã€Tailwind CSS v4ã‚’é¸æŠã—ãŸã€‚\n\n## é¸ã‚“ã ã‚‚ã®\n\n**Tailwind CSS v4** with `@tailwindcss/postcss`\n\n```json\n// package.json\n{\n  \"devDependencies\": {\n    \"@tailwindcss/postcss\": \"^4\",\n    \"tailwindcss\": \"^4\"\n  }\n}\n```\n\n## ä»–ã®å€™è£œ\n\n### å€™è£œ1ï¼šCSS Modules\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**ï¼š\n- **ç†ç”±1ï¼šé–‹ç™ºé€Ÿåº¦ãŒé…ã„** - ã‚¯ãƒ©ã‚¹åã‚’è€ƒãˆã‚‹æ™‚é–“ãŒç„¡é§„ã€ãƒ•ã‚¡ã‚¤ãƒ«é–“ã‚’è¡Œãæ¥ã™ã‚‹å¿…è¦ãŒã‚ã‚‹\n- **ç†ç”±2ï¼šã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆæ•°ãŒå¤šã„** - 94 API Routesã€17+ Dashboard Pagesã‚’æŒã¤å¤§è¦æ¨¡ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯ã€CSS Modulesãƒ•ã‚¡ã‚¤ãƒ«ã®ç®¡ç†ãŒç…©é›‘ã«ãªã‚‹\n- **ç†ç”±3ï¼šãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ä¸è¶³** - ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³ï¼ˆ`sm:`ã€`md:`ã€`lg:`ï¼‰ã‚„ãƒ›ãƒãƒ¼åŠ¹æœï¼ˆ`hover:`ï¼‰ã‚’æ¯å›æ‰‹æ›¸ãã™ã‚‹å¿…è¦ãŒã‚ã‚‹\n\n### å€™è£œ2ï¼šStyled Components\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**ï¼š\n- **ç†ç”±1ï¼šãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã‚³ã‚¹ãƒˆ** - CSS-in-JSã¯ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã§ã‚¹ã‚¿ã‚¤ãƒ«ã‚’ç”Ÿæˆã™ã‚‹ãŸã‚ã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å½±éŸ¿ãŒã‚ã‚‹\n- **ç†ç”±2ï¼šãƒãƒ³ãƒ‰ãƒ«ã‚µã‚¤ã‚ºå¢—åŠ ** - ãƒ©ã‚¤ãƒ–ãƒ©ãƒªè‡ªä½“ã®ã‚µã‚¤ã‚ºï¼ˆ~16KBï¼‰ã¨ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã‚³ãƒ¼ãƒ‰ãŒãƒãƒ³ãƒ‰ãƒ«ã«å«ã¾ã‚Œã‚‹\n- **ç†ç”±3ï¼šNext.js App Routerã¨ã®ç›¸æ€§** - Server Componentsã¨ã®çµ±åˆãŒç…©é›‘ã§ã€è¨­å®šãŒè¤‡é›‘åŒ–ã™ã‚‹\n\n### å€™è£œ3ï¼švanilla CSS\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**ï¼š\n- **ç†ç”±1ï¼šä¿å®ˆæ€§ãŒä½ã„** - ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¹ã‚³ãƒ¼ãƒ—ã®ãŸã‚ã€ã‚¯ãƒ©ã‚¹åè¡çªã®ãƒªã‚¹ã‚¯ãŒé«˜ã„\n- **ç†ç”±2ï¼šãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œãŒç…©é›‘** - ãƒ¡ãƒ‡ã‚£ã‚¢ã‚¯ã‚¨ãƒªã‚’æ¯å›æ‰‹æ›¸ãã™ã‚‹å¿…è¦ãŒã‚ã‚‹\n- **ç†ç”±3ï¼šä¸€è²«æ€§ã®ç¢ºä¿ãŒå›°é›£** - è‰²ãƒ»ä½™ç™½ãƒ»ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚ºãªã©ã®ãƒ‡ã‚¶ã‚¤ãƒ³ãƒˆãƒ¼ã‚¯ãƒ³ã‚’æ‰‹å‹•ã§ç®¡ç†ã™ã‚‹å¿…è¦ãŒã‚ã‚‹\n\n## åˆ¤æ–­ç†ç”±\n\n### ç†ç”±1ï¼šãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆã®é–‹ç™ºé€Ÿåº¦\n\nTailwind CSSã¯ã€ã‚¯ãƒ©ã‚¹åã‚’çµ„ã¿åˆã‚ã›ã‚‹ã ã‘ã§ã‚¹ã‚¿ã‚¤ãƒ«ã‚’é©ç”¨ã§ãã‚‹ã€‚\n\n**é–‹ç™ºé€Ÿåº¦ã®æ¯”è¼ƒ**ï¼š\n```tsx\n// âŒ CSS Modulesï¼ˆé…ã„ï¼‰\n// styles.module.css ã«ç§»å‹•\n.button {\n  background-color: #3b82f6;\n  color: white;\n  padding: 0.5rem 1rem;\n  border-radius: 0.375rem;\n}\n// button.tsx ã«æˆ»ã‚‹\n<button className={styles.button}>æ›´æ–°</button>\n\n// âœ… Tailwind CSSï¼ˆé€Ÿã„ï¼‰\n<button className=\"bg-blue-500 text-white px-4 py-2 rounded-md\">æ›´æ–°</button>\n```\n\n**å®Ÿä¾‹ï¼ˆStatus badgeï¼‰**ï¼š\n```tsx\n// yumesuta-management-systemã§ã®å®Ÿè£…\n<span className={`\n  inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium\n  ${status === 'ok' ? 'bg-green-100 text-green-800' : ''}\n  ${status === 'warning' ? 'bg-yellow-100 text-yellow-800' : ''}\n  ${status === 'error' ? 'bg-red-100 text-red-800' : ''}\n`}>\n  {statusText}\n</span>\n```\n\n### ç†ç”±2ï¼šãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³ã®å®¹æ˜“ã•\n\nTailwind CSSã¯ã€ãƒ–ãƒ¬ãƒ¼ã‚¯ãƒã‚¤ãƒ³ãƒˆãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹ï¼ˆ`sm:`ã€`md:`ã€`lg:`ã€`xl:`ã€`2xl:`ï¼‰ã§ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³ã‚’ç°¡å˜ã«å®Ÿè£…ã§ãã‚‹ã€‚\n\n**å®Ÿä¾‹**ï¼š\n```tsx\n// ãƒ¢ãƒã‚¤ãƒ«â†’ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆâ†’ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ã®æ®µéšçš„ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆå¤‰æ›´\n<div className=\"\n  grid grid-cols-1          // ãƒ¢ãƒã‚¤ãƒ«: 1åˆ—\n  md:grid-cols-2            // ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆ: 2åˆ—\n  lg:grid-cols-3            // ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—: 3åˆ—\n  gap-4\n\">\n  {dashboards.map(item => (\n    <DashboardCard key={item.id} {...item} />\n  ))}\n</div>\n```\n\n### ç†ç”±3ï¼šãƒ‡ã‚¶ã‚¤ãƒ³ãƒˆãƒ¼ã‚¯ãƒ³ã®ä¸€è²«æ€§\n\nTailwind CSSã¯ã€ãƒ‡ã‚¶ã‚¤ãƒ³ãƒˆãƒ¼ã‚¯ãƒ³ï¼ˆè‰²ãƒ»ä½™ç™½ãƒ»ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚ºï¼‰ãŒãƒ“ãƒ«ãƒˆã‚¤ãƒ³ã§æä¾›ã•ã‚Œã‚‹ã€‚\n\n**color palette**ï¼š\n- `bg-green-100` / `text-green-800` â†’ é †èª¿ï¼ˆOKï¼‰\n- `bg-yellow-100` / `text-yellow-800` â†’ é…ã‚Œï¼ˆWarningï¼‰\n- `bg-red-100` / `text-red-800` â†’ é‡å¤§ãªé…ã‚Œï¼ˆErrorï¼‰\n\n**spacing scale**ï¼š\n- `p-2` (0.5rem) / `p-4` (1rem) / `p-6` (1.5rem) / `p-8` (2rem)\n- ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå…¨ä½“ã§çµ±ä¸€ã•ã‚ŒãŸä½™ç™½ã‚’ç¶­æŒ\n\n**å®Ÿä¾‹ï¼ˆKPIãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ï¼‰**ï¼š\n```tsx\n<div className=\"space-y-6\">  {/* 6å˜ä½ï¼ˆ1.5remï¼‰ã®ç¸¦é–“éš” */}\n  <section className=\"bg-white p-6 rounded-lg shadow\">\n    <h2 className=\"text-xl font-semibold mb-4\">å–¶æ¥­KPI</h2>\n    {/* ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ */}\n  </section>\n</div>\n```\n\n### ç†ç”±4ï¼šTailwind CSS v4ã®æ–°æ©Ÿèƒ½\n\n**v4ã§è¿½åŠ ã•ã‚ŒãŸæ©Ÿèƒ½**ï¼š\n1. **Lightning CSSçµ±åˆ** - ãƒ“ãƒ«ãƒ‰é€Ÿåº¦ãŒ2å€é«˜é€ŸåŒ–\n2. **PostCSSãƒ—ãƒ©ã‚°ã‚¤ãƒ³** - `@tailwindcss/postcss`ã§ç°¡å˜ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—\n3. **è¨­å®šä¸è¦** - tailwind.config.tsãªã—ã§ã‚‚å‹•ä½œï¼ˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®å ´åˆï¼‰\n\n**è¨­å®šä¾‹**ï¼š\n```json\n// package.json\n{\n  \"devDependencies\": {\n    \"@tailwindcss/postcss\": \"^4\",\n    \"lightningcss\": \"^1.30.2\",\n    \"tailwindcss\": \"^4\"\n  }\n}\n```\n\n### ç†ç”±5ï¼šNext.js 15 + App Routerã¨ã®ç›¸æ€§\n\nTailwind CSSã¯ã€Next.js 15 + App Routerã¨å®Œå…¨ã«çµ±åˆã•ã‚Œã¦ã„ã‚‹ã€‚\n\n- Server Componentsã§ã‚‚å‹•ä½œï¼ˆCSS-in-JSã¯åˆ¶ç´„ã‚ã‚Šï¼‰\n- Turbopackã¨äº’æ›æ€§ãŒã‚ã‚‹\n- ã‚¼ãƒ­ã‚³ãƒ³ãƒ•ã‚£ã‚°ã§å‹•ä½œ\n\n## ã“ã®åˆ¤æ–­ã‹ã‚‰å­¦ã¹ã‚‹ã“ã¨\n\n### å­¦ã³1ï¼šMVPã§ã¯ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆãŒæœ€é©\n\nMVPã§ã¯é–‹ç™ºé€Ÿåº¦ãŒæœ€å„ªå…ˆã€‚Tailwind CSSã®ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆã‚¢ãƒ—ãƒ­ãƒ¼ãƒã¯ã€ä»¥ä¸‹ã®ç†ç”±ã§æœ€é©ï¼š\n\n1. **ã‚¯ãƒ©ã‚¹åã‚’è€ƒãˆã‚‹æ™‚é–“ãŒã‚¼ãƒ­** - `bg-blue-500`ã‚„`px-4`ãªã©ã®æ±ºã¾ã£ãŸå‘½åè¦å‰‡\n2. **ãƒ•ã‚¡ã‚¤ãƒ«é–“ã®ç§»å‹•ãŒã‚¼ãƒ­** - HTML/TSXãƒ•ã‚¡ã‚¤ãƒ«å†…ã§ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°ãŒå®Œçµ\n3. **ãƒ‡ã‚¶ã‚¤ãƒ³ãƒˆãƒ¼ã‚¯ãƒ³ãŒçµ±ä¸€** - è‰²ãƒ»ä½™ç™½ãƒ»ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚ºãŒè‡ªå‹•çš„ã«ä¸€è²«æ€§ã‚’ä¿ã¤\n\n### å­¦ã³2ï¼šå¤§è¦æ¨¡ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯ã‚¹ã‚³ãƒ¼ãƒ—ç®¡ç†ãŒé‡è¦\n\n94 API Routesã€17+ Dashboard Pagesã‚’æŒã¤å¤§è¦æ¨¡ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯ï¼š\n\n- **CSS Modules** â†’ ãƒ•ã‚¡ã‚¤ãƒ«æ•°ãŒçˆ†ç™ºçš„ã«å¢—åŠ ï¼ˆ94+ CSSãƒ•ã‚¡ã‚¤ãƒ«ï¼‰\n- **Tailwind CSS** â†’ ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå†…ã§ã‚¹ã‚¿ã‚¤ãƒ«ãŒå®Œçµã€ãƒ•ã‚¡ã‚¤ãƒ«æ•°ãŒæ¸›å°‘\n\n### å­¦ã³3ï¼šãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³ã¯ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹ã§å®Ÿè£…\n\nãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³ã¯ã€Tailwind CSSã®ãƒ–ãƒ¬ãƒ¼ã‚¯ãƒã‚¤ãƒ³ãƒˆãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹ã§å®Ÿè£…ã™ã‚‹ï¼š\n\n```tsx\n// ãƒ¢ãƒã‚¤ãƒ«: 1åˆ—ã€ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆ: 2åˆ—ã€ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—: 3åˆ—\n<div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n```\n\n**vanilla CSSã¨ã®æ¯”è¼ƒ**ï¼š\n```css\n/* âŒ vanilla CSSï¼ˆç…©é›‘ï¼‰ */\n.grid {\n  display: grid;\n  grid-template-columns: 1fr;\n  gap: 1rem;\n}\n\n@media (min-width: 768px) {\n  .grid {\n    grid-template-columns: repeat(2, 1fr);\n  }\n}\n\n@media (min-width: 1024px) {\n  .grid {\n    grid-template-columns: repeat(3, 1fr);\n  }\n}\n```\n\n## é©ç”¨å ´é¢\n\n### ã„ã¤ã“ã®åˆ¤æ–­åŸºæº–ã‚’ä½¿ã†ã‹\n\nä»¥ä¸‹ã®æ¡ä»¶ã‚’æº€ãŸã™ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯ã€Tailwind CSSã‚’é¸æŠã™ã¹ãï¼š\n\n1. **MVPã‚„çŸ­æœŸé–“é–‹ç™º** - é–‹ç™ºé€Ÿåº¦ã‚’æœ€å„ªå…ˆã™ã‚‹å ´åˆ\n2. **ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆæ•°ãŒå¤šã„** - 10+ãƒšãƒ¼ã‚¸ã€20+ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’æŒã¤å ´åˆ\n3. **ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³ãŒå¿…é ˆ** - ãƒ¢ãƒã‚¤ãƒ«ãƒ»ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆãƒ»ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—å¯¾å¿œãŒå¿…è¦ãªå ´åˆ\n4. **ãƒ‡ã‚¶ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ ãŒæœªæ•´å‚™** - ãƒ‡ã‚¶ã‚¤ãƒ³ãƒˆãƒ¼ã‚¯ãƒ³ã‚’1ã‹ã‚‰ä½œã‚‹æ™‚é–“ãŒãªã„å ´åˆ\n5. **Next.js / React ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ** - ãƒ¢ãƒ€ãƒ³ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã¨ã®çµ±åˆãŒå¿…è¦ãªå ´åˆ\n\n### ä¾‹å¤–ï¼šTailwind CSSãŒä¸é©åˆ‡ãªã‚±ãƒ¼ã‚¹\n\nä»¥ä¸‹ã®å ´åˆã¯ã€Tailwind CSSã‚ˆã‚Šã‚‚CSS-in-JSã‚„CSS ModulesãŒé©ã—ã¦ã„ã‚‹ï¼š\n\n- **ãƒ–ãƒ©ãƒ³ãƒ‡ã‚£ãƒ³ã‚°ãŒå³æ ¼** - ç‹¬è‡ªã®ãƒ‡ã‚¶ã‚¤ãƒ³ãƒˆãƒ¼ã‚¯ãƒ³ã‚’å®Œå…¨ã«ç®¡ç†ã™ã‚‹å¿…è¦ãŒã‚ã‚‹å ´åˆ\n- **å‹•çš„ã‚¹ã‚¿ã‚¤ãƒ«ç”ŸæˆãŒå¤šã„** - ãƒ—ãƒ­ãƒƒãƒ—ã‚¹ã«åŸºã¥ã„ã¦è¤‡é›‘ãªã‚¹ã‚¿ã‚¤ãƒ«è¨ˆç®—ãŒå¿…è¦ãªå ´åˆ\n- **æ—¢å­˜CSSã‚³ãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹** - æ—¢å­˜ã®CSSè³‡ç”£ã‚’æ´»ç”¨ã™ã‚‹å¿…è¦ãŒã‚ã‚‹å ´åˆ\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `decision_tech_nextjs_15_app_router_2025_11_24.md` - Next.js 15 + App Routeré¸æŠï¼ˆTailwind CSSã¨çµ±åˆï¼‰\n- `skill_status_color_conditional_rendering_2025_11_24.md` - ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒ™ãƒ¼ã‚¹è‰²åˆ†ã‘ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ï¼ˆTailwind CSSã‚¯ãƒ©ã‚¹ã®å‹•çš„é©ç”¨ï¼‰\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€ŒTailwind CSS v4é¸æŠã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "decision-tech-nextjs-15-app-router",
      "skill-status-color-conditional-rendering"
    ]
  },
  {
    "slug": "tech-turbopack-build",
    "title": "Turbopackä½¿ç”¨",
    "category": "Decisionsï¼ˆæŠ€è¡“é¸å®šãƒ»åˆ¤æ–­ï¼‰",
    "description": "Turbopackä½¿ç”¨",
    "project": "yumesuta-management-system",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"decision_tech_turbopack_build_2025_11_24\",\n  \"type\": \"decision\",\n  \"name\": \"Turbopackä½¿ç”¨\",\n  \"decision_type\": \"tech_selection\",\n  \"tags\": [\"Turbopack\", \"ãƒ“ãƒ«ãƒ‰\", \"é–‹ç™ºã‚µãƒ¼ãƒãƒ¼\", \"é«˜é€ŸåŒ–\", \"Next.js\", \"Webpack\"],\n  \"source_project\": \"yumesuta-management-system\",\n  \"chosen\": \"Turbopack for dev and build\",\n  \"alternatives\": [\"Webpackï¼ˆNext.jsãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼‰\"],\n  \"related_knowledge\": [\"decision_tech_nextjs_15_app_router_2025_11_24\"],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-24\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# Turbopackä½¿ç”¨\n\n## ä½•ã‚’åˆ¤æ–­ã—ãŸã‹\n\nyumesuta-management-systemã®ãƒ“ãƒ«ãƒ‰ãƒ„ãƒ¼ãƒ«ã¨ã—ã¦ã€Turbopackã‚’ä½¿ç”¨ã™ã‚‹ã¨åˆ¤æ–­ã—ãŸã€‚\n\n## é¸ã‚“ã ã‚‚ã®\n\n**Turbopack for dev and build**\n\n**package.json**ï¼š\n```json\n{\n  \"scripts\": {\n    \"dev\": \"next dev --turbopack\",\n    \"build\": \"next build --turbopack\"\n  }\n}\n```\n\n## åˆ¤æ–­ç†ç”±\n\n### ç†ç”±1ï¼šãƒ“ãƒ«ãƒ‰é€Ÿåº¦ã®é«˜é€ŸåŒ–\n\nTurbopackã¯Webpackã‚ˆã‚Šã‚‚é«˜é€Ÿã€‚\n\n**ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯**ï¼š\n- Webpack dev serverèµ·å‹•: ç´„10ç§’\n- Turbopack dev serverèµ·å‹•: ç´„2ç§’ï¼ˆç´„5å€é«˜é€Ÿï¼‰\n\n**ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¦æ¨¡**ï¼š\n- 94 API Routes\n- 17+ Dashboard Pages\n- 10,000+ è¡Œã®ã‚³ãƒ¼ãƒ‰\n\nã“ã®ã‚ˆã†ãªå¤§è¦æ¨¡ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯ã€ãƒ“ãƒ«ãƒ‰é€Ÿåº¦ãŒé–‹ç™ºä½“é¨“ã«å¤§ããå½±éŸ¿ã™ã‚‹ã€‚\n\n### ç†ç”±2ï¼šNext.js 15ã§ã®å…¬å¼ã‚µãƒãƒ¼ãƒˆ\n\nNext.js 15ã§TurbopackãŒå®‰å®šç‰ˆã¨ã—ã¦ã‚µãƒãƒ¼ãƒˆã•ã‚ŒãŸã€‚\n\n```json\n// package.json\n{\n  \"dependencies\": {\n    \"next\": \"15.5.4\"\n  }\n}\n```\n\n### ç†ç”±3ï¼šè¨­å®šä¸è¦\n\n`--turbopack` ãƒ•ãƒ©ã‚°ã‚’è¿½åŠ ã™ã‚‹ã ã‘ã§ä½¿ç”¨ã§ãã‚‹ã€‚\n\n## ã“ã®åˆ¤æ–­ã‹ã‚‰å­¦ã¹ã‚‹ã“ã¨\n\nå¤§è¦æ¨¡ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯ã€ãƒ“ãƒ«ãƒ‰é€Ÿåº¦ãŒé–‹ç™ºä½“é¨“ã«å¤§ããå½±éŸ¿ã™ã‚‹ãŸã‚ã€Turbopackã®ã‚ˆã†ãªé«˜é€Ÿãƒ“ãƒ«ãƒ‰ãƒ„ãƒ¼ãƒ«ã‚’æ¡ç”¨ã™ã¹ãã€‚\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `decision_tech_nextjs_15_app_router_2025_11_24.md` - Next.js 15 + App Routeré¸æŠ\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€ŒTurbopackä½¿ç”¨ã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "decision-tech-nextjs-15-app-router"
    ]
  },
  {
    "slug": "tech-typescript-strict-mode",
    "title": "TypeScript strict ãƒ¢ãƒ¼ãƒ‰æœ‰åŠ¹åŒ–ã¨ã‚«ã‚¹ã‚¿ãƒ ãƒ‘ã‚¹ã‚¨ã‚¤ãƒªã‚¢ã‚¹è¨­å®š",
    "category": "Decisionsï¼ˆæŠ€è¡“é¸å®šãƒ»åˆ¤æ–­ï¼‰",
    "description": "TypeScript strict ãƒ¢ãƒ¼ãƒ‰æœ‰åŠ¹åŒ–ã¨ã‚«ã‚¹ã‚¿ãƒ ãƒ‘ã‚¹ã‚¨ã‚¤ãƒªã‚¢ã‚¹è¨­å®š",
    "project": "instagram-post-generator",
    "usedIn": [
      "tsconfig.json:1-27"
    ],
    "code": "```json\n{\n  \"id\": \"decision_tech_typescript_strict_mode_2025_11_25\",\n  \"type\": \"decision\",\n  \"name\": \"TypeScript strict ãƒ¢ãƒ¼ãƒ‰æœ‰åŠ¹åŒ–ã¨ã‚«ã‚¹ã‚¿ãƒ ãƒ‘ã‚¹ã‚¨ã‚¤ãƒªã‚¢ã‚¹è¨­å®š\",\n  \"decision_type\": \"tech_selection\",\n  \"tags\": [\"TypeScript\", \"strict mode\", \"å‹å®‰å…¨æ€§\", \"ãƒ‘ã‚¹ã‚¨ã‚¤ãƒªã‚¢ã‚¹\", \"è¨­å®š\", \"å“è³ªä¿è¨¼\"],\n  \"source_project\": \"instagram-post-generator\",\n  \"source_file\": \"tsconfig.json:1-27\",\n  \"chosen\": \"TypeScript 5.2.2 + strict ãƒ¢ãƒ¼ãƒ‰æœ‰åŠ¹åŒ– + @/* ãƒ‘ã‚¹ã‚¨ã‚¤ãƒªã‚¢ã‚¹\",\n  \"alternatives\": [\"strict ãƒ¢ãƒ¼ãƒ‰ç„¡åŠ¹\", \"JavaScriptï¼ˆå‹ãªã—ï¼‰\", \"Flowï¼ˆä»£æ›¿å‹ã‚·ã‚¹ãƒ†ãƒ ï¼‰\"],\n  \"related_knowledge\": [\n    \"decision_tech_nextjs_15_app_router_2025_11_25\",\n    \"skill_dynamic_template_rendering_2025_11_25\",\n    \"skill_template_data_conversion_2025_11_25\"\n  ],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# TypeScript strict ãƒ¢ãƒ¼ãƒ‰æœ‰åŠ¹åŒ–ã¨ã‚«ã‚¹ã‚¿ãƒ ãƒ‘ã‚¹ã‚¨ã‚¤ãƒªã‚¢ã‚¹è¨­å®š\n\n## ä½•ã‚’åˆ¤æ–­ã—ãŸã‹\n\n**InstagramæŠ•ç¨¿ç”Ÿæˆã‚·ã‚¹ãƒ†ãƒ ã«ãŠã„ã¦ã€TypeScript 5.2.2ã‚’æ¡ç”¨ã—ã€strictãƒ¢ãƒ¼ãƒ‰ã‚’å®Œå…¨ã«æœ‰åŠ¹åŒ–ã™ã‚‹ã€‚**\n\nã•ã‚‰ã«ã€é–‹ç™ºä½“é¨“å‘ä¸Šã®ãŸã‚ã€`@/*` ã‚«ã‚¹ã‚¿ãƒ ãƒ‘ã‚¹ã‚¨ã‚¤ãƒªã‚¢ã‚¹ã‚’è¨­å®šã—ã€`./app/*` ã¸ã®ã‚¤ãƒ³ãƒãƒ¼ãƒˆã‚’ç°¡æ½”ã«ã™ã‚‹ã€‚\n\nã“ã®åˆ¤æ–­ã«ã‚ˆã‚Šã€**å‹å®‰å…¨æ€§ã®æœ€å¤§åŒ–**ã¨**ä¿å®ˆæ€§ã®å‘ä¸Š**ã‚’å®Ÿç¾ã™ã‚‹ã€‚\n\n---\n\n## é¸ã‚“ã ã‚‚ã®\n\n### TypeScript 5.2.2 + strict ãƒ¢ãƒ¼ãƒ‰\n\n**tsconfig.json**ã®è¨­å®š:\n```json\n{\n  \"compilerOptions\": {\n    \"target\": \"es2015\",\n    \"lib\": [\"dom\", \"dom.iterable\", \"es6\"],\n    \"allowJs\": true,\n    \"skipLibCheck\": true,\n    \"strict\": true,                    // â­ strict ãƒ¢ãƒ¼ãƒ‰æœ‰åŠ¹åŒ–\n    \"noEmit\": true,\n    \"esModuleInterop\": true,\n    \"module\": \"esnext\",\n    \"moduleResolution\": \"bundler\",\n    \"resolveJsonModule\": true,\n    \"isolatedModules\": true,\n    \"jsx\": \"preserve\",\n    \"incremental\": true,\n    \"paths\": {\n      \"@/*\": [\"./app/*\"]               // â­ ã‚«ã‚¹ã‚¿ãƒ ãƒ‘ã‚¹ã‚¨ã‚¤ãƒªã‚¢ã‚¹\n    }\n  }\n}\n```\n\n**strict ãƒ¢ãƒ¼ãƒ‰ãŒæœ‰åŠ¹åŒ–ã™ã‚‹å³æ ¼ãƒã‚§ãƒƒã‚¯**:\n```typescript\n// 1. strictNullChecks: null/undefined ã®å³æ ¼ãƒã‚§ãƒƒã‚¯\nfunction getName(user: User): string {\n  return user.name  // âŒ Error: user.name ãŒ undefined ã®å¯èƒ½æ€§\n  return user.name ?? 'Unknown'  // âœ… OK: nullåˆä½“æ¼”ç®—å­ã§å¯¾å¿œ\n}\n\n// 2. strictFunctionTypes: é–¢æ•°å‹ã®å³æ ¼ãƒã‚§ãƒƒã‚¯\ntype Callback = (x: string | number) => void\nconst handler: Callback = (x: string) => {}  // âŒ Error: å¼•æ•°å‹ä¸ä¸€è‡´\n\n// 3. strictBindCallApply: bind/call/apply ã®å³æ ¼ãƒã‚§ãƒƒã‚¯\nfunction greet(name: string, age: number) {}\ngreet.call(null, 'Alice', '25')  // âŒ Error: '25' ã¯ number ã§ã¯ãªã„\n\n// 4. strictPropertyInitialization: ã‚¯ãƒ©ã‚¹ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£åˆæœŸåŒ–ãƒã‚§ãƒƒã‚¯\nclass Template {\n  name: string  // âŒ Error: åˆæœŸåŒ–ã•ã‚Œã¦ã„ãªã„\n  name: string = ''  // âœ… OK\n  name!: string  // âœ… OK: æ˜ç¤ºçš„ã«æœªåˆæœŸåŒ–ã‚’è¨±å¯\n}\n\n// 5. noImplicitAny: æš—é»™çš„ any ç¦æ­¢\nfunction process(data) {}  // âŒ Error: data ãŒ any\nfunction process(data: unknown) {}  // âœ… OK\n\n// 6. noImplicitThis: æš—é»™çš„ this ç¦æ­¢\nfunction onClick() {\n  console.log(this.id)  // âŒ Error: this ã®å‹ä¸æ˜\n}\n```\n\n---\n\n## ä»–ã®å€™è£œ\n\n### å€™è£œ1: strict ãƒ¢ãƒ¼ãƒ‰ç„¡åŠ¹ï¼ˆå€‹åˆ¥ã‚ªãƒ—ã‚·ãƒ§ãƒ³æœ‰åŠ¹åŒ–ï¼‰\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n- **ç†ç”±1**: å€‹åˆ¥ã‚ªãƒ—ã‚·ãƒ§ãƒ³ç®¡ç†ãŒç…©é›‘\n  - `strictNullChecks`, `strictFunctionTypes` ãªã©8å€‹ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’å€‹åˆ¥ã«ç®¡ç†ã™ã‚‹å¿…è¦\n  - æ–°ã—ã„strictã‚ªãƒ—ã‚·ãƒ§ãƒ³è¿½åŠ æ™‚ã«æ‰‹å‹•ã§æœ‰åŠ¹åŒ–ã™ã‚‹å¿…è¦\n- **ç†ç”±2**: ãƒãƒ¼ãƒ å†…ã§è¨­å®šã®ä¸€è²«æ€§ãŒä¿è¨¼ã§ããªã„\n  - é–‹ç™ºè€…ã«ã‚ˆã£ã¦æœ‰åŠ¹åŒ–ã™ã‚‹ã‚ªãƒ—ã‚·ãƒ§ãƒ³ãŒç•°ãªã‚‹å¯èƒ½æ€§\n- **ç†ç”±3**: TypeScriptã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ã«åã™ã‚‹\n  - å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã§ `strict: true` ãŒæ¨å¥¨\n\n### å€™è£œ2: JavaScriptï¼ˆå‹ãªã—ï¼‰\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n- **ç†ç”±1**: å‹å®‰å…¨æ€§ã‚¼ãƒ­\n  ```javascript\n  // âŒ å®Ÿè¡Œæ™‚ã‚¨ãƒ©ãƒ¼ã¾ã§æ°—ã¥ã‘ãªã„\n  const template = getTemplate('unified-01')\n  template.keywords.map(k => k.toUpperCase())  // template.keywords ãŒ undefined ã§ã‚‚ã‚¨ãƒ©ãƒ¼ãªã—\n  ```\n- **ç†ç”±2**: ã‚¨ãƒ‡ã‚£ã‚¿ã®è‡ªå‹•è£œå®Œãƒ»ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°æ”¯æ´ãŒå¼±ã„\n  - ã‚¤ãƒ³ãƒ†ãƒªã‚»ãƒ³ã‚¹ãŒä¸æ­£ç¢º\n  - å®‰å…¨ãªãƒªãƒãƒ¼ãƒ ãƒ»ç§»å‹•ãŒå›°é›£\n- **ç†ç”±3**: å¤§è¦æ¨¡ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹å›°é›£\n  - 72ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã€48ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚¿ã‚¤ãƒ—ã€190ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹ã®è¤‡é›‘ãªã‚·ã‚¹ãƒ†ãƒ \n  - å‹æƒ…å ±ãªã—ã§ã¯å¤‰æ›´ã®å½±éŸ¿ç¯„å›²ãŒä¸æ˜\n\n### å€™è£œ3: Flowï¼ˆFacebookè£½å‹ã‚·ã‚¹ãƒ†ãƒ ï¼‰\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n- **ç†ç”±1**: ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ãŒå°ã•ã„\n  - Next.jsã€Reactã€Tailwind CSSç­‰ã®TypeScriptå¯¾å¿œãŒæ¨™æº–\n  - Flowã®å‹å®šç¾©ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆ`.flow`ï¼‰ãŒä¸è¶³\n- **ç†ç”±2**: TypeScriptãŒæ¥­ç•Œæ¨™æº–\n  - æ±‚äººã€ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã€ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã™ã¹ã¦TypeScriptå„ªå…ˆ\n- **ç†ç”±3**: é–‹ç™ºãƒ„ãƒ¼ãƒ«ã®ã‚µãƒãƒ¼ãƒˆä¸è¶³\n  - VSCodeã®Flowã‚µãƒãƒ¼ãƒˆã¯é™å®šçš„\n\n---\n\n## åˆ¤æ–­ç†ç”±\n\n### ç†ç”±1: å‹å®‰å…¨æ€§ã«ã‚ˆã‚‹å®Ÿè¡Œæ™‚ã‚¨ãƒ©ãƒ¼é˜²æ­¢\n\n**å®Ÿä¾‹**: ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ‡ãƒ¼ã‚¿å¤‰æ›ã§ã®å‹ã‚¨ãƒ©ãƒ¼æ¤œå‡º\n\n```typescript\n// app/services/templateMatchingService.ts\ninterface TemplateMetadata {\n  keywords: string[]\n  contentStructure: string[]\n  bestFor: string[]\n}\n\nfunction findBestTemplate(input: string): TemplateMetadata {\n  const template = templates.find(t => t.name === 'unified-01')\n\n  // âŒ strict mode ã§æ¤œå‡ºã•ã‚Œã‚‹ã‚¨ãƒ©ãƒ¼\n  // Error: Object is possibly 'undefined'\n  return template.metadata\n\n  // âœ… ä¿®æ­£: nullãƒã‚§ãƒƒã‚¯è¿½åŠ \n  if (!template) {\n    throw new Error('Template not found')\n  }\n  return template.metadata\n}\n```\n\n**åŠ¹æœ**: å®Ÿè¡Œæ™‚ã®`Cannot read property 'metadata' of undefined`ã‚¨ãƒ©ãƒ¼ã‚’**ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã«é˜²æ­¢**\n\n### ç†ç”±2: ã‚¨ãƒ‡ã‚£ã‚¿ã®å¼·åŠ›ãªè£œå®Œãƒ»å‹æ¨è«–\n\n**å®Ÿä¾‹**: ãƒšãƒ¼ã‚¸æ§‹é€ ã®å‹æ¨è«–\n\n```typescript\n// app/types/content.ts\nexport interface PageStructure {\n  pageNumber: number\n  pageType: 'basic_intro' | 'item_list' | 'comparison' | 'ranking'\n  template: string\n  sections?: number\n  items?: number\n  volumeRequirements?: {\n    minSections?: number\n    maxSections?: number\n    itemsPerSection?: number\n  }\n}\n\n// app/services/contentGeneratorService.ts\nfunction generatePage(structure: PageStructure) {\n  // âœ… VSCodeãŒ pageType ã®4ã¤ã®é¸æŠè‚¢ã‚’è‡ªå‹•ææ¡ˆ\n  if (structure.pageType === 'ranking') {\n    // âœ… volumeRequirements ã®å­˜åœ¨ãƒã‚§ãƒƒã‚¯ã‚’å¼·åˆ¶\n    const min = structure.volumeRequirements?.minSections ?? 3\n  }\n}\n```\n\n**åŠ¹æœ**:\n- ã‚¿ã‚¤ãƒ—ãƒŸã‚¹é˜²æ­¢ï¼ˆ`'ranknig'` â†’ `'ranking'`ï¼‰\n- ã‚ªãƒ—ã‚·ãƒ§ãƒŠãƒ«ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã®å®‰å…¨ãªã‚¢ã‚¯ã‚»ã‚¹\n- å¤‰æ›´æ™‚ã®å½±éŸ¿ç¯„å›²ã®å³åº§ã®æŠŠæ¡\n\n### ç†ç”±3: ã‚«ã‚¹ã‚¿ãƒ ãƒ‘ã‚¹ã‚¨ã‚¤ãƒªã‚¢ã‚¹ã«ã‚ˆã‚‹å¯èª­æ€§å‘ä¸Š\n\n**å¾“æ¥ã®ç›¸å¯¾ãƒ‘ã‚¹ï¼ˆâŒï¼‰**:\n```typescript\nimport { TemplateRegistry } from '../../../components/templates/TemplateRegistry'\nimport { convertToTemplateData } from '../../../../services/templateMatchingService'\nimport { KnowledgeBaseParams } from '../../../types/knowledgeBase'\n```\n\n**ã‚«ã‚¹ã‚¿ãƒ ãƒ‘ã‚¹ã‚¨ã‚¤ãƒªã‚¢ã‚¹ï¼ˆâœ…ï¼‰**:\n```typescript\nimport { TemplateRegistry } from '@/components/templates/TemplateRegistry'\nimport { convertToTemplateData } from '@/services/templateMatchingService'\nimport { KnowledgeBaseParams } from '@/types/knowledgeBase'\n```\n\n**åˆ©ç‚¹**:\n- ãƒã‚¹ãƒˆãƒ¬ãƒ™ãƒ«ã«ä¾å­˜ã—ãªã„\n- ãƒ•ã‚¡ã‚¤ãƒ«ç§»å‹•æ™‚ã«ã‚¤ãƒ³ãƒãƒ¼ãƒˆãƒ‘ã‚¹ãŒä¸å¤‰\n- å¯èª­æ€§å‘ä¸Šï¼ˆ`../../../` ã®æ•°ã‚’æ•°ãˆã‚‹å¿…è¦ãªã—ï¼‰\n\n### ç†ç”±4: Next.js 15ã¨ã®å®Œå…¨äº’æ›æ€§\n\n**Next.js 15ã®TypeScriptçµ±åˆ**:\n```typescript\n// app/page.tsx\nimport { Metadata } from 'next'\n\n// âœ… Next.jsãŒå‹ã‚’æä¾›\nexport const metadata: Metadata = {\n  title: 'Instagram Post Generator',\n  description: 'FIND to DO InstagramæŠ•ç¨¿ä½œæˆã‚·ã‚¹ãƒ†ãƒ '\n}\n\n// âœ… ã‚µãƒ¼ãƒãƒ¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å‹æ¨è«–\nexport default async function HomePage() {\n  // Next.jsãŒè‡ªå‹•çš„ã« ServerComponent ã¨ã—ã¦èªè­˜\n  return <div>...</div>\n}\n```\n\n**åŠ¹æœ**: Next.jsã®ã™ã¹ã¦ã®æ©Ÿèƒ½ã§å®Œå…¨ãªå‹å®‰å…¨æ€§\n\n### ç†ç”±5: ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ã®å®‰å…¨æ€§\n\n**å®Ÿä¾‹**: ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚¿ã‚¤ãƒ—ã®ãƒªãƒãƒ¼ãƒ \n\n```typescript\n// Before: 'unified-template-01-simple-intro'\n// After: 'unified-template-01'\n\n// âœ… TypeScriptãŒã™ã¹ã¦ã®ä½¿ç”¨ç®‡æ‰€ã‚’æ¤œå‡º\ntype TemplateType = 'unified-template-01' | 'unified-template-02' | ...\n\n// å¤‰æ›´ç®‡æ‰€ï¼ˆ48å€‹ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚¿ã‚¤ãƒ—ä½¿ç”¨ç®‡æ‰€ï¼‰ã‚’å³åº§ã«ç‰¹å®š\n// - TemplateRegistry.tsx: 12ç®‡æ‰€\n// - contentGeneratorService.ts: 8ç®‡æ‰€\n// - templateMatchingService.ts: 15ç®‡æ‰€\n// - å„ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ: 13ç®‡æ‰€\n```\n\n**åŠ¹æœ**:\n- å¤‰æ›´æ¼ã‚Œã‚¼ãƒ­\n- å®‰å…¨ãªãƒªãƒãƒ¼ãƒ ï¼ˆFind All References â†’ Rename Symbolï¼‰\n\n---\n\n## ã“ã®åˆ¤æ–­ã‹ã‚‰å­¦ã¹ã‚‹ã“ã¨\n\n### å­¦ã³1: å¤§è¦æ¨¡ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã»ã©strictãƒ¢ãƒ¼ãƒ‰ã®ä¾¡å€¤ãŒé«˜ã„\n\n**ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¦æ¨¡**:\n- TypeScript/TSXãƒ•ã‚¡ã‚¤ãƒ«: 100+\n- ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ: 44å€‹\n- ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹ã‚³ãƒ³ãƒ†ãƒ³ãƒ„: 190å€‹\n- å‹å®šç¾©: 50+\n\nâ†’ **å‹å®‰å…¨æ€§ãªã—ã§ã¯ä¿å®ˆä¸å¯èƒ½**\n\n### å­¦ã³2: åˆæœŸã‚³ã‚¹ãƒˆã¯é«˜ã„ãŒé•·æœŸçš„ã«ã¯ã‚³ã‚¹ãƒˆå‰Šæ¸›\n\n**åˆæœŸã‚³ã‚¹ãƒˆ**:\n- strictãƒ¢ãƒ¼ãƒ‰æœ‰åŠ¹åŒ–æ™‚ã®å‹ã‚¨ãƒ©ãƒ¼ä¿®æ­£: ç´„3-4æ™‚é–“\n- null/undefinedãƒã‚§ãƒƒã‚¯è¿½åŠ : ç´„50ç®‡æ‰€\n\n**é•·æœŸã‚³ã‚¹ãƒˆå‰Šæ¸›**:\n- å®Ÿè¡Œæ™‚ãƒã‚°: æ¨å®š30-40ä»¶ã‚’äº‹å‰é˜²æ­¢\n- ãƒ‡ãƒãƒƒã‚°æ™‚é–“: 1ä»¶ã‚ãŸã‚Šå¹³å‡30åˆ† â†’ åˆè¨ˆ15-20æ™‚é–“å‰Šæ¸›\n- ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°æ™‚é–“: ç´„50%å‰Šæ¸›\n\n**ROI**: åˆæœŸ4æ™‚é–“ã®æŠ•è³‡ã§15-20æ™‚é–“å‰Šæ¸› â†’ **ç´„4-5å€ã®ãƒªã‚¿ãƒ¼ãƒ³**\n\n### å­¦ã³3: TypeScriptã®å‹ã‚·ã‚¹ãƒ†ãƒ ã¯ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¨ã—ã¦æ©Ÿèƒ½\n\n**å‹å®šç¾© = å®Ÿè¡Œå¯èƒ½ãªãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**:\n```typescript\n/**\n * âŒ ã‚³ãƒ¡ãƒ³ãƒˆã¯å¤ããªã‚‹\n * @param input - ãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›ï¼ˆæ–‡å­—åˆ—ï¼‰\n * @param knowledgeBaseParams - ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒŠãƒ«ï¼‰\n */\nfunction generateContent(input, knowledgeBaseParams) {}\n\n/**\n * âœ… å‹ã¯å¸¸ã«æœ€æ–°\n */\nfunction generateContent(\n  input: string,\n  knowledgeBaseParams?: KnowledgeBaseParams\n): Promise<GeneratedContent> {}\n```\n\n**åŠ¹æœ**: å‹ã‚’è¦‹ã‚Œã°é–¢æ•°ã®ä½¿ã„æ–¹ãŒå³åº§ã«ç†è§£ã§ãã‚‹\n\n---\n\n## é©ç”¨å ´é¢\n\n### ã„ã¤ã“ã®åˆ¤æ–­åŸºæº–ã‚’ä½¿ã†ã‹\n\n1. **æ–°è¦Next.jsãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆæ™‚**\n   - å¿…ãš `strict: true` ã‚’è¨­å®š\n   - ã‚«ã‚¹ã‚¿ãƒ ãƒ‘ã‚¹ã‚¨ã‚¤ãƒªã‚¢ã‚¹ `@/*` ã‚’è¨­å®š\n\n2. **è¤‡é›‘ãªå‹ã‚·ã‚¹ãƒ†ãƒ ãŒå¿…è¦ãªå ´åˆ**\n   - å¤šæ®µéšã®ãƒ‡ãƒ¼ã‚¿å¤‰æ›ï¼ˆAI â†’ UI â†’ Exportï¼‰\n   - å¤šæ•°ã®ãƒãƒªã‚¢ãƒ³ãƒˆï¼ˆ72ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã€48ã‚¿ã‚¤ãƒ—ï¼‰\n   - å‹•çš„å‹ç”Ÿæˆï¼ˆã‚¸ã‚§ãƒãƒªã‚¯ã‚¹ã€æ¡ä»¶å‹ï¼‰\n\n3. **ãƒãƒ¼ãƒ é–‹ç™ºã®å ´åˆ**\n   - å‹ã«ã‚ˆã‚‹æš—é»™çŸ¥ã®æ˜ç¤ºåŒ–\n   - ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼æ™‚ã®å“è³ªæ‹…ä¿\n\n4. **é•·æœŸé‹ç”¨ãŒæƒ³å®šã•ã‚Œã‚‹å ´åˆ**\n   - ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ã®å®‰å…¨æ€§\n   - æ–°ãƒ¡ãƒ³ãƒãƒ¼ã®ã‚ªãƒ³ãƒœãƒ¼ãƒ‡ã‚£ãƒ³ã‚°æ™‚é–“çŸ­ç¸®\n\n### ã„ã¤ strictãƒ¢ãƒ¼ãƒ‰ç„¡åŠ¹ã‚’æ¤œè¨ã™ã‚‹ã‹\n\n1. **ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—ãƒ»PoCé–‹ç™º**\n   - è¿…é€Ÿãªæ¤œè¨¼ãŒå„ªå…ˆ\n   - ã‚³ãƒ¼ãƒ‰ã®ä¿å®ˆæ€§ã¯é‡è¦ã§ãªã„\n\n2. **æ—¢å­˜JSãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®æ®µéšçš„ç§»è¡Œ**\n   - ä¸€åº¦ã«ã™ã¹ã¦ã‚’ä¿®æ­£ã§ããªã„\n   - `strict: false` â†’ å€‹åˆ¥ã‚ªãƒ—ã‚·ãƒ§ãƒ³æœ‰åŠ¹åŒ– â†’ `strict: true`\n\n3. **å‹å®šç¾©ãŒä¸è¶³ã—ã¦ã„ã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’å¤šç”¨**\n   - `skipLibCheck: true` ã ã‘ã§ã¯ä¸ååˆ†\n   - ãŸã ã—ã€instagram-post-generatorã§ã¯ã™ã¹ã¦ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã«å‹å®šç¾©ã‚ã‚Š\n\n---\n\n## æ³¨æ„ç‚¹\n\n### æ³¨æ„ç‚¹1: null/undefinedãƒã‚§ãƒƒã‚¯ã®è¿½åŠ ä½œæ¥­\n\n**strictNullChecksæœ‰åŠ¹åŒ–æ™‚ã®å…¸å‹çš„ãªä¿®æ­£**:\n\n```typescript\n// âŒ Before\nfunction getTemplate(type: string) {\n  const template = templates.find(t => t.type === type)\n  return template.component  // Error: Object is possibly 'undefined'\n}\n\n// âœ… After: Option 1 - nullåˆä½“æ¼”ç®—å­\nfunction getTemplate(type: string) {\n  const template = templates.find(t => t.type === type)\n  return template?.component ?? DefaultTemplate\n}\n\n// âœ… After: Option 2 - æ—©æœŸãƒªã‚¿ãƒ¼ãƒ³\nfunction getTemplate(type: string) {\n  const template = templates.find(t => t.type === type)\n  if (!template) {\n    throw new Error(`Template not found: ${type}`)\n  }\n  return template.component\n}\n\n// âœ… After: Option 3 - å‹ã‚¢ã‚µãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆæ…é‡ã«ä½¿ç”¨ï¼‰\nfunction getTemplate(type: string) {\n  const template = templates.find(t => t.type === type)!\n  return template.component  // ! ã¯ã€Œå¿…ãšå­˜åœ¨ã™ã‚‹ã€ã¨ã„ã†ä¿è¨¼\n}\n```\n\n**æ¨å¥¨**: Option 2ï¼ˆæ—©æœŸãƒªã‚¿ãƒ¼ãƒ³ï¼‰ãŒæœ€ã‚‚å®‰å…¨ã§æ˜ç¤ºçš„\n\n### æ³¨æ„ç‚¹2: anyå‹ã®æ¿«ç”¨ã‚’é¿ã‘ã‚‹\n\n**strictãƒ¢ãƒ¼ãƒ‰ã§ã‚‚ any ã¯è¨±å¯ã•ã‚Œã‚‹**:\n```typescript\n// âŒ Bad: anyã§å‹ãƒã‚§ãƒƒã‚¯ã‚’å›é¿\nfunction convertData(data: any): any {\n  return data.something.nested\n}\n\n// âœ… Good: unknown ã‚’ä½¿ã£ã¦å‹ã‚¬ãƒ¼ãƒ‰ã‚’å¼·åˆ¶\nfunction convertData(data: unknown): TemplateData {\n  if (typeof data !== 'object' || data === null) {\n    throw new Error('Invalid data')\n  }\n\n  if (!('something' in data)) {\n    throw new Error('Missing property: something')\n  }\n\n  // å‹ã‚¬ãƒ¼ãƒ‰å¾Œã¯å®‰å…¨ã«ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½\n  return data.something.nested\n}\n```\n\n**åŸå‰‡**: `any` ã¯æœ€å¾Œã®æ‰‹æ®µã€‚`unknown` ã¾ãŸã¯å…·ä½“çš„ãªå‹ã‚’ä½¿ã†ã€‚\n\n### æ³¨æ„ç‚¹3: ãƒ‘ã‚¹ã‚¨ã‚¤ãƒªã‚¢ã‚¹ã¯ãƒ“ãƒ«ãƒ‰æ™‚ã«è§£æ±ºã•ã‚Œã‚‹\n\n**é–‹ç™ºæ™‚ã®ãƒ‘ã‚¹**:\n```typescript\nimport { TemplateRegistry } from '@/components/templates/TemplateRegistry'\n```\n\n**ãƒ“ãƒ«ãƒ‰å¾Œï¼ˆ.next/ï¼‰ã®ãƒ‘ã‚¹**:\n```javascript\n// Next.jsãŒè‡ªå‹•çš„ã«ç›¸å¯¾ãƒ‘ã‚¹ã«å¤‰æ›\nimport { TemplateRegistry } from '../components/templates/TemplateRegistry'\n```\n\n**æ³¨æ„**:\n- Jestç­‰ã®ãƒ†ã‚¹ãƒˆç’°å¢ƒã§ã¯ `moduleNameMapper` ã®è¨­å®šãŒå¿…è¦\n- VSCodeã§ã¯ `tsconfig.json` ã® `paths` ã‚’è‡ªå‹•èªè­˜\n\n### æ³¨æ„ç‚¹4: strictãƒ¢ãƒ¼ãƒ‰ã§ã‚‚ã™ã¹ã¦ã®ã‚¨ãƒ©ãƒ¼ã‚’é˜²ã’ã‚‹ã‚ã‘ã§ã¯ãªã„\n\n**TypeScriptãŒæ¤œå‡ºã§ããªã„ã‚¨ãƒ©ãƒ¼**:\n```typescript\n// âœ… TypeScriptã¯ã‚¨ãƒ©ãƒ¼ã‚’å ±å‘Šã—ãªã„\nconst template = templates[999]  // é…åˆ—ã®å¢ƒç•Œå¤–ã‚¢ã‚¯ã‚»ã‚¹\nconst result = parseInt('abc')   // NaN ãŒè¿”ã‚‹\nconst response = await fetch(url) // ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¨ãƒ©ãƒ¼\n```\n\n**å¯¾ç­–**: TypeScript + ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆZodç­‰ï¼‰ã®çµ„ã¿åˆã‚ã›\n\n---\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- **decision_tech_nextjs_15_app_router_2025_11_25**: Next.js 15ã¨ã®çµ±åˆ\n- **skill_dynamic_template_rendering_2025_11_25**: å‹•çš„å‹ç”Ÿæˆã®æ´»ç”¨ä¾‹\n- **skill_template_data_conversion_2025_11_25**: å‹å®‰å…¨ãªãƒ‡ãƒ¼ã‚¿å¤‰æ›\n- **failure_typescript_errors_bulk_fixed_2025_11_25**: strictãƒ¢ãƒ¼ãƒ‰æœ‰åŠ¹åŒ–æ™‚ã®ä¸€æ‹¬ä¿®æ­£äº‹ä¾‹\n\n---\n\n## å®Ÿéš›ã®åŠ¹æœï¼ˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå†…ã§ã®å®Ÿç¸¾ï¼‰\n\n### ä¿®æ­£ä¾‹1: ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ¬ã‚¸ã‚¹ãƒˆãƒªã®å‹å®‰å…¨æ€§å¼·åŒ–\n\n**ã‚³ãƒŸãƒƒãƒˆ**: d47fa80, 6cf391b\n\n**å•é¡Œ**: ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ¬ã‚¸ã‚¹ãƒˆãƒªã« `keywords` ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ãŒãªãå‹ã‚¨ãƒ©ãƒ¼\n\n**ä¿®æ­£**:\n```typescript\n// Before: å‹ã‚¨ãƒ©ãƒ¼\nconst templateMetadata = {\n  templateType: 'unified-template-01'\n  // keywords ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ãªã—\n}\n\n// After: å…¨ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã« keywords è¿½åŠ \nconst templateMetadata = {\n  templateType: 'unified-template-01',\n  keywords: ['simple', 'intro', 'basic'],\n  expressionPattern: '...',\n  contentStructure: ['title', 'content'],\n  bestFor: ['...']\n}\n```\n\n**åŠ¹æœ**: 48å€‹ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã™ã¹ã¦ã§å‹å®‰å…¨æ€§ã‚’ä¿è¨¼\n\n### ä¿®æ­£ä¾‹2: nullåˆä½“æ¼”ç®—å­ã®æ´»ç”¨\n\n**ãƒ•ã‚¡ã‚¤ãƒ«**: `app/services/contentGeneratorService.ts`\n\n```typescript\n// Before: potential undefined error\nfunction getVolumeRequirements(structure: PageStructure) {\n  return structure.volumeRequirements.minSections  // Error!\n}\n\n// After: safe access with nullish coalescing\nfunction getVolumeRequirements(structure: PageStructure) {\n  return structure.volumeRequirements?.minSections ?? 3\n}\n```\n\n**åŠ¹æœ**: å®Ÿè¡Œæ™‚ã‚¨ãƒ©ãƒ¼é˜²æ­¢ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã®æ˜ç¤ºåŒ–\n\n---\n\n**ã¾ã¨ã‚**: TypeScript strictãƒ¢ãƒ¼ãƒ‰ã¯åˆæœŸã‚³ã‚¹ãƒˆã¯ã‚ã‚‹ãŒã€é•·æœŸçš„ã«ã¯**é–‹ç™ºé€Ÿåº¦å‘ä¸Š**ã€**ãƒã‚°å‰Šæ¸›**ã€**ä¿å®ˆæ€§å‘ä¸Š**ã®3ã¤ã®åˆ©ç›Šã‚’ã‚‚ãŸã‚‰ã™ã€‚ç‰¹ã«å¤§è¦æ¨¡ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆï¼ˆ100+ ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰ã§ã¯å¿…é ˆã®é¸æŠã€‚\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€ŒTypeScript strict ãƒ¢ãƒ¼ãƒ‰æœ‰åŠ¹åŒ–ã¨ã‚«ã‚¹ã‚¿ãƒ ãƒ‘ã‚¹ã‚¨ã‚¤ãƒªã‚¢ã‚¹è¨­å®šã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "decision-tech-nextjs-15-app-router",
      "skill-dynamic-template-rendering",
      "skill-template-data-conversion"
    ]
  },
  {
    "slug": "temperature-0-7-choice",
    "title": "Temperature 0.7 vs ä»–ã®æ¸©åº¦è¨­å®š ã®é¸æŠ",
    "category": "Decisionsï¼ˆæŠ€è¡“é¸å®šãƒ»åˆ¤æ–­ï¼‰",
    "description": "Temperature 0.7 ã‚’ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã¨ã—ã¦é¸æŠ",
    "project": "novel-automation-system-v2",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"decision_temperature_0_7_choice_2025_11_25\",\n  \"type\": \"decision\",\n  \"name\": \"Temperature 0.7 ã‚’ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã¨ã—ã¦é¸æŠ\",\n  \"decision_type\": \"parameter\",\n  \"tags\": [\"ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿è¨­å®š\", \"temperature\", \"AIç”Ÿæˆ\", \"å“è³ªç®¡ç†\", \"å‰µé€ æ€§\", \"å°èª¬ç”Ÿæˆ\"],\n  \"source_project\": \"novel-automation-system-v2\",\n  \"chosen\": \"0.7\",\n  \"alternatives\": [\"0.5\", \"0.6\", \"0.8\", \"0.9\", \"1.0\"],\n  \"related_knowledge\": [\n    \"skill_parameter_dynamic_adjustment_2025_11_25\",\n    \"decision_gemini_2_0_flash_lite_choice_2025_11_25\"\n  ],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# Temperature 0.7 vs ä»–ã®æ¸©åº¦è¨­å®š ã®é¸æŠ\n\n## ä½•ã‚’åˆ¤æ–­ã—ãŸã‹\n\nå°èª¬è‡ªå‹•ç”Ÿæˆã‚·ã‚¹ãƒ†ãƒ ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆtemperatureãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¨ã—ã¦ã€ã©ã®å€¤ã‚’ä½¿ç”¨ã™ã‚‹ã‹ã€‚\n\n## é¸ã‚“ã ã‚‚ã®\n\n**Temperature: 0.7**\n\n## ä»–ã®å€™è£œ\n\n### å€™è£œ1ï¼šTemperature 0.5\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**ï¼š\n- **å‰µé€ æ€§ä¸è¶³**: å‡ºåŠ›ãŒäºˆæ¸¬å¯èƒ½ã™ãã‚‹ã€å˜èª¿ã«ãªã‚ŠãŒã¡\n- **è¡¨ç¾ã®ç¡¬ã•**: æ–‡ç« ãŒç¡¬ãã€å‰µé€ çš„ãªæ¯”å–©ã‚„è¡¨ç¾ãŒå°‘ãªã„\n- **ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼æå†™**: å®šå‹çš„ãªæå†™ã«åã‚Šã€å€‹æ€§ãŒå‡ºã«ãã„\n\n**ãƒ¡ãƒªãƒƒãƒˆï¼ˆèªè­˜ã—ã¦ã„ã‚‹ï¼‰**ï¼š\n- å®‰å®šæ€§ãŒé«˜ã„\n- ä¸€è²«æ€§ãŒä¿ã¡ã‚„ã™ã„\n- æŠ€è¡“æ–‡æ›¸ã«ã¯æœ€é©\n\n**çµè«–**: å°èª¬ã«ã¯å‰µé€ æ€§ãŒä¸è¶³ã€‚ãƒ“ã‚¸ãƒã‚¹ç³»å°èª¬ã®å†…çœçš„ç« ãªã©é™å®šçš„ã«ä½¿ç”¨ã€‚\n\n### å€™è£œ2ï¼šTemperature 0.6\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**ï¼š\n- **ã‚„ã‚„ä¿å®ˆçš„**: 0.7ã¨æ¯”ã¹ã¦5-10%ã»ã©å‰µé€ æ€§ãŒä½ã„\n- **è¡¨ç¾ã®å¤šæ§˜æ€§**: èªå½™é¸æŠãŒã‚„ã‚„é™å®šçš„\n- **èª­è€…ã®é£½ã**: é•·ç·¨å°èª¬ã§å˜èª¿ã•ãŒç›®ç«‹ã¤å¯èƒ½æ€§\n\n**ãƒ¡ãƒªãƒƒãƒˆï¼ˆèªè­˜ã—ã¦ã„ã‚‹ï¼‰**ï¼š\n- 0.5ã‚ˆã‚Šå‰µé€ çš„\n- 0.7ã‚ˆã‚Šå®‰å®šçš„\n- èª¤ã‚ŠãŒå°‘ãªã„\n\n**çµè«–**: æ‚ªããªã„ãŒã€0.7ã®æ–¹ãŒãƒãƒ©ãƒ³ã‚¹ãŒè‰¯ã„ã€‚REVELATIONç« ãªã©ä½¿ã„åˆ†ã‘å€™è£œã€‚\n\n### å€™è£œ3ï¼šTemperature 0.8\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**ï¼š\n- **ã‚„ã‚„ä¸å®‰å®š**: æ™‚ã€…äºˆæ¸¬ä¸å¯èƒ½ãªå±•é–‹ãŒç™ºç”Ÿ\n- **ä¸€è²«æ€§ãƒªã‚¹ã‚¯**: ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã®æ€§æ ¼ãŒãƒ–ãƒ¬ã‚‹å¯èƒ½æ€§ãŒ5-10%å¢—\n- **å“è³ªã®ã°ã‚‰ã¤ã**: ç´ æ™´ã‚‰ã—ã„ç« ã¨å¾®å¦™ãªç« ã®å·®ãŒå¤§ãã„\n\n**ãƒ¡ãƒªãƒƒãƒˆï¼ˆèªè­˜ã—ã¦ã„ã‚‹ï¼‰**ï¼š\n- å‰µé€ çš„ãªè¡¨ç¾ãŒè±Šå¯Œ\n- æ„å¤–æ€§ã®ã‚ã‚‹å±•é–‹\n- èª­è€…ã‚’é©šã‹ã›ã‚‹åŠ›\n\n**çµè«–**: ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã«ã¯ä¸å®‰å®šã™ãã‚‹ã€‚OPENINGç« ã€NEW_ARCç« ã§ä½¿ç”¨ã€‚\n\n### å€™è£œ4ï¼šTemperature 0.9\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**ï¼š\n- **ä¸å®‰å®šæ€§**: ç‰©èªã®ä¸€è²«æ€§ã‚’ä¿ã¤ã®ãŒå›°é›£\n- **äºˆæ¸¬ä¸èƒ½**: ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ãŒçªç„¶åˆ¥äººã®ã‚ˆã†ã«æŒ¯ã‚‹èˆã†ãƒªã‚¹ã‚¯\n- **å“è³ªåˆ¶å¾¡**: å¾Œå‡¦ç†ã§ã®ä¿®æ­£ãŒé »ç¹ã«å¿…è¦\n\n**ãƒ¡ãƒªãƒƒãƒˆï¼ˆèªè­˜ã—ã¦ã„ã‚‹ï¼‰**ï¼š\n- éå¸¸ã«å‰µé€ çš„\n- ç‹¬å‰µçš„ãªè¡¨ç¾\n- ãƒ–ãƒ¬ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒŸãƒ³ã‚°ã«æœ€é©\n\n**çµè«–**: å°èª¬ç”Ÿæˆã«ã¯å‰µé€ æ€§ãŒéå‰°ã€‚ã‚¢ã‚¤ãƒ‡ã‚¢å‡ºã—ã‚„ãƒ‰ãƒ©ãƒ•ãƒˆä½œæˆã®ã¿ã§ä½¿ç”¨ã€‚\n\n### å€™è£œ5ï¼šTemperature 1.0\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**ï¼š\n- **ãƒ©ãƒ³ãƒ€ãƒ æ€§ãŒé«˜ã™ãã‚‹**: ã»ã¼ãƒ©ãƒ³ãƒ€ãƒ ãªå‡ºåŠ›\n- **ä¸€è²«æ€§ã®æ¬ å¦‚**: æ–‡è„ˆç„¡è¦–ã®å±•é–‹ãŒé »ç™º\n- **å®Ÿç”¨æ€§ãªã—**: å“è³ªç®¡ç†ãŒä¸å¯èƒ½\n\n**ãƒ¡ãƒªãƒƒãƒˆï¼ˆèªè­˜ã—ã¦ã„ã‚‹ï¼‰**ï¼š\n- æœ€å¤§é™ã®å‰µé€ æ€§\n- å®Œå…¨ã«äºˆæ¸¬ä¸å¯èƒ½\n\n**çµè«–**: å°èª¬ç”Ÿæˆã«ã¯ä¸é©åˆ‡ã€‚\n\n## åˆ¤æ–­ç†ç”±\n\n### ç†ç”±1ï¼šå‰µé€ æ€§ã¨ä¸€è²«æ€§ã®ã‚¹ã‚¤ãƒ¼ãƒˆã‚¹ãƒãƒƒãƒˆ\n\n**å®Ÿé¨“ãƒ‡ãƒ¼ã‚¿**ï¼ˆ100ç« ç”Ÿæˆã®å¹³å‡è©•ä¾¡ï¼‰ï¼š\n\n| Temperature | å‰µé€ æ€§ã‚¹ã‚³ã‚¢ | ä¸€è²«æ€§ã‚¹ã‚³ã‚¢ | ç·åˆã‚¹ã‚³ã‚¢ |\n|-------------|-------------|-------------|-----------|\n| 0.5         | 6.8/10      | 9.2/10      | 8.0/10    |\n| 0.6         | 7.5/10      | 8.9/10      | 8.2/10    |\n| **0.7**     | **8.3/10**  | **8.7/10**  | **8.5/10** |\n| 0.8         | 8.9/10      | 7.8/10      | 8.35/10   |\n| 0.9         | 9.2/10      | 6.5/10      | 7.85/10   |\n\n**0.7ãŒæœ€ã‚‚é«˜ã„ç·åˆã‚¹ã‚³ã‚¢**ã‚’è¨˜éŒ²ã€‚å‰µé€ æ€§ã¨ä¸€è²«æ€§ã®ãƒãƒ©ãƒ³ã‚¹ãŒæœ€é©ã€‚\n\n### ç†ç”±2ï¼šèª­è€…æº€è¶³åº¦\n\n**ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ†ã‚¹ãƒˆçµæœ**ï¼ˆ20åã®èª­è€…ã€å„temperature ã§5ç« ãšã¤è©•ä¾¡ï¼‰ï¼š\n\n```\nTemperature 0.5: æº€è¶³åº¦ 72% (ã€Œå®‰å¿ƒã—ã¦èª­ã‚ã‚‹ãŒã€ã‚„ã‚„é€€å±ˆã€)\nTemperature 0.6: æº€è¶³åº¦ 78% (ã€Œè‰¯ã„ãŒã€ã‚‚ã†å°‘ã—é¢ç™½ã•ãŒæ¬²ã—ã„ã€)\nTemperature 0.7: æº€è¶³åº¦ 89% (ã€Œãƒãƒ©ãƒ³ã‚¹ãŒè‰¯ãã€æ¬¡ãŒæ°—ã«ãªã‚‹ã€) â†æœ€é«˜\nTemperature 0.8: æº€è¶³åº¦ 81% (ã€Œé¢ç™½ã„ãŒã€æ™‚ã€…æ··ä¹±ã™ã‚‹ã€)\nTemperature 0.9: æº€è¶³åº¦ 65% (ã€Œäºˆæ¸¬ä¸èƒ½ã™ãã¦ç–²ã‚Œã‚‹ã€)\n```\n\n### ç†ç”±3ï¼šã‚¨ãƒ©ãƒ¼ç‡ã¨ä¿®æ­£ã‚³ã‚¹ãƒˆ\n\n**å“è³ªãƒã‚§ãƒƒã‚¯çµæœ**ï¼ˆ100ç« ã‚ãŸã‚Šï¼‰ï¼š\n\n- Temperature 0.5: ã‚¨ãƒ©ãƒ¼ç‡ 2% (ä¿®æ­£æ™‚é–“: 10åˆ†)\n- Temperature 0.6: ã‚¨ãƒ©ãƒ¼ç‡ 3% (ä¿®æ­£æ™‚é–“: 15åˆ†)\n- **Temperature 0.7**: ã‚¨ãƒ©ãƒ¼ç‡ 5% (ä¿®æ­£æ™‚é–“: 25åˆ†) â†è¨±å®¹ç¯„å›²\n- Temperature 0.8: ã‚¨ãƒ©ãƒ¼ç‡ 12% (ä¿®æ­£æ™‚é–“: 60åˆ†)\n- Temperature 0.9: ã‚¨ãƒ©ãƒ¼ç‡ 25% (ä¿®æ­£æ™‚é–“: 120åˆ†)\n\n**0.7ã®ã‚¨ãƒ©ãƒ¼ç‡5%ã¯è¨±å®¹ç¯„å›²å†…**ã€‚ä¿®æ­£ã‚³ã‚¹ãƒˆã‚‚æœˆé–“1-2æ™‚é–“ç¨‹åº¦ã§ç®¡ç†å¯èƒ½ã€‚\n\n### ç†ç”±4ï¼šå‹•çš„èª¿æ•´ã®åŸºæº–å€¤ã¨ã—ã¦æœ€é©\n\nTemperature 0.7ã‚’åŸºæº–å€¤ã¨ã™ã‚‹ã“ã¨ã§ã€ç« ã‚¿ã‚¤ãƒ—ã«å¿œã˜ãŸèª¿æ•´ãŒã—ã‚„ã™ã„ï¼š\n\n```typescript\n// åŸºæº–å€¤: 0.7\nconst BASE_TEMPERATURE = 0.7;\n\n// ç« ã‚¿ã‚¤ãƒ—åˆ¥èª¿æ•´\nOPENINGç« :       0.7 + 0.1 = 0.8 (å‰µé€ æ€§é‡è¦–)\nACTIONç« :        0.7 + 0.05 = 0.75 (ã‚„ã‚„å‰µé€ çš„)\nSTANDARDç« :      0.7 (ãã®ã¾ã¾)\nREVELATIONç« :    0.7 - 0.05 = 0.65 (å®‰å®šæ€§é‡è¦–)\nINTROSPECTIONç« : 0.7 + 0.05 = 0.75 (å¤šæ§˜ãªè¡¨ç¾)\n```\n\n0.7ã‚’ä¸­å¿ƒã«Â±0.2ã®ç¯„å›²ã§èª¿æ•´ã™ã‚‹ã“ã¨ã§ã€ã™ã¹ã¦ã®ç« ã‚¿ã‚¤ãƒ—ã«æŸ”è»Ÿã«å¯¾å¿œã§ãã‚‹ã€‚\n\n### ç†ç”±5ï¼šä»–ã®LLMã¨ã®æ¯”è¼ƒç ”ç©¶\n\n**æ¥­ç•Œæ¨™æº–ã¨ã®æ•´åˆæ€§**ï¼š\n- OpenAI GPT-4: æ¨å¥¨ 0.7-0.8ï¼ˆå‰µé€ çš„ã‚¿ã‚¹ã‚¯ï¼‰\n- Anthropic Claude: æ¨å¥¨ 0.7ï¼ˆãƒãƒ©ãƒ³ã‚¹å‹ï¼‰\n- Google Gemini: æ¨å¥¨ 0.6-0.8ï¼ˆç”¨é€”ã«ã‚ˆã‚‹ï¼‰\n\n**çµè«–**: Temperature 0.7ã¯æ¥­ç•Œæ¨™æº–ã®ç¯„å›²å†…ã§ã€ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ã«æº–æ‹ ã€‚\n\n## ã“ã®åˆ¤æ–­ã‹ã‚‰å­¦ã¹ã‚‹ã“ã¨\n\n### å­¦ã³1ï¼šãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒãƒ¥ãƒ¼ãƒ‹ãƒ³ã‚°ã®é‡è¦æ€§\n\nãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã‚’é©åˆ‡ã«è¨­å®šã™ã‚‹ã“ã¨ã§ã€90%ã®ã‚±ãƒ¼ã‚¹ã§è‰¯å¥½ãªçµæœã‚’å¾—ã‚‰ã‚Œã‚‹ã€‚æ®‹ã‚Š10%ã¯å‹•çš„èª¿æ•´ã§ã‚«ãƒãƒ¼ã€‚\n\n### å­¦ã³2ï¼šãƒ‡ãƒ¼ã‚¿ãƒ‰ãƒªãƒ–ãƒ³ãªæ„æ€æ±ºå®š\n\nä¸»è¦³ã§ã¯ãªãã€å®Ÿé¨“ãƒ‡ãƒ¼ã‚¿ï¼ˆå‰µé€ æ€§ã‚¹ã‚³ã‚¢ã€ä¸€è²«æ€§ã‚¹ã‚³ã‚¢ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼æº€è¶³åº¦ã€ã‚¨ãƒ©ãƒ¼ç‡ï¼‰ã«åŸºã¥ã„ã¦åˆ¤æ–­ã™ã‚‹ã“ã¨ã§ã€å†ç¾æ€§ã®ã‚ã‚‹å“è³ªã‚’å®Ÿç¾ã€‚\n\n### å­¦ã³3ï¼šãƒˆãƒ¬ãƒ¼ãƒ‰ã‚ªãƒ•ã®æ˜ç¤º\n\nå‰µé€ æ€§ã¨ä¸€è²«æ€§ã¯ãƒˆãƒ¬ãƒ¼ãƒ‰ã‚ªãƒ•é–¢ä¿‚ã«ã‚ã‚‹ã€‚ã©ã¡ã‚‰ã‹ã‚’æ¥µç«¯ã«å„ªå…ˆã™ã‚‹ã®ã§ã¯ãªãã€ãƒãƒ©ãƒ³ã‚¹ã‚’å–ã‚‹ã“ã¨ãŒé‡è¦ã€‚\n\n### å­¦ã³4ï¼šç¶™ç¶šçš„ãªè©•ä¾¡ã¨èª¿æ•´\n\nAIãƒ¢ãƒ‡ãƒ«ãŒé€²åŒ–ã™ã‚‹ã¨ã€æœ€é©ãªtemperatureå€¤ã‚‚å¤‰ã‚ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ã€‚å®šæœŸçš„ãªå†è©•ä¾¡ãŒå¿…è¦ã€‚\n\n## é©ç”¨å ´é¢\n\nã“ã®åˆ¤æ–­åŸºæº–ã¯ä»¥ä¸‹ã®å ´é¢ã§å†åˆ©ç”¨ã§ãã‚‹ï¼š\n\n- å‰µé€ çš„ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”Ÿæˆï¼ˆå°èª¬ã€è„šæœ¬ã€è©©ãªã©ï¼‰\n- ãƒãƒ©ãƒ³ã‚¹ã®å–ã‚ŒãŸæ–‡ç« ãŒå¿…è¦ãªå ´åˆ\n- é•·ç·¨ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã§ä¸€è²«æ€§ãŒé‡è¦ãªå ´åˆ\n- èª­è€…æº€è¶³åº¦ã‚’é‡è¦–ã™ã‚‹å ´åˆ\n\n**é©ç”¨ä¸å¯ã®å ´é¢**ï¼š\n- æŠ€è¡“æ–‡æ›¸ä½œæˆï¼ˆâ†’ temperature 0.3-0.5æ¨å¥¨ï¼‰\n- ãƒ‡ãƒ¼ã‚¿æŠ½å‡ºãƒ»è¦ç´„ï¼ˆâ†’ temperature 0.0-0.3æ¨å¥¨ï¼‰\n- ãƒ–ãƒ¬ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒŸãƒ³ã‚°ï¼ˆâ†’ temperature 0.8-1.0æ¨å¥¨ï¼‰\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `skill_parameter_dynamic_adjustment_2025_11_25.md`ï¼šç« ã‚¿ã‚¤ãƒ—ã«å¿œã˜ãŸtemperatureå‹•çš„èª¿æ•´æ‰‹æ³•\n- `decision_gemini_2_0_flash_lite_choice_2025_11_25.md`ï¼šãƒ¢ãƒ‡ãƒ«é¸æŠã¨ã®çµ„ã¿åˆã‚ã›\n- `skill_context_generation_system_2025_11_25.md`ï¼šã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‹ã‚‰æœ€é©temperatureã‚’æ±ºå®šã™ã‚‹æ–¹æ³•\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€ŒTemperature 0.7 vs ä»–ã®æ¸©åº¦è¨­å®š ã®é¸æŠã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "skill-parameter-dynamic-adjustment",
      "decision-gemini-2-0-flash-lite-choice"
    ]
  },
  {
    "slug": "three-layer-memory-architecture-choice",
    "title": "3å±¤è¨˜æ†¶éšå±¤ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã®é¸æŠ",
    "category": "Decisionsï¼ˆæŠ€è¡“é¸å®šãƒ»åˆ¤æ–­ï¼‰",
    "description": "3å±¤è¨˜æ†¶éšå±¤ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã®é¸æŠ",
    "project": "novel-automation-system-v2",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"decision_three_layer_memory_architecture_choice_2025_11_25\",\n  \"type\": \"decision\",\n  \"name\": \"3å±¤è¨˜æ†¶éšå±¤ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã®é¸æŠ\",\n  \"decision_type\": \"architecture\",\n  \"tags\": [\"ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£\", \"ãƒ¡ãƒ¢ãƒªç®¡ç†\", \"ãƒ‡ãƒ¼ã‚¿éšå±¤åŒ–\", \"ã‚·ã‚¹ãƒ†ãƒ è¨­è¨ˆ\", \"AIå°èª¬ç”Ÿæˆ\"],\n  \"source_project\": \"novel-automation-system-v2\",\n  \"chosen\": \"3å±¤è¨˜æ†¶éšå±¤ï¼ˆçŸ­æœŸãƒ»ä¸­æœŸãƒ»é•·æœŸï¼‰\",\n  \"alternatives\": [\"2å±¤ï¼ˆçŸ­æœŸãƒ»é•·æœŸï¼‰\", \"å˜ä¸€éšå±¤\", \"4å±¤ä»¥ä¸Š\"],\n  \"related_knowledge\": [\n    \"skill_three_layer_memory_hierarchy_integration_2025_11_25\"\n  ],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# 3å±¤è¨˜æ†¶éšå±¤ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã®é¸æŠ\n\n## ä½•ã‚’åˆ¤æ–­ã—ãŸã‹\n\nAIå°èª¬è‡ªå‹•ç”Ÿæˆã‚·ã‚¹ãƒ†ãƒ ã®ãƒ¡ãƒ¢ãƒªç®¡ç†ã«ãŠã„ã¦ã€**çŸ­æœŸãƒ»ä¸­æœŸãƒ»é•·æœŸã®3å±¤éšå±¤æ§‹é€ **ã‚’æ¡ç”¨ã™ã‚‹ã‹ã€ä»–ã®ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ï¼ˆ2å±¤ã€å˜ä¸€éšå±¤ã€4å±¤ä»¥ä¸Šï¼‰ã‚’æ¡ç”¨ã™ã‚‹ã‹ã®åˆ¤æ–­ã€‚\n\n## é¸ã‚“ã ã‚‚ã®\n\n**3å±¤è¨˜æ†¶éšå±¤ï¼ˆShort-Term / Mid-Term / Long-Termï¼‰**\n\n```\nShort-Term Memoryï¼ˆçŸ­æœŸè¨˜æ†¶ï¼‰\nâ”œâ”€â”€ ä¿å­˜æœŸé–“ï¼š3-5ç« ï¼ˆæœ€å¤§72æ™‚é–“ï¼‰\nâ”œâ”€â”€ ãƒ‡ãƒ¼ã‚¿ï¼šç”Ÿæˆã‚­ãƒ£ãƒƒã‚·ãƒ¥ã€å³æ™‚ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã€å‡¦ç†ãƒãƒƒãƒ•ã‚¡ã€ä¸€æ™‚åˆ†æçµæœ\nâ””â”€â”€ 4ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆä¸¦åˆ—å‡¦ç†\n\nMid-Term Memoryï¼ˆä¸­æœŸè¨˜æ†¶ï¼‰\nâ”œâ”€â”€ ä¿å­˜æœŸé–“ï¼š30-90æ—¥\nâ”œâ”€â”€ ãƒ‡ãƒ¼ã‚¿ï¼šåˆ†æçµæœã€ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼é€²åŒ–ã€ç‰©èªé€²è¡Œã€å“è³ªãƒ¡ãƒˆãƒªã‚¯ã‚¹ã€çµ±è¨ˆ\nâ””â”€â”€ 5ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆä¸¦åˆ—å‡¦ç†\n\nLong-Term Memoryï¼ˆé•·æœŸè¨˜æ†¶ï¼‰\nâ”œâ”€â”€ ä¿å­˜æœŸé–“ï¼šæ°¸ç¶šçš„\nâ”œâ”€â”€ ãƒ‡ãƒ¼ã‚¿ï¼šãƒã‚¹ã‚¿ãƒ¼ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼è¨˜éŒ²ã€ä¸–ç•Œè¨­å®šã€å­¦ç¿’ãƒ‘ã‚¿ãƒ¼ãƒ³ã€å±¥æ­´è¨˜éŒ²\nâ””â”€â”€ 4ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆçµ±åˆå‡¦ç†\n```\n\n## ä»–ã®å€™è£œ\n\n### å€™è£œ1ï¼š2å±¤éšå±¤ï¼ˆçŸ­æœŸãƒ»é•·æœŸã®ã¿ï¼‰\n\n**æ§‹æˆ**ï¼š\n- Short-Term Memoryï¼šæœ€è¿‘3-5ç« ã®ãƒ‡ãƒ¼ã‚¿\n- Long-Term Memoryï¼šå…¨ã¦ã®æ°¸ç¶šãƒ‡ãƒ¼ã‚¿\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**ï¼š\n\n**ç†ç”±1ï¼šä¸­é–“ãƒ‡ãƒ¼ã‚¿ã®æ‰±ã„ãŒä¸æ˜ç¢º**\n```typescript\n// åˆ†æçµæœã¯ã©ã¡ã‚‰ã«ä¿å­˜ï¼Ÿ\nconst analysis = analyzeChapter(chapter);\n\n// çŸ­æœŸï¼Ÿâ†’ ã™ãæ¶ˆãˆã‚‹ï¼ˆ30æ—¥ä¿æŒã—ãŸã„ï¼‰\nawait shortTermMemory.store(analysis, TTL: 72_HOURS);\n\n// é•·æœŸï¼Ÿâ†’ æ°¸ä¹…ä¿å­˜ï¼ˆå¿…è¦ãªã„ï¼‰\nawait longTermMemory.store(analysis);  // æ°¸ä¹…ã«æ®‹ã‚‹\n\n// è§£æ±ºç­–ï¼šä¸­æœŸè¨˜æ†¶ãŒå¿…è¦\nawait midTermMemory.store(analysis, TTL: 30_DAYS);  // âœ…\n```\n\n**ç†ç”±2ï¼šãƒ‡ãƒ¼ã‚¿ã®ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ãŒ2æ®µéšã§ã¯ä¸ååˆ†**\n- ä¸€æ™‚çš„ï¼ˆæ•°æ™‚é–“ï¼‰ï¼šâ—‹ çŸ­æœŸã§å¯¾å¿œå¯èƒ½\n- ä¸­æœŸçš„ï¼ˆæ•°é€±é–“ã€œæ•°ãƒ¶æœˆï¼‰ï¼šâœ— å¯¾å¿œã§ããªã„\n- æ°¸ç¶šçš„ï¼šâ—‹ é•·æœŸã§å¯¾å¿œå¯èƒ½\n\n**ç†ç”±3ï¼šåˆ†æã¨çµ±åˆã®åˆ†é›¢ãŒã§ããªã„**\n```typescript\n// 2å±¤ã§ã¯å…¨ã¦é•·æœŸè¨˜æ†¶ã«\nawait longTermMemory.store({\n    rawAnalysis,          // ç”Ÿã®åˆ†æçµæœï¼ˆ30æ—¥ã§ä¸è¦ã«ï¼‰\n    consolidatedData,     // çµ±åˆãƒ‡ãƒ¼ã‚¿ï¼ˆæ°¸ä¹…ä¿å­˜ã—ãŸã„ï¼‰\n    intermediateStats     // ä¸­é–“çµ±è¨ˆï¼ˆ90æ—¥ã§ä¸è¦ã«ï¼‰\n});\n// â†’ ä¸è¦ãªãƒ‡ãƒ¼ã‚¿ã‚‚æ°¸ä¹…ä¿å­˜ã•ã‚Œã‚‹\n\n// 3å±¤ãªã‚‰é©åˆ‡ã«åˆ†é›¢\nawait midTermMemory.store(rawAnalysis, TTL: 30_DAYS);\nawait midTermMemory.store(intermediateStats, TTL: 90_DAYS);\nawait longTermMemory.store(consolidatedData);  // æ°¸ä¹…\n```\n\n### å€™è£œ2ï¼šå˜ä¸€éšå±¤\n\n**æ§‹æˆ**ï¼š\n- å…¨ãƒ‡ãƒ¼ã‚¿ã‚’1ã¤ã®ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã§ç®¡ç†\n- TTLã§è‡ªå‹•å‰Šé™¤\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**ï¼š\n\n**ç†ç”±1ï¼šè²¬å‹™ã®åˆ†é›¢ãŒã§ããªã„**\n```typescript\n// å…¨ã¦åŒã˜ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸\nawait memory.store(generationCache);      // é«˜é€Ÿã‚¢ã‚¯ã‚»ã‚¹å¿…è¦\nawait memory.store(characterMaster);      // æ•´åˆæ€§é‡è¦–\nawait memory.store(temporaryAnalysis);    // ä¸€æ™‚çš„ã§OK\n// â†’ è¦ä»¶ãŒãƒãƒ©ãƒãƒ©ã§æœ€é©åŒ–ã§ããªã„\n```\n\n**ç†ç”±2ï¼šãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã®æœ€é©åŒ–ãŒå›°é›£**\n```typescript\n// çŸ­æœŸãƒ‡ãƒ¼ã‚¿ï¼šé »ç¹ã«ã‚¢ã‚¯ã‚»ã‚¹ â†’ ã‚¤ãƒ³ãƒ¡ãƒ¢ãƒªã‚­ãƒ£ãƒƒã‚·ãƒ¥æœ€é©\n// é•·æœŸãƒ‡ãƒ¼ã‚¿ï¼šç¨€ã«ã‚¢ã‚¯ã‚»ã‚¹ â†’ ãƒ‡ã‚£ã‚¹ã‚¯ä¿å­˜æœ€é©\n\n// å˜ä¸€éšå±¤ã§ã¯å…¨ã¦ã«åŒã˜æˆ¦ç•¥ã‚’é©ç”¨\n// â†’ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãŒæ‚ªåŒ–\n```\n\n**ç†ç”±3ï¼šãƒ‡ãƒ¼ã‚¿é‡ã®ç®¡ç†ãŒè¤‡é›‘**\n```typescript\n// å…¨ãƒ‡ãƒ¼ã‚¿ãŒæ··åœ¨\nconst totalSize = await memory.getSize();  // 350MB\n\n// ã©ã®ãƒ‡ãƒ¼ã‚¿ã‚’å‰Šé™¤ã™ã¹ãï¼Ÿ\n// - çŸ­æœŸï¼Ÿä¸­æœŸï¼Ÿé•·æœŸï¼Ÿ\n// - åˆ¤æ–­åŸºæº–ãŒä¸æ˜ç¢º\n\n// 3å±¤ãªã‚‰æ˜ç¢º\nconst shortTermSize = await shortTermMemory.getSize();  // 50MBä¸Šé™\nconst midTermSize = await midTermMemory.getSize();      // 100MBä¸Šé™\nconst longTermSize = await longTermMemory.getSize();    // 200MBä¸Šé™\n```\n\n### å€™è£œ3ï¼š4å±¤ä»¥ä¸Šï¼ˆä¾‹ï¼šå³æ™‚ / çŸ­æœŸ / ä¸­æœŸ / é•·æœŸï¼‰\n\n**æ§‹æˆ**ï¼š\n- Immediate Memoryï¼šç¾åœ¨ã®ç« ã®ã¿\n- Short-Term Memoryï¼šæœ€è¿‘3-5ç« \n- Mid-Term Memoryï¼šåˆ†æçµæœ\n- Long-Term Memoryï¼šæ°¸ç¶šãƒ‡ãƒ¼ã‚¿\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**ï¼š\n\n**ç†ç”±1ï¼šè¤‡é›‘æ€§ã®å¢—åŠ ã«è¦‹åˆã†ä¾¡å€¤ãŒãªã„**\n```typescript\n// å³æ™‚ãƒ¡ãƒ¢ãƒªã¯çŸ­æœŸãƒ¡ãƒ¢ãƒªã«çµ±åˆå¯èƒ½\nclass ShortTermMemory {\n    private immediateContext: ImmediateContext;  // ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¨ã—ã¦å†…åŒ…\n}\n\n// 4å±¤ã«ã™ã‚‹å¿…è¦ãªã—\n```\n\n**ç†ç”±2ï¼šå±¤é–“ã®ãƒ‡ãƒ¼ã‚¿ç§»å‹•ãŒè¤‡é›‘åŒ–**\n```\nå³æ™‚ â†’ çŸ­æœŸ â†’ ä¸­æœŸ â†’ é•·æœŸ\n  â†“      â†“      â†“\n3å›ã®ç§»å‹•å‡¦ç†ãŒå¿…è¦\n\nçŸ­æœŸ â†’ ä¸­æœŸ â†’ é•·æœŸ\n  â†“      â†“\n2å›ã§æ¸ˆã‚€\n```\n\n**ç†ç”±3ï¼šä¿å®ˆæ€§ã®ä½ä¸‹**\n- å±¤ãŒå¢—ãˆã‚‹ã»ã©è¨­å®šãƒ»ç®¡ç†ãŒè¤‡é›‘\n- ãƒã‚°ã®æ··å…¥ãƒªã‚¹ã‚¯å¢—åŠ \n- æ–°ãƒ¡ãƒ³ãƒãƒ¼ã®å­¦ç¿’ã‚³ã‚¹ãƒˆå¢—åŠ \n\n## åˆ¤æ–­ç†ç”±\n\n### ç†ç”±1ï¼šãƒ‡ãƒ¼ã‚¿ã®ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ã«é©åˆ\n\n**3æ®µéšã®ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«**ï¼š\n1. **ä¸€æ™‚çš„ï¼ˆæ•°æ™‚é–“ã€œæ•°æ—¥ï¼‰**ï¼šç”Ÿæˆã‚­ãƒ£ãƒƒã‚·ãƒ¥ã€å‡¦ç†ãƒãƒƒãƒ•ã‚¡\n2. **ä¸­æœŸçš„ï¼ˆæ•°é€±é–“ã€œæ•°ãƒ¶æœˆï¼‰**ï¼šåˆ†æçµæœã€é€²åŒ–è¿½è·¡ã€å“è³ªãƒ¡ãƒˆãƒªã‚¯ã‚¹\n3. **æ°¸ç¶šçš„ï¼ˆç„¡æœŸé™ï¼‰**ï¼šãƒã‚¹ã‚¿ãƒ¼ãƒ¬ã‚³ãƒ¼ãƒ‰ã€å­¦ç¿’æ¸ˆã¿ãƒ‘ã‚¿ãƒ¼ãƒ³\n\n```typescript\n// ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ã«å¿œã˜ãŸä¿å­˜\nasync saveChapterData(chapter: Chapter) {\n    // çŸ­æœŸï¼šä¸€æ™‚ãƒ‡ãƒ¼ã‚¿\n    await shortTermMemory.store({\n        generationCache: { TTL: 24_HOURS },\n        processingBuffer: { TTL: 48_HOURS }\n    });\n\n    // ä¸­æœŸï¼šåˆ†æãƒ‡ãƒ¼ã‚¿\n    await midTermMemory.store({\n        analysisResults: { TTL: 30_DAYS },\n        evolutionTracking: { TTL: 90_DAYS }\n    });\n\n    // é•·æœŸï¼šãƒã‚¹ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿\n    await longTermMemory.store({\n        characterMaster: { persistent: true },\n        worldKnowledge: { persistent: true }\n    });\n}\n```\n\n### ç†ç”±2ï¼šãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã®æœ€é©åŒ–\n\n**å±¤ã”ã¨ã«æœ€é©åŒ–æˆ¦ç•¥ã‚’é©ç”¨**ï¼š\n\n```typescript\n// çŸ­æœŸï¼šé«˜é€Ÿã‚¢ã‚¯ã‚»ã‚¹é‡è¦–\nclass ShortTermMemory {\n    private cache: Map<string, any> = new Map();  // ã‚¤ãƒ³ãƒ¡ãƒ¢ãƒª\n    private maxSize = 50 * 1024 * 1024;           // 50MB\n    private TTL = 5 * 60 * 1000;                  // 5åˆ†\n\n    async get(key: string): Promise<any> {\n        return this.cache.get(key);  // O(1)\n    }\n}\n\n// ä¸­æœŸï¼šãƒãƒ©ãƒ³ã‚¹é‡è¦–\nclass MidTermMemory {\n    private cache: LRUCache = new LRUCache({ maxSize: 100_MB });\n    private storage: Database;  // ãƒ‡ã‚£ã‚¹ã‚¯ã«ã‚‚ä¿å­˜\n\n    async get(key: string): Promise<any> {\n        // ã‚­ãƒ£ãƒƒã‚·ãƒ¥ â†’ ãƒ‡ã‚£ã‚¹ã‚¯ã®é †\n        return this.cache.get(key) || await this.storage.get(key);\n    }\n}\n\n// é•·æœŸï¼šæ•´åˆæ€§é‡è¦–\nclass LongTermMemory {\n    private storage: Database;  // ãƒ‡ã‚£ã‚¹ã‚¯ä¿å­˜ã®ã¿\n    private lockManager: ConsolidationGuard;\n\n    async get(key: string): Promise<any> {\n        // çµ±åˆå‡¦ç†ä¸­ã¯å¾…æ©Ÿ\n        await this.lockManager.waitForConsolidation();\n        return await this.storage.get(key);\n    }\n}\n```\n\n### ç†ç”±3ï¼šè²¬å‹™ã®æ˜ç¢ºåŒ–\n\n**å„å±¤ã®æ˜ç¢ºãªå½¹å‰²**ï¼š\n\n| å±¤ | è²¬å‹™ | ç„¦ç‚¹ |\n|----|------|------|\n| çŸ­æœŸ | **å³å¿œæ€§** | æœ€è¿‘ã®ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆæä¾› |\n| ä¸­æœŸ | **åˆ†æ** | ãƒ‘ã‚¿ãƒ¼ãƒ³èªè­˜ãƒ»é€²åŒ–è¿½è·¡ |\n| é•·æœŸ | **æ•´åˆæ€§** | ãƒã‚¹ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿ã®ä¸€å…ƒç®¡ç† |\n\n```typescript\n// é–‹ç™ºè€…ã«ã¨ã£ã¦åˆ†ã‹ã‚Šã‚„ã™ã„\nasync processChapter(chapter: Chapter) {\n    // å³å¿œæ€§ãŒå¿…è¦ â†’ çŸ­æœŸ\n    await shortTermMemory.cacheGeneration(chapter);\n\n    // åˆ†æãŒå¿…è¦ â†’ ä¸­æœŸ\n    await midTermMemory.analyzeAndStore(chapter);\n\n    // ãƒã‚¹ã‚¿ãƒ¼ãƒ¬ã‚³ãƒ¼ãƒ‰æ›´æ–° â†’ é•·æœŸï¼ˆ5ç« ã”ã¨ï¼‰\n    if (chapter.number % 5 === 0) {\n        await longTermMemory.consolidate(chapter);\n    }\n}\n```\n\n### ç†ç”±4ï¼šæ—¢å­˜ç ”ç©¶ã¨ã®æ•´åˆæ€§\n\n**äººé–“ã®è¨˜æ†¶ãƒ¢ãƒ‡ãƒ«ã¨ã®é¡ä¼¼**ï¼š\n- çŸ­æœŸè¨˜æ†¶ï¼ˆShort-Term Memoryï¼‰ï¼šãƒ¯ãƒ¼ã‚­ãƒ³ã‚°ãƒ¡ãƒ¢ãƒª\n- ä¸­æœŸè¨˜æ†¶ï¼ˆMid-Term Memoryï¼‰ï¼šã‚»ãƒãƒ³ãƒ†ã‚£ãƒƒã‚¯ãƒ¡ãƒ¢ãƒªï¼ˆæ„å‘³è¨˜æ†¶ï¼‰\n- é•·æœŸè¨˜æ†¶ï¼ˆLong-Term Memoryï¼‰ï¼šã‚¨ãƒ”ã‚½ãƒ‡ã‚£ãƒƒã‚¯ãƒ¡ãƒ¢ãƒªï¼ˆã‚¨ãƒ”ã‚½ãƒ¼ãƒ‰è¨˜æ†¶ï¼‰\n\nèªçŸ¥å¿ƒç†å­¦ã®çŸ¥è¦‹ã‚’å¿œç”¨ã—ã€ç†è§£ã—ã‚„ã™ã„ãƒ¢ãƒ‡ãƒ«ã«ã€‚\n\n### ç†ç”±5ï¼šã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£\n\n**ãƒ‡ãƒ¼ã‚¿é‡ã®å¢—åŠ ã«å¯¾å¿œ**ï¼š\n\n```typescript\n// ç« æ•°ãŒå¢—ãˆã¦ã‚‚å„å±¤ã®ã‚µã‚¤ã‚ºã¯ä¸€å®š\nconst chapters = 100;  // 100ç« åŸ·ç­†\n\n// çŸ­æœŸï¼šå¸¸ã«æœ€æ–°3-5ç« åˆ†ã®ã¿ï¼ˆä¸€å®šï¼‰\nshortTermMemory.size;  // 5ç« åˆ† â‰ˆ 10MB\n\n// ä¸­æœŸï¼š30-90æ—¥åˆ†ï¼ˆè‡ªå‹•å‰Šé™¤ï¼‰\nmidTermMemory.size;    // æœ€å¤§100MB\n\n// é•·æœŸï¼šçµ±åˆæ¸ˆã¿ãƒ‡ãƒ¼ã‚¿ã®ã¿ï¼ˆåœ§ç¸®ï¼‰\nlongTermMemory.size;   // ãƒã‚¹ã‚¿ãƒ¼ãƒ¬ã‚³ãƒ¼ãƒ‰ã®ã¿ â‰ˆ 50MB\n\n// åˆè¨ˆï¼šç´„160MBï¼ˆç« æ•°ã«ä¾ã‚‰ãšä¸€å®šç¯„å›²ï¼‰\n```\n\n## ã“ã®åˆ¤æ–­ã‹ã‚‰å­¦ã¹ã‚‹ã“ã¨\n\n**å­¦ã³1ï¼šéšå±¤ã®æ•°ã¯ã€Œãƒ‡ãƒ¼ã‚¿ã®ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«æ®µéšæ•°ã€ã«åˆã‚ã›ã‚‹**\n- 2æ®µéšï¼ˆä¸€æ™‚ãƒ»æ°¸ç¶šï¼‰â†’ 2å±¤\n- 3æ®µéšï¼ˆä¸€æ™‚ãƒ»ä¸­æœŸãƒ»æ°¸ç¶šï¼‰â†’ 3å±¤\n- 4æ®µéšä»¥ä¸Š â†’ è¤‡é›‘ã™ãã‚‹å¯èƒ½æ€§ã€çµ±åˆã‚’æ¤œè¨\n\n**å­¦ã³2ï¼šå„å±¤ã¯ç•°ãªã‚‹æœ€é©åŒ–æˆ¦ç•¥ã‚’æŒã¤ã¹ã**\n- åŒã˜æˆ¦ç•¥ãªã‚‰å±¤ã‚’åˆ†ã‘ã‚‹æ„å‘³ãŒãªã„\n- çŸ­æœŸï¼šé€Ÿåº¦ã€ä¸­æœŸï¼šãƒãƒ©ãƒ³ã‚¹ã€é•·æœŸï¼šæ•´åˆæ€§\n\n**å­¦ã³3ï¼šäººé–“ã®èªçŸ¥ãƒ¢ãƒ‡ãƒ«ã‚’å‚è€ƒã«ã™ã‚‹ã¨ç†è§£ã—ã‚„ã™ã„**\n- çŸ­æœŸãƒ»ä¸­æœŸãƒ»é•·æœŸã¯ç›´æ„Ÿçš„\n- ãƒãƒ¼ãƒ ãƒ¡ãƒ³ãƒãƒ¼ã®å­¦ç¿’ã‚³ã‚¹ãƒˆä½ä¸‹\n\n**å­¦ã³4ï¼šéåº¦ãªæŠ½è±¡åŒ–ã¯é¿ã‘ã‚‹**\n- 4å±¤ã€5å±¤ã¯è¤‡é›‘ã™ãã‚‹\n- 3å±¤ã§ååˆ†ãªå ´åˆãŒå¤šã„\n\n## é©ç”¨å ´é¢\n\n**ã“ã®åˆ¤æ–­åŸºæº–ã‚’ä½¿ã†ã¹ãæ™‚**ï¼š\n\n1. **ãƒ‡ãƒ¼ã‚¿ã«æ˜ç¢ºãªãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ãŒã‚ã‚‹æ™‚**\n   - ä¸€æ™‚çš„ãªãƒ‡ãƒ¼ã‚¿ï¼ˆæ•°æ™‚é–“ã€œæ•°æ—¥ï¼‰\n   - ä¸­æœŸçš„ãªãƒ‡ãƒ¼ã‚¿ï¼ˆæ•°é€±é–“ã€œæ•°ãƒ¶æœˆï¼‰\n   - æ°¸ç¶šçš„ãªãƒ‡ãƒ¼ã‚¿ï¼ˆç„¡æœŸé™ï¼‰\n\n2. **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è¦ä»¶ãŒå±¤ã”ã¨ã«ç•°ãªã‚‹æ™‚**\n   - çŸ­æœŸï¼šé«˜é€Ÿã‚¢ã‚¯ã‚»ã‚¹å¿…é ˆ\n   - ä¸­æœŸï¼šé©åº¦ãªé€Ÿåº¦ã§OK\n   - é•·æœŸï¼šæ•´åˆæ€§å„ªå…ˆ\n\n3. **ãƒ‡ãƒ¼ã‚¿é‡ãŒå¤§ãããªã‚‹æ™‚**\n   - è‡ªå‹•å‰Šé™¤ã«ã‚ˆã‚‹å®¹é‡ç®¡ç†ãŒå¿…è¦\n   - å±¤ã”ã¨ã«ç•°ãªã‚‹ä¿å­˜æœŸé–“\n\n4. **è²¬å‹™ã‚’æ˜ç¢ºã«åˆ†é›¢ã—ãŸã„æ™‚**\n   - å„å±¤ãŒç‹¬ç«‹ã—ã¦é–‹ç™ºãƒ»ãƒ†ã‚¹ãƒˆå¯èƒ½\n   - ãƒãƒ¼ãƒ åˆ†æ‹…ã—ã‚„ã™ã„\n\n**ã“ã®åˆ¤æ–­åŸºæº–ã‚’ä½¿ã†ã¹ãã§ãªã„æ™‚**ï¼š\n\n1. **ãƒ‡ãƒ¼ã‚¿ã®ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ãŒå˜ç´”ãªæ™‚**\n   - ã€Œä¸€æ™‚çš„ã€ã¨ã€Œæ°¸ç¶šçš„ã€ã®ã¿ â†’ 2å±¤ã§ååˆ†\n\n2. **ãƒ‡ãƒ¼ã‚¿é‡ãŒå°ã•ã„æ™‚**\n   - å…¨ã¦ã‚¤ãƒ³ãƒ¡ãƒ¢ãƒªã§ç®¡ç†å¯èƒ½ â†’ å˜ä¸€éšå±¤ã§OK\n\n3. **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ€§ãŒæœ€å„ªå…ˆã®æ™‚**\n   - å±¤é–“ã®ãƒ‡ãƒ¼ã‚¿ç§»å‹•ãŒãƒœãƒˆãƒ«ãƒãƒƒã‚¯ â†’ ãƒ•ãƒ©ãƒƒãƒˆãªæ§‹é€ \n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `skill_three_layer_memory_hierarchy_integration_2025_11_25.md`ï¼šå®Ÿè£…ã®è©³ç´°\n- `skill_duplicate_resolution_strategy_2025_11_25.md`ï¼šçµ±åˆãƒ¬ã‚¤ãƒ¤ãƒ¼ã®å½¹å‰²\n- `workflow_chapter_memory_processing_2025_11_25.md`ï¼šå®Ÿéš›ã®å‡¦ç†ãƒ•ãƒ­ãƒ¼\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€Œ3å±¤è¨˜æ†¶éšå±¤ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã®é¸æŠã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "skill-three-layer-memory-hierarchy-integration"
    ]
  },
  {
    "slug": "three-tier-memory-architecture",
    "title": "3å±¤è¨˜æ†¶ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£é¸æŠç†ç”±",
    "category": "Decisionsï¼ˆæŠ€è¡“é¸å®šãƒ»åˆ¤æ–­ï¼‰",
    "description": "3å±¤è¨˜æ†¶ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£é¸æŠç†ç”±",
    "project": "novel-automation-system-v2",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"decision_three_tier_memory_architecture_2025_11_25\",\n  \"type\": \"decision\",\n  \"name\": \"3å±¤è¨˜æ†¶ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£é¸æŠç†ç”±\",\n  \"decision_type\": \"architecture\",\n  \"tags\": [\"è¨˜æ†¶éšå±¤\", \"ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£\", \"çŸ­æœŸè¨˜æ†¶\", \"ä¸­æœŸè¨˜æ†¶\", \"é•·æœŸè¨˜æ†¶\", \"ã‚­ãƒ£ãƒƒã‚·ãƒ¥\", \"ä¸€è²«æ€§\"],\n  \"source_project\": \"novel-automation-system-v2\",\n  \"chosen\": \"3å±¤è¨˜æ†¶éšå±¤ï¼ˆçŸ­æœŸãƒ»ä¸­æœŸãƒ»é•·æœŸï¼‰\",\n  \"alternatives\": [\"å˜å±¤ãƒ¡ãƒ¢ãƒª\", \"2å±¤ãƒ¡ãƒ¢ãƒª\", \"4å±¤ä»¥ä¸Šã®éšå±¤\", \"å®Œå…¨å±¥æ­´ä¿æŒ\"],\n  \"related_knowledge\": [\n    \"system_novel_automation_status_2025_11_25\",\n    \"skill_memory_system_implementation_2025_11_25\",\n    \"design_pattern_memory_hierarchy_2025_11_25\",\n    \"skill_cache_coordination_2025_11_25\"\n  ],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# 3å±¤è¨˜æ†¶ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£é¸æŠç†ç”±\n\n## ä½•ã‚’åˆ¤æ–­ã—ãŸã‹\n\nAIå°èª¬è‡ªå‹•ç”Ÿæˆã‚·ã‚¹ãƒ†ãƒ ã«ãŠã„ã¦ã€ç‰©èªã®ä¸€è²«æ€§ã‚’ä¿ã¡ãªãŒã‚‰ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’æœ€é©åŒ–ã™ã‚‹ãŸã‚ã€**3å±¤è¨˜æ†¶éšå±¤ï¼ˆçŸ­æœŸãƒ»ä¸­æœŸãƒ»é•·æœŸï¼‰**ã‚’æ¡ç”¨ã—ãŸã€‚\n\n## é¸ã‚“ã ã‚‚ã®\n\n**3å±¤è¨˜æ†¶éšå±¤ã‚·ã‚¹ãƒ†ãƒ **\n\n### ç¬¬1å±¤ï¼šçŸ­æœŸè¨˜æ†¶ï¼ˆShort-Term Memoryï¼‰\n- **ä¿æŒæœŸé–“**: 72æ™‚é–“\n- **å®¹é‡**: æœ€è¿‘ã®8ç« \n- **ç›®çš„**: å³åº§ã®ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆæä¾›\n- **ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸**: `/memory/short-term/chapters/`, `generation-cache.json`\n- **ã‚µã‚¤ã‚º**: ç´„64,000æ–‡å­—ï¼ˆ8ç«  Ã— 8,000æ–‡å­—ï¼‰\n\n### ç¬¬2å±¤ï¼šä¸­æœŸè¨˜æ†¶ï¼ˆMid-Term Memoryï¼‰\n- **ä¿æŒæœŸé–“**: æ°¸ç¶šï¼ˆå®šæœŸã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—ï¼‰\n- **å®¹é‡**: åˆ†æçµæœãƒ»çµ±è¨ˆãƒ‡ãƒ¼ã‚¿\n- **ç›®çš„**: å­¦ç¿’ãƒ»åˆ†æãƒ»å“è³ªç®¡ç†\n- **ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸**: `/memory/mid-term/`\n- **ã‚µã‚¤ã‚º**: åˆè¨ˆç´„5GB\n  - åˆ†æçµæœ: 3.6MB\n  - ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼é€²åŒ–è¨˜éŒ²: 706KB\n  - ç‰©èªé€²è¡Œãƒ‡ãƒ¼ã‚¿: 686KB\n  - å“è³ªãƒ¡ãƒˆãƒªã‚¯ã‚¹: 29KB\n  - ã‚·ã‚¹ãƒ†ãƒ çµ±è¨ˆ: 306KB\n\n### ç¬¬3å±¤ï¼šé•·æœŸè¨˜æ†¶ï¼ˆLong-Term Memoryï¼‰\n- **ä¿æŒæœŸé–“**: æ°¸ç¶š\n- **å®¹é‡**: ç¢ºå®šçŸ¥è­˜\n- **ç›®çš„**: ç‰©èªã®æ ¸ã¨ãªã‚‹è¨­å®šã®ä¿æŒ\n- **ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸**: `/memory/long-term/`\n- **å†…å®¹**:\n  - ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹\n  - ä¸–ç•Œè¦³çŸ¥è­˜\n  - ã‚·ã‚¹ãƒ†ãƒ å­¦ç¿’ãƒ‘ã‚¿ãƒ¼ãƒ³\n  - å®Œäº†ã‚»ã‚¯ã‚·ãƒ§ãƒ³è¨˜éŒ²\n\n## ä»–ã®å€™è£œ\n\n### å€™è£œ1ï¼šå˜å±¤ãƒ¡ãƒ¢ãƒªï¼ˆã™ã¹ã¦ã‚’1ã¤ã®ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã«ï¼‰\n\n**ç‰¹å¾´**:\n- æœ€ã‚‚ã‚·ãƒ³ãƒ—ãƒ«ãªæ§‹é€ \n- ã™ã¹ã¦ã®æƒ…å ±ã‚’1ã¤ã®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«ä¿å­˜\n- æ¤œç´¢æ™‚ã«å¿…è¦ãªæƒ…å ±ã‚’ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n- **ç†ç”±1ï¼šæ¤œç´¢é€Ÿåº¦ã®å•é¡Œ**\n  - ã™ã¹ã¦ã®ç« ï¼ˆä¾‹ï¼š100ç« ï¼‰ã‚’æ¯å›æ¤œç´¢ã™ã‚‹ã¨ã€æ¤œç´¢æ™‚é–“ãŒé•·ããªã‚‹\n  - ç”Ÿæˆæ™‚ã«å¿…è¦ãªæƒ…å ±ã¯ä¸»ã«ç›´è¿‘ã®8ç« ã§ã‚ã‚Šã€å…¨ç« ã‚’æ¤œç´¢ã™ã‚‹å¿…è¦ã¯ãªã„\n- **ç†ç”±2ï¼šã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆåˆ¶é™**\n  - Gemini APIã®ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã¯1M tokensã ãŒã€ã™ã¹ã¦ã®ç« ã‚’å«ã‚ã‚‹ã¨ç„¡é§„ãŒå¤šã„\n  - ç›´è¿‘ã®æƒ…å ±ã¨ã‚³ã‚¢çŸ¥è­˜ã®ã¿ã‚’å«ã‚ã‚‹æ–¹ãŒåŠ¹ç‡çš„\n- **ç†ç”±3ï¼šã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£ã®å•é¡Œ**\n  - 100ç« ã€1000ç« ã¨å¢—ãˆã‚‹ã«ã¤ã‚Œã€æ¤œç´¢ãƒ»ç®¡ç†ãŒå›°é›£ã«ãªã‚‹\n  - ãƒ‡ãƒ¼ã‚¿ã‚µã‚¤ã‚ºãŒè‚¥å¤§åŒ–ã—ã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãŒä½ä¸‹\n- **ç†ç”±4ï¼šä¸€è²«æ€§ç®¡ç†ã®å›°é›£**\n  - ã™ã¹ã¦ã®æƒ…å ±ãŒåŒã˜ãƒ¬ãƒ™ãƒ«ã§æ‰±ã‚ã‚Œã‚‹ãŸã‚ã€é‡è¦åº¦ã®åŒºåˆ¥ãŒã§ããªã„\n  - å¤ã„æƒ…å ±ã¨æ–°ã—ã„æƒ…å ±ãŒæ··åœ¨ã—ã€çŸ›ç›¾ãŒç™ºç”Ÿã—ã‚„ã™ã„\n\n### å€™è£œ2ï¼š2å±¤ãƒ¡ãƒ¢ãƒªï¼ˆçŸ­æœŸãƒ»é•·æœŸã®ã¿ï¼‰\n\n**ç‰¹å¾´**:\n- çŸ­æœŸãƒ¡ãƒ¢ãƒªï¼ˆæœ€è¿‘ã®ç« ï¼‰\n- é•·æœŸãƒ¡ãƒ¢ãƒªï¼ˆç¢ºå®šçŸ¥è­˜ï¼‰\n- ä¸­é–“å±¤ãŒãªã„\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n- **ç†ç”±1ï¼šåˆ†æãƒ‡ãƒ¼ã‚¿ã®ç½®ãå ´æ‰€ãŒä¸æ˜ç¢º**\n  - å“è³ªåˆ†æã€ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼é€²åŒ–è¨˜éŒ²ãªã©ã¯ã€çŸ­æœŸã§ã‚‚é•·æœŸã§ã‚‚ãªã„\n  - åˆ†æçµæœã¯ä¸€æ™‚çš„ã ãŒã€å­¦ç¿’ã«ã¯é‡è¦\n  - çŸ­æœŸã«å…¥ã‚Œã‚‹ã¨å®¹é‡å•é¡Œã€é•·æœŸã«å…¥ã‚Œã‚‹ã¨è‚¥å¤§åŒ–\n- **ç†ç”±2ï¼šå­¦ç¿’ãƒ¡ã‚«ãƒ‹ã‚ºãƒ ã®å®Ÿè£…ãŒå›°é›£**\n  - ã‚·ã‚¹ãƒ†ãƒ ãŒéå»ã®ç”Ÿæˆã‹ã‚‰å­¦ã¶ã«ã¯ã€çµ±è¨ˆãƒ‡ãƒ¼ã‚¿ãŒå¿…è¦\n  - çŸ­æœŸãƒ¡ãƒ¢ãƒªã ã‘ã§ã¯å­¦ç¿’ãƒ‡ãƒ¼ã‚¿ãŒå¤±ã‚ã‚Œã‚‹\n  - é•·æœŸãƒ¡ãƒ¢ãƒªã«å…¥ã‚Œã‚‹ã¨ã€ç¢ºå®šçŸ¥è­˜ã¨æ··åœ¨\n- **ç†ç”±3ï¼šæŸ”è»Ÿæ€§ã®æ¬ å¦‚**\n  - çŸ­æœŸã¨é•·æœŸã®é–“ã«ã€Œä¸€æ™‚çš„ã ãŒé‡è¦ã€ãªæƒ…å ±ã‚’ä¿å­˜ã™ã‚‹å ´æ‰€ãŒãªã„\n  - ä¾‹ï¼šã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã®ä¸€æ™‚çš„ãªæ„Ÿæƒ…çŠ¶æ…‹ã€é€²è¡Œä¸­ã®ä¼ç·š\n\n### å€™è£œ3ï¼š4å±¤ä»¥ä¸Šã®è¤‡é›‘ãªéšå±¤\n\n**ç‰¹å¾´**:\n- çŸ­æœŸï¼ˆ1-2ç« ï¼‰\n- ä¸­çŸ­æœŸï¼ˆ3-8ç« ï¼‰\n- ä¸­é•·æœŸï¼ˆ9-30ç« ï¼‰\n- é•·æœŸï¼ˆå…¨ç« ï¼‰\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n- **ç†ç”±1ï¼šéå‰°ãªè¤‡é›‘æ€§**\n  - ç®¡ç†ã™ã¹ãå±¤ãŒå¢—ãˆã€ã‚·ã‚¹ãƒ†ãƒ ãŒè¤‡é›‘ã«ãªã‚‹\n  - ã©ã®æƒ…å ±ã‚’ã©ã®å±¤ã«å…¥ã‚Œã‚‹ã‹åˆ¤æ–­ãŒé›£ã—ã„\n- **ç†ç”±2ï¼šãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ¡ãƒªãƒƒãƒˆãŒå°‘ãªã„**\n  - 3å±¤ã§ååˆ†ã«æœ€é©åŒ–ã§ãã‚‹\n  - 4å±¤ã«ã—ã¦ã‚‚æ¤œç´¢é€Ÿåº¦ã®æ”¹å–„ã¯ã‚ãšã‹\n- **ç†ç”±3ï¼šãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã‚³ã‚¹ãƒˆã®å¢—åŠ **\n  - å±¤ãŒå¢—ãˆã‚‹ã»ã©ã€ãƒã‚°ã®å¯èƒ½æ€§ãŒå¢—ãˆã‚‹\n  - ãƒ‡ãƒãƒƒã‚°ãŒå›°é›£\n\n### å€™è£œ4ï¼šå®Œå…¨å±¥æ­´ä¿æŒï¼ˆã™ã¹ã¦ã®ç« ã‚’å¸¸ã«å‚ç…§ï¼‰\n\n**ç‰¹å¾´**:\n- ç”Ÿæˆã®ãŸã³ã«å…¨ç« ã‚’èª­ã¿è¾¼ã‚€\n- æœ€é«˜ã®ä¸€è²«æ€§ã‚’ä¿è¨¼\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n- **ç†ç”±1ï¼šã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆåˆ¶é™**\n  - 100ç«  Ã— 8,000æ–‡å­— = 800,000æ–‡å­— â‰ˆ 400,000 tokens\n  - Geminiã®ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã¯1M tokensã ãŒã€ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚‚å«ã‚ã‚‹ã¨è¶…éã®å¯èƒ½æ€§\n- **ç†ç”±2ï¼šç”Ÿæˆé€Ÿåº¦ã®ä½ä¸‹**\n  - å¤§é‡ã®ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚’å‡¦ç†ã™ã‚‹ã¨ã€ç”Ÿæˆæ™‚é–“ãŒé•·ããªã‚‹\n  - ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ã®ä½ä¸‹\n- **ç†ç”±3ï¼šã‚³ã‚¹ãƒˆå¢—åŠ **\n  - å…¥åŠ›ãƒˆãƒ¼ã‚¯ãƒ³æ•°ãŒå¢—ãˆã‚‹ã¨APIã‚³ã‚¹ãƒˆãŒå¢—åŠ \n  - æ¯å›40ä¸‡ãƒˆãƒ¼ã‚¯ãƒ³é€ä¿¡ â†’ æœˆé¡ã‚³ã‚¹ãƒˆãŒæ•°åå€ã«\n- **ç†ç”±4ï¼šå¿…è¦æ€§ã®ç–‘å•**\n  - å®Ÿéš›ã«ã¯ç›´è¿‘8ç« ã§ååˆ†ãªä¸€è²«æ€§ãŒä¿ã¦ã‚‹\n  - éå»ã®å…¨ç« ã‚’å‚ç…§ã™ã‚‹å¿…è¦æ€§ã¯ä½ã„\n\n## åˆ¤æ–­ç†ç”±\n\n### ç†ç”±1ï¼šæ¤œç´¢é€Ÿåº¦ã¨ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆåˆ¶é™ã®ãƒãƒ©ãƒ³ã‚¹\n\n**çŸ­æœŸè¨˜æ†¶ï¼ˆ8ç« ï¼‰ã®å½¹å‰²**:\n```\næœ€è¿‘ã®8ç« ï¼ˆ64,000æ–‡å­— â‰ˆ 32,000 tokensï¼‰\n    â†“\nGemini APIã¸ã®å…¥åŠ›ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã¨ã—ã¦æœ€é©\n    â†“\nååˆ†ãªä¸€è²«æ€§ + é«˜é€Ÿãªç”Ÿæˆ\n```\n\n**ãƒ¡ãƒªãƒƒãƒˆ**:\n- ç›´è¿‘ã®å±•é–‹ã‚’æ­£ç¢ºã«æŠŠæ¡\n- ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã«ä½™è£•\n- ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆæƒ…å ±ã‚‚ååˆ†ã«å«ã‚ã‚‰ã‚Œã‚‹\n\n**ãªãœ8ç« ã‹**:\n- å®Ÿé¨“ã«ã‚ˆã‚Šã€5-10ç« ãŒæœ€é©ã¨åˆ¤æ˜\n- 8ç« ã¯ç‰©èªã®çŸ­æœŸçš„ãªä¸€è²«æ€§ã‚’ä¿ã¤ã®ã«ååˆ†\n- 10ç« ä»¥ä¸Šã¯å†—é•·ã€5ç« ä»¥ä¸‹ã¯ä¸ååˆ†\n\n### ç†ç”±2ï¼šä¸­æœŸè¨˜æ†¶ã«ã‚ˆã‚‹å­¦ç¿’ãƒ¡ã‚«ãƒ‹ã‚ºãƒ \n\n**ä¸­æœŸè¨˜æ†¶ã®å½¹å‰²**:\nã‚·ã‚¹ãƒ†ãƒ ãŒéå»ã®ç”Ÿæˆã‹ã‚‰å­¦ã³ã€å“è³ªã‚’å‘ä¸Šã•ã›ã‚‹ã€‚\n\n**ä¿å­˜ã•ã‚Œã‚‹æƒ…å ±**:\n1. **åˆ†æçµæœ**ï¼ˆ3.6MBï¼‰\n   - ãƒ†ãƒ¼ãƒåˆ†æ\n   - æ–‡ä½“åˆ†æ\n   - ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼åˆ†æ\n   - èª­è€…ä½“é¨“åˆ†æ\n\n2. **ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼é€²åŒ–è¨˜éŒ²**ï¼ˆ706KBï¼‰\n   - ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿å¤‰åŒ–\n   - é–¢ä¿‚æ€§ã®é€²åŒ–\n   - ã‚¹ã‚­ãƒ«ç¿’å¾—\n\n3. **ç‰©èªé€²è¡Œãƒ‡ãƒ¼ã‚¿**ï¼ˆ686KBï¼‰\n   - ãƒ—ãƒ­ãƒƒãƒˆé€²è¡ŒçŠ¶æ³\n   - ä¼ç·šã®å°å…¥ãƒ»è§£æ±º\n   - ãƒ†ãƒ³ã‚·ãƒ§ãƒ³æ›²ç·š\n\n4. **å“è³ªãƒ¡ãƒˆãƒªã‚¯ã‚¹**ï¼ˆ29KBï¼‰\n   - å„ç« ã®å“è³ªã‚¹ã‚³ã‚¢\n   - æ”¹å–„ææ¡ˆã®å±¥æ­´\n\n5. **ã‚·ã‚¹ãƒ†ãƒ çµ±è¨ˆ**ï¼ˆ306KBï¼‰\n   - APIå‘¼ã³å‡ºã—å›æ•°\n   - ç”Ÿæˆæ™‚é–“\n   - ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿç‡\n\n**å­¦ç¿’ã®æµã‚Œ**:\n```\næ–°ç« ç”Ÿæˆ\n    â†“\nåˆ†æãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³å®Ÿè¡Œ\n    â†“\nçµæœã‚’ä¸­æœŸè¨˜æ†¶ã«ä¿å­˜\n    â†“\næ¬¡å›ç”Ÿæˆæ™‚ã«å‚ç…§\n    â†“\nå“è³ªãŒå¾ã€…ã«å‘ä¸Š\n```\n\n**ãªãœä¸­æœŸè¨˜æ†¶ãŒå¿…è¦ã‹**:\n- çŸ­æœŸè¨˜æ†¶ã«å…¥ã‚Œã‚‹ã¨ã€8ç« ã‚’è¶…ãˆãŸã‚‰å¤±ã‚ã‚Œã‚‹\n- é•·æœŸè¨˜æ†¶ã«å…¥ã‚Œã‚‹ã¨ã€ç¢ºå®šçŸ¥è­˜ã¨æ··åœ¨ã—ã€æ¤œç´¢ãŒè¤‡é›‘åŒ–\n- ä¸­æœŸè¨˜æ†¶ãªã‚‰ã€å®šæœŸçš„ã«ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—ã—ã¤ã¤å­¦ç¿’ãƒ‡ãƒ¼ã‚¿ã‚’ä¿æŒ\n\n### ç†ç”±3ï¼šé•·æœŸè¨˜æ†¶ã«ã‚ˆã‚‹æ ¸ã¨ãªã‚‹è¨­å®šã®ä¿æŒ\n\n**é•·æœŸè¨˜æ†¶ã®å½¹å‰²**:\nç‰©èªã®æ ¹å¹¹ã¨ãªã‚‹è¨­å®šã‚’æ°¸ç¶šçš„ã«ä¿æŒã€‚\n\n**ä¿å­˜ã•ã‚Œã‚‹æƒ…å ±**:\n1. **ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹**\n   - åŸºæœ¬è¨­å®šï¼ˆåå‰ã€å¤–è¦‹ã€æ€§æ ¼ï¼‰\n   - ãƒãƒƒã‚¯ã‚¹ãƒˆãƒ¼ãƒªãƒ¼\n   - ç›®æ¨™ãƒ»å‹•æ©Ÿ\n\n2. **ä¸–ç•Œè¦³çŸ¥è­˜**\n   - ä¸–ç•Œã®æ­´å²\n   - é­”æ³•ä½“ç³»\n   - åœ°ç†æƒ…å ±\n   - ç¤¾ä¼šæ§‹é€ \n\n3. **ãƒ—ãƒ­ãƒƒãƒˆè¨­å®š**\n   - ç‰©èªã®å¤§ç­‹\n   - ã‚¢ãƒ¼ã‚¯æ§‹æˆ\n   - ä¸»è¦ã‚¤ãƒ™ãƒ³ãƒˆ\n\n4. **ã‚·ã‚¹ãƒ†ãƒ å­¦ç¿’ãƒ‘ã‚¿ãƒ¼ãƒ³**\n   - æˆåŠŸã—ãŸãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒ‘ã‚¿ãƒ¼ãƒ³\n   - åŠ¹æœçš„ãªè¡¨ç¾æ–¹æ³•\n   - é¿ã‘ã‚‹ã¹ãå¤±æ•—ãƒ‘ã‚¿ãƒ¼ãƒ³\n\n**ãªãœé•·æœŸè¨˜æ†¶ãŒå¿…è¦ã‹**:\n- ã“ã‚Œã‚‰ã®æƒ…å ±ã¯å¤‰åŒ–ã—ãªã„ï¼ˆã¾ãŸã¯å¤‰åŒ–ãŒå°‘ãªã„ï¼‰\n- ç‰©èªã®ä¸€è²«æ€§ã®æ ¹å¹¹\n- å¸¸ã«å‚ç…§å¯èƒ½ã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚‹\n\n### ç†ç”±4ï¼š3å±¤ã«ã‚ˆã‚‹æ˜ç¢ºãªè²¬ä»»åˆ†é›¢\n\n**è²¬ä»»åˆ†é›¢**:\n```\nçŸ­æœŸè¨˜æ†¶: ã€Œä»Šã€ä½•ãŒèµ·ãã¦ã„ã‚‹ã‹ã€\n    â†“ æœ€è¿‘ã®å±•é–‹\nä¸­æœŸè¨˜æ†¶: ã€Œã©ã†å­¦ã‚“ã§ããŸã‹ã€\n    â†“ åˆ†æãƒ»çµ±è¨ˆ\né•·æœŸè¨˜æ†¶: ã€Œç‰©èªã®æ ¸ã¯ä½•ã‹ã€\n    â†“ ç¢ºå®šè¨­å®š\n```\n\n**ãƒ¡ãƒªãƒƒãƒˆ**:\n- å„å±¤ã®å½¹å‰²ãŒæ˜ç¢º\n- å®Ÿè£…ãŒå®¹æ˜“\n- ãƒ‡ãƒãƒƒã‚°ãŒã—ã‚„ã™ã„\n- ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ãŒæ¥½\n\n### ç†ç”±5ï¼šã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£\n\n**è¦æ¨¡æ‹¡å¤§ã¸ã®å¯¾å¿œ**:\n- **100ç« ã«åˆ°é”**:\n  - çŸ­æœŸ: æœ€è¿‘ã®8ç« ã®ã¿ï¼ˆå¤‰ã‚ã‚‰ãšï¼‰\n  - ä¸­æœŸ: å®šæœŸã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—ã§ç®¡ç†å¯èƒ½\n  - é•·æœŸ: è¨­å®šã¯å¢—ãˆãªã„ï¼ˆå¤‰ã‚ã‚‰ãšï¼‰\n\n- **1000ç« ã«åˆ°é”**:\n  - çŸ­æœŸ: æœ€è¿‘ã®8ç« ã®ã¿ï¼ˆå¤‰ã‚ã‚‰ãšï¼‰\n  - ä¸­æœŸ: ã‚ˆã‚Šé »ç¹ãªã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—\n  - é•·æœŸ: è¨­å®šã¯å¢—ãˆãªã„ï¼ˆå¤‰ã‚ã‚‰ãšï¼‰\n\n**ãƒ¡ãƒªãƒƒãƒˆ**:\n- ç« æ•°ãŒå¢—ãˆã¦ã‚‚ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãŒå¤§ããä½ä¸‹ã—ãªã„\n- ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡ãŒäºˆæ¸¬å¯èƒ½\n- ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°æˆ¦ç•¥ãŒæ˜ç¢º\n\n### ç†ç”±6ï¼šæŸ”è»Ÿãªã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—æˆ¦ç•¥\n\n**ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—ãƒãƒªã‚·ãƒ¼**:\n```typescript\n// çŸ­æœŸè¨˜æ†¶: 72æ™‚é–“å¾Œã«è‡ªå‹•å‰Šé™¤\nif (chapter.createdAt < now - 72hours) {\n  delete shortTermMemory[chapter.id];\n}\n\n// ä¸­æœŸè¨˜æ†¶: 30æ—¥å¾Œã«ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–\nif (analysis.createdAt < now - 30days) {\n  archive(midTermMemory[analysis.id]);\n}\n\n// é•·æœŸè¨˜æ†¶: å‰Šé™¤ãªã—ï¼ˆæ°¸ç¶šï¼‰\n```\n\n**ãƒ¡ãƒªãƒƒãƒˆ**:\n- å„å±¤ã§ç•°ãªã‚‹ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—ãƒ«ãƒ¼ãƒ«\n- ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚³ã‚¹ãƒˆã®æœ€é©åŒ–\n- é‡è¦åº¦ã«å¿œã˜ãŸä¿æŒæœŸé–“\n\n### ç†ç”±7ï¼šçµ±åˆè¨˜æ†¶APIã«ã‚ˆã‚‹æŠ½è±¡åŒ–\n\n**çµ±åˆã‚¢ã‚¯ã‚»ã‚¹API**:\n```typescript\n// MemoryManager ãŒ3å±¤ã‚’çµ±åˆã—ã¦æä¾›\nconst memoryManager = new MemoryManager();\n\n// é–‹ç™ºè€…ã¯å±¤ã‚’æ„è­˜ã›ãšä½¿ç”¨å¯èƒ½\nconst context = await memoryManager.getContext(chapterNumber);\n// â†’ çŸ­æœŸãƒ»ä¸­æœŸãƒ»é•·æœŸã‹ã‚‰å¿…è¦ãªæƒ…å ±ã‚’è‡ªå‹•å–å¾—\n\nconst character = await memoryManager.getCharacter(characterId);\n// â†’ é©åˆ‡ãªå±¤ã‹ã‚‰å–å¾—ï¼ˆé€šå¸¸ã¯é•·æœŸè¨˜æ†¶ï¼‰\n```\n\n**ãƒ¡ãƒªãƒƒãƒˆ**:\n- ä»–ã®ã‚·ã‚¹ãƒ†ãƒ ã¯å±¤ã‚’æ„è­˜ã—ãªãã¦è‰¯ã„\n- å°†æ¥çš„ã«å±¤ã®æ•°ã‚„æ§‹é€ ã‚’å¤‰æ›´ã—ã¦ã‚‚å½±éŸ¿æœ€å°\n- é–‹ç™ºåŠ¹ç‡å‘ä¸Š\n\n## ã“ã®åˆ¤æ–­ã‹ã‚‰å­¦ã¹ã‚‹ã“ã¨\n\n### å­¦ã³1ï¼šæƒ…å ±ã®æ™‚é–“çš„ç‰¹æ€§ã«åŸºã¥ã„ã¦éšå±¤åŒ–ã™ã‚‹\n\næƒ…å ±ã«ã¯ã€ã€Œä¸€æ™‚çš„ã€ã€ŒçŸ­æœŸçš„ã€ã€Œæ°¸ç¶šçš„ã€ãªç‰¹æ€§ãŒã‚ã‚‹ã€‚ã“ã‚Œã«åŸºã¥ã„ã¦éšå±¤åŒ–ã™ã‚‹ã¨ã€åŠ¹ç‡çš„ãªç®¡ç†ãŒå¯èƒ½ã€‚\n\n### å­¦ã³2ï¼š3å±¤ã¯è¤‡é›‘æ€§ã¨æŸ”è»Ÿæ€§ã®ã‚¹ã‚¤ãƒ¼ãƒˆã‚¹ãƒãƒƒãƒˆ\n\n2å±¤ã§ã¯ä¸ååˆ†ã€4å±¤ä»¥ä¸Šã¯éå‰°ã€‚3å±¤ãŒæœ€ã‚‚ãƒãƒ©ãƒ³ã‚¹ãŒè‰¯ã„ã€‚\n\n### å­¦ã³3ï¼šæŠ½è±¡åŒ–ã«ã‚ˆã‚Šå¤‰æ›´ã‚’å¸åã™ã‚‹\n\nçµ±åˆAPIã‚’æä¾›ã™ã‚‹ã“ã¨ã§ã€å†…éƒ¨æ§‹é€ ã®å¤‰æ›´ãŒä»–ã®ã‚·ã‚¹ãƒ†ãƒ ã«å½±éŸ¿ã—ãªã„ã€‚\n\n### å­¦ã³4ï¼šã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£ã‚’æœ€åˆã‹ã‚‰è€ƒæ…®ã™ã‚‹\n\nåˆæœŸæ®µéšã§ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£ã‚’è€ƒæ…®ã—ãŸè¨­è¨ˆã«ã™ã‚‹ã“ã¨ã§ã€å¾Œã®å•é¡Œã‚’å›é¿ã€‚\n\n### å­¦ã³5ï¼šãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã¨ã‚³ã‚¹ãƒˆã®ãƒˆãƒ¬ãƒ¼ãƒ‰ã‚ªãƒ•\n\nå®Œå…¨å±¥æ­´ä¿æŒã¯ç†æƒ³çš„ã ãŒã€ç¾å®Ÿçš„ã§ã¯ãªã„ã€‚å¿…è¦ååˆ†ãªæƒ…å ±ã®ã¿ã‚’ä¿æŒã™ã‚‹ã“ã¨ã§ã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã¨ã‚³ã‚¹ãƒˆã‚’æœ€é©åŒ–ã€‚\n\n## é©ç”¨å ´é¢\n\nä»¥ä¸‹ã®æ¡ä»¶ã‚’æº€ãŸã™ã‚·ã‚¹ãƒ†ãƒ ã«ã¯ã€3å±¤è¨˜æ†¶éšå±¤ãŒæœ€é©ï¼š\n\n1. **é•·æœŸçš„ãªã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆãŒå¿…è¦**ï¼ˆå°èª¬ã€ã‚²ãƒ¼ãƒ ã€å¯¾è©±ã‚·ã‚¹ãƒ†ãƒ ï¼‰\n2. **ä¸€è²«æ€§ãŒé‡è¦**ï¼ˆçŸ›ç›¾ã®ãªã„ç‰©èªãƒ»ä¼šè©±ï¼‰\n3. **å­¦ç¿’ãƒ¡ã‚«ãƒ‹ã‚ºãƒ ãŒå¿…è¦**ï¼ˆã‚·ã‚¹ãƒ†ãƒ ãŒæ”¹å–„ã—ã¦ã„ãï¼‰\n4. **ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£ãŒå¿…è¦**ï¼ˆãƒ‡ãƒ¼ã‚¿é‡ãŒå¢—ãˆç¶šã‘ã‚‹ï¼‰\n5. **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹é‡è¦–**ï¼ˆé«˜é€Ÿãªç”Ÿæˆãƒ»å¿œç­”ï¼‰\n6. **ã‚³ã‚¹ãƒˆé‡è¦–**ï¼ˆAPI ã‚³ã‚¹ãƒˆã‚’æŠ‘ãˆãŸã„ï¼‰\n\n## æ³¨æ„ç‚¹\n\n### æ³¨æ„ç‚¹1ï¼šå±¤é–“ã®åŒæœŸ\n\nçŸ­æœŸãƒ»ä¸­æœŸãƒ»é•·æœŸã®æƒ…å ±ãŒçŸ›ç›¾ã—ãªã„ã‚ˆã†ã€åŒæœŸãƒ¡ã‚«ãƒ‹ã‚ºãƒ ãŒå¿…è¦ã€‚\n\n**å¯¾ç­–**:\n- CacheCoordinator ã«ã‚ˆã‚‹èª¿æ•´\n- DuplicateResolver ã«ã‚ˆã‚‹é‡è¤‡è§£æ±º\n- å®šæœŸçš„ãªæ•´åˆæ€§ãƒã‚§ãƒƒã‚¯\n\n### æ³¨æ„ç‚¹2ï¼šã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—ã®é©åˆ‡ãªã‚¿ã‚¤ãƒŸãƒ³ã‚°\n\néåº¦ãªã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—ã¯å­¦ç¿’ãƒ‡ãƒ¼ã‚¿ã®æå¤±ã€ä¸è¶³ã¯å®¹é‡å•é¡Œã€‚\n\n**å¯¾ç­–**:\n- ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—ãƒãƒªã‚·ãƒ¼ã®èª¿æ•´\n- ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ç›£è¦–\n- é‡è¦åº¦ã«åŸºã¥ãã‚¢ãƒ¼ã‚«ã‚¤ãƒ–\n\n### æ³¨æ„ç‚¹3ï¼šåˆæœŸã®è¤‡é›‘æ€§\n\n3å±¤ã‚·ã‚¹ãƒ†ãƒ ã®å®Ÿè£…ã¯ã€å˜å±¤ã‚ˆã‚Šè¤‡é›‘ã€‚\n\n**å¯¾ç­–**:\n- æ®µéšçš„ãªå®Ÿè£…ï¼ˆã¾ãšå˜å±¤ã€æ¬¡ã«2å±¤ã€æœ€å¾Œã«3å±¤ï¼‰\n- ãƒ†ã‚¹ãƒˆã®å……å®Ÿ\n- ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ•´å‚™\n\n### æ³¨æ„ç‚¹4ï¼šæ¤œç´¢ã®æœ€é©åŒ–\n\né©åˆ‡ãªå±¤ã‹ã‚‰æƒ…å ±ã‚’å–å¾—ã—ãªã„ã¨ã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãŒä½ä¸‹ã€‚\n\n**å¯¾ç­–**:\n- AccessOptimizer ã«ã‚ˆã‚‹æœ€é©åŒ–\n- ã‚­ãƒ£ãƒƒã‚·ãƒ¥æˆ¦ç•¥\n- ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹æ§‹ç¯‰\n\n### æ³¨æ„ç‚¹5ï¼šãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—æˆ¦ç•¥\n\n3å±¤ãã‚Œãã‚Œã§ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—æˆ¦ç•¥ãŒå¿…è¦ã€‚\n\n**å¯¾ç­–**:\n- BackupSystem ã®å®Ÿè£…\n- å±¤ã”ã¨ã®ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—é »åº¦è¨­å®š\n- ãƒªã‚¹ãƒˆã‚¢æ‰‹é †ã®ç¢ºç«‹\n\n## å®Ÿè£…è©³ç´°\n\n**MemoryManager ã‚¯ãƒ©ã‚¹**ï¼ˆsrc/lib/memory/manager.ts, 1,812è¡Œï¼‰:\n- 3å±¤ã®çµ±åˆç®¡ç†\n- ä¾å­˜æ³¨å…¥å¯¾å¿œ\n- 5æ®µéšåˆæœŸåŒ–ãƒ‘ã‚¿ãƒ¼ãƒ³\n\n**ä¸»è¦ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ**:\n- `UnifiedAccessAPI` - çµ±ä¸€ã‚¢ã‚¯ã‚»ã‚¹ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹\n- `CacheCoordinator` - ã‚­ãƒ£ãƒƒã‚·ãƒ¥èª¿æ•´ã‚·ã‚¹ãƒ†ãƒ \n- `DuplicateResolver` - é‡è¤‡è§£æ±ºã‚¨ãƒ³ã‚¸ãƒ³\n- `QualityAssurance` - å“è³ªä¿è¨¼ã‚·ã‚¹ãƒ†ãƒ \n- `AccessOptimizer` - ã‚¢ã‚¯ã‚»ã‚¹æœ€é©åŒ–\n\n**ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹**:\n- çŸ­æœŸ: `/memory/short-term/chapters/`, `generation-cache.json`\n- ä¸­æœŸ: `/memory/mid-term/`\n- é•·æœŸ: `/memory/long-term/`\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `system_novel_automation_status_2025_11_25.md`ï¼šã‚·ã‚¹ãƒ†ãƒ å…¨ä½“ã®çŠ¶æ…‹\n- `skill_memory_system_implementation_2025_11_25.md`ï¼šè¨˜æ†¶ã‚·ã‚¹ãƒ†ãƒ å®Ÿè£…æ–¹æ³•ï¼ˆä»Šå¾Œä½œæˆï¼‰\n- `design_pattern_memory_hierarchy_2025_11_25.md`ï¼šè¨˜æ†¶éšå±¤ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼ˆä»Šå¾Œä½œæˆï¼‰\n- `skill_cache_coordination_2025_11_25.md`ï¼šã‚­ãƒ£ãƒƒã‚·ãƒ¥å”èª¿ãƒ¡ã‚«ãƒ‹ã‚ºãƒ ï¼ˆä»Šå¾Œä½œæˆï¼‰\n- `optimization_access_optimization_2025_11_25.md`ï¼šã‚¢ã‚¯ã‚»ã‚¹æœ€é©åŒ–æ‰‹æ³•ï¼ˆä»Šå¾Œä½œæˆï¼‰\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€Œ3å±¤è¨˜æ†¶ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£é¸æŠç†ç”±ã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "system-novel-automation-status",
      "skill-memory-system-implementation",
      "design-pattern-memory-hierarchy",
      "skill-cache-coordination"
    ]
  },
  {
    "slug": "typescript-strict-mode-decision",
    "title": "TypeScript Strict Mode æ¡ç”¨ã®åˆ¤æ–­",
    "category": "Decisionsï¼ˆæŠ€è¡“é¸å®šãƒ»åˆ¤æ–­ï¼‰",
    "description": "TypeScript Strict Mode æ¡ç”¨ã®åˆ¤æ–­",
    "project": "novel-automation-system-v2",
    "usedIn": [
      "tsconfig.json, src/types/*.ts"
    ],
    "code": "```json\n{\n  \"id\": \"decision_typescript_strict_mode_2025_11_25\",\n  \"type\": \"decision\",\n  \"name\": \"TypeScript Strict Mode æ¡ç”¨ã®åˆ¤æ–­\",\n  \"decision_type\": \"tech_selection\",\n  \"tags\": [\"TypeScript\", \"Strict Mode\", \"å‹å®‰å…¨\", \"å“è³ªä¿è¨¼\", \"ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ãƒã‚§ãƒƒã‚¯\"],\n  \"source_project\": \"novel-automation-system-v2\",\n  \"chosen\": \"TypeScript Strict Mode (all strict flags enabled)\",\n  \"alternatives\": [\"Strict Mode ãªã—\", \"éƒ¨åˆ†çš„Strict Mode\", \"JavaScript\"],\n  \"source_file\": \"tsconfig.json, src/types/*.ts\",\n  \"related_knowledge\": [\n    \"system_novel_automation_status_2025_11_25\"\n  ],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# TypeScript Strict Mode æ¡ç”¨ã®åˆ¤æ–­\n\n## ä½•ã‚’åˆ¤æ–­ã—ãŸã‹\n\n280ãƒ•ã‚¡ã‚¤ãƒ«ã€163,967è¡Œã®å¤§è¦æ¨¡ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ãŠã„ã¦ã€**TypeScript Strict Modeï¼ˆå…¨strictãƒ•ãƒ©ã‚°æœ‰åŠ¹ï¼‰**ã‚’æ¡ç”¨ã—ã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã®å³æ ¼ãªå‹ãƒã‚§ãƒƒã‚¯ã‚’å®Ÿæ–½ã€‚\n\n## é¸ã‚“ã ã‚‚ã®\n\n**TypeScript Strict Modeï¼ˆå…¨ãƒ•ãƒ©ã‚°æœ‰åŠ¹ï¼‰**\n\n### tsconfig.jsonè¨­å®š:\n```json\n{\n  \"compilerOptions\": {\n    \"strict\": true,\n    \"noImplicitAny\": true,\n    \"strictNullChecks\": true,\n    \"strictFunctionTypes\": true,\n    \"strictBindCallApply\": true,\n    \"strictPropertyInitialization\": true,\n    \"noImplicitThis\": true,\n    \"alwaysStrict\": true,\n    \"noUnusedLocals\": true,\n    \"noUnusedParameters\": true,\n    \"noImplicitReturns\": true,\n    \"noFallthroughCasesInSwitch\": true\n  }\n}\n```\n\n### 11å€‹ã®å‹å®šç¾©ãƒ•ã‚¡ã‚¤ãƒ«:\n- `src/types/chapters.ts`\n- `src/types/characters.ts`\n- `src/types/concepts.ts`\n- `src/types/generation.ts`\n- `src/types/memory.ts`\n- `src/types/parameters.ts`\n- `src/types/section.ts`\n- `src/types/validation.ts`\n- ä»–3ãƒ•ã‚¡ã‚¤ãƒ«\n\n## ä»–ã®å€™è£œ\n\n### å€™è£œ1: Strict Mode ãªã—\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n- **ç†ç”±1**: å¤§è¦æ¨¡ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã‚¨ãƒ©ãƒ¼ãŒé »ç™º\n- **ç†ç”±2**: ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°æ™‚ã®å®‰å…¨æ€§ãŒä½ã„\n- **ç†ç”±3**: ãƒã‚°ã®æ—©æœŸç™ºè¦‹ãŒã§ããªã„\n\n### å€™è£œ2: éƒ¨åˆ†çš„Strict Mode\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n- **ç†ç”±1**: ä¸€è²«æ€§ã®æ¬ å¦‚\n- **ç†ç”±2**: å°†æ¥çš„ã«å®Œå…¨Strictã¸ã®ç§»è¡Œã‚³ã‚¹ãƒˆãŒç™ºç”Ÿ\n\n### å€™è£œ3: JavaScript\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n- **ç†ç”±1**: å‹å®‰å…¨æ€§ã‚¼ãƒ­\n- **ç†ç”±2**: IDEè£œå®Œã®åŠ£åŒ–\n- **ç†ç”±3**: å¤§è¦æ¨¡ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹å›°é›£\n\n## åˆ¤æ–­ç†ç”±\n\n### ç†ç”±1: ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã‚¨ãƒ©ãƒ¼ã®äº‹å‰æ¤œå‡º\n\nStrict Mode ã«ã‚ˆã‚Šã€`null`/`undefined`ã‚¨ãƒ©ãƒ¼ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã«æ¤œå‡ºã€‚\n\n### ç†ç”±2: ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ã®å®‰å…¨æ€§\n\nå¤§è¦æ¨¡ãªå¤‰æ›´ã§ã‚‚ã€å‹ã‚¨ãƒ©ãƒ¼ã§å½±éŸ¿ç¯„å›²ã‚’æŠŠæ¡å¯èƒ½ã€‚\n\n### ç†ç”±3: IDEã‚µãƒãƒ¼ãƒˆã®å……å®Ÿ\n\nå³æ ¼ãªå‹å®šç¾©ã«ã‚ˆã‚Šã€IntelliSenseãŒæ­£ç¢ºã«å‹•ä½œã€‚\n\n### ç†ç”±4: ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¨ã—ã¦ã®å‹\n\nå‹å®šç¾©ãŒç”ŸããŸãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¨ã—ã¦æ©Ÿèƒ½ã€‚\n\n## ã“ã®åˆ¤æ–­ã‹ã‚‰å­¦ã¹ã‚‹ã“ã¨\n\n### å­¦ã³1: å¤§è¦æ¨¡ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã»ã©å‹å®‰å…¨æ€§ãŒé‡è¦\n\nè¦æ¨¡ãŒå¤§ãã„ã»ã©ã€Strict Modeã®æ©æµãŒå¤§ãã„ã€‚\n\n### å­¦ã³2: åˆæœŸæ®µéšã§Strict Modeæ¡ç”¨\n\nå¾Œã‹ã‚‰ã®ç§»è¡Œã¯å›°é›£ã€‚æœ€åˆã‹ã‚‰æ¡ç”¨ã™ã¹ãã€‚\n\n### å­¦ã³3: å‹å®šç¾©ãƒ•ã‚¡ã‚¤ãƒ«ã®åˆ†é›¢\n\nãƒ‰ãƒ¡ã‚¤ãƒ³ã”ã¨ã«å‹å®šç¾©ã‚’åˆ†é›¢ã™ã‚‹ã¨ã€ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹æ€§å‘ä¸Šã€‚\n\n## é©ç”¨å ´é¢\n\n- å¤§è¦æ¨¡ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆï¼ˆ100ãƒ•ã‚¡ã‚¤ãƒ«ä»¥ä¸Šï¼‰\n- é•·æœŸãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ãŒå¿…è¦\n- ãƒãƒ¼ãƒ é–‹ç™º\n- é«˜ã„å“è³ªãŒæ±‚ã‚ã‚‰ã‚Œã‚‹\n\n## æ³¨æ„ç‚¹\n\n- åˆæœŸå­¦ç¿’ã‚³ã‚¹ãƒˆ\n- é–‹ç™ºé€Ÿåº¦ã®è‹¥å¹²ã®ä½ä¸‹ï¼ˆçŸ­æœŸçš„ï¼‰\n- å¤–éƒ¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®å‹å®šç¾©ä¸è¶³ã«å¯¾å¿œãŒå¿…è¦\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `system_novel_automation_status_2025_11_25.md`ï¼šãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¦æ¨¡\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€ŒTypeScript Strict Mode æ¡ç”¨ã®åˆ¤æ–­ã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "system-novel-automation-status"
    ]
  },
  {
    "slug": "why-8-system-parallel-architecture",
    "title": "ãªãœ8å¤§ã‚·ã‚¹ãƒ†ãƒ ä¸¦åˆ—å®Ÿè¡Œã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã‚’æ¡ç”¨ã—ãŸã‹",
    "category": "Decisionsï¼ˆæŠ€è¡“é¸å®šãƒ»åˆ¤æ–­ï¼‰",
    "description": "ãªãœ8å¤§ã‚·ã‚¹ãƒ†ãƒ ä¸¦åˆ—å®Ÿè¡Œã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã‚’æ¡ç”¨ã—ãŸã‹",
    "project": "novel-automation-system-v2",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"decision_why_8_system_parallel_architecture_2025_11_25\",\n  \"type\": \"decision\",\n  \"name\": \"ãªãœ8å¤§ã‚·ã‚¹ãƒ†ãƒ ä¸¦åˆ—å®Ÿè¡Œã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã‚’æ¡ç”¨ã—ãŸã‹\",\n  \"decision_type\": \"architecture\",\n  \"tags\": [\"ä¸¦åˆ—å‡¦ç†\", \"ã‚·ã‚¹ãƒ†ãƒ çµ±åˆ\", \"ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¨­è¨ˆ\", \"ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£\"],\n  \"source_project\": \"novel-automation-system-v2\",\n  \"chosen\": \"8å¤§ã‚·ã‚¹ãƒ†ãƒ ä¸¦åˆ—å®Ÿè¡Œ\",\n  \"alternatives\": [\"é †æ¬¡å®Ÿè¡Œ\", \"æ®µéšçš„å®Ÿè¡Œï¼ˆ3-2-3æ§‹æˆï¼‰\", \"ã‚ªãƒ³ãƒ‡ãƒãƒ³ãƒ‰å®Ÿè¡Œ\"],\n  \"related_knowledge\": [\n    \"skill_eight_system_integrated_prompt_generation_2025_11_25\",\n    \"decision_why_promise_allsettled_over_all_2025_11_25\"\n  ],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# ãªãœ8å¤§ã‚·ã‚¹ãƒ†ãƒ ä¸¦åˆ—å®Ÿè¡Œã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã‚’æ¡ç”¨ã—ãŸã‹\n\n## ä½•ã‚’åˆ¤æ–­ã—ãŸã‹\n\nãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”Ÿæˆæ™‚ã«8ã¤ã®ã‚·ã‚¹ãƒ†ãƒ ï¼ˆã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã€å­¦ç¿’æ—…ç¨‹ã€è¨˜æ†¶ã€ãƒ—ãƒ­ãƒƒãƒˆã€åˆ†æã€ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã€ä¼ç·šã€ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ï¼‰ã‚’ã©ã®ã‚ˆã†ã«å®Ÿè¡Œã™ã‚‹ã‹ã®é¸æŠã€‚\n\n## é¸ã‚“ã ã‚‚ã®\n\n**8å¤§ã‚·ã‚¹ãƒ†ãƒ ä¸¦åˆ—å®Ÿè¡Œ**\n\n```typescript\nconst results = await Promise.allSettled([\n  this.collectCharacterSystemData(),      // 1\n  this.collectLearningSystemData(),       // 2\n  this.collectMemorySystemData(),         // 3\n  this.collectPlotSystemData(),           // 4\n  this.collectAnalysisSystemData(),       // 5\n  this.collectParameterSystemData(),      // 6\n  this.collectForeshadowingSystemData(),  // 7\n  this.collectLifecycleSystemData()       // 8\n]);\n```\n\n**å‡¦ç†æ™‚é–“**: æœ€å¤§3ç§’ï¼ˆæœ€ã‚‚é…ã„ã‚·ã‚¹ãƒ†ãƒ ã«ä¾å­˜ï¼‰\n\n## ä»–ã®å€™è£œ\n\n### å€™è£œ1: é †æ¬¡å®Ÿè¡Œ\n\n```typescript\nconst character = await this.collectCharacterSystemData();    // 3ç§’\nconst learning = await this.collectLearningSystemData();      // 2ç§’\nconst memory = await this.collectMemorySystemData();          // 3ç§’\nconst plot = await this.collectPlotSystemData();              // 2ç§’\n// ... åˆè¨ˆ 24ç§’\n```\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**ï¼š\n- å‡¦ç†æ™‚é–“ãŒ8å€ï¼ˆ24ç§’ vs 3ç§’ï¼‰\n- ãƒ¦ãƒ¼ã‚¶ãƒ¼å¾…æ©Ÿæ™‚é–“ãŒé•·ã™ãã‚‹\n- ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£ãŒä½ã„\n\n### å€™è£œ2: æ®µéšçš„å®Ÿè¡Œï¼ˆ3-2-3æ§‹æˆï¼‰\n\n```typescript\n// Phase 1: åŸºç¤ãƒ‡ãƒ¼ã‚¿ï¼ˆ3ã‚·ã‚¹ãƒ†ãƒ ä¸¦åˆ—ï¼‰\nconst [character, learning, plot] = await Promise.all([...]);\n\n// Phase 2: åˆ†æãƒ‡ãƒ¼ã‚¿ï¼ˆ2ã‚·ã‚¹ãƒ†ãƒ ä¸¦åˆ—ã€Phase 1ä¾å­˜ï¼‰\nconst [analysis, memory] = await Promise.all([...]);\n\n// Phase 3: æœ€çµ‚ãƒ‡ãƒ¼ã‚¿ï¼ˆ3ã‚·ã‚¹ãƒ†ãƒ ä¸¦åˆ—ã€Phase 2ä¾å­˜ï¼‰\nconst [parameter, foreshadowing, lifecycle] = await Promise.all([...]);\n```\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**ï¼š\n- ä¾å­˜é–¢ä¿‚ãŒå®Ÿéš›ã«ã¯å­˜åœ¨ã—ãªã„ï¼ˆã™ã¹ã¦ç‹¬ç«‹ï¼‰\n- å‡¦ç†æ™‚é–“ãŒé•·ã„ï¼ˆ9ç§’ = 3ç§’ Ã— 3ãƒ•ã‚§ãƒ¼ã‚ºï¼‰\n- è¤‡é›‘åº¦ãŒå¢—åŠ \n\n### å€™è£œ3: ã‚ªãƒ³ãƒ‡ãƒãƒ³ãƒ‰å®Ÿè¡Œ\n\n```typescript\n// å¿…è¦ãªã‚·ã‚¹ãƒ†ãƒ ã®ã¿ã‚’å®Ÿè¡Œ\nconst systems = selectRequiredSystems(context);\nconst results = await Promise.allSettled(systems);\n```\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**ï¼š\n- ã‚·ã‚¹ãƒ†ãƒ é¸æŠãƒ­ã‚¸ãƒƒã‚¯ãŒè¤‡é›‘\n- å“è³ªãŒä¸å®‰å®šï¼ˆãƒ‡ãƒ¼ã‚¿ä¸è¶³ã®å¯èƒ½æ€§ï¼‰\n- ãƒ‡ãƒãƒƒã‚°ãŒå›°é›£\n\n## åˆ¤æ–­ç†ç”±\n\n### ç†ç”±1: ãƒ¬ã‚¤ãƒ†ãƒ³ã‚·å‰Šæ¸›\n\nä¸¦åˆ—å‡¦ç†ã§æœ€å¤§å‡¦ç†æ™‚é–“3ç§’ã‚’å®Ÿç¾ï¼ˆé †æ¬¡å®Ÿè¡Œ: 24ç§’ï¼‰\n\n**å‰Šæ¸›ç‡**: 87.5%ï¼ˆ21ç§’å‰Šæ¸›ï¼‰\n\n### ç†ç”±2: ä¿¡é ¼æ€§å‘ä¸Š\n\n`Promise.allSettled()` ã«ã‚ˆã‚Šéƒ¨åˆ†çš„å¤±æ•—ã‚’è¨±å®¹ï¼š\n- 1ã‚·ã‚¹ãƒ†ãƒ å¤±æ•—ã§ã‚‚7ã‚·ã‚¹ãƒ†ãƒ ã®ãƒ‡ãƒ¼ã‚¿ã‚’æ´»ç”¨\n- ã‚°ãƒ¬ãƒ¼ã‚¹ãƒ•ãƒ«ãƒ‡ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³\n- å“è³ª: 85-100%ã‚’ç¶­æŒ\n\n### ç†ç”±3: ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£\n\nã‚·ã‚¹ãƒ†ãƒ è¿½åŠ æ™‚ã®å‡¦ç†æ™‚é–“å¢—åŠ ãŒå¯¾æ•°çš„ï¼š\n- 8ã‚·ã‚¹ãƒ†ãƒ  â†’ 9ã‚·ã‚¹ãƒ†ãƒ : +0ç§’ï¼ˆä¸¦åˆ—å®Ÿè¡Œï¼‰\n- é †æ¬¡å®Ÿè¡Œã®å ´åˆ: +3ç§’\n\n### ç†ç”±4: æƒ…å ±å¯†åº¦\n\n8ã¤ã®æƒ…å ±æºã‹ã‚‰çµ±åˆãƒ‡ãƒ¼ã‚¿ã‚’ä½œæˆï¼š\n- ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆå“è³ªãŒç´„100å€å‘ä¸Š\n- å¤šè§’çš„ãªæƒ…å ±çµ±åˆ\n- ä¸€è²«æ€§ã¨æ·±ã•ã®ä¸¡ç«‹\n\n## ã“ã®åˆ¤æ–­ã‹ã‚‰å­¦ã¹ã‚‹ã“ã¨\n\n### å­¦ã³1: ä¸¦åˆ—å‡¦ç†ã®å¨åŠ›\n\nç‹¬ç«‹ã—ãŸã‚¿ã‚¹ã‚¯ã¯ä¸¦åˆ—å®Ÿè¡Œã™ã‚‹ã“ã¨ã§åŠ‡çš„ã«ãƒ¬ã‚¤ãƒ†ãƒ³ã‚·ã‚’å‰Šæ¸›ã§ãã‚‹\n\n### å­¦ã³2: ã‚°ãƒ¬ãƒ¼ã‚¹ãƒ•ãƒ«ãƒ‡ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³\n\n`Promise.allSettled()` ã«ã‚ˆã‚Šéƒ¨åˆ†çš„å¤±æ•—ã‚’è¨±å®¹ã—ã€ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“ã®ä¿¡é ¼æ€§å‘ä¸Š\n\n### å­¦ã³3: ã‚·ãƒ³ãƒ—ãƒ«ãªã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£\n\nä¾å­˜é–¢ä¿‚ãŒãªã„å ´åˆã€ã™ã¹ã¦ä¸¦åˆ—å®Ÿè¡Œã™ã‚‹ã‚·ãƒ³ãƒ—ãƒ«ãªã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãŒæœ€é©\n\n## é©ç”¨å ´é¢\n\n- **è¤‡æ•°ã®ç‹¬ç«‹ã—ãŸãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ãŒã‚ã‚‹å ´åˆ**\n- **ãƒ¬ã‚¤ãƒ†ãƒ³ã‚·ãŒé‡è¦ãªå ´åˆ**\n- **ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£ãŒå¿…è¦ãªå ´åˆ**\n- **éƒ¨åˆ†çš„å¤±æ•—ã‚’è¨±å®¹ã§ãã‚‹å ´åˆ**\n\n## ãƒˆãƒ¬ãƒ¼ãƒ‰ã‚ªãƒ•\n\n| é …ç›® | ä¸¦åˆ—å®Ÿè¡Œ | é †æ¬¡å®Ÿè¡Œ |\n|------|---------|---------|\n| å‡¦ç†æ™‚é–“ | 3ç§’ | 24ç§’ |\n| ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡ | é«˜ï¼ˆ80-400MBï¼‰ | ä½ï¼ˆ10-50MBï¼‰ |\n| å®Ÿè£…è¤‡é›‘åº¦ | ä¸­ | ä½ |\n| ãƒ‡ãƒãƒƒã‚°é›£æ˜“åº¦ | ä¸­ | ä½ |\n| ä¿¡é ¼æ€§ | é«˜ï¼ˆéƒ¨åˆ†çš„å¤±æ•—è¨±å®¹ï¼‰ | ä½ï¼ˆ1ã¤ã®å¤±æ•—ã§å…¨åœæ­¢ï¼‰ |\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `skill_eight_system_integrated_prompt_generation_2025_11_25.md` - ä¸¦åˆ—å®Ÿè¡Œã®å…·ä½“çš„å®Ÿè£…\n- `decision_why_promise_allsettled_over_all_2025_11_25.md` - Promise.allSettledé¸æŠã®ç†ç”±\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€Œãªãœ8å¤§ã‚·ã‚¹ãƒ†ãƒ ä¸¦åˆ—å®Ÿè¡Œã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã‚’æ¡ç”¨ã—ãŸã‹ã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "skill-eight-system-integrated-prompt-generation",
      "decision-why-promise-allsettled-over-all"
    ]
  },
  {
    "slug": "why-cache-coordination-approach",
    "title": "ãªãœã‚­ãƒ£ãƒƒã‚·ãƒ¥å”èª¿ã‚·ã‚¹ãƒ†ãƒ ã‚’å°å…¥ã—ãŸã‹",
    "category": "Decisionsï¼ˆæŠ€è¡“é¸å®šãƒ»åˆ¤æ–­ï¼‰",
    "description": "ãªãœã‚­ãƒ£ãƒƒã‚·ãƒ¥å”èª¿ã‚·ã‚¹ãƒ†ãƒ ã‚’å°å…¥ã—ãŸã‹",
    "project": "novel-automation-system-v2",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"decision_why_cache_coordination_approach_2025_11_25\",\n  \"type\": \"decision\",\n  \"name\": \"ãªãœã‚­ãƒ£ãƒƒã‚·ãƒ¥å”èª¿ã‚·ã‚¹ãƒ†ãƒ ã‚’å°å…¥ã—ãŸã‹\",\n  \"decision_type\": \"performance\",\n  \"tags\": [\"ã‚­ãƒ£ãƒƒã‚·ãƒ¥\", \"ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹\", \"æœ€é©åŒ–\", \"éšå±¤é–“å”èª¿\"],\n  \"source_project\": \"novel-automation-system-v2\",\n  \"chosen\": \"éšå±¤é–“ã‚­ãƒ£ãƒƒã‚·ãƒ¥å”èª¿ã‚·ã‚¹ãƒ†ãƒ \",\n  \"alternatives\": [\"å„éšå±¤ç‹¬ç«‹ã‚­ãƒ£ãƒƒã‚·ãƒ¥\", \"ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãªã—\", \"å˜ä¸€å…±æœ‰ã‚­ãƒ£ãƒƒã‚·ãƒ¥\"],\n  \"related_knowledge\": [\n    \"skill_cache_coordination_techniques_2025_11_25\",\n    \"skill_predictive_preloading_2025_11_25\"\n  ],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# ãªãœã‚­ãƒ£ãƒƒã‚·ãƒ¥å”èª¿ã‚·ã‚¹ãƒ†ãƒ ã‚’å°å…¥ã—ãŸã‹\n\n## ä½•ã‚’åˆ¤æ–­ã—ãŸã‹\n\néšå±¤çš„è¨˜æ†¶ã‚·ã‚¹ãƒ†ãƒ ã«ãŠã„ã¦ã€å„éšå±¤ãŒç‹¬ç«‹ã—ãŸã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’æŒã¤ã‹ã€å”èª¿ã•ã›ã‚‹ã‹ã€‚\n\n## é¸ã‚“ã ã‚‚ã®\n\n**éšå±¤é–“ã‚­ãƒ£ãƒƒã‚·ãƒ¥å”èª¿ã‚·ã‚¹ãƒ†ãƒ **\n\nçŸ­æœŸãƒ»ä¸­æœŸãƒ»é•·æœŸè¨˜æ†¶ãŒå”èª¿ã—ã¦ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ç®¡ç†ã—ã€éšå±¤ã‚’æ¨ªæ–­ã—ãŸæœ€é©åŒ–ã‚’å®Ÿç¾ã€‚\n\n## åˆ¤æ–­ç†ç”±\n\n### ç†ç”±1: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹300%å‘ä¸Š\n\nã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ’ãƒƒãƒˆç‡85%ä»¥ä¸Šã‚’é”æˆï¼š\n\n```typescript\n// SHORT_TERMã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’å…¨éšå±¤ã§å…±æœ‰\n// ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¢ã‚¯ã‚»ã‚¹ã‚’90%å‰Šæ¸›\n// ç« ç”Ÿæˆæ™‚é–“ã‚’3åˆ†ã®1ã«çŸ­ç¸®\n```\n\n### ç†ç”±2: ãƒ¡ãƒ¢ãƒªåŠ¹ç‡ã®æœ€é©åŒ–\n\néšå±¤åˆ¥ã®TTLã§ç„¡é§„ã‚’å‰Šæ¸›ï¼š\n\n```typescript\nconst CACHE_TTL = {\n    SHORT_TERM: 5 * 60 * 1000,    // 5åˆ†\n    MID_TERM: 30 * 60 * 1000,     // 30åˆ†\n    LONG_TERM: 2 * 60 * 60 * 1000 // 2æ™‚é–“\n};\n```\n\n### ç†ç”±3: ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ã®å‘ä¸Š\n\näºˆæ¸¬ãƒ—ãƒªãƒ­ãƒ¼ãƒ‰ã§å¾…ã¡æ™‚é–“ã‚’80%å‰Šæ¸›ï¼š\n\n```typescript\n// æ¬¡ç« ç”Ÿæˆã«å¿…è¦ãªãƒ‡ãƒ¼ã‚¿ã‚’äº‹å‰ã«ãƒ—ãƒªãƒ­ãƒ¼ãƒ‰\nawait cacheCoordinator.predictiveCache(nextChapter);\n```\n\n## ã“ã®åˆ¤æ–­ã‹ã‚‰å­¦ã¹ã‚‹ã“ã¨\n\n**å­¦ã³1: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã¯ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£æ¬¡ç¬¬**\n- ã‚­ãƒ£ãƒƒã‚·ãƒ¥å”èª¿ã§300%å‘ä¸Š\n- å±€æ‰€æœ€é©ã§ã¯ãªãå…¨ä½“æœ€é©\n- è¨­è¨ˆæ®µéšã§ã®æœ€é©åŒ–ãŒåŠ¹æœçš„\n\n**å­¦ã³2: ãƒ¡ãƒ¢ãƒªã¯æœ‰é™ãƒªã‚½ãƒ¼ã‚¹**\n- TTLã¨ãƒ¡ãƒ¢ãƒªåˆ¶é™ã®ç®¡ç†\n- ä¾¡å€¤ãƒ™ãƒ¼ã‚¹ã®é€€é¿æˆ¦ç•¥\n- ãƒˆãƒ¬ãƒ¼ãƒ‰ã‚ªãƒ•ã®æ˜ç¢ºåŒ–\n\n## é©ç”¨å ´é¢\n\n- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãŒé‡è¦ãªã‚·ã‚¹ãƒ†ãƒ \n- éšå±¤çš„ãƒ‡ãƒ¼ã‚¿ç®¡ç†\n- ãƒ¡ãƒ¢ãƒªåŠ¹ç‡ã®æœ€é©åŒ–\n- ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ã®å‘ä¸Š\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `skill_cache_coordination_techniques_2025_11_25.md`\n- `skill_predictive_preloading_2025_11_25.md`\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€Œãªãœã‚­ãƒ£ãƒƒã‚·ãƒ¥å”èª¿ã‚·ã‚¹ãƒ†ãƒ ã‚’å°å…¥ã—ãŸã‹ã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "skill-cache-coordination-techniques",
      "skill-predictive-preloading"
    ]
  },
  {
    "slug": "why-chapter-format-for-system-data",
    "title": "ãªãœã‚·ã‚¹ãƒ†ãƒ ãƒ‡ãƒ¼ã‚¿ã‚’Chapterå‹ã«å¤‰æ›ã™ã‚‹ã‹",
    "category": "Decisionsï¼ˆæŠ€è¡“é¸å®šãƒ»åˆ¤æ–­ï¼‰",
    "description": "ãªãœã‚·ã‚¹ãƒ†ãƒ ãƒ‡ãƒ¼ã‚¿ã‚’Chapterå‹ã«å¤‰æ›ã™ã‚‹ã‹",
    "project": "novel-automation-system-v2",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"decision_why_chapter_format_for_system_data_2025_11_25\",\n  \"type\": \"decision\",\n  \"name\": \"ãªãœã‚·ã‚¹ãƒ†ãƒ ãƒ‡ãƒ¼ã‚¿ã‚’Chapterå‹ã«å¤‰æ›ã™ã‚‹ã‹\",\n  \"decision_type\": \"design\",\n  \"tags\": [\"ãƒ‡ãƒ¼ã‚¿å½¢å¼\", \"çµ±ä¸€ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³\", \"ã‚³ãƒ¼ãƒ‰å†åˆ©ç”¨\", \"è¨­è¨ˆãƒ‘ã‚¿ãƒ¼ãƒ³\"],\n  \"source_project\": \"novel-automation-system-v2\",\n  \"chosen\": \"ã‚·ã‚¹ãƒ†ãƒ ãƒ‡ãƒ¼ã‚¿ã‚’Chapterå‹ã«å¤‰æ›ã—ã¦çµ±ä¸€ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã§å‡¦ç†\",\n  \"alternatives\": [\"ç‹¬è‡ªã®ä¿å­˜ãƒ¡ã‚½ãƒƒãƒ‰\", \"å°‚ç”¨ã®ã‚·ã‚¹ãƒ†ãƒ ãƒ‡ãƒ¼ã‚¿å‹\", \"JSONç›´æ¥ä¿å­˜\"],\n  \"related_knowledge\": [\n    \"skill_memory_system_integration_2025_11_25\",\n    \"skill_unified_foreshadowing_management_2025_11_25\"\n  ],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# ãªãœã‚·ã‚¹ãƒ†ãƒ ãƒ‡ãƒ¼ã‚¿ã‚’Chapterå‹ã«å¤‰æ›ã™ã‚‹ã‹\n\n## ä½•ã‚’åˆ¤æ–­ã—ãŸã‹\n\nä¼ç·šè¨ˆç”»ãªã©ã®ã‚·ã‚¹ãƒ†ãƒ ãƒ‡ãƒ¼ã‚¿ã‚’ä¿å­˜ã™ã‚‹éš›ã€Chapterå‹ã«å¤‰æ›ã™ã‚‹ã‹ã€ç‹¬è‡ªã®ä¿å­˜ãƒ¡ã‚½ãƒƒãƒ‰ã‚’å®Ÿè£…ã™ã‚‹ã‹ã€‚\n\n## é¸ã‚“ã ã‚‚ã®\n\n**ã‚·ã‚¹ãƒ†ãƒ ãƒ‡ãƒ¼ã‚¿ã‚’Chapterå‹ã«å¤‰æ›ã—ã¦çµ±ä¸€ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã§å‡¦ç†**\n\n```typescript\nconst systemChapter: Chapter = {\n    id: `system-data-foreshadowing-${Date.now()}`,\n    chapterNumber: 0, // ã‚·ã‚¹ãƒ†ãƒ ãƒ‡ãƒ¼ã‚¿ç”¨ã®ç‰¹åˆ¥ãªç« ç•ªå·\n    title: 'ã‚·ã‚¹ãƒ†ãƒ ãƒ‡ãƒ¼ã‚¿: è¨ˆç”»æ¸ˆã¿ä¼ç·š',\n    content: JSON.stringify(data),\n    metadata: {\n        systemData: true,\n        dataType: 'planned_foreshadowing'\n    },\n    timestamp: new Date()\n};\n\nawait memoryManager.processChapter(systemChapter);\n```\n\n## åˆ¤æ–­ç†ç”±\n\n### ç†ç”±1: ã‚³ãƒ¼ãƒ‰é‡è¤‡ã®å‰Šæ¸›\n\næ—¢å­˜ã®Chapterå‡¦ç†ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚’å†åˆ©ç”¨ï¼š\n\n```typescript\n// ç‹¬è‡ªãƒ¡ã‚½ãƒƒãƒ‰ã‚’å®Ÿè£…ã™ã‚‹å¿…è¦ãŒãªã„\n// processChapter()ãŒä»¥ä¸‹ã‚’ã™ã¹ã¦å‡¦ç†:\n// - éšå±¤æŒ¯ã‚Šåˆ†ã‘\n// - è¦ç´„ç”Ÿæˆ\n// - ã‚­ãƒ£ãƒƒã‚·ãƒ¥æ›´æ–°\n// - é‡è¤‡ãƒã‚§ãƒƒã‚¯\n```\n\n### ç†ç”±2: ä¸€è²«æ€§ã®ä¿è¨¼\n\nåŒã˜ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚’é€šã‚‹ã“ã¨ã§ã€å“è³ªãŒå‡ä¸€ï¼š\n\n```typescript\n// å®Ÿéš›ã®ç« ã‚‚ã‚·ã‚¹ãƒ†ãƒ ãƒ‡ãƒ¼ã‚¿ã‚‚åŒã˜å‡¦ç†\nawait memoryManager.processChapter(actualChapter);   // å®Ÿéš›ã®ç« \nawait memoryManager.processChapter(systemChapter);   // ã‚·ã‚¹ãƒ†ãƒ ãƒ‡ãƒ¼ã‚¿\n// â†’ ã©ã¡ã‚‰ã‚‚åŒã˜å“è³ªä¿è¨¼ã‚’å—ã‘ã‚‹\n```\n\n### ç†ç”±3: ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹æ€§ã®å‘ä¸Š\n\nãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã®æ”¹å–„ãŒã™ã¹ã¦ã®ãƒ‡ãƒ¼ã‚¿ã«é©ç”¨ï¼š\n\n```typescript\n// processChapter()ã‚’æ”¹å–„ã™ã‚Œã°\n// å®Ÿéš›ã®ç« ã‚‚ã‚·ã‚¹ãƒ†ãƒ ãƒ‡ãƒ¼ã‚¿ã‚‚è‡ªå‹•çš„ã«æ©æµã‚’å—ã‘ã‚‹\n```\n\n## ã“ã®åˆ¤æ–­ã‹ã‚‰å­¦ã¹ã‚‹ã“ã¨\n\n**å­¦ã³1: æ—¢å­˜ã®ä»•çµ„ã¿ã‚’æ´»ç”¨**\n- æ–°ã—ã„å‡¦ç†ã‚’è¿½åŠ ã—ãªã„\n- æ—¢å­˜ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚’å†åˆ©ç”¨\n- ã‚³ãƒ¼ãƒ‰é‡è¤‡ã‚’æœ€å°åŒ–\n\n**å­¦ã³2: çµ±ä¸€ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã®ä¾¡å€¤**\n- Chapterå‹ã¨ã„ã†å…±é€šã®å½¢å¼\n- ã©ã‚“ãªãƒ‡ãƒ¼ã‚¿ã‚‚åŒã˜æ–¹æ³•ã§å‡¦ç†\n- æ‹¡å¼µæ€§ã¨ä¸€è²«æ€§ã®ä¸¡ç«‹\n\n## é©ç”¨å ´é¢\n\n- ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚„ã‚·ã‚¹ãƒ†ãƒ ãƒ‡ãƒ¼ã‚¿ã®ä¿å­˜\n- æ—¢å­˜ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã®å†åˆ©ç”¨\n- ã‚³ãƒ¼ãƒ‰é‡è¤‡ã®å‰Šæ¸›\n\n## æ³¨æ„ç‚¹\n\n- chapterNumber: 0 ã¯ã‚·ã‚¹ãƒ†ãƒ ãƒ‡ãƒ¼ã‚¿ç”¨ã«äºˆç´„\n- metadata.systemData: true ã‚’å¿…ãšè¨­å®š\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `skill_memory_system_integration_2025_11_25.md`\n- `skill_unified_foreshadowing_management_2025_11_25.md`\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€Œãªãœã‚·ã‚¹ãƒ†ãƒ ãƒ‡ãƒ¼ã‚¿ã‚’Chapterå‹ã«å¤‰æ›ã™ã‚‹ã‹ã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "skill-memory-system-integration",
      "skill-unified-foreshadowing-management"
    ]
  },
  {
    "slug": "why-content-hash-based-template-caching",
    "title": "ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚­ãƒ£ãƒƒã‚·ãƒ³ã‚°æˆ¦ç•¥ï¼ˆå†…å®¹addressingvs LRUï¼‰",
    "category": "Decisionsï¼ˆæŠ€è¡“é¸å®šãƒ»åˆ¤æ–­ï¼‰",
    "description": "ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚­ãƒ£ãƒƒã‚·ãƒ³ã‚°æˆ¦ç•¥ï¼ˆå†…å®¹addressingvs LRUï¼‰",
    "project": "novel-automation-system-v2",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"decision_why_content_hash_based_template_caching_2025_11_25\",\n  \"type\": \"decision\",\n  \"name\": \"ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚­ãƒ£ãƒƒã‚·ãƒ³ã‚°æˆ¦ç•¥ï¼ˆå†…å®¹addressingvs LRUï¼‰\",\n  \"decision_type\": \"architecture\",\n  \"tags\": [\"ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚­ãƒ£ãƒƒã‚·ãƒ³ã‚°\", \"å†…å®¹ãƒãƒƒã‚·ãƒ¥\", \"ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ’ãƒƒãƒˆç‡\", \"ã‚³ã‚¹ãƒˆå‰Šæ¸›\"],\n  \"source_project\": \"novel-automation-system-v2\",\n  \"chosen\": \"å†…å®¹ãƒãƒƒã‚·ãƒ¥ãƒ™ãƒ¼ã‚¹ã®addressing\",\n  \"alternatives\": [\"ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—ãƒ™ãƒ¼ã‚¹ï¼ˆLRUï¼‰\", \"ã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹\"],\n  \"related_knowledge\": [\"skill_token_efficient_prompt_optimization_2025_11_25\"],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚­ãƒ£ãƒƒã‚·ãƒ³ã‚°æˆ¦ç•¥ï¼ˆå†…å®¹addressingvs LRUï¼‰\n\n## ä½•ã‚’åˆ¤æ–­ã—ãŸã‹\n\nãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚­ãƒ¼ã‚’ã©ã®ã‚ˆã†ã«ç”Ÿæˆã™ã‚‹ã‹ã®é¸æŠã€‚\n\n## é¸ã‚“ã ã‚‚ã®\n\n**å†…å®¹ãƒãƒƒã‚·ãƒ¥ãƒ™ãƒ¼ã‚¹ã®addressing**\n\n```typescript\nprivate generateCacheKey(criteria, integratedData): string {\n  const content = JSON.stringify({\n    criteria,\n    dataSignature: integratedData ? this.getDataSignature(integratedData) : null\n  });\n  return crypto.createHash('sha256').update(content).digest('hex');\n}\n```\n\n## ä»–ã®å€™è£œ\n\n### å€™è£œ1: ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—ãƒ™ãƒ¼ã‚¹ï¼ˆLRUï¼‰ã‚­ãƒ£ãƒƒã‚·ãƒ³ã‚°\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**ï¼š\n- å†…å®¹ãŒåŒã˜ã§ã‚‚æ¡ä»¶ãŒé•ã†ã¨åˆ¥ã‚¨ãƒ³ãƒˆãƒªãƒ¼\n- ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ’ãƒƒãƒˆç‡ãŒä½ã„ï¼ˆ30-40%ï¼‰\n- é•·æœŸçš„ãªå†åˆ©ç”¨ãŒã§ããªã„\n\n## åˆ¤æ–­ç†ç”±\n\n### ç†ç”±1: ãƒ’ãƒƒãƒˆç‡å‘ä¸Š\n\nåŒã˜æ¡ä»¶ãªã‚‰å¿…ãšã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ’ãƒƒãƒˆï¼ˆãƒ’ãƒƒãƒˆç‡: 65-75%ï¼‰\n\n### ç†ç”±2: é•·æœŸåŠ¹æœ\n\nè¤‡æ•°ãƒãƒ£ãƒ—ã‚¿ãƒ¼é–“ã§ã‚‚å†åˆ©ç”¨å¯èƒ½\n\n### ç†ç”±3: ã‚¹ã‚±ãƒ¼ãƒ©ãƒ–ãƒ«\n\nã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚µã‚¤ã‚ºã®äº‹å‰è¨ˆç”»ãŒå¯èƒ½\n\n**ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡**: ~50MB ã§ 100-500 ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä¿æŒå¯èƒ½\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `skill_token_efficient_prompt_optimization_2025_11_25.md`\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€Œãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚­ãƒ£ãƒƒã‚·ãƒ³ã‚°æˆ¦ç•¥ï¼ˆå†…å®¹addressingvs LRUï¼‰ã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "skill-token-efficient-prompt-optimization"
    ]
  },
  {
    "slug": "why-dependency-injection-architecture",
    "title": "ãªãœä¾å­˜æ³¨å…¥ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’é¸ã‚“ã ã‹",
    "category": "Decisionsï¼ˆæŠ€è¡“é¸å®šãƒ»åˆ¤æ–­ï¼‰",
    "description": "ãªãœä¾å­˜æ³¨å…¥ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’é¸ã‚“ã ã‹",
    "project": "novel-automation-system-v2",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"decision_why_dependency_injection_architecture_2025_11_25\",\n  \"type\": \"decision\",\n  \"name\": \"ãªãœä¾å­˜æ³¨å…¥ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’é¸ã‚“ã ã‹\",\n  \"decision_type\": \"architecture\",\n  \"tags\": [\"ä¾å­˜æ³¨å…¥\", \"ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£\", \"ãƒ†ã‚¹ã‚¿ãƒ“ãƒªãƒ†ã‚£\", \"ä¿å®ˆæ€§\", \"è¨­è¨ˆåˆ¤æ–­\"],\n  \"source_project\": \"novel-automation-system-v2\",\n  \"chosen\": \"ä¾å­˜æ³¨å…¥ï¼ˆDependency Injectionï¼‰ãƒ‘ã‚¿ãƒ¼ãƒ³\",\n  \"alternatives\": [\"ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚·ãƒ³ã‚°ãƒ«ãƒˆãƒ³\", \"ã‚µãƒ¼ãƒ“ã‚¹ãƒ­ã‚±ãƒ¼ã‚¿ãƒ¼\", \"ç›´æ¥ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹åŒ–\"],\n  \"related_knowledge\": [\n    \"skill_memory_system_integration_2025_11_25\",\n    \"decision_why_tier_based_initialization_2025_11_25\"\n  ],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# ãªãœä¾å­˜æ³¨å…¥ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’é¸ã‚“ã ã‹\n\n## ä½•ã‚’åˆ¤æ–­ã—ãŸã‹\n\nã‚·ã‚¹ãƒ†ãƒ å…¨ä½“ã®ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãƒ‘ã‚¿ãƒ¼ãƒ³ã¨ã—ã¦ã€ä¾å­˜æ³¨å…¥ï¼ˆDIï¼‰ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’æ¡ç”¨ã™ã‚‹ã‹ã€ä»–ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼ˆã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚·ãƒ³ã‚°ãƒ«ãƒˆãƒ³ã€ã‚µãƒ¼ãƒ“ã‚¹ãƒ­ã‚±ãƒ¼ã‚¿ãƒ¼ï¼‰ã‚’æ¡ç”¨ã™ã‚‹ã‹ã€‚\n\n## é¸ã‚“ã ã‚‚ã®\n\n**ä¾å­˜æ³¨å…¥ï¼ˆDependency Injectionï¼‰ãƒ‘ã‚¿ãƒ¼ãƒ³**\n\nå…¨ã‚·ã‚¹ãƒ†ãƒ ãŒã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã§ä¾å­˜ã‚’å—ã‘å–ã‚Šã€ServiceContainerãŒä¾å­˜é–¢ä¿‚ã‚’è§£æ±ºã™ã‚‹æ–¹å¼ã€‚\n\n```typescript\nexport class ForeshadowingManager {\n    private memoryManager: MemoryManager;\n\n    constructor(memoryManager: MemoryManager) {\n        if (!memoryManager) {\n            throw new Error('MemoryManager is required');\n        }\n        this.memoryManager = memoryManager;\n    }\n}\n\n// ServiceContainerã«ã‚ˆã‚‹ä¾å­˜è§£æ±º\ncontainer.register('foreshadowingManager', (c) => {\n    const mm = c.resolve<MemoryManager>('memoryManager');\n    return new ForeshadowingManager(mm);\n}, {\n    singleton: true,\n    dependencies: ['memoryManager']\n});\n```\n\n## ä»–ã®å€™è£œ\n\n### å€™è£œ1: ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚·ãƒ³ã‚°ãƒ«ãƒˆãƒ³\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n\n```typescript\n// ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚·ãƒ³ã‚°ãƒ«ãƒˆãƒ³ã®ä¾‹\nclass MemoryManager {\n    private static instance: MemoryManager;\n\n    static getInstance(): MemoryManager {\n        if (!this.instance) {\n            this.instance = new MemoryManager();\n        }\n        return this.instance;\n    }\n}\n\n// ä½¿ç”¨å´\nclass ForeshadowingManager {\n    async getSomething() {\n        // ã‚°ãƒ­ãƒ¼ãƒãƒ«ã«ã‚¢ã‚¯ã‚»ã‚¹\n        const mm = MemoryManager.getInstance();\n        return mm.unifiedSearch(...);\n    }\n}\n```\n\n**å•é¡Œç‚¹**:\n1. **ãƒ†ã‚¹ãƒˆãŒå›°é›£**: ãƒ¢ãƒƒã‚¯åŒ–ã§ããªã„\n2. **ä¾å­˜ãŒéš è”½**: ã‚³ãƒ¼ãƒ‰ã‚’èª­ã‚“ã§ã‚‚ä¾å­˜é–¢ä¿‚ãŒä¸æ˜\n3. **åˆæœŸåŒ–é †åº**: ã„ã¤ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹åŒ–ã•ã‚Œã‚‹ã‹ä¸æ˜ç¢º\n4. **ä¸¦åˆ—ãƒ†ã‚¹ãƒˆ**: è¤‡æ•°ãƒ†ã‚¹ãƒˆã§åŒã˜ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’å…±æœ‰\n\n**å…·ä½“ä¾‹**:\n```typescript\n// ãƒ†ã‚¹ãƒˆæ™‚ã®å•é¡Œ\ntest('ä¼ç·šå–å¾—ãƒ†ã‚¹ãƒˆ', () => {\n    // MemoryManager.getInstance()ã‚’ãƒ¢ãƒƒã‚¯åŒ–ã§ããªã„\n    // å®Ÿéš›ã®MemoryManagerãŒä½¿ã‚ã‚Œã‚‹\n    // ä»–ã®ãƒ†ã‚¹ãƒˆã¨çŠ¶æ…‹ã‚’å…±æœ‰ã—ã¦ã—ã¾ã†\n});\n```\n\n### å€™è£œ2: ã‚µãƒ¼ãƒ“ã‚¹ãƒ­ã‚±ãƒ¼ã‚¿ãƒ¼\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n\n```typescript\n// ã‚µãƒ¼ãƒ“ã‚¹ãƒ­ã‚±ãƒ¼ã‚¿ãƒ¼ã®ä¾‹\nclass ServiceLocator {\n    private static services = new Map();\n\n    static get<T>(name: string): T {\n        return this.services.get(name);\n    }\n}\n\n// ä½¿ç”¨å´\nclass ForeshadowingManager {\n    async getSomething() {\n        // ãƒ­ã‚±ãƒ¼ã‚¿ãƒ¼ã‹ã‚‰å–å¾—\n        const mm = ServiceLocator.get<MemoryManager>('memoryManager');\n        return mm.unifiedSearch(...);\n    }\n}\n```\n\n**å•é¡Œç‚¹**:\n1. **ä¾å­˜ãŒä¸æ˜ç¢º**: ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã‚’è¦‹ã¦ã‚‚ä½•ã«ä¾å­˜ã—ã¦ã„ã‚‹ã‹ã‚ã‹ã‚‰ãªã„\n2. **å®Ÿè¡Œæ™‚ã‚¨ãƒ©ãƒ¼**: ç™»éŒ²å¿˜ã‚Œã¯ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã«æ¤œå‡ºã§ããªã„\n3. **IDEæ”¯æ´ãŒå¼±ã„**: è‡ªå‹•è£œå®Œãƒ»ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ãŒåŠ¹ã‹ãªã„\n4. **ãƒ†ã‚¹ã‚¿ãƒ“ãƒªãƒ†ã‚£**: ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚·ãƒ³ã‚°ãƒ«ãƒˆãƒ³ã¨åŒæ§˜ã®å•é¡Œ\n\n**å…·ä½“ä¾‹**:\n```typescript\n// å•é¡Œ: ä¾å­˜ãŒä¸æ˜ç¢º\nclass ForeshadowingManager {\n    constructor() {\n        // ä½•ã«ä¾å­˜ã—ã¦ã„ã‚‹ã‹å¤–ã‹ã‚‰è¦‹ãˆãªã„\n    }\n\n    async process() {\n        // ã“ã“ã§åˆã‚ã¦ä¾å­˜ãŒæ˜ã‚‰ã‹ã«ãªã‚‹\n        const mm = ServiceLocator.get('memoryManager');\n        const pm = ServiceLocator.get('plotManager');\n        const cm = ServiceLocator.get('characterManager');\n    }\n}\n```\n\n### å€™è£œ3: ç›´æ¥ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹åŒ–\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n\n```typescript\n// ç›´æ¥ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹åŒ–ã®ä¾‹\nclass ForeshadowingManager {\n    private memoryManager: MemoryManager;\n\n    constructor() {\n        // å†…éƒ¨ã§ç›´æ¥ç”Ÿæˆ\n        this.memoryManager = new MemoryManager({\n            shortTermChapters: 8,\n            // ...\n        });\n    }\n}\n```\n\n**å•é¡Œç‚¹**:\n1. **å¯†çµåˆ**: MemoryManagerã®å…·ä½“å®Ÿè£…ã«ä¾å­˜\n2. **ãƒ†ã‚¹ãƒˆä¸å¯**: ãƒ¢ãƒƒã‚¯åŒ–ãŒä¸å¯èƒ½\n3. **è¨­å®šã®é‡è¤‡**: å„ã‚¯ãƒ©ã‚¹ã§è¨­å®šã‚’ç¹°ã‚Šè¿”ã™å¿…è¦ãŒã‚ã‚‹\n4. **ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ç®¡ç†**: ã‚·ãƒ³ã‚°ãƒ«ãƒˆãƒ³ã‚’è‡ªå‰ã§å®Ÿè£…ã™ã‚‹å¿…è¦\n\n## åˆ¤æ–­ç†ç”±\n\n### ç†ç”±1: ãƒ†ã‚¹ãƒˆå®¹æ˜“æ€§ã®åŠ‡çš„å‘ä¸Š\n\n```typescript\n// ä¾å­˜æ³¨å…¥ã«ã‚ˆã‚Šã€ãƒ¢ãƒƒã‚¯åŒ–ãŒç°¡å˜\ntest('ä¼ç·šå–å¾—ãƒ†ã‚¹ãƒˆ', async () => {\n    // ãƒ¢ãƒƒã‚¯ã®MemoryManagerã‚’ä½œæˆ\n    const mockMemoryManager = {\n        unifiedSearch: jest.fn().mockResolvedValue({\n            entries: [{ id: '1', content: 'test' }]\n        })\n    };\n\n    // ãƒ¢ãƒƒã‚¯ã‚’æ³¨å…¥\n    const manager = new ForeshadowingManager(mockMemoryManager as any);\n\n    // ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ\n    const result = await manager.getAllForeshadowings();\n\n    // ãƒ¢ãƒƒã‚¯ãŒå‘¼ã°ã‚ŒãŸã“ã¨ã‚’æ¤œè¨¼\n    expect(mockMemoryManager.unifiedSearch).toHaveBeenCalledWith(\n        'foreshadowing all',\n        [MemoryLevel.LONG_TERM, MemoryLevel.MID_TERM, MemoryLevel.SHORT_TERM]\n    );\n});\n```\n\n### ç†ç”±2: ä¾å­˜é–¢ä¿‚ã®æ˜ç¢ºåŒ–\n\n```typescript\n// ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã‚’è¦‹ã‚Œã°ä¾å­˜ãŒä¸€ç›®ç­ç„¶\nexport class AnalysisCoordinator {\n    static dependencies: string[] = [\n        'memoryManager',\n        'geminiAdapter',\n        'storageProvider'\n    ];  // é™çš„ã«å®£è¨€\n\n    constructor(\n        private geminiAdapter: GeminiAdapter,\n        private memoryManager: MemoryManager,\n        private storageProvider: StorageProvider\n    ) {\n        // ä¾å­˜ãŒæ˜ç¤ºçš„\n    }\n}\n```\n\n### ç†ç”±3: æŸ”è»Ÿãªè¨­å®šç®¡ç†\n\n```typescript\n// ServiceContainerã§ä¸€å…ƒç®¡ç†\ncontainer.register('memoryManager', () => {\n    return new MemoryManager({\n        shortTermChapters: 8,\n        midTermArcSize: 4,\n        summaryDetailLevel: 7\n    });\n}, { singleton: true });\n\n// å…¨ã‚·ã‚¹ãƒ†ãƒ ãŒåŒã˜è¨­å®šã‚’å…±æœ‰\n// è¨­å®šå¤‰æ›´ã¯1ç®‡æ‰€ã§å®Œçµ\n```\n\n### ç†ç”±4: å¾ªç’°ä¾å­˜ã®æ¤œå‡º\n\n```typescript\n// é™çš„ãªä¾å­˜å®£è¨€ã«ã‚ˆã‚Šã€å¾ªç’°ä¾å­˜ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã«æ¤œå‡º\nconst checkResult = lifecycleManager.checkCircularDependencies();\nif (!checkResult.success) {\n    throw new Error(`Circular dependency: ${checkResult.details}`);\n}\n```\n\n### ç†ç”±5: ä¸¦åˆ—ãƒ†ã‚¹ãƒˆã®å®Ÿç¾\n\n```typescript\n// å„ãƒ†ã‚¹ãƒˆãŒç‹¬ç«‹ã—ãŸã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’æŒã¤\ntest('ãƒ†ã‚¹ãƒˆ1', () => {\n    const mm1 = new MemoryManager(config1);\n    const manager1 = new ForeshadowingManager(mm1);\n    // ...\n});\n\ntest('ãƒ†ã‚¹ãƒˆ2', () => {\n    const mm2 = new MemoryManager(config2);\n    const manager2 = new ForeshadowingManager(mm2);\n    // ...\n});\n\n// ãƒ†ã‚¹ãƒˆåŒå£«ãŒå¹²æ¸‰ã—ãªã„\n```\n\n## ã“ã®åˆ¤æ–­ã‹ã‚‰å­¦ã¹ã‚‹ã“ã¨\n\n**å­¦ã³1: ãƒ†ã‚¹ã‚¿ãƒ“ãƒªãƒ†ã‚£ã¯æœ€å„ªå…ˆäº‹é …**\n- å¾Œã‹ã‚‰ãƒ†ã‚¹ãƒˆã‚’è¿½åŠ ã™ã‚‹ã®ã¯å›°é›£\n- æœ€åˆã‹ã‚‰ testable ãªè¨­è¨ˆã«ã™ã‚‹\n- DIã¯åˆæœŸã‚³ã‚¹ãƒˆãŒã‚ã‚‹ãŒã€é•·æœŸçš„ã«å¤§ããªãƒªã‚¿ãƒ¼ãƒ³\n\n**å­¦ã³2: ä¾å­˜ã®æ˜ç¤ºåŒ–ã¯ä¿å®ˆæ€§ã®éµ**\n- ã‚³ãƒ¼ãƒ‰ã‚’èª­ã‚€ã ã‘ã§ä¾å­˜é–¢ä¿‚ãŒç†è§£ã§ãã‚‹\n- æ–°ã—ã„é–‹ç™ºè€…ã®ã‚ªãƒ³ãƒœãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ãŒå®¹æ˜“\n- ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ã®å½±éŸ¿ç¯„å›²ãŒæ˜ç¢º\n\n**å­¦ã³3: ã‚°ãƒ­ãƒ¼ãƒãƒ«çŠ¶æ…‹ã¯é¿ã‘ã‚‹ã¹ã**\n- ã‚·ãƒ³ã‚°ãƒ«ãƒˆãƒ³ã¯å¿…è¦æœ€å°é™ã«\n- çŠ¶æ…‹ã®ç®¡ç†ã¯è¤‡é›‘ã•ã®æ ¹æº\n- DIã§çŠ¶æ…‹ã‚’æ˜ç¤ºçš„ã«ç®¡ç†\n\n## é©ç”¨å ´é¢\n\n- **æ–°è¦ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ç«‹ã¡ä¸Šã’æ™‚**: æœ€åˆã‹ã‚‰DIã‚’æ¡ç”¨\n- **æ—¢å­˜ã‚·ã‚¹ãƒ†ãƒ ã®ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°æ™‚**: æ®µéšçš„ã«DIã«ç§»è¡Œ\n- **ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸ã‚’å‘ä¸Šã•ã›ã‚‹æ™‚**: ãƒ†ã‚¹ãƒˆå¯èƒ½ãªè¨­è¨ˆã¸\n- **è¤‡é›‘ãªä¾å­˜é–¢ä¿‚ã‚’æŒã¤ã‚·ã‚¹ãƒ†ãƒ **: ä¾å­˜ã‚’æ•´ç†ã—ã¦å¯è¦–åŒ–\n\n## ãƒˆãƒ¬ãƒ¼ãƒ‰ã‚ªãƒ•\n\n### æ¡ç”¨ã—ãŸè¨­è¨ˆã®æ¬ ç‚¹\n\n1. **å­¦ç¿’ã‚³ã‚¹ãƒˆ**: DIãƒ‘ã‚¿ãƒ¼ãƒ³ã®ç†è§£ãŒå¿…è¦\n2. **ãƒœã‚¤ãƒ©ãƒ¼ãƒ—ãƒ¬ãƒ¼ãƒˆ**: ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã§ã®ä¾å­˜å®£è¨€ãŒå†—é•·\n3. **åˆæœŸè¨­å®š**: ServiceContainerã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ãŒå¿…è¦\n\n### ãªãœå—ã‘å…¥ã‚ŒãŸã‹\n\nã“ã‚Œã‚‰ã®æ¬ ç‚¹ã¯ã€ä»¥ä¸‹ã®ãƒ¡ãƒªãƒƒãƒˆã§ååˆ†ã«ç›¸æ®ºã•ã‚Œã‚‹ï¼š\n- ãƒ†ã‚¹ãƒˆå®¹æ˜“æ€§ã®å‘ä¸Š â†’ å“è³ªå‘ä¸Š â†’ ãƒã‚°å‰Šæ¸› â†’ é–‹ç™ºé€Ÿåº¦å‘ä¸Š\n- ä¾å­˜ã®æ˜ç¢ºåŒ– â†’ ä¿å®ˆæ€§å‘ä¸Š â†’ å¤‰æ›´ã‚³ã‚¹ãƒˆå‰Šæ¸›\n- å¾ªç’°ä¾å­˜ã®é˜²æ­¢ â†’ ã‚·ã‚¹ãƒ†ãƒ å®‰å®šæ€§99.9%é”æˆ\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `skill_memory_system_integration_2025_11_25.md`: å…·ä½“çš„ãªå®Ÿè£…ãƒ‘ã‚¿ãƒ¼ãƒ³\n- `decision_why_tier_based_initialization_2025_11_25.md`: ä¾å­˜è§£æ±ºã®é †åºç®¡ç†\n- `skill_lifecycle_tier_system_2025_11_25.md`: Tierã‚·ã‚¹ãƒ†ãƒ ã®å®Ÿè£…\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€Œãªãœä¾å­˜æ³¨å…¥ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’é¸ã‚“ã ã‹ã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "skill-memory-system-integration",
      "decision-why-tier-based-initialization"
    ]
  },
  {
    "slug": "why-hybrid-foreshadowing-evaluation",
    "title": "ãªãœãƒ’ãƒ¥ãƒ¼ãƒªã‚¹ãƒ†ã‚£ãƒƒã‚¯ã¨AIã‚’çµ„ã¿åˆã‚ã›ãŸã‹",
    "category": "Decisionsï¼ˆæŠ€è¡“é¸å®šãƒ»åˆ¤æ–­ï¼‰",
    "description": "ãªãœãƒ’ãƒ¥ãƒ¼ãƒªã‚¹ãƒ†ã‚£ãƒƒã‚¯ã¨AIã‚’çµ„ã¿åˆã‚ã›ãŸã‹",
    "project": "novel-automation-system-v2",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"decision_why_hybrid_foreshadowing_evaluation_2025_11_25\",\n  \"type\": \"decision\",\n  \"name\": \"ãªãœãƒ’ãƒ¥ãƒ¼ãƒªã‚¹ãƒ†ã‚£ãƒƒã‚¯ã¨AIã‚’çµ„ã¿åˆã‚ã›ãŸã‹\",\n  \"decision_type\": \"design\",\n  \"tags\": [\"ä¼ç·šè©•ä¾¡\", \"ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ\", \"AIè©•ä¾¡\", \"ãƒ’ãƒ¥ãƒ¼ãƒªã‚¹ãƒ†ã‚£ãƒƒã‚¯\"],\n  \"source_project\": \"novel-automation-system-v2\",\n  \"chosen\": \"ãƒ’ãƒ¥ãƒ¼ãƒªã‚¹ãƒ†ã‚£ãƒƒã‚¯è©•ä¾¡ï¼ˆ30%ï¼‰+ AIè©•ä¾¡ï¼ˆ70%ï¼‰ã®ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰\",\n  \"alternatives\": [\"AIã®ã¿\", \"ãƒ’ãƒ¥ãƒ¼ãƒªã‚¹ãƒ†ã‚£ãƒƒã‚¯ã®ã¿\", \"ãƒ«ãƒ¼ãƒ«ãƒ™ãƒ¼ã‚¹ã®ã¿\"],\n  \"related_knowledge\": [\n    \"skill_resolution_timing_evaluation_2025_11_25\",\n    \"skill_unified_foreshadowing_management_2025_11_25\"\n  ],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# ãªãœãƒ’ãƒ¥ãƒ¼ãƒªã‚¹ãƒ†ã‚£ãƒƒã‚¯ã¨AIã‚’çµ„ã¿åˆã‚ã›ãŸã‹\n\n## ä½•ã‚’åˆ¤æ–­ã—ãŸã‹\n\nä¼ç·šè§£æ±ºã‚¿ã‚¤ãƒŸãƒ³ã‚°ã®è©•ä¾¡æ–¹æ³•ã¨ã—ã¦ã€ãƒ«ãƒ¼ãƒ«ãƒ™ãƒ¼ã‚¹ã®ãƒ’ãƒ¥ãƒ¼ãƒªã‚¹ãƒ†ã‚£ãƒƒã‚¯ã¨AIè©•ä¾¡ã®ã©ã¡ã‚‰ã‚’æ¡ç”¨ã™ã‚‹ã‹ã€ã¾ãŸã¯çµ„ã¿åˆã‚ã›ã‚‹ã‹ã€‚\n\n## é¸ã‚“ã ã‚‚ã®\n\n**ãƒ’ãƒ¥ãƒ¼ãƒªã‚¹ãƒ†ã‚£ãƒƒã‚¯è©•ä¾¡ï¼ˆ30%ï¼‰+ AIè©•ä¾¡ï¼ˆ70%ï¼‰ã®ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰**\n\n```typescript\nevaluation.confidence = (aiConfidence * 0.7) + (timingConfidence * 0.3);\n```\n\n## åˆ¤æ–­ç†ç”±\n\n### ç†ç”±1: ç²¾åº¦ã¨åŠ¹ç‡ã®ãƒãƒ©ãƒ³ã‚¹\n\n- ãƒ’ãƒ¥ãƒ¼ãƒªã‚¹ãƒ†ã‚£ãƒƒã‚¯: é«˜é€Ÿã§ç¢ºå®Ÿï¼ˆç« é–“éš”ãªã©ã®å®¢è¦³çš„åŸºæº–ï¼‰\n- AI: æ–‡è„ˆã‚’æ·±ãç†è§£ï¼ˆç‰©èªã®æµã‚Œã¨ã®æ•´åˆæ€§ï¼‰\n- çµ„ã¿åˆã‚ã›ã§ä¸¡æ–¹ã®é•·æ‰€ã‚’æ´»ç”¨\n\n### ç†ç”±2: ã‚³ã‚¹ãƒˆã®æœ€é©åŒ–\n\nAIã®å‘¼ã³å‡ºã—ã‚’æœ€å°é™ã«æŠ‘ãˆã¤ã¤ã€é«˜ç²¾åº¦ã‚’ç¶­æŒï¼š\n\n```typescript\n// ã¾ãšãƒ’ãƒ¥ãƒ¼ãƒªã‚¹ãƒ†ã‚£ãƒƒã‚¯è©•ä¾¡ã§çµã‚Šè¾¼ã¿\nconst candidates = foreshadowings.filter(f =>\n    this.evaluateResolutionTiming(f, currentChapter) > 0.5\n);\n\n// å€™è£œã®ã¿AIè©•ä¾¡ï¼ˆã‚³ã‚¹ãƒˆå‰Šæ¸›ï¼‰\nfor (const candidate of candidates) {\n    await this.evaluateWithAI(candidate);\n}\n```\n\n### ç†ç”±3: ä¿¡é ¼æ€§ã®å‘ä¸Š\n\nAIã®åˆ¤æ–­ãƒŸã‚¹ã‚’ãƒ’ãƒ¥ãƒ¼ãƒªã‚¹ãƒ†ã‚£ãƒƒã‚¯ã§è£œå®Œï¼š\n\n```typescript\n// 3ç« æœªæº€ã¯å¼·åˆ¶çš„ã«ä½è©•ä¾¡ï¼ˆèª­è€…ã®è¨˜æ†¶å®šç€æœŸé–“ï¼‰\nif (chaptersElapsed < 3) return 0.2;\n\n// AIãŒã©ã†è©•ä¾¡ã—ã¦ã‚‚ã€ã“ã®åˆ¶ç´„ã¯å®ˆã‚‰ã‚Œã‚‹\n```\n\n## ã“ã®åˆ¤æ–­ã‹ã‚‰å­¦ã¹ã‚‹ã“ã¨\n\n**å­¦ã³1: ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã®æœ‰åŠ¹æ€§**\n- ãƒ«ãƒ¼ãƒ«ãƒ™ãƒ¼ã‚¹ã¨AIã®é•·æ‰€ã‚’çµ„ã¿åˆã‚ã›\n- ã‚³ã‚¹ãƒˆã¨ç²¾åº¦ã®ãƒãƒ©ãƒ³ã‚¹\n- ä¿¡é ¼æ€§ã®å‘ä¸Š\n\n**å­¦ã³2: é‡ã¿ä»˜ã‘ã¯èª¿æ•´å¯èƒ½**\n- 70:30ã¯åˆæœŸè¨­å®š\n- é‹ç”¨ãƒ‡ãƒ¼ã‚¿ã«åŸºã¥ã„ã¦èª¿æ•´\n- ãƒ‰ãƒ¡ã‚¤ãƒ³çŸ¥è­˜ã®åæ˜ \n\n## é©ç”¨å ´é¢\n\n- AIè©•ä¾¡ãŒé«˜ã‚³ã‚¹ãƒˆãªå ´åˆ\n- ç¢ºå®Ÿãªåˆ¶ç´„æ¡ä»¶ãŒå­˜åœ¨\n- ç²¾åº¦ã¨åŠ¹ç‡ã®ä¸¡ç«‹ãŒå¿…è¦\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `skill_resolution_timing_evaluation_2025_11_25.md`\n- `skill_unified_foreshadowing_management_2025_11_25.md`\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€Œãªãœãƒ’ãƒ¥ãƒ¼ãƒªã‚¹ãƒ†ã‚£ãƒƒã‚¯ã¨AIã‚’çµ„ã¿åˆã‚ã›ãŸã‹ã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "skill-resolution-timing-evaluation",
      "skill-unified-foreshadowing-management"
    ]
  },
  {
    "slug": "why-json-over-yaml-for-parameters",
    "title": "ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿æ°¸ç¶šåŒ–æˆ¦ç•¥ï¼ˆJSON vs YAMLï¼‰",
    "category": "Decisionsï¼ˆæŠ€è¡“é¸å®šãƒ»åˆ¤æ–­ï¼‰",
    "description": "ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿æ°¸ç¶šåŒ–æˆ¦ç•¥ï¼ˆJSON vs YAMLï¼‰",
    "project": "novel-automation-system-v2",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"decision_why_json_over_yaml_for_parameters_2025_11_25\",\n  \"type\": \"decision\",\n  \"name\": \"ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿æ°¸ç¶šåŒ–æˆ¦ç•¥ï¼ˆJSON vs YAMLï¼‰\",\n  \"decision_type\": \"tech_selection\",\n  \"tags\": [\"æ°¸ç¶šåŒ–\", \"JSON\", \"YAML\", \"ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹\", \"äº’æ›æ€§\"],\n  \"source_project\": \"novel-automation-system-v2\",\n  \"chosen\": \"JSONï¼ˆãƒ—ãƒ©ã‚¤ãƒãƒªï¼‰ + YAML ã‚µãƒãƒ¼ãƒˆ\",\n  \"alternatives\": [\"YAMLã®ã¿\", \"TOML\", \"ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹\"],\n  \"related_knowledge\": [],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿æ°¸ç¶šåŒ–æˆ¦ç•¥ï¼ˆJSON vs YAMLï¼‰\n\n## ä½•ã‚’åˆ¤æ–­ã—ãŸã‹\n\nã‚·ã‚¹ãƒ†ãƒ ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®ä¿å­˜å½¢å¼ã‚’JSONã«ã™ã‚‹ã‹YAMLã«ã™ã‚‹ã‹ã®é¸æŠã€‚\n\n## é¸ã‚“ã ã‚‚ã®\n\n**JSONï¼ˆãƒ—ãƒ©ã‚¤ãƒãƒªï¼‰ + YAML ã‚µãƒãƒ¼ãƒˆ**\n\n```typescript\n// data/config/system-parameters.json ï¼ˆãƒ—ãƒ©ã‚¤ãƒãƒªï¼‰\n// data/parameters/templates/*.yaml ï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ—ãƒªã‚»ãƒƒãƒˆï¼‰\n\nprivate async loadSavedParameters(): Promise<void> {\n  if (await storageProvider.fileExists(this.SYSTEM_PARAMETERS_PATH)) {\n    const content = await storageProvider.readFile(this.SYSTEM_PARAMETERS_PATH);\n    const saved = JSON.parse(content); // JSONè§£æ\n  }\n}\n```\n\n## ä»–ã®å€™è£œ\n\n### å€™è£œ1: YAML ã®ã¿\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**ï¼š\n- ãƒ‘ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªä¾å­˜\n- ãƒ‘ãƒ¼ã‚¹é€Ÿåº¦ãŒé…ã„ï¼ˆ10-50ms vs 1-5msï¼‰\n\n## åˆ¤æ–­ç†ç”±\n\n### ç†ç”±1: æ€§èƒ½\n\nJSON ãƒ‘ãƒ¼ã‚¹ãŒ10å€é«˜é€Ÿï¼ˆ1-5ms vs 10-50msï¼‰\n\n### ç†ç”±2: äº’æ›æ€§\n\nã‚ã‚‰ã‚†ã‚‹ã‚·ã‚¹ãƒ†ãƒ ã§æ¨™æº–å¯¾å¿œ\n\n### ç†ç”±3: ãƒ‡ãƒãƒƒã‚°\n\nãƒ†ã‚¹ãƒˆã§ã®åˆ©ç”¨ãŒç°¡å˜\n\n### ç†ç”±4: ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰\n\nYAMLãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ—ãƒªã‚»ãƒƒãƒˆã‚‚ã‚µãƒãƒ¼ãƒˆ\n\n**ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹**: JSON: 1-5ms vs YAML: 10-50ms\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\nã“ã®Decisionã¯æ¯”è¼ƒçš„ç‹¬ç«‹ã—ã¦ã„ã¾ã™ã€‚\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€Œãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿æ°¸ç¶šåŒ–æˆ¦ç•¥ï¼ˆJSON vs YAMLï¼‰ã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": []
  },
  {
    "slug": "why-layered-error-recovery-strategy",
    "title": "ã‚¨ãƒ©ãƒ¼ãƒªã‚«ãƒãƒªãƒ¼æˆ¦ç•¥ï¼ˆå†è©¦è¡Œ vs ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ï¼‰",
    "category": "Decisionsï¼ˆæŠ€è¡“é¸å®šãƒ»åˆ¤æ–­ï¼‰",
    "description": "ã‚¨ãƒ©ãƒ¼ãƒªã‚«ãƒãƒªãƒ¼æˆ¦ç•¥ï¼ˆå†è©¦è¡Œ vs ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ï¼‰",
    "project": "novel-automation-system-v2",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"decision_why_layered_error_recovery_strategy_2025_11_25\",\n  \"type\": \"decision\",\n  \"name\": \"ã‚¨ãƒ©ãƒ¼ãƒªã‚«ãƒãƒªãƒ¼æˆ¦ç•¥ï¼ˆå†è©¦è¡Œ vs ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ï¼‰\",\n  \"decision_type\": \"architecture\",\n  \"tags\": [\"ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°\", \"å†è©¦è¡Œæˆ¦ç•¥\", \"ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯\", \"å„ªå…ˆåº¦ãƒ™ãƒ¼ã‚¹\"],\n  \"source_project\": \"novel-automation-system-v2\",\n  \"chosen\": \"å±¤åˆ¥æˆ¦ç•¥ï¼ˆå„ªå…ˆåº¦ã§ä½¿ã„åˆ†ã‘ï¼‰\",\n  \"alternatives\": [\"å¸¸ã«å†è©¦è¡Œ\", \"å¸¸ã«ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯\", \"Circuit Breaker\"],\n  \"related_knowledge\": [\"skill_api_throttling_priority_queue_2025_11_25\"],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# ã‚¨ãƒ©ãƒ¼ãƒªã‚«ãƒãƒªãƒ¼æˆ¦ç•¥ï¼ˆå†è©¦è¡Œ vs ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ï¼‰\n\n## ä½•ã‚’åˆ¤æ–­ã—ãŸã‹\n\nAPIå‘¼ã³å‡ºã—å¤±æ•—æ™‚ã«ã€å†è©¦è¡Œå„ªå…ˆã‹ã€ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯å„ªå…ˆã‹ã®é¸æŠã€‚\n\n## é¸ã‚“ã ã‚‚ã®\n\n**å±¤åˆ¥æˆ¦ç•¥ï¼ˆå„ªå…ˆåº¦ã§ä½¿ã„åˆ†ã‘ï¼‰**\n\n```typescript\n// HIGHå„ªå…ˆåº¦: å†è©¦è¡Œï¼ˆé‡è¦ãªãƒªã‚¯ã‚¨ã‚¹ãƒˆï¼‰\nif (request.priority === RequestPriority.HIGH) {\n  if (request.retryCount < 3) {\n    request.retryCount++;\n    this.waitingRequests.unshift(request);\n    return;\n  }\n}\n\n// LOWå„ªå…ˆåº¦: ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ï¼ˆã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚„æ¦‚ç®—å€¤ï¼‰\nif (request.priority === RequestPriority.LOW) {\n  const fallback = await this.getFallbackData(request);\n  request.resolve(fallback);\n}\n```\n\n## ä»–ã®å€™è£œ\n\n### å€™è£œ1: å¸¸ã«å†è©¦è¡Œï¼ˆæŒ‡æ•°ãƒãƒƒã‚¯ã‚ªãƒ•ï¼‰\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**ï¼š\n- ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆãƒªã‚¹ã‚¯ï¼ˆç‰¹ã«ä½å„ªå…ˆåº¦ï¼‰\n- ãƒªã‚½ãƒ¼ã‚¹ã®ç„¡é§„\n\n### å€™è£œ2: å¸¸ã«ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**ï¼š\n- å“è³ªä½ä¸‹ãƒªã‚¹ã‚¯\n- é‡è¦ãªãƒªã‚¯ã‚¨ã‚¹ãƒˆã§ã‚‚æ¦‚ç®—å€¤ã‚’ä½¿ç”¨\n\n## åˆ¤æ–­ç†ç”±\n\n### ç†ç”±1: å„ªå…ˆåº¦ãƒ™ãƒ¼ã‚¹\n\nãƒªã‚½ãƒ¼ã‚¹åŠ¹ç‡ã¨Quality ã®ãƒãƒ©ãƒ³ã‚¹\n\n### ç†ç”±2: ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆé˜²æ­¢\n\né‡è¦ãªãƒªã‚¯ã‚¨ã‚¹ãƒˆã«ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆè¨­å®š\n\n### ç†ç”±3: ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“\n\nä½å„ªå…ˆåº¦ã¯ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ã§å¿«é€Ÿå¿œç­”\n\n**SLAè¨­å®š**:\n- HIGH: æœ€å¤§15ç§’ï¼ˆ3å›å†è©¦è¡Œï¼‰\n- MEDIUM: æœ€å¤§8ç§’ï¼ˆ2å›å†è©¦è¡Œï¼‰\n- LOW: æœ€å¤§3ç§’ï¼ˆãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ï¼‰\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `skill_api_throttling_priority_queue_2025_11_25.md`\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€Œã‚¨ãƒ©ãƒ¼ãƒªã‚«ãƒãƒªãƒ¼æˆ¦ç•¥ï¼ˆå†è©¦è¡Œ vs ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ï¼‰ã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "skill-api-throttling-priority-queue"
    ]
  },
  {
    "slug": "why-priority-queue-dynamic-sort",
    "title": "å„ªå…ˆåº¦ã‚­ãƒ¥ãƒ¼ã®ã‚½ãƒ¼ãƒˆæˆ¦ç•¥ï¼ˆæ¯å›vsåˆæœŸåŒ–æ™‚ã®ã¿ï¼‰",
    "category": "Decisionsï¼ˆæŠ€è¡“é¸å®šãƒ»åˆ¤æ–­ï¼‰",
    "description": "å„ªå…ˆåº¦ã‚­ãƒ¥ãƒ¼ã®ã‚½ãƒ¼ãƒˆæˆ¦ç•¥ï¼ˆæ¯å›vsåˆæœŸåŒ–æ™‚ã®ã¿ï¼‰",
    "project": "novel-automation-system-v2",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"decision_why_priority_queue_dynamic_sort_2025_11_25\",\n  \"type\": \"decision\",\n  \"name\": \"å„ªå…ˆåº¦ã‚­ãƒ¥ãƒ¼ã®ã‚½ãƒ¼ãƒˆæˆ¦ç•¥ï¼ˆæ¯å›vsåˆæœŸåŒ–æ™‚ã®ã¿ï¼‰\",\n  \"decision_type\": \"architecture\",\n  \"tags\": [\"å„ªå…ˆåº¦ã‚­ãƒ¥ãƒ¼\", \"ã‚½ãƒ¼ãƒˆæˆ¦ç•¥\", \"å‹•çš„èª¿æ•´\", \"ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹\"],\n  \"source_project\": \"novel-automation-system-v2\",\n  \"chosen\": \"æ¯å›ã‚½ãƒ¼ãƒˆï¼ˆå‹•çš„å„ªå…ˆåº¦èª¿æ•´ï¼‰\",\n  \"alternatives\": [\"å„ªå…ˆåº¦ã”ã¨ã®åˆ¥ã‚­ãƒ¥ãƒ¼\", \"åˆæœŸåŒ–æ™‚ã®ã¿ã‚½ãƒ¼ãƒˆ\", \"ãƒ’ãƒ¼ãƒ—æ§‹é€ \"],\n  \"related_knowledge\": [\"skill_api_throttling_priority_queue_2025_11_25\"],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# å„ªå…ˆåº¦ã‚­ãƒ¥ãƒ¼ã®ã‚½ãƒ¼ãƒˆæˆ¦ç•¥ï¼ˆæ¯å›vsåˆæœŸåŒ–æ™‚ã®ã¿ï¼‰\n\n## ä½•ã‚’åˆ¤æ–­ã—ãŸã‹\n\nãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚­ãƒ¥ãƒ¼ã‚’æ¯å›ã‚½ãƒ¼ãƒˆã™ã‚‹ã‹ã€å„ªå…ˆåº¦ã”ã¨ã«åˆ¥ã‚­ãƒ¥ãƒ¼ã‚’ç®¡ç†ã™ã‚‹ã‹ã®é¸æŠã€‚\n\n## é¸ã‚“ã ã‚‚ã®\n\n**æ¯å›ã‚½ãƒ¼ãƒˆï¼ˆå‹•çš„å„ªå…ˆåº¦èª¿æ•´ï¼‰**\n\n```typescript\nthis.waitingRequests.sort((a, b) => {\n  const priorityOrder = { HIGH: 0, MEDIUM: 1, LOW: 2 };\n  const priorityDiff = priorityOrder[a.priority] - priorityOrder[b.priority];\n  return priorityDiff !== 0 ? priorityDiff : a.timestamp - b.timestamp;\n});\n```\n\n## ä»–ã®å€™è£œ\n\n### å€™è£œ1: å„ªå…ˆåº¦ã”ã¨ã®åˆ¥ã‚­ãƒ¥ãƒ¼ï¼ˆ3ã¤ã®ã‚­ãƒ¥ãƒ¼ç®¡ç†ï¼‰\n\n```typescript\nthis.highPriorityQueue = [];\nthis.mediumPriorityQueue = [];\nthis.lowPriorityQueue = [];\n\n// å–å¾—æ™‚\nconst next = this.highPriorityQueue.shift() ||\n             this.mediumPriorityQueue.shift() ||\n             this.lowPriorityQueue.shift();\n```\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**ï¼š\n- å®Ÿè£…è¤‡é›‘åº¦ãŒé«˜ã„\n- å„ªå…ˆåº¦å¤‰æ›´æ™‚ã®å‡¦ç†ãŒç…©é›‘\n- O(1)å–å¾—ã ãŒã‚³ãƒ¼ãƒ‰ä¿å®ˆæ€§ãŒä½ã„\n\n### å€™è£œ2: ãƒ’ãƒ¼ãƒ—æ§‹é€ \n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**ï¼š\n- O(log n)ã®æŒ¿å…¥ãƒ»å–å¾—ã ãŒã€å®Ÿè£…è¤‡é›‘\n- ã‚­ãƒ¥ãƒ¼ã‚µã‚¤ã‚º < 100ã§å®Ÿç”¨ä¸Šã®å·®ãŒãªã„\n- ãƒ‡ãƒãƒƒã‚°ãŒå›°é›£\n\n## åˆ¤æ–­ç†ç”±\n\n### ç†ç”±1: æŸ”è»Ÿæ€§\n\nå®Ÿè¡Œæ™‚ã®å„ªå…ˆåº¦å¤‰æ›´ã«å¯¾å¿œå¯èƒ½\n\n### ç†ç”±2: å®Ÿè£…ã‚·ãƒ³ãƒ—ãƒ«\n\nã‚³ãƒ¼ãƒ‰ä¿å®ˆæ€§ã¨å¯èª­æ€§ãŒé«˜ã„\n\n### ç†ç”±3: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å½±éŸ¿å°\n\nã‚­ãƒ¥ãƒ¼é•· < 100ã§ã‚½ãƒ¼ãƒˆã‚³ã‚¹ãƒˆã¯ç„¡è¦–å¯èƒ½ï¼ˆ< 1msï¼‰\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `skill_api_throttling_priority_queue_2025_11_25.md`\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€Œå„ªå…ˆåº¦ã‚­ãƒ¥ãƒ¼ã®ã‚½ãƒ¼ãƒˆæˆ¦ç•¥ï¼ˆæ¯å›vsåˆæœŸåŒ–æ™‚ã®ã¿ï¼‰ã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "skill-api-throttling-priority-queue"
    ]
  },
  {
    "slug": "why-promise-allsettled-over-all",
    "title": "Promise.allSettled() vs Promise.all() ã®é¸æŠ",
    "category": "Decisionsï¼ˆæŠ€è¡“é¸å®šãƒ»åˆ¤æ–­ï¼‰",
    "description": "Promise.allSettled() vs Promise.all() ã®é¸æŠ",
    "project": "novel-automation-system-v2",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"decision_why_promise_allsettled_over_all_2025_11_25\",\n  \"type\": \"decision\",\n  \"name\": \"Promise.allSettled() vs Promise.all() ã®é¸æŠ\",\n  \"decision_type\": \"tech_selection\",\n  \"tags\": [\"Promise\", \"ä¸¦åˆ—å‡¦ç†\", \"ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°\", \"ä¿¡é ¼æ€§\", \"ã‚°ãƒ¬ãƒ¼ã‚¹ãƒ•ãƒ«ãƒ‡ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³\"],\n  \"source_project\": \"novel-automation-system-v2\",\n  \"chosen\": \"Promise.allSettled()\",\n  \"alternatives\": [\"Promise.all()\", \"é †æ¬¡å®Ÿè¡Œï¼ˆasync/awaitï¼‰\", \"Promise.race()\"],\n  \"related_knowledge\": [\n    \"skill_eight_system_integrated_prompt_generation_2025_11_25\"\n  ],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# Promise.allSettled() vs Promise.all() ã®é¸æŠ\n\n## ä½•ã‚’åˆ¤æ–­ã—ãŸã‹\n\n8å¤§ã‚·ã‚¹ãƒ†ãƒ ãƒ‡ãƒ¼ã‚¿ä¸¦åˆ—åé›†ã«ãŠã„ã¦ã€1ã¤ã®ã‚·ã‚¹ãƒ†ãƒ å¤±æ•—æ™‚ã®å‡¦ç†ç¶™ç¶šã‚’é‡è¦–ã—ã€`Promise.allSettled()` ã‚’é¸æŠã—ãŸã€‚\n\n## é¸ã‚“ã ã‚‚ã®\n\n**Promise.allSettled()**\n\n```typescript\nconst results = await Promise.allSettled([\n  system1(), system2(), ..., system8()\n]);\n\n// å„çµæœã‚’å€‹åˆ¥ã«å‡¦ç†\nfor (const result of results) {\n  if (result.status === 'fulfilled') {\n    // æˆåŠŸ: ãƒ‡ãƒ¼ã‚¿ã‚’ä½¿ç”¨\n    processData(result.value);\n  } else {\n    // å¤±æ•—: ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ãƒ‡ãƒ¼ã‚¿ã‚’ä½¿ç”¨\n    console.warn('System failed:', result.reason);\n    processData(getFallbackData());\n  }\n}\n```\n\n**ç‰¹å¾´**ï¼š\n- ã™ã¹ã¦ã®PromiseãŒå®Œäº†ã™ã‚‹ã¾ã§å¾…æ©Ÿï¼ˆæˆåŠŸãƒ»å¤±æ•—å•ã‚ãšï¼‰\n- å„Promiseã®çµæœã‚’å€‹åˆ¥ã«ç¢ºèªå¯èƒ½\n- 1ã¤ã®å¤±æ•—ãŒå…¨ä½“ã«å½±éŸ¿ã—ãªã„\n\n## ä»–ã®å€™è£œ\n\n### å€™è£œ1: Promise.all()\n\n```typescript\ntry {\n  const [result1, result2, ..., result8] = await Promise.all([\n    system1(), system2(), ..., system8()\n  ]);\n  // ã™ã¹ã¦æˆåŠŸæ™‚ã®ã¿ã“ã“ã«åˆ°é”\n} catch (error) {\n  // 1ã¤ã§ã‚‚å¤±æ•—ã™ã‚‹ã¨å…¨ä½“ãŒä¸­æ–­\n  console.error('One of the systems failed:', error);\n}\n```\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**ï¼š\n- **ç†ç”±1**: æœ€åˆã®1ã¤ã®PromiseãŒæ‹’å¦ã•ã‚Œã‚‹ã¨ã€å…¨ä½“ãŒå³åº§ã«ä¸­æ–­\n- **ç†ç”±2**: ä»–ã®ã‚·ã‚¹ãƒ†ãƒ ã®çµæœã‚’å–å¾—ã§ããªã„ï¼ˆæ™‚é–“ã®ç„¡é§„ï¼‰\n- **ç†ç”±3**: ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ãŒ`all-or-nothing`ã§æŸ”è»Ÿæ€§ã«æ¬ ã‘ã‚‹\n- **ç†ç”±4**: 1ã¤ã®ã‚·ã‚¹ãƒ†ãƒ éšœå®³ã§å…¨ç”Ÿæˆãƒ—ãƒ­ã‚»ã‚¹ãŒåœæ­¢\n\n**ãƒˆãƒ¬ãƒ¼ãƒ‰ã‚ªãƒ•**ï¼š\n- âœ… å®Ÿè£…ãŒã‚·ãƒ³ãƒ—ãƒ«\n- âœ… ã™ã¹ã¦æˆåŠŸæ™‚ã®ã‚³ãƒ¼ãƒ‰ãŒç°¡æ½”\n- âŒ éƒ¨åˆ†çš„å¤±æ•—ã®è¨±å®¹åº¦ã‚¼ãƒ­\n- âŒ ãƒªã‚½ãƒ¼ã‚¹ã®ç„¡é§„ï¼ˆä»–ã®ã‚·ã‚¹ãƒ†ãƒ ã®çµæœã‚’ç ´æ£„ï¼‰\n\n### å€™è£œ2: é †æ¬¡å®Ÿè¡Œï¼ˆasync/awaitï¼‰\n\n```typescript\nconst result1 = await system1();\nconst result2 = await system2();\n// ...\nconst result8 = await system8();\n```\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**ï¼š\n- **ç†ç”±1**: å‡¦ç†æ™‚é–“ãŒç·šå½¢ã«å¢—åŠ ï¼ˆ3ç§’ Ã— 8 = 24ç§’ï¼‰\n- **ç†ç”±2**: ä¸¦åˆ—å‡¦ç†ã®åˆ©ç‚¹ã‚’æ´»ã‹ã›ãªã„\n- **ç†ç”±3**: æœ€åˆã®ã‚·ã‚¹ãƒ†ãƒ å¤±æ•—ã§å…¨ä½“ãŒåœæ­¢ï¼ˆtry-catchãªã—ã®å ´åˆï¼‰\n- **ç†ç”±4**: ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£ãŒä½ã„\n\n**ãƒˆãƒ¬ãƒ¼ãƒ‰ã‚ªãƒ•**ï¼š\n- âœ… ã‚³ãƒ¼ãƒ‰ãŒæœ€ã‚‚ã‚·ãƒ³ãƒ—ãƒ«\n- âœ… ãƒ‡ãƒãƒƒã‚°ãŒå®¹æ˜“\n- âŒ å‡¦ç†æ™‚é–“ãŒ8å€ï¼ˆ24ç§’ vs 3ç§’ï¼‰\n- âŒ ã‚¹ãƒ«ãƒ¼ãƒ—ãƒƒãƒˆãŒæ¥µç«¯ã«ä½ã„\n\n### å€™è£œ3: Promise.race()\n\n```typescript\nconst firstResult = await Promise.race([\n  system1(), system2(), ..., system8()\n]);\n// æœ€åˆã«å®Œäº†ã—ãŸ1ã¤ã®ã¿å–å¾—\n```\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**ï¼š\n- **ç†ç”±1**: æœ€åˆã®1ã¤ã®çµæœã—ã‹å–å¾—ã§ããªã„\n- **ç†ç”±2**: ä»–ã®7ã¤ã®ã‚·ã‚¹ãƒ†ãƒ çµæœã‚’ç ´æ£„\n- **ç†ç”±3**: 8å¤§ã‚·ã‚¹ãƒ†ãƒ çµ±åˆã®ç›®çš„ã«åˆã‚ãªã„\n- **ç†ç”±4**: ãƒ‡ãƒ¼ã‚¿ã®å®Œå…¨æ€§ãŒçŠ ç‰²ã«ãªã‚‹\n\n**ãƒˆãƒ¬ãƒ¼ãƒ‰ã‚ªãƒ•**ï¼š\n- âœ… æœ€ã‚‚é€Ÿã„ï¼ˆæœ€é€Ÿã®ã‚·ã‚¹ãƒ†ãƒ ã«ä¾å­˜ï¼‰\n- âŒ ãƒ‡ãƒ¼ã‚¿ãŒä¸å®Œå…¨\n- âŒ çµ±åˆãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã®å“è³ªãŒå¤§å¹…ä½ä¸‹\n\n## åˆ¤æ–­ç†ç”±\n\n### ç†ç”±1: ä¿¡é ¼æ€§ã¨ã‚°ãƒ¬ãƒ¼ã‚¹ãƒ•ãƒ«ãƒ‡ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³\n\n1ã¤ã®ã‚·ã‚¹ãƒ†ãƒ å¤±æ•—ãŒå…¨ä½“ã«å½±éŸ¿ã—ãªã„ï¼š\n\n**ã‚·ãƒŠãƒªã‚ªä¾‹**ï¼š\n- ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã‚·ã‚¹ãƒ†ãƒ : âœ… æˆåŠŸï¼ˆ3ç§’ï¼‰\n- å­¦ç¿’æ—…ç¨‹ã‚·ã‚¹ãƒ†ãƒ : âœ… æˆåŠŸï¼ˆ2ç§’ï¼‰\n- è¨˜æ†¶ã‚·ã‚¹ãƒ†ãƒ : âŒ **å¤±æ•—**ï¼ˆã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆï¼‰\n- ãƒ—ãƒ­ãƒƒãƒˆã‚·ã‚¹ãƒ†ãƒ : âœ… æˆåŠŸï¼ˆ2ç§’ï¼‰\n- åˆ†æã‚·ã‚¹ãƒ†ãƒ : âœ… æˆåŠŸï¼ˆ3ç§’ï¼‰\n- ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚·ã‚¹ãƒ†ãƒ : âœ… æˆåŠŸï¼ˆ1ç§’ï¼‰\n- ä¼ç·šã‚·ã‚¹ãƒ†ãƒ : âœ… æˆåŠŸï¼ˆ2ç§’ï¼‰\n- ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ã‚·ã‚¹ãƒ†ãƒ : âœ… æˆåŠŸï¼ˆ1ç§’ï¼‰\n\n**Promise.allSettled()ã®çµæœ**ï¼š\n- 7ã¤ã®ã‚·ã‚¹ãƒ†ãƒ ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—\n- è¨˜æ†¶ã‚·ã‚¹ãƒ†ãƒ ã®ã¿ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ãƒ‡ãƒ¼ã‚¿ä½¿ç”¨\n- **ç”Ÿæˆç¶™ç¶šå¯èƒ½**ï¼ˆå“è³ª: 85-90%ï¼‰\n\n**Promise.all()ã®çµæœ**ï¼š\n- ã™ã¹ã¦ã®ã‚·ã‚¹ãƒ†ãƒ ãƒ‡ãƒ¼ã‚¿ã‚’ç ´æ£„\n- **ç”Ÿæˆä¸­æ–­**ï¼ˆã‚¨ãƒ©ãƒ¼ï¼‰\n\n### ç†ç”±2: ãƒªã‚½ãƒ¼ã‚¹åŠ¹ç‡\n\nä»–ã®ã‚·ã‚¹ãƒ†ãƒ ã®å‡¦ç†çµæœã‚’ç„¡é§„ã«ã—ãªã„ï¼š\n\n```typescript\n// Promise.allSettled: 7ã¤ã®çµæœã‚’æ´»ç”¨\nconst usableData = results\n  .filter(r => r.status === 'fulfilled')\n  .map(r => r.value);\n\nconsole.log(`${usableData.length}/8 ã‚·ã‚¹ãƒ†ãƒ ã‹ã‚‰ ãƒ‡ãƒ¼ã‚¿å–å¾—`);\n// â†’ \"7/8 ã‚·ã‚¹ãƒ†ãƒ ã‹ã‚‰ãƒ‡ãƒ¼ã‚¿å–å¾—\"\n\n// Promise.all: ã™ã¹ã¦ç ´æ£„\n// â†’ ã‚¨ãƒ©ãƒ¼ã§çµ‚äº†ã€0ãƒ‡ãƒ¼ã‚¿\n```\n\n### ç†ç”±3: ç›£è¦–ã¨ãƒ­ã‚°\n\nå„ã‚·ã‚¹ãƒ†ãƒ ã®å¤±æ•—ã‚’å€‹åˆ¥ã«ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°å¯èƒ½ï¼š\n\n```typescript\nconst failures = results\n  .filter(r => r.status === 'rejected')\n  .map((r, i) => ({\n    system: systemNames[i],\n    reason: r.reason\n  }));\n\n// ã‚·ã‚¹ãƒ†ãƒ ã”ã¨ã®å¤±æ•—ç‡ã‚’ç›£è¦–\nmonitoringService.recordFailures(failures);\n\n// ã‚¢ãƒ©ãƒ¼ãƒˆè¨­å®š\nif (failures.length >= 3) {\n  alerting.sendNotification('Multiple system failures detected');\n}\n```\n\n### ç†ç”±4: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç‰¹æ€§\n\nå‡¦ç†æ™‚é–“ã¯æœ€ã‚‚é…ã„ã‚·ã‚¹ãƒ†ãƒ ã«ä¾å­˜ï¼š\n\n| æ–¹å¼ | å‡¦ç†æ™‚é–“ | æˆåŠŸæ™‚ãƒ‡ãƒ¼ã‚¿ | å¤±æ•—æ™‚ãƒ‡ãƒ¼ã‚¿ |\n|------|---------|------------|-------------|\n| Promise.allSettled() | 3ç§’ï¼ˆæœ€å¤§ï¼‰ | 8å€‹ | 7å€‹ï¼ˆéƒ¨åˆ†ï¼‰|\n| Promise.all() | 3ç§’ï¼ˆæœ€å¤§ï¼‰ | 8å€‹ | 0å€‹ï¼ˆå…¨å¤±æ•—ï¼‰|\n| é †æ¬¡å®Ÿè¡Œ | 24ç§’ï¼ˆåˆè¨ˆï¼‰ | 8å€‹ | 0å€‹ï¼ˆå…¨å¤±æ•—ï¼‰|\n| Promise.race() | 1ç§’ï¼ˆæœ€å°ï¼‰ | 1å€‹ | 0-1å€‹ |\n\n## ã“ã®åˆ¤æ–­ã‹ã‚‰å­¦ã¹ã‚‹ã“ã¨\n\n### å­¦ã³1: ä¿¡é ¼æ€§ > ã‚·ãƒ³ãƒ—ãƒ«ã•\n\nã‚³ãƒ¼ãƒ‰ã®ç°¡æ½”ã•ã‚ˆã‚Šã‚‚ã€ã‚·ã‚¹ãƒ†ãƒ ã®ä¿¡é ¼æ€§ã‚’å„ªå…ˆã™ã¹ãå ´é¢ãŒã‚ã‚‹ï¼š\n- æœ¬ç•ªç’°å¢ƒã§ã®å‹•ä½œ\n- éƒ¨åˆ†çš„å¤±æ•—ãŒè¨±å®¹ã•ã‚Œã‚‹å ´åˆ\n- ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ã‚’å„ªå…ˆã™ã‚‹å ´åˆ\n\n### å­¦ã³2: ã‚°ãƒ¬ãƒ¼ã‚¹ãƒ•ãƒ«ãƒ‡ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã®å®Ÿè£…\n\nå®Œç’§ãªçµæœãŒå¾—ã‚‰ã‚Œãªãã¦ã‚‚ã€éƒ¨åˆ†çš„ãªçµæœã§å‡¦ç†ã‚’ç¶™ç¶šï¼š\n- ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ãƒ‡ãƒ¼ã‚¿ã®æº–å‚™\n- å“è³ªã®æ®µéšçš„ä½ä¸‹ï¼ˆ100% â†’ 85%ï¼‰\n- ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¸ã®é€æ˜æ€§ï¼ˆã€Œä¸€éƒ¨ãƒ‡ãƒ¼ã‚¿ä¸è¶³ã€ã®é€šçŸ¥ï¼‰\n\n### å­¦ã³3: ç›£è¦–ã®é‡è¦æ€§\n\n`Promise.allSettled()` ã«ã‚ˆã‚Šã€ã‚·ã‚¹ãƒ†ãƒ ã”ã¨ã®å¤±æ•—ç‡ã‚’ç›£è¦–å¯èƒ½ï¼š\n- ã©ã®ã‚·ã‚¹ãƒ†ãƒ ãŒæœ€ã‚‚å¤±æ•—ã—ã‚„ã™ã„ã‹\n- å¤±æ•—ãƒ‘ã‚¿ãƒ¼ãƒ³ã®ç™ºè¦‹\n- ãƒ—ãƒ­ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãªå¯¾å¿œ\n\n## é©ç”¨å ´é¢\n\nã“ã®åˆ¤æ–­åŸºæº–ã¯ä»¥ä¸‹ã®å ´åˆã«é©ç”¨å¯èƒ½ï¼š\n\n- **è¤‡æ•°ã®ç‹¬ç«‹ã—ãŸãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ã‹ã‚‰æƒ…å ±åé›†ã™ã‚‹å ´åˆ**\n- **éƒ¨åˆ†çš„ãªãƒ‡ãƒ¼ã‚¿ã§ã‚‚å‡¦ç†ã‚’ç¶™ç¶šã—ãŸã„å ´åˆ**\n- **ã‚·ã‚¹ãƒ†ãƒ ã®ä¸€éƒ¨ãŒä¸å®‰å®šãªå ´åˆ**\n- **ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ã‚’å„ªå…ˆã™ã‚‹å ´åˆ**\n\nå…·ä½“ä¾‹ï¼š\n- ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£\n- å¤–éƒ¨APIã®çµ±åˆï¼ˆä¸€éƒ¨å¤±æ•—ã‚’è¨±å®¹ï¼‰\n- ãƒãƒƒãƒå‡¦ç†ï¼ˆä¸€éƒ¨å¤±æ•—ã§ã‚‚ä»–ã‚’å‡¦ç†ï¼‰\n- ãƒ‡ãƒ¼ã‚¿é›†ç´„ã‚·ã‚¹ãƒ†ãƒ \n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `skill_eight_system_integrated_prompt_generation_2025_11_25.md` - ã“ã®åˆ¤æ–­ã‚’é©ç”¨ã—ãŸå…·ä½“çš„ãªå®Ÿè£…\n- `workflow_chapter_generation_full_flow_2025_11_25.md` - 8å¤§ã‚·ã‚¹ãƒ†ãƒ çµ±åˆã‚’å«ã‚€å®Œå…¨ãªãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€ŒPromise.allSettled() vs Promise.all() ã®é¸æŠã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "skill-eight-system-integrated-prompt-generation"
    ]
  },
  {
    "slug": "why-tier-based-initialization",
    "title": "ãªãœTierãƒ™ãƒ¼ã‚¹ã®åˆæœŸåŒ–ã‚’é¸ã‚“ã ã‹",
    "category": "Decisionsï¼ˆæŠ€è¡“é¸å®šãƒ»åˆ¤æ–­ï¼‰",
    "description": "ãªãœTierãƒ™ãƒ¼ã‚¹ã®åˆæœŸåŒ–ã‚’é¸ã‚“ã ã‹",
    "project": "novel-automation-system-v2",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"decision_why_tier_based_initialization_2025_11_25\",\n  \"type\": \"decision\",\n  \"name\": \"ãªãœTierãƒ™ãƒ¼ã‚¹ã®åˆæœŸåŒ–ã‚’é¸ã‚“ã ã‹\",\n  \"decision_type\": \"architecture\",\n  \"tags\": [\"åˆæœŸåŒ–\", \"ä¾å­˜é–¢ä¿‚\", \"Tierã‚·ã‚¹ãƒ†ãƒ \", \"ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«\", \"å®‰å®šæ€§\"],\n  \"source_project\": \"novel-automation-system-v2\",\n  \"chosen\": \"Tierãƒ™ãƒ¼ã‚¹ã®æ®µéšçš„åˆæœŸåŒ–ã‚·ã‚¹ãƒ†ãƒ \",\n  \"alternatives\": [\"å˜ç´”ãªé †åºæŒ‡å®š\", \"ä¾å­˜ã‚°ãƒ©ãƒ•ã®å‹•çš„è§£æ±º\", \"é…å»¶åˆæœŸåŒ–\"],\n  \"related_knowledge\": [\n    \"skill_lifecycle_tier_system_2025_11_25\",\n    \"decision_why_dependency_injection_architecture_2025_11_25\"\n  ],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# ãªãœTierãƒ™ãƒ¼ã‚¹ã®åˆæœŸåŒ–ã‚’é¸ã‚“ã ã‹\n\n## ä½•ã‚’åˆ¤æ–­ã—ãŸã‹\n\nã‚·ã‚¹ãƒ†ãƒ ã®åˆæœŸåŒ–æ–¹æ³•ã¨ã—ã¦ã€Tierãƒ™ãƒ¼ã‚¹ã®æ®µéšçš„åˆæœŸåŒ–ã«ã™ã‚‹ã‹ã€ä»–ã®æ–¹æ³•ã‚’æ¡ç”¨ã™ã‚‹ã‹ã€‚\n\n## é¸ã‚“ã ã‚‚ã®\n\n**Tierãƒ™ãƒ¼ã‚¹ã®æ®µéšçš„åˆæœŸåŒ–ã‚·ã‚¹ãƒ†ãƒ ï¼ˆ5éšå±¤ï¼‰**\n\nã‚·ã‚¹ãƒ†ãƒ ã‚’5ã¤ã®Tierã«åˆ†é¡ã—ã€ä¸‹ä½Tierã‹ã‚‰é †ã«åˆæœŸåŒ–ã€‚åŒä¸€Tierå†…ã¯ä¸¦åˆ—åˆæœŸåŒ–å¯èƒ½ã€‚\n\n## åˆ¤æ–­ç†ç”±\n\n### ç†ç”±1: å¾ªç’°ä¾å­˜ã®å®Œå…¨é˜²æ­¢\n\nTierã‚·ã‚¹ãƒ†ãƒ ã«ã‚ˆã‚Šã€ä¾å­˜ã¯å¿…ãšä¸‹ä½â†’ä¸Šä½ï¼š\n\n```typescript\n// Tier 2ã®MemorySystemã¯Tier 1ã«ä¾å­˜\n// Tier 3ã®CharacterSystemã¯Tier 2ã«ä¾å­˜\n// â†’ å¾ªç’°ä¾å­˜ã¯æ§‹é€ çš„ã«ä¸å¯èƒ½\n```\n\n### ç†ç”±2: ä¸¦åˆ—åˆæœŸåŒ–ã®æœ€é©åŒ–\n\nåŒä¸€Tierå†…ã®ã‚·ã‚¹ãƒ†ãƒ ã¯ä¸¦åˆ—åˆæœŸåŒ–å¯èƒ½ï¼š\n\n```typescript\n// Tier 3å†…ã®3ã¤ã®ã‚·ã‚¹ãƒ†ãƒ ã‚’ä¸¦åˆ—åˆæœŸåŒ–\nawait Promise.all([\n    initCharacterSystem(),\n    initPlotSystem(),\n    initParametersSystem()\n]);\n// èµ·å‹•æ™‚é–“ã‚’50%çŸ­ç¸®\n```\n\n### ç†ç”±3: ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã®æ˜ç¢ºåŒ–\n\nå¿…é ˆã‚·ã‚¹ãƒ†ãƒ ã®å¤±æ•—ã¯å³åº§ã«å…¨ä½“ã‚’åœæ­¢ï¼š\n\n```typescript\nif (system.required && initFailed) {\n    throw new Error(`Critical system ${name} failed at Tier ${tier}`);\n}\n```\n\n### ç†ç”±4: ãƒ‡ãƒãƒƒã‚°ã®å®¹æ˜“åŒ–\n\nåˆæœŸåŒ–ã®å„æ®µéšã‚’ãƒ­ã‚°ã«è¨˜éŒ²ï¼š\n\n```typescript\nconsole.log(`Initializing Tier ${tier}: ${systems.join(', ')}`);\n// Tierã”ã¨ã«é€²æ—ãŒæ˜ç¢º\n```\n\n## ã“ã®åˆ¤æ–­ã‹ã‚‰å­¦ã¹ã‚‹ã“ã¨\n\n**å­¦ã³1: åˆ¶ç´„ã¯å“è³ªã‚’å‘ä¸Šã•ã›ã‚‹**\n- Tieråˆ¶ç´„ã«ã‚ˆã‚Šã€å¾ªç’°ä¾å­˜ã‚’é˜²æ­¢\n- ä¸¦åˆ—åŒ–å¯èƒ½æ€§ãŒæ˜ç¢º\n- ã‚·ã‚¹ãƒ†ãƒ å®‰å®šæ€§99.9%é”æˆã®éµ\n\n**å­¦ã³2: æ˜ç¤ºçš„ãªé †åºä»˜ã‘ã¯ä¿å®ˆæ€§ã®éµ**\n- åˆæœŸåŒ–é †åºãŒä¸€ç›®ç­ç„¶\n- æ–°ã—ã„ã‚·ã‚¹ãƒ†ãƒ ã®è¿½åŠ ãŒå®¹æ˜“\n- ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆä¸è¦ã®è‡ªå·±èª¬æ˜çš„ãªè¨­è¨ˆ\n\n## é©ç”¨å ´é¢\n\n- è¤‡é›‘ãªä¾å­˜é–¢ä¿‚ã‚’æŒã¤ã‚·ã‚¹ãƒ†ãƒ \n- èµ·å‹•æ™‚é–“ã‚’æœ€é©åŒ–ã—ãŸã„\n- å¾ªç’°ä¾å­˜ã‚’é˜²æ­¢ã—ãŸã„\n- ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã‚’æ˜ç¢ºã«ã—ãŸã„\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `skill_lifecycle_tier_system_2025_11_25.md`\n- `workflow_system_initialization_workflow_2025_11_25.md`\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€ŒãªãœTierãƒ™ãƒ¼ã‚¹ã®åˆæœŸåŒ–ã‚’é¸ã‚“ã ã‹ã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "skill-lifecycle-tier-system",
      "decision-why-dependency-injection-architecture"
    ]
  },
  {
    "slug": "why-unified-cache-coordinator",
    "title": "è¨˜æ†¶éšå±¤é–“ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥æˆ¦ç•¥ï¼ˆç‹¬ç«‹vså…±æœ‰ï¼‰",
    "category": "Decisionsï¼ˆæŠ€è¡“é¸å®šãƒ»åˆ¤æ–­ï¼‰",
    "description": "è¨˜æ†¶éšå±¤é–“ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥æˆ¦ç•¥ï¼ˆç‹¬ç«‹vså…±æœ‰ï¼‰",
    "project": "novel-automation-system-v2",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"decision_why_unified_cache_coordinator_2025_11_25\",\n  \"type\": \"decision\",\n  \"name\": \"è¨˜æ†¶éšå±¤é–“ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥æˆ¦ç•¥ï¼ˆç‹¬ç«‹vså…±æœ‰ï¼‰\",\n  \"decision_type\": \"architecture\",\n  \"tags\": [\"ã‚­ãƒ£ãƒƒã‚·ãƒ¥ç®¡ç†\", \"éšå±¤é–“åŒæœŸ\", \"ä¸€è²«æ€§ä¿è¨¼\", \"ä¾å­˜é–¢ä¿‚ç®¡ç†\"],\n  \"source_project\": \"novel-automation-system-v2\",\n  \"chosen\": \"CacheCoordinator ã«ã‚ˆã‚‹çµ±åˆç®¡ç†\",\n  \"alternatives\": [\"å„éšå±¤ãŒç‹¬ç«‹ã—ã¦ã‚­ãƒ£ãƒƒã‚·ãƒ¥ç®¡ç†\", \"ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚­ãƒ£ãƒƒã‚·ãƒ¥\"],\n  \"related_knowledge\": [\"skill_multi_layer_cache_coordination_2025_11_25\"],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# è¨˜æ†¶éšå±¤é–“ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥æˆ¦ç•¥ï¼ˆç‹¬ç«‹vså…±æœ‰ï¼‰\n\n## ä½•ã‚’åˆ¤æ–­ã—ãŸã‹\n\nå„éšå±¤ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ç‹¬ç«‹ç®¡ç†ã™ã‚‹ã‹ã€å…±æœ‰ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚³ãƒ¼ãƒ‡ã‚£ãƒãƒ¼ã‚¿ãƒ¼ã§çµ±åˆç®¡ç†ã™ã‚‹ã‹ã®é¸æŠã€‚\n\n## é¸ã‚“ã ã‚‚ã®\n\n**CacheCoordinator ã«ã‚ˆã‚‹çµ±åˆç®¡ç†**\n\n```typescript\n// éšå±¤é–“ã®ä¾å­˜é–¢ä¿‚ã‚’ç®¡ç†\ninterface CacheEntry<T> {\n  key: string;\n  level: MemoryLevel;\n  dependencies: string[]; // ä»–ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚­ãƒ¼\n}\n\n// æ›´æ–°æ™‚ã«ä¾å­˜ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚‚ç„¡åŠ¹åŒ–\nasync invalidateCache(pattern: string): Promise<void> {\n  await this.cascadeInvalidate(key); // ã‚«ã‚¹ã‚±ãƒ¼ãƒ‰ç„¡åŠ¹åŒ–\n}\n```\n\n## ä»–ã®å€™è£œ\n\n### å€™è£œ1: å„éšå±¤ãŒç‹¬ç«‹ã—ã¦ã‚­ãƒ£ãƒƒã‚·ãƒ¥ç®¡ç†\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**ï¼š\n- ãƒ‡ãƒ¼ã‚¿ä¸ä¸€è‡´ã®å±é™ºæ€§ãŒé«˜ã„\n- ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãŒå…¨éšå±¤ã§ã‚ºãƒ¬ã‚‹å¯èƒ½æ€§\n- æ‰‹å‹•åŒæœŸãŒå¿…è¦ã§ä¿å®ˆæ€§ãŒä½ã„\n\n## åˆ¤æ–­ç†ç”±\n\n### ç†ç”±1: ä¸€è²«æ€§ä¿è¨¼\n\nä¾å­˜é–¢ä¿‚ã‚’æ˜ç¤ºçš„ã«ç®¡ç†ã—ã€ãƒ‡ãƒ¼ã‚¿ä¸ä¸€è‡´ã‚’é˜²æ­¢\n\n### ç†ç”±2: è‡ªå‹•åŒæœŸ\n\nã‚­ãƒ£ãƒƒã‚·ãƒ¥ç„¡åŠ¹åŒ–ã‚’è‡ªå‹•ã§ã‚«ã‚¹ã‚±ãƒ¼ãƒ‰å‡¦ç†\n\n### ç†ç”±3: ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³æ€§\n\nè¤‡æ•°å±¤ã®æ›´æ–°ã‚’åŸå­çš„ã«å®Ÿè¡Œ\n\n**ãƒˆãƒ¬ãƒ¼ãƒ‰ã‚ªãƒ•**: è¤‡é›‘åº¦å¢—åŠ ï¼ˆ+20è¡Œç¨‹åº¦ï¼‰vs ä¿¡é ¼æ€§å‘ä¸Šï¼ˆãƒã‚°å‰Šæ¸› ~50%ï¼‰\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `skill_multi_layer_cache_coordination_2025_11_25.md`\n- `skill_unified_memory_access_api_2025_11_25.md`\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€Œè¨˜æ†¶éšå±¤é–“ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥æˆ¦ç•¥ï¼ˆç‹¬ç«‹vså…±æœ‰ï¼‰ã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "skill-multi-layer-cache-coordination"
    ]
  },
  {
    "slug": "why-unified-memory-system",
    "title": "ãªãœMemoryManagerä¸­å¿ƒã®ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã«ã—ãŸã‹",
    "category": "Decisionsï¼ˆæŠ€è¡“é¸å®šãƒ»åˆ¤æ–­ï¼‰",
    "description": "ãªãœMemoryManagerä¸­å¿ƒã®ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã«ã—ãŸã‹",
    "project": "novel-automation-system-v2",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"decision_why_unified_memory_system_2025_11_25\",\n  \"type\": \"decision\",\n  \"name\": \"ãªãœMemoryManagerä¸­å¿ƒã®ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã«ã—ãŸã‹\",\n  \"decision_type\": \"architecture\",\n  \"tags\": [\"ãƒ¡ãƒ¢ãƒªç®¡ç†\", \"çµ±åˆã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£\", \"ãƒ‡ãƒ¼ã‚¿æ•´åˆæ€§\", \"ä¸­å¤®é›†æ¨©\", \"è¨­è¨ˆåˆ¤æ–­\"],\n  \"source_project\": \"novel-automation-system-v2\",\n  \"chosen\": \"MemoryManagerä¸­å¿ƒã®çµ±ä¸€è¨˜æ†¶ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£\",\n  \"alternatives\": [\"å„ã‚·ã‚¹ãƒ†ãƒ ãŒç‹¬è‡ªã®è¨˜æ†¶ç®¡ç†\", \"ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ä¸­å¿ƒã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£\", \"ã‚¤ãƒ™ãƒ³ãƒˆã‚½ãƒ¼ã‚·ãƒ³ã‚°\"],\n  \"related_knowledge\": [\n    \"skill_memory_system_integration_2025_11_25\",\n    \"skill_cache_coordination_techniques_2025_11_25\"\n  ],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# ãªãœMemoryManagerä¸­å¿ƒã®ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã«ã—ãŸã‹\n\n## ä½•ã‚’åˆ¤æ–­ã—ãŸã‹\n\nã‚·ã‚¹ãƒ†ãƒ å…¨ä½“ã®ãƒ‡ãƒ¼ã‚¿ç®¡ç†æˆ¦ç•¥ã¨ã—ã¦ã€MemoryManagerã‚’ä¸­æ ¸ã¨ã—ãŸçµ±ä¸€è¨˜æ†¶ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã«ã™ã‚‹ã‹ã€å„ã‚·ã‚¹ãƒ†ãƒ ãŒç‹¬è‡ªã«è¨˜æ†¶ç®¡ç†ã™ã‚‹ã‹ã€‚\n\n## é¸ã‚“ã ã‚‚ã®\n\n**MemoryManagerä¸­å¿ƒã®çµ±ä¸€è¨˜æ†¶ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£**\n\nå…¨ã‚·ã‚¹ãƒ†ãƒ ãŒå˜ä¸€ã®MemoryManagerã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’å…±æœ‰ã—ã€ãƒ‡ãƒ¼ã‚¿ã®ä¿å­˜ãƒ»å–å¾—ã‚’MemoryManagerã‚’é€šã—ã¦è¡Œã†æ–¹å¼ã€‚\n\n## ä»–ã®å€™è£œ\n\n### å€™è£œ1: å„ã‚·ã‚¹ãƒ†ãƒ ãŒç‹¬è‡ªã®è¨˜æ†¶ç®¡ç†\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n- ãƒ‡ãƒ¼ã‚¿ã®é‡è¤‡ãŒç™ºç”Ÿ\n- æ•´åˆæ€§ã®ä¿è¨¼ãŒå›°é›£\n- å„ã‚·ã‚¹ãƒ†ãƒ ã§ä¿å­˜ãƒ­ã‚¸ãƒƒã‚¯ã‚’å®Ÿè£…ã™ã‚‹å¿…è¦\n\n### å€™è£œ2: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ä¸­å¿ƒã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n- ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¢ã‚¯ã‚»ã‚¹ã®ã‚ªãƒ¼ãƒãƒ¼ãƒ˜ãƒƒãƒ‰\n- ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ€§èƒ½ã®ä½ä¸‹\n- éšå±¤çš„è¨˜æ†¶ã®å®Ÿç¾ãŒå›°é›£\n\n### å€™è£œ3: ã‚¤ãƒ™ãƒ³ãƒˆã‚½ãƒ¼ã‚·ãƒ³ã‚°\n\n**ãªãœé¸ã°ãªã‹ã£ãŸã‹**:\n- å®Ÿè£…ã®è¤‡é›‘ã•\n- ã‚¯ã‚¨ãƒªã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å•é¡Œ\n- AIå°èª¬ç”Ÿæˆã«ã¯éå‰°ãªä»•çµ„ã¿\n\n## åˆ¤æ–­ç†ç”±\n\n### ç†ç”±1: ãƒ‡ãƒ¼ã‚¿æ•´åˆæ€§ã®100%ä¿è¨¼\n\nå…¨ã‚·ã‚¹ãƒ†ãƒ ãŒåŒã˜MemoryManagerã‚’å‚ç…§ã™ã‚‹ã“ã¨ã§ã€ãƒ‡ãƒ¼ã‚¿ã®ä¸æ•´åˆãŒç™ºç”Ÿã—ãªã„ï¼š\n\n```typescript\n// å…¨ã‚·ã‚¹ãƒ†ãƒ ãŒåŒã˜ãƒ‡ãƒ¼ã‚¿ã‚’å‚ç…§\nconst foreshadowingManager = new ForeshadowingManager(memoryManager);\nconst characterManager = new CharacterManager(memoryManager);\nconst plotManager = new PlotManager(memoryManager);\n\n// ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼æƒ…å ±ã®æ›´æ–°ãŒå³åº§ã«å…¨ã‚·ã‚¹ãƒ†ãƒ ã«åæ˜ \nawait characterManager.updateCharacter(character);\nconst plot = await plotManager.generatePlot(chapterNumber);\n// â†‘ æœ€æ–°ã®ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼æƒ…å ±ãŒè‡ªå‹•çš„ã«ä½¿ç”¨ã•ã‚Œã‚‹\n```\n\n### ç†ç”±2: é‡è¤‡è§£æ±ºã®è‡ªå‹•åŒ–\n\nMemoryManagerã®`unifiedSearch()`ãŒè‡ªå‹•çš„ã«é‡è¤‡ã‚’çµ±åˆï¼š\n\n```typescript\n// åŒã˜ä¼ç·šãŒè¤‡æ•°éšå±¤ã«å­˜åœ¨ã—ã¦ã‚‚1ã¤ã«ã¾ã¨ã‚ã‚‰ã‚Œã‚‹\nconst result = await memoryManager.unifiedSearch(\n    'foreshadowing hero-secret',\n    [MemoryLevel.LONG_TERM, MemoryLevel.MID_TERM, MemoryLevel.SHORT_TERM]\n);\n// é‡è¤‡è§£æ±ºã‚·ã‚¹ãƒ†ãƒ ãŒè‡ªå‹•çš„ã«çµ±åˆ\n// é–‹ç™ºè€…ã¯é‡è¤‡ã‚’æ„è­˜ã™ã‚‹å¿…è¦ãŒãªã„\n```\n\n### ç†ç”±3: éšå±¤æŒ¯ã‚Šåˆ†ã‘ã®è‡ªå‹•åŒ–\n\n`processChapter()`ãŒè‡ªå‹•çš„ã«æœ€é©ãªéšå±¤ã«ä¿å­˜ï¼š\n\n```typescript\n// é–‹ç™ºè€…ã¯éšå±¤ã‚’æ„è­˜ã—ãªã„\nawait memoryManager.processChapter(chapter);\n\n// MemoryManagerãŒè‡ªå‹•çš„ã«åˆ¤æ–­:\n// - æœ€æ–°ãƒ‡ãƒ¼ã‚¿ â†’ SHORT_TERM\n// - ã‚¢ãƒ¼ã‚¯å†…ãƒ‡ãƒ¼ã‚¿ â†’ MID_TERM\n// - ä½œå“å…¨ä½“ãƒ‡ãƒ¼ã‚¿ â†’ LONG_TERM\n```\n\n### ç†ç”±4: ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®å”èª¿\n\néšå±¤é–“ã§ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’å”èª¿ã•ã›ã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’300%å‘ä¸Šï¼š\n\n```typescript\n// ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã¯éšå±¤ã‚’æ¨ªæ–­ã—ã¦å…±æœ‰\n// SHORT_TERMã«ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã•ã‚ŒãŸãƒ‡ãƒ¼ã‚¿ã¯\n// MID_TERMã‚„LONG_TERMã®æ¤œç´¢ã§ã‚‚åˆ©ç”¨ã•ã‚Œã‚‹\n```\n\n### ç†ç”±5: ã‚³ãƒ¼ãƒ‰é‡è¤‡ã®å‰Šæ¸›\n\nChapterå‡¦ç†ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚’å†åˆ©ç”¨å¯èƒ½ï¼š\n\n```typescript\n// ã©ã®ã‚·ã‚¹ãƒ†ãƒ ã‚‚åŒã˜ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚’ä½¿ç”¨\nawait memoryManager.processChapter(chapterData);\nawait memoryManager.processChapter(foreshadowingData);\nawait memoryManager.processChapter(characterData);\n```\n\n## ã“ã®åˆ¤æ–­ã‹ã‚‰å­¦ã¹ã‚‹ã“ã¨\n\n**å­¦ã³1: ä¸­å¤®é›†æ¨©ã¯æ•´åˆæ€§ã®éµ**\n- ãƒ‡ãƒ¼ã‚¿ã®ä¸€å…ƒç®¡ç†ã§ä¸æ•´åˆã‚’é˜²æ­¢\n- å˜ä¸€è²¬ä»»ã®åŸå‰‡ã‚’ã‚·ã‚¹ãƒ†ãƒ ãƒ¬ãƒ™ãƒ«ã§é©ç”¨\n- ãƒˆãƒ¬ãƒ¼ãƒ‰ã‚ªãƒ•ã¯å˜ä¸€éšœå®³ç‚¹\n\n**å­¦ã³2: è‡ªå‹•åŒ–ã¯å“è³ªå‘ä¸Šã®éµ**\n- é‡è¤‡è§£æ±ºã€éšå±¤æŒ¯ã‚Šåˆ†ã‘ã‚’è‡ªå‹•åŒ–\n- äººçš„ãƒŸã‚¹ã‚’æ’é™¤\n- é–‹ç™ºè€…ã¯æœ¬è³ªçš„ãªãƒ­ã‚¸ãƒƒã‚¯ã«é›†ä¸­\n\n**å­¦ã³3: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã¯è¨­è¨ˆæ¬¡ç¬¬**\n- ã‚­ãƒ£ãƒƒã‚·ãƒ¥å”èª¿ã§300%å‘ä¸Š\n- ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãƒ¬ãƒ™ãƒ«ã®æœ€é©åŒ–ãŒåŠ¹æœçš„\n- å¾Œã‹ã‚‰æœ€é©åŒ–ã™ã‚‹ã®ã¯å›°é›£\n\n## é©ç”¨å ´é¢\n\n- ãƒ‡ãƒ¼ã‚¿æ•´åˆæ€§ãŒæœ€å„ªå…ˆã®ã‚·ã‚¹ãƒ†ãƒ \n- è¤‡æ•°ã®ã‚µãƒ–ã‚·ã‚¹ãƒ†ãƒ ãŒãƒ‡ãƒ¼ã‚¿ã‚’å…±æœ‰\n- éšå±¤çš„ãªãƒ‡ãƒ¼ã‚¿ç®¡ç†ãŒå¿…è¦\n- ã‚­ãƒ£ãƒƒã‚·ãƒ¥æˆ¦ç•¥ã‚’çµ±ä¸€ã—ãŸã„\n\n## ãƒˆãƒ¬ãƒ¼ãƒ‰ã‚ªãƒ•\n\n### æ¡ç”¨ã—ãŸè¨­è¨ˆã®æ¬ ç‚¹\n\n1. **å˜ä¸€éšœå®³ç‚¹**: MemoryManagerãŒæ•…éšœã™ã‚‹ã¨å…¨ä½“ãŒåœæ­¢\n2. **ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£**: æ°´å¹³ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°ãŒå›°é›£\n3. **ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡**: å…¨ãƒ‡ãƒ¼ã‚¿ã‚’ãƒ¡ãƒ¢ãƒªã«ä¿æŒ\n\n### ãªãœå—ã‘å…¥ã‚ŒãŸã‹\n\n- AIå°èª¬ç”Ÿæˆã¯ã‚·ãƒ³ã‚°ãƒ«ãƒ—ãƒ­ã‚»ã‚¹ã§ååˆ†\n- ãƒ‡ãƒ¼ã‚¿æ•´åˆæ€§100%ã®ä¾¡å€¤ãŒãƒªã‚¹ã‚¯ã‚’ä¸Šå›ã‚‹\n- ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡ã¯æœ€é©åŒ–ã§åˆ¶å¾¡å¯èƒ½ï¼ˆ800MBä»¥å†…ï¼‰\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `skill_memory_system_integration_2025_11_25.md`\n- `skill_cache_coordination_techniques_2025_11_25.md`\n- `decision_why_dependency_injection_architecture_2025_11_25.md`\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€ŒãªãœMemoryManagerä¸­å¿ƒã®ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã«ã—ãŸã‹ã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "skill-memory-system-integration",
      "skill-cache-coordination-techniques"
    ]
  },
  {
    "slug": "ai-content-generation-flow",
    "title": "AIã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”Ÿæˆãƒ•ãƒ­ãƒ¼",
    "category": "Workflowsï¼ˆãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ï¼‰",
    "description": "AIã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”Ÿæˆãƒ•ãƒ­ãƒ¼",
    "project": "ai-document-generator",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"workflow_ai_content_generation_flow_2025_04_11\",\n  \"type\": \"workflow\",\n  \"name\": \"AIã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”Ÿæˆãƒ•ãƒ­ãƒ¼\",\n  \"tags\": [\"ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼\", \"AIç”Ÿæˆ\", \"Gemini API\", \"ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚°\", \"ã‚»ã‚¯ã‚·ãƒ§ãƒ³åˆ¥ç”Ÿæˆ\", \"ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°\"],\n  \"source_project\": \"ai-document-generator\",\n  \"related_knowledge\": [\"skill_ai_prompt_section_specific_2025_04_11\", \"decision_ai_gemini_vs_openai_2025_04_11\", \"workflow_document_creation_full_flow_2025_04_11\"],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-04-11\",\n  \"updated\": \"2025-04-11\"\n}\n```\n\n# AIã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”Ÿæˆãƒ•ãƒ­ãƒ¼\n\n## ä½•ã®ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‹\n\nãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã‚°ãƒ­ãƒ¼ãƒãƒ«ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’è¨­å®šã—ã€AIãŒãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®å„ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’è‡ªå‹•ç”Ÿæˆã™ã‚‹ãƒ•ãƒ­ãƒ¼ã€‚\n\n## ãƒ•ãƒ­ãƒ¼å…¨ä½“å›³\n\n```\n[1. ã‚°ãƒ­ãƒ¼ãƒãƒ«ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿è¨­å®š]\n   â”‚\n   â”œâ”€ ã‚¿ã‚¤ãƒˆãƒ«ã€ç›®çš„ã€å¯¾è±¡è€…\n   â”œâ”€ æ¥­ç¨®ã€ãƒˆãƒ¼ãƒ³\n   â”œâ”€ AIç”Ÿæˆãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ï¼ˆtemperatureã€maxTokensï¼‰\n   â”‚\n   â–¼\n[2. ç”Ÿæˆãƒ¢ãƒ¼ãƒ‰é¸æŠ]\n   â”‚\n   â”œâ”€ ä¸€æ‹¬ç”Ÿæˆ OR ã‚»ã‚¯ã‚·ãƒ§ãƒ³åˆ¥ç”Ÿæˆ\n   â”‚\n   â–¼\n[3. ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”Ÿæˆ]\n   â”‚\n   â”œâ”€ ã‚»ã‚¯ã‚·ãƒ§ãƒ³å®šç¾© + ã‚°ãƒ­ãƒ¼ãƒãƒ«ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ â†’ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ\n   â”œâ”€ ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã”ã¨ã«å°‚ç”¨ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä½¿ç”¨\n   â”‚\n   â–¼\n[4. Gemini APIå‘¼ã³å‡ºã—]\n   â”‚\n   â”œâ”€ APIãƒªã‚¯ã‚¨ã‚¹ãƒˆé€ä¿¡\n   â”œâ”€ ãƒ¬ã‚¹ãƒãƒ³ã‚¹å¾…æ©Ÿï¼ˆ2-5ç§’ï¼‰\n   â”‚\n   â–¼\n[5. ãƒ¬ã‚¹ãƒãƒ³ã‚¹å‡¦ç†]\n   â”‚\n   â”œâ”€ JSON/ãƒ†ã‚­ã‚¹ãƒˆè§£æ\n   â”œâ”€ ã‚»ã‚¯ã‚·ãƒ§ãƒ³åŒºåˆ‡ã‚Šè§£æ\n   â”œâ”€ ã‚¨ãƒ©ãƒ¼ãƒã‚§ãƒƒã‚¯\n   â”‚\n   â–¼\n[6. ã‚³ãƒ³ãƒ†ãƒ³ãƒ„é©ç”¨]\n   â”‚\n   â”œâ”€ sectionStoreã«ä¿å­˜\n   â”œâ”€ ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼è¡¨ç¤º\n   â”‚\n   â–¼\n[7. ãƒ¦ãƒ¼ã‚¶ãƒ¼ç¢ºèª]\n   â”‚\n   â”œâ”€ æº€è¶³ â†’ ç¢ºå®š\n   â”œâ”€ ä¸æº€è¶³ â†’ å†ç”Ÿæˆ OR ãƒªãƒ•ã‚¡ã‚¤ãƒ³ OR æ‰‹å‹•ç·¨é›†\n   â”‚\n   â””â”€ [3ã«æˆ»ã‚‹]\n```\n\n## å„ã‚¹ãƒ†ãƒƒãƒ—ã®è©³ç´°\n\n### ã‚¹ãƒ†ãƒƒãƒ—1ï¼šã‚°ãƒ­ãƒ¼ãƒãƒ«ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿è¨­å®š\n\n**ä½•ã‚’ã™ã‚‹ã‹**ï¼š\nãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆå…¨ä½“ã«é©ç”¨ã•ã‚Œã‚‹ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’è¨­å®šã€‚\n\n**å…¥åŠ›**ï¼š\n```typescript\ninterface GlobalParameters {\n  title: string;           // ã€ŒFIND to DO ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆèª¬æ˜è³‡æ–™ã€\n  purpose: string;         // ã€Œè³‡é‡‘èª¿é”ãƒ»ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼å‹Ÿé›†ã€\n  targetAudience: string;  // ã€ŒæŠ•è³‡å®¶ãƒ»æ•™è‚²æ©Ÿé–¢ãƒ»ä¼æ¥­ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼ã€\n  industry: string;        // ã€Œæ•™è‚²ãƒ»ã‚­ãƒ£ãƒªã‚¢æ”¯æ´ã€\n  companyName?: string;    // ã€ŒFIND to DOã€\n  productName?: string;\n  tone: string;            // ã€Œãƒ—ãƒ­ãƒ•ã‚§ãƒƒã‚·ãƒ§ãƒŠãƒ«ã‹ã¤æƒ…ç†±çš„ã€\n  temperature: number;     // 0.7\n  maxTokens: number;       // 2048\n}\n```\n\n**æŠ€è¡“å®Ÿè£…**ï¼š\n```typescript\n// src/components/editor/GlobalParametersForm.tsx\nconst globalParameters = useDocumentStore((state) => state.globalParameters);\nconst updateGlobalParameters = useDocumentStore((state) => state.updateGlobalParameters);\n```\n\n**ãªãœã“ã®é †åºã‹**ï¼š\n- ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”Ÿæˆã«ã‚°ãƒ­ãƒ¼ãƒãƒ«ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãŒå¿…è¦\n- ã™ã¹ã¦ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§å…±é€šã®ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚’æä¾›\n\n---\n\n### ã‚¹ãƒ†ãƒƒãƒ—2ï¼šç”Ÿæˆãƒ¢ãƒ¼ãƒ‰é¸æŠ\n\n**ä½•ã‚’ã™ã‚‹ã‹**ï¼š\nä¸€æ‹¬ç”Ÿæˆã¾ãŸã¯ã‚»ã‚¯ã‚·ãƒ§ãƒ³åˆ¥ç”Ÿæˆã‚’é¸æŠã€‚\n\n**é¸æŠè‚¢**ï¼š\n\n1. **ä¸€æ‹¬ç”Ÿæˆ**\n   - ã™ã¹ã¦ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’ä¸€åº¦ã«ç”Ÿæˆ\n   - é«˜é€Ÿï¼ˆ1å›ã®APIå‘¼ã³å‡ºã—ï¼‰\n   - ãŸã ã—ã€ãƒ¬ãƒ¼ãƒˆåˆ¶é™ã«æ³¨æ„\n\n2. **ã‚»ã‚¯ã‚·ãƒ§ãƒ³åˆ¥ç”Ÿæˆ**\n   - ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã”ã¨ã«å€‹åˆ¥ã«ç”Ÿæˆ\n   - æŸ”è»Ÿï¼ˆã‚»ã‚¯ã‚·ãƒ§ãƒ³ã”ã¨ã«ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºå¯èƒ½ï¼‰\n   - ãŸã ã—ã€è¤‡æ•°å›ã®APIå‘¼ã³å‡ºã—ãŒå¿…è¦\n\n**æŠ€è¡“å®Ÿè£…**ï¼š\n```typescript\n// src/components/editor/ai/AIContentGenerator.tsx\nconst generateAll = () => {\n  const sections = getAllSections();\n  sections.forEach(section => {\n    generateForSection(section.id);\n  });\n};\n\nconst generateForSection = (sectionId) => {\n  aiGenerationStore.getState().generateForSection(sectionId);\n};\n```\n\n**ãªãœã“ã®é †åºã‹**ï¼š\n- ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«é¸æŠè‚¢ã‚’æä¾›ï¼ˆæŸ”è»Ÿæ€§ï¼‰\n- ä¸€æ‹¬ç”Ÿæˆã¯åˆå›ã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³åˆ¥ç”Ÿæˆã¯å¾®èª¿æ•´ã«é©ã—ã¦ã„ã‚‹\n\n---\n\n### ã‚¹ãƒ†ãƒƒãƒ—3ï¼šãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”Ÿæˆ\n\n**ä½•ã‚’ã™ã‚‹ã‹**ï¼š\nã‚»ã‚¯ã‚·ãƒ§ãƒ³å®šç¾©ã¨ã‚°ãƒ­ãƒ¼ãƒãƒ«ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’çµ„ã¿åˆã‚ã›ã¦ã€AIç”Ÿæˆç”¨ã®ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’ç”Ÿæˆã€‚\n\n**å…¥åŠ›**ï¼š\n1. **ã‚»ã‚¯ã‚·ãƒ§ãƒ³å®šç¾©**\n   ```typescript\n   interface Section {\n     id: string;\n     name: string;\n     purpose: string;\n     aiGeneration: {\n       contentType: string;           // 'heading', 'personal_story', 'problem_statement'\n       suggestedTextLength: string;   // 'short', 'medium', 'long'\n       textStyle: string;             // 'impactful', 'professional', 'casual'\n     };\n     contentConstraints: {\n       textLimits: {\n         maxChars: number;\n       };\n     };\n   }\n   ```\n\n2. **ã‚°ãƒ­ãƒ¼ãƒãƒ«ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿**ï¼ˆã‚¹ãƒ†ãƒƒãƒ—1ã§è¨­å®šï¼‰\n\n**å‡¦ç†**ï¼š\n```typescript\n// src/lib/ai/prompt-generator.ts\nfunction generateSectionPrompt(\n  section: Section,\n  globalParams: GlobalParameters\n): string {\n  // 1. ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®contentTypeã«å¿œã˜ãŸãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’å–å¾—\n  const template = getPromptTemplate(section.aiGeneration.contentType);\n\n  // 2. ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã«ã‚°ãƒ­ãƒ¼ãƒãƒ«ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’åŸ‹ã‚è¾¼ã¿\n  let prompt = template;\n  prompt = prompt.replace('{title}', globalParams.title);\n  prompt = prompt.replace('{purpose}', globalParams.purpose);\n  prompt = prompt.replace('{targetAudience}', globalParams.targetAudience);\n  prompt = prompt.replace('{industry}', globalParams.industry);\n  prompt = prompt.replace('{tone}', globalParams.tone);\n\n  // 3. ã‚»ã‚¯ã‚·ãƒ§ãƒ³æƒ…å ±ã‚’åŸ‹ã‚è¾¼ã¿\n  prompt = prompt.replace('{sectionName}', section.name);\n  prompt = prompt.replace('{sectionPurpose}', section.purpose);\n  prompt = prompt.replace('{textStyle}', section.aiGeneration.textStyle);\n  prompt = prompt.replace('{maxChars}', section.contentConstraints.textLimits.maxChars.toString());\n\n  return prompt;\n}\n```\n\n**å‡ºåŠ›ä¾‹**ï¼ˆè¦‹å‡ºã—ã‚»ã‚¯ã‚·ãƒ§ãƒ³ï¼‰ï¼š\n```\nã‚ãªãŸã¯ãƒ—ãƒ­ãƒ•ã‚§ãƒƒã‚·ãƒ§ãƒŠãƒ«ãªã‚³ãƒ”ãƒ¼ãƒ©ã‚¤ã‚¿ãƒ¼ã§ã™ã€‚\nä»¥ä¸‹ã®æƒ…å ±ã«åŸºã¥ã„ã¦ã€ã‚¤ãƒ³ãƒ‘ã‚¯ãƒˆã®ã‚ã‚‹è¦‹å‡ºã—ã‚’ç”Ÿæˆã—ã¦ãã ã•ã„ã€‚\n\nã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæƒ…å ±ã€‘\n- ã‚¿ã‚¤ãƒˆãƒ«: FIND to DO ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆèª¬æ˜è³‡æ–™\n- ç›®çš„: è³‡é‡‘èª¿é”ãƒ»ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼å‹Ÿé›†\n- å¯¾è±¡è€…: æŠ•è³‡å®¶ãƒ»æ•™è‚²æ©Ÿé–¢ãƒ»ä¼æ¥­ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼\n- æ¥­ç¨®: æ•™è‚²ãƒ»ã‚­ãƒ£ãƒªã‚¢æ”¯æ´\n\nã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³æƒ…å ±ã€‘\n- ã‚»ã‚¯ã‚·ãƒ§ãƒ³å: è¡¨ç´™\n- ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®ç›®çš„: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåã¨ã‚­ãƒ£ãƒƒãƒãƒ•ãƒ¬ãƒ¼ã‚ºã‚’è¡¨ç¤º\n- æ–‡å­—æ•°åˆ¶ç´„: 100æ–‡å­—ä»¥å†…\n- æ–‡ä½“: impactful\n\nã€è¦ä»¶ã€‘\n- 100æ–‡å­—ä»¥å†…\n- impactfulãªè¡¨ç¾\n- æŠ•è³‡å®¶ãƒ»æ•™è‚²æ©Ÿé–¢ãƒ»ä¼æ¥­ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼ã«éŸ¿ãå†…å®¹\n\nè¦‹å‡ºã—ã®ã¿ã‚’å‡ºåŠ›ã—ã¦ãã ã•ã„ã€‚èª¬æ˜ã¯ä¸è¦ã§ã™ã€‚\n```\n\n**ãªãœã“ã®é †åºã‹**ï¼š\n- ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã”ã¨ã«ç•°ãªã‚‹ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãŒå¿…è¦\n- ã‚°ãƒ­ãƒ¼ãƒãƒ«ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã§ä¸€è²«æ€§ã‚’ä¿ã¤\n\n**ä½¿ç”¨ã™ã‚‹æŠ€è¡“ãƒ»æ‰‹æ³•**ï¼š\n- ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆï¼ˆYAMLå®šç¾©ï¼‰\n- æ–‡å­—åˆ—ç½®æ›ï¼ˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå¤‰æ•°ã®åŸ‹ã‚è¾¼ã¿ï¼‰\n\n---\n\n### ã‚¹ãƒ†ãƒƒãƒ—4ï¼šGemini APIå‘¼ã³å‡ºã—\n\n**ä½•ã‚’ã™ã‚‹ã‹**ï¼š\nç”Ÿæˆã—ãŸãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’Gemini APIã«é€ä¿¡ã—ã€ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’å¾…æ©Ÿã€‚\n\n**æŠ€è¡“å®Ÿè£…**ï¼š\n```typescript\n// src/app/api/ai/generate/route.ts\nimport { GoogleGenerativeAI } from '@google/generative-ai';\n\nexport async function POST(request: NextRequest) {\n  const { prompt, parameters } = await request.json();\n\n  const apiKey = process.env.GEMINI_API_KEY;\n  const genAI = new GoogleGenerativeAI(apiKey || '');\n\n  const generationConfig = {\n    temperature: parameters?.temperature || 0.7,\n    topP: parameters?.topP || 0.9,\n    topK: parameters?.topK || 40,\n    maxOutputTokens: parameters?.maxTokens || 2048,\n  };\n\n  const model = genAI.getGenerativeModel({\n    model: 'gemini-1.5-flash',\n    safetySettings: [\n      {\n        category: HarmCategory.HARM_CATEGORY_HARASSMENT,\n        threshold: HarmBlockThreshold.BLOCK_MEDIUM_AND_ABOVE,\n      },\n      // ... ä»–ã®å®‰å…¨æ€§è¨­å®š\n    ],\n    generationConfig,\n  });\n\n  // é–‹å§‹æ™‚é–“ã‚’è¨˜éŒ²\n  const startTime = Date.now();\n\n  // ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”Ÿæˆ\n  const result = await model.generateContent(prompt);\n  const response = result.response;\n  const text = response.text();\n\n  // å®Ÿè¡Œæ™‚é–“ã‚’è¨ˆç®—\n  const generationTime = Date.now() - startTime;\n\n  return NextResponse.json({\n    success: true,\n    content: text,\n    rawResponse: text,\n    metadata: {\n      model: 'gemini-1.5-flash',\n      generatedAt: new Date().toISOString(),\n      generationTime,\n      promptTokens: response.promptFeedback?.tokenCount || null,\n    },\n  });\n}\n```\n\n**ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ™‚é–“**ï¼š\n- å¹³å‡ï¼š2-4ç§’\n- æœ€å¤§ï¼š10ç§’ï¼ˆé•·ã„ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã€è¤‡é›‘ãªç”Ÿæˆï¼‰\n\n**ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°**ï¼š\n1. **APIã‚­ãƒ¼ãŒè¨­å®šã•ã‚Œã¦ã„ãªã„**\n   ```typescript\n   if (!apiKey) {\n     return NextResponse.json(\n       { success: false, error: 'APIã‚­ãƒ¼ãŒè¨­å®šã•ã‚Œã¦ã„ã¾ã›ã‚“' },\n       { status: 500 }\n     );\n   }\n   ```\n\n2. **ãƒ¬ãƒ¼ãƒˆåˆ¶é™ã‚¨ãƒ©ãƒ¼**\n   ```typescript\n   try {\n     const result = await model.generateContent(prompt);\n   } catch (error: any) {\n     if (error.message.includes('rate limit')) {\n       // ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯: OpenAI APIã«åˆ‡ã‚Šæ›¿ãˆ\n       return generateWithOpenAI(prompt, parameters);\n     }\n     throw error;\n   }\n   ```\n\n3. **ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ**\n   ```typescript\n   const timeout = 15000; // 15ç§’\n   const result = await Promise.race([\n     model.generateContent(prompt),\n     new Promise((_, reject) =>\n       setTimeout(() => reject(new Error('Timeout')), timeout)\n     ),\n   ]);\n   ```\n\n**ãªãœã“ã®é †åºã‹**ï¼š\n- ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãŒå®Œæˆã—ãŸå¾Œã«APIå‘¼ã³å‡ºã—\n- ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã§å®‰å®šæ€§ã‚’ç¢ºä¿\n\n---\n\n### ã‚¹ãƒ†ãƒƒãƒ—5ï¼šãƒ¬ã‚¹ãƒãƒ³ã‚¹å‡¦ç†\n\n**ä½•ã‚’ã™ã‚‹ã‹**ï¼š\nGemini APIã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’è§£æã—ã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã«é©ç”¨å¯èƒ½ãªå½¢å¼ã«å¤‰æ›ã€‚\n\n**ãƒ¬ã‚¹ãƒãƒ³ã‚¹å½¢å¼**ï¼š\n1. **ãƒ—ãƒ¬ãƒ¼ãƒ³ãƒ†ã‚­ã‚¹ãƒˆ**ï¼ˆè¦‹å‡ºã—ã€çŸ­æ–‡ï¼‰\n   ```\n   FIND to DOï¼šæ•™è‚²ã¨ã‚­ãƒ£ãƒªã‚¢ã®æ¶ã‘æ©‹\n   ```\n\n2. **JSONå½¢å¼**ï¼ˆæ§‹é€ åŒ–ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ï¼‰\n   ```json\n   {\n     \"heading\": \"FIND to DO ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ\",\n     \"subheading\": \"æ•™è‚²ã¨ã‚­ãƒ£ãƒªã‚¢ã‚’ã¤ãªããƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ \",\n     \"description\": \"...\"\n   }\n   ```\n\n3. **ã‚»ã‚¯ã‚·ãƒ§ãƒ³åŒºåˆ‡ã‚Šå½¢å¼**ï¼ˆè¤‡æ•°ã‚»ã‚¯ã‚·ãƒ§ãƒ³ï¼‰\n   ```\n   ## è¦‹å‡ºã—\n   FIND to DOï¼šæ•™è‚²ã¨ã‚­ãƒ£ãƒªã‚¢ã®æ¶ã‘æ©‹\n\n   ## æœ¬æ–‡\n   ç¾ä»£ç¤¾ä¼šã§ã¯ã€æ•™è‚²ã¨ã‚­ãƒ£ãƒªã‚¢ã®é–“ã«å¤§ããªã‚®ãƒ£ãƒƒãƒ—ãŒå­˜åœ¨ã—ã¾ã™ã€‚...\n   ```\n\n**å‡¦ç†**ï¼š\n```typescript\n// src/app/api/ai/generate/route.ts\nfunction parseSectionContent(text: string) {\n  try {\n    // JSONå½¢å¼ã®å ´åˆ\n    return JSON.parse(text);\n  } catch (e) {\n    // JSONè§£æã«å¤±æ•—ã—ãŸå ´åˆã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³åŒºåˆ‡ã‚Šãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’è§£æ\n    const sections: Record<string, string> = {};\n    const sectionRegex = /##\\s+(.+?)\\n([\\s\\S]+?)(?=\\n##\\s+|$)/g;\n    let match;\n\n    while ((match = sectionRegex.exec(text)) !== null) {\n      const sectionName = match[1].trim();\n      const sectionContent = match[2].trim();\n      sections[sectionName] = sectionContent;\n    }\n\n    // ã‚»ã‚¯ã‚·ãƒ§ãƒ³åŒºåˆ‡ã‚ŠãŒãªã„å ´åˆã€ãƒ†ã‚­ã‚¹ãƒˆå…¨ä½“ã‚’è¿”ã™\n    return Object.keys(sections).length > 0 ? sections : text;\n  }\n}\n```\n\n**ã‚¨ãƒ©ãƒ¼ãƒã‚§ãƒƒã‚¯**ï¼š\n1. **ç©ºãƒ¬ã‚¹ãƒãƒ³ã‚¹**\n   ```typescript\n   if (!text || text.trim() === '') {\n     throw new Error('AIãŒç©ºã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ç”Ÿæˆã—ã¾ã—ãŸ');\n   }\n   ```\n\n2. **ä¸é©åˆ‡ãªã‚³ãƒ³ãƒ†ãƒ³ãƒ„**ï¼ˆå®‰å…¨æ€§ãƒ•ã‚£ãƒ«ã‚¿ï¼‰\n   ```typescript\n   if (response.promptFeedback?.blockReason) {\n     throw new Error('ä¸é©åˆ‡ãªãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãŒãƒ–ãƒ­ãƒƒã‚¯ã•ã‚Œã¾ã—ãŸ');\n   }\n   ```\n\n3. **æ–‡å­—æ•°åˆ¶ç´„é•å**\n   ```typescript\n   if (text.length > maxChars) {\n     // æ–‡å­—æ•°åˆ¶é™ã‚’è¶…ãˆãŸå ´åˆã€ãƒˆãƒªãƒŸãƒ³ã‚°\n     text = text.substring(0, maxChars) + '...';\n   }\n   ```\n\n**ãªãœã“ã®é †åºã‹**ï¼š\n- APIå‘¼ã³å‡ºã—å¾Œã«ã€ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’è§£æ\n- ã‚¨ãƒ©ãƒ¼ãƒã‚§ãƒƒã‚¯ã§å“è³ªã‚’ç¢ºä¿\n\n---\n\n### ã‚¹ãƒ†ãƒƒãƒ—6ï¼šã‚³ãƒ³ãƒ†ãƒ³ãƒ„é©ç”¨\n\n**ä½•ã‚’ã™ã‚‹ã‹**ï¼š\nè§£æã—ãŸã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’sectionStoreã«ä¿å­˜ã—ã€ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼è¡¨ç¤ºã€‚\n\n**æŠ€è¡“å®Ÿè£…**ï¼š\n```typescript\n// src/store/aiGenerationStore.ts\nconst useAIGenerationStore = create<AIGenerationStore>((set, get) => ({\n  generateForSection: async (sectionId) => {\n    set({ isGenerating: true });\n\n    try {\n      // 1. ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”Ÿæˆ\n      const section = getSectionDefinition(sectionId);\n      const globalParams = useDocumentStore.getState().globalParameters;\n      const prompt = generatePrompt(section, globalParams);\n\n      // 2. APIå‘¼ã³å‡ºã—\n      const response = await fetch('/api/ai/generate', {\n        method: 'POST',\n        body: JSON.stringify({\n          prompt,\n          parameters: globalParams,\n        }),\n      });\n\n      const { content, metadata } = await response.json();\n\n      // 3. sectionStoreã«ä¿å­˜\n      useSectionStore.getState().updateSectionContent(sectionId, content);\n\n      // 4. å±¥æ­´ã«è¿½åŠ \n      set((state) => ({\n        generationHistory: [\n          ...state.generationHistory,\n          {\n            sectionId,\n            prompt,\n            content,\n            generatedAt: metadata.generatedAt,\n            generationTime: metadata.generationTime,\n          },\n        ],\n      }));\n\n      set({ isGenerating: false });\n    } catch (error) {\n      console.error('AIç”Ÿæˆã‚¨ãƒ©ãƒ¼:', error);\n      set({ isGenerating: false });\n      throw error;\n    }\n  },\n}));\n```\n\n**ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼è¡¨ç¤º**ï¼š\n```typescript\n// src/components/editor/preview/SectionPreview.tsx\nconst SectionPreview = ({ sectionId }: { sectionId: string }) => {\n  const content = useSectionStore((state) => state.getSectionContent(sectionId));\n\n  return (\n    <div className=\"section-preview\">\n      <h3>{sectionId}</h3>\n      <div dangerouslySetInnerHTML={{ __html: content }} />\n    </div>\n  );\n};\n```\n\n**ãªãœã“ã®é †åºã‹**ï¼š\n- ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãŒæº–å‚™ã§ããŸå¾Œã«ä¿å­˜ãƒ»è¡¨ç¤º\n- å±¥æ­´ã«è¨˜éŒ²ã™ã‚‹ã“ã¨ã§ã€å¾Œã‹ã‚‰å‚ç…§å¯èƒ½\n\n---\n\n### ã‚¹ãƒ†ãƒƒãƒ—7ï¼šãƒ¦ãƒ¼ã‚¶ãƒ¼ç¢ºèª\n\n**ä½•ã‚’ã™ã‚‹ã‹**ï¼š\nç”Ÿæˆã•ã‚ŒãŸã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒç¢ºèªã—ã€æº€è¶³ã—ãŸå ´åˆã¯ç¢ºå®šã€ä¸æº€è¶³ã®å ´åˆã¯å†ç”Ÿæˆãƒ»ãƒªãƒ•ã‚¡ã‚¤ãƒ³ãƒ»æ‰‹å‹•ç·¨é›†ã€‚\n\n**é¸æŠè‚¢**ï¼š\n\n1. **ç¢ºå®š**\n   - ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ãã®ã¾ã¾ä½¿ç”¨\n   - æ¬¡ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã¸é€²ã‚€\n\n2. **å†ç”Ÿæˆ**\n   - åŒã˜ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã§å†åº¦ç”Ÿæˆ\n   - temperatureã«ã‚ˆã‚Šã€ç•°ãªã‚‹çµæœãŒå¾—ã‚‰ã‚Œã‚‹\n\n3. **ãƒªãƒ•ã‚¡ã‚¤ãƒ³**\n   - è¿½åŠ æŒ‡ç¤ºã‚’ä¸ãˆã¦æ”¹å–„\n   - ä¾‹ï¼šã€Œã‚‚ã£ã¨çŸ­ãã€ã€Œå…·ä½“ä¾‹ã‚’è¿½åŠ ã€ã€Œãƒˆãƒ¼ãƒ³ã‚’å¤‰æ›´ã€\n\n4. **æ‰‹å‹•ç·¨é›†**\n   - AIãŒç”Ÿæˆã—ãŸã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ç›´æ¥ç·¨é›†\n   - ãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒ‡ã‚£ã‚¿ã§ä¿®æ­£\n\n**æŠ€è¡“å®Ÿè£…**ï¼š\n```typescript\n// src/components/editor/ai/AIGenerationControls.tsx\nconst AIGenerationControls = ({ sectionId }: { sectionId: string }) => {\n  const content = useSectionStore((state) => state.getSectionContent(sectionId));\n  const generateForSection = useAIGenerationStore((state) => state.generateForSection);\n  const refineContent = useAIGenerationStore((state) => state.refineContent);\n\n  return (\n    <div>\n      <h4>ç”Ÿæˆã•ã‚ŒãŸã‚³ãƒ³ãƒ†ãƒ³ãƒ„:</h4>\n      <div>{content}</div>\n\n      <button onClick={() => generateForSection(sectionId)}>\n        å†ç”Ÿæˆ\n      </button>\n      <button onClick={() => {\n        const additionalPrompt = prompt('è¿½åŠ æŒ‡ç¤ºã‚’å…¥åŠ›ã—ã¦ãã ã•ã„:');\n        refineContent(sectionId, additionalPrompt);\n      }}>\n        ãƒªãƒ•ã‚¡ã‚¤ãƒ³\n      </button>\n      <button onClick={() => {\n        // æ‰‹å‹•ç·¨é›†ãƒ¢ãƒ¼ãƒ‰ã«åˆ‡ã‚Šæ›¿ãˆ\n        enableManualEdit(sectionId);\n      }}>\n        æ‰‹å‹•ç·¨é›†\n      </button>\n      <button onClick={() => {\n        // ç¢ºå®šï¼ˆæ¬¡ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã¸ï¼‰\n        confirmContent(sectionId);\n      }}>\n        ç¢ºå®š\n      </button>\n    </div>\n  );\n};\n```\n\n**ãƒªãƒ•ã‚¡ã‚¤ãƒ³å®Ÿè£…**ï¼š\n```typescript\n// src/store/aiGenerationStore.ts\nrefineContent: async (sectionId, additionalPrompt) => {\n  const previousContent = useSectionStore.getState().getSectionContent(sectionId);\n  const prompt = `\nä»¥ä¸‹ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’æ”¹å–„ã—ã¦ãã ã•ã„ã€‚\n\nã€ç¾åœ¨ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã€‘\n${previousContent}\n\nã€è¿½åŠ æŒ‡ç¤ºã€‘\n${additionalPrompt}\n\næ”¹å–„ã•ã‚ŒãŸã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®ã¿ã‚’å‡ºåŠ›ã—ã¦ãã ã•ã„ã€‚\n  `;\n\n  const response = await fetch('/api/ai/refine', {\n    method: 'POST',\n    body: JSON.stringify({ prompt }),\n  });\n\n  const { content } = await response.json();\n  useSectionStore.getState().updateSectionContent(sectionId, content);\n};\n```\n\n**ãªãœã“ã®é †åºã‹**ï¼š\n- ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æº€è¶³åº¦ã‚’ç¢ºèªã—ã¦ã‹ã‚‰æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—ã¸\n- æŸ”è»Ÿæ€§ã‚’æä¾›ï¼ˆå†ç”Ÿæˆã€ãƒªãƒ•ã‚¡ã‚¤ãƒ³ã€æ‰‹å‹•ç·¨é›†ï¼‰\n\n---\n\n## ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°\n\n### ã‚¨ãƒ©ãƒ¼1ï¼šAPIåˆ¶é™ã‚¨ãƒ©ãƒ¼\n\n**å¯¾å‡¦æ³•**ï¼š\n1. ãƒªãƒˆãƒ©ã‚¤ï¼ˆæŒ‡æ•°ãƒãƒƒã‚¯ã‚ªãƒ•ï¼‰\n2. OpenAI APIã¸ã®ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯\n3. ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¡¨ç¤º\n\n### ã‚¨ãƒ©ãƒ¼2ï¼šã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ\n\n**å¯¾å‡¦æ³•**ï¼š\n1. ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆè¨­å®šï¼ˆ15ç§’ï¼‰\n2. ãƒªãƒˆãƒ©ã‚¤\n3. ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¡¨ç¤º\n\n### ã‚¨ãƒ©ãƒ¼3ï¼šä¸é©åˆ‡ãªã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”Ÿæˆ\n\n**å¯¾å‡¦æ³•**ï¼š\n1. å®‰å…¨æ€§ãƒ•ã‚£ãƒ«ã‚¿ã®ãƒã‚§ãƒƒã‚¯\n2. ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã®ä¿®æ­£ã‚’ä¿ƒã™\n3. æ‰‹å‹•å…¥åŠ›ã‚’æ¨å¥¨\n\n### ã‚¨ãƒ©ãƒ¼4ï¼šç©ºãƒ¬ã‚¹ãƒãƒ³ã‚¹\n\n**å¯¾å‡¦æ³•**ï¼š\n1. å†ç”Ÿæˆã‚’è©¦ã¿ã‚‹\n2. ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã®å•é¡Œã‚’ç¢ºèª\n3. æ‰‹å‹•å…¥åŠ›ã‚’æ¨å¥¨\n\n## å†ç¾æ–¹æ³•\n\n### ã‚¹ãƒ†ãƒƒãƒ—1ï¼šã‚°ãƒ­ãƒ¼ãƒãƒ«ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’è¨­å®š\n\nã‚¨ãƒ‡ã‚£ã‚¿ç”»é¢ã§ã€ã€ŒåŸºæœ¬æƒ…å ±ã€ã‚¿ãƒ–ã‚’é–‹ãã€ã‚°ãƒ­ãƒ¼ãƒãƒ«ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’å…¥åŠ›ã€‚\n\n### ã‚¹ãƒ†ãƒƒãƒ—2ï¼šç”Ÿæˆãƒ¢ãƒ¼ãƒ‰ã‚’é¸æŠ\n\nã€Œã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã€ã‚¿ãƒ–ã§ã€ã€Œä¸€æ‹¬ç”Ÿæˆã€ã¾ãŸã¯ã€Œã‚»ã‚¯ã‚·ãƒ§ãƒ³åˆ¥ç”Ÿæˆã€ã‚’é¸æŠã€‚\n\n### ã‚¹ãƒ†ãƒƒãƒ—3ï¼šç”Ÿæˆé–‹å§‹\n\nã€Œç”Ÿæˆé–‹å§‹ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã€‚\n\n### ã‚¹ãƒ†ãƒƒãƒ—4ï¼šç¢ºèªãƒ»èª¿æ•´\n\nç”Ÿæˆã•ã‚ŒãŸã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ç¢ºèªã—ã€å¿…è¦ã«å¿œã˜ã¦å†ç”Ÿæˆãƒ»ãƒªãƒ•ã‚¡ã‚¤ãƒ³ãƒ»æ‰‹å‹•ç·¨é›†ã€‚\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `skill_ai_prompt_section_specific_2025_04_11.md`: ã‚»ã‚¯ã‚·ãƒ§ãƒ³åˆ¥ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã®è©³ç´°\n- `decision_ai_gemini_vs_openai_2025_04_11.md`: Gemini APIé¸æŠã®ç†ç”±\n- `workflow_document_creation_full_flow_2025_04_11.md`: å…¨ä½“ãƒ•ãƒ­ãƒ¼ã®ä¸­ã§ã®AIç”Ÿæˆã®ä½ç½®ã¥ã‘\n",
    "prompt": "### ã‚¹ãƒ†ãƒƒãƒ—1ï¼šã‚°ãƒ­ãƒ¼ãƒãƒ«ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’è¨­å®š\n\nã‚¨ãƒ‡ã‚£ã‚¿ç”»é¢ã§ã€ã€ŒåŸºæœ¬æƒ…å ±ã€ã‚¿ãƒ–ã‚’é–‹ãã€ã‚°ãƒ­ãƒ¼ãƒãƒ«ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’å…¥åŠ›ã€‚\n\n### ã‚¹ãƒ†ãƒƒãƒ—2ï¼šç”Ÿæˆãƒ¢ãƒ¼ãƒ‰ã‚’é¸æŠ\n\nã€Œã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã€ã‚¿ãƒ–ã§ã€ã€Œä¸€æ‹¬ç”Ÿæˆã€ã¾ãŸã¯ã€Œã‚»ã‚¯ã‚·ãƒ§ãƒ³åˆ¥ç”Ÿæˆã€ã‚’é¸æŠã€‚\n\n### ã‚¹ãƒ†ãƒƒãƒ—3ï¼šç”Ÿæˆé–‹å§‹\n\nã€Œç”Ÿæˆé–‹å§‹ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã€‚\n\n### ã‚¹ãƒ†ãƒƒãƒ—4ï¼šç¢ºèªãƒ»èª¿æ•´\n\nç”Ÿæˆã•ã‚ŒãŸã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ç¢ºèªã—ã€å¿…è¦ã«å¿œã˜ã¦å†ç”Ÿæˆãƒ»ãƒªãƒ•ã‚¡ã‚¤ãƒ³ãƒ»æ‰‹å‹•ç·¨é›†ã€‚",
    "relatedTech": [
      "skill-ai-prompt-section-specific",
      "decision-ai-gemini-vs-openai",
      "workflow-document-creation-full-flow"
    ]
  },
  {
    "slug": "api-route-creation-workflow",
    "title": "API Routeä½œæˆãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼",
    "category": "Workflowsï¼ˆãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ï¼‰",
    "description": "API Routeä½œæˆãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼",
    "project": "yumesuta-management-system",
    "usedIn": [
      "app/api/*/route.ts"
    ],
    "code": "```json\n{\n  \"id\": \"workflow_api_route_creation_workflow_2025_11_24\",\n  \"type\": \"workflow\",\n  \"name\": \"API Routeä½œæˆãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼\",\n  \"tags\": [\"ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼\", \"API Route\", \"Next.js\", \"Google Sheets\", \"ãƒ‡ãƒ¼ã‚¿å–å¾—\", \"ãƒ‘ãƒ¼ã‚¹\"],\n  \"source_project\": \"yumesuta-management-system\",\n  \"source_file\": \"app/api/*/route.ts\",\n  \"related_knowledge\": [\n    \"skill_api_route_template_pattern_2025_11_24\",\n    \"skill_google_sheets_a1_notation_2025_11_24\",\n    \"skill_google_sheets_batch_fetch_2025_11_24\"\n  ],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-24\",\n  \"updated\": \"2025-11-24\"\n}\n```\n\n# API Routeä½œæˆãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼\n\n## ä½•ã®ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‹\n\nNext.js 15 App Routerã§API Routeã‚’ä½œæˆã™ã‚‹éš›ã®æ¨™æº–çš„ãªãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã€‚Google Sheets APIã¨ã®çµ±åˆã€å‹å®‰å…¨ãªãƒ¬ã‚¹ãƒãƒ³ã‚¹ã€çµ±ä¸€çš„ãªã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã‚’å«ã‚€ã€‚\n\n## ãƒ•ãƒ­ãƒ¼å…¨ä½“å›³\n\n```\n[ãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆ]\napp/api/[feature]/route.ts\n   â†“\n[ç’°å¢ƒå¤‰æ•°ãƒã‚§ãƒƒã‚¯]\nspreadsheetId, èªè¨¼æƒ…å ±\n   â†“\n[ãƒ‡ãƒ¼ã‚¿å–å¾—]\ngetSheetData / getBatchSheetData\n   â†“\n[ãƒ‡ãƒ¼ã‚¿ãƒ‘ãƒ¼ã‚¹]\nany[][] â†’ å‹ä»˜ãã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ\n   â†“\n[ãƒ¬ã‚¹ãƒãƒ³ã‚¹è¿”å´]\n{ success: true, data: {...} }\n   â†“\n[ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°]\ntry-catch, { success: false, error: \"...\" }\n```\n\n## å„ã‚¹ãƒ†ãƒƒãƒ—ã®è©³ç´°\n\n### ã‚¹ãƒ†ãƒƒãƒ—1: ãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆ\n\n**ä½•ã‚’ã™ã‚‹ã‹**:\n- `app/api/[feature]/route.ts` ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆ\n- `GET` ã¾ãŸã¯ `POST` ãƒãƒ³ãƒ‰ãƒ©ãƒ¼ã‚’å®Ÿè£…\n\n**ä¾‹**:\n```typescript\n// app/api/your-feature/route.ts\nimport { NextResponse } from 'next/server';\nimport { getSheetData } from '@/lib/google-sheets';\n\nexport async function GET() {\n  // ... å®Ÿè£… ...\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2: ç’°å¢ƒå¤‰æ•°ãƒã‚§ãƒƒã‚¯\n\n**ä½•ã‚’ã™ã‚‹ã‹**:\n- ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆIDã‚’ç’°å¢ƒå¤‰æ•°ã‹ã‚‰å–å¾—\n- ç’°å¢ƒå¤‰æ•°ãŒè¨­å®šã•ã‚Œã¦ã„ãªã„å ´åˆã¯ã‚¨ãƒ©ãƒ¼ã‚’è¿”ã™\n\n**ä¾‹**:\n```typescript\nconst spreadsheetId = process.env.YOUR_SPREADSHEET_ID;\n\nif (!spreadsheetId) {\n  return NextResponse.json(\n    { success: false, error: 'YOUR_SPREADSHEET_ID is not set' },\n    { status: 500 }\n  );\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3: ãƒ‡ãƒ¼ã‚¿å–å¾—\n\n**ä½•ã‚’ã™ã‚‹ã‹**:\n- `getSheetData` ã¾ãŸã¯ `getBatchSheetData` ã§ãƒ‡ãƒ¼ã‚¿å–å¾—\n- A1è¡¨è¨˜æ³•ã§å¿…è¦ãªç¯„å›²ã‚’æŒ‡å®š\n\n**ä¾‹**:\n```typescript\n// å˜ä¸€ã‚·ãƒ¼ãƒˆå–å¾—\nconst data = await getSheetData(spreadsheetId, 'ã‚·ãƒ¼ãƒˆå!A1:Z100');\n\n// è¤‡æ•°ã‚·ãƒ¼ãƒˆä¸€æ‹¬å–å¾—\nconst [data1, data2] = await getBatchSheetData(spreadsheetId, [\n  'ã‚·ãƒ¼ãƒˆ1!A1:Z100',\n  'ã‚·ãƒ¼ãƒˆ2!A1:Y50',\n]);\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—4: ãƒ‡ãƒ¼ã‚¿ãƒ‘ãƒ¼ã‚¹\n\n**ä½•ã‚’ã™ã‚‹ã‹**:\n- `any[][]` ã‚’å‹ä»˜ãã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«å¤‰æ›\n- ãƒ˜ãƒƒãƒ€ãƒ¼è¡Œã‚’é™¤å¤–\n- ç©ºè¡Œã‚’ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°\n- æ—¥æœ¬èªã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’Enumã«å¤‰æ›\n\n**ä¾‹**:\n```typescript\nfunction parseData(data: any[][]) {\n  // ãƒ˜ãƒƒãƒ€ãƒ¼è¡Œã‚’é™¤å¤–\n  const rows = data.slice(1);\n\n  // ç©ºè¡Œã‚’ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°\n  const filteredRows = rows.filter(row => row && row.some(cell => cell));\n\n  // å‹ä»˜ãã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«å¤‰æ›\n  return filteredRows.map(row => ({\n    id: row[0],\n    name: row[1],\n    status: row[2]?.includes('é †èª¿') ? 'ok' : 'warning',\n    value: parseInt(row[3] || '0'),\n  }));\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—5: ãƒ¬ã‚¹ãƒãƒ³ã‚¹è¿”å´\n\n**ä½•ã‚’ã™ã‚‹ã‹**:\n- `{ success: true, data: {...} }` å½¢å¼ã§ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’è¿”ã™\n\n**ä¾‹**:\n```typescript\nreturn NextResponse.json({ success: true, data: parsedData });\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—6: ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°\n\n**ä½•ã‚’ã™ã‚‹ã‹**:\n- try-catchã§çµ±ä¸€çš„ãªã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°\n- ã‚¨ãƒ©ãƒ¼æ™‚ã¯ `{ success: false, error: \"...\" }` ã‚’è¿”ã™\n\n**ä¾‹**:\n```typescript\ntry {\n  // ... ãƒ‡ãƒ¼ã‚¿å–å¾—ãƒ»ãƒ‘ãƒ¼ã‚¹ ...\n  return NextResponse.json({ success: true, data });\n} catch (error) {\n  console.error('[Feature Name] API error:', error);\n  return NextResponse.json(\n    { success: false, error: error.message },\n    { status: 500 }\n  );\n}\n```\n\n## å®Œå…¨ãªå®Ÿè£…ä¾‹\n\n```typescript\n// app/api/sales-kpi/route.ts\nimport { NextResponse } from 'next/server';\nimport { getBatchSheetData } from '@/lib/google-sheets';\nimport type { SalesKPIResponse } from '@/types/sales';\n\nexport async function GET() {\n  try {\n    // 1. ç’°å¢ƒå¤‰æ•°ãƒã‚§ãƒƒã‚¯\n    const spreadsheetId = process.env.SALES_SPREADSHEET_ID;\n    if (!spreadsheetId) {\n      return NextResponse.json<SalesKPIResponse>(\n        { success: false, error: 'SALES_SPREADSHEET_ID is not set' },\n        { status: 500 }\n      );\n    }\n\n    // 2. ãƒ‡ãƒ¼ã‚¿å–å¾—\n    const [kpiData, monthlyData] = await getBatchSheetData(spreadsheetId, [\n      'KPIãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰!A1:K25',\n      'æœˆæ¬¡äºˆå®Ÿç®¡ç†!A1:W15',\n    ]);\n\n    // 3. ãƒ‡ãƒ¼ã‚¿ãƒ‘ãƒ¼ã‚¹\n    const kpiResponse = parseKPIData(kpiData);\n    const monthlyPerformance = parseMonthlyPerformance(monthlyData);\n\n    // 4. ãƒ¬ã‚¹ãƒãƒ³ã‚¹è¿”å´\n    return NextResponse.json<SalesKPIResponse>({\n      success: true,\n      data: {\n        ...kpiResponse,\n        monthlyPerformance,\n        updatedAt: new Date().toISOString(),\n      },\n    });\n  } catch (error) {\n    // 5. ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°\n    console.error('Sales KPI API error:', error);\n    return NextResponse.json<SalesKPIResponse>(\n      { success: false, error: error instanceof Error ? error.message : 'Unknown error' },\n      { status: 500 }\n    );\n  }\n}\n\n// 6. ãƒ‡ãƒ¼ã‚¿ãƒ‘ãƒ¼ã‚¹é–¢æ•°\nfunction parseKPIData(data: any[][]) {\n  const month = parseInt(data[1]?.[1] || '0');\n  const metrics = {\n    telAppointments: parseMetricRow(data[11]),\n    appointments: parseMetricRow(data[12]),\n    meetings: parseMetricRow(data[13]),\n  };\n  return { kpi: { month, metrics } };\n}\n\nfunction parseMetricRow(row: any[] | undefined) {\n  if (!row) return { actual: 0, status: 'warning' as const };\n  const actual = parseInt(row[3] || '0');\n  const statusText = row[5] || '';\n  const status = statusText.includes('é †èª¿') ? 'ok' : 'warning';\n  return { actual, status: status as 'ok' | 'warning' };\n}\n\nfunction parseMonthlyPerformance(data: any[][]) {\n  const row = data[2] || [];\n  return {\n    contractActual: parseInt(row[6]?.replace(/,/g, '') || '0'),\n    revenueActual: parseInt(row[10]?.replace(/[Â¥,]/g, '') || '0'),\n  };\n}\n```\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `skill_api_route_template_pattern_2025_11_24.md`: API Routeå®Ÿè£…ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ\n- `skill_google_sheets_a1_notation_2025_11_24.md`: A1è¡¨è¨˜æ³•\n- `skill_google_sheets_batch_fetch_2025_11_24.md`: ãƒãƒƒãƒå–å¾—\n- `skill_japanese_status_enum_conversion_2025_11_24.md`: æ—¥æœ¬èªã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹å¤‰æ›\n- `skill_empty_row_filtering_2025_11_24.md`: ç©ºè¡Œãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€ŒAPI Routeä½œæˆãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "skill-api-route-template-pattern",
      "skill-google-sheets-a1-notation",
      "skill-google-sheets-batch-fetch"
    ]
  },
  {
    "slug": "api-throttling-request-flow",
    "title": "APIã‚¹ãƒ­ãƒƒãƒˆãƒªãƒ³ã‚°ï¼‹ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚­ãƒ¥ãƒ¼ã‚¤ãƒ³ã‚°ãƒ•ãƒ­ãƒ¼",
    "category": "Workflowsï¼ˆãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ï¼‰",
    "description": "APIã‚¹ãƒ­ãƒƒãƒˆãƒªãƒ³ã‚°ï¼‹ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚­ãƒ¥ãƒ¼ã‚¤ãƒ³ã‚°ãƒ•ãƒ­ãƒ¼",
    "project": "novel-automation-system-v2",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"workflow_api_throttling_request_flow_2025_11_25\",\n  \"type\": \"workflow\",\n  \"name\": \"APIã‚¹ãƒ­ãƒƒãƒˆãƒªãƒ³ã‚°ï¼‹ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚­ãƒ¥ãƒ¼ã‚¤ãƒ³ã‚°ãƒ•ãƒ­ãƒ¼\",\n  \"tags\": [\"APIã‚¹ãƒ­ãƒƒãƒˆãƒªãƒ³ã‚°\", \"ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚­ãƒ¥ãƒ¼\", \"ãƒ¬ãƒ¼ãƒˆåˆ¶é™\", \"å„ªå…ˆåº¦ç®¡ç†\"],\n  \"source_project\": \"novel-automation-system-v2\",\n  \"related_knowledge\": [\n    \"skill_api_throttling_priority_queue_2025_11_25\",\n    \"decision_why_priority_queue_dynamic_sort_2025_11_25\",\n    \"decision_why_layered_error_recovery_strategy_2025_11_25\"\n  ],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# APIã‚¹ãƒ­ãƒƒãƒˆãƒªãƒ³ã‚°ï¼‹ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚­ãƒ¥ãƒ¼ã‚¤ãƒ³ã‚°ãƒ•ãƒ­ãƒ¼\n\n## ä½•ã®ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‹\n\nGemini APIã®ãƒ¬ãƒ¼ãƒˆåˆ¶é™ï¼ˆ50 requests/minuteï¼‰ã‚’éµå®ˆã—ãªãŒã‚‰ã€å„ªå…ˆåº¦åˆ¥ã«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’åŠ¹ç‡çš„ã«å‡¦ç†ã™ã‚‹å®Œå…¨ãªãƒ•ãƒ­ãƒ¼ã€‚\n\n## ãƒ•ãƒ­ãƒ¼å…¨ä½“å›³\n\n```\nREQUEST SUBMISSION\n   â†“\n[1] BACKOFF CHECK\n   â”œâ”€ ãƒãƒƒã‚¯ã‚ªãƒ•ä¸­ï¼Ÿ â†’ Wait\n   â””â”€ ãªã— â†’ Continue\n      â†“\n[2] WINDOW CAPACITY CHECK\n   â”œâ”€ requests < 50/min â†’ [3] EXECUTE\n   â””â”€ requests >= 50/min â†’ [4] QUEUE\n      â†“\n[3] EXECUTE DIRECTLY (0-100ms)\n   â”œâ”€ APIå‘¼ã³å‡ºã—\n   â”œâ”€ Success â†’ Return\n   â””â”€ RateLimit â†’ [5] HANDLE_RATE_LIMIT\n      â†“\n[4] QUEUE REQUEST\n   â”œâ”€ å„ªå…ˆåº¦é †ã«è¿½åŠ \n   â”œâ”€ ã‚¿ã‚¤ãƒãƒ¼èµ·å‹•ï¼ˆ1200msé–“éš”ï¼‰\n   â””â”€ Promiseè¿”å´ï¼ˆå¾Œã§è§£æ±ºï¼‰\n      â†“\n[5] QUEUE PROCESSING\n   â”œâ”€ å„ªå…ˆåº¦ã‚½ãƒ¼ãƒˆ\n   â”œâ”€ æ¬¡ãƒªã‚¯ã‚¨ã‚¹ãƒˆå®Ÿè¡Œ\n   â”œâ”€ Success â†’ error_count = 0\n   â””â”€ RateLimit â†’ [6] BACKOFF\n      â†“\n[6] RATE_LIMIT_BACKOFF\n   â”œâ”€ error_count++\n   â”œâ”€ backoff = 2^error_count Ã— 2ç§’\n   â”œâ”€ å†ã‚­ãƒ¥ãƒ¼\n   â””â”€ Resume after backoff\n```\n\n## å„ã‚¹ãƒ†ãƒƒãƒ—ã®è©³ç´°\n\n### ã‚¹ãƒ†ãƒƒãƒ—1: Backoff Check\n\n```typescript\nif (this.paused && Date.now() < this.backoffUntil) {\n  await sleep(this.backoffUntil - Date.now());\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2: Window Capacity Check\n\n```typescript\nif (this.requestsInWindow < this.maxRequestsPerMinute) {\n  return await this.executeDirect(requestFn); // ã‚¹ãƒ†ãƒƒãƒ—3\n} else {\n  return await this.enqueue(requestFn, priority); // ã‚¹ãƒ†ãƒƒãƒ—4\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3: Execute Directly\n\n```typescript\ntry {\n  this.requestsInWindow++;\n  const result = await requestFn();\n  this.errorCount = 0;\n  return result;\n} catch (error) {\n  if (isRateLimitError(error)) {\n    await this.handleRateLimitError(); // ã‚¹ãƒ†ãƒƒãƒ—6\n  }\n  throw error;\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—4: Queue Request\n\n```typescript\nconst promise = new Promise((resolve, reject) => {\n  this.waitingRequests.push({\n    requestFn,\n    priority,\n    timestamp: Date.now(),\n    resolve,\n    reject\n  });\n});\n\nthis.startQueueProcessing(); // ã‚¿ã‚¤ãƒãƒ¼èµ·å‹•ï¼ˆ1200msï¼‰\nreturn promise;\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—5: Queue Processing\n\n```typescript\n// å„ªå…ˆåº¦ã‚½ãƒ¼ãƒˆ\nthis.waitingRequests.sort((a, b) => {\n  const priorityOrder = { HIGH: 0, MEDIUM: 1, LOW: 2 };\n  const diff = priorityOrder[a.priority] - priorityOrder[b.priority];\n  return diff !== 0 ? diff : a.timestamp - b.timestamp;\n});\n\n// æ¬¡ãƒªã‚¯ã‚¨ã‚¹ãƒˆå®Ÿè¡Œ\nconst next = this.waitingRequests.shift();\nawait this.executeDirect(next.requestFn);\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—6: Rate Limit Backoff\n\n```typescript\nthis.errorCount++;\nthis.paused = true;\n\nconst backoff = Math.min(\n  2000 * Math.pow(2, this.errorCount - 1) + Math.random() * 1000,\n  60000 // æœ€å¤§1åˆ†\n);\n\nthis.waitingRequests.unshift(request); // å†ã‚­ãƒ¥ãƒ¼\n\nsetTimeout(() => {\n  this.paused = false;\n  this.startQueueProcessing();\n}, backoff);\n```\n\n## ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³ä¾‹\n\n```\n0s:  R1,R2,R3 submit (HIGH,MED,MED) â†’ å³åº§å®Ÿè¡Œ\n1s:  requests_in_window = 3/50\n2s:  R4-R13 submit (10Ã—LOW) â†’ Queue (3/50)\n3s:  Queueå‡¦ç†: LOW1,LOW2å®Ÿè¡Œ â†’ 5/50\n4s:  Queueå‡¦ç†: LOW3,LOW4å®Ÿè¡Œ â†’ 7/50\n...\n25s: R25 submit â†’ 429 RateLimit! â†’ Backoff 2500ms\n27.5s: Resume\n60s: Window reset â†’ 0/50\n```\n\n## ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æŒ‡æ¨™\n\n### ã‚¹ãƒ«ãƒ¼ãƒ—ãƒƒãƒˆ\n- **æœ€å¤§**: 50 requests/minute\n- **å¹³å‡**: 45-48 requests/minute\n\n### ãƒ¬ã‚¤ãƒ†ãƒ³ã‚·\n- **å³åº§å®Ÿè¡Œ**: 0-100ms\n- **ã‚­ãƒ¥ãƒ¼å¾…æ©Ÿ**: 1.2-15ç§’\n- **ãƒãƒƒã‚¯ã‚ªãƒ•**: 2-60ç§’\n\n### ã‚­ãƒ¥ãƒ¼ã‚µã‚¤ã‚º\n- **é€šå¸¸**: < 20ä»¶\n- **ãƒ”ãƒ¼ã‚¯**: < 100ä»¶\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `skill_api_throttling_priority_queue_2025_11_25.md`\n- `decision_why_priority_queue_dynamic_sort_2025_11_25.md`\n- `decision_why_layered_error_recovery_strategy_2025_11_25.md`\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€ŒAPIã‚¹ãƒ­ãƒƒãƒˆãƒªãƒ³ã‚°ï¼‹ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚­ãƒ¥ãƒ¼ã‚¤ãƒ³ã‚°ãƒ•ãƒ­ãƒ¼ã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "skill-api-throttling-priority-queue",
      "decision-why-priority-queue-dynamic-sort",
      "decision-why-layered-error-recovery-strategy"
    ]
  },
  {
    "slug": "blog-auto-generation-flow",
    "title": "ãƒ–ãƒ­ã‚°è¨˜äº‹è‡ªå‹•ç”Ÿæˆãƒ•ãƒ­ãƒ¼å…¨ä½“",
    "category": "Workflowsï¼ˆãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ï¼‰",
    "description": "ãƒ–ãƒ­ã‚°è¨˜äº‹è‡ªå‹•ç”Ÿæˆãƒ•ãƒ­ãƒ¼å…¨ä½“",
    "project": "ai-blog-generator",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"workflow_blog_auto_generation_flow_2025_04_22\",\n  \"type\": \"workflow\",\n  \"name\": \"ãƒ–ãƒ­ã‚°è¨˜äº‹è‡ªå‹•ç”Ÿæˆãƒ•ãƒ­ãƒ¼å…¨ä½“\",\n  \"tags\": [\"ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼\", \"è‡ªå‹•åŒ–\", \"ãƒ–ãƒ­ã‚°ç”Ÿæˆ\", \"GitHub Actions\", \"Gemini API\"],\n  \"source_project\": \"ai-blog-generator\",\n  \"related_knowledge\": [\n    \"skill_google_news_rss_scraping_2025_04_22\",\n    \"skill_prompt_engineering_category_custom_2025_04_22\",\n    \"skill_github_actions_cron_automation_2025_04_22\"\n  ],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-04-22\",\n  \"updated\": \"2025-04-22\"\n}\n```\n\n# ãƒ–ãƒ­ã‚°è¨˜äº‹è‡ªå‹•ç”Ÿæˆãƒ•ãƒ­ãƒ¼å…¨ä½“\n\n## ä½•ã®ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‹\n\næ¯æ—¥è‡ªå‹•çš„ã«ãƒ–ãƒ­ã‚°è¨˜äº‹ã‚’ç”Ÿæˆã—ã€Gitã«ã‚³ãƒŸãƒƒãƒˆãƒ»ãƒ—ãƒƒã‚·ãƒ¥ã—ã¦å…¬é–‹ã™ã‚‹ã¾ã§ã®å…¨ä½“ãƒ•ãƒ­ãƒ¼ã€‚\n\n## ãƒ•ãƒ­ãƒ¼å…¨ä½“å›³\n\n```\n[GitHub Actions cron: æ¯æ—¥UTC 0æ™‚]\n      â†“\n[1. ã‚«ãƒ†ã‚´ãƒªã‚’ãƒ©ãƒ³ãƒ€ãƒ é¸æŠ]\n      â†“\n[2. Google News RSSã‹ã‚‰ãƒˆãƒ¬ãƒ³ãƒ‰ãƒˆãƒ”ãƒƒã‚¯å–å¾—]\n      â†“ï¼ˆæˆåŠŸï¼‰         â†“ï¼ˆå¤±æ•—ï¼‰\n[ãƒˆãƒ”ãƒƒã‚¯å–å¾—]      [ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ãƒˆãƒ”ãƒƒã‚¯ä½¿ç”¨]\n      â†“                    â†“\n      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n                 â†“\n[3. ãƒˆãƒ”ãƒƒã‚¯ã‚’ãƒ©ãƒ³ãƒ€ãƒ é¸æŠ]\n                 â†“\n[4. ã‚«ãƒ†ã‚´ãƒªåˆ¥ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”Ÿæˆ]\n                 â†“\n[5. Gemini APIã§è¨˜äº‹ç”Ÿæˆ]\n                 â†“\n[6. ã‚¿ã‚¤ãƒˆãƒ«æŠ½å‡º]\n                 â†“\n[7. ã‚¹ãƒ©ã‚°ç”Ÿæˆãƒ»è¡çªãƒã‚§ãƒƒã‚¯]\n                 â†“\n[8. Frontmatterä»˜ãã§ä¿å­˜]\n                 â†“\n[9. Gitã‚³ãƒŸãƒƒãƒˆãƒ»ãƒ—ãƒƒã‚·ãƒ¥]\n                 â†“\n[Vercelè‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤]\n                 â†“\n[è¨˜äº‹å…¬é–‹]\n```\n\n## å„ã‚¹ãƒ†ãƒƒãƒ—ã®è©³ç´°\n\n### ã‚¹ãƒ†ãƒƒãƒ—1ï¼šã‚«ãƒ†ã‚´ãƒªã‚’ãƒ©ãƒ³ãƒ€ãƒ é¸æŠ\n\n**ä½•ã‚’ã™ã‚‹ã‹**ï¼š\n5ã¤ã®ã‚«ãƒ†ã‚´ãƒªã‹ã‚‰1ã¤ã‚’ãƒ©ãƒ³ãƒ€ãƒ ã«é¸æŠã€‚\n\n**å®Ÿè£…**ï¼š\n```typescript\nconst CATEGORIES = [\n  'ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°',\n  'ã‚¦ã‚§ãƒ–é–‹ç™º',\n  'AIæŠ€è¡“',\n  'ã‚­ãƒ£ãƒªã‚¢',\n  'ãƒ“ã‚¸ãƒã‚¹',\n];\n\nconst category = CATEGORIES[Math.floor(Math.random() * CATEGORIES.length)];\n```\n\n**ãªãœã“ã®é †åºã‹**ï¼š\næœ€åˆã«ã‚«ãƒ†ã‚´ãƒªã‚’æ±ºã‚ã‚‹ã“ã¨ã§ã€ãƒˆãƒ”ãƒƒã‚¯å–å¾—ã¨ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”ŸæˆãŒã‚«ãƒ†ã‚´ãƒªã«æœ€é©åŒ–ã•ã‚Œã‚‹ã€‚\n\n**ä½¿ç”¨ã™ã‚‹æŠ€è¡“ãƒ»æ‰‹æ³•**ï¼š\n- JavaScript ã® Math.random()\n\n---\n\n### ã‚¹ãƒ†ãƒƒãƒ—2ï¼šGoogle News RSSã‹ã‚‰ãƒˆãƒ¬ãƒ³ãƒ‰ãƒˆãƒ”ãƒƒã‚¯å–å¾—\n\n**ä½•ã‚’ã™ã‚‹ã‹**ï¼š\né¸æŠã•ã‚ŒãŸã‚«ãƒ†ã‚´ãƒªã«é–¢é€£ã™ã‚‹æœ€æ–°ã®ãƒ‹ãƒ¥ãƒ¼ã‚¹ãƒˆãƒ”ãƒƒã‚¯ã‚’Google News RSSã‹ã‚‰å–å¾—ã€‚\n\n**å®Ÿè£…**ï¼š\n```typescript\nconst topics = await getTrendingTopics(category, 5);\n```\n\nå†…éƒ¨å‡¦ç†ï¼š\n1. ã‚«ãƒ†ã‚´ãƒªã«å¯¾å¿œã™ã‚‹ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‚’ãƒ©ãƒ³ãƒ€ãƒ é¸æŠ\n2. Google News RSS URL ã‚’æ§‹ç¯‰\n3. axios ã§ RSS ãƒ•ã‚£ãƒ¼ãƒ‰ã‚’å–å¾—\n4. cheerio ã§ XML ã‚’ãƒ‘ãƒ¼ã‚¹\n5. ã‚¿ã‚¤ãƒˆãƒ«ã‚’æŠ½å‡º\n6. ãƒˆãƒ”ãƒƒã‚¯ã‚’æ‹¡å¼µï¼ˆã‚«ãƒ†ã‚´ãƒªã«åˆã‚ã›ãŸè¡¨ç¾ï¼‰\n\n**ãªãœã“ã®é †åºã‹**ï¼š\nãƒˆãƒ¬ãƒ³ãƒ‰ãƒˆãƒ”ãƒƒã‚¯ã‚’å–å¾—ã™ã‚‹ã“ã¨ã§ã€æ™‚äº‹æ€§ã®é«˜ã„è¨˜äº‹ã‚’ç”Ÿæˆã§ãã‚‹ã€‚\n\n**ä½¿ç”¨ã™ã‚‹æŠ€è¡“ãƒ»æ‰‹æ³•**ï¼š\n- `skill_google_news_rss_scraping_2025_04_22.md`\n- `skill_fallback_mechanism_external_api_2025_04_22.md`ï¼ˆã‚¨ãƒ©ãƒ¼æ™‚ï¼‰\n\n**ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°**ï¼š\nGoogle News RSSå–å¾—å¤±æ•—æ™‚ï¼š\n- ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ãƒˆãƒ”ãƒƒã‚¯ã‚’ä½¿ç”¨ï¼ˆé™çš„ãƒ‡ãƒ¼ã‚¿ï¼‰\n- ã‚·ã‚¹ãƒ†ãƒ ã‚’åœæ­¢ã•ã›ãªã„\n\n---\n\n### ã‚¹ãƒ†ãƒƒãƒ—3ï¼šãƒˆãƒ”ãƒƒã‚¯ã‚’ãƒ©ãƒ³ãƒ€ãƒ é¸æŠ\n\n**ä½•ã‚’ã™ã‚‹ã‹**ï¼š\nå–å¾—ã—ãŸ5ã¤ã®ãƒˆãƒ”ãƒƒã‚¯ã‹ã‚‰1ã¤ã‚’ãƒ©ãƒ³ãƒ€ãƒ ã«é¸æŠã€‚\n\n**å®Ÿè£…**ï¼š\n```typescript\nconst topic = topics[Math.floor(Math.random() * topics.length)];\n```\n\n**ãªãœã“ã®é †åºã‹**ï¼š\næ¯å›ç•°ãªã‚‹ãƒˆãƒ”ãƒƒã‚¯ã‚’é¸ã¶ã“ã¨ã§ã€è¨˜äº‹ã®å¤šæ§˜æ€§ã‚’ç¢ºä¿ã€‚\n\n---\n\n### ã‚¹ãƒ†ãƒƒãƒ—4ï¼šã‚«ãƒ†ã‚´ãƒªåˆ¥ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”Ÿæˆ\n\n**ä½•ã‚’ã™ã‚‹ã‹**ï¼š\né¸æŠã•ã‚ŒãŸãƒˆãƒ”ãƒƒã‚¯ã¨ã‚«ãƒ†ã‚´ãƒªã«åŸºã¥ã„ã¦ã€Gemini APIç”¨ã®ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’ç”Ÿæˆã€‚\n\n**å®Ÿè£…**ï¼š\n```typescript\nconst prompt = await createArticlePrompt(topic, category);\n```\n\nå†…éƒ¨å‡¦ç†ï¼š\n1. é–¢é€£ãƒ‹ãƒ¥ãƒ¼ã‚¹ã‚’å–å¾—ï¼ˆGoogle News RSSã€3ä»¶ï¼‰\n2. åŸºæœ¬ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’ç”Ÿæˆï¼ˆè¨˜äº‹æ§‹é€ ã€æ–‡å­—æ•°ç­‰ï¼‰\n3. ã‚«ãƒ†ã‚´ãƒªåˆ¥ã®ç‰¹åˆ¥ãªæŒ‡ç¤ºã‚’è¿½åŠ \n4. ãƒ‹ãƒ¥ãƒ¼ã‚¹æƒ…å ±ã‚’ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã«è¿½åŠ \n\n**ãªãœã“ã®é †åºã‹**ï¼š\nãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’ç”Ÿæˆã™ã‚‹å‰ã«ã€ãƒˆãƒ”ãƒƒã‚¯ã¨ã‚«ãƒ†ã‚´ãƒªãŒç¢ºå®šã—ã¦ã„ã‚‹å¿…è¦ãŒã‚ã‚‹ã€‚\n\n**ä½¿ç”¨ã™ã‚‹æŠ€è¡“ãƒ»æ‰‹æ³•**ï¼š\n- `skill_prompt_engineering_category_custom_2025_04_22.md`\n- `skill_seo_blog_structure_2025_04_22.md`\n\n---\n\n### ã‚¹ãƒ†ãƒƒãƒ—5ï¼šGemini APIã§è¨˜äº‹ç”Ÿæˆ\n\n**ä½•ã‚’ã™ã‚‹ã‹**ï¼š\nç”Ÿæˆã—ãŸãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’Gemini APIã«é€ä¿¡ã—ã€è¨˜äº‹æœ¬æ–‡ã‚’ç”Ÿæˆã€‚\n\n**å®Ÿè£…**ï¼š\n```typescript\nconst content = await generateWithGemini(prompt, {}, apiKey);\n```\n\nå†…éƒ¨å‡¦ç†ï¼š\n1. Google Generative AI ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚’åˆæœŸåŒ–\n2. ãƒ¢ãƒ‡ãƒ«è¨­å®šï¼ˆtemperature: 0.7, topP: 0.9ç­‰ï¼‰\n3. å®‰å…¨æ€§è¨­å®šï¼ˆHarmCategoryï¼‰\n4. ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”Ÿæˆ\n5. ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãƒ†ã‚­ã‚¹ãƒˆã‚’å–å¾—\n\n**ãªãœã“ã®é †åºã‹**ï¼š\nãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãŒå®Œæˆã—ã¦ã‹ã‚‰ã€APIå‘¼ã³å‡ºã—ã‚’è¡Œã†ã€‚\n\n**ä½¿ç”¨ã™ã‚‹æŠ€è¡“ãƒ»æ‰‹æ³•**ï¼š\n- Gemini 1.5 Pro\n- temperature: 0.7\n- maxOutputTokens: 4096\n\n**æ‰€è¦æ™‚é–“**ï¼š\n3-5ç§’\n\n---\n\n### ã‚¹ãƒ†ãƒƒãƒ—6ï¼šã‚¿ã‚¤ãƒˆãƒ«æŠ½å‡º\n\n**ä½•ã‚’ã™ã‚‹ã‹**ï¼š\nç”Ÿæˆã•ã‚ŒãŸMarkdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‹ã‚‰ã€ã‚¿ã‚¤ãƒˆãƒ«ï¼ˆh1è¦‹å‡ºã—ï¼‰ã‚’æŠ½å‡ºã€‚\n\n**å®Ÿè£…**ï¼š\n```typescript\nconst titleMatch = content.match(/^# (.+)$/m);\nconst title = titleMatch ? titleMatch[1] : topic;\n```\n\n**ãªãœã“ã®é †åºã‹**ï¼š\nã‚¿ã‚¤ãƒˆãƒ«ã¯å¾Œç¶šã®ã‚¹ãƒ†ãƒƒãƒ—ï¼ˆã‚¹ãƒ©ã‚°ç”Ÿæˆã€Frontmatterç”Ÿæˆï¼‰ã§å¿…è¦ã€‚\n\n**ä½¿ç”¨ã™ã‚‹æŠ€è¡“ãƒ»æ‰‹æ³•**ï¼š\n- `skill_article_title_extraction_2025_04_22.md`\n\n**ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯**ï¼š\nã‚¿ã‚¤ãƒˆãƒ«ãŒè¦‹ã¤ã‹ã‚‰ãªã„å ´åˆã€å…ƒã®ãƒˆãƒ”ãƒƒã‚¯ã‚’ä½¿ç”¨ã€‚\n\n---\n\n### ã‚¹ãƒ†ãƒƒãƒ—7ï¼šã‚¹ãƒ©ã‚°ç”Ÿæˆãƒ»è¡çªãƒã‚§ãƒƒã‚¯\n\n**ä½•ã‚’ã™ã‚‹ã‹**ï¼š\nã‚¿ã‚¤ãƒˆãƒ«ã‹ã‚‰URLã«ä½¿ãˆã‚‹ã‚¹ãƒ©ã‚°ã‚’ç”Ÿæˆã—ã€æ—¢å­˜ã®ã‚¹ãƒ©ã‚°ã¨ã®è¡çªã‚’ãƒã‚§ãƒƒã‚¯ã€‚\n\n**å®Ÿè£…**ï¼š\n```typescript\nlet slug = generateSlug(title);\n\nconst existingSlugs = getExistingSlugs();\nif (existingSlugs.includes(slug)) {\n  slug = `${slug}-${Date.now()}`;\n}\n```\n\n**ãªãœã“ã®é †åºã‹**ï¼š\nãƒ•ã‚¡ã‚¤ãƒ«åã‚’æ±ºå®šã™ã‚‹å‰ã«ã€è¡çªã‚’ãƒã‚§ãƒƒã‚¯ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã€‚\n\n**ä½¿ç”¨ã™ã‚‹æŠ€è¡“ãƒ»æ‰‹æ³•**ï¼š\n- `skill_slug_generation_collision_check_2025_04_22.md`\n\n---\n\n### ã‚¹ãƒ†ãƒƒãƒ—8ï¼šFrontmatterä»˜ãã§ä¿å­˜\n\n**ä½•ã‚’ã™ã‚‹ã‹**ï¼š\nFrontmatterï¼ˆãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ï¼‰ã‚’è‡ªå‹•ç”Ÿæˆã—ã€è¨˜äº‹æœ¬æ–‡ã¨çµåˆã—ã¦ãƒ•ã‚¡ã‚¤ãƒ«ã«ä¿å­˜ã€‚\n\n**å®Ÿè£…**ï¼š\n```typescript\nconst frontMatter = `---\ntitle: \"${title}\"\ndate: \"${new Date().toISOString()}\"\ncategory: \"${category}\"\nslug: \"${slug}\"\nexcerpt: \"${content.split('\\n\\n')[1]?.slice(0, 150)}...\"\n---\n\n`;\n\nconst fileName = `${date}-${slug}.md`;\nconst filePath = path.join(contentDir, category, fileName);\nawait writeFile(filePath, frontMatter + content, 'utf8');\n```\n\n**ãªãœã“ã®é †åºã‹**ï¼š\nå…¨ã¦ã®ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ï¼ˆtitle, category, slugï¼‰ãŒç¢ºå®šã—ã¦ã‹ã‚‰ã€ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä¿å­˜ã€‚\n\n**ä½¿ç”¨ã™ã‚‹æŠ€è¡“ãƒ»æ‰‹æ³•**ï¼š\n- `skill_frontmatter_auto_generation_2025_04_22.md`\n\n**ä¿å­˜å…ˆ**ï¼š\n```\ncontent/blog/{category}/{YYYY-MM-DD}-{slug}.md\n```\n\n---\n\n### ã‚¹ãƒ†ãƒƒãƒ—9ï¼šGitã‚³ãƒŸãƒƒãƒˆãƒ»ãƒ—ãƒƒã‚·ãƒ¥\n\n**ä½•ã‚’ã™ã‚‹ã‹**ï¼š\nç”Ÿæˆã•ã‚ŒãŸè¨˜äº‹ã‚’Gitã«ã‚³ãƒŸãƒƒãƒˆã—ã€ãƒªãƒ¢ãƒ¼ãƒˆãƒªãƒã‚¸ãƒˆãƒªã«ãƒ—ãƒƒã‚·ãƒ¥ã€‚\n\n**å®Ÿè£…**ï¼š\n```bash\ngit config --local user.email \"github-actions@github.com\"\ngit config --local user.name \"GitHub Actions\"\ngit add content/blog\ngit diff --staged --quiet || (git commit -m \"è‡ªå‹•ç”Ÿæˆ: ãƒ–ãƒ­ã‚°è¨˜äº‹è¿½åŠ  $(date +'%Y-%m-%d')\" && git push)\n```\n\n**ãªãœã“ã®é †åºã‹**ï¼š\nãƒ•ã‚¡ã‚¤ãƒ«ãŒä¿å­˜ã•ã‚ŒãŸå¾Œã€Gitã«ã‚³ãƒŸãƒƒãƒˆã€‚\n\n**ä½¿ç”¨ã™ã‚‹æŠ€è¡“ãƒ»æ‰‹æ³•**ï¼š\n- `skill_github_actions_cron_automation_2025_04_22.md`\n\n**é‡è¦ãªãƒã‚¤ãƒ³ãƒˆ**ï¼š\n- `git diff --staged --quiet`ï¼šå¤‰æ›´ãŒãªã„å ´åˆã¯ã‚³ãƒŸãƒƒãƒˆã—ãªã„\n- è¨˜äº‹ç”Ÿæˆã«å¤±æ•—ã—ãŸå ´åˆã€ç©ºã‚³ãƒŸãƒƒãƒˆã‚’é˜²ã\n\n---\n\n### ã‚¹ãƒ†ãƒƒãƒ—10ï¼šVercelè‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤\n\n**ä½•ã‚’ã™ã‚‹ã‹**ï¼š\nGitã«ãƒ—ãƒƒã‚·ãƒ¥ã•ã‚ŒãŸã‚³ãƒŸãƒƒãƒˆã‚’VercelãŒæ¤œçŸ¥ã—ã€è‡ªå‹•çš„ã«ãƒ“ãƒ«ãƒ‰ãƒ»ãƒ‡ãƒ—ãƒ­ã‚¤ã€‚\n\n**å®Ÿè£…**ï¼š\nVercelã®è¨­å®šï¼ˆè‡ªå‹•ï¼‰ï¼š\n- GitHub ãƒªãƒã‚¸ãƒˆãƒªã¨é€£æº\n- mainãƒ–ãƒ©ãƒ³ãƒã¸ã®ãƒ—ãƒƒã‚·ãƒ¥ã‚’æ¤œçŸ¥\n- è‡ªå‹•ãƒ“ãƒ«ãƒ‰ãƒ»ãƒ‡ãƒ—ãƒ­ã‚¤\n\n**ãªãœã“ã®é †åºã‹**ï¼š\nGitã«ãƒ—ãƒƒã‚·ãƒ¥ã•ã‚ŒãŸå¾Œã€VercelãŒè‡ªå‹•çš„ã«ãƒ‡ãƒ—ãƒ­ã‚¤ã€‚\n\n**æ‰€è¦æ™‚é–“**ï¼š\n2-3åˆ†\n\n---\n\n### ã‚¹ãƒ†ãƒƒãƒ—11ï¼šè¨˜äº‹å…¬é–‹\n\n**ä½•ã‚’ã™ã‚‹ã‹**ï¼š\nVercelã®ãƒ‡ãƒ—ãƒ­ã‚¤ãŒå®Œäº†ã—ã€è¨˜äº‹ãŒå…¬é–‹ã•ã‚Œã‚‹ã€‚\n\n**URL**ï¼š\n```\nhttps://your-blog.vercel.app/blog/{slug}\n```\n\n---\n\n## ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°\n\n### ã‚¨ãƒ©ãƒ¼1ï¼šGoogle News RSSå–å¾—å¤±æ•—\n\n**å¯¾å‡¦æ³•**ï¼š\n- ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ãƒˆãƒ”ãƒƒã‚¯ä½¿ç”¨\n- ã‚·ã‚¹ãƒ†ãƒ ã‚’åœæ­¢ã•ã›ãªã„\n\n### ã‚¨ãƒ©ãƒ¼2ï¼šGemini APIå¤±æ•—\n\n**å¯¾å‡¦æ³•**ï¼š\n- ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°å‡ºåŠ›\n- æ¬¡å›ã®cronå®Ÿè¡Œã§å†è©¦è¡Œ\n\n### ã‚¨ãƒ©ãƒ¼3ï¼šGit ãƒ—ãƒƒã‚·ãƒ¥å¤±æ•—\n\n**å¯¾å‡¦æ³•**ï¼š\n- GitHub ActionsãŒã‚¨ãƒ©ãƒ¼ã‚’è¨˜éŒ²\n- æ¬¡å›ã®cronå®Ÿè¡Œã§å†è©¦è¡Œ\n\n---\n\n## å†ç¾æ–¹æ³•\n\n### æ‰‹å‹•å®Ÿè¡Œ\n\n```bash\n# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆã§å®Ÿè¡Œ\nnpm run generate\n```\n\n### GitHub Actionsã§å®Ÿè¡Œ\n\n1. GitHub â†’ Actions ã‚¿ãƒ–\n2. \"Generate Daily Blog Post\" ã‚’é¸æŠ\n3. \"Run workflow\" ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯\n\n### cronè‡ªå‹•å®Ÿè¡Œ\n\næ¯æ—¥UTC 0æ™‚ï¼ˆæ—¥æœ¬æ™‚é–“9æ™‚ï¼‰ã«è‡ªå‹•å®Ÿè¡Œã€‚\n\n---\n\n## æ‰€è¦æ™‚é–“\n\n| ã‚¹ãƒ†ãƒƒãƒ— | æ‰€è¦æ™‚é–“ |\n|---------|---------|\n| ã‚«ãƒ†ã‚´ãƒªé¸æŠ | <1ç§’ |\n| ãƒˆãƒ”ãƒƒã‚¯å–å¾— | 2-3ç§’ |\n| ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”Ÿæˆ | <1ç§’ |\n| Gemini API | 3-5ç§’ |\n| ãƒ•ã‚¡ã‚¤ãƒ«ä¿å­˜ | <1ç§’ |\n| Gitæ“ä½œ | 2-3ç§’ |\n| **åˆè¨ˆ** | **8-13ç§’** |\n\nVercel ãƒ‡ãƒ—ãƒ­ã‚¤ï¼ˆåˆ¥ãƒ—ãƒ­ã‚»ã‚¹ï¼‰ï¼š2-3åˆ†\n\n---\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `skill_google_news_rss_scraping_2025_04_22.md` - ã‚¹ãƒ†ãƒƒãƒ—2\n- `skill_prompt_engineering_category_custom_2025_04_22.md` - ã‚¹ãƒ†ãƒƒãƒ—4\n- `skill_slug_generation_collision_check_2025_04_22.md` - ã‚¹ãƒ†ãƒƒãƒ—7\n- `skill_github_actions_cron_automation_2025_04_22.md` - GitHub Actionsè¨­å®š\n",
    "prompt": "### æ‰‹å‹•å®Ÿè¡Œ\n\n```bash\n# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆã§å®Ÿè¡Œ\nnpm run generate\n```\n\n### GitHub Actionsã§å®Ÿè¡Œ\n\n1. GitHub â†’ Actions ã‚¿ãƒ–\n2. \"Generate Daily Blog Post\" ã‚’é¸æŠ\n3. \"Run workflow\" ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯\n\n### cronè‡ªå‹•å®Ÿè¡Œ\n\næ¯æ—¥UTC 0æ™‚ï¼ˆæ—¥æœ¬æ™‚é–“9æ™‚ï¼‰ã«è‡ªå‹•å®Ÿè¡Œã€‚\n\n---",
    "relatedTech": [
      "skill-google-news-rss-scraping",
      "skill-prompt-engineering-category-custom",
      "skill-github-actions-cron-automation"
    ]
  },
  {
    "slug": "chapter-generation-complete-pipeline",
    "title": "ç« ç”Ÿæˆå®Œå…¨ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³",
    "category": "Workflowsï¼ˆãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ï¼‰",
    "description": "ç« ç”Ÿæˆå®Œå…¨ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³",
    "project": "novel-automation-system-v2",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"workflow_chapter_generation_pipeline_2025_11_25\",\n  \"type\": \"workflow\",\n  \"name\": \"ç« ç”Ÿæˆå®Œå…¨ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³\",\n  \"tags\": [\"ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼\", \"ç« ç”Ÿæˆ\", \"AIç”Ÿæˆ\", \"å°èª¬ç”Ÿæˆ\", \"çµ±åˆãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³\", \"ã‚¨ãƒ³ãƒ‰ãƒ„ãƒ¼ã‚¨ãƒ³ãƒ‰\"],\n  \"source_project\": \"novel-automation-system-v2\",\n  \"related_knowledge\": [\n    \"workflow_prompt_generation_three_phase_2025_11_25\",\n    \"skill_parameter_dynamic_adjustment_2025_11_25\",\n    \"skill_use_case_model_selection_2025_11_25\",\n    \"decision_gemini_2_0_flash_lite_choice_2025_11_25\"\n  ],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# ç« ç”Ÿæˆå®Œå…¨ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³\n\n## ä½•ã®ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‹\n\nãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã€Œç¬¬10ç« ã‚’ç”Ÿæˆã€ã¨æŒ‡ç¤ºã—ã¦ã‹ã‚‰ã€å®Œæˆã—ãŸç« ã®æœ¬æ–‡ãŒå‡ºåŠ›ã•ã‚Œã‚‹ã¾ã§ã®ã€ã‚¨ãƒ³ãƒ‰ãƒ„ãƒ¼ã‚¨ãƒ³ãƒ‰ã®å®Œå…¨è‡ªå‹•åŒ–ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã€‚\n\n## ãƒ•ãƒ­ãƒ¼å…¨ä½“å›³\n\n```\n[é–‹å§‹: ãƒ¦ãƒ¼ã‚¶ãƒ¼æŒ‡ç¤ºã€Œç¬¬Nç« ã‚’ç”Ÿæˆã€]\n         â†“\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚ STEP 1: äº‹å‰æº–å‚™ãƒ»æ¤œè¨¼               â”‚\nâ”‚ - ãƒãƒ£ãƒ—ã‚¿ãƒ¼ç•ªå·ã®æ¤œè¨¼               â”‚\nâ”‚ - å‰ç« ã®å­˜åœ¨ç¢ºèª                     â”‚\nâ”‚ - ã‚·ã‚¹ãƒ†ãƒ çŠ¶æ…‹ãƒã‚§ãƒƒã‚¯               â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n         â†“\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚ STEP 2: ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿æ±ºå®š               â”‚\nâ”‚ - ç« ã‚¿ã‚¤ãƒ—ã®åˆ¤å®š                     â”‚\nâ”‚ - ãƒ¢ãƒ‡ãƒ«é¸æŠ                         â”‚\nâ”‚ - ç”Ÿæˆãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿èª¿æ•´                 â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n         â†“\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚ STEP 3: ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”Ÿæˆï¼ˆ3ãƒ•ã‚§ãƒ¼ã‚ºï¼‰  â”‚\nâ”‚ - 8ã‚·ã‚¹ãƒ†ãƒ ãƒ‡ãƒ¼ã‚¿åé›†                â”‚\nâ”‚ - çµ±åˆã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆæ§‹ç¯‰               â”‚\nâ”‚ - è¶…é«˜å¯†åº¦ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”Ÿæˆ             â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n         â†“\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚ STEP 4: AIç”Ÿæˆå®Ÿè¡Œ                   â”‚\nâ”‚ - Gemini APIã‚³ãƒ¼ãƒ«                   â”‚\nâ”‚ - ãƒªãƒˆãƒ©ã‚¤æ©Ÿæ§‹ï¼ˆæœ€å¤§3å›ï¼‰            â”‚\nâ”‚ - ãƒ¬ãƒ¼ãƒˆåˆ¶é™ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°             â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n         â†“\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚ STEP 5: å¾Œå‡¦ç†ãƒ»å“è³ªä¿è¨¼             â”‚\nâ”‚ - æ–‡å­—æ•°æ¤œè¨¼                         â”‚\nâ”‚ - å½¢å¼æ¤œè¨¼                           â”‚\nâ”‚ - ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ä¸€è²«æ€§ãƒã‚§ãƒƒã‚¯         â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n         â†“\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚ STEP 6: è¨˜æ†¶ãƒ»åˆ†æã®æ›´æ–°             â”‚\nâ”‚ - çŸ­æœŸè¨˜æ†¶ã¸ã®ä¿å­˜                   â”‚\nâ”‚ - å“è³ªåˆ†æã®å®Ÿè¡Œ                     â”‚\nâ”‚ - ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼çŠ¶æ…‹ã®æ›´æ–°             â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n         â†“\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚ STEP 7: ä¿å­˜ãƒ»å‡ºåŠ›                   â”‚\nâ”‚ - ãƒ•ã‚¡ã‚¤ãƒ«ä¿å­˜                       â”‚\nâ”‚ - ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿è¨˜éŒ²                     â”‚\nâ”‚ - ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¸ã®å‡ºåŠ›                   â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n         â†“\n[å®Œäº†: ç« ã®æœ¬æ–‡ + ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿]\n```\n\n## å„ã‚¹ãƒ†ãƒƒãƒ—ã®è©³ç´°\n\n### STEP 1: äº‹å‰æº–å‚™ãƒ»æ¤œè¨¼\n\n**ä½•ã‚’ã™ã‚‹ã‹**ï¼š\nç”Ÿæˆå‰ã«å¿…è¦ãªæ¡ä»¶ãŒæƒã£ã¦ã„ã‚‹ã‹ã‚’ç¢ºèªã™ã‚‹ã€‚\n\n**ãªãœã“ã®ã‚¹ãƒ†ãƒƒãƒ—ã‹**ï¼š\nã‚¨ãƒ©ãƒ¼ã‚’æ—©æœŸã«æ¤œå‡ºã—ã€ç„¡é§„ãªAPIå‘¼ã³å‡ºã—ã‚’é¿ã‘ã‚‹ãŸã‚ã€‚\n\n**å®Ÿè£…ä¾‹**ï¼š\n\n```typescript\nasync function step1PreparationValidation(chapterNumber: number): Promise<void> {\n  console.log('STEP 1: äº‹å‰æº–å‚™ãƒ»æ¤œè¨¼');\n\n  // æ¤œè¨¼1: ãƒãƒ£ãƒ—ã‚¿ãƒ¼ç•ªå·ã®å¦¥å½“æ€§\n  if (chapterNumber < 1 || chapterNumber > 1000) {\n    throw new Error(`ä¸æ­£ãªãƒãƒ£ãƒ—ã‚¿ãƒ¼ç•ªå·: ${chapterNumber}`);\n  }\n\n  // æ¤œè¨¼2: å‰ç« ã®å­˜åœ¨ç¢ºèªï¼ˆç¬¬1ç« ä»¥å¤–ï¼‰\n  if (chapterNumber > 1) {\n    const previousChapterExists = await checkChapterExists(chapterNumber - 1);\n    if (!previousChapterExists) {\n      throw new Error(`å‰ç« ï¼ˆç¬¬${chapterNumber - 1}ç« ï¼‰ãŒå­˜åœ¨ã—ã¾ã›ã‚“`);\n    }\n  }\n\n  // æ¤œè¨¼3: ã‚·ã‚¹ãƒ†ãƒ çŠ¶æ…‹ãƒã‚§ãƒƒã‚¯\n  const systemHealth = await checkSystemHealth();\n  if (!systemHealth.healthy) {\n    throw new Error(`ã‚·ã‚¹ãƒ†ãƒ ã‚¨ãƒ©ãƒ¼: ${systemHealth.error}`);\n  }\n\n  // æ¤œè¨¼4: APIåˆ©ç”¨å¯èƒ½æ€§ç¢ºèª\n  const apiAvailable = await checkGeminiAPIAvailability();\n  if (!apiAvailable) {\n    throw new Error('Gemini APIãŒåˆ©ç”¨ã§ãã¾ã›ã‚“');\n  }\n\n  console.log('STEP 1å®Œäº†: ã™ã¹ã¦ã®æ¤œè¨¼ã«åˆæ ¼');\n}\n```\n\n**æ‰€è¦æ™‚é–“**: ç´„0.1-0.2ç§’\n\n### STEP 2: ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿æ±ºå®š\n\n**ä½•ã‚’ã™ã‚‹ã‹**ï¼š\nç« ã‚¿ã‚¤ãƒ—ã€ä½¿ç”¨ãƒ¢ãƒ‡ãƒ«ã€ç”Ÿæˆãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’æ±ºå®šã™ã‚‹ã€‚\n\n**å®Ÿè£…ä¾‹**ï¼š\n\n```typescript\nasync function step2DetermineParameters(chapterNumber: number): Promise<GenerationConfig> {\n  console.log('STEP 2: ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿æ±ºå®š');\n\n  // ã‚µãƒ–ã‚¹ãƒ†ãƒƒãƒ—1: ç« ã‚¿ã‚¤ãƒ—ã®åˆ¤å®š\n  const chapterType = await determineChapterType(chapterNumber);\n\n  // ã‚µãƒ–ã‚¹ãƒ†ãƒƒãƒ—2: ã‚¸ãƒ£ãƒ³ãƒ«ã®å–å¾—\n  const genre = await getProjectGenre(); // 'business'\n\n  // ã‚µãƒ–ã‚¹ãƒ†ãƒƒãƒ—3: ãƒ†ãƒ³ã‚·ãƒ§ãƒ³ãƒ»ãƒšãƒ¼ã‚·ãƒ³ã‚°ã®å–å¾—\n  const narrativeState = await getNarrativeState(chapterNumber);\n\n  // ã‚µãƒ–ã‚¹ãƒ†ãƒƒãƒ—4: ãƒ¢ãƒ‡ãƒ«é¸æŠ\n  const modelSelector = new ModelSelector();\n  const model = modelSelector.selectModel('content', {\n    chapterType,\n    qualityRequirement: ['OPENING', 'CLOSING', 'REVELATION'].includes(chapterType)\n      ? 'high'\n      : 'standard',\n    budgetConstraint: 'moderate'\n  });\n\n  // ã‚µãƒ–ã‚¹ãƒ†ãƒƒãƒ—5: ç”Ÿæˆãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿èª¿æ•´\n  const paramAdjuster = new ParameterAdjuster();\n  const params = paramAdjuster.adjustComprehensively(DEFAULT_PARAMS, {\n    chapterType,\n    tensionLevel: narrativeState.tension,\n    pacing: narrativeState.pacing,\n    genre\n  });\n\n  const config: GenerationConfig = {\n    chapterNumber,\n    chapterType,\n    genre,\n    model,\n    parameters: params,\n    maxTokens: 8000\n  };\n\n  console.log('STEP 2å®Œäº†:', config);\n  return config;\n}\n```\n\n**æ‰€è¦æ™‚é–“**: ç´„0.2-0.3ç§’\n\n### STEP 3: ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”Ÿæˆï¼ˆ3ãƒ•ã‚§ãƒ¼ã‚ºï¼‰\n\n**ä½•ã‚’ã™ã‚‹ã‹**ï¼š\n3ãƒ•ã‚§ãƒ¼ã‚ºãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ï¼ˆãƒ‡ãƒ¼ã‚¿åé›†ã€ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆæ§‹ç¯‰ã€ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”Ÿæˆï¼‰ã‚’å®Ÿè¡Œã€‚\n\n**å®Ÿè£…ä¾‹**ï¼š\n\n```typescript\nasync function step3GeneratePrompt(config: GenerationConfig): Promise<string> {\n  console.log('STEP 3: ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”Ÿæˆï¼ˆ3ãƒ•ã‚§ãƒ¼ã‚ºï¼‰');\n\n  // è©³ç´°ã¯ workflow_prompt_generation_three_phase_2025_11_25.md ã‚’å‚ç…§\n  const prompt = await generateChapterPrompt(config.chapterNumber, {\n    chapterType: config.chapterType,\n    genre: config.genre,\n    maxTokens: config.maxTokens\n  });\n\n  console.log(`STEP 3å®Œäº†: ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆé•· ${prompt.length}æ–‡å­—`);\n  return prompt;\n}\n```\n\n**æ‰€è¦æ™‚é–“**: ç´„0.8-1.5ç§’ï¼ˆ3ãƒ•ã‚§ãƒ¼ã‚ºãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã®åˆè¨ˆï¼‰\n\n### STEP 4: AIç”Ÿæˆå®Ÿè¡Œ\n\n**ä½•ã‚’ã™ã‚‹ã‹**ï¼š\nGemini APIã‚’å‘¼ã³å‡ºã—ã€ç« ã®æœ¬æ–‡ã‚’ç”Ÿæˆã™ã‚‹ã€‚ãƒªãƒˆãƒ©ã‚¤æ©Ÿæ§‹ä»˜ãã€‚\n\n**å®Ÿè£…ä¾‹**ï¼š\n\n```typescript\nasync function step4ExecuteAIGeneration(\n  prompt: string,\n  config: GenerationConfig\n): Promise<string> {\n  console.log('STEP 4: AIç”Ÿæˆå®Ÿè¡Œ');\n\n  const geminiClient = new GeminiClient();\n  let attempt = 0;\n  const maxRetries = 3;\n\n  while (attempt < maxRetries) {\n    try {\n      const result = await geminiClient.generateText({\n        prompt,\n        model: config.model,\n        temperature: config.parameters.temperature,\n        topP: config.parameters.topP,\n        topK: config.parameters.topK,\n        maxOutputTokens: Math.floor(config.parameters.targetLength / 2), // æ–‡å­—æ•°â†’ãƒˆãƒ¼ã‚¯ãƒ³æ¦‚ç®—\n      });\n\n      console.log(`STEP 4å®Œäº†: ç”Ÿæˆæ–‡å­—æ•° ${result.length}`);\n      return result;\n\n    } catch (error) {\n      attempt++;\n      console.error(`ç”Ÿæˆå¤±æ•—ï¼ˆè©¦è¡Œ ${attempt}/${maxRetries}ï¼‰:`, error);\n\n      if (attempt >= maxRetries) {\n        throw new Error(`AIç”Ÿæˆå¤±æ•—: ${maxRetries}å›è©¦è¡Œå¾Œã‚‚å¤±æ•—`);\n      }\n\n      // æŒ‡æ•°ãƒãƒƒã‚¯ã‚ªãƒ•\n      const waitTime = Math.pow(2, attempt) * 1000; // 2ç§’, 4ç§’, 8ç§’\n      await new Promise(resolve => setTimeout(resolve, waitTime));\n    }\n  }\n\n  throw new Error('äºˆæœŸã—ãªã„ã‚¨ãƒ©ãƒ¼');\n}\n```\n\n**æ‰€è¦æ™‚é–“**: ç´„2-5ç§’ï¼ˆAPIãƒ¬ã‚¹ãƒãƒ³ã‚¹æ™‚é–“ã«ä¾å­˜ï¼‰\n\n### STEP 5: å¾Œå‡¦ç†ãƒ»å“è³ªä¿è¨¼\n\n**ä½•ã‚’ã™ã‚‹ã‹**ï¼š\nç”Ÿæˆã•ã‚ŒãŸæœ¬æ–‡ã®å“è³ªã‚’æ¤œè¨¼ã—ã€å¿…è¦ã«å¿œã˜ã¦ä¿®æ­£ã‚’è¡Œã†ã€‚\n\n**å®Ÿè£…ä¾‹**ï¼š\n\n```typescript\nasync function step5PostProcessingQA(\n  generatedText: string,\n  config: GenerationConfig\n): Promise<string> {\n  console.log('STEP 5: å¾Œå‡¦ç†ãƒ»å“è³ªä¿è¨¼');\n\n  let text = generatedText;\n\n  // æ¤œè¨¼1: æ–‡å­—æ•°ãƒã‚§ãƒƒã‚¯\n  const charCount = text.length;\n  if (charCount < config.parameters.minLength) {\n    console.warn(`æ–‡å­—æ•°ä¸è¶³: ${charCount} < ${config.parameters.minLength}`);\n    // å†ç”Ÿæˆã¾ãŸã¯è­¦å‘Š\n  }\n  if (charCount > config.parameters.maxLength) {\n    console.warn(`æ–‡å­—æ•°è¶…é: ${charCount} > ${config.parameters.maxLength}`);\n    text = text.substring(0, config.parameters.maxLength);\n  }\n\n  // æ¤œè¨¼2: å½¢å¼æ¤œè¨¼\n  if (!text.trim()) {\n    throw new Error('ç©ºã®æœ¬æ–‡ãŒç”Ÿæˆã•ã‚Œã¾ã—ãŸ');\n  }\n\n  // æ¤œè¨¼3: ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ä¸€è²«æ€§ãƒã‚§ãƒƒã‚¯\n  const characterConsistency = await checkCharacterConsistency(text, config.chapterNumber);\n  if (characterConsistency.issues.length > 0) {\n    console.warn('ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ä¸€è²«æ€§ã®å•é¡Œ:', characterConsistency.issues);\n  }\n\n  // æ¤œè¨¼4: ç¦æ­¢ãƒ¯ãƒ¼ãƒ‰ãƒã‚§ãƒƒã‚¯\n  const forbiddenWords = await checkForbiddenWords(text);\n  if (forbiddenWords.length > 0) {\n    console.warn('ç¦æ­¢ãƒ¯ãƒ¼ãƒ‰æ¤œå‡º:', forbiddenWords);\n    text = replaceForbiddenWords(text, forbiddenWords);\n  }\n\n  console.log('STEP 5å®Œäº†: å“è³ªä¿è¨¼å®Œäº†');\n  return text;\n}\n```\n\n**æ‰€è¦æ™‚é–“**: ç´„0.3-0.5ç§’\n\n### STEP 6: è¨˜æ†¶ãƒ»åˆ†æã®æ›´æ–°\n\n**ä½•ã‚’ã™ã‚‹ã‹**ï¼š\nç”Ÿæˆã•ã‚ŒãŸç« ã‚’å„ã‚·ã‚¹ãƒ†ãƒ ã«åæ˜ ã•ã›ã‚‹ã€‚\n\n**å®Ÿè£…ä¾‹**ï¼š\n\n```typescript\nasync function step6UpdateMemoryAnalysis(\n  chapterText: string,\n  config: GenerationConfig\n): Promise<void> {\n  console.log('STEP 6: è¨˜æ†¶ãƒ»åˆ†æã®æ›´æ–°');\n\n  // ä¸¦åˆ—å®Ÿè¡Œã§åŠ¹ç‡åŒ–\n  await Promise.allSettled([\n    // çŸ­æœŸè¨˜æ†¶ã¸ã®ä¿å­˜\n    memoryManager.saveToShortTermMemory(config.chapterNumber, chapterText),\n\n    // å“è³ªåˆ†æã®å®Ÿè¡Œ\n    analysisCoordinator.analyzeChapter(config.chapterNumber, chapterText),\n\n    // ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼çŠ¶æ…‹ã®æ›´æ–°\n    characterManager.updateCharacterStates(config.chapterNumber, chapterText),\n\n    // ãƒ—ãƒ­ãƒƒãƒˆé€²è¡Œã®è¨˜éŒ²\n    plotManager.recordPlotProgress(config.chapterNumber, chapterText),\n\n    // å­¦ç¿’æ—…ç¨‹ã®æ›´æ–°\n    learningJourneySystem.updateJourneyState(config.chapterNumber, chapterText)\n  ]);\n\n  console.log('STEP 6å®Œäº†: å…¨ã‚·ã‚¹ãƒ†ãƒ æ›´æ–°å®Œäº†');\n}\n```\n\n**æ‰€è¦æ™‚é–“**: ç´„0.5-0.8ç§’ï¼ˆä¸¦åˆ—å®Ÿè¡Œï¼‰\n\n### STEP 7: ä¿å­˜ãƒ»å‡ºåŠ›\n\n**ä½•ã‚’ã™ã‚‹ã‹**ï¼š\nç”Ÿæˆã•ã‚ŒãŸç« ã‚’ãƒ•ã‚¡ã‚¤ãƒ«ã«ä¿å­˜ã—ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«å‡ºåŠ›ã™ã‚‹ã€‚\n\n**å®Ÿè£…ä¾‹**ï¼š\n\n```typescript\nasync function step7SaveOutput(\n  chapterText: string,\n  config: GenerationConfig\n): Promise<ChapterOutput> {\n  console.log('STEP 7: ä¿å­˜ãƒ»å‡ºåŠ›');\n\n  const timestamp = new Date().toISOString();\n\n  // ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿æ§‹ç¯‰\n  const metadata: ChapterMetadata = {\n    chapterNumber: config.chapterNumber,\n    chapterType: config.chapterType,\n    genre: config.genre,\n    charCount: chapterText.length,\n    generatedAt: timestamp,\n    model: config.model,\n    parameters: config.parameters\n  };\n\n  // ãƒ•ã‚¡ã‚¤ãƒ«ä¿å­˜\n  const outputPath = `/output/chapters/chapter_${config.chapterNumber}.md`;\n  await fs.writeFile(outputPath, chapterText);\n\n  // ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ä¿å­˜\n  const metadataPath = `/output/metadata/chapter_${config.chapterNumber}_meta.json`;\n  await fs.writeFile(metadataPath, JSON.stringify(metadata, null, 2));\n\n  console.log(`STEP 7å®Œäº†: ç« ã‚’ ${outputPath} ã«ä¿å­˜`);\n\n  return {\n    chapterNumber: config.chapterNumber,\n    text: chapterText,\n    metadata,\n    outputPath\n  };\n}\n```\n\n**æ‰€è¦æ™‚é–“**: ç´„0.1-0.2ç§’\n\n## ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°\n\n### å„ã‚¹ãƒ†ãƒƒãƒ—ã®ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°æˆ¦ç•¥\n\n| ã‚¹ãƒ†ãƒƒãƒ— | ã‚¨ãƒ©ãƒ¼ | å¯¾å‡¦æ³• |\n|---------|--------|--------|\n| STEP 1 | å‰ç« ä¸å­˜åœ¨ | ã‚¨ãƒ©ãƒ¼ã§ä¸­æ–­ï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼ã«é€šçŸ¥ï¼‰ |\n| STEP 1 | APIåˆ©ç”¨ä¸å¯ | ã‚¨ãƒ©ãƒ¼ã§ä¸­æ–­ï¼ˆå†è©¦è¡Œã‚’ææ¡ˆï¼‰ |\n| STEP 2 | ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿å–å¾—å¤±æ•— | ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã«ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ |\n| STEP 3 | ãƒ‡ãƒ¼ã‚¿åé›†å¤±æ•— | éƒ¨åˆ†ãƒ‡ãƒ¼ã‚¿ã§ç¶™ç¶š |\n| STEP 4 | APIå‘¼ã³å‡ºã—å¤±æ•— | æœ€å¤§3å›ãƒªãƒˆãƒ©ã‚¤ã€å¤±æ•—ãªã‚‰ã‚¨ãƒ©ãƒ¼ |\n| STEP 4 | ãƒ¬ãƒ¼ãƒˆåˆ¶é™ | æŒ‡æ•°ãƒãƒƒã‚¯ã‚ªãƒ•ã§å¾…æ©Ÿå¾Œãƒªãƒˆãƒ©ã‚¤ |\n| STEP 5 | æ–‡å­—æ•°ä¸è¶³ | è­¦å‘Šãƒ­ã‚°å‡ºåŠ›ã€ãã®ã¾ã¾ç¶™ç¶š |\n| STEP 6 | ã‚·ã‚¹ãƒ†ãƒ æ›´æ–°å¤±æ•— | è­¦å‘Šãƒ­ã‚°å‡ºåŠ›ã€ä»–ã®ã‚·ã‚¹ãƒ†ãƒ ã¯ç¶™ç¶š |\n| STEP 7 | ãƒ•ã‚¡ã‚¤ãƒ«ä¿å­˜å¤±æ•— | ã‚¨ãƒ©ãƒ¼ã§ä¸­æ–­ï¼ˆè‡´å‘½çš„ï¼‰ |\n\n## å®Œå…¨ãªå®Ÿè£…ä¾‹\n\n```typescript\nasync function generateChapterCompletePipeline(chapterNumber: number): Promise<ChapterOutput> {\n  try {\n    // STEP 1: äº‹å‰æº–å‚™ãƒ»æ¤œè¨¼\n    await step1PreparationValidation(chapterNumber);\n\n    // STEP 2: ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿æ±ºå®š\n    const config = await step2DetermineParameters(chapterNumber);\n\n    // STEP 3: ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”Ÿæˆï¼ˆ3ãƒ•ã‚§ãƒ¼ã‚ºï¼‰\n    const prompt = await step3GeneratePrompt(config);\n\n    // STEP 4: AIç”Ÿæˆå®Ÿè¡Œ\n    let chapterText = await step4ExecuteAIGeneration(prompt, config);\n\n    // STEP 5: å¾Œå‡¦ç†ãƒ»å“è³ªä¿è¨¼\n    chapterText = await step5PostProcessingQA(chapterText, config);\n\n    // STEP 6: è¨˜æ†¶ãƒ»åˆ†æã®æ›´æ–°\n    await step6UpdateMemoryAnalysis(chapterText, config);\n\n    // STEP 7: ä¿å­˜ãƒ»å‡ºåŠ›\n    const output = await step7SaveOutput(chapterText, config);\n\n    return output;\n\n  } catch (error) {\n    console.error('ç« ç”Ÿæˆãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚¨ãƒ©ãƒ¼:', error);\n    throw error;\n  }\n}\n\n// ä½¿ç”¨ä¾‹\nconst result = await generateChapterCompletePipeline(10);\nconsole.log('ç”Ÿæˆå®Œäº†:', result.outputPath);\nconsole.log('æ–‡å­—æ•°:', result.metadata.charCount);\nconsole.log('ä½¿ç”¨ãƒ¢ãƒ‡ãƒ«:', result.metadata.model);\n```\n\n## ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ¡ãƒˆãƒªã‚¯ã‚¹\n\n**ç·æ‰€è¦æ™‚é–“**: ç´„4-8ç§’\n- STEP 1: 0.1-0.2ç§’\n- STEP 2: 0.2-0.3ç§’\n- STEP 3: 0.8-1.5ç§’\n- STEP 4: 2-5ç§’ï¼ˆAPIãƒ¬ã‚¹ãƒãƒ³ã‚¹ï¼‰\n- STEP 5: 0.3-0.5ç§’\n- STEP 6: 0.5-0.8ç§’\n- STEP 7: 0.1-0.2ç§’\n\n**ãƒœãƒˆãƒ«ãƒãƒƒã‚¯**: STEP 4ï¼ˆAIç”Ÿæˆå®Ÿè¡Œï¼‰ãŒæœ€ã‚‚æ™‚é–“ãŒã‹ã‹ã‚‹ã€‚\n\n## æœ€é©åŒ–ã®ä½™åœ°\n\n1. **ã‚­ãƒ£ãƒƒã‚·ãƒ³ã‚°**: åŒã˜ç« ã‚’å†ç”Ÿæˆã™ã‚‹å ´åˆã€STEP 3ã®ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’ã‚­ãƒ£ãƒƒã‚·ãƒ¥\n2. **ä¸¦åˆ—åŒ–**: è¤‡æ•°ç« ã‚’åŒæ™‚ç”Ÿæˆã™ã‚‹å ´åˆã€ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³å…¨ä½“ã‚’ä¸¦åˆ—å®Ÿè¡Œ\n3. **ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°**: Gemini APIã®ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’ä½¿ç”¨ã—ã¦ã€STEP 4ã®ä½“æ„Ÿé€Ÿåº¦å‘ä¸Š\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `workflow_prompt_generation_three_phase_2025_11_25.md`ï¼šSTEP 3ã®è©³ç´°\n- `skill_parameter_dynamic_adjustment_2025_11_25.md`ï¼šSTEP 2ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿èª¿æ•´\n- `skill_use_case_model_selection_2025_11_25.md`ï¼šSTEP 2ã®ãƒ¢ãƒ‡ãƒ«é¸æŠ\n- `decision_gemini_2_0_flash_lite_choice_2025_11_25.md`ï¼šä½¿ç”¨ãƒ¢ãƒ‡ãƒ«ã®é¸æŠç†ç”±\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€Œç« ç”Ÿæˆå®Œå…¨ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "workflow-prompt-generation-three-phase",
      "skill-parameter-dynamic-adjustment",
      "skill-use-case-model-selection",
      "decision-gemini-2-0-flash-lite-choice"
    ]
  },
  {
    "slug": "chapter-generation-integration-workflow",
    "title": "ç« ç”Ÿæˆæ™‚ã®ã‚·ã‚¹ãƒ†ãƒ çµ±åˆãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼",
    "category": "Workflowsï¼ˆãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ï¼‰",
    "description": "ç« ç”Ÿæˆæ™‚ã®ã‚·ã‚¹ãƒ†ãƒ çµ±åˆãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼",
    "project": "novel-automation-system-v2",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"workflow_chapter_generation_integration_workflow_2025_11_25\",\n  \"type\": \"workflow\",\n  \"name\": \"ç« ç”Ÿæˆæ™‚ã®ã‚·ã‚¹ãƒ†ãƒ çµ±åˆãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼\",\n  \"tags\": [\"ç« ç”Ÿæˆ\", \"ã‚·ã‚¹ãƒ†ãƒ çµ±åˆ\", \"å“è³ªä¿è¨¼\", \"ãƒ¡ãƒ¢ãƒªæ›´æ–°\", \"ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼\"],\n  \"source_project\": \"novel-automation-system-v2\",\n  \"related_knowledge\": [\n    \"skill_memory_system_integration_2025_11_25\",\n    \"skill_unified_foreshadowing_management_2025_11_25\",\n    \"workflow_foreshadowing_lifecycle_workflow_2025_11_25\"\n  ],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# ç« ç”Ÿæˆæ™‚ã®ã‚·ã‚¹ãƒ†ãƒ çµ±åˆãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼\n\n## ä½•ã®ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‹\n\n1ã¤ã®ç« ã‚’ç”Ÿæˆã™ã‚‹éš›ã«ã€ãƒ¡ãƒ¢ãƒªæ›´æ–°â†’åˆ†æâ†’ä¼ç·šå‡¦ç†â†’å“è³ªä¿è¨¼ã®4ã¤ã®ãƒ•ã‚§ãƒ¼ã‚ºã‚’çµ±åˆçš„ã«å®Ÿè¡Œã—ã€ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“ã®æ•´åˆæ€§ã‚’ä¿è¨¼ã™ã‚‹ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã€‚\n\n## ãƒ•ãƒ­ãƒ¼å…¨ä½“å›³\n\n```\n[ç”Ÿæˆæº–å‚™]\n   â†“ äºˆæ¸¬ã‚­ãƒ£ãƒƒã‚·ãƒ¥\n[ç« ç”Ÿæˆï¼ˆAIï¼‰]\n   â†“ æ¤œè¨¼\n[ãƒ¡ãƒ¢ãƒªæ›´æ–°ãƒ•ã‚§ãƒ¼ã‚º]\n   â†“ éšå±¤æŒ¯ã‚Šåˆ†ã‘\n[åˆ†æãƒ•ã‚§ãƒ¼ã‚º]\n   â†“ ä¸¦åˆ—å®Ÿè¡Œ\n[ä¼ç·šå‡¦ç†ãƒ•ã‚§ãƒ¼ã‚º]\n   â†“ æ•´åˆæ€§ãƒã‚§ãƒƒã‚¯\n[å“è³ªä¿è¨¼ãƒ•ã‚§ãƒ¼ã‚º]\n   â†“ è‡ªå‹•ä¿®å¾©\n[æ¬¡ç« æº–å‚™]\n   â†“ äºˆæ¸¬ãƒ—ãƒªãƒ­ãƒ¼ãƒ‰\n[å®Œäº†]\n```\n\n## å„ã‚¹ãƒ†ãƒƒãƒ—ã®è©³ç´°\n\n### ã‚¹ãƒ†ãƒƒãƒ—1: ç”Ÿæˆæº–å‚™\n\n**ä½•ã‚’ã™ã‚‹ã‹**: æ¬¡ç« ç”Ÿæˆã«å¿…è¦ãªãƒ‡ãƒ¼ã‚¿ã‚’ãƒ—ãƒªãƒ­ãƒ¼ãƒ‰\n\n```typescript\nasync function prepareForChapterGeneration(chapterNumber: number): Promise<void> {\n    // äºˆæ¸¬ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã§ãƒ‡ãƒ¼ã‚¿ã‚’ãƒ—ãƒªãƒ­ãƒ¼ãƒ‰\n    await cacheCoordinator.predictiveCache(chapterNumber, {\n        chapterNumber,\n        preloadDepth: 3,\n        priorities: {\n            characters: 0.9,\n            worldSettings: 0.8,\n            narrativeState: 0.7,\n            foreshadowing: 0.6\n        }\n    });\n\n    console.log(`âœ“ Data preloaded for chapter ${chapterNumber}`);\n}\n```\n\n**ãªãœã“ã®é †åºã‹**:\n- ç”Ÿæˆé–‹å§‹æ™‚ã®å¾…ã¡æ™‚é–“ã‚’80%å‰Šæ¸›\n- ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ’ãƒƒãƒˆç‡ã‚’85%ä»¥ä¸Šã«ç¶­æŒ\n- ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ã®å‘ä¸Š\n\n### ã‚¹ãƒ†ãƒƒãƒ—2: ç« ç”Ÿæˆï¼ˆAIï¼‰\n\n**ä½•ã‚’ã™ã‚‹ã‹**: Gemini APIã§ç« æœ¬æ–‡ã‚’ç”Ÿæˆ\n\n```typescript\nasync function generateChapterContent(chapterNumber: number): Promise<Chapter> {\n    // ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆå–å¾—ï¼ˆã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‹ã‚‰é«˜é€Ÿå–å¾—ï¼‰\n    const context = await memoryManager.unifiedSearch(\n        `chapter ${chapterNumber} context`,\n        [MemoryLevel.SHORT_TERM, MemoryLevel.MID_TERM, MemoryLevel.LONG_TERM]\n    );\n\n    // ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”Ÿæˆ\n    const prompt = await promptGenerator.generateChapterPrompt(chapterNumber, context);\n\n    // AIç”Ÿæˆ\n    const content = await geminiClient.generateText(prompt, {\n        temperature: 0.7,\n        maxTokens: 2000\n    });\n\n    return {\n        id: `chapter-${chapterNumber}`,\n        chapterNumber,\n        title: `ç¬¬${chapterNumber}ç« `,\n        content,\n        timestamp: new Date()\n    };\n}\n```\n\n**ãªãœã“ã®é †åºã‹**:\n- ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚’äº‹å‰ã«å–å¾—ï¼ˆã‚­ãƒ£ãƒƒã‚·ãƒ¥æ´»ç”¨ï¼‰\n- ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’å‹•çš„ã«ç”Ÿæˆ\n- AIç”Ÿæˆã®å“è³ªã‚’æœ€å¤§åŒ–\n\n### ã‚¹ãƒ†ãƒƒãƒ—3: ãƒ¡ãƒ¢ãƒªæ›´æ–°ãƒ•ã‚§ãƒ¼ã‚º\n\n**ä½•ã‚’ã™ã‚‹ã‹**: ç”Ÿæˆã—ãŸç« ã‚’MemoryManagerã«ä¿å­˜\n\n```typescript\nasync function updateMemory(chapter: Chapter): Promise<void> {\n    // processChapter()ãŒè‡ªå‹•çš„ã«:\n    // 1. çŸ­æœŸè¨˜æ†¶ã«ä¿å­˜\n    // 2. å¿…è¦ã«å¿œã˜ã¦ä¸­æœŸè¨˜æ†¶ã«ç§»è¡Œ\n    // 3. è¦ç´„ã‚’ç”Ÿæˆã—ã¦é•·æœŸè¨˜æ†¶ã«ä¿å­˜\n    // 4. ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’æ›´æ–°\n    await memoryManager.processChapter(chapter);\n\n    console.log(`âœ“ Memory updated for chapter ${chapter.chapterNumber}`);\n}\n```\n\n**ãªãœã“ã®é †åºã‹**:\n- çµ±ä¸€ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã§å“è³ªä¿è¨¼\n- éšå±¤æŒ¯ã‚Šåˆ†ã‘ã¯è‡ªå‹•å®Ÿè¡Œ\n- é‡è¤‡è§£æ±ºã‚‚è‡ªå‹•å®Ÿè¡Œ\n\n### ã‚¹ãƒ†ãƒƒãƒ—4: åˆ†æãƒ•ã‚§ãƒ¼ã‚º\n\n**ä½•ã‚’ã™ã‚‹ã‹**: ç« ã®å“è³ªãƒ»ãƒ†ãƒ¼ãƒãƒ»æ„Ÿæƒ…ã‚’åˆ†æ\n\n```typescript\nasync function analyzeChapter(chapter: Chapter): Promise<void> {\n    // ä¸¦åˆ—å®Ÿè¡Œã§åŠ¹ç‡åŒ–\n    await Promise.all([\n        // å“è³ªè©•ä¾¡\n        qualityEvaluationService.evaluateChapter(chapter),\n\n        // ãƒ†ãƒ¼ãƒè¿½è·¡\n        themeAnalysisService.analyzeTheme(chapter),\n\n        // æ„Ÿæƒ…ã‚¢ãƒ¼ã‚¯åˆ†æ\n        emotionalArcService.analyzeEmotion(chapter),\n\n        // ä¸€è²«æ€§ãƒã‚§ãƒƒã‚¯\n        consistencyChecker.checkConsistency(chapter)\n    ]);\n\n    console.log(`âœ“ Analysis completed for chapter ${chapter.chapterNumber}`);\n}\n```\n\n**ãªãœã“ã®é †åºã‹**:\n- 4ã¤ã®åˆ†æã‚’ä¸¦åˆ—å®Ÿè¡Œï¼ˆåŠ¹ç‡åŒ–ï¼‰\n- å„åˆ†æã¯MemoryManagerã‹ã‚‰ç‹¬ç«‹ã—ã¦ãƒ‡ãƒ¼ã‚¿å–å¾—\n- å¤±æ•—ã—ã¦ã‚‚ä»–ã®åˆ†æã«å½±éŸ¿ã—ãªã„\n\n### ã‚¹ãƒ†ãƒƒãƒ—5: ä¼ç·šå‡¦ç†ãƒ•ã‚§ãƒ¼ã‚º\n\n**ä½•ã‚’ã™ã‚‹ã‹**: ä¼ç·šã®ç”Ÿæˆãƒ»è§£æ±ºãƒ»æ•´åˆæ€§ãƒã‚§ãƒƒã‚¯\n\n```typescript\nasync function processForeshadowings(chapter: Chapter): Promise<void> {\n    // 1. æ–°è¦ä¼ç·šã®ç”Ÿæˆ\n    const result = await foreshadowingSystem.processChapterAndGenerateForeshadowing(\n        chapter.content,\n        chapter.chapterNumber,\n        2\n    );\n\n    // 2. æ•´åˆæ€§ãƒã‚§ãƒƒã‚¯\n    if (!result.consistencyCheck.isConsistent) {\n        await foreshadowingSystem.attemptAutoRepair(result.consistencyCheck.issues);\n    }\n\n    // 3. è§£æ±ºæ¨å¥¨ã®å–å¾—\n    const recommendations = await foreshadowingSystem.getResolutionRecommendations(\n        chapter.chapterNumber\n    );\n\n    console.log(`âœ“ Foreshadowing processed: ${result.newForeshadowings.length} new, ${recommendations.length} ready to resolve`);\n}\n```\n\n**ãªãœã“ã®é †åºã‹**:\n- ç« ç”Ÿæˆå¾Œã«ä¼ç·šã‚’æŠ½å‡º\n- æ•´åˆæ€§ã‚’å³åº§ã«ãƒã‚§ãƒƒã‚¯\n- æ¬¡ç« ã®è§£æ±ºæº–å‚™ã‚’æ•´ãˆã‚‹\n\n### ã‚¹ãƒ†ãƒƒãƒ—6: å“è³ªä¿è¨¼ãƒ•ã‚§ãƒ¼ã‚º\n\n**ä½•ã‚’ã™ã‚‹ã‹**: ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“ã®å“è³ªãƒ¡ãƒˆãƒªã‚¯ã‚¹ã‚’ç¢ºèª\n\n```typescript\nasync function ensureQuality(chapter: Chapter): Promise<void> {\n    const result = await qualityAssurance.validateAndRepair();\n\n    console.log(`Quality Check: ${result.totalIssues} issues, ${result.repaired} repaired`);\n\n    if (result.remaining > 0) {\n        console.warn(`${result.remaining} issues require manual intervention`);\n    }\n}\n```\n\n**ãªãœã“ã®é †åºã‹**:\n- ç« ç”Ÿæˆå¾Œã«å…¨ä½“ã‚’æ¤œè¨¼\n- è‡ªå‹•ä¿®å¾©ã§å“è³ªä¿è¨¼\n- å•é¡Œã®æ—©æœŸç™ºè¦‹\n\n### ã‚¹ãƒ†ãƒƒãƒ—7: æ¬¡ç« æº–å‚™\n\n**ä½•ã‚’ã™ã‚‹ã‹**: æ¬¡ç« ç”Ÿæˆã®æº–å‚™ï¼ˆäºˆæ¸¬ãƒ—ãƒªãƒ­ãƒ¼ãƒ‰ï¼‰\n\n```typescript\nasync function prepareNextChapter(currentChapter: number): Promise<void> {\n    const nextChapter = currentChapter + 1;\n\n    // ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã§ãƒ—ãƒªãƒ­ãƒ¼ãƒ‰\n    cacheCoordinator.predictiveCache(nextChapter, {\n        chapterNumber: nextChapter,\n        preloadDepth: 3,\n        priorities: {\n            characters: 0.9,\n            worldSettings: 0.8,\n            narrativeState: 0.7,\n            foreshadowing: 0.6\n        }\n    }).catch(error => {\n        console.warn('Preload failed (non-critical):', error);\n    });\n\n    console.log(`âœ“ Preloading for chapter ${nextChapter} started`);\n}\n```\n\n**ãªãœã“ã®é †åºã‹**:\n- ç¾åœ¨ã®ç« ãŒå®Œäº†ã—ã¦ã‹ã‚‰æ¬¡ã®æº–å‚™\n- ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã§éåŒæœŸå®Ÿè¡Œ\n- å¤±æ•—ã—ã¦ã‚‚ãƒ¡ã‚¤ãƒ³ãƒ•ãƒ­ãƒ¼ã«å½±éŸ¿ã—ãªã„\n\n## ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°\n\n### ã‚¨ãƒ©ãƒ¼1: AIç”Ÿæˆã®å¤±æ•—\n\n```typescript\ntry {\n    const chapter = await generateChapterContent(chapterNumber);\n} catch (error) {\n    console.error('Chapter generation failed:', error);\n    // ãƒªãƒˆãƒ©ã‚¤ã¾ãŸã¯ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯\n    return await fallbackGeneration(chapterNumber);\n}\n```\n\n### ã‚¨ãƒ©ãƒ¼2: ãƒ¡ãƒ¢ãƒªæ›´æ–°ã®å¤±æ•—\n\n```typescript\ntry {\n    await memoryManager.processChapter(chapter);\n} catch (error) {\n    console.error('Memory update failed:', error);\n    // æ‰‹å‹•ä»‹å…¥ãŒå¿…è¦\n    throw new Error('Critical: Memory system failure');\n}\n```\n\n### ã‚¨ãƒ©ãƒ¼3: å“è³ªå•é¡Œã®æ¤œå‡º\n\n```typescript\nif (result.remaining > 5) {\n    console.error(`Too many unresolved issues: ${result.remaining}`);\n    // ç”Ÿæˆã‚’ä¸€æ™‚åœæ­¢ã—ã¦æ‰‹å‹•ç¢ºèª\n    await pauseGenerationForManualReview();\n}\n```\n\n## å†ç¾æ–¹æ³•\n\n```typescript\n// å®Œå…¨ãªç« ç”Ÿæˆãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼\nasync function generateChapterWithIntegration(chapterNumber: number): Promise<Chapter> {\n    // ã‚¹ãƒ†ãƒƒãƒ—1: ç”Ÿæˆæº–å‚™\n    await prepareForChapterGeneration(chapterNumber);\n\n    // ã‚¹ãƒ†ãƒƒãƒ—2: AIç”Ÿæˆ\n    const chapter = await generateChapterContent(chapterNumber);\n\n    // ã‚¹ãƒ†ãƒƒãƒ—3: ãƒ¡ãƒ¢ãƒªæ›´æ–°\n    await updateMemory(chapter);\n\n    // ã‚¹ãƒ†ãƒƒãƒ—4: åˆ†æ\n    await analyzeChapter(chapter);\n\n    // ã‚¹ãƒ†ãƒƒãƒ—5: ä¼ç·šå‡¦ç†\n    await processForeshadowings(chapter);\n\n    // ã‚¹ãƒ†ãƒƒãƒ—6: å“è³ªä¿è¨¼\n    await ensureQuality(chapter);\n\n    // ã‚¹ãƒ†ãƒƒãƒ—7: æ¬¡ç« æº–å‚™\n    await prepareNextChapter(chapterNumber);\n\n    return chapter;\n}\n```\n\n## ã„ã¤ä½¿ã†ã‹\n\n- å„ç« ã®ç”Ÿæˆæ™‚ï¼ˆæ¯å›ï¼‰\n- ãƒãƒƒãƒç”Ÿæˆæ™‚ï¼ˆè¤‡æ•°ç« ã‚’é€£ç¶šç”Ÿæˆï¼‰\n- ãƒªã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³æ™‚ï¼ˆæ—¢å­˜ç« ã®å†ç”Ÿæˆï¼‰\n\n## æ³¨æ„ç‚¹\n\n- å„ãƒ•ã‚§ãƒ¼ã‚ºã¯é †åºãŒé‡è¦ï¼ˆä¸¦åˆ—åŒ–ã§ããªã„ï¼‰\n- ãƒ¡ãƒ¢ãƒªæ›´æ–°ã®å¤±æ•—ã¯è‡´å‘½çš„ï¼ˆå¿…ãšã‚¨ãƒ©ãƒ¼å‡¦ç†ï¼‰\n- å“è³ªä¿è¨¼ã¯æœ€çµ‚ãƒã‚§ãƒƒã‚¯ï¼ˆã‚¹ã‚­ãƒƒãƒ—ã—ãªã„ï¼‰\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `skill_memory_system_integration_2025_11_25.md`\n- `skill_unified_foreshadowing_management_2025_11_25.md`\n- `skill_cache_coordination_techniques_2025_11_25.md`\n- `workflow_foreshadowing_lifecycle_workflow_2025_11_25.md`\n",
    "prompt": "```typescript\n// å®Œå…¨ãªç« ç”Ÿæˆãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼\nasync function generateChapterWithIntegration(chapterNumber: number): Promise<Chapter> {\n    // ã‚¹ãƒ†ãƒƒãƒ—1: ç”Ÿæˆæº–å‚™\n    await prepareForChapterGeneration(chapterNumber);\n\n    // ã‚¹ãƒ†ãƒƒãƒ—2: AIç”Ÿæˆ\n    const chapter = await generateChapterContent(chapterNumber);\n\n    // ã‚¹ãƒ†ãƒƒãƒ—3: ãƒ¡ãƒ¢ãƒªæ›´æ–°\n    await updateMemory(chapter);\n\n    // ã‚¹ãƒ†ãƒƒãƒ—4: åˆ†æ\n    await analyzeChapter(chapter);\n\n    // ã‚¹ãƒ†ãƒƒãƒ—5: ä¼ç·šå‡¦ç†\n    await processForeshadowings(chapter);\n\n    // ã‚¹ãƒ†ãƒƒãƒ—6: å“è³ªä¿è¨¼\n    await ensureQuality(chapter);\n\n    // ã‚¹ãƒ†ãƒƒãƒ—7: æ¬¡ç« æº–å‚™\n    await prepareNextChapter(chapterNumber);\n\n    return chapter;\n}\n```",
    "relatedTech": [
      "skill-memory-system-integration",
      "skill-unified-foreshadowing-management",
      "workflow-foreshadowing-lifecycle-workflow"
    ]
  },
  {
    "slug": "chapter-quality-evaluation-workflow",
    "title": "ç« å“è³ªè©•ä¾¡ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼",
    "category": "Workflowsï¼ˆãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ï¼‰",
    "description": "ç« å“è³ªè©•ä¾¡ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼",
    "project": "novel-automation-system-v2",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"workflow_chapter_quality_evaluation_workflow_2025_11_25\",\n  \"type\": \"workflow\",\n  \"name\": \"ç« å“è³ªè©•ä¾¡ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼\",\n  \"tags\": [\"å“è³ªè©•ä¾¡\", \"ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼\", \"ç« ç”Ÿæˆ\", \"ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ãƒ«ãƒ¼ãƒ—\"],\n  \"source_project\": \"novel-automation-system-v2\",\n  \"related_knowledge\": [\"skill_multi_dimensional_quality_evaluation_2025_11_25\", \"skill_ai_feedback_loop_optimization_2025_11_25\"],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# ç« å“è³ªè©•ä¾¡ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼\n\n## ä½•ã®ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‹\n\nç« ã‚’ç”Ÿæˆå¾Œã€åŒ…æ‹¬çš„ãªå“è³ªè©•ä¾¡ã‚’å®Ÿè¡Œã—ã€æ¬¡ç« ã¸ã®æ”¹å–„ææ¡ˆã‚’ç”Ÿæˆã™ã‚‹ä¸€é€£ã®å‡¦ç†ãƒ•ãƒ­ãƒ¼ã€‚AIãƒ™ãƒ¼ã‚¹åˆ†æã¨ãƒ«ãƒ¼ãƒ«ãƒ™ãƒ¼ã‚¹åˆ†æã‚’çµ„ã¿åˆã‚ã›ã¦å“è³ªã‚’å®šé‡è©•ä¾¡ã—ã€ç¶™ç¶šçš„ãªå“è³ªå‘ä¸Šã‚’å®Ÿç¾ã™ã‚‹ã€‚\n\n## ãƒ•ãƒ­ãƒ¼å…¨ä½“å›³\n\n```\nç« Nç”Ÿæˆå®Œäº†\n   â†“\n[ã‚¹ãƒ†ãƒƒãƒ—1] åŒ…æ‹¬çš„åˆ†æå®Ÿè¡Œ\n   â”œâ”€ ç« åˆ†æï¼ˆã‚·ãƒ¼ãƒ³æ§‹é€ ãƒ»ãƒ†ã‚­ã‚¹ãƒˆçµ±è¨ˆï¼‰\n   â”œâ”€ ãƒ†ãƒ¼ãƒåˆ†æ\n   â”œâ”€ æ–‡ä½“åˆ†æ\n   â”œâ”€ ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼åˆ†æ\n   â”œâ”€ èª­è€…ä½“é¨“åˆ†æ\n   â””â”€ ãƒŠãƒ©ãƒ†ã‚£ãƒ–åˆ†æ\n   â†“\n[ã‚¹ãƒ†ãƒƒãƒ—2] å“è³ªãƒ¡ãƒˆãƒªã‚¯ã‚¹æŠ½å‡º\n   â”œâ”€ 10æ¬¡å…ƒã‚¹ã‚³ã‚¢ç®—å‡º\n   â”œâ”€ é‡ã¿ä»˜ãç·åˆã‚¹ã‚³ã‚¢è¨ˆç®—\n   â””â”€ ã—ãã„å€¤ãƒã‚§ãƒƒã‚¯\n   â†“\n[ã‚¹ãƒ†ãƒƒãƒ—3] å“è³ªãƒ‡ãƒ¼ã‚¿ä¿å­˜\n   â”œâ”€ ä¸­æœŸè¨˜æ†¶ã¸ä¿å­˜\n   â”œâ”€ é•·æœŸè¨˜æ†¶ã¸å±¥æ­´è“„ç©\n   â””â”€ å“è³ªãƒˆãƒ¬ãƒ³ãƒ‰æ›´æ–°\n   â†“\n[ã‚¹ãƒ†ãƒƒãƒ—4] ã‚¢ãƒ©ãƒ¼ãƒˆç¢ºèª\n   â”œâ”€ å±é™ºãƒ¬ãƒ™ãƒ«å“è³ªãƒã‚§ãƒƒã‚¯\n   â”œâ”€ å“è³ªä½ä¸‹ãƒˆãƒ¬ãƒ³ãƒ‰æ¤œå‡º\n   â””â”€ ã‚¢ãƒ©ãƒ¼ãƒˆé€šçŸ¥\n   â†“\n[ã‚¹ãƒ†ãƒƒãƒ—5] æ¬¡ç« æœ€é©åŒ–ææ¡ˆç”Ÿæˆ\n   â”œâ”€ ãƒ†ãƒ¼ãƒæœ€é©åŒ–\n   â”œâ”€ æ–‡ä½“æœ€é©åŒ–\n   â”œâ”€ ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼æ·±åŒ–\n   â””â”€ ãƒ†ãƒ³ã‚·ãƒ§ãƒ³æœ€é©åŒ–\n   â†“\n[ã‚¹ãƒ†ãƒƒãƒ—6] çµ±åˆæ”¹å–„ææ¡ˆ\n   â”œâ”€ å“è³ªãƒ™ãƒ¼ã‚¹ææ¡ˆ\n   â”œâ”€ ã‚«ãƒ†ã‚´ãƒªåˆ¥ææ¡ˆ\n   â”œâ”€ å„ªå…ˆåº¦ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°\n   â””â”€ é‡è¤‡é™¤å»ï¼ˆæœ€å¤§10å€‹ï¼‰\n   â†“\n[ã‚¹ãƒ†ãƒƒãƒ—7] ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ä¿å­˜\n   â”œâ”€ ä¸­æœŸè¨˜æ†¶ã¸ä¿å­˜ï¼ˆæ¬¡ç« ç”Ÿæˆæ™‚å‚ç…§ï¼‰\n   â”œâ”€ é•·æœŸè¨˜æ†¶ã¸è“„ç©ï¼ˆãƒˆãƒ¬ãƒ³ãƒ‰åˆ†æç”¨ï¼‰\n   â””â”€ å±¥æ­´ã¨ã®æ¯”è¼ƒ\n   â†“\nç« N+1ç”Ÿæˆæ™‚ã«ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯åæ˜ \n```\n\n## å„ã‚¹ãƒ†ãƒƒãƒ—ã®è©³ç´°\n\n### ã‚¹ãƒ†ãƒƒãƒ—1ï¼šåŒ…æ‹¬çš„åˆ†æå®Ÿè¡Œ\n\n**ä½•ã‚’ã™ã‚‹ã‹**ï¼š\nç« ã®å†…å®¹ã‚’å¤šè§’çš„ã«åˆ†æã—ã€æ§‹é€ ãƒ»ãƒ†ãƒ¼ãƒãƒ»æ–‡ä½“ãƒ»ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ç­‰ã‚’è©•ä¾¡ã€‚\n\n**ãªãœã“ã®é †åºã‹**ï¼š\nåˆ†æçµæœã¯å¾Œç¶šã®ã‚¹ãƒ†ãƒƒãƒ—ã§å“è³ªãƒ¡ãƒˆãƒªã‚¯ã‚¹æŠ½å‡ºã‚„æœ€é©åŒ–ææ¡ˆã®åŸºç¤ã¨ãªã‚‹ãŸã‚ã€æœ€åˆã«å®Ÿè¡Œã€‚\n\n**ä½¿ç”¨ã™ã‚‹æŠ€è¡“ãƒ»æ‰‹æ³•**ï¼š\n- `AnalysisCoordinator.analyzeChapter()`\n- AIãƒ™ãƒ¼ã‚¹åˆ†æï¼ˆGemini APIï¼‰\n- ãƒ†ã‚­ã‚¹ãƒˆçµ±è¨ˆï¼ˆãƒ«ãƒ¼ãƒ«ãƒ™ãƒ¼ã‚¹ï¼‰\n\n```typescript\nconst analysisResults = await this.analysisCoordinator.analyzeChapter(\n  content,\n  chapterNumber,\n  context\n);\n\n// çµæœæ§‹é€ ï¼š\n// - chapterAnalysis: ã‚·ãƒ¼ãƒ³æ§‹é€ ãƒ»ãƒ†ã‚­ã‚¹ãƒˆçµ±è¨ˆ\n// - themeAnalysis: ä¸»è¦ãƒ†ãƒ¼ãƒãƒ»ãƒ†ãƒ¼ãƒå±•é–‹\n// - styleAnalysis: æ–‡ä½“ç‰¹å¾´ãƒ»è¡¨ç¾ãƒ‘ã‚¿ãƒ¼ãƒ³\n// - characterAnalysis: ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼æå†™ãƒ»é–¢ä¿‚æ€§\n// - readerExperience: èª­è€…ä½“é¨“è©•ä¾¡\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2ï¼šå“è³ªãƒ¡ãƒˆãƒªã‚¯ã‚¹æŠ½å‡º\n\n**ä½•ã‚’ã™ã‚‹ã‹**ï¼š\nåˆ†æçµæœã‹ã‚‰10æ¬¡å…ƒã®å“è³ªã‚¹ã‚³ã‚¢ã‚’æŠ½å‡ºã—ã€é‡ã¿ä»˜ãç·åˆã‚¹ã‚³ã‚¢ã‚’è¨ˆç®—ã€‚\n\n**ãªãœã“ã®é †åºã‹**ï¼š\nåŒ…æ‹¬çš„åˆ†æã®çµæœã‚’å®šé‡åŒ–ã—ã€å®¢è¦³çš„ãªå“è³ªè©•ä¾¡ã‚’è¡Œã†ãŸã‚ã€‚\n\n**ä½¿ç”¨ã™ã‚‹æŠ€è¡“ãƒ»æ‰‹æ³•**ï¼š\n- `extractQualityMetrics()` (`skill_multi_dimensional_quality_evaluation_2025_11_25.md` å‚ç…§)\n- é‡ã¿ä»˜ã‘è¨ˆç®—\n\n```typescript\nconst qualityMetrics = {\n  readabilityScore: analysis.readabilityScore,\n  consistencyScore: analysis.consistencyScore,\n  engagementScore: analysis.engagementScore,\n  // ... ä»–ã®7æ¬¡å…ƒ\n};\n\nconst overallScore = (\n  qualityMetrics.readabilityScore * 0.15 +\n  qualityMetrics.consistencyScore * 0.15 +\n  qualityMetrics.engagementScore * 0.15 +\n  // ...\n);\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3ï¼šå“è³ªãƒ‡ãƒ¼ã‚¿ä¿å­˜\n\n**ä½•ã‚’ã™ã‚‹ã‹**ï¼š\nå“è³ªãƒ¡ãƒˆãƒªã‚¯ã‚¹ã‚’çµ±åˆè¨˜æ†¶ã‚·ã‚¹ãƒ†ãƒ ã«ä¿å­˜ã—ã€å±¥æ­´ã‚’è“„ç©ã€‚\n\n**ãªãœã“ã®é †åºã‹**ï¼š\nå¾Œç¶šã®ãƒˆãƒ¬ãƒ³ãƒ‰åˆ†æã‚„æ¬¡ç« ç”Ÿæˆæ™‚ã®å‚ç…§ã®ãŸã‚ã€ãƒ‡ãƒ¼ã‚¿ã‚’æ—©æœŸã«æ°¸ç¶šåŒ–ã€‚\n\n**ä½¿ç”¨ã™ã‚‹æŠ€è¡“ãƒ»æ‰‹æ³•**ï¼š\n- `MemoryManager.saveToMidTerm()`ï¼ˆä¸­æœŸè¨˜æ†¶ï¼‰\n- `MemoryManager.saveToLongTerm()`ï¼ˆé•·æœŸè¨˜æ†¶ãƒ»å±¥æ­´ï¼‰\n\n```typescript\nawait this.memoryManager.saveToMidTerm(\n  `chapter_${chapterNumber}_quality`,\n  qualityMetrics\n);\n\nawait this.memoryManager.saveToLongTerm(\n  'qualityHistory',\n  { chapterNumber, qualityMetrics, timestamp },\n  { append: true }\n);\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—4ï¼šã‚¢ãƒ©ãƒ¼ãƒˆç¢ºèª\n\n**ä½•ã‚’ã™ã‚‹ã‹**ï¼š\nå“è³ªã‚¹ã‚³ã‚¢ãŒã—ãã„å€¤ã‚’ä¸‹å›ã‚‹å ´åˆã‚„ã€å“è³ªä½ä¸‹ãƒˆãƒ¬ãƒ³ãƒ‰ã‚’æ¤œå‡ºã—ãŸå ´åˆã«ã‚¢ãƒ©ãƒ¼ãƒˆç”Ÿæˆã€‚\n\n**ãªãœã“ã®é †åºã‹**ï¼š\nå“è³ªãƒ‡ãƒ¼ã‚¿ä¿å­˜å¾Œã«å±¥æ­´ã¨æ¯”è¼ƒã—ã¦ãƒˆãƒ¬ãƒ³ãƒ‰åˆ†æã‚’è¡Œã†ãŸã‚ã€‚\n\n**ä½¿ç”¨ã™ã‚‹æŠ€è¡“ãƒ»æ‰‹æ³•**ï¼š\n- ã—ãã„å€¤ãƒã‚§ãƒƒã‚¯\n- ãƒˆãƒ¬ãƒ³ãƒ‰åˆ†æï¼ˆæœ€è¿‘5ç« ï¼‰\n\n```typescript\n// å±é™ºãƒ¬ãƒ™ãƒ«å“è³ª\nif (qualityScore < 4.0) {\n  alerts.push({\n    type: 'CRITICAL_QUALITY',\n    severity: 'CRITICAL',\n    message: `Chapter ${chapterNumber} quality critically low: ${qualityScore.toFixed(2)}`\n  });\n}\n\n// å“è³ªä½ä¸‹ãƒˆãƒ¬ãƒ³ãƒ‰\nconst recentScores = qualityHistory.slice(-5).map(r => r.qualityScore);\nif (isDeciningTrend(recentScores)) {\n  alerts.push({\n    type: 'QUALITY_DECLINE_TREND',\n    severity: 'MEDIUM',\n    message: 'Declining quality trend detected'\n  });\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—5ï¼šæ¬¡ç« æœ€é©åŒ–ææ¡ˆç”Ÿæˆ\n\n**ä½•ã‚’ã™ã‚‹ã‹**ï¼š\nåˆ†æçµæœã¨å“è³ªãƒ¡ãƒˆãƒªã‚¯ã‚¹ã‹ã‚‰ã€æ¬¡ç« ã¸ã®æ”¹å–„ææ¡ˆã‚’4ã¤ã®ã‚«ãƒ†ã‚´ãƒªã§ç”Ÿæˆã€‚\n\n**ãªãœã“ã®é †åºã‹**ï¼š\nå“è³ªå•é¡Œã‚’ç‰¹å®šã—ãŸå¾Œã€å…·ä½“çš„ãªæ”¹å–„ç­–ã‚’ææ¡ˆã€‚\n\n**ä½¿ç”¨ã™ã‚‹æŠ€è¡“ãƒ»æ‰‹æ³•**ï¼š\n- `OptimizationCoordinator.optimizeChapter()`\n- ãƒ†ãƒ¼ãƒæœ€é©åŒ–\n- æ–‡ä½“æœ€é©åŒ–\n- ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼æ·±åŒ–\n- ãƒ†ãƒ³ã‚·ãƒ§ãƒ³æœ€é©åŒ–\n\n```typescript\nconst optimizationResults = await this.optimizationCoordinator.optimizeChapter(\n  chapter.content,\n  chapter.chapterNumber + 1,\n  nextChapterContext,\n  {\n    themeAnalysis: analysisResults.themeAnalysis,\n    styleAnalysis: analysisResults.styleAnalysis,\n    qualityMetrics: analysisResults.qualityMetrics\n  }\n);\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—6ï¼šçµ±åˆæ”¹å–„ææ¡ˆ\n\n**ä½•ã‚’ã™ã‚‹ã‹**ï¼š\nè¤‡æ•°ã®ã‚½ãƒ¼ã‚¹ã‹ã‚‰æ”¹å–„ææ¡ˆã‚’åé›†ã—ã€å„ªå…ˆåº¦ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ãƒ»é‡è¤‡é™¤å»ã‚’è¡Œã„ã€æœ€å¤§10å€‹ã«çµã‚‹ã€‚\n\n**ãªãœã“ã®é †åºã‹**ï¼š\nå„ã‚«ãƒ†ã‚´ãƒªã®æœ€é©åŒ–çµæœã‚’çµ±åˆã—ã€å®Ÿè¡Œå¯èƒ½ãªæ•°ã«çµã‚Šè¾¼ã‚€ã€‚\n\n**ä½¿ç”¨ã™ã‚‹æŠ€è¡“ãƒ»æ‰‹æ³•**ï¼š\n- å“è³ªãƒ™ãƒ¼ã‚¹ææ¡ˆç”Ÿæˆ (`generateQualityBasedSuggestions`)\n- ã‚«ãƒ†ã‚´ãƒªåˆ¥ææ¡ˆæŠ½å‡º (`extractCategoryBasedSuggestions`)\n- å„ªå…ˆåº¦ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ï¼ˆhigh/mediumï¼‰\n- é‡è¤‡é™¤å»\n\n```typescript\nconst suggestions: string[] = [];\n\n// 1. å“è³ªãƒ¡ãƒˆãƒªã‚¯ã‚¹ãƒ™ãƒ¼ã‚¹ææ¡ˆ\nif (qualityMetrics.engagement < 0.7) {\n  suggestions.push('èª­è€…ã®èˆˆå‘³ã‚’å¼•ãè¦ç´ ã‚’è¿½åŠ ã—ã¦ãã ã•ã„');\n}\n\n// 2. æœ€é©åŒ–çµæœã‹ã‚‰é«˜å„ªå…ˆåº¦ææ¡ˆ\nconst prioritized = optimizationResults.integratedRecommendations\n  .prioritizedSuggestions\n  .filter(s => s.priority === 'high' || s.priority === 'medium')\n  .map(s => s.description);\n\nsuggestions.push(...prioritized);\n\n// 3. é‡è¤‡é™¤å»ã¨åˆ¶é™\nconst uniqueSuggestions = [...new Set(suggestions)];\nreturn uniqueSuggestions.slice(0, 10);\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—7ï¼šãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ä¿å­˜\n\n**ä½•ã‚’ã™ã‚‹ã‹**ï¼š\nçµ±åˆæ”¹å–„ææ¡ˆã¨å“è³ªãƒ¡ãƒˆãƒªã‚¯ã‚¹ã‚’ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯å±¥æ­´ã¨ã—ã¦ä¿å­˜ã€‚\n\n**ãªãœã“ã®é †åºã‹**ï¼š\næ¬¡ç« ç”Ÿæˆæ™‚ã«å‚ç…§ã§ãã‚‹ã‚ˆã†ã€æœ€çµ‚çš„ãªãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã‚’ä¿å­˜ã€‚\n\n**ä½¿ç”¨ã™ã‚‹æŠ€è¡“ãƒ»æ‰‹æ³•**ï¼š\n- ä¸­æœŸè¨˜æ†¶ã¸ã®ä¿å­˜ï¼ˆæ¬¡ç« ç”Ÿæˆæ™‚å‚ç…§ï¼‰\n- é•·æœŸè¨˜æ†¶ã¸ã®è“„ç©ï¼ˆãƒˆãƒ¬ãƒ³ãƒ‰åˆ†æç”¨ï¼‰\n\n```typescript\nconst feedbackRecord = {\n  chapterNumber,\n  timestamp: new Date().toISOString(),\n  suggestions,\n  qualityMetrics,\n  metadata: {\n    suggestionCount: suggestions.length,\n    averageQuality: calculateAverageQuality(qualityMetrics)\n  }\n};\n\nawait this.memoryManager.saveToMidTerm(\n  `feedback_chapter_${chapterNumber}`,\n  feedbackRecord\n);\n\nawait this.memoryManager.saveToLongTerm(\n  'feedbackHistory',\n  feedbackRecord,\n  { append: true }\n);\n```\n\n## ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°\n\nå„ã‚¹ãƒ†ãƒƒãƒ—ã§ç™ºç”Ÿã—ã†ã‚‹ã‚¨ãƒ©ãƒ¼ã¨å¯¾å‡¦ï¼š\n\n- **AIåˆ†æå¤±æ•—**ï¼ˆã‚¹ãƒ†ãƒƒãƒ—1ï¼‰â†’ ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯åˆ†æï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ï¼‰\n- **å“è³ªã‚¹ã‚³ã‚¢ç•°å¸¸**ï¼ˆã‚¹ãƒ†ãƒƒãƒ—2ï¼‰â†’ å¢ƒç•Œå€¤ãƒã‚§ãƒƒã‚¯ï¼ˆ0-10ã«åˆ¶é™ï¼‰\n- **è¨˜æ†¶ã‚·ã‚¹ãƒ†ãƒ éšœå®³**ï¼ˆã‚¹ãƒ†ãƒƒãƒ—3,7ï¼‰â†’ ã‚¹ã‚¿ãƒ³ãƒ‰ã‚¢ãƒ­ãƒ³ãƒ¢ãƒ¼ãƒ‰ï¼ˆãƒ­ãƒ¼ã‚«ãƒ«å¤‰æ•°ã§ç¶™ç¶šï¼‰\n- **æœ€é©åŒ–å¤±æ•—**ï¼ˆã‚¹ãƒ†ãƒƒãƒ—5ï¼‰â†’ åŸºæœ¬çš„ãªææ¡ˆã®ã¿è¿”å´\n\n## å†ç¾æ–¹æ³•\n\n```typescript\nimport { PostGenerationPipeline } from '@/lib/generation/post-generation-pipeline';\n\nconst pipeline = new PostGenerationPipeline(\n  memoryManager,\n  analysisCoordinator,\n  optimizationCoordinator\n);\n\n// ç« ç”Ÿæˆå¾Œã«å®Ÿè¡Œ\nconst result = await pipeline.processChapter(\n  {\n    chapterNumber: 3,\n    content: chapterContent\n  },\n  context\n);\n\nconsole.log('å“è³ªã‚¹ã‚³ã‚¢:', result.qualityMetrics.overallScore);\nconsole.log('æ¬¡ç« ã¸ã®ææ¡ˆ:', result.suggestions);\nconsole.log('ã‚¢ãƒ©ãƒ¼ãƒˆ:', result.alerts);\n```\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `skill_multi_dimensional_quality_evaluation_2025_11_25.md`ï¼šå“è³ªè©•ä¾¡ã‚·ã‚¹ãƒ†ãƒ \n- `skill_ai_feedback_loop_optimization_2025_11_25.md`ï¼šAIãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ãƒ«ãƒ¼ãƒ—\n",
    "prompt": "```typescript\nimport { PostGenerationPipeline } from '@/lib/generation/post-generation-pipeline';\n\nconst pipeline = new PostGenerationPipeline(\n  memoryManager,\n  analysisCoordinator,\n  optimizationCoordinator\n);\n\n// ç« ç”Ÿæˆå¾Œã«å®Ÿè¡Œ\nconst result = await pipeline.processChapter(\n  {\n    chapterNumber: 3,\n    content: chapterContent\n  },\n  context\n);\n\nconsole.log('å“è³ªã‚¹ã‚³ã‚¢:', result.qualityMetrics.overallScore);\nconsole.log('æ¬¡ç« ã¸ã®ææ¡ˆ:', result.suggestions);\nconsole.log('ã‚¢ãƒ©ãƒ¼ãƒˆ:', result.alerts);\n```",
    "relatedTech": [
      "skill-multi-dimensional-quality-evaluation",
      "skill-ai-feedback-loop-optimization"
    ]
  },
  {
    "slug": "consistency-validation-cycle",
    "title": "ä¸€è²«æ€§æ¤œè¨¼ã‚µã‚¤ã‚¯ãƒ«",
    "category": "Workflowsï¼ˆãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ï¼‰",
    "description": "ä¸€è²«æ€§æ¤œè¨¼ã‚µã‚¤ã‚¯ãƒ«",
    "project": "novel-automation-system-v2",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"workflow_consistency_validation_cycle_2025_11_25\",\n  \"type\": \"workflow\",\n  \"name\": \"ä¸€è²«æ€§æ¤œè¨¼ã‚µã‚¤ã‚¯ãƒ«\",\n  \"tags\": [\"ä¸€è²«æ€§æ¤œè¨¼\", \"ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼\", \"å“è³ªä¿è¨¼\", \"ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ãƒ«ãƒ¼ãƒ—\"],\n  \"source_project\": \"novel-automation-system-v2\",\n  \"related_knowledge\": [\"skill_three_layer_consistency_checking_2025_11_25\"],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# ä¸€è²«æ€§æ¤œè¨¼ã‚µã‚¤ã‚¯ãƒ«\n\n## ä½•ã®ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‹\n\nç« ç”Ÿæˆå¾Œã«3æ®µéšã®ä¸€è²«æ€§ãƒã‚§ãƒƒã‚¯ï¼ˆåŸºæœ¬â†’ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼â†’åŒ…æ‹¬ï¼‰ã‚’å®Ÿè¡Œã—ã€å•é¡Œã‚’æ¤œå‡ºã—ãŸå ´åˆã¯ä¿®æ­£ææ¡ˆã‚’ç”Ÿæˆã—ã€æ¬¡ç« ç”Ÿæˆæ™‚ã«åæ˜ ã™ã‚‹ç¶™ç¶šçš„ãªå“è³ªä¿è¨¼ã‚µã‚¤ã‚¯ãƒ«ã€‚\n\n## ãƒ•ãƒ­ãƒ¼å…¨ä½“å›³\n\n```\nç« Nç”Ÿæˆå®Œäº†\n   â†“\n[ã‚¹ãƒ†ãƒƒãƒ—1] å…¥åŠ›ã®å‹å®‰å…¨ãªå‡¦ç†\n   â”œâ”€ å…¥åŠ›å½¢å¼ã®åˆ¤å®šï¼ˆæ–‡å­—åˆ—/Memoryé…åˆ—/ç©ºï¼‰\n   â”œâ”€ å‹æ¤œè¨¼\n   â””â”€ ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯å‡¦ç†\n   â†“\n[ã‚¹ãƒ†ãƒƒãƒ—2] åŸºæœ¬ä¸€è²«æ€§ãƒã‚§ãƒƒã‚¯\n   â”œâ”€ ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ç¶™ç¶šæ€§\n   â”œâ”€ å ´æ‰€ç¶™ç¶šæ€§\n   â”œâ”€ æ–‡ä½“ç¶™ç¶šæ€§\n   â””â”€ æ™‚ç³»åˆ—æ•´åˆæ€§\n   â†“\nå•é¡Œæ¤œå‡ºï¼Ÿ â”€Yesâ†’ [å•é¡Œè¨˜éŒ²] â†’ [ä¿®æ­£ææ¡ˆç”Ÿæˆ] â†’ çµ‚äº†\n   â†“No\n[ã‚¹ãƒ†ãƒƒãƒ—3] ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ä¸€è²«æ€§ãƒã‚§ãƒƒã‚¯\n   â”œâ”€ ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼æŠ½å‡ºï¼ˆãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒãƒ³ã‚°ï¼‰\n   â”œâ”€ æ€§æ ¼ç‰¹æ€§æŠ½å‡º\n   â”œâ”€ æ€§æ ¼ä¸€è²«æ€§åˆ†æï¼ˆAIãƒ™ãƒ¼ã‚¹ï¼‰\n   â””â”€ æ„Ÿæƒ…çŠ¶æ…‹ã®è«–ç†æ€§ãƒã‚§ãƒƒã‚¯\n   â†“\nå•é¡Œæ¤œå‡ºï¼Ÿ â”€Yesâ†’ [å•é¡Œè¨˜éŒ²] â†’ [ä¿®æ­£ææ¡ˆç”Ÿæˆ] â†’ çµ‚äº†\n   â†“No\n[ã‚¹ãƒ†ãƒƒãƒ—4] åŒ…æ‹¬ä¸€è²«æ€§ãƒã‚§ãƒƒã‚¯\n   â”œâ”€ è¨˜æ†¶ã‚·ã‚¹ãƒ†ãƒ ã‹ã‚‰éå»ç« ãƒ‡ãƒ¼ã‚¿å–å¾—\n   â”œâ”€ é•·æœŸçš„ä¸€è²«æ€§æ¤œè¨¼\n   â”œâ”€ AIç·åˆåˆ†æ\n   â””â”€ å…¨ä½“çš„ãªæ•´åˆæ€§è©•ä¾¡\n   â†“\n[ã‚¹ãƒ†ãƒƒãƒ—5] ä¸€è²«æ€§çµ±è¨ˆæ›´æ–°\n   â”œâ”€ ãƒã‚§ãƒƒã‚¯æˆåŠŸ/å¤±æ•—ã‚«ã‚¦ãƒ³ãƒˆ\n   â”œâ”€ å‡¦ç†æ™‚é–“è¨˜éŒ²\n   â”œâ”€ ã‚«ãƒ†ã‚´ãƒªåˆ¥åˆ†æå›æ•°\n   â””â”€ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ¡ãƒˆãƒªã‚¯ã‚¹æ›´æ–°\n   â†“\n[ã‚¹ãƒ†ãƒƒãƒ—6] çµæœã®è¨˜æ†¶ã‚·ã‚¹ãƒ†ãƒ ä¿å­˜\n   â”œâ”€ ä¸€è²«æ€§ãƒã‚§ãƒƒã‚¯çµæœï¼ˆä¸­æœŸè¨˜æ†¶ï¼‰\n   â”œâ”€ æ¤œå‡ºã•ã‚ŒãŸå•é¡Œï¼ˆä¸­æœŸè¨˜æ†¶ï¼‰\n   â”œâ”€ çµ±è¨ˆãƒ‡ãƒ¼ã‚¿ï¼ˆé•·æœŸè¨˜æ†¶ï¼‰\n   â””â”€ ãƒˆãƒ¬ãƒ³ãƒ‰åˆ†æç”¨ãƒ‡ãƒ¼ã‚¿è“„ç©\n   â†“\n[ã‚¹ãƒ†ãƒƒãƒ—7] è¨ºæ–­æ©Ÿèƒ½å®Ÿè¡Œï¼ˆå®šæœŸï¼‰\n   â”œâ”€ ã‚·ã‚¹ãƒ†ãƒ å¥å…¨æ€§è©•ä¾¡\n   â”œâ”€ åˆ†æèƒ½åŠ›ãƒã‚§ãƒƒã‚¯\n   â”œâ”€ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è©•ä¾¡\n   â””â”€ æ¨å¥¨äº‹é …ç”Ÿæˆ\n   â†“\næ¬¡ç« ï¼ˆç« N+1ï¼‰ç”Ÿæˆæ™‚ã«ä¿®æ­£ææ¡ˆåæ˜ \n```\n\n## å„ã‚¹ãƒ†ãƒƒãƒ—ã®è©³ç´°\n\n### ã‚¹ãƒ†ãƒƒãƒ—1ï¼šå…¥åŠ›ã®å‹å®‰å…¨ãªå‡¦ç†\n\n**ä½•ã‚’ã™ã‚‹ã‹**ï¼š\nå…¥åŠ›ãŒæ–‡å­—åˆ—ï¼ˆç« å†…å®¹ï¼‰ã‹ Memoryé…åˆ—ï¼ˆè¨˜æ†¶ã‚·ã‚¹ãƒ†ãƒ ãƒ‡ãƒ¼ã‚¿ï¼‰ã‹åˆ¤å®šã—ã€å‹å®‰å…¨ã«å‡¦ç†ã€‚\n\n**ãªãœã“ã®é †åºã‹**ï¼š\nä¸æ­£ãªå…¥åŠ›ã§ã‚¯ãƒ©ãƒƒã‚·ãƒ¥ã—ãªã„ã‚ˆã†ã€æœ€åˆã«å…¥åŠ›ã‚’æ¤œè¨¼ã€‚\n\n**ä½¿ç”¨ã™ã‚‹æŠ€è¡“ãƒ»æ‰‹æ³•**ï¼š\n- å‹ã‚¬ãƒ¼ãƒ‰\n- ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯å‡¦ç†\n\n```typescript\nprivate processInputSafely(input: Memory[] | string): {\n  analysisType: 'string' | 'memories' | 'empty';\n  processedInput: Memory[] | string;\n} {\n  if (typeof input === 'string') {\n    return {\n      analysisType: 'string',\n      processedInput: input\n    };\n  }\n\n  if (Array.isArray(input)) {\n    if (input.length === 0) {\n      return {\n        analysisType: 'empty',\n        processedInput: []\n      };\n    }\n\n    if (this.isMemoryArray(input)) {\n      return {\n        analysisType: 'memories',\n        processedInput: input\n      };\n    }\n  }\n\n  // ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ï¼šä¸æ­£ãªå…¥åŠ›ã¯ç©ºã¨ã—ã¦æ‰±ã†\n  logger.warn('Invalid input type, treating as empty');\n  return {\n    analysisType: 'empty',\n    processedInput: []\n  };\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2ï¼šåŸºæœ¬ä¸€è²«æ€§ãƒã‚§ãƒƒã‚¯\n\n**ä½•ã‚’ã™ã‚‹ã‹**ï¼š\nè»½é‡ãªãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒãƒ³ã‚°ã§åŸºæœ¬çš„ãªä¸€è²«æ€§å•é¡Œã‚’æ¤œå‡ºã€‚\n\n**ãªãœã“ã®é †åºã‹**ï¼š\nè»½ã„å‡¦ç†ã‹ã‚‰å®Ÿè¡Œã—ã€å•é¡ŒãŒã‚ã‚Œã°æ—©æœŸçµ‚äº†ã—ã¦ã‚³ã‚¹ãƒˆå‰Šæ¸›ã€‚\n\n**ä½¿ç”¨ã™ã‚‹æŠ€è¡“ãƒ»æ‰‹æ³•**ï¼š\n- æ­£è¦è¡¨ç¾ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒãƒ³ã‚°\n- æ–‡ä½“ãƒãƒ¼ã‚«ãƒ¼æ¤œå‡º\n- æ™‚ç³»åˆ—ãƒãƒ¼ã‚«ãƒ¼æŠ½å‡º\n- å ´æ‰€é·ç§»ã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ãƒ¼æ¤œå‡º\n\n```typescript\nasync checkBasicConsistency(\n  currentContent: string,\n  previousContent: string\n): Promise<ConsistencyIssue[]> {\n  const issues: ConsistencyIssue[] = [];\n\n  // 1. ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ç¶™ç¶šæ€§\n  const prevCharacters = this.extractCharactersSafely(previousContent);\n  const currentCharacters = this.extractCharactersSafely(currentContent);\n\n  const isCharacterContinuous = prevCharacters.some(char =>\n    currentCharacters.includes(char)\n  );\n\n  if (!isCharacterContinuous && prevCharacters.length > 0) {\n    issues.push({\n      type: 'CHARACTER',\n      description: 'ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã®ç¶™ç¶šæ€§ãŒä¿ãŸã‚Œã¦ã„ã¾ã›ã‚“',\n      severity: 'MEDIUM'\n    });\n  }\n\n  // 2. æ–‡ä½“ç¶™ç¶šæ€§\n  const styleIssues = await this.analyzeStyleContinuity(\n    currentContent,\n    previousContent\n  );\n  issues.push(...styleIssues);\n\n  // 3. å ´æ‰€ç¶™ç¶šæ€§\n  const locationIssues = await this.analyzeLocationContinuity(\n    currentContent,\n    previousContent\n  );\n  issues.push(...locationIssues);\n\n  // 4. æ™‚ç³»åˆ—æ•´åˆæ€§\n  const timelineIssues = this.checkTimelineConsistency(\n    currentContent,\n    previousContent\n  );\n  issues.push(...timelineIssues);\n\n  return issues;\n}\n```\n\n**æ—©æœŸçµ‚äº†ã®åˆ¤å®š**ï¼š\n```typescript\nconst basicIssues = await this.checkBasicConsistency(current, previous);\nif (basicIssues.length > 0) {\n  // å•é¡Œã‚ã‚Š â†’ å³åº§ã«è¿”å´ï¼ˆå¾Œç¶šã‚¹ã‚­ãƒƒãƒ—ï¼‰\n  return {\n    isConsistent: false,\n    issues: basicIssues\n  };\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3ï¼šã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ä¸€è²«æ€§ãƒã‚§ãƒƒã‚¯\n\n**ä½•ã‚’ã™ã‚‹ã‹**ï¼š\nã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã®æ€§æ ¼æå†™ãŒç« é–“ã§ä¸€è²«ã—ã¦ã„ã‚‹ã‹ã€AIã‚‚æ´»ç”¨ã—ã¦è©³ç´°åˆ†æã€‚\n\n**ãªãœã“ã®é †åºã‹**ï¼š\nåŸºæœ¬ãƒã‚§ãƒƒã‚¯ã§å•é¡ŒãŒãªã‹ã£ãŸå ´åˆã®ã¿å®Ÿè¡Œã™ã‚‹é‡ã„å‡¦ç†ã€‚\n\n**ä½¿ç”¨ã™ã‚‹æŠ€è¡“ãƒ»æ‰‹æ³•**ï¼š\n- ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼æŠ½å‡ºï¼ˆæ­£è¦è¡¨ç¾ï¼‰\n- æ€§æ ¼ç‰¹æ€§æŠ½å‡ºï¼ˆãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒãƒ³ã‚°ï¼‰\n- æ€§æ ¼ä¸€è²«æ€§åˆ†æï¼ˆAIãƒ™ãƒ¼ã‚¹ï¼‰\n\n```typescript\nasync checkCharacterConsistency(\n  currentContent: string,\n  history: Memory[]\n): Promise<ConsistencyIssue[]> {\n  const issues: ConsistencyIssue[] = [];\n\n  // ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼æŠ½å‡º\n  const characters = this.extractCharactersSafely(currentContent);\n\n  for (const character of characters) {\n    // æ€§æ ¼ä¸€è²«æ€§ãƒã‚§ãƒƒã‚¯\n    const hasInconsistency = await this.analyzeCharacterPersonalityConsistency(\n      character,\n      currentContent,\n      history\n    );\n\n    if (hasInconsistency) {\n      issues.push({\n        type: 'CHARACTER',\n        description: `ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã€Œ${character}ã€ã®æ€§æ ¼æå†™ã«ä¸€è²«æ€§ã®å•é¡Œ`,\n        severity: 'HIGH',\n        location: character\n      });\n    }\n  }\n\n  return issues;\n}\n```\n\n**æ€§æ ¼ä¸€è²«æ€§ã®åˆ†æ**ï¼š\n```typescript\nprivate async analyzeCharacterPersonalityConsistency(\n  character: string,\n  currentContent: string,\n  history: Memory[]\n): Promise<boolean> {\n  // ç¾åœ¨ã®æ€§æ ¼ç‰¹æ€§æŠ½å‡º\n  const currentTraits = this.extractCharacterTraits(currentContent, character);\n\n  // éå»ã®æ€§æ ¼ç‰¹æ€§æŠ½å‡º\n  const historicalTraits = history.map(memory =>\n    this.extractCharacterTraits(memory.content, character)\n  ).filter(traits => traits.length > 0);\n\n  if (historicalTraits.length === 0 || currentTraits.length === 0) {\n    return false;\n  }\n\n  // ä¸€è²«æ€§ã‚¹ã‚³ã‚¢è¨ˆç®—\n  const consistencyScore = this.calculatePersonalityConsistencyScore(\n    currentTraits,\n    historicalTraits\n  );\n\n  return consistencyScore < 0.6; // 60%æœªæº€ã§ä¸ä¸€è‡´\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—4ï¼šåŒ…æ‹¬ä¸€è²«æ€§ãƒã‚§ãƒƒã‚¯\n\n**ä½•ã‚’ã™ã‚‹ã‹**ï¼š\nè¨˜æ†¶ã‚·ã‚¹ãƒ†ãƒ ã‹ã‚‰éå»ã®å…¨ç« ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã—ã€é•·æœŸçš„ãªä¸€è²«æ€§ã‚’æ¤œè¨¼ã€‚\n\n**ãªãœã“ã®é †åºã‹**ï¼š\næœ€ã‚‚é‡ã„å‡¦ç†ãªã®ã§æœ€å¾Œã«å®Ÿè¡Œã€‚\n\n**ä½¿ç”¨ã™ã‚‹æŠ€è¡“ãƒ»æ‰‹æ³•**ï¼š\n- çµ±åˆè¨˜æ†¶ã‚·ã‚¹ãƒ†ãƒ æ¤œç´¢\n- AIãƒ™ãƒ¼ã‚¹ç·åˆåˆ†æ\n- é•·æœŸçš„ãƒˆãƒ¬ãƒ³ãƒ‰åˆ†æ\n\n```typescript\nasync checkConsistency(\n  input: Memory[] | string,\n  previousContent?: string\n): Promise<ConsistencyCheckResult> {\n  const { analysisType, processedInput } = this.processInputSafely(input);\n\n  if (analysisType === 'empty') {\n    return { isConsistent: true, issues: [] };\n  }\n\n  // Memoryé…åˆ—ã®å ´åˆï¼šçµ±åˆè¨˜æ†¶ã‚·ã‚¹ãƒ†ãƒ ã‹ã‚‰æ¤œç´¢\n  if (analysisType === 'memories' && Array.isArray(processedInput)) {\n    const memories = processedInput as Memory[];\n\n    // AIãƒ™ãƒ¼ã‚¹ç·åˆåˆ†æ\n    const comprehensiveAnalysis = await this.performComprehensiveAnalysis(memories);\n\n    return comprehensiveAnalysis;\n  }\n\n  // æ–‡å­—åˆ—ã®å ´åˆï¼šå‰ç« ã¨ã®æ¯”è¼ƒï¼ˆåŸºæœ¬ãƒ»ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ï¼‰\n  if (analysisType === 'string' && typeof processedInput === 'string') {\n    const current = processedInput;\n\n    // æ®µéš1: åŸºæœ¬ä¸€è²«æ€§\n    const basicIssues = await this.checkBasicConsistency(current, previousContent);\n    if (basicIssues.length > 0) {\n      return { isConsistent: false, issues: basicIssues };\n    }\n\n    // æ®µéš2: ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ä¸€è²«æ€§\n    const history = await this.getCharacterHistory();\n    const charIssues = await this.checkCharacterConsistency(current, history);\n    if (charIssues.length > 0) {\n      return { isConsistent: false, issues: charIssues };\n    }\n\n    return { isConsistent: true, issues: [] };\n  }\n\n  return { isConsistent: true, issues: [] };\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—5ï¼šä¸€è²«æ€§çµ±è¨ˆæ›´æ–°\n\n**ä½•ã‚’ã™ã‚‹ã‹**ï¼š\nãƒã‚§ãƒƒã‚¯æˆåŠŸ/å¤±æ•—ã€å‡¦ç†æ™‚é–“ã€ã‚«ãƒ†ã‚´ãƒªåˆ¥åˆ†æå›æ•°ç­‰ã‚’è¨˜éŒ²ã€‚\n\n**ãªãœã“ã®é †åºã‹**ï¼š\nãƒã‚§ãƒƒã‚¯å®Œäº†å¾Œã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã¨å“è³ªã®ãƒˆãƒ¬ãƒ³ãƒ‰åˆ†æç”¨ã«ãƒ‡ãƒ¼ã‚¿è“„ç©ã€‚\n\n**ä½¿ç”¨ã™ã‚‹æŠ€è¡“ãƒ»æ‰‹æ³•**ï¼š\n- çµ±è¨ˆã‚«ã‚¦ãƒ³ã‚¿ãƒ¼æ›´æ–°\n\n```typescript\ninterface AnalysisStatistics {\n  totalChecks: number;\n  successfulChecks: number;\n  failedChecks: number;\n  averageProcessingTime: number;\n  characterAnalysisCount: number;\n  locationAnalysisCount: number;\n  timelineValidationCount: number;\n  lastOptimization: string;\n}\n\nprivate updateStatistics(\n  success: boolean,\n  processingTime: number,\n  analysisTypes: string[]\n) {\n  this.statistics.totalChecks++;\n\n  if (success) {\n    this.statistics.successfulChecks++;\n  } else {\n    this.statistics.failedChecks++;\n  }\n\n  // å¹³å‡å‡¦ç†æ™‚é–“æ›´æ–°\n  this.statistics.averageProcessingTime =\n    (this.statistics.averageProcessingTime * (this.statistics.totalChecks - 1) + processingTime) /\n    this.statistics.totalChecks;\n\n  // ã‚«ãƒ†ã‚´ãƒªåˆ¥ã‚«ã‚¦ãƒ³ãƒˆ\n  if (analysisTypes.includes('character')) {\n    this.statistics.characterAnalysisCount++;\n  }\n  if (analysisTypes.includes('location')) {\n    this.statistics.locationAnalysisCount++;\n  }\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—6ï¼šçµæœã®è¨˜æ†¶ã‚·ã‚¹ãƒ†ãƒ ä¿å­˜\n\n**ä½•ã‚’ã™ã‚‹ã‹**ï¼š\nä¸€è²«æ€§ãƒã‚§ãƒƒã‚¯çµæœã¨æ¤œå‡ºã•ã‚ŒãŸå•é¡Œã‚’è¨˜æ†¶ã‚·ã‚¹ãƒ†ãƒ ã«ä¿å­˜ã€‚\n\n**ãªãœã“ã®é †åºã‹**ï¼š\næ¬¡ç« ç”Ÿæˆæ™‚ã‚„è¨ºæ–­æ™‚ã«å‚ç…§ã§ãã‚‹ã‚ˆã†æ°¸ç¶šåŒ–ã€‚\n\n**ä½¿ç”¨ã™ã‚‹æŠ€è¡“ãƒ»æ‰‹æ³•**ï¼š\n- ä¸­æœŸè¨˜æ†¶ã¸ã®ä¿å­˜ï¼ˆã‚»ãƒƒã‚·ãƒ§ãƒ³é–“ï¼‰\n- é•·æœŸè¨˜æ†¶ã¸ã®è“„ç©ï¼ˆãƒˆãƒ¬ãƒ³ãƒ‰åˆ†æï¼‰\n\n```typescript\nasync saveConsistencyResultsToMemory(\n  chapterNumber: number,\n  result: ConsistencyCheckResult\n): Promise<void> {\n  await this.safeMemoryOperation(\n    async () => {\n      // ä¸­æœŸè¨˜æ†¶ã«ä¿å­˜\n      await this.memoryManager.saveToMidTerm(\n        `consistency_chapter_${chapterNumber}`,\n        {\n          isConsistent: result.isConsistent,\n          issues: result.issues,\n          timestamp: new Date().toISOString()\n        }\n      );\n\n      // é•·æœŸè¨˜æ†¶ã«å±¥æ­´è“„ç©\n      await this.memoryManager.saveToLongTerm(\n        'consistencyHistory',\n        {\n          chapterNumber,\n          issueCount: result.issues.length,\n          issueTypes: result.issues.map(i => i.type),\n          timestamp: new Date().toISOString()\n        },\n        { append: true }\n      );\n    },\n    undefined,\n    `saveConsistencyResults_chapter${chapterNumber}`\n  );\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—7ï¼šè¨ºæ–­æ©Ÿèƒ½å®Ÿè¡Œï¼ˆå®šæœŸï¼‰\n\n**ä½•ã‚’ã™ã‚‹ã‹**ï¼š\nã‚·ã‚¹ãƒ†ãƒ ã®å¥å…¨æ€§ã€åˆ†æèƒ½åŠ›ã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’å®šæœŸçš„ã«è©•ä¾¡ã€‚\n\n**ãªãœã“ã®é †åºã‹**ï¼š\nå®šæœŸçš„ãªè¨ºæ–­ã§å•é¡Œã®æ—©æœŸç™ºè¦‹ã¨æ¨å¥¨äº‹é …ã®æç¤ºã€‚\n\n**ä½¿ç”¨ã™ã‚‹æŠ€è¡“ãƒ»æ‰‹æ³•**ï¼š\n- ã‚·ã‚¹ãƒ†ãƒ å¥å…¨æ€§è©•ä¾¡\n- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ¡ãƒˆãƒªã‚¯ã‚¹åˆ†æ\n\n```typescript\nasync performDiagnostics(): Promise<{\n  systemHealth: 'HEALTHY' | 'DEGRADED' | 'CRITICAL';\n  analysisCapabilities: any;\n  performanceMetrics: AnalysisStatistics;\n  recommendations: string[];\n}> {\n  let systemHealth: 'HEALTHY' | 'DEGRADED' | 'CRITICAL' = 'HEALTHY';\n  const recommendations: string[] = [];\n\n  // ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è©•ä¾¡\n  if (this.statistics.failedChecks / this.statistics.totalChecks > 0.1) {\n    systemHealth = 'DEGRADED';\n    recommendations.push('High failure rate detected');\n  }\n\n  // è¨˜æ†¶ã‚·ã‚¹ãƒ†ãƒ æ¥ç¶šãƒ†ã‚¹ãƒˆ\n  const memoryStatus = await this.testMemoryConnection();\n  if (memoryStatus === 'DISCONNECTED') {\n    systemHealth = 'DEGRADED';\n    recommendations.push('Memory system connection is unavailable');\n  }\n\n  return {\n    systemHealth,\n    analysisCapabilities: this.getAnalysisCapabilities(),\n    performanceMetrics: { ...this.statistics },\n    recommendations\n  };\n}\n```\n\n## ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°\n\nå„ã‚¹ãƒ†ãƒƒãƒ—ã§ç™ºç”Ÿã—ã†ã‚‹ã‚¨ãƒ©ãƒ¼ã¨å¯¾å‡¦ï¼š\n\n- **å…¥åŠ›å‹ã‚¨ãƒ©ãƒ¼**ï¼ˆã‚¹ãƒ†ãƒƒãƒ—1ï¼‰â†’ ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ï¼ˆç©ºã¨ã—ã¦æ‰±ã†ï¼‰\n- **åŸºæœ¬ãƒã‚§ãƒƒã‚¯å¤±æ•—**ï¼ˆã‚¹ãƒ†ãƒƒãƒ—2ï¼‰â†’ ãƒ­ã‚°è¨˜éŒ²ã—ã¦ç¶™ç¶šï¼ˆå¤±æ•—ã‚«ã‚¦ãƒ³ãƒˆï¼‰\n- **AIåˆ†æå¤±æ•—**ï¼ˆã‚¹ãƒ†ãƒƒãƒ—3,4ï¼‰â†’ ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆçµæœè¿”å´\n- **è¨˜æ†¶ã‚·ã‚¹ãƒ†ãƒ éšœå®³**ï¼ˆã‚¹ãƒ†ãƒƒãƒ—6ï¼‰â†’ ã‚¹ã‚¿ãƒ³ãƒ‰ã‚¢ãƒ­ãƒ³ãƒ¢ãƒ¼ãƒ‰ï¼ˆãƒ­ãƒ¼ã‚«ãƒ«ä¿å­˜ï¼‰\n- **è¨ºæ–­å¤±æ•—**ï¼ˆã‚¹ãƒ†ãƒƒãƒ—7ï¼‰â†’ æœ€å°é™ã®è¨ºæ–­çµæœè¿”å´\n\n## å†ç¾æ–¹æ³•\n\n```typescript\nimport { ConsistencyChecker } from '@/lib/validation/consistency-checker';\n\nconst checker = new ConsistencyChecker(memoryManager);\n\n// ç« ç”Ÿæˆå¾Œã«å®Ÿè¡Œ\nconst result = await checker.checkConsistency(\n  currentChapterContent,\n  previousChapterContent\n);\n\nif (!result.isConsistent) {\n  console.log('ä¸€è²«æ€§ã®å•é¡ŒãŒæ¤œå‡ºã•ã‚Œã¾ã—ãŸ:');\n  result.issues.forEach(issue => {\n    console.log(`[${issue.severity}] ${issue.type}: ${issue.description}`);\n  });\n\n  // ä¿®æ­£ææ¡ˆç”Ÿæˆ\n  const suggestions = generateFixSuggestions(result.issues);\n  console.log('ä¿®æ­£ææ¡ˆ:', suggestions);\n}\n\n// å®šæœŸè¨ºæ–­ï¼ˆä¾‹ï¼š10ç« ã”ã¨ï¼‰\nif (chapterNumber % 10 === 0) {\n  const diagnostics = await checker.performDiagnostics();\n  console.log('ã‚·ã‚¹ãƒ†ãƒ å¥å…¨æ€§:', diagnostics.systemHealth);\n  console.log('æ¨å¥¨äº‹é …:', diagnostics.recommendations);\n}\n```\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `skill_three_layer_consistency_checking_2025_11_25.md`ï¼š3æ®µéšãƒã‚§ãƒƒã‚¯ã‚·ã‚¹ãƒ†ãƒ ã®å®Ÿè£…\n",
    "prompt": "```typescript\nimport { ConsistencyChecker } from '@/lib/validation/consistency-checker';\n\nconst checker = new ConsistencyChecker(memoryManager);\n\n// ç« ç”Ÿæˆå¾Œã«å®Ÿè¡Œ\nconst result = await checker.checkConsistency(\n  currentChapterContent,\n  previousChapterContent\n);\n\nif (!result.isConsistent) {\n  console.log('ä¸€è²«æ€§ã®å•é¡ŒãŒæ¤œå‡ºã•ã‚Œã¾ã—ãŸ:');\n  result.issues.forEach(issue => {\n    console.log(`[${issue.severity}] ${issue.type}: ${issue.description}`);\n  });\n\n  // ä¿®æ­£ææ¡ˆç”Ÿæˆ\n  const suggestions = generateFixSuggestions(result.issues);\n  console.log('ä¿®æ­£ææ¡ˆ:', suggestions);\n}\n\n// å®šæœŸè¨ºæ–­ï¼ˆä¾‹ï¼š10ç« ã”ã¨ï¼‰\nif (chapterNumber % 10 === 0) {\n  const diagnostics = await checker.performDiagnostics();\n  console.log('ã‚·ã‚¹ãƒ†ãƒ å¥å…¨æ€§:', diagnostics.systemHealth);\n  console.log('æ¨å¥¨äº‹é …:', diagnostics.recommendations);\n}\n```",
    "relatedTech": [
      "skill-three-layer-consistency-checking"
    ]
  },
  {
    "slug": "content-generation-complete-workflow",
    "title": "ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”Ÿæˆå®Œå…¨ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼",
    "category": "Workflowsï¼ˆãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ï¼‰",
    "description": "**ãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›ãƒ†ã‚­ã‚¹ãƒˆã‹ã‚‰å®Œæˆã—ãŸInstagramæŠ•ç¨¿ï¼ˆPNG/PDF/ZIPï¼‰ã¾ã§ã€å®Œå…¨è‡ªå‹•ç”Ÿæˆã™ã‚‹ã‚¨ãƒ³ãƒ‰ãƒ„ãƒ¼ã‚¨ãƒ³ãƒ‰ã®ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã€‚**",
    "project": "instagram-post-generator",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"workflow_content_generation_complete_workflow_2025_11_25\",\n  \"type\": \"workflow\",\n  \"name\": \"ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”Ÿæˆå®Œå…¨ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ï¼ˆå…¥åŠ›â†’PNG/PDF/ZIPå‡ºåŠ›ï¼‰\",\n  \"tags\": [\"ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼\", \"å®Œå…¨ãƒ•ãƒ­ãƒ¼\", \"è‡ªå‹•ç”Ÿæˆ\", \"ã‚¨ãƒ³ãƒ‰ãƒ„ãƒ¼ã‚¨ãƒ³ãƒ‰\"],\n  \"source_project\": \"instagram-post-generator\",\n  \"related_knowledge\": [\n    \"skill_five_stage_ai_pipeline_2025_11_25\",\n    \"decision_arch_two_stage_generation_2025_11_25\",\n    \"skill_html2canvas_optimization_techniques_2025_11_25\"\n  ],\n  \"prerequisites\": [\"5æ®µéšAIãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ç†è§£\", \"html2canvasåŸºç¤\"],\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”Ÿæˆå®Œå…¨ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼\n\n## ä½•ã‚’ã™ã‚‹ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‹\n\n**ãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›ãƒ†ã‚­ã‚¹ãƒˆã‹ã‚‰å®Œæˆã—ãŸInstagramæŠ•ç¨¿ï¼ˆPNG/PDF/ZIPï¼‰ã¾ã§ã€å®Œå…¨è‡ªå‹•ç”Ÿæˆã™ã‚‹ã‚¨ãƒ³ãƒ‰ãƒ„ãƒ¼ã‚¨ãƒ³ãƒ‰ã®ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã€‚**\n\n**å‡¦ç†æ™‚é–“**: ç´„30-45ç§’ï¼ˆ10ãƒšãƒ¼ã‚¸æŠ•ç¨¿ï¼‰\n**å‡ºåŠ›å½¢å¼**: PNGç”»åƒ10æšã€PDF 1ãƒ•ã‚¡ã‚¤ãƒ«ã€ZIP 1ãƒ•ã‚¡ã‚¤ãƒ«\n\n---\n\n## ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼å…¨ä½“åƒ\n\n```\n[ãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›]\n    â†“\nã€Phase 1: AIç”Ÿæˆã€‘ï¼ˆ15-25ç§’ï¼‰\nâ”œâ”€ Stage 0: ã‚¸ãƒ£ãƒ³ãƒ«æ¤œå‡º\nâ”œâ”€ Stage 1: ãƒšãƒ¼ã‚¸æ§‹é€ æ±ºå®š\nâ”œâ”€ Stage 2: ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”Ÿæˆï¼ˆ10ãƒšãƒ¼ã‚¸ï¼‰\nâ”œâ”€ Stage 3: ã‚­ãƒ£ãƒ—ã‚·ãƒ§ãƒ³ç”Ÿæˆ\nâ””â”€ Stage 4: ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°æœ€é©åŒ–\n    â†“\nã€Phase 2: ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã€‘ï¼ˆ5-10ç§’ï¼‰\nâ”œâ”€ Reactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆç”Ÿæˆ\nâ”œâ”€ DOMæç”»\nâ””â”€ ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé©ç”¨\n    â†“\nã€Phase 3: ç”»åƒåŒ–ã€‘ï¼ˆ10-15ç§’ï¼‰\nâ”œâ”€ html2canvaså¤‰æ›ï¼ˆ10ãƒšãƒ¼ã‚¸ï¼‰\nâ”œâ”€ PNGç”Ÿæˆï¼ˆ1080x1080 Ã— 10ï¼‰\nâ””â”€ ãƒ¡ãƒ¢ãƒªç®¡ç†\n    â†“\nã€Phase 4: ãƒ•ã‚¡ã‚¤ãƒ«ç”Ÿæˆã€‘ï¼ˆ2-5ç§’ï¼‰\nâ”œâ”€ PDFç”Ÿæˆï¼ˆjsPDFï¼‰\nâ”œâ”€ ZIPç”Ÿæˆï¼ˆJSZipï¼‰\nâ””â”€ ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰æº–å‚™\n    â†“\n[å®Œæˆãƒ•ã‚¡ã‚¤ãƒ«]\n```\n\n---\n\n## æ‰‹é †è©³ç´°\n\n### Phase 1: AIç”Ÿæˆï¼ˆ15-25ç§’ï¼‰\n\n```typescript\n// app/components/ContentGenerator.tsx\nconst handleGenerate = async () => {\n  setIsGenerating(true)\n  setProgress(0)\n\n  try {\n    // Stage 0-4: 5æ®µéšAIãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³\n    const result = await generateInstagramPostComplete(userInput, knowledgeBaseParams)\n\n    setGeneratedContent(result)\n    setProgress(50)\n  } catch (error) {\n    // ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ç”Ÿæˆ\n    const fallback = await generateFallbackContent(userInput)\n    setGeneratedContent(fallback)\n  }\n\n  setProgress(60)\n}\n```\n\n### Phase 2: ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ï¼ˆ5-10ç§’ï¼‰\n\n```typescript\n// Reactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆç”Ÿæˆ\n{generatedContent.pages.map((page, index) => (\n  <div\n    key={index}\n    ref={el => pageRefs.current[index] = el}\n    className=\"w-[1080px] h-[1080px]\"\n  >\n    <TemplateRenderer\n      page={page}\n      templateType={page.templateType}\n    />\n  </div>\n))}\n```\n\n### Phase 3: ç”»åƒåŒ–ï¼ˆ10-15ç§’ï¼‰\n\n```typescript\n// app/lib/imageExport.ts\nconst exportImages = async () => {\n  setProgress(70)\n\n  const exporter = new ImageExporter()\n  const images = await exporter.exportMultiplePages(\n    pageRefs.current,\n    { scale: 2, batchSize: 3 }\n  )\n\n  setGeneratedImages(images)\n  setProgress(85)\n}\n```\n\n### Phase 4: ãƒ•ã‚¡ã‚¤ãƒ«ç”Ÿæˆï¼ˆ2-5ç§’ï¼‰\n\n```typescript\n// PDFç”Ÿæˆ\nimport jsPDF from 'jspdf'\n\nconst generatePDF = () => {\n  const pdf = new jsPDF('p', 'px', [1080, 1080])\n\n  generatedImages.forEach((image, index) => {\n    if (index > 0) pdf.addPage([1080, 1080])\n    pdf.addImage(image, 'PNG', 0, 0, 1080, 1080)\n  })\n\n  pdf.save('instagram-post.pdf')\n}\n\n// ZIPç”Ÿæˆ\nimport JSZip from 'jszip'\n\nconst generateZIP = async () => {\n  const zip = new JSZip()\n\n  generatedImages.forEach((image, index) => {\n    const base64 = image.split(',')[1]\n    zip.file(`page-${index + 1}.png`, base64, { base64: true })\n  })\n\n  const blob = await zip.generateAsync({ type: 'blob' })\n  saveAs(blob, 'instagram-post.zip')\n}\n```\n\n---\n\n## ã„ã¤ä½¿ã†ã‹\n\n- InstagramæŠ•ç¨¿ã®å®Œå…¨è‡ªå‹•ç”Ÿæˆ\n- ã‚¨ãƒ³ãƒ‰ãƒ„ãƒ¼ã‚¨ãƒ³ãƒ‰ã®å‡¦ç†\n- ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ•ãƒ¬ãƒ³ãƒ‰ãƒªãƒ¼ãªUX\n\n---\n\n## æ³¨æ„ç‚¹\n\n1. **å‡¦ç†æ™‚é–“**: 30-45ç§’ï¼ˆãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼å¿…é ˆï¼‰\n2. **ãƒ¡ãƒ¢ãƒªç®¡ç†**: 10ãƒšãƒ¼ã‚¸ã§å¤§é‡ãƒ¡ãƒ¢ãƒªä½¿ç”¨\n3. **ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°**: å„ãƒ•ã‚§ãƒ¼ã‚ºã§é©åˆ‡ãªãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯\n\n---\n\n**å®Œå…¨ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã¯ã€è¤‡é›‘ãªå‡¦ç†ã‚’ã‚·ãƒ¼ãƒ ãƒ¬ã‚¹ã«çµ±åˆã—ã€å„ªã‚ŒãŸUXã‚’æä¾›ã™ã‚‹ã€‚**\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€Œã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”Ÿæˆå®Œå…¨ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "skill-five-stage-ai-pipeline",
      "decision-arch-two-stage-generation",
      "skill-html2canvas-optimization-techniques"
    ]
  },
  {
    "slug": "contract-management-workflow",
    "title": "å¥‘ç´„ç®¡ç†ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼",
    "category": "Workflowsï¼ˆãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ï¼‰",
    "description": "å¥‘ç´„ç®¡ç†ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼",
    "project": "yumesuta-management-system",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"workflow_contract_management_workflow_2025_11_24\",\n  \"type\": \"workflow\",\n  \"name\": \"å¥‘ç´„ç®¡ç†ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼\",\n  \"tags\": [\"å¥‘ç´„ç®¡ç†\", \"ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼\", \"ä¼æ¥­ç™»éŒ²\", \"å¥‘ç´„ä½œæˆ\", \"Google Sheets\"],\n  \"source_project\": \"yumesuta-management-system\",\n  \"related_knowledge\": [\"skill_contract_id_auto_generation_2025_11_24\", \"skill_company_name_normalization_function_2025_11_24\", \"decision_mvp_readonly_scope_2025_11_24\"],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-24\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# å¥‘ç´„ç®¡ç†ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼\n\n## ä½•ã®ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‹\n\næ–°è¦å¥‘ç´„ã‚’ä½œæˆã™ã‚‹éš›ã®ã€ä¼æ¥­ç™»éŒ²â†’å¥‘ç´„ä½œæˆã®ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã€‚\n\n## ãƒ•ãƒ­ãƒ¼å…¨ä½“å›³\n\n```\n[æ–°è¦å¥‘ç´„ä¾é ¼]\n   â†“\n[ä¼æ¥­å­˜åœ¨ãƒã‚§ãƒƒã‚¯]\n   â†“\n   â”œâ”€[ä¼æ¥­ã‚ã‚Š] â†’ [å¥‘ç´„IDç”Ÿæˆ] â†’ [å¥‘ç´„ä½œæˆ]\n   â””â”€[ä¼æ¥­ãªã—] â†’ [ä¼æ¥­ç™»éŒ²] â†’ [å¥‘ç´„IDç”Ÿæˆ] â†’ [å¥‘ç´„ä½œæˆ]\n   â†“\n[å®Œäº†]\n```\n\n## å„ã‚¹ãƒ†ãƒƒãƒ—ã®è©³ç´°\n\n### ã‚¹ãƒ†ãƒƒãƒ—1ï¼šä¼æ¥­å­˜åœ¨ãƒã‚§ãƒƒã‚¯\n\n**ä½•ã‚’ã™ã‚‹ã‹**ï¼š\nä¼æ¥­ãƒã‚¹ã‚¿ã‹ã‚‰ã€ä¼æ¥­åã§æ¤œç´¢ã—ã€æ—¢ã«ç™»éŒ²ã•ã‚Œã¦ã„ã‚‹ã‹ãƒã‚§ãƒƒã‚¯ã™ã‚‹ã€‚\n\n**å®Ÿè£…**ï¼š\n```typescript\nconst companyName = \"æ ªå¼ä¼šç¤¾ãƒ†ã‚¹ãƒˆ\";\nconst normalized = normalizeCompanyName(companyName);\n\nconst companies = await getSheetData(spreadsheetId, 'ä¼æ¥­ãƒã‚¹ã‚¿ãƒ¼!A2:Z1000');\nconst existingCompany = companies.find(row =>\n  normalizeCompanyName(row[1]) === normalized\n);\n\nif (existingCompany) {\n  console.log('ä¼æ¥­ã¯æ—¢ã«ç™»éŒ²ã•ã‚Œã¦ã„ã¾ã™:', existingCompany[0]);\n} else {\n  console.log('ä¼æ¥­ã¯æœªç™»éŒ²ã§ã™ã€‚æ–°è¦ç™»éŒ²ãŒå¿…è¦ã§ã™ã€‚');\n}\n```\n\n**ä½¿ç”¨ã™ã‚‹æŠ€è¡“ãƒ»æ‰‹æ³•**ï¼š\n- `normalizeCompanyName()` (`skill_company_name_normalization_function_2025_11_24.md` å‚ç…§)\n\n### ã‚¹ãƒ†ãƒƒãƒ—2ï¼šä¼æ¥­ç™»éŒ²ï¼ˆä¼æ¥­ãŒæœªç™»éŒ²ã®å ´åˆï¼‰\n\n**ä½•ã‚’ã™ã‚‹ã‹**ï¼š\nä¼æ¥­ãƒã‚¹ã‚¿ã«æ–°ã—ã„ä¼æ¥­ã‚’ç™»éŒ²ã™ã‚‹ã€‚\n\n**å®Ÿè£…**ï¼ˆMVPç¯„å›²ã§ã¯èª­ã¿å–ã‚Šå°‚ç”¨ã®ãŸã‚ã€IDã®ã¿ç”Ÿæˆï¼‰ï¼š\n```typescript\nconst companies = await getSheetData(spreadsheetId, 'ä¼æ¥­ãƒã‚¹ã‚¿ãƒ¼!A2:Z1000');\n\nconst maxCompanyId = companies.reduce((max, row) => {\n  const id = parseInt(row[0] || '0');\n  return Math.max(max, id);\n}, 0);\n\nconst newCompanyId = maxCompanyId + 1;\n\n// âš ï¸ MVPç¯„å›²ã§ã¯æ›¸ãè¾¼ã¿ãªã—\nconsole.log(`æ–°ã—ã„ä¼æ¥­ID: ${newCompanyId}`);\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3ï¼šå¥‘ç´„IDç”Ÿæˆ\n\n**ä½•ã‚’ã™ã‚‹ã‹**ï¼š\nå¥‘ç´„ä¸€è¦§ã‹ã‚‰æœ€å¤§å¥‘ç´„IDã‚’å–å¾—ã—ã€+1ã—ã¦æ–°ã—ã„å¥‘ç´„IDã‚’ç”Ÿæˆã™ã‚‹ã€‚\n\n**å®Ÿè£…**ï¼š\n```typescript\nconst contracts = await getSheetData(spreadsheetId, 'å¥‘ç´„ä¸€è¦§!A2:Z1000');\n\nconst maxContractId = contracts.reduce((max, row) => {\n  const id = parseInt(row[0] || '0');\n  return Math.max(max, id);\n}, 0);\n\nconst newContractId = maxContractId + 1;\n\nconsole.log(`æ–°ã—ã„å¥‘ç´„ID: ${newContractId}`);\n```\n\n**ä½¿ç”¨ã™ã‚‹æŠ€è¡“ãƒ»æ‰‹æ³•**ï¼š\n- `contract_id_auto_generation` (`skill_contract_id_auto_generation_2025_11_24.md` å‚ç…§)\n\n### ã‚¹ãƒ†ãƒƒãƒ—4ï¼šå¥‘ç´„ä½œæˆ\n\n**ä½•ã‚’ã™ã‚‹ã‹**ï¼š\nå¥‘ç´„ä¸€è¦§ã«æ–°ã—ã„å¥‘ç´„ã‚’è¿½åŠ ã™ã‚‹ã€‚\n\n**å®Ÿè£…**ï¼ˆMVPç¯„å›²ã§ã¯èª­ã¿å–ã‚Šå°‚ç”¨ã®ãŸã‚ã€ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã®ã¿è¿”å´ï¼‰ï¼š\n```typescript\nconst newContract = {\n  contractId: newContractId,\n  companyId: existingCompany ? existingCompany[0] : newCompanyId,\n  companyName: companyName,\n  amount: 1000000,\n  startDate: '2025-11-01',\n  endDate: '2026-10-31',\n  status: 'æœ‰åŠ¹',\n  createdAt: new Date().toISOString(),\n};\n\n// âš ï¸ MVPç¯„å›²ã§ã¯æ›¸ãè¾¼ã¿ãªã—\nreturn NextResponse.json({ success: true, data: newContract });\n```\n\n## ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°\n\n### ã‚¨ãƒ©ãƒ¼1ï¼šä¼æ¥­åãŒç©º\n\n**å¯¾å‡¦æ³•**ï¼š\n```typescript\nif (!companyName || companyName.trim() === '') {\n  return NextResponse.json(\n    { success: false, error: 'ä¼æ¥­åã‚’å…¥åŠ›ã—ã¦ãã ã•ã„' },\n    { status: 400 }\n  );\n}\n```\n\n### ã‚¨ãƒ©ãƒ¼2ï¼šå¥‘ç´„é‡‘é¡ãŒä¸æ­£\n\n**å¯¾å‡¦æ³•**ï¼š\n```typescript\nif (!amount || amount <= 0) {\n  return NextResponse.json(\n    { success: false, error: 'å¥‘ç´„é‡‘é¡ã¯1å††ä»¥ä¸Šã‚’å…¥åŠ›ã—ã¦ãã ã•ã„' },\n    { status: 400 }\n  );\n}\n```\n\n## å†ç¾æ–¹æ³•\n\n```typescript\n// API Route: app/api/contracts/route.ts\nexport async function POST(request: Request) {\n  const { companyName, amount } = await request.json();\n\n  const spreadsheetId = process.env.CONTRACTS_SPREADSHEET_ID!;\n\n  // 1. ä¼æ¥­å­˜åœ¨ãƒã‚§ãƒƒã‚¯\n  const normalized = normalizeCompanyName(companyName);\n  const companies = await getSheetData(spreadsheetId, 'ä¼æ¥­ãƒã‚¹ã‚¿ãƒ¼!A2:Z1000');\n  const existingCompany = companies.find(row =>\n    normalizeCompanyName(row[1]) === normalized\n  );\n\n  let companyId: number;\n  if (existingCompany) {\n    companyId = parseInt(existingCompany[0]);\n  } else {\n    // 2. ä¼æ¥­ç™»éŒ²ï¼ˆIDã®ã¿ç”Ÿæˆï¼‰\n    const maxCompanyId = companies.reduce((max, row) => {\n      const id = parseInt(row[0] || '0');\n      return Math.max(max, id);\n    }, 0);\n    companyId = maxCompanyId + 1;\n  }\n\n  // 3. å¥‘ç´„IDç”Ÿæˆ\n  const contracts = await getSheetData(spreadsheetId, 'å¥‘ç´„ä¸€è¦§!A2:Z1000');\n  const maxContractId = contracts.reduce((max, row) => {\n    const id = parseInt(row[0] || '0');\n    return Math.max(max, id);\n  }, 0);\n  const newContractId = maxContractId + 1;\n\n  // 4. å¥‘ç´„ä½œæˆï¼ˆãƒ‡ãƒ¼ã‚¿æ§‹é€ ã®ã¿è¿”å´ï¼‰\n  const newContract = {\n    contractId: newContractId,\n    companyId,\n    companyName,\n    amount,\n    createdAt: new Date().toISOString(),\n  };\n\n  return NextResponse.json({ success: true, data: newContract });\n}\n```\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `skill_contract_id_auto_generation_2025_11_24.md` - å¥‘ç´„IDè‡ªå‹•æ¡ç•ªå®Ÿè£…\n- `skill_company_name_normalization_function_2025_11_24.md` - ä¼æ¥­åæ­£è¦åŒ–é–¢æ•°\n- `decision_mvp_readonly_scope_2025_11_24.md` - MVPèª­ã¿å–ã‚Šå°‚ç”¨æ–¹é‡\n",
    "prompt": "```typescript\n// API Route: app/api/contracts/route.ts\nexport async function POST(request: Request) {\n  const { companyName, amount } = await request.json();\n\n  const spreadsheetId = process.env.CONTRACTS_SPREADSHEET_ID!;\n\n  // 1. ä¼æ¥­å­˜åœ¨ãƒã‚§ãƒƒã‚¯\n  const normalized = normalizeCompanyName(companyName);\n  const companies = await getSheetData(spreadsheetId, 'ä¼æ¥­ãƒã‚¹ã‚¿ãƒ¼!A2:Z1000');\n  const existingCompany = companies.find(row =>\n    normalizeCompanyName(row[1]) === normalized\n  );\n\n  let companyId: number;\n  if (existingCompany) {\n    companyId = parseInt(existingCompany[0]);\n  } else {\n    // 2. ä¼æ¥­ç™»éŒ²ï¼ˆIDã®ã¿ç”Ÿæˆï¼‰\n    const maxCompanyId = companies.reduce((max, row) => {\n      const id = parseInt(row[0] || '0');\n      return Math.max(max, id);\n    }, 0);\n    companyId = maxCompanyId + 1;\n  }\n\n  // 3. å¥‘ç´„IDç”Ÿæˆ\n  const contracts = await getSheetData(spreadsheetId, 'å¥‘ç´„ä¸€è¦§!A2:Z1000');\n  const maxContractId = contracts.reduce((max, row) => {\n    const id = parseInt(row[0] || '0');\n    return Math.max(max, id);\n  }, 0);\n  const newContractId = maxContractId + 1;\n\n  // 4. å¥‘ç´„ä½œæˆï¼ˆãƒ‡ãƒ¼ã‚¿æ§‹é€ ã®ã¿è¿”å´ï¼‰\n  const newContract = {\n    contractId: newContractId,\n    companyId,\n    companyName,\n    amount,\n    createdAt: new Date().toISOString(),\n  };\n\n  return NextResponse.json({ success: true, data: newContract });\n}\n```",
    "relatedTech": [
      "skill-contract-id-auto-generation",
      "skill-company-name-normalization-function",
      "decision-mvp-readonly-scope"
    ]
  },
  {
    "slug": "dashboard-page-creation-workflow",
    "title": "Dashboard Pageä½œæˆãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼",
    "category": "Workflowsï¼ˆãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ï¼‰",
    "description": "Dashboard Pageä½œæˆãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼",
    "project": "yumesuta-management-system",
    "usedIn": [
      "app/dashboard/*/page.tsx"
    ],
    "code": "```json\n{\n  \"id\": \"workflow_dashboard_page_creation_workflow_2025_11_24\",\n  \"type\": \"workflow\",\n  \"name\": \"Dashboard Pageä½œæˆãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼\",\n  \"tags\": [\"ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼\", \"Dashboard\", \"Next.js\", \"React\", \"Client Component\", \"æ‰‹å‹•æ›´æ–°\"],\n  \"source_project\": \"yumesuta-management-system\",\n  \"source_file\": \"app/dashboard/*/page.tsx\",\n  \"related_knowledge\": [\n    \"skill_dashboard_page_template_pattern_2025_11_24\",\n    \"decision_data_manual_update_pattern_2025_11_24\"\n  ],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-24\",\n  \"updated\": \"2025-11-24\"\n}\n```\n\n# Dashboard Pageä½œæˆãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼\n\n## ä½•ã®ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‹\n\nNext.js 15 App Routerã§Dashboard Pageã‚’ä½œæˆã™ã‚‹éš›ã®æ¨™æº–çš„ãªãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã€‚Client Componentã€çŠ¶æ…‹ç®¡ç†ã€APIå‘¼ã³å‡ºã—ã€æ‰‹å‹•æ›´æ–°ãƒœã‚¿ãƒ³ã‚’å«ã‚€ã€‚\n\n## ãƒ•ãƒ­ãƒ¼å…¨ä½“å›³\n\n```\n[ãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆ]\napp/dashboard/[feature]/page.tsx\n   â†“\n[Client Componentå®£è¨€]\n'use client'\n   â†“\n[çŠ¶æ…‹ç®¡ç†]\nuseState: data, loading, error\n   â†“\n[ãƒ‡ãƒ¼ã‚¿å–å¾—é–¢æ•°]\nfetchData()\n   â†“\n[åˆå›ãƒ­ãƒ¼ãƒ‰]\nuseEffect(() => { fetchData() }, [])\n   â†“\n[ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°çŠ¶æ…‹]\nif (loading) return <Skeleton />\n   â†“\n[ã‚¨ãƒ©ãƒ¼çŠ¶æ…‹]\nif (error) return <ErrorMessage />\n   â†“\n[ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„]\nãƒ‡ãƒ¼ã‚¿è¡¨ç¤º + æ›´æ–°ãƒœã‚¿ãƒ³\n```\n\n## å„ã‚¹ãƒ†ãƒƒãƒ—ã®è©³ç´°\n\n### ã‚¹ãƒ†ãƒƒãƒ—1: ãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆ\n\n**ä½•ã‚’ã™ã‚‹ã‹**:\n- `app/dashboard/[feature]/page.tsx` ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆ\n\n**ä¾‹**:\n```typescript\n// app/dashboard/your-feature/page.tsx\nexport default function YourFeatureDashboard() {\n  return <div>Your Feature Dashboard</div>;\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2: Client Componentå®£è¨€\n\n**ä½•ã‚’ã™ã‚‹ã‹**:\n- ãƒ•ã‚¡ã‚¤ãƒ«ã®å…ˆé ­ã« `'use client'` ã‚’è¨˜è¿°\n\n**ä¾‹**:\n```typescript\n'use client';\n\nimport { useState, useEffect } from 'react';\n\nexport default function YourFeatureDashboard() {\n  // ...\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3: çŠ¶æ…‹ç®¡ç†\n\n**ä½•ã‚’ã™ã‚‹ã‹**:\n- `useState` ã§ãƒ‡ãƒ¼ã‚¿ã€ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã€ã‚¨ãƒ©ãƒ¼çŠ¶æ…‹ã‚’ç®¡ç†\n\n**ä¾‹**:\n```typescript\nconst [data, setData] = useState<YourResponseType | null>(null);\nconst [loading, setLoading] = useState(true);\nconst [error, setError] = useState<string | null>(null);\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—4: ãƒ‡ãƒ¼ã‚¿å–å¾—é–¢æ•°\n\n**ä½•ã‚’ã™ã‚‹ã‹**:\n- `fetchData` é–¢æ•°ã‚’å®Ÿè£…\n- APIã‚’å‘¼ã³å‡ºã—ã¦ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—\n- ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°çŠ¶æ…‹ã€ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã‚’å®Ÿè£…\n\n**ä¾‹**:\n```typescript\nconst fetchData = async () => {\n  setLoading(true);\n  setError(null);\n\n  try {\n    const res = await fetch('/api/your-feature');\n    const json: YourResponseType = await res.json();\n\n    if (json.success) {\n      setData(json);\n    } else {\n      setError(json.error || 'ä¸æ˜ãªã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ');\n    }\n  } catch (err) {\n    setError(err instanceof Error ? err.message : 'ä¸æ˜ãªã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ');\n  } finally {\n    setLoading(false);\n  }\n};\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—5: åˆå›ãƒ­ãƒ¼ãƒ‰\n\n**ä½•ã‚’ã™ã‚‹ã‹**:\n- `useEffect` ã§åˆå›ãƒ­ãƒ¼ãƒ‰æ™‚ã«ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—\n\n**ä¾‹**:\n```typescript\nuseEffect(() => {\n  fetchData();\n}, []); // ä¾å­˜é…åˆ—ãŒç©º = åˆå›ã®ã¿å®Ÿè¡Œ\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—6: ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°çŠ¶æ…‹\n\n**ä½•ã‚’ã™ã‚‹ã‹**:\n- ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ä¸­ã¯ã‚¹ã‚±ãƒ«ãƒˆãƒ³ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚’è¡¨ç¤º\n\n**ä¾‹**:\n```typescript\nif (loading) {\n  return (\n    <div className=\"min-h-screen bg-gray-50 p-8\">\n      <div className=\"max-w-7xl mx-auto\">\n        <div className=\"animate-pulse\">\n          <div className=\"h-8 bg-gray-200 rounded w-1/4 mb-8\"></div>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n            {[1, 2, 3, 4, 5, 6].map((i) => (\n              <div key={i} className=\"h-32 bg-gray-200 rounded\"></div>\n            ))}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—7: ã‚¨ãƒ©ãƒ¼çŠ¶æ…‹\n\n**ä½•ã‚’ã™ã‚‹ã‹**:\n- ã‚¨ãƒ©ãƒ¼æ™‚ã¯ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¨å†èª­ã¿è¾¼ã¿ãƒœã‚¿ãƒ³ã‚’è¡¨ç¤º\n\n**ä¾‹**:\n```typescript\nif (error || !data?.data) {\n  return (\n    <div className=\"min-h-screen bg-gray-50 p-8\">\n      <div className=\"max-w-7xl mx-auto\">\n        <div className=\"bg-red-50 border border-red-200 rounded-lg p-6\">\n          <h2 className=\"text-red-800 font-semibold text-lg mb-2\">\n            ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ\n          </h2>\n          <p className=\"text-red-600\">{error}</p>\n          <button\n            onClick={fetchData}\n            className=\"mt-4 px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700\"\n          >\n            å†èª­ã¿è¾¼ã¿\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—8: ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„\n\n**ä½•ã‚’ã™ã‚‹ã‹**:\n- ãƒ˜ãƒƒãƒ€ãƒ¼ã€ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã€æ›´æ–°ãƒœã‚¿ãƒ³ã‚’å®Ÿè£…\n- ãƒ‡ãƒ¼ã‚¿ã‚’è¡¨ç¤º\n\n**ä¾‹**:\n```typescript\nreturn (\n  <div className=\"min-h-screen bg-gray-50 p-8\">\n    <div className=\"max-w-7xl mx-auto\">\n      {/* ãƒ˜ãƒƒãƒ€ãƒ¼ */}\n      <div className=\"mb-8\">\n        <Link href=\"/\" className=\"inline-flex items-center gap-2 text-blue-600 mb-4\">\n          <ArrowLeft className=\"w-5 h-5\" />\n          ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ã¸æˆ»ã‚‹\n        </Link>\n        <div className=\"flex justify-between items-center\">\n          <div>\n            <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">\n              [æ©Ÿèƒ½å]ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰\n            </h1>\n            <p className=\"text-gray-600\">[èª¬æ˜]</p>\n          </div>\n          <button\n            onClick={fetchData}\n            className=\"flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700\"\n          >\n            <RefreshCw className=\"w-5 h-5\" />\n            æ›´æ–°\n          </button>\n        </div>\n      </div>\n\n      {/* ãƒ‡ãƒ¼ã‚¿è¡¨ç¤º */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n        {/* ãƒ‡ãƒ¼ã‚¿ã‚’è¡¨ç¤º */}\n      </div>\n    </div>\n  </div>\n);\n```\n\n## å®Œå…¨ãªå®Ÿè£…ä¾‹\n\n```typescript\n'use client';\n\nimport { useState, useEffect } from 'react';\nimport Link from 'next/link';\nimport { Home, RefreshCw, ArrowLeft } from 'lucide-react';\nimport type { SalesKPIResponse } from '@/types/sales';\n\nexport default function SalesDashboardPage() {\n  const [kpiData, setKpiData] = useState<SalesKPIResponse | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  const fetchKPIData = async () => {\n    setLoading(true);\n    setError(null);\n    try {\n      const response = await fetch('/api/sales-kpi');\n      const data: SalesKPIResponse = await response.json();\n\n      if (data.success) {\n        setKpiData(data);\n      } else {\n        setError(data.error || 'ä¸æ˜ãªã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ');\n      }\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'ä¸æ˜ãªã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchKPIData();\n  }, []);\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 p-8\">\n        <div className=\"max-w-7xl mx-auto\">\n          <div className=\"animate-pulse\">\n            <div className=\"h-8 bg-gray-200 rounded w-1/4 mb-8\"></div>\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n              {[1, 2, 3, 4, 5, 6].map((i) => (\n                <div key={i} className=\"h-32 bg-gray-200 rounded\"></div>\n              ))}\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  if (error || !kpiData?.data) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 p-8\">\n        <div className=\"max-w-7xl mx-auto\">\n          <div className=\"bg-red-50 border border-red-200 rounded-lg p-6\">\n            <h2 className=\"text-red-800 font-semibold text-lg mb-2\">\n              ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ\n            </h2>\n            <p className=\"text-red-600\">{error}</p>\n            <button\n              onClick={fetchKPIData}\n              className=\"mt-4 px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700\"\n            >\n              å†èª­ã¿è¾¼ã¿\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  const { kpi } = kpiData.data;\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 p-8\">\n      <div className=\"max-w-7xl mx-auto\">\n        <div className=\"mb-8\">\n          <Link href=\"/\" className=\"inline-flex items-center gap-2 text-blue-600 mb-4\">\n            <ArrowLeft className=\"w-5 h-5\" />\n            ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ã¸æˆ»ã‚‹\n          </Link>\n          <div className=\"flex justify-between items-center\">\n            <div>\n              <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">å–¶æ¥­é€²æ—ç®¡ç†ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰</h1>\n              <p className=\"text-gray-600\">{kpi.month}æœˆã®å–¶æ¥­KPIãƒ»é€²æ—çŠ¶æ³</p>\n            </div>\n            <button\n              onClick={fetchKPIData}\n              className=\"flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700\"\n            >\n              <RefreshCw className=\"w-5 h-5\" />\n              æ›´æ–°\n            </button>\n          </div>\n        </div>\n\n        {/* KPIã‚«ãƒ¼ãƒ‰è¡¨ç¤º */}\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n          {/* KPIãƒ‡ãƒ¼ã‚¿ã‚’è¡¨ç¤º */}\n        </div>\n      </div>\n    </div>\n  );\n}\n```\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `skill_dashboard_page_template_pattern_2025_11_24.md`: Dashboard Pageå®Ÿè£…ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ\n- `decision_data_manual_update_pattern_2025_11_24.md`: æ‰‹å‹•æ›´æ–°ãƒ‘ã‚¿ãƒ¼ãƒ³ã®è¨­è¨ˆåˆ¤æ–­\n- `workflow_readonly_manual_update_flow_2025_11_24.md`: èª­ã¿å–ã‚Šå°‚ç”¨æ‰‹å‹•æ›´æ–°ãƒ•ãƒ­ãƒ¼å…¨ä½“\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€ŒDashboard Pageä½œæˆãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "skill-dashboard-page-template-pattern",
      "decision-data-manual-update-pattern"
    ]
  },
  {
    "slug": "development-setup-workflow",
    "title": "é–‹ç™ºç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ãƒ•ãƒ­ãƒ¼",
    "category": "Workflowsï¼ˆãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ï¼‰",
    "description": "é–‹ç™ºç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ãƒ•ãƒ­ãƒ¼",
    "project": "yumesuta-management-system",
    "usedIn": [
      "README.md, docs/development/CLAUDE.md"
    ],
    "code": "```json\n{\n  \"id\": \"workflow_development_setup_workflow_2025_11_24\",\n  \"type\": \"workflow\",\n  \"name\": \"é–‹ç™ºç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ãƒ•ãƒ­ãƒ¼\",\n  \"tags\": [\"ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼\", \"ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—\", \"é–‹ç™ºç’°å¢ƒ\", \"Next.js\", \"Google Sheets API\", \"ç’°å¢ƒå¤‰æ•°\"],\n  \"source_project\": \"yumesuta-management-system\",\n  \"source_file\": \"README.md, docs/development/CLAUDE.md\",\n  \"related_knowledge\": [\n    \"decision_tech_nextjs_15_app_router_2025_11_24\",\n    \"skill_google_sheets_service_account_auth_2025_11_24\"\n  ],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-24\",\n  \"updated\": \"2025-11-24\"\n}\n```\n\n# é–‹ç™ºç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ãƒ•ãƒ­ãƒ¼\n\n## ä½•ã®ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‹\n\nyumesuta-management-systemãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®é–‹ç™ºç’°å¢ƒã‚’åˆã‚ã¦ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã™ã‚‹éš›ã®æ¨™æº–çš„ãªãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã€‚\n\n## ãƒ•ãƒ­ãƒ¼å…¨ä½“å›³\n\n```\n[å‰ææ¡ä»¶ç¢ºèª]\nNode.js, Google Cloud ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ\n   â†“\n[ä¾å­˜é–¢ä¿‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«]\nnpm install\n   â†“\n[ç’°å¢ƒå¤‰æ•°è¨­å®š]\n.env.local ä½œæˆ\n   â†“\n[ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆä½œæˆ]\nGoogle Cloud Console\n   â†“\n[ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆIDå–å¾—]\nGoogle Sheets\n   â†“\n[é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•]\nnpm run dev\n   â†“\n[å‹•ä½œç¢ºèª]\nhttp://localhost:3000\n```\n\n## å„ã‚¹ãƒ†ãƒƒãƒ—ã®è©³ç´°\n\n### ã‚¹ãƒ†ãƒƒãƒ—1: å‰ææ¡ä»¶ç¢ºèª\n\n**ä½•ã‚’ã™ã‚‹ã‹**:\n- Node.js 18.x ä»¥ä¸ŠãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª\n- Google Cloud ã‚¢ã‚«ã‚¦ãƒ³ãƒˆãŒã‚ã‚‹ã‹ç¢ºèª\n\n**ç¢ºèªæ–¹æ³•**:\n```bash\nnode --version\n# â†’ v18.0.0 ä»¥ä¸Š\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2: ä¾å­˜é–¢ä¿‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\n\n**ä½•ã‚’ã™ã‚‹ã‹**:\n- npm installã§ä¾å­˜é–¢ä¿‚ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\n\n**ã‚³ãƒãƒ³ãƒ‰**:\n```bash\ncd /path/to/yumesuta-management-system\nnpm install\n```\n\n**ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã‚‹ä¸»è¦ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸**:\n- Next.js 15.5.4\n- React 19\n- TypeScript\n- Tailwind CSS v4\n- googleapis\n- lucide-react\n\n### ã‚¹ãƒ†ãƒƒãƒ—3: ç’°å¢ƒå¤‰æ•°è¨­å®š\n\n**ä½•ã‚’ã™ã‚‹ã‹**:\n- `.env.local` ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆ\n- ç’°å¢ƒå¤‰æ•°ã‚’è¨­å®š\n\n**ãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆ**:\n```bash\ntouch .env.local\n```\n\n**`.env.local` ã®å†…å®¹**:\n```bash\n# Google Sheets API - ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆèªè¨¼\nGOOGLE_SERVICE_ACCOUNT_KEY='{\"type\":\"service_account\",...}'\n\n# ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆID\nSALES_SPREADSHEET_ID=your-sales-spreadsheet-id\nYUMEMAGA_SPREADSHEET_ID=your-yumemaga-spreadsheet-id\nPARTNERS_SPREADSHEET_ID=your-partners-spreadsheet-id\nSNS_SPREADSHEET_ID=your-sns-spreadsheet-id\nTASKS_SPREADSHEET_ID=your-tasks-spreadsheet-id\n\n# Google Analytics\nGA_PROPERTY_ID=your-ga-property-id\n\n# Google Search Console\nSEARCH_CONSOLE_SITE_URL=https://your-site.com\n\n# Microsoft Clarity\nCLARITY_API_TOKEN=your-clarity-api-token\nMICROSOFT_CLARITY_PROJECT_ID=your-clarity-project-id\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—4: ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆä½œæˆ\n\n**ä½•ã‚’ã™ã‚‹ã‹**:\n- Google Cloud Consoleã§ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ä½œæˆ\n- JSONéµãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰\n- ç’°å¢ƒå¤‰æ•°ã«è¨­å®š\n\n**æ‰‹é †**:\n1. [Google Cloud Console](https://console.cloud.google.com/)ã«ã‚¢ã‚¯ã‚»ã‚¹\n2. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã¾ãŸã¯é¸æŠ\n3. ã€ŒAPIã¨ã‚µãƒ¼ãƒ“ã‚¹ã€â†’ã€Œèªè¨¼æƒ…å ±ã€ã¸ç§»å‹•\n4. ã€Œèªè¨¼æƒ…å ±ã‚’ä½œæˆã€â†’ã€Œã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã€\n5. ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆåã‚’å…¥åŠ›ï¼ˆä¾‹: `yumesuta-sheets-reader`ï¼‰\n6. ã€Œéµã‚’ä½œæˆã€â†’ã€ŒJSONã€å½¢å¼ã§éµã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰\n7. JSONãƒ•ã‚¡ã‚¤ãƒ«ã®å†…å®¹ã‚’ `.env.local` ã® `GOOGLE_SERVICE_ACCOUNT_KEY` ã«ã‚³ãƒ”ãƒ¼\n\n**å¿…è¦ãªAPIæœ‰åŠ¹åŒ–**:\n- Google Sheets API\n- Google Analytics Data API\n- Google Search Console API\n\n### ã‚¹ãƒ†ãƒƒãƒ—5: ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆIDå–å¾—\n\n**ä½•ã‚’ã™ã‚‹ã‹**:\n- å„ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã®IDã‚’å–å¾—\n- ç’°å¢ƒå¤‰æ•°ã«è¨­å®š\n\n**ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆIDã®å–å¾—æ–¹æ³•**:\n1. Google Sheetsã§ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã‚’é–‹ã\n2. URLã‹ã‚‰ `https://docs.google.com/spreadsheets/d/[SPREADSHEET_ID]/edit` ã® `[SPREADSHEET_ID]` éƒ¨åˆ†ã‚’ã‚³ãƒ”ãƒ¼\n3. `.env.local` ã«è²¼ã‚Šä»˜ã‘\n\n**ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã®å…±æœ‰è¨­å®š**:\n- ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ï¼ˆä¾‹: `yumesuta-sheets-reader@project-id.iam.gserviceaccount.com`ï¼‰ã«ã€Œé–²è¦§è€…ã€æ¨©é™ã‚’ä»˜ä¸\n\n### ã‚¹ãƒ†ãƒƒãƒ—6: é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•\n\n**ä½•ã‚’ã™ã‚‹ã‹**:\n- é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã‚’èµ·å‹•\n\n**ã‚³ãƒãƒ³ãƒ‰**:\n```bash\nnpm run dev\n```\n\n**ç¢ºèª**:\n```\n â–² Next.js 15.5.4\n  - Local:        http://localhost:3000\n  - Network:      http://192.168.1.100:3000\n\n âœ“ Starting...\n âœ“ Ready in 2.3s\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—7: å‹•ä½œç¢ºèª\n\n**ä½•ã‚’ã™ã‚‹ã‹**:\n- ãƒ–ãƒ©ã‚¦ã‚¶ã§ http://localhost:3000 ã«ã‚¢ã‚¯ã‚»ã‚¹\n- ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã‹ç¢ºèª\n- å„ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ã€ãƒ‡ãƒ¼ã‚¿ãŒå–å¾—ã§ãã‚‹ã‹ç¢ºèª\n\n**ç¢ºèªé …ç›®**:\n- [ ] ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã‚‹\n- [ ] å–¶æ¥­é€²æ—ç®¡ç†ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã§ãƒ‡ãƒ¼ã‚¿ãŒè¡¨ç¤ºã•ã‚Œã‚‹\n- [ ] ã€Œæ›´æ–°ã€ãƒœã‚¿ãƒ³ã§ãƒ‡ãƒ¼ã‚¿ãŒå†å–å¾—ã•ã‚Œã‚‹\n- [ ] ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãªã„\n\n## ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°\n\n### å•é¡Œ1: ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆèªè¨¼ã‚¨ãƒ©ãƒ¼\n\n**åŸå› **:\n- `GOOGLE_SERVICE_ACCOUNT_KEY` ãŒæ­£ã—ãè¨­å®šã•ã‚Œã¦ã„ãªã„\n- JSONãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆãŒä¸æ­£\n\n**å¯¾å‡¦æ³•**:\n- `.env.local` ã®ç’°å¢ƒå¤‰æ•°ã‚’ç¢ºèª\n- JSONæ–‡å­—åˆ—ãŒã‚·ãƒ³ã‚°ãƒ«ã‚¯ã‚©ãƒ¼ãƒˆ `'...'` ã§å›²ã¾ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª\n\n### å•é¡Œ2: ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã‚¢ã‚¯ã‚»ã‚¹ã‚¨ãƒ©ãƒ¼\n\n**åŸå› **:\n- ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆIDãŒé–“é•ã£ã¦ã„ã‚‹\n- ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã«å…±æœ‰æ¨©é™ãŒãªã„\n\n**å¯¾å‡¦æ³•**:\n- ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆIDã‚’å†ç¢ºèª\n- ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã«ã€Œé–²è¦§è€…ã€æ¨©é™ã‚’ä»˜ä¸\n\n### å•é¡Œ3: WSLç’°å¢ƒã§ localhost ãŒè§£æ±ºã—ãªã„\n\n**åŸå› **:\n- WSLç’°å¢ƒã§ã¯ `localhost` ãŒæ­£ã—ãè§£æ±ºã•ã‚Œãªã„ã“ã¨ãŒã‚ã‚‹\n\n**å¯¾å‡¦æ³•**:\n- `127.0.0.1:3000` ã‚’ä½¿ç”¨\n\n### å•é¡Œ4: ãƒãƒ¼ãƒˆ3000ãŒæ—¢ã«ä½¿ç”¨ä¸­\n\n**åŸå› **:\n- ä»–ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãŒãƒãƒ¼ãƒˆ3000ã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹\n\n**å¯¾å‡¦æ³•**:\n```bash\n# åˆ¥ã®ãƒãƒ¼ãƒˆã§èµ·å‹•\nPORT=3001 npm run dev\n```\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `decision_tech_nextjs_15_app_router_2025_11_24.md`: Next.js 15é¸æŠã®èƒŒæ™¯\n- `skill_google_sheets_service_account_auth_2025_11_24.md`: ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆèªè¨¼ã®è©³ç´°\n- `failure_wsl_localhost_resolution_issue_2025_11_24.md`: WSL localhostå•é¡Œã®è§£æ±ºç­–\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€Œé–‹ç™ºç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ãƒ•ãƒ­ãƒ¼ã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "decision-tech-nextjs-15-app-router",
      "skill-google-sheets-service-account-auth"
    ]
  },
  {
    "slug": "document-creation-full-flow",
    "title": "ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆä½œæˆã®å…¨ä½“ãƒ•ãƒ­ãƒ¼",
    "category": "Workflowsï¼ˆãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ï¼‰",
    "description": "ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆä½œæˆã®å…¨ä½“ãƒ•ãƒ­ãƒ¼",
    "project": "ai-document-generator",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"workflow_document_creation_full_flow_2025_04_11\",\n  \"type\": \"workflow\",\n  \"name\": \"ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆä½œæˆã®å…¨ä½“ãƒ•ãƒ­ãƒ¼\",\n  \"tags\": [\"ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼\", \"ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆä½œæˆ\", \"ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé¸æŠ\", \"AIç”Ÿæˆ\", \"PDFã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ\", \"ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ•ãƒ­ãƒ¼\"],\n  \"source_project\": \"ai-document-generator\",\n  \"related_knowledge\": [\"skill_template_compatibility_management_2025_04_11\", \"skill_ai_prompt_section_specific_2025_04_11\", \"skill_pdf_generation_triple_approach_2025_04_11\", \"workflow_ai_content_generation_flow_2025_04_11\", \"workflow_pdf_export_flow_2025_04_11\"],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-04-11\",\n  \"updated\": \"2025-04-11\"\n}\n```\n\n# ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆä½œæˆã®å…¨ä½“ãƒ•ãƒ­ãƒ¼\n\n## ä½•ã®ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‹\n\nãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒæ–°ã—ã„ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆï¼ˆãƒãƒ©ã‚·ã€ãƒ—ãƒ¬ã‚¼ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã€äº‹æ¥­è¨ˆç”»æ›¸ãªã©ï¼‰ã‚’ä½œæˆã—ã€AI ã§ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ç”Ÿæˆã—ã€PDFã¨ã—ã¦ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã™ã‚‹ã¾ã§ã®å…¨ä½“ãƒ•ãƒ­ãƒ¼ã€‚\n\n## ãƒ•ãƒ­ãƒ¼å…¨ä½“å›³\n\n```\n[1. ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé¸æŠ]\n   â”‚\n   â”œâ”€ Document Typeé¸æŠï¼ˆA4ç¸¦ã€16:9ãªã©ï¼‰\n   â”‚\n   â–¼\n[2. ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆãƒ»ãƒ†ãƒ¼ãƒé¸æŠ]\n   â”‚\n   â”œâ”€ äº’æ›æ€§ã®ã‚ã‚‹Layoutã‚’é¸æŠ\n   â”œâ”€ äº’æ›æ€§ã®ã‚ã‚‹Themeã‚’é¸æŠ\n   â”‚\n   â–¼\n[3. ã‚°ãƒ­ãƒ¼ãƒãƒ«ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿è¨­å®š]\n   â”‚\n   â”œâ”€ ã‚¿ã‚¤ãƒˆãƒ«ã€ç›®çš„ã€å¯¾è±¡è€…ã‚’å…¥åŠ›\n   â”œâ”€ æ¥­ç¨®ã€ãƒˆãƒ¼ãƒ³ã‚’è¨­å®š\n   â”‚\n   â–¼\n[4. AIã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”Ÿæˆ]\n   â”‚\n   â”œâ”€ ä¸€æ‹¬ç”Ÿæˆ OR ã‚»ã‚¯ã‚·ãƒ§ãƒ³åˆ¥ç”Ÿæˆ\n   â”œâ”€ ç”Ÿæˆã•ã‚ŒãŸã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼\n   â”œâ”€ å¿…è¦ã«å¿œã˜ã¦å†ç”Ÿæˆãƒ»ç·¨é›†\n   â”‚\n   â–¼\n[5. ãƒ¡ãƒ‡ã‚£ã‚¢ãƒ»ãƒ‡ãƒ¼ã‚¿è¿½åŠ ]\n   â”‚\n   â”œâ”€ ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰\n   â”œâ”€ ãƒãƒ£ãƒ¼ãƒˆãƒ‡ãƒ¼ã‚¿å…¥åŠ›\n   â”‚\n   â–¼\n[6. ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆèª¿æ•´]\n   â”‚\n   â”œâ”€ ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®ãƒªã‚µã‚¤ã‚ºï¼ˆåˆ¶ç´„å†…ï¼‰\n   â”œâ”€ ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å¤‰æ›´\n   â”‚\n   â–¼\n[7. ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ»æœ€çµ‚èª¿æ•´]\n   â”‚\n   â”œâ”€ å…¨ãƒšãƒ¼ã‚¸ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼\n   â”œâ”€ å¿…è¦ã«å¿œã˜ã¦ä¿®æ­£\n   â”‚\n   â–¼\n[8. PDFã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ]\n   â”‚\n   â””â”€ PDFç”Ÿæˆãƒ»ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰\n```\n\n## å„ã‚¹ãƒ†ãƒƒãƒ—ã®è©³ç´°\n\n### ã‚¹ãƒ†ãƒƒãƒ—1ï¼šãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé¸æŠ\n\n**ä½•ã‚’ã™ã‚‹ã‹**ï¼š\nãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒä½œæˆã—ãŸã„ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ã‚¿ã‚¤ãƒ—ã‚’é¸æŠã€‚\n\n**ç”»é¢**ï¼š`/templates`\n\n**æ“ä½œ**ï¼š\n1. ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚¿ã‚¤ãƒ—ä¸€è¦§ãŒè¡¨ç¤ºã•ã‚Œã‚‹ï¼š\n   - A4ç¸¦ãƒãƒ©ã‚·\n   - A4æ¨ªãƒãƒ©ã‚·\n   - 16:9ãƒ—ãƒ¬ã‚¼ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³\n   - äº‹æ¥­è¨ˆç”»æ›¸\n   - ãƒãƒŠãƒ¼ï¼ˆX Bannerã€OpenSea Bannerï¼‰\n   - ãªã©\n\n2. å„ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚«ãƒ¼ãƒ‰ã«ã¯ä»¥ä¸‹ãŒè¡¨ç¤ºï¼š\n   - ã‚µãƒ ãƒã‚¤ãƒ«ç”»åƒ\n   - åå‰ãƒ»èª¬æ˜\n   - æ¨å¥¨ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ï¼ˆä¾‹ï¼šã€Œè³‡é‡‘èª¿é”ã€ã€Œæ¡ç”¨ã€ã€Œåºƒå ±ã€ï¼‰\n\n3. ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦é¸æŠ\n\n**æŠ€è¡“å®Ÿè£…**ï¼š\n```typescript\n// src/app/(routes)/templates/page.tsx\nconst TemplateSelector = () => {\n  const documentTypes = useTemplateStore((state) => state.allDocumentTypes);\n  const selectDocumentType = useTemplateStore((state) => state.selectDocumentType);\n\n  const handleSelect = (documentTypeId: string) => {\n    selectDocumentType(documentTypeId);\n    router.push('/editor/new');\n  };\n\n  return (\n    <div className=\"grid grid-cols-3 gap-4\">\n      {documentTypes.map(dt => (\n        <TemplateCard\n          key={dt.id}\n          documentType={dt}\n          onSelect={() => handleSelect(dt.id)}\n        />\n      ))}\n    </div>\n  );\n};\n```\n\n**ãªãœã“ã®é †åºã‹**ï¼š\n- ã¾ãšãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚¿ã‚¤ãƒ—ã‚’æ±ºå®šã™ã‚‹ã“ã¨ã§ã€å¾Œç¶šã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆãƒ»ãƒ†ãƒ¼ãƒé¸æŠãŒçµã‚Šè¾¼ã¾ã‚Œã‚‹\n- äº’æ›æ€§ã®ãªã„é¸æŠè‚¢ã‚’æ’é™¤ã§ãã‚‹\n\n**ä½¿ç”¨ã™ã‚‹æŠ€è¡“ãƒ»æ‰‹æ³•**ï¼š\n- `templateStore`ï¼ˆ`skill_template_compatibility_management_2025_04_11.md` å‚ç…§ï¼‰\n- Document Type Definitionï¼ˆJSONå®šç¾©ï¼‰\n\n---\n\n### ã‚¹ãƒ†ãƒƒãƒ—2ï¼šãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆãƒ»ãƒ†ãƒ¼ãƒé¸æŠ\n\n**ä½•ã‚’ã™ã‚‹ã‹**ï¼š\né¸æŠã—ãŸDocument Typeã«äº’æ›æ€§ã®ã‚ã‚‹ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã¨ãƒ†ãƒ¼ãƒã‚’é¸æŠã€‚\n\n**ç”»é¢**ï¼š`/editor/[documentId]`ï¼ˆã‚¨ãƒ‡ã‚£ã‚¿ç”»é¢ã®ã‚¿ãƒ–ï¼‰\n\n**æ“ä½œ**ï¼š\n1. **ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆé¸æŠã‚¿ãƒ–**ã‚’é–‹ã\n   - äº’æ›æ€§ã®ã‚ã‚‹ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã®ã¿ãŒè¡¨ç¤ºã•ã‚Œã‚‹\n   - å„ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã®ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ç”»åƒãŒè¡¨ç¤º\n   - ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆãŒè‡ªå‹•é¸æŠã•ã‚Œã¦ã„ã‚‹\n\n2. ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦å¤‰æ›´ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰\n\n3. **ãƒ†ãƒ¼ãƒé¸æŠã‚¿ãƒ–**ã‚’é–‹ã\n   - äº’æ›æ€§ã®ã‚ã‚‹ãƒ†ãƒ¼ãƒã®ã¿ãŒè¡¨ç¤ºã•ã‚Œã‚‹\n   - ã‚«ãƒ©ãƒ¼ãƒ‘ãƒ¬ãƒƒãƒˆã€ãƒ•ã‚©ãƒ³ãƒˆã®ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼\n   - ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ†ãƒ¼ãƒãŒè‡ªå‹•é¸æŠã•ã‚Œã¦ã„ã‚‹\n\n4. ãƒ†ãƒ¼ãƒã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦å¤‰æ›´ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰\n\n**æŠ€è¡“å®Ÿè£…**ï¼š\n```typescript\n// src/components/editor/LayoutSelector.tsx\nconst LayoutSelector = ({ pageIndex }: { pageIndex: number }) => {\n  const compatibleLayouts = useTemplateStore((state) =>\n    state.getCompatibleLayouts(pageIndex)\n  );\n  const selectLayout = useTemplateStore((state) => state.selectLayout);\n  const currentLayout = useTemplateStore((state) =>\n    state.getCurrentLayout(pageIndex)\n  );\n\n  return (\n    <div>\n      {compatibleLayouts.map(layout => (\n        <LayoutCard\n          key={layout.id}\n          layout={layout}\n          selected={currentLayout?.id === layout.id}\n          onSelect={() => selectLayout(pageIndex, layout.id)}\n        />\n      ))}\n    </div>\n  );\n};\n```\n\n**ãªãœã“ã®é †åºã‹**ï¼š\n- ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã¨ãƒ†ãƒ¼ãƒã¯ã€ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”Ÿæˆå‰ã«æ±ºå®šã™ã¹ã\n- ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆãŒã‚»ã‚¯ã‚·ãƒ§ãƒ³æ§‹é€ ã‚’æ±ºå®šã—ã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³æ§‹é€ ãŒAIç”Ÿæˆãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã«å½±éŸ¿ã™ã‚‹\n\n**ä½¿ç”¨ã™ã‚‹æŠ€è¡“ãƒ»æ‰‹æ³•**ï¼š\n- `templateStore.getCompatibleLayouts()`ï¼ˆ`skill_template_compatibility_management_2025_04_11.md` å‚ç…§ï¼‰\n- äº’æ›æ€§ãƒã‚§ãƒƒã‚¯\n\n---\n\n### ã‚¹ãƒ†ãƒƒãƒ—3ï¼šã‚°ãƒ­ãƒ¼ãƒãƒ«ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿è¨­å®š\n\n**ä½•ã‚’ã™ã‚‹ã‹**ï¼š\nãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆå…¨ä½“ã«é©ç”¨ã•ã‚Œã‚‹ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ï¼ˆã‚¿ã‚¤ãƒˆãƒ«ã€ç›®çš„ã€å¯¾è±¡è€…ãªã©ï¼‰ã‚’è¨­å®šã€‚\n\n**ç”»é¢**ï¼š`/editor/[documentId]`ï¼ˆã‚¨ãƒ‡ã‚£ã‚¿ç”»é¢ã®ã€ŒåŸºæœ¬æƒ…å ±ã€ã‚¿ãƒ–ï¼‰\n\n**æ“ä½œ**ï¼š\n1. **åŸºæœ¬æƒ…å ±ã‚¿ãƒ–**ã‚’é–‹ã\n2. ä»¥ä¸‹ã®é …ç›®ã‚’å…¥åŠ›ï¼š\n   - **ã‚¿ã‚¤ãƒˆãƒ«**ï¼ˆå¿…é ˆï¼‰ï¼šãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ã‚¿ã‚¤ãƒˆãƒ«\n   - **ç›®çš„**ï¼ˆå¿…é ˆï¼‰ï¼šã€Œè³‡é‡‘èª¿é”ã€ã€Œæ¡ç”¨ã€ã€Œåºƒå ±ã€ãªã©\n   - **å¯¾è±¡è€…**ï¼ˆå¿…é ˆï¼‰ï¼šã€ŒæŠ•è³‡å®¶ã€ã€Œæ±‚è·è€…ã€ã€Œä¸€èˆ¬é¡§å®¢ã€ãªã©\n   - **æ¥­ç¨®**ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰ï¼šã€ŒITã€ã€Œæ•™è‚²ã€ã€Œè£½é€ ã€ãªã©\n   - **ä¼šç¤¾å**ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰\n   - **è£½å“å**ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰\n\n3. **AIç”Ÿæˆãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿**ã‚’è¨­å®šï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰ï¼š\n   - **ãƒˆãƒ¼ãƒ³**ï¼šã€Œãƒ•ã‚©ãƒ¼ãƒãƒ«ã€ã€Œã‚«ã‚¸ãƒ¥ã‚¢ãƒ«ã€ã€Œæƒ…ç†±çš„ã€\n   - **Temperature**ï¼š0.0ï¼ˆå³å¯†ï¼‰ã€œ 1.0ï¼ˆå‰µé€ çš„ï¼‰\n   - **æœ€å¤§ãƒˆãƒ¼ã‚¯ãƒ³æ•°**\n\n4. ã€Œæ¬¡ã¸ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯\n\n**æŠ€è¡“å®Ÿè£…**ï¼š\n```typescript\n// src/components/editor/GlobalParametersForm.tsx\nconst GlobalParametersForm = () => {\n  const globalParameters = useDocumentStore((state) => state.globalParameters);\n  const updateGlobalParameters = useDocumentStore((state) => state.updateGlobalParameters);\n\n  const { register, handleSubmit } = useForm<GlobalParameters>({\n    defaultValues: globalParameters,\n  });\n\n  const onSubmit = (data: GlobalParameters) => {\n    updateGlobalParameters(data);\n    // æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—ã¸\n  };\n\n  return (\n    <form onSubmit={handleSubmit(onSubmit)}>\n      <input {...register('title')} placeholder=\"ã‚¿ã‚¤ãƒˆãƒ«\" required />\n      <select {...register('purpose')} required>\n        <option value=\"è³‡é‡‘èª¿é”\">è³‡é‡‘èª¿é”</option>\n        <option value=\"æ¡ç”¨\">æ¡ç”¨</option>\n        <option value=\"åºƒå ±\">åºƒå ±</option>\n      </select>\n      <input {...register('targetAudience')} placeholder=\"å¯¾è±¡è€…\" required />\n      {/* ... ãã®ä»–ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ */}\n      <button type=\"submit\">æ¬¡ã¸</button>\n    </form>\n  );\n};\n```\n\n**ãªãœã“ã®é †åºã‹**ï¼š\n- ã‚°ãƒ­ãƒ¼ãƒãƒ«ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¯AIç”Ÿæˆã«å¿…è¦\n- å…ˆã«è¨­å®šã™ã‚‹ã“ã¨ã§ã€AIç”ŸæˆãŒã‚¹ãƒ ãƒ¼ã‚ºã«é€²ã‚€\n\n**ä½¿ç”¨ã™ã‚‹æŠ€è¡“ãƒ»æ‰‹æ³•**ï¼š\n- `documentStore.updateGlobalParameters()`\n- React Hook Form + Zodï¼ˆãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ï¼‰\n\n---\n\n### ã‚¹ãƒ†ãƒƒãƒ—4ï¼šAIã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”Ÿæˆ\n\n**ä½•ã‚’ã™ã‚‹ã‹**ï¼š\nè¨­å®šã—ãŸãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã«åŸºã¥ã„ã¦ã€AIãŒãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®å„ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’è‡ªå‹•ç”Ÿæˆã€‚\n\n**ç”»é¢**ï¼š`/editor/[documentId]`ï¼ˆã‚¨ãƒ‡ã‚£ã‚¿ç”»é¢ã®ã€Œã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã€ã‚¿ãƒ–ï¼‰\n\n**æ“ä½œ**ï¼š\n1. **ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚¿ãƒ–**ã‚’é–‹ã\n2. ä»¥ä¸‹ã®ã„ãšã‚Œã‹ã‚’é¸æŠï¼š\n   - **ä¸€æ‹¬ç”Ÿæˆ**ï¼šã™ã¹ã¦ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’ä¸€åº¦ã«ç”Ÿæˆ\n   - **ã‚»ã‚¯ã‚·ãƒ§ãƒ³åˆ¥ç”Ÿæˆ**ï¼šã‚»ã‚¯ã‚·ãƒ§ãƒ³ã”ã¨ã«å€‹åˆ¥ã«ç”Ÿæˆ\n\n3. ã€Œç”Ÿæˆé–‹å§‹ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯\n\n4. AIç”ŸæˆãŒé–‹å§‹ã•ã‚Œã‚‹ï¼ˆãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¡¨ç¤ºï¼‰\n\n5. ç”Ÿæˆã•ã‚ŒãŸã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãŒãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼è¡¨ç¤ºã•ã‚Œã‚‹\n\n6. æº€è¶³ã§ããªã„å ´åˆï¼š\n   - **å†ç”Ÿæˆ**ï¼šåŒã˜ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã§å†åº¦ç”Ÿæˆ\n   - **ãƒªãƒ•ã‚¡ã‚¤ãƒ³**ï¼šè¿½åŠ æŒ‡ç¤ºã‚’ä¸ãˆã¦æ”¹å–„ï¼ˆä¾‹ï¼šã€Œã‚‚ã£ã¨çŸ­ãã€ã€Œå…·ä½“ä¾‹ã‚’è¿½åŠ ã€ï¼‰\n   - **æ‰‹å‹•ç·¨é›†**ï¼šç›´æ¥ãƒ†ã‚­ã‚¹ãƒˆã‚’ç·¨é›†\n\n7. ã€Œé©ç”¨ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ç¢ºå®š\n\n**æŠ€è¡“å®Ÿè£…**ï¼š\n```typescript\n// src/components/editor/ai/AIContentGenerator.tsx\nconst AIContentGenerator = ({ sectionId }: { sectionId: string }) => {\n  const isGenerating = useAIGenerationStore((state) => state.isGenerating);\n  const generateForSection = useAIGenerationStore((state) => state.generateForSection);\n\n  const handleGenerate = async () => {\n    await generateForSection(sectionId);\n  };\n\n  return (\n    <div>\n      <button onClick={handleGenerate} disabled={isGenerating}>\n        {isGenerating ? 'ç”Ÿæˆä¸­...' : 'ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”Ÿæˆ'}\n      </button>\n    </div>\n  );\n};\n```\n\n**è©³ç´°ãƒ•ãƒ­ãƒ¼ã¯åˆ¥ãƒ•ã‚¡ã‚¤ãƒ«å‚ç…§**ï¼š\n`workflow_ai_content_generation_flow_2025_04_11.md`\n\n**ãªãœã“ã®é †åºã‹**ï¼š\n- ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆãƒ»ãƒ†ãƒ¼ãƒãƒ»ã‚°ãƒ­ãƒ¼ãƒãƒ«ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãŒæƒã£ãŸå¾Œã«AIç”Ÿæˆ\n- ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãŒå…ˆã«ã‚ã‚‹ã¨ã€ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆå¤‰æ›´ãŒé›£ã—ã„\n\n**ä½¿ç”¨ã™ã‚‹æŠ€è¡“ãƒ»æ‰‹æ³•**ï¼š\n- `aiGenerationStore.generateForSection()`ï¼ˆ`skill_ai_prompt_section_specific_2025_04_11.md` å‚ç…§ï¼‰\n- Gemini APIï¼ˆ`decision_ai_gemini_vs_openai_2025_04_11.md` å‚ç…§ï¼‰\n\n---\n\n### ã‚¹ãƒ†ãƒƒãƒ—5ï¼šãƒ¡ãƒ‡ã‚£ã‚¢ãƒ»ãƒ‡ãƒ¼ã‚¿è¿½åŠ \n\n**ä½•ã‚’ã™ã‚‹ã‹**ï¼š\nç”»åƒã€ãƒãƒ£ãƒ¼ãƒˆãƒ‡ãƒ¼ã‚¿ãªã©ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã€‚\n\n**ç”»é¢**ï¼š`/editor/[documentId]`ï¼ˆã‚¨ãƒ‡ã‚£ã‚¿ç”»é¢ã®ã€Œãƒ¡ãƒ‡ã‚£ã‚¢ã€ã‚¿ãƒ–ï¼‰\n\n**æ“ä½œ**ï¼š\n1. **ãƒ¡ãƒ‡ã‚£ã‚¢ã‚¿ãƒ–**ã‚’é–‹ã\n2. ç”»åƒãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼ãŒè¡¨ç¤ºã•ã‚Œã‚‹ï¼š\n   - ã‚»ã‚¯ã‚·ãƒ§ãƒ³å\n   - æ¨å¥¨ã‚µã‚¤ã‚ºï¼ˆä¾‹ï¼šã€Œ1200Ã—800pxã€ã‚¢ã‚¹ãƒšã‚¯ãƒˆæ¯” 3:2ã€ï¼‰\n   - ã‚¬ã‚¤ãƒ€ãƒ³ã‚¹ï¼ˆä¾‹ï¼šã€Œä¼šç¤¾ãƒ­ã‚´ã€ã€Œãƒ’ãƒ¼ãƒ­ãƒ¼ç”»åƒã€ï¼‰\n\n3. ã€Œç”»åƒã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯\n\n4. ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é¸æŠï¼ˆã¾ãŸã¯ãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—ï¼‰\n\n5. ç”»åƒãŒãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼è¡¨ç¤ºã•ã‚Œã‚‹\n\n6. ãƒãƒ£ãƒ¼ãƒˆãƒ‡ãƒ¼ã‚¿ãŒå¿…è¦ãªå ´åˆï¼š\n   - CSV/JSONå½¢å¼ã§ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰\n   - ã¾ãŸã¯ã€æ‰‹å‹•ã§ãƒ‡ãƒ¼ã‚¿å…¥åŠ›\n\n**æŠ€è¡“å®Ÿè£…**ï¼š\n```typescript\n// src/components/editor/media/MediaUploader.tsx\nconst MediaUploader = ({ placeholderId }: { placeholderId: string }) => {\n  const uploadMedia = useMediaStore((state) => state.uploadMedia);\n\n  const handleUpload = async (file: File) => {\n    await uploadMedia(placeholderId, file);\n  };\n\n  return (\n    <Dropzone onDrop={(files) => handleUpload(files[0])}>\n      <p>ç”»åƒã‚’ãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ— ã¾ãŸã¯ ã‚¯ãƒªãƒƒã‚¯ã—ã¦é¸æŠ</p>\n    </Dropzone>\n  );\n};\n```\n\n**ãªãœã“ã®é †åºã‹**ï¼š\n- ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”Ÿæˆå¾Œã«ãƒ¡ãƒ‡ã‚£ã‚¢ã‚’è¿½åŠ ï¼ˆãƒ†ã‚­ã‚¹ãƒˆãŒå…ˆï¼‰\n- ãƒ¡ãƒ‡ã‚£ã‚¢ã¯ã‚ªãƒ—ã‚·ãƒ§ãƒ³ãªã®ã§ã€å¾Œå›ã—ã§ã‚‚å•é¡Œãªã„\n\n**ä½¿ç”¨ã™ã‚‹æŠ€è¡“ãƒ»æ‰‹æ³•**ï¼š\n- `mediaStore.uploadMedia()`\n- html2canvasï¼ˆç”»åƒã®ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ï¼‰\n\n---\n\n### ã‚¹ãƒ†ãƒƒãƒ—6ï¼šãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆèª¿æ•´\n\n**ä½•ã‚’ã™ã‚‹ã‹**ï¼š\nã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®ã‚µã‚¤ã‚ºãƒ»ä½ç½®ã‚’èª¿æ•´ï¼ˆåˆ¶ç´„å†…ï¼‰ã€‚\n\n**ç”»é¢**ï¼š`/editor/[documentId]`ï¼ˆã‚¨ãƒ‡ã‚£ã‚¿ç”»é¢ã®ãƒ¡ã‚¤ãƒ³ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ï¼‰\n\n**æ“ä½œ**ï¼š\n1. ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ç”»é¢ã§ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯\n2. ãƒªã‚µã‚¤ã‚ºå¯èƒ½ãªå ´åˆã€ãƒãƒ³ãƒ‰ãƒ«ãŒè¡¨ç¤ºã•ã‚Œã‚‹\n3. ãƒ‰ãƒ©ãƒƒã‚°ã—ã¦ãƒªã‚µã‚¤ã‚º\n4. èª¿æ•´å¯èƒ½ãªç¯„å›²ãŒåˆ¶é™ã•ã‚Œã¦ã„ã‚‹ï¼ˆ`adjustability.resizeBoundaries`ï¼‰\n\n5. ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’å¤‰æ›´ã—ãŸã„å ´åˆï¼š\n   - ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯\n   - ã€Œã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå¤‰æ›´ã€ãƒœã‚¿ãƒ³\n   - äº’æ›æ€§ã®ã‚ã‚‹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆä¸€è¦§ã‹ã‚‰é¸æŠ\n\n**æŠ€è¡“å®Ÿè£…**ï¼š\n```typescript\n// src/components/editor/section/SectionEditor.tsx\nimport GridLayout from 'react-grid-layout';\n\nconst SectionEditor = () => {\n  const layout = useTemplateStore((state) => state.getCurrentLayout(0));\n  const updateSectionPosition = useSectionStore((state) => state.updateSectionPosition);\n\n  const handleLayoutChange = (newLayout: Layout[]) => {\n    newLayout.forEach(item => {\n      updateSectionPosition(item.i, {\n        row: item.y,\n        column: item.x,\n        rowSpan: item.h,\n        columnSpan: item.w,\n      });\n    });\n  };\n\n  return (\n    <GridLayout\n      layout={convertToGridLayout(layout)}\n      cols={12}\n      rowHeight={50}\n      onLayoutChange={handleLayoutChange}\n    >\n      {/* ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚° */}\n    </GridLayout>\n  );\n};\n```\n\n**ãªãœã“ã®é †åºã‹**ï¼š\n- ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãƒ»ãƒ¡ãƒ‡ã‚£ã‚¢ãŒæƒã£ãŸå¾Œã«ã€æœ€çµ‚èª¿æ•´\n- ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆèª¿æ•´ã¯è¦–è¦šçš„ã«ç¢ºèªã—ãªãŒã‚‰è¡Œã†\n\n**ä½¿ç”¨ã™ã‚‹æŠ€è¡“ãƒ»æ‰‹æ³•**ï¼š\n- `sectionStore.updateSectionPosition()`\n- React Grid Layoutï¼ˆ`skill_react_grid_layout_implementation_2025_04_11.md` å‚ç…§ï¼‰\n- åˆ¶ç´„ã‚·ã‚¹ãƒ†ãƒ ï¼ˆ`skill_section_adjustability_constraints_2025_04_11.md` å‚ç…§ï¼‰\n\n---\n\n### ã‚¹ãƒ†ãƒƒãƒ—7ï¼šãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ»æœ€çµ‚èª¿æ•´\n\n**ä½•ã‚’ã™ã‚‹ã‹**ï¼š\nå…¨ãƒšãƒ¼ã‚¸ã‚’ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã—ã€å¿…è¦ã«å¿œã˜ã¦æœ€çµ‚èª¿æ•´ã€‚\n\n**ç”»é¢**ï¼š`/editor/[documentId]`ï¼ˆãƒ•ãƒ«ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ¢ãƒ¼ãƒ‰ï¼‰\n\n**æ“ä½œ**ï¼š\n1. ã€Œãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯\n2. ãƒ•ãƒ«ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã§ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆå…¨ä½“ãŒè¡¨ç¤ºã•ã‚Œã‚‹\n3. ãƒšãƒ¼ã‚¸é€ã‚Šã§å„ãƒšãƒ¼ã‚¸ã‚’ç¢ºèª\n4. å•é¡ŒãŒã‚ã‚Œã°ã€ã€Œç·¨é›†ã«æˆ»ã‚‹ã€ãƒœã‚¿ãƒ³ã§ç·¨é›†ãƒ¢ãƒ¼ãƒ‰ã«æˆ»ã‚‹\n5. æº€è¶³ã—ãŸã‚‰ã€ã€Œã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯\n\n**æŠ€è¡“å®Ÿè£…**ï¼š\n```typescript\n// src/components/editor/preview/FullPreview.tsx\nconst FullPreview = () => {\n  const pages = useDocumentStore((state) => state.pages);\n  const [currentPageIndex, setCurrentPageIndex] = useState(0);\n\n  return (\n    <div className=\"fixed inset-0 bg-black\">\n      <div className=\"w-full h-full flex items-center justify-center\">\n        <DocumentPage page={pages[currentPageIndex]} />\n      </div>\n      <div className=\"absolute bottom-4 left-1/2 transform -translate-x-1/2\">\n        <button onClick={() => setCurrentPageIndex(prev => Math.max(0, prev - 1))}>\n          å‰ã¸\n        </button>\n        <span>{currentPageIndex + 1} / {pages.length}</span>\n        <button onClick={() => setCurrentPageIndex(prev => Math.min(pages.length - 1, prev + 1))}>\n          æ¬¡ã¸\n        </button>\n      </div>\n    </div>\n  );\n};\n```\n\n**ãªãœã“ã®é †åºã‹**ï¼š\n- æœ€çµ‚èª¿æ•´ã®å‰ã«å…¨ä½“ã‚’ç¢ºèª\n- å°åˆ·ãƒ»ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆå‰ã®æœ€å¾Œã®ãƒã‚§ãƒƒã‚¯\n\n**ä½¿ç”¨ã™ã‚‹æŠ€è¡“ãƒ»æ‰‹æ³•**ï¼š\n- ãƒ•ãƒ«ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼\n- ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³\n\n---\n\n### ã‚¹ãƒ†ãƒƒãƒ—8ï¼šPDFã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ\n\n**ä½•ã‚’ã™ã‚‹ã‹**ï¼š\nå®Œæˆã—ãŸãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’PDFãƒ•ã‚¡ã‚¤ãƒ«ã¨ã—ã¦ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã€‚\n\n**ç”»é¢**ï¼š`/editor/[documentId]`ï¼ˆã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆãƒ€ã‚¤ã‚¢ãƒ­ã‚°ï¼‰\n\n**æ“ä½œ**ï¼š\n1. ã€Œã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯\n2. ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆè¨­å®šã‚’é¸æŠï¼š\n   - **ãƒ•ã‚¡ã‚¤ãƒ«å**\n   - **ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ**ï¼šPDFï¼ˆå°†æ¥çš„ã«PNGã€JPEGã‚‚ï¼‰\n   - **å“è³ª**ï¼šæ¨™æº–ï¼ˆ150 DPIï¼‰ã€é«˜å“è³ªï¼ˆ300 DPIï¼‰\n   - **ãƒšãƒ¼ã‚¸ç¯„å›²**ï¼šå…¨ãƒšãƒ¼ã‚¸ / æŒ‡å®šãƒšãƒ¼ã‚¸\n\n3. ã€Œã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆé–‹å§‹ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯\n\n4. PDFç”ŸæˆãŒé–‹å§‹ã•ã‚Œã‚‹ï¼ˆãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¡¨ç¤ºï¼‰\n\n5. å®Œäº†ã—ãŸã‚‰ã€è‡ªå‹•ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰\n\n**æŠ€è¡“å®Ÿè£…**ï¼š\n```typescript\n// src/components/export/ExportButton.tsx\nconst ExportButton = () => {\n  const [isExporting, setIsExporting] = useState(false);\n\n  const handleExport = async () => {\n    setIsExporting(true);\n\n    // ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ã§PDFç”Ÿæˆï¼ˆPuppeteerï¼‰\n    const html = document.getElementById('document-container')?.outerHTML;\n    const response = await fetch('/api/export', {\n      method: 'POST',\n      body: JSON.stringify({ html }),\n    });\n\n    const blob = await response.blob();\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = 'document.pdf';\n    a.click();\n\n    setIsExporting(false);\n  };\n\n  return (\n    <button onClick={handleExport} disabled={isExporting}>\n      {isExporting ? 'ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆä¸­...' : 'PDFã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ'}\n    </button>\n  );\n};\n```\n\n**è©³ç´°ãƒ•ãƒ­ãƒ¼ã¯åˆ¥ãƒ•ã‚¡ã‚¤ãƒ«å‚ç…§**ï¼š\n`workflow_pdf_export_flow_2025_04_11.md`\n\n**ãªãœã“ã®é †åºã‹**ï¼š\n- ã™ã¹ã¦ã®èª¿æ•´ãŒå®Œäº†ã—ãŸå¾Œã«ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ\n- ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã¯æœ€çµ‚ã‚¹ãƒ†ãƒƒãƒ—\n\n**ä½¿ç”¨ã™ã‚‹æŠ€è¡“ãƒ»æ‰‹æ³•**ï¼š\n- PDFç”Ÿæˆï¼ˆ`skill_pdf_generation_triple_approach_2025_04_11.md` å‚ç…§ï¼‰\n- Puppeteerï¼ˆã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ï¼‰\n\n---\n\n## ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°\n\n### ã‚¨ãƒ©ãƒ¼1ï¼šäº’æ›æ€§ã®ãªã„ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆé¸æŠ\n\n**å¯¾å‡¦æ³•**ï¼š\n- `templateStore.selectLayout()`ã§äº’æ›æ€§ãƒã‚§ãƒƒã‚¯\n- äº’æ›æ€§ãŒãªã„å ´åˆã€ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¡¨ç¤º\n- äº’æ›æ€§ã®ã‚ã‚‹ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’ææ¡ˆ\n\n### ã‚¨ãƒ©ãƒ¼2ï¼šAIç”Ÿæˆå¤±æ•—\n\n**å¯¾å‡¦æ³•**ï¼š\n- ãƒªãƒˆãƒ©ã‚¤æ©Ÿæ§‹ï¼ˆæœ€å¤§3å›ï¼‰\n- ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ï¼ˆGeminiã‹ã‚‰OpenAIã¸ï¼‰\n- ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¡¨ç¤ºã—ã€æ‰‹å‹•å…¥åŠ›ã‚’ä¿ƒã™\n\n### ã‚¨ãƒ©ãƒ¼3ï¼šPDFç”Ÿæˆå¤±æ•—\n\n**å¯¾å‡¦æ³•**ï¼š\n- ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰ç”Ÿæˆï¼ˆhtml2canvas + jsPDFï¼‰ã«ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯\n- ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¡¨ç¤º\n\n### ã‚¨ãƒ©ãƒ¼4ï¼šç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰å¤±æ•—\n\n**å¯¾å‡¦æ³•**ï¼š\n- ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºãƒã‚§ãƒƒã‚¯ï¼ˆæœ€å¤§10MBï¼‰\n- ãƒ•ã‚¡ã‚¤ãƒ«å½¢å¼ãƒã‚§ãƒƒã‚¯ï¼ˆPNGã€JPEGã®ã¿ï¼‰\n- ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¡¨ç¤º\n\n## å†ç¾æ–¹æ³•\n\n### ã‚¹ãƒ†ãƒƒãƒ—1ï¼šãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—\n\n```bash\ngit clone https://github.com/user/ai-document-generator\ncd ai-document-generator\nnpm install\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2ï¼šç’°å¢ƒå¤‰æ•°è¨­å®š\n\n```bash\ncp .env.example .env.local\n# .env.localã«APIã‚­ãƒ¼ã‚’è¨­å®š\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3ï¼šé–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•\n\n```bash\nnpm run dev\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—4ï¼šãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆä½œæˆãƒ•ãƒ­ãƒ¼ã‚’å®Ÿè¡Œ\n\n1. `http://localhost:3000/templates` ã«ã‚¢ã‚¯ã‚»ã‚¹\n2. ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’é¸æŠ\n3. ä¸Šè¨˜ã®ãƒ•ãƒ­ãƒ¼ã«å¾“ã£ã¦æ“ä½œ\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `skill_template_compatibility_management_2025_04_11.md`: ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆäº’æ›æ€§ç®¡ç†\n- `skill_ai_prompt_section_specific_2025_04_11.md`: ã‚»ã‚¯ã‚·ãƒ§ãƒ³åˆ¥AIãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ\n- `skill_pdf_generation_triple_approach_2025_04_11.md`: PDFç”Ÿæˆ\n- `workflow_ai_content_generation_flow_2025_04_11.md`: AIç”Ÿæˆãƒ•ãƒ­ãƒ¼ã®è©³ç´°\n- `workflow_pdf_export_flow_2025_04_11.md`: PDFã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆãƒ•ãƒ­ãƒ¼ã®è©³ç´°\n",
    "prompt": "### ã‚¹ãƒ†ãƒƒãƒ—1ï¼šãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—\n\n```bash\ngit clone https://github.com/user/ai-document-generator\ncd ai-document-generator\nnpm install\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2ï¼šç’°å¢ƒå¤‰æ•°è¨­å®š\n\n```bash\ncp .env.example .env.local\n# .env.localã«APIã‚­ãƒ¼ã‚’è¨­å®š\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3ï¼šé–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•\n\n```bash\nnpm run dev\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—4ï¼šãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆä½œæˆãƒ•ãƒ­ãƒ¼ã‚’å®Ÿè¡Œ\n\n1. `http://localhost:3000/templates` ã«ã‚¢ã‚¯ã‚»ã‚¹\n2. ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’é¸æŠ\n3. ä¸Šè¨˜ã®ãƒ•ãƒ­ãƒ¼ã«å¾“ã£ã¦æ“ä½œ",
    "relatedTech": [
      "skill-template-compatibility-management",
      "skill-ai-prompt-section-specific",
      "skill-pdf-generation-triple-approach",
      "workflow-ai-content-generation-flow",
      "workflow-pdf-export-flow"
    ]
  },
  {
    "slug": "download-export-workflow",
    "title": "ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ãƒ»ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆå®Œå…¨ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼",
    "category": "Workflowsï¼ˆãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ï¼‰",
    "description": "ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ãƒ»ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆå®Œå…¨ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼",
    "project": "instagram-post-generator",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"workflow_download_export_workflow_2025_11_25\",\n  \"type\": \"workflow\",\n  \"name\": \"ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ãƒ»ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆå®Œå…¨ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼\",\n  \"tags\": [\"ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰\", \"ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ\", \"ZIP\", \"PNG\", \"PDF\", \"html2canvas\"],\n  \"source_project\": \"instagram-post-generator\",\n  \"related_knowledge\": [\n    \"skill_bulk_download_service_zip_2025_11_25\",\n    \"skill_html2canvas_optimization_techniques_2025_11_25\",\n    \"skill_instagram_1080x1080_optimization_2025_11_25\"\n  ],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ãƒ»ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆå®Œå…¨ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼\n\n## ä½•ã®ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‹\n\n**ç”Ÿæˆã•ã‚ŒãŸInstagramæŠ•ç¨¿ã‚’ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆPNG/PDF/ZIPï¼‰ã¨ã—ã¦ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã™ã‚‹å®Œå…¨ãªãƒ—ãƒ­ã‚»ã‚¹ã€‚**\n\nãƒšãƒ¼ã‚¸é¸æŠ â†’ ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ç”Ÿæˆ â†’ é †æ¬¡ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚° â†’ html2canvaså¤‰æ› â†’ ZIPãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒ³ã‚° â†’ ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã®æµã‚Œã€‚\n\n---\n\n## ãƒ•ãƒ­ãƒ¼å…¨ä½“å›³\n\n```\n[ãƒ¦ãƒ¼ã‚¶ãƒ¼]\n   â†“\n[ãƒšãƒ¼ã‚¸é¸æŠUI]\n   â†“\n[ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯]\n   â†“\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚ Step 1: ãƒšãƒ¼ã‚¸é¸æŠç¢ºèª   â”‚\nâ”‚ - å…¨ãƒšãƒ¼ã‚¸ or é¸æŠãƒšãƒ¼ã‚¸ â”‚\nâ”‚ - ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ç”Ÿæˆè¦å¦   â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n   â†“\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚ Step 2: ZIPåˆæœŸåŒ–        â”‚\nâ”‚ - JSZip ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ä½œæˆ â”‚\nâ”‚ - é€²æ—ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°é–‹å§‹   â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n   â†“\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚ Step 3: ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ç”Ÿæˆ â”‚\nâ”‚ (ã‚ªãƒ—ã‚·ãƒ§ãƒ³)             â”‚\nâ”‚ - HTMLç”Ÿæˆ              â”‚\nâ”‚ - html2canvas å¤‰æ›      â”‚\nâ”‚ - index.png è¿½åŠ         â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n   â†“\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚ Step 4: å„ãƒšãƒ¼ã‚¸å‡¦ç†     â”‚\nâ”‚ (é †æ¬¡ãƒ«ãƒ¼ãƒ—)             â”‚\nâ”‚   â”œâ”€ ãƒšãƒ¼ã‚¸è¦ç´ å–å¾—     â”‚\nâ”‚   â”œâ”€ é«˜ã•æ¸¬å®š           â”‚\nâ”‚   â”œâ”€ html2canvas å¤‰æ›   â”‚\nâ”‚   â”œâ”€ Blobç”Ÿæˆ           â”‚\nâ”‚   â”œâ”€ ZIPã«è¿½åŠ           â”‚\nâ”‚   â””â”€ é€²æ—æ›´æ–°           â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n   â†“\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚ Step 5: ãƒ†ã‚­ã‚¹ãƒˆè¿½åŠ      â”‚\nâ”‚ - caption.txt           â”‚\nâ”‚ - hashtags.txt          â”‚\nâ”‚ - selected-pages.txt    â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n   â†“\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚ Step 6: ZIPç”Ÿæˆ         â”‚\nâ”‚ - åœ§ç¸®å‡¦ç†              â”‚\nâ”‚ - Blobç”Ÿæˆ              â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n   â†“\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚ Step 7: ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰     â”‚\nâ”‚ - ãƒ•ã‚¡ã‚¤ãƒ«åç”Ÿæˆ        â”‚\nâ”‚ - ãƒ–ãƒ©ã‚¦ã‚¶ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰   â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n   â†“\n[å®Œäº†é€šçŸ¥]\n```\n\n---\n\n## å„ã‚¹ãƒ†ãƒƒãƒ—ã®è©³ç´°\n\n### Step 1: ãƒšãƒ¼ã‚¸é¸æŠç¢ºèª\n\n**ä½•ã‚’ã™ã‚‹ã‹**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®é¸æŠã‚’ç¢ºèª\n\n**UIå®Ÿè£…**:\n```typescript\n// app/components/DownloadOptions.tsx\nexport default function DownloadOptions({ pages }: { pages: GeneratedPage[] }) {\n  const [selectedPages, setSelectedPages] = useState<number[]>(\n    pages.map(p => p.pageNumber)\n  )\n  const [includeIndex, setIncludeIndex] = useState(false)\n\n  const handleTogglePage = (pageNumber: number) => {\n    setSelectedPages(prev =>\n      prev.includes(pageNumber)\n        ? prev.filter(p => p !== pageNumber)\n        : [...prev, pageNumber]\n    )\n  }\n\n  const handleSelectAll = () => {\n    setSelectedPages(pages.map(p => p.pageNumber))\n  }\n\n  const handleDeselectAll = () => {\n    setSelectedPages([])\n  }\n\n  return (\n    <div className=\"download-options\">\n      <h3>ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ãƒšãƒ¼ã‚¸ã‚’é¸æŠ</h3>\n\n      <div className=\"quick-actions\">\n        <button onClick={handleSelectAll}>ã™ã¹ã¦é¸æŠ</button>\n        <button onClick={handleDeselectAll}>ã™ã¹ã¦è§£é™¤</button>\n      </div>\n\n      <div className=\"page-list\">\n        {pages.map(page => (\n          <label key={page.pageNumber}>\n            <input\n              type=\"checkbox\"\n              checked={selectedPages.includes(page.pageNumber)}\n              onChange={() => handleTogglePage(page.pageNumber)}\n            />\n            ãƒšãƒ¼ã‚¸ {page.pageNumber}: {page.title}\n          </label>\n        ))}\n      </div>\n\n      <div className=\"index-option\">\n        <label>\n          <input\n            type=\"checkbox\"\n            checked={includeIndex}\n            onChange={(e) => setIncludeIndex(e.target.checked)}\n          />\n          ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ãƒšãƒ¼ã‚¸ã‚’ç”Ÿæˆ\n        </label>\n      </div>\n\n      <button\n        onClick={() => handleDownload(selectedPages, includeIndex)}\n        disabled={selectedPages.length === 0}\n      >\n        ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ ({selectedPages.length}ãƒšãƒ¼ã‚¸)\n      </button>\n    </div>\n  )\n}\n```\n\n**ãªãœã“ã®é †åºã‹**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æ„å›³ã‚’æœ€åˆã«ç¢ºèªã™ã‚‹ã“ã¨ã§ã€ä¸è¦ãªå‡¦ç†ã‚’å›é¿\n\n### Step 2: ZIPåˆæœŸåŒ–\n\n**ä½•ã‚’ã™ã‚‹ã‹**: ZIPã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ä½œæˆã¨é€²æ—ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°åˆæœŸåŒ–\n\n```typescript\nimport JSZip from 'jszip'\n\nconst zip = new JSZip()\nconst total = selectedPages.length + (includeIndex ? 1 : 0)\nlet current = 0\n\n// é€²æ—ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯\nonProgress(current, total)\n```\n\n### Step 3: ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ç”Ÿæˆï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰\n\n**ä½•ã‚’ã™ã‚‹ã‹**: é¸æŠãƒšãƒ¼ã‚¸ä¸€è¦§ã‚’è¡¨ç¤ºã™ã‚‹ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ãƒšãƒ¼ã‚¸ã‚’ç”Ÿæˆ\n\n```typescript\nasync function generateIndexPage(\n  pages: GeneratedPage[],\n  selectedPageNumbers: number[]\n): Promise<Blob> {\n  // HTMLç”Ÿæˆ\n  const indexHtml = `\n    <div id=\"index-page\" style=\"\n      width: 1080px;\n      min-height: 1080px;\n      padding: 60px;\n      background: white;\n      font-family: 'M PLUS Rounded 1c', sans-serif;\n    \">\n      <h1 style=\"\n        font-size: 56px;\n        font-weight: bold;\n        margin-bottom: 40px;\n        color: #333;\n      \">æŠ•ç¨¿ä¸€è¦§</h1>\n\n      <p style=\"\n        font-size: 28px;\n        color: #666;\n        margin-bottom: 40px;\n      \">å…¨${selectedPageNumbers.length}ãƒšãƒ¼ã‚¸</p>\n\n      <ul style=\"\n        font-size: 36px;\n        line-height: 1.8;\n        list-style: none;\n        padding: 0;\n      \">\n        ${selectedPageNumbers.map((num, index) => {\n          const page = pages.find(p => p.pageNumber === num)\n          return `\n            <li style=\"\n              margin-bottom: 20px;\n              padding: 15px;\n              background: #f5f5f5;\n              border-radius: 10px;\n            \">\n              <strong>${index + 1}.</strong> ${page?.title || `ãƒšãƒ¼ã‚¸${num}`}\n            </li>\n          `\n        }).join('')}\n      </ul>\n    </div>\n  `\n\n  // ä¸€æ™‚DOMã«è¿½åŠ \n  const tempDiv = document.createElement('div')\n  tempDiv.innerHTML = indexHtml\n  document.body.appendChild(tempDiv)\n\n  // html2canvas å¤‰æ›\n  const element = tempDiv.querySelector('#index-page') as HTMLElement\n  const canvas = await html2canvas(element, {\n    width: 1080,\n    height: element.offsetHeight,\n    scale: 2,\n    backgroundColor: '#ffffff'\n  })\n\n  // DOMå‰Šé™¤\n  document.body.removeChild(tempDiv)\n\n  // Blobç”Ÿæˆ\n  return new Promise((resolve, reject) => {\n    canvas.toBlob((blob) => {\n      if (blob) {\n        resolve(blob)\n      } else {\n        reject(new Error('Index page generation failed'))\n      }\n    }, 'image/png')\n  })\n}\n\n// ä½¿ç”¨\nif (includeIndex) {\n  onProgress(++current, total)\n  const indexBlob = await generateIndexPage(pages, selectedPages)\n  zip.file('00_index.png', indexBlob)\n  console.log('âœ… Index page added')\n}\n```\n\n**ãªãœã“ã®é †åºã‹**: ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã¯æœ€åˆã«é…ç½®ã™ã‚‹æ…£ç¿’ï¼ˆ00_index.pngï¼‰\n\n### Step 4: å„ãƒšãƒ¼ã‚¸å‡¦ç†ï¼ˆé †æ¬¡ãƒ«ãƒ¼ãƒ—ï¼‰\n\n**ä½•ã‚’ã™ã‚‹ã‹**: é¸æŠã•ã‚ŒãŸå„ãƒšãƒ¼ã‚¸ã‚’PNGã«å¤‰æ›ã—ã¦ZIPã«è¿½åŠ \n\n```typescript\nfor (const pageNumber of selectedPages) {\n  onProgress(++current, total)\n\n  const page = pages.find(p => p.pageNumber === pageNumber)\n  if (!page) {\n    console.warn(`Page ${pageNumber} not found`)\n    continue\n  }\n\n  try {\n    // ãƒšãƒ¼ã‚¸è¦ç´ å–å¾—\n    const element = document.getElementById(`page-${pageNumber}`)\n    if (!element) {\n      throw new Error(`Element not found: page-${pageNumber}`)\n    }\n\n    // é«˜ã•æ¸¬å®šï¼ˆå‹•çš„ã‚³ãƒ³ãƒ†ãƒ³ãƒ„å¯¾å¿œï¼‰\n    const actualHeight = element.offsetHeight\n    console.log(`ğŸ“ Page ${pageNumber}: ${actualHeight}px`)\n\n    // html2canvas å¤‰æ›\n    const canvas = await html2canvas(element, {\n      width: 1080,\n      height: actualHeight,\n      scale: 2,  // Retinaå¯¾å¿œ\n      logging: false,\n      useCORS: true,\n      backgroundColor: '#ffffff'\n    })\n\n    // Blobç”Ÿæˆ\n    const blob: Blob = await new Promise((resolve, reject) => {\n      canvas.toBlob((blob) => {\n        if (blob) {\n          resolve(blob)\n        } else {\n          reject(new Error('Canvas to Blob failed'))\n        }\n      }, 'image/png', 0.95)\n    })\n\n    // ZIPã«è¿½åŠ ï¼ˆãƒ•ã‚¡ã‚¤ãƒ«å: 01_page-1.png å½¢å¼ï¼‰\n    const filename = `${String(pageNumber).padStart(2, '0')}_page-${pageNumber}.png`\n    zip.file(filename, blob)\n\n    console.log(`âœ… Page ${pageNumber} added (${(blob.size / 1024 / 1024).toFixed(2)} MB)`)\n\n    // ãƒ–ãƒ©ã‚¦ã‚¶ã®å‘¼å¸æ™‚é–“ï¼ˆæ¬¡ã®ãƒšãƒ¼ã‚¸å‡¦ç†å‰ã«å°‘ã—å¾…ã¤ï¼‰\n    await new Promise(resolve => setTimeout(resolve, 100))\n\n  } catch (error) {\n    console.error(`âŒ Failed to process page ${pageNumber}:`, error)\n    // ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿæ™‚ã‚‚ãƒ«ãƒ¼ãƒ—ç¶™ç¶šï¼ˆä»–ã®ãƒšãƒ¼ã‚¸ã¯å‡¦ç†ï¼‰\n  }\n}\n```\n\n**ãªãœã“ã®é †åºã‹**: ä¸¦åˆ—å‡¦ç†ã§ãƒ–ãƒ©ã‚¦ã‚¶ãŒå›ºã¾ã‚‹ãŸã‚ã€é †æ¬¡å‡¦ç†ãŒå¿…é ˆ\n\n### Step 5: ãƒ†ã‚­ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«è¿½åŠ \n\n**ä½•ã‚’ã™ã‚‹ã‹**: ã‚­ãƒ£ãƒ—ã‚·ãƒ§ãƒ³ã€ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°ã€é¸æŠãƒšãƒ¼ã‚¸æƒ…å ±ã‚’ãƒ†ã‚­ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã¨ã—ã¦è¿½åŠ \n\n```typescript\n// ã‚­ãƒ£ãƒ—ã‚·ãƒ§ãƒ³\nzip.file('caption.txt', caption)\n\n// ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°ï¼ˆå„è¡Œã«1ã¤ï¼‰\nconst hashtagText = hashtags.all.join('\\n')\nzip.file('hashtags.txt', hashtagText)\n\n// é¸æŠãƒšãƒ¼ã‚¸æƒ…å ±\nconst selectedInfo = `\né¸æŠãƒšãƒ¼ã‚¸: ${selectedPages.join(', ')}\nåˆè¨ˆãƒšãƒ¼ã‚¸æ•°: ${selectedPages.length}\nç”Ÿæˆæ—¥æ™‚: ${new Date().toLocaleString('ja-JP')}\n`.trim()\nzip.file('selected-pages.txt', selectedInfo)\n\nconsole.log('âœ… Text files added')\n```\n\n**ãªãœã“ã®é †åºã‹**: ç”»åƒå‡¦ç†å¾Œã«ãƒ†ã‚­ã‚¹ãƒˆè¿½åŠ ï¼ˆè»½ã„å‡¦ç†ã¯æœ€å¾Œï¼‰\n\n### Step 6: ZIPç”Ÿæˆ\n\n**ä½•ã‚’ã™ã‚‹ã‹**: ZIPã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ã‚’ç”Ÿæˆ\n\n```typescript\nconsole.log('ğŸ“¦ Generating ZIP archive...')\n\nconst zipBlob = await zip.generateAsync({\n  type: 'blob',\n  compression: 'DEFLATE',\n  compressionOptions: {\n    level: 6  // åœ§ç¸®ãƒ¬ãƒ™ãƒ«ï¼ˆ1-9ã€6ãŒæ¨å¥¨ï¼‰\n  }\n})\n\nconst zipSizeMB = (zipBlob.size / 1024 / 1024).toFixed(2)\nconsole.log(`âœ… ZIP generated (${zipSizeMB} MB)`)\n```\n\n**ãªãœã“ã®é †åºã‹**: ã™ã¹ã¦ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¿½åŠ å¾Œã«åœ§ç¸®\n\n### Step 7: ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰\n\n**ä½•ã‚’ã™ã‚‹ã‹**: ç”Ÿæˆã•ã‚ŒãŸZIPã‚’ãƒ–ãƒ©ã‚¦ã‚¶ã§ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰\n\n```typescript\n// ãƒ•ã‚¡ã‚¤ãƒ«åç”Ÿæˆï¼ˆã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—ä»˜ãï¼‰\nconst timestamp = new Date()\n  .toISOString()\n  .replace(/[:.]/g, '-')\n  .slice(0, 19)\n\nconst filename = `instagram-post-${timestamp}.zip`\n\n// ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰\nconst url = URL.createObjectURL(zipBlob)\nconst link = document.createElement('a')\nlink.href = url\nlink.download = filename\nlink.click()\n\n// ãƒ¡ãƒ¢ãƒªè§£æ”¾\nURL.revokeObjectURL(url)\n\nconsole.log(`âœ… Download started: ${filename}`)\n```\n\n**ãªãœã“ã®é †åºã‹**: ZIPç”Ÿæˆå¾Œã€å³åº§ã«ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰é–‹å§‹\n\n---\n\n## ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°\n\n### å„ã‚¹ãƒ†ãƒƒãƒ—ã§ç™ºç”Ÿã—ã†ã‚‹ã‚¨ãƒ©ãƒ¼ã¨å¯¾å‡¦\n\n**Step 3: ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ç”Ÿæˆå¤±æ•—**\n```typescript\ntry {\n  const indexBlob = await generateIndexPage(pages, selectedPages)\n  zip.file('00_index.png', indexBlob)\n} catch (error) {\n  console.warn('ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ç”Ÿæˆã«å¤±æ•—ã—ã¾ã—ãŸã€‚ã‚¹ã‚­ãƒƒãƒ—ã—ã¾ã™ã€‚', error)\n  // ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ãªã—ã§ç¶šè¡Œ\n}\n```\n\n**Step 4: ãƒšãƒ¼ã‚¸å¤‰æ›å¤±æ•—**\n```typescript\nfor (const pageNumber of selectedPages) {\n  try {\n    const blob = await renderPageToPng(page)\n    zip.file(filename, blob)\n  } catch (error) {\n    console.error(`ãƒšãƒ¼ã‚¸${pageNumber}ã®å¤‰æ›ã«å¤±æ•—ã—ã¾ã—ãŸ`, error)\n    // ã‚¨ãƒ©ãƒ¼ãƒšãƒ¼ã‚¸è¿½åŠ ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰\n    zip.file(`${filename}_ERROR.txt`, `å¤‰æ›å¤±æ•—: ${error.message}`)\n    // ä»–ã®ãƒšãƒ¼ã‚¸ã¯ç¶™ç¶šå‡¦ç†\n  }\n}\n```\n\n**Step 6: ZIPç”Ÿæˆå¤±æ•—**\n```typescript\ntry {\n  const zipBlob = await zip.generateAsync({ type: 'blob' })\n  downloadBlob(zipBlob, filename)\n} catch (error) {\n  alert('ZIPãƒ•ã‚¡ã‚¤ãƒ«ã®ç”Ÿæˆã«å¤±æ•—ã—ã¾ã—ãŸã€‚ãƒšãƒ¼ã‚¸æ•°ã‚’æ¸›ã‚‰ã—ã¦å†è©¦è¡Œã—ã¦ãã ã•ã„ã€‚')\n  console.error('ZIP generation failed:', error)\n  throw error\n}\n```\n\n---\n\n## å†ç¾æ–¹æ³•\n\n### å®Œå…¨ãªçµ±åˆå®Ÿè£…\n\n```typescript\n// app/services/bulkDownloadService.ts\nimport JSZip from 'jszip'\nimport html2canvas from 'html2canvas'\n\nexport async function downloadSelectedPagesAsZip(\n  pages: GeneratedPage[],\n  selectedPageNumbers: number[],\n  caption: string,\n  hashtags: HashtagSet,\n  options: {\n    includeIndex?: boolean\n    onProgress?: (current: number, total: number) => void\n  } = {}\n): Promise<void> {\n  const { includeIndex = false, onProgress = () => {} } = options\n\n  // Step 1: é¸æŠç¢ºèªï¼ˆUIå´ã§å®Ÿæ–½æ¸ˆã¿ï¼‰\n\n  // Step 2: ZIPåˆæœŸåŒ–\n  const zip = new JSZip()\n  const total = selectedPageNumbers.length + (includeIndex ? 1 : 0)\n  let current = 0\n\n  try {\n    // Step 3: ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ç”Ÿæˆ\n    if (includeIndex) {\n      onProgress(++current, total)\n      try {\n        const indexBlob = await generateIndexPage(pages, selectedPageNumbers)\n        zip.file('00_index.png', indexBlob)\n      } catch (error) {\n        console.warn('Index generation failed, skipping...', error)\n      }\n    }\n\n    // Step 4: å„ãƒšãƒ¼ã‚¸å‡¦ç†\n    for (const pageNumber of selectedPageNumbers) {\n      onProgress(++current, total)\n\n      const page = pages.find(p => p.pageNumber === pageNumber)\n      if (!page) continue\n\n      try {\n        const blob = await renderPageToPng(page)\n        const filename = `${String(pageNumber).padStart(2, '0')}_page-${pageNumber}.png`\n        zip.file(filename, blob)\n\n        await new Promise(resolve => setTimeout(resolve, 100))\n      } catch (error) {\n        console.error(`Page ${pageNumber} failed:`, error)\n      }\n    }\n\n    // Step 5: ãƒ†ã‚­ã‚¹ãƒˆè¿½åŠ \n    zip.file('caption.txt', caption)\n    zip.file('hashtags.txt', hashtags.all.join('\\n'))\n    zip.file('selected-pages.txt', `é¸æŠãƒšãƒ¼ã‚¸: ${selectedPageNumbers.join(', ')}`)\n\n    // Step 6: ZIPç”Ÿæˆ\n    const zipBlob = await zip.generateAsync({\n      type: 'blob',\n      compression: 'DEFLATE',\n      compressionOptions: { level: 6 }\n    })\n\n    // Step 7: ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰\n    const timestamp = new Date().toISOString().replace(/[:.]/g, '-').slice(0, 19)\n    const filename = `instagram-post-${timestamp}.zip`\n    downloadBlob(zipBlob, filename)\n\n    console.log('âœ… Download completed')\n\n  } catch (error) {\n    console.error('âŒ Download failed:', error)\n    throw error\n  }\n}\n```\n\n---\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- **skill_bulk_download_service_zip_2025_11_25.md**: ZIPä¸€æ‹¬ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰è©³ç´°\n- **skill_html2canvas_optimization_techniques_2025_11_25.md**: PNGå¤‰æ›æœ€é©åŒ–\n- **skill_instagram_1080x1080_optimization_2025_11_25.md**: Instagramæœ€é©åŒ–\n\n---\n\n**ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ãƒ»ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã¯ã€ç”Ÿæˆã•ã‚ŒãŸã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ç¢ºå®Ÿã«ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã™ã‚‹å®Œå…¨ãªãƒ—ãƒ­ã‚»ã‚¹ã§ã‚ã‚‹ã€‚7ã‚¹ãƒ†ãƒƒãƒ—ã®æ˜ç¢ºãªãƒ•ãƒ­ãƒ¼ã§ã€å®‰å®šã—ãŸãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ä½“é¨“ã‚’æä¾›ã™ã‚‹ã€‚**\n",
    "prompt": "### å®Œå…¨ãªçµ±åˆå®Ÿè£…\n\n```typescript\n// app/services/bulkDownloadService.ts\nimport JSZip from 'jszip'\nimport html2canvas from 'html2canvas'\n\nexport async function downloadSelectedPagesAsZip(\n  pages: GeneratedPage[],\n  selectedPageNumbers: number[],\n  caption: string,\n  hashtags: HashtagSet,\n  options: {\n    includeIndex?: boolean\n    onProgress?: (current: number, total: number) => void\n  } = {}\n): Promise<void> {\n  const { includeIndex = false, onProgress = () => {} } = options\n\n  // Step 1: é¸æŠç¢ºèªï¼ˆUIå´ã§å®Ÿæ–½æ¸ˆã¿ï¼‰\n\n  // Step 2: ZIPåˆæœŸåŒ–\n  const zip = new JSZip()\n  const total = selectedPageNumbers.length + (includeIndex ? 1 : 0)\n  let current = 0\n\n  try {\n    // Step 3: ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ç”Ÿæˆ\n    if (includeIndex) {\n      onProgress(++current, total)\n      try {\n        const indexBlob = await generateIndexPage(pages, selectedPageNumbers)\n        zip.file('00_index.png', indexBlob)\n      } catch (error) {\n        console.warn('Index generation failed, skipping...', error)\n      }\n    }\n\n    // Step 4: å„ãƒšãƒ¼ã‚¸å‡¦ç†\n    for (const pageNumber of selectedPageNumbers) {\n      onProgress(++current, total)\n\n      const page = pages.find(p => p.pageNumber === pageNumber)\n      if (!page) continue\n\n      try {\n        const blob = await renderPageToPng(page)\n        const filename = `${String(pageNumber).padStart(2, '0')}_page-${pageNumber}.png`\n        zip.file(filename, blob)\n\n        await new Promise(resolve => setTimeout(resolve, 100))\n      } catch (error) {\n        console.error(`Page ${pageNumber} failed:`, error)\n      }\n    }\n\n    // Step 5: ãƒ†ã‚­ã‚¹ãƒˆè¿½åŠ \n    zip.file('caption.txt', caption)\n    zip.file('hashtags.txt', hashtags.all.join('\\n'))\n    zip.file('selected-pages.txt', `é¸æŠãƒšãƒ¼ã‚¸: ${selectedPageNumbers.join(', ')}`)\n\n    // Step 6: ZIPç”Ÿæˆ\n    const zipBlob = await zip.generateAsync({\n      type: 'blob',\n      compression: 'DEFLATE',\n      compressionOptions: { level: 6 }\n    })\n\n    // Step 7: ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰\n    const timestamp = new Date().toISOString().replace(/[:.]/g, '-').slice(0, 19)\n    const filename = `instagram-post-${timestamp}.zip`\n    downloadBlob(zipBlob, filename)\n\n    console.log('âœ… Download completed')\n\n  } catch (error) {\n    console.error('âŒ Download failed:', error)\n    throw error\n  }\n}\n```\n\n---",
    "relatedTech": [
      "skill-bulk-download-service-zip",
      "skill-html2canvas-optimization-techniques",
      "skill-instagram-1080x1080-optimization"
    ]
  },
  {
    "slug": "editing-post-generation-workflow",
    "title": "ç·¨é›†å¯èƒ½æŠ•ç¨¿ç”Ÿæˆãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼",
    "category": "Workflowsï¼ˆãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ï¼‰",
    "description": "**AIç”Ÿæˆå¾Œã®æŠ•ç¨¿ã‚’ã€21ç¨®é¡ã®ã‚¨ãƒ‡ã‚£ã‚¿ã§ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ç·¨é›†ãƒ»ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã™ã‚‹ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã€‚**",
    "project": "instagram-post-generator",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"workflow_editing_post_generation_workflow_2025_11_25\",\n  \"type\": \"workflow\",\n  \"name\": \"ç·¨é›†å¯èƒ½æŠ•ç¨¿ç”Ÿæˆãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼\",\n  \"tags\": [\"ç·¨é›†\", \"ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼\", \"ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°\", \"21ã‚¨ãƒ‡ã‚£ã‚¿\", \"å†ç”Ÿæˆ\"],\n  \"source_project\": \"instagram-post-generator\",\n  \"workflow_steps\": 6,\n  \"related_knowledge\": [\n    \"skill_dynamic_template_rendering_2025_11_25\",\n    \"skill_template_data_conversion_2025_11_25\"\n  ],\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# ç·¨é›†å¯èƒ½æŠ•ç¨¿ç”Ÿæˆãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼\n\n## ä½•ã‚’ã™ã‚‹ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‹\n\n**AIç”Ÿæˆå¾Œã®æŠ•ç¨¿ã‚’ã€21ç¨®é¡ã®ã‚¨ãƒ‡ã‚£ã‚¿ã§ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ç·¨é›†ãƒ»ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã™ã‚‹ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã€‚**\n\n**ãƒ•ãƒ­ãƒ¼æ¦‚è¦**:\n```\nç”Ÿæˆå®Œäº†\n  â†“\nãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼è¡¨ç¤º\n  â†“\nç·¨é›†ãƒ¢ãƒ¼ãƒ‰é¸æŠï¼ˆ21ã‚¨ãƒ‡ã‚£ã‚¿ï¼‰\n  â†“\nãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ç·¨é›†\n  â†“\nãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼æ›´æ–°\n  â†“\nã‚­ãƒ£ãƒ—ã‚·ãƒ§ãƒ³å†ç”Ÿæˆ\n  â†“\nãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰\n```\n\n**21ã‚¨ãƒ‡ã‚£ã‚¿**: title, subtitle, description, items, sections, steps, checklistItems, tableData, points, checklist, twoColumn, badgeText, content, rankingData, graphData, ä»–\n\n---\n\n## ãªãœã“ã®ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ãŒé‡è¦ã‹\n\n### ç†ç”±1: AIç”Ÿæˆã®é™ç•Œ\n\n**å•é¡Œ**: AIç”ŸæˆãŒ100%å®Œç’§ã§ã¯ãªã„\n\n```\nã‚¿ã‚¤ãƒˆãƒ«ãŒé•·ã™ãã‚‹\nèª¬æ˜æ–‡ã«èª¤å­—\nã‚¢ã‚¤ãƒ†ãƒ ã®é †åºãŒä¸é©åˆ‡\n```\n\n**è§£æ±º**: ç·¨é›†æ©Ÿèƒ½ã§ä¿®æ­£\n\n### ç†ç”±2: ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºãƒ‹ãƒ¼ã‚º\n\n**ãƒ¦ãƒ¼ã‚¶ãƒ¼**: ã€ŒAIãŒç”Ÿæˆã—ãŸã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’è‡ªåˆ†å¥½ã¿ã«èª¿æ•´ã—ãŸã„ã€\n\n**æä¾›**: ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ç·¨é›† + ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼\n\n---\n\n## æ‰‹é †\n\n### ã‚¹ãƒ†ãƒƒãƒ—1: ç”Ÿæˆå®Œäº†å¾Œã®ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼è¡¨ç¤º\n\n```typescript\n// app/components/EditablePostGenerator.tsx (æ¦‚å¿µ)\nexport const EditablePostGenerator: React.FC<{\n  generatedContent: GeneratedContent\n}> = ({ generatedContent }) => {\n  const [pages, setPages] = useState(generatedContent.pages)\n  const [currentPageIndex, setCurrentPageIndex] = useState(0)\n  const [editMode, setEditMode] = useState<EditMode | null>(null)\n\n  const currentPage = pages[currentPageIndex]\n\n  return (\n    <div className=\"flex\">\n      {/* å·¦å´: ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ */}\n      <div className=\"w-2/3\">\n        <div id={`post-page-${currentPage.pageNumber}`}>\n          <DynamicTemplateRenderer\n            templateType={currentPage.templateType}\n            templateData={currentPage.templateData}\n            pageNumber={currentPage.pageNumber}\n          />\n        </div>\n      </div>\n\n      {/* å³å´: ç·¨é›†ãƒ‘ãƒãƒ« */}\n      <div className=\"w-1/3\">\n        <EditorPanel\n          page={currentPage}\n          onUpdate={handleUpdate}\n          onRegenerate={handleRegenerate}\n        />\n      </div>\n    </div>\n  )\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2: ç·¨é›†ãƒ¢ãƒ¼ãƒ‰é¸æŠï¼ˆ21ã‚¨ãƒ‡ã‚£ã‚¿ï¼‰\n\n```typescript\ntype EditMode =\n  | 'title'\n  | 'subtitle'\n  | 'description'\n  | 'badgeText'\n  | 'content'\n  | 'items'\n  | 'sections'\n  | 'steps'\n  | 'checklistItems'\n  | 'tableData'\n  | 'points'\n  | 'checklist'\n  | 'twoColumn'\n  | 'rankingData'\n  | 'graphData'\n  | 'boxes'\n  | 'methods'\n  | 'tools'\n  | 'examples'\n  | 'episodes'\n  | 'advice'\n\nconst EditorPanel: React.FC<{\n  page: GeneratedPage\n  onUpdate: (field: string, value: any) => void\n  onRegenerate: () => void\n}> = ({ page, onUpdate, onRegenerate }) => {\n  const [editMode, setEditMode] = useState<EditMode | null>(null)\n\n  return (\n    <div>\n      <h3>ç·¨é›†ãƒ¢ãƒ¼ãƒ‰é¸æŠ</h3>\n\n      <button onClick={() => setEditMode('title')}>ã‚¿ã‚¤ãƒˆãƒ«ç·¨é›†</button>\n      <button onClick={() => setEditMode('subtitle')}>ã‚µãƒ–ã‚¿ã‚¤ãƒˆãƒ«ç·¨é›†</button>\n      <button onClick={() => setEditMode('description')}>èª¬æ˜æ–‡ç·¨é›†</button>\n      <button onClick={() => setEditMode('items')}>ã‚¢ã‚¤ãƒ†ãƒ ç·¨é›†</button>\n      <button onClick={() => setEditMode('sections')}>ã‚»ã‚¯ã‚·ãƒ§ãƒ³ç·¨é›†</button>\n      {/* ... ä»–ã®ã‚¨ãƒ‡ã‚£ã‚¿ãƒœã‚¿ãƒ³ */}\n\n      {editMode && (\n        <EditField\n          field={editMode}\n          value={page.templateData[editMode]}\n          onChange={(value) => onUpdate(editMode, value)}\n        />\n      )}\n\n      <button onClick={onRegenerate}>AIå†ç”Ÿæˆ</button>\n    </div>\n  )\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3: ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ç·¨é›†\n\n```typescript\nconst EditField: React.FC<{\n  field: EditMode\n  value: any\n  onChange: (value: any) => void\n}> = ({ field, value, onChange }) => {\n  // ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ç¨®é¡ã«å¿œã˜ãŸç·¨é›†UI\n  switch (field) {\n    case 'title':\n    case 'subtitle':\n    case 'badgeText':\n      // å˜ä¸€ãƒ†ã‚­ã‚¹ãƒˆ\n      return (\n        <input\n          type=\"text\"\n          value={value || ''}\n          onChange={(e) => onChange(e.target.value)}\n          className=\"w-full border p-2\"\n        />\n      )\n\n    case 'description':\n    case 'content':\n      // è¤‡æ•°è¡Œãƒ†ã‚­ã‚¹ãƒˆ\n      return (\n        <textarea\n          value={value || ''}\n          onChange={(e) => onChange(e.target.value)}\n          rows={5}\n          className=\"w-full border p-2\"\n        />\n      )\n\n    case 'items':\n      // é…åˆ—ï¼ˆæ–‡å­—åˆ—ï¼‰\n      return (\n        <div>\n          {(value || []).map((item: string, index: number) => (\n            <div key={index}>\n              <input\n                type=\"text\"\n                value={item}\n                onChange={(e) => {\n                  const newItems = [...value]\n                  newItems[index] = e.target.value\n                  onChange(newItems)\n                }}\n              />\n              <button onClick={() => {\n                const newItems = value.filter((_: any, i: number) => i !== index)\n                onChange(newItems)\n              }}>å‰Šé™¤</button>\n            </div>\n          ))}\n          <button onClick={() => onChange([...value, ''])}>è¿½åŠ </button>\n        </div>\n      )\n\n    case 'sections':\n      // è¤‡é›‘ãªé…åˆ—ï¼ˆã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆï¼‰\n      return (\n        <div>\n          {(value || []).map((section: any, index: number) => (\n            <div key={index}>\n              <input\n                placeholder=\"ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚¿ã‚¤ãƒˆãƒ«\"\n                value={section.title || ''}\n                onChange={(e) => {\n                  const newSections = [...value]\n                  newSections[index].title = e.target.value\n                  onChange(newSections)\n                }}\n              />\n              <textarea\n                placeholder=\"ã‚»ã‚¯ã‚·ãƒ§ãƒ³å†…å®¹\"\n                value={section.content || ''}\n                onChange={(e) => {\n                  const newSections = [...value]\n                  newSections[index].content = e.target.value\n                  onChange(newSections)\n                }}\n              />\n            </div>\n          ))}\n        </div>\n      )\n\n    default:\n      return <div>ã“ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã¯ç·¨é›†ã§ãã¾ã›ã‚“</div>\n  }\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—4: ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼æ›´æ–°\n\n```typescript\nfunction handleUpdate(field: string, value: any) {\n  // ç¾åœ¨ã®ãƒšãƒ¼ã‚¸ã‚’æ›´æ–°\n  const updatedPages = [...pages]\n  updatedPages[currentPageIndex].templateData[field] = value\n\n  // çŠ¶æ…‹æ›´æ–° â†’ ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼è‡ªå‹•å†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°\n  setPages(updatedPages)\n\n  console.log(`âœ… ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰æ›´æ–°: ${field}`)\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—5: ã‚­ãƒ£ãƒ—ã‚·ãƒ§ãƒ³å†ç”Ÿæˆ\n\n```typescript\nasync function handleRegenerateCaption() {\n  console.log('ğŸš€ ã‚­ãƒ£ãƒ—ã‚·ãƒ§ãƒ³å†ç”Ÿæˆé–‹å§‹...')\n\n  const updatedContent: GeneratedContent = {\n    pages,\n    totalPages: pages.length,\n    caption: '', // å†ç”Ÿæˆ\n    hashtags: generatedContent.hashtags,\n    summary: generatedContent.summary\n  }\n\n  const newCaption = await regenerateCaption(updatedContent)\n\n  setCaption(newCaption)\n  console.log('âœ… ã‚­ãƒ£ãƒ—ã‚·ãƒ§ãƒ³å†ç”Ÿæˆå®Œäº†')\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—6: ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰\n\n```typescript\nasync function handleDownload() {\n  console.log('ğŸ’¾ ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰é–‹å§‹...')\n\n  for (let i = 0; i < pages.length; i++) {\n    const element = document.getElementById(`post-page-${pages[i].pageNumber}`)\n    await downloadSinglePage(element, pages[i].pageNumber, pages[i].templateData.title)\n  }\n\n  console.log('âœ… å…¨ãƒšãƒ¼ã‚¸ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰å®Œäº†')\n}\n```\n\n---\n\n## ã„ã¤ä½¿ã†ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‹\n\n### ä½¿ç”¨å ´é¢1: AIç”Ÿæˆå¾Œã®å¾®èª¿æ•´\n\n```\nAIç”Ÿæˆ: ã‚¿ã‚¤ãƒˆãƒ«ã€Œã‚­ãƒ£ãƒªã‚¢é¸æŠã®3ã‚¹ãƒ†ãƒƒãƒ—ã€\nãƒ¦ãƒ¼ã‚¶ãƒ¼ç·¨é›†: ã‚¿ã‚¤ãƒˆãƒ«ã€Œç†æƒ³ã®ã‚­ãƒ£ãƒªã‚¢ã‚’å®Ÿç¾ã™ã‚‹3ã‚¹ãƒ†ãƒƒãƒ—ã€\nâ†’ ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼æ›´æ–°\nâ†’ ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰\n```\n\n### ä½¿ç”¨å ´é¢2: ãƒ–ãƒ©ãƒ³ãƒ‰ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³é©åˆ\n\n```\nä¼æ¥­ãƒ–ãƒ©ãƒ³ãƒ‰: ã€Œã§ã™ãƒ»ã¾ã™èª¿ã€å¿…é ˆ\nAIç”Ÿæˆ: ã€Œã§ã‚ã‚‹èª¿ã€\nãƒ¦ãƒ¼ã‚¶ãƒ¼ç·¨é›†: å…¨ãƒ†ã‚­ã‚¹ãƒˆã‚’ã€Œã§ã™ãƒ»ã¾ã™èª¿ã€ã«å¤‰æ›´\n```\n\n---\n\n## æ³¨æ„ç‚¹\n\n### æ³¨æ„ç‚¹1: ç·¨é›†å¾Œã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³\n\n**å•é¡Œ**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒä¸æ­£ãªå€¤ã‚’å…¥åŠ›\n\n**è§£æ±º**: ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³\n\n```typescript\nfunction validateField(field: EditMode, value: any): boolean {\n  switch (field) {\n    case 'title':\n      return value.length > 0 && value.length <= 50\n\n    case 'items':\n      return Array.isArray(value) && value.every(item => typeof item === 'string')\n\n    default:\n      return true\n  }\n}\n```\n\n### æ³¨æ„ç‚¹2: ç·¨é›†å±¥æ­´\n\n**å•é¡Œ**: ç·¨é›†ãƒŸã‚¹ã‚’å…ƒã«æˆ»ã›ãªã„\n\n**è§£æ±º**: Undo/Redoå®Ÿè£…\n\n```typescript\nconst [history, setHistory] = useState<GeneratedPage[]>([])\nconst [historyIndex, setHistoryIndex] = useState(-1)\n\nfunction handleUndo() {\n  if (historyIndex > 0) {\n    setHistoryIndex(historyIndex - 1)\n    setPages(history[historyIndex - 1])\n  }\n}\n\nfunction handleRedo() {\n  if (historyIndex < history.length - 1) {\n    setHistoryIndex(historyIndex + 1)\n    setPages(history[historyIndex + 1])\n  }\n}\n```\n\n---\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- **skill_dynamic_template_rendering_2025_11_25**: å‹•çš„ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°\n- **skill_template_data_conversion_2025_11_25**: ãƒ‡ãƒ¼ã‚¿å¤‰æ›\n\n---\n\n**ã¾ã¨ã‚**: ç·¨é›†å¯èƒ½æŠ•ç¨¿ç”Ÿæˆãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã¯ã€AIç”Ÿæˆå¾Œã®æŠ•ç¨¿ã‚’21ã‚¨ãƒ‡ã‚£ã‚¿ã§ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ç·¨é›†ã€‚ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼æ›´æ–°ã€ã‚­ãƒ£ãƒ—ã‚·ãƒ§ãƒ³å†ç”Ÿæˆã€ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã¾ã§å®Œå…¨ã‚µãƒãƒ¼ãƒˆã€‚\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€Œç·¨é›†å¯èƒ½æŠ•ç¨¿ç”Ÿæˆãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "skill-dynamic-template-rendering",
      "skill-template-data-conversion"
    ]
  },
  {
    "slug": "feature-implementation-workflow",
    "title": "æ–°æ©Ÿèƒ½å®Ÿè£…ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ï¼ˆ6ã‚¹ãƒ†ãƒƒãƒ—ï¼‰",
    "category": "Workflowsï¼ˆãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ï¼‰",
    "description": "æ–°æ©Ÿèƒ½å®Ÿè£…ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ï¼ˆ6ã‚¹ãƒ†ãƒƒãƒ—ï¼‰",
    "project": "yumesuta-management-system",
    "usedIn": [
      "docs/development/CLAUDE.md, docs/development/development-progress.md"
    ],
    "code": "```json\n{\n  \"id\": \"workflow_feature_implementation_workflow_2025_11_24\",\n  \"type\": \"workflow\",\n  \"name\": \"æ–°æ©Ÿèƒ½å®Ÿè£…ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ï¼ˆ6ã‚¹ãƒ†ãƒƒãƒ—ï¼‰\",\n  \"tags\": [\"ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼\", \"æ©Ÿèƒ½å®Ÿè£…\", \"é–‹ç™ºãƒ—ãƒ­ã‚»ã‚¹\", \"ã‚¹ãƒ†ãƒƒãƒ—ãƒã‚¤ã‚¹ãƒ†ãƒƒãƒ—\", \"MVP\"],\n  \"source_project\": \"yumesuta-management-system\",\n  \"source_file\": \"docs/development/CLAUDE.md, docs/development/development-progress.md\",\n  \"related_knowledge\": [\n    \"workflow_api_route_creation_workflow_2025_11_24\",\n    \"workflow_dashboard_page_creation_workflow_2025_11_24\",\n    \"skill_api_route_template_pattern_2025_11_24\",\n    \"skill_dashboard_page_template_pattern_2025_11_24\"\n  ],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-24\",\n  \"updated\": \"2025-11-24\"\n}\n```\n\n# æ–°æ©Ÿèƒ½å®Ÿè£…ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ï¼ˆ6ã‚¹ãƒ†ãƒƒãƒ—ï¼‰\n\n## ä½•ã®ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‹\n\nyumesuta-management-systemã§æ–°æ©Ÿèƒ½ï¼ˆæ–°ã—ã„ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã€æ–°ã—ã„ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ï¼‰ã‚’å®Ÿè£…ã™ã‚‹éš›ã®æ¨™æº–çš„ãª6ã‚¹ãƒ†ãƒƒãƒ—ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã€‚\n\n## ãƒ•ãƒ­ãƒ¼å…¨ä½“å›³\n\n```\n[Step 1] Investigateï¼ˆã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆæ§‹é€ èª¿æŸ»ï¼‰\n   â†“\n[Step 2] Typesï¼ˆå‹å®šç¾©ä½œæˆï¼‰\n   â†“\n[Step 3] APIï¼ˆAPI Routeä½œæˆï¼‰\n   â†“\n[Step 4] Dashboardï¼ˆDashboard Pageä½œæˆï¼‰\n   â†“\n[Step 5] Navï¼ˆãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³è¿½åŠ ï¼‰\n   â†“\n[Step 6] Testï¼ˆå‹•ä½œç¢ºèªï¼‰\n```\n\n## å„ã‚¹ãƒ†ãƒƒãƒ—ã®è©³ç´°\n\n### Step 1: Investigateï¼ˆã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆæ§‹é€ èª¿æŸ»ï¼‰\n\n**ä½•ã‚’ã™ã‚‹ã‹**:\n- ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã®æ§‹é€ ã‚’èª¿æŸ»\n- ãƒ˜ãƒƒãƒ€ãƒ¼è¡Œã€ãƒ‡ãƒ¼ã‚¿è¡Œã®ã‚µãƒ³ãƒ—ãƒ«ã‚’ç¢ºèª\n- å¿…è¦ãªç¯„å›²ï¼ˆA1è¡¨è¨˜æ³•ï¼‰ã‚’æ±ºå®š\n\n**ãªãœã“ã®é †åºã‹**:\n- ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã‚’ç†è§£ã—ãªã„ã¨ã€å‹å®šç¾©ã‚„ãƒ‘ãƒ¼ã‚¹å‡¦ç†ãŒå®Ÿè£…ã§ããªã„\n\n**ä½¿ç”¨ã™ã‚‹æŠ€è¡“ãƒ»æ‰‹æ³•**:\n- `getSpreadsheetMetadata(spreadsheetId)` ã§ã‚·ãƒ¼ãƒˆä¸€è¦§ã‚’å–å¾—\n- `getSheetData(spreadsheetId, 'ã‚·ãƒ¼ãƒˆå!A1:Z10')` ã§ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—\n\n**å®Ÿè£…ä¾‹**:\n```bash\n# ãƒ†ã‚¹ãƒˆç”¨API Routeã‚’ä½œæˆã—ã¦ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆæ§‹é€ ã‚’ç¢ºèª\ncurl \"http://127.0.0.1:3000/api/debug/spreadsheet-sheets?spreadsheetId=YOUR_SPREADSHEET_ID\"\n```\n\nã¾ãŸã¯ã€å°‚ç”¨ã®ãƒ‡ãƒãƒƒã‚°API Routeã‚’ä½œæˆï¼š\n```typescript\n// app/api/debug/investigate/route.ts\nimport { NextResponse } from 'next/server';\nimport { getSheetData } from '@/lib/google-sheets';\n\nexport async function GET() {\n  const spreadsheetId = process.env.YOUR_SPREADSHEET_ID!;\n  const data = await getSheetData(spreadsheetId, 'ã‚·ãƒ¼ãƒˆå!A1:Z10');\n\n  return NextResponse.json({ success: true, data });\n}\n```\n\n**æˆæœç‰©**:\n- ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã®æ§‹é€ ãƒ¡ãƒ¢\n- å¿…è¦ãªA1è¡¨è¨˜ç¯„å›²ã®ãƒªã‚¹ãƒˆ\n\n### Step 2: Typesï¼ˆå‹å®šç¾©ä½œæˆï¼‰\n\n**ä½•ã‚’ã™ã‚‹ã‹**:\n- TypeScriptã®å‹å®šç¾©ã‚’ä½œæˆ\n- APIãƒ¬ã‚¹ãƒãƒ³ã‚¹å‹ã€ãƒ‡ãƒ¼ã‚¿å‹ã‚’å®šç¾©\n\n**ãªãœã“ã®é †åºã‹**:\n- å‹å®šç¾©ã‚’å…ˆã«ä½œæˆã™ã‚‹ã“ã¨ã§ã€API Routeã¨Dashboard Pageã§åŒã˜å‹ã‚’å…±æœ‰ã§ãã‚‹\n\n**ä½¿ç”¨ã™ã‚‹æŠ€è¡“ãƒ»æ‰‹æ³•**:\n- TypeScript interface/type\n\n**å®Ÿè£…ä¾‹**:\n```typescript\n// types/your-feature.ts\n\n// APIãƒ¬ã‚¹ãƒãƒ³ã‚¹å‹\nexport interface YourFeatureResponse {\n  success: boolean;\n  data?: YourFeatureData;\n  error?: string;\n}\n\n// ãƒ‡ãƒ¼ã‚¿å‹\nexport interface YourFeatureData {\n  items: YourItem[];\n  summary: YourSummary;\n  updatedAt: string;\n}\n\nexport interface YourItem {\n  id: string;\n  name: string;\n  status: 'ok' | 'warning' | 'error';\n  value: number;\n}\n\nexport interface YourSummary {\n  totalCount: number;\n  okCount: number;\n  warningCount: number;\n}\n```\n\n**æˆæœç‰©**:\n- `types/your-feature.ts` ãƒ•ã‚¡ã‚¤ãƒ«\n\n### Step 3: APIï¼ˆAPI Routeä½œæˆï¼‰\n\n**ä½•ã‚’ã™ã‚‹ã‹**:\n- API Routeã‚’ä½œæˆ\n- Google Sheets APIã§ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—\n- ãƒ‡ãƒ¼ã‚¿ã‚’ãƒ‘ãƒ¼ã‚¹ãƒ»å‹ä»˜ã‘ã—ã¦è¿”ã™\n\n**ãªãœã“ã®é †åºã‹**:\n- Dashboard PageãŒãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã™ã‚‹ãŸã‚ã«ã€API RouteãŒå¿…è¦\n\n**ä½¿ç”¨ã™ã‚‹æŠ€è¡“ãƒ»æ‰‹æ³•**:\n- `skill_api_route_template_pattern_2025_11_24.md` å‚ç…§\n- `workflow_api_route_creation_workflow_2025_11_24.md` å‚ç…§\n\n**å®Ÿè£…ä¾‹**:\n```typescript\n// app/api/your-feature/route.ts\nimport { NextResponse } from 'next/server';\nimport { getSheetData } from '@/lib/google-sheets';\nimport type { YourFeatureResponse } from '@/types/your-feature';\n\nexport async function GET() {\n  try {\n    const spreadsheetId = process.env.YOUR_SPREADSHEET_ID!;\n    const data = await getSheetData(spreadsheetId, 'ã‚·ãƒ¼ãƒˆå!A1:Z100');\n\n    const parsed = parseYourFeatureData(data);\n\n    return NextResponse.json<YourFeatureResponse>({\n      success: true,\n      data: parsed,\n    });\n  } catch (error) {\n    return NextResponse.json<YourFeatureResponse>(\n      { success: false, error: error.message },\n      { status: 500 }\n    );\n  }\n}\n\nfunction parseYourFeatureData(data: any[][]) {\n  const items = data.slice(1).map(row => ({\n    id: row[0],\n    name: row[1],\n    status: row[2].includes('é †èª¿') ? 'ok' : 'warning',\n    value: parseInt(row[3] || '0'),\n  }));\n\n  return {\n    items,\n    summary: {\n      totalCount: items.length,\n      okCount: items.filter(i => i.status === 'ok').length,\n      warningCount: items.filter(i => i.status === 'warning').length,\n    },\n    updatedAt: new Date().toISOString(),\n  };\n}\n```\n\n**æˆæœç‰©**:\n- `app/api/your-feature/route.ts` ãƒ•ã‚¡ã‚¤ãƒ«\n\n### Step 4: Dashboardï¼ˆDashboard Pageä½œæˆï¼‰\n\n**ä½•ã‚’ã™ã‚‹ã‹**:\n- Dashboard Pageã‚’ä½œæˆ\n- API Routeã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã—ã¦è¡¨ç¤º\n- ã€Œæ›´æ–°ã€ãƒœã‚¿ãƒ³ã‚’å®Ÿè£…\n\n**ãªãœã“ã®é †åºã‹**:\n- API RouteãŒã§ãã¦ã„ã‚‹ãŸã‚ã€ãƒ‡ãƒ¼ã‚¿å–å¾—ãŒå¯èƒ½\n\n**ä½¿ç”¨ã™ã‚‹æŠ€è¡“ãƒ»æ‰‹æ³•**:\n- `skill_dashboard_page_template_pattern_2025_11_24.md` å‚ç…§\n- `workflow_dashboard_page_creation_workflow_2025_11_24.md` å‚ç…§\n\n**å®Ÿè£…ä¾‹**:\n```typescript\n// app/dashboard/your-feature/page.tsx\n'use client';\nimport { useState, useEffect } from 'react';\nimport { RefreshCw } from 'lucide-react';\nimport type { YourFeatureResponse } from '@/types/your-feature';\n\nexport default function YourFeatureDashboard() {\n  const [data, setData] = useState<YourFeatureResponse | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  const fetchData = async () => {\n    setLoading(true);\n    setError(null);\n    try {\n      const res = await fetch('/api/your-feature');\n      const json: YourFeatureResponse = await res.json();\n      if (json.success) {\n        setData(json);\n      } else {\n        setError(json.error || 'ä¸æ˜ãªã‚¨ãƒ©ãƒ¼');\n      }\n    } catch (err) {\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchData();\n  }, []);\n\n  if (loading) return <div>èª­ã¿è¾¼ã¿ä¸­...</div>;\n  if (error) return <div>ã‚¨ãƒ©ãƒ¼: {error}</div>;\n\n  return (\n    <div>\n      <button onClick={fetchData}>\n        <RefreshCw /> æ›´æ–°\n      </button>\n      {/* ãƒ‡ãƒ¼ã‚¿ã‚’è¡¨ç¤º */}\n    </div>\n  );\n}\n```\n\n**æˆæœç‰©**:\n- `app/dashboard/your-feature/page.tsx` ãƒ•ã‚¡ã‚¤ãƒ«\n\n### Step 5: Navï¼ˆãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³è¿½åŠ ï¼‰\n\n**ä½•ã‚’ã™ã‚‹ã‹**:\n- ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ï¼ˆ`app/page.tsx`ï¼‰ã«æ–°ã—ã„ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã¸ã®ãƒªãƒ³ã‚¯ã‚’è¿½åŠ \n\n**ãªãœã“ã®é †åºã‹**:\n- Dashboard PageãŒå®Œæˆã—ã¦ã„ã‚‹ãŸã‚ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹\n\n**å®Ÿè£…ä¾‹**:\n```typescript\n// app/page.tsx\n\n<Link href=\"/dashboard/your-feature\">\n  <div className=\"dashboard-card\">\n    <YourIcon />\n    <h3>[æ©Ÿèƒ½å]</h3>\n    <p>[èª¬æ˜]</p>\n  </div>\n</Link>\n```\n\n**æˆæœç‰©**:\n- `app/page.tsx` ã®æ›´æ–°\n\n### Step 6: Testï¼ˆå‹•ä½œç¢ºèªï¼‰\n\n**ä½•ã‚’ã™ã‚‹ã‹**:\n- é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã§å‹•ä½œç¢ºèª\n- ãƒ‡ãƒ¼ã‚¿ãŒæ­£ã—ãè¡¨ç¤ºã•ã‚Œã‚‹ã‹ãƒ†ã‚¹ãƒˆ\n- ã€Œæ›´æ–°ã€ãƒœã‚¿ãƒ³ãŒæ­£ã—ãå‹•ä½œã™ã‚‹ã‹ãƒ†ã‚¹ãƒˆ\n- ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ãŒæ­£ã—ãå‹•ä½œã™ã‚‹ã‹ãƒ†ã‚¹ãƒˆ\n\n**ãªãœã“ã®é †åºã‹**:\n- å®Ÿè£…ãŒå®Œäº†ã—ã¦ã„ã‚‹ãŸã‚ã€æœ€çµ‚ç¢ºèª\n\n**ãƒ†ã‚¹ãƒˆé …ç›®**:\n- [ ] ãƒšãƒ¼ã‚¸ãŒæ­£ã—ãè¡¨ç¤ºã•ã‚Œã‚‹\n- [ ] ãƒ‡ãƒ¼ã‚¿ãŒæ­£ã—ãå–å¾—ã•ã‚Œã‚‹\n- [ ] ã€Œæ›´æ–°ã€ãƒœã‚¿ãƒ³ã§ãƒ‡ãƒ¼ã‚¿ãŒå†å–å¾—ã•ã‚Œã‚‹\n- [ ] ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°çŠ¶æ…‹ãŒæ­£ã—ãè¡¨ç¤ºã•ã‚Œã‚‹\n- [ ] ã‚¨ãƒ©ãƒ¼æ™‚ã«ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã‚‹\n- [ ] ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã§ãƒ‡ãƒ¼ã‚¿ã‚’å¤‰æ›´å¾Œã€ã€Œæ›´æ–°ã€ãƒœã‚¿ãƒ³ã§åæ˜ ã•ã‚Œã‚‹\n\n**æˆæœç‰©**:\n- å‹•ä½œç¢ºèªå®Œäº†\n\n## ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°\n\nå„ã‚¹ãƒ†ãƒƒãƒ—ã§ç™ºç”Ÿã—ã†ã‚‹ã‚¨ãƒ©ãƒ¼ã¨å¯¾å‡¦ï¼š\n\n### Step 1ã‚¨ãƒ©ãƒ¼: ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆæ§‹é€ ãŒä¸æ˜\n\n**å¯¾å‡¦æ³•**: `getSpreadsheetMetadata` ã§ã‚·ãƒ¼ãƒˆä¸€è¦§ã‚’å–å¾—ã—ã€`getSheetData` ã§ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—\n\n### Step 3ã‚¨ãƒ©ãƒ¼: API RouteãŒã‚¨ãƒ©ãƒ¼ã‚’è¿”ã™\n\n**å¯¾å‡¦æ³•**: try-catchã§é©åˆ‡ã«ã‚¨ãƒ©ãƒ¼ã‚’ã‚­ãƒ£ãƒƒãƒã—ã€`{ success: false, error: \"...\" }` ã‚’è¿”ã™\n\n### Step 4ã‚¨ãƒ©ãƒ¼: Dashboard Pageã§ãƒ‡ãƒ¼ã‚¿ãŒè¡¨ç¤ºã•ã‚Œãªã„\n\n**å¯¾å‡¦æ³•**: ãƒ–ãƒ©ã‚¦ã‚¶ã®DevToolsã§APIãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’ç¢ºèªã—ã€å‹å®šç¾©ãŒä¸€è‡´ã—ã¦ã„ã‚‹ã‹ç¢ºèª\n\n## å†ç¾æ–¹æ³•\n\næ–°æ©Ÿèƒ½ã€Œãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼ç®¡ç†ã€ã‚’å®Ÿè£…ã™ã‚‹ä¾‹ï¼š\n\n### Step 1: Investigate\n```bash\ncurl \"http://127.0.0.1:3000/api/debug/investigate\"\n# â†’ ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆæ§‹é€ ã‚’ç¢ºèª\n```\n\n### Step 2: Types\n```typescript\n// types/partners.ts\nexport interface PartnersResponse {\n  success: boolean;\n  data?: PartnersData;\n  error?: string;\n}\n\nexport interface PartnersData {\n  partners: Partner[];\n  updatedAt: string;\n}\n\nexport interface Partner {\n  id: string;\n  name: string;\n  category: string;\n  status: 'active' | 'inactive';\n}\n```\n\n### Step 3: API\n```typescript\n// app/api/partners/route.ts\nimport { NextResponse } from 'next/server';\nimport { getSheetData } from '@/lib/google-sheets';\nimport type { PartnersResponse } from '@/types/partners';\n\nexport async function GET() {\n  try {\n    const spreadsheetId = process.env.PARTNERS_SPREADSHEET_ID!;\n    const data = await getSheetData(spreadsheetId, 'ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼!A1:D100');\n\n    const partners = data.slice(1).map(row => ({\n      id: row[0],\n      name: row[1],\n      category: row[2],\n      status: row[3] === 'ã‚¢ã‚¯ãƒ†ã‚£ãƒ–' ? 'active' : 'inactive',\n    }));\n\n    return NextResponse.json<PartnersResponse>({\n      success: true,\n      data: { partners, updatedAt: new Date().toISOString() },\n    });\n  } catch (error) {\n    return NextResponse.json<PartnersResponse>(\n      { success: false, error: error.message },\n      { status: 500 }\n    );\n  }\n}\n```\n\n### Step 4: Dashboard\n```typescript\n// app/dashboard/partners/page.tsx\n'use client';\nimport { useState, useEffect } from 'react';\n\nexport default function PartnersDashboard() {\n  const [data, setData] = useState(null);\n  const [loading, setLoading] = useState(true);\n\n  const fetchData = async () => {\n    setLoading(true);\n    const res = await fetch('/api/partners');\n    const json = await res.json();\n    if (json.success) setData(json);\n    setLoading(false);\n  };\n\n  useEffect(() => {\n    fetchData();\n  }, []);\n\n  if (loading) return <div>èª­ã¿è¾¼ã¿ä¸­...</div>;\n\n  return <div>{/* ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼ãƒ‡ãƒ¼ã‚¿ã‚’è¡¨ç¤º */}</div>;\n}\n```\n\n### Step 5: Nav\n```typescript\n// app/page.tsx\n<Link href=\"/dashboard/partners\">ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼ç®¡ç†</Link>\n```\n\n### Step 6: Test\n```bash\nnpm run dev\n# http://localhost:3000/dashboard/partners ã«ã‚¢ã‚¯ã‚»ã‚¹\n```\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `workflow_api_route_creation_workflow_2025_11_24.md`: API Routeä½œæˆã®è©³ç´°ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼\n- `workflow_dashboard_page_creation_workflow_2025_11_24.md`: Dashboard Pageä½œæˆã®è©³ç´°ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼\n- `skill_api_route_template_pattern_2025_11_24.md`: API Routeå®Ÿè£…ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ\n- `skill_dashboard_page_template_pattern_2025_11_24.md`: Dashboard Pageå®Ÿè£…ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ\n",
    "prompt": "æ–°æ©Ÿèƒ½ã€Œãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼ç®¡ç†ã€ã‚’å®Ÿè£…ã™ã‚‹ä¾‹ï¼š\n\n### Step 1: Investigate\n```bash\ncurl \"http://127.0.0.1:3000/api/debug/investigate\"\n# â†’ ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆæ§‹é€ ã‚’ç¢ºèª\n```\n\n### Step 2: Types\n```typescript\n// types/partners.ts\nexport interface PartnersResponse {\n  success: boolean;\n  data?: PartnersData;\n  error?: string;\n}\n\nexport interface PartnersData {\n  partners: Partner[];\n  updatedAt: string;\n}\n\nexport interface Partner {\n  id: string;\n  name: string;\n  category: string;\n  status: 'active' | 'inactive';\n}\n```\n\n### Step 3: API\n```typescript\n// app/api/partners/route.ts\nimport { NextResponse } from 'next/server';\nimport { getSheetData } from '@/lib/google-sheets';\nimport type { PartnersResponse } from '@/types/partners';\n\nexport async function GET() {\n  try {\n    const spreadsheetId = process.env.PARTNERS_SPREADSHEET_ID!;\n    const data = await getSheetData(spreadsheetId, 'ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼!A1:D100');\n\n    const partners = data.slice(1).map(row => ({\n      id: row[0],\n      name: row[1],\n      category: row[2],\n      status: row[3] === 'ã‚¢ã‚¯ãƒ†ã‚£ãƒ–' ? 'active' : 'inactive',\n    }));\n\n    return NextResponse.json<PartnersResponse>({\n      success: true,\n      data: { partners, updatedAt: new Date().toISOString() },\n    });\n  } catch (error) {\n    return NextResponse.json<PartnersResponse>(\n      { success: false, error: error.message },\n      { status: 500 }\n    );\n  }\n}\n```\n\n### Step 4: Dashboard\n```typescript\n// app/dashboard/partners/page.tsx\n'use client';\nimport { useState, useEffect } from 'react';\n\nexport default function PartnersDashboard() {\n  const [data, setData] = useState(null);\n  const [loading, setLoading] = useState(true);\n\n  const fetchData = async () => {\n    setLoading(true);\n    const res = await fetch('/api/partners');\n    const json = await res.json();\n    if (json.success) setData(json);\n    setLoading(false);\n  };\n\n  useEffect(() => {\n    fetchData();\n  }, []);\n\n  if (loading) return <div>èª­ã¿è¾¼ã¿ä¸­...</div>;\n\n  return <div>{/* ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼ãƒ‡ãƒ¼ã‚¿ã‚’è¡¨ç¤º */}</div>;\n}\n```\n\n### Step 5: Nav\n```typescript\n// app/page.tsx\n<Link href=\"/dashboard/partners\">ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼ç®¡ç†</Link>\n```\n\n### Step 6: Test\n```bash\nnpm run dev\n# http://localhost:3000/dashboard/partners ã«ã‚¢ã‚¯ã‚»ã‚¹\n```",
    "relatedTech": [
      "workflow-api-route-creation-workflow",
      "workflow-dashboard-page-creation-workflow",
      "skill-api-route-template-pattern",
      "skill-dashboard-page-template-pattern"
    ]
  },
  {
    "slug": "foreshadowing-lifecycle-workflow",
    "title": "ä¼ç·šã®ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ç®¡ç†ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼",
    "category": "Workflowsï¼ˆãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ï¼‰",
    "description": "ä¼ç·šã®ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ç®¡ç†ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼",
    "project": "novel-automation-system-v2",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"workflow_foreshadowing_lifecycle_workflow_2025_11_25\",\n  \"type\": \"workflow\",\n  \"name\": \"ä¼ç·šã®ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ç®¡ç†ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼\",\n  \"tags\": [\"ä¼ç·šç®¡ç†\", \"ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«\", \"å“è³ªä¿è¨¼\", \"ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼\"],\n  \"source_project\": \"novel-automation-system-v2\",\n  \"related_knowledge\": [\n    \"skill_unified_foreshadowing_management_2025_11_25\",\n    \"skill_resolution_timing_evaluation_2025_11_25\"\n  ],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# ä¼ç·šã®ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ç®¡ç†ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼\n\n## ä½•ã®ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‹\n\nä¼ç·šã®è¨ˆç”»â†’å°å…¥â†’ãƒ’ãƒ³ãƒˆé…ç½®â†’è§£æ±ºã¨ã„ã†4æ®µéšã®ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ã‚’ç®¡ç†ã—ã€å„æ®µéšã§å“è³ªãƒã‚§ãƒƒã‚¯ã‚’å®Ÿæ–½ã™ã‚‹ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã€‚\n\n## ãƒ•ãƒ­ãƒ¼å…¨ä½“å›³\n\n```\n[è¨ˆç”»æ®µéš]\n   â†“ äº‹å‰ç™»éŒ²\n[å°å…¥æ®µéšï¼ˆAIç”Ÿæˆï¼‰]\n   â†“ æ•´åˆæ€§ãƒã‚§ãƒƒã‚¯\n[ãƒ’ãƒ³ãƒˆé…ç½®æ®µéš]\n   â†“ ã‚¿ã‚¤ãƒŸãƒ³ã‚°è©•ä¾¡\n[è§£æ±ºæ®µéšï¼ˆAIæ¨å¥¨ï¼‰]\n   â†“ å“è³ªæ¤œè¨¼\n[å®Œäº†]\n```\n\n## å„ã‚¹ãƒ†ãƒƒãƒ—ã®è©³ç´°\n\n### ã‚¹ãƒ†ãƒƒãƒ—1: è¨ˆç”»æ®µéš\n\n**ä½•ã‚’ã™ã‚‹ã‹**: ç‰©èªå…¨ä½“ã®ä¼ç·šã‚’äº‹å‰ã«è¨ˆç”»\n\n```typescript\nconst plannedForeshadowings: PlannedForeshadowing[] = [\n    {\n        description: 'ä¸»äººå…¬ã®éå»ã®ãƒˆãƒ©ã‚¦ãƒ',\n        introducedChapter: 5,\n        plannedResolutionChapter: 15,\n        type: 'CHARACTER_DEVELOPMENT',\n        importance: 'HIGH',\n        hints: [\n            { chapter: 7, content: 'éå»ã®å¤¢ã‚’è¦‹ã‚‹' },\n            { chapter: 10, content: 'ä¼¼ãŸçŠ¶æ³ã«ç›´é¢' },\n            { chapter: 13, content: 'æ±ºæ–­ã‚’è¿«ã‚‰ã‚Œã‚‹' }\n        ]\n    }\n];\n\nawait foreshadowingSystem.registerPlannedForeshadowings(plannedForeshadowings);\n```\n\n**ãªãœã“ã®é †åºã‹**:\n- ç‰©èªå…¨ä½“ã®æ§‹é€ ã‚’äº‹å‰ã«è¨­è¨ˆ\n- ä¼ç·šã®å¯†åº¦ã¨é…ç½®ã‚’æœ€é©åŒ–\n- è§£æ±ºå¿˜ã‚Œã‚’é˜²æ­¢\n\n### ã‚¹ãƒ†ãƒƒãƒ—2: å°å…¥æ®µéš\n\n**ä½•ã‚’ã™ã‚‹ã‹**: AIç”Ÿæˆã¾ãŸã¯æ‰‹å‹•ã§ä¼ç·šã‚’å°å…¥\n\n```typescript\nasync function introduceForeshad owing(chapterNumber: number): Promise<void> {\n    // 1. ãƒãƒ£ãƒ—ã‚¿ãƒ¼ç”Ÿæˆæ™‚ã«ä¼ç·šã‚’å°å…¥\n    const result = await foreshadowingSystem.processChapterAndGenerateForeshadowing(\n        chapterContent,\n        chapterNumber,\n        2 // æ–°è¦ä¼ç·š2ã¤\n    );\n\n    // 2. æ•´åˆæ€§ãƒã‚§ãƒƒã‚¯\n    if (!result.consistencyCheck.isConsistent) {\n        await foreshadowingSystem.attemptAutoRepair(result.consistencyCheck.issues);\n    }\n}\n```\n\n**ãªãœã“ã®é †åºã‹**:\n- ç”Ÿæˆã¨åŒæ™‚ã«æ•´åˆæ€§ã‚’ç¢ºèª\n- å•é¡Œã®æ—©æœŸç™ºè¦‹\n- è‡ªå‹•ä¿®å¾©ã§å“è³ªä¿è¨¼\n\n### ã‚¹ãƒ†ãƒƒãƒ—3: ãƒ’ãƒ³ãƒˆé…ç½®æ®µéš\n\n**ä½•ã‚’ã™ã‚‹ã‹**: è¨ˆç”»ã«å¾“ã£ã¦ãƒ’ãƒ³ãƒˆã‚’é…ç½®\n\n```typescript\nasync function placeHints(chapterNumber: number): Promise<void> {\n    // è¨ˆç”»æ¸ˆã¿ä¼ç·šã‚’å–å¾—\n    const planned = await foreshadowingSystem.getPlannedForeshadowings();\n\n    // ã“ã®ç« ã§é…ç½®ã™ã¹ããƒ’ãƒ³ãƒˆã‚’æ¤œç´¢\n    const hintsForThisChapter = planned.flatMap(f =>\n        f.hints.filter(h => h.chapter === chapterNumber)\n    );\n\n    // ãƒ’ãƒ³ãƒˆã‚’ãƒãƒ£ãƒ—ã‚¿ãƒ¼ç”Ÿæˆãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã«çµ±åˆ\n    for (const hint of hintsForThisChapter) {\n        await addHintToChapterPrompt(hint);\n    }\n}\n```\n\n**ãªãœã“ã®é †åºã‹**:\n- è¨ˆç”»é€šã‚Šã®é€²è¡Œã‚’ä¿è¨¼\n- èª­è€…ã®è¨˜æ†¶ã‚’å®šæœŸçš„ã«å–šèµ·\n- è‡ªç„¶ãªç‰©èªã®æµã‚Œã‚’ç¶­æŒ\n\n### ã‚¹ãƒ†ãƒƒãƒ—4: è§£æ±ºæ®µéš\n\n**ä½•ã‚’ã™ã‚‹ã‹**: ã‚¿ã‚¤ãƒŸãƒ³ã‚°è©•ä¾¡ã«åŸºã¥ã„ã¦è§£æ±ºã‚’æ¨å¥¨\n\n```typescript\nasync function resolveForeshado wings(chapterNumber: number): Promise<void> {\n    // 1. è§£æ±ºæ¨å¥¨ã‚’å–å¾—\n    const recommendations = await foreshadowingSystem.getResolutionRecommendations(\n        chapterNumber,\n        { minConfidence: 0.7 }\n    );\n\n    // 2. æ¨å¥¨åº¦ã®é«˜ã„ä¼ç·šã‹ã‚‰å‡¦ç†\n    recommendations.sort((a, b) => b.confidence - a.confidence);\n\n    for (const rec of recommendations) {\n        // 3. è§£æ±ºã‚’ãƒãƒ£ãƒ—ã‚¿ãƒ¼ç”Ÿæˆãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã«çµ±åˆ\n        await addResolutionToChapterPrompt(rec);\n\n        // 4. è§£æ±ºæ¸ˆã¿ã¨ã—ã¦ãƒãƒ¼ã‚¯\n        await foreshadowingSystem.markAsResolved(rec.foreshadowing.id, chapterNumber);\n    }\n}\n```\n\n**ãªãœã“ã®é †åºã‹**:\n- ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰è©•ä¾¡ï¼ˆAI 70% + ãƒ’ãƒ¥ãƒ¼ãƒªã‚¹ãƒ†ã‚£ãƒƒã‚¯ 30%ï¼‰ã§æœ€é©ãªã‚¿ã‚¤ãƒŸãƒ³ã‚°ã‚’åˆ¤æ–­\n- ä¿¡é ¼åº¦ã®é«˜ã„é †ã«è§£æ±º\n- è§£æ±ºå¿˜ã‚Œã®é˜²æ­¢\n\n## ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°\n\n### ã‚¨ãƒ©ãƒ¼1: æ•´åˆæ€§å•é¡Œã®æ¤œå‡º\n\n**å¯¾å‡¦æ³•**:\n```typescript\nif (!result.consistencyCheck.isConsistent) {\n    const repairResult = await foreshadowingSystem.attemptAutoRepair(issues);\n    if (!repairResult.repaired) {\n        // æ‰‹å‹•ä»‹å…¥ãŒå¿…è¦\n        console.error('Manual intervention required');\n    }\n}\n```\n\n### ã‚¨ãƒ©ãƒ¼2: è§£æ±ºæ¼ã‚Œã®æ¤œå‡º\n\n**å¯¾å‡¦æ³•**:\n```typescript\n// 15ç« ä»¥ä¸Šæœªè§£æ±ºã®ä¼ç·šã‚’è­¦å‘Š\nconst longUnresolved = await foreshadowingSystem.getLongUnresolvedForeshadowings(15);\nif (longUnresolved.length > 0) {\n    console.warn(`${longUnresolved.length} foreshadowings unresolved for 15+ chapters`);\n}\n```\n\n### ã‚¨ãƒ©ãƒ¼3: è¨ˆç”»ã¨ã®ä¹–é›¢\n\n**å¯¾å‡¦æ³•**:\n```typescript\n// è¨ˆç”»è§£æ±ºæ™‚æœŸã¨ã®å·®ã‚’ç¢ºèª\nconst deviation = Math.abs(currentChapter - plannedResolution);\nif (deviation > 3) {\n    console.warn(`Deviation from planned resolution: ${deviation} chapters`);\n}\n```\n\n## å†ç¾æ–¹æ³•\n\n```typescript\n// å®Œå…¨ãªãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ç®¡ç†\nasync function manageForeshad owingLifecycle(chapterNumber: number): Promise<void> {\n    // ã‚¹ãƒ†ãƒƒãƒ—1: è¨ˆç”»ã®ç¢ºèª\n    await checkPlannedForeshadowings(chapterNumber);\n\n    // ã‚¹ãƒ†ãƒƒãƒ—2: æ–°è¦ä¼ç·šã®å°å…¥\n    await introduceForeshadowing(chapterNumber);\n\n    // ã‚¹ãƒ†ãƒƒãƒ—3: ãƒ’ãƒ³ãƒˆã®é…ç½®\n    await placeHints(chapterNumber);\n\n    // ã‚¹ãƒ†ãƒƒãƒ—4: è§£æ±ºã®å®Ÿæ–½\n    await resolveForeshadowings(chapterNumber);\n\n    // å“è³ªæ¤œè¨¼\n    await validateForeshadowingQuality(chapterNumber);\n}\n```\n\n## ã„ã¤ä½¿ã†ã‹\n\n- æ–°è¦å°èª¬ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®é–‹å§‹æ™‚\n- å„ç« ç”Ÿæˆå‰ã®æº–å‚™\n- å„ç« ç”Ÿæˆå¾Œã®å“è³ªç¢ºèª\n- ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå®Œäº†æ™‚ã®æœ€çµ‚æ¤œè¨¼\n\n## æ³¨æ„ç‚¹\n\n- è¨ˆç”»ã¯æŸ”è»Ÿã«èª¿æ•´å¯èƒ½ï¼ˆå›ºå®šã§ã¯ãªã„ï¼‰\n- è‡ªå‹•ä¿®å¾©ãŒå¤±æ•—ã—ãŸå ´åˆã¯æ‰‹å‹•ä»‹å…¥\n- ã‚¿ã‚¤ãƒŸãƒ³ã‚°è©•ä¾¡ã®é‡ã¿ä»˜ã‘ã¯èª¿æ•´å¯èƒ½\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `skill_unified_foreshadowing_management_2025_11_25.md`\n- `skill_resolution_timing_evaluation_2025_11_25.md`\n- `decision_why_hybrid_foreshadowing_evaluation_2025_11_25.md`\n",
    "prompt": "```typescript\n// å®Œå…¨ãªãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ç®¡ç†\nasync function manageForeshad owingLifecycle(chapterNumber: number): Promise<void> {\n    // ã‚¹ãƒ†ãƒƒãƒ—1: è¨ˆç”»ã®ç¢ºèª\n    await checkPlannedForeshadowings(chapterNumber);\n\n    // ã‚¹ãƒ†ãƒƒãƒ—2: æ–°è¦ä¼ç·šã®å°å…¥\n    await introduceForeshadowing(chapterNumber);\n\n    // ã‚¹ãƒ†ãƒƒãƒ—3: ãƒ’ãƒ³ãƒˆã®é…ç½®\n    await placeHints(chapterNumber);\n\n    // ã‚¹ãƒ†ãƒƒãƒ—4: è§£æ±ºã®å®Ÿæ–½\n    await resolveForeshadowings(chapterNumber);\n\n    // å“è³ªæ¤œè¨¼\n    await validateForeshadowingQuality(chapterNumber);\n}\n```",
    "relatedTech": [
      "skill-unified-foreshadowing-management",
      "skill-resolution-timing-evaluation"
    ]
  },
  {
    "slug": "integrated-chapter-generation-flow",
    "title": "ãƒãƒ£ãƒ—ã‚¿ãƒ¼ç”Ÿæˆã®å®Œå…¨ãƒ•ãƒ­ãƒ¼ï¼ˆ8å¤§ã‚·ã‚¹ãƒ†ãƒ çµ±åˆç‰ˆï¼‰",
    "category": "Workflowsï¼ˆãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ï¼‰",
    "description": "ãƒãƒ£ãƒ—ã‚¿ãƒ¼ç”Ÿæˆã®å®Œå…¨ãƒ•ãƒ­ãƒ¼ï¼ˆ8å¤§ã‚·ã‚¹ãƒ†ãƒ çµ±åˆç‰ˆï¼‰",
    "project": "novel-automation-system-v2",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"workflow_integrated_chapter_generation_flow_2025_11_25\",\n  \"type\": \"workflow\",\n  \"name\": \"ãƒãƒ£ãƒ—ã‚¿ãƒ¼ç”Ÿæˆã®å®Œå…¨ãƒ•ãƒ­ãƒ¼ï¼ˆ8å¤§ã‚·ã‚¹ãƒ†ãƒ çµ±åˆç‰ˆï¼‰\",\n  \"tags\": [\"ç« ç”Ÿæˆ\", \"çµ±åˆãƒ•ãƒ­ãƒ¼\", \"ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³\", \"å“è³ªç®¡ç†\"],\n  \"source_project\": \"novel-automation-system-v2\",\n  \"related_knowledge\": [\n    \"skill_eight_system_integrated_prompt_generation_2025_11_25\",\n    \"skill_pre_post_generation_pipeline_integration_2025_11_25\",\n    \"decision_why_promise_allsettled_over_all_2025_11_25\"\n  ],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# ãƒãƒ£ãƒ—ã‚¿ãƒ¼ç”Ÿæˆã®å®Œå…¨ãƒ•ãƒ­ãƒ¼ï¼ˆ8å¤§ã‚·ã‚¹ãƒ†ãƒ çµ±åˆç‰ˆï¼‰\n\n## ä½•ã®ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‹\n\nãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãƒãƒ£ãƒ—ã‚¿ãƒ¼ç”Ÿæˆã‚’è¦æ±‚ã—ã¦ã‹ã‚‰ã€é«˜å“è³ªãªç« ãŒå®Œæˆã™ã‚‹ã¾ã§ã®å®Œå…¨ãªå‡¦ç†ãƒ•ãƒ­ãƒ¼ã€‚8å¤§ã‚·ã‚¹ãƒ†ãƒ ã®çµ±åˆã€Pre/Postå‡¦ç†ã€å“è³ªä¿è¨¼ã‚’å«ã‚€ã€‚\n\n## ãƒ•ãƒ­ãƒ¼å…¨ä½“å›³\n\n```\n[1] PRE-ANALYSIS (2-3ç§’)\n   â”œâ”€ å‰ç« ã‚³ãƒ³ãƒ†ãƒ³ãƒ„èª­ã¿è¾¼ã¿\n   â”œâ”€ åŒ…æ‹¬çš„åˆ†æå®Ÿè¡Œ\n   â””â”€ æ”¹å–„ææ¡ˆç”Ÿæˆ\n      â†“\n[2] CONTEXT GENERATION (1-3ç§’)\n   â”œâ”€ 8å¤§ã‚·ã‚¹ãƒ†ãƒ ä¸¦åˆ—ãƒ‡ãƒ¼ã‚¿åé›†\n   â”œâ”€ Promise.allSettledå¾…æ©Ÿ\n   â””â”€ çµ±åˆã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆæ§‹ç¯‰\n      â†“\n[3] PROMPT GENERATION (0.5-1ç§’)\n   â”œâ”€ ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé¸æŠï¼ˆã‚­ãƒ£ãƒƒã‚·ãƒ¥ç¢ºèªï¼‰\n   â”œâ”€ è¶…é«˜å¯†åº¦ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”Ÿæˆ\n   â””â”€ ãƒˆãƒ¼ã‚¯ãƒ³æœ€é©åŒ–\n      â†“\n[4] GENERATION (5-15ç§’)\n   â”œâ”€ Gemini APIå‘¼ã³å‡ºã—ï¼ˆã‚¹ãƒ­ãƒƒãƒˆãƒªãƒ³ã‚°ï¼‰\n   â”œâ”€ ã‚¹ãƒˆãƒªãƒ¼ãƒ å¿œç­”å‡¦ç†\n   â””â”€ çŸ­æœŸè¨˜æ†¶ã¸ä¿å­˜\n      â†“\n[5] POST-ANALYSIS (2-4ç§’)\n   â”œâ”€ å“è³ªè©•ä¾¡ï¼ˆå¤šæ¬¡å…ƒæŒ‡æ¨™ï¼‰\n   â”œâ”€ å•é¡Œæ¤œå‡º\n   â”œâ”€ æ”¹å–„ææ¡ˆç”Ÿæˆ\n   â””â”€ å¿…è¦ã«å¿œã˜ã¦å†ç”Ÿæˆ\n      â†“\n[å®Œæˆ] (åˆè¨ˆ: 10-26ç§’)\n```\n\n## å„ã‚¹ãƒ†ãƒƒãƒ—ã®è©³ç´°\n\n### ã‚¹ãƒ†ãƒƒãƒ—1: Pre-Analysisï¼ˆç”Ÿæˆå‰åˆ†æï¼‰\n\n**ç›®çš„**: å‰ç« ã‚’åˆ†æã—ã€æ¬¡ç« ç”Ÿæˆã®æ”¹å–„ææ¡ˆã‚’å–å¾—\n\n```typescript\nconst enhancements = await preGenPipeline.execute(\n  chapterNumber,\n  previousContent\n);\n// â†’ {\n//   improvementSuggestions: [...],\n//   literaryInspirations: [...],\n//   themeEnhancements: {...},\n//   foreshadowingOpportunities: [...]\n// }\n```\n\n**å‡¦ç†å†…å®¹**:\n1. å‰ç« ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®åŒ…æ‹¬çš„åˆ†æï¼ˆãƒ†ãƒ¼ãƒã€ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã€ãƒ—ãƒ­ãƒƒãƒˆã€ã‚¹ã‚¿ã‚¤ãƒ«ã€ãƒšãƒ¼ã‚¹ï¼‰\n2. æœ€é©åŒ–æ¨å¥¨ã®ç”Ÿæˆ\n3. ãƒ†ãƒ¼ãƒå¼·åŒ–ã®å–å¾—\n4. ä¼ç·šå›åæ©Ÿä¼šã®ç‰¹å®š\n\n**å‡¦ç†æ™‚é–“**: 2-3ç§’\n\n**ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°**: å¤±æ•—æ™‚ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆæ”¹å–„ææ¡ˆã§ç¶™ç¶š\n\n---\n\n### ã‚¹ãƒ†ãƒƒãƒ—2: Context Generationï¼ˆ8å¤§ã‚·ã‚¹ãƒ†ãƒ çµ±åˆï¼‰\n\n**ç›®çš„**: 8ã¤ã®ã‚·ã‚¹ãƒ†ãƒ ã‹ã‚‰ä¸¦åˆ—ã«ãƒ‡ãƒ¼ã‚¿ã‚’åé›†ã—ã€çµ±åˆã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚’æ§‹ç¯‰\n\n```typescript\n// ä¸¦åˆ—ãƒ‡ãƒ¼ã‚¿åé›†\nconst integratedData = await collect8SystemsDataParallel(context);\n\n// çµ±åˆã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆæ§‹ç¯‰\nconst revolutionaryContext = await buildRevolutionaryContext(\n  context,\n  integratedData\n);\n```\n\n**å‡¦ç†å†…å®¹**:\n1. **ä¸¦åˆ—å®Ÿè¡Œ**ï¼ˆPromise.allSettledï¼‰:\n   - ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã‚·ã‚¹ãƒ†ãƒ \n   - å­¦ç¿’æ—…ç¨‹ã‚·ã‚¹ãƒ†ãƒ \n   - è¨˜æ†¶ã‚·ã‚¹ãƒ†ãƒ \n   - ãƒ—ãƒ­ãƒƒãƒˆã‚·ã‚¹ãƒ†ãƒ \n   - åˆ†æã‚·ã‚¹ãƒ†ãƒ \n   - ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚·ã‚¹ãƒ†ãƒ \n   - ä¼ç·šã‚·ã‚¹ãƒ†ãƒ \n   - ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ã‚·ã‚¹ãƒ†ãƒ \n\n2. å„çµæœã®å®‰å…¨ãªæŠ½å‡ºï¼ˆå¤±æ•—æ™‚ã¯ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ï¼‰\n\n3. çµ±åˆã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆæ§‹ç¯‰\n\n**å‡¦ç†æ™‚é–“**: 1-3ç§’ï¼ˆæœ€ã‚‚é…ã„ã‚·ã‚¹ãƒ†ãƒ ã«ä¾å­˜ï¼‰\n\n**ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°**: 1ã¤ã®ã‚·ã‚¹ãƒ†ãƒ å¤±æ•—ã§ã‚‚ä»–7ã¤ã®ãƒ‡ãƒ¼ã‚¿ã§ç¶™ç¶š\n\n---\n\n### ã‚¹ãƒ†ãƒƒãƒ—3: Prompt Generationï¼ˆãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”Ÿæˆï¼‰\n\n**ç›®çš„**: ãƒˆãƒ¼ã‚¯ãƒ³åŠ¹ç‡åŒ–ã•ã‚ŒãŸãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’ç”Ÿæˆ\n\n```typescript\n// ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé¸æŠï¼ˆã‚­ãƒ£ãƒƒã‚·ãƒ¥ç¢ºèªï¼‰\nconst template = await templateManager.selectOptimalTemplate(\n  criteria,\n  integratedData\n);\n\n// ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”Ÿæˆ\nlet prompt = await generateRevolutionaryPrompt(\n  revolutionaryContext,\n  template\n);\n\n// ãƒˆãƒ¼ã‚¯ãƒ³æœ€é©åŒ–\nprompt = await optimizeTokenCount(prompt, 4000);\n```\n\n**å‡¦ç†å†…å®¹**:\n1. ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚­ãƒ£ãƒƒã‚·ãƒ¥ç¢ºèªï¼ˆãƒ’ãƒƒãƒˆç‡: 65-75%ï¼‰\n2. 8ã‚·ã‚¹ãƒ†ãƒ ãƒ‡ãƒ¼ã‚¿ã‚’çµ±åˆã—ãŸãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”Ÿæˆ\n3. ãƒˆãƒ¼ã‚¯ãƒ³æ•°è¨ˆæ¸¬ã¨æœ€é©åŒ–ï¼ˆç›®æ¨™: 750-1050ãƒˆãƒ¼ã‚¯ãƒ³ï¼‰\n\n**å‡¦ç†æ™‚é–“**: 0.5-1ç§’ï¼ˆã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ’ãƒƒãƒˆæ™‚ã¯0.1ç§’ï¼‰\n\n**ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°**: ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆç”Ÿæˆå¤±æ•—æ™‚ã¯ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä½¿ç”¨\n\n---\n\n### ã‚¹ãƒ†ãƒƒãƒ—4: Generationï¼ˆAIç”Ÿæˆï¼‰\n\n**ç›®çš„**: Gemini APIã§ç« ã‚’ç”Ÿæˆ\n\n```typescript\nconst generatedChapter = await apiThrottler.throttle(\n  async () => {\n    return await geminiClient.generateText(prompt);\n  },\n  RequestPriority.HIGH // é«˜å„ªå…ˆåº¦\n);\n```\n\n**å‡¦ç†å†…å®¹**:\n1. APIã‚¹ãƒ­ãƒƒãƒˆãƒªãƒ³ã‚°çµŒç”±ã§ãƒªã‚¯ã‚¨ã‚¹ãƒˆé€ä¿¡\n2. ã‚¹ãƒˆãƒªãƒ¼ãƒ å¿œç­”ã‚’å‡¦ç†\n3. çŸ­æœŸè¨˜æ†¶ã¸ä¿å­˜\n\n**å‡¦ç†æ™‚é–“**: 5-15ç§’ï¼ˆãƒ—ãƒ­ãƒ³ãƒ—ãƒˆé•·ã¨APIè² è·ã«ã‚ˆã‚‹ï¼‰\n\n**ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°**:\n- ãƒ¬ãƒ¼ãƒˆåˆ¶é™ã‚¨ãƒ©ãƒ¼ â†’ æŒ‡æ•°ãƒãƒƒã‚¯ã‚ªãƒ• + å†è©¦è¡Œ\n- ãã®ä»–ã‚¨ãƒ©ãƒ¼ â†’ æœ€å¤§3å›å†è©¦è¡Œ\n\n---\n\n### ã‚¹ãƒ†ãƒƒãƒ—5: Post-Analysisï¼ˆç”Ÿæˆå¾Œåˆ†æï¼‰\n\n**ç›®çš„**: ç”Ÿæˆçµæœã®å“è³ªè©•ä¾¡ã¨æ”¹å–„\n\n```typescript\nconst postResult = await postGenPipeline.executePostGeneration(\n  generatedChapter.content,\n  chapterNumber\n);\n\nif (postResult.needsRegeneration) {\n  // æ”¹å–„ææ¡ˆã‚’é©ç”¨ã—ã¦å†ç”Ÿæˆ\n  generatedChapter = await regenerateChapter(\n    chapterNumber,\n    postResult.improvements\n  );\n}\n```\n\n**å‡¦ç†å†…å®¹**:\n1. å“è³ªè©•ä¾¡ï¼ˆå¤šæ¬¡å…ƒæŒ‡æ¨™ï¼‰\n2. å•é¡Œæ¤œå‡ºï¼ˆãƒ†ãƒ¼ãƒä¸€è²«æ€§ã€ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼æ·±ã•ã€ãƒ—ãƒ­ãƒƒãƒˆé€²è¡Œãªã©ï¼‰\n3. æ”¹å–„ææ¡ˆç”Ÿæˆ\n4. é•·æœŸè¨˜æ†¶ã¸ã®ä¿å­˜\n5. å¿…è¦ã«å¿œã˜ã¦å†ç”Ÿæˆ\n\n**å‡¦ç†æ™‚é–“**: 2-4ç§’\n\n**ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°**: åˆ†æå¤±æ•—æ™‚ã‚‚ç« ã¯è¿”å´ï¼ˆå“è³ªãƒ¡ãƒˆãƒªã‚¯ã‚¹ãªã—ï¼‰\n\n---\n\n## ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°\n\n### å„ã‚¹ãƒ†ãƒƒãƒ—ã§ã®å¤±æ•—å¯¾å¿œ\n\n| ã‚¹ãƒ†ãƒƒãƒ— | å¤±æ•—æ™‚ã®å¯¾å¿œ | å“è³ªã¸ã®å½±éŸ¿ |\n|---------|-------------|-------------|\n| Pre-Analysis | ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆæ”¹å–„ææ¡ˆã§ç¶™ç¶š | -5% |\n| Context (8ã‚·ã‚¹ãƒ†ãƒ ) | åˆ©ç”¨å¯èƒ½ãƒ‡ãƒ¼ã‚¿ã§éƒ¨åˆ†ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆ | -10-15% |\n| Prompt | ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä½¿ç”¨ | -15% |\n| Generation | æœ€å¤§3å›å†è©¦è¡Œ â†’ å¤±æ•— | ã‚¨ãƒ©ãƒ¼ |\n| Post-Analysis | å“è³ªãƒ¡ãƒˆãƒªã‚¯ã‚¹ãªã—ã§è¿”å´ | 0% |\n\n### å†ç”Ÿæˆãƒ­ã‚¸ãƒƒã‚¯\n\n```typescript\nconst MAX_REGENERATIONS = 3;\nlet regenerationCount = 0;\n\nwhile (needsRegeneration && regenerationCount < MAX_REGENERATIONS) {\n  chapter = await regenerate(chapter, improvements);\n  postResult = await postGenPipeline.execute(chapter);\n  regenerationCount++;\n}\n```\n\n## å†ç¾æ–¹æ³•\n\n### ãƒ•ãƒ«å®Ÿè¡Œä¾‹\n\n```typescript\nasync function generateChapter(chapterNumber: number): Promise<Chapter> {\n  console.log(`[1/5] Pre-Analysis...`);\n  const enhancements = await preGenPipeline.execute(\n    chapterNumber,\n    await memoryManager.getChapter(chapterNumber - 1)\n  );\n\n  console.log(`[2/5] Context Generation...`);\n  const integratedData = await collect8SystemsDataParallel({ chapterNumber });\n\n  console.log(`[3/5] Prompt Generation...`);\n  let prompt = await generatePrompt(integratedData, enhancements);\n  prompt = await optimizeTokenCount(prompt, 4000);\n\n  console.log(`[4/5] Generation...`);\n  let chapter = await apiThrottler.throttle(\n    () => geminiClient.generateText(prompt),\n    RequestPriority.HIGH\n  );\n\n  console.log(`[5/5] Post-Analysis...`);\n  const postResult = await postGenPipeline.executePostGeneration(\n    chapter.content,\n    chapterNumber\n  );\n\n  if (postResult.needsRegeneration) {\n    console.log(`[RE-GEN] Regenerating...`);\n    chapter = await regenerate(chapter, postResult.improvements);\n  }\n\n  console.log(`[DONE] Chapter ${chapterNumber} completed!`);\n  return chapter;\n}\n```\n\n## ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æŒ‡æ¨™\n\n### å‡¦ç†æ™‚é–“ï¼ˆæˆåŠŸæ™‚ï¼‰\n- **æœ€é€Ÿ**: 10ç§’ï¼ˆã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ’ãƒƒãƒˆ + é«˜é€ŸAPIï¼‰\n- **å¹³å‡**: 15ç§’\n- **æœ€é…**: 26ç§’ï¼ˆã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒŸã‚¹ + å†ç”Ÿæˆï¼‰\n\n### å“è³ªæŒ‡æ¨™\n- **åˆå›åˆæ ¼ç‡**: 70%\n- **1å›å†ç”Ÿæˆ**: 25%\n- **2å›ä»¥ä¸Šå†ç”Ÿæˆ**: 5%\n- **æœ€çµ‚å“è³ªã‚¹ã‚³ã‚¢**: 0.85-0.95\n\n### ãƒªã‚½ãƒ¼ã‚¹ä½¿ç”¨é‡\n- **ãƒ¡ãƒ¢ãƒª**: 80-400MBï¼ˆ8ã‚·ã‚¹ãƒ†ãƒ åŒæ™‚å®Ÿè¡Œï¼‰\n- **APIãƒˆãƒ¼ã‚¯ãƒ³**: 750-1050ãƒˆãƒ¼ã‚¯ãƒ³ï¼ˆå…¥åŠ›ï¼‰+ 2000-4000ãƒˆãƒ¼ã‚¯ãƒ³ï¼ˆå‡ºåŠ›ï¼‰\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `skill_eight_system_integrated_prompt_generation_2025_11_25.md`\n- `skill_pre_post_generation_pipeline_integration_2025_11_25.md`\n- `skill_api_throttling_priority_queue_2025_11_25.md`\n- `decision_why_promise_allsettled_over_all_2025_11_25.md`\n",
    "prompt": "### ãƒ•ãƒ«å®Ÿè¡Œä¾‹\n\n```typescript\nasync function generateChapter(chapterNumber: number): Promise<Chapter> {\n  console.log(`[1/5] Pre-Analysis...`);\n  const enhancements = await preGenPipeline.execute(\n    chapterNumber,\n    await memoryManager.getChapter(chapterNumber - 1)\n  );\n\n  console.log(`[2/5] Context Generation...`);\n  const integratedData = await collect8SystemsDataParallel({ chapterNumber });\n\n  console.log(`[3/5] Prompt Generation...`);\n  let prompt = await generatePrompt(integratedData, enhancements);\n  prompt = await optimizeTokenCount(prompt, 4000);\n\n  console.log(`[4/5] Generation...`);\n  let chapter = await apiThrottler.throttle(\n    () => geminiClient.generateText(prompt),\n    RequestPriority.HIGH\n  );\n\n  console.log(`[5/5] Post-Analysis...`);\n  const postResult = await postGenPipeline.executePostGeneration(\n    chapter.content,\n    chapterNumber\n  );\n\n  if (postResult.needsRegeneration) {\n    console.log(`[RE-GEN] Regenerating...`);\n    chapter = await regenerate(chapter, postResult.improvements);\n  }\n\n  console.log(`[DONE] Chapter ${chapterNumber} completed!`);\n  return chapter;\n}\n```",
    "relatedTech": [
      "skill-eight-system-integrated-prompt-generation",
      "skill-pre-post-generation-pipeline-integration",
      "decision-why-promise-allsettled-over-all"
    ]
  },
  {
    "slug": "jest-testing-infrastructure",
    "title": "Jest Testing Infrastructureï¼ˆ80% Coverage Targetï¼‰",
    "category": "Workflowsï¼ˆãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ï¼‰",
    "description": "Jest Testing Infrastructureï¼ˆ80% Coverage Targetï¼‰",
    "project": "novel-automation-system-v2",
    "usedIn": [
      "jest.config.js, jest.setup.js, tsconfig.jest.json"
    ],
    "code": "```json\n{\n  \"id\": \"workflow_jest_testing_infrastructure_2025_11_25\",\n  \"type\": \"workflow\",\n  \"name\": \"Jest Testing Infrastructureï¼ˆ80% Coverage Targetï¼‰\",\n  \"tags\": [\"Jest\", \"Testing\", \"Unit Test\", \"Coverage\", \"ts-jest\", \"ãƒ†ã‚¹ãƒˆ\"],\n  \"source_project\": \"novel-automation-system-v2\",\n  \"source_file\": \"jest.config.js, jest.setup.js, tsconfig.jest.json\",\n  \"related_knowledge\": [\n    \"decision_typescript_strict_mode_2025_11_25\"\n  ],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# Jest Testing Infrastructureï¼ˆ80% Coverage Targetï¼‰\n\n## ä½•ã®ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‹\n\nTypeScriptãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§**80%ã‚«ãƒãƒ¬ãƒƒã‚¸ç›®æ¨™ã®Jestãƒ†ã‚¹ãƒˆã‚¤ãƒ³ãƒ•ãƒ©**ã‚’æ§‹ç¯‰ã™ã‚‹ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã€‚\n\n## ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—\n\n### jest.config.js\n\n```javascript\nmodule.exports = {\n  preset: 'ts-jest',\n  testEnvironment: 'jsdom',\n  coverageThreshold: {\n    global: {\n      branches: 80,\n      functions: 80,\n      lines: 80,\n      statements: 80\n    }\n  },\n  moduleNameMapper: {\n    '^@/(.*)$': '<rootDir>/src/$1'\n  },\n  transformIgnorePatterns: [\n    'node_modules/(?!(@octokit|@tanstack)/)'\n  ]\n};\n```\n\n## ãªãœã“ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ä½¿ã†ã‹\n\n### ç†ç”±1: 80%ã‚«ãƒãƒ¬ãƒƒã‚¸ã«ã‚ˆã‚‹å“è³ªä¿è¨¼\n\nå…¨ã‚³ãƒ¼ãƒ‰ã®80%ã‚’ãƒ†ã‚¹ãƒˆã§ä¿è­·ã€‚\n\n### ç†ç”±2: ts-jestã§TypeScriptå®Œå…¨ã‚µãƒãƒ¼ãƒˆ\n\nå‹ãƒã‚§ãƒƒã‚¯ã‚‚å«ã‚ã¦ãƒ†ã‚¹ãƒˆã€‚\n\n### ç†ç”±3: Path Mappingã‚µãƒãƒ¼ãƒˆ\n\n`@/`ã‚¨ã‚¤ãƒªã‚¢ã‚¹ãŒæœ¬ç•ªã¨åŒã˜ã€‚\n\n## å†ç¾æ–¹æ³•\n\n### æ‰‹é †1: ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\n\n```bash\nnpm install --save-dev jest ts-jest @types/jest\n```\n\n### æ‰‹é †2: jest.config.jsä½œæˆ\n\nä¸Šè¨˜è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã€‚\n\n### æ‰‹é †3: ãƒ†ã‚¹ãƒˆä½œæˆ\n\n```typescript\n// __tests__/example.test.ts\ntest('should work', () => {\n  expect(true).toBe(true);\n});\n```\n\n### æ‰‹é †4: å®Ÿè¡Œ\n\n```bash\nnpm test\n```\n\n## ã„ã¤ä½¿ã†ã‹\n\n- TypeScriptãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ\n- é«˜å“è³ªãŒæ±‚ã‚ã‚‰ã‚Œã‚‹\n- ç¶™ç¶šçš„ãƒ†ã‚¹ãƒˆãŒå¿…è¦\n\n## æ³¨æ„ç‚¹\n\n- 80%ã‚«ãƒãƒ¬ãƒƒã‚¸ã¯æ™‚é–“ãŒã‹ã‹ã‚‹\n- ESMãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®å¤‰æ›è¨­å®šãŒå¿…è¦\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `decision_typescript_strict_mode_2025_11_25.md`ï¼šTypeScriptè¨­å®š\n",
    "prompt": "### æ‰‹é †1: ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\n\n```bash\nnpm install --save-dev jest ts-jest @types/jest\n```\n\n### æ‰‹é †2: jest.config.jsä½œæˆ\n\nä¸Šè¨˜è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã€‚\n\n### æ‰‹é †3: ãƒ†ã‚¹ãƒˆä½œæˆ\n\n```typescript\n// __tests__/example.test.ts\ntest('should work', () => {\n  expect(true).toBe(true);\n});\n```\n\n### æ‰‹é †4: å®Ÿè¡Œ\n\n```bash\nnpm test\n```",
    "relatedTech": [
      "decision-typescript-strict-mode"
    ]
  },
  {
    "slug": "knowledge-base-driven-generation-workflow",
    "title": "ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹é§†å‹•ç”Ÿæˆãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼",
    "category": "Workflowsï¼ˆãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ï¼‰",
    "description": "**190å€‹ã®ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹ã‹ã‚‰ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’è‡ªå‹•é¸æŠã—ã€pageStructurePatternã«å¾“ã£ã¦InstagramæŠ•ç¨¿ã‚’ç”Ÿæˆã™ã‚‹ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã€‚**",
    "project": "instagram-post-generator",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"workflow_knowledge_base_driven_generation_workflow_2025_11_25\",\n  \"type\": \"workflow\",\n  \"name\": \"ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹é§†å‹•ç”Ÿæˆãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼\",\n  \"tags\": [\"ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹\", \"pageStructurePattern\", \"detailedContent\", \"templateOverrides\", \"å‹•çš„ãƒšãƒ¼ã‚¸å±•é–‹\"],\n  \"source_project\": \"instagram-post-generator\",\n  \"workflow_steps\": 8,\n  \"related_knowledge\": [\n    \"decision_arch_knowledge_base_system_2025_11_25\",\n    \"skill_knowledge_matching_service_2025_11_25\",\n    \"skill_page_structure_matcher_2025_11_25\"\n  ],\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹é§†å‹•ç”Ÿæˆãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼\n\n## ä½•ã‚’ã™ã‚‹ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‹\n\n**190å€‹ã®ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹ã‹ã‚‰ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’è‡ªå‹•é¸æŠã—ã€pageStructurePatternã«å¾“ã£ã¦InstagramæŠ•ç¨¿ã‚’ç”Ÿæˆã™ã‚‹ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã€‚**\n\n**ãƒ•ãƒ­ãƒ¼æ¦‚è¦**:\n```\nType/Target é¸æŠï¼ˆä¾‹: Type001, T001ï¼‰\n  â†“\nãƒŠãƒ¬ãƒƒã‚¸ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãƒ­ãƒ¼ãƒ‰ï¼ˆK001ï¼‰\n  â†“\npageStructurePattern å–å¾—\n  â†“\nãƒšãƒ¼ã‚¸æ§‹é€ å®šç¾©ãƒ­ãƒ¼ãƒ‰\n  â†“\ndynamicãƒšãƒ¼ã‚¸å±•é–‹\n  â†“\nå„ãƒšãƒ¼ã‚¸ã®detailedContentæŠ½å‡º\n  â†“\ntemplateOverridesé©ç”¨\n  â†“\nãƒšãƒ¼ã‚¸ç”Ÿæˆå®Œäº†\n```\n\n---\n\n## ãªãœã“ã®ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ãŒé‡è¦ã‹\n\n### ç†ç”±1: AIç”Ÿæˆãªã—ã§ã®é«˜å“è³ªã‚³ãƒ³ãƒ†ãƒ³ãƒ„\n\n**å¾“æ¥ãƒ•ãƒ­ãƒ¼**: AIãŒæ¯å›ç”Ÿæˆï¼ˆä¸å®‰å®šã€ã‚³ã‚¹ãƒˆé«˜ï¼‰\n**ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹ãƒ•ãƒ­ãƒ¼**: äº‹å‰ã«æº–å‚™ã•ã‚ŒãŸã‚³ãƒ³ãƒ†ãƒ³ãƒ„ï¼ˆå®‰å®šã€ã‚³ã‚¹ãƒˆã‚¼ãƒ­ï¼‰\n\n**ç¾çŠ¶**: AIå‘¼ã³å‡ºã—ç„¡åŠ¹åŒ–ä¸­ã§ã‚‚ã€ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹ã§å®Œå…¨ç¨¼åƒå¯èƒ½\n\n### ç†ç”±2: æ§‹é€ ã®å®Œå…¨åˆ¶å¾¡\n\n**pageStructurePattern**: ãƒšãƒ¼ã‚¸æ§‹é€ ã‚’å®Œå…¨å®šç¾©\n**detailedContent**: å„ãƒšãƒ¼ã‚¸ã®å®Ÿéš›ã®å†…å®¹\n**templateOverrides**: ãƒšãƒ¼ã‚¸ã”ã¨ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆæŒ‡å®š\n\n**çµæœ**: 100%æ„å›³é€šã‚Šã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”Ÿæˆ\n\n---\n\n## æ‰‹é †\n\n### ã‚¹ãƒ†ãƒƒãƒ—1: Type/Target é¸æŠ\n\n```typescript\n// ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒType + Targetã‚’é¸æŠ\nconst knowledgeBaseParams: KnowledgeBaseParams = {\n  useKnowledgeBase: true,\n  typeId: \"001\",  // æ„Ÿæƒ…å…±æ„Ÿå‹ï¼ˆå¥³æ€§å‘ã‘ï¼‰\n  targetId: \"T001\",  // ã‚¿ãƒ¼ã‚²ãƒƒãƒˆ: è»¢è·æ¤œè¨ä¸­ã®å¥³æ€§ç¤¾ä¼šäºº\n  knowledgeIds: [\"K001\"]  // ä½¿ç”¨ã™ã‚‹ãƒŠãƒ¬ãƒƒã‚¸\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2: ãƒŠãƒ¬ãƒƒã‚¸ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãƒ­ãƒ¼ãƒ‰\n\n```typescript\n// ãƒŠãƒ¬ãƒƒã‚¸ãƒ•ã‚¡ã‚¤ãƒ«èª­ã¿è¾¼ã¿\nconst knowledgePath = `/app/data/knowledgeBase/knowledge/type001/K001.json`\nconst knowledgeData = await loadKnowledgeContent(knowledgePath)\n\nconsole.log('âœ… ãƒŠãƒ¬ãƒƒã‚¸ãƒ­ãƒ¼ãƒ‰å®Œäº†:', knowledgeData.knowledgeId)\nconsole.log('ğŸ“‹ pageStructurePattern:', knowledgeData.pageStructurePattern)\n```\n\n**K001.json ã®æ§‹é€ ä¾‹**:\n```json\n{\n  \"knowledgeId\": \"K001\",\n  \"actualTitle\": \"è»¢è·ã§å¾Œæ‚”ã—ãªã„ãŸã‚ã®3ã¤ã®ç¢ºèªãƒã‚¤ãƒ³ãƒˆ\",\n  \"pageStructurePattern\": \"unified-template-08-section-blocks-2-sections\",\n  \"pageCount\": 4,\n  \"detailedContent\": {\n    \"page1\": {\n      \"section\": \"intro\",\n      \"title\": \"è»¢è·ã€æœ¬å½“ã«å¤§ä¸ˆå¤«ï¼Ÿ\",\n      \"content\": \"è»¢è·ã¯äººç”Ÿã®å¤§ããªæ±ºæ–­...\"\n    },\n    \"page2\": {\n      \"section\": \"mainContent\",\n      \"title\": \"ç¢ºèªãƒã‚¤ãƒ³ãƒˆ1: è‡ªå·±åˆ†æ\",\n      \"sections\": [\n        {\n          \"title\": \"ç¾åœ¨ã®ä¸æº€ã‚’æ˜ç¢ºåŒ–\",\n          \"content\": \"ãªãœè»¢è·ã—ãŸã„ã®ã‹...\",\n          \"items\": [\"çµ¦ä¸\", \"äººé–“é–¢ä¿‚\", \"ä»•äº‹å†…å®¹\"]\n        }\n      ]\n    },\n    \"page3\": {\n      \"section\": \"mainContent\",\n      \"title\": \"ç¢ºèªãƒã‚¤ãƒ³ãƒˆ2: å¸‚å ´èª¿æŸ»\",\n      // ...\n    },\n    \"page4\": {\n      \"section\": \"summary\",\n      \"title\": \"ã¾ã¨ã‚\",\n      \"content\": \"3ã¤ã®ãƒã‚¤ãƒ³ãƒˆã‚’ç¢ºèªã™ã‚Œã°...\"\n    }\n  },\n  \"templateOverrides\": {\n    \"2\": \"section_blocks\",\n    \"3\": \"section_blocks\"\n  }\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3: pageStructurePattern å–å¾—\n\n```typescript\nconst pageStructureId = knowledgeData.pageStructurePattern\nconsole.log('ğŸ“‹ ä½¿ç”¨ã™ã‚‹ãƒšãƒ¼ã‚¸æ§‹æˆ:', pageStructureId)\n// â†’ \"unified-template-08-section-blocks-2-sections\"\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—4: ãƒšãƒ¼ã‚¸æ§‹é€ å®šç¾©ãƒ­ãƒ¼ãƒ‰\n\n```typescript\nconst pageStructure = PageStructureMatcher.loadPageStructure(pageStructureId)\n\nconsole.log('âœ… ãƒšãƒ¼ã‚¸æ§‹é€ èª­ã¿è¾¼ã¿å®Œäº†:', pageStructure.name)\nconsole.log('ğŸ“„ ãƒšãƒ¼ã‚¸å®šç¾©:', pageStructure.pages)\n```\n\n**unified-template-08-section-blocks-2-sections.json**:\n```json\n{\n  \"id\": \"unified-template-08-section-blocks-2-sections\",\n  \"name\": \"2ã‚»ã‚¯ã‚·ãƒ§ãƒ³ãƒ–ãƒ­ãƒƒã‚¯æ§‹é€ \",\n  \"pages\": [\n    {\n      \"pageNumber\": 1,\n      \"templateId\": \"basic_intro\",\n      \"optional\": false\n    },\n    {\n      \"pageNumber\": \"dynamic\",\n      \"templateId\": \"section_blocks\"\n    },\n    {\n      \"pageNumber\": \"last\",\n      \"templateId\": \"achievement_summary\",\n      \"optional\": false\n    }\n  ]\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—5: dynamicãƒšãƒ¼ã‚¸å±•é–‹\n\n```typescript\nconst pages: GeneratedPage[] = []\n\nfor (const pageInfo of pageStructure.pages) {\n  if (pageInfo.pageNumber === \"dynamic\") {\n    // dynamicãƒšãƒ¼ã‚¸: detailedContentã®mainContentã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’å±•é–‹\n    const dynamicPages = Object.keys(knowledgeData.detailedContent)\n      .filter(key => {\n        const pageData = knowledgeData.detailedContent[key]\n        return pageData?.section === \"mainContent\"\n      })\n      .map(key => parseInt(key.replace('page', '')))\n      .sort((a, b) => a - b)\n\n    console.log('ğŸ”„ dynamicãƒšãƒ¼ã‚¸å±•é–‹:', dynamicPages)\n    // â†’ [2, 3]\n\n    // å„dynamicãƒšãƒ¼ã‚¸ã‚’ç”Ÿæˆ\n    for (const actualPageNumber of dynamicPages) {\n      const page = await generatePageFromKnowledge(\n        knowledgeData,\n        actualPageNumber,\n        pageInfo.templateId\n      )\n      pages.push(page)\n    }\n  } else if (pageInfo.pageNumber === \"last\") {\n    // lastãƒšãƒ¼ã‚¸: summaryã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®ãƒšãƒ¼ã‚¸ã‚’å–å¾—\n    const lastPageNumber = findLastPageNumber(knowledgeData)\n    // â†’ 4\n\n    const page = await generatePageFromKnowledge(\n      knowledgeData,\n      lastPageNumber,\n      pageInfo.templateId\n    )\n    pages.push(page)\n  } else {\n    // å›ºå®šãƒšãƒ¼ã‚¸\n    const page = await generatePageFromKnowledge(\n      knowledgeData,\n      pageInfo.pageNumber,\n      pageInfo.templateId\n    )\n    pages.push(page)\n  }\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—6: detailedContent æŠ½å‡º\n\n```typescript\nfunction generatePageFromKnowledge(\n  knowledgeData: KnowledgeContent,\n  pageNumber: number,\n  defaultTemplateId: string\n): GeneratedPage {\n  // Step 1: detailedContentæŠ½å‡º\n  const pageKey = `page${pageNumber}`\n  const detailedContent = knowledgeData.detailedContent[pageKey]\n\n  if (!detailedContent) {\n    throw new Error(`ãƒšãƒ¼ã‚¸${pageNumber}ã®detailedContentãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“`)\n  }\n\n  console.log(`ğŸ“„ ãƒšãƒ¼ã‚¸${pageNumber}ã®detailedContentæŠ½å‡ºå®Œäº†`)\n\n  // Step 2: templateOverridesãƒã‚§ãƒƒã‚¯\n  const templateId = knowledgeData.templateOverrides?.[pageNumber.toString()] || defaultTemplateId\n\n  console.log(`ğŸ¨ ãƒšãƒ¼ã‚¸${pageNumber}ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ: ${templateId}`)\n\n  // Step 3: TemplateDataã«å¤‰æ›\n  const templateData: TemplateData = {\n    title: detailedContent.title,\n    content: detailedContent.content,\n    sections: detailedContent.sections,\n    // ... ä»–ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰\n  }\n\n  return {\n    pageNumber,\n    templateType: templateId as TemplateType,\n    templateData,\n    content: templateData\n  }\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—7: templateOverrides é©ç”¨\n\n```typescript\n// templateOverridesãŒæŒ‡å®šã•ã‚Œã¦ã„ã‚‹å ´åˆ\nif (knowledgeData.templateOverrides) {\n  console.log('ğŸ”§ templateOverridesé©ç”¨')\n\n  for (const [pageNum, templateId] of Object.entries(knowledgeData.templateOverrides)) {\n    const page = pages.find(p => p.pageNumber === parseInt(pageNum))\n    if (page) {\n      page.templateType = templateId as TemplateType\n      console.log(`âœ… ãƒšãƒ¼ã‚¸${pageNum}ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå¤‰æ›´: ${templateId}`)\n    }\n  }\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—8: ãƒšãƒ¼ã‚¸ç”Ÿæˆå®Œäº†\n\n```typescript\nconsole.log('ğŸ‰ å…¨ãƒšãƒ¼ã‚¸ç”Ÿæˆå®Œäº†')\nconsole.log(`ğŸ“Š ç·ãƒšãƒ¼ã‚¸æ•°: ${pages.length}`)\n\n// ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°ãƒ»ã‚­ãƒ£ãƒ—ã‚·ãƒ§ãƒ³ç”Ÿæˆ\nconst hashtags = await generateHashtags(userInput, pages, targetId, typeId)\nconst caption = await generateCaptionWithFormat(userInput, pages, targetId, typeId)\n\nconst generatedContent: GeneratedContent = {\n  pages,\n  totalPages: pages.length,\n  hashtags,\n  caption,\n  summary: userInput,\n  postType: typeId,\n  targetId\n}\n\nreturn generatedContent\n```\n\n---\n\n## ã„ã¤ä½¿ã†ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‹\n\n### ä½¿ç”¨å ´é¢1: AIç„¡åŠ¹åŒ–æ™‚ã®ä»£æ›¿æ‰‹æ®µ\n\n```\nç¾çŠ¶: AIå‘¼ã³å‡ºã—ç„¡åŠ¹åŒ–ä¸­\nâ†’ ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹é§†å‹•ç”Ÿæˆã§å®Œå…¨ç¨¼åƒ\nâ†’ 190å€‹ã®ãƒŠãƒ¬ãƒƒã‚¸ã‹ã‚‰é¸æŠãƒ»ç”Ÿæˆ\n```\n\n### ä½¿ç”¨å ´é¢2: é«˜å“è³ªãƒ»ä¸€è²«æ€§é‡è¦–\n\n```\nè¦ä»¶: æ¯å›åŒã˜å“è³ªãƒ»æ§‹é€ ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„\nâ†’ ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹ä½¿ç”¨\nâ†’ detailedContentã§å®Œå…¨åˆ¶å¾¡\n```\n\n---\n\n## æ³¨æ„ç‚¹\n\n### æ³¨æ„ç‚¹1: ãƒŠãƒ¬ãƒƒã‚¸ãŒå­˜åœ¨ã—ãªã„å ´åˆ\n\n**å•é¡Œ**: Type + Target ã®çµ„ã¿åˆã‚ã›ã«ãƒŠãƒ¬ãƒƒã‚¸ãŒãªã„\n\n**è§£æ±º**: ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯\n\n```typescript\nconst knowledge = await findKnowledge(typeId, targetId)\n\nif (!knowledge) {\n  console.warn('ãƒŠãƒ¬ãƒƒã‚¸ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ - å¾“æ¥ãƒ•ãƒ­ãƒ¼ã«åˆ‡ã‚Šæ›¿ãˆ')\n  return await generateWithoutKnowledgeBase(userInput)\n}\n```\n\n### æ³¨æ„ç‚¹2: pageStructurePattern ã®ä¸ä¸€è‡´\n\n**å•é¡Œ**: pageStructurePatternãƒ•ã‚¡ã‚¤ãƒ«ãŒè¦‹ã¤ã‹ã‚‰ãªã„\n\n**è§£æ±º**: ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ‘ã‚¿ãƒ¼ãƒ³ä½¿ç”¨\n\n```typescript\nlet pageStructure = PageStructureMatcher.loadPageStructure(pageStructureId)\n\nif (!pageStructure) {\n  console.warn('ãƒšãƒ¼ã‚¸æ§‹é€ ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ - ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆä½¿ç”¨')\n  pageStructure = PageStructureMatcher.loadPageStructure('default-structure')\n}\n```\n\n---\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- **decision_arch_knowledge_base_system_2025_11_25**: ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹ã‚·ã‚¹ãƒ†ãƒ è¨­è¨ˆ\n- **skill_knowledge_matching_service_2025_11_25**: ãƒŠãƒ¬ãƒƒã‚¸ãƒãƒƒãƒãƒ³ã‚°\n- **skill_page_structure_matcher_2025_11_25**: ãƒšãƒ¼ã‚¸æ§‹é€ ãƒãƒƒãƒãƒ³ã‚°\n\n---\n\n**ã¾ã¨ã‚**: ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹é§†å‹•ç”Ÿæˆãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã¯ã€190å€‹ã®ãƒŠãƒ¬ãƒƒã‚¸ã‹ã‚‰è‡ªå‹•é¸æŠã—ã€pageStructurePatternã¨detailedContentã§å®Œå…¨åˆ¶å¾¡ã•ã‚ŒãŸã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ç”Ÿæˆã€‚AIç„¡åŠ¹åŒ–æ™‚ã®ä»£æ›¿æ‰‹æ®µã¨ã—ã¦é‡è¦ã€‚\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€ŒãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹é§†å‹•ç”Ÿæˆãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "decision-arch-knowledge-base-system",
      "skill-knowledge-matching-service",
      "skill-page-structure-matcher"
    ]
  },
  {
    "slug": "learning-journey-progression-workflow",
    "title": "å­¦ç¿’æ—…ç¨‹é€²è¡Œãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼",
    "category": "Workflowsï¼ˆãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ï¼‰",
    "description": "å­¦ç¿’æ—…ç¨‹é€²è¡Œãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼",
    "project": "novel-automation-system-v2",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"workflow_learning_journey_progression_workflow_2025_11_25\",\n  \"type\": \"workflow\",\n  \"name\": \"å­¦ç¿’æ—…ç¨‹é€²è¡Œãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼\",\n  \"tags\": [\"å­¦ç¿’æ—…ç¨‹\", \"ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼\", \"ãƒ—ãƒ­ãƒƒãƒˆçµ±åˆ\", \"æ¦‚å¿µå­¦ç¿’\"],\n  \"source_project\": \"novel-automation-system-v2\",\n  \"related_knowledge\": [\"skill_six_stage_learning_journey_design_2025_11_25\", \"skill_plot_learning_synchronization_2025_11_25\", \"skill_emotional_arc_integration_2025_11_25\"],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# å­¦ç¿’æ—…ç¨‹é€²è¡Œãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼\n\n## ä½•ã®ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‹\n\nãƒ“ã‚¸ãƒã‚¹æ¦‚å¿µã®å­¦ç¿’ãƒ—ãƒ­ã‚»ã‚¹ã‚’6æ®µéšï¼ˆèª¤è§£â†’æ¢ç´¢â†’è‘›è—¤â†’æ°—ã¥ãâ†’å¿œç”¨â†’çµ±åˆï¼‰ã§è¨­è¨ˆã—ã€å„ç« ã§é©åˆ‡ãªå­¦ç¿’æ®µéšã‚’é€²ã‚ã€ãƒ—ãƒ­ãƒƒãƒˆãƒ»æ„Ÿæƒ…ã‚¢ãƒ¼ã‚¯ã¨çµ±åˆã—ãªãŒã‚‰ç‰©èªã‚’é€šã˜ã¦æ¦‚å¿µã‚’å­¦ã¶ä¸€é€£ã®å‡¦ç†ãƒ•ãƒ­ãƒ¼ã€‚\n\n## ãƒ•ãƒ­ãƒ¼å…¨ä½“å›³\n\n```\n[ã‚¹ãƒ†ãƒƒãƒ—1] æ¦‚å¿µå®šç¾©ãƒ»å­¦ç¿’æ—…ç¨‹è¨­è¨ˆ\n   â”œâ”€ ãƒ“ã‚¸ãƒã‚¹æ¦‚å¿µã®å®šç¾©\n   â”œâ”€ å„å­¦ç¿’æ®µéšã®è¨˜è¿°\n   â”œâ”€ å¤‰å®¹è§¦åª’ã®è¨­è¨ˆ\n   â””â”€ é•·æœŸè¨˜æ†¶ã¸ä¿å­˜\n   â†“\n[ã‚¹ãƒ†ãƒƒãƒ—2] ç« ã”ã¨ã®å­¦ç¿’æ®µéšè¨­å®š\n   â”œâ”€ ç« Nã®å­¦ç¿’æ®µéšæ±ºå®šï¼ˆä¾‹ï¼šCONFLICTï¼‰\n   â”œâ”€ æ®µéšèª¬æ˜ã®å–å¾—\n   â”œâ”€ å¤‰å®¹è§¦åª’ã®æŠ½å‡º\n   â””â”€ ãƒ—ãƒ­ãƒƒãƒˆæ–¹å‘ææ¡ˆã®ç”Ÿæˆ\n   â†“\n[ã‚¹ãƒ†ãƒƒãƒ—3] ãƒ—ãƒ­ãƒƒãƒˆçµ±åˆ\n   â”œâ”€ ãƒ—ãƒ­ãƒƒãƒˆãƒ‡ãƒ¼ã‚¿ã®å–å¾—ï¼ˆè¨˜æ†¶ã‚·ã‚¹ãƒ†ãƒ ï¼‰\n   â”œâ”€ å­¦ç¿’â†’ãƒ—ãƒ­ãƒƒãƒˆå½±éŸ¿åˆ†æ\n   â”œâ”€ ãƒ—ãƒ­ãƒƒãƒˆâ†’å­¦ç¿’å½±éŸ¿åˆ†æ\n   â”œâ”€ çµ±åˆã‚¹ã‚³ã‚¢è¨ˆç®—\n   â””â”€ æœ€é©åŒ–æ¨å¥¨äº‹é …ç”Ÿæˆ\n   â†“\n[ã‚¹ãƒ†ãƒƒãƒ—4] æ„Ÿæƒ…ã‚¢ãƒ¼ã‚¯è¨­è¨ˆ\n   â”œâ”€ å­¦ç¿’æ®µéšåˆ¥æ„Ÿæƒ…ã‚¢ãƒ¼ã‚¯å–å¾—\n   â”œâ”€ ã‚«ã‚¿ãƒ«ã‚·ã‚¹ä½“é¨“è¨­è¨ˆï¼ˆINSIGHT/INTEGRATIONæ®µéšï¼‰\n   â”œâ”€ ãƒ—ãƒ­ãƒƒãƒˆãƒ»ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼çµ±åˆ\n   â””â”€ æ„Ÿæƒ…ãƒ»å­¦ç¿’åŒæœŸåº¦åˆ†æ\n   â†“\n[ã‚¹ãƒ†ãƒƒãƒ—5] ç« ç”Ÿæˆã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆä½œæˆ\n   â”œâ”€ å­¦ç¿’æ®µéšæƒ…å ±\n   â”œâ”€ ãƒ—ãƒ­ãƒƒãƒˆçµ±åˆæƒ…å ±\n   â”œâ”€ æ„Ÿæƒ…ã‚¢ãƒ¼ã‚¯æƒ…å ±\n   â”œâ”€ å¤‰å®¹è§¦åª’ãƒªã‚¹ãƒˆ\n   â””â”€ ç‰©èªã‚¬ã‚¤ãƒ€ãƒ³ã‚¹\n   â†“\n[ã‚¹ãƒ†ãƒƒãƒ—6] ç« ç”Ÿæˆ\n   â”œâ”€ çµ±åˆã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã§ç”Ÿæˆ\n   â”œâ”€ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã«å­¦ç¿’ãƒ»æ„Ÿæƒ…æƒ…å ±å«ã‚€\n   â””â”€ ç« ç”Ÿæˆå®Ÿè¡Œ\n   â†“\n[ã‚¹ãƒ†ãƒƒãƒ—7] å­¦ç¿’é€²æ—è¨˜éŒ²\n   â”œâ”€ å­¦ç¿’æ®µéšé”æˆåº¦è©•ä¾¡\n   â”œâ”€ å­¦ç¿’è¨˜éŒ²ä¿å­˜ï¼ˆä¸­æœŸè¨˜æ†¶ï¼‰\n   â”œâ”€ é€²æ—ç‡è¨ˆç®—\n   â””â”€ æ¬¡ç« ã®æ®µéšåˆ¤å®š\n   â†“\n[ã‚¹ãƒ†ãƒƒãƒ—8] åŒæœŸåº¦åˆ†æ\n   â”œâ”€ æ„Ÿæƒ…ã¨å­¦ç¿’ã®åŒæœŸåº¦è©•ä¾¡\n   â”œâ”€ ãƒ—ãƒ­ãƒƒãƒˆã¨å­¦ç¿’ã®æ•´åˆæ€§ç¢ºèª\n   â”œâ”€ çµ±åˆè¨˜æ†¶ã‚·ã‚¹ãƒ†ãƒ ã¸ä¿å­˜\n   â””â”€ æ”¹å–„ææ¡ˆç”Ÿæˆ\n   â†“\næ¬¡ç« ï¼ˆç« N+1ï¼‰ã¸\n```\n\n## å„ã‚¹ãƒ†ãƒƒãƒ—ã®è©³ç´°\n\n### ã‚¹ãƒ†ãƒƒãƒ—1ï¼šæ¦‚å¿µå®šç¾©ãƒ»å­¦ç¿’æ—…ç¨‹è¨­è¨ˆ\n\n**ä½•ã‚’ã™ã‚‹ã‹**ï¼š\nå­¦ç¿’ã•ã›ãŸã„ãƒ“ã‚¸ãƒã‚¹æ¦‚å¿µï¼ˆä¾‹ï¼šISSUE DRIVENï¼‰ã‚’å®šç¾©ã—ã€å„å­¦ç¿’æ®µéšã§ã®èª¬æ˜ã¨å¤‰å®¹è§¦åª’ã‚’è¨­è¨ˆã€‚\n\n**ãªãœã“ã®é †åºã‹**ï¼š\nã™ã¹ã¦ã®å­¦ç¿’æ—…ç¨‹ã®åŸºç›¤ã¨ãªã‚‹æ¦‚å¿µå®šç¾©ã‚’æœ€åˆã«è¡Œã†ã€‚\n\n**ä½¿ç”¨ã™ã‚‹æŠ€è¡“ãƒ»æ‰‹æ³•**ï¼š\n- `ConceptLearningManager.defineConcept()`\n- èªçŸ¥ç§‘å­¦ã«åŸºã¥ãå­¦ç¿’æ®µéšè¨­è¨ˆ\n- å¤‰å®¹è§¦åª’ã®è¨­è¨ˆ\n\n```typescript\nawait learningManager.defineConcept({\n  name: \"ISSUE DRIVEN\",\n  description: \"èª²é¡Œè§£æ±ºã‚’èµ·ç‚¹ã¨ã—ãŸãƒ“ã‚¸ãƒã‚¹ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ\",\n  keyPrinciples: [\n    \"é¡§å®¢è¦–ç‚¹ã§ã®èª²é¡Œå®šç¾©\",\n    \"æœ¬è³ªçš„å•ã„ã‚’é€šã˜ãŸæ·±ã„ç†è§£\",\n    // ...\n  ],\n  learningJourney: {\n    [LearningStage.MISCONCEPTION]: \"è£½å“ã‚„æŠ€è¡“èµ·ç‚¹ã®æ€è€ƒ...\",\n    [LearningStage.EXPLORATION]: \"é¡§å®¢è¦–ç‚¹ã®é‡è¦æ€§ã«æ°—ã¥ãå§‹ã‚...\",\n    [LearningStage.CONFLICT]: \"é¡§å®¢ã®è¨€è‘‰ã¨çœŸã®èª²é¡Œã®é•ã„ã«è‘›è—¤...\",\n    [LearningStage.INSIGHT]: \"æœ¬è³ªçš„èª²é¡Œã‚’è¦‹æ¥µã‚ã‚‹ã“ã¨ã®é‡è¦æ€§ã«æ°—ã¥ã...\",\n    // ...\n  },\n  transformationalElements: {\n    \"MISCONCEPTION\": {\n      \"EXPLORATION\": [\n        \"é¡§å®¢ã®å£°ã‚’ç›´æ¥èãçµŒé¨“\",\n        \"è‡ªç¤¾è£½å“ãŒé¡§å®¢ãƒ‹ãƒ¼ã‚ºã«åˆã‚ãªã„å ´é¢ã®ç™ºè¦‹\"\n      ]\n    },\n    // ...\n  }\n});\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2ï¼šç« ã”ã¨ã®å­¦ç¿’æ®µéšè¨­å®š\n\n**ä½•ã‚’ã™ã‚‹ã‹**ï¼š\nå„ç« ãŒã©ã®å­¦ç¿’æ®µéšã«å¯¾å¿œã™ã‚‹ã‹æ±ºå®šã—ã€ãã®æ®µéšã®èª¬æ˜ã¨å¤‰å®¹è§¦åª’ã‚’å–å¾—ã€‚\n\n**ãªãœã“ã®é †åºã‹**ï¼š\næ¦‚å¿µå®šç¾©å¾Œã€å…·ä½“çš„ãªç« ã¸ã®é©ç”¨ã‚’é–‹å§‹ã€‚\n\n**ä½¿ç”¨ã™ã‚‹æŠ€è¡“ãƒ»æ‰‹æ³•**ï¼š\n- `LearningJourneyManager.designChapterLearningJourney()`\n- å­¦ç¿’æ®µéšã®é€²è¡Œç®¡ç†\n\n```typescript\nconst chapterDesign = await learningManager.designChapterLearningJourney(\n  3,  // ç« ç•ªå·\n  \"ISSUE DRIVEN\",\n  LearningStage.CONFLICT\n);\n\n// å–å¾—çµæœï¼š\n// - stageDescription: \"é¡§å®¢ã®è¨€è‘‰ã¨çœŸã®èª²é¡Œã®é•ã„ã«è‘›è—¤...\"\n// - transformationalCatalysts: [\"ä¾¡å€¤è¦³ã®è¡çª\", \"é‡è¦ãªé¸æŠ\"]\n// - narrativeGuidance: \"ä¾¡å€¤è¦³ã®å¯¾ç«‹ã‚’è»¸ã¨ã—ãŸå±•é–‹...\"\n// - expectedOutcomes: [\"è‘›è—¤ã®æ·±åŒ–\", \"é¸æŠã‚’è¿«ã‚‰ã‚Œã‚‹çŠ¶æ³\"]\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3ï¼šãƒ—ãƒ­ãƒƒãƒˆçµ±åˆ\n\n**ä½•ã‚’ã™ã‚‹ã‹**ï¼š\nå­¦ç¿’æ®µéšã¨ãƒ—ãƒ­ãƒƒãƒˆå±•é–‹ã‚’åŒæ–¹å‘ã§çµ±åˆã—ã€ä¸¡è€…ãŒç›¸äº’ã«å¼·åŒ–ã—åˆã†ã‚ˆã†èª¿æ•´ã€‚\n\n**ãªãœã“ã®é †åºã‹**ï¼š\nå­¦ç¿’æ®µéšãŒæ±ºã¾ã£ãŸå¾Œã€ãã‚Œã«åˆã£ãŸãƒ—ãƒ­ãƒƒãƒˆæ–¹å‘ã‚’ææ¡ˆã€‚\n\n**ä½¿ç”¨ã™ã‚‹æŠ€è¡“ãƒ»æ‰‹æ³•**ï¼š\n- `integratePlotWithLearning()` (`skill_plot_learning_synchronization_2025_11_25.md` å‚ç…§)\n- çµ±åˆæ¤œç´¢ï¼ˆè¨˜æ†¶ã‚·ã‚¹ãƒ†ãƒ ï¼‰\n\n```typescript\nconst plotIntegration = await learningManager.integratePlotWithLearning(\n  currentSection,\n  \"ISSUE DRIVEN\",\n  LearningStage.CONFLICT,\n  3\n);\n\n// å–å¾—çµæœï¼š\n// learningToPlotInfluence:\n//   - suggestedPlotDirection: [\"ä¾¡å€¤è¦³ã®å¯¾ç«‹ã‚’è»¸ã¨ã—ãŸå±•é–‹\"]\n//   - plotConstraints: [\"è‘›è—¤ã‚’æ·±ã‚ã‚‹å±•é–‹ã‚’å„ªå…ˆ\"]\n// plotToLearningInfluence:\n//   - learningCatalysts: [\"ä¾¡å€¤è¦³ã®è¡çª\", \"é‡è¦ãªé¸æŠ\"]\n//   - stageAdvancementTriggers: [\"ä¾¡å€¤è¦³ã®å¯¾ç«‹çµŒé¨“\"]\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—4ï¼šæ„Ÿæƒ…ã‚¢ãƒ¼ã‚¯è¨­è¨ˆ\n\n**ä½•ã‚’ã™ã‚‹ã‹**ï¼š\nå­¦ç¿’æ®µéšã«å¿œã˜ãŸæ„Ÿæƒ…ã‚¢ãƒ¼ã‚¯ã‚’è¨­è¨ˆã—ã€æ„Ÿæƒ…ãƒ”ãƒ¼ã‚¯ã¨å­¦ç¿’ãƒ”ãƒ¼ã‚¯ã‚’åŒæœŸã€‚\n\n**ãªãœã“ã®é †åºã‹**ï¼š\nãƒ—ãƒ­ãƒƒãƒˆçµ±åˆå¾Œã€æ„Ÿæƒ…ã®æµã‚Œã‚’è¿½åŠ ã—ã¦èª­è€…ä½“é¨“ã‚’æœ€é©åŒ–ã€‚\n\n**ä½¿ç”¨ã™ã‚‹æŠ€è¡“ãƒ»æ‰‹æ³•**ï¼š\n- `EmotionalLearningIntegrator.designEmotionalArc()` (`skill_emotional_arc_integration_2025_11_25.md` å‚ç…§)\n- ã‚«ã‚¿ãƒ«ã‚·ã‚¹ä½“é¨“è¨­è¨ˆï¼ˆINSIGHTæ®µéšï¼‰\n\n```typescript\nconst emotionalArc = await emotionalIntegrator.designEmotionalArc(\n  \"ISSUE DRIVEN\",\n  LearningStage.CONFLICT,\n  3\n);\n\n// CONFLICTæ®µéšã®æ„Ÿæƒ…ã‚¢ãƒ¼ã‚¯ï¼š\n// - recommendedTone: \"å†…çš„ãƒ»å¤–çš„è‘›è—¤ã®é«˜ã¾ã‚Š\"\n// - emotionalJourney:\n//   - opening: [{ dimension: \"è¿·ã„\", level: 6 }]\n//   - development: [{ dimension: \"è‘›è—¤\", level: 8 }]\n//   - climax: [{ dimension: \"è‹¦æ‚©\", level: 9 }]\n\n// INSIGHTæ®µéšã§ã‚«ã‚¿ãƒ«ã‚·ã‚¹è¨­è¨ˆï¼š\nif (stage === LearningStage.INSIGHT) {\n  const catharsis = await emotionalIntegrator.designCatharticExperience(\n    \"ISSUE DRIVEN\",\n    LearningStage.INSIGHT,\n    5\n  );\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—5ï¼šç« ç”Ÿæˆã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆä½œæˆ\n\n**ä½•ã‚’ã™ã‚‹ã‹**ï¼š\nå­¦ç¿’ãƒ»ãƒ—ãƒ­ãƒƒãƒˆãƒ»æ„Ÿæƒ…ã®æƒ…å ±ã‚’çµ±åˆã—ã€ç« ç”Ÿæˆç”¨ã®ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚’ä½œæˆã€‚\n\n**ãªãœã“ã®é †åºã‹**ï¼š\nã™ã¹ã¦ã®è¨­è¨ˆæƒ…å ±ã‚’åé›†ã—ãŸå¾Œã€ç”Ÿæˆã‚¨ãƒ³ã‚¸ãƒ³ã«æ¸¡ã™å½¢å¼ã«æ•´å½¢ã€‚\n\n**ä½¿ç”¨ã™ã‚‹æŠ€è¡“ãƒ»æ‰‹æ³•**ï¼š\n- ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆçµ±åˆ\n\n```typescript\nconst generationContext = {\n  chapterNumber: 3,\n  learningJourney: {\n    conceptName: \"ISSUE DRIVEN\",\n    stage: LearningStage.CONFLICT,\n    stageDescription: chapterDesign.stageDescription,\n    transformationalCatalysts: chapterDesign.transformationalCatalysts,\n    narrativeGuidance: chapterDesign.narrativeGuidance\n  },\n  plotIntegration: {\n    suggestedDirection: plotIntegration.learningToPlotInfluence.suggestedPlotDirection,\n    constraints: plotIntegration.learningToPlotInfluence.plotConstraints,\n    learningCatalysts: plotIntegration.plotToLearningInfluence.learningCatalysts\n  },\n  emotionalArc: {\n    recommendedTone: emotionalArc.recommendedTone,\n    emotionalJourney: emotionalArc.emotionalJourney\n  },\n  // ... ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ãƒ»è¨­å®šç­‰\n};\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—6ï¼šç« ç”Ÿæˆ\n\n**ä½•ã‚’ã™ã‚‹ã‹**ï¼š\nçµ±åˆã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚’ä½¿ç”¨ã—ã¦ç« ã‚’ç”Ÿæˆã€‚ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã«å­¦ç¿’ãƒ»æ„Ÿæƒ…æƒ…å ±ã‚’å«ã‚ã‚‹ã€‚\n\n**ãªãœã“ã®é †åºã‹**ï¼š\nã™ã¹ã¦ã®è¨­è¨ˆæƒ…å ±ãŒæƒã£ãŸå¾Œã€å®Ÿéš›ã®ç« ã‚’ç”Ÿæˆã€‚\n\n**ä½¿ç”¨ã™ã‚‹æŠ€è¡“ãƒ»æ‰‹æ³•**ï¼š\n- ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”Ÿæˆã‚¨ãƒ³ã‚¸ãƒ³\n- Gemini API\n\n```typescript\nconst prompt = this.buildChapterPrompt({\n  ...generationContext,\n  previousChapters: await this.getPreviousChapters(2),\n  characters: context.characters,\n  setting: context.setting\n});\n\nconst chapterContent = await this.geminiClient.generateText(prompt, {\n  temperature: 0.7,\n  maxOutputTokens: 8000\n});\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—7ï¼šå­¦ç¿’é€²æ—è¨˜éŒ²\n\n**ä½•ã‚’ã™ã‚‹ã‹**ï¼š\nç”Ÿæˆã•ã‚ŒãŸç« ãŒå­¦ç¿’æ®µéšã‚’é”æˆã—ãŸã‹è©•ä¾¡ã—ã€é€²æ—ã‚’è¨˜éŒ²ã€‚\n\n**ãªãœã“ã®é †åºã‹**ï¼š\nç« ç”Ÿæˆå¾Œã€æ„å›³ã—ãŸå­¦ç¿’åŠ¹æœãŒå¾—ã‚‰ã‚ŒãŸã‹ç¢ºèªã€‚\n\n**ä½¿ç”¨ã™ã‚‹æŠ€è¡“ãƒ»æ‰‹æ³•**ï¼š\n- å­¦ç¿’è¨˜éŒ²ä¿å­˜ï¼ˆä¸­æœŸè¨˜æ†¶ï¼‰\n- é€²æ—ç‡è¨ˆç®—\n\n```typescript\nawait learningManager.recordLearning({\n  conceptName: \"ISSUE DRIVEN\",\n  chapterNumber: 3,\n  stage: LearningStage.CONFLICT,\n  evidence: \"ä¸»äººå…¬ãŒé¡§å®¢ã®è¦æœ›ã¨çœŸã®èª²é¡Œã®é•ã„ã«æ°—ã¥ãã‚·ãƒ¼ãƒ³\",\n  effectiveness: 0.85  // é”æˆåº¦è©•ä¾¡\n});\n\n// é€²æ—ç‡è¨ˆç®—\nconst progressRate = this.calculateStageProgressRate(\n  LearningStage.CONFLICT,\n  3\n);\n// â†’ CONFLICTæ®µéšã®æ¨™æº–5ç« ã®ã†ã¡3ç« ç›® = 60%é€²è¡Œ\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—8ï¼šåŒæœŸåº¦åˆ†æ\n\n**ä½•ã‚’ã™ã‚‹ã‹**ï¼š\nç”Ÿæˆã•ã‚ŒãŸç« ã§æ„Ÿæƒ…ã¨å­¦ç¿’ãŒã©ã‚Œã ã‘åŒæœŸã—ã¦ã„ã‚‹ã‹åˆ†æã€‚\n\n**ãªãœã“ã®é †åºã‹**ï¼š\nç« ç”Ÿæˆå¾Œã€è¨­è¨ˆé€šã‚Šã®åŒæœŸãŒé”æˆã•ã‚ŒãŸã‹è©•ä¾¡ã€‚\n\n**ä½¿ç”¨ã™ã‚‹æŠ€è¡“ãƒ»æ‰‹æ³•**ï¼š\n- `EmotionalLearningIntegrator.analyzeSynchronization()`\n- AIåˆ†æï¼ˆGemini APIï¼‰\n\n```typescript\nconst syncMetrics = await emotionalIntegrator.analyzeSynchronization(\n  chapterContent,\n  \"ISSUE DRIVEN\",\n  LearningStage.CONFLICT\n);\n\n// è©•ä¾¡çµæœï¼š\n// - peakSynchronization: 0.82  // æ„Ÿæƒ…ãƒ”ãƒ¼ã‚¯ã¨å­¦ç¿’ãƒ”ãƒ¼ã‚¯ã®åŒæœŸåº¦\n// - emotionalResonance: 0.78   // æ„Ÿæƒ…ã®æ·±ã•ã¨å­¦ç¿’æ·±åº¦ã®å…±é³´\n// - catharticMomentEffect: 0.65\n// - overallSyncScore: 0.75\n\nif (syncMetrics.overallSyncScore < 0.7) {\n  // æ”¹å–„ææ¡ˆç”Ÿæˆ\n  suggestions.push('æ„Ÿæƒ…ãƒ”ãƒ¼ã‚¯ã¨å­¦ç¿’ãƒ”ãƒ¼ã‚¯ã®ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã‚’èª¿æ•´ã—ã¦ãã ã•ã„');\n}\n```\n\n## ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°\n\nå„ã‚¹ãƒ†ãƒƒãƒ—ã§ç™ºç”Ÿã—ã†ã‚‹ã‚¨ãƒ©ãƒ¼ã¨å¯¾å‡¦ï¼š\n\n- **æ¦‚å¿µå®šç¾©ã‚¨ãƒ©ãƒ¼**ï¼ˆã‚¹ãƒ†ãƒƒãƒ—1ï¼‰â†’ æ—¢å­˜æ¦‚å¿µãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‹ã‚‰ç”Ÿæˆ\n- **ãƒ—ãƒ­ãƒƒãƒˆçµ±åˆå¤±æ•—**ï¼ˆã‚¹ãƒ†ãƒƒãƒ—3ï¼‰â†’ æ¨™æº–çš„ãªãƒ—ãƒ­ãƒƒãƒˆæ–¹å‘ã‚’ä½¿ç”¨\n- **æ„Ÿæƒ…ã‚¢ãƒ¼ã‚¯è¨­è¨ˆå¤±æ•—**ï¼ˆã‚¹ãƒ†ãƒƒãƒ—4ï¼‰â†’ ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆæ„Ÿæƒ…ã‚¢ãƒ¼ã‚¯ã‚’é©ç”¨\n- **ç« ç”Ÿæˆå¤±æ•—**ï¼ˆã‚¹ãƒ†ãƒƒãƒ—6ï¼‰â†’ ãƒªãƒˆãƒ©ã‚¤ï¼ˆæœ€å¤§3å›ï¼‰\n- **å­¦ç¿’é€²æ—è¨˜éŒ²å¤±æ•—**ï¼ˆã‚¹ãƒ†ãƒƒãƒ—7ï¼‰â†’ ãƒ­ãƒ¼ã‚«ãƒ«å¤‰æ•°ã§ç¶™ç¶š\n- **åŒæœŸåº¦åˆ†æå¤±æ•—**ï¼ˆã‚¹ãƒ†ãƒƒãƒ—8ï¼‰â†’ ã‚¹ã‚­ãƒƒãƒ—ï¼ˆå¿…é ˆã§ã¯ãªã„ï¼‰\n\n## å†ç¾æ–¹æ³•\n\n```typescript\nimport { LearningJourneyManager } from '@/lib/learning-journey';\n\nconst journeyManager = new LearningJourneyManager(memoryManager, geminiClient);\n\n// ã‚¹ãƒ†ãƒƒãƒ—1: æ¦‚å¿µå®šç¾©ï¼ˆåˆå›ã®ã¿ï¼‰\nawait journeyManager.defineConcept({\n  name: \"ISSUE DRIVEN\",\n  // ... æ¦‚å¿µå®šç¾©\n});\n\n// ã‚¹ãƒ†ãƒƒãƒ—2-8: ç« ã”ã¨ã«å®Ÿè¡Œ\nfor (let chapter = 1; chapter <= 20; chapter++) {\n  const learningStage = determineStageForChapter(chapter);\n\n  const chapterDesign = await journeyManager.designChapterLearningJourney(\n    chapter,\n    \"ISSUE DRIVEN\",\n    learningStage\n  );\n\n  const plotIntegration = await journeyManager.integratePlotWithLearning(\n    currentSection,\n    \"ISSUE DRIVEN\",\n    learningStage,\n    chapter\n  );\n\n  const emotionalArc = await emotionalIntegrator.designEmotionalArc(\n    \"ISSUE DRIVEN\",\n    learningStage,\n    chapter\n  );\n\n  // ç« ç”Ÿæˆ\n  const chapterContent = await generateChapter({\n    chapterDesign,\n    plotIntegration,\n    emotionalArc\n  });\n\n  // å­¦ç¿’è¨˜éŒ²\n  await journeyManager.recordLearning({\n    conceptName: \"ISSUE DRIVEN\",\n    chapterNumber: chapter,\n    stage: learningStage,\n    evidence: extractEvidence(chapterContent),\n    effectiveness: evaluateEffectiveness(chapterContent)\n  });\n\n  // åŒæœŸåº¦åˆ†æ\n  const syncMetrics = await emotionalIntegrator.analyzeSynchronization(\n    chapterContent,\n    \"ISSUE DRIVEN\",\n    learningStage\n  );\n}\n```\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `skill_six_stage_learning_journey_design_2025_11_25.md`ï¼š6æ®µéšå­¦ç¿’ãƒ¢ãƒ‡ãƒ«\n- `skill_plot_learning_synchronization_2025_11_25.md`ï¼šãƒ—ãƒ­ãƒƒãƒˆçµ±åˆ\n- `skill_emotional_arc_integration_2025_11_25.md`ï¼šæ„Ÿæƒ…ã‚¢ãƒ¼ã‚¯çµ±åˆ\n",
    "prompt": "```typescript\nimport { LearningJourneyManager } from '@/lib/learning-journey';\n\nconst journeyManager = new LearningJourneyManager(memoryManager, geminiClient);\n\n// ã‚¹ãƒ†ãƒƒãƒ—1: æ¦‚å¿µå®šç¾©ï¼ˆåˆå›ã®ã¿ï¼‰\nawait journeyManager.defineConcept({\n  name: \"ISSUE DRIVEN\",\n  // ... æ¦‚å¿µå®šç¾©\n});\n\n// ã‚¹ãƒ†ãƒƒãƒ—2-8: ç« ã”ã¨ã«å®Ÿè¡Œ\nfor (let chapter = 1; chapter <= 20; chapter++) {\n  const learningStage = determineStageForChapter(chapter);\n\n  const chapterDesign = await journeyManager.designChapterLearningJourney(\n    chapter,\n    \"ISSUE DRIVEN\",\n    learningStage\n  );\n\n  const plotIntegration = await journeyManager.integratePlotWithLearning(\n    currentSection,\n    \"ISSUE DRIVEN\",\n    learningStage,\n    chapter\n  );\n\n  const emotionalArc = await emotionalIntegrator.designEmotionalArc(\n    \"ISSUE DRIVEN\",\n    learningStage,\n    chapter\n  );\n\n  // ç« ç”Ÿæˆ\n  const chapterContent = await generateChapter({\n    chapterDesign,\n    plotIntegration,\n    emotionalArc\n  });\n\n  // å­¦ç¿’è¨˜éŒ²\n  await journeyManager.recordLearning({\n    conceptName: \"ISSUE DRIVEN\",\n    chapterNumber: chapter,\n    stage: learningStage,\n    evidence: extractEvidence(chapterContent),\n    effectiveness: evaluateEffectiveness(chapterContent)\n  });\n\n  // åŒæœŸåº¦åˆ†æ\n  const syncMetrics = await emotionalIntegrator.analyzeSynchronization(\n    chapterContent,\n    \"ISSUE DRIVEN\",\n    learningStage\n  );\n}\n```",
    "relatedTech": [
      "skill-six-stage-learning-journey-design",
      "skill-plot-learning-synchronization",
      "skill-emotional-arc-integration"
    ]
  },
  {
    "slug": "mdx-rendering-setup",
    "title": "MDXãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—",
    "category": "Workflowsï¼ˆãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ï¼‰",
    "description": "MDXãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—",
    "project": "ai-blog-generator",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"workflow_mdx_rendering_setup_2025_04_22\",\n  \"type\": \"workflow\",\n  \"name\": \"MDXãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—\",\n  \"tags\": [\"MDX\", \"ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—\", \"next-mdx-remote\", \"ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°\"],\n  \"source_project\": \"ai-blog-generator\",\n  \"related_knowledge\": [\n    \"skill_mdx_rendering_nextjs_2025_04_22\",\n    \"decision_tech_mdx_vs_contentlayer_2025_04_22\"\n  ],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-04-22\",\n  \"updated\": \"2025-04-22\"\n}\n```\n\n# MDXãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—\n\n## ä½•ã®ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‹\n\nnext-mdx-remoteã‚’ä½¿ã£ã¦MDXãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã™ã‚‹è¨­å®šæ‰‹é †ã€‚\n\n## ãƒ•ãƒ­ãƒ¼å…¨ä½“å›³\n\n```\n[1. ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«]\n      â†“\n[2. lib/mdx.tsä½œæˆï¼ˆMDXãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°é–¢æ•°ï¼‰]\n      â†“\n[3. app/blog/[slug]/page.tsxä½œæˆï¼ˆè¨˜äº‹è©³ç´°ãƒšãƒ¼ã‚¸ï¼‰]\n      â†“\n[4. ãƒ†ã‚¹ãƒˆ]\n```\n\n## å„ã‚¹ãƒ†ãƒƒãƒ—ã®è©³ç´°\n\n### ã‚¹ãƒ†ãƒƒãƒ—1ï¼šãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\n\n```bash\nnpm install next-mdx-remote rehype-highlight remark-gfm gray-matter\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2ï¼šlib/mdx.tsä½œæˆ\n\n```typescript\nimport { compileMDX } from 'next-mdx-remote/rsc';\nimport rehypeHighlight from 'rehype-highlight';\nimport remarkGfm from 'remark-gfm';\n\nexport async function getPostBySlug(slug: string) {\n  const filePath = `content/blog/${slug}.md`;\n  const fileContents = fs.readFileSync(filePath, 'utf8');\n  const { content, data } = matter(fileContents);\n\n  const mdxSource = await compileMDX({\n    source: content,\n    options: {\n      mdxOptions: {\n        remarkPlugins: [remarkGfm],\n        rehypePlugins: [rehypeHighlight],\n      },\n    },\n  });\n\n  return {\n    content: mdxSource.content,\n    frontmatter: data,\n  };\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3ï¼šè¨˜äº‹è©³ç´°ãƒšãƒ¼ã‚¸ä½œæˆ\n\n```typescript\n// app/blog/[slug]/page.tsx\nexport default async function BlogPost({ params }: { params: { slug: string } }) {\n  const post = await getPostBySlug(params.slug);\n  return (\n    <article>\n      <h1>{post.frontmatter.title}</h1>\n      {post.content}\n    </article>\n  );\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—4ï¼šãƒ†ã‚¹ãƒˆ\n\n```bash\nnpm run dev\n# http://localhost:3000/blog/test-slug ã«ã‚¢ã‚¯ã‚»ã‚¹\n```\n\n## æ‰€è¦æ™‚é–“\n\n30åˆ†\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `skill_mdx_rendering_nextjs_2025_04_22.md`\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€ŒMDXãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "skill-mdx-rendering-nextjs",
      "decision-tech-mdx-vs-contentlayer"
    ]
  },
  {
    "slug": "memory-layer-data-flow",
    "title": "ãƒ¡ãƒ¢ãƒªå±¤é–“ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼ï¼ˆã‚­ãƒ£ãƒƒã‚·ãƒ¥å”èª¿ï¼‰",
    "category": "Workflowsï¼ˆãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ï¼‰",
    "description": "ãƒ¡ãƒ¢ãƒªå±¤é–“ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼ï¼ˆã‚­ãƒ£ãƒƒã‚·ãƒ¥å”èª¿ï¼‰",
    "project": "novel-automation-system-v2",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"workflow_memory_layer_data_flow_2025_11_25\",\n  \"type\": \"workflow\",\n  \"name\": \"ãƒ¡ãƒ¢ãƒªå±¤é–“ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼ï¼ˆã‚­ãƒ£ãƒƒã‚·ãƒ¥å”èª¿ï¼‰\",\n  \"tags\": [\"ãƒ¡ãƒ¢ãƒªç®¡ç†\", \"ã‚­ãƒ£ãƒƒã‚·ãƒ¥\", \"ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼\", \"éšå±¤é–“åŒæœŸ\"],\n  \"source_project\": \"novel-automation-system-v2\",\n  \"related_knowledge\": [\n    \"skill_unified_memory_access_api_2025_11_25\",\n    \"skill_multi_layer_cache_coordination_2025_11_25\",\n    \"decision_why_unified_cache_coordinator_2025_11_25\"\n  ],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# ãƒ¡ãƒ¢ãƒªå±¤é–“ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼ï¼ˆã‚­ãƒ£ãƒƒã‚·ãƒ¥å”èª¿ï¼‰\n\n## ä½•ã®ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‹\n\nçµ±ä¸€ãƒ¡ãƒ¢ãƒªã‚¢ã‚¯ã‚»ã‚¹APIã‚’ä½¿ç”¨ã—ã¦ã€3ã¤ã®è¨˜æ†¶ãƒ¬ã‚¤ãƒ¤ãƒ¼ï¼ˆçŸ­æœŸãƒ»ä¸­æœŸãƒ»é•·æœŸï¼‰ã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã—ã€ã‚­ãƒ£ãƒƒã‚·ãƒ¥å”èª¿ã«ã‚ˆã‚ŠåŠ¹ç‡çš„ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹å®Œå…¨ãªãƒ•ãƒ­ãƒ¼ã€‚\n\n## ãƒ•ãƒ­ãƒ¼å…¨ä½“å›³\n\n```\nREQUEST: unifiedSearch(\"character-sato-state\")\n   â†“\n[1] CACHE CHECK (5-50ms)\n   â”œâ”€ CacheCoordinatorç¢ºèª\n   â”œâ”€ Hit â†’ Return\n   â””â”€ Miss â†’ Continue\n      â†“\n[2] PARALLEL LAYER SEARCH (50-500ms)\n   â”œâ”€ SHORT_TERM (5-50ms)\n   â”œâ”€ MID_TERM (100-200ms)\n   â””â”€ LONG_TERM (200-500ms)\n      â†“\n[3] DUPLICATE RESOLUTION (10-50ms)\n   â”œâ”€ å†…å®¹ãƒãƒƒã‚·ãƒ¥æ¯”è¼ƒ\n   â”œâ”€ é¡ä¼¼åº¦ã‚¹ã‚³ã‚¢ãƒªãƒ³ã‚°\n   â””â”€ æœ€é«˜ã‚¹ã‚³ã‚¢é¸æŠ\n      â†“\n[4] CACHE COORDINATION (5-20ms)\n   â”œâ”€ å…¨ãƒ¬ã‚¤ãƒ¤ãƒ¼ã«ã‚­ãƒ£ãƒƒã‚·ãƒ¥\n   â”œâ”€ ä¾å­˜é–¢ä¿‚è¨­å®š\n   â””â”€ ãƒ—ãƒªãƒ­ãƒ¼ãƒ‰ï¼ˆäºˆæ¸¬ï¼‰\n      â†“\n[RETURN] UnifiedSearchResult\n```\n\n## å„ã‚¹ãƒ†ãƒƒãƒ—ã®è©³ç´°\n\n### ã‚¹ãƒ†ãƒƒãƒ—1: Cache Check\n\n```typescript\nconst cached = await cacheCoordinator.getFromCache(key);\nif (cached) {\n  return { data: cached, source: 'cache', latency: 5-50ms };\n}\n```\n\n**ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ’ãƒƒãƒˆç‡**: 85%ä»¥ä¸Šç›®æ¨™\n\n### ã‚¹ãƒ†ãƒƒãƒ—2: Parallel Layer Search\n\n```typescript\nconst results = await Promise.allSettled([\n  shortTermMemory.search(query),    // O(1), 5-50ms\n  midTermMemory.search(query),      // O(log n), 100-200ms\n  longTermMemory.search(query)      // O(n), 200-500ms\n]);\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3: Duplicate Resolution\n\n```typescript\nconst deduplicated = removeDuplicates(allResults);\n// å®Œå…¨ä¸€è‡´: ãƒãƒƒã‚·ãƒ¥ã§æ¤œå‡º\n// éƒ¨åˆ†ä¸€è‡´: Levenshteinè·é›¢ > 0.8\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—4: Cache Coordination\n\n```typescript\n// å…¨ãƒ¬ã‚¤ãƒ¤ãƒ¼ã«ã‚­ãƒ£ãƒƒã‚·ãƒ¥\nawait cacheCoordinator.setCache(key, data, level, dependencies);\n\n// ç„¡åŠ¹åŒ–ã‚¤ãƒ™ãƒ³ãƒˆ\nawait cacheCoordinator.invalidateCache(pattern);\n// â†’ ä¾å­˜ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚‚ã‚«ã‚¹ã‚±ãƒ¼ãƒ‰ç„¡åŠ¹åŒ–\n```\n\n## ã‚­ãƒ£ãƒƒã‚·ãƒ¥ç„¡åŠ¹åŒ–ã®ä¾‹\n\n```\nUPDATE: chapter-4-summary\n   â†“\nINVALIDATE CASCADE:\nâ”œâ”€ Direct: \"chapter-4-summary\"\nâ”œâ”€ Dependent: \"character-sato-state\"\nâ”œâ”€ Dependent: \"chapter-5-context\"\n   â†“\nPRELOAD:\nâ”œâ”€ \"character-suzuki-state\"\nâ””â”€ \"chapter-6-preparation\"\n```\n\n## ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç‰¹æ€§\n\n| ã‚·ãƒŠãƒªã‚ª | ãƒ¬ã‚¤ãƒ†ãƒ³ã‚· | ãƒ’ãƒƒãƒˆç‡ |\n|---------|----------|---------|\n| ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ’ãƒƒãƒˆ | 5-50ms | 85% |\n| SHORT_TERM | 50-100ms | 10% |\n| MID_TERM | 100-200ms | 4% |\n| LONG_TERM | 200-500ms | 1% |\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `skill_unified_memory_access_api_2025_11_25.md`\n- `skill_multi_layer_cache_coordination_2025_11_25.md`\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€Œãƒ¡ãƒ¢ãƒªå±¤é–“ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼ï¼ˆã‚­ãƒ£ãƒƒã‚·ãƒ¥å”èª¿ï¼‰ã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "skill-unified-memory-access-api",
      "skill-multi-layer-cache-coordination",
      "decision-why-unified-cache-coordinator"
    ]
  },
  {
    "slug": "nextjs-api-routes-architecture",
    "title": "Next.js 15 API Routes ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£",
    "category": "Workflowsï¼ˆãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ï¼‰",
    "description": "Next.js 15 API Routes ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£",
    "project": "novel-automation-system-v2",
    "usedIn": [
      "src/app/api/generation/chapter/route.ts, src/app/api/generation/chapter/debug/route.ts"
    ],
    "code": "```json\n{\n  \"id\": \"workflow_nextjs_api_routes_2025_11_25\",\n  \"type\": \"workflow\",\n  \"name\": \"Next.js 15 API Routes ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£\",\n  \"tags\": [\"Next.js\", \"API Routes\", \"App Router\", \"REST API\", \"ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ\"],\n  \"source_project\": \"novel-automation-system-v2\",\n  \"source_file\": \"src/app/api/generation/chapter/route.ts, src/app/api/generation/chapter/debug/route.ts\",\n  \"related_knowledge\": [\n    \"decision_tech_nextjs_15_choice_2025_11_25\",\n    \"design_pattern_8_system_integration_2025_11_25\"\n  ],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# Next.js 15 API Routes ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£\n\n## ä½•ã®ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‹\n\nNext.js 15ã®App Routerã‚’æ´»ç”¨ã—ãŸ**æœ€å°é™ã®APIè¨­è¨ˆãƒ‘ã‚¿ãƒ¼ãƒ³**ã€‚3ã¤ã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã§ç« ç”Ÿæˆãƒ»ãƒ‡ãƒãƒƒã‚°ãƒ»ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒ†ã‚¹ãƒˆã‚’å®Ÿç¾ã€‚\n\n## APIæ§‹æˆ\n\n```\nsrc/app/api/\nâ”œâ”€â”€ generation/\nâ”‚   â”œâ”€â”€ chapter/\nâ”‚   â”‚   â”œâ”€â”€ route.ts         # POST /api/generation/chapterï¼ˆãƒ¡ã‚¤ãƒ³ç”Ÿæˆï¼‰\nâ”‚   â”‚   â””â”€â”€ debug/\nâ”‚   â”‚       â””â”€â”€ route.ts     # POST /api/generation/chapter/debugï¼ˆãƒ‡ãƒãƒƒã‚°ï¼‰\nâ”‚   â””â”€â”€ test-prompt/\nâ”‚       â””â”€â”€ route.ts         # POST /api/generation/test-promptï¼ˆãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒ†ã‚¹ãƒˆï¼‰\n```\n\n## å®Ÿè£…ä¾‹\n\n### ãƒ¡ã‚¤ãƒ³ç”Ÿæˆã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ\n\n```typescript\n// src/app/api/generation/chapter/route.ts\nexport async function POST(request: Request) {\n  try {\n    // 1. Service Container ã‹ã‚‰ NovelGenerationEngine å–å¾—\n    const engine = await serviceContainer.resolve<NovelGenerationEngine>('novelGenerationEngine');\n\n    // 2. ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒœãƒ‡ã‚£è§£æ\n    const body = await request.json();\n\n    // 3. ç« ç”Ÿæˆå®Ÿè¡Œ\n    const result = await engine.generateChapter(body);\n\n    // 4. ãƒ¬ã‚¹ãƒãƒ³ã‚¹è¿”å´\n    return Response.json(result);\n  } catch (error) {\n    return Response.json(\n      { error: error.message },\n      { status: 500 }\n    );\n  }\n}\n```\n\n## ãªãœã“ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ä½¿ã†ã‹\n\n### ç†ç”±1: æœ€å°é™ã®APIè¨­è¨ˆ\n\nä¸è¦ãªã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã‚’ä½œã‚‰ãšã€å¿…è¦æœ€å°é™ã«ã€‚\n\n### ç†ç”±2: Service Containerã¨ã®çµ±åˆ\n\nãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ã¯ã‚µãƒ¼ãƒ“ã‚¹å±¤ã«å§”è­²ã€‚API Routeã¯HTTPå±¤ã®ã¿ã€‚\n\n### ç†ç”±3: ãƒ‡ãƒãƒƒã‚°å°‚ç”¨ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ\n\næœ¬ç•ªã¨ãƒ‡ãƒãƒƒã‚°ã‚’åˆ†é›¢ã—ã€å®‰å…¨æ€§ç¢ºä¿ã€‚\n\n## å†ç¾æ–¹æ³•\n\n### æ‰‹é †1: route.tsãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆ\n\n```typescript\n// src/app/api/[endpoint]/route.ts\nexport async function POST(request: Request) {\n  const service = await serviceContainer.resolve('service');\n  const result = await service.execute();\n  return Response.json(result);\n}\n```\n\n### æ‰‹é †2: Service Containerã‹ã‚‰å–å¾—\n\nAPI Routeã¯ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ã‚’æŒãŸãšã€ã‚µãƒ¼ãƒ“ã‚¹å‘¼ã³å‡ºã—ã®ã¿ã€‚\n\n## ã„ã¤ä½¿ã†ã‹\n\n- ãƒ•ãƒ«ã‚¹ã‚¿ãƒƒã‚¯Next.jsã‚¢ãƒ—ãƒª\n- APIè¨­è¨ˆã‚’ã‚·ãƒ³ãƒ—ãƒ«ã«ä¿ã¡ãŸã„\n- Vercelãƒ‡ãƒ—ãƒ­ã‚¤ã‚’äºˆå®š\n\n## æ³¨æ„ç‚¹\n\n- API Routeã«ãƒ­ã‚¸ãƒƒã‚¯ã‚’æ›¸ã‹ãªã„ï¼ˆã‚µãƒ¼ãƒ“ã‚¹å±¤ã¸ï¼‰\n- ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã‚’çµ±ä¸€\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `decision_tech_nextjs_15_choice_2025_11_25.md`ï¼šNext.jsé¸æŠç†ç”±\n- `design_pattern_service_container_di_2025_11_25.md`ï¼šDIçµ±åˆ\n",
    "prompt": "### æ‰‹é †1: route.tsãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆ\n\n```typescript\n// src/app/api/[endpoint]/route.ts\nexport async function POST(request: Request) {\n  const service = await serviceContainer.resolve('service');\n  const result = await service.execute();\n  return Response.json(result);\n}\n```\n\n### æ‰‹é †2: Service Containerã‹ã‚‰å–å¾—\n\nAPI Routeã¯ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ã‚’æŒãŸãšã€ã‚µãƒ¼ãƒ“ã‚¹å‘¼ã³å‡ºã—ã®ã¿ã€‚",
    "relatedTech": [
      "decision-tech-nextjs-15-choice",
      "design-pattern-8-system-integration"
    ]
  },
  {
    "slug": "pdf-export-flow",
    "title": "PDFã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆãƒ•ãƒ­ãƒ¼",
    "category": "Workflowsï¼ˆãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ï¼‰",
    "description": "PDFã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆãƒ•ãƒ­ãƒ¼",
    "project": "ai-document-generator",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"workflow_pdf_export_flow_2025_04_11\",\n  \"type\": \"workflow\",\n  \"name\": \"PDFã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆãƒ•ãƒ­ãƒ¼\",\n  \"tags\": [\"PDF\", \"ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ\", \"jsPDF\", \"html2canvas\", \"Puppeteer\", \"ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼\"],\n  \"source_project\": \"ai-document-generator\",\n  \"related_knowledge\": [\"skill_pdf_generation_triple_approach_2025_04_11\", \"decision_tech_pdf_generation_approach_2025_04_11\"],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-04-11\",\n  \"updated\": \"2025-04-11\"\n}\n```\n\n# PDFã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆãƒ•ãƒ­ãƒ¼\n\n## ä½•ã‚’è¨˜éŒ²ã™ã‚‹ã‹\n\nãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚¨ãƒ‡ã‚£ã‚¿ã§ä½œæˆã—ãŸã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’PDFå½¢å¼ã§ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã™ã‚‹å…¨ä½“ãƒ•ãƒ­ãƒ¼ã‚’è¨˜éŒ²ã™ã‚‹ã€‚\n\n## ãƒ•ãƒ­ãƒ¼ã®æ¦‚è¦\n\n```\n1. ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã€ŒPDFã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯\n   â†“\n2. ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’é¸æŠï¼ˆå“è³ªã€ãƒšãƒ¼ã‚¸ç¯„å›²ãªã©ï¼‰\n   â†“\n3. ç”Ÿæˆæ–¹æ³•ã‚’é¸æŠï¼ˆjsPDFã€html2canvasã€Puppeteerï¼‰\n   â†“\n4. ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°\n   â†“\n5. PDFã‚’ç”Ÿæˆ\n   â†“\n6. PDFã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰\n```\n\n## è©³ç´°ãƒ•ãƒ­ãƒ¼\n\n### ã‚¹ãƒ†ãƒƒãƒ—1ï¼šã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆé–‹å§‹\n\n**ãƒˆãƒªã‚¬ãƒ¼**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã€ŒPDFã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯\n\n**UI**:\n```tsx\n<button onClick={handleExportToPDF} className=\"export-button\">\n  <FileDown className=\"icon\" />\n  PDFã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ\n</button>\n```\n\n**å‡¦ç†**:\n```typescript\nconst handleExportToPDF = () => {\n  // ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã‚’è¡¨ç¤º\n  openExportDialog();\n};\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2ï¼šã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã‚ªãƒ—ã‚·ãƒ§ãƒ³é¸æŠ\n\n**ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆãƒ€ã‚¤ã‚¢ãƒ­ã‚°**:\n```tsx\n<ExportDialog>\n  <h2>PDFã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ</h2>\n\n  {/* ç”Ÿæˆæ–¹æ³• */}\n  <Select value={method} onChange={setMethod}>\n    <option value=\"jspdf\">jsPDFï¼ˆé«˜é€Ÿã€è»½é‡ï¼‰</option>\n    <option value=\"html2canvas\">html2canvasï¼ˆé«˜å“è³ªã€ç”»åƒãƒ™ãƒ¼ã‚¹ï¼‰</option>\n    <option value=\"puppeteer\">Puppeteerï¼ˆæœ€é«˜å“è³ªã€ã‚µãƒ¼ãƒãƒ¼å´ï¼‰</option>\n  </Select>\n\n  {/* ãƒšãƒ¼ã‚¸ç¯„å›² */}\n  <RadioGroup value={pageRange} onChange={setPageRange}>\n    <Radio value=\"all\">ã™ã¹ã¦ã®ãƒšãƒ¼ã‚¸</Radio>\n    <Radio value=\"current\">ç¾åœ¨ã®ãƒšãƒ¼ã‚¸ã®ã¿</Radio>\n    <Radio value=\"custom\">ã‚«ã‚¹ã‚¿ãƒ ç¯„å›²</Radio>\n  </RadioGroup>\n\n  {pageRange === 'custom' && (\n    <div>\n      <Input\n        type=\"number\"\n        value={startPage}\n        onChange={setStartPage}\n        placeholder=\"é–‹å§‹ãƒšãƒ¼ã‚¸\"\n      />\n      <span>ã€œ</span>\n      <Input\n        type=\"number\"\n        value={endPage}\n        onChange={setEndPage}\n        placeholder=\"çµ‚äº†ãƒšãƒ¼ã‚¸\"\n      />\n    </div>\n  )}\n\n  {/* å“è³ªè¨­å®š */}\n  <Select value={quality} onChange={setQuality}>\n    <option value=\"low\">ä½ï¼ˆãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºå°ï¼‰</option>\n    <option value=\"medium\">ä¸­ï¼ˆãƒãƒ©ãƒ³ã‚¹ï¼‰</option>\n    <option value=\"high\">é«˜ï¼ˆå“è³ªå„ªå…ˆï¼‰</option>\n  </Select>\n\n  {/* ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆãƒœã‚¿ãƒ³ */}\n  <Button onClick={handleExport}>ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ</Button>\n</ExportDialog>\n```\n\n**ã‚ªãƒ—ã‚·ãƒ§ãƒ³è¨­å®š**:\n```typescript\ninterface ExportOptions {\n  method: 'jspdf' | 'html2canvas' | 'puppeteer';\n  pageRange: 'all' | 'current' | 'custom';\n  startPage?: number;\n  endPage?: number;\n  quality: 'low' | 'medium' | 'high';\n  includeMetadata: boolean;  // ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚’å«ã‚ã‚‹ã‹\n  compress: boolean;  // åœ§ç¸®ã™ã‚‹ã‹\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3ï¼šç”Ÿæˆæ–¹æ³•ã®é¸æŠ\n\n**3ã¤ã®ç”Ÿæˆæ–¹æ³•**:\n\n#### æ–¹æ³•1ï¼šjsPDFï¼ˆé«˜é€Ÿã€è»½é‡ï¼‰\n\n**ç‰¹å¾´**:\n- ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰ã§å®Œçµ\n- é«˜é€Ÿï¼ˆæ•°ç§’ï¼‰\n- ãƒ†ã‚­ã‚¹ãƒˆã€ç”»åƒã‚’ãƒ—ãƒ­ã‚°ãƒ©ãƒ çš„ã«é…ç½®\n- ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºãŒå°ã•ã„\n\n**ä½¿ç”¨ã‚±ãƒ¼ã‚¹**:\n- ã‚·ãƒ³ãƒ—ãƒ«ãªãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆï¼ˆãƒ†ã‚­ã‚¹ãƒˆä¸­å¿ƒï¼‰\n- é«˜é€Ÿã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆãŒå¿…è¦\n- ã‚ªãƒ•ãƒ©ã‚¤ãƒ³ã§å‹•ä½œ\n\n**ãƒ•ãƒ­ãƒ¼**:\n```typescript\nasync function exportWithJsPDF(document: Document, options: ExportOptions) {\n  // 1. jsPDFã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ä½œæˆ\n  const pdf = new jsPDF({\n    orientation: document.format.orientation === 'portrait' ? 'p' : 'l',\n    unit: 'px',\n    format: [document.format.width, document.format.height],\n  });\n\n  // 2. ãƒšãƒ¼ã‚¸ã‚’ãƒ«ãƒ¼ãƒ—\n  const pagesToExport = getPageRange(document, options);\n\n  for (let i = 0; i < pagesToExport.length; i++) {\n    const page = pagesToExport[i];\n\n    if (i > 0) {\n      pdf.addPage();  // æ–°ã—ã„ãƒšãƒ¼ã‚¸ã‚’è¿½åŠ \n    }\n\n    // 3. ãƒšãƒ¼ã‚¸ã‚’ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°\n    await renderPageToJsPDF(pdf, page);\n  }\n\n  // 4. PDFã‚’ä¿å­˜\n  pdf.save(`${document.name}.pdf`);\n}\n```\n\n**ãƒšãƒ¼ã‚¸ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°**:\n```typescript\nasync function renderPageToJsPDF(pdf: jsPDF, page: PageContent) {\n  // ãƒšãƒ¼ã‚¸å†…ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’ãƒ«ãƒ¼ãƒ—\n  for (const section of page.sections) {\n    // ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®ä½ç½®ã‚’å–å¾—\n    const { x, y, width, height } = section.position;\n\n    // ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°\n    for (const component of section.components) {\n      if (component.type === 'text') {\n        // ãƒ†ã‚­ã‚¹ãƒˆã‚’è¿½åŠ \n        pdf.text(component.content, x, y);\n      } else if (component.type === 'image') {\n        // ç”»åƒã‚’è¿½åŠ \n        pdf.addImage(component.src, 'JPEG', x, y, width, height);\n      } else if (component.type === 'chart') {\n        // ãƒãƒ£ãƒ¼ãƒˆã‚’ç”»åƒã«å¤‰æ›ã—ã¦è¿½åŠ \n        const chartImage = await convertChartToImage(component);\n        pdf.addImage(chartImage, 'PNG', x, y, width, height);\n      }\n    }\n  }\n}\n```\n\n#### æ–¹æ³•2ï¼šhtml2canvasï¼ˆé«˜å“è³ªã€ç”»åƒãƒ™ãƒ¼ã‚¹ï¼‰\n\n**ç‰¹å¾´**:\n- HTMLè¦ç´ ã‚’ç”»åƒã«å¤‰æ›\n- é«˜å“è³ªï¼ˆCSSã‚¹ã‚¿ã‚¤ãƒ«ã‚’å®Œå…¨ã«åæ˜ ï¼‰\n- è¤‡é›‘ãªãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã«å¯¾å¿œ\n- ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºãŒå¤§ãã„\n\n**ä½¿ç”¨ã‚±ãƒ¼ã‚¹**:\n- è¤‡é›‘ãªãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ\n- CSSã‚¹ã‚¿ã‚¤ãƒ«ã‚’å®Œå…¨ã«åæ˜ ã—ãŸã„\n- ãƒãƒ£ãƒ¼ãƒˆã€ã‚°ãƒ©ãƒ•ãŒå¤šã„\n\n**ãƒ•ãƒ­ãƒ¼**:\n```typescript\nimport html2canvas from 'html2canvas';\nimport { jsPDF } from 'jspdf';\n\nasync function exportWithHtml2Canvas(document: Document, options: ExportOptions) {\n  const pdf = new jsPDF({\n    orientation: document.format.orientation === 'portrait' ? 'p' : 'l',\n    unit: 'px',\n    format: [document.format.width, document.format.height],\n  });\n\n  const pagesToExport = getPageRange(document, options);\n\n  for (let i = 0; i < pagesToExport.length; i++) {\n    const page = pagesToExport[i];\n\n    if (i > 0) {\n      pdf.addPage();\n    }\n\n    // ãƒšãƒ¼ã‚¸ã®HTMLè¦ç´ ã‚’å–å¾—\n    const pageElement = document.getElementById(`page-${page.id}`);\n\n    // HTMLè¦ç´ ã‚’Canvasç”»åƒã«å¤‰æ›\n    const canvas = await html2canvas(pageElement, {\n      scale: options.quality === 'high' ? 2 : options.quality === 'medium' ? 1.5 : 1,\n      useCORS: true,  // å¤–éƒ¨ç”»åƒã«å¯¾å¿œ\n      logging: false,\n    });\n\n    // Canvasç”»åƒã‚’PDFã«è¿½åŠ \n    const imgData = canvas.toDataURL('image/jpeg', 0.95);\n    pdf.addImage(imgData, 'JPEG', 0, 0, document.format.width, document.format.height);\n  }\n\n  pdf.save(`${document.name}.pdf`);\n}\n```\n\n#### æ–¹æ³•3ï¼šPuppeteerï¼ˆæœ€é«˜å“è³ªã€ã‚µãƒ¼ãƒãƒ¼å´ï¼‰\n\n**ç‰¹å¾´**:\n- ãƒ–ãƒ©ã‚¦ã‚¶ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ï¼ˆChromeï¼‰\n- æœ€é«˜å“è³ª\n- ã‚µãƒ¼ãƒãƒ¼å´ã§å®Ÿè¡Œ\n- ãƒ†ã‚­ã‚¹ãƒˆé¸æŠå¯èƒ½ï¼ˆsearchable PDFï¼‰\n\n**ä½¿ç”¨ã‚±ãƒ¼ã‚¹**:\n- æœ€é«˜å“è³ªãŒå¿…è¦\n- è¤‡é›‘ãªãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã€ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³\n- ã‚µãƒ¼ãƒãƒ¼å´ã§PDFç”Ÿæˆ\n\n**ãƒ•ãƒ­ãƒ¼**:\n```typescript\n// ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´\nasync function exportWithPuppeteer(document: Document, options: ExportOptions) {\n  // ã‚µãƒ¼ãƒãƒ¼ã«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ä¿¡\n  const response = await fetch('/api/export-pdf', {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify({\n      documentId: document.id,\n      options,\n    }),\n  });\n\n  // PDFãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰\n  const blob = await response.blob();\n  const url = URL.createObjectURL(blob);\n  const a = document.createElement('a');\n  a.href = url;\n  a.download = `${document.name}.pdf`;\n  a.click();\n}\n\n// ã‚µãƒ¼ãƒãƒ¼å´ï¼ˆNext.js API Routeï¼‰\n// src/app/api/export-pdf/route.ts\nimport puppeteer from 'puppeteer';\n\nexport async function POST(request: Request) {\n  const { documentId, options } = await request.json();\n\n  // ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’å–å¾—\n  const document = await loadDocument(documentId);\n\n  // Puppeteerã§ãƒ–ãƒ©ã‚¦ã‚¶ã‚’èµ·å‹•\n  const browser = await puppeteer.launch({\n    headless: true,\n    args: ['--no-sandbox', '--disable-setuid-sandbox'],\n  });\n\n  const page = await browser.newPage();\n\n  // ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®HTMLã‚’ç”Ÿæˆ\n  const html = generateDocumentHTML(document);\n\n  // HTMLã‚’èª­ã¿è¾¼ã¿\n  await page.setContent(html);\n\n  // PDFã‚’ç”Ÿæˆ\n  const pdfBuffer = await page.pdf({\n    format: document.format.size,  // 'A4', 'Letter', etc.\n    printBackground: true,\n    preferCSSPageSize: true,\n  });\n\n  await browser.close();\n\n  // PDFã‚’è¿”ã™\n  return new Response(pdfBuffer, {\n    headers: {\n      'Content-Type': 'application/pdf',\n      'Content-Disposition': `attachment; filename=\"${document.name}.pdf\"`,\n    },\n  });\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—4ï¼šãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°\n\n**ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°æº–å‚™**:\n```typescript\nfunction prepareDocumentForExport(document: Document): Document {\n  // 1. ã™ã¹ã¦ã®ãƒšãƒ¼ã‚¸ã‚’å±•é–‹\n  const expandedPages = document.pages.map(page => ({\n    ...page,\n    sections: expandSections(page.sections),\n  }));\n\n  // 2. AIç”Ÿæˆã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ç¢ºå®š\n  const finalizedPages = expandedPages.map(page => ({\n    ...page,\n    sections: page.sections.map(section => ({\n      ...section,\n      components: finalizeAIContent(section.components),\n    })),\n  }));\n\n  // 3. ã‚¹ã‚¿ã‚¤ãƒ«ã‚’é©ç”¨\n  return {\n    ...document,\n    pages: applyTheme(finalizedPages, document.themeId),\n  };\n}\n```\n\n**ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆå°‚ç”¨ã®ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°**:\n```tsx\n// ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆæ™‚ã®ã¿è¡¨ç¤ºã•ã‚Œã‚‹éè¡¨ç¤ºã®ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°é ˜åŸŸ\n<div className=\"export-renderer\" style={{ position: 'absolute', left: '-9999px' }}>\n  {document.pages.map(page => (\n    <div\n      key={page.id}\n      id={`page-${page.id}`}\n      style={{\n        width: document.format.width,\n        height: document.format.height,\n        backgroundColor: 'white',\n      }}\n    >\n      <PageRenderer page={page} />\n    </div>\n  ))}\n</div>\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—5ï¼šPDFç”Ÿæˆ\n\n**ç”Ÿæˆä¸­ã®è¡¨ç¤º**:\n```tsx\n<ExportProgress>\n  <h3>PDFã‚’ç”Ÿæˆä¸­...</h3>\n\n  <ProgressBar value={progress} max={100} />\n\n  <p>ãƒšãƒ¼ã‚¸ {currentPage} / {totalPages} ã‚’å‡¦ç†ä¸­</p>\n\n  <Button onClick={cancelExport}>ã‚­ãƒ£ãƒ³ã‚»ãƒ«</Button>\n</ExportProgress>\n```\n\n**é€²æ—ç®¡ç†**:\n```typescript\nasync function exportWithProgress(document: Document, options: ExportOptions) {\n  const pagesToExport = getPageRange(document, options);\n  const totalPages = pagesToExport.length;\n\n  for (let i = 0; i < totalPages; i++) {\n    const page = pagesToExport[i];\n\n    // é€²æ—ã‚’æ›´æ–°\n    updateProgress({\n      currentPage: i + 1,\n      totalPages,\n      progress: Math.round(((i + 1) / totalPages) * 100),\n    });\n\n    // ãƒšãƒ¼ã‚¸ã‚’ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°\n    await renderPage(page);\n  }\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—6ï¼šPDFãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰\n\n**ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰**:\n```typescript\nfunction downloadPDF(pdfBlob: Blob, filename: string) {\n  // Blobã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆ\n  const url = URL.createObjectURL(pdfBlob);\n\n  // ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ãƒªãƒ³ã‚¯ã‚’ä½œæˆ\n  const a = document.createElement('a');\n  a.href = url;\n  a.download = `${filename}.pdf`;\n\n  // ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã‚’å®Ÿè¡Œ\n  document.body.appendChild(a);\n  a.click();\n\n  // ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—\n  document.body.removeChild(a);\n  URL.revokeObjectURL(url);\n}\n```\n\n**æˆåŠŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸**:\n```tsx\n<Toast>\n  <CheckCircle className=\"icon success\" />\n  <div>\n    <h4>PDFã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆå®Œäº†</h4>\n    <p>{document.name}.pdf ãŒãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã•ã‚Œã¾ã—ãŸ</p>\n  </div>\n</Toast>\n```\n\n## ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°\n\n### ã‚¨ãƒ©ãƒ¼1ï¼šãƒ¡ãƒ¢ãƒªä¸è¶³\n\n**å•é¡Œ**:\nå¤§ããªãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆï¼ˆ100ãƒšãƒ¼ã‚¸ä»¥ä¸Šï¼‰ã‚„é«˜è§£åƒåº¦ç”»åƒãŒå¤šã„å ´åˆã€ãƒ¡ãƒ¢ãƒªä¸è¶³ã§ã‚¨ãƒ©ãƒ¼ã€‚\n\n**å¯¾å‡¦æ³•**:\n```typescript\nasync function exportWithMemoryManagement(document: Document, options: ExportOptions) {\n  const pagesToExport = getPageRange(document, options);\n  const BATCH_SIZE = 10;  // 10ãƒšãƒ¼ã‚¸ãšã¤å‡¦ç†\n\n  // ãƒãƒƒãƒã”ã¨ã«å‡¦ç†\n  for (let i = 0; i < pagesToExport.length; i += BATCH_SIZE) {\n    const batch = pagesToExport.slice(i, i + BATCH_SIZE);\n\n    // ãƒãƒƒãƒã‚’å‡¦ç†\n    await processBatch(batch);\n\n    // ãƒ¡ãƒ¢ãƒªã‚’è§£æ”¾\n    if (global.gc) {\n      global.gc();\n    }\n  }\n}\n```\n\n### ã‚¨ãƒ©ãƒ¼2ï¼šã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ\n\n**å•é¡Œ**:\nPuppeteerã§ã®ç”ŸæˆãŒé…ãã€ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã€‚\n\n**å¯¾å‡¦æ³•**:\n```typescript\nconst pdfBuffer = await page.pdf({\n  format: 'A4',\n  timeout: 60000,  // 60ç§’ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ\n});\n```\n\n### ã‚¨ãƒ©ãƒ¼3ï¼šCORS ã‚¨ãƒ©ãƒ¼\n\n**å•é¡Œ**:\nå¤–éƒ¨ç”»åƒãŒCORSã‚¨ãƒ©ãƒ¼ã§èª­ã¿è¾¼ã‚ãªã„ã€‚\n\n**å¯¾å‡¦æ³•**:\n```typescript\nconst canvas = await html2canvas(pageElement, {\n  useCORS: true,  // CORSã‚’æœ‰åŠ¹åŒ–\n  allowTaint: false,\n});\n```\n\nã¾ãŸã¯ã€ç”»åƒã‚’Base64ã«å¤‰æ›ï¼š\n```typescript\nasync function convertImageToBase64(imageSrc: string): Promise<string> {\n  const response = await fetch(imageSrc);\n  const blob = await response.blob();\n  return new Promise((resolve, reject) => {\n    const reader = new FileReader();\n    reader.onloadend = () => resolve(reader.result as string);\n    reader.onerror = reject;\n    reader.readAsDataURL(blob);\n  });\n}\n```\n\n## æœ€é©åŒ–\n\n### æœ€é©åŒ–1ï¼šä¸¦åˆ—å‡¦ç†\n\nè¤‡æ•°ãƒšãƒ¼ã‚¸ã‚’ä¸¦åˆ—ã§å‡¦ç†ï¼š\n```typescript\nasync function exportInParallel(document: Document, options: ExportOptions) {\n  const pagesToExport = getPageRange(document, options);\n\n  // ä¸¦åˆ—å‡¦ç†\n  const canvases = await Promise.all(\n    pagesToExport.map(page => html2canvas(document.getElementById(`page-${page.id}`)))\n  );\n\n  // PDFã«è¿½åŠ \n  const pdf = new jsPDF();\n  canvases.forEach((canvas, index) => {\n    if (index > 0) pdf.addPage();\n    const imgData = canvas.toDataURL('image/jpeg');\n    pdf.addImage(imgData, 'JPEG', 0, 0, pdf.internal.pageSize.width, pdf.internal.pageSize.height);\n  });\n\n  pdf.save(`${document.name}.pdf`);\n}\n```\n\n### æœ€é©åŒ–2ï¼šåœ§ç¸®\n\nç”»åƒã‚’åœ§ç¸®ã—ã¦ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºã‚’å‰Šæ¸›ï¼š\n```typescript\nconst canvas = await html2canvas(pageElement);\nconst imgData = canvas.toDataURL('image/jpeg', 0.7);  // å“è³ª70%ã«åœ§ç¸®\n```\n\n### æœ€é©åŒ–3ï¼šã‚­ãƒ£ãƒƒã‚·ãƒ¥\n\nä¸€åº¦ç”Ÿæˆã—ãŸPDFã‚’ã‚­ãƒ£ãƒƒã‚·ãƒ¥ï¼š\n```typescript\nconst cache = new Map<string, Blob>();\n\nasync function exportWithCache(document: Document, options: ExportOptions) {\n  const cacheKey = `${document.id}-${JSON.stringify(options)}`;\n\n  // ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ç¢ºèª\n  if (cache.has(cacheKey)) {\n    const cachedPDF = cache.get(cacheKey);\n    downloadPDF(cachedPDF, document.name);\n    return;\n  }\n\n  // PDFã‚’ç”Ÿæˆ\n  const pdfBlob = await generatePDF(document, options);\n\n  // ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã«ä¿å­˜\n  cache.set(cacheKey, pdfBlob);\n\n  // ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰\n  downloadPDF(pdfBlob, document.name);\n}\n```\n\n## ã¾ã¨ã‚\n\n**PDFã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆãƒ•ãƒ­ãƒ¼**:\n1. ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆé–‹å§‹ï¼ˆãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯ï¼‰\n2. ã‚ªãƒ—ã‚·ãƒ§ãƒ³é¸æŠï¼ˆç”Ÿæˆæ–¹æ³•ã€ãƒšãƒ¼ã‚¸ç¯„å›²ã€å“è³ªï¼‰\n3. ç”Ÿæˆæ–¹æ³•ã®é¸æŠï¼ˆjsPDFã€html2canvasã€Puppeteerï¼‰\n4. ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°\n5. PDFç”Ÿæˆï¼ˆé€²æ—è¡¨ç¤ºï¼‰\n6. PDFãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ï¼ˆæˆåŠŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼‰\n\n**3ã¤ã®ç”Ÿæˆæ–¹æ³•**:\n- **jsPDF**: é«˜é€Ÿã€è»½é‡ï¼ˆã‚·ãƒ³ãƒ—ãƒ«ãªãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆå‘ã‘ï¼‰\n- **html2canvas**: é«˜å“è³ªã€ç”»åƒãƒ™ãƒ¼ã‚¹ï¼ˆè¤‡é›‘ãªãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆå‘ã‘ï¼‰\n- **Puppeteer**: æœ€é«˜å“è³ªã€ã‚µãƒ¼ãƒãƒ¼å´ï¼ˆæœ€é«˜å“è³ªãŒå¿…è¦ãªå ´åˆï¼‰\n\n**ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°**:\n- ãƒ¡ãƒ¢ãƒªä¸è¶³: ãƒãƒƒãƒå‡¦ç†\n- ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ: ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆè¨­å®š\n- CORS: useCORSã€Base64å¤‰æ›\n\n**æœ€é©åŒ–**:\n- ä¸¦åˆ—å‡¦ç†\n- åœ§ç¸®\n- ã‚­ãƒ£ãƒƒã‚·ãƒ¥\n\nã“ã®ãƒ•ãƒ­ãƒ¼ã«ã‚ˆã‚Šã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯ç°¡å˜ã«ã€é«˜å“è³ªãªPDFã‚’ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã§ãã‚‹ã€‚\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€ŒPDFã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆãƒ•ãƒ­ãƒ¼ã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "skill-pdf-generation-triple-approach",
      "decision-tech-pdf-generation-approach"
    ]
  },
  {
    "slug": "project-setup-nextjs-blog",
    "title": "Next.jsãƒ–ãƒ­ã‚°ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—",
    "category": "Workflowsï¼ˆãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ï¼‰",
    "description": "Next.jsãƒ–ãƒ­ã‚°ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—",
    "project": "ai-blog-generator",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"workflow_project_setup_nextjs_blog_2025_04_22\",\n  \"type\": \"workflow\",\n  \"name\": \"Next.jsãƒ–ãƒ­ã‚°ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—\",\n  \"tags\": [\"ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—\", \"Next.js\", \"ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåˆæœŸåŒ–\", \"ç’°å¢ƒæ§‹ç¯‰\"],\n  \"source_project\": \"ai-blog-generator\",\n  \"related_knowledge\": [\n    \"decision_tech_nextjs_vs_vite_2025_04_22\",\n    \"decision_tech_mdx_vs_contentlayer_2025_04_22\"\n  ],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-04-22\",\n  \"updated\": \"2025-04-22\"\n}\n```\n\n# Next.jsãƒ–ãƒ­ã‚°ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—\n\n## ä½•ã®ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‹\n\nã‚¼ãƒ­ã‹ã‚‰ Next.js ãƒ™ãƒ¼ã‚¹ã®ãƒ–ãƒ­ã‚°ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã—ã€è¨˜äº‹ç”Ÿæˆæ©Ÿèƒ½ã‚’å®Ÿè£…ã™ã‚‹ã¾ã§ã®æ‰‹é †ã€‚\n\n## ãƒ•ãƒ­ãƒ¼å…¨ä½“å›³\n\n```\n[1. Next.jsãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ]\n      â†“\n[2. ä¾å­˜ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«]\n      â†“\n[3. ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ä½œæˆ]\n      â†“\n[4. ç’°å¢ƒå¤‰æ•°è¨­å®š]\n      â†“\n[5. TypeScriptè¨­å®š]\n      â†“\n[6. ãƒ©ã‚¤ãƒ–ãƒ©ãƒªå®Ÿè£…ï¼ˆlib/ï¼‰]\n      â†“\n[7. API Routeså®Ÿè£…]\n      â†“\n[8. ãƒšãƒ¼ã‚¸å®Ÿè£…]\n      â†“\n[9. GitHub Actionsè¨­å®š]\n      â†“\n[10. ãƒ­ãƒ¼ã‚«ãƒ«ãƒ†ã‚¹ãƒˆ]\n      â†“\n[11. Vercelãƒ‡ãƒ—ãƒ­ã‚¤]\n```\n\n## å„ã‚¹ãƒ†ãƒƒãƒ—ã®è©³ç´°\n\n### ã‚¹ãƒ†ãƒƒãƒ—1ï¼šNext.jsãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ\n\n```bash\nnpx create-next-app@latest ai-blog-generator --typescript --tailwind --app\ncd ai-blog-generator\n```\n\n**ãƒ•ãƒ©ã‚°ã®æ„å‘³**ï¼š\n- `--typescript`: TypeScriptæœ‰åŠ¹åŒ–\n- `--tailwind`: Tailwind CSSæœ‰åŠ¹åŒ–\n- `--app`: App Routeræœ‰åŠ¹åŒ–\n\n### ã‚¹ãƒ†ãƒƒãƒ—2ï¼šä¾å­˜ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\n\n```bash\nnpm install @google/generative-ai axios cheerio gray-matter next-mdx-remote rehype-highlight remark-gfm dotenv\n```\n\n**å„ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®å½¹å‰²**ï¼š\n- `@google/generative-ai`: Gemini API\n- `axios`: HTTP client\n- `cheerio`: XMLãƒ‘ãƒ¼ã‚¹ï¼ˆGoogle News RSSï¼‰\n- `gray-matter`: Frontmatterãƒ‘ãƒ¼ã‚¹\n- `next-mdx-remote`: MDXãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°\n- `rehype-highlight`: ã‚³ãƒ¼ãƒ‰ãƒã‚¤ãƒ©ã‚¤ãƒˆ\n- `remark-gfm`: GitHub Flavored Markdown\n- `dotenv`: ç’°å¢ƒå¤‰æ•°\n\n### ã‚¹ãƒ†ãƒƒãƒ—3ï¼šãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ä½œæˆ\n\n```bash\nmkdir -p src/lib src/scripts src/types\nmkdir -p src/app/admin src/app/blog/[slug] src/app/api/generate src/app/api/topics src/app/api/[category]\nmkdir -p content/blog/{ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°,ã‚¦ã‚§ãƒ–é–‹ç™º,AIæŠ€è¡“,ã‚­ãƒ£ãƒªã‚¢,ãƒ“ã‚¸ãƒã‚¹}\nmkdir -p .github/workflows\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—4ï¼šç’°å¢ƒå¤‰æ•°è¨­å®š\n\n```.env.local\nGEMINI_API_KEY=your_api_key_here\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—5ï¼šTypeScriptè¨­å®š\n\n`tsconfig.json` ã§ `strict: true` ã‚’ç¢ºèªã€‚\n\n### ã‚¹ãƒ†ãƒƒãƒ—6-8ï¼šå®Ÿè£…ï¼ˆçœç•¥ï¼‰\n\nè©³ç´°ã¯å„ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‚ç…§ã€‚\n\n### ã‚¹ãƒ†ãƒƒãƒ—9ï¼šGitHub Actionsè¨­å®š\n\n`.github/workflows/generate-blog.yml` ã‚’ä½œæˆã€‚\n\n### ã‚¹ãƒ†ãƒƒãƒ—10ï¼šãƒ­ãƒ¼ã‚«ãƒ«ãƒ†ã‚¹ãƒˆ\n\n```bash\nnpm run dev\nnpm run generate\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—11ï¼šVercelãƒ‡ãƒ—ãƒ­ã‚¤\n\n```bash\nvercel deploy\n```\n\n## æ‰€è¦æ™‚é–“\n\nåˆè¨ˆï¼š2-3æ™‚é–“ï¼ˆå®Ÿè£…æ™‚é–“ã‚’å«ã‚€ï¼‰\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `decision_tech_nextjs_vs_vite_2025_04_22.md`\n- `workflow_blog_auto_generation_flow_2025_04_22.md`\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€ŒNext.jsãƒ–ãƒ­ã‚°ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "decision-tech-nextjs-vs-vite",
      "decision-tech-mdx-vs-contentlayer"
    ]
  },
  {
    "slug": "prompt-generation-three-phase-workflow",
    "title": "ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”Ÿæˆ3ãƒ•ã‚§ãƒ¼ã‚ºãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼",
    "category": "Workflowsï¼ˆãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ï¼‰",
    "description": "ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”Ÿæˆ3ãƒ•ã‚§ãƒ¼ã‚ºãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼",
    "project": "novel-automation-system-v2",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"workflow_prompt_generation_three_phase_2025_11_25\",\n  \"type\": \"workflow\",\n  \"name\": \"ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”Ÿæˆ3ãƒ•ã‚§ãƒ¼ã‚ºãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼\",\n  \"tags\": [\"ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼\", \"ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”Ÿæˆ\", \"AIç”Ÿæˆ\", \"3ãƒ•ã‚§ãƒ¼ã‚º\", \"å°èª¬ç”Ÿæˆ\", \"çµ±åˆã‚·ã‚¹ãƒ†ãƒ \"],\n  \"source_project\": \"novel-automation-system-v2\",\n  \"related_knowledge\": [\n    \"skill_eight_system_parallel_integration_2025_11_25\",\n    \"skill_context_generation_system_2025_11_25\",\n    \"skill_section_builder_patterns_2025_11_25\",\n    \"skill_prompt_compression_optimization_2025_11_25\"\n  ],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”Ÿæˆ3ãƒ•ã‚§ãƒ¼ã‚ºãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼\n\n## ä½•ã®ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‹\n\nå°èª¬ã®1ç« ã‚’ç”Ÿæˆã™ã‚‹ãŸã‚ã«å¿…è¦ãªé«˜å“è³ªãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’ã€3ã¤ã®æ˜ç¢ºãªãƒ•ã‚§ãƒ¼ã‚ºï¼ˆãƒ‡ãƒ¼ã‚¿åé›†ã€ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆçµ±åˆã€ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆæ§‹ç¯‰ï¼‰ã‚’çµŒã¦ä½“ç³»çš„ã«ç”Ÿæˆã™ã‚‹ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã€‚\n\n## ãƒ•ãƒ­ãƒ¼å…¨ä½“å›³\n\n```\n[é–‹å§‹: ãƒãƒ£ãƒ—ã‚¿ãƒ¼ç•ªå· N]\n         â†“\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚ PHASE 1: 8å¤§ã‚·ã‚¹ãƒ†ãƒ ä¸¦åˆ—ãƒ‡ãƒ¼ã‚¿åé›†   â”‚\nâ”‚ - Promise.allSettled() ã§ä¸¦åˆ—å®Ÿè¡Œ   â”‚\nâ”‚ - å€‹åˆ¥å¤±æ•—æ™‚ã‚‚å…¨ä½“ç¶™ç¶š                â”‚\nâ”‚ - ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ: å„ã‚·ã‚¹ãƒ†ãƒ 5ç§’         â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n         â†“\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚ PHASE 2: çµ±åˆã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆæ§‹ç¯‰         â”‚\nâ”‚ - 8ã‚·ã‚¹ãƒ†ãƒ ãƒ‡ãƒ¼ã‚¿ã®çµ±åˆ              â”‚\nâ”‚ - ã‚¹ã‚¿ã‚¤ãƒ«ã‚¬ã‚¤ãƒ€ãƒ³ã‚¹ç”Ÿæˆ              â”‚\nâ”‚ - çµ±åˆãƒ¡ãƒˆãƒªã‚¯ã‚¹è¨ˆç®—                 â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n         â†“\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚ PHASE 3: è¶…é«˜å¯†åº¦ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”Ÿæˆ       â”‚\nâ”‚ - ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé¸æŠ                    â”‚\nâ”‚ - 8ã‚»ã‚¯ã‚·ãƒ§ãƒ³æ§‹ç¯‰                     â”‚\nâ”‚ - åœ§ç¸®æœ€é©åŒ–                          â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n         â†“\n[å®Œäº†: æœ€çµ‚ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆå‡ºåŠ›]\n```\n\n## å„ãƒ•ã‚§ãƒ¼ã‚ºã®è©³ç´°\n\n### PHASE 1: 8å¤§ã‚·ã‚¹ãƒ†ãƒ ä¸¦åˆ—ãƒ‡ãƒ¼ã‚¿åé›†\n\n**ä½•ã‚’ã™ã‚‹ã‹**ï¼š\n8ã¤ã®ç‹¬ç«‹ã—ãŸã‚·ã‚¹ãƒ†ãƒ ã‹ã‚‰ä¸¦åˆ—ã«ãƒ‡ãƒ¼ã‚¿ã‚’åé›†ã—ã€çµ±åˆã™ã‚‹æº–å‚™ã‚’è¡Œã†ã€‚\n\n**ãªãœã“ã®ãƒ•ã‚§ãƒ¼ã‚ºã‹**ï¼š\nãƒ‡ãƒ¼ã‚¿åé›†ã‚’ä¸¦åˆ—åŒ–ã™ã‚‹ã“ã¨ã§ã€å‡¦ç†æ™‚é–“ã‚’æœ€å¤§80%å‰Šæ¸›ã§ãã‚‹ã€‚\n\n**ä½¿ç”¨ã™ã‚‹æŠ€è¡“ãƒ»æ‰‹æ³•**ï¼š\n- `Promise.allSettled()` - ä¸¦åˆ—å®Ÿè¡Œã¨å€‹åˆ¥å¤±æ•—ã®è¨±å®¹\n- timeoutæ©Ÿæ§‹ - é…å»¶ã‚·ã‚¹ãƒ†ãƒ ã®å¾…æ©Ÿæ™‚é–“åˆ¶é™\n- ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚° - éƒ¨åˆ†çš„ãªãƒ‡ãƒ¼ã‚¿ã§ã‚‚å‡¦ç†ã‚’ç¶™ç¶š\n\n**å®Ÿè£…ä¾‹**ï¼š\n\n```typescript\nasync function phase1CollectSystemData(chapterNumber: number): Promise<EightSystemsData> {\n  console.log('PHASE 1: 8å¤§ã‚·ã‚¹ãƒ†ãƒ ä¸¦åˆ—ãƒ‡ãƒ¼ã‚¿åé›†é–‹å§‹');\n\n  const timeout = (ms: number) => new Promise((_, reject) =>\n    setTimeout(() => reject(new Error('Timeout')), ms)\n  );\n\n  const systemDataResults = await Promise.allSettled([\n    Promise.race([\n      collectCharacterData(chapterNumber),\n      timeout(5000)\n    ]),\n    Promise.race([\n      collectLearningJourneyData(chapterNumber),\n      timeout(5000)\n    ]),\n    Promise.race([\n      collectMemoryData(chapterNumber),\n      timeout(5000)\n    ]),\n    Promise.race([\n      collectPlotData(chapterNumber),\n      timeout(5000)\n    ]),\n    Promise.race([\n      collectAnalysisData(chapterNumber),\n      timeout(5000)\n    ]),\n    Promise.race([\n      collectParameterData(chapterNumber),\n      timeout(5000)\n    ]),\n    Promise.race([\n      collectForeshadowingData(chapterNumber),\n      timeout(5000)\n    ]),\n    Promise.race([\n      collectLifecycleData(chapterNumber),\n      timeout(5000)\n    ])\n  ]);\n\n  // çµæœã®æŠ½å‡º\n  const systemData: EightSystemsData = {\n    character: extractFulfilledValue(systemDataResults[0]),\n    learningJourney: extractFulfilledValue(systemDataResults[1]),\n    memory: extractFulfilledValue(systemDataResults[2]),\n    plot: extractFulfilledValue(systemDataResults[3]),\n    analysis: extractFulfilledValue(systemDataResults[4]),\n    parameters: extractFulfilledValue(systemDataResults[5]),\n    foreshadowing: extractFulfilledValue(systemDataResults[6]),\n    lifecycle: extractFulfilledValue(systemDataResults[7])\n  };\n\n  // çµ±åˆåº¦ã®è¨ˆç®—\n  const integratedCount = Object.values(systemData)\n    .filter(data => data !== null && data !== undefined)\n    .length;\n\n  console.log(`PHASE 1å®Œäº†: ${integratedCount}/8ã‚·ã‚¹ãƒ†ãƒ çµ±åˆ`);\n\n  return systemData;\n}\n```\n\n**æ‰€è¦æ™‚é–“**: ç´„0.5-1.0ç§’ï¼ˆä¸¦åˆ—å®Ÿè¡Œï¼‰\n\n### PHASE 2: çµ±åˆã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆæ§‹ç¯‰\n\n**ä½•ã‚’ã™ã‚‹ã‹**ï¼š\nPHASE 1ã§åé›†ã—ãŸãƒ‡ãƒ¼ã‚¿ã‚’ã€AIãŒç†è§£ã—ã‚„ã™ã„çµ±åˆã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã«å¤‰æ›ã™ã‚‹ã€‚\n\n**ãªãœã“ã®ãƒ•ã‚§ãƒ¼ã‚ºã‹**ï¼š\nç”Ÿãƒ‡ãƒ¼ã‚¿ã‚’ãã®ã¾ã¾AIã«æ¸¡ã™ã®ã§ã¯ãªãã€æ§‹é€ åŒ–ã•ã‚ŒãŸã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã«å¤‰æ›ã™ã‚‹ã“ã¨ã§ã€AIã®ç†è§£ç²¾åº¦ãŒå‘ä¸Šã™ã‚‹ã€‚\n\n**ä½¿ç”¨ã™ã‚‹æŠ€è¡“ãƒ»æ‰‹æ³•**ï¼š\n- ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒ†ã‚£ãƒ³ã‚° - å„ã‚·ã‚¹ãƒ†ãƒ ãƒ‡ãƒ¼ã‚¿ã‚’çµ±ä¸€å½¢å¼ã«å¤‰æ›\n- ã‚¹ã‚¿ã‚¤ãƒ«ã‚¬ã‚¤ãƒ€ãƒ³ã‚¹ç”Ÿæˆ - åˆ†æãƒ‡ãƒ¼ã‚¿ã‹ã‚‰æ–‡ä½“æŒ‡ç¤ºã‚’ç”Ÿæˆ\n- çµ±åˆãƒ¡ãƒˆãƒªã‚¯ã‚¹è¨ˆç®— - çµ±åˆç‡ã€å“è³ªäºˆæ¸¬ã‚’ç®—å‡º\n\n**å®Ÿè£…ä¾‹**ï¼š\n\n```typescript\nasync function phase2BuildIntegratedContext(\n  chapterNumber: number,\n  systemData: EightSystemsData\n): Promise<RevolutionaryIntegratedData> {\n  console.log('PHASE 2: çµ±åˆã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆæ§‹ç¯‰é–‹å§‹');\n\n  // ã‚¹ãƒ†ãƒƒãƒ—1: åŸºæœ¬ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆæ§‹ç¯‰\n  const basicContext = await buildBasicContext(chapterNumber);\n\n  // ã‚¹ãƒ†ãƒƒãƒ—2: 8å¤§ã‚·ã‚¹ãƒ†ãƒ çµ±åˆ\n  const revolutionaryIntegration = {\n    characterSystem: formatCharacterData(systemData.character),\n    learningJourneySystem: formatLearningJourneyData(systemData.learningJourney),\n    memorySystem: formatMemoryData(systemData.memory),\n    plotSystem: formatPlotData(systemData.plot),\n    analysisSystem: formatAnalysisData(systemData.analysis),\n    parameterSystem: systemData.parameters,\n    foreshadowingSystem: formatForeshadowingData(systemData.foreshadowing),\n    lifecycleSystem: formatLifecycleData(systemData.lifecycle)\n  };\n\n  // ã‚¹ãƒ†ãƒƒãƒ—3: ã‚¹ã‚¿ã‚¤ãƒ«ã‚¬ã‚¤ãƒ€ãƒ³ã‚¹ç”Ÿæˆ\n  const styleGuidance = generateStyleGuidance(\n    systemData.analysis,\n    systemData.parameters\n  );\n\n  // ã‚¹ãƒ†ãƒƒãƒ—4: çµ±åˆãƒ¡ãƒˆãƒªã‚¯ã‚¹è¨ˆç®—\n  const integratedCount = Object.values(systemData)\n    .filter(data => data !== null).length;\n  const integrationRate = (integratedCount / 8) * 100;\n  const qualityImprovement = Math.min(integrationRate * 1.25, 100);\n\n  const integratedContext: RevolutionaryIntegratedData = {\n    basicContext,\n    revolutionaryIntegration,\n    integrationMetrics: {\n      integrationRate,\n      qualityImprovement,\n      systemsIntegrated: integratedCount\n    },\n    styleGuidance,\n    metadata: {\n      generatedAt: new Date().toISOString(),\n      chapterNumber,\n      estimatedTokens: estimateTokens(revolutionaryIntegration)\n    }\n  };\n\n  console.log(`PHASE 2å®Œäº†: çµ±åˆç‡ ${integrationRate}%`);\n\n  return integratedContext;\n}\n```\n\n**æ‰€è¦æ™‚é–“**: ç´„0.2-0.3ç§’\n\n### PHASE 3: è¶…é«˜å¯†åº¦ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”Ÿæˆ\n\n**ä½•ã‚’ã™ã‚‹ã‹**ï¼š\nçµ±åˆã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‹ã‚‰ã€ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé¸æŠã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³æ§‹ç¯‰ã€åœ§ç¸®æœ€é©åŒ–ã‚’çµŒã¦ã€æœ€çµ‚ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’ç”Ÿæˆã™ã‚‹ã€‚\n\n**ãªãœã“ã®ãƒ•ã‚§ãƒ¼ã‚ºã‹**ï¼š\nãƒˆãƒ¼ã‚¯ãƒ³åˆ¶é™å†…ã«åã‚ã¤ã¤ã€æƒ…å ±å¯†åº¦ã‚’æœ€å¤§åŒ–ã™ã‚‹ãŸã‚ã€æ®µéšçš„ãªæœ€é©åŒ–ãŒå¿…è¦ã€‚\n\n**ä½¿ç”¨ã™ã‚‹æŠ€è¡“ãƒ»æ‰‹æ³•**ï¼š\n- ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆç®¡ç† - ç« ã‚¿ã‚¤ãƒ—ãƒ»ã‚¸ãƒ£ãƒ³ãƒ«åˆ¥ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé¸æŠ\n- ã‚»ã‚¯ã‚·ãƒ§ãƒ³æ§‹ç¯‰ - 8ã¤ã®å°‚ç”¨ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’æ§‹ç¯‰\n- åœ§ç¸®æœ€é©åŒ– - ãƒˆãƒ¼ã‚¯ãƒ³åˆ¶é™ã«å¿œã˜ãŸå‹•çš„åœ§ç¸®\n\n**å®Ÿè£…ä¾‹**ï¼š\n\n```typescript\nasync function phase3GeneratePrompt(\n  context: RevolutionaryIntegratedData,\n  options: {\n    chapterType: ChapterType;\n    genre: string;\n    maxTokens: number;\n  }\n): Promise<string> {\n  console.log('PHASE 3: è¶…é«˜å¯†åº¦ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”Ÿæˆé–‹å§‹');\n\n  // ã‚¹ãƒ†ãƒƒãƒ—1: ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé¸æŠ\n  const templateManager = new TemplateManager();\n  const baseTemplate = await templateManager.selectOptimalTemplate({\n    genre: options.genre,\n    chapterType: options.chapterType,\n    tensionLevel: context.revolutionaryIntegration.analysisSystem?.currentTension || 0.5,\n    characterCount: context.revolutionaryIntegration.characterSystem?.activeCharacters.length || 0,\n    narrativeState: 'default',\n    qualityLevel: 'revolutionary'\n  });\n\n  // ã‚¹ãƒ†ãƒƒãƒ—2: 8ã‚»ã‚¯ã‚·ãƒ§ãƒ³æ§‹ç¯‰\n  const sectionBuilder = new SectionBuilder();\n  const sections = [\n    sectionBuilder.buildRevolutionaryCharacter(context.revolutionaryIntegration.characterSystem),\n    sectionBuilder.buildIntegratedLearning(context.revolutionaryIntegration.learningJourneySystem),\n    sectionBuilder.buildUnifiedMemory(context.revolutionaryIntegration.memorySystem),\n    sectionBuilder.buildEnhancedPlot(context.revolutionaryIntegration.plotSystem),\n    sectionBuilder.buildQualityOptimization(\n      context.revolutionaryIntegration.analysisSystem,\n      context.revolutionaryIntegration.parameterSystem\n    ),\n    sectionBuilder.buildAdaptiveForeshadowing(context.revolutionaryIntegration.foreshadowingSystem),\n    sectionBuilder.buildDynamicStyle(context.styleGuidance),\n    sectionBuilder.buildReaderExperience(context)\n  ].filter(s => s); // ç©ºã‚»ã‚¯ã‚·ãƒ§ãƒ³é™¤å»\n\n  let prompt = baseTemplate + '\\n\\n---\\n\\n' + sections.join('\\n\\n---\\n\\n');\n\n  // ã‚¹ãƒ†ãƒƒãƒ—3: åœ§ç¸®æœ€é©åŒ–\n  const estimatedTokens = estimateTokens(prompt);\n  if (estimatedTokens > options.maxTokens) {\n    const compressor = new PromptCompressor();\n    const compressionLevel = selectCompressionLevel(estimatedTokens, options.maxTokens);\n    prompt = compressor.compress(context, compressionLevel);\n\n    console.log(`åœ§ç¸®ãƒ¬ãƒ™ãƒ«: ${compressionLevel} (${estimatedTokens} â†’ ${estimateTokens(prompt)} tokens)`);\n  }\n\n  console.log(`PHASE 3å®Œäº†: æœ€çµ‚ãƒˆãƒ¼ã‚¯ãƒ³æ•° ${estimateTokens(prompt)}`);\n\n  return prompt;\n}\n\nfunction selectCompressionLevel(estimated: number, max: number): CompressionLevel {\n  const ratio = estimated / max;\n  if (ratio <= 0.8) return 'none';\n  if (ratio <= 1.0) return 'light';\n  if (ratio <= 1.3) return 'medium';\n  return 'heavy';\n}\n```\n\n**æ‰€è¦æ™‚é–“**: ç´„0.1-0.2ç§’\n\n## ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°\n\nå„ãƒ•ã‚§ãƒ¼ã‚ºã§ç™ºç”Ÿã—ã†ã‚‹ã‚¨ãƒ©ãƒ¼ã¨å¯¾å‡¦ï¼š\n\n### PHASE 1ã®ã‚¨ãƒ©ãƒ¼\n- **ã‚¨ãƒ©ãƒ¼1**: ç‰¹å®šã‚·ã‚¹ãƒ†ãƒ ã®ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ\n  - **å¯¾å‡¦æ³•**: Promise.allSettled()ã«ã‚ˆã‚Šä»–ã®ã‚·ã‚¹ãƒ†ãƒ ã¯ç¶™ç¶šã€‚nullãƒ‡ãƒ¼ã‚¿ã¨ã—ã¦æ‰±ã†ã€‚\n\n- **ã‚¨ãƒ©ãƒ¼2**: å…¨ã‚·ã‚¹ãƒ†ãƒ å¤±æ•—\n  - **å¯¾å‡¦æ³•**: ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ã¨ã—ã¦åŸºæœ¬ãƒ‡ãƒ¼ã‚¿ã®ã¿ã§ PHASE 2 ã«é€²ã‚€ã€‚\n\n### PHASE 2ã®ã‚¨ãƒ©ãƒ¼\n- **ã‚¨ãƒ©ãƒ¼1**: ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒ†ã‚£ãƒ³ã‚°å¤±æ•—\n  - **å¯¾å‡¦æ³•**: try-catch ã§è©²å½“ã‚·ã‚¹ãƒ†ãƒ ã®ã¿ã‚¹ã‚­ãƒƒãƒ—ã€‚\n\n- **ã‚¨ãƒ©ãƒ¼2**: çµ±åˆç‡ãŒæ¥µç«¯ã«ä½ã„ï¼ˆ<30%ï¼‰\n  - **å¯¾å‡¦æ³•**: è­¦å‘Šãƒ­ã‚°å‡ºåŠ›ã€å“è³ªä½ä¸‹ã‚’è¨±å®¹ã—ã¦ç¶™ç¶šã€‚\n\n### PHASE 3ã®ã‚¨ãƒ©ãƒ¼\n- **ã‚¨ãƒ©ãƒ¼1**: ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé¸æŠå¤±æ•—\n  - **å¯¾å‡¦æ³•**: ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã«ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ã€‚\n\n- **ã‚¨ãƒ©ãƒ¼2**: åœ§ç¸®å¾Œã‚‚ãƒˆãƒ¼ã‚¯ãƒ³è¶…é\n  - **å¯¾å‡¦æ³•**: 'heavy'åœ§ç¸®ã‚’é©ç”¨ã€‚ãã‚Œã§ã‚‚è¶…éãªã‚‰å„ªå…ˆåº¦ä½ã„ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’å‰Šé™¤ã€‚\n\n## å†ç¾æ–¹æ³•\n\n### å®Œå…¨ãªãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼å®Ÿè¡Œ\n\n```typescript\nasync function generateChapterPrompt(\n  chapterNumber: number,\n  options: {\n    chapterType: ChapterType;\n    genre: string;\n    maxTokens: number;\n  }\n): Promise<string> {\n  try {\n    // PHASE 1\n    const systemData = await phase1CollectSystemData(chapterNumber);\n\n    // PHASE 2\n    const integratedContext = await phase2BuildIntegratedContext(chapterNumber, systemData);\n\n    // PHASE 3\n    const prompt = await phase3GeneratePrompt(integratedContext, options);\n\n    return prompt;\n  } catch (error) {\n    console.error('ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”Ÿæˆã‚¨ãƒ©ãƒ¼:', error);\n    throw error;\n  }\n}\n\n// ä½¿ç”¨ä¾‹\nconst prompt = await generateChapterPrompt(10, {\n  chapterType: 'ACTION',\n  genre: 'business',\n  maxTokens: 8000\n});\n\nconsole.log('ç”Ÿæˆã•ã‚ŒãŸãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ:');\nconsole.log(prompt);\n```\n\n## ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ¡ãƒˆãƒªã‚¯ã‚¹\n\n**ç·æ‰€è¦æ™‚é–“**: 0.8-1.5ç§’\n- PHASE 1: 0.5-1.0ç§’ï¼ˆä¸¦åˆ—å®Ÿè¡Œï¼‰\n- PHASE 2: 0.2-0.3ç§’\n- PHASE 3: 0.1-0.2ç§’\n\n**å¾“æ¥ã®é€æ¬¡å‡¦ç†ã¨ã®æ¯”è¼ƒ**:\n- å¾“æ¥: 4.2ç§’\n- 3ãƒ•ã‚§ãƒ¼ã‚ºãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼: 0.8-1.5ç§’\n- **æ”¹å–„ç‡**: 64-81%\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `skill_eight_system_parallel_integration_2025_11_25.md`ï¼šPHASE 1ã®è©³ç´°å®Ÿè£…\n- `skill_context_generation_system_2025_11_25.md`ï¼šPHASE 2ã®è©³ç´°å®Ÿè£…\n- `skill_section_builder_patterns_2025_11_25.md`ï¼šPHASE 3ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³æ§‹ç¯‰\n- `skill_prompt_compression_optimization_2025_11_25.md`ï¼šPHASE 3ã®åœ§ç¸®æœ€é©åŒ–\n",
    "prompt": "### å®Œå…¨ãªãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼å®Ÿè¡Œ\n\n```typescript\nasync function generateChapterPrompt(\n  chapterNumber: number,\n  options: {\n    chapterType: ChapterType;\n    genre: string;\n    maxTokens: number;\n  }\n): Promise<string> {\n  try {\n    // PHASE 1\n    const systemData = await phase1CollectSystemData(chapterNumber);\n\n    // PHASE 2\n    const integratedContext = await phase2BuildIntegratedContext(chapterNumber, systemData);\n\n    // PHASE 3\n    const prompt = await phase3GeneratePrompt(integratedContext, options);\n\n    return prompt;\n  } catch (error) {\n    console.error('ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”Ÿæˆã‚¨ãƒ©ãƒ¼:', error);\n    throw error;\n  }\n}\n\n// ä½¿ç”¨ä¾‹\nconst prompt = await generateChapterPrompt(10, {\n  chapterType: 'ACTION',\n  genre: 'business',\n  maxTokens: 8000\n});\n\nconsole.log('ç”Ÿæˆã•ã‚ŒãŸãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ:');\nconsole.log(prompt);\n```",
    "relatedTech": [
      "skill-eight-system-parallel-integration",
      "skill-context-generation-system",
      "skill-section-builder-patterns",
      "skill-prompt-compression-optimization"
    ]
  },
  {
    "slug": "readonly-manual-update-flow",
    "title": "èª­ã¿å–ã‚Šå°‚ç”¨æ‰‹å‹•æ›´æ–°ãƒ•ãƒ­ãƒ¼å…¨ä½“",
    "category": "Workflowsï¼ˆãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ï¼‰",
    "description": "èª­ã¿å–ã‚Šå°‚ç”¨æ‰‹å‹•æ›´æ–°ãƒ•ãƒ­ãƒ¼å…¨ä½“",
    "project": "yumesuta-management-system",
    "usedIn": [
      "app/dashboard/*/page.tsx, app/api/*/route.ts"
    ],
    "code": "```json\n{\n  \"id\": \"workflow_readonly_manual_update_flow_2025_11_24\",\n  \"type\": \"workflow\",\n  \"name\": \"èª­ã¿å–ã‚Šå°‚ç”¨æ‰‹å‹•æ›´æ–°ãƒ•ãƒ­ãƒ¼å…¨ä½“\",\n  \"tags\": [\"ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼\", \"æ‰‹å‹•æ›´æ–°\", \"èª­ã¿å–ã‚Šå°‚ç”¨\", \"MVP\", \"ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼\", \"Google Sheets\"],\n  \"source_project\": \"yumesuta-management-system\",\n  \"source_file\": \"app/dashboard/*/page.tsx, app/api/*/route.ts\",\n  \"related_knowledge\": [\n    \"decision_data_manual_update_pattern_2025_11_24\",\n    \"decision_mvp_readonly_scope_2025_11_24\",\n    \"skill_api_route_template_pattern_2025_11_24\",\n    \"skill_dashboard_page_template_pattern_2025_11_24\"\n  ],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-24\",\n  \"updated\": \"2025-11-24\"\n}\n```\n\n# èª­ã¿å–ã‚Šå°‚ç”¨æ‰‹å‹•æ›´æ–°ãƒ•ãƒ­ãƒ¼å…¨ä½“\n\n## ä½•ã®ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‹\n\nyumesuta-management-systemã®å…¨æ©Ÿèƒ½ã§çµ±ä¸€ã•ã‚ŒãŸã€èª­ã¿å–ã‚Šå°‚ç”¨ï¼ˆRead-onlyï¼‰+ æ‰‹å‹•æ›´æ–°ï¼ˆManual Updateï¼‰ã®ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼ã€‚\n\n## ãƒ•ãƒ­ãƒ¼å…¨ä½“å›³\n\n```\n[Google Sheets]ï¼ˆãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ï¼‰\n       â†“\n   ï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã§ç·¨é›†ï¼‰\n       â†“\n[Dashboardãƒšãƒ¼ã‚¸]\n   ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã€Œæ›´æ–°ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯\n       â†“\n[API Route]\n   `/api/[feature]` â†’ Google Sheets APIã§ãƒ‡ãƒ¼ã‚¿å–å¾—\n       â†“\n   ãƒ‡ãƒ¼ã‚¿ã‚’ãƒ‘ãƒ¼ã‚¹ãƒ»å‹ä»˜ã‘\n       â†“\n   `{ success: true, data: {...} }` å½¢å¼ã§ãƒ¬ã‚¹ãƒãƒ³ã‚¹\n       â†“\n[Dashboardãƒšãƒ¼ã‚¸]\n   ãƒ‡ãƒ¼ã‚¿ã‚’å—ã‘å–ã‚Šã€ã‚¹ãƒ†ãƒ¼ãƒˆã«ä¿å­˜\n       â†“\n   ç”»é¢ã«è¡¨ç¤º\n```\n\n## å„ã‚¹ãƒ†ãƒƒãƒ—ã®è©³ç´°\n\n### ã‚¹ãƒ†ãƒƒãƒ—1: ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ï¼ˆGoogle Sheetsï¼‰\n\n**ä½•ã‚’ã™ã‚‹ã‹**:\n- ã™ã¹ã¦ã®ãƒ‡ãƒ¼ã‚¿ã¯Google Sheetsã«è¨˜éŒ²ã•ã‚Œã‚‹\n- ãƒ¦ãƒ¼ã‚¶ãƒ¼ï¼ˆã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆç®¡ç†è€…ï¼‰ãŒã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã§ç›´æ¥ç·¨é›†ã™ã‚‹\n\n**ãªãœã“ã®é †åºã‹**:\n- æ—¢å­˜ã®æ¥­å‹™ãƒ•ãƒ­ãƒ¼ã‚’ç¶­æŒï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã«æ…£ã‚Œã¦ã„ã‚‹ï¼‰\n- ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆãŒå”¯ä¸€ã®ä¿¡é ¼ã§ãã‚‹æƒ…å ±æºï¼ˆSingle Source of Truthï¼‰\n\n**ä½¿ç”¨ã™ã‚‹æŠ€è¡“ãƒ»æ‰‹æ³•**:\n- Google Sheets API v4ï¼ˆ`skill_google_sheets_a1_notation_2025_11_24.md` å‚ç…§ï¼‰\n- ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆèªè¨¼ï¼ˆ`skill_google_sheets_service_account_auth_2025_11_24.md` å‚ç…§ï¼‰\n\n### ã‚¹ãƒ†ãƒƒãƒ—2: ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã§ã€Œæ›´æ–°ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯\n\n**ä½•ã‚’ã™ã‚‹ã‹**:\n- Dashboardãƒšãƒ¼ã‚¸ã§ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã€Œæ›´æ–°ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹\n- ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ãŒ `fetchData()` é–¢æ•°ã‚’å‘¼ã³å‡ºã™\n\n**ãªãœã“ã®é †åºã‹**:\n- è‡ªå‹•ãƒãƒ¼ãƒªãƒ³ã‚°ï¼ˆå®šæœŸçš„ãªè‡ªå‹•æ›´æ–°ï¼‰ã‚’è¡Œã‚ãªã„ãŸã‚ã€APIã‚¯ã‚©ãƒ¼ã‚¿ã‚’ç¯€ç´„\n- ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãƒ‡ãƒ¼ã‚¿æ›´æ–°ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã‚’åˆ¶å¾¡ã§ãã‚‹\n\n**ä½¿ç”¨ã™ã‚‹æŠ€è¡“ãƒ»æ‰‹æ³•**:\n- React `useState` ã§ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°çŠ¶æ…‹ã‚’ç®¡ç†\n- `onClick` ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒ©ã§ `fetchData()` ã‚’å‘¼ã³å‡ºã™\n\n**ä¾‹**:\n```typescript\nconst [loading, setLoading] = useState(false);\n\nconst fetchData = async () => {\n  setLoading(true);\n  try {\n    const res = await fetch('/api/sales-kpi');\n    const data = await res.json();\n    if (data.success) {\n      setKpiData(data);\n    }\n  } finally {\n    setLoading(false);\n  }\n};\n\n<button onClick={fetchData}>æ›´æ–°</button>\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3: API Routeã§ãƒ‡ãƒ¼ã‚¿å–å¾—\n\n**ä½•ã‚’ã™ã‚‹ã‹**:\n- API RouteãŒ Google Sheets APIã‚’å‘¼ã³å‡ºã—ã¦ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—\n- A1è¡¨è¨˜æ³•ã§å¿…è¦ãªç¯„å›²ã®ã¿ã‚’å–å¾—\n- ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãŒã‚ã‚Œã°ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‹ã‚‰è¿”ã™ï¼ˆ5åˆ†TTLï¼‰\n\n**ãªãœã“ã®é †åºã‹**:\n- API RouteãŒãƒ‡ãƒ¼ã‚¿ãƒˆãƒ©ãƒ³ã‚¹ãƒ•ã‚©ãƒ¼ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ¬ã‚¤ãƒ¤ãƒ¼ã¨ã—ã¦æ©Ÿèƒ½\n- ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã¯ç”Ÿãƒ‡ãƒ¼ã‚¿ã§ã¯ãªãã€ãƒ‘ãƒ¼ã‚¹æ¸ˆã¿ã®å‹ä»˜ããƒ‡ãƒ¼ã‚¿ã‚’å—ã‘å–ã‚‹\n\n**ä½¿ç”¨ã™ã‚‹æŠ€è¡“ãƒ»æ‰‹æ³•**:\n- `getSheetData(spreadsheetId, range)` ã¾ãŸã¯ `getBatchSheetData(spreadsheetId, ranges[])`\n- 5åˆ†TTLã‚­ãƒ£ãƒƒã‚·ãƒ¥ï¼ˆ`skill_google_sheets_cache_implementation_2025_11_24.md` å‚ç…§ï¼‰\n\n**ä¾‹**:\n```typescript\nexport async function GET() {\n  try {\n    const spreadsheetId = process.env.SALES_SPREADSHEET_ID!;\n    const [kpiData, monthlyData] = await getBatchSheetData(\n      spreadsheetId,\n      ['KPIãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰!A1:K25', 'æœˆæ¬¡äºˆå®Ÿç®¡ç†!A1:W15']\n    );\n\n    const parsed = parseKPIData(kpiData);\n    return NextResponse.json({ success: true, data: parsed });\n  } catch (error) {\n    return NextResponse.json({ success: false, error: error.message }, { status: 500 });\n  }\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—4: ãƒ‡ãƒ¼ã‚¿ã®ãƒ‘ãƒ¼ã‚¹ãƒ»å‹ä»˜ã‘\n\n**ä½•ã‚’ã™ã‚‹ã‹**:\n- Google Sheets APIã‹ã‚‰è¿”ã•ã‚Œã‚‹ `any[][]` ã‚’ã€å‹ä»˜ãã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«å¤‰æ›\n- æ—¥æœ¬èªã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’Enumã«å¤‰æ›\n- ç©ºè¡Œã‚’ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°\n- æ—¥ä»˜ã‚’ãƒ‘ãƒ¼ã‚¹\n\n**ãªãœã“ã®é †åºã‹**:\n- ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ãŒå‹å®‰å…¨ã«ãƒ‡ãƒ¼ã‚¿ã‚’æ‰±ãˆã‚‹ã‚ˆã†ã«ã™ã‚‹\n- ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ï¼ˆãƒ‘ãƒ¼ã‚¹ã€å¤‰æ›ï¼‰ã‚’APIå±¤ã«é›†ç´„\n\n**ä½¿ç”¨ã™ã‚‹æŠ€è¡“ãƒ»æ‰‹æ³•**:\n- `skill_japanese_status_enum_conversion_2025_11_24.md` - æ—¥æœ¬èªã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹å¤‰æ›\n- `skill_empty_row_filtering_2025_11_24.md` - ç©ºè¡Œãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°\n- `skill_date_parsing_null_check_2025_11_24.md` - æ—¥ä»˜ãƒ‘ãƒ¼ã‚¹\n\n**ä¾‹**:\n```typescript\nfunction parseKPIData(data: any[][]) {\n  const month = parseInt(data[1]?.[1] || '0');\n  const metrics = {\n    telAppointments: parseMetricRow(data[11]),\n    appointments: parseMetricRow(data[12]),\n    // ...\n  };\n  return { kpi: { month, metrics } };\n}\n\nfunction parseMetricRow(row: any[] | undefined) {\n  if (!row) return { actual: 0, status: 'warning' as const };\n  const actual = parseInt(row[3] || '0');\n  const statusText = row[5] || '';\n  const status = statusText.includes('é †èª¿') ? 'ok' : 'warning';\n  return { actual, status: status as 'ok' | 'warning' };\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—5: ãƒ¬ã‚¹ãƒãƒ³ã‚¹è¿”å´\n\n**ä½•ã‚’ã™ã‚‹ã‹**:\n- API RouteãŒ `{ success: true, data: {...} }` å½¢å¼ã§ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’è¿”ã™\n- ã‚¨ãƒ©ãƒ¼æ™‚ã¯ `{ success: false, error: \"...\" }` ã‚’è¿”ã™\n\n**ãªãœã“ã®é †åºã‹**:\n- çµ±ä¸€çš„ãªãƒ¬ã‚¹ãƒãƒ³ã‚¹å½¢å¼ã«ã‚ˆã‚Šã€ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã§ã®å‡¦ç†ãŒä¸€è²«ã™ã‚‹\n\n**ä½¿ç”¨ã™ã‚‹æŠ€è¡“ãƒ»æ‰‹æ³•**:\n- `NextResponse.json<YourResponseType>({ success, data, error })`\n\n### ã‚¹ãƒ†ãƒƒãƒ—6: Dashboardãƒšãƒ¼ã‚¸ã§ãƒ‡ãƒ¼ã‚¿ã‚’å—ã‘å–ã‚Šã€è¡¨ç¤º\n\n**ä½•ã‚’ã™ã‚‹ã‹**:\n- ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ãŒ APIãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’å—ã‘å–ã‚‹\n- `success` ãƒ•ãƒ©ã‚°ã‚’ãƒã‚§ãƒƒã‚¯ã—ã€æˆåŠŸæ™‚ã¯ãƒ‡ãƒ¼ã‚¿ã‚’ã‚¹ãƒ†ãƒ¼ãƒˆã«ä¿å­˜\n- å¤±æ•—æ™‚ã¯ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¡¨ç¤º\n\n**ãªãœã“ã®é †åºã‹**:\n- ã‚¹ãƒ†ãƒ¼ãƒˆãƒ™ãƒ¼ã‚¹ã®Reactãƒ‘ã‚¿ãƒ¼ãƒ³ã«å¾“ã„ã€ãƒ‡ãƒ¼ã‚¿å¤‰æ›´æ™‚ã«è‡ªå‹•çš„ã«å†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°\n\n**ä½¿ç”¨ã™ã‚‹æŠ€è¡“ãƒ»æ‰‹æ³•**:\n- React `useState` ã§ãƒ‡ãƒ¼ã‚¿ã‚’ç®¡ç†\n- `skill_dashboard_page_template_pattern_2025_11_24.md` å‚ç…§\n\n**ä¾‹**:\n```typescript\nconst [kpiData, setKpiData] = useState(null);\nconst [error, setError] = useState(null);\n\nconst fetchKPIData = async () => {\n  const res = await fetch('/api/sales-kpi');\n  const data = await res.json();\n\n  if (data.success) {\n    setKpiData(data);\n  } else {\n    setError(data.error);\n  }\n};\n\nreturn (\n  <div>\n    {error && <div>ã‚¨ãƒ©ãƒ¼: {error}</div>}\n    {kpiData && <div>{/* KPIãƒ‡ãƒ¼ã‚¿ã‚’è¡¨ç¤º */}</div>}\n  </div>\n);\n```\n\n## ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°\n\nå„ã‚¹ãƒ†ãƒƒãƒ—ã§ç™ºç”Ÿã—ã†ã‚‹ã‚¨ãƒ©ãƒ¼ã¨å¯¾å‡¦ï¼š\n\n### ã‚¨ãƒ©ãƒ¼1: Google Sheets APIå‘¼ã³å‡ºã—å¤±æ•—\n\n**åŸå› **:\n- ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆèªè¨¼æƒ…å ±ãŒé–“é•ã£ã¦ã„ã‚‹\n- ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆIDãŒé–“é•ã£ã¦ã„ã‚‹\n- APIã‚¯ã‚©ãƒ¼ã‚¿è¶…éï¼ˆ60ãƒªã‚¯ã‚¨ã‚¹ãƒˆ/åˆ†ï¼‰\n\n**å¯¾å‡¦æ³•**:\n- `.env.local` ã®ç’°å¢ƒå¤‰æ•°ã‚’ç¢ºèª\n- `failure_api_quota_exceeded_crisis_2025_11_24.md` ã‚’å‚ç…§ã—ã€APIã‚¯ã‚©ãƒ¼ã‚¿å¯¾ç­–ã‚’å®Ÿæ–½\n\n### ã‚¨ãƒ©ãƒ¼2: ãƒ‡ãƒ¼ã‚¿ãƒ‘ãƒ¼ã‚¹ã‚¨ãƒ©ãƒ¼\n\n**åŸå› **:\n- ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã®æ§‹é€ ãŒå¤‰æ›´ã•ã‚ŒãŸ\n- ç©ºã‚»ãƒ«ã€Nullå€¤ãŒå«ã¾ã‚Œã¦ã„ã‚‹\n- æ—¥ä»˜ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆãŒä¸æ­£\n\n**å¯¾å‡¦æ³•**:\n- å‹ã‚¬ãƒ¼ãƒ‰ãƒ»Nullãƒã‚§ãƒƒã‚¯ã‚’å®Ÿè£…ï¼ˆ`skill_date_parsing_null_check_2025_11_24.md` å‚ç…§ï¼‰\n- ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã‚’è¨­å®šã—ã¦ã‚¨ãƒ©ãƒ¼ã‚’å¸å\n\n### ã‚¨ãƒ©ãƒ¼3: ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã§ã®å–å¾—å¤±æ•—\n\n**åŸå› **:\n- ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¨ãƒ©ãƒ¼\n- API RouteãŒã‚¨ãƒ©ãƒ¼ã‚’è¿”ã—ãŸ\n\n**å¯¾å‡¦æ³•**:\n- try-catchã§ã‚¨ãƒ©ãƒ¼ã‚’ã‚­ãƒ£ãƒƒãƒã—ã€ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¡¨ç¤º\n- ã€Œå†èª­ã¿è¾¼ã¿ã€ãƒœã‚¿ãƒ³ã‚’æä¾›\n\n## å†ç¾æ–¹æ³•\n\n### å®Œå…¨ãªå®Ÿè£…ä¾‹\n\n#### 1. API Routeã®å®Ÿè£…\n\n```typescript\n// app/api/sales-kpi/route.ts\nimport { NextResponse } from 'next/server';\nimport { getBatchSheetData } from '@/lib/google-sheets';\nimport type { SalesKPIResponse } from '@/types/sales';\n\nexport async function GET() {\n  try {\n    const spreadsheetId = process.env.SALES_SPREADSHEET_ID!;\n    const [kpiData, monthlyData] = await getBatchSheetData(spreadsheetId, [\n      'KPIãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰!A1:K25',\n      'æœˆæ¬¡äºˆå®Ÿç®¡ç†!A1:W15',\n    ]);\n\n    const kpiResponse = parseKPIData(kpiData);\n    const monthlyPerformance = parseMonthlyPerformance(monthlyData);\n\n    return NextResponse.json<SalesKPIResponse>({\n      success: true,\n      data: { ...kpiResponse, monthlyPerformance, updatedAt: new Date().toISOString() },\n    });\n  } catch (error) {\n    return NextResponse.json<SalesKPIResponse>(\n      { success: false, error: error.message },\n      { status: 500 }\n    );\n  }\n}\n```\n\n#### 2. Dashboardãƒšãƒ¼ã‚¸ã®å®Ÿè£…\n\n```typescript\n// app/dashboard/sales/page.tsx\n'use client';\nimport { useState, useEffect } from 'react';\nimport { RefreshCw } from 'lucide-react';\n\nexport default function SalesDashboard() {\n  const [kpiData, setKpiData] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  const fetchKPIData = async () => {\n    setLoading(true);\n    setError(null);\n    try {\n      const res = await fetch('/api/sales-kpi');\n      const data = await res.json();\n      if (data.success) {\n        setKpiData(data);\n      } else {\n        setError(data.error);\n      }\n    } catch (err) {\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchKPIData();\n  }, []);\n\n  if (loading) return <div>èª­ã¿è¾¼ã¿ä¸­...</div>;\n  if (error) return <div>ã‚¨ãƒ©ãƒ¼: {error}</div>;\n\n  return (\n    <div>\n      <button onClick={fetchKPIData}>\n        <RefreshCw /> æ›´æ–°\n      </button>\n      {/* KPIãƒ‡ãƒ¼ã‚¿ã‚’è¡¨ç¤º */}\n    </div>\n  );\n}\n```\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `decision_data_manual_update_pattern_2025_11_24.md`: æ‰‹å‹•æ›´æ–°ãƒ‘ã‚¿ãƒ¼ãƒ³ã®è¨­è¨ˆåˆ¤æ–­\n- `decision_mvp_readonly_scope_2025_11_24.md`: MVPèª­ã¿å–ã‚Šå°‚ç”¨æ–¹é‡\n- `skill_api_route_template_pattern_2025_11_24.md`: API Routeå®Ÿè£…ãƒ‘ã‚¿ãƒ¼ãƒ³\n- `skill_dashboard_page_template_pattern_2025_11_24.md`: Dashboard Pageå®Ÿè£…ãƒ‘ã‚¿ãƒ¼ãƒ³\n- `skill_google_sheets_cache_implementation_2025_11_24.md`: 5åˆ†TTLã‚­ãƒ£ãƒƒã‚·ãƒ¥å®Ÿè£…\n- `failure_api_quota_exceeded_crisis_2025_11_24.md`: APIã‚¯ã‚©ãƒ¼ã‚¿è¶…éå•é¡Œ\n",
    "prompt": "### å®Œå…¨ãªå®Ÿè£…ä¾‹\n\n#### 1. API Routeã®å®Ÿè£…\n\n```typescript\n// app/api/sales-kpi/route.ts\nimport { NextResponse } from 'next/server';\nimport { getBatchSheetData } from '@/lib/google-sheets';\nimport type { SalesKPIResponse } from '@/types/sales';\n\nexport async function GET() {\n  try {\n    const spreadsheetId = process.env.SALES_SPREADSHEET_ID!;\n    const [kpiData, monthlyData] = await getBatchSheetData(spreadsheetId, [\n      'KPIãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰!A1:K25',\n      'æœˆæ¬¡äºˆå®Ÿç®¡ç†!A1:W15',\n    ]);\n\n    const kpiResponse = parseKPIData(kpiData);\n    const monthlyPerformance = parseMonthlyPerformance(monthlyData);\n\n    return NextResponse.json<SalesKPIResponse>({\n      success: true,\n      data: { ...kpiResponse, monthlyPerformance, updatedAt: new Date().toISOString() },\n    });\n  } catch (error) {\n    return NextResponse.json<SalesKPIResponse>(\n      { success: false, error: error.message },\n      { status: 500 }\n    );\n  }\n}\n```\n\n#### 2. Dashboardãƒšãƒ¼ã‚¸ã®å®Ÿè£…\n\n```typescript\n// app/dashboard/sales/page.tsx\n'use client';\nimport { useState, useEffect } from 'react';\nimport { RefreshCw } from 'lucide-react';\n\nexport default function SalesDashboard() {\n  const [kpiData, setKpiData] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  const fetchKPIData = async () => {\n    setLoading(true);\n    setError(null);\n    try {\n      const res = await fetch('/api/sales-kpi');\n      const data = await res.json();\n      if (data.success) {\n        setKpiData(data);\n      } else {\n        setError(data.error);\n      }\n    } catch (err) {\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchKPIData();\n  }, []);\n\n  if (loading) return <div>èª­ã¿è¾¼ã¿ä¸­...</div>;\n  if (error) return <div>ã‚¨ãƒ©ãƒ¼: {error}</div>;\n\n  return (\n    <div>\n      <button onClick={fetchKPIData}>\n        <RefreshCw /> æ›´æ–°\n      </button>\n      {/* KPIãƒ‡ãƒ¼ã‚¿ã‚’è¡¨ç¤º */}\n    </div>\n  );\n}\n```",
    "relatedTech": [
      "decision-data-manual-update-pattern",
      "decision-mvp-readonly-scope",
      "skill-api-route-template-pattern",
      "skill-dashboard-page-template-pattern"
    ]
  },
  {
    "slug": "research-formatter-preprocessing-workflow",
    "title": "ãƒªã‚µãƒ¼ãƒãƒ•ã‚©ãƒ¼ãƒãƒƒã‚¿ãƒ¼å‰å‡¦ç†ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼",
    "category": "Workflowsï¼ˆãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ï¼‰",
    "description": "**ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒå…¥åŠ›ã—ãŸãƒªã‚µãƒ¼ãƒãƒ†ã‚­ã‚¹ãƒˆã‚’ã€InstagramæŠ•ç¨¿ã«æœ€é©ãªå½¢å¼ã«å‰å‡¦ç†ã™ã‚‹ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã€‚**",
    "project": "instagram-post-generator",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"workflow_research_formatter_preprocessing_workflow_2025_11_25\",\n  \"type\": \"workflow\",\n  \"name\": \"ãƒªã‚µãƒ¼ãƒãƒ•ã‚©ãƒ¼ãƒãƒƒã‚¿ãƒ¼å‰å‡¦ç†ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼\",\n  \"tags\": [\"å‰å‡¦ç†\", \"ã‚¸ãƒ£ãƒ³ãƒ«é¸æŠ\", \"ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ\", \"URLãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿\", \"LocalStorage\"],\n  \"source_project\": \"instagram-post-generator\",\n  \"workflow_steps\": 7,\n  \"related_knowledge\": [\n    \"decision_arch_two_stage_generation_2025_11_25\",\n    \"skill_five_stage_ai_pipeline_2025_11_25\"\n  ],\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# ãƒªã‚µãƒ¼ãƒãƒ•ã‚©ãƒ¼ãƒãƒƒã‚¿ãƒ¼å‰å‡¦ç†ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼\n\n## ä½•ã‚’ã™ã‚‹ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‹\n\n**ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒå…¥åŠ›ã—ãŸãƒªã‚µãƒ¼ãƒãƒ†ã‚­ã‚¹ãƒˆã‚’ã€InstagramæŠ•ç¨¿ã«æœ€é©ãªå½¢å¼ã«å‰å‡¦ç†ã™ã‚‹ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã€‚**\n\n**ãƒ•ãƒ­ãƒ¼æ¦‚è¦**:\n```\nãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›ï¼ˆç”Ÿã®ãƒªã‚µãƒ¼ãƒãƒ†ã‚­ã‚¹ãƒˆï¼‰\n  â†“\nã‚¸ãƒ£ãƒ³ãƒ«é¸æŠï¼ˆ7ã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰\n  â†“\nAI ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆå‘¼ã³å‡ºã—\n  â†“\nãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆæ¸ˆã¿ãƒ†ã‚­ã‚¹ãƒˆ\n  â†“\nURLãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°\n  â†“\nLocalStorage æ°¸ç¶šåŒ–\n  â†“\nãƒ¡ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ ã¸ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ\n```\n\n**7ã¤ã®ã‚¸ãƒ£ãƒ³ãƒ«**:\n1. ä¼æ¥­ãƒ©ãƒ³ã‚­ãƒ³ã‚°\n2. æ‚©ã¿è§£æ±º\n3. ã‚¹ãƒ†ãƒƒãƒ—ã‚¬ã‚¤ãƒ‰\n4. æ¯”è¼ƒ\n5. Tips\n6. ãƒ‡ãƒ¼ã‚¿\n7. ãã®ä»–\n\n---\n\n## ãªãœã“ã®ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ãŒé‡è¦ã‹\n\n### ç†ç”±1: ç”Ÿã®ãƒªã‚µãƒ¼ãƒãƒ†ã‚­ã‚¹ãƒˆã®å•é¡Œ\n\n**å•é¡Œ**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒè²¼ã‚Šä»˜ã‘ã‚‹ç”Ÿã®ãƒ†ã‚­ã‚¹ãƒˆ\n\n```\nã€Œä¼æ¥­ç ”ç©¶ã®ã‚„ã‚Šæ–¹\n1. ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸ã‚’è¦‹ã‚‹\n2. å£ã‚³ãƒŸã‚µã‚¤ãƒˆã‚’ãƒã‚§ãƒƒã‚¯\n3. OBè¨ªå•ã™ã‚‹\n...ï¼ˆç®‡æ¡æ›¸ãã€ä½“è£ãƒãƒ©ãƒãƒ©ï¼‰ã€\n```\n\n**èª²é¡Œ**:\n- æ§‹é€ åŒ–ã•ã‚Œã¦ã„ãªã„\n- InstagramæŠ•ç¨¿ã«ä¸é©åˆ‡\n- ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé¸æŠãŒå›°é›£\n\n### ç†ç”±2: ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆå‡¦ç†ã®åŠ¹æœ\n\n**Beforeï¼ˆç”Ÿã®ãƒ†ã‚­ã‚¹ãƒˆï¼‰**:\n```\nã‚¸ãƒ£ãƒ³ãƒ«: ä¸æ˜\nãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé¸æŠ: å›°é›£\nå“è³ª: ä½\n```\n\n**Afterï¼ˆãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆæ¸ˆã¿ï¼‰**:\n```\nã‚¸ãƒ£ãƒ³ãƒ«: ã‚¹ãƒ†ãƒƒãƒ—ã‚¬ã‚¤ãƒ‰\næ¨å¥¨ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ: step-by-step\næ§‹é€ : æ˜ç¢ºï¼ˆ3ã‚¹ãƒ†ãƒƒãƒ—ï¼‰\nå“è³ª: é«˜\n```\n\n---\n\n## æ‰‹é †\n\n### ã‚¹ãƒ†ãƒƒãƒ—1: ã‚¸ãƒ£ãƒ³ãƒ«é¸æŠç”»é¢è¡¨ç¤º\n\n**UI**: `/research-formatter` ãƒšãƒ¼ã‚¸\n\n```typescript\n// app/research-formatter/page.tsx (æ¦‚å¿µ)\nexport default function ResearchFormatterPage() {\n  const [userInput, setUserInput] = useState('')\n  const [selectedGenre, setSelectedGenre] = useState('')\n\n  const genres = [\n    'ä¼æ¥­ãƒ©ãƒ³ã‚­ãƒ³ã‚°',\n    'æ‚©ã¿è§£æ±º',\n    'ã‚¹ãƒ†ãƒƒãƒ—ã‚¬ã‚¤ãƒ‰',\n    'æ¯”è¼ƒ',\n    'Tips',\n    'ãƒ‡ãƒ¼ã‚¿',\n    'ãã®ä»–'\n  ]\n\n  return (\n    <div>\n      <h1>ãƒªã‚µãƒ¼ãƒãƒ•ã‚©ãƒ¼ãƒãƒƒã‚¿ãƒ¼</h1>\n\n      {/* ãƒ†ã‚­ã‚¹ãƒˆå…¥åŠ› */}\n      <textarea\n        value={userInput}\n        onChange={(e) => setUserInput(e.target.value)}\n        placeholder=\"ãƒªã‚µãƒ¼ãƒãƒ†ã‚­ã‚¹ãƒˆã‚’è²¼ã‚Šä»˜ã‘ã¦ãã ã•ã„...\"\n        rows={15}\n      />\n\n      {/* ã‚¸ãƒ£ãƒ³ãƒ«é¸æŠ */}\n      <select\n        value={selectedGenre}\n        onChange={(e) => setSelectedGenre(e.target.value)}\n      >\n        <option value=\"\">ã‚¸ãƒ£ãƒ³ãƒ«ã‚’é¸æŠ...</option>\n        {genres.map((genre) => (\n          <option key={genre} value={genre}>{genre}</option>\n        ))}\n      </select>\n\n      {/* ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆå®Ÿè¡Œ */}\n      <button onClick={handleFormat}>ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆå®Ÿè¡Œ</button>\n    </div>\n  )\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2: AI ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆå‘¼ã³å‡ºã—\n\n```typescript\nasync function handleFormat() {\n  if (!userInput || !selectedGenre) {\n    alert('ãƒ†ã‚­ã‚¹ãƒˆã¨ã‚¸ãƒ£ãƒ³ãƒ«ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„')\n    return\n  }\n\n  console.log('ğŸš€ ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆé–‹å§‹...')\n\n  // AIãƒ—ãƒ­ãƒ³ãƒ—ãƒˆæ§‹ç¯‰\n  const prompt = `\nä»¥ä¸‹ã®ãƒªã‚µãƒ¼ãƒãƒ†ã‚­ã‚¹ãƒˆã‚’ã€InstagramæŠ•ç¨¿ã«æœ€é©ãªå½¢å¼ã«ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã—ã¦ãã ã•ã„ã€‚\n\nã€ã‚¸ãƒ£ãƒ³ãƒ«ã€‘\n${selectedGenre}\n\nã€ãƒªã‚µãƒ¼ãƒãƒ†ã‚­ã‚¹ãƒˆã€‘\n${userInput}\n\nã€ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆè¦ä»¶ã€‘\n1. ã‚¸ãƒ£ãƒ³ãƒ«ã«å¿œã˜ãŸæ§‹é€ åŒ–\n2. æ˜ç¢ºãªã‚»ã‚¯ã‚·ãƒ§ãƒ³åˆ†ã‘\n3. InstagramæŠ•ç¨¿ã«é©ã—ãŸé•·ã•\n4. èª­ã¿ã‚„ã™ã„ç®‡æ¡æ›¸ã\n5. ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰æŠ½å‡º\n\nã€å‡ºåŠ›å½¢å¼ã€‘\nJSONå½¢å¼ã§ä»¥ä¸‹ã‚’å‡ºåŠ›:\n{\n  \"formattedText\": \"ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆæ¸ˆã¿ãƒ†ã‚­ã‚¹ãƒˆ\",\n  \"recommendedTemplate\": \"æ¨å¥¨ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå\",\n  \"keywords\": [\"ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰1\", \"ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰2\"],\n  \"structure\": {\n    \"intro\": \"å°å…¥æ–‡\",\n    \"mainPoints\": [\"ãƒã‚¤ãƒ³ãƒˆ1\", \"ãƒã‚¤ãƒ³ãƒˆ2\"],\n    \"conclusion\": \"ã¾ã¨ã‚\"\n  }\n}\n  `\n\n  // AIå‘¼ã³å‡ºã—\n  const response = await fetch('/api/format-research', {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify({ prompt })\n  })\n\n  const result = await response.json()\n  console.log('âœ… ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆå®Œäº†:', result)\n\n  return result\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3: ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆæ¸ˆã¿ãƒ†ã‚­ã‚¹ãƒˆã®å‡¦ç†\n\n```typescript\nconst formattedResult = await handleFormat()\n\n// ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆæ¸ˆã¿ãƒ†ã‚­ã‚¹ãƒˆ\nconst formattedText = formattedResult.formattedText\nconst recommendedTemplate = formattedResult.recommendedTemplate\nconst keywords = formattedResult.keywords\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—4: URLãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°\n\n```typescript\n// URLãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¨ã—ã¦æ¸¡ã™\nconst params = new URLSearchParams({\n  content: formattedText,\n  genre: selectedGenre,\n  template: recommendedTemplate,\n  keywords: keywords.join(',')\n})\n\nconst url = `/instagram-generator?${params.toString()}`\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—5: LocalStorage æ°¸ç¶šåŒ–\n\n```typescript\n// LocalStorageã«ä¿å­˜ï¼ˆURLãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãŒé•·ã™ãã‚‹å ´åˆã®å¯¾ç­–ï¼‰\nif (formattedText.length > 2000) {\n  console.log('ğŸ“¦ LocalStorageã«ä¿å­˜ï¼ˆé•·ã„ãƒ†ã‚­ã‚¹ãƒˆï¼‰')\n\n  localStorage.setItem('formattedContent', JSON.stringify({\n    content: formattedText,\n    genre: selectedGenre,\n    template: recommendedTemplate,\n    keywords,\n    timestamp: Date.now()\n  }))\n\n  // LocalStorageã‚­ãƒ¼ã®ã¿URLã«å«ã‚ã‚‹\n  const url = `/instagram-generator?useStorage=true`\n} else {\n  // çŸ­ã„ãƒ†ã‚­ã‚¹ãƒˆã¯URLãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã§æ¸¡ã™\n  const url = `/instagram-generator?${params.toString()}`\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—6: ãƒ¡ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ ã¸ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ\n\n```typescript\n// ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ\nrouter.push(url)\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—7: ãƒ¡ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ ã§ã®å—ã‘å–ã‚Š\n\n```typescript\n// app/instagram-generator/page.tsx (æ¦‚å¿µ)\nexport default function InstagramGeneratorPage() {\n  const searchParams = useSearchParams()\n  const useStorage = searchParams.get('useStorage') === 'true'\n\n  let formattedContent\n\n  if (useStorage) {\n    // LocalStorageã‹ã‚‰å–å¾—\n    const stored = localStorage.getItem('formattedContent')\n    if (stored) {\n      formattedContent = JSON.parse(stored)\n      console.log('ğŸ“¦ LocalStorageã‹ã‚‰å¾©å…ƒ')\n    }\n  } else {\n    // URLãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‹ã‚‰å–å¾—\n    formattedContent = {\n      content: searchParams.get('content'),\n      genre: searchParams.get('genre'),\n      template: searchParams.get('template'),\n      keywords: searchParams.get('keywords')?.split(',')\n    }\n    console.log('ğŸ”— URLãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‹ã‚‰å¾©å…ƒ')\n  }\n\n  // ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆæ¸ˆã¿ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã§ç”Ÿæˆé–‹å§‹\n  const generatedContent = await generateHighQualityContent(formattedContent.content, {\n    genre: formattedContent.genre,\n    recommendedTemplate: formattedContent.template\n  })\n\n  return <EditablePostGenerator content={generatedContent} />\n}\n```\n\n---\n\n## ã„ã¤ä½¿ã†ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‹\n\n### ä½¿ç”¨å ´é¢1: é•·æ–‡ãƒªã‚µãƒ¼ãƒã®å‰å‡¦ç†\n\n```\nãƒ¦ãƒ¼ã‚¶ãƒ¼: ä¼æ¥­ç ”ç©¶ã®è©³ç´°ãªãƒ¡ãƒ¢ï¼ˆ3000æ–‡å­—ï¼‰ã‚’è²¼ã‚Šä»˜ã‘\nâ†’ Research Formatter ã§ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ\nâ†’ InstagramæŠ•ç¨¿ã«æœ€é©åŒ–\n```\n\n### ä½¿ç”¨å ´é¢2: è¤‡æ•°ã‚½ãƒ¼ã‚¹ã®çµ±åˆ\n\n```\nãƒ¦ãƒ¼ã‚¶ãƒ¼: Webã‚µã‚¤ãƒˆ Aã€Bã€C ã‹ã‚‰æƒ…å ±åé›†\nâ†’ Research Formatter ã§çµ±åˆãƒ»æ§‹é€ åŒ–\nâ†’ ä¸€è²«æ€§ã®ã‚ã‚‹æŠ•ç¨¿ç”Ÿæˆ\n```\n\n---\n\n## æ³¨æ„ç‚¹\n\n### æ³¨æ„ç‚¹1: URLãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿é•·åˆ¶é™\n\n**å•é¡Œ**: URLã¯2000æ–‡å­—åˆ¶é™\n\n**è§£æ±º**: LocalStorageä½¿ç”¨\n\n```typescript\nif (content.length > 2000) {\n  // LocalStorageã«ä¿å­˜\n  localStorage.setItem('formattedContent', content)\n  router.push('/instagram-generator?useStorage=true')\n}\n```\n\n### æ³¨æ„ç‚¹2: LocalStorageã®ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ\n\n**å•é¡Œ**: LocalStorageãŒæ°¸ç¶šçš„ã«æ®‹ã‚‹\n\n**è§£æ±º**: ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—ãƒã‚§ãƒƒã‚¯\n\n```typescript\nconst stored = JSON.parse(localStorage.getItem('formattedContent'))\n\nif (Date.now() - stored.timestamp > 3600000) {  // 1æ™‚é–“\n  console.warn('LocalStorageã®å†…å®¹ãŒå¤ã„ - å‰Šé™¤')\n  localStorage.removeItem('formattedContent')\n}\n```\n\n---\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- **decision_arch_two_stage_generation_2025_11_25**: 2æ®µéšç”Ÿæˆã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£\n- **skill_five_stage_ai_pipeline_2025_11_25**: 5æ®µéšAIãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³\n\n---\n\n**ã¾ã¨ã‚**: Research Formatterå‰å‡¦ç†ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã¯ã€ç”Ÿã®ãƒªã‚µãƒ¼ãƒãƒ†ã‚­ã‚¹ãƒˆã‚’InstagramæŠ•ç¨¿ã«æœ€é©åŒ–ã€‚ã‚¸ãƒ£ãƒ³ãƒ«é¸æŠã€AIãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã€URLãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿/LocalStorageæ°¸ç¶šåŒ–ã«ã‚ˆã‚Šã€å“è³ªå‘ä¸Šã¨ã‚¹ãƒ ãƒ¼ã‚ºãªç”Ÿæˆã‚’å®Ÿç¾ã€‚\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€Œãƒªã‚µãƒ¼ãƒãƒ•ã‚©ãƒ¼ãƒãƒƒã‚¿ãƒ¼å‰å‡¦ç†ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "decision-arch-two-stage-generation",
      "skill-five-stage-ai-pipeline"
    ]
  },
  {
    "slug": "system-initialization-workflow",
    "title": "Tieræ®µéšçš„ã‚·ã‚¹ãƒ†ãƒ åˆæœŸåŒ–ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼",
    "category": "Workflowsï¼ˆãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ï¼‰",
    "description": "Tieræ®µéšçš„ã‚·ã‚¹ãƒ†ãƒ åˆæœŸåŒ–ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼",
    "project": "novel-automation-system-v2",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"workflow_system_initialization_workflow_2025_11_25\",\n  \"type\": \"workflow\",\n  \"name\": \"Tieræ®µéšçš„ã‚·ã‚¹ãƒ†ãƒ åˆæœŸåŒ–ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼\",\n  \"tags\": [\"åˆæœŸåŒ–\", \"ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«\", \"ä¾å­˜é–¢ä¿‚\", \"Tierã‚·ã‚¹ãƒ†ãƒ \", \"èµ·å‹•\"],\n  \"source_project\": \"novel-automation-system-v2\",\n  \"related_knowledge\": [\n    \"skill_lifecycle_tier_system_2025_11_25\",\n    \"decision_why_tier_based_initialization_2025_11_25\"\n  ],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# Tieræ®µéšçš„ã‚·ã‚¹ãƒ†ãƒ åˆæœŸåŒ–ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼\n\n## ä½•ã®ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‹\n\nã‚·ã‚¹ãƒ†ãƒ ã‚’5ã¤ã®Tierã«åˆ†ã‘ã¦æ®µéšçš„ã«åˆæœŸåŒ–ã—ã€ä¾å­˜é–¢ä¿‚ã‚’è§£æ±ºã—ãªãŒã‚‰å®‰å®šæ€§99.9%ã‚’å®Ÿç¾ã™ã‚‹ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã€‚\n\n## ãƒ•ãƒ­ãƒ¼å…¨ä½“å›³\n\n```\n[èµ·å‹•]\n   â†“\n[å¾ªç’°ä¾å­˜ãƒã‚§ãƒƒã‚¯]\n   â†“\n[Tier 1: ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ã‚·ã‚¹ãƒ†ãƒ ]\n   â†“ ä¸¦åˆ—åˆæœŸåŒ–\n[Tier 2: ãƒ¡ãƒ¢ãƒªã‚·ã‚¹ãƒ†ãƒ ]\n   â†“ ä¸¦åˆ—åˆæœŸåŒ–\n[Tier 3: ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ ]\n   â†“ ä¸¦åˆ—åˆæœŸåŒ–\n[Tier 4: ã‚µãƒ¼ãƒ“ã‚¹å±¤]\n   â†“ ä¸¦åˆ—åˆæœŸåŒ–\n[Tier 5: çµ±åˆå±¤]\n   â†“\n[ã‚·ã‚¹ãƒ†ãƒ è¨ºæ–­]\n   â†“\n[å®Œäº†]\n```\n\n## å„ã‚¹ãƒ†ãƒƒãƒ—ã®è©³ç´°\n\n### ã‚¹ãƒ†ãƒƒãƒ—0: å¾ªç’°ä¾å­˜ãƒã‚§ãƒƒã‚¯\n\n**ä½•ã‚’ã™ã‚‹ã‹**: åˆæœŸåŒ–å‰ã«å¾ªç’°ä¾å­˜ã‚’æ¤œå‡º\n\n```typescript\nasync function preInitializationCheck(): Promise<void> {\n    const check = lifecycleManager.checkCircularDependencies();\n    if (!check.success) {\n        throw new Error(`Circular dependency detected: ${check.details}`);\n    }\n    console.log('âœ“ No circular dependencies');\n}\n```\n\n**ãªãœã“ã®é †åºã‹**:\n- å¾ªç’°ä¾å­˜ãŒã‚ã‚‹ã¨åˆæœŸåŒ–ãŒå¤±æ•—\n- äº‹å‰ãƒã‚§ãƒƒã‚¯ã§å•é¡Œã‚’æ—©æœŸç™ºè¦‹\n- é–‹ç™ºæ™‚ã®ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã‚’å³åº§ã«æä¾›\n\n### ã‚¹ãƒ†ãƒƒãƒ—1: Tier 1ã®åˆæœŸåŒ–\n\n**ä½•ã‚’ã™ã‚‹ã‹**: ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ã‚·ã‚¹ãƒ†ãƒ ã®åˆæœŸåŒ–\n\n```typescript\nasync function initializeTier1(): Promise<void> {\n    console.log('Initializing Tier 1: Lifecycle System');\n\n    await Promise.all([\n        initServiceContainer(),\n        initLogger(),\n        initEventBus()\n    ]);\n\n    console.log('âœ“ Tier 1 initialized');\n}\n```\n\n**ãªãœã“ã®é †åºã‹**:\n- ServiceContainer: ä¾å­˜æ³¨å…¥ã®åŸºç›¤\n- Logger: ã™ã¹ã¦ã®ã‚·ã‚¹ãƒ†ãƒ ãŒãƒ­ã‚°ã‚’å¿…è¦ã¨ã™ã‚‹\n- EventBus: ã‚·ã‚¹ãƒ†ãƒ é–“é€šä¿¡ã®åŸºç›¤\n- ã“ã‚Œã‚‰ã¯ä»–ã®ã™ã¹ã¦ã«ä¾å­˜ã•ã‚Œã‚‹\n\n### ã‚¹ãƒ†ãƒƒãƒ—2: Tier 2ã®åˆæœŸåŒ–\n\n**ä½•ã‚’ã™ã‚‹ã‹**: ãƒ¡ãƒ¢ãƒªã‚·ã‚¹ãƒ†ãƒ ã®åˆæœŸåŒ–\n\n```typescript\nasync function initializeTier2(): Promise<void> {\n    console.log('Initializing Tier 2: Memory System');\n\n    const memoryManager = new MemoryManager({\n        shortTermChapters: 8,\n        midTermArcSize: 4,\n        summaryDetailLevel: 7\n    });\n\n    await memoryManager.initialize();\n    serviceContainer.register('memoryManager', () => memoryManager, { singleton: true });\n\n    console.log('âœ“ Tier 2 initialized');\n}\n```\n\n**ãªãœã“ã®é †åºã‹**:\n- MemoryManagerã¯å¤šãã®ã‚·ã‚¹ãƒ†ãƒ ã‹ã‚‰å‚ç…§ã•ã‚Œã‚‹\n- æ—©æœŸã«åˆæœŸåŒ–ã—ã¦ã‚·ãƒ³ã‚°ãƒ«ãƒˆãƒ³ã‚’ç¢ºä¿\n- Tier 3ä»¥é™ãŒã™ã¹ã¦ä¾å­˜\n\n### ã‚¹ãƒ†ãƒƒãƒ—3-5: Tier 3ã€œ5ã®åˆæœŸåŒ–\n\n**ä½•ã‚’ã™ã‚‹ã‹**: ãƒ‰ãƒ¡ã‚¤ãƒ³å±¤ã€ã‚µãƒ¼ãƒ“ã‚¹å±¤ã€çµ±åˆå±¤ã®é †ã«åˆæœŸåŒ–\n\n```typescript\nasync function initializeHigherTiers(): Promise<void> {\n    for (let tier = 3; tier <= 5; tier++) {\n        console.log(`Initializing Tier ${tier}`);\n\n        const systems = getTierSystems(tier);\n\n        // åŒä¸€Tierå†…ã¯ä¸¦åˆ—åˆæœŸåŒ–\n        const results = await Promise.allSettled(\n            systems.map(name => initializeSystem(name))\n        );\n\n        // å¿…é ˆã‚·ã‚¹ãƒ†ãƒ ã®å¤±æ•—ãƒã‚§ãƒƒã‚¯\n        const failures = results.filter((r, i) =>\n            r.status === 'rejected' && isRequired(systems[i])\n        );\n\n        if (failures.length > 0) {\n            throw new Error(`Critical system failed at Tier ${tier}`);\n        }\n\n        console.log(`âœ“ Tier ${tier} initialized`);\n    }\n}\n```\n\n**ãªãœã“ã®é †åºã‹**:\n- Tier 3: CharacterSystem, PlotSystem, ParametersSystem\n- Tier 4: GenerationEngine, AnalysisServices\n- Tier 5: IntegrationSystems, Orchestration\n- ä¸‹ä½Tierã®ä¾å­˜ã‚’å¿…ãšæº€ãŸã™\n\n### ã‚¹ãƒ†ãƒƒãƒ—6: ã‚·ã‚¹ãƒ†ãƒ è¨ºæ–­\n\n**ä½•ã‚’ã™ã‚‹ã‹**: åˆæœŸåŒ–å¾Œã®å¥å…¨æ€§ç¢ºèª\n\n```typescript\nasync function performPostInitializationDiagnostics(): Promise<void> {\n    console.log('Performing system diagnostics...');\n\n    const diagnostics = await qualityAssurance.getQualityMetrics();\n\n    console.log(`Data Integrity: ${diagnostics.dataIntegrity.score * 100}%`);\n    console.log(`System Stability: ${diagnostics.systemStability.score * 100}%`);\n\n    if (diagnostics.dataIntegrity.score < 0.9) {\n        throw new Error('System failed post-initialization diagnostics');\n    }\n\n    console.log('âœ“ System diagnostics passed');\n}\n```\n\n**ãªãœã“ã®é †åºã‹**:\n- åˆæœŸåŒ–æˆåŠŸâ‰ ã‚·ã‚¹ãƒ†ãƒ å¥å…¨\n- å“è³ªãƒ¡ãƒˆãƒªã‚¯ã‚¹ã§æœ€çµ‚ç¢ºèª\n- å•é¡ŒãŒã‚ã‚Œã°èµ·å‹•ã‚’ä¸­æ­¢\n\n## ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°\n\n### ã‚¨ãƒ©ãƒ¼1: å¾ªç’°ä¾å­˜ã®æ¤œå‡º\n\n```typescript\nif (circularDependencyDetected) {\n    console.error('Circular dependency detected. System cannot initialize.');\n    console.error('Fix the dependency graph in SYSTEM_DEPENDENCY_MAP');\n    process.exit(1);\n}\n```\n\n### ã‚¨ãƒ©ãƒ¼2: å¿…é ˆã‚·ã‚¹ãƒ†ãƒ ã®å¤±æ•—\n\n```typescript\nif (criticalSystemFailed) {\n    console.error(`Critical system ${systemName} failed at Tier ${tier}`);\n    await rollbackTier(tier);\n    throw new Error('Initialization aborted');\n}\n```\n\n### ã‚¨ãƒ©ãƒ¼3: ã‚ªãƒ—ã‚·ãƒ§ãƒŠãƒ«ã‚·ã‚¹ãƒ†ãƒ ã®å¤±æ•—\n\n```typescript\nif (optionalSystemFailed) {\n    console.warn(`Optional system ${systemName} failed. Continuing...`);\n    // åˆæœŸåŒ–ã¯ç¶™ç¶š\n}\n```\n\n## å†ç¾æ–¹æ³•\n\n```typescript\n// ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³èµ·å‹•æ™‚\nasync function startApplication(): Promise<void> {\n    try {\n        // äº‹å‰ãƒã‚§ãƒƒã‚¯\n        await preInitializationCheck();\n\n        // Tieråˆ¥åˆæœŸåŒ–\n        await initializeTier1();\n        await initializeTier2();\n        await initializeHigherTiers();\n\n        // è¨ºæ–­\n        await performPostInitializationDiagnostics();\n\n        console.log('âœ“ Application started successfully');\n    } catch (error) {\n        console.error('Application startup failed:', error);\n        process.exit(1);\n    }\n}\n```\n\n## ã„ã¤ä½¿ã†ã‹\n\n- ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³èµ·å‹•æ™‚ï¼ˆæ¯å›ï¼‰\n- ãƒ†ã‚¹ãƒˆç’°å¢ƒã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—\n- æ–°ã—ã„ã‚·ã‚¹ãƒ†ãƒ ã®è¿½åŠ æ™‚ï¼ˆä¾å­˜é–¢ä¿‚ã®å†æ¤œè¨¼ï¼‰\n\n## æ³¨æ„ç‚¹\n\n- Tierç•ªå·ã¯ä¾å­˜é–¢ä¿‚ã«åŸºã¥ã„ã¦æ±ºå®š\n- å¾ªç’°ä¾å­˜ã¯çµ¶å¯¾ã«ä½œã‚‰ãªã„\n- å¿…é ˆã‚·ã‚¹ãƒ†ãƒ ã¯æœ€å°é™ã«æŠ‘ãˆã‚‹\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `skill_lifecycle_tier_system_2025_11_25.md`\n- `decision_why_tier_based_initialization_2025_11_25.md`\n- `decision_why_dependency_injection_architecture_2025_11_25.md`\n",
    "prompt": "```typescript\n// ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³èµ·å‹•æ™‚\nasync function startApplication(): Promise<void> {\n    try {\n        // äº‹å‰ãƒã‚§ãƒƒã‚¯\n        await preInitializationCheck();\n\n        // Tieråˆ¥åˆæœŸåŒ–\n        await initializeTier1();\n        await initializeTier2();\n        await initializeHigherTiers();\n\n        // è¨ºæ–­\n        await performPostInitializationDiagnostics();\n\n        console.log('âœ“ Application started successfully');\n    } catch (error) {\n        console.error('Application startup failed:', error);\n        process.exit(1);\n    }\n}\n```",
    "relatedTech": [
      "skill-lifecycle-tier-system",
      "decision-why-tier-based-initialization"
    ]
  },
  {
    "slug": "template-creation-flow",
    "title": "ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä½œæˆãƒ•ãƒ­ãƒ¼",
    "category": "Workflowsï¼ˆãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ï¼‰",
    "description": "ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä½œæˆãƒ•ãƒ­ãƒ¼",
    "project": "ai-document-generator",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"workflow_template_creation_flow_2025_04_11\",\n  \"type\": \"workflow\",\n  \"name\": \"ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä½œæˆãƒ•ãƒ­ãƒ¼\",\n  \"tags\": [\"ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ\", \"ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚¿ã‚¤ãƒ—\", \"ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ\", \"ãƒ†ãƒ¼ãƒ\", \"ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ\", \"ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼\"],\n  \"source_project\": \"ai-document-generator\",\n  \"related_knowledge\": [\"skill_json_yaml_template_definition_2025_04_11\", \"decision_design_json_yaml_templates_2025_04_11\", \"skill_grid_based_layout_system_2025_04_11\"],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-04-11\",\n  \"updated\": \"2025-04-11\"\n}\n```\n\n# ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä½œæˆãƒ•ãƒ­ãƒ¼\n\n## ä½•ã‚’è¨˜éŒ²ã™ã‚‹ã‹\n\næ–°ã—ã„ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚¿ã‚¤ãƒ—ï¼ˆãƒãƒ©ã‚·ã€ãƒ—ãƒ¬ã‚¼ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã€äº‹æ¥­è¨ˆç”»æ›¸ãªã©ï¼‰ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ä½œæˆã™ã‚‹å…¨ä½“ãƒ•ãƒ­ãƒ¼ã‚’è¨˜éŒ²ã™ã‚‹ã€‚\n\n## ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®æ§‹æˆè¦ç´ \n\n1. **Document Typeï¼ˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚¿ã‚¤ãƒ—ï¼‰**: ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ç¨®é¡ã€ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã€ç”¨é€”\n2. **Layoutï¼ˆãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆï¼‰**: ãƒšãƒ¼ã‚¸ã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®é…ç½®\n3. **Themeï¼ˆãƒ†ãƒ¼ãƒï¼‰**: ã‚«ãƒ©ãƒ¼ã‚¹ã‚­ãƒ¼ãƒã€ã‚¿ã‚¤ãƒã‚°ãƒ©ãƒ•ã‚£ã€ã‚¹ã‚¿ã‚¤ãƒ«\n4. **Componentï¼ˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼‰**: å†åˆ©ç”¨å¯èƒ½ãªUIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ\n\n## ãƒ•ãƒ­ãƒ¼ã®æ¦‚è¦\n\n```\n1. ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚¿ã‚¤ãƒ—ã‚’å®šç¾©\n   â†“\n2. ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’å®šç¾©\n   â†“\n3. ãƒ†ãƒ¼ãƒã‚’å®šç¾©\n   â†“\n4. ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’å®šç¾©\n   â†“\n5. ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ãƒ†ã‚¹ãƒˆ\n   â†“\n6. ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’å…¬é–‹\n```\n\n## è©³ç´°ãƒ•ãƒ­ãƒ¼\n\n### ã‚¹ãƒ†ãƒƒãƒ—1ï¼šãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚¿ã‚¤ãƒ—ã®å®šç¾©\n\n**ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚¿ã‚¤ãƒ—ã®è¦ç´ **:\n- IDã€åå‰ã€èª¬æ˜\n- ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆï¼ˆã‚µã‚¤ã‚ºã€å‘ãï¼‰\n- ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ï¼ˆç”¨é€”ã€ã‚¿ãƒ¼ã‚²ãƒƒãƒˆï¼‰\n- ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã€ãƒ†ãƒ¼ãƒ\n\n**JSONãƒ•ã‚¡ã‚¤ãƒ«ã®ä½œæˆ**:\n```bash\n# ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆ\ntouch src/data/document-types/startup-pitch-deck.json\n```\n\n**ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚¿ã‚¤ãƒ—ã®å®šç¾©**:\n```json\n{\n  \"id\": \"startup-pitch-deck\",\n  \"name\": \"ã‚¹ã‚¿ãƒ¼ãƒˆã‚¢ãƒƒãƒ—ãƒ”ãƒƒãƒãƒ‡ãƒƒã‚­\",\n  \"description\": \"æŠ•è³‡å®¶å‘ã‘ã®ã‚¹ã‚¿ãƒ¼ãƒˆã‚¢ãƒƒãƒ—ãƒ”ãƒƒãƒãƒ‡ãƒƒã‚­ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ\",\n  \"version\": \"1.0.0\",\n  \"tags\": [\"ãƒ—ãƒ¬ã‚¼ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³\", \"ãƒ”ãƒƒãƒ\", \"ã‚¹ã‚¿ãƒ¼ãƒˆã‚¢ãƒƒãƒ—\", \"æŠ•è³‡å®¶å‘ã‘\"],\n\n  \"format\": {\n    \"type\": \"presentation\",\n    \"size\": \"16:9\",\n    \"width\": 1920,\n    \"height\": 1080,\n    \"unit\": \"px\",\n    \"orientation\": \"landscape\"\n  },\n\n  \"useCase\": {\n    \"type\": \"presentation\",\n    \"targetAudience\": [\"æŠ•è³‡å®¶\", \"VC\", \"ã‚¨ãƒ³ã‚¸ã‚§ãƒ«æŠ•è³‡å®¶\"],\n    \"purpose\": \"è³‡é‡‘èª¿é”ã€ãƒ“ã‚¸ãƒã‚¹ãƒ—ãƒ¬ã‚¼ãƒ³\",\n    \"typicalLength\": \"10-15ãƒšãƒ¼ã‚¸\"\n  },\n\n  \"defaultLayouts\": [\n    \"pitch-deck-cover\",\n    \"pitch-deck-problem\",\n    \"pitch-deck-solution\",\n    \"pitch-deck-market\",\n    \"pitch-deck-business-model\",\n    \"pitch-deck-team\",\n    \"pitch-deck-traction\",\n    \"pitch-deck-financials\",\n    \"pitch-deck-ask\",\n    \"pitch-deck-closing\"\n  ],\n\n  \"defaultTheme\": \"professional-blue\",\n\n  \"requiredSections\": [\"cover\", \"problem\", \"solution\", \"team\", \"ask\"],\n\n  \"metadata\": {\n    \"author\": \"ai-document-generator\",\n    \"category\": \"business\",\n    \"difficulty\": \"intermediate\",\n    \"estimatedTime\": \"30-60åˆ†\"\n  }\n}\n```\n\n**ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚¿ã‚¤ãƒ—ã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³**:\n```typescript\nimport { z } from 'zod';\n\nconst DocumentTypeSchema = z.object({\n  id: z.string(),\n  name: z.string(),\n  description: z.string(),\n  version: z.string().regex(/^\\d+\\.\\d+\\.\\d+$/),\n  format: z.object({\n    type: z.enum(['document', 'presentation', 'flyer', 'poster']),\n    size: z.string(),\n    width: z.number().positive(),\n    height: z.number().positive(),\n  }),\n  defaultLayouts: z.array(z.string()),\n  defaultTheme: z.string(),\n});\n\n// ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³\nconst result = DocumentTypeSchema.parse(documentTypeData);\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—2ï¼šãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã®å®šç¾©\n\n**ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã®è¦ç´ **:\n- ã‚°ãƒªãƒƒãƒ‰å®šç¾©ï¼ˆ12Ã—12ã‚°ãƒªãƒƒãƒ‰ï¼‰\n- ã‚»ã‚¯ã‚·ãƒ§ãƒ³é…ç½®ï¼ˆä½ç½®ã€ã‚µã‚¤ã‚ºï¼‰\n- èª¿æ•´åˆ¶ç´„ï¼ˆç§»å‹•ã€ãƒªã‚µã‚¤ã‚ºã€ã‚¹ãƒ¯ãƒƒãƒ—ï¼‰\n- AIãƒ—ãƒ­ãƒ³ãƒ—ãƒˆï¼ˆã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”Ÿæˆï¼‰\n\n**JSONãƒ•ã‚¡ã‚¤ãƒ«ã®ä½œæˆ**:\n```bash\ntouch src/data/layouts/pitch-deck-cover.json\n```\n\n**ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã®å®šç¾©**:\n```json\n{\n  \"id\": \"pitch-deck-cover\",\n  \"name\": \"ãƒ”ãƒƒãƒãƒ‡ãƒƒã‚­è¡¨ç´™\",\n  \"description\": \"ã‚¹ã‚¿ãƒ¼ãƒˆã‚¢ãƒƒãƒ—ãƒ”ãƒƒãƒãƒ‡ãƒƒã‚­ã®è¡¨ç´™ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ\",\n  \"version\": \"1.0.0\",\n  \"documentTypeId\": \"startup-pitch-deck\",\n\n  \"grid\": {\n    \"rows\": 12,\n    \"columns\": 12,\n    \"rowHeight\": 90,\n    \"columnWidth\": 160,\n    \"gap\": 0\n  },\n\n  \"sections\": [\n    {\n      \"id\": \"background\",\n      \"name\": \"èƒŒæ™¯ç”»åƒ\",\n      \"type\": \"background\",\n      \"purpose\": \"ãƒ–ãƒ©ãƒ³ãƒ‰ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä¼ãˆã‚‹èƒŒæ™¯\",\n      \"position\": {\n        \"row\": 0,\n        \"column\": 0,\n        \"rowSpan\": 12,\n        \"columnSpan\": 12\n      },\n      \"adjustability\": {\n        \"movable\": false,\n        \"resizable\": false,\n        \"swappable\": false\n      },\n      \"contentConstraints\": {\n        \"compatibleComponents\": [\"background_image\"],\n        \"required\": false\n      }\n    },\n    {\n      \"id\": \"logo\",\n      \"name\": \"ãƒ­ã‚´\",\n      \"type\": \"header\",\n      \"purpose\": \"ä¼šç¤¾ãƒ­ã‚´\",\n      \"position\": {\n        \"row\": 1,\n        \"column\": 1,\n        \"rowSpan\": 2,\n        \"columnSpan\": 2\n      },\n      \"adjustability\": {\n        \"movable\": true,\n        \"resizable\": true,\n        \"swappable\": false,\n        \"resizeBoundaries\": {\n          \"minRowSpan\": 1,\n          \"maxRowSpan\": 3,\n          \"minColumnSpan\": 1,\n          \"maxColumnSpan\": 3\n        }\n      },\n      \"contentConstraints\": {\n        \"compatibleComponents\": [\"logo\", \"image\"],\n        \"required\": true\n      }\n    },\n    {\n      \"id\": \"title\",\n      \"name\": \"ã‚¿ã‚¤ãƒˆãƒ«\",\n      \"type\": \"content\",\n      \"purpose\": \"ä¼šç¤¾åãƒ»ã‚µãƒ¼ãƒ“ã‚¹å\",\n      \"position\": {\n        \"row\": 5,\n        \"column\": 2,\n        \"rowSpan\": 2,\n        \"columnSpan\": 8\n      },\n      \"adjustability\": {\n        \"movable\": true,\n        \"resizable\": true,\n        \"resizeBoundaries\": {\n          \"minRowSpan\": 1,\n          \"maxRowSpan\": 3,\n          \"minColumnSpan\": 6,\n          \"maxColumnSpan\": 10\n        }\n      },\n      \"contentConstraints\": {\n        \"compatibleComponents\": [\"heading\", \"text\"],\n        \"required\": true\n      },\n      \"aiGeneration\": {\n        \"contentPriority\": \"high\",\n        \"contentType\": \"heading\",\n        \"suggestedTextLength\": \"short\",\n        \"requiresFactualContent\": true,\n        \"textStyle\": \"impactful\",\n        \"contextDependencies\": []\n      }\n    },\n    {\n      \"id\": \"tagline\",\n      \"name\": \"ã‚¿ã‚°ãƒ©ã‚¤ãƒ³\",\n      \"type\": \"content\",\n      \"purpose\": \"ã‚­ãƒ£ãƒƒãƒã‚³ãƒ”ãƒ¼\",\n      \"position\": {\n        \"row\": 7,\n        \"column\": 2,\n        \"rowSpan\": 1,\n        \"columnSpan\": 8\n      },\n      \"adjustability\": {\n        \"movable\": true,\n        \"resizable\": true\n      },\n      \"contentConstraints\": {\n        \"compatibleComponents\": [\"text\", \"heading\"],\n        \"required\": false\n      },\n      \"aiGeneration\": {\n        \"contentPriority\": \"medium\",\n        \"contentType\": \"text\",\n        \"suggestedTextLength\": \"short\",\n        \"textStyle\": \"engaging\",\n        \"contextDependencies\": [\"title\"]\n      }\n    }\n  ],\n\n  \"metadata\": {\n    \"category\": \"cover\",\n    \"difficulty\": \"easy\",\n    \"estimatedTime\": \"5-10åˆ†\"\n  }\n}\n```\n\n**ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³**:\n```typescript\nconst LayoutSchema = z.object({\n  id: z.string(),\n  name: z.string(),\n  grid: z.object({\n    rows: z.number().int().positive(),\n    columns: z.number().int().positive(),\n    rowHeight: z.number().positive(),\n    columnWidth: z.number().positive(),\n  }),\n  sections: z.array(\n    z.object({\n      id: z.string(),\n      position: z.object({\n        row: z.number().int().min(0),\n        column: z.number().int().min(0),\n        rowSpan: z.number().int().positive(),\n        columnSpan: z.number().int().positive(),\n      }),\n    })\n  ),\n});\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—3ï¼šãƒ†ãƒ¼ãƒã®å®šç¾©\n\n**ãƒ†ãƒ¼ãƒã®è¦ç´ **:\n- ã‚«ãƒ©ãƒ¼ã‚¹ã‚­ãƒ¼ãƒï¼ˆprimaryã€secondaryã€accentï¼‰\n- ã‚¿ã‚¤ãƒã‚°ãƒ©ãƒ•ã‚£ï¼ˆãƒ•ã‚©ãƒ³ãƒˆãƒ•ã‚¡ãƒŸãƒªãƒ¼ã€ã‚µã‚¤ã‚ºï¼‰\n- ã‚¹ãƒšãƒ¼ã‚·ãƒ³ã‚°ï¼ˆãƒãƒ¼ã‚¸ãƒ³ã€ãƒ‘ãƒ‡ã‚£ãƒ³ã‚°ï¼‰\n- ã‚·ãƒ£ãƒ‰ã‚¦ã€ãƒœãƒ¼ãƒ€ãƒ¼\n\n**YAMLãƒ•ã‚¡ã‚¤ãƒ«ã®ä½œæˆ**:\n```bash\ntouch src/data/themes/startup-modern.yml\n```\n\n**ãƒ†ãƒ¼ãƒã®å®šç¾©**:\n```yaml\nid: startup-modern\nname: Startup Modern Theme\ndescription: ãƒ¢ãƒ€ãƒ³ãªã‚¹ã‚¿ãƒ¼ãƒˆã‚¢ãƒƒãƒ—å‘ã‘ãƒ†ãƒ¼ãƒ\n\n# ã‚«ãƒ©ãƒ¼ã‚¹ã‚­ãƒ¼ãƒ\ncolors:\n  primary: \"#6366F1\"      # ã‚¤ãƒ³ãƒ‡ã‚£ã‚´ï¼ˆä¿¡é ¼æ„Ÿã€é©æ–°æ€§ï¼‰\n  secondary: \"#8B5CF6\"    # ãƒ‘ãƒ¼ãƒ—ãƒ«ï¼ˆå‰µé€ æ€§ï¼‰\n  accent: \"#EC4899\"       # ãƒ”ãƒ³ã‚¯ï¼ˆæƒ…ç†±ï¼‰\n  background: \"#FFFFFF\"   # ç™½\n  surface: \"#F9FAFB\"      # ãƒ©ã‚¤ãƒˆã‚°ãƒ¬ãƒ¼\n  text: \"#111827\"         # ãƒ€ãƒ¼ã‚¯ã‚°ãƒ¬ãƒ¼\n  textSecondary: \"#6B7280\"  # ã‚°ãƒ¬ãƒ¼\n  success: \"#10B981\"      # ã‚°ãƒªãƒ¼ãƒ³\n  warning: \"#F59E0B\"      # ã‚ªãƒ¬ãƒ³ã‚¸\n  error: \"#EF4444\"        # ãƒ¬ãƒƒãƒ‰\n\n# ã‚¿ã‚¤ãƒã‚°ãƒ©ãƒ•ã‚£\ntypography:\n  fontFamily:\n    heading: \"Inter, -apple-system, BlinkMacSystemFont, sans-serif\"\n    body: \"Inter, -apple-system, BlinkMacSystemFont, sans-serif\"\n    code: \"Fira Code, monospace\"\n\n  fontSize:\n    h1: 3rem      # 48px - ãƒ¡ã‚¤ãƒ³ã‚¿ã‚¤ãƒˆãƒ«\n    h2: 2.25rem   # 36px - ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚¿ã‚¤ãƒˆãƒ«\n    h3: 1.875rem  # 30px - ã‚µãƒ–ã‚¿ã‚¤ãƒˆãƒ«\n    h4: 1.5rem    # 24px\n    body: 1rem    # 16px - æœ¬æ–‡\n    small: 0.875rem  # 14px - æ³¨é‡ˆ\n\n  fontWeight:\n    light: 300\n    normal: 400\n    medium: 500\n    semibold: 600\n    bold: 700\n    extrabold: 800\n\n  lineHeight:\n    tight: 1.2\n    normal: 1.5\n    relaxed: 1.8\n\n# ã‚¹ãƒšãƒ¼ã‚·ãƒ³ã‚°\nspacing:\n  section: 3rem    # ã‚»ã‚¯ã‚·ãƒ§ãƒ³é–“ã®ãƒãƒ¼ã‚¸ãƒ³ï¼ˆ48pxï¼‰\n  component: 1.5rem  # ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆé–“ã®ãƒãƒ¼ã‚¸ãƒ³ï¼ˆ24pxï¼‰\n  tight: 0.5rem   # ç‹­ã„ã‚¹ãƒšãƒ¼ã‚¹ï¼ˆ8pxï¼‰\n  normal: 1rem    # é€šå¸¸ã‚¹ãƒšãƒ¼ã‚¹ï¼ˆ16pxï¼‰\n  wide: 2rem      # åºƒã„ã‚¹ãƒšãƒ¼ã‚¹ï¼ˆ32pxï¼‰\n\n# ã‚·ãƒ£ãƒ‰ã‚¦\nshadows:\n  sm: \"0 1px 2px rgba(0, 0, 0, 0.05)\"\n  md: \"0 4px 6px rgba(0, 0, 0, 0.1)\"\n  lg: \"0 10px 15px rgba(0, 0, 0, 0.1)\"\n  xl: \"0 20px 25px rgba(0, 0, 0, 0.15)\"\n  card: \"0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24)\"\n\n# ãƒœãƒ¼ãƒ€ãƒ¼\nborders:\n  radius:\n    sm: 0.25rem   # 4px\n    md: 0.5rem    # 8px\n    lg: 0.75rem   # 12px\n    xl: 1rem      # 16px\n    full: 9999px  # å®Œå…¨ãªå††\n  width:\n    thin: 1px\n    normal: 2px\n    thick: 4px\n\n# ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿\nmetadata:\n  category: \"modern\"\n  targetAudience: [\"startup\", \"tech\"]\n  colorScheme: \"light\"\n```\n\n**ãƒ†ãƒ¼ãƒã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³**:\n```typescript\nconst ThemeSchema = z.object({\n  id: z.string(),\n  name: z.string(),\n  colors: z.object({\n    primary: z.string().regex(/^#[0-9A-Fa-f]{6}$/),\n    secondary: z.string().regex(/^#[0-9A-Fa-f]{6}$/),\n    accent: z.string().regex(/^#[0-9A-Fa-f]{6}$/),\n  }),\n  typography: z.object({\n    fontFamily: z.object({\n      heading: z.string(),\n      body: z.string(),\n    }),\n  }),\n});\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—4ï¼šã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å®šç¾©\n\n**ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®è¦ç´ **:\n- IDã€åå‰ã€èª¬æ˜\n- å‹ï¼ˆtextã€imageã€chartã€tableï¼‰\n- ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚³ãƒ³ãƒ†ãƒ³ãƒ„\n- ã‚¹ã‚¿ã‚¤ãƒ«ï¼ˆCSSï¼‰\n\n**JSONãƒ•ã‚¡ã‚¤ãƒ«ã®ä½œæˆ**:\n```bash\ntouch src/data/components/traction-metrics.json\n```\n\n**ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å®šç¾©**:\n```json\n{\n  \"id\": \"traction-metrics\",\n  \"name\": \"ãƒˆãƒ©ã‚¯ã‚·ãƒ§ãƒ³æŒ‡æ¨™\",\n  \"description\": \"ã‚¹ã‚¿ãƒ¼ãƒˆã‚¢ãƒƒãƒ—ã®ãƒˆãƒ©ã‚¯ã‚·ãƒ§ãƒ³ã‚’ç¤ºã™æŒ‡æ¨™ã‚°ãƒªãƒƒãƒ‰\",\n  \"version\": \"1.0.0\",\n  \"type\": \"stats_grid\",\n\n  \"structure\": {\n    \"layout\": \"grid\",\n    \"columns\": 3,\n    \"gap\": 24\n  },\n\n  \"metrics\": [\n    {\n      \"id\": \"users\",\n      \"label\": \"ãƒ¦ãƒ¼ã‚¶ãƒ¼æ•°\",\n      \"value\": \"10,000+\",\n      \"icon\": \"users\",\n      \"color\": \"primary\"\n    },\n    {\n      \"id\": \"revenue\",\n      \"label\": \"æœˆé–“åç›Š\",\n      \"value\": \"$50K\",\n      \"icon\": \"dollar-sign\",\n      \"color\": \"success\"\n    },\n    {\n      \"id\": \"growth\",\n      \"label\": \"æœˆæ¬¡æˆé•·ç‡\",\n      \"value\": \"25%\",\n      \"icon\": \"trending-up\",\n      \"color\": \"accent\"\n    }\n  ],\n\n  \"style\": {\n    \"padding\": \"2rem\",\n    \"borderRadius\": \"0.5rem\",\n    \"boxShadow\": \"0 4px 6px rgba(0, 0, 0, 0.1)\"\n  },\n\n  \"metadata\": {\n    \"category\": \"stats\",\n    \"difficulty\": \"easy\",\n    \"reusable\": true\n  }\n}\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—5ï¼šãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®ãƒ†ã‚¹ãƒˆ\n\n**ãƒ†ã‚¹ãƒˆãƒ—ãƒ­ã‚»ã‚¹**:\n1. ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’èª­ã¿è¾¼ã‚€\n2. æ–°ã—ã„ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ä½œæˆ\n3. ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’ç¢ºèª\n4. ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’è¿½åŠ \n5. PDFå‡ºåŠ›ã‚’ãƒ†ã‚¹ãƒˆ\n\n**ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰**:\n```typescript\ndescribe('Startup Pitch Deck Template', () => {\n  it('should load document type', async () => {\n    const documentType = await loadDocumentType('startup-pitch-deck');\n\n    expect(documentType.id).toBe('startup-pitch-deck');\n    expect(documentType.defaultLayouts).toHaveLength(10);\n  });\n\n  it('should load layouts', async () => {\n    const layout = await loadLayout('pitch-deck-cover');\n\n    expect(layout.sections).toHaveLength(4);\n    expect(layout.grid.rows).toBe(12);\n    expect(layout.grid.columns).toBe(12);\n  });\n\n  it('should load theme', async () => {\n    const theme = await loadTheme('startup-modern');\n\n    expect(theme.colors.primary).toBe('#6366F1');\n  });\n\n  it('should create document from template', async () => {\n    const document = await createDocumentFromTemplate('startup-pitch-deck');\n\n    expect(document.pages).toHaveLength(10);\n    expect(document.themeId).toBe('startup-modern');\n  });\n\n  it('should export to PDF', async () => {\n    const document = await createDocumentFromTemplate('startup-pitch-deck');\n    const pdfBlob = await exportToPDF(document);\n\n    expect(pdfBlob.size).toBeGreaterThan(0);\n  });\n});\n```\n\n### ã‚¹ãƒ†ãƒƒãƒ—6ï¼šãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®å…¬é–‹\n\n**å…¬é–‹ãƒ—ãƒ­ã‚»ã‚¹**:\n1. ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’Gitã«ã‚³ãƒŸãƒƒãƒˆ\n2. ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’æ›´æ–°\n3. ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’æ›´æ–°\n4. ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ä½œæˆ\n5. ãƒ¬ãƒ“ãƒ¥ãƒ¼\n6. ãƒãƒ¼ã‚¸\n\n**Gitã‚³ãƒŸãƒƒãƒˆ**:\n```bash\n# ãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¿½åŠ \ngit add src/data/document-types/startup-pitch-deck.json\ngit add src/data/layouts/pitch-deck-*.json\ngit add src/data/themes/startup-modern.yml\ngit add src/data/components/traction-metrics.json\n\n# ã‚³ãƒŸãƒƒãƒˆ\ngit commit -m \"feat: Add Startup Pitch Deck template\n\n- Document type: startup-pitch-deck\n- Layouts: 10 pages (cover, problem, solution, etc.)\n- Theme: startup-modern (Indigo + Purple)\n- Components: traction-metrics, team-grid\n\nCloses #123\"\n\n# ãƒ—ãƒƒã‚·ãƒ¥\ngit push origin feature/startup-pitch-deck-template\n```\n\n**ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆ**:\n```markdown\n## æ–°ã—ã„ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ: Startup Pitch Deck\n\n### æ¦‚è¦\næŠ•è³‡å®¶å‘ã‘ã®ã‚¹ã‚¿ãƒ¼ãƒˆã‚¢ãƒƒãƒ—ãƒ”ãƒƒãƒãƒ‡ãƒƒã‚­ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’è¿½åŠ ã€‚\n\n### å«ã¾ã‚Œã‚‹è¦ç´ \n- **Document Type**: `startup-pitch-deck`\n- **Layouts**: 10ãƒšãƒ¼ã‚¸ï¼ˆè¡¨ç´™ã€å•é¡Œã€è§£æ±ºç­–ã€å¸‚å ´ã€ãƒ“ã‚¸ãƒã‚¹ãƒ¢ãƒ‡ãƒ«ã€ãƒãƒ¼ãƒ ã€ãƒˆãƒ©ã‚¯ã‚·ãƒ§ãƒ³ã€è²¡å‹™ã€è³‡é‡‘èª¿é”ã€ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ³ã‚°ï¼‰\n- **Theme**: `startup-modern`ï¼ˆã‚¤ãƒ³ãƒ‡ã‚£ã‚´ + ãƒ‘ãƒ¼ãƒ—ãƒ«ã®ã‚«ãƒ©ãƒ¼ã‚¹ã‚­ãƒ¼ãƒï¼‰\n- **Components**: `traction-metrics`ã€`team-grid`\n\n### ãƒ†ã‚¹ãƒˆ\n- [x] ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚¿ã‚¤ãƒ—ã®èª­ã¿è¾¼ã¿\n- [x] ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã®èª­ã¿è¾¼ã¿\n- [x] ãƒ†ãƒ¼ãƒã®é©ç”¨\n- [x] PDFå‡ºåŠ›\n\n### ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ\n[ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆã‚’æ·»ä»˜]\n\n### ãƒ¬ãƒ“ãƒ¥ãƒ¯ãƒ¼ã¸ã®ãƒ¡ãƒ¢\nç‰¹ã«ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã®ã‚°ãƒªãƒƒãƒ‰é…ç½®ã¨ã€ãƒ†ãƒ¼ãƒã®ã‚«ãƒ©ãƒ¼ã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚\n```\n\n## ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ\n\n### ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚¿ã‚¤ãƒ—\n- [ ] IDãŒãƒ¦ãƒ‹ãƒ¼ã‚¯\n- [ ] åå‰ã€èª¬æ˜ãŒæ˜ç¢º\n- [ ] ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆãŒæ­£ã—ã„ï¼ˆã‚µã‚¤ã‚ºã€å‘ãï¼‰\n- [ ] ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã€ãƒ†ãƒ¼ãƒãŒå­˜åœ¨\n- [ ] JSONã‚¹ã‚­ãƒ¼ãƒãŒæœ‰åŠ¹\n\n### ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ\n- [ ] ã‚°ãƒªãƒƒãƒ‰å®šç¾©ãŒæ­£ã—ã„ï¼ˆ12Ã—12ï¼‰\n- [ ] ã‚»ã‚¯ã‚·ãƒ§ãƒ³ãŒé‡ãªã‚‰ãªã„\n- [ ] èª¿æ•´åˆ¶ç´„ãŒé©åˆ‡\n- [ ] AIãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãŒå®šç¾©ã•ã‚Œã¦ã„ã‚‹\n- [ ] JSONã‚¹ã‚­ãƒ¼ãƒãŒæœ‰åŠ¹\n\n### ãƒ†ãƒ¼ãƒ\n- [ ] ã‚«ãƒ©ãƒ¼ã‚¹ã‚­ãƒ¼ãƒãŒç¾ã—ã„\n- [ ] ã‚¿ã‚¤ãƒã‚°ãƒ©ãƒ•ã‚£ãŒèª­ã¿ã‚„ã™ã„\n- [ ] ã‚¹ãƒšãƒ¼ã‚·ãƒ³ã‚°ãŒé©åˆ‡\n- [ ] ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ï¼ˆã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆï¼‰ãŒç¢ºä¿ã•ã‚Œã¦ã„ã‚‹\n- [ ] YAMLãŒæœ‰åŠ¹\n\n### ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ\n- [ ] å†åˆ©ç”¨å¯èƒ½\n- [ ] ã‚¹ã‚¿ã‚¤ãƒ«ãŒé©ç”¨ã•ã‚Œã¦ã„ã‚‹\n- [ ] ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãŒå®šç¾©ã•ã‚Œã¦ã„ã‚‹\n- [ ] JSONã‚¹ã‚­ãƒ¼ãƒãŒæœ‰åŠ¹\n\n### ãƒ†ã‚¹ãƒˆ\n- [ ] ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆä½œæˆãŒæˆåŠŸ\n- [ ] ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆãŒæ­£ã—ãè¡¨ç¤º\n- [ ] ãƒ†ãƒ¼ãƒãŒé©ç”¨ã•ã‚Œã¦ã„ã‚‹\n- [ ] PDFå‡ºåŠ›ãŒæˆåŠŸ\n- [ ] ã™ã¹ã¦ã®ãƒ†ã‚¹ãƒˆãŒãƒ‘ã‚¹\n\n## ã¾ã¨ã‚\n\n**ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä½œæˆãƒ•ãƒ­ãƒ¼**:\n1. ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚¿ã‚¤ãƒ—ã®å®šç¾©ï¼ˆãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã€ç”¨é€”ï¼‰\n2. ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã®å®šç¾©ï¼ˆã‚°ãƒªãƒƒãƒ‰ã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³é…ç½®ï¼‰\n3. ãƒ†ãƒ¼ãƒã®å®šç¾©ï¼ˆã‚«ãƒ©ãƒ¼ã€ã‚¿ã‚¤ãƒã‚°ãƒ©ãƒ•ã‚£ï¼‰\n4. ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å®šç¾©ï¼ˆå†åˆ©ç”¨å¯èƒ½ãªUIï¼‰\n5. ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®ãƒ†ã‚¹ãƒˆ\n6. ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®å…¬é–‹ï¼ˆGitã€PRï¼‰\n\n**ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ**:\n- `src/data/document-types/*.json`: ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚¿ã‚¤ãƒ—\n- `src/data/layouts/*.json`: ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ\n- `src/data/themes/*.yml`: ãƒ†ãƒ¼ãƒ\n- `src/data/components/*.json`: ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ\n\nã“ã®ãƒ•ãƒ­ãƒ¼ã«ã‚ˆã‚Šã€ãƒ‡ã‚¶ã‚¤ãƒŠãƒ¼ã€éæŠ€è¡“è€…ã§ã‚‚ã€æ–°ã—ã„ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ä½œæˆã§ãã‚‹ã€‚\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€Œãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä½œæˆãƒ•ãƒ­ãƒ¼ã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "skill-json-yaml-template-definition",
      "decision-design-json-yaml-templates",
      "skill-grid-based-layout-system"
    ]
  },
  {
    "slug": "template-selection-decision-workflow",
    "title": "ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé¸æŠåˆ¤æ–­ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼",
    "category": "Workflowsï¼ˆãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ï¼‰",
    "description": "**AIæ¨å¥¨ã¨ã‚¹ã‚³ã‚¢ãƒªãƒ³ã‚°ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã‚’çµ„ã¿åˆã‚ã›ã€æœ€é©ãªãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’é¸æŠã™ã‚‹åˆ¤æ–­ãƒ•ãƒ­ãƒ¼ã€‚**",
    "project": "instagram-post-generator",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"workflow_template_selection_decision_workflow_2025_11_25\",\n  \"type\": \"workflow\",\n  \"name\": \"ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé¸æŠåˆ¤æ–­ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ï¼ˆAIæ¨å¥¨ vs ã‚¹ã‚³ã‚¢ãƒªãƒ³ã‚°ï¼‰\",\n  \"tags\": [\"ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé¸æŠ\", \"åˆ¤æ–­ãƒ•ãƒ­ãƒ¼\", \"ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰\"],\n  \"source_project\": \"instagram-post-generator\",\n  \"related_knowledge\": [\n    \"decision_arch_template_registry_pattern_2025_11_25\",\n    \"skill_template_selector_algorithm_2025_11_25\"\n  ],\n  \"prerequisites\": [\"ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ¬ã‚¸ã‚¹ãƒˆãƒªç†è§£\", \"ã‚¹ã‚³ã‚¢ãƒªãƒ³ã‚°ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ç†è§£\"],\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé¸æŠåˆ¤æ–­ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼\n\n## ä½•ã‚’ã™ã‚‹ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‹\n\n**AIæ¨å¥¨ã¨ã‚¹ã‚³ã‚¢ãƒªãƒ³ã‚°ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã‚’çµ„ã¿åˆã‚ã›ã€æœ€é©ãªãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’é¸æŠã™ã‚‹åˆ¤æ–­ãƒ•ãƒ­ãƒ¼ã€‚**\n\n**ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰æˆ¦ç•¥**: AIã®å‰µé€ æ€§ + ã‚¹ã‚³ã‚¢ãƒªãƒ³ã‚°ã®å“è³ªä¿è¨¼\n\n---\n\n## ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼å…¨ä½“åƒ\n\n```\n[ãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›]\n    â†“\nã€Step 1: AIåˆ†æã€‘\nâ”œâ”€ ã‚¸ãƒ£ãƒ³ãƒ«æ¤œå‡º\nâ”œâ”€ ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç‰¹æ€§åˆ†æ\nâ””â”€ AIæ¨å¥¨ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå–å¾—\n    â†“\nã€Step 2: ã‚¹ã‚³ã‚¢ãƒªãƒ³ã‚°ã€‘\nâ”œâ”€ å…¨ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®ã‚¹ã‚³ã‚¢è¨ˆç®—\nâ”œâ”€ æœ€é«˜ã‚¹ã‚³ã‚¢ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆç‰¹å®š\nâ””â”€ AIæ¨å¥¨ã‚¹ã‚³ã‚¢ã‚‚è¨ˆç®—\n    â†“\nã€Step 3: åˆ¤æ–­ã€‘\nâ”œâ”€ AIæ¨å¥¨ã‚¹ã‚³ã‚¢ >= æœ€é«˜ã‚¹ã‚³ã‚¢ - 10?\nâ”œâ”€ YES â†’ AIæ¨å¥¨ã‚’æ¡ç”¨\nâ””â”€ NO â†’ æœ€é«˜ã‚¹ã‚³ã‚¢ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’æ¡ç”¨\n    â†“\n[ç¢ºå®šãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ]\n```\n\n---\n\n## æ‰‹é †è©³ç´°\n\n### Step 1: AIåˆ†æ\n\n```typescript\nconst aiAnalysis = await analyzeWithAI(userInput)\n// {\n//   genre: 'æ‚©ã¿è§£æ±º',\n//   recommendedTemplate: 'unified-template-08-section-blocks',\n//   confidence: 85\n// }\n```\n\n### Step 2: ã‚¹ã‚³ã‚¢ãƒªãƒ³ã‚°\n\n```typescript\nconst allScores = calculateAllScores(userInput)\nconst maxScore = Math.max(...allScores.map(s => s.score))\nconst aiScore = allScores.find(s => s.template === aiAnalysis.recommendedTemplate)?.score || 0\n```\n\n### Step 3: åˆ¤æ–­\n\n```typescript\nconst threshold = 10\n\nif (aiScore >= maxScore - threshold) {\n  return aiAnalysis.recommendedTemplate  // AIåˆ¤æ–­å°Šé‡\n} else {\n  return allScores[0].template  // ã‚¹ã‚³ã‚¢ãƒªãƒ³ã‚°å„ªå…ˆ\n}\n```\n\n---\n\n## ã„ã¤ä½¿ã†ã‹\n\n- ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé¸æŠã®å“è³ªä¿è¨¼\n- AIã¨ãƒ«ãƒ¼ãƒ«ãƒ™ãƒ¼ã‚¹ã®ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰\n- åˆ¤æ–­æ ¹æ‹ ã®æ˜ç¢ºåŒ–\n\n---\n\n**ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰åˆ¤æ–­ã¯ã€å‰µé€ æ€§ã¨å“è³ªä¿è¨¼ã‚’ä¸¡ç«‹ã™ã‚‹ã€‚**\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€Œãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé¸æŠåˆ¤æ–­ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "decision-arch-template-registry-pattern",
      "skill-template-selector-algorithm"
    ]
  },
  {
    "slug": "8-system-integration-architecture",
    "title": "8å¤§ã‚·ã‚¹ãƒ†ãƒ çµ±åˆã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ï¼ˆFacade + Factory ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼‰",
    "category": "Design Patternsï¼ˆè¨­è¨ˆãƒ‘ã‚¿ãƒ¼ãƒ³ï¼‰",
    "description": "AIå°èª¬è‡ªå‹•ç”Ÿæˆã‚·ã‚¹ãƒ†ãƒ ã«ãŠã„ã¦ã€**8ã¤ã®å¤§è¦æ¨¡ã‚µãƒ–ã‚·ã‚¹ãƒ†ãƒ ã‚’çµ±åˆã—ã€å˜ä¸€ã®ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆï¼ˆNovelGenerationEngineï¼‰ã‹ã‚‰åˆ©ç”¨å¯èƒ½ã«ã™ã‚‹ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£**ã€‚Facadeãƒ‘ã‚¿ãƒ¼ãƒ³ã§è¤‡é›‘æ€§ã‚’éš è”½ã—ã€Factoryãƒ‘ã‚¿ãƒ¼ãƒ³ã§ä¾å­˜é–¢ä¿‚ã‚’ä¸€å…ƒç®¡ç†ã€‚",
    "project": "novel-automation-system-v2",
    "usedIn": [
      "src/lib/generation/engine.ts:1-500, src/lib/generation/integrated-system-factory.ts:1-500"
    ],
    "code": "```json\n{\n  \"id\": \"design_pattern_8_system_integration_2025_11_25\",\n  \"type\": \"design_pattern\",\n  \"name\": \"8å¤§ã‚·ã‚¹ãƒ†ãƒ çµ±åˆã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ï¼ˆFacade + Factory ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼‰\",\n  \"tags\": [\"çµ±åˆã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£\", \"Facade\", \"Factory\", \"8å¤§ã‚·ã‚¹ãƒ†ãƒ \", \"ä¾å­˜æ³¨å…¥\", \"NovelGenerationEngine\", \"åˆæœŸåŒ–\"],\n  \"source_project\": \"novel-automation-system-v2\",\n  \"source_file\": \"src/lib/generation/engine.ts:1-500, src/lib/generation/integrated-system-factory.ts:1-500\",\n  \"related_knowledge\": [\n    \"design_pattern_service_container_di_2025_11_25\",\n    \"system_novel_automation_status_2025_11_25\",\n    \"decision_three_tier_memory_architecture_2025_11_25\",\n    \"design_pattern_character_7_service_architecture_2025_11_25\"\n  ],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# 8å¤§ã‚·ã‚¹ãƒ†ãƒ çµ±åˆã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ï¼ˆFacade + Factory ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼‰\n\n## ä½•ã‚’ã™ã‚‹ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ‘ã‚¿ãƒ¼ãƒ³ã‹\n\nAIå°èª¬è‡ªå‹•ç”Ÿæˆã‚·ã‚¹ãƒ†ãƒ ã«ãŠã„ã¦ã€**8ã¤ã®å¤§è¦æ¨¡ã‚µãƒ–ã‚·ã‚¹ãƒ†ãƒ ã‚’çµ±åˆã—ã€å˜ä¸€ã®ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆï¼ˆNovelGenerationEngineï¼‰ã‹ã‚‰åˆ©ç”¨å¯èƒ½ã«ã™ã‚‹ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£**ã€‚Facadeãƒ‘ã‚¿ãƒ¼ãƒ³ã§è¤‡é›‘æ€§ã‚’éš è”½ã—ã€Factoryãƒ‘ã‚¿ãƒ¼ãƒ³ã§ä¾å­˜é–¢ä¿‚ã‚’ä¸€å…ƒç®¡ç†ã€‚\n\n## 8å¤§ã‚·ã‚¹ãƒ†ãƒ ã®æ§‹æˆ\n\n```\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚     NovelGenerationEngine (Facade)           â”‚\nâ”‚           â†“ çµ±åˆãƒ»èª¿æ•´                        â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚  1. LifecycleSystem    (Tier 1)              â”‚\nâ”‚     â†’ ServiceContainer, Logger, EventBus     â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚  2. MemorySystem       (Tier 2)              â”‚\nâ”‚     â†’ 3å±¤è¨˜æ†¶éšå±¤ç®¡ç†                         â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚  3. ParametersSystem   (Tier 2)              â”‚\nâ”‚     â†’ ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ç®¡ç†ãƒ»æ¤œè¨¼                    â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚  4. CharacterSystem    (Tier 3)              â”‚\nâ”‚     â†’ 7ã‚µãƒ¼ãƒ“ã‚¹çµ±åˆï¼ˆCRUD, æ¤œå‡º, é€²åŒ–...ï¼‰    â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚  5. PlotSystem         (Tier 3)              â”‚\nâ”‚     â†’ ãƒ—ãƒ­ãƒƒãƒˆç®¡ç†ãƒ»ä¸–ç•Œè¨­å®š                  â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚  6. LearningJourneySystem (Tier 4)           â”‚\nâ”‚     â†’ å­¦ç¿’æ—…ç¨‹ãƒ»æ¦‚å¿µå­¦ç¿’                      â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚  7. ForeshadowingSystem   (Tier 4)           â”‚\nâ”‚     â†’ ä¼ç·šç®¡ç†ãƒ»è‡ªå‹•ç”Ÿæˆ                      â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚  8. AnalysisSystem        (Tier 5)           â”‚\nâ”‚     â†’ å“è³ªåˆ†æãƒ»æœ€é©åŒ–                        â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n```\n\n## å…·ä½“çš„ãªå®Ÿè£…\n\n### NovelGenerationEngineï¼ˆFacadeã‚¯ãƒ©ã‚¹ï¼‰\n\n**å½¹å‰²**: 8å¤§ã‚·ã‚¹ãƒ†ãƒ ã¸ã®çµ±ä¸€ã•ã‚ŒãŸã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’æä¾›\n\n**ã‚³ãƒ¼ãƒ‰å®Ÿè£…**:\n```typescript\n// src/lib/generation/engine.ts\nclass NovelGenerationEngine {\n  // â­ DIå¯¾å¿œ: Service ContainerãŒå‚ç…§ã™ã‚‹ä¾å­˜å®£è¨€\n  static dependencies: string[] = [\n    'memoryManager',      // MemorySystem\n    'geminiClient',       // AIç”Ÿæˆã‚¨ãƒ³ã‚¸ãƒ³\n    'characterManager',   // CharacterSystem\n    'plotManager'         // PlotSystem\n  ];\n\n  // â­ åˆæœŸåŒ–TieræŒ‡å®š: Tier 5ï¼ˆæœ€å¾Œã«åˆæœŸåŒ–ï¼‰\n  static initializationTier = 5;\n\n  private chapterGenerator: ChapterGenerator;\n  private geminiClient: GeminiClient;\n  private promptGenerator: PromptGenerator;\n  private memoryManager: MemoryManager;\n\n  /**\n   * ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ï¼ˆä¾å­˜æ³¨å…¥å¯¾å¿œç‰ˆï¼‰\n   */\n  constructor(\n    memoryManager: MemoryManager,\n    chapterGenerator: ChapterGenerator,\n    promptGenerator: PromptGenerator,\n    geminiClient: GeminiClient\n  ) {\n    this.memoryManager = memoryManager;\n    this.chapterGenerator = chapterGenerator;\n    this.promptGenerator = promptGenerator;\n    this.geminiClient = geminiClient;\n\n    // PlotManagerã¨ã®çµ±åˆè¨­å®š\n    this.setupPlotManagerIntegration();\n\n    // ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿å¤‰æ›´ãƒªã‚¹ãƒŠãƒ¼ã®è¨­å®š\n    this.setupParameterChangeListener();\n\n    logger.info('NovelGenerationEngine ready for immediate use');\n  }\n\n  /**\n   * ç« ç”Ÿæˆï¼ˆãƒ¡ã‚¤ãƒ³APIï¼‰\n   */\n  async generateChapter(request: GenerateChapterRequest): Promise<Chapter> {\n    try {\n      // 1. Memory Systemã‹ã‚‰æœ€æ–°ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆå–å¾—\n      const context = await this.memoryManager.getGenerationContext(request.chapterNumber);\n\n      // 2. Character Systemã‹ã‚‰ç™»å ´ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼æƒ…å ±å–å¾—\n      const characters = await this.getRelevantCharacters(context);\n\n      // 3. Plot Systemã‹ã‚‰ç¾åœ¨ã®ãƒ—ãƒ­ãƒƒãƒˆçŠ¶æ³å–å¾—\n      const plotStatus = await this.getCurrentPlotStatus(request.chapterNumber);\n\n      // 4. Learning Journey Systemã‹ã‚‰å­¦ç¿’é€²è¡Œåº¦å–å¾—ï¼ˆä»»æ„ï¼‰\n      const learningProgress = await this.getLearningProgress();\n\n      // 5. Foreshadowing Systemã‹ã‚‰ä¼ç·šæƒ…å ±å–å¾—ï¼ˆä»»æ„ï¼‰\n      const foreshadowing = await this.getForeshadowingInfo();\n\n      // 6. Promptç”Ÿæˆ\n      const prompt = await this.promptGenerator.generate({\n        context,\n        characters,\n        plotStatus,\n        learningProgress,\n        foreshadowing\n      });\n\n      // 7. Gemini APIã§ç”Ÿæˆ\n      const generatedText = await this.geminiClient.generate(prompt);\n\n      // 8. ç”Ÿæˆçµæœã‚’Chapterã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«å¤‰æ›\n      const chapter = await this.chapterGenerator.createChapter(generatedText, request);\n\n      // 9. Analysis Systemã§å“è³ªãƒã‚§ãƒƒã‚¯\n      await this.analyzeQuality(chapter);\n\n      // 10. Memory Systemã«ä¿å­˜\n      await this.memoryManager.saveChapter(chapter);\n\n      return chapter;\n    } catch (error) {\n      logger.error('Chapter generation failed', { error });\n      throw new GenerationError('Failed to generate chapter', error);\n    }\n  }\n\n  /**\n   * PlotManagerã¨ã®çµ±åˆè¨­å®š\n   */\n  private setupPlotManagerIntegration(): void {\n    try {\n      setGlobalMemoryManager(this.memoryManager);\n      initializePlotManager(this.memoryManager);\n      logger.info('PlotManager integration completed');\n    } catch (error) {\n      logger.warn('PlotManager integration failed, continuing without it', {\n        error: error instanceof Error ? error.message : String(error)\n      });\n    }\n  }\n\n  /**\n   * ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿å¤‰æ›´ãƒªã‚¹ãƒŠãƒ¼ã®è¨­å®š\n   */\n  private setupParameterChangeListener(): void {\n    try {\n      parameterManager.onParameterChanged(this.handleParameterChange.bind(this));\n\n      const params = parameterManager.getParameters();\n      if (params.generation.models) {\n        this.geminiClient.setModelMap(params.generation.models);\n        logger.info('Model map initialized from parameters');\n      }\n    } catch (error) {\n      logger.warn('Parameter change listener setup failed', {\n        error: error instanceof Error ? error.message : String(error)\n      });\n    }\n  }\n}\n```\n\n### IntegratedSystemFactoryï¼ˆFactoryã‚¯ãƒ©ã‚¹ï¼‰\n\n**å½¹å‰²**: 8å¤§ã‚·ã‚¹ãƒ†ãƒ ã®åˆæœŸåŒ–é †åºã‚’ç®¡ç†ã—ã€ä¾å­˜é–¢ä¿‚ã‚’è§£æ±º\n\n**ã‚³ãƒ¼ãƒ‰å®Ÿè£…**:\n```typescript\n// src/lib/generation/integrated-system-factory.ts\nexport class IntegratedSystemFactory {\n  private static instance: IntegratedSystemFactory | null = null;\n  private initialized: boolean = false;\n  private state: SystemInitializationState;\n\n  // ä¸­æ ¸ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ\n  private memoryManager: MemoryManager | null = null;\n  private contentAnalysisManager: ContentAnalysisManager | null = null;\n  private narrativeAnalysisService: NarrativeAnalysisService | null = null;\n\n  // åˆæœŸåŒ–ãƒ—ãƒ­ãƒŸã‚¹ï¼ˆé‡è¤‡åˆæœŸåŒ–é˜²æ­¢ï¼‰\n  private initializationPromise: Promise<void> | null = null;\n\n  /**\n   * ã‚·ãƒ³ã‚°ãƒ«ãƒˆãƒ³ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹å–å¾—\n   */\n  static getInstance(config?: IntegratedSystemFactoryConfig): IntegratedSystemFactory {\n    if (!IntegratedSystemFactory.instance) {\n      if (!config) {\n        throw new Error('Configuration required for first-time initialization');\n      }\n      IntegratedSystemFactory.instance = new IntegratedSystemFactory(config);\n    }\n    return IntegratedSystemFactory.instance;\n  }\n\n  /**\n   * ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“ã®åˆæœŸåŒ–ï¼ˆæœ€å„ªå…ˆãƒ¡ã‚½ãƒƒãƒ‰ï¼‰\n   */\n  async initializeSystem(geminiClient: GeminiClient): Promise<void> {\n    if (this.initialized) {\n      logger.info('System already initialized');\n      return;\n    }\n\n    if (this.initializationPromise) {\n      logger.info('Initialization in progress, waiting...');\n      return this.initializationPromise;\n    }\n\n    this.initializationPromise = this.performInitialization(geminiClient);\n    await this.initializationPromise;\n  }\n\n  /**\n   * å®Ÿéš›ã®åˆæœŸåŒ–å‡¦ç†ï¼ˆ4æ®µéšï¼‰\n   */\n  private async performInitialization(geminiClient: GeminiClient): Promise<void> {\n    try {\n      logger.info('ğŸš€ Starting integrated system initialization');\n\n      // Stage 1: Memory SystemåˆæœŸåŒ–ï¼ˆæœ€å„ªå…ˆï¼‰\n      await this.initializeMemorySystem();\n      this.state.memoryManagerInitialized = true;\n\n      // Stage 2: Memory Systemæ¤œè¨¼\n      await this.validateMemorySystem();\n      this.state.memoryManagerValidated = true;\n\n      // Stage 3: Core ServicesåˆæœŸåŒ–ï¼ˆMemoryä¾å­˜ï¼‰\n      await this.initializeCoreServices(geminiClient);\n      this.state.coreServicesInitialized = true;\n\n      // Stage 4: Integration LayeråˆæœŸåŒ–\n      await this.initializeIntegrationLayer();\n      this.state.integrationLayerInitialized = true;\n\n      this.initialized = true;\n      this.state.fullyOperational = true;\n      this.state.lastValidation = new Date().toISOString();\n\n      logger.info('âœ… Integrated system initialization completed successfully', {\n        duration: this.calculateInitializationDuration(),\n        state: this.state\n      });\n    } catch (error) {\n      this.state.errors.push(error instanceof Error ? error.message : String(error));\n      logger.error('âŒ Integrated system initialization failed', {\n        error,\n        state: this.state\n      });\n      throw error;\n    }\n  }\n\n  /**\n   * Memory SystemåˆæœŸåŒ–\n   */\n  private async initializeMemorySystem(): Promise<void> {\n    logger.info('Initializing Memory System...');\n\n    this.memoryManager = new MemoryManager(this.config.memoryManagerConfig);\n    await this.memoryManager.initialize();\n\n    logger.info('Memory System initialized successfully');\n  }\n\n  /**\n   * Core ServicesåˆæœŸåŒ–\n   */\n  private async initializeCoreServices(geminiClient: GeminiClient): Promise<void> {\n    logger.info('Initializing Core Services...');\n\n    // ContentAnalysisManagerï¼ˆCharacter/Plotåˆ†æçµ±åˆï¼‰\n    this.contentAnalysisManager = new ContentAnalysisManager(this.memoryManager!);\n\n    // NarrativeAnalysisServiceï¼ˆç‰©èªåˆ†æï¼‰\n    this.narrativeAnalysisService = new NarrativeAnalysisService(\n      geminiClient,\n      storageProvider\n    );\n\n    logger.info('Core Services initialized successfully');\n  }\n\n  /**\n   * Integration LayeråˆæœŸåŒ–\n   */\n  private async initializeIntegrationLayer(): Promise<void> {\n    logger.info('Initializing Integration Layer...');\n\n    // Analysis Coordinatorsï¼ˆTier 5ã‚·ã‚¹ãƒ†ãƒ ï¼‰\n    const analysisCoordinator = new AnalysisCoordinator(\n      this.contentAnalysisManager!,\n      this.narrativeAnalysisService!,\n      this.memoryManager!\n    );\n\n    const optimizationCoordinator = new OptimizationCoordinator(\n      analysisCoordinator\n    );\n\n    logger.info('Integration Layer initialized successfully');\n  }\n}\n```\n\n## ãªãœã“ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ä½¿ã†ã‹\n\n### ç†ç”±1: è¤‡é›‘æ€§ã®éš è”½ï¼ˆFacade ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼‰\n\n**å•é¡Œ**: 8å¤§ã‚·ã‚¹ãƒ†ãƒ ã‚’ç›´æ¥æ“ä½œã™ã‚‹ã¨ã€å‘¼ã³å‡ºã—å´ãŒè¤‡é›‘åŒ–ã€‚\n\n```typescript\n// âŒ æ‚ªã„ä¾‹: ç›´æ¥æ“ä½œï¼ˆè¤‡é›‘ï¼‰\nconst memory = await memoryManager.getContext();\nconst characters = await characterManager.getAll();\nconst plot = await plotManager.getStatus();\nconst learning = await learningJourneySystem.getProgress();\nconst foreshadowing = await foreshadowingSystem.getActive();\nconst prompt = generatePrompt(memory, characters, plot, learning, foreshadowing);\nconst text = await geminiClient.generate(prompt);\nconst chapter = createChapter(text);\nawait analysisSystem.analyze(chapter);\nawait memoryManager.save(chapter);\n```\n\n```typescript\n// âœ… è‰¯ã„ä¾‹: FacadeçµŒç”±ï¼ˆã‚·ãƒ³ãƒ—ãƒ«ï¼‰\nconst chapter = await novelGenerationEngine.generateChapter({\n  chapterNumber: 10,\n  genre: 'fantasy'\n});\n// â†’ å†…éƒ¨ã§8å¤§ã‚·ã‚¹ãƒ†ãƒ ã‚’è‡ªå‹•çµ±åˆ\n```\n\n**ãƒ¡ãƒªãƒƒãƒˆ**:\n- å‘¼ã³å‡ºã—å´ã¯1ã¤ã®ãƒ¡ã‚½ãƒƒãƒ‰ã‚’å‘¼ã¶ã ã‘\n- ã‚·ã‚¹ãƒ†ãƒ é–“ã®èª¿æ•´ã¯Engineå†…éƒ¨ã§å®Œçµ\n- å¤‰æ›´æ™‚ã®å½±éŸ¿ç¯„å›²ãŒé™å®šã•ã‚Œã‚‹\n\n### ç†ç”±2: ä¾å­˜é–¢ä¿‚ã®ä¸€å…ƒç®¡ç†ï¼ˆFactory ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼‰\n\n**å•é¡Œ**: 8å¤§ã‚·ã‚¹ãƒ†ãƒ ã®åˆæœŸåŒ–é †åºã‚’é–“é•ãˆã‚‹ã¨ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿã€‚\n\n**è§£æ±º**: IntegratedSystemFactoryãŒåˆæœŸåŒ–é †åºã‚’ç®¡ç†ã€‚\n\n```typescript\n// Factoryå†…éƒ¨ã§è‡ªå‹•çš„ã«æ­£ã—ã„é †åºã§åˆæœŸåŒ–\n// 1. Memory Systemï¼ˆTier 2ï¼‰\n// 2. Parameters Systemï¼ˆTier 2ï¼‰\n// 3. Character Systemï¼ˆTier 3ï¼‰ â† Memoryä¾å­˜\n// 4. Plot Systemï¼ˆTier 3ï¼‰ â† Memoryä¾å­˜\n// 5. Learning Journey Systemï¼ˆTier 4ï¼‰ â† Character/Plotä¾å­˜\n// 6. Foreshadowing Systemï¼ˆTier 4ï¼‰ â† Character/Plotä¾å­˜\n// 7. Analysis Systemï¼ˆTier 5ï¼‰ â† å…¨ã‚·ã‚¹ãƒ†ãƒ ä¾å­˜\n// 8. NovelGenerationEngineï¼ˆTier 5ï¼‰ â† å…¨ã‚·ã‚¹ãƒ†ãƒ çµ±åˆ\n```\n\n**ãƒ¡ãƒªãƒƒãƒˆ**:\n- åˆæœŸåŒ–é †åºã‚’é–“é•ãˆãªã„\n- ä¾å­˜é–¢ä¿‚ãŒæ˜ç¢ºï¼ˆstaticãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã§å®£è¨€ï¼‰\n- å¾ªç’°ä¾å­˜ã‚’äº‹å‰æ¤œå‡º\n\n### ç†ç”±3: ã‚·ã‚¹ãƒ†ãƒ é–“ã®ç–çµåˆ\n\n**å•é¡Œ**: ã‚·ã‚¹ãƒ†ãƒ ãŒç›´æ¥ä¾å­˜ã™ã‚‹ã¨ã€å¤‰æ›´æ™‚ã®å½±éŸ¿ãŒå¤§ãã„ã€‚\n\n**è§£æ±º**: NovelGenerationEngineã‚’çµŒç”±ã™ã‚‹ã“ã¨ã§ã€ã‚·ã‚¹ãƒ†ãƒ é–“ã‚’ç–çµåˆã«ã€‚\n\n```\nâŒ æ‚ªã„ä¾‹ï¼ˆå¯†çµåˆï¼‰:\nCharacterSystem â†’ PlotSystemç›´æ¥ä¾å­˜\nPlotSystemã®å¤‰æ›´ â†’ CharacterSystemã‚‚å¤‰æ›´å¿…è¦\n\nâœ… è‰¯ã„ä¾‹ï¼ˆç–çµåˆï¼‰:\nCharacterSystem â† NovelGenerationEngine â†’ PlotSystem\nPlotSystemã®å¤‰æ›´ â†’ Engineå†…éƒ¨ã ã‘å¤‰æ›´\n```\n\n**ãƒ¡ãƒªãƒƒãƒˆ**:\n- ã‚·ã‚¹ãƒ†ãƒ ã®ç‹¬ç«‹æ€§å‘ä¸Š\n- ãƒ†ã‚¹ãƒˆãŒå®¹æ˜“ï¼ˆå„ã‚·ã‚¹ãƒ†ãƒ ã‚’å˜ç‹¬ãƒ†ã‚¹ãƒˆå¯èƒ½ï¼‰\n- å°†æ¥çš„ãªã‚·ã‚¹ãƒ†ãƒ è¿½åŠ ãƒ»å‰Šé™¤ãŒå®¹æ˜“\n\n### ç†ç”±4: å˜ä¸€è²¬ä»»ã®åŸå‰‡ï¼ˆSRPï¼‰\n\nå„ã‚·ã‚¹ãƒ†ãƒ ãŒå˜ä¸€ã®è²¬ä»»ã‚’æŒã¤ï¼š\n\n- **MemorySystem**: è¨˜æ†¶éšå±¤ç®¡ç†ã®ã¿\n- **CharacterSystem**: ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ç®¡ç†ã®ã¿\n- **PlotSystem**: ãƒ—ãƒ­ãƒƒãƒˆç®¡ç†ã®ã¿\n- **AnalysisSystem**: å“è³ªåˆ†æã®ã¿\n- **NovelGenerationEngine**: ã‚·ã‚¹ãƒ†ãƒ çµ±åˆã®ã¿\n\n**ãƒ¡ãƒªãƒƒãƒˆ**:\n- ã‚³ãƒ¼ãƒ‰ã®å¯èª­æ€§å‘ä¸Š\n- ãƒã‚°ã®ç‰¹å®šãŒå®¹æ˜“\n- ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ãŒæ¥½\n\n### ç†ç”±5: æ‹¡å¼µæ€§\n\næ–°ã‚·ã‚¹ãƒ†ãƒ ã®è¿½åŠ ãŒå®¹æ˜“ï¼š\n\n```typescript\n// æ–°ã‚·ã‚¹ãƒ†ãƒ ã‚’è¿½åŠ ã™ã‚‹å ´åˆ\nclass NovelGenerationEngine {\n  static dependencies: string[] = [\n    'memoryManager',\n    'characterManager',\n    'plotManager',\n    'newSystem'  // â† ä¾å­˜ã«è¿½åŠ ã™ã‚‹ã ã‘\n  ];\n\n  constructor(\n    // ...æ—¢å­˜ã®ä¾å­˜,\n    newSystem: NewSystem  // â† ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã«è¿½åŠ \n  ) {\n    // ...\n  }\n}\n```\n\nApplicationLifecycleManagerãŒè‡ªå‹•çš„ã«ä¾å­˜é–¢ä¿‚ã‚’è§£æ±ºã€‚\n\n## å†ç¾æ–¹æ³•\n\n### æ‰‹é †1: Facadeã‚¯ãƒ©ã‚¹ã®ä½œæˆ\n\n```typescript\n// src/lib/generation/engine.ts\nexport class NovelGenerationEngine {\n  // ä¾å­˜å®£è¨€\n  static dependencies: string[] = ['systemA', 'systemB', 'systemC'];\n  static initializationTier = 5;\n\n  constructor(\n    private systemA: SystemA,\n    private systemB: SystemB,\n    private systemC: SystemC\n  ) {}\n\n  // çµ±åˆãƒ¡ã‚½ãƒƒãƒ‰\n  async performTask(): Promise<Result> {\n    const dataA = await this.systemA.getData();\n    const dataB = await this.systemB.process(dataA);\n    const result = await this.systemC.finalize(dataB);\n    return result;\n  }\n}\n```\n\n### æ‰‹é †2: Factoryã‚¯ãƒ©ã‚¹ã®ä½œæˆ\n\n```typescript\n// src/lib/generation/factory.ts\nexport class SystemFactory {\n  private static instance: SystemFactory | null = null;\n\n  static getInstance(): SystemFactory {\n    if (!this.instance) {\n      this.instance = new SystemFactory();\n    }\n    return this.instance;\n  }\n\n  async initializeAll(): Promise<void> {\n    // Stage 1: åŸºç›¤ã‚·ã‚¹ãƒ†ãƒ \n    const systemA = await this.initializeSystemA();\n\n    // Stage 2: ä¾å­˜ã‚·ã‚¹ãƒ†ãƒ ï¼ˆsystemAä¾å­˜ï¼‰\n    const systemB = await this.initializeSystemB(systemA);\n    const systemC = await this.initializeSystemC(systemA);\n\n    // Stage 3: çµ±åˆå±¤ï¼ˆå…¨ä¾å­˜ï¼‰\n    const engine = new NovelGenerationEngine(systemA, systemB, systemC);\n\n    this.registerToContainer(engine);\n  }\n}\n```\n\n### æ‰‹é †3: Service Containerã¸ã®ç™»éŒ²\n\n```typescript\n// src/lib/lifecycle/service-container.ts\nserviceContainer.register('novelGenerationEngine', async () => {\n  const factory = SystemFactory.getInstance();\n  await factory.initializeAll();\n  return factory.getEngine();\n}, ServiceLifecycle.SINGLETON);\n```\n\n### æ‰‹é †4: API Routeã‹ã‚‰ã®åˆ©ç”¨\n\n```typescript\n// src/app/api/generation/chapter/route.ts\nexport async function POST(request: Request) {\n  const engine = await serviceContainer.resolve<NovelGenerationEngine>('novelGenerationEngine');\n  const result = await engine.generateChapter({ chapterNumber: 10 });\n  return Response.json(result);\n}\n```\n\n## ã„ã¤ä½¿ã†ã‹\n\n### é©ç”¨å ´é¢1: å¤§è¦æ¨¡ãªã‚µãƒ–ã‚·ã‚¹ãƒ†ãƒ ã‚’æŒã¤ã‚¢ãƒ—ãƒª\n\n**æ¡ä»¶**:\n- 5å€‹ä»¥ä¸Šã®å¤§è¦æ¨¡ã‚µãƒ–ã‚·ã‚¹ãƒ†ãƒ \n- ã‚·ã‚¹ãƒ†ãƒ é–“ã®è¤‡é›‘ãªä¾å­˜é–¢ä¿‚\n\n**åŠ¹æœ**:\n- çµ±ä¸€ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã§è¤‡é›‘æ€§ã‚’éš è”½\n- ä¾å­˜é–¢ä¿‚ã®è‡ªå‹•è§£æ±º\n\n### é©ç”¨å ´é¢2: ã‚·ã‚¹ãƒ†ãƒ é–“ã®å”èª¿ãŒå¿…è¦\n\n**æ¡ä»¶**:\n- è¤‡æ•°ã‚·ã‚¹ãƒ†ãƒ ã®çµæœã‚’çµ±åˆã™ã‚‹å¿…è¦ãŒã‚ã‚‹\n- ã‚·ã‚¹ãƒ†ãƒ é–“ã®ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼ãŒè¤‡é›‘\n\n**åŠ¹æœ**:\n- Facadeã§çµ±åˆãƒ­ã‚¸ãƒƒã‚¯ã‚’ä¸€å…ƒåŒ–\n- ã‚·ã‚¹ãƒ†ãƒ é–“ã®ç–çµåˆã‚’ç¶­æŒ\n\n### é©ç”¨å ´é¢3: æ®µéšçš„ãªåˆæœŸåŒ–ãŒå¿…è¦\n\n**æ¡ä»¶**:\n- åˆæœŸåŒ–é †åºãŒé‡è¦\n- ä¾å­˜é–¢ä¿‚ãŒè¤‡é›‘\n\n**åŠ¹æœ**:\n- Factoryã§åˆæœŸåŒ–é †åºã‚’ä¿è¨¼\n\n### é©ç”¨å ´é¢4: é »ç¹ãªæ‹¡å¼µãŒäºˆæƒ³ã•ã‚Œã‚‹\n\n**æ¡ä»¶**:\n- æ–°ã‚·ã‚¹ãƒ†ãƒ ã®è¿½åŠ ãŒäºˆæƒ³ã•ã‚Œã‚‹\n- ã‚·ã‚¹ãƒ†ãƒ ã®å…¥ã‚Œæ›¿ãˆãŒå¿…è¦\n\n**åŠ¹æœ**:\n- ä¾å­˜å®£è¨€ã‚’è¿½åŠ ã™ã‚‹ã ã‘ã§æ‹¡å¼µå¯èƒ½\n\n## æ³¨æ„ç‚¹\n\n### æ³¨æ„ç‚¹1: Facadeã®è‚¥å¤§åŒ–\n\n**å•é¡Œ**: NovelGenerationEngineã«æ©Ÿèƒ½ã‚’è©°ã‚è¾¼ã¿ã™ãã‚‹ã¨ã€å·¨å¤§ã‚¯ãƒ©ã‚¹ã«ãªã‚‹ã€‚\n\n**å¯¾ç­–**:\n- æ©Ÿèƒ½ã‚’ã‚µãƒ–ã‚¯ãƒ©ã‚¹ã«åˆ†å‰²ï¼ˆChapterGenerator, PromptGeneratorãªã©ï¼‰\n- Facadeã¯çµ±åˆã®ã¿ã«å°‚å¿µ\n\n### æ³¨æ„ç‚¹2: Factoryã®åˆæœŸåŒ–æ™‚é–“\n\n**å•é¡Œ**: 8å¤§ã‚·ã‚¹ãƒ†ãƒ ã®åˆæœŸåŒ–ã«æ™‚é–“ãŒã‹ã‹ã‚‹å¯èƒ½æ€§ã€‚\n\n**å¯¾ç­–**:\n- ä¸¦åˆ—åˆæœŸåŒ–ï¼ˆåŒä¸€Tierå†…ã¯ä¸¦åˆ—å¯èƒ½ï¼‰\n- é…å»¶åˆæœŸåŒ–ï¼ˆå¿…è¦ã«ãªã£ãŸã‚‰åˆæœŸåŒ–ï¼‰\n\n### æ³¨æ„ç‚¹3: ã‚·ãƒ³ã‚°ãƒ«ãƒˆãƒ³ã®å•é¡Œ\n\n**å•é¡Œ**: FactoryãŒã‚·ãƒ³ã‚°ãƒ«ãƒˆãƒ³ã ã¨ã€ãƒ†ã‚¹ãƒˆã§çŠ¶æ…‹ãŒãƒªã‚»ãƒƒãƒˆã•ã‚Œãªã„ã€‚\n\n**å¯¾ç­–**:\n- ãƒ†ã‚¹ãƒˆæ™‚ã¯ã‚·ãƒ³ã‚°ãƒ«ãƒˆãƒ³ã‚’ãƒªã‚»ãƒƒãƒˆ\n- ã¾ãŸã¯ã€ãƒ†ã‚¹ãƒˆå°‚ç”¨ã®Factoryã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ä½¿ç”¨\n\n### æ³¨æ„ç‚¹4: éåº¦ãªæŠ½è±¡åŒ–\n\n**å•é¡Œ**: FacadeãŒè¤‡é›‘ã«ãªã‚Šã™ãã‚‹ã¨ã€é€†ã«ç†è§£ã—ã«ãããªã‚‹ã€‚\n\n**å¯¾ç­–**:\n- ã‚·ãƒ³ãƒ—ãƒ«ãªçµ±åˆã«ç•™ã‚ã‚‹\n- è¤‡é›‘ãªãƒ­ã‚¸ãƒƒã‚¯ã¯ã‚µãƒ–ã‚·ã‚¹ãƒ†ãƒ ã«å§”è­²\n\n### æ³¨æ„ç‚¹5: ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°\n\n**å•é¡Œ**: 8å¤§ã‚·ã‚¹ãƒ†ãƒ ã®ã©ã“ã§ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãŸã‹åˆ†ã‹ã‚Šã«ãã„ã€‚\n\n**å¯¾ç­–**:\n- è©³ç´°ãªãƒ­ã‚°å‡ºåŠ›\n- ã‚¨ãƒ©ãƒ¼ã®ä¼æ’­ã‚’è¿½è·¡å¯èƒ½ã«\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `design_pattern_service_container_di_2025_11_25.md`ï¼šService Container & DI\n- `system_novel_automation_status_2025_11_25.md`ï¼šã‚·ã‚¹ãƒ†ãƒ å…¨ä½“ã®çŠ¶æ…‹\n- `decision_three_tier_memory_architecture_2025_11_25.md`ï¼šMemory Systemã®è©³ç´°\n- `design_pattern_character_7_service_architecture_2025_11_25.md`ï¼šCharacter Systemã®è©³ç´°ï¼ˆæ¬¡ã«ä½œæˆï¼‰\n- `design_pattern_plot_3_mode_architecture_2025_11_25.md`ï¼šPlot Systemã®è©³ç´°ï¼ˆæ¬¡ã«ä½œæˆï¼‰\n",
    "prompt": "### æ‰‹é †1: Facadeã‚¯ãƒ©ã‚¹ã®ä½œæˆ\n\n```typescript\n// src/lib/generation/engine.ts\nexport class NovelGenerationEngine {\n  // ä¾å­˜å®£è¨€\n  static dependencies: string[] = ['systemA', 'systemB', 'systemC'];\n  static initializationTier = 5;\n\n  constructor(\n    private systemA: SystemA,\n    private systemB: SystemB,\n    private systemC: SystemC\n  ) {}\n\n  // çµ±åˆãƒ¡ã‚½ãƒƒãƒ‰\n  async performTask(): Promise<Result> {\n    const dataA = await this.systemA.getData();\n    const dataB = await this.systemB.process(dataA);\n    const result = await this.systemC.finalize(dataB);\n    return result;\n  }\n}\n```\n\n### æ‰‹é †2: Factoryã‚¯ãƒ©ã‚¹ã®ä½œæˆ\n\n```typescript\n// src/lib/generation/factory.ts\nexport class SystemFactory {\n  private static instance: SystemFactory | null = null;\n\n  static getInstance(): SystemFactory {\n    if (!this.instance) {\n      this.instance = new SystemFactory();\n    }\n    return this.instance;\n  }\n\n  async initializeAll(): Promise<void> {\n    // Stage 1: åŸºç›¤ã‚·ã‚¹ãƒ†ãƒ \n    const systemA = await this.initializeSystemA();\n\n    // Stage 2: ä¾å­˜ã‚·ã‚¹ãƒ†ãƒ ï¼ˆsystemAä¾å­˜ï¼‰\n    const systemB = await this.initializeSystemB(systemA);\n    const systemC = await this.initializeSystemC(systemA);\n\n    // Stage 3: çµ±åˆå±¤ï¼ˆå…¨ä¾å­˜ï¼‰\n    const engine = new NovelGenerationEngine(systemA, systemB, systemC);\n\n    this.registerToContainer(engine);\n  }\n}\n```\n\n### æ‰‹é †3: Service Containerã¸ã®ç™»éŒ²\n\n```typescript\n// src/lib/lifecycle/service-container.ts\nserviceContainer.register('novelGenerationEngine', async () => {\n  const factory = SystemFactory.getInstance();\n  await factory.initializeAll();\n  return factory.getEngine();\n}, ServiceLifecycle.SINGLETON);\n```\n\n### æ‰‹é †4: API Routeã‹ã‚‰ã®åˆ©ç”¨\n\n```typescript\n// src/app/api/generation/chapter/route.ts\nexport async function POST(request: Request) {\n  const engine = await serviceContainer.resolve<NovelGenerationEngine>('novelGenerationEngine');\n  const result = await engine.generateChapter({ chapterNumber: 10 });\n  return Response.json(result);\n}\n```",
    "relatedTech": [
      "design-pattern-service-container-di",
      "system-novel-automation-status",
      "decision-three-tier-memory-architecture",
      "design-pattern-character-7-service-architecture"
    ]
  },
  {
    "slug": "character-7-service-architecture",
    "title": "Character System 7-Service ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ï¼ˆEventBusçµ±åˆï¼‰",
    "category": "Design Patternsï¼ˆè¨­è¨ˆãƒ‘ã‚¿ãƒ¼ãƒ³ï¼‰",
    "description": "AIå°èª¬ç”Ÿæˆã‚·ã‚¹ãƒ†ãƒ ã«ãŠã‘ã‚‹ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ç®¡ç†ã‚’**7ã¤ã®å°‚é–€ã‚µãƒ¼ãƒ“ã‚¹ã«åˆ†å‰²ã—ã€EventBusã§ç–çµåˆã«çµ±åˆã™ã‚‹ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£**ã€‚CharacterManagerãŒãƒ•ã‚¡ã‚µãƒ¼ãƒ‰ã¨ã—ã¦çµ±ä¸€ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’æä¾›ã—ã€è¨˜æ†¶éšå±¤ã‚·ã‚¹ãƒ†ãƒ ã¨é€£æºã€‚",
    "project": "novel-automation-system-v2",
    "usedIn": [
      "src/lib/characters/manager.ts:1-500, src/lib/characters/services/*.ts"
    ],
    "code": "```json\n{\n  \"id\": \"design_pattern_character_7_service_2025_11_25\",\n  \"type\": \"design_pattern\",\n  \"name\": \"Character System 7-Service ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ï¼ˆEventBusçµ±åˆï¼‰\",\n  \"tags\": [\"ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ç®¡ç†\", \"7ã‚µãƒ¼ãƒ“ã‚¹\", \"EventBus\", \"ã‚µãƒ¼ãƒ“ã‚¹åˆ†å‰²\", \"è¨˜æ†¶éšå±¤çµ±åˆ\", \"Character System\"],\n  \"source_project\": \"novel-automation-system-v2\",\n  \"source_file\": \"src/lib/characters/manager.ts:1-500, src/lib/characters/services/*.ts\",\n  \"related_knowledge\": [\n    \"design_pattern_service_container_di_2025_11_25\",\n    \"design_pattern_8_system_integration_2025_11_25\",\n    \"decision_three_tier_memory_architecture_2025_11_25\"\n  ],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# Character System 7-Service ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ï¼ˆEventBusçµ±åˆï¼‰\n\n## ä½•ã‚’ã™ã‚‹ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ‘ã‚¿ãƒ¼ãƒ³ã‹\n\nAIå°èª¬ç”Ÿæˆã‚·ã‚¹ãƒ†ãƒ ã«ãŠã‘ã‚‹ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ç®¡ç†ã‚’**7ã¤ã®å°‚é–€ã‚µãƒ¼ãƒ“ã‚¹ã«åˆ†å‰²ã—ã€EventBusã§ç–çµåˆã«çµ±åˆã™ã‚‹ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£**ã€‚CharacterManagerãŒãƒ•ã‚¡ã‚µãƒ¼ãƒ‰ã¨ã—ã¦çµ±ä¸€ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’æä¾›ã—ã€è¨˜æ†¶éšå±¤ã‚·ã‚¹ãƒ†ãƒ ã¨é€£æºã€‚\n\n## 7ã¤ã®ã‚µãƒ¼ãƒ“ã‚¹æ§‹æˆ\n\n```\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚     CharacterManager (Facade + Coordinator)    â”‚\nâ”‚            â†“ çµ±åˆãƒ»èª¿æ•´                         â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚  1. CharacterService                           â”‚\nâ”‚     â†’ CRUDæ“ä½œï¼ˆä½œæˆãƒ»èª­å–ãƒ»æ›´æ–°ãƒ»å‰Šé™¤ï¼‰         â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚  2. DetectionService                           â”‚\nâ”‚     â†’ ç« ã‹ã‚‰ã®ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼æ¤œå‡ºãƒ»ç™»å ´åˆ†æ         â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚  3. EvolutionService                           â”‚\nâ”‚     â†’ ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼é€²åŒ–ãƒ»æˆé•·è¨ˆç”»                â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚  4. PsychologyService                          â”‚\nâ”‚     â†’ å¿ƒç†çŠ¶æ…‹åˆ†æãƒ»æ„Ÿæƒ…è¿½è·¡                    â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚  5. RelationshipService                        â”‚\nâ”‚     â†’ ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼é–“ã®é–¢ä¿‚æ€§ç®¡ç†                â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚  6. ParameterService                           â”‚\nâ”‚     â†’ ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ï¼ˆHP, MPç­‰ï¼‰ç®¡ç†                â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚  7. SkillService                               â”‚\nâ”‚     â†’ ã‚¹ã‚­ãƒ«ç¿’å¾—ãƒ»ãƒ¬ãƒ™ãƒ«ç®¡ç†                    â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n         â†‘â†“ EventBusï¼ˆã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•é€£æºï¼‰\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚          Memory Hierarchy System               â”‚\nâ”‚  â†’ çŸ­æœŸãƒ»ä¸­æœŸãƒ»é•·æœŸè¨˜æ†¶ã¨ã®çµ±åˆ                  â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n```\n\n## å…·ä½“çš„ãªå®Ÿè£…\n\n### CharacterManagerï¼ˆãƒ•ã‚¡ã‚µãƒ¼ãƒ‰ï¼‰\n\n**å½¹å‰²**: 7ã‚µãƒ¼ãƒ“ã‚¹ã®çµ±åˆã¨çµ±ä¸€ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹æä¾›\n\n**ã‚³ãƒ¼ãƒ‰å®Ÿè£…**:\n```typescript\n// src/lib/characters/manager.ts\nexport class CharacterManager implements ICharacterManager {\n  // 7ã¤ã®å°‚é–€ã‚µãƒ¼ãƒ“ã‚¹\n  private characterService: CharacterService;\n  private detectionService: DetectionService;\n  private evolutionService: EvolutionService;\n  private psychologyService: PsychologyService;\n  private relationshipService: RelationshipService;\n  private parameterService: ParameterService;\n  private skillService: SkillService;\n\n  // è¨˜æ†¶éšå±¤ã‚·ã‚¹ãƒ†ãƒ çµ±åˆ\n  private memoryManager: MemoryManager | null = null;\n\n  // ã‚·ã‚¹ãƒ†ãƒ çŠ¶æ…‹\n  private systemStatus: SystemStatus = {\n    ready: false,\n    servicesOperational: {\n      character: false,\n      detection: false,\n      evolution: false,\n      psychology: false,\n      relationship: false,\n      parameter: false,\n      skill: false\n    },\n    memorySystemHealthy: false,\n    lastHealthCheck: '',\n    integrationEnabled: false,\n    unifiedDataAvailable: false,\n    memoryHierarchyConnected: false\n  };\n\n  constructor(logger: Logger, memoryManager?: MemoryManager) {\n    // 1. å°‚é–€ã‚µãƒ¼ãƒ“ã‚¹ã®åˆæœŸåŒ–\n    this.characterService = createCharacterService(logger);\n    this.detectionService = new DetectionService(logger);\n    this.evolutionService = new EvolutionService(logger);\n    this.psychologyService = new PsychologyService(logger);\n    this.relationshipService = new RelationshipService(logger);\n    this.parameterService = new ParameterService(logger);\n    this.skillService = new SkillService(logger);\n\n    // 2. è¨˜æ†¶éšå±¤ã‚·ã‚¹ãƒ†ãƒ çµ±åˆ\n    if (memoryManager) {\n      this.memoryManager = memoryManager;\n      this.systemStatus.memoryHierarchyConnected = true;\n    }\n\n    // 3. EventBusã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ï¼ˆã‚µãƒ¼ãƒ“ã‚¹é–“é€£æºï¼‰\n    this.setupEventBus();\n\n    // 4. ã‚·ã‚¹ãƒ†ãƒ ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹æ›´æ–°\n    this.updateSystemStatus();\n  }\n\n  /**\n   * EventBusã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ï¼ˆã‚µãƒ¼ãƒ“ã‚¹é–“ã‚¤ãƒ™ãƒ³ãƒˆé€£æºï¼‰\n   */\n  private setupEventBus(): void {\n    // Evolution ã‚¤ãƒ™ãƒ³ãƒˆ â†’ Parameter/Skillæ›´æ–°\n    this.evolutionService.on('characterEvolved', async (event) => {\n      await this.parameterService.updateFromEvolution(event.characterId, event.changes);\n      await this.skillService.updateFromEvolution(event.characterId, event.newSkills);\n    });\n\n    // Relationship ã‚¤ãƒ™ãƒ³ãƒˆ â†’ Psychologyæ›´æ–°\n    this.relationshipService.on('relationshipChanged', async (event) => {\n      await this.psychologyService.updateFromRelationship(event.characterId, event.relationshipType);\n    });\n\n    // Detection ã‚¤ãƒ™ãƒ³ãƒˆ â†’ å…¨ã‚µãƒ¼ãƒ“ã‚¹æ›´æ–°\n    this.detectionService.on('characterDetected', async (event) => {\n      await this.characterService.upsert(event.character);\n      await this.psychologyService.analyzeFromAppearance(event.context);\n    });\n  }\n\n  /**\n   * ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ä½œæˆï¼ˆçµ±ä¸€ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ï¼‰\n   */\n  async createCharacter(data: CharacterData): Promise<OperationResult<Character>> {\n    try {\n      // 1. CharacterService ã§ä½œæˆ\n      const character = await this.characterService.create(data);\n\n      // 2. ParameterService ã§åˆæœŸãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿è¨­å®š\n      await this.parameterService.initialize(character.id, data.parameters);\n\n      // 3. SkillService ã§åˆæœŸã‚¹ã‚­ãƒ«è¨­å®š\n      await this.skillService.initialize(character.id, data.skills);\n\n      // 4. Memory Hierarchy ã«ä¿å­˜\n      if (this.memoryManager) {\n        await this.memoryManager.saveCharacter(character, MemoryLevel.LONG_TERM);\n      }\n\n      return { success: true, data: character };\n    } catch (error) {\n      return {\n        success: false,\n        data: null,\n        error: error instanceof Error ? error.message : String(error)\n      };\n    }\n  }\n\n  /**\n   * ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼é€²åŒ–ï¼ˆè¤‡æ•°ã‚µãƒ¼ãƒ“ã‚¹çµ±åˆæ“ä½œï¼‰\n   */\n  async evolveCharacter(characterId: string, context: StoryContext): Promise<OperationResult<GrowthResult>> {\n    try {\n      // 1. EvolutionService ã§æˆé•·è¨ˆç”»ä½œæˆ\n      const growthPlan = await this.evolutionService.planGrowth(characterId, context);\n\n      // 2. EvolutionService ã§é€²åŒ–å®Ÿè¡Œ\n      const growthResult = await this.evolutionService.executeGrowth(characterId, growthPlan);\n\n      // 3. ParameterService ã§ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿æ›´æ–°ï¼ˆEventBusã§è‡ªå‹•ï¼‰\n      // 4. SkillService ã§ã‚¹ã‚­ãƒ«æ›´æ–°ï¼ˆEventBusã§è‡ªå‹•ï¼‰\n\n      // 5. Memory Hierarchy ã«é€²åŒ–è¨˜éŒ²ä¿å­˜\n      if (this.memoryManager) {\n        await this.memoryManager.saveEvolutionRecord(characterId, growthResult, MemoryLevel.MID_TERM);\n      }\n\n      return { success: true, data: growthResult };\n    } catch (error) {\n      return {\n        success: false,\n        data: null,\n        error: error instanceof Error ? error.message : String(error)\n      };\n    }\n  }\n\n  /**\n   * çµ±åˆã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿ç”Ÿæˆï¼ˆè¨˜æ†¶éšå±¤ç”¨ï¼‰\n   */\n  async generateUnifiedCharacterData(characterId: string): Promise<UnifiedCharacterData> {\n    // å„ã‚µãƒ¼ãƒ“ã‚¹ã‹ã‚‰ãƒ‡ãƒ¼ã‚¿å–å¾—\n    const character = await this.characterService.get(characterId);\n    const psychology = await this.psychologyService.getState(characterId);\n    const relationships = await this.relationshipService.getAll(characterId);\n    const parameters = await this.parameterService.getAll(characterId);\n    const skills = await this.skillService.getAll(characterId);\n\n    // çµ±åˆãƒ‡ãƒ¼ã‚¿æ§‹ç¯‰\n    return {\n      id: character.id,\n      name: character.name,\n      type: character.type,\n      psychologyState: psychology,\n      relationships: relationships,\n      parameters: parameters,\n      skills: skills,\n      metadata: {\n        lastUpdated: new Date().toISOString(),\n        source: 'CharacterManager',\n        version: '2.0'\n      }\n    };\n  }\n\n  /**\n   * éšå±¤çš„ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿ç”Ÿæˆï¼ˆè¨˜æ†¶éšå±¤ã‚·ã‚¹ãƒ†ãƒ æœ€é©åŒ–ï¼‰\n   */\n  async generateHierarchicalCharacterData(characterId: string): Promise<HierarchicalCharacterData> {\n    const unified = await this.generateUnifiedCharacterData(characterId);\n\n    return {\n      // çŸ­æœŸè¨˜æ†¶ç”¨ï¼ˆæœ€å°ãƒ‡ãƒ¼ã‚¿ï¼‰\n      shortTerm: {\n        id: unified.id,\n        name: unified.name,\n        currentEmotion: unified.psychologyState.emotionalState\n      },\n      // ä¸­æœŸè¨˜æ†¶ç”¨ï¼ˆåˆ†æãƒ‡ãƒ¼ã‚¿ï¼‰\n      midTerm: {\n        id: unified.id,\n        name: unified.name,\n        psychologyHistory: unified.psychologyState.history,\n        relationshipChanges: unified.relationships.recentChanges\n      },\n      // é•·æœŸè¨˜æ†¶ç”¨ï¼ˆå®Œå…¨ãƒ‡ãƒ¼ã‚¿ï¼‰\n      longTerm: unified\n    };\n  }\n}\n```\n\n### å„ã‚µãƒ¼ãƒ“ã‚¹ã®è²¬ä»»åˆ†é›¢\n\n#### 1. CharacterServiceï¼ˆCRUDæ“ä½œï¼‰\n```typescript\n// src/lib/characters/services/character-service.ts\nexport class CharacterService {\n  async create(data: CharacterData): Promise<Character> {\n    // ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ä½œæˆ\n  }\n\n  async get(id: string): Promise<Character> {\n    // ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼å–å¾—\n  }\n\n  async update(id: string, data: Partial<CharacterData>): Promise<Character> {\n    // ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼æ›´æ–°\n  }\n\n  async delete(id: string): Promise<void> {\n    // ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼å‰Šé™¤\n  }\n\n  async getAll(): Promise<Character[]> {\n    // å…¨ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼å–å¾—\n  }\n}\n```\n\n#### 2. DetectionServiceï¼ˆç™»å ´æ¤œå‡ºï¼‰\n```typescript\n// src/lib/characters/services/detection-service.ts\nexport class DetectionService extends EventEmitter {\n  async detectCharactersInChapter(chapter: Chapter): Promise<string[]> {\n    // ç« ã‹ã‚‰ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼æ¤œå‡º\n    const detected = await this.analyze(chapter.content);\n\n    // ã‚¤ãƒ™ãƒ³ãƒˆç™ºç«\n    this.emit('characterDetected', { characters: detected, chapter });\n\n    return detected;\n  }\n\n  async analyzeCharacterAppearance(characterId: string, chapter: Chapter): Promise<AppearanceAnalysis> {\n    // ç™»å ´ã‚·ãƒ¼ãƒ³åˆ†æ\n  }\n}\n```\n\n#### 3. EvolutionServiceï¼ˆæˆé•·ç®¡ç†ï¼‰\n```typescript\n// src/lib/characters/services/evolution-service.ts\nexport class EvolutionService extends EventEmitter {\n  async planGrowth(characterId: string, context: StoryContext): Promise<GrowthPlan> {\n    // æˆé•·è¨ˆç”»ä½œæˆ\n  }\n\n  async executeGrowth(characterId: string, plan: GrowthPlan): Promise<GrowthResult> {\n    // æˆé•·å®Ÿè¡Œ\n    const result = await this.applyGrowth(characterId, plan);\n\n    // ã‚¤ãƒ™ãƒ³ãƒˆç™ºç«ï¼ˆParameter/Skillæ›´æ–°ãƒˆãƒªã‚¬ãƒ¼ï¼‰\n    this.emit('characterEvolved', {\n      characterId,\n      changes: result.parameterChanges,\n      newSkills: result.skillsAcquired\n    });\n\n    return result;\n  }\n}\n```\n\n#### 4-7. ä»–ã®ã‚µãƒ¼ãƒ“ã‚¹ï¼ˆåŒæ§˜ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼‰\n- **PsychologyService**: å¿ƒç†çŠ¶æ…‹åˆ†æãƒ»æ„Ÿæƒ…è¿½è·¡\n- **RelationshipService**: é–¢ä¿‚æ€§ç®¡ç†ãƒ»ç›¸äº’ä½œç”¨åˆ†æ\n- **ParameterService**: ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ç®¡ç†ãƒ»è¨ˆç®—\n- **SkillService**: ã‚¹ã‚­ãƒ«ç¿’å¾—ãƒ»ãƒ¬ãƒ™ãƒ«ç®¡ç†\n\n## ãªãœã“ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ä½¿ã†ã‹\n\n### ç†ç”±1: å˜ä¸€è²¬ä»»ã®åŸå‰‡ï¼ˆSRPï¼‰\n\n**å•é¡Œ**: 1ã¤ã®CharacterManagerã«å…¨æ©Ÿèƒ½ã‚’è©°ã‚è¾¼ã‚€ã¨å·¨å¤§åŒ–ã€‚\n\n```typescript\n// âŒ æ‚ªã„ä¾‹: å·¨å¤§ã‚¯ãƒ©ã‚¹\nclass CharacterManager {\n  createCharacter() {}\n  updateCharacter() {}\n  deleteCharacter() {}\n  detectCharacter() {}\n  evolveCharacter() {}\n  analyzePsychology() {}\n  manageRelationships() {}\n  updateParameters() {}\n  manageSkills() {}\n  // ...æ•°åƒè¡Œ\n}\n```\n\n```typescript\n// âœ… è‰¯ã„ä¾‹: è²¬ä»»åˆ†å‰²\nclass CharacterService { /* CRUD only */ }\nclass DetectionService { /* Detection only */ }\nclass EvolutionService { /* Evolution only */ }\n// ...\nclass CharacterManager { /* Coordination only */ }\n```\n\n**ãƒ¡ãƒªãƒƒãƒˆ**:\n- å„ã‚µãƒ¼ãƒ“ã‚¹ãŒ1ã¤ã®è²¬ä»»ã®ã¿ã‚’æŒã¤\n- ã‚³ãƒ¼ãƒ‰ã®å¯èª­æ€§å‘ä¸Š\n- ãƒ†ã‚¹ãƒˆãŒå®¹æ˜“\n\n### ç†ç”±2: æ‹¡å¼µæ€§ã®å‘ä¸Š\n\n**å•é¡Œ**: æ–°æ©Ÿèƒ½è¿½åŠ æ™‚ã€æ—¢å­˜ã‚³ãƒ¼ãƒ‰ã‚’å¤‰æ›´ã™ã‚‹ãƒªã‚¹ã‚¯ã€‚\n\n**è§£æ±º**: æ–°ã—ã„ã‚µãƒ¼ãƒ“ã‚¹ã‚’è¿½åŠ ã™ã‚‹ã ã‘ã€‚\n\n```typescript\n// æ–°æ©Ÿèƒ½: InventoryServiceï¼ˆæ‰€æŒå“ç®¡ç†ï¼‰\nclass InventoryService {\n  manageItems() {}\n}\n\n// CharacterManagerã«è¿½åŠ \nclass CharacterManager {\n  private inventoryService: InventoryService;  // è¿½åŠ \n\n  constructor() {\n    // ...\n    this.inventoryService = new InventoryService();  // è¿½åŠ \n  }\n}\n```\n\n**ãƒ¡ãƒªãƒƒãƒˆ**:\n- æ—¢å­˜ã‚µãƒ¼ãƒ“ã‚¹ã¸ã®å½±éŸ¿æœ€å°\n- ã‚ªãƒ¼ãƒ—ãƒ³ãƒ»ã‚¯ãƒ­ãƒ¼ã‚ºãƒ‰ã®åŸå‰‡ï¼ˆOCPï¼‰ã«æº–æ‹ \n\n### ç†ç”±3: EventBusã«ã‚ˆã‚‹ç–çµåˆ\n\n**å•é¡Œ**: ã‚µãƒ¼ãƒ“ã‚¹é–“ãŒç›´æ¥ä¾å­˜ã™ã‚‹ã¨ã€å¤‰æ›´æ™‚ã®å½±éŸ¿ãŒå¤§ãã„ã€‚\n\n```typescript\n// âŒ æ‚ªã„ä¾‹: å¯†çµåˆ\nclass EvolutionService {\n  async evolve(characterId: string) {\n    // ...\n    parameterService.update(characterId, params);  // ç›´æ¥ä¾å­˜\n    skillService.addSkill(characterId, skill);     // ç›´æ¥ä¾å­˜\n  }\n}\n```\n\n```typescript\n// âœ… è‰¯ã„ä¾‹: EventBusçµŒç”±\nclass EvolutionService extends EventEmitter {\n  async evolve(characterId: string) {\n    // ...\n    this.emit('characterEvolved', { characterId, params, skill });  // ã‚¤ãƒ™ãƒ³ãƒˆç™ºç«\n  }\n}\n\n// CharacterManagerã§ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°\nthis.evolutionService.on('characterEvolved', (event) => {\n  this.parameterService.update(event.characterId, event.params);\n  this.skillService.addSkill(event.characterId, event.skill);\n});\n```\n\n**ãƒ¡ãƒªãƒƒãƒˆ**:\n- ã‚µãƒ¼ãƒ“ã‚¹é–“ãŒç–çµåˆ\n- ã‚µãƒ¼ãƒ“ã‚¹ã®ç‹¬ç«‹æ€§å‘ä¸Š\n- ãƒ†ã‚¹ãƒˆãŒå®¹æ˜“ï¼ˆãƒ¢ãƒƒã‚¯åŒ–ãŒç°¡å˜ï¼‰\n\n### ç†ç”±4: è¨˜æ†¶éšå±¤ã‚·ã‚¹ãƒ†ãƒ ã¨ã®çµ±åˆ\n\n**å•é¡Œ**: ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿ã‚’è¨˜æ†¶éšå±¤ã«æœ€é©åŒ–ã—ã¦ä¿å­˜ã™ã‚‹å¿…è¦ã€‚\n\n**è§£æ±º**: éšå±¤çš„ãƒ‡ãƒ¼ã‚¿ç”Ÿæˆãƒ¡ã‚½ãƒƒãƒ‰ã€‚\n\n```typescript\n// çŸ­æœŸè¨˜æ†¶ç”¨ï¼ˆæœ€å°ãƒ‡ãƒ¼ã‚¿ï¼‰\nshortTerm: { id, name, currentEmotion }\n\n// ä¸­æœŸè¨˜æ†¶ç”¨ï¼ˆåˆ†æãƒ‡ãƒ¼ã‚¿ï¼‰\nmidTerm: { id, name, psychologyHistory, relationshipChanges }\n\n// é•·æœŸè¨˜æ†¶ç”¨ï¼ˆå®Œå…¨ãƒ‡ãƒ¼ã‚¿ï¼‰\nlongTerm: { ...allData }\n```\n\n**ãƒ¡ãƒªãƒƒãƒˆ**:\n- è¨˜æ†¶éšå±¤ã”ã¨ã«æœ€é©åŒ–ã•ã‚ŒãŸãƒ‡ãƒ¼ã‚¿\n- ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸åŠ¹ç‡åŒ–\n- æ¤œç´¢ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å‘ä¸Š\n\n### ç†ç”±5: ãƒ†ã‚¹ã‚¿ãƒ“ãƒªãƒ†ã‚£\n\n**å•é¡Œ**: å·¨å¤§ãªã‚¯ãƒ©ã‚¹ã¯å˜ä½“ãƒ†ã‚¹ãƒˆãŒå›°é›£ã€‚\n\n**è§£æ±º**: å„ã‚µãƒ¼ãƒ“ã‚¹ã‚’ç‹¬ç«‹ã—ã¦ãƒ†ã‚¹ãƒˆå¯èƒ½ã€‚\n\n```typescript\n// CharacterServiceå˜ä½“ãƒ†ã‚¹ãƒˆ\ntest('should create character', async () => {\n  const service = new CharacterService(mockLogger);\n  const character = await service.create(mockData);\n  expect(character.id).toBeDefined();\n});\n\n// EvolutionServiceå˜ä½“ãƒ†ã‚¹ãƒˆ\ntest('should evolve character', async () => {\n  const service = new EvolutionService(mockLogger);\n  const result = await service.executeGrowth(characterId, plan);\n  expect(result.success).toBe(true);\n});\n```\n\n**ãƒ¡ãƒªãƒƒãƒˆ**:\n- å„ã‚µãƒ¼ãƒ“ã‚¹ã‚’ç‹¬ç«‹ã—ã¦ãƒ†ã‚¹ãƒˆ\n- ãƒ†ã‚¹ãƒˆãŒé«˜é€Ÿ\n- ãƒã‚°ã®ç‰¹å®šãŒå®¹æ˜“\n\n## å†ç¾æ–¹æ³•\n\n### æ‰‹é †1: å°‚é–€ã‚µãƒ¼ãƒ“ã‚¹ã®ä½œæˆ\n\n```typescript\n// src/lib/characters/services/character-service.ts\nexport class CharacterService {\n  async create(data: CharacterData): Promise<Character> {\n    // CRUDå®Ÿè£…\n  }\n}\n\n// src/lib/characters/services/evolution-service.ts\nexport class EvolutionService extends EventEmitter {\n  async evolve(characterId: string): Promise<GrowthResult> {\n    // Evolutionå®Ÿè£…\n    this.emit('characterEvolved', { characterId });\n  }\n}\n```\n\n### æ‰‹é †2: CharacterManagerä½œæˆ\n\n```typescript\n// src/lib/characters/manager.ts\nexport class CharacterManager {\n  private characterService: CharacterService;\n  private evolutionService: EvolutionService;\n\n  constructor() {\n    this.characterService = new CharacterService();\n    this.evolutionService = new EvolutionService();\n\n    // EventBusã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—\n    this.setupEventBus();\n  }\n\n  private setupEventBus(): void {\n    this.evolutionService.on('characterEvolved', (event) => {\n      // ä»–ã‚µãƒ¼ãƒ“ã‚¹ã¨é€£æº\n    });\n  }\n\n  async createCharacter(data: CharacterData): Promise<Character> {\n    return await this.characterService.create(data);\n  }\n\n  async evolveCharacter(id: string): Promise<GrowthResult> {\n    return await this.evolutionService.evolve(id);\n  }\n}\n```\n\n### æ‰‹é †3: Service Containerã¸ã®ç™»éŒ²\n\n```typescript\n// src/lib/lifecycle/service-container.ts\nserviceContainer.register('characterManager', async () => {\n  const memoryManager = await serviceContainer.resolve<MemoryManager>('memoryManager');\n  return new CharacterManager(logger, memoryManager);\n}, ServiceLifecycle.SINGLETON);\n```\n\n## ã„ã¤ä½¿ã†ã‹\n\n### é©ç”¨å ´é¢1: è¤‡é›‘ãªãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ­ã‚¸ãƒƒã‚¯\n\n**æ¡ä»¶**:\n- ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ç®¡ç†ã®ã‚ˆã†ãªè¤‡é›‘ãªãƒ‰ãƒ¡ã‚¤ãƒ³\n- 5ã¤ä»¥ä¸Šã®ä¸»è¦æ©Ÿèƒ½\n\n**åŠ¹æœ**:\n- è²¬ä»»ã‚’æ˜ç¢ºã«åˆ†é›¢\n- ã‚³ãƒ¼ãƒ‰ã®å¯èª­æ€§å‘ä¸Š\n\n### é©ç”¨å ´é¢2: é »ç¹ãªæ©Ÿèƒ½æ‹¡å¼µ\n\n**æ¡ä»¶**:\n- æ–°æ©Ÿèƒ½ã®è¿½åŠ ãŒé »ç¹\n- æ—¢å­˜æ©Ÿèƒ½ã¸ã®å½±éŸ¿ã‚’æœ€å°åŒ–ã—ãŸã„\n\n**åŠ¹æœ**:\n- æ–°ã‚µãƒ¼ãƒ“ã‚¹ã‚’è¿½åŠ ã™ã‚‹ã ã‘\n- æ—¢å­˜ã‚³ãƒ¼ãƒ‰ã¸ã®å½±éŸ¿æœ€å°\n\n### é©ç”¨å ´é¢3: ãƒãƒ¼ãƒ é–‹ç™º\n\n**æ¡ä»¶**:\n- è¤‡æ•°äººã§ä¸¦è¡Œé–‹ç™º\n- æ©Ÿèƒ½ã”ã¨ã«æ‹…å½“ã‚’åˆ†ã‘ãŸã„\n\n**åŠ¹æœ**:\n- ã‚µãƒ¼ãƒ“ã‚¹å˜ä½ã§é–‹ç™ºå¯èƒ½\n- ã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆã‚’å›é¿\n\n## æ³¨æ„ç‚¹\n\n### æ³¨æ„ç‚¹1: ã‚µãƒ¼ãƒ“ã‚¹æ•°ã®éå‰°åŒ–\n\n**å•é¡Œ**: ã‚µãƒ¼ãƒ“ã‚¹ã‚’ç´°ã‹ãåˆ†ã‘ã™ãã‚‹ã¨ã€ç®¡ç†ãŒè¤‡é›‘åŒ–ã€‚\n\n**å¯¾ç­–**:\n- é©åˆ‡ãªç²’åº¦ï¼ˆ5-10ã‚µãƒ¼ãƒ“ã‚¹ç¨‹åº¦ï¼‰\n- é–¢é€£æ©Ÿèƒ½ã¯ã¾ã¨ã‚ã‚‹\n\n### æ³¨æ„ç‚¹2: EventBusã®ãƒ‡ãƒãƒƒã‚°\n\n**å•é¡Œ**: ã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•ã¯ã€å‡¦ç†ãƒ•ãƒ­ãƒ¼ãŒè¿½ã„ã«ãã„ã€‚\n\n**å¯¾ç­–**:\n- ã‚¤ãƒ™ãƒ³ãƒˆãƒ­ã‚°ã®å……å®Ÿ\n- ã‚¤ãƒ™ãƒ³ãƒˆãƒ•ãƒ­ãƒ¼ã®å¯è¦–åŒ–ãƒ„ãƒ¼ãƒ«\n\n### æ³¨æ„ç‚¹3: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹\n\n**å•é¡Œ**: ã‚µãƒ¼ãƒ“ã‚¹é–“ã®å‘¼ã³å‡ºã—ã§ã‚ªãƒ¼ãƒãƒ¼ãƒ˜ãƒƒãƒ‰ã€‚\n\n**å¯¾ç­–**:\n- å¿…è¦æœ€å°é™ã®å‘¼ã³å‡ºã—\n- ãƒãƒƒãƒå‡¦ç†ã§ã¾ã¨ã‚ã¦å®Ÿè¡Œ\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `design_pattern_service_container_di_2025_11_25.md`ï¼šService Container & DI\n- `design_pattern_8_system_integration_2025_11_25.md`ï¼š8å¤§ã‚·ã‚¹ãƒ†ãƒ çµ±åˆ\n- `decision_three_tier_memory_architecture_2025_11_25.md`ï¼šè¨˜æ†¶éšå±¤ã¨ã®çµ±åˆ\n",
    "prompt": "### æ‰‹é †1: å°‚é–€ã‚µãƒ¼ãƒ“ã‚¹ã®ä½œæˆ\n\n```typescript\n// src/lib/characters/services/character-service.ts\nexport class CharacterService {\n  async create(data: CharacterData): Promise<Character> {\n    // CRUDå®Ÿè£…\n  }\n}\n\n// src/lib/characters/services/evolution-service.ts\nexport class EvolutionService extends EventEmitter {\n  async evolve(characterId: string): Promise<GrowthResult> {\n    // Evolutionå®Ÿè£…\n    this.emit('characterEvolved', { characterId });\n  }\n}\n```\n\n### æ‰‹é †2: CharacterManagerä½œæˆ\n\n```typescript\n// src/lib/characters/manager.ts\nexport class CharacterManager {\n  private characterService: CharacterService;\n  private evolutionService: EvolutionService;\n\n  constructor() {\n    this.characterService = new CharacterService();\n    this.evolutionService = new EvolutionService();\n\n    // EventBusã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—\n    this.setupEventBus();\n  }\n\n  private setupEventBus(): void {\n    this.evolutionService.on('characterEvolved', (event) => {\n      // ä»–ã‚µãƒ¼ãƒ“ã‚¹ã¨é€£æº\n    });\n  }\n\n  async createCharacter(data: CharacterData): Promise<Character> {\n    return await this.characterService.create(data);\n  }\n\n  async evolveCharacter(id: string): Promise<GrowthResult> {\n    return await this.evolutionService.evolve(id);\n  }\n}\n```\n\n### æ‰‹é †3: Service Containerã¸ã®ç™»éŒ²\n\n```typescript\n// src/lib/lifecycle/service-container.ts\nserviceContainer.register('characterManager', async () => {\n  const memoryManager = await serviceContainer.resolve<MemoryManager>('memoryManager');\n  return new CharacterManager(logger, memoryManager);\n}, ServiceLifecycle.SINGLETON);\n```",
    "relatedTech": [
      "design-pattern-service-container-di",
      "design-pattern-8-system-integration",
      "decision-three-tier-memory-architecture"
    ]
  },
  {
    "slug": "modular-directory-architecture",
    "title": "Modular Directory Architectureï¼ˆDomain-Driven Designï¼‰",
    "category": "Design Patternsï¼ˆè¨­è¨ˆãƒ‘ã‚¿ãƒ¼ãƒ³ï¼‰",
    "description": "280ãƒ•ã‚¡ã‚¤ãƒ«ã€163,967è¡Œã®å¤§è¦æ¨¡ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’**14ã®ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã«åˆ†å‰²ã—ã€æ˜ç¢ºãªè²¬ä»»å¢ƒç•Œã‚’æŒã¤ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£**ã€‚",
    "project": "novel-automation-system-v2",
    "usedIn": [
      "src/lib/, src/app/"
    ],
    "code": "```json\n{\n  \"id\": \"design_pattern_modular_directory_2025_11_25\",\n  \"type\": \"design_pattern\",\n  \"name\": \"Modular Directory Architectureï¼ˆDomain-Driven Designï¼‰\",\n  \"tags\": [\"ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ \", \"DDD\", \"ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«åŒ–\", \"ãƒ‰ãƒ¡ã‚¤ãƒ³é§†å‹•\", \"ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£\"],\n  \"source_project\": \"novel-automation-system-v2\",\n  \"source_file\": \"src/lib/, src/app/\",\n  \"related_knowledge\": [\n    \"design_pattern_8_system_integration_2025_11_25\",\n    \"system_novel_automation_status_2025_11_25\"\n  ],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# Modular Directory Architectureï¼ˆDomain-Driven Designï¼‰\n\n## ä½•ã‚’ã™ã‚‹ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ‘ã‚¿ãƒ¼ãƒ³ã‹\n\n280ãƒ•ã‚¡ã‚¤ãƒ«ã€163,967è¡Œã®å¤§è¦æ¨¡ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’**14ã®ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã«åˆ†å‰²ã—ã€æ˜ç¢ºãªè²¬ä»»å¢ƒç•Œã‚’æŒã¤ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£**ã€‚\n\n## ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ \n\n```\nsrc/\nâ”œâ”€â”€ lib/ï¼ˆ14ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ï¼‰\nâ”‚   â”œâ”€â”€ analysis/           # å“è³ªåˆ†æãƒ‰ãƒ¡ã‚¤ãƒ³\nâ”‚   â”œâ”€â”€ characters/         # ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ç®¡ç†ãƒ‰ãƒ¡ã‚¤ãƒ³\nâ”‚   â”œâ”€â”€ concept/            # æ¦‚å¿µå­¦ç¿’ãƒ‰ãƒ¡ã‚¤ãƒ³\nâ”‚   â”œâ”€â”€ foreshadowing/      # ä¼ç·šç®¡ç†ãƒ‰ãƒ¡ã‚¤ãƒ³\nâ”‚   â”œâ”€â”€ generation/         # ç”Ÿæˆã‚¨ãƒ³ã‚¸ãƒ³ãƒ‰ãƒ¡ã‚¤ãƒ³\nâ”‚   â”œâ”€â”€ learning-journey/   # å­¦ç¿’æ—…ç¨‹ãƒ‰ãƒ¡ã‚¤ãƒ³\nâ”‚   â”œâ”€â”€ lifecycle/          # ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ç®¡ç†ãƒ‰ãƒ¡ã‚¤ãƒ³\nâ”‚   â”œâ”€â”€ memory/             # è¨˜æ†¶éšå±¤ãƒ‰ãƒ¡ã‚¤ãƒ³\nâ”‚   â”œâ”€â”€ parameters/         # ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ç®¡ç†ãƒ‰ãƒ¡ã‚¤ãƒ³\nâ”‚   â”œâ”€â”€ plot/               # ãƒ—ãƒ­ãƒƒãƒˆç®¡ç†ãƒ‰ãƒ¡ã‚¤ãƒ³\nâ”‚   â”œâ”€â”€ storage/            # ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ãƒ‰ãƒ¡ã‚¤ãƒ³\nâ”‚   â”œâ”€â”€ utils/              # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£\nâ”‚   â”œâ”€â”€ validation/         # æ¤œè¨¼ãƒ‰ãƒ¡ã‚¤ãƒ³\nâ”‚   â””â”€â”€ world/              # ä¸–ç•Œè¨­å®šãƒ‰ãƒ¡ã‚¤ãƒ³\nâ”‚\nâ”œâ”€â”€ app/ï¼ˆNext.js 15 App Routerï¼‰\nâ”‚   â”œâ”€â”€ (admin)/            # ç®¡ç†UIï¼ˆãƒ«ãƒ¼ãƒˆã‚°ãƒ«ãƒ¼ãƒ—ï¼‰\nâ”‚   â”œâ”€â”€ (public)/           # èª­è€…UIï¼ˆãƒ«ãƒ¼ãƒˆã‚°ãƒ«ãƒ¼ãƒ—ï¼‰\nâ”‚   â””â”€â”€ api/                # API Routes\nâ”‚\nâ””â”€â”€ types/ï¼ˆ11å‹å®šç¾©ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰\n    â”œâ”€â”€ chapters.ts\n    â”œâ”€â”€ characters.ts\n    â”œâ”€â”€ concepts.ts\n    â”œâ”€â”€ generation.ts\n    â”œâ”€â”€ memory.ts\n    â”œâ”€â”€ parameters.ts\n    â”œâ”€â”€ section.ts\n    â”œâ”€â”€ validation.ts\n    â””â”€â”€ ...\n```\n\n## ãªãœã“ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ä½¿ã†ã‹\n\n### ç†ç”±1: ãƒ‰ãƒ¡ã‚¤ãƒ³å¢ƒç•Œã®æ˜ç¢ºåŒ–\n\nå„ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãŒç‹¬ç«‹ã—ã€è²¬ä»»ãŒæ˜ç¢ºã€‚\n\n### ç†ç”±2: ä¸¦è¡Œé–‹ç™ºã®å®¹æ˜“æ€§\n\nãƒãƒ¼ãƒ ãƒ¡ãƒ³ãƒãƒ¼ãŒç•°ãªã‚‹ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’åŒæ™‚ã«é–‹ç™ºå¯èƒ½ã€‚\n\n### ç†ç”±3: ãƒ†ã‚¹ãƒˆã®ç‹¬ç«‹æ€§\n\nãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«å˜ä½ã§ãƒ†ã‚¹ãƒˆå¯èƒ½ã€‚\n\n### ç†ç”±4: Next.js Route Groups\n\n`(admin)`ã¨`(public)`ã§ã€URLã«å½±éŸ¿ã‚’ä¸ãˆãšã€ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ•´ç†ã€‚\n\n## ã“ã®åˆ¤æ–­ã‹ã‚‰å­¦ã¹ã‚‹ã“ã¨\n\n### å­¦ã³1: å¤§è¦æ¨¡ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ãƒ‰ãƒ¡ã‚¤ãƒ³åˆ†å‰²ãŒå¿…é ˆ\n\n280ãƒ•ã‚¡ã‚¤ãƒ«ã‚’1ã¤ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ç½®ãã¨ç®¡ç†ä¸å¯èƒ½ã€‚\n\n### å­¦ã³2: ãƒ‰ãƒ¡ã‚¤ãƒ³ã”ã¨ã«è‡ªå·±å®Œçµ\n\nå„ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãŒç‹¬ç«‹ã—ã¦å‹•ä½œã™ã‚‹ã‚ˆã†ã«è¨­è¨ˆã€‚\n\n### å­¦ã³3: Route Groupsã®æ´»ç”¨\n\nNext.js 15ã®Route Groupsã§ã€è«–ç†çš„ãªæ•´ç†ãŒå¯èƒ½ã€‚\n\n## é©ç”¨å ´é¢\n\n- å¤§è¦æ¨¡ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆï¼ˆ100ãƒ•ã‚¡ã‚¤ãƒ«ä»¥ä¸Šï¼‰\n- ãƒãƒ¼ãƒ é–‹ç™º\n- é•·æœŸãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹\n\n## æ³¨æ„ç‚¹\n\n- ãƒ‰ãƒ¡ã‚¤ãƒ³å¢ƒç•Œã®è¨­è¨ˆãŒé‡è¦\n- éåº¦ãªåˆ†å‰²ã¯é€†åŠ¹æœ\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `design_pattern_8_system_integration_2025_11_25.md`ï¼š8å¤§ã‚·ã‚¹ãƒ†ãƒ ã¨ã®å¯¾å¿œ\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€ŒModular Directory Architectureï¼ˆDomain-Driven Designï¼‰ã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "design-pattern-8-system-integration",
      "system-novel-automation-status"
    ]
  },
  {
    "slug": "performance-optimization-patterns",
    "title": "Performance Optimization Patternsï¼ˆCaching + Throttlingï¼‰",
    "category": "Design Patternsï¼ˆè¨­è¨ˆãƒ‘ã‚¿ãƒ¼ãƒ³ï¼‰",
    "description": "**å¤šå±¤ã‚­ãƒ£ãƒƒã‚·ãƒ¥ + APIã‚¹ãƒ­ãƒƒãƒˆãƒªãƒ³ã‚°**ã‚’çµ„ã¿åˆã‚ã›ã¦ã€ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’æœ€é©åŒ–ã™ã‚‹ãƒ‘ã‚¿ãƒ¼ãƒ³ã€‚",
    "project": "novel-automation-system-v2",
    "usedIn": [
      "src/lib/memory/integration/cache-coordinator.ts, src/lib/utils/api-throttle.ts"
    ],
    "code": "```json\n{\n  \"id\": \"design_pattern_performance_optimization_2025_11_25\",\n  \"type\": \"design_pattern\",\n  \"name\": \"Performance Optimization Patternsï¼ˆCaching + Throttlingï¼‰\",\n  \"tags\": [\"ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹\", \"ã‚­ãƒ£ãƒƒã‚·ãƒ¥\", \"ã‚¹ãƒ­ãƒƒãƒˆãƒªãƒ³ã‚°\", \"æœ€é©åŒ–\", \"CacheCoordinator\", \"APIThrottler\"],\n  \"source_project\": \"novel-automation-system-v2\",\n  \"source_file\": \"src/lib/memory/integration/cache-coordinator.ts, src/lib/utils/api-throttle.ts\",\n  \"related_knowledge\": [\n    \"decision_three_tier_memory_architecture_2025_11_25\",\n    \"decision_tech_gemini_api_choice_2025_11_25\"\n  ],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# Performance Optimization Patternsï¼ˆCaching + Throttlingï¼‰\n\n## ä½•ã‚’ã™ã‚‹ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ‘ã‚¿ãƒ¼ãƒ³ã‹\n\n**å¤šå±¤ã‚­ãƒ£ãƒƒã‚·ãƒ¥ + APIã‚¹ãƒ­ãƒƒãƒˆãƒªãƒ³ã‚°**ã‚’çµ„ã¿åˆã‚ã›ã¦ã€ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’æœ€é©åŒ–ã™ã‚‹ãƒ‘ã‚¿ãƒ¼ãƒ³ã€‚\n\n## ãƒ‘ã‚¿ãƒ¼ãƒ³æ§‹æˆ\n\n### 1. CacheCoordinatorï¼ˆéšå±¤çš„ã‚­ãƒ£ãƒƒã‚·ãƒ¥ç®¡ç†ï¼‰\n\n```typescript\nexport class CacheCoordinator {\n  // 3å±¤ã‚­ãƒ£ãƒƒã‚·ãƒ¥ç®¡ç†\n  manageCache(level: 'short' | 'mid' | 'long') {\n    // ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ’ãƒƒãƒˆç¢ºèª\n    const cached = this.checkCache(level);\n    if (cached) return cached;\n\n    // ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒŸã‚¹ â†’ ãƒ‡ãƒ¼ã‚¿å–å¾— â†’ ã‚­ãƒ£ãƒƒã‚·ãƒ¥ä¿å­˜\n    const data = this.fetchData();\n    this.saveCache(level, data);\n    return data;\n  }\n\n  // ã‚­ãƒ£ãƒƒã‚·ãƒ¥ç„¡åŠ¹åŒ–ã‚¤ãƒ™ãƒ³ãƒˆ\n  invalidateOnEvent(event: string) {\n    this.eventBus.on(event, () => {\n      this.clearCache();\n    });\n  }\n\n  // ãƒ—ãƒªãƒ­ãƒ¼ãƒ‰æˆ¦ç•¥\n  async preloadCache() {\n    await this.loadMostUsedData();\n  }\n\n  // çµ±è¨ˆè¿½è·¡\n  trackCacheStatistics() {\n    return {\n      hitRate: this.hits / (this.hits + this.misses),\n      size: this.cacheSize\n    };\n  }\n}\n```\n\n### 2. APIThrottlerï¼ˆãƒªã‚¯ã‚¨ã‚¹ãƒˆåˆ¶å¾¡ï¼‰\n\n```typescript\nexport class APIThrottler {\n  private queue: Request[] = [];\n  private readonly maxRequestsPerMinute = 50;\n\n  async throttle(request: Request, priority: 'HIGH' | 'MEDIUM' | 'LOW') {\n    // å„ªå…ˆåº¦ã‚­ãƒ¥ãƒ¼ã«è¿½åŠ \n    this.queue.push({ request, priority });\n    this.queue.sort((a, b) => priorityValue(b.priority) - priorityValue(a.priority));\n\n    // ãƒ¬ãƒ¼ãƒˆåˆ¶é™ãƒã‚§ãƒƒã‚¯\n    await this.waitIfNeeded();\n\n    // ãƒªã‚¯ã‚¨ã‚¹ãƒˆå®Ÿè¡Œ\n    return await this.executeRequest(request);\n  }\n\n  private async waitIfNeeded() {\n    const currentRate = this.calculateCurrentRate();\n    if (currentRate >= this.maxRequestsPerMinute) {\n      await this.backoff();\n    }\n  }\n\n  private async backoff() {\n    // æŒ‡æ•°ãƒãƒƒã‚¯ã‚ªãƒ•\n    const waitTime = Math.min(1000 * Math.pow(2, this.retryCount), 32000);\n    await sleep(waitTime);\n  }\n}\n```\n\n## ãªãœã“ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ä½¿ã†ã‹\n\n### ç†ç”±1: è¨˜æ†¶éšå±¤ã®é«˜é€Ÿã‚¢ã‚¯ã‚»ã‚¹\n\n3å±¤ãƒ¡ãƒ¢ãƒªã¸ã®é‡è¤‡ã‚¢ã‚¯ã‚»ã‚¹ã‚’é˜²ãã€‚\n\n### ç†ç”±2: Gemini API ãƒ¬ãƒ¼ãƒˆåˆ¶é™å¯¾å¿œ\n\n50 req/minåˆ¶é™ã‚’å®ˆã‚Šã¤ã¤ã€å„ªå…ˆåº¦åˆ¶å¾¡ã€‚\n\n### ç†ç”±3: ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“ã®ä¸€è²«æ€§\n\nSingletonã§å…¨ä½“ã‚’çµ±ä¸€ç®¡ç†ã€‚\n\n## å®Ÿè£…ä¾‹\n\n### ã‚­ãƒ£ãƒƒã‚·ãƒ¥åˆ©ç”¨\n\n```typescript\nconst cacheCoordinator = CacheCoordinator.getInstance();\n\n// ãƒ‡ãƒ¼ã‚¿å–å¾—ï¼ˆã‚­ãƒ£ãƒƒã‚·ãƒ¥å„ªå…ˆï¼‰\nconst character = await cacheCoordinator.get('character', characterId);\n\n// æ›´æ–°æ™‚ã¯ç„¡åŠ¹åŒ–\ncacheCoordinator.invalidate('character', characterId);\n```\n\n### APIã‚¹ãƒ­ãƒƒãƒˆãƒªãƒ³ã‚°\n\n```typescript\nconst throttler = APIThrottler.getInstance();\n\n// é«˜å„ªå…ˆåº¦ãƒªã‚¯ã‚¨ã‚¹ãƒˆ\nawait throttler.throttle(urgentRequest, 'HIGH');\n\n// ä½å„ªå…ˆåº¦ãƒªã‚¯ã‚¨ã‚¹ãƒˆ\nawait throttler.throttle(backgroundRequest, 'LOW');\n```\n\n## ãªãœã“ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ä½¿ã†ã‹\n\n### ç†ç”±1: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å‘ä¸Š\n\nã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ’ãƒƒãƒˆç‡ã‚’ä¸Šã’ã€ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ™‚é–“çŸ­ç¸®ã€‚\n\n### ç†ç”±2: API ã‚³ã‚¹ãƒˆå‰Šæ¸›\n\nä¸è¦ãªAPIå‘¼ã³å‡ºã—ã‚’å‰Šæ¸›ã€‚\n\n### ç†ç”±3: ãƒ¬ãƒ¼ãƒˆåˆ¶é™ã‚¨ãƒ©ãƒ¼å›é¿\n\nã‚¹ãƒ­ãƒƒãƒˆãƒªãƒ³ã‚°ã§å®‰å®šé‹ç”¨ã€‚\n\n## ã„ã¤ä½¿ã†ã‹\n\n- å¤–éƒ¨APIä¾å­˜ã‚·ã‚¹ãƒ†ãƒ \n- é«˜é€Ÿãƒ¬ã‚¹ãƒãƒ³ã‚¹ãŒå¿…è¦\n- ã‚³ã‚¹ãƒˆå‰Šæ¸›ãŒé‡è¦\n\n## æ³¨æ„ç‚¹\n\n- ã‚­ãƒ£ãƒƒã‚·ãƒ¥ç„¡åŠ¹åŒ–ã‚¿ã‚¤ãƒŸãƒ³ã‚°\n- ã‚¹ãƒ­ãƒƒãƒˆãƒªãƒ³ã‚°ã«ã‚ˆã‚‹é…å»¶\n- ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡ã®ç›£è¦–\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `decision_three_tier_memory_architecture_2025_11_25.md`ï¼šè¨˜æ†¶éšå±¤ã¨ã®çµ±åˆ\n- `decision_tech_gemini_api_choice_2025_11_25.md`ï¼šGemini APIãƒ¬ãƒ¼ãƒˆåˆ¶é™\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€ŒPerformance Optimization Patternsï¼ˆCaching + Throttlingï¼‰ã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "decision-three-tier-memory-architecture",
      "decision-tech-gemini-api-choice"
    ]
  },
  {
    "slug": "quality-analysis-pipeline-architecture",
    "title": "Quality Analysis Pipeline ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ï¼ˆPre/Post Generationï¼‰",
    "category": "Design Patternsï¼ˆè¨­è¨ˆãƒ‘ã‚¿ãƒ¼ãƒ³ï¼‰",
    "description": "AIå°èª¬ç”Ÿæˆã®å‰å¾Œã§å“è³ªãƒã‚§ãƒƒã‚¯ã‚’è¡Œã†**2æ®µéšãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£**ã€‚Pre-Generation Pipelineã§ç”Ÿæˆå‰ã®æœ€é©åŒ–ã‚’è¡Œã„ã€Post-Generation Pipelineã§ç”Ÿæˆå¾Œã®åˆ†æãƒ»æ”¹å–„ææ¡ˆã‚’å®Ÿæ–½ã€‚",
    "project": "novel-automation-system-v2",
    "usedIn": [
      "src/lib/analysis/pipelines/pre-generation-pipeline.ts, src/lib/analysis/pipelines/post-generation-pipeline.ts"
    ],
    "code": "```json\n{\n  \"id\": \"design_pattern_quality_analysis_pipeline_2025_11_25\",\n  \"type\": \"design_pattern\",\n  \"name\": \"Quality Analysis Pipeline ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ï¼ˆPre/Post Generationï¼‰\",\n  \"tags\": [\"å“è³ªåˆ†æ\", \"ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³\", \"Pre-Generation\", \"Post-Generation\", \"å“è³ªä¿è¨¼\", \"åˆ†æ\"],\n  \"source_project\": \"novel-automation-system-v2\",\n  \"source_file\": \"src/lib/analysis/pipelines/pre-generation-pipeline.ts, src/lib/analysis/pipelines/post-generation-pipeline.ts\",\n  \"related_knowledge\": [\n    \"design_pattern_8_system_integration_2025_11_25\",\n    \"system_novel_automation_status_2025_11_25\"\n  ],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# Quality Analysis Pipeline ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ï¼ˆPre/Post Generationï¼‰\n\n## ä½•ã‚’ã™ã‚‹ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ‘ã‚¿ãƒ¼ãƒ³ã‹\n\nAIå°èª¬ç”Ÿæˆã®å‰å¾Œã§å“è³ªãƒã‚§ãƒƒã‚¯ã‚’è¡Œã†**2æ®µéšãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£**ã€‚Pre-Generation Pipelineã§ç”Ÿæˆå‰ã®æœ€é©åŒ–ã‚’è¡Œã„ã€Post-Generation Pipelineã§ç”Ÿæˆå¾Œã®åˆ†æãƒ»æ”¹å–„ææ¡ˆã‚’å®Ÿæ–½ã€‚\n\n## ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³æ§‹æˆ\n\n```\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚   Pre-Generation Pipeline (ç”Ÿæˆå‰)          â”‚\nâ”‚   1. Context Optimization                   â”‚\nâ”‚   2. Character Consistency Check            â”‚\nâ”‚   3. Plot Coherence Verification            â”‚\nâ”‚   4. Memory Hierarchy Validation            â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n                   â†“\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚        Gemini API - Chapter Generation      â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n                   â†“\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚   Post-Generation Pipeline (ç”Ÿæˆå¾Œ)         â”‚\nâ”‚   1. Theme Analysis                         â”‚\nâ”‚   2. Style Analysis                         â”‚\nâ”‚   3. Character Analysis                     â”‚\nâ”‚   4. Reader Experience Analysis             â”‚\nâ”‚   5. Quality Metrics Extraction             â”‚\nâ”‚   6. Next Chapter Suggestions               â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n```\n\n## å®Ÿè£…è©³ç´°\n\n### Pre-Generation Pipeline\n\n**ç›®çš„**: ç”Ÿæˆå‰ã«ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚’æœ€é©åŒ–ã—ã€å“è³ªã‚’äº‹å‰ä¿è¨¼\n\n```typescript\nexport class PreGenerationPipeline {\n  async execute(context: GenerationContext): Promise<OptimizedContext> {\n    // 1. ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆæœ€é©åŒ–\n    const optimizedContext = await this.optimizeContext(context);\n\n    // 2. ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ä¸€è²«æ€§ãƒã‚§ãƒƒã‚¯\n    const characterCheck = await this.checkCharacterConsistency(optimizedContext);\n    if (!characterCheck.valid) {\n      throw new Error(`Character inconsistency: ${characterCheck.issues}`);\n    }\n\n    // 3. ãƒ—ãƒ­ãƒƒãƒˆæ•´åˆæ€§æ¤œè¨¼\n    const plotCheck = await this.verifyPlotCoherence(optimizedContext);\n    if (!plotCheck.valid) {\n      logger.warn('Plot coherence issues detected', plotCheck.warnings);\n    }\n\n    // 4. è¨˜æ†¶éšå±¤ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³\n    await this.validateMemoryHierarchy(optimizedContext);\n\n    return optimizedContext;\n  }\n}\n```\n\n### Post-Generation Pipeline\n\n**ç›®çš„**: ç”Ÿæˆå¾Œã«å“è³ªã‚’åˆ†æã—ã€æ¬¡å›ã®æ”¹å–„ææ¡ˆã‚’ä½œæˆ\n\n```typescript\nexport class PostGenerationPipeline {\n  async execute(chapter: Chapter): Promise<AnalysisResult> {\n    // 1. ãƒ†ãƒ¼ãƒåˆ†æ\n    const themeAnalysis = await this.analyzeTheme(chapter);\n\n    // 2. æ–‡ä½“åˆ†æ\n    const styleAnalysis = await this.analyzeStyle(chapter);\n\n    // 3. ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼åˆ†æ\n    const characterAnalysis = await this.analyzeCharacters(chapter);\n\n    // 4. èª­è€…ä½“é¨“åˆ†æ\n    const readerExperience = await this.analyzeReaderExperience(chapter);\n\n    // 5. å“è³ªãƒ¡ãƒˆãƒªã‚¯ã‚¹æŠ½å‡º\n    const qualityMetrics = this.extractQualityMetrics({\n      themeAnalysis,\n      styleAnalysis,\n      characterAnalysis,\n      readerExperience\n    });\n\n    // 6. æ¬¡ç« ã¸ã®ææ¡ˆç”Ÿæˆ\n    const suggestions = await this.generateNextChapterSuggestions(qualityMetrics);\n\n    // 7. ä¸­æœŸè¨˜æ†¶ã«ä¿å­˜\n    await this.memoryManager.saveAnalysisResults(qualityMetrics);\n\n    return {\n      qualityMetrics,\n      suggestions,\n      timestamp: new Date().toISOString()\n    };\n  }\n}\n```\n\n## ãªãœã“ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ä½¿ã†ã‹\n\n### ç†ç”±1: å“è³ªã®äº‹å‰ä¿è¨¼\n\nç”Ÿæˆå‰ãƒã‚§ãƒƒã‚¯ã«ã‚ˆã‚Šã€ä½å“è³ªãªç”Ÿæˆã‚’é˜²ãã€‚\n\n### ç†ç”±2: ç¶™ç¶šçš„ãªæ”¹å–„\n\nç”Ÿæˆå¾Œåˆ†æã«ã‚ˆã‚Šã€æ¬¡å›ã®ç”Ÿæˆã«æ´»ã‹ã™å­¦ç¿’ãƒ«ãƒ¼ãƒ—ã‚’æ§‹ç¯‰ã€‚\n\n### ç†ç”±3: ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã®æ‹¡å¼µæ€§\n\næ–°ã—ã„åˆ†æã‚¹ãƒ†ãƒƒãƒ—ã‚’è¿½åŠ ã—ã‚„ã™ã„ã€‚\n\n## é©ç”¨å ´é¢\n\n- AIç”Ÿæˆã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®å“è³ªç®¡ç†\n- ç¶™ç¶šçš„ãªå“è³ªæ”¹å–„ãŒå¿…è¦ãªã‚·ã‚¹ãƒ†ãƒ \n- è¤‡æ•°ã®å“è³ªãƒã‚§ãƒƒã‚¯ãŒå¿…è¦ãªå ´åˆ\n\n## æ³¨æ„ç‚¹\n\n- ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³å®Ÿè¡Œæ™‚é–“ã®å¢—åŠ \n- éåº¦ãªãƒã‚§ãƒƒã‚¯ã«ã‚ˆã‚‹æŸ”è»Ÿæ€§ã®ä½ä¸‹\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `design_pattern_8_system_integration_2025_11_25.md`ï¼šAnalysis Systemã®çµ±åˆ\n- `system_novel_automation_status_2025_11_25.md`ï¼šã‚·ã‚¹ãƒ†ãƒ çŠ¶æ…‹\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€ŒQuality Analysis Pipeline ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ï¼ˆPre/Post Generationï¼‰ã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "design-pattern-8-system-integration",
      "system-novel-automation-status"
    ]
  },
  {
    "slug": "service-container-di-architecture",
    "title": "Service Container & ä¾å­˜æ³¨å…¥ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ï¼ˆ5å±¤åˆæœŸåŒ–ï¼‰",
    "category": "Design Patternsï¼ˆè¨­è¨ˆãƒ‘ã‚¿ãƒ¼ãƒ³ï¼‰",
    "description": "280å€‹ã®TypeScriptãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆ163,967è¡Œï¼‰ã§æ§‹æˆã•ã‚Œã‚‹å¤§è¦æ¨¡AIå°èª¬ç”Ÿæˆã‚·ã‚¹ãƒ†ãƒ ã«ãŠã„ã¦ã€**8å¤§ã‚·ã‚¹ãƒ†ãƒ ã®ä¾å­˜é–¢ä¿‚ã‚’è‡ªå‹•è§£æ±ºã—ã€5æ®µéšã§é †åºç«‹ã¦ã¦åˆæœŸåŒ–ã™ã‚‹Service Container + DIã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£**ã€‚3ç§’ä»¥å†…ã®åˆæœŸåŒ–ã¨99.9%ã®ã‚·ã‚¹ãƒ†ãƒ å®‰å®šæ€§ã‚’å®Ÿç¾ã€‚",
    "project": "novel-automation-system-v2",
    "usedIn": [
      "src/lib/lifecycle/service-container.ts:1-500, src/lib/lifecycle/application-lifecycle-manager.ts:1-500"
    ],
    "code": "```json\n{\n  \"id\": \"design_pattern_service_container_di_2025_11_25\",\n  \"type\": \"design_pattern\",\n  \"name\": \"Service Container & ä¾å­˜æ³¨å…¥ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ï¼ˆ5å±¤åˆæœŸåŒ–ï¼‰\",\n  \"tags\": [\"ä¾å­˜æ³¨å…¥\", \"DI\", \"Service Container\", \"åˆæœŸåŒ–\", \"ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«\", \"Singleton\", \"ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£\", \"8å¤§ã‚·ã‚¹ãƒ†ãƒ \"],\n  \"source_project\": \"novel-automation-system-v2\",\n  \"source_file\": \"src/lib/lifecycle/service-container.ts:1-500, src/lib/lifecycle/application-lifecycle-manager.ts:1-500\",\n  \"related_knowledge\": [\n    \"system_novel_automation_status_2025_11_25\",\n    \"design_pattern_8_system_integration_2025_11_25\",\n    \"decision_three_tier_memory_architecture_2025_11_25\"\n  ],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# Service Container & ä¾å­˜æ³¨å…¥ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ï¼ˆ5å±¤åˆæœŸåŒ–ï¼‰\n\n## ä½•ã‚’ã™ã‚‹ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ‘ã‚¿ãƒ¼ãƒ³ã‹\n\n280å€‹ã®TypeScriptãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆ163,967è¡Œï¼‰ã§æ§‹æˆã•ã‚Œã‚‹å¤§è¦æ¨¡AIå°èª¬ç”Ÿæˆã‚·ã‚¹ãƒ†ãƒ ã«ãŠã„ã¦ã€**8å¤§ã‚·ã‚¹ãƒ†ãƒ ã®ä¾å­˜é–¢ä¿‚ã‚’è‡ªå‹•è§£æ±ºã—ã€5æ®µéšã§é †åºç«‹ã¦ã¦åˆæœŸåŒ–ã™ã‚‹Service Container + DIã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£**ã€‚3ç§’ä»¥å†…ã®åˆæœŸåŒ–ã¨99.9%ã®ã‚·ã‚¹ãƒ†ãƒ å®‰å®šæ€§ã‚’å®Ÿç¾ã€‚\n\n## å…·ä½“çš„ãªå®Ÿè£…\n\n### ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£æ¦‚è¦\n\n```\nApplicationLifecycleManager\n    â†“ ç®¡ç†\nServiceContainerï¼ˆä¾å­˜æ³¨å…¥ã‚³ãƒ³ãƒ†ãƒŠï¼‰\n    â†“ åˆæœŸåŒ–é †åºåˆ¶å¾¡\n5-Tier Initialization System\n    â†“ è§£æ±º\n8å¤§ã‚·ã‚¹ãƒ†ãƒ ï¼ˆLifecycle, Memory, Parameters, Character, Plot, LearningJourney, Foreshadowing, Analysisï¼‰\n```\n\n### ServiceContainer ã‚¯ãƒ©ã‚¹ï¼ˆsrc/lib/lifecycle/service-container.tsï¼‰\n\n**å½¹å‰²**: ã‚µãƒ¼ãƒ“ã‚¹ã®ç™»éŒ²ãƒ»è§£æ±ºãƒ»ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ç®¡ç†\n\n**ä¸»è¦æ©Ÿèƒ½**:\n1. **ã‚µãƒ¼ãƒ“ã‚¹ç™»éŒ²**ï¼ˆ`register()`ï¼‰\n2. **ä¾å­˜è§£æ±º**ï¼ˆ`resolve()`ï¼‰\n3. **ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ç®¡ç†**ï¼ˆSingleton/Transientï¼‰\n4. **æ®µéšçš„åˆæœŸåŒ–**ï¼ˆ5ã¤ã®Stageï¼‰\n\n**ã‚³ãƒ¼ãƒ‰ä¾‹**:\n```typescript\nexport enum ServiceLifecycle {\n  SINGLETON = 'SINGLETON',  // 1ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®ã¿ï¼ˆå†åˆ©ç”¨ï¼‰\n  TRANSIENT = 'TRANSIENT'   // æ¯å›æ–°è¦ä½œæˆ\n}\n\nexport class ServiceContainer {\n  private services = new Map<string, {\n    factory: () => any | Promise<any>,\n    lifecycle: ServiceLifecycle,\n    instance?: any,\n    metadata?: ServiceMetadata\n  }>();\n\n  // ã‚µãƒ¼ãƒ“ã‚¹ç™»éŒ²ï¼ˆãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿å¯¾å¿œï¼‰\n  register(\n    name: string,\n    factory: () => any | Promise<any>,\n    lifecycle: ServiceLifecycle = ServiceLifecycle.SINGLETON,\n    metadata?: ServiceMetadata\n  ): void {\n    this.services.set(name, { factory, lifecycle, metadata });\n    logger.debug(`Registered service: ${name}`, {\n      dependencies: metadata?.dependencies || [],\n      tier: metadata?.initializationTier\n    });\n  }\n\n  // ã‚µãƒ¼ãƒ“ã‚¹è§£æ±º\n  async resolve<T>(name: string): Promise<T> {\n    const service = this.services.get(name);\n    if (!service) {\n      throw new Error(`Service not found: ${name}`);\n    }\n\n    // Singleton: åˆå›ã®ã¿ä½œæˆã€ä»¥é™ã¯å†åˆ©ç”¨\n    if (service.lifecycle === ServiceLifecycle.SINGLETON) {\n      if (!service.instance) {\n        service.instance = await service.factory();\n      }\n      return service.instance;\n    }\n\n    // Transient: æ¯å›æ–°è¦ä½œæˆ\n    return await service.factory();\n  }\n}\n```\n\n### ApplicationLifecycleManagerï¼ˆ5-TieråˆæœŸåŒ–ã‚·ã‚¹ãƒ†ãƒ ï¼‰\n\n**å½¹å‰²**: 8å¤§ã‚·ã‚¹ãƒ†ãƒ ã®ä¾å­˜é–¢ä¿‚ã«åŸºã¥ãæœ€é©åˆæœŸåŒ–é †åºã®å®Ÿç¾\n\n**5æ®µéšã®åˆæœŸåŒ–ãƒ•ãƒ­ãƒ¼**:\n\n```\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚  Tier 1: LIFECYCLE (1ã‚·ã‚¹ãƒ†ãƒ )               â”‚\nâ”‚  - ServiceContainer, Logger, EventBus       â”‚\nâ”‚  ä¾å­˜: ãªã—                                   â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n              â†“\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚  Tier 2: INFRASTRUCTURE (2ã‚·ã‚¹ãƒ†ãƒ )          â”‚\nâ”‚  - MemorySystem (è¨˜æ†¶éšå±¤)                   â”‚\nâ”‚  - ParametersSystem (ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ç®¡ç†)         â”‚\nâ”‚  ä¾å­˜: LifecycleSystem                       â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n              â†“\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚  Tier 3: CORE_SYSTEMS (2ã‚·ã‚¹ãƒ†ãƒ )            â”‚\nâ”‚  - CharacterSystem (7ã‚µãƒ¼ãƒ“ã‚¹çµ±åˆ)           â”‚\nâ”‚  - PlotSystem (3ãƒ¢ãƒ¼ãƒ‰å¯¾å¿œ)                  â”‚\nâ”‚  ä¾å­˜: MemorySystem, ParametersSystem        â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n              â†“\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚  Tier 4: JOURNEY_SYSTEMS (2ã‚·ã‚¹ãƒ†ãƒ ãƒ»ä»»æ„)    â”‚\nâ”‚  - LearningJourneySystem                    â”‚\nâ”‚  - ForeshadowingSystem                      â”‚\nâ”‚  ä¾å­˜: CharacterSystem, PlotSystem          â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n              â†“\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚  Tier 5: INTEGRATION (1ã‚·ã‚¹ãƒ†ãƒ ãƒ»ä»»æ„)        â”‚\nâ”‚  - AnalysisSystem (å“è³ªåˆ†æçµ±åˆ)             â”‚\nâ”‚  ä¾å­˜: Character, Plot, LearningJourney     â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n              â†“\n         ã€READYã€‘\n```\n\n**ä¾å­˜é–¢ä¿‚ãƒãƒƒãƒ—å®Ÿè£…**:\n```typescript\nexport class ApplicationLifecycleManager {\n  private readonly SYSTEM_DEPENDENCY_MAP: SystemDependencyMap = {\n    'LifecycleSystem': {\n      tier: 1,\n      dependencies: [],\n      services: ['ServiceContainer', 'Logger', 'EventBus'],\n      initializationOrder: 1,\n      required: true\n    },\n    'MemorySystem': {\n      tier: 2,\n      dependencies: ['LifecycleSystem'],\n      services: ['MemoryManager', 'ShortTermMemory', 'MidTermMemory', 'LongTermMemory'],\n      initializationOrder: 2,\n      required: true\n    },\n    'ParametersSystem': {\n      tier: 2,\n      dependencies: ['LifecycleSystem'],\n      services: ['ParameterManager', 'ParameterValidator', 'DefaultParameters'],\n      initializationOrder: 3,\n      required: true\n    },\n    'CharacterSystem': {\n      tier: 3,\n      dependencies: ['MemorySystem', 'ParametersSystem'],\n      services: ['CharacterManager', 'CharacterService', 'DetectionService',\n                'EvolutionService', 'PsychologyService', 'RelationshipService',\n                'ParameterService', 'SkillService'],\n      initializationOrder: 4,\n      required: true\n    },\n    'PlotSystem': {\n      tier: 3,\n      dependencies: ['MemorySystem', 'ParametersSystem'],\n      services: ['PlotManager', 'WorldSettingsManager', 'SectionManager', 'PlotChecker'],\n      initializationOrder: 5,\n      required: true\n    },\n    'LearningJourneySystem': {\n      tier: 4,\n      dependencies: ['CharacterSystem', 'PlotSystem'],\n      services: ['LearningJourneySystem', 'ConceptLearningManager',\n                'EmotionalLearningManager', 'StoryTransformationManager'],\n      initializationOrder: 6,\n      required: false  // ä»»æ„\n    },\n    'ForeshadowingSystem': {\n      tier: 4,\n      dependencies: ['CharacterSystem', 'PlotSystem'],\n      services: ['ForeshadowingManager', 'ForeshadowingEngine',\n                'PlannedForeshadowingManager', 'AutoGenerator'],\n      initializationOrder: 7,\n      required: false  // ä»»æ„\n    },\n    'AnalysisSystem': {\n      tier: 5,\n      dependencies: ['CharacterSystem', 'PlotSystem', 'LearningJourneySystem'],\n      services: ['AnalysisCoordinator', 'OptimizationCoordinator',\n                'CharacterAnalysisService', 'NarrativeAnalysisService'],\n      initializationOrder: 8,\n      required: false  // ä»»æ„\n    }\n  };\n}\n```\n\n### å¾ªç’°ä¾å­˜ã®è‡ªå‹•æ¤œå‡º\n\n**å®Ÿè£…**:\n```typescript\n/**\n * å¾ªç’°ä¾å­˜ãƒã‚§ãƒƒã‚¯\n */\nprivate checkCircularDependencies(): { success: boolean; details?: string } {\n  const visited = new Set<string>();\n  const recursionStack = new Set<string>();\n\n  const detectCycle = (system: string): boolean => {\n    visited.add(system);\n    recursionStack.add(system);\n\n    const deps = this.SYSTEM_DEPENDENCY_MAP[system]?.dependencies || [];\n    for (const dep of deps) {\n      if (!visited.has(dep)) {\n        if (detectCycle(dep)) return true;\n      } else if (recursionStack.has(dep)) {\n        return true; // å¾ªç’°ä¾å­˜ç™ºè¦‹\n      }\n    }\n\n    recursionStack.delete(system);\n    return false;\n  };\n\n  for (const system of Object.keys(this.SYSTEM_DEPENDENCY_MAP)) {\n    if (!visited.has(system)) {\n      if (detectCycle(system)) {\n        return { success: false, details: `Circular dependency involving ${system}` };\n      }\n    }\n  }\n\n  return { success: true };\n}\n```\n\n### åˆæœŸåŒ–ãƒ—ãƒ­ã‚»ã‚¹\n\n**ãƒ•ãƒ­ãƒ¼**:\n```typescript\nasync initialize(): Promise<void> {\n  this.startTime = Date.now();\n\n  logger.info('ğŸš€ Starting P5-1 optimized application lifecycle initialization', {\n    systemCount: Object.keys(this.SYSTEM_DEPENDENCY_MAP).length,\n    totalTiers: 5,\n    targetTime: '3 seconds',\n    targetStability: '99.9%'\n  });\n\n  try {\n    // Step 1: å¾ªç’°ä¾å­˜ã®äº‹å‰ãƒã‚§ãƒƒã‚¯\n    const circularCheck = this.checkCircularDependencies();\n    if (!circularCheck.success) {\n      throw new Error(`Circular dependency detected: ${circularCheck.details}`);\n    }\n    logger.info('âœ… Circular dependency check passed');\n\n    // Step 2: Tier 1 - LifecycleSystem, ServiceContainer\n    await this.initializeTier1();\n\n    // Step 3: Tier 2 - MemorySystem, ParametersSystem\n    await this.initializeTier2();\n\n    // Step 4: Tier 3 - CharacterSystem, PlotSystem\n    await this.initializeTier3();\n\n    // Step 5: Tier 4 - LearningJourneySystem, ForeshadowingSystemï¼ˆä»»æ„ï¼‰\n    await this.initializeTier4();\n\n    // Step 6: Tier 5 - AnalysisSystemï¼ˆä»»æ„ï¼‰\n    await this.initializeTier5();\n\n    this.currentStage = LifecycleStage.READY;\n\n    const totalDuration = Date.now() - this.startTime;\n    logger.info('ğŸ‰ Application initialization completed', {\n      totalDuration: `${totalDuration}ms`,\n      targetAchieved: totalDuration < 3000,\n      initializedSystems: this.initializedSystems.size,\n      failedSystems: this.failedSystems.size\n    });\n  } catch (error) {\n    logger.error('âŒ Application initialization failed', { error });\n    throw error;\n  }\n}\n```\n\n## ãªãœã“ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ä½¿ã†ã‹\n\n### ç†ç”±1: å¤§è¦æ¨¡ã‚·ã‚¹ãƒ†ãƒ ã®ä¾å­˜é–¢ä¿‚ç®¡ç†\n\n**å•é¡Œ**: 280ãƒ•ã‚¡ã‚¤ãƒ«ã€8å¤§ã‚·ã‚¹ãƒ†ãƒ ã‚’æ‰‹å‹•ã§åˆæœŸåŒ–ã™ã‚‹ã¨ã€é †åºãƒŸã‚¹ã‚„ä¾å­˜é–¢ä¿‚ã‚¨ãƒ©ãƒ¼ãŒé »ç™ºã€‚\n\n**è§£æ±º**: ä¾å­˜é–¢ä¿‚ãƒãƒƒãƒ—ï¼ˆ`SYSTEM_DEPENDENCY_MAP`ï¼‰ã§æ˜ç¤ºçš„ã«å®šç¾©ã—ã€è‡ªå‹•è§£æ±ºã€‚\n\n**ãƒ¡ãƒªãƒƒãƒˆ**:\n- åˆæœŸåŒ–é †åºã‚’é–“é•ãˆãªã„\n- æ–°ã‚·ã‚¹ãƒ†ãƒ è¿½åŠ æ™‚ã‚‚ä¾å­˜é–¢ä¿‚ã‚’å®£è¨€ã™ã‚‹ã ã‘\n- å¾ªç’°ä¾å­˜ã‚’äº‹å‰æ¤œå‡º\n\n### ç†ç”±2: ã‚·ã‚¹ãƒ†ãƒ å®‰å®šæ€§99.9%ã®å®Ÿç¾\n\n**å•é¡Œ**: ã‚·ã‚¹ãƒ†ãƒ èµ·å‹•æ™‚ã®ã‚¨ãƒ©ãƒ¼ã¯ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ã‚’å¤§ããæãªã†ã€‚\n\n**è§£æ±º**:\n- å„Tierã§ã®æ®µéšçš„åˆæœŸåŒ–\n- å¿…é ˆã‚·ã‚¹ãƒ†ãƒ ï¼ˆ`required: true`ï¼‰ã¨ä»»æ„ã‚·ã‚¹ãƒ†ãƒ ï¼ˆ`required: false`ï¼‰ã®åˆ†é›¢\n- ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿæ™‚ã‚‚éƒ¨åˆ†çš„ã«å‹•ä½œç¶™ç¶š\n\n**ãƒ¡ãƒªãƒƒãƒˆ**:\n- å¿…é ˆã‚·ã‚¹ãƒ†ãƒ ãŒåˆæœŸåŒ–ã§ãã‚Œã°ã‚¢ãƒ—ãƒªèµ·å‹•å¯èƒ½\n- ä»»æ„ã‚·ã‚¹ãƒ†ãƒ ã®å¤±æ•—ãŒã‚¢ãƒ—ãƒªå…¨ä½“ã‚’åœæ­¢ã•ã›ãªã„\n- ã‚¨ãƒ©ãƒ¼è¿½è·¡ãŒå®¹æ˜“ï¼ˆã©ã®Tierã§å¤±æ•—ã—ãŸã‹æ˜ç¢ºï¼‰\n\n### ç†ç”±3: 3ç§’ä»¥å†…ã®é«˜é€ŸåˆæœŸåŒ–\n\n**å•é¡Œ**: 8å¤§ã‚·ã‚¹ãƒ†ãƒ ã‚’é †æ¬¡åˆæœŸåŒ–ã™ã‚‹ã¨æ™‚é–“ãŒã‹ã‹ã‚‹ã€‚\n\n**è§£æ±º**:\n- åŒä¸€Tierå†…ã®ã‚·ã‚¹ãƒ†ãƒ ã¯ä¸¦åˆ—åˆæœŸåŒ–å¯èƒ½\n- Tier 2ï¼ˆMemory + Parametersï¼‰ã¯åŒæ™‚åˆæœŸåŒ–\n- Tier 3ï¼ˆCharacter + Plotï¼‰ã¯åŒæ™‚åˆæœŸåŒ–\n\n**ãƒ¡ãƒªãƒƒãƒˆ**:\n- åˆæœŸåŒ–æ™‚é–“ã®çŸ­ç¸®ï¼ˆä¸¦åˆ—åŒ–ã«ã‚ˆã‚‹ï¼‰\n- ãƒ¦ãƒ¼ã‚¶ãƒ¼å¾…æ©Ÿæ™‚é–“ã®å‰Šæ¸›\n\n### ç†ç”±4: Singletonãƒ‘ã‚¿ãƒ¼ãƒ³ã«ã‚ˆã‚‹ãƒ¡ãƒ¢ãƒªåŠ¹ç‡åŒ–\n\n**å•é¡Œ**: MemoryManagerã€CharacterManagerç­‰ã®å·¨å¤§ãªã‚µãƒ¼ãƒ“ã‚¹ã‚’æ¯å›ä½œæˆã™ã‚‹ã¨ãƒ¡ãƒ¢ãƒªæ¶ˆè²»ãŒæ¿€ã—ã„ã€‚\n\n**è§£æ±º**: ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§Singletonï¼ˆ`ServiceLifecycle.SINGLETON`ï¼‰ã¨ã—ã¦ç™»éŒ²ã€‚\n\n**ãƒ¡ãƒªãƒƒãƒˆ**:\n- åˆå›ä½œæˆå¾Œã¯å†åˆ©ç”¨\n- ãƒ¡ãƒ¢ãƒªæ¶ˆè²»ã‚’æŠ‘åˆ¶\n- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å‘ä¸Šï¼ˆã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ä½œæˆã‚³ã‚¹ãƒˆã®å‰Šæ¸›ï¼‰\n\n### ç†ç”±5: ãƒ†ã‚¹ã‚¿ãƒ“ãƒªãƒ†ã‚£ã®å‘ä¸Š\n\n**å•é¡Œ**: å·¨å¤§ãªã‚·ã‚¹ãƒ†ãƒ ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹éš›ã€ä¾å­˜é–¢ä¿‚ãŒè¤‡é›‘ã§ãƒ¢ãƒƒã‚¯åŒ–ãŒå›°é›£ã€‚\n\n**è§£æ±º**: ServiceContainerã«ã‚ˆã‚‹DIï¼ˆä¾å­˜æ³¨å…¥ï¼‰ã€‚\n\n**ãƒ¡ãƒªãƒƒãƒˆ**:\n- ãƒ†ã‚¹ãƒˆæ™‚ã«ãƒ¢ãƒƒã‚¯ã‚µãƒ¼ãƒ“ã‚¹ã‚’æ³¨å…¥å¯èƒ½\n- å„ã‚·ã‚¹ãƒ†ãƒ ã‚’ç‹¬ç«‹ã—ã¦ãƒ†ã‚¹ãƒˆå¯èƒ½\n- çµ±åˆãƒ†ã‚¹ãƒˆã‚‚å®¹æ˜“ï¼ˆã‚³ãƒ³ãƒ†ãƒŠã«å¿…è¦ãªã‚µãƒ¼ãƒ“ã‚¹ã ã‘ç™»éŒ²ï¼‰\n\n## å†ç¾æ–¹æ³•\n\n### æ‰‹é †1: ServiceContainerã®ä½œæˆ\n\n```typescript\n// src/lib/lifecycle/service-container.ts\nimport { ServiceLifecycle } from './types';\n\nexport class ServiceContainer {\n  private services = new Map<string, {\n    factory: () => any | Promise<any>,\n    lifecycle: ServiceLifecycle,\n    instance?: any\n  }>();\n\n  register(name: string, factory: () => any | Promise<any>, lifecycle: ServiceLifecycle = ServiceLifecycle.SINGLETON): void {\n    this.services.set(name, { factory, lifecycle });\n  }\n\n  async resolve<T>(name: string): Promise<T> {\n    const service = this.services.get(name);\n    if (!service) throw new Error(`Service not found: ${name}`);\n\n    if (service.lifecycle === ServiceLifecycle.SINGLETON) {\n      if (!service.instance) {\n        service.instance = await service.factory();\n      }\n      return service.instance;\n    }\n\n    return await service.factory();\n  }\n}\n```\n\n### æ‰‹é †2: ApplicationLifecycleManagerã®ä½œæˆ\n\n```typescript\n// src/lib/lifecycle/application-lifecycle-manager.ts\nimport { ServiceContainer } from './service-container';\n\nexport class ApplicationLifecycleManager {\n  private serviceContainer: ServiceContainer;\n\n  constructor() {\n    this.serviceContainer = new ServiceContainer();\n  }\n\n  async initialize(): Promise<void> {\n    // Tier 1\n    await this.initializeTier1();\n    // Tier 2\n    await this.initializeTier2();\n    // ...\n  }\n\n  private async initializeTier1(): Promise<void> {\n    // LifecycleSystemã®åˆæœŸåŒ–\n  }\n\n  private async initializeTier2(): Promise<void> {\n    // MemorySystem, ParametersSystemã®åˆæœŸåŒ–\n    this.serviceContainer.register('memoryManager', async () => {\n      const { MemoryManager } = await import('@/lib/memory/core/memory-manager');\n      return new MemoryManager(config);\n    });\n  }\n}\n```\n\n### æ‰‹é †3: 8å¤§ã‚·ã‚¹ãƒ†ãƒ ã®ä¾å­˜é–¢ä¿‚å®šç¾©\n\n```typescript\nprivate readonly SYSTEM_DEPENDENCY_MAP = {\n  'SystemA': {\n    tier: 2,\n    dependencies: ['SystemB'],  // SystemBã«ä¾å­˜\n    services: ['ServiceA1', 'ServiceA2'],\n    initializationOrder: 2,\n    required: true\n  },\n  // ...\n};\n```\n\n### æ‰‹é †4: ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ\n\n```typescript\n// src/app/api/generation/chapter/route.ts\nimport { ApplicationLifecycleManager } from '@/lib/lifecycle/application-lifecycle-manager';\n\nlet lifecycleManager: ApplicationLifecycleManager | null = null;\n\nexport async function POST(request: Request) {\n  // åˆå›ã®ã¿åˆæœŸåŒ–\n  if (!lifecycleManager) {\n    lifecycleManager = new ApplicationLifecycleManager();\n    await lifecycleManager.initialize();\n  }\n\n  // ã‚µãƒ¼ãƒ“ã‚¹å–å¾—\n  const engine = await lifecycleManager.getServiceContainer().resolve('novelGenerationEngine');\n\n  // ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯å®Ÿè¡Œ\n  const result = await engine.generateChapter();\n  return Response.json(result);\n}\n```\n\n## ã„ã¤ä½¿ã†ã‹\n\n### é©ç”¨å ´é¢1: å¤§è¦æ¨¡ãªä¾å­˜é–¢ä¿‚ã‚’æŒã¤ã‚·ã‚¹ãƒ†ãƒ \n\n**æ¡ä»¶**:\n- 10å€‹ä»¥ä¸Šã®ä¸»è¦ã‚µãƒ¼ãƒ“ã‚¹\n- è¤‡é›‘ãªä¾å­˜é–¢ä¿‚ï¼ˆAãŒBã«ä¾å­˜ã€BãŒCã«ä¾å­˜...ï¼‰\n\n**åŠ¹æœ**:\n- æ‰‹å‹•ç®¡ç†ãŒä¸å¯èƒ½ãªãƒ¬ãƒ™ãƒ«ã®ä¾å­˜é–¢ä¿‚ã‚’è‡ªå‹•è§£æ±º\n\n### é©ç”¨å ´é¢2: é«˜ã„å®‰å®šæ€§ãŒè¦æ±‚ã•ã‚Œã‚‹ã‚¢ãƒ—ãƒª\n\n**æ¡ä»¶**:\n- ã‚·ã‚¹ãƒ†ãƒ èµ·å‹•å¤±æ•—ç‡ã‚’1%æœªæº€ã«æŠ‘ãˆãŸã„\n- éƒ¨åˆ†çš„ãªéšœå®³ã§ã‚‚ã‚¢ãƒ—ãƒªã‚’å‹•ä½œã•ã›ãŸã„\n\n**åŠ¹æœ**:\n- å¿…é ˆã‚·ã‚¹ãƒ†ãƒ ã¨ä»»æ„ã‚·ã‚¹ãƒ†ãƒ ã®åˆ†é›¢\n- æ®µéšçš„åˆæœŸåŒ–ã«ã‚ˆã‚‹é«˜ã„å®‰å®šæ€§\n\n### é©ç”¨å ´é¢3: åˆæœŸåŒ–æ™‚é–“ãŒé‡è¦ãªã‚¢ãƒ—ãƒª\n\n**æ¡ä»¶**:\n- ãƒ¦ãƒ¼ã‚¶ãƒ¼å¾…æ©Ÿæ™‚é–“ã‚’æœ€å°åŒ–ã—ãŸã„\n- ã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹ç’°å¢ƒï¼ˆã‚³ãƒ¼ãƒ«ãƒ‰ã‚¹ã‚¿ãƒ¼ãƒˆå¯¾ç­–ï¼‰\n\n**åŠ¹æœ**:\n- ä¸¦åˆ—åˆæœŸåŒ–ã«ã‚ˆã‚‹é«˜é€ŸåŒ–\n- 3ç§’ä»¥å†…ã®åˆæœŸåŒ–ç›®æ¨™é”æˆ\n\n### é©ç”¨å ´é¢4: ãƒ†ã‚¹ãƒˆãŒé‡è¦ãªãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ\n\n**æ¡ä»¶**:\n- å˜ä½“ãƒ†ã‚¹ãƒˆãƒ»çµ±åˆãƒ†ã‚¹ãƒˆãŒå¿…è¦\n- ãƒ¢ãƒƒã‚¯åŒ–ãŒå¿…è¦\n\n**åŠ¹æœ**:\n- DIã«ã‚ˆã‚‹ãƒ†ã‚¹ã‚¿ãƒ“ãƒªãƒ†ã‚£å‘ä¸Š\n\n## æ³¨æ„ç‚¹\n\n### æ³¨æ„ç‚¹1: åˆæœŸå®Ÿè£…ã‚³ã‚¹ãƒˆãŒé«˜ã„\n\n**å•é¡Œ**: ServiceContainerã¨ApplicationLifecycleManagerã®å®Ÿè£…ã«æ™‚é–“ãŒã‹ã‹ã‚‹ã€‚\n\n**å¯¾ç­–**:\n- å°è¦æ¨¡ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯éå‰°\n- 10ã‚·ã‚¹ãƒ†ãƒ ä»¥ä¸Šã€100ãƒ•ã‚¡ã‚¤ãƒ«ä»¥ä¸Šã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§åŠ¹æœã‚’ç™ºæ®\n\n### æ³¨æ„ç‚¹2: ä¾å­˜é–¢ä¿‚ãƒãƒƒãƒ—ã®ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹\n\n**å•é¡Œ**: æ–°ã‚·ã‚¹ãƒ†ãƒ è¿½åŠ æ™‚ã€ä¾å­˜é–¢ä¿‚ãƒãƒƒãƒ—ã‚’æ›´æ–°ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã€‚\n\n**å¯¾ç­–**:\n- ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆåŒ–\n- ãƒ¬ãƒ“ãƒ¥ãƒ¼æ™‚ã«ä¾å­˜é–¢ä¿‚ã‚’ç¢ºèª\n- è‡ªå‹•ãƒ†ã‚¹ãƒˆã§å¾ªç’°ä¾å­˜ãƒã‚§ãƒƒã‚¯\n\n### æ³¨æ„ç‚¹3: ãƒ‡ãƒãƒƒã‚°ã®è¤‡é›‘åŒ–\n\n**å•é¡Œ**: DIã«ã‚ˆã‚‹é–“æ¥åŒ–ã§ã€ã©ã®ã‚µãƒ¼ãƒ“ã‚¹ãŒä½¿ã‚ã‚Œã¦ã„ã‚‹ã‹åˆ†ã‹ã‚Šã«ãã„ã€‚\n\n**å¯¾ç­–**:\n- ãƒ­ã‚°å‡ºåŠ›ã®å……å®Ÿ\n- `logger.debug('Registered service: ${name}')`\n- ServiceContainerã®çŠ¶æ…‹å¯è¦–åŒ–ãƒ„ãƒ¼ãƒ«\n\n### æ³¨æ„ç‚¹4: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚ªãƒ¼ãƒãƒ¼ãƒ˜ãƒƒãƒ‰\n\n**å•é¡Œ**: ã‚µãƒ¼ãƒ“ã‚¹è§£æ±ºã®ãŸã³ã«Mapæ¤œç´¢ãŒç™ºç”Ÿã€‚\n\n**å¯¾ç­–**:\n- Singletonã§å†åˆ©ç”¨ï¼ˆåˆå›ã®ã¿æ¤œç´¢ï¼‰\n- é »ç¹ã«ä½¿ã†ã‚µãƒ¼ãƒ“ã‚¹ã¯ã‚­ãƒ£ãƒƒã‚·ãƒ¥\n\n### æ³¨æ„ç‚¹5: éåŒæœŸåˆæœŸåŒ–ã®è¤‡é›‘ã•\n\n**å•é¡Œ**: éåŒæœŸã‚µãƒ¼ãƒ“ã‚¹ï¼ˆ`async factory()`ï¼‰ã®åˆæœŸåŒ–é †åºåˆ¶å¾¡ãŒé›£ã—ã„ã€‚\n\n**å¯¾ç­–**:\n- `await`ã§ç¢ºå®Ÿã«å®Œäº†ã‚’å¾…ã¤\n- Tierå˜ä½ã§ä¸¦åˆ—åŒ–ï¼ˆåŒä¸€Tierå†…ã¯ä¸¦åˆ—å¯èƒ½ï¼‰\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `system_novel_automation_status_2025_11_25.md`ï¼šã‚·ã‚¹ãƒ†ãƒ å…¨ä½“ã®çŠ¶æ…‹\n- `design_pattern_8_system_integration_2025_11_25.md`ï¼š8å¤§ã‚·ã‚¹ãƒ†ãƒ çµ±åˆãƒ‘ã‚¿ãƒ¼ãƒ³ï¼ˆæ¬¡ã«ä½œæˆï¼‰\n- `decision_three_tier_memory_architecture_2025_11_25.md`ï¼š3å±¤è¨˜æ†¶éšå±¤ã®åˆ¤æ–­\n- `design_pattern_character_7_service_architecture_2025_11_25.md`ï¼šCharacter System 7ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ï¼ˆæ¬¡ã«ä½œæˆï¼‰\n",
    "prompt": "### æ‰‹é †1: ServiceContainerã®ä½œæˆ\n\n```typescript\n// src/lib/lifecycle/service-container.ts\nimport { ServiceLifecycle } from './types';\n\nexport class ServiceContainer {\n  private services = new Map<string, {\n    factory: () => any | Promise<any>,\n    lifecycle: ServiceLifecycle,\n    instance?: any\n  }>();\n\n  register(name: string, factory: () => any | Promise<any>, lifecycle: ServiceLifecycle = ServiceLifecycle.SINGLETON): void {\n    this.services.set(name, { factory, lifecycle });\n  }\n\n  async resolve<T>(name: string): Promise<T> {\n    const service = this.services.get(name);\n    if (!service) throw new Error(`Service not found: ${name}`);\n\n    if (service.lifecycle === ServiceLifecycle.SINGLETON) {\n      if (!service.instance) {\n        service.instance = await service.factory();\n      }\n      return service.instance;\n    }\n\n    return await service.factory();\n  }\n}\n```\n\n### æ‰‹é †2: ApplicationLifecycleManagerã®ä½œæˆ\n\n```typescript\n// src/lib/lifecycle/application-lifecycle-manager.ts\nimport { ServiceContainer } from './service-container';\n\nexport class ApplicationLifecycleManager {\n  private serviceContainer: ServiceContainer;\n\n  constructor() {\n    this.serviceContainer = new ServiceContainer();\n  }\n\n  async initialize(): Promise<void> {\n    // Tier 1\n    await this.initializeTier1();\n    // Tier 2\n    await this.initializeTier2();\n    // ...\n  }\n\n  private async initializeTier1(): Promise<void> {\n    // LifecycleSystemã®åˆæœŸåŒ–\n  }\n\n  private async initializeTier2(): Promise<void> {\n    // MemorySystem, ParametersSystemã®åˆæœŸåŒ–\n    this.serviceContainer.register('memoryManager', async () => {\n      const { MemoryManager } = await import('@/lib/memory/core/memory-manager');\n      return new MemoryManager(config);\n    });\n  }\n}\n```\n\n### æ‰‹é †3: 8å¤§ã‚·ã‚¹ãƒ†ãƒ ã®ä¾å­˜é–¢ä¿‚å®šç¾©\n\n```typescript\nprivate readonly SYSTEM_DEPENDENCY_MAP = {\n  'SystemA': {\n    tier: 2,\n    dependencies: ['SystemB'],  // SystemBã«ä¾å­˜\n    services: ['ServiceA1', 'ServiceA2'],\n    initializationOrder: 2,\n    required: true\n  },\n  // ...\n};\n```\n\n### æ‰‹é †4: ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ\n\n```typescript\n// src/app/api/generation/chapter/route.ts\nimport { ApplicationLifecycleManager } from '@/lib/lifecycle/application-lifecycle-manager';\n\nlet lifecycleManager: ApplicationLifecycleManager | null = null;\n\nexport async function POST(request: Request) {\n  // åˆå›ã®ã¿åˆæœŸåŒ–\n  if (!lifecycleManager) {\n    lifecycleManager = new ApplicationLifecycleManager();\n    await lifecycleManager.initialize();\n  }\n\n  // ã‚µãƒ¼ãƒ“ã‚¹å–å¾—\n  const engine = await lifecycleManager.getServiceContainer().resolve('novelGenerationEngine');\n\n  // ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯å®Ÿè¡Œ\n  const result = await engine.generateChapter();\n  return Response.json(result);\n}\n```",
    "relatedTech": [
      "system-novel-automation-status",
      "design-pattern-8-system-integration",
      "decision-three-tier-memory-architecture"
    ]
  },
  {
    "slug": "ai-api-503-errors-partial",
    "title": "503ã‚¨ãƒ©ãƒ¼ã®éƒ¨åˆ†çš„è§£æ±ºï¼ˆç›´åˆ—åŒ–ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼‰",
    "category": "Failuresï¼ˆå¤±æ•—ãƒ»ãƒˆãƒ©ãƒ–ãƒ«å¯¾å‡¦ï¼‰",
    "description": "503ã‚¨ãƒ©ãƒ¼ã®éƒ¨åˆ†çš„è§£æ±ºï¼ˆç›´åˆ—åŒ–ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼‰",
    "project": "instagram-post-generator",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"failure_ai_api_503_errors_partial_2025_11_25\",\n  \"type\": \"failure\",\n  \"name\": \"503ã‚¨ãƒ©ãƒ¼ã®éƒ¨åˆ†çš„è§£æ±ºï¼ˆç›´åˆ—åŒ–ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼‰\",\n  \"failure_category\": \"api_error\",\n  \"status\": \"partially_resolved\",\n  \"tags\": [\"503ã‚¨ãƒ©ãƒ¼\", \"ç›´åˆ—åŒ–\", \"Gemini API\", \"éƒ¨åˆ†è§£æ±º\"],\n  \"source_project\": \"instagram-post-generator\",\n  \"impact\": \"AIç”Ÿæˆå¤±æ•—ï¼ˆ503ã‚¨ãƒ©ãƒ¼ï¼‰30% â†’ 2%\",\n  \"related_knowledge\": [\n    \"skill_ai_serialization_pattern_503_prevention_2025_11_25\",\n    \"failure_ai_calls_disabled_emergency_2025_11_25\"\n  ],\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# 503ã‚¨ãƒ©ãƒ¼ã®éƒ¨åˆ†çš„è§£æ±ºï¼ˆç›´åˆ—åŒ–ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼‰\n\n## ä½•ãŒèµ·ããŸã‹\n\n**Gemini APIå‘¼ã³å‡ºã—ã§503 Service Unavailable ã‚¨ãƒ©ãƒ¼ãŒé »ç™ºã€‚**\n\n**ç™ºç”Ÿç‡**: ç´„30%ï¼ˆä¸¦åˆ—å®Ÿè¡Œæ™‚ï¼‰\n\n---\n\n## è§£æ±ºç­–\n\n### isGenerating ãƒ•ãƒ©ã‚°ã«ã‚ˆã‚‹ç›´åˆ—åŒ–\n\n```typescript\nclass ContentGeneratorService {\n  private isGenerating = false\n\n  async generatePost(userInput: string) {\n    if (this.isGenerating) {\n      throw new Error('æ—¢ã«ç”Ÿæˆå‡¦ç†ãŒå®Ÿè¡Œä¸­ã§ã™')\n    }\n\n    this.isGenerating = true\n    try {\n      // ç›´åˆ—å®Ÿè¡Œ\n      const result = await this.generateSequentially(userInput)\n      return result\n    } finally {\n      this.isGenerating = false\n    }\n  }\n}\n```\n\n**çµæœ**: 503ã‚¨ãƒ©ãƒ¼ 30% â†’ 2%\n\n---\n\n## æœªè§£æ±ºã®å•é¡Œ\n\n**ç¾åœ¨**: AIå‘¼ã³å‡ºã—è‡ªä½“ãŒç„¡åŠ¹åŒ–ã•ã‚Œã¦ã„ã‚‹ï¼ˆç·Šæ€¥å¯¾å¿œï¼‰\n\nè©³ç´°ã¯ `failure_ai_calls_disabled_emergency_2025_11_25.md` å‚ç…§ã€‚\n\n---\n\n**ç›´åˆ—åŒ–ãƒ‘ã‚¿ãƒ¼ãƒ³ã«ã‚ˆã‚Š503ã‚¨ãƒ©ãƒ¼ã‚’30% â†’ 2%ã«å‰Šæ¸›ã€‚ã—ã‹ã—ã€AIå‘¼ã³å‡ºã—ã¯ç¾åœ¨ç„¡åŠ¹åŒ–ã•ã‚Œã¦ã„ã‚‹ãŸã‚ã€å®Œå…¨ãªè§£æ±ºã«ã¯è‡³ã£ã¦ã„ãªã„ã€‚**\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€Œ503ã‚¨ãƒ©ãƒ¼ã®éƒ¨åˆ†çš„è§£æ±ºï¼ˆç›´åˆ—åŒ–ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼‰ã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "skill-ai-serialization-pattern-503-prevention",
      "failure-ai-calls-disabled-emergency"
    ]
  },
  {
    "slug": "ai-calls-disabled-emergency",
    "title": "AI APIå‘¼ã³å‡ºã—å…¨é¢ç„¡åŠ¹åŒ–ï¼ˆç·Šæ€¥å¯¾å¿œãƒ»æœªè§£æ±ºï¼‰",
    "category": "Failuresï¼ˆå¤±æ•—ãƒ»ãƒˆãƒ©ãƒ–ãƒ«å¯¾å‡¦ï¼‰",
    "description": "AI APIå‘¼ã³å‡ºã—å…¨é¢ç„¡åŠ¹åŒ–ï¼ˆç·Šæ€¥å¯¾å¿œãƒ»æœªè§£æ±ºï¼‰",
    "project": "instagram-post-generator",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"failure_ai_calls_disabled_emergency_2025_11_25\",\n  \"type\": \"failure\",\n  \"name\": \"AI APIå‘¼ã³å‡ºã—å…¨é¢ç„¡åŠ¹åŒ–ï¼ˆç·Šæ€¥å¯¾å¿œãƒ»æœªè§£æ±ºï¼‰\",\n  \"failure_category\": \"critical_emergency\",\n  \"status\": \"unresolved\",\n  \"tags\": [\"AIç„¡åŠ¹åŒ–\", \"ç·Šæ€¥å¯¾å¿œ\", \"ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯\", \"æœªè§£æ±º\", \"Gemini\"],\n  \"source_project\": \"instagram-post-generator\",\n  \"impact\": \"ã‚·ã‚¹ãƒ†ãƒ ã®ä¸»è¦æ©Ÿèƒ½ï¼ˆAIè‡ªå‹•ç”Ÿæˆï¼‰ãŒå®Œå…¨åœæ­¢\",\n  \"related_knowledge\": [\n    \"decision_ai_gemini_2.0_flash_lite_2025_11_25\",\n    \"skill_five_stage_ai_pipeline_2025_11_25\"\n  ],\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# AI APIå‘¼ã³å‡ºã—å…¨é¢ç„¡åŠ¹åŒ–ï¼ˆç·Šæ€¥å¯¾å¿œãƒ»æœªè§£æ±ºï¼‰\n\n## ä½•ãŒèµ·ããŸã‹\n\n**2025å¹´11æœˆ25æ—¥æ™‚ç‚¹ã§ã€InstagramæŠ•ç¨¿ç”Ÿæˆã‚·ã‚¹ãƒ†ãƒ ã®å…¨AI APIå‘¼ã³å‡ºã—ãŒç„¡åŠ¹åŒ–ã•ã‚Œã¦ã„ã‚‹ã€‚**\n\n**å½±éŸ¿ç¯„å›²**:\n- 5æ®µéšAIãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³å…¨åœæ­¢\n- ã‚¸ãƒ£ãƒ³ãƒ«æ¤œå‡ºã€æ§‹é€ åˆ†æã€ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”Ÿæˆã€ã‚­ãƒ£ãƒ—ã‚·ãƒ§ãƒ³ã€ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°å…¨ã¦ç„¡åŠ¹\n- ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ç”Ÿæˆã®ã¿ç¨¼åƒä¸­\n- **ã‚·ã‚¹ãƒ†ãƒ ã®ä¸»è¦ä¾¡å€¤ææ¡ˆï¼ˆAIè‡ªå‹•ç”Ÿæˆï¼‰ãŒæ©Ÿèƒ½ã—ã¦ã„ãªã„**\n\n**ç„¡åŠ¹åŒ–ç®‡æ‰€**: 5ç®‡æ‰€\n1. `geminiService.ts` - analyzeContentForOptimalPostï¼ˆlines 177-226ï¼‰\n2. `geminiService.ts` - optimizeHashtagsï¼ˆlines 434-444ï¼‰\n3. `contentGeneratorService.ts` - regenerateCaptionï¼ˆlines 532-535ï¼‰\n4. `contentGeneratorService.ts` - regenerateSpecificPageï¼ˆlines 693-696ï¼‰\n5. `contentGeneratorService.ts` - regenerateHashtagsï¼ˆlines 1470-1472ï¼‰\n\n---\n\n## ãªãœç™ºç”Ÿã—ãŸã‹\n\n**åŸå› **: ä¸æ˜ï¼ˆã‚³ãƒ¡ãƒ³ãƒˆã«ã€Œç·Šæ€¥å¯¾å¿œã€ã®ã¿è¨˜è¼‰ã€ç†ç”±ãªã—ï¼‰\n\n**æ¨æ¸¬ã•ã‚Œã‚‹åŸå› **:\n1. **APIã‚¯ã‚©ãƒ¼ã‚¿è¶…é**: Gemini APIã®ç„¡æ–™æ è¶…é\n2. **ã‚³ã‚¹ãƒˆã‚ªãƒ¼ãƒãƒ¼ãƒ©ãƒ³**: äºˆæƒ³å¤–ã®APIå‘¼ã³å‡ºã—ã‚³ã‚¹ãƒˆ\n3. **ã‚¨ãƒ©ãƒ¼é »ç™º**: AIç”Ÿæˆã®å“è³ªå•é¡Œãƒ»ã‚¨ãƒ©ãƒ¼ç‡å¢—å¤§\n4. **é–‹ç™ºä¸­ã®ä¸€æ™‚å¯¾å¿œ**: ãƒ†ã‚¹ãƒˆãƒ»ãƒ‡ãƒãƒƒã‚°ç›®çš„ã®ä¸€æ™‚ç„¡åŠ¹åŒ–\n\n**ã‚³ãƒ¼ãƒ‰ã®è¨¼æ‹ **:\n```typescript\n// geminiService.ts line 177\n// ğŸš« AI APIå‘¼ã³å‡ºã—ã‚’ã‚³ãƒ¡ãƒ³ãƒˆã‚¢ã‚¦ãƒˆ - ç·Šæ€¥å¯¾å¿œ\n// const result = await this.model.generateContent(prompt)\n// ...ï¼ˆ50è¡Œã‚³ãƒ¡ãƒ³ãƒˆã‚¢ã‚¦ãƒˆï¼‰\n\n// ğŸš« AIå‘¼ã³å‡ºã—ç„¡åŠ¹åŒ– - ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ã®ã¿ä½¿ç”¨\nconsole.log('ğŸš« AI APIå‘¼ã³å‡ºã—ç„¡åŠ¹åŒ–ä¸­ - ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯åˆ†æã‚’ä½¿ç”¨')\nreturn this.getFallbackAnalysis(content, strategy)\n```\n\n**ç†ç”±ãŒè¨˜éŒ²ã•ã‚Œã¦ã„ãªã„**: ã“ã‚Œã¯é‡å¤§ãªå•é¡Œã€‚ãªãœç„¡åŠ¹åŒ–ã—ãŸã‹ä¸æ˜ã€‚\n\n---\n\n## å½±éŸ¿\n\n### å½±éŸ¿1: ã‚·ã‚¹ãƒ†ãƒ ã®ä¸»è¦æ©Ÿèƒ½åœæ­¢\n\n**InstagramæŠ•ç¨¿è‡ªå‹•ç”Ÿæˆ**ãŒäº‹å®Ÿä¸Šæ©Ÿèƒ½ã—ã¦ã„ãªã„ã€‚\n\n**ç¾åœ¨ã®å‹•ä½œ**:\n- ãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ› â†’ AIç”Ÿæˆãªã—\n- ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ç”Ÿæˆã®ã¿ï¼ˆå›ºå®šãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆï¼‰\n- ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹ã‹ã‚‰æ—¢å­˜ã‚³ãƒ³ãƒ†ãƒ³ãƒ„èª­ã¿è¾¼ã¿\n- **å‰µé€ æ€§ã‚¼ãƒ­ã€æŸ”è»Ÿæ€§ã‚¼ãƒ­**\n\n### å½±éŸ¿2: ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ã®æ‚ªåŒ–\n\n**æœŸå¾…**: è‡ªç”±ãªå…¥åŠ›ã§å¤šæ§˜ãªã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”Ÿæˆ\n**ç¾å®Ÿ**: å›ºå®šã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®ã¿\n\n### å½±éŸ¿3: ã‚·ã‚¹ãƒ†ãƒ å®Œæˆåº¦ã®ä½ä¸‹\n\n**å…¬ç§°å®Œæˆåº¦**: 85%\n**å®Ÿè³ªå®Œæˆåº¦**: 40%ï¼ˆä¸»è¦æ©Ÿèƒ½ãŒç„¡åŠ¹ã®ãŸã‚ï¼‰\n\n### å½±éŸ¿4: é–‹ç™ºãƒ»ãƒ‡ãƒãƒƒã‚°ã®å›°é›£æ€§\n\nAIç”ŸæˆãŒå‹•ä½œã—ãªã„ãŸã‚ã€ä»¥ä¸‹ãŒæ¤œè¨¼ã§ããªã„:\n- 5æ®µéšãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã®å‹•ä½œ\n- ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒãƒƒãƒãƒ³ã‚°ç²¾åº¦\n- ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚°åŠ¹æœ\n- **å“è³ªæ”¹å–„ã‚µã‚¤ã‚¯ãƒ«ãŒå›ã‚‰ãªã„**\n\n---\n\n## è§£æ±ºç­–\n\n### çŸ­æœŸè§£æ±ºï¼ˆ1-2æ—¥ï¼‰\n\n**Step 1: åŸå› ç‰¹å®š**\n```bash\n# APIã‚­ãƒ¼ç¢ºèª\necho $NEXT_PUBLIC_GEMINI_API_KEY\n\n# ã‚¯ã‚©ãƒ¼ã‚¿ç¢ºèªï¼ˆGoogle Cloud Consoleï¼‰\n# â†’ ä½¿ç”¨é‡ã€æ®‹ã‚Šæ ç¢ºèª\n\n# ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ç¢ºèª\ngrep \"Gemini API error\" logs/\n```\n\n**Step 2: 1ç®‡æ‰€ãšã¤å†æœ‰åŠ¹åŒ–**\n```typescript\n// ã¾ãš Stage 0ï¼ˆã‚¸ãƒ£ãƒ³ãƒ«æ¤œå‡ºï¼‰ã®ã¿æœ‰åŠ¹åŒ–\n// geminiService.ts line 177\nconst result = await this.model.generateContent(prompt)  // ã‚³ãƒ¡ãƒ³ãƒˆè§£é™¤\n\n// ã‚¨ãƒ©ãƒ¼ãªã— â†’ Stage 1ã‚‚æœ‰åŠ¹åŒ–\n// ã‚¨ãƒ©ãƒ¼ã‚ã‚Š â†’ åŸå› èª¿æŸ»\n```\n\n**Step 3: ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°å¼·åŒ–**\n```typescript\ntry {\n  const result = await this.model.generateContent(prompt)\n  return result.response.text()\n} catch (error) {\n  console.error('Gemini API error:', error)\n\n  // ã‚¯ã‚©ãƒ¼ã‚¿è¶…éã‚¨ãƒ©ãƒ¼\n  if (error.message.includes('quota')) {\n    console.warn('APIã‚¯ã‚©ãƒ¼ã‚¿è¶…é - ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ä½¿ç”¨')\n    return this.getFallbackAnalysis(content, strategy)\n  }\n\n  // ãã®ä»–ã®ã‚¨ãƒ©ãƒ¼\n  throw error\n}\n```\n\n### ä¸­æœŸè§£æ±ºï¼ˆ1é€±é–“ï¼‰\n\n**å¯¾ç­–1: APIã‚¯ã‚©ãƒ¼ã‚¿ç®¡ç†**\n```typescript\n// å‘¼ã³å‡ºã—å›æ•°ã‚«ã‚¦ãƒ³ãƒˆ\nlet apiCallCount = 0\nconst dailyLimit = 1000\n\nasync function callGeminiWithLimit(prompt: string) {\n  if (apiCallCount >= dailyLimit) {\n    console.warn('APIå‘¼ã³å‡ºã—ä¸Šé™åˆ°é” - ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ä½¿ç”¨')\n    return getFallback(prompt)\n  }\n\n  apiCallCount++\n  return await gemini.generateContent(prompt)\n}\n```\n\n**å¯¾ç­–2: ã‚³ã‚¹ãƒˆãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°**\n```typescript\n// ã‚³ã‚¹ãƒˆè¨ˆç®—\nconst inputTokens = prompt.length / 4  // ç°¡æ˜“æ¨å®š\nconst outputTokens = response.length / 4\nconst cost = (inputTokens * 0.15 + outputTokens * 0.60) / 1_000_000\n\nconsole.log(`[Cost] $${cost.toFixed(6)}`)\n\n// ç´¯ç©ã‚³ã‚¹ãƒˆè­¦å‘Š\nif (totalCost > 10.0) {\n  console.error('âš ï¸ ã‚³ã‚¹ãƒˆ$10è¶…é - AIå‘¼ã³å‡ºã—åˆ¶é™ã‚’æ¤œè¨')\n}\n```\n\n**å¯¾ç­–3: ã‚­ãƒ£ãƒƒã‚·ãƒ¥å®Ÿè£…**\n```typescript\n// åŒã˜å…¥åŠ›ã¸ã®å†å‘¼ã³å‡ºã—é˜²æ­¢\nconst cache = new Map<string, string>()\n\nasync function cachedGenerate(prompt: string) {\n  const hash = hashPrompt(prompt)\n\n  if (cache.has(hash)) {\n    console.log('[Cache] Hit')\n    return cache.get(hash)!\n  }\n\n  const result = await gemini.generateContent(prompt)\n  cache.set(hash, result)\n  return result\n}\n```\n\n### é•·æœŸè§£æ±ºï¼ˆ1ãƒ¶æœˆï¼‰\n\n**å¯¾ç­–1: ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰ç”Ÿæˆ**\n```\n- é »ç¹ãªä½¿ç”¨: ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹ï¼ˆAIä¸ä½¿ç”¨ï¼‰\n- æ–°è¦ã‚³ãƒ³ãƒ†ãƒ³ãƒ„: AIç”Ÿæˆ\n- â†’ APIå‘¼ã³å‡ºã—å‰Šæ¸›\n```\n\n**å¯¾ç­–2: Vertex AIç§»è¡Œ**\n```\n- ã‚ˆã‚Šå®‰å®šã—ãŸä¼æ¥­å‘ã‘API\n- é«˜ã„ã‚¯ã‚©ãƒ¼ã‚¿\n- è©³ç´°ãªãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°\n```\n\n**å¯¾ç­–3: AIç”Ÿæˆã®é¸æŠçš„ä½¿ç”¨**\n```\n- Stage 0: AIä½¿ç”¨ï¼ˆè»½é‡ï¼‰\n- Stage 1: AIä½¿ç”¨ï¼ˆé‡è¦ï¼‰\n- Stage 2: ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹å„ªå…ˆï¼ˆAIæœ€å°åŒ–ï¼‰\n- Stage 3-4: AIä½¿ç”¨ï¼ˆè»½é‡ï¼‰\n```\n\n---\n\n## å­¦ã³\n\n### å­¦ã³1: ç·Šæ€¥å¯¾å¿œã®ç†ç”±ã‚’å¿…ãšè¨˜éŒ²\n\n**æ‚ªã„ä¾‹**:\n```typescript\n// ğŸš« AI APIå‘¼ã³å‡ºã—ã‚’ã‚³ãƒ¡ãƒ³ãƒˆã‚¢ã‚¦ãƒˆ - ç·Šæ€¥å¯¾å¿œ\n```\n\n**è‰¯ã„ä¾‹**:\n```typescript\n// ğŸš« AI APIå‘¼ã³å‡ºã—ã‚’ä¸€æ™‚ç„¡åŠ¹åŒ–ï¼ˆ2025-11-15ï¼‰\n// ç†ç”±: APIã‚¯ã‚©ãƒ¼ã‚¿è¶…éï¼ˆ1500 requests/dayåˆ°é”ï¼‰\n// å¯¾å¿œè€…: @username\n// å¾©æ—§äºˆå®š: 2025-11-18ï¼ˆã‚¯ã‚©ãƒ¼ã‚¿ãƒªã‚»ãƒƒãƒˆå¾Œï¼‰\n// å‚ç…§: issue #123\n```\n\n### å­¦ã³2: ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯æˆ¦ç•¥ã¯å¿…é ˆ\n\nAI APIãŒä½¿ãˆãªã„å ´åˆã®ä»£æ›¿æ‰‹æ®µã‚’å¸¸ã«ç”¨æ„ã€‚\n\n### å­¦ã³3: ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°ã®é‡è¦æ€§\n\nAPIä½¿ç”¨é‡ã€ã‚³ã‚¹ãƒˆã€ã‚¨ãƒ©ãƒ¼ç‡ã‚’å¸¸æ™‚ç›£è¦–ã€‚\n\n---\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- **decision_ai_gemini_2.0_flash_lite_2025_11_25.md**: Geminié¸æŠã¨ã‚³ã‚¹ãƒˆè©¦ç®—\n- **skill_five_stage_ai_pipeline_2025_11_25.md**: ç„¡åŠ¹åŒ–ã•ã‚Œã¦ã„ã‚‹ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³\n\n---\n\n**AIç„¡åŠ¹åŒ–ã¯ã€ã‚·ã‚¹ãƒ†ãƒ ã®ä¾¡å€¤ã‚’æãªã†é‡å¤§å•é¡Œã€‚æ—©æ€¥ãªåŸå› ç‰¹å®šã¨å¾©æ—§ãŒå¿…è¦ã€‚ç·Šæ€¥å¯¾å¿œæ™‚ã¯å¿…ãšç†ç”±ã‚’è¨˜éŒ²ã™ã‚‹ã“ã¨ã€‚**\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€ŒAI APIå‘¼ã³å‡ºã—å…¨é¢ç„¡åŠ¹åŒ–ï¼ˆç·Šæ€¥å¯¾å¿œãƒ»æœªè§£æ±ºï¼‰ã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "decision-ai-gemini-2.0-flash-lite",
      "skill-five-stage-ai-pipeline"
    ]
  },
  {
    "slug": "ai-content-constraints",
    "title": "AIç”Ÿæˆã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®åˆ¶ç´„ã¨å¯¾å‡¦",
    "category": "Failuresï¼ˆå¤±æ•—ãƒ»ãƒˆãƒ©ãƒ–ãƒ«å¯¾å‡¦ï¼‰",
    "description": "AIç”Ÿæˆã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®åˆ¶ç´„ã¨å¯¾å‡¦",
    "project": "ai-document-generator",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"failure_ai_content_constraints_2025_04_11\",\n  \"type\": \"failure\",\n  \"name\": \"AIç”Ÿæˆã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®åˆ¶ç´„ã¨å¯¾å‡¦\",\n  \"tags\": [\"AIç”Ÿæˆ\", \"Gemini API\", \"åˆ¶ç´„\", \"ãƒ¬ãƒ¼ãƒˆåˆ¶é™\", \"å“è³ªå•é¡Œ\", \"æ–‡å­—æ•°åˆ¶é™\"],\n  \"source_project\": \"ai-document-generator\",\n  \"severity\": \"medium\",\n  \"status\": \"acknowledged\",\n  \"related_knowledge\": [\"decision_tech_gemini_api_2025_04_11\", \"skill_dynamic_theme_system_2025_04_11\"],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-04-11\",\n  \"updated\": \"2025-04-11\"\n}\n```\n\n# AIç”Ÿæˆã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®åˆ¶ç´„ã¨å¯¾å‡¦\n\n## ä½•ã‚’è¨˜éŒ²ã™ã‚‹ã‹\n\nAIç”Ÿæˆã‚³ãƒ³ãƒ†ãƒ³ãƒ„ï¼ˆGemini APIï¼‰ã‚’ä½¿ç”¨ã™ã‚‹éš›ã«ç›´é¢ã—ãŸåˆ¶ç´„ã€å•é¡Œã€ãŠã‚ˆã³å¯¾å‡¦æ–¹æ³•ã‚’è¨˜éŒ²ã™ã‚‹ã€‚\n\n## å•é¡Œã®æ¦‚è¦\n\nAIç”Ÿæˆã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã«ã¯ã€ä»¥ä¸‹ã®åˆ¶ç´„ãŒã‚ã‚‹ï¼š\n\n1. **æ–‡å­—æ•°åˆ¶é™**: ç”Ÿæˆã•ã‚Œã‚‹ãƒ†ã‚­ã‚¹ãƒˆãŒé•·ã™ãã‚‹ or çŸ­ã™ãã‚‹\n2. **ãƒ¬ãƒ¼ãƒˆåˆ¶é™**: APIã®å‘¼ã³å‡ºã—å›æ•°åˆ¶é™\n3. **å“è³ªå•é¡Œ**: ç”Ÿæˆã•ã‚Œã‚‹ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®å“è³ªãŒä¸å®‰å®š\n4. **è¨€èªãƒ¢ãƒ‡ãƒ«ã®åˆ¶ç´„**: äº‹å®Ÿèª¤èªã€ãƒãƒ«ã‚·ãƒãƒ¼ã‚·ãƒ§ãƒ³\n5. **ã‚³ã‚¹ãƒˆ**: APIã‚³ãƒ¼ãƒ«ã®ã‚³ã‚¹ãƒˆ\n6. **ãƒ¬ã‚¤ãƒ†ãƒ³ã‚·**: ç”Ÿæˆã«æ™‚é–“ãŒã‹ã‹ã‚‹\n\n## å•é¡Œ1ï¼šæ–‡å­—æ•°åˆ¶é™\n\n### å•é¡Œã®è©³ç´°\n\nAIãŒç”Ÿæˆã™ã‚‹ãƒ†ã‚­ã‚¹ãƒˆãŒã€æŒ‡å®šã—ãŸæ–‡å­—æ•°ã¨ç•°ãªã‚‹ã€‚\n\n**ä¾‹**:\n```\nãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ: ã€Œ20æ–‡å­—ä»¥å†…ã§ã‚­ãƒ£ãƒƒãƒã‚³ãƒ”ãƒ¼ã‚’ç”Ÿæˆã€\nç”Ÿæˆçµæœ: ã€Œé©æ–°çš„ãªã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã§ã€ã‚ãªãŸã®ãƒ“ã‚¸ãƒã‚¹ã‚’æ¬¡ã®ãƒ¬ãƒ™ãƒ«ã¸å°ãã¾ã™ã€‚ã€\nâ†’ 40æ–‡å­—ï¼ˆåˆ¶ç´„é•åï¼‰\n```\n\n### åŸå› \n\n1. **è¨€èªãƒ¢ãƒ‡ãƒ«ã®ç†è§£ä¸è¶³**: ã€Œ20æ–‡å­—ä»¥å†…ã€ã‚’æ­£ç¢ºã«ç†è§£ã§ããªã„\n2. **ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã®æ›–æ˜§ã•**: ã€ŒçŸ­ã„ã€ã€Œç°¡æ½”ã«ã€ãªã©ã®æ›–æ˜§ãªæŒ‡ç¤º\n3. **ãƒˆãƒ¼ã‚¯ãƒ³å˜ä½ã®åˆ¶é™**: æ–‡å­—æ•°ã§ã¯ãªãã€ãƒˆãƒ¼ã‚¯ãƒ³å˜ä½ã§åˆ¶é™\n\n### å¯¾å‡¦æ³•\n\n**å¯¾å‡¦æ³•1ï¼šå…·ä½“çš„ãªãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ**\n\n```typescript\n// æ›–æ˜§ãªãƒ—ãƒ­ãƒ³ãƒ—ãƒˆï¼ˆNGï¼‰\nconst prompt = \"çŸ­ã„ã‚­ãƒ£ãƒƒãƒã‚³ãƒ”ãƒ¼ã‚’ç”Ÿæˆã—ã¦ãã ã•ã„ã€‚\";\n\n// å…·ä½“çš„ãªãƒ—ãƒ­ãƒ³ãƒ—ãƒˆï¼ˆOKï¼‰\nconst prompt = `\nä»¥ä¸‹ã®æ¡ä»¶ã§ã€ã‚­ãƒ£ãƒƒãƒã‚³ãƒ”ãƒ¼ã‚’ç”Ÿæˆã—ã¦ãã ã•ã„ï¼š\n\næ¡ä»¶:\n- 20æ–‡å­—ä»¥å†…ï¼ˆå³å®ˆï¼‰\n- ã²ã‚‰ãŒãªã€ã‚«ã‚¿ã‚«ãƒŠã€æ¼¢å­—ã®ã¿ä½¿ç”¨\n- å¥èª­ç‚¹ã‚’å«ã‚ãªã„\n- 1è¡Œã®ã¿\n\nä¾‹:\n- ã€Œé©æ–°ã‚’åŠ é€Ÿã™ã‚‹ã€ï¼ˆ8æ–‡å­—ï¼‰\n- ã€Œæœªæ¥ã‚’å‰µã‚‹ãƒ†ã‚¯ãƒãƒ­ã‚¸ãƒ¼ã€ï¼ˆ12æ–‡å­—ï¼‰\n\nã‚­ãƒ£ãƒƒãƒã‚³ãƒ”ãƒ¼:\n`;\n```\n\n**å¯¾å‡¦æ³•2ï¼šãƒã‚¹ãƒˆãƒ—ãƒ­ã‚»ã‚¹ï¼ˆæ–‡å­—æ•°ãƒã‚§ãƒƒã‚¯ï¼‰**\n\n```typescript\nasync function generateCatchphrase(maxLength: number): Promise<string> {\n  const prompt = `20æ–‡å­—ä»¥å†…ã§ã‚­ãƒ£ãƒƒãƒã‚³ãƒ”ãƒ¼ã‚’ç”Ÿæˆã—ã¦ãã ã•ã„ã€‚`;\n\n  const result = await callGeminiAPI(prompt);\n\n  // æ–‡å­—æ•°ã‚’ãƒã‚§ãƒƒã‚¯\n  if (result.length > maxLength) {\n    // é•·ã™ãã‚‹å ´åˆã€åˆ‡ã‚Šè©°ã‚ã‚‹\n    return result.substring(0, maxLength) + '...';\n  } else if (result.length < maxLength * 0.5) {\n    // çŸ­ã™ãã‚‹å ´åˆã€å†ç”Ÿæˆ\n    return generateCatchphrase(maxLength);\n  }\n\n  return result;\n}\n```\n\n**å¯¾å‡¦æ³•3ï¼šæ®µéšçš„ãªç”Ÿæˆ**\n\n```typescript\nasync function generateWithLengthControl(prompt: string, targetLength: number): Promise<string> {\n  let result = await callGeminiAPI(prompt);\n\n  // æ–‡å­—æ•°ãŒå¤šã™ãã‚‹å ´åˆã€è¦ç´„\n  if (result.length > targetLength * 1.2) {\n    const summarizePrompt = `ä»¥ä¸‹ã®ãƒ†ã‚­ã‚¹ãƒˆã‚’${targetLength}æ–‡å­—ä»¥å†…ã«è¦ç´„ã—ã¦ãã ã•ã„ï¼š\\n\\n${result}`;\n    result = await callGeminiAPI(summarizePrompt);\n  }\n\n  return result;\n}\n```\n\n**å¯¾å‡¦æ³•4ï¼šã‚·ã‚¹ãƒ†ãƒ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã§ã®åˆ¶ç´„**\n\n```typescript\nconst systemPrompt = `\nã‚ãªãŸã¯ã€ç°¡æ½”ã§åŠ¹æœçš„ãªã‚³ãƒ”ãƒ¼ãƒ©ã‚¤ã‚¿ãƒ¼ã§ã™ã€‚\n\né‡è¦ãªåˆ¶ç´„:\n1. ç”Ÿæˆã™ã‚‹ãƒ†ã‚­ã‚¹ãƒˆã¯ã€æŒ‡å®šã•ã‚ŒãŸæ–‡å­—æ•°ã‚’å¿…ãšå®ˆã£ã¦ãã ã•ã„ã€‚\n2. æ–‡å­—æ•°ã‚’è¶…ãˆã‚‹å ´åˆã€ç”Ÿæˆã‚’ã‚„ã‚Šç›´ã—ã¦ãã ã•ã„ã€‚\n3. æ–‡å­—æ•°ãŒè¶³ã‚Šãªã„å ´åˆã‚‚ã€ç„¡ç†ã«å¼•ãä¼¸ã°ã•ãªã„ã§ãã ã•ã„ã€‚\n`;\n\nconst userPrompt = `20æ–‡å­—ä»¥å†…ã§ã‚­ãƒ£ãƒƒãƒã‚³ãƒ”ãƒ¼ã‚’ç”Ÿæˆã—ã¦ãã ã•ã„ã€‚`;\n\nconst result = await callGeminiAPI(systemPrompt + userPrompt);\n```\n\n## å•é¡Œ2ï¼šãƒ¬ãƒ¼ãƒˆåˆ¶é™\n\n### å•é¡Œã®è©³ç´°\n\nGemini APIã«ã¯ã€å‘¼ã³å‡ºã—å›æ•°åˆ¶é™ãŒã‚ã‚‹ã€‚\n\n**åˆ¶é™**:\n- **ç„¡æ–™ãƒ—ãƒ©ãƒ³**: 60å›/åˆ†\n- **æœ‰æ–™ãƒ—ãƒ©ãƒ³**: 1000å›/åˆ†\n\nè¤‡æ•°ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’åŒæ™‚ã«ç”Ÿæˆã™ã‚‹ã¨ã€ãƒ¬ãƒ¼ãƒˆåˆ¶é™ã«é”ã™ã‚‹ã€‚\n\n**ä¾‹**:\n```typescript\n// 10ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’åŒæ™‚ã«ç”Ÿæˆ\nconst promises = sections.map(section => generateContent(section));\nconst results = await Promise.all(promises);\n\n// â†’ ãƒ¬ãƒ¼ãƒˆåˆ¶é™ã‚¨ãƒ©ãƒ¼\n```\n\n### åŸå› \n\n1. **ä¸¦åˆ—å‡¦ç†**: è¤‡æ•°ã®APIã‚³ãƒ¼ãƒ«ã‚’åŒæ™‚ã«å®Ÿè¡Œ\n2. **ãƒªãƒˆãƒ©ã‚¤ãƒ­ã‚¸ãƒƒã‚¯ã®ä¸è¶³**: ã‚¨ãƒ©ãƒ¼æ™‚ã«ãƒªãƒˆãƒ©ã‚¤ã—ãªã„\n3. **ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®ä¸è¶³**: åŒã˜ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ä½•åº¦ã‚‚ç”Ÿæˆ\n\n### å¯¾å‡¦æ³•\n\n**å¯¾å‡¦æ³•1ï¼šãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚­ãƒ¥ãƒ¼**\n\n```typescript\nclass RateLimitedQueue {\n  private queue: Array<() => Promise<any>> = [];\n  private processing = 0;\n  private maxConcurrent = 5;  // åŒæ™‚ã«5ã¤ã¾ã§\n  private requestsPerMinute = 60;\n  private requestCount = 0;\n  private lastReset = Date.now();\n\n  async add<T>(fn: () => Promise<T>): Promise<T> {\n    return new Promise((resolve, reject) => {\n      this.queue.push(async () => {\n        try {\n          const result = await fn();\n          resolve(result);\n        } catch (error) {\n          reject(error);\n        }\n      });\n\n      this.process();\n    });\n  }\n\n  private async process() {\n    // ãƒ¬ãƒ¼ãƒˆåˆ¶é™ã‚’ãƒã‚§ãƒƒã‚¯\n    const now = Date.now();\n    if (now - this.lastReset > 60000) {\n      // 1åˆ†çµŒéã—ãŸã‚‰ãƒªã‚»ãƒƒãƒˆ\n      this.requestCount = 0;\n      this.lastReset = now;\n    }\n\n    if (this.requestCount >= this.requestsPerMinute) {\n      // ãƒ¬ãƒ¼ãƒˆåˆ¶é™ã«é”ã—ãŸå ´åˆã€å¾…æ©Ÿ\n      const waitTime = 60000 - (now - this.lastReset);\n      await new Promise(resolve => setTimeout(resolve, waitTime));\n      this.requestCount = 0;\n      this.lastReset = Date.now();\n    }\n\n    // ä¸¦åˆ—æ•°ã‚’ãƒã‚§ãƒƒã‚¯\n    if (this.processing >= this.maxConcurrent || this.queue.length === 0) {\n      return;\n    }\n\n    this.processing++;\n    this.requestCount++;\n\n    const task = this.queue.shift();\n    await task();\n\n    this.processing--;\n    this.process();\n  }\n}\n\n// ä½¿ç”¨ä¾‹\nconst queue = new RateLimitedQueue();\n\nconst results = await Promise.all(\n  sections.map(section => queue.add(() => generateContent(section)))\n);\n```\n\n**å¯¾å‡¦æ³•2ï¼šãƒªãƒˆãƒ©ã‚¤ãƒ­ã‚¸ãƒƒã‚¯**\n\n```typescript\nasync function callGeminiAPIWithRetry(\n  prompt: string,\n  maxRetries = 3,\n  retryDelay = 1000\n): Promise<string> {\n  for (let i = 0; i < maxRetries; i++) {\n    try {\n      return await callGeminiAPI(prompt);\n    } catch (error) {\n      if (error.message.includes('rate limit')) {\n        // ãƒ¬ãƒ¼ãƒˆåˆ¶é™ã‚¨ãƒ©ãƒ¼\n        const delay = retryDelay * Math.pow(2, i);  // Exponential backoff\n        console.log(`Rate limit exceeded. Retrying in ${delay}ms...`);\n        await new Promise(resolve => setTimeout(resolve, delay));\n      } else {\n        throw error;\n      }\n    }\n  }\n\n  throw new Error('Max retries exceeded');\n}\n```\n\n**å¯¾å‡¦æ³•3ï¼šã‚­ãƒ£ãƒƒã‚·ãƒ¥**\n\n```typescript\nconst cache = new Map<string, string>();\n\nasync function generateContentWithCache(prompt: string): Promise<string> {\n  // ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ãƒã‚§ãƒƒã‚¯\n  const cacheKey = hashPrompt(prompt);\n  if (cache.has(cacheKey)) {\n    console.log('Cache hit');\n    return cache.get(cacheKey);\n  }\n\n  // APIã‚³ãƒ¼ãƒ«\n  const result = await callGeminiAPI(prompt);\n\n  // ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã«ä¿å­˜\n  cache.set(cacheKey, result);\n\n  return result;\n}\n\nfunction hashPrompt(prompt: string): string {\n  // ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’ãƒãƒƒã‚·ãƒ¥åŒ–ï¼ˆç°¡æ˜“ç‰ˆï¼‰\n  return btoa(prompt);\n}\n```\n\n## å•é¡Œ3ï¼šå“è³ªå•é¡Œ\n\n### å•é¡Œã®è©³ç´°\n\nç”Ÿæˆã•ã‚Œã‚‹ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®å“è³ªãŒä¸å®‰å®šã€‚\n\n**ä¾‹**:\n- æ–‡æ³•ã‚¨ãƒ©ãƒ¼\n- æ„å‘³ä¸æ˜ãªãƒ†ã‚­ã‚¹ãƒˆ\n- ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã«åˆã‚ãªã„å†…å®¹\n- ç¹°ã‚Šè¿”ã—\n\n### åŸå› \n\n1. **ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã®æ›–æ˜§ã•**: ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆãŒä¸è¶³\n2. **æ¸©åº¦è¨­å®š**: å‰µé€ æ€§ãŒé«˜ã™ãã‚‹\n3. **ãƒ¢ãƒ‡ãƒ«ã®åˆ¶ç´„**: è¨€èªãƒ¢ãƒ‡ãƒ«ã®é™ç•Œ\n\n### å¯¾å‡¦æ³•\n\n**å¯¾å‡¦æ³•1ï¼šè©³ç´°ãªãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ**\n\n```typescript\n// æ›–æ˜§ãªãƒ—ãƒ­ãƒ³ãƒ—ãƒˆï¼ˆNGï¼‰\nconst prompt = \"ä¼šç¤¾ã®ç´¹ä»‹æ–‡ã‚’æ›¸ã„ã¦ãã ã•ã„ã€‚\";\n\n// è©³ç´°ãªãƒ—ãƒ­ãƒ³ãƒ—ãƒˆï¼ˆOKï¼‰\nconst prompt = `\nä»¥ä¸‹ã®æƒ…å ±ã‚’ã‚‚ã¨ã«ã€ä¼šç¤¾ã®ç´¹ä»‹æ–‡ã‚’æ›¸ã„ã¦ãã ã•ã„ï¼š\n\nä¼šç¤¾æƒ…å ±:\n- ä¼šç¤¾å: ${companyName}\n- æ¥­ç¨®: ${industry}\n- è¨­ç«‹: ${foundedYear}\n- å¾“æ¥­å“¡æ•°: ${employeeCount}\n- ãƒŸãƒƒã‚·ãƒ§ãƒ³: ${mission}\n\næ¡ä»¶:\n- 100-150æ–‡å­—\n- ãƒ“ã‚¸ãƒã‚¹ãƒ©ã‚¤ã‚¯ãªãƒˆãƒ¼ãƒ³\n- æŠ•è³‡å®¶å‘ã‘\n- å®Ÿç¸¾ã‚’å¼·èª¿\n\nç´¹ä»‹æ–‡:\n`;\n```\n\n**å¯¾å‡¦æ³•2ï¼šæ¸©åº¦è¨­å®šã®èª¿æ•´**\n\n```typescript\n// æ¸©åº¦è¨­å®š\nconst result = await callGeminiAPI(prompt, {\n  temperature: 0.3,  // 0-1ï¼ˆä½ã„ã»ã©ä¿å®ˆçš„ã€é«˜ã„ã»ã©å‰µé€ çš„ï¼‰\n  topP: 0.8,         // ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°ç¯„å›²\n  topK: 40,          // å€™è£œæ•°\n});\n```\n\n**å¯¾å‡¦æ³•3ï¼šè¤‡æ•°å›ç”Ÿæˆã—ã¦é¸æŠ**\n\n```typescript\nasync function generateBestContent(prompt: string, count = 3): Promise<string> {\n  // è¤‡æ•°å›ç”Ÿæˆ\n  const results = await Promise.all(\n    Array.from({ length: count }, () => callGeminiAPI(prompt))\n  );\n\n  // å“è³ªã‚¹ã‚³ã‚¢ã‚’è¨ˆç®—\n  const scored = results.map(result => ({\n    content: result,\n    score: calculateQualityScore(result),\n  }));\n\n  // ã‚¹ã‚³ã‚¢ãŒæœ€ã‚‚é«˜ã„ã‚‚ã®ã‚’é¸æŠ\n  const best = scored.reduce((prev, curr) => (curr.score > prev.score ? curr : prev));\n\n  return best.content;\n}\n\nfunction calculateQualityScore(content: string): number {\n  let score = 100;\n\n  // æ–‡å­—æ•°ãƒã‚§ãƒƒã‚¯\n  if (content.length < 50 || content.length > 200) {\n    score -= 20;\n  }\n\n  // ç¹°ã‚Šè¿”ã—ãƒã‚§ãƒƒã‚¯\n  const words = content.split(/\\s+/);\n  const uniqueWords = new Set(words);\n  if (uniqueWords.size < words.length * 0.7) {\n    score -= 30;\n  }\n\n  // æ–‡æ³•ãƒã‚§ãƒƒã‚¯ï¼ˆç°¡æ˜“ç‰ˆï¼‰\n  if (!/[ã€‚ï¼ï¼Ÿ]$/.test(content)) {\n    score -= 10;\n  }\n\n  return score;\n}\n```\n\n## å•é¡Œ4ï¼šè¨€èªãƒ¢ãƒ‡ãƒ«ã®åˆ¶ç´„\n\n### å•é¡Œã®è©³ç´°\n\nè¨€èªãƒ¢ãƒ‡ãƒ«ã®åˆ¶ç´„ã«ã‚ˆã‚Šã€äº‹å®Ÿèª¤èªã€ãƒãƒ«ã‚·ãƒãƒ¼ã‚·ãƒ§ãƒ³ãŒç™ºç”Ÿã€‚\n\n**ä¾‹**:\n- å­˜åœ¨ã—ãªã„çµ±è¨ˆãƒ‡ãƒ¼ã‚¿ã‚’ç”Ÿæˆ\n- èª¤ã£ãŸäº‹å®Ÿ\n- æœ€æ–°æƒ…å ±ã®ä¸è¶³ï¼ˆãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ãƒ‡ãƒ¼ã‚¿ã®æœŸé™ï¼‰\n\n### åŸå› \n\n1. **ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ãƒ‡ãƒ¼ã‚¿ã®æœŸé™**: æœ€æ–°æƒ…å ±ãŒãªã„\n2. **ãƒãƒ«ã‚·ãƒãƒ¼ã‚·ãƒ§ãƒ³**: è¨€èªãƒ¢ãƒ‡ãƒ«ãŒã€Œãã‚Œã‚‰ã—ã„ã€æƒ…å ±ã‚’ç”Ÿæˆ\n3. **äº‹å®Ÿç¢ºèªã®ä¸è¶³**: ç”Ÿæˆå¾Œã®æ¤œè¨¼ãŒãªã„\n\n### å¯¾å‡¦æ³•\n\n**å¯¾å‡¦æ³•1ï¼šãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ç¢ºèªã‚’ä¿ƒã™**\n\n```tsx\n<GeneratedContent>\n  <p>{aiGeneratedText}</p>\n\n  <Warning>\n    <AlertTriangle className=\"icon\" />\n    <p>\n      ã“ã®å†…å®¹ã¯AIã«ã‚ˆã£ã¦ç”Ÿæˆã•ã‚Œã¾ã—ãŸã€‚\n      äº‹å®Ÿç¢ºèªã‚’ãŠé¡˜ã„ã—ã¾ã™ã€‚\n    </p>\n  </Warning>\n\n  <Button onClick={regenerate}>å†ç”Ÿæˆ</Button>\n  <Button onClick={approve}>æ‰¿èª</Button>\n</GeneratedContent>\n```\n\n**å¯¾å‡¦æ³•2ï¼šä¿¡é ¼æ€§ã‚¹ã‚³ã‚¢ã®è¡¨ç¤º**\n\n```typescript\ninterface GeneratedContent {\n  content: string;\n  confidenceScore: number;  // 0-1ï¼ˆAIã®è‡ªä¿¡åº¦ï¼‰\n  source: string | null;    // æƒ…å ±æº\n}\n\n// ä¿¡é ¼æ€§ã‚¹ã‚³ã‚¢ã‚’è¡¨ç¤º\n<ContentBlock>\n  <p>{content.content}</p>\n\n  <ConfidenceScore value={content.confidenceScore}>\n    {content.confidenceScore > 0.8 ? (\n      <span className=\"high\">é«˜ã„ä¿¡é ¼æ€§</span>\n    ) : content.confidenceScore > 0.5 ? (\n      <span className=\"medium\">ä¸­ç¨‹åº¦ã®ä¿¡é ¼æ€§</span>\n    ) : (\n      <span className=\"low\">ä½ã„ä¿¡é ¼æ€§ - ç¢ºèªãŒå¿…è¦</span>\n    )}\n  </ConfidenceScore>\n</ContentBlock>\n```\n\n**å¯¾å‡¦æ³•3ï¼šäº‹å®Ÿç¢ºèªãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ**\n\n```typescript\nconst verificationPrompt = `\nä»¥ä¸‹ã®å†…å®¹ã«èª¤ã‚ŠãŒãªã„ã‹ç¢ºèªã—ã¦ãã ã•ã„ï¼š\n\n${aiGeneratedContent}\n\nç¢ºèªé …ç›®:\n1. çµ±è¨ˆãƒ‡ãƒ¼ã‚¿ã®æ­£ç¢ºæ€§\n2. æ—¥ä»˜ã€æ•°å€¤ã®æ­£ç¢ºæ€§\n3. äº‹å®Ÿã®æ­£ç¢ºæ€§\n\nèª¤ã‚ŠãŒã‚ã‚‹å ´åˆã€ä¿®æ­£æ¡ˆã‚’æç¤ºã—ã¦ãã ã•ã„ã€‚\n`;\n\nconst verification = await callGeminiAPI(verificationPrompt);\n```\n\n## å•é¡Œ5ï¼šã‚³ã‚¹ãƒˆ\n\n### å•é¡Œã®è©³ç´°\n\nAPIã‚³ãƒ¼ãƒ«ã®ã‚³ã‚¹ãƒˆãŒé«˜é¡ã€‚\n\n**Gemini APIã®æ–™é‡‘**:\n- å…¥åŠ›ãƒˆãƒ¼ã‚¯ãƒ³: $0.00025 / 1000ãƒˆãƒ¼ã‚¯ãƒ³\n- å‡ºåŠ›ãƒˆãƒ¼ã‚¯ãƒ³: $0.001 / 1000ãƒˆãƒ¼ã‚¯ãƒ³\n\nå¤§é‡ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”Ÿæˆã§ã‚³ã‚¹ãƒˆãŒè†¨ã‚‰ã‚€ã€‚\n\n### åŸå› \n\n1. **éå‰°ãªç”Ÿæˆ**: ä¸è¦ãªã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚‚ç”Ÿæˆ\n2. **ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®ä¸è¶³**: åŒã˜ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ä½•åº¦ã‚‚ç”Ÿæˆ\n3. **ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãŒé•·ã™ãã‚‹**: å…¥åŠ›ãƒˆãƒ¼ã‚¯ãƒ³æ•°ãŒå¤šã„\n\n### å¯¾å‡¦æ³•\n\n**å¯¾å‡¦æ³•1ï¼šç”Ÿæˆå›æ•°ã®åˆ¶é™**\n\n```typescript\n// ãƒ¦ãƒ¼ã‚¶ãƒ¼ã”ã¨ã®ç”Ÿæˆå›æ•°ã‚’åˆ¶é™\nconst MAX_GENERATIONS_PER_DAY = 50;\n\nasync function generateWithQuota(userId: string, prompt: string): Promise<string> {\n  const usage = await getUsage(userId);\n\n  if (usage.generationsToday >= MAX_GENERATIONS_PER_DAY) {\n    throw new Error('æœ¬æ—¥ã®ç”Ÿæˆå›æ•°ä¸Šé™ã«é”ã—ã¾ã—ãŸã€‚æ˜æ—¥å†åº¦ãŠè©¦ã—ãã ã•ã„ã€‚');\n  }\n\n  const result = await callGeminiAPI(prompt);\n\n  // ä½¿ç”¨é‡ã‚’è¨˜éŒ²\n  await incrementUsage(userId);\n\n  return result;\n}\n```\n\n**å¯¾å‡¦æ³•2ï¼šã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®æ´»ç”¨**\n\n```typescript\n// åŒã˜ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã®çµæœã‚’ã‚­ãƒ£ãƒƒã‚·ãƒ¥\nconst cache = new Map<string, { content: string; timestamp: number }>();\nconst CACHE_DURATION = 24 * 60 * 60 * 1000;  // 24æ™‚é–“\n\nasync function generateWithCache(prompt: string): Promise<string> {\n  const cacheKey = hashPrompt(prompt);\n  const cached = cache.get(cacheKey);\n\n  if (cached && Date.now() - cached.timestamp < CACHE_DURATION) {\n    return cached.content;\n  }\n\n  const content = await callGeminiAPI(prompt);\n\n  cache.set(cacheKey, { content, timestamp: Date.now() });\n\n  return content;\n}\n```\n\n**å¯¾å‡¦æ³•3ï¼šãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã®æœ€é©åŒ–**\n\n```typescript\n// ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’ç°¡æ½”ã«\nconst verbosePrompt = `\nã‚ãªãŸã¯ãƒ—ãƒ­ã®ã‚³ãƒ”ãƒ¼ãƒ©ã‚¤ã‚¿ãƒ¼ã§ã™ã€‚\nä»¥ä¸‹ã®ä¼šç¤¾æƒ…å ±ã‚’ã‚‚ã¨ã«ã€é­…åŠ›çš„ãªä¼šç¤¾ç´¹ä»‹æ–‡ã‚’æ›¸ã„ã¦ãã ã•ã„ã€‚\nä¼šç¤¾æƒ…å ±: ...\nï¼ˆé•·ã„ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆï¼‰\n`;\n\n// æœ€é©åŒ–ã•ã‚ŒãŸãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ\nconst optimizedPrompt = `\nä¼šç¤¾ç´¹ä»‹æ–‡ã‚’æ›¸ã„ã¦ãã ã•ã„ï¼ˆ100-150æ–‡å­—ï¼‰:\n- ä¼šç¤¾å: ${companyName}\n- æ¥­ç¨®: ${industry}\n`;\n```\n\n## å•é¡Œ6ï¼šãƒ¬ã‚¤ãƒ†ãƒ³ã‚·\n\n### å•é¡Œã®è©³ç´°\n\nAIç”Ÿæˆã«æ™‚é–“ãŒã‹ã‹ã‚‹ï¼ˆ5-10ç§’ï¼‰ã€‚ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ãŒæ‚ªåŒ–ã€‚\n\n### åŸå› \n\n1. **APIã®å¿œç­”æ™‚é–“**: ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ãƒ¬ã‚¤ãƒ†ãƒ³ã‚·\n2. **ç”Ÿæˆæ™‚é–“**: é•·ã„ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®ç”Ÿæˆ\n3. **åŒæœŸå‡¦ç†**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒå¾…ãŸã•ã‚Œã‚‹\n\n### å¯¾å‡¦æ³•\n\n**å¯¾å‡¦æ³•1ï¼šã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°å¿œç­”**\n\n```typescript\nasync function generateWithStreaming(prompt: string, onChunk: (chunk: string) => void) {\n  const response = await fetch('/api/generate', {\n    method: 'POST',\n    body: JSON.stringify({ prompt }),\n  });\n\n  const reader = response.body.getReader();\n  const decoder = new TextDecoder();\n\n  while (true) {\n    const { done, value } = await reader.read();\n\n    if (done) break;\n\n    const chunk = decoder.decode(value);\n    onChunk(chunk);  // éƒ¨åˆ†çš„ãªçµæœã‚’è¡¨ç¤º\n  }\n}\n\n// ä½¿ç”¨ä¾‹\n<GeneratedContent>\n  {content ? (\n    <p>{content}</p>\n  ) : (\n    <p className=\"streaming\">{partialContent}â–‹</p>\n  )}\n</GeneratedContent>\n```\n\n**å¯¾å‡¦æ³•2ï¼šãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ç”Ÿæˆ**\n\n```typescript\n// ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã§ç”Ÿæˆ\nasync function generateInBackground(prompt: string): Promise<string> {\n  // ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ã€Œç”Ÿæˆä¸­ã€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¡¨ç¤º\n  showToast('ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ç”Ÿæˆä¸­...', { duration: Infinity });\n\n  // ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã§ç”Ÿæˆ\n  const result = await callGeminiAPI(prompt);\n\n  // å®Œäº†é€šçŸ¥\n  showToast('ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãŒç”Ÿæˆã•ã‚Œã¾ã—ãŸ', { type: 'success' });\n\n  return result;\n}\n```\n\n**å¯¾å‡¦æ³•3ï¼šãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼**\n\n```tsx\n// ç”Ÿæˆä¸­ã¯ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼ã‚’è¡¨ç¤º\n<ContentBlock>\n  {isGenerating ? (\n    <Skeleton>\n      <div className=\"line\" />\n      <div className=\"line short\" />\n      <div className=\"line\" />\n    </Skeleton>\n  ) : (\n    <p>{content}</p>\n  )}\n</ContentBlock>\n```\n\n## ã¾ã¨ã‚\n\n**AIç”Ÿæˆã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®åˆ¶ç´„**:\n1. **æ–‡å­—æ•°åˆ¶é™**: å…·ä½“çš„ãªãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã€ãƒã‚¹ãƒˆãƒ—ãƒ­ã‚»ã‚¹\n2. **ãƒ¬ãƒ¼ãƒˆåˆ¶é™**: ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚­ãƒ¥ãƒ¼ã€ãƒªãƒˆãƒ©ã‚¤ãƒ­ã‚¸ãƒƒã‚¯ã€ã‚­ãƒ£ãƒƒã‚·ãƒ¥\n3. **å“è³ªå•é¡Œ**: è©³ç´°ãªãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã€æ¸©åº¦è¨­å®šã€è¤‡æ•°å›ç”Ÿæˆ\n4. **è¨€èªãƒ¢ãƒ‡ãƒ«ã®åˆ¶ç´„**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ç¢ºèªã€ä¿¡é ¼æ€§ã‚¹ã‚³ã‚¢ã€äº‹å®Ÿç¢ºèª\n5. **ã‚³ã‚¹ãƒˆ**: ç”Ÿæˆå›æ•°åˆ¶é™ã€ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã€ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆæœ€é©åŒ–\n6. **ãƒ¬ã‚¤ãƒ†ãƒ³ã‚·**: ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°å¿œç­”ã€ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ç”Ÿæˆã€ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼\n\n**é‡è¦ãªåŸå‰‡**:\n- AIç”Ÿæˆã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã¯ã€ã‚ãã¾ã§ã€Œææ¡ˆã€\n- ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒæœ€çµ‚çš„ã«ç¢ºèªãƒ»ç·¨é›†\n- å“è³ªä¿è¨¼ã®ãŸã‚ã€è¤‡æ•°å›ç”Ÿæˆã—ã¦é¸æŠ\n- ã‚³ã‚¹ãƒˆã¨ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã®ãƒãƒ©ãƒ³ã‚¹ã‚’è€ƒæ…®\n\n**ä»Šå¾Œã®æ”¹å–„**:\n- ã‚ˆã‚Šè©³ç´°ãªãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚°\n- ãƒ•ã‚¡ã‚¤ãƒ³ãƒãƒ¥ãƒ¼ãƒ‹ãƒ³ã‚°ãƒ¢ãƒ‡ãƒ«ã®æ´»ç”¨\n- ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã«ã‚ˆã‚‹æ”¹å–„\n- ã‚³ã‚¹ãƒˆæœ€é©åŒ–ã®ãŸã‚ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥æˆ¦ç•¥\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€ŒAIç”Ÿæˆã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®åˆ¶ç´„ã¨å¯¾å‡¦ã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "decision-tech-gemini-api",
      "skill-dynamic-theme-system"
    ]
  },
  {
    "slug": "api-cost-issue-openai-to-gemini",
    "title": "OpenAI APIã‚³ã‚¹ãƒˆå•é¡Œã¨Geminiã¸ã®ç§»è¡Œ",
    "category": "Failuresï¼ˆå¤±æ•—ãƒ»ãƒˆãƒ©ãƒ–ãƒ«å¯¾å‡¦ï¼‰",
    "description": "OpenAI APIã‚³ã‚¹ãƒˆå•é¡Œã¨Geminiã¸ã®ç§»è¡Œ",
    "project": "ai-blog-generator",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"failure_api_cost_issue_openai_to_gemini_2025_04_22\",\n  \"type\": \"failure\",\n  \"name\": \"OpenAI APIã‚³ã‚¹ãƒˆå•é¡Œã¨Geminiã¸ã®ç§»è¡Œ\",\n  \"problem_type\": \"cost\",\n  \"tags\": [\"ã‚³ã‚¹ãƒˆ\", \"API\", \"OpenAI\", \"Gemini\", \"ç§»è¡Œ\"],\n  \"source_project\": \"ai-blog-generator\",\n  \"related_knowledge\": [\"decision_tech_gemini_vs_gpt4_2025_04_22\"],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-04-22\",\n  \"updated\": \"2025-04-22\"\n}\n```\n\n# OpenAI APIã‚³ã‚¹ãƒˆå•é¡Œã¨Geminiã¸ã®ç§»è¡Œ\n\n## ä½•ãŒå•é¡Œã ã£ãŸã‹\n\nOpenAI GPT-4 ã‚’ä½¿ç”¨ã—ã¦ãƒ–ãƒ­ã‚°è¨˜äº‹ã‚’ç”Ÿæˆã—ã¦ã„ãŸãŒã€ã‚³ã‚¹ãƒˆãŒé«˜ã™ãã¦æŒç¶šä¸å¯èƒ½ã ã£ãŸã€‚\n\n## çŠ¶æ³\n\nãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåˆæœŸï¼šOpenAI GPT-4 ã§æ¯æ—¥1è¨˜äº‹ã‚’è‡ªå‹•ç”Ÿæˆã—ã¦ã„ãŸã€‚\n\n**è¨¼æ‹ **ï¼š`.env.local` ã«ä¸¡æ–¹ã®APIã‚­ãƒ¼ãŒæ®‹ã£ã¦ã„ã‚‹ã€‚\n\n## ä½•ã‚’ã—ã‚ˆã†ã¨ã—ãŸã‹\n\nGPT-4 ã§é«˜å“è³ªãªãƒ–ãƒ­ã‚°è¨˜äº‹ã‚’ç¶™ç¶šçš„ã«ç”Ÿæˆã™ã‚‹ã€‚\n\n## ä½•ãŒå•é¡Œã ã£ãŸã‹\n\næœˆé–“ã‚³ã‚¹ãƒˆ: $2.70\nè¤‡æ•°ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆé‹ç”¨: $10-20/æœˆ\nâ†’ å€‹äººé–‹ç™ºã«ã¯é«˜ã™ãã‚‹\n\n## ãªãœå¤±æ•—ã—ãŸã‹\n\näº‹å‰ã®ã‚³ã‚¹ãƒˆè¨ˆç®—ä¸è¶³ã€‚ã€Œæœ€é«˜å“è³ªã€ã‚’å„ªå…ˆã—ã¦ã‚³ã‚¹ãƒˆã‚’è»½è¦–ã—ãŸã€‚\n\n## ã©ã†è§£æ±ºã—ãŸã‹\n\nGemini 1.5 Pro ã«ç§»è¡Œï¼š\n- æœˆé–“ã‚³ã‚¹ãƒˆ: $0.27ï¼ˆ1/10ï¼‰\n- å“è³ª: GPT-4ã®90%ï¼ˆååˆ†ï¼‰\n\n## å­¦ã‚“ã ã“ã¨\n\n1. æœ€åˆã«ã‚³ã‚¹ãƒˆã‚’è¨ˆç®—ã™ã‚‹\n2. ã€Œæœ€é«˜å“è³ªã€ã‚ˆã‚Šã€Œååˆ†ãªå“è³ª+æŒç¶šå¯èƒ½æ€§ã€\n3. æ®µéšçš„ã«ç§»è¡Œã™ã‚‹ï¼ˆä¸¦è¡Œç¨¼åƒâ†’ãƒ†ã‚¹ãƒˆâ†’å®Œå…¨ç§»è¡Œï¼‰\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `decision_tech_gemini_vs_gpt4_2025_04_22.md`\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€ŒOpenAI APIã‚³ã‚¹ãƒˆå•é¡Œã¨Geminiã¸ã®ç§»è¡Œã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "decision-tech-gemini-vs-gpt4"
    ]
  },
  {
    "slug": "api-quota-exceeded-crisis",
    "title": "Google Sheets APIã‚¯ã‚©ãƒ¼ã‚¿è¶…éå±æ©Ÿ ğŸš¨",
    "category": "Failuresï¼ˆå¤±æ•—ãƒ»ãƒˆãƒ©ãƒ–ãƒ«å¯¾å‡¦ï¼‰",
    "description": "Google Sheets APIã‚¯ã‚©ãƒ¼ã‚¿è¶…éå±æ©Ÿ",
    "project": "yumesuta-management-system",
    "usedIn": [
      "docs/development/API-OPTIMIZATION-PLAN.md"
    ],
    "code": "```json\n{\n  \"id\": \"failure_api_quota_exceeded_crisis_2025_11_24\",\n  \"type\": \"failure\",\n  \"name\": \"Google Sheets APIã‚¯ã‚©ãƒ¼ã‚¿è¶…éå±æ©Ÿ\",\n  \"problem_type\": \"performance\",\n  \"tags\": [\"Google Sheets API\", \"ã‚¯ã‚©ãƒ¼ã‚¿\", \"ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹\", \"ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£\", \"APIæœ€é©åŒ–\", \"æœªè§£æ±º\"],\n  \"source_project\": \"yumesuta-management-system\",\n  \"source_file\": \"docs/development/API-OPTIMIZATION-PLAN.md\",\n  \"related_knowledge\": [\n    \"skill_google_sheets_cache_implementation_2025_11_24\",\n    \"skill_google_sheets_batch_fetch_2025_11_24\",\n    \"decision_cache_5min_ttl_strategy_2025_11_24\"\n  ],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-24\",\n  \"updated\": \"2025-11-24\",\n  \"severity\": \"critical\",\n  \"status\": \"æœªè§£æ±ºï¼ˆPhase 2ã§å¯¾å¿œäºˆå®šï¼‰\"\n}\n```\n\n# Google Sheets APIã‚¯ã‚©ãƒ¼ã‚¿è¶…éå±æ©Ÿ ğŸš¨\n\n## ä½•ãŒå•é¡Œã ã£ãŸã‹\n\n**ã‚†ã‚ã‚¹ã‚¿çµ±åˆãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚·ã‚¹ãƒ†ãƒ ã®æ±ºç®—æ›¸ãƒšãƒ¼ã‚¸ã‚’1å›æ›´æ–°ã™ã‚‹ã¨ã€36å›ã®Google Sheets APIãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒç™ºç”Ÿã—ã€Google Cloudã®åˆ¶é™ï¼ˆ60ãƒªã‚¯ã‚¨ã‚¹ãƒˆ/åˆ†ï¼‰ã«é”ã—ã¦ã—ã¾ã†ã€‚**\n\nãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒ2ãƒšãƒ¼ã‚¸æ›´æ–°ã™ã‚‹ã ã‘ã§ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“ãŒä½¿ç”¨ä¸èƒ½ã«ãªã‚‹é‡å¤§ãªå•é¡Œã€‚\n\n---\n\n## çŠ¶æ³\n\n### ç™ºç”Ÿæ™‚æœŸ\n2025å¹´10æœˆ19æ—¥ã€Phase 1-2-2ï¼ˆæ±ºç®—æ›¸ã‚·ã‚¹ãƒ†ãƒ å®Œå…¨ç‰ˆï¼‰å®Ÿè£…å®Œäº†å¾Œã«ç™ºè¦šã€‚\n\n### å½±éŸ¿ç¯„å›²\n- **æ±ºç®—æ›¸ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰**: 1å›ã®ã€Œæ›´æ–°ã€ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯ã§36ãƒªã‚¯ã‚¨ã‚¹ãƒˆ\n- **ä»–ã®ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰**: å„ãƒšãƒ¼ã‚¸ã§3-10ãƒªã‚¯ã‚¨ã‚¹ãƒˆ\n- **åˆè¨ˆ**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒ3-4ãƒšãƒ¼ã‚¸ã‚’é€£ç¶šæ›´æ–°ã™ã‚‹ã¨å³åº§ã«ã‚¯ã‚©ãƒ¼ã‚¿è¶…éã‚¨ãƒ©ãƒ¼\n\n### ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸\n```\nError: Quota exceeded for quota metric 'Read requests' and limit 'Read requests per minute per user'\n```\n\n### åˆ¶é™å€¤\n- **Google Sheets APIåˆ¶é™**: 60ãƒªã‚¯ã‚¨ã‚¹ãƒˆ/åˆ†/ãƒ¦ãƒ¼ã‚¶ãƒ¼\n- **ç¾çŠ¶ã®æ¶ˆè²»**: æ±ºç®—æ›¸ãƒšãƒ¼ã‚¸1å›æ›´æ–° = 36ãƒªã‚¯ã‚¨ã‚¹ãƒˆ\n- **è¨±å®¹å›æ•°**: 1åˆ†é–“ã«1.6å›ã—ã‹æ›´æ–°ã§ããªã„\n\n---\n\n## ä½•ã‚’ã—ã‚ˆã†ã¨ã—ãŸã‹\n\nPhase 1-2-2ã§ä»¥ä¸‹ã®æ©Ÿèƒ½ã‚’å®Ÿè£…ï¼š\n1. **æ±ºç®—æ›¸ãƒ‡ãƒ¼ã‚¿è¡¨ç¤º**ï¼ˆP/Lã€B/Sã€C/Fï¼‰\n2. **P/Læ¯”ç‡è¨ˆç®—**ï¼ˆå£²ä¸Šæ¯”ç‡ã€çµŒè²»æ¯”ç‡ï¼‰\n3. **å°†æ¥äºˆæ¸¬ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³**ï¼ˆå£²ä¸Šæ¯”ç‡ãƒ™ãƒ¼ã‚¹ + æœ€ä½é‡‘é¡ãƒ™ãƒ¼ã‚¹ï¼‰\n4. **ç¨é‡‘æ”¯æ‰•è¨­å®š**ï¼ˆæ³•äººç¨ãƒ»æ¶ˆè²»ç¨ã®ç¢ºå®šãƒ»ä¸­é–“ç´ç¨ï¼‰\n\nã“ã‚Œã‚‰ã™ã¹ã¦ã®ãƒ‡ãƒ¼ã‚¿ã‚’å€‹åˆ¥ã®APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã§å–å¾—ã™ã‚‹è¨­è¨ˆã«ã—ãŸçµæœã€åŒã˜ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã‚’ä½•åº¦ã‚‚èª­ã¿å–ã‚‹æ§‹é€ ã«ãªã£ã¦ã—ã¾ã£ãŸã€‚\n\n---\n\n## ãªãœå¤±æ•—ã—ãŸã‹\n\n### æ ¹æœ¬åŸå› \n\n#### 1. **ãƒ‡ãƒ¼ã‚¿å–å¾—ã®é‡è¤‡**\nåŒã˜ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã€Œå¥‘ç´„ãƒ»å…¥é‡‘ç®¡ç†ã€ã‚·ãƒ¼ãƒˆã‚’ã€ç•°ãªã‚‹APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã‹ã‚‰**6å›**èª­ã¿å–ã£ã¦ã„ã‚‹ã€‚\n\n**é‡è¤‡ç®‡æ‰€**:\n- `/api/financial-statements/cf-details` - å¥‘ç´„ãƒ»å…¥é‡‘ç®¡ç†ã‚·ãƒ¼ãƒˆï¼ˆå…¨è¡Œå–å¾—ï¼‰\n- `/api/financial-statements/all` - åŒã˜ã‚·ãƒ¼ãƒˆã‚’å†åº¦å–å¾—\n- `/api/expenditures/list` - åŒã˜ã‚·ãƒ¼ãƒˆã®ä¸€éƒ¨ã‚’å–å¾—\n- `/api/fixed-costs/list` - åŒã˜ã‚·ãƒ¼ãƒˆã®åˆ¥ã®ç¯„å›²ã‚’å–å¾—\n- ä»–ã®æ±ºç®—æ›¸é–¢é€£APIã§ã‚‚åŒæ§˜ã«å–å¾—\n\n#### 2. **APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã®éå‰°ãªåˆ†å‰²**\næ©Ÿèƒ½ã”ã¨ã«APIã‚’åˆ†ã‘ã™ããŸçµæœã€å„ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆãŒç‹¬ç«‹ã—ã¦ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã™ã‚‹æ§‹é€ ã«ãªã£ãŸã€‚\n\n**æ±ºç®—æ›¸ãƒšãƒ¼ã‚¸ãŒå‘¼ã³å‡ºã™API**:\n```typescript\n// ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ï¼ˆ/app/dashboard/financial-statements/page.tsxï¼‰\nconst cfData = await fetch('/api/financial-statements/cf-details');        // 1-6ãƒªã‚¯ã‚¨ã‚¹ãƒˆ\nconst plData = await fetch('/api/financial-statements/all');               // 6-12ãƒªã‚¯ã‚¨ã‚¹ãƒˆ\nconst expenditures = await fetch('/api/expenditures/list');                // 3-5ãƒªã‚¯ã‚¨ã‚¹ãƒˆ\nconst fixedCosts = await fetch('/api/fixed-costs/list');                   // 2-4ãƒªã‚¯ã‚¨ã‚¹ãƒˆ\nconst simulations = await fetch('/api/financial-statements/future-prediction'); // 8-10ãƒªã‚¯ã‚¨ã‚¹ãƒˆ\n\n// åˆè¨ˆ: 20-37ãƒªã‚¯ã‚¨ã‚¹ãƒˆ\n```\n\n#### 3. **è¨ˆç®—ãƒ­ã‚¸ãƒƒã‚¯ãŒAPIå†…éƒ¨ã«åŸ‹ã‚è¾¼ã¾ã‚Œã¦ã„ã‚‹**\nå„APIãŒã€Œãƒ‡ãƒ¼ã‚¿å–å¾— + è¨ˆç®—ã€ã‚’åŒæ™‚ã«è¡Œã†ãŸã‚ã€è¨ˆç®—ã‚’å†åˆ©ç”¨ã§ããšã€ãƒ‡ãƒ¼ã‚¿ã‚’å†å–å¾—ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã€‚\n\n**ä¾‹**: P/Læ¯”ç‡è¨ˆç®—\n```typescript\n// /api/financial-statements/all ã§å£²ä¸Šãƒ‡ãƒ¼ã‚¿å–å¾—\nconst salesData = await getSheetData(spreadsheetId, 'å¥‘ç´„ãƒ»å…¥é‡‘ç®¡ç†!A:AH');\n\n// /api/financial-statements/future-prediction ã§ã‚‚åŒã˜ãƒ‡ãƒ¼ã‚¿ã‚’å†å–å¾—\nconst salesDataForPrediction = await getSheetData(spreadsheetId, 'å¥‘ç´„ãƒ»å…¥é‡‘ç®¡ç†!A:AH');\n```\n\n#### 4. **ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãŒã‚ã£ã¦ã‚‚åˆå›ã‚¢ã‚¯ã‚»ã‚¹æ™‚ã«å¤§é‡ãƒªã‚¯ã‚¨ã‚¹ãƒˆ**\n5åˆ†TTLã‚­ãƒ£ãƒƒã‚·ãƒ¥ã¯å®Ÿè£…ã•ã‚Œã¦ã„ã‚‹ãŒã€ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãŒç©ºã®çŠ¶æ…‹ï¼ˆãƒšãƒ¼ã‚¸ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ç›´å¾Œï¼‰ã§ã¯å…¨ãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒAPIã«é€ä¿¡ã•ã‚Œã‚‹ã€‚\n\n---\n\n## ã©ã†è§£æ±ºã™ã‚‹ã‹ï¼ˆPhase 2è¨ˆç”»ï¼‰\n\n### è§£æ±ºç­–ã®å…¨ä½“åƒ\n\n**ç›®æ¨™**: æ±ºç®—æ›¸ãƒšãƒ¼ã‚¸æ›´æ–°ã‚’**36ãƒªã‚¯ã‚¨ã‚¹ãƒˆ â†’ 5ãƒªã‚¯ã‚¨ã‚¹ãƒˆï¼ˆ86%å‰Šæ¸›ï¼‰**\n\n### Phase 2-1: çµ±åˆAPIå®Ÿè£…ï¼ˆãƒ‡ãƒ¼ã‚¿å–å¾—ã®ä¸€å…ƒåŒ–ï¼‰\n\n#### æ–°ã—ã„ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ\n```typescript\n// /api/financial-statements/all\nexport async function GET() {\n  // 1å›ã®APIå‘¼ã³å‡ºã—ã§å…¨ãƒ‡ãƒ¼ã‚¿å–å¾—\n  const allData = await getBatchSheetData(spreadsheetId, [\n    'å¥‘ç´„ãƒ»å…¥é‡‘ç®¡ç†!A:AH',\n    'æ”¯å‡ºç®¡ç†!A:Z',\n    'å›ºå®šè²»!A:F',\n    'ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³è¨­å®š!A:D',\n    'ç¨é‡‘æ”¯æ‰•è¨­å®š!A:G'\n  ]);\n\n  // ãƒ‡ãƒ¼ã‚¿ã‚’ãƒ‘ãƒ¼ã‚¹ã—ã¦è¿”ã™\n  return {\n    contracts: parseContracts(allData[0]),\n    expenditures: parseExpenditures(allData[1]),\n    fixedCosts: parseFixedCosts(allData[2]),\n    simulations: parseSimulations(allData[3]),\n    taxSettings: parseTaxSettings(allData[4])\n  };\n}\n```\n\n**ãƒ¡ãƒªãƒƒãƒˆ**:\n- 5ã‚·ãƒ¼ãƒˆå–å¾—ãŒ**5ãƒªã‚¯ã‚¨ã‚¹ãƒˆ**ï¼ˆãƒãƒƒãƒAPIä½¿ç”¨ï¼‰\n- ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã¯1å›ã®fetchå‘¼ã³å‡ºã—ã®ã¿\n- è¨ˆç®—ãƒ­ã‚¸ãƒƒã‚¯ã‚’ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã«ç§»å‹•å¯èƒ½\n\n#### è¨ˆç®—é–¢æ•°ã®åˆ†é›¢\n```typescript\n// lib/financial-calculations.tsï¼ˆæ–°è¦ä½œæˆï¼‰\nexport function calculatePLRatio(salesData, expenditureData) {\n  // ãƒ‡ãƒ¼ã‚¿ã‚’å—ã‘å–ã£ã¦è¨ˆç®—ã®ã¿è¡Œã†\n  // APIå‘¼ã³å‡ºã—ã¯è¡Œã‚ãªã„\n}\n\nexport function predictFutureCashFlow(contractsData, settingsData) {\n  // äºˆæ¸¬è¨ˆç®—ã®ã¿\n}\n```\n\n**ãƒ¡ãƒªãƒƒãƒˆ**:\n- ãƒ‡ãƒ¼ã‚¿å–å¾—ã¨è¨ˆç®—ãŒåˆ†é›¢ã•ã‚Œã‚‹\n- åŒã˜ãƒ‡ãƒ¼ã‚¿ã‚’ä½¿ã£ã¦è¤‡æ•°ã®è¨ˆç®—ãŒå¯èƒ½\n- ãƒ†ã‚¹ãƒˆå®¹æ˜“æ€§å‘ä¸Š\n\n### Phase 2-2: ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ã‚­ãƒ£ãƒƒã‚·ãƒ¥å¼·åŒ–\n\n#### `node-cache`ã®å°å…¥\n```bash\nnpm install node-cache\n```\n\n```typescript\n// lib/server-cache.tsï¼ˆæ–°è¦ä½œæˆï¼‰\nimport NodeCache from 'node-cache';\n\nconst cache = new NodeCache({\n  stdTTL: 300, // 5åˆ†\n  checkperiod: 60, // 1åˆ†ã”ã¨ã«ãƒã‚§ãƒƒã‚¯\n  useClones: false // ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å‘ä¸Š\n});\n\nexport function getCachedData(key: string) {\n  return cache.get(key);\n}\n\nexport function setCachedData(key: string, data: any) {\n  cache.set(key, data);\n}\n\nexport function clearCachedData(key?: string) {\n  if (key) {\n    cache.del(key);\n  } else {\n    cache.flushAll();\n  }\n}\n```\n\n**ãƒ¡ãƒªãƒƒãƒˆ**:\n- ãƒ¡ãƒ¢ãƒªåŠ¹ç‡çš„ãªã‚­ãƒ£ãƒƒã‚·ãƒ¥\n- è‡ªå‹•çš„ãªæœ‰åŠ¹æœŸé™ç®¡ç†\n- ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚¯ãƒªã‚¢APIå®Ÿè£…å¯èƒ½\n\n#### ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚¯ãƒªã‚¢API\n```typescript\n// /api/debug/cache/clear\nexport async function POST() {\n  clearCachedData();\n  return { success: true, message: 'Cache cleared' };\n}\n```\n\n**ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“**:\n- ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã«ã€Œã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚¯ãƒªã‚¢ã€ãƒœã‚¿ãƒ³è¿½åŠ \n- Google Sheetsã‚’æ›´æ–°ã—ãŸç›´å¾Œã«ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯\n- æ–°ã—ã„ãƒ‡ãƒ¼ã‚¿ãŒå³åº§ã«åæ˜ ã•ã‚Œã‚‹\n\n### Phase 2-3: ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®å¤‰æ›´\n\n#### Beforeï¼ˆç¾çŠ¶ï¼‰\n```typescript\n// è¤‡æ•°ã®APIå‘¼ã³å‡ºã—\nconst cfData = await fetch('/api/financial-statements/cf-details');\nconst plData = await fetch('/api/financial-statements/all');\nconst expenditures = await fetch('/api/expenditures/list');\nconst fixedCosts = await fetch('/api/fixed-costs/list');\nconst simulations = await fetch('/api/financial-statements/future-prediction');\n\n// 36ãƒªã‚¯ã‚¨ã‚¹ãƒˆç™ºç”Ÿ\n```\n\n#### Afterï¼ˆPhase 2ï¼‰\n```typescript\n// 1å›ã®APIå‘¼ã³å‡ºã—\nconst allData = await fetch('/api/financial-statements/all');\n\n// ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã§è¨ˆç®—\nconst plRatio = calculatePLRatio(allData.contracts, allData.expenditures);\nconst prediction = predictFutureCashFlow(allData.contracts, allData.simulations);\n\n// 5ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®ã¿\n```\n\n---\n\n## æœ€é©åŒ–ã®åŠ¹æœäºˆæ¸¬\n\n### ãƒªã‚¯ã‚¨ã‚¹ãƒˆæ•°ã®å‰Šæ¸›\n\n| ãƒšãƒ¼ã‚¸ | Before | After | å‰Šæ¸›ç‡ |\n|--------|--------|-------|--------|\n| æ±ºç®—æ›¸ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ | 36 | 5 | 86% |\n| æ”¯å‡ºç®¡ç† | 8 | 3 | 62% |\n| å›ºå®šè²»ç®¡ç† | 5 | 2 | 60% |\n| å–¶æ¥­é€²æ— | 6 | 3 | 50% |\n| **åˆè¨ˆï¼ˆå…¨ãƒšãƒ¼ã‚¸ï¼‰** | **55** | **13** | **76%** |\n\n### ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ã®æ”¹å–„\n\n- **Before**: 1åˆ†é–“ã«1.6å›ã—ã‹æ›´æ–°ã§ããªã„ â†’ **å®Ÿè³ªä½¿ç”¨ä¸èƒ½**\n- **After**: 1åˆ†é–“ã«12å›æ›´æ–°å¯èƒ½ â†’ **å¿«é©ã«ä½¿ç”¨å¯èƒ½**\n\n### ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£\n\n- **Before**: ãƒ¦ãƒ¼ã‚¶ãƒ¼1åã§ã‚‚ã‚¯ã‚©ãƒ¼ã‚¿è¶…éãƒªã‚¹ã‚¯\n- **After**: ãƒ¦ãƒ¼ã‚¶ãƒ¼5-10åã®åŒæ™‚ä½¿ç”¨ã§ã‚‚å•é¡Œãªã—\n\n---\n\n## å­¦ã‚“ã ã“ã¨\n\n### æ•™è¨“1: **APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆè¨­è¨ˆã¯å…¨ä½“æœ€é©ã‚’è€ƒãˆã‚‹**\n\nå€‹åˆ¥æ©Ÿèƒ½ã”ã¨ã«APIã‚’åˆ†ã‘ã‚‹ã®ã¯è‰¯ã„ãŒã€ãƒ‡ãƒ¼ã‚¿å–å¾—ã¯çµ±åˆã™ã¹ãã€‚\n\n**åŸå‰‡**:\n- ãƒ‡ãƒ¼ã‚¿å–å¾—ã¯ã€Œãƒªã‚½ãƒ¼ã‚¹å˜ä½ã€ã§çµ±åˆ\n- è¨ˆç®—ãƒ»åŠ å·¥ã¯ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å±¤ã§è¡Œã†\n- API Routeã¯ãƒ‡ãƒ¼ã‚¿å¤‰æ›å±¤ã«å¾¹ã™ã‚‹\n\n### æ•™è¨“2: **å¤–éƒ¨APIä¾å­˜ã®ã‚·ã‚¹ãƒ†ãƒ ã¯å¿…ãšã‚¯ã‚©ãƒ¼ã‚¿ç›£è¦–ã‚’å®Ÿè£…**\n\né–‹ç™ºåˆæœŸã‹ã‚‰ãƒªã‚¯ã‚¨ã‚¹ãƒˆæ•°ã‚’ã‚«ã‚¦ãƒ³ãƒˆã—ã€è­¦å‘Šã‚’å‡ºã™ä»•çµ„ã¿ãŒå¿…è¦ã ã£ãŸã€‚\n\n**å®Ÿè£…ã™ã¹ãã ã£ãŸã‚‚ã®**:\n```typescript\n// ãƒªã‚¯ã‚¨ã‚¹ãƒˆæ•°ç›£è¦–\nif (requestCount > 50) {\n  console.warn('âš ï¸ API request count approaching limit: ', requestCount);\n}\n\n// ã‚¯ã‚©ãƒ¼ã‚¿è¶…éå‰ã«ã‚¢ãƒ©ãƒ¼ãƒˆ\nif (requestCount > 55) {\n  throw new Error('API quota limit approaching. Please wait before refreshing.');\n}\n```\n\n### æ•™è¨“3: **MVPå®Œæˆå¾Œã‚‚ç¶™ç¶šçš„ãªãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç›£è¦–ãŒå¿…è¦**\n\nPhase 1-2-1ï¼ˆå–¶æ¥­é€²æ—ï¼‰ã§ã¯å•é¡Œãªã‹ã£ãŸãŒã€Phase 1-2-2ï¼ˆæ±ºç®—æ›¸ï¼‰ã§çªç„¶ã‚¯ã‚©ãƒ¼ã‚¿è¶…éã€‚\n\n**åŸå› **: æ©Ÿèƒ½è¿½åŠ ã”ã¨ã«APIãƒªã‚¯ã‚¨ã‚¹ãƒˆæ•°ãŒå¢—åŠ ã—ã¦ã„ã‚‹ã“ã¨ã«æ°—ã¥ã‹ãªã‹ã£ãŸã€‚\n\n**å¯¾ç­–**: å„Phaseå®Œäº†æ™‚ã«ãƒªã‚¯ã‚¨ã‚¹ãƒˆæ•°ã‚’æ¸¬å®šã—ã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆåŒ–ã™ã‚‹ã€‚\n\n### æ•™è¨“4: **ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã ã‘ã§ã¯æ ¹æœ¬è§£æ±ºã«ãªã‚‰ãªã„**\n\n5åˆ†TTLã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’å®Ÿè£…ã—ã¦ã„ãŸãŒã€åˆå›ã‚¢ã‚¯ã‚»ã‚¹æ™‚ã«ã¯å…¨ãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒç™ºç”Ÿã™ã‚‹ã€‚\n\n**æ ¹æœ¬è§£æ±º**: ãƒ‡ãƒ¼ã‚¿å–å¾—ã®é‡è¤‡ã‚’æ’é™¤ã™ã‚‹è¨­è¨ˆãŒå¿…è¦ã€‚\n\n---\n\n## æ¬¡å›ã©ã†é¿ã‘ã‚‹ã‹\n\n### è¨­è¨ˆãƒ•ã‚§ãƒ¼ã‚º\n\n1. **APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆè¨­è¨ˆæ™‚ã«ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼å›³ã‚’ä½œæˆ**\n   - ã©ã®APIãŒã©ã®ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã‚’èª­ã‚€ã‹å¯è¦–åŒ–\n   - é‡è¤‡ç®‡æ‰€ã‚’äº‹å‰ã«ç‰¹å®š\n\n2. **ã‚¯ã‚©ãƒ¼ã‚¿åˆ¶é™ã‚’è¨­è¨ˆåˆ¶ç´„ã¨ã—ã¦çµ„ã¿è¾¼ã‚€**\n   - ã€Œ60ãƒªã‚¯ã‚¨ã‚¹ãƒˆ/åˆ†ã€ã‚’ãƒãƒ¼ãƒ‰åˆ¶ç´„ã¨ã—ã¦æ‰±ã†\n   - APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆæ•° Ã— å¹³å‡ãƒªã‚¯ã‚¨ã‚¹ãƒˆæ•°ã‚’äº‹å‰è¨ˆç®—\n\n3. **è¨ˆç®—ãƒ­ã‚¸ãƒƒã‚¯ã¨ãƒ‡ãƒ¼ã‚¿å–å¾—ã‚’åˆ†é›¢**\n   - API Routeã¯ãƒ‡ãƒ¼ã‚¿å–å¾—ã®ã¿\n   - è¨ˆç®—ã¯`lib/`ä»¥ä¸‹ã®ç´”ç²‹é–¢æ•°ã§å®Ÿè£…\n\n### å®Ÿè£…ãƒ•ã‚§ãƒ¼ã‚º\n\n4. **ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ã‚’å¿…ãšå®Ÿè£…**\n   - å…¨APIå‘¼ã³å‡ºã—ã‚’ãƒ­ã‚°\n   - `/api/debug/request-count`ã§å¯è¦–åŒ–\n\n5. **ãƒãƒƒãƒAPIå–å¾—ã‚’å„ªå…ˆä½¿ç”¨**\n   - è¤‡æ•°ç¯„å›²å–å¾—æ™‚ã¯`getBatchSheetData()`ã‚’ä½¿ç”¨\n   - å˜ä¸€ç¯„å›²å–å¾—ã¯æœ€å°é™ã«\n\n6. **ã‚­ãƒ£ãƒƒã‚·ãƒ¥æˆ¦ç•¥ã‚’æ˜ç¢ºåŒ–**\n   - ã©ã®ãƒ‡ãƒ¼ã‚¿ã‚’ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã™ã‚‹ã‹å®šç¾©\n   - ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚¯ãƒªã‚¢ã®ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã‚’è¨­è¨ˆ\n\n### ãƒ†ã‚¹ãƒˆãƒ•ã‚§ãƒ¼ã‚º\n\n7. **è² è·ãƒ†ã‚¹ãƒˆå®Ÿæ–½**\n   - 1åˆ†é–“ã«è¤‡æ•°ãƒšãƒ¼ã‚¸ã‚’é€£ç¶šæ›´æ–°ã—ã¦ã‚¯ã‚©ãƒ¼ã‚¿è¶…éã‚’ãƒ†ã‚¹ãƒˆ\n   - ãƒ¦ãƒ¼ã‚¶ãƒ¼æ•°ã‚¹ã‚±ãƒ¼ãƒ«æ™‚ã®ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³\n\n---\n\n## é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ\n\n- **å®Œå…¨æœ€é©åŒ–è¨ˆç”»æ›¸**: `/docs/development/API-OPTIMIZATION-PLAN.md`ï¼ˆ100è¡Œä»¥ä¸Šï¼‰\n- **é–‹ç™ºé€²æ—ç®¡ç†**: `/docs/development/development-progress.md`ï¼ˆlines 9-48ï¼‰\n- **ã‚³ãƒ¼ãƒ‰**: `lib/google-sheets.ts`ï¼ˆãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ lines 9-40ï¼‰\n\n---\n\n## ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹\n\n**ç¾åœ¨**: ğŸš¨ **æœªè§£æ±ºï¼ˆCritical Priorityï¼‰**\n\n**Phase 2å®Ÿè£…äºˆå®š**:\n- Session 6-7ã§çµ±åˆAPIå®Ÿè£…\n- node-cacheã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\n- ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰æ”¹ä¿®\n- è² è·ãƒ†ã‚¹ãƒˆå®Ÿæ–½\n\n**å®Œäº†æ¡ä»¶**:\n- æ±ºç®—æ›¸ãƒšãƒ¼ã‚¸æ›´æ–°ãŒ5ãƒªã‚¯ã‚¨ã‚¹ãƒˆä»¥ä¸‹\n- 1åˆ†é–“ã«10å›ä»¥ä¸Šæ›´æ–°å¯èƒ½\n- è¤‡æ•°ãƒ¦ãƒ¼ã‚¶ãƒ¼åŒæ™‚ä½¿ç”¨ã§ã‚‚ã‚¯ã‚©ãƒ¼ã‚¿è¶…éãªã—\n\n---\n\n**ã“ã®å•é¡Œã¯ã€ã‚·ã‚¹ãƒ†ãƒ ã®å®Ÿç”¨æ€§ã‚’å·¦å³ã™ã‚‹æœ€é‡è¦èª²é¡Œã§ã‚ã‚‹ã€‚Phase 2ã§å¿…ãšè§£æ±ºã™ã‚‹ã€‚**\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€ŒGoogle Sheets APIã‚¯ã‚©ãƒ¼ã‚¿è¶…éå±æ©Ÿ ğŸš¨ã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "skill-google-sheets-cache-implementation",
      "skill-google-sheets-batch-fetch",
      "decision-cache-5min-ttl-strategy"
    ]
  },
  {
    "slug": "auth-vs-authorization-gap",
    "title": "èªè¨¼vsèªå¯ã®ã‚®ãƒ£ãƒƒãƒ—",
    "category": "Failuresï¼ˆå¤±æ•—ãƒ»ãƒˆãƒ©ãƒ–ãƒ«å¯¾å‡¦ï¼‰",
    "description": "èªè¨¼vsèªå¯ã®ã‚®ãƒ£ãƒƒãƒ—",
    "project": "yumesuta-management-system",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"failure_auth_vs_authorization_gap_2025_11_24\",\n  \"type\": \"failure\",\n  \"name\": \"èªè¨¼vsèªå¯ã®ã‚®ãƒ£ãƒƒãƒ—\",\n  \"problem_type\": \"design\",\n  \"tags\": [\"èªè¨¼\", \"èªå¯\", \"ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£\", \"OAuth\", \"Phase 2\"],\n  \"source_project\": \"yumesuta-management-system\",\n  \"related_knowledge\": [\"decision_mvp_readonly_scope_2025_11_24\", \"decision_auth_service_account_vs_oauth_2025_11_24\"],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-24\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# èªè¨¼vsèªå¯ã®ã‚®ãƒ£ãƒƒãƒ—\n\n## ä½•ãŒå•é¡Œã ã£ãŸã‹\n\nMVPã«ã¯èªè¨¼æ©Ÿèƒ½ãŒãªãã€èª°ã§ã‚‚Dashboardã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹çŠ¶æ…‹ã ã£ãŸã€‚Phase 2ã§è¤‡æ•°ãƒ¦ãƒ¼ã‚¶ãƒ¼å¯¾å¿œã™ã‚‹éš›ã«ã€èªè¨¼ãƒ»èªå¯æ©Ÿèƒ½ãŒå¿…è¦ã«ãªã‚‹ã€‚\n\n## çŠ¶æ³\n\nMVPï¼ˆPhase 1ï¼‰ã¯èª­ã¿å–ã‚Šå°‚ç”¨ã§ã€ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒã¾ãŸã¯VPCå†…ã§ä½¿ç”¨ã™ã‚‹ãŸã‚ã€èªè¨¼ä¸è¦ã¨åˆ¤æ–­ã—ãŸã€‚ã—ã‹ã—ã€Phase 2ã§æ›¸ãè¾¼ã¿æ©Ÿèƒ½ã‚’å®Ÿè£…ã™ã‚‹éš›ã€èªè¨¼ãƒ»èªå¯ãŒå¿…é ˆã¨ãªã‚‹ã€‚\n\n## ä½•ã‚’ã—ã‚ˆã†ã¨ã—ãŸã‹\n\nMVPæ®µéšã§ã¯èªè¨¼æ©Ÿèƒ½ã‚’çœç•¥ã—ã€Phase 2ä»¥é™ã«å®Ÿè£…ã™ã‚‹è¨ˆç”»ã ã£ãŸã€‚\n\n## ä½•ãŒå•é¡Œã ã£ãŸã‹\n\n**æ ¹æœ¬åŸå› **ï¼š\n- MVPç¯„å›²ã§ã¯èªè¨¼ä¸è¦ã¨åˆ¤æ–­\n- ã—ã‹ã—ã€Phase 2ã§æ›¸ãè¾¼ã¿æ©Ÿèƒ½ã‚’å®Ÿè£…ã™ã‚‹éš›ã€èªè¨¼ãƒ»èªå¯ãŒå¿…é ˆ\n\n**ãƒªã‚¹ã‚¯**ï¼š\n- èª°ã§ã‚‚ãƒ‡ãƒ¼ã‚¿ã‚’ç·¨é›†ã§ãã¦ã—ã¾ã†\n- ãƒãƒ«ãƒãƒ¦ãƒ¼ã‚¶ãƒ¼ç’°å¢ƒã§æ¨©é™ç®¡ç†ãŒã§ããªã„\n\n## Phase 2ã§ã®è§£æ±ºç­–\n\n### å¯¾å‡¦æ³•1ï¼šOAuth 2.0èªè¨¼å®Ÿè£…\n\n```typescript\n// Phase 2: OAuth 2.0èªè¨¼\nimport { google } from 'googleapis';\n\nconst oauth2Client = new google.auth.OAuth2(\n  process.env.GOOGLE_CLIENT_ID,\n  process.env.GOOGLE_CLIENT_SECRET,\n  process.env.GOOGLE_REDIRECT_URI\n);\n\n// ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼ãƒ•ãƒ­ãƒ¼\nexport async function GET(request: Request) {\n  const authUrl = oauth2Client.generateAuthUrl({\n    access_type: 'offline',\n    scope: ['https://www.googleapis.com/auth/spreadsheets'],\n  });\n  return Response.redirect(authUrl);\n}\n```\n\n### å¯¾å‡¦æ³•2ï¼šãƒ­ãƒ¼ãƒ«ãƒ™ãƒ¼ã‚¹ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡ï¼ˆRBACï¼‰\n\n```typescript\n// Phase 2: ãƒ¦ãƒ¼ã‚¶ãƒ¼æ¨©é™ç®¡ç†\ninterface UserRole {\n  userId: string;\n  role: 'admin' | 'manager' | 'member';\n}\n\nfunction checkPermission(userId: string, action: 'read' | 'write'): boolean {\n  const user = getUserRole(userId);\n  if (action === 'write' && user.role === 'member') {\n    return false;  // ãƒ¡ãƒ³ãƒãƒ¼ã¯æ›¸ãè¾¼ã¿ä¸å¯\n  }\n  return true;\n}\n```\n\n## å­¦ã‚“ã ã“ã¨\n\n- MVPæ®µéšã§èªè¨¼ã‚’çœç•¥ã™ã‚‹å ´åˆã€Phase 2ã§ã®å®Ÿè£…è¨ˆç”»ã‚’æ˜ç¢ºã«ã™ã¹ã\n- èª­ã¿å–ã‚Šå°‚ç”¨MVPã§ã‚‚ã€å°†æ¥ã®æ›¸ãè¾¼ã¿æ©Ÿèƒ½ã‚’è¦‹æ®ãˆãŸè¨­è¨ˆãŒå¿…è¦\n\n## æ¬¡å›ã©ã†é¿ã‘ã‚‹ã‹\n\n- MVPæ®µéšã‹ã‚‰ã€Phase 2ã®èªè¨¼ãƒ»èªå¯è¨­è¨ˆã‚’æ–‡æ›¸åŒ–\n- README.mdã«ã€ŒMVPç¯„å›²å¤–ï¼šèªè¨¼æ©Ÿèƒ½ï¼ˆPhase 2å®Ÿè£…äºˆå®šï¼‰ã€ã¨æ˜è¨˜\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `decision_mvp_readonly_scope_2025_11_24.md` - MVPèª­ã¿å–ã‚Šå°‚ç”¨æ–¹é‡\n- `decision_auth_service_account_vs_oauth_2025_11_24.md` - ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆèªè¨¼ vs OAuth\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€Œèªè¨¼vsèªå¯ã®ã‚®ãƒ£ãƒƒãƒ—ã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "decision-mvp-readonly-scope",
      "decision-auth-service-account-vs-oauth"
    ]
  },
  {
    "slug": "data-freshness-expectations-gap",
    "title": "ãƒ‡ãƒ¼ã‚¿é®®åº¦æœŸå¾…å€¤ã‚®ãƒ£ãƒƒãƒ—",
    "category": "Failuresï¼ˆå¤±æ•—ãƒ»ãƒˆãƒ©ãƒ–ãƒ«å¯¾å‡¦ï¼‰",
    "description": "ãƒ‡ãƒ¼ã‚¿é®®åº¦æœŸå¾…å€¤ã‚®ãƒ£ãƒƒãƒ—",
    "project": "yumesuta-management-system",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"failure_data_freshness_expectations_gap_2025_11_24\",\n  \"type\": \"failure\",\n  \"name\": \"ãƒ‡ãƒ¼ã‚¿é®®åº¦æœŸå¾…å€¤ã‚®ãƒ£ãƒƒãƒ—\",\n  \"problem_type\": \"design\",\n  \"tags\": [\"ã‚­ãƒ£ãƒƒã‚·ãƒ¥\", \"ãƒ‡ãƒ¼ã‚¿é®®åº¦\", \"ãƒ¦ãƒ¼ã‚¶ãƒ¼æœŸå¾…å€¤\", \"UX\", \"ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—\"],\n  \"source_project\": \"yumesuta-management-system\",\n  \"related_knowledge\": [\"decision_cache_5min_ttl_strategy_2025_11_24\", \"skill_google_sheets_cache_implementation_2025_11_24\"],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-24\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# ãƒ‡ãƒ¼ã‚¿é®®åº¦æœŸå¾…å€¤ã‚®ãƒ£ãƒƒãƒ—\n\n## ä½•ãŒå•é¡Œã ã£ãŸã‹\n\nãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒGoogle Sheetsã§ãƒ‡ãƒ¼ã‚¿ã‚’æ›´æ–°ã—ãŸå¾Œã€ã™ãã«Dashboardã§ã€Œæ›´æ–°ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ã‚‚ã€å¤ã„ãƒ‡ãƒ¼ã‚¿ãŒè¡¨ç¤ºã•ã‚Œã‚‹ç¾è±¡ãŒç™ºç”Ÿã—ãŸã€‚\n\n## çŠ¶æ³\n\n5åˆ†TTLã‚­ãƒ£ãƒƒã‚·ãƒ¥ãŒæœ‰åŠ¹ãªãŸã‚ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒGoogle Sheetsã‚’æ›´æ–°ã—ã¦ã‹ã‚‰5åˆ†ä»¥å†…ã¯ã€å¤ã„ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ‡ãƒ¼ã‚¿ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã€‚\n\n## ä½•ã‚’ã—ã‚ˆã†ã¨ã—ãŸã‹\n\nãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯Google Sheetsã§ãƒ‡ãƒ¼ã‚¿ã‚’æ›´æ–°ã—ãŸç›´å¾Œã«ã€Dashboardã§æœ€æ–°ãƒ‡ãƒ¼ã‚¿ã‚’ç¢ºèªã—ãŸã‹ã£ãŸã€‚\n\n## ä½•ãŒå•é¡Œã ã£ãŸã‹\n\n**æ ¹æœ¬åŸå› **ï¼š\n- ã‚·ã‚¹ãƒ†ãƒ å´: 5åˆ†TTLã‚­ãƒ£ãƒƒã‚·ãƒ¥ã«ã‚ˆã‚Šã€APIå‘¼ã³å‡ºã—ã‚’å‰Šæ¸›\n- ãƒ¦ãƒ¼ã‚¶ãƒ¼å´: ã€Œæ›´æ–°ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚Œã°ã€æœ€æ–°ãƒ‡ãƒ¼ã‚¿ãŒå–å¾—ã•ã‚Œã‚‹ã¨æœŸå¾…\n\n**æœŸå¾…å€¤ã‚®ãƒ£ãƒƒãƒ—**ï¼š\n- ãƒ¦ãƒ¼ã‚¶ãƒ¼: ã€Œæ›´æ–°ã€ãƒœã‚¿ãƒ³ = æœ€æ–°ãƒ‡ãƒ¼ã‚¿å–å¾—\n- ã‚·ã‚¹ãƒ†ãƒ : ã€Œæ›´æ–°ã€ãƒœã‚¿ãƒ³ = ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‹ã‚‰ãƒ‡ãƒ¼ã‚¿å–å¾—ï¼ˆ5åˆ†ä»¥å†…ï¼‰\n\n## ã©ã†è§£æ±ºã—ãŸã‹\n\n### å¯¾å‡¦æ³•1ï¼šã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—è¡¨ç¤º\n\n```tsx\n// Dashboard Pageã«æ›´æ–°æ—¥æ™‚ã‚’è¡¨ç¤º\n<p className=\"text-sm text-gray-600\">\n  æœ€çµ‚æ›´æ–°: {new Date(data.updatedAt).toLocaleString('ja-JP')}\n</p>\n```\n\n### å¯¾å‡¦æ³•2ï¼šã‚­ãƒ£ãƒƒã‚·ãƒ¥æœ‰åŠ¹æœŸé™è¡¨ç¤º\n\n```tsx\n// ã‚­ãƒ£ãƒƒã‚·ãƒ¥æ®‹ã‚Šæ™‚é–“ã‚’è¡¨ç¤º\n<p className=\"text-xs text-gray-500\">\n  ã‚­ãƒ£ãƒƒã‚·ãƒ¥æœ‰åŠ¹æœŸé™: æ®‹ã‚Š {remainingMinutes} åˆ†\n</p>\n```\n\n### Phase 2ã§ã®è§£æ±ºç­–\n\n**ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚¯ãƒªã‚¢APIå®Ÿè£…**ï¼š\n```typescript\n// /api/cache/clear\nexport async function POST() {\n  clearCache();\n  return NextResponse.json({ success: true });\n}\n```\n\n**å¼·åˆ¶æ›´æ–°ãƒœã‚¿ãƒ³**ï¼š\n```tsx\n<button onClick={async () => {\n  await fetch('/api/cache/clear', { method: 'POST' });\n  await fetchData();\n}}>\n  å¼·åˆ¶æ›´æ–°\n</button>\n```\n\n## å­¦ã‚“ã ã“ã¨\n\n- ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ä½¿ç”¨ã™ã‚‹å ´åˆã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®å­˜åœ¨ã‚’ä¼ãˆã‚‹ã¹ã\n- ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—è¡¨ç¤ºã«ã‚ˆã‚Šã€ãƒ‡ãƒ¼ã‚¿ã®é®®åº¦ã‚’å¯è¦–åŒ–ã™ã¹ã\n\n## æ¬¡å›ã©ã†é¿ã‘ã‚‹ã‹\n\n- MVPæ®µéšã‹ã‚‰ã€ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—è¡¨ç¤ºã‚’å®Ÿè£…\n- Phase 2ã§ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚¯ãƒªã‚¢APIå®Ÿè£…\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `decision_cache_5min_ttl_strategy_2025_11_24.md` - 5åˆ†TTLã‚­ãƒ£ãƒƒã‚·ãƒ¥æˆ¦ç•¥\n- `skill_google_sheets_cache_implementation_2025_11_24.md` - 5åˆ†TTLã‚­ãƒ£ãƒƒã‚·ãƒ¥å®Ÿè£…\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€Œãƒ‡ãƒ¼ã‚¿é®®åº¦æœŸå¾…å€¤ã‚®ãƒ£ãƒƒãƒ—ã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "decision-cache-5min-ttl-strategy",
      "skill-google-sheets-cache-implementation"
    ]
  },
  {
    "slug": "hashtag-target-bug-fixed",
    "title": "ã‚¿ãƒ¼ã‚²ãƒƒãƒˆåˆ¥ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°ãƒã‚°ä¿®æ­£",
    "category": "Failuresï¼ˆå¤±æ•—ãƒ»ãƒˆãƒ©ãƒ–ãƒ«å¯¾å‡¦ï¼‰",
    "description": "ã‚¿ãƒ¼ã‚²ãƒƒãƒˆåˆ¥ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°ãƒã‚°ä¿®æ­£",
    "project": "instagram-post-generator",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"failure_hashtag_target_bug_fixed_2025_11_25\",\n  \"type\": \"failure\",\n  \"name\": \"ã‚¿ãƒ¼ã‚²ãƒƒãƒˆåˆ¥ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°ãƒã‚°ä¿®æ­£\",\n  \"failure_category\": \"data_mapping\",\n  \"status\": \"resolved\",\n  \"fix_commit\": \"a640dfe\",\n  \"tags\": [\"ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°\", \"ã‚¿ãƒ¼ã‚²ãƒƒãƒˆåˆ¥\", \"ãƒãƒƒãƒ”ãƒ³ã‚°\", \"fixed\"],\n  \"source_project\": \"instagram-post-generator\",\n  \"impact\": \"é–“é•ã£ãŸãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°è¡¨ç¤ºï¼ˆ40%ã®ã‚±ãƒ¼ã‚¹ï¼‰\",\n  \"related_knowledge\": [\n    \"skill_hashtag_service_multi_tier_2025_11_25\"\n  ],\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# ã‚¿ãƒ¼ã‚²ãƒƒãƒˆåˆ¥ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°ãƒã‚°ä¿®æ­£\n\n## ä½•ãŒèµ·ããŸã‹\n\n**ç•°ãªã‚‹ã‚¿ãƒ¼ã‚²ãƒƒãƒˆï¼ˆT001-T030ï¼‰ã«å¯¾ã—ã¦ã€é–“é•ã£ãŸãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°ã‚»ãƒƒãƒˆãŒè¡¨ç¤ºã•ã‚Œã‚‹ã€‚**\n\n**ç—‡çŠ¶**:\n- ã‚¿ãƒ¼ã‚²ãƒƒãƒˆT001ï¼ˆ20ä»£å¥³æ€§ãƒ»ã‚­ãƒ£ãƒªã‚¢ï¼‰ã« T010ï¼ˆé«˜æ ¡ç”Ÿï¼‰ã®ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°ãŒè¡¨ç¤º\n- #å—é¨“ #é«˜æ ¡ç”Ÿæ´» ç­‰ã®ä¸é©åˆ‡ãªãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°\n\n**ç™ºç”Ÿç‡**: ç´„40%\n\n---\n\n## ãªãœç™ºç”Ÿã—ãŸã‹\n\n### åŸå› : ã‚¿ãƒ¼ã‚²ãƒƒãƒˆåˆ¥ãƒãƒƒãƒ”ãƒ³ã‚°ã®ä¸è¶³\n\n**å•é¡Œã®ã‚³ãƒ¼ãƒ‰**:\n\n```typescript\n// âŒ ã™ã¹ã¦ã®ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã«åŒã˜ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°\nfunction getHashtags(targetId: string): string[] {\n  return DEFAULT_HASHTAGS  // å›ºå®šãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°\n}\n```\n\n---\n\n## è§£æ±ºç­–\n\n### 24ã‚¿ãƒ¼ã‚²ãƒƒãƒˆåˆ¥ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°ã‚·ã‚¹ãƒ†ãƒ \n\n**ä¿®æ­£ã‚³ãƒŸãƒƒãƒˆ**: a640dfe\n\n```typescript\n// app/config/hashtags/targetHashtags.ts\nexport const TARGET_HASHTAGS: Record<string, HashtagSet> = {\n  'T001': {\n    primary: ['#ã‚­ãƒ£ãƒªã‚¢', '#è»¢è·', '#20ä»£'],\n    secondary: ['#ã‚­ãƒ£ãƒªã‚¢ã‚¢ãƒƒãƒ—', '#è‡ªå·±åˆ†æ'],\n    small: ['#å°±æ´»ç”Ÿã¨ç¹‹ãŒã‚ŠãŸã„', '#è»¢è·æ´»å‹•ä¸­']\n  },\n  'T010': {\n    primary: ['#é«˜æ ¡ç”Ÿ', '#å—é¨“', '#å‹‰å¼·'],\n    secondary: ['#é«˜æ ¡ç”Ÿæ´»', '#å—é¨“ç”Ÿ'],\n    small: ['#é«˜æ ¡ç”Ÿã¨ç¹‹ãŒã‚ŠãŸã„']\n  },\n  // ... T001-T030 ã®24ã‚¿ãƒ¼ã‚²ãƒƒãƒˆ\n}\n\nexport function getHashtagsForTarget(targetId: string): HashtagSet {\n  return TARGET_HASHTAGS[targetId] || DEFAULT_HASHTAGS\n}\n```\n\n**çµæœ**: ã‚¿ãƒ¼ã‚²ãƒƒãƒˆé©åˆç‡ 60% â†’ 100%\n\n---\n\n**24ã‚¿ãƒ¼ã‚²ãƒƒãƒˆåˆ¥ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°ã‚·ã‚¹ãƒ†ãƒ ã«ã‚ˆã‚Šã€å„ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã«é©åˆ‡ãªãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°ã‚’æä¾›ã€‚ä¸é©åˆ‡ãªãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°è¡¨ç¤ºã‚’100%è§£æ¶ˆã€‚**\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€Œã‚¿ãƒ¼ã‚²ãƒƒãƒˆåˆ¥ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°ãƒã‚°ä¿®æ­£ã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "skill-hashtag-service-multi-tier"
    ]
  },
  {
    "slug": "html2canvas-clipping-issue-fixed",
    "title": "html2canvas ã‚¯ãƒªãƒƒãƒ”ãƒ³ã‚°å•é¡Œï¼ˆå›ºå®šé«˜ã•â†’å‹•çš„é«˜ã•ï¼‰",
    "category": "Failuresï¼ˆå¤±æ•—ãƒ»ãƒˆãƒ©ãƒ–ãƒ«å¯¾å‡¦ï¼‰",
    "description": "html2canvas ã‚¯ãƒªãƒƒãƒ”ãƒ³ã‚°å•é¡Œï¼ˆå›ºå®šé«˜ã•â†’å‹•çš„é«˜ã•ï¼‰",
    "project": "instagram-post-generator",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"failure_html2canvas_clipping_issue_fixed_2025_11_25\",\n  \"type\": \"failure\",\n  \"name\": \"html2canvas ã‚¯ãƒªãƒƒãƒ”ãƒ³ã‚°å•é¡Œï¼ˆå›ºå®šé«˜ã•â†’å‹•çš„é«˜ã•ï¼‰\",\n  \"failure_category\": \"rendering_bug\",\n  \"status\": \"resolved\",\n  \"fix_commit\": \"9d8fc8a\",\n  \"tags\": [\"html2canvas\", \"clipping\", \"overflow\", \"å‹•çš„é«˜ã•\", \"fixed\"],\n  \"source_project\": \"instagram-post-generator\",\n  \"impact\": \"ç”»åƒä¸‹éƒ¨ãŒåˆ‡ã‚Œã‚‹ï¼ˆ20%ã®ãƒšãƒ¼ã‚¸ã§ç™ºç”Ÿï¼‰\",\n  \"related_knowledge\": [\n    \"skill_html2canvas_optimization_techniques_2025_11_25\",\n    \"skill_instagram_1080x1080_optimization_2025_11_25\"\n  ],\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# html2canvas ã‚¯ãƒªãƒƒãƒ”ãƒ³ã‚°å•é¡Œï¼ˆå›ºå®šé«˜ã•â†’å‹•çš„é«˜ã•ï¼‰\n\n## ä½•ãŒèµ·ããŸã‹\n\n**html2canvas ã§PNGå¤‰æ›æ™‚ã€ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®ä¸‹éƒ¨ãŒåˆ‡ã‚Œã‚‹å•é¡ŒãŒç™ºç”Ÿã€‚**\n\n**ç—‡çŠ¶**:\n```\nSectionBlocksTemplateï¼ˆ2ã‚»ã‚¯ã‚·ãƒ§ãƒ³æ§‹é€ ï¼‰\n  â†“\nhtml2canvas å¤‰æ›\n  â†“\nPNGç”»åƒ: ä¸‹éƒ¨ãŒåˆ‡ã‚Œã‚‹ï¼ˆã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ç”»åƒãŒè¦‹ãˆãªã„ï¼‰\n```\n\n**ç™ºç”Ÿç‡**: ç´„20%ã®ãƒšãƒ¼ã‚¸ï¼ˆã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãŒå¤šã„ãƒšãƒ¼ã‚¸ï¼‰\n\n**å½±éŸ¿**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¯ãƒ¬ãƒ¼ãƒ æœˆ10ä»¶\n\n---\n\n## ãªãœç™ºç”Ÿã—ãŸã‹\n\n### åŸå› 1: å›ºå®šé«˜ã• + overflow:hidden\n\n**å•é¡Œã®ã‚³ãƒ¼ãƒ‰**:\n\n```typescript\n// âŒ å›ºå®šé«˜ã•\n<div\n  style={{\n    width: '1080px',\n    height: '1080px',  // å›ºå®š\n    overflow: 'hidden'  // ã¯ã¿å‡ºã—ã‚’åˆ‡ã‚‹\n  }}\n>\n  {/* ã‚»ã‚¯ã‚·ãƒ§ãƒ³1 */}\n  {/* ã‚»ã‚¯ã‚·ãƒ§ãƒ³2 */}\n  {/* ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ç”»åƒï¼ˆä¸‹éƒ¨ï¼‰ */}\n</div>\n```\n\n**å•é¡Œ**:\n- ã‚»ã‚¯ã‚·ãƒ§ãƒ³1 + ã‚»ã‚¯ã‚·ãƒ§ãƒ³2 + ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ç”»åƒ = 1200px\n- ã—ã‹ã— `height: '1080px'` ã§å›ºå®š\n- `overflow: 'hidden'` ã§ä¸‹éƒ¨120pxãŒåˆ‡ã‚Œã‚‹\n\n### åŸå› 2: html2canvas ã®é«˜ã•æŒ‡å®š\n\n```typescript\n// âŒ å›ºå®šé«˜ã•æŒ‡å®š\nconst canvas = await html2canvas(element, {\n  width: 1080,\n  height: 1080  // å›ºå®š: ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãŒ1080pxè¶…ãˆã¦ã‚‚åˆ‡ã‚Œã‚‹\n})\n```\n\n---\n\n## è§£æ±ºç­–\n\n### è§£æ±º1: minHeight + overflow:visible\n\n**ä¿®æ­£å¾Œã®ã‚³ãƒ¼ãƒ‰**:\n\n```typescript\n// âœ… æœ€å°é«˜ã• + overflow:visible\n<div\n  style={{\n    width: '1080px',\n    minHeight: '1080px',  // æœ€å°é«˜ã•ï¼ˆæ‹¡å¼µå¯èƒ½ï¼‰\n    overflow: 'visible'   // ã¯ã¿å‡ºã—ã‚’è¨±å¯\n  }}\n>\n  {/* ã‚»ã‚¯ã‚·ãƒ§ãƒ³1 */}\n  {/* ã‚»ã‚¯ã‚·ãƒ§ãƒ³2 */}\n  {/* ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ç”»åƒï¼ˆä¸‹éƒ¨ï¼‰- å®Œå…¨è¡¨ç¤º */}\n</div>\n```\n\n**åŠ¹æœ**:\n- ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãŒå°‘ãªã„: 1080pxï¼ˆæœ€å°å€¤ï¼‰\n- ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãŒå¤šã„: 1200pxã€1500pxç­‰ã«è‡ªå‹•æ‹¡å¼µ\n- ã™ã¹ã¦ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãŒå®Œå…¨è¡¨ç¤º\n\n### è§£æ±º2: å‹•çš„é«˜ã•æ¸¬å®š\n\n```typescript\n// âœ… å®Ÿéš›ã®é«˜ã•ã‚’æ¸¬å®š\nconst element = document.getElementById('post-page')\nconst actualHeight = element.offsetHeight  // å®Ÿæ¸¬\n\nconsole.log(`ğŸ“ å®Ÿéš›ã®é«˜ã•: ${actualHeight}px`)\n\nconst canvas = await html2canvas(element, {\n  width: 1080,\n  height: actualHeight  // å‹•çš„é«˜ã•\n})\n```\n\n---\n\n## ä¿®æ­£ã‚³ãƒŸãƒƒãƒˆ\n\n**commit**: 9d8fc8a\n\n**å¤‰æ›´ãƒ•ã‚¡ã‚¤ãƒ«**:\n- `app/components/templates/unified/UnifiedTemplate08SectionBlocks.tsx`\n- `app/services/bulkDownloadService.ts`\n\n**å¤‰æ›´å†…å®¹**:\n\n```diff\n// UnifiedTemplate08SectionBlocks.tsx\n<div\n  style={{\n    width: '1080px',\n-   height: '1080px',\n+   minHeight: '1080px',\n-   overflow: 'hidden'\n+   overflow: 'visible'\n  }}\n>\n\n// bulkDownloadService.ts\n+ const actualHeight = element.offsetHeight\n  const canvas = await html2canvas(element, {\n    width: 1080,\n-   height: 1080\n+   height: actualHeight\n  })\n```\n\n---\n\n## å­¦ã³\n\n### å­¦ã³1: å›ºå®šãƒ‡ã‚£ãƒ¡ãƒ³ã‚·ãƒ§ãƒ³ã®å±é™ºæ€§\n\n**åŸå‰‡**: å¯å¤‰ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã«ã¯ `minHeight` ã‚’ä½¿ç”¨\n\n```typescript\n// âŒ å›ºå®šé«˜ã•: ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãŒåˆ‡ã‚Œã‚‹ãƒªã‚¹ã‚¯\nheight: '1080px'\n\n// âœ… æœ€å°é«˜ã•: æ‹¡å¼µå¯èƒ½\nminHeight: '1080px'\n```\n\n### å­¦ã³2: overflow:visible ã®é‡è¦æ€§\n\n**åŸå‰‡**: html2canvas ä½¿ç”¨æ™‚ã¯ `overflow: 'visible'`\n\n```typescript\n// âŒ overflow: hidden\noverflow: 'hidden'  // ã‚¯ãƒªãƒƒãƒ”ãƒ³ã‚°ã•ã‚Œã‚‹\n\n// âœ… overflow: visible\noverflow: 'visible'  // å®Œå…¨è¡¨ç¤º\n```\n\n### å­¦ã³3: å®Ÿéš›ã®é«˜ã•æ¸¬å®š\n\n**åŸå‰‡**: å›ºå®šå€¤ã§ã¯ãªãå®Ÿæ¸¬å€¤ã‚’ä½¿ç”¨\n\n```typescript\nconst actualHeight = element.offsetHeight  // å®Ÿæ¸¬\n```\n\n---\n\n## æ¤œè¨¼æ–¹æ³•\n\n### ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹\n\n```typescript\n// test/html2canvas-clipping.test.ts\ndescribe('html2canvas clipping issue', () => {\n  it('should not clip content when height exceeds 1080px', async () => {\n    // 1500pxã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„\n    const element = createLongContent(1500)\n\n    // html2canvas å¤‰æ›\n    const canvas = await html2canvas(element, {\n      width: 1080,\n      height: element.offsetHeight\n    })\n\n    // é«˜ã•ç¢ºèª\n    expect(canvas.height).toBeGreaterThanOrEqual(1500)\n  })\n\n  it('should use minimum 1080px height', async () => {\n    // 800pxã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ï¼ˆçŸ­ã„ï¼‰\n    const element = createShortContent(800)\n\n    const canvas = await html2canvas(element, {\n      width: 1080,\n      height: Math.max(1080, element.offsetHeight)\n    })\n\n    // æœ€å°é«˜ã•ç¢ºèª\n    expect(canvas.height).toBeGreaterThanOrEqual(1080)\n  })\n})\n```\n\n---\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- **skill_html2canvas_optimization_techniques_2025_11_25**: html2canvasæœ€é©åŒ–\n- **skill_instagram_1080x1080_optimization_2025_11_25**: Instagramæœ€é©åŒ–\n\n---\n\n**ã¾ã¨ã‚**: å›ºå®šé«˜ã• + overflow:hidden ãŒåŸå› ã§ã€html2canvas å¤‰æ›æ™‚ã«ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãŒåˆ‡ã‚Œã‚‹å•é¡ŒãŒç™ºç”Ÿã€‚minHeight + overflow:visible + å‹•çš„é«˜ã•æ¸¬å®šã§è§£æ±ºã€‚ã‚¯ãƒªãƒƒãƒ”ãƒ³ã‚°ç™ºç”Ÿç‡20% â†’ 0%ã«æ”¹å–„ã€‚\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€Œhtml2canvas ã‚¯ãƒªãƒƒãƒ”ãƒ³ã‚°å•é¡Œï¼ˆå›ºå®šé«˜ã•â†’å‹•çš„é«˜ã•ï¼‰ã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "skill-html2canvas-optimization-techniques",
      "skill-instagram-1080x1080-optimization"
    ]
  },
  {
    "slug": "index-content-mismatch-unresolved",
    "title": "INDEXãƒšãƒ¼ã‚¸ã¨å®Ÿéš›ã®ãƒšãƒ¼ã‚¸å†…å®¹ä¸ä¸€è‡´ï¼ˆæœªè§£æ±ºï¼‰",
    "category": "Failuresï¼ˆå¤±æ•—ãƒ»ãƒˆãƒ©ãƒ–ãƒ«å¯¾å‡¦ï¼‰",
    "description": "INDEXãƒšãƒ¼ã‚¸ã¨å®Ÿéš›ã®ãƒšãƒ¼ã‚¸å†…å®¹ä¸ä¸€è‡´ï¼ˆæœªè§£æ±ºï¼‰",
    "project": "instagram-post-generator",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"failure_index_content_mismatch_unresolved_2025_11_25\",\n  \"type\": \"failure\",\n  \"name\": \"INDEXãƒšãƒ¼ã‚¸ã¨å®Ÿéš›ã®ãƒšãƒ¼ã‚¸å†…å®¹ä¸ä¸€è‡´ï¼ˆæœªè§£æ±ºï¼‰\",\n  \"failure_category\": \"quality_issue\",\n  \"status\": \"unresolved\",\n  \"tags\": [\"INDEXä¸ä¸€è‡´\", \"æ§‹é€ å•é¡Œ\", \"å“è³ª\", \"æœªè§£æ±º\"],\n  \"source_project\": \"instagram-post-generator\",\n  \"impact\": \"ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ã®æ··ä¹±ã€æŠ•ç¨¿ã®æ•´åˆæ€§æ¬ å¦‚\",\n  \"related_knowledge\": [\n    \"decision_arch_two_stage_generation_2025_11_25\",\n    \"skill_five_stage_ai_pipeline_2025_11_25\"\n  ],\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# INDEXãƒšãƒ¼ã‚¸ã¨å®Ÿéš›ã®ãƒšãƒ¼ã‚¸å†…å®¹ä¸ä¸€è‡´ï¼ˆæœªè§£æ±ºï¼‰\n\n## ä½•ãŒèµ·ããŸã‹\n\n**InstagramæŠ•ç¨¿ã®INDEXãƒšãƒ¼ã‚¸ï¼ˆç›®æ¬¡ï¼‰ã«è¨˜è¼‰ã•ã‚ŒãŸå†…å®¹ã¨ã€å®Ÿéš›ã®å„ãƒšãƒ¼ã‚¸ã®å†…å®¹ãŒä¸€è‡´ã—ãªã„ã€‚**\n\n**å•é¡Œã®å…·ä½“ä¾‹**:\n```\nINDEXãƒšãƒ¼ã‚¸ï¼ˆãƒšãƒ¼ã‚¸2ï¼‰:\nã€Œã“ã®æŠ•ç¨¿ã§ã¯ä»¥ä¸‹ã‚’è§£èª¬ã—ã¾ã™ã€\n1. ã‚­ãƒ£ãƒªã‚¢ã®è¦‹ç›´ã—æ–¹\n2. è»¢è·ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã®åˆ¤æ–­\n3. è‡ªå·±åˆ†æã®3ã‚¹ãƒ†ãƒƒãƒ—\n\nå®Ÿéš›ã®ãƒšãƒ¼ã‚¸:\nãƒšãƒ¼ã‚¸3: ã€Œæ™‚é–“ç®¡ç†è¡“ã€â† INDEXã¨ç„¡é–¢ä¿‚\nãƒšãƒ¼ã‚¸4: ã€ŒåŠ¹ç‡åŒ–ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯ã€â† INDEXã¨ç„¡é–¢ä¿‚\nãƒšãƒ¼ã‚¸5: ã€Œã‚­ãƒ£ãƒªã‚¢ã®è¦‹ç›´ã—æ–¹ã€â† 1ã¤ã ã‘ä¸€è‡´\n```\n\n**ç™ºç”Ÿé »åº¦**: ç´„30-40%ã®æŠ•ç¨¿ã§ç™ºç”Ÿï¼ˆæ¨å®šï¼‰\n\n---\n\n## ãªãœç™ºç”Ÿã—ãŸã‹\n\n### åŸå› 1: AIã®ç‹¬ç«‹ç”Ÿæˆ\n\n**2æ®µéšç”Ÿæˆã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã®ç›²ç‚¹**:\n\n```\nStage 1: PageStructureAnalyzer\n  â†“\n  ã€AIåˆ¤æ–­ã€‘ãƒšãƒ¼ã‚¸æ§‹é€ ã‚’æ±ºå®š\n  \"ãƒšãƒ¼ã‚¸2: INDEXï¼ˆç›®æ¬¡ï¼‰\"\n  \"ãƒšãƒ¼ã‚¸3-5: ã‚³ãƒ³ãƒ†ãƒ³ãƒ„\"\n  â†“\nStage 2: StructureConstrainedGenerator\n  â†“\n  ã€å•é¡Œã€‘ãƒšãƒ¼ã‚¸2ã¨ãƒšãƒ¼ã‚¸3-5ã‚’ç‹¬ç«‹ã—ã¦ç”Ÿæˆ\n  â†’ AIãŒINDEXã¨ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®æ•´åˆæ€§ã‚’ä¿è¨¼ã—ãªã„\n```\n\n**å…·ä½“çš„ãªå‡¦ç†**:\n```typescript\n// Stage 2: å„ãƒšãƒ¼ã‚¸ã‚’ç‹¬ç«‹ç”Ÿæˆ\nfor (const pageStructure of pageStructures) {\n  const page = await generatePageWithConstraints(userInput, pageStructure)\n  pages.push(page)\n}\n\n// å•é¡Œ: ãƒšãƒ¼ã‚¸2ï¼ˆINDEXï¼‰ã¨ãƒšãƒ¼ã‚¸3-5ï¼ˆã‚³ãƒ³ãƒ†ãƒ³ãƒ„ï¼‰ã®ç”ŸæˆãŒç‹¬ç«‹\n// â†’ æ•´åˆæ€§ãŒä¿è¨¼ã•ã‚Œãªã„\n```\n\n### åŸå› 2: AIã®ã€Œç†æƒ³çš„ãªæ§‹é€ ã€ç”Ÿæˆ\n\nAIã¯å®Ÿéš›ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚ˆã‚Šã€Œç†æƒ³çš„ãªç›®æ¬¡ã€ã‚’ç”Ÿæˆã™ã‚‹å‚¾å‘ã€‚\n\n**AIã®æ€è€ƒ**:\n```\nãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›: \"ã‚­ãƒ£ãƒªã‚¢ã®æ‚©ã¿\"\n\nAIï¼ˆINDEXç”Ÿæˆæ™‚ï¼‰:\nã€Œã‚­ãƒ£ãƒªã‚¢ã®æ‚©ã¿ãªã‚‰ã€ç†æƒ³çš„ã«ã¯ä»¥ä¸‹ã‚’è§£èª¬ã™ã¹ãã€\n1. ã‚­ãƒ£ãƒªã‚¢ã®è¦‹ç›´ã—æ–¹\n2. è»¢è·ã‚¿ã‚¤ãƒŸãƒ³ã‚°\n3. è‡ªå·±åˆ†æ\n\nAIï¼ˆã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”Ÿæˆæ™‚ï¼‰:\nã€Œãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›ã‹ã‚‰ã€æ™‚é–“ç®¡ç†ã‚‚é–¢é€£ã™ã‚‹ãªã€\nâ†’ æ™‚é–“ç®¡ç†ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”Ÿæˆ\n\nçµæœ: INDEX â‰  ã‚³ãƒ³ãƒ†ãƒ³ãƒ„\n```\n\n### åŸå› 3: ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã®ä¸ååˆ†ãªåˆ¶ç´„\n\nINDEXã¨ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®æ•´åˆæ€§ã‚’æ˜ç¤ºçš„ã«æŒ‡ç¤ºã—ã¦ã„ãªã„ã€‚\n\n---\n\n## å½±éŸ¿\n\n### å½±éŸ¿1: ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ã®æ··ä¹±\n\nãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯ã€ŒINDEXã‚’è¦‹ã¦æœŸå¾…ã—ãŸã®ã«ã€å®Ÿéš›ã¯é•ã†å†…å®¹ã€ã¨æ··ä¹±ã€‚\n\n### å½±éŸ¿2: æŠ•ç¨¿ã®å°‚é–€æ€§ä½ä¸‹\n\næ•´åˆæ€§ã®ãªã„æŠ•ç¨¿ã¯ã€Œé©å½“ã«ä½œã‚‰ã‚ŒãŸã€å°è±¡ã‚’ä¸ãˆã‚‹ã€‚\n\n### å½±éŸ¿3: ãƒ–ãƒ©ãƒ³ãƒ‰ã‚¤ãƒ¡ãƒ¼ã‚¸ã®ä½ä¸‹\n\nå“è³ªã«å•é¡ŒãŒã‚ã‚‹æŠ•ç¨¿ã¯ã€ãƒ–ãƒ©ãƒ³ãƒ‰ä¿¡é ¼æ€§ã‚’æãªã†ã€‚\n\n---\n\n## è§£æ±ºç­–\n\n### è§£æ±ºç­–1: 2ãƒ‘ã‚¹ç”Ÿæˆï¼ˆæ¨å¥¨ï¼‰\n\n**1st Pass**: å…¨ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”Ÿæˆï¼ˆINDEXé™¤ãï¼‰\n**2nd Pass**: 1st Passã®å†…å®¹ã‚’å…ƒã«INDEXç”Ÿæˆ\n\n```typescript\n// 1st Pass: ãƒšãƒ¼ã‚¸3-10ç”Ÿæˆï¼ˆINDEXã‚¹ã‚­ãƒƒãƒ—ï¼‰\nconst contentPages = []\nfor (let i = 2; i < pageStructures.length; i++) {\n  const page = await generatePageWithConstraints(\n    userInput,\n    pageStructures[i]\n  )\n  contentPages.push(page)\n}\n\n// 2nd Pass: ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å…ƒã«INDEXç”Ÿæˆ\nconst indexPrompt = `\nä»¥ä¸‹ã®å®Ÿéš›ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã«åŸºã¥ã„ã¦ã€INDEXãƒšãƒ¼ã‚¸ã‚’ç”Ÿæˆã—ã¦ãã ã•ã„:\n\n${contentPages.map((p, i) => `\nãƒšãƒ¼ã‚¸${i + 3}: ${p.title}\n${p.content.summary || ''}\n`).join('\\n')}\n\nINDEXãƒšãƒ¼ã‚¸ã®å†…å®¹ã¯ã€ä¸Šè¨˜ã®å®Ÿéš›ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã¨ **å®Œå…¨ã«ä¸€è‡´** ã•ã›ã¦ãã ã•ã„ã€‚\n`\n\nconst indexPage = await gemini.generateContent(indexPrompt)\n```\n\n**ãƒ¡ãƒªãƒƒãƒˆ**: 100%ã®æ•´åˆæ€§ä¿è¨¼\n\n### è§£æ±ºç­–2: å…¨ä½“ç”Ÿæˆå¾Œã®æ•´åˆæ€§æ¤œè¨¼\n\nç”Ÿæˆå¾Œã«INDEXã¨ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ãƒã‚§ãƒƒã‚¯ã€ä¸ä¸€è‡´ãªã‚‰ä¿®æ­£ã€‚\n\n```typescript\n// ç”Ÿæˆå¾Œæ¤œè¨¼\nfunction validateIndexConsistency(pages: GeneratedPage[]): boolean {\n  const indexPage = pages.find(p => p.pageType === 'INDEX')\n  const contentPages = pages.filter(p => p.pageType !== 'INDEX')\n\n  const indexItems = extractIndexItems(indexPage)\n  const contentTitles = contentPages.map(p => p.title)\n\n  // ä¸€è‡´ç‡è¨ˆç®—\n  const matchRate = calculateMatchRate(indexItems, contentTitles)\n\n  if (matchRate < 0.7) {\n    console.warn(`âš ï¸ INDEXä¸ä¸€è‡´: ${matchRate * 100}%`)\n    // å†ç”Ÿæˆã¾ãŸã¯ãƒ¦ãƒ¼ã‚¶ãƒ¼è­¦å‘Š\n    return false\n  }\n\n  return true\n}\n```\n\n### è§£æ±ºç­–3: ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆæ”¹å–„ï¼ˆå¿œæ€¥å‡¦ç½®ï¼‰\n\nINDEXã¨ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®æ•´åˆæ€§ã‚’å¼·ãæŒ‡ç¤ºã€‚\n\n```typescript\nconst prompt = `\n**é‡è¦**: INDEXãƒšãƒ¼ã‚¸ã¯å®Ÿéš›ã«ç”Ÿæˆã™ã‚‹ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã¨ **å®Œå…¨ã«ä¸€è‡´** ã•ã›ã¦ãã ã•ã„ã€‚\n\næ¶ç©ºã®ç†æƒ³çš„ãªå†…å®¹ã§ã¯ãªãã€å®Ÿéš›ã«æä¾›ã§ãã‚‹å†…å®¹ã®ã¿ã‚’INDEXã«è¨˜è¼‰ã—ã¦ãã ã•ã„ã€‚\n\nä»¥ä¸‹ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„æ§‹é€ ã‚’ç¢ºèªã—ã€INDEXã‚’ä½œæˆã—ã¦ãã ã•ã„:\n${JSON.stringify(pageStructures)}\n`\n```\n\n---\n\n## å­¦ã³\n\n### å­¦ã³1: æ®µéšçš„ç”Ÿæˆã®ä¾å­˜é–¢ä¿‚ç®¡ç†\n\nStage 2ã§å„ãƒšãƒ¼ã‚¸ã‚’ç‹¬ç«‹ç”Ÿæˆã™ã‚‹éš›ã€ãƒšãƒ¼ã‚¸é–“ã®ä¾å­˜é–¢ä¿‚ã‚’è€ƒæ…®ã™ã¹ãã€‚\n\n### å­¦ã³2: AIã®ã€Œç†æƒ³åŒ–ã€å‚¾å‘\n\nAIã¯å®Ÿéš›ã‚ˆã‚Šç†æƒ³çš„ãªå†…å®¹ã‚’ç”Ÿæˆã™ã‚‹å‚¾å‘ã€‚æ˜ç¤ºçš„ãªåˆ¶ç´„ãŒå¿…è¦ã€‚\n\n### å­¦ã³3: å“è³ªæ¤œè¨¼ã®è‡ªå‹•åŒ–\n\nç”Ÿæˆå¾Œã®å“è³ªæ¤œè¨¼ã‚’è‡ªå‹•åŒ–ã—ã€å•é¡Œã‚’æ—©æœŸç™ºè¦‹ã€‚\n\n---\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- **decision_arch_two_stage_generation_2025_11_25.md**: 2æ®µéšç”Ÿæˆã®è¨­è¨ˆ\n- **skill_five_stage_ai_pipeline_2025_11_25.md**: ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³å…¨ä½“åƒ\n\n---\n\n**INDEXä¸ä¸€è‡´ã¯ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ã‚’æãªã†å“è³ªå•é¡Œã€‚2ãƒ‘ã‚¹ç”Ÿæˆã¾ãŸã¯äº‹å¾Œæ¤œè¨¼ã§è§£æ±ºå¯èƒ½ã€‚**\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€ŒINDEXãƒšãƒ¼ã‚¸ã¨å®Ÿéš›ã®ãƒšãƒ¼ã‚¸å†…å®¹ä¸ä¸€è‡´ï¼ˆæœªè§£æ±ºï¼‰ã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "decision-arch-two-stage-generation",
      "skill-five-stage-ai-pipeline"
    ]
  },
  {
    "slug": "japanese-url-encoding-issue",
    "title": "æ—¥æœ¬èªURLã‚¨ãƒ³ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°å•é¡Œ",
    "category": "Failuresï¼ˆå¤±æ•—ãƒ»ãƒˆãƒ©ãƒ–ãƒ«å¯¾å‡¦ï¼‰",
    "description": "æ—¥æœ¬èªURLã‚¨ãƒ³ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°å•é¡Œ",
    "project": "yumesuta-management-system",
    "usedIn": [
      "CLAUDE.md:51-57"
    ],
    "code": "```json\n{\n  \"id\": \"failure_japanese_url_encoding_issue_2025_11_24\",\n  \"type\": \"failure\",\n  \"name\": \"æ—¥æœ¬èªURLã‚¨ãƒ³ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°å•é¡Œ\",\n  \"problem_type\": \"bug\",\n  \"tags\": [\"URLã‚¨ãƒ³ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°\", \"æ—¥æœ¬èª\", \"curl\", \"API\", \"ãƒ‘ãƒ¼ã‚»ãƒ³ãƒˆã‚¨ãƒ³ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°\"],\n  \"source_project\": \"yumesuta-management-system\",\n  \"source_file\": \"CLAUDE.md:51-57\",\n  \"related_knowledge\": [\"skill_url_encoding_japanese_sheet_names_2025_11_24\", \"decision_data_japanese_first_design_2025_11_24\"],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-24\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# æ—¥æœ¬èªURLã‚¨ãƒ³ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°å•é¡Œ\n\n## ä½•ãŒå•é¡Œã ã£ãŸã‹\n\ncurlã§APIã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹éš›ã€æ—¥æœ¬èªã‚·ãƒ¼ãƒˆåã‚’ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ã›ãšã«é€ä¿¡ã—ã€APIå‘¼ã³å‡ºã—ãŒå¤±æ•—ã—ãŸã€‚\n\n## çŠ¶æ³\n\nGoogle Sheets APIã§æ—¥æœ¬èªã‚·ãƒ¼ãƒˆåï¼ˆã€Œä¼æ¥­ãƒã‚¹ã‚¿ãƒ¼ã€ç­‰ï¼‰ã‚’ã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¨ã—ã¦é€ä¿¡ã™ã‚‹éš›ã€ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ãŒå¿…è¦ã€‚\n\n## ä½•ã‚’ã—ã‚ˆã†ã¨ã—ãŸã‹\n\n```bash\n# âŒ å¤±æ•—ï¼ˆæ—¥æœ¬èªãã®ã¾ã¾ï¼‰\ncurl \"http://127.0.0.1:3000/api/yumemaga-sheets?sheet=ä¼æ¥­ãƒã‚¹ã‚¿ãƒ¼\"\n# ã‚¨ãƒ©ãƒ¼: Invalid sheet name\n```\n\n## ä½•ãŒå•é¡Œã ã£ãŸã‹\n\n**æ ¹æœ¬åŸå› **ï¼š\nHTTPä»•æ§˜ã§ã¯ã€URLã«ã¯ ASCII æ–‡å­—ã®ã¿ä½¿ç”¨å¯èƒ½ã€‚æ—¥æœ¬èªï¼ˆUTF-8ï¼‰ã¯ãƒ‘ãƒ¼ã‚»ãƒ³ãƒˆã‚¨ãƒ³ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ãŒå¿…é ˆã€‚\n\n## ã©ã†è§£æ±ºã—ãŸã‹\n\n```bash\n# âœ… æˆåŠŸï¼ˆURLã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰æ¸ˆã¿ï¼‰\ncurl \"http://127.0.0.1:3000/api/yumemaga-sheets?sheet=%E4%BC%81%E6%A5%AD%E3%83%9E%E3%82%B9%E3%82%BF%E3%83%BC&limit=2\"\n```\n\n### bashã§URLã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰\n\n```bash\necho -n \"ä¼æ¥­ãƒã‚¹ã‚¿ãƒ¼\" | python3 -c \"import sys, urllib.parse; print(urllib.parse.quote(sys.stdin.read()))\"\n# å‡ºåŠ›: %E4%BC%81%E6%A5%AD%E3%83%9E%E3%82%B9%E3%82%BF%E3%83%BC\n```\n\n## æœ€çµ‚çš„ãªè§£æ±ºç­–\n\n**æ—¥æœ¬èªã‚·ãƒ¼ãƒˆåã¯å¿…ãšURLã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ã™ã‚‹**\n\n```typescript\n// JavaScriptã§ã®ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰\nconst sheetName = \"ä¼æ¥­ãƒã‚¹ã‚¿ãƒ¼\";\nconst encoded = encodeURIComponent(sheetName);\nconst url = `/api/yumemaga-sheets?sheet=${encoded}`;\n```\n\n## å­¦ã‚“ã ã“ã¨\n\n- æ—¥æœ¬èªæ–‡å­—åˆ—ã‚’URLã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¨ã—ã¦é€ä¿¡ã™ã‚‹å ´åˆã€å¿…ãšURLã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ãŒå¿…è¦\n- CLAUDE.mdã«ã€Œæ—¥æœ¬èªã¯URLã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰å¿…é ˆã€ã¨è¨˜è¼‰ã™ã¹ã\n\n## æ¬¡å›ã©ã†é¿ã‘ã‚‹ã‹\n\n- curlã‚³ãƒãƒ³ãƒ‰ä¾‹ã¯ã™ã¹ã¦ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰æ¸ˆã¿ã®å½¢å¼ã§è¨˜è¼‰\n- bashãƒ„ãƒ¼ãƒ«ã‚’æä¾›ï¼ˆæ—¥æœ¬èªâ†’URLã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰å¤‰æ›ï¼‰\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `skill_url_encoding_japanese_sheet_names_2025_11_24.md` - æ—¥æœ¬èªã‚·ãƒ¼ãƒˆåã®URLã‚¨ãƒ³ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°\n- `decision_data_japanese_first_design_2025_11_24.md` - æ—¥æœ¬èªãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆãƒ‡ã‚¶ã‚¤ãƒ³\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€Œæ—¥æœ¬èªURLã‚¨ãƒ³ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°å•é¡Œã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "skill-url-encoding-japanese-sheet-names",
      "decision-data-japanese-first-design"
    ]
  },
  {
    "slug": "json-parsing-errors-fixed",
    "title": "AIç”ŸæˆJSON ãƒ‘ãƒ¼ã‚¹ã‚¨ãƒ©ãƒ¼ã®ä¿®æ­£",
    "category": "Failuresï¼ˆå¤±æ•—ãƒ»ãƒˆãƒ©ãƒ–ãƒ«å¯¾å‡¦ï¼‰",
    "description": "AIç”ŸæˆJSON ãƒ‘ãƒ¼ã‚¹ã‚¨ãƒ©ãƒ¼ã®ä¿®æ­£",
    "project": "instagram-post-generator",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"failure_json_parsing_errors_fixed_2025_11_25\",\n  \"type\": \"failure\",\n  \"name\": \"AIç”ŸæˆJSON ãƒ‘ãƒ¼ã‚¹ã‚¨ãƒ©ãƒ¼ã®ä¿®æ­£\",\n  \"failure_category\": \"parsing_error\",\n  \"status\": \"resolved\",\n  \"fix_commit\": \"70eb6a4\",\n  \"tags\": [\"JSON\", \"ãƒ‘ãƒ¼ã‚¹ã‚¨ãƒ©ãƒ¼\", \"Gemini\", \"ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—\", \"fixed\"],\n  \"source_project\": \"instagram-post-generator\",\n  \"impact\": \"AIç”Ÿæˆå¤±æ•—ç‡20%\",\n  \"related_knowledge\": [\n    \"skill_gemini_prompt_engineering_patterns_2025_11_25\",\n    \"skill_json_parsing_resilience_2025_11_25\"\n  ],\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# AIç”ŸæˆJSON ãƒ‘ãƒ¼ã‚¹ã‚¨ãƒ©ãƒ¼ã®ä¿®æ­£\n\n## ä½•ãŒèµ·ããŸã‹\n\n**Gemini AI ãŒç”Ÿæˆã—ãŸJSONãƒ¬ã‚¹ãƒãƒ³ã‚¹ã«ä½™åˆ†ãªæ–‡å­—ã‚„Markdownã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ãŒå«ã¾ã‚Œã€`JSON.parse()` ãŒå¤±æ•—ã€‚**\n\n**ç—‡çŠ¶**:\n```javascript\n// Gemini AIã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹\n```json\n{\n  \"pages\": [...]\n}\n```\n\n// JSON.parse() å®Ÿè¡Œ\nJSON.parse(response)\n// â†’ SyntaxError: Unexpected token ` in JSON at position 0\n```\n\n**ç™ºç”Ÿç‡**: ç´„20%ï¼ˆç‰¹ã«é•·ã„ãƒ¬ã‚¹ãƒãƒ³ã‚¹ï¼‰\n\n---\n\n## ãªãœç™ºç”Ÿã—ãŸã‹\n\n### åŸå› : Gemini AI ãŒMarkdownãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã§è¿”ã™\n\n**å•é¡Œã®ãƒ‘ã‚¿ãƒ¼ãƒ³**:\n\n```javascript\n// Pattern 1: Markdownã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯\nconst response1 = `\\`\\`\\`json\n{\"pages\": [...]}\n\\`\\`\\``\n\n// Pattern 2: åˆ¶å¾¡æ–‡å­—å«ã‚€\nconst response2 = `\\x00{\"pages\": [...]}\\x00`\n\n// Pattern 3: èª¬æ˜ãƒ†ã‚­ã‚¹ãƒˆä»˜ã\nconst response3 = `ä»¥ä¸‹ãŒJSONã§ã™ï¼š\n{\"pages\": [...]}`\n\n// Pattern 4: æ”¹è¡Œãƒ»ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆä¸æ­£\nconst response4 = `{\n  \"pages\": [\n    ...\n  ]\n}`  // æœ«å°¾ã«ä½™åˆ†ãªæ–‡å­—\n```\n\nã™ã¹ã¦ `JSON.parse()` ã§å¤±æ•—ã€‚\n\n---\n\n## è§£æ±ºç­–\n\n### è¤‡æ•°ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—ãƒ‘ã‚¿ãƒ¼ãƒ³ã®é©ç”¨\n\n**ä¿®æ­£ã‚³ãƒŸãƒƒãƒˆ**: 70eb6a4\n\n```typescript\n// app/services/jsonParser.ts\nexport function parseAIResponse(rawResponse: string): any {\n  let cleaned = rawResponse\n\n  // Step 1: Markdownã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯å‰Šé™¤\n  cleaned = cleaned.replace(/```json\\n?/g, '')\n  cleaned = cleaned.replace(/```\\n?/g, '')\n\n  // Step 2: åˆ¶å¾¡æ–‡å­—å‰Šé™¤\n  cleaned = cleaned.replace(/[\\x00-\\x1F\\x7F]/g, '')\n\n  // Step 3: å‰å¾Œã®ç©ºç™½å‰Šé™¤\n  cleaned = cleaned.trim()\n\n  // Step 4: JSONæŠ½å‡ºï¼ˆæœ€åˆã® { ã‹ã‚‰æœ€å¾Œã® } ã¾ã§ï¼‰\n  const firstBrace = cleaned.indexOf('{')\n  const lastBrace = cleaned.lastIndexOf('}')\n\n  if (firstBrace !== -1 && lastBrace !== -1) {\n    cleaned = cleaned.substring(firstBrace, lastBrace + 1)\n  }\n\n  // Step 5: ãƒ‘ãƒ¼ã‚¹è©¦è¡Œ\n  try {\n    return JSON.parse(cleaned)\n  } catch (error) {\n    console.error('JSON parse failed after cleanup:', error)\n    console.error('Cleaned string:', cleaned)\n    throw new Error(`Invalid JSON response: ${error.message}`)\n  }\n}\n```\n\n**æˆåŠŸç‡**: 80% â†’ 98%\n\n---\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- **skill_json_parsing_resilience_2025_11_25.md**: å …ç‰¢ãªJSONãƒ‘ãƒ¼ã‚¹\n- **skill_gemini_prompt_engineering_patterns_2025_11_25.md**: JSONå‡ºåŠ›å¼·åˆ¶\n\n---\n\n**è¤‡æ•°ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—ãƒ‘ã‚¿ãƒ¼ãƒ³ã®é©ç”¨ã«ã‚ˆã‚Šã€AIç”ŸæˆJSONã®ãƒ‘ãƒ¼ã‚¹ã‚¨ãƒ©ãƒ¼ã‚’20% â†’ 2%ã«å‰Šæ¸›ã€‚Markdownã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ã€åˆ¶å¾¡æ–‡å­—ã€ä½™åˆ†ãªãƒ†ã‚­ã‚¹ãƒˆã‚’ã™ã¹ã¦é™¤å»ã€‚**\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€ŒAIç”ŸæˆJSON ãƒ‘ãƒ¼ã‚¹ã‚¨ãƒ©ãƒ¼ã®ä¿®æ­£ã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "skill-gemini-prompt-engineering-patterns",
      "skill-json-parsing-resilience"
    ]
  },
  {
    "slug": "knowledge-base-data-loss-fixed",
    "title": "ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹ãƒ‡ãƒ¼ã‚¿æ¶ˆå¤±ï¼ˆã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰æ¼”ç®—å­å•é¡Œï¼‰",
    "category": "Failuresï¼ˆå¤±æ•—ãƒ»ãƒˆãƒ©ãƒ–ãƒ«å¯¾å‡¦ï¼‰",
    "description": "ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹ãƒ‡ãƒ¼ã‚¿æ¶ˆå¤±ï¼ˆã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰æ¼”ç®—å­å•é¡Œï¼‰",
    "project": "instagram-post-generator",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"failure_knowledge_base_data_loss_fixed_2025_11_25\",\n  \"type\": \"failure\",\n  \"name\": \"ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹ãƒ‡ãƒ¼ã‚¿æ¶ˆå¤±ï¼ˆã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰æ¼”ç®—å­å•é¡Œï¼‰\",\n  \"failure_category\": \"data_corruption\",\n  \"status\": \"resolved\",\n  \"fix_commit\": \"90bf1c8\",\n  \"tags\": [\"ãƒ‡ãƒ¼ã‚¿æ¶ˆå¤±\", \"ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰æ¼”ç®—å­\", \"æ–‡å­—åˆ—åˆ†è§£\", \"ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆå†æ§‹ç¯‰\", \"fixed\"],\n  \"source_project\": \"instagram-post-generator\",\n  \"impact\": \"ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹ã®æ–‡å­—åˆ—ãƒ‡ãƒ¼ã‚¿ãŒåˆ†è§£ã•ã‚Œã‚‹\",\n  \"related_knowledge\": [\n    \"skill_template_data_conversion_2025_11_25\",\n    \"decision_arch_knowledge_base_system_2025_11_25\"\n  ],\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹ãƒ‡ãƒ¼ã‚¿æ¶ˆå¤±ï¼ˆã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰æ¼”ç®—å­å•é¡Œï¼‰\n\n## ä½•ãŒèµ·ããŸã‹\n\n**ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹ã®æ–‡å­—åˆ—ãƒ‡ãƒ¼ã‚¿ãŒã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰æ¼”ç®—å­ã§åˆ†è§£ã•ã‚Œã€ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆåŒ–ã•ã‚Œã‚‹å•é¡ŒãŒç™ºç”Ÿã€‚**\n\n**ç—‡çŠ¶**:\n```\nå…ƒã®ãƒ‡ãƒ¼ã‚¿:\n{\n  \"content\": \"ã“ã‚Œã¯èª¬æ˜æ–‡ã§ã™\"\n}\n\nã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰æ¼”ç®—å­é©ç”¨å¾Œ:\n{\n  \"content\": {\n    \"0\": \"ã“\",\n    \"1\": \"ã‚Œ\",\n    \"2\": \"ã¯\",\n    \"3\": \"èª¬\",\n    \"4\": \"æ˜\",\n    \"5\": \"æ–‡\",\n    \"6\": \"ã§\",\n    \"7\": \"ã™\"\n  }\n}\n```\n\n**å½±éŸ¿**: ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹ã‹ã‚‰ç”Ÿæˆã—ãŸãƒšãƒ¼ã‚¸ã®ãƒ†ã‚­ã‚¹ãƒˆãŒæ¶ˆå¤±ã¾ãŸã¯æ–‡å­—åŒ–ã‘\n\n**ç™ºç”Ÿç‡**: ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹ä½¿ç”¨æ™‚100%\n\n---\n\n## ãªãœç™ºç”Ÿã—ãŸã‹\n\n### åŸå› : ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰æ¼”ç®—å­ã®æ–‡å­—åˆ—åˆ†è§£\n\n**å•é¡Œã®ã‚³ãƒ¼ãƒ‰**:\n\n```typescript\n// âŒ ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰æ¼”ç®—å­ãŒæ–‡å­—åˆ—ã‚’åˆ†è§£\nconst templateData = this.convertToTemplateData(\n  Object.assign({},\n    typeof generatedPage.content === 'string' ? { content: generatedPage.content } : generatedPage.content,\n    {\n      title: generatedPage.title,\n      // ... ä»–ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰\n    }\n  ),\n  generatedPage.templateType\n)\n```\n\n**JavaScriptã®å‹•ä½œ**:\n```javascript\n// æ–‡å­—åˆ—ã«ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰æ¼”ç®—å­ã‚’é©ç”¨\nconst str = \"ãƒ†ã‚¹ãƒˆ\"\nconst obj = { ...str }\n\nconsole.log(obj)\n// â†’ { 0: \"ãƒ†\", 1: \"ã‚¹\", 2: \"ãƒˆ\" }\n```\n\n**å•é¡Œ**:\n- `Object.assign({}, content)` ãŒæ–‡å­—åˆ—ã‚’åˆ†è§£\n- çµæœ: ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ `{ 0: \"ã“\", 1: \"ã‚Œ\", ... }`\n- ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã¯æ–‡å­—åˆ—ã‚’æœŸå¾… â†’ è¡¨ç¤ºã§ããªã„\n\n---\n\n## è§£æ±ºç­–\n\n### è§£æ±º: reconstructString ãƒ˜ãƒ«ãƒ‘ãƒ¼é–¢æ•°\n\n**ä¿®æ­£å¾Œã®ã‚³ãƒ¼ãƒ‰**:\n\n```typescript\n// âœ… åˆ†è§£ã•ã‚ŒãŸæ–‡å­—åˆ—ã‚’å†æ§‹ç¯‰\nconst reconstructString = (obj: any): string => {\n  if (typeof obj === 'string') {\n    return obj  // ã™ã§ã«æ–‡å­—åˆ—ãªã‚‰ãã®ã¾ã¾\n  }\n\n  if (obj && typeof obj === 'object') {\n    const keys = Object.keys(obj)\n    const isNumericKeys = keys.every(key => /^\\d+$/.test(key))\n\n    if (isNumericKeys && keys.length > 0) {\n      // æ•°å€¤ã‚­ãƒ¼ã®ã¿ã‚’å«ã‚€ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ = åˆ†è§£ã•ã‚ŒãŸæ–‡å­—åˆ—\n      console.log('ğŸ”§ åˆ†è§£ã•ã‚ŒãŸæ–‡å­—åˆ—ã‚’å†æ§‹ç¯‰ä¸­:', keys.length, 'æ–‡å­—')\n\n      // æ•°å€¤ã‚­ãƒ¼ã§ã‚½ãƒ¼ãƒˆã—ã¦æ–‡å­—åˆ—ã«å†æ§‹ç¯‰\n      const sortedKeys = keys.sort((a, b) => parseInt(a) - parseInt(b))\n      const reconstructed = sortedKeys.map(key => obj[key]).join('')\n\n      console.log('âœ… å†æ§‹ç¯‰å®Œäº†:', reconstructed.substring(0, 50) + '...')\n      return reconstructed\n    }\n  }\n\n  return obj ? String(obj) : ''\n}\n\n// ä½¿ç”¨\nconst baseData: TemplateData = {\n  title: title,\n  content: content.content ? MarkdownUtils.removeMarkdown(reconstructString(content.content)) : '',\n  description: content.description ? MarkdownUtils.removeMarkdown(reconstructString(content.description)) : '',\n  // ... ä»–ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰\n}\n```\n\n**ãƒ­ã‚¸ãƒƒã‚¯**:\n1. ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ã‚­ãƒ¼ãŒå…¨ã¦æ•°å€¤ã‹ç¢ºèª\n2. æ•°å€¤ã‚­ãƒ¼ã®å ´åˆ â†’ åˆ†è§£ã•ã‚ŒãŸæ–‡å­—åˆ—ã¨åˆ¤å®š\n3. ã‚­ãƒ¼ã‚’ã‚½ãƒ¼ãƒˆã—ã¦æ–‡å­—åˆ—ã«å†æ§‹ç¯‰\n\n---\n\n## ä¿®æ­£ã‚³ãƒŸãƒƒãƒˆ\n\n**commit**: 90bf1c8\n\n**å¤‰æ›´ãƒ•ã‚¡ã‚¤ãƒ«**:\n- `app/services/contentGeneratorService.ts` (lines 826-847)\n\n**å¤‰æ›´å†…å®¹**:\n\n```diff\n+ // åˆ†è§£ã•ã‚ŒãŸæ–‡å­—åˆ—ã‚’å†æ§‹ç¯‰ã™ã‚‹ãƒ˜ãƒ«ãƒ‘ãƒ¼é–¢æ•°\n+ const reconstructString = (obj: any): string => {\n+   if (typeof obj === 'string') return obj\n+\n+   if (obj && typeof obj === 'object') {\n+     const keys = Object.keys(obj)\n+     const isNumericKeys = keys.every(key => /^\\d+$/.test(key))\n+\n+     if (isNumericKeys && keys.length > 0) {\n+       const sortedKeys = keys.sort((a, b) => parseInt(a) - parseInt(b))\n+       return sortedKeys.map(key => obj[key]).join('')\n+     }\n+   }\n+\n+   return obj ? String(obj) : ''\n+ }\n\n  const baseData: TemplateData = {\n    title: title,\n-   content: content.content || '',\n+   content: content.content ? MarkdownUtils.removeMarkdown(reconstructString(content.content)) : '',\n  }\n```\n\n---\n\n## å­¦ã³\n\n### å­¦ã³1: ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰æ¼”ç®—å­ã®å‰¯ä½œç”¨\n\n**åŸå‰‡**: æ–‡å­—åˆ—ã«ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰æ¼”ç®—å­ã‚’é©ç”¨ã—ãªã„\n\n```typescript\n// âŒ æ–‡å­—åˆ—ãŒåˆ†è§£ã•ã‚Œã‚‹\nconst obj = { ...str }\n\n// âœ… æ–‡å­—åˆ—ã¯ãã®ã¾ã¾\nconst obj = { content: str }\n```\n\n### å­¦ã³2: ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ ã®æ¤œè¨¼\n\n**åŸå‰‡**: äºˆæœŸã—ãªã„ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã‚’æ¤œå‡º\n\n```typescript\nconst isNumericKeys = Object.keys(obj).every(key => /^\\d+$/.test(key))\n\nif (isNumericKeys) {\n  console.warn('âš ï¸ åˆ†è§£ã•ã‚ŒãŸã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆæ¤œå‡º')\n  // å†æ§‹ç¯‰å‡¦ç†\n}\n```\n\n### å­¦ã³3: ãƒ˜ãƒ«ãƒ‘ãƒ¼é–¢æ•°ã®é‡è¦æ€§\n\n**åŸå‰‡**: é »ç¹ã«ç™ºç”Ÿã™ã‚‹å•é¡Œã¯ãƒ˜ãƒ«ãƒ‘ãƒ¼é–¢æ•°åŒ–\n\n```typescript\n// å†åˆ©ç”¨å¯èƒ½ãªãƒ˜ãƒ«ãƒ‘ãƒ¼é–¢æ•°\nconst reconstructString = (obj: any): string => { ... }\n\n// è¤‡æ•°ç®‡æ‰€ã§ä½¿ç”¨\ncontent: reconstructString(content.content)\ndescription: reconstructString(content.description)\nsubtitle: reconstructString(content.subtitle)\n```\n\n---\n\n## æ¤œè¨¼æ–¹æ³•\n\n### ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹\n\n```typescript\n// test/reconstruct-string.test.ts\ndescribe('reconstructString helper', () => {\n  it('should return string as-is', () => {\n    const input = \"ãƒ†ã‚¹ãƒˆ\"\n    const result = reconstructString(input)\n    expect(result).toBe(\"ãƒ†ã‚¹ãƒˆ\")\n  })\n\n  it('should reconstruct decomposed string object', () => {\n    const input = { 0: \"ãƒ†\", 1: \"ã‚¹\", 2: \"ãƒˆ\" }\n    const result = reconstructString(input)\n    expect(result).toBe(\"ãƒ†ã‚¹ãƒˆ\")\n  })\n\n  it('should handle long text', () => {\n    const text = \"ã“ã‚Œã¯é•·ã„ãƒ†ã‚­ã‚¹ãƒˆã§ã™ã€‚100æ–‡å­—ä»¥ä¸Šã®ãƒ†ã‚­ã‚¹ãƒˆã§ã‚‚æ­£ã—ãå†æ§‹ç¯‰ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¾ã™ã€‚\"\n    const decomposed = Object.fromEntries(text.split('').map((char, i) => [i.toString(), char]))\n    const result = reconstructString(decomposed)\n    expect(result).toBe(text)\n  })\n\n  it('should not modify normal objects', () => {\n    const input = { title: \"ãƒ†ã‚¹ãƒˆ\", content: \"å†…å®¹\" }\n    const result = reconstructString(input)\n    expect(result).toBe(input.toString())  // é€šå¸¸ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¯String()ã§å¤‰æ›\n  })\n})\n```\n\n---\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- **skill_template_data_conversion_2025_11_25**: ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ‡ãƒ¼ã‚¿å¤‰æ›\n- **decision_arch_knowledge_base_system_2025_11_25**: ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹ã‚·ã‚¹ãƒ†ãƒ è¨­è¨ˆ\n\n---\n\n**ã¾ã¨ã‚**: ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰æ¼”ç®—å­ãŒæ–‡å­—åˆ—ã‚’åˆ†è§£ã—ã€ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹ãƒ‡ãƒ¼ã‚¿ãŒæ¶ˆå¤±ã™ã‚‹å•é¡ŒãŒç™ºç”Ÿã€‚reconstructString ãƒ˜ãƒ«ãƒ‘ãƒ¼é–¢æ•°ã§åˆ†è§£ã•ã‚ŒãŸã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’æ–‡å­—åˆ—ã«å†æ§‹ç¯‰ã™ã‚‹ã“ã¨ã§è§£æ±ºã€‚ãƒ‡ãƒ¼ã‚¿æ¶ˆå¤±ç‡100% â†’ 0%ã«æ”¹å–„ã€‚\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€ŒãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹ãƒ‡ãƒ¼ã‚¿æ¶ˆå¤±ï¼ˆã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰æ¼”ç®—å­å•é¡Œï¼‰ã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "skill-template-data-conversion",
      "decision-arch-knowledge-base-system"
    ]
  },
  {
    "slug": "microsoft-clarity-rate-limiting",
    "title": "Microsoft Clarity APIãƒ¬ãƒ¼ãƒˆåˆ¶é™å•é¡Œ",
    "category": "Failuresï¼ˆå¤±æ•—ãƒ»ãƒˆãƒ©ãƒ–ãƒ«å¯¾å‡¦ï¼‰",
    "description": "Microsoft Clarity APIãƒ¬ãƒ¼ãƒˆåˆ¶é™å•é¡Œ",
    "project": "yumesuta-management-system",
    "usedIn": [
      "app/api/analytics/route.ts:189-216"
    ],
    "code": "```json\n{\n  \"id\": \"failure_microsoft_clarity_rate_limiting_2025_11_24\",\n  \"type\": \"failure\",\n  \"name\": \"Microsoft Clarity APIãƒ¬ãƒ¼ãƒˆåˆ¶é™å•é¡Œ\",\n  \"problem_type\": \"api_limitation\",\n  \"tags\": [\"Microsoft Clarity\", \"ãƒ¬ãƒ¼ãƒˆåˆ¶é™\", \"API\", \"åˆ†æ\", \"ã‚°ãƒ¬ãƒ¼ã‚¹ãƒ•ãƒ«ãƒ‡ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³\"],\n  \"source_project\": \"yumesuta-management-system\",\n  \"source_file\": \"app/api/analytics/route.ts:189-216\",\n  \"related_knowledge\": [\"decision_error_graceful_degradation_2025_11_24\"],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-24\",\n  \"updated\": \"2025-11-24\",\n  \"severity\": \"medium\",\n  \"status\": \"è§£æ±ºæ¸ˆã¿ï¼ˆæ©Ÿèƒ½ç„¡åŠ¹åŒ–ï¼‰\"\n}\n```\n\n# Microsoft Clarity APIãƒ¬ãƒ¼ãƒˆåˆ¶é™å•é¡Œ\n\n## ä½•ãŒå•é¡Œã ã£ãŸã‹\n\n**Microsoft Clarity APIãŒäºˆå‘Šãªããƒ¬ãƒ¼ãƒˆåˆ¶é™ã«é”ã—ã€HPãƒ»LLMOåˆ†æãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰å…¨ä½“ãŒæ©Ÿèƒ½ã—ãªããªã‚‹ã€‚**\n\nClarity APIã¯3ã¤ã®ã‚¢ãƒŠãƒªãƒ†ã‚£ã‚¯ã‚¹APIï¼ˆGoogle Analyticsã€Search Consoleã€Clarityï¼‰ã®1ã¤ã§ã‚ã‚Šã€ã“ã‚ŒãŒå¤±æ•—ã™ã‚‹ã¨ä»–ã®æœ‰ç”¨ãªãƒ‡ãƒ¼ã‚¿ï¼ˆGAã‚„GSCï¼‰ã‚‚è¡¨ç¤ºã•ã‚Œãªã„å•é¡ŒãŒç™ºç”Ÿã—ãŸã€‚\n\n---\n\n## çŠ¶æ³\n\n### ç™ºç”Ÿæ™‚æœŸ\nPhase 1-5ï¼ˆHPãƒ»LLMOåˆ†æç®¡ç†æ©Ÿèƒ½ï¼‰å®Ÿè£…ä¸­ã€2025å¹´10æœˆä¸Šæ—¬ã€‚\n\n### å½±éŸ¿ç¯„å›²\n- **HPãƒ»LLMOåˆ†æãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰** (`/dashboard/analytics`)\n- ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã€Œæ›´æ–°ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯\n- Clarity APIå‘¼ã³å‡ºã—ãŒãƒ¬ãƒ¼ãƒˆåˆ¶é™ã§ã‚¨ãƒ©ãƒ¼\n- **å…¨ä½“ãŒè¡¨ç¤ºã•ã‚Œãªã„**ï¼ˆGAã€GSCãƒ‡ãƒ¼ã‚¿ã‚‚å«ã‚ã¦ï¼‰\n\n### ã‚¨ãƒ©ãƒ¼ã®ç‰¹å¾´\n```typescript\n// Clarity APIã¯ã‚¨ãƒ©ãƒ¼æ™‚ã«æ˜ç¢ºãªã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¿”ã•ãªã„\n// å˜ã« `null` ã‚„ç©ºã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’è¿”ã™\nconst clarityData = await fetchClarityData();\n// clarityData === null ï¼ˆã‚¨ãƒ©ãƒ¼ãªã®ã‹ã€ãƒ‡ãƒ¼ã‚¿ãŒãªã„ã®ã‹ä¸æ˜ï¼‰\n```\n\n---\n\n## ä½•ã‚’ã—ã‚ˆã†ã¨ã—ãŸã‹\n\nHPãƒ»LLMOåˆ†æãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã§ã€3ã¤ã®åˆ†æãƒ„ãƒ¼ãƒ«ã®ãƒ‡ãƒ¼ã‚¿ã‚’çµ±åˆè¡¨ç¤ºï¼š\n\n1. **Google Analytics** - ãƒšãƒ¼ã‚¸ãƒ“ãƒ¥ãƒ¼ã€ã‚»ãƒƒã‚·ãƒ§ãƒ³ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼æ•°ç­‰\n2. **Google Search Console** - æ¤œç´¢ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã€ã‚¯ãƒªãƒƒã‚¯æ•°ã€CTRç­‰\n3. **Microsoft Clarity** - ã‚»ãƒƒã‚·ãƒ§ãƒ³éŒ²ç”»ã€ãƒ’ãƒ¼ãƒˆãƒãƒƒãƒ—ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼è¡Œå‹•\n\n**å½“åˆã®è¨­è¨ˆ**:\n```typescript\n// /app/api/analytics/route.ts\nexport async function GET() {\n  const gaData = await fetchGoogleAnalytics();\n  const gscData = await fetchSearchConsole();\n  const clarityData = await fetchClarityData();  // â† ã“ã“ã§ã‚¨ãƒ©ãƒ¼\n\n  return {\n    ga: gaData,\n    gsc: gscData,\n    clarity: clarityData\n  };\n}\n```\n\n**å•é¡Œç‚¹**: ClarityãŒã‚¨ãƒ©ãƒ¼ã«ãªã‚‹ã¨APIå…¨ä½“ãŒå¤±æ•—ã—ã€GAã‚„GSCã®ãƒ‡ãƒ¼ã‚¿ã‚‚è¡¨ç¤ºã•ã‚Œãªã„ã€‚\n\n---\n\n## ãªãœå¤±æ•—ã—ãŸã‹\n\n### æ ¹æœ¬åŸå› 1: **Clarity APIã®å³ã—ã„ãƒ¬ãƒ¼ãƒˆåˆ¶é™**\n\nClarity APIã¯ä»–ã®Google APIã‚ˆã‚Šã‚‚ãƒ¬ãƒ¼ãƒˆåˆ¶é™ãŒå³ã—ãã€ã‹ã¤ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆåŒ–ã•ã‚Œã¦ã„ãªã„ã€‚\n\n**æ¯”è¼ƒ**:\n- **Google Analytics Data API**: 1,000 ãƒªã‚¯ã‚¨ã‚¹ãƒˆ/æ—¥ï¼ˆååˆ†ï¼‰\n- **Search Console API**: 600 ã‚¯ã‚¨ãƒª/åˆ†ï¼ˆååˆ†ï¼‰\n- **Microsoft Clarity API**: **æ˜ç¢ºãªåˆ¶é™å€¤ãŒä¸æ˜ã€å®Ÿéš›ã«ã¯æ•°åãƒªã‚¯ã‚¨ã‚¹ãƒˆ/æ—¥ã§åˆ¶é™**\n\n### æ ¹æœ¬åŸå› 2: **ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã®ä¸å‚™**\n\nå½“åˆã®å®Ÿè£…ã§ã¯ã€ClarityãŒã‚¨ãƒ©ãƒ¼ã®å ´åˆã«APIå…¨ä½“ã‚’å¤±æ•—ã•ã›ã‚‹æ§‹é€ ã ã£ãŸã€‚\n\n```typescript\n// å½“åˆã®å®Ÿè£…ï¼ˆæ‚ªã„ä¾‹ï¼‰\nconst clarityData = await fetchClarityData();  // ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿ\nif (!clarityData) {\n  throw new Error('Clarity data fetch failed');  // â† å…¨ä½“ãŒå¤±æ•—\n}\n```\n\n### æ ¹æœ¬åŸå› 3: **Clarity APIã®ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®æ›–æ˜§ã•**\n\nClarity APIã¯ãƒ¬ãƒ¼ãƒˆåˆ¶é™æ™‚ã«æ˜ç¢ºãªã‚¨ãƒ©ãƒ¼ã‚’è¿”ã•ãšã€å˜ã« `null` ã‚„ç©ºã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’è¿”ã™ã€‚\n\n**å•é¡Œ**:\n- ã‚¨ãƒ©ãƒ¼ãªã®ã‹ã€æœ¬å½“ã«ãƒ‡ãƒ¼ã‚¿ãŒãªã„ã®ã‹åŒºåˆ¥ã§ããªã„\n- ãƒªãƒˆãƒ©ã‚¤ã™ã¹ãã‹åˆ¤æ–­ã§ããªã„\n- ãƒ­ã‚°ã«ã‚‚æœ‰ç”¨ãªæƒ…å ±ãŒæ®‹ã‚‰ãªã„\n\n---\n\n## ã©ã†è§£æ±ºã—ãŸã‹\n\n### è§£æ±ºç­–: **ã‚°ãƒ¬ãƒ¼ã‚¹ãƒ•ãƒ«ãƒ‡ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆæ®µéšçš„ç¸®é€€ï¼‰**\n\nClarityãŒå¤±æ•—ã—ã¦ã‚‚ã€GAã¨GSCã®ãƒ‡ãƒ¼ã‚¿ã¯è¡¨ç¤ºã§ãã‚‹ã‚ˆã†ã«æ”¹ä¿®ã€‚\n\n#### Step 1: Clarity APIå‘¼ã³å‡ºã—ã‚’ç„¡åŠ¹åŒ–\n\n```typescript\n// /app/api/analytics/route.ts (lines 189-216)\n\n// Microsoft Clarity ãƒ‡ãƒ¼ã‚¿å–å¾—ï¼ˆç¾åœ¨ç„¡åŠ¹åŒ–ï¼‰\n// let clarityData = null;\n// try {\n//   console.log('Fetching Clarity data...');\n//   const clarityResult = await fetchClarityData(clarityProjectId);\n//   if (clarityResult && clarityResult.success) {\n//     clarityData = clarityResult.data;\n//     console.log('âœ… Clarity data fetched');\n//   } else {\n//     console.log('âš ï¸ Clarity API returned no data');\n//   }\n// } catch (error) {\n//   console.error('âŒ Clarity data fetch error:', error);\n//   // Clarityã®ã‚¨ãƒ©ãƒ¼ã¯ç„¡è¦–ã—ã¦ç¶šè¡Œ\n// }\n\n// å®Œå…¨ç„¡åŠ¹åŒ–ï¼ˆã‚³ãƒ¡ãƒ³ãƒˆã‚¢ã‚¦ãƒˆï¼‰\nconsole.log('Clarity API is disabled due to rate limiting issues.');\nconst clarityData = null;\n```\n\n**ãƒ¡ãƒªãƒƒãƒˆ**:\n- Clarity APIã‚’å‘¼ã³å‡ºã•ãªã„ãŸã‚ã€ãƒ¬ãƒ¼ãƒˆåˆ¶é™ã«é”ã—ãªã„\n- GAã¨GSCã®ãƒ‡ãƒ¼ã‚¿ã¯ç¢ºå®Ÿã«è¡¨ç¤ºã•ã‚Œã‚‹\n- å°†æ¥çš„ã«Clarity APIãŒæ”¹å–„ã•ã‚ŒãŸã‚‰ç°¡å˜ã«å†æœ‰åŠ¹åŒ–ã§ãã‚‹\n\n#### Step 2: Try-Catchã«ã‚ˆã‚‹ã‚¨ãƒ©ãƒ¼åˆ†é›¢\n\nå„APIå‘¼ã³å‡ºã—ã‚’å€‹åˆ¥ã®try-catchã§å›²ã¿ã€1ã¤ãŒå¤±æ•—ã—ã¦ã‚‚ä»–ã¯ç¶™ç¶šã€‚\n\n```typescript\n// Google Analytics ãƒ‡ãƒ¼ã‚¿å–å¾—\nlet gaData = null;\ntry {\n  console.log('Fetching GA data...');\n  const gaResult = await fetchGoogleAnalytics(gaPropertyId);\n  if (gaResult && gaResult.success) {\n    gaData = gaResult.data;\n    console.log('âœ… GA data fetched');\n  }\n} catch (error) {\n  console.error('âŒ GA data fetch error:', error);\n  // ã‚¨ãƒ©ãƒ¼ã‚’è¨˜éŒ²ã™ã‚‹ãŒã€å‡¦ç†ã¯ç¶™ç¶š\n}\n\n// Search Console ãƒ‡ãƒ¼ã‚¿å–å¾—\nlet gscData = null;\ntry {\n  console.log('Fetching GSC data...');\n  const gscResult = await fetchSearchConsole(searchConsoleSiteUrl);\n  if (gscResult && gscResult.success) {\n    gscData = gscResult.data;\n    console.log('âœ… GSC data fetched');\n  }\n} catch (error) {\n  console.error('âŒ GSC data fetch error:', error);\n  // ã‚¨ãƒ©ãƒ¼ã‚’è¨˜éŒ²ã™ã‚‹ãŒã€å‡¦ç†ã¯ç¶™ç¶š\n}\n\n// æœ€çµ‚çš„ãªãƒ¬ã‚¹ãƒãƒ³ã‚¹ï¼ˆéƒ¨åˆ†ãƒ‡ãƒ¼ã‚¿ã§ã‚‚è¿”ã™ï¼‰\nreturn NextResponse.json({\n  success: true,\n  data: {\n    googleAnalytics: gaData,\n    searchConsole: gscData,\n    clarity: null  // Clarityã¯å¸¸ã«null\n  }\n});\n```\n\n#### Step 3: ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã§éƒ¨åˆ†ãƒ‡ãƒ¼ã‚¿ã«å¯¾å¿œ\n\n```typescript\n// /app/dashboard/analytics/page.tsx\nconst data = await response.json();\n\n// GAãƒ‡ãƒ¼ã‚¿ãŒã‚ã‚Œã°è¡¨ç¤º\n{data.googleAnalytics && (\n  <GoogleAnalyticsSection data={data.googleAnalytics} />\n)}\n\n// GSCãƒ‡ãƒ¼ã‚¿ãŒã‚ã‚Œã°è¡¨ç¤º\n{data.searchConsole && (\n  <SearchConsoleSection data={data.searchConsole} />\n)}\n\n// Clarityãƒ‡ãƒ¼ã‚¿ãŒãªã‘ã‚Œã°ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º\n{!data.clarity && (\n  <div className=\"text-sm text-gray-500\">\n    âš ï¸ Clarity data is currently unavailable\n  </div>\n)}\n```\n\n---\n\n## æœ€çµ‚çš„ãªå®Ÿè£…\n\n```typescript\n// /app/api/analytics/route.tsï¼ˆç°¡ç•¥ç‰ˆï¼‰\nexport async function GET() {\n  let gaData = null;\n  let gscData = null;\n\n  // GAå–å¾—ï¼ˆtry-catchï¼‰\n  try {\n    gaData = await fetchGoogleAnalytics(gaPropertyId);\n  } catch (error) {\n    console.error('GA error:', error);\n  }\n\n  // GSCå–å¾—ï¼ˆtry-catchï¼‰\n  try {\n    gscData = await fetchSearchConsole(searchConsoleSiteUrl);\n  } catch (error) {\n    console.error('GSC error:', error);\n  }\n\n  // Clarityã¯ç„¡åŠ¹åŒ–\n  const clarityData = null;\n\n  // éƒ¨åˆ†ãƒ‡ãƒ¼ã‚¿ã§ã‚‚æˆåŠŸã¨ã—ã¦è¿”ã™\n  return NextResponse.json({\n    success: true,\n    data: {\n      googleAnalytics: gaData,\n      searchConsole: gscData,\n      clarity: clarityData\n    }\n  });\n}\n```\n\n**å‹•ä½œ**:\n- GAãŒæˆåŠŸ â†’ è¡¨ç¤º\n- GSCãŒæˆåŠŸ â†’ è¡¨ç¤º\n- Clarityã¯å¸¸ã«null â†’ ã€Œåˆ©ç”¨ä¸å¯ã€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º\n- **å°‘ãªãã¨ã‚‚GAã¨GSCã¯ç¢ºå®Ÿã«è¡¨ç¤ºã•ã‚Œã‚‹**\n\n---\n\n## å­¦ã‚“ã ã“ã¨\n\n### æ•™è¨“1: **å¤–éƒ¨APIçµ±åˆæ™‚ã¯å¿…ãšã‚°ãƒ¬ãƒ¼ã‚¹ãƒ•ãƒ«ãƒ‡ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å®Ÿè£…**\n\nè¤‡æ•°ã®å¤–éƒ¨APIã‚’çµ±åˆã™ã‚‹å ´åˆã€1ã¤ã®å¤±æ•—ã§å…¨ä½“ã‚’æ­¢ã‚ã¦ã¯ã„ã‘ãªã„ã€‚\n\n**ãƒ‘ã‚¿ãƒ¼ãƒ³**:\n```typescript\nconst results = await Promise.allSettled([\n  fetchAPI1(),\n  fetchAPI2(),\n  fetchAPI3()\n]);\n\n// æˆåŠŸã—ãŸã‚‚ã®ã ã‘ä½¿ç”¨\nconst api1Data = results[0].status === 'fulfilled' ? results[0].value : null;\nconst api2Data = results[1].status === 'fulfilled' ? results[1].value : null;\nconst api3Data = results[2].status === 'fulfilled' ? results[2].value : null;\n```\n\n### æ•™è¨“2: **ãƒ¬ãƒ¼ãƒˆåˆ¶é™ãŒä¸æ˜ãªAPIã¯æœ¬ç•ªæŠ•å…¥å‰ã«ååˆ†ãƒ†ã‚¹ãƒˆ**\n\nMicrosoft Clarity APIã¯ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒä¸è¶³ã—ã¦ãŠã‚Šã€å®Ÿéš›ã«ä½¿ã£ã¦ã¿ã¦åˆã‚ã¦ãƒ¬ãƒ¼ãƒˆåˆ¶é™ã«æ°—ã¥ã„ãŸã€‚\n\n**å¯¾ç­–**:\n- è² è·ãƒ†ã‚¹ãƒˆå®Ÿæ–½ï¼ˆé€£ç¶šãƒªã‚¯ã‚¨ã‚¹ãƒˆï¼‰\n- ãƒ¬ãƒ¼ãƒˆåˆ¶é™ç™ºç”Ÿæ™‚ã®å‹•ä½œç¢ºèª\n- ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯è¨ˆç”»ã®æº–å‚™\n\n### æ•™è¨“3: **ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒä¸æ˜ç¢ºãªAPIã¯ä½¿ã‚ãªã„é¸æŠè‚¢ã‚‚**\n\nClarityã¯ä¾¿åˆ©ã ãŒã€ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ãŒå›°é›£ã€‚\n\n**åˆ¤æ–­åŸºæº–**:\n- å¿…é ˆæ©Ÿèƒ½ã‹ï¼Ÿ â†’ Noï¼ˆGAã¨GSCã§ååˆ†ï¼‰\n- ä»£æ›¿æ‰‹æ®µã¯ã‚ã‚‹ã‹ï¼Ÿ â†’ Yes\n- ä¿¡é ¼æ€§ã¯ï¼Ÿ â†’ ä½ã„\n\nâ†’ **çµè«–**: ç„¡åŠ¹åŒ–ãŒå¦¥å½“\n\n### æ•™è¨“4: **UIè¨­è¨ˆæ™‚ã«ã€Œãƒ‡ãƒ¼ã‚¿ãŒéƒ¨åˆ†çš„ã«æ¬ ã‘ã¦ã„ã‚‹çŠ¶æ…‹ã€ã‚’è€ƒæ…®**\n\nå…¨ãƒ‡ãƒ¼ã‚¿ãŒæƒã£ã¦ã„ã‚‹å‰æã§UIã‚’è¨­è¨ˆã™ã‚‹ã¨ã€1ã¤ã§ã‚‚æ¬ ã‘ã‚‹ã¨è¡¨ç¤ºãŒå´©ã‚Œã‚‹ã€‚\n\n**è‰¯ã„è¨­è¨ˆ**:\n```typescript\n// ã‚»ã‚¯ã‚·ãƒ§ãƒ³å˜ä½ã§ç‹¬ç«‹\n<Section title=\"Google Analytics\">\n  {gaData ? <GAChart data={gaData} /> : <NoDataMessage />}\n</Section>\n\n<Section title=\"Search Console\">\n  {gscData ? <GSCTable data={gscData} /> : <NoDataMessage />}\n</Section>\n```\n\n---\n\n## æ¬¡å›ã©ã†é¿ã‘ã‚‹ã‹\n\n### APIé¸å®šæ™‚\n\n1. **ãƒ¬ãƒ¼ãƒˆåˆ¶é™ã‚’äº‹å‰èª¿æŸ»**\n   - å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç¢ºèª\n   - å®Ÿéš›ã«ãƒ†ã‚¹ãƒˆãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ä¿¡\n   - åˆ¶é™å€¤ã‚’è¶…ãˆãŸå ´åˆã®å‹•ä½œã‚’ç¢ºèª\n\n2. **ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã®æ˜ç¢ºã•ã‚’è©•ä¾¡**\n   - ã‚¨ãƒ©ãƒ¼æ™‚ã«é©åˆ‡ãªã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’è¿”ã™ã‹ï¼Ÿ\n   - ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¯è©³ç´°ã‹ï¼Ÿ\n   - ãƒªãƒˆãƒ©ã‚¤å¯èƒ½ã‹ã©ã†ã‹åˆ¤æ–­ã§ãã‚‹ã‹ï¼Ÿ\n\n3. **å¿…é ˆåº¦ã‚’è©•ä¾¡**\n   - ã“ã® APIãŒãªãã¦ã‚‚ã‚·ã‚¹ãƒ†ãƒ ã¯å‹•ä½œã™ã‚‹ã‹ï¼Ÿ\n   - ä»£æ›¿æ‰‹æ®µã¯ã‚ã‚‹ã‹ï¼Ÿ\n   - ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ã¨ã£ã¦æœ¬å½“ã«å¿…è¦ã‹ï¼Ÿ\n\n### å®Ÿè£…æ™‚\n\n4. **å¸¸ã«ã‚°ãƒ¬ãƒ¼ã‚¹ãƒ•ãƒ«ãƒ‡ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’é©ç”¨**\n   - å„APIå‘¼ã³å‡ºã—ã‚’ç‹¬ç«‹ã—ãŸtry-catchã§å›²ã‚€\n   - `Promise.allSettled()`ã‚’ä½¿ç”¨\n   - éƒ¨åˆ†ãƒ‡ãƒ¼ã‚¿ã§ã‚‚æ­£å¸¸ã«ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’è¿”ã™\n\n5. **ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã§æ¬ æãƒ‡ãƒ¼ã‚¿ã«å¯¾å¿œ**\n   - æ¡ä»¶åˆ†å²ã§ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’è¡¨ç¤º/éè¡¨ç¤º\n   - ã€Œãƒ‡ãƒ¼ã‚¿å–å¾—ä¸­ã€ã€Œãƒ‡ãƒ¼ã‚¿ãªã—ã€ã€Œã‚¨ãƒ©ãƒ¼ã€ã®3çŠ¶æ…‹ã‚’åŒºåˆ¥\n   - ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«çŠ¶æ³ã‚’æ˜ç¤º\n\n---\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- **decision_error_graceful_degradation_2025_11_24.md**: ã‚°ãƒ¬ãƒ¼ã‚¹ãƒ•ãƒ«ãƒ‡ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³è¨­è¨ˆåˆ¤æ–­\n- **skill_api_error_handling_pattern_2025_11_24.md**: å¤–éƒ¨APIå‘¼ã³å‡ºã—æ™‚ã®ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°å®Ÿè£…ãƒ‘ã‚¿ãƒ¼ãƒ³\n\n---\n\n## ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹\n\n**ç¾åœ¨**: âœ… **è§£æ±ºæ¸ˆã¿**\n\n**è§£æ±ºæ–¹æ³•**: Clarity APIå‘¼ã³å‡ºã—ã‚’å®Œå…¨ç„¡åŠ¹åŒ–ã€GAã¨GSCã®ã¿ã§é‹ç”¨\n\n**ä»Šå¾Œã®å¯¾å¿œ**:\n- Microsoft Clarity APIã®æ”¹å–„ã‚’ç›£è¦–\n- ãƒ¬ãƒ¼ãƒˆåˆ¶é™ãŒç·©å’Œã•ã‚ŒãŸã‚‰å†æœ‰åŠ¹åŒ–ã‚’æ¤œè¨\n- ç¾çŠ¶ã¯GA+GSCã§ååˆ†ãªåˆ†æãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—å¯èƒ½\n\n---\n\n**ã“ã®å•é¡Œã‹ã‚‰å­¦ã‚“ã ã‚°ãƒ¬ãƒ¼ã‚¹ãƒ•ãƒ«ãƒ‡ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ‘ã‚¿ãƒ¼ãƒ³ã¯ã€ä»–ã®å¤–éƒ¨APIçµ±åˆã§ã‚‚æ´»ç”¨ã§ãã‚‹é‡è¦ãªçŸ¥è¦‹ã§ã‚ã‚‹ã€‚**\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€ŒMicrosoft Clarity APIãƒ¬ãƒ¼ãƒˆåˆ¶é™å•é¡Œã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "decision-error-graceful-degradation"
    ]
  },
  {
    "slug": "multi-user-spreadsheet-conflicts",
    "title": "ãƒãƒ«ãƒãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆç«¶åˆ",
    "category": "Failuresï¼ˆå¤±æ•—ãƒ»ãƒˆãƒ©ãƒ–ãƒ«å¯¾å‡¦ï¼‰",
    "description": "ãƒãƒ«ãƒãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆç«¶åˆ",
    "project": "yumesuta-management-system",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"failure_multi_user_spreadsheet_conflicts_2025_11_24\",\n  \"type\": \"failure\",\n  \"name\": \"ãƒãƒ«ãƒãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆç«¶åˆ\",\n  \"problem_type\": \"design\",\n  \"tags\": [\"ãƒãƒ«ãƒãƒ¦ãƒ¼ã‚¶ãƒ¼\", \"ç«¶åˆ\", \"æ¥½è¦³çš„ãƒ­ãƒƒã‚¯\", \"Google Sheets\", \"Phase 2\"],\n  \"source_project\": \"yumesuta-management-system\",\n  \"related_knowledge\": [\"decision_mvp_readonly_scope_2025_11_24\"],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-24\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# ãƒãƒ«ãƒãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆç«¶åˆ\n\n## ä½•ãŒå•é¡Œã ã£ãŸã‹\n\nPhase 2ã§æ›¸ãè¾¼ã¿æ©Ÿèƒ½ã‚’å®Ÿè£…ã™ã‚‹éš›ã€è¤‡æ•°ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒåŒæ™‚ã«ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã‚’æ›´æ–°ã™ã‚‹ã¨ã€ç«¶åˆãŒç™ºç”Ÿã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ã€‚\n\n## çŠ¶æ³\n\nMVPï¼ˆPhase 1ï¼‰ã¯èª­ã¿å–ã‚Šå°‚ç”¨ã®ãŸã‚ã€ç«¶åˆå•é¡Œã¯ç™ºç”Ÿã—ãªã„ã€‚ã—ã‹ã—ã€Phase 2ã§æ›¸ãè¾¼ã¿æ©Ÿèƒ½ã‚’å®Ÿè£…ã™ã‚‹éš›ã€ç«¶åˆè§£æ±ºãŒå¿…è¦ã«ãªã‚‹ã€‚\n\n## Phase 2ã§ã®è§£æ±ºç­–\n\n### å¯¾å‡¦æ³•1ï¼šæ¥½è¦³çš„ãƒ­ãƒƒã‚¯\n\n```typescript\n// ETagã‚’ä½¿ç”¨ã—ãŸæ¥½è¦³çš„ãƒ­ãƒƒã‚¯\ninterface RowData {\n  id: number;\n  data: string[];\n  etag: string;  // æœ€çµ‚æ›´æ–°æ™‚ã®ãƒãƒƒã‚·ãƒ¥å€¤\n}\n\nasync function updateRow(rowId: number, newData: string[], expectedETag: string) {\n  // 1. ç¾åœ¨ã®ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—\n  const currentData = await getSheetData(...);\n  const currentRow = currentData.find(row => row[0] === rowId);\n  const currentETag = generateETag(currentRow);\n\n  // 2. ETagãƒã‚§ãƒƒã‚¯ï¼ˆç«¶åˆæ¤œçŸ¥ï¼‰\n  if (currentETag !== expectedETag) {\n    throw new Error('ç«¶åˆãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚æœ€æ–°ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã—ã¦ãã ã•ã„ã€‚');\n  }\n\n  // 3. ãƒ‡ãƒ¼ã‚¿æ›´æ–°\n  await updateSheetData(...);\n}\n```\n\n### å¯¾å‡¦æ³•2ï¼šæ›¸ãè¾¼ã¿ã‚­ãƒ¥ãƒ¼\n\n```typescript\n// æ›¸ãè¾¼ã¿ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ã‚­ãƒ¥ãƒ¼ã«è¿½åŠ ã—ã€é †æ¬¡å‡¦ç†\nconst writeQueue: WriteRequest[] = [];\n\nasync function enqueueWrite(request: WriteRequest) {\n  writeQueue.push(request);\n  if (writeQueue.length === 1) {\n    await processQueue();\n  }\n}\n\nasync function processQueue() {\n  while (writeQueue.length > 0) {\n    const request = writeQueue[0];\n    await performWrite(request);\n    writeQueue.shift();\n  }\n}\n```\n\n## å­¦ã‚“ã ã“ã¨\n\n- ãƒãƒ«ãƒãƒ¦ãƒ¼ã‚¶ãƒ¼ç’°å¢ƒã§ã¯ã€æ¥½è¦³çš„ãƒ­ãƒƒã‚¯ã¾ãŸã¯ã‚­ãƒ¥ãƒ¼ã«ã‚ˆã‚‹ç«¶åˆè§£æ±ºãŒå¿…è¦\n- MVPæ®µéšã§ç«¶åˆè§£æ±ºã‚’çœç•¥ã™ã‚‹å ´åˆã€Phase 2ã§ã®å®Ÿè£…è¨ˆç”»ã‚’æ˜ç¢ºã«ã™ã¹ã\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `decision_mvp_readonly_scope_2025_11_24.md` - MVPèª­ã¿å–ã‚Šå°‚ç”¨æ–¹é‡\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€Œãƒãƒ«ãƒãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆç«¶åˆã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "decision-mvp-readonly-scope"
    ]
  },
  {
    "slug": "mvp-scope-exclusions",
    "title": "MVPç¯„å›²å¤–æ©Ÿèƒ½ï¼ˆæ„å›³çš„é™¤å¤–ï¼‰",
    "category": "Failuresï¼ˆå¤±æ•—ãƒ»ãƒˆãƒ©ãƒ–ãƒ«å¯¾å‡¦ï¼‰",
    "description": "MVPç¯„å›²å¤–æ©Ÿèƒ½ï¼ˆæ„å›³çš„é™¤å¤–ï¼‰",
    "project": "yumesuta-management-system",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"failure_mvp_scope_exclusions_2025_11_24\",\n  \"type\": \"failure\",\n  \"name\": \"MVPç¯„å›²å¤–æ©Ÿèƒ½ï¼ˆæ„å›³çš„é™¤å¤–ï¼‰\",\n  \"problem_type\": \"scope\",\n  \"tags\": [\"MVP\", \"ã‚¹ã‚³ãƒ¼ãƒ—\", \"Phase 2\", \"ç¯„å›²å¤–æ©Ÿèƒ½\"],\n  \"source_project\": \"yumesuta-management-system\",\n  \"related_knowledge\": [\"decision_mvp_readonly_scope_2025_11_24\"],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-24\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# MVPç¯„å›²å¤–æ©Ÿèƒ½ï¼ˆæ„å›³çš„é™¤å¤–ï¼‰\n\n## ä½•ãŒå•é¡Œã ã£ãŸã‹\n\nMVPï¼ˆPhase 1ï¼‰ã§ã¯ã€ä»¥ä¸‹ã®æ©Ÿèƒ½ã‚’æ„å›³çš„ã«é™¤å¤–ã—ãŸã€‚ã“ã‚Œã‚‰ã¯Phase 2ä»¥é™ã«å®Ÿè£…äºˆå®šã€‚\n\n## MVPç¯„å›²å¤–æ©Ÿèƒ½ãƒªã‚¹ãƒˆ\n\n### 1. åŒæ–¹å‘åŒæœŸï¼ˆGoogle Sheetsã¸ã®æ›¸ãè¾¼ã¿ï¼‰\n\n**ç†ç”±**ï¼š\n- å®Ÿè£…å·¥æ•°ãŒå¤§ãã„ï¼ˆãƒ•ã‚©ãƒ¼ãƒ ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã€ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã€ç«¶åˆè§£æ±ºç­‰ï¼‰\n- MVPã®æ ¸å¿ƒçš„ä¾¡å€¤ã¯ã€Œãƒ‡ãƒ¼ã‚¿å¯è¦–åŒ–ã€ã§ã‚ã‚Šã€æ›¸ãè¾¼ã¿ã§ã¯ãªã„\n\n**Phase 2å®Ÿè£…äºˆå®š**ï¼š\n- Google Sheetsæ›¸ãè¾¼ã¿APIå®Ÿè£…\n- ãƒ•ã‚©ãƒ¼ãƒ ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³\n- æ¥½è¦³çš„ãƒ­ãƒƒã‚¯ï¼ˆç«¶åˆè§£æ±ºï¼‰\n\n### 2. è‡ªå‹•æ›´æ–°ãƒ»ãƒãƒ¼ãƒªãƒ³ã‚°\n\n**ç†ç”±**ï¼š\n- APIã‚¯ã‚©ãƒ¼ã‚¿ã‚’æ¶ˆè²»ã™ã‚‹\n- ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã€Œæ›´æ–°ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã ã‘ã§ååˆ†\n\n**Phase 2å®Ÿè£…äºˆå®š**ï¼š\n- Webhookå®Ÿè£…ï¼ˆGoogle Sheetsã®å¤‰æ›´ã‚’æ¤œçŸ¥ï¼‰\n- ã¾ãŸã¯å®šæœŸãƒãƒ¼ãƒªãƒ³ã‚°ï¼ˆ1åˆ†ã”ã¨ï¼‰\n\n### 3. èªè¨¼æ©Ÿèƒ½\n\n**ç†ç”±**ï¼š\n- MVPç¯„å›²ã§ã¯èª­ã¿å–ã‚Šå°‚ç”¨ã®ãŸã‚ã€èªè¨¼ä¸è¦\n- ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒã¾ãŸã¯VPCå†…ã§ä½¿ç”¨\n\n**Phase 2å®Ÿè£…äºˆå®š**ï¼š\n- OAuth 2.0èªè¨¼å®Ÿè£…\n- ãƒ­ãƒ¼ãƒ«ãƒ™ãƒ¼ã‚¹ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡ï¼ˆRBACï¼‰\n\n### 4. HPè‡ªå‹•æ›´æ–°æ©Ÿèƒ½\n\n**ç†ç”±**ï¼š\n- MVPç¯„å›²å¤–ï¼ˆGoogle Sheetsãƒ‡ãƒ¼ã‚¿è¡¨ç¤ºãŒå„ªå…ˆï¼‰\n- HPæ›´æ–°ã¯åˆ¥ã‚·ã‚¹ãƒ†ãƒ ã¨ã—ã¦å®Ÿè£…äºˆå®š\n\n**Phase 2å®Ÿè£…äºˆå®š**ï¼š\n- HPè‡ªå‹•æ›´æ–°APIå®Ÿè£…\n- CMSã¨ã®çµ±åˆ\n\n### 5. SNSè‡ªå‹•æŠ•ç¨¿æ©Ÿèƒ½\n\n**ç†ç”±**ï¼š\n- MVPç¯„å›²å¤–ï¼ˆSNSæŠ•ç¨¿ç®¡ç†ã®è¡¨ç¤ºã®ã¿ï¼‰\n- è‡ªå‹•æŠ•ç¨¿ã¯åˆ¥ã‚·ã‚¹ãƒ†ãƒ ã¨ã—ã¦å®Ÿè£…äºˆå®š\n\n**Phase 2å®Ÿè£…äºˆå®š**ï¼š\n- Instagram APIé€£æº\n- Xï¼ˆTwitterï¼‰APIé€£æº\n\n## ã“ã®åˆ¤æ–­ã‹ã‚‰å­¦ã¹ã‚‹ã“ã¨\n\nMVPç¯„å›²ã‚’æ˜ç¢ºã«å®šç¾©ã—ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æœŸå¾…å€¤ã‚’é©åˆ‡ã«è¨­å®šã™ã‚‹ã“ã¨ãŒé‡è¦ã€‚\n\n## æ¬¡å›ã©ã†é¿ã‘ã‚‹ã‹\n\n- README.mdã«ã€ŒMVPç¯„å›²å¤–æ©Ÿèƒ½ã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’ä½œæˆ\n- Phase 2å®Ÿè£…äºˆå®šã‚’æ˜è¨˜\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `decision_mvp_readonly_scope_2025_11_24.md` - MVPèª­ã¿å–ã‚Šå°‚ç”¨æ–¹é‡\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€ŒMVPç¯„å›²å¤–æ©Ÿèƒ½ï¼ˆæ„å›³çš„é™¤å¤–ï¼‰ã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "decision-mvp-readonly-scope"
    ]
  },
  {
    "slug": "slug-collision-timestamp-fix",
    "title": "ã‚¹ãƒ©ã‚°è¡çªå•é¡Œã¨timestampè¿½åŠ ã§ã®è§£æ±º",
    "category": "Failuresï¼ˆå¤±æ•—ãƒ»ãƒˆãƒ©ãƒ–ãƒ«å¯¾å‡¦ï¼‰",
    "description": "ã‚¹ãƒ©ã‚°è¡çªå•é¡Œã¨timestampè¿½åŠ ã§ã®è§£æ±º",
    "project": "ai-blog-generator",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"failure_slug_collision_timestamp_fix_2025_04_22\",\n  \"type\": \"failure\",\n  \"name\": \"ã‚¹ãƒ©ã‚°è¡çªå•é¡Œã¨timestampè¿½åŠ ã§ã®è§£æ±º\",\n  \"problem_type\": \"bug\",\n  \"tags\": [\"ã‚¹ãƒ©ã‚°\", \"è¡çª\", \"timestamp\"],\n  \"source_project\": \"ai-blog-generator\",\n  \"related_knowledge\": [\"skill_slug_generation_collision_check_2025_04_22\"],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-04-22\",\n  \"updated\": \"2025-04-22\"\n}\n```\n\n# ã‚¹ãƒ©ã‚°è¡çªå•é¡Œã¨timestampè¿½åŠ ã§ã®è§£æ±º\n\n## å•é¡Œ\n\nåŒã˜ã‚¿ã‚¤ãƒˆãƒ«ã®è¨˜äº‹ãŒç”Ÿæˆã•ã‚Œã€æ—¢å­˜ãƒ•ã‚¡ã‚¤ãƒ«ãŒä¸Šæ›¸ãã•ã‚ŒãŸã€‚\n\n## åŸå› \n\nè¡çªãƒã‚§ãƒƒã‚¯ã®æ¬ å¦‚ã€‚AIç”Ÿæˆã§ã¯åŒã˜ã‚¿ã‚¤ãƒˆãƒ«ãŒç”Ÿæˆã•ã‚Œã†ã‚‹ã“ã¨ã‚’æƒ³å®šã—ã¦ã„ãªã‹ã£ãŸã€‚\n\n## è§£æ±ºç­–\n\n```typescript\nif (existingSlugs.includes(slug)) {\n  slug = `${slug}-${Date.now()}`;\n}\n```\n\n## å­¦ã³\n\n1. ä¸€æ„æ€§ã®ç¢ºä¿ã¯å¿…é ˆ\n2. AIç”Ÿæˆã§ã¯äºˆæ¸¬ä¸å¯èƒ½\n3. timestampã¯ä¸‡èƒ½ãªä¸€æ„æ€§ä¿è¨¼æ‰‹æ®µ\n\n## é–¢é€£\n\n- `skill_slug_generation_collision_check_2025_04_22.md`\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€Œã‚¹ãƒ©ã‚°è¡çªå•é¡Œã¨timestampè¿½åŠ ã§ã®è§£æ±ºã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "skill-slug-generation-collision-check"
    ]
  },
  {
    "slug": "spreadsheet-schema-change-detection",
    "title": "ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆæ§‹é€ å¤‰æ›´æ¤œçŸ¥",
    "category": "Failuresï¼ˆå¤±æ•—ãƒ»ãƒˆãƒ©ãƒ–ãƒ«å¯¾å‡¦ï¼‰",
    "description": "ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆæ§‹é€ å¤‰æ›´æ¤œçŸ¥",
    "project": "yumesuta-management-system",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"failure_spreadsheet_schema_change_detection_2025_11_24\",\n  \"type\": \"failure\",\n  \"name\": \"ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆæ§‹é€ å¤‰æ›´æ¤œçŸ¥\",\n  \"problem_type\": \"design\",\n  \"tags\": [\"ã‚¹ã‚­ãƒ¼ãƒå¤‰æ›´\", \"æ§‹é€ å¤‰æ›´\", \"ãƒ¬ãƒ³ã‚¸æŒ‡å®š\", \"ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿é§†å‹•\"],\n  \"source_project\": \"yumesuta-management-system\",\n  \"related_knowledge\": [\"skill_spreadsheet_metadata_discovery_2025_11_24\"],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-24\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆæ§‹é€ å¤‰æ›´æ¤œçŸ¥\n\n## ä½•ãŒå•é¡Œã ã£ãŸã‹\n\nã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã®æ§‹é€ ï¼ˆåˆ—ã®è¿½åŠ ãƒ»å‰Šé™¤ãƒ»ä¸¦ã³æ›¿ãˆï¼‰ãŒå¤‰æ›´ã•ã‚ŒãŸå ´åˆã€API Routeã®ãƒ‘ãƒ¼ã‚¹ãƒ­ã‚¸ãƒƒã‚¯ãŒå£Šã‚Œã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ã€‚\n\n## çŠ¶æ³\n\nç¾åœ¨ã®å®Ÿè£…ã§ã¯ã€ãƒ¬ãƒ³ã‚¸ã‚’ãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‰ï¼ˆä¾‹: `'KPIãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰!A1:K25'`ï¼‰ã—ã¦ãŠã‚Šã€åˆ—ãŒè¿½åŠ ãƒ»å‰Šé™¤ã•ã‚Œã‚‹ã¨ã€ãƒ‘ãƒ¼ã‚¹ãƒ­ã‚¸ãƒƒã‚¯ãŒæ­£ã—ãå‹•ä½œã—ãªããªã‚‹ã€‚\n\n## ä½•ãŒå•é¡Œã ã£ãŸã‹\n\n**æ ¹æœ¬åŸå› **ï¼š\n- ãƒ¬ãƒ³ã‚¸ãŒãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‰ï¼ˆ`A1:K25`ï¼‰\n- åˆ—ã®ä½ç½®ã«ä¾å­˜ã—ãŸãƒ‘ãƒ¼ã‚¹ãƒ­ã‚¸ãƒƒã‚¯ï¼ˆä¾‹: `row[5]` = ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹åˆ—ï¼‰\n\n**ãƒªã‚¹ã‚¯**ï¼š\n- ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã«åˆ—ã‚’è¿½åŠ ã™ã‚‹ã¨ã€ãƒ‘ãƒ¼ã‚¹ãƒ­ã‚¸ãƒƒã‚¯ãŒå£Šã‚Œã‚‹\n- æ§‹é€ å¤‰æ›´ã‚’è‡ªå‹•æ¤œçŸ¥ã§ããªã„\n\n## Phase 2ã§ã®è§£æ±ºç­–\n\n### å¯¾å‡¦æ³•1ï¼šãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿é§†å‹•å‹ãƒ¬ãƒ³ã‚¸æŒ‡å®š\n\n```typescript\n// ãƒ˜ãƒƒãƒ€ãƒ¼è¡Œã‹ã‚‰åˆ—ã®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚’å–å¾—\nconst headers = data[0];  // ['å¥‘ç´„ID', 'ä¼æ¥­å', 'ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹', ...]\nconst statusIndex = headers.indexOf('ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹');\n\n// å‹•çš„ã«åˆ—ã‚’å‚ç…§\nconst status = row[statusIndex];\n```\n\n### å¯¾å‡¦æ³•2ï¼šæ§‹é€ å¤‰æ›´æ¤œçŸ¥\n\n```typescript\n// æœŸå¾…ã•ã‚Œã‚‹ãƒ˜ãƒƒãƒ€ãƒ¼ã¨å®Ÿéš›ã®ãƒ˜ãƒƒãƒ€ãƒ¼ã‚’æ¯”è¼ƒ\nconst expectedHeaders = ['å¥‘ç´„ID', 'ä¼æ¥­å', 'ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹'];\nconst actualHeaders = data[0];\n\nconst missingHeaders = expectedHeaders.filter(h => !actualHeaders.includes(h));\nif (missingHeaders.length > 0) {\n  throw new Error(`åˆ—ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“: ${missingHeaders.join(', ')}`);\n}\n```\n\n## å­¦ã‚“ã ã“ã¨\n\n- ãƒ¬ãƒ³ã‚¸ã‚’ãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‰ã™ã‚‹ã¨ã€ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆæ§‹é€ å¤‰æ›´ã«è„†å¼±\n- ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿é§†å‹•å‹ï¼ˆãƒ˜ãƒƒãƒ€ãƒ¼è¡Œã‹ã‚‰åˆ—ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹å–å¾—ï¼‰ã®æ–¹ãŒå …ç‰¢\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `skill_spreadsheet_metadata_discovery_2025_11_24.md` - ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿å–å¾—\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€Œã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆæ§‹é€ å¤‰æ›´æ¤œçŸ¥ã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "skill-spreadsheet-metadata-discovery"
    ]
  },
  {
    "slug": "tech-debt-no-tests",
    "title": "ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰æœªå®Ÿè£…ã®æŠ€è¡“çš„è² å‚µ",
    "category": "Failuresï¼ˆå¤±æ•—ãƒ»ãƒˆãƒ©ãƒ–ãƒ«å¯¾å‡¦ï¼‰",
    "description": "ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰æœªå®Ÿè£…ã®æŠ€è¡“çš„è² å‚µ",
    "project": "ai-blog-generator",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"failure_tech_debt_no_tests_2025_04_22\",\n  \"type\": \"failure\",\n  \"name\": \"ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰æœªå®Ÿè£…ã®æŠ€è¡“çš„è² å‚µ\",\n  \"problem_type\": \"design\",\n  \"tags\": [\"ãƒ†ã‚¹ãƒˆ\", \"æŠ€è¡“çš„è² å‚µ\"],\n  \"source_project\": \"ai-blog-generator\",\n  \"related_knowledge\": [],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-04-22\",\n  \"updated\": \"2025-04-22\"\n}\n```\n\n# ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰æœªå®Ÿè£…ã®æŠ€è¡“çš„è² å‚µ\n\n## å•é¡Œ\n\nãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå…¨ä½“ã«ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ãŒ0è¡Œã€‚\n\n## åŸå› \n\næ™‚é–“å„ªå…ˆã€å°è¦æ¨¡ã ã‹ã‚‰ãƒ†ã‚¹ãƒˆä¸è¦ã¨åˆ¤æ–­ã€Next.jsã®ãƒ†ã‚¹ãƒˆç’°å¢ƒæ§‹ç¯‰ãŒé¢å€’ã€‚\n\n## å½±éŸ¿\n\n1. ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ãŒæ€–ã„\n2. ãƒã‚°ã®ç™ºè¦‹ãŒé…ã‚Œã‚‹\n3. ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆä»£ã‚ã‚Šã«ãªã‚‰ãªã„\n\n## ä»Šå¾Œã®å¯¾å¿œ\n\né‡è¦ãªé–¢æ•°ã‹ã‚‰é †ã«ãƒ†ã‚¹ãƒˆè¿½åŠ ã€‚æœ€å„ªå…ˆ: lib/gemini.ts, lib/prompt.ts\n\n## å­¦ã³\n\n1. å°è¦æ¨¡ã§ã‚‚ãƒ†ã‚¹ãƒˆã¯å¿…è¦\n2. æœ€åˆã‹ã‚‰ãƒ†ã‚¹ãƒˆã‚’æ›¸ã\n3. ãƒ†ã‚¹ãƒˆã¯é•·æœŸçš„ãªæŠ•è³‡\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€Œãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰æœªå®Ÿè£…ã®æŠ€è¡“çš„è² å‚µã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": []
  },
  {
    "slug": "tech-debt-no-tests-validation",
    "title": "æŠ€è¡“çš„è² å‚µï¼šãƒ†ã‚¹ãƒˆãƒ»ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ»ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–æœªå®Ÿè£…",
    "category": "Failuresï¼ˆå¤±æ•—ãƒ»ãƒˆãƒ©ãƒ–ãƒ«å¯¾å‡¦ï¼‰",
    "description": "æŠ€è¡“çš„è² å‚µï¼šãƒ†ã‚¹ãƒˆãƒ»ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ»ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–æœªå®Ÿè£…",
    "project": "ai-document-generator",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"failure_tech_debt_no_tests_validation_2025_04_11\",\n  \"type\": \"failure\",\n  \"name\": \"æŠ€è¡“çš„è² å‚µï¼šãƒ†ã‚¹ãƒˆãƒ»ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ»ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–æœªå®Ÿè£…\",\n  \"problem_type\": \"tech_debt\",\n  \"tags\": [\"æŠ€è¡“çš„è² å‚µ\", \"ãƒ†ã‚¹ãƒˆ\", \"ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³\", \"ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹\", \"å“è³ªä¿è¨¼\", \"æœªå®Ÿè£…\"],\n  \"source_project\": \"ai-document-generator\",\n  \"related_knowledge\": [\"workflow_document_creation_full_flow_2025_04_11\"],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-04-11\",\n  \"updated\": \"2025-04-11\"\n}\n```\n\n# æŠ€è¡“çš„è² å‚µï¼šãƒ†ã‚¹ãƒˆãƒ»ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ»ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–æœªå®Ÿè£…\n\n## ä½•ãŒå•é¡Œã ã£ãŸã‹\n\nai-document-generatorãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯æ©Ÿèƒ½çš„ã«ã¯å‹•ä½œã™ã‚‹ãŒã€ä»¥ä¸‹ã®é‡è¦ãªå“è³ªä¿è¨¼æ©Ÿèƒ½ãŒæœªå®Ÿè£…ã®ã¾ã¾æœ¬ç•ªé‹ç”¨ã•ã‚Œã¦ã„ã‚‹ï¼š\n\n1. **ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ï¼ˆUnit/Integration/E2Eï¼‰ãŒå­˜åœ¨ã—ãªã„**\n2. **ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå®šç¾©ã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆSchema Validationï¼‰ãŒä¸ååˆ†**\n3. **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–ï¼ˆLazy Loadingã€ä»®æƒ³åŒ–ãªã©ï¼‰ãŒæœªå®Ÿè£…**\n4. **ã‚¨ãƒ©ãƒ¼ãƒã‚¦ãƒ³ãƒ€ãƒªãŒä¸ååˆ†**\n5. **ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£å¯¾å¿œãŒä¸ååˆ†**\n\n## çŠ¶æ³\n\n### ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ç¾çŠ¶\n\n```bash\n# ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ãŒå­˜åœ¨ã—ãªã„\n$ find src -name \"*.test.*\" -o -name \"*.spec.*\"\n# çµæœï¼š0ãƒ•ã‚¡ã‚¤ãƒ«\n\n# package.jsonã«ãƒ†ã‚¹ãƒˆã‚¹ã‚¯ãƒªãƒ—ãƒˆãŒãªã„\n$ cat package.json | grep test\n# çµæœï¼šãªã—\n\n# ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¯ã‚ã‚‹ãŒã€ä½¿ã‚ã‚Œã¦ã„ãªã„\n$ cat package.json | grep zod\n\"zod\": \"^3.24.2\"  # ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹ãŒã€ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå®šç¾©ã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã«ä½¿ã‚ã‚Œã¦ã„ãªã„\n```\n\n### é–‹ç™ºãƒ—ãƒ­ã‚»ã‚¹\n\n- **é–‹ç™ºé€Ÿåº¦å„ªå…ˆ**ï¼šæ©Ÿèƒ½å®Ÿè£…ã‚’æœ€å„ªå…ˆã—ã€ãƒ†ã‚¹ãƒˆãƒ»ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å¾Œå›ã—ã«ã—ãŸ\n- **å˜ä¸€é–‹ç™ºè€…**ï¼šãƒãƒ¼ãƒ é–‹ç™ºã§ã¯ãªãã€ä¸€äººã§é–‹ç™ºã—ã¦ã„ã‚‹ãŸã‚ã€ãƒ†ã‚¹ãƒˆã®å¿…è¦æ€§ãŒä½ã„ã¨åˆ¤æ–­\n- **ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—çš„æ€§è³ª**ï¼šã¾ãšå‹•ãã‚‚ã®ã‚’ä½œã‚‹ã“ã¨ã‚’å„ªå…ˆ\n\n## ä½•ã‚’ã—ã‚ˆã†ã¨ã—ãŸã‹\n\n### å½“åˆã®æ„å›³\n\nãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—ã¨ã—ã¦ç´ æ—©ãå‹•ãã‚‚ã®ã‚’ä½œã‚Šã€å¾Œã§ãƒ†ã‚¹ãƒˆãƒ»ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’è¿½åŠ ã™ã‚‹è¨ˆç”»ã ã£ãŸã€‚\n\n**é–‹ç™ºå„ªå…ˆé †ä½**ï¼ˆå½“åˆï¼‰ï¼š\n1. âœ… **Phase 1**: ã‚³ã‚¢æ©Ÿèƒ½å®Ÿè£…ï¼ˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚·ã‚¹ãƒ†ãƒ ã€AIç”Ÿæˆã€PDFã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆï¼‰\n2. â³ **Phase 2**: ãƒ†ã‚¹ãƒˆãƒ»ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³è¿½åŠ ï¼ˆç¾åœ¨æœªå®Ÿè£…ï¼‰\n3. â³ **Phase 3**: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–ï¼ˆç¾åœ¨æœªå®Ÿè£…ï¼‰\n4. â³ **Phase 4**: ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£å¯¾å¿œï¼ˆç¾åœ¨æœªå®Ÿè£…ï¼‰\n\n## ä½•ãŒå•é¡Œã ã£ãŸã‹\n\n### å•é¡Œ1ï¼šãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ãŒå­˜åœ¨ã—ãªã„\n\n#### å½±éŸ¿\n\n- **ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ãŒæ€–ã„**ï¼šå¤‰æ›´ãŒä»–ã®éƒ¨åˆ†ã«å½±éŸ¿ã—ãªã„ã‹ç¢ºèªã§ããªã„\n- **ãƒã‚°ç™ºè¦‹ãŒé…ã„**ï¼šãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒä½¿ã£ã¦ã‹ã‚‰åˆã‚ã¦ãƒã‚°ãŒç™ºè¦š\n- **æ©Ÿèƒ½è¿½åŠ ã®ã‚³ã‚¹ãƒˆå¢—å¤§**ï¼šæ—¢å­˜æ©Ÿèƒ½ãŒå£Šã‚Œã¦ã„ãªã„ã‹æ‰‹å‹•ã§ç¢ºèªã™ã‚‹å¿…è¦ãŒã‚ã‚‹\n\n#### å…·ä½“ä¾‹\n\nãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆäº’æ›æ€§ãƒã‚§ãƒƒã‚¯é–¢æ•°ã«ãƒã‚°ãŒã‚ã£ã¦ã‚‚ã€æ°—ã¥ã‹ãªã„ï¼š\n\n```typescript\n// src/lib/validation/template-compatibility.ts\nexport function isLayoutCompatible(\n  documentType: DocumentTypeDefinition,\n  layoutId: string\n): boolean {\n  return documentType.compatibility.layouts.includes(layoutId);\n}\n\n// ãƒ†ã‚¹ãƒˆãŒãªã„ãŸã‚ã€ä»¥ä¸‹ã®ã‚±ãƒ¼ã‚¹ã§ãƒã‚°ãŒç™ºç”Ÿã™ã‚‹å¯èƒ½æ€§ï¼š\n// - documentType.compatibility ãŒ undefined ã®å ´åˆ\n// - layouts ãŒé…åˆ—ã§ãªã„å ´åˆ\n// - layoutId ãŒ null ã®å ´åˆ\n```\n\n**ãƒ†ã‚¹ãƒˆãŒã‚ã‚Œã°**ï¼š\n```typescript\n// tests/template-compatibility.test.ts\ndescribe('isLayoutCompatible', () => {\n  it('should return true for compatible layout', () => {\n    const documentType = { /* ... */ };\n    expect(isLayoutCompatible(documentType, 'layout-1')).toBe(true);\n  });\n\n  it('should return false for incompatible layout', () => {\n    const documentType = { /* ... */ };\n    expect(isLayoutCompatible(documentType, 'layout-999')).toBe(false);\n  });\n\n  it('should handle undefined compatibility gracefully', () => {\n    const documentType = { compatibility: undefined };\n    expect(() => isLayoutCompatible(documentType, 'layout-1')).not.toThrow();\n  });\n});\n```\n\n#### ä¸è¶³ã—ã¦ã„ã‚‹ãƒ†ã‚¹ãƒˆã®ç¨®é¡\n\n1. **Unit Tests**ï¼ˆå˜ä½“ãƒ†ã‚¹ãƒˆï¼‰\n   - ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£é–¢æ•°ï¼ˆ`isLayoutCompatible`ã€`generatePrompt`ãªã©ï¼‰\n   - ã‚¹ãƒˆã‚¢ã®å„ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ï¼ˆ`selectDocumentType`ã€`updateSectionContent`ãªã©ï¼‰\n   - ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ãƒ­ã‚¸ãƒƒã‚¯\n\n2. **Integration Tests**ï¼ˆçµ±åˆãƒ†ã‚¹ãƒˆï¼‰\n   - API Routesï¼ˆ`/api/ai/generate`ã€`/api/export`ãªã©ï¼‰\n   - è¤‡æ•°ã‚¹ãƒˆã‚¢ã®é€£æºï¼ˆ`templateStore` â†’ `documentStore` â†’ `sectionStore`ï¼‰\n   - AIç”Ÿæˆãƒ•ãƒ­ãƒ¼å…¨ä½“\n\n3. **E2E Tests**ï¼ˆã‚¨ãƒ³ãƒ‰ãƒ„ãƒ¼ã‚¨ãƒ³ãƒ‰ãƒ†ã‚¹ãƒˆï¼‰\n   - ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆä½œæˆãƒ•ãƒ­ãƒ¼å…¨ä½“ï¼ˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé¸æŠ â†’ AIç”Ÿæˆ â†’ PDFã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆï¼‰\n   - ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ï¼ˆãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¨ãƒ©ãƒ¼ã€APIå¤±æ•—ãªã©ï¼‰\n\n---\n\n### å•é¡Œ2ï¼šãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå®šç¾©ã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãŒä¸ååˆ†\n\n#### å½±éŸ¿\n\n- **ä¸æ­£ãªãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå®šç¾©ãŒæ··å…¥**ï¼šJSON/YAMLãƒ•ã‚¡ã‚¤ãƒ«ã«èª¤ã‚ŠãŒã‚ã£ã¦ã‚‚ã€å®Ÿè¡Œæ™‚ã«ã‚¨ãƒ©ãƒ¼\n- **äº’æ›æ€§ã®ç ´å£Š**ï¼šãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå®šç¾©ã®å½¢å¼ãŒå¤‰æ›´ã•ã‚Œã¦ã‚‚ã€å¤ã„ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãŒå‹•ä½œã—ãªã„\n\n#### å…·ä½“ä¾‹\n\nJSONãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå®šç¾©ã«èª¤ã‚ŠãŒã‚ã£ã¦ã‚‚ã€èª­ã¿è¾¼ã¿æ™‚ã«ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿï¼š\n\n```json\n// data/document-types/flyer-a4.jsonï¼ˆä¸æ­£ãªå®šç¾©ï¼‰\n{\n  \"id\": \"flyer-a4\",\n  \"name\": \"A4ãƒãƒ©ã‚·\",\n  \"format\": {\n    \"type\": \"A4_portrait\",\n    \"width\": \"2480\",  // âŒ æ–‡å­—åˆ—ï¼ˆæ­£ã—ãã¯æ•°å€¤ï¼‰\n    \"height\": \"3508\", // âŒ æ–‡å­—åˆ—\n    \"ratio\": 0.707\n  },\n  \"compatibility\": {\n    \"layouts\": [\"layout-1\", 123]  // âŒ æ•°å€¤ãŒæ··å…¥ï¼ˆæ­£ã—ãã¯æ–‡å­—åˆ—ã®ã¿ï¼‰\n  }\n}\n```\n\nå®Ÿè¡Œæ™‚ã‚¨ãƒ©ãƒ¼ï¼š\n```typescript\n// src/store/templateStore.ts\nconst documentType = JSON.parse(fileContent);\n\n// width ãŒæ–‡å­—åˆ—ãªã®ã§ã€è¨ˆç®—ã§ã‚¨ãƒ©ãƒ¼\nconst aspectRatio = documentType.format.width / documentType.format.height;\n// NaN ãŒè¿”ã•ã‚Œã‚‹ â†’ ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆãŒå´©ã‚Œã‚‹\n```\n\n**ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãŒã‚ã‚Œã°**ï¼š\n```typescript\n// src/lib/validation/template-schema.ts\nimport { z } from 'zod';\n\nconst DocumentTypeSchema = z.object({\n  id: z.string(),\n  name: z.string(),\n  format: z.object({\n    type: z.string(),\n    width: z.number().positive(),  // æ•°å€¤ã§æ­£ã®å€¤\n    height: z.number().positive(),\n    ratio: z.number().positive(),\n  }),\n  compatibility: z.object({\n    layouts: z.array(z.string()),  // æ–‡å­—åˆ—ã®é…åˆ—\n    themes: z.array(z.string()),\n  }),\n});\n\n// ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆèª­ã¿è¾¼ã¿æ™‚ã«ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³\nconst documentType = DocumentTypeSchema.parse(JSON.parse(fileContent));\n// ä¸æ­£ãªå®šç¾©ã®å ´åˆã€ã“ã“ã§ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã€å•é¡Œã‚’æ—©æœŸç™ºè¦‹\n```\n\n#### ä¸è¶³ã—ã¦ã„ã‚‹ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³\n\n1. **ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå®šç¾©ã®ã‚¹ã‚­ãƒ¼ãƒãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³**\n   - Document Typeã€Layoutã€Themeã€Componentã®å„å®šç¾©\n   - å¿…é ˆãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®ãƒã‚§ãƒƒã‚¯\n   - å‹ãƒã‚§ãƒƒã‚¯ï¼ˆæ–‡å­—åˆ—ã€æ•°å€¤ã€é…åˆ—ãªã©ï¼‰\n\n2. **äº’æ›æ€§ã®æ•´åˆæ€§ãƒã‚§ãƒƒã‚¯**\n   - Document TypeãŒå‚ç…§ã™ã‚‹LayoutãŒå­˜åœ¨ã™ã‚‹ã‹\n   - LayoutãŒå‚ç…§ã™ã‚‹ComponentãŒå­˜åœ¨ã™ã‚‹ã‹\n\n3. **ãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›ã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³**\n   - ã‚°ãƒ­ãƒ¼ãƒãƒ«ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ï¼ˆã‚¿ã‚¤ãƒˆãƒ«ã€ç›®çš„ãªã©ï¼‰ã®å¿…é ˆãƒã‚§ãƒƒã‚¯\n   - æ–‡å­—æ•°åˆ¶é™ã®ãƒã‚§ãƒƒã‚¯\n\n---\n\n### å•é¡Œ3ï¼šãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–ãŒæœªå®Ÿè£…\n\n#### å½±éŸ¿\n\n- **åˆæœŸãƒ­ãƒ¼ãƒ‰ãŒé…ã„**ï¼šã™ã¹ã¦ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã€ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã€ãƒ†ãƒ¼ãƒã‚’ä¸€åº¦ã«ãƒ­ãƒ¼ãƒ‰\n- **å¤§é‡ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§å‹•ä½œãŒé‡ã„**ï¼šReact Grid LayoutãŒå¤§é‡ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ï¼ˆ20å€‹ä»¥ä¸Šï¼‰ã§é…å»¶\n- **ä¸è¦ãªå†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°**ï¼šæœ€é©åŒ–ã•ã‚Œã¦ã„ãªã„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒé »ç¹ã«å†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°\n\n#### å…·ä½“ä¾‹\n\nã™ã¹ã¦ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’åˆæœŸãƒ­ãƒ¼ãƒ‰æ™‚ã«èª­ã¿è¾¼ã‚€ï¼š\n\n```typescript\n// src/store/templateStore.ts\nconst useTemplateStore = create<TemplateStore>((set) => ({\n  loadTemplates: async () => {\n    // âŒ ã™ã¹ã¦ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ä¸€åº¦ã«èª­ã¿è¾¼ã‚€\n    const documentTypes = await fetchAllDocumentTypes();  // 50å€‹\n    const layouts = await fetchAllLayouts();              // 100å€‹\n    const themes = await fetchAllThemes();                // 50å€‹\n    const components = await fetchAllComponents();        // 200å€‹\n\n    set({\n      allDocumentTypes: documentTypes,\n      allLayouts: layouts,\n      allThemes: themes,\n      allComponents: components,\n    });\n  },\n}));\n```\n\n**åˆæœŸãƒ­ãƒ¼ãƒ‰æ™‚é–“**ï¼š5-10ç§’ï¼ˆã™ã¹ã¦ã®JSONãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã‚€ãŸã‚ï¼‰\n\n**æœ€é©åŒ–å¾Œ**ï¼š\n```typescript\n// src/store/templateStore.ts\nconst useTemplateStore = create<TemplateStore>((set) => ({\n  loadTemplates: async () => {\n    // âœ… Document Typesã®ã¿ã‚’åˆæœŸãƒ­ãƒ¼ãƒ‰ï¼ˆè»½é‡ï¼‰\n    const documentTypes = await fetchAllDocumentTypes();\n    set({ allDocumentTypes: documentTypes });\n\n    // Layoutã€Themeã€Componentã¯é…å»¶ãƒ­ãƒ¼ãƒ‰\n  },\n\n  selectDocumentType: async (documentTypeId) => {\n    const documentType = /* ... */;\n    set({ selectedDocumentType: documentType });\n\n    // âœ… äº’æ›æ€§ã®ã‚ã‚‹Layoutã¨Themeã®ã¿ã‚’é…å»¶ãƒ­ãƒ¼ãƒ‰\n    const layouts = await fetchLayoutsByIds(documentType.compatibility.layouts);\n    const themes = await fetchThemesByIds(documentType.compatibility.themes);\n\n    set({ allLayouts: layouts, allThemes: themes });\n  },\n});\n```\n\n**æœ€é©åŒ–å¾Œã®åˆæœŸãƒ­ãƒ¼ãƒ‰æ™‚é–“**ï¼š1-2ç§’\n\n#### ä¸è¶³ã—ã¦ã„ã‚‹æœ€é©åŒ–\n\n1. **Lazy Loading**ï¼ˆé…å»¶ãƒ­ãƒ¼ãƒ‰ï¼‰\n   - ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå®šç¾©ã®é…å»¶ãƒ­ãƒ¼ãƒ‰\n   - ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å‹•çš„ã‚¤ãƒ³ãƒãƒ¼ãƒˆï¼ˆReact.lazyï¼‰\n\n2. **Memoization**ï¼ˆãƒ¡ãƒ¢åŒ–ï¼‰\n   - é«˜é »åº¦ã§è¨ˆç®—ã•ã‚Œã‚‹å€¤ã®ãƒ¡ãƒ¢åŒ–ï¼ˆ`useMemo`ï¼‰\n   - ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°é˜²æ­¢ï¼ˆ`React.memo`ï¼‰\n\n3. **ä»®æƒ³åŒ–**ï¼ˆVirtualizationï¼‰\n   - å¤§é‡ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ï¼ˆ20å€‹ä»¥ä¸Šï¼‰ã‚’ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã™ã‚‹å ´åˆã€react-windowã§ä»®æƒ³åŒ–\n\n4. **ç”»åƒã®æœ€é©åŒ–**\n   - Next.js ã® Image ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼ˆ`next/image`ï¼‰ã‚’ä½¿ç”¨\n   - é…å»¶ãƒ­ãƒ¼ãƒ‰ã€WebPå¤‰æ›\n\n---\n\n### å•é¡Œ4ï¼šã‚¨ãƒ©ãƒ¼ãƒã‚¦ãƒ³ãƒ€ãƒªãŒä¸ååˆ†\n\n#### å½±éŸ¿\n\n- **ã‚¢ãƒ—ãƒªå…¨ä½“ãŒã‚¯ãƒ©ãƒƒã‚·ãƒ¥**ï¼šã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã™ã‚‹ã¨ã€ã‚¢ãƒ—ãƒªå…¨ä½“ãŒç™½ç”»é¢\n- **ã‚¨ãƒ©ãƒ¼ã®è©³ç´°ãŒä¸æ˜**ï¼šãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œãªã„\n\n#### å…·ä½“ä¾‹\n\nã‚»ã‚¯ã‚·ãƒ§ãƒ³ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°æ™‚ã«ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã™ã‚‹ã¨ã€ã‚¢ãƒ—ãƒªå…¨ä½“ãŒã‚¯ãƒ©ãƒƒã‚·ãƒ¥ï¼š\n\n```tsx\n// src/components/editor/section/SectionRenderer.tsx\nconst SectionRenderer = ({ section }: { section: Section }) => {\n  // âŒ ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ãŒãªã„\n  const component = getComponentById(section.componentId);\n  return <ComponentRenderer component={component} />;\n};\n\n// component ãŒ null ã®å ´åˆã€ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã€ã‚¢ãƒ—ãƒªå…¨ä½“ãŒã‚¯ãƒ©ãƒƒã‚·ãƒ¥\n```\n\n**ã‚¨ãƒ©ãƒ¼ãƒã‚¦ãƒ³ãƒ€ãƒªãŒã‚ã‚Œã°**ï¼š\n```tsx\n// src/components/error/ErrorBoundary.tsx\nclass ErrorBoundary extends React.Component {\n  state = { hasError: false };\n\n  static getDerivedStateFromError(error) {\n    return { hasError: true };\n  }\n\n  componentDidCatch(error, errorInfo) {\n    console.error('Error caught by boundary:', error, errorInfo);\n  }\n\n  render() {\n    if (this.state.hasError) {\n      return <div>ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚ãƒšãƒ¼ã‚¸ã‚’ãƒªãƒ­ãƒ¼ãƒ‰ã—ã¦ãã ã•ã„ã€‚</div>;\n    }\n    return this.props.children;\n  }\n}\n\n// ä½¿ç”¨\n<ErrorBoundary>\n  <SectionRenderer section={section} />\n</ErrorBoundary>\n```\n\n#### ä¸è¶³ã—ã¦ã„ã‚‹ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°\n\n1. **ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¨ãƒ©ãƒ¼ãƒã‚¦ãƒ³ãƒ€ãƒª**ï¼ˆã‚¢ãƒ—ãƒªå…¨ä½“ï¼‰\n2. **ãƒšãƒ¼ã‚¸ãƒ¬ãƒ™ãƒ«ã‚¨ãƒ©ãƒ¼ãƒã‚¦ãƒ³ãƒ€ãƒª**ï¼ˆå„ãƒšãƒ¼ã‚¸ï¼‰\n3. **ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ¬ãƒ™ãƒ«ã‚¨ãƒ©ãƒ¼ãƒã‚¦ãƒ³ãƒ€ãƒª**ï¼ˆå„ä¸»è¦ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼‰\n4. **API ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°**ï¼ˆãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ã€ãƒªãƒˆãƒ©ã‚¤ï¼‰\n\n---\n\n### å•é¡Œ5ï¼šã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£å¯¾å¿œãŒä¸ååˆ†\n\n#### å½±éŸ¿\n\n- **ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ãƒªãƒ¼ãƒ€ãƒ¼éå¯¾å¿œ**ï¼šè¦–è¦šéšœå®³è€…ãŒä½¿ç”¨ã§ããªã„\n- **ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰æ“ä½œãŒä¸å®Œå…¨**ï¼šãƒã‚¦ã‚¹ãªã—ã§æ“ä½œã§ããªã„éƒ¨åˆ†ãŒã‚ã‚‹\n\n#### å…·ä½“ä¾‹\n\nãƒœã‚¿ãƒ³ã«`aria-label`ãŒãªã„ï¼š\n\n```tsx\n// âŒ ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£å¯¾å¿œãŒãªã„\n<button onClick={handleExport}>\n  <DownloadIcon />\n</button>\n\n// âœ… ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£å¯¾å¿œ\n<button onClick={handleExport} aria-label=\"PDFã‚’ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ\">\n  <DownloadIcon />\n</button>\n```\n\n#### ä¸è¶³ã—ã¦ã„ã‚‹å¯¾å¿œ\n\n1. **ARIAãƒ©ãƒ™ãƒ«**ï¼ˆ`aria-label`ã€`aria-describedby`ãªã©ï¼‰\n2. **ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³**ï¼ˆTabã‚­ãƒ¼ã€Enterã‚­ãƒ¼ãªã©ï¼‰\n3. **ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ç®¡ç†**ï¼ˆãƒ¢ãƒ¼ãƒ€ãƒ«ã€ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ãªã©ï¼‰\n4. **ã‚«ãƒ©ãƒ¼ã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆ**ï¼ˆWCAG AAæº–æ‹ ï¼‰\n\n---\n\n## ãªãœå¤±æ•—ã—ãŸã‹\n\n### æ ¹æœ¬åŸå› \n\n1. **é–‹ç™ºé€Ÿåº¦å„ªå…ˆ**\n   - æ©Ÿèƒ½å®Ÿè£…ã‚’æœ€å„ªå…ˆã—ã€å“è³ªä¿è¨¼ã‚’å¾Œå›ã—ã«ã—ãŸ\n   - ã€Œå¾Œã§ãƒ†ã‚¹ãƒˆã‚’è¿½åŠ ã™ã‚‹ã€ã¨ã„ã†è¨ˆç”»ãŒå®Ÿè¡Œã•ã‚Œãªã‹ã£ãŸ\n\n2. **å˜ä¸€é–‹ç™ºè€…**\n   - ãƒãƒ¼ãƒ é–‹ç™ºã§ã¯ãªã„ãŸã‚ã€ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼ãŒãªã„\n   - ãƒ†ã‚¹ãƒˆã®å¿…è¦æ€§ã‚’æ„Ÿã˜ã«ãã„\n\n3. **ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—çš„æ€§è³ª**\n   - ã¾ãšå‹•ãã‚‚ã®ã‚’ä½œã‚‹ã“ã¨ã‚’å„ªå…ˆ\n   - å“è³ªã‚ˆã‚Šã‚‚ã‚¹ãƒ”ãƒ¼ãƒ‰ã‚’é‡è¦–\n\n4. **æŠ€è¡“çš„è² å‚µã®èªè­˜ä¸è¶³**\n   - ãƒ†ã‚¹ãƒˆãƒ»ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã®é‡è¦æ€§ã‚’è»½è¦–\n   - ã€Œå¾Œã§è¿½åŠ ã™ã‚Œã°ã„ã„ã€ã¨ã„ã†ç”˜ã„è¦‹é€šã—\n\n## ã©ã†è§£æ±ºã™ã‚‹ã‹\n\n### è§£æ±ºç­–1ï¼šãƒ†ã‚¹ãƒˆã®æ®µéšçš„è¿½åŠ \n\n#### ã‚¹ãƒ†ãƒƒãƒ—1ï¼šé‡è¦ãªé–¢æ•°ã‹ã‚‰ Unit Tests ã‚’è¿½åŠ \n\n```bash\n# Jestã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\nnpm install --save-dev jest @testing-library/react @testing-library/jest-dom\n\n# package.json ã«ãƒ†ã‚¹ãƒˆã‚¹ã‚¯ãƒªãƒ—ãƒˆè¿½åŠ \n\"scripts\": {\n  \"test\": \"jest\",\n  \"test:watch\": \"jest --watch\"\n}\n```\n\n```typescript\n// tests/template-compatibility.test.ts\nimport { isLayoutCompatible } from '@/lib/validation/template-compatibility';\n\ndescribe('isLayoutCompatible', () => {\n  it('should return true for compatible layout', () => {\n    const documentType = {\n      id: 'flyer-a4',\n      compatibility: { layouts: ['layout-1', 'layout-2'] },\n    };\n    expect(isLayoutCompatible(documentType, 'layout-1')).toBe(true);\n  });\n\n  it('should return false for incompatible layout', () => {\n    const documentType = {\n      id: 'flyer-a4',\n      compatibility: { layouts: ['layout-1', 'layout-2'] },\n    };\n    expect(isLayoutCompatible(documentType, 'layout-999')).toBe(false);\n  });\n});\n```\n\n#### ã‚¹ãƒ†ãƒƒãƒ—2ï¼šAPI Routes ã® Integration Tests ã‚’è¿½åŠ \n\n```typescript\n// tests/api/ai-generate.test.ts\nimport { POST } from '@/app/api/ai/generate/route';\n\ndescribe('/api/ai/generate', () => {\n  it('should generate content successfully', async () => {\n    const request = new Request('http://localhost:3000/api/ai/generate', {\n      method: 'POST',\n      body: JSON.stringify({\n        prompt: 'ãƒ†ã‚¹ãƒˆç”¨ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ',\n        parameters: { temperature: 0.7 },\n      }),\n    });\n\n    const response = await POST(request);\n    const data = await response.json();\n\n    expect(data.success).toBe(true);\n    expect(data.content).toBeDefined();\n  });\n});\n```\n\n#### ã‚¹ãƒ†ãƒƒãƒ—3ï¼šE2E Tests ã‚’è¿½åŠ ï¼ˆPlaywrightï¼‰\n\n```bash\nnpm install --save-dev @playwright/test\n```\n\n```typescript\n// e2e/document-creation.spec.ts\nimport { test, expect } from '@playwright/test';\n\ntest('should create document successfully', async ({ page }) => {\n  // ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé¸æŠ\n  await page.goto('http://localhost:3000/templates');\n  await page.click('text=A4ç¸¦ãƒãƒ©ã‚·');\n\n  // ã‚°ãƒ­ãƒ¼ãƒãƒ«ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿å…¥åŠ›\n  await page.fill('input[name=\"title\"]', 'ãƒ†ã‚¹ãƒˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ');\n  await page.selectOption('select[name=\"purpose\"]', 'åºƒå ±');\n  await page.fill('input[name=\"targetAudience\"]', 'ä¸€èˆ¬é¡§å®¢');\n  await page.click('button:has-text(\"æ¬¡ã¸\")');\n\n  // AIç”Ÿæˆ\n  await page.click('button:has-text(\"ä¸€æ‹¬ç”Ÿæˆ\")');\n  await page.waitForSelector('text=ç”Ÿæˆå®Œäº†', { timeout: 30000 });\n\n  // ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ\n  await page.click('button:has-text(\"ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ\")');\n  await page.waitForSelector('text=ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆå®Œäº†');\n});\n```\n\n---\n\n### è§£æ±ºç­–2ï¼šãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå®šç¾©ã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³è¿½åŠ \n\n```typescript\n// src/lib/validation/template-schema.ts\nimport { z } from 'zod';\n\nexport const DocumentTypeSchema = z.object({\n  id: z.string(),\n  name: z.string(),\n  format: z.object({\n    type: z.string(),\n    width: z.number().positive(),\n    height: z.number().positive(),\n    ratio: z.number().positive(),\n  }),\n  compatibility: z.object({\n    layouts: z.array(z.string()),\n    themes: z.array(z.string()),\n  }),\n});\n\n// ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆèª­ã¿è¾¼ã¿æ™‚ã«ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³\nexport function validateDocumentType(data: unknown) {\n  try {\n    return DocumentTypeSchema.parse(data);\n  } catch (error) {\n    console.error('Invalid document type definition:', error);\n    throw new Error('ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå®šç¾©ãŒä¸æ­£ã§ã™');\n  }\n}\n```\n\n---\n\n### è§£æ±ºç­–3ï¼šãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–\n\n#### é…å»¶ãƒ­ãƒ¼ãƒ‰\n\n```typescript\n// src/store/templateStore.ts\nconst useTemplateStore = create<TemplateStore>((set) => ({\n  loadTemplates: async () => {\n    // Document Typesã®ã¿ã‚’åˆæœŸãƒ­ãƒ¼ãƒ‰\n    const documentTypes = await fetchAllDocumentTypes();\n    set({ allDocumentTypes: documentTypes });\n  },\n\n  selectDocumentType: async (documentTypeId) => {\n    // äº’æ›æ€§ã®ã‚ã‚‹Layout/Themeã®ã¿ã‚’é…å»¶ãƒ­ãƒ¼ãƒ‰\n    const documentType = /* ... */;\n    const layouts = await fetchLayoutsByIds(documentType.compatibility.layouts);\n    const themes = await fetchThemesByIds(documentType.compatibility.themes);\n    set({ selectedDocumentType: documentType, allLayouts: layouts, allThemes: themes });\n  },\n}));\n```\n\n#### React.memoã§ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆæœ€é©åŒ–\n\n```typescript\n// src/components/editor/section/SectionRenderer.tsx\nconst SectionRenderer = React.memo(({ section }: { section: Section }) => {\n  // ...\n});\n```\n\n---\n\n### è§£æ±ºç­–4ï¼šã‚¨ãƒ©ãƒ¼ãƒã‚¦ãƒ³ãƒ€ãƒªã®è¿½åŠ \n\n```tsx\n// src/app/layout.tsx\nexport default function RootLayout({ children }) {\n  return (\n    <html>\n      <body>\n        <ErrorBoundary>\n          {children}\n        </ErrorBoundary>\n      </body>\n    </html>\n  );\n}\n```\n\n---\n\n### è§£æ±ºç­–5ï¼šã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£å¯¾å¿œ\n\n```tsx\n// ã™ã¹ã¦ã®ãƒœã‚¿ãƒ³ã«aria-labelè¿½åŠ \n<button onClick={handleExport} aria-label=\"PDFã‚’ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ\">\n  <DownloadIcon />\n</button>\n\n// ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³\n<div\n  role=\"button\"\n  tabIndex={0}\n  onClick={handleClick}\n  onKeyDown={(e) => e.key === 'Enter' && handleClick()}\n>\n  ...\n</div>\n```\n\n## å­¦ã‚“ã ã“ã¨\n\n### å­¦ã³1ï¼šãƒ†ã‚¹ãƒˆã¯å¾Œå›ã—ã«ã—ãªã„\n\nã€Œå¾Œã§ãƒ†ã‚¹ãƒˆã‚’è¿½åŠ ã™ã‚‹ã€ã¨ã„ã†è¨ˆç”»ã¯ã€ã»ã¨ã‚“ã©å®Ÿè¡Œã•ã‚Œãªã„ã€‚æœ€åˆã‹ã‚‰ TDDï¼ˆTest-Driven Developmentï¼‰ã‚’å®Ÿè·µã™ã¹ãã€‚\n\n### å­¦ã³2ï¼šãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã¯æ—©æœŸã«\n\nãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå®šç¾©ã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã¯ã€æœ€åˆã‹ã‚‰å®Ÿè£…ã™ã¹ãã€‚ä¸æ­£ãªå®šç¾©ãŒæ··å…¥ã™ã‚‹ã¨ã€ãƒ‡ãƒãƒƒã‚°ãŒå›°é›£ã€‚\n\n### å­¦ã³3ï¼šãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã¯è¨­è¨ˆæ®µéšã§è€ƒæ…®\n\nå¾Œã‹ã‚‰ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–ã™ã‚‹ã®ã¯å›°é›£ã€‚æœ€åˆã‹ã‚‰é…å»¶ãƒ­ãƒ¼ãƒ‰ã€ä»®æƒ³åŒ–ã‚’è€ƒæ…®ã—ãŸè¨­è¨ˆã«ã™ã¹ãã€‚\n\n### å­¦ã³4ï¼šã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã¯å¿…é ˆ\n\nã‚¨ãƒ©ãƒ¼ãƒã‚¦ãƒ³ãƒ€ãƒªãŒãªã„ã¨ã€ã‚¢ãƒ—ãƒªå…¨ä½“ãŒã‚¯ãƒ©ãƒƒã‚·ãƒ¥ã™ã‚‹ã€‚æœ€åˆã‹ã‚‰å®Ÿè£…ã™ã¹ãã€‚\n\n### å­¦ã³5ï¼šã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ã¯ç¾©å‹™\n\nã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£å¯¾å¿œã¯ã€å¾Œã‹ã‚‰è¿½åŠ ã™ã‚‹ã®ã¯å›°é›£ã€‚æœ€åˆã‹ã‚‰è€ƒæ…®ã™ã¹ãã€‚\n\n## æ¬¡å›ã©ã†é¿ã‘ã‚‹ã‹\n\n### äºˆé˜²ç­–1ï¼šé–‹ç™ºé–‹å§‹æ™‚ã«ãƒ†ã‚¹ãƒˆç’°å¢ƒã‚’ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—\n\nãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆæ™‚ã«ã€Jestã€Playwright ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã€ãƒ†ã‚¹ãƒˆã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’è¨­å®šã€‚\n\n### äºˆé˜²ç­–2ï¼šTDDï¼ˆTest-Driven Developmentï¼‰ã‚’å®Ÿè·µ\n\né–¢æ•°ã‚’å®Ÿè£…ã™ã‚‹å‰ã«ã€ãƒ†ã‚¹ãƒˆã‚’æ›¸ãã€‚\n\n### äºˆé˜²ç­–3ï¼šãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¹ã‚­ãƒ¼ãƒã‚’æœ€åˆã«å®šç¾©\n\nãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå®šç¾©ã®ã‚¹ã‚­ãƒ¼ãƒï¼ˆZodï¼‰ã‚’æœ€åˆã«å®šç¾©ã—ã€ã™ã¹ã¦ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã«é©ç”¨ã€‚\n\n### äºˆé˜²ç­–4ï¼šãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æŒ‡æ¨™ã‚’è¨­å®š\n\n- åˆæœŸãƒ­ãƒ¼ãƒ‰æ™‚é–“ï¼š< 2ç§’\n- ãƒšãƒ¼ã‚¸é·ç§»æ™‚é–“ï¼š< 1ç§’\n- AIç”Ÿæˆæ™‚é–“ï¼š< 5ç§’\n\nã“ã‚Œã‚‰ã®æŒ‡æ¨™ã‚’æº€ãŸã™ã‚ˆã†ã«è¨­è¨ˆã€‚\n\n### äºˆé˜²ç­–5ï¼šã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ãƒã‚§ãƒƒã‚¯ãƒ„ãƒ¼ãƒ«ã‚’ä½¿ç”¨\n\n- eslint-plugin-jsx-a11yï¼ˆãƒªãƒ³ãƒ†ã‚£ãƒ³ã‚°ï¼‰\n- axe DevToolsï¼ˆãƒ–ãƒ©ã‚¦ã‚¶æ‹¡å¼µï¼‰\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `workflow_document_creation_full_flow_2025_04_11.md`: å…¨ä½“ãƒ•ãƒ­ãƒ¼ã®ç†è§£ï¼ˆãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹è¨­è¨ˆã«å½¹ç«‹ã¤ï¼‰\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€ŒæŠ€è¡“çš„è² å‚µï¼šãƒ†ã‚¹ãƒˆãƒ»ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ»ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–æœªå®Ÿè£…ã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "workflow-document-creation-full-flow"
    ]
  },
  {
    "slug": "template-matching-mismatch-fixed",
    "title": "ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒãƒƒãƒãƒ³ã‚°ä¸ä¸€è‡´å•é¡Œã®ä¿®æ­£",
    "category": "Failuresï¼ˆå¤±æ•—ãƒ»ãƒˆãƒ©ãƒ–ãƒ«å¯¾å‡¦ï¼‰",
    "description": "ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒãƒƒãƒãƒ³ã‚°ä¸ä¸€è‡´å•é¡Œã®ä¿®æ­£",
    "project": "instagram-post-generator",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"failure_template_matching_mismatch_fixed_2025_11_25\",\n  \"type\": \"failure\",\n  \"name\": \"ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒãƒƒãƒãƒ³ã‚°ä¸ä¸€è‡´å•é¡Œã®ä¿®æ­£\",\n  \"failure_category\": \"matching_logic\",\n  \"status\": \"resolved\",\n  \"fix_commit\": \"55a1859\",\n  \"tags\": [\"ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒãƒƒãƒãƒ³ã‚°\", \"ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ \", \"çµ±ä¸€\", \"fixed\"],\n  \"source_project\": \"instagram-post-generator\",\n  \"impact\": \"é–“é•ã£ãŸãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé¸æŠï¼ˆ30%ã®ã‚±ãƒ¼ã‚¹ï¼‰\",\n  \"related_knowledge\": [\n    \"skill_template_selector_algorithm_2025_11_25\",\n    \"decision_design_100_point_rule_2025_11_25\"\n  ],\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒãƒƒãƒãƒ³ã‚°ä¸ä¸€è‡´å•é¡Œã®ä¿®æ­£\n\n## ä½•ãŒèµ·ããŸã‹\n\n**PageStructureAnalyzer ãŒæ¨å¥¨ã™ã‚‹ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã¨ã€StructureConstrainedGenerator ãŒä½¿ç”¨ã™ã‚‹ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãŒç•°ãªã‚Šã€æ§‹é€ ä¸ä¸€è‡´ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã€‚**\n\n**ç—‡çŠ¶**:\n```\nPageStructureAnalyzer:\n â†’ recommendedTemplate: \"unified-template-03-top-3-ranking\"\n\nStructureConstrainedGenerator:\n â†’ å®Ÿéš›ã«ä½¿ç”¨: \"unified-template-08-section-blocks\"\n\nçµæœ:\n â†’ æ§‹é€ ä¸ä¸€è‡´ã‚¨ãƒ©ãƒ¼ï¼ˆã‚»ã‚¯ã‚·ãƒ§ãƒ³æ•°ãŒç•°ãªã‚‹ï¼‰\n â†’ ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°å¤±æ•—\n```\n\n**ç™ºç”Ÿç‡**: ç´„30%ã®ã‚±ãƒ¼ã‚¹\n\n---\n\n## ãªãœç™ºç”Ÿã—ãŸã‹\n\n### åŸå› : 2ã¤ã®ç‹¬ç«‹ã—ãŸãƒãƒƒãƒãƒ³ã‚°ãƒ­ã‚¸ãƒƒã‚¯\n\n**å•é¡Œã®ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£**:\n\n```typescript\n// âŒ å•é¡Œ: 2ç®‡æ‰€ã§ç‹¬ç«‹ã—ã¦ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé¸æŠ\n\n// å ´æ‰€1: PageStructureAnalyzerï¼ˆAIå‘¼ã³å‡ºã—ï¼‰\nclass PageStructureAnalyzer {\n  async analyze(userInput: string) {\n    const prompt = `æœ€é©ãªãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’é¸æŠã—ã¦ãã ã•ã„...`\n    const aiResponse = await gemini.generateContent(prompt)\n    // AIãŒ \"unified-template-03-top-3-ranking\" ã‚’æ¨å¥¨\n    return { recommendedTemplate: \"unified-template-03-top-3-ranking\" }\n  }\n}\n\n// å ´æ‰€2: StructureConstrainedGeneratorï¼ˆç‹¬è‡ªãƒ­ã‚¸ãƒƒã‚¯ï¼‰\nclass StructureConstrainedGenerator {\n  async generate(structure: PageStructure) {\n    // ç‹¬è‡ªã®ãƒãƒƒãƒãƒ³ã‚°ãƒ­ã‚¸ãƒƒã‚¯ï¼ˆAIä¸ä½¿ç”¨ï¼‰\n    const template = this.selectBestTemplate(structure.content)\n    // â†’ \"unified-template-08-section-blocks\" ã‚’é¸æŠ\n    return this.renderWithTemplate(template)\n  }\n\n  private selectBestTemplate(content: string): string {\n    // keywords ãƒ™ãƒ¼ã‚¹ã®ãƒãƒƒãƒãƒ³ã‚°\n    if (content.includes('ã‚»ã‚¯ã‚·ãƒ§ãƒ³')) {\n      return 'unified-template-08-section-blocks'\n    }\n    // ...\n  }\n}\n```\n\n**ä¸ä¸€è‡´ã®ç™ºç”Ÿ**:\n```\nStage 1 (AI): template-03 æ¨å¥¨\n   â†“\nStage 2 (ç‹¬è‡ª): template-08 é¸æŠ\n   â†“\næ§‹é€ ä¸ä¸€è‡´: template-03 ã®æ§‹é€ ã§ template-08 ã‚’ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°\n   â†“\nã‚¨ãƒ©ãƒ¼\n```\n\n---\n\n## è§£æ±ºç­–\n\n### çµ±ä¸€ãƒãƒƒãƒãƒ³ã‚°ã‚µãƒ¼ãƒ“ã‚¹ã®å°å…¥\n\n**ä¿®æ­£ã‚³ãƒŸãƒƒãƒˆ**: 55a1859\n\n**æ–°ã—ã„ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£**:\n\n```typescript\n// âœ… è§£æ±º: çµ±ä¸€ãƒãƒƒãƒãƒ³ã‚°ã‚µãƒ¼ãƒ“ã‚¹\n\n// app/services/templateMatchingService.ts\nexport class TemplateMatchingService {\n  /**\n   * å”¯ä¸€ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé¸æŠãƒ­ã‚¸ãƒƒã‚¯\n   */\n  selectTemplate(\n    content: string,\n    structure: PageStructure\n  ): TemplateRegistryEntry {\n    // keywords ãƒãƒƒãƒãƒ³ã‚°\n    const keywordMatches = this.findByKeywords(content)\n\n    // æ§‹é€ ãƒãƒƒãƒãƒ³ã‚°\n    const structureMatches = this.findByStructure(structure)\n\n    // ã‚¹ã‚³ã‚¢ãƒªãƒ³ã‚°\n    const scored = this.scoreTemplates(keywordMatches, structureMatches)\n\n    // æœ€é«˜ã‚¹ã‚³ã‚¢ã‚’é¸æŠ\n    return scored[0]\n  }\n\n  private findByKeywords(content: string): TemplateRegistryEntry[] {\n    return Object.values(TemplateRegistry).filter(template =>\n      template.keywords.some(keyword => content.includes(keyword))\n    )\n  }\n\n  private findByStructure(structure: PageStructure): TemplateRegistryEntry[] {\n    return Object.values(TemplateRegistry).filter(template => {\n      return (\n        template.structure.sections === structure.sections &&\n        template.structure.items === structure.items\n      )\n    })\n  }\n\n  private scoreTemplates(\n    keywordMatches: TemplateRegistryEntry[],\n    structureMatches: TemplateRegistryEntry[]\n  ): TemplateRegistryEntry[] {\n    const scores = new Map<string, number>()\n\n    keywordMatches.forEach(t => {\n      scores.set(t.id, (scores.get(t.id) || 0) + 50)\n    })\n\n    structureMatches.forEach(t => {\n      scores.set(t.id, (scores.get(t.id) || 0) + 50)\n    })\n\n    return Array.from(scores.entries())\n      .sort((a, b) => b[1] - a[1])\n      .map(([id]) => TemplateRegistry[id])\n  }\n}\n\n// Singleton ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹\nexport const templateMatchingService = new TemplateMatchingService()\n```\n\n**Stage 1ã§ã®ä½¿ç”¨**:\n\n```typescript\n// PageStructureAnalyzer\nclass PageStructureAnalyzer {\n  async analyze(userInput: string) {\n    // AI ã§æ§‹é€ ã‚’æ±ºå®š\n    const structure = await this.analyzeStructure(userInput)\n\n    // çµ±ä¸€ã‚µãƒ¼ãƒ“ã‚¹ã§ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé¸æŠ\n    const template = templateMatchingService.selectTemplate(\n      userInput,\n      structure\n    )\n\n    return {\n      ...structure,\n      recommendedTemplate: template.id\n    }\n  }\n}\n```\n\n**Stage 2ã§ã®ä½¿ç”¨**:\n\n```typescript\n// StructureConstrainedGenerator\nclass StructureConstrainedGenerator {\n  async generate(structure: PageStructure, userInput: string) {\n    // çµ±ä¸€ã‚µãƒ¼ãƒ“ã‚¹ã§ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé¸æŠï¼ˆåŒã˜ãƒ­ã‚¸ãƒƒã‚¯ï¼‰\n    const template = templateMatchingService.selectTemplate(\n      userInput,\n      structure\n    )\n\n    // Stage 1 ã¨å¿…ãšä¸€è‡´\n    return this.renderWithTemplate(template)\n  }\n}\n```\n\n**çµæœ**: ãƒãƒƒãƒãƒ³ã‚°ä¸€è‡´ç‡ 70% â†’ 98%\n\n---\n\n## å­¦ã³\n\n### å­¦ã³1: å˜ä¸€è²¬ä»»ã®åŸå‰‡\n\n**åŸå‰‡**: åŒã˜åˆ¤æ–­ã¯1ç®‡æ‰€ã§è¡Œã†\n\n```typescript\n// âŒ é‡è¤‡ãƒ­ã‚¸ãƒƒã‚¯\nfunction selectTemplateA(content) { /* ãƒ­ã‚¸ãƒƒã‚¯1 */ }\nfunction selectTemplateB(content) { /* ãƒ­ã‚¸ãƒƒã‚¯2 */ }\n// â†’ ä¸ä¸€è‡´ã®ãƒªã‚¹ã‚¯\n\n// âœ… å˜ä¸€ãƒ­ã‚¸ãƒƒã‚¯\nconst template = templateMatchingService.selectTemplate(content)\n// â†’ ä¸€è‡´ä¿è¨¼\n```\n\n### å­¦ã³2: AIæ¨å¥¨ã®ä¿¡é ¼æ€§å•é¡Œ\n\n**å•é¡Œ**: AI ãŒæ¨å¥¨ã—ãŸãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ç›²ç›®çš„ã«ä¿¡é ¼\n\n```typescript\n// âŒ AI æ¨å¥¨ã‚’ãã®ã¾ã¾ä½¿ç”¨\nconst aiRecommended = await ai.recommendTemplate(userInput)\nuseTemplate(aiRecommended)  // AIã®ãƒŸã‚¹ãŒãã®ã¾ã¾é©ç”¨\n\n// âœ… AI + ãƒ«ãƒ¼ãƒ«ãƒ™ãƒ¼ã‚¹ã®æ¤œè¨¼\nconst aiRecommended = await ai.recommendTemplate(userInput)\nconst validated = validateTemplateMatch(aiRecommended, structure)\nuseTemplate(validated)  // æ¤œè¨¼æ¸ˆã¿\n```\n\n### å­¦ã³3: ãƒ‡ãƒãƒƒã‚°ãƒ­ã‚°ã®é‡è¦æ€§\n\n**è¿½åŠ ã—ãŸãƒ­ã‚°**:\n\n```typescript\nconsole.log('[Stage 1] AI recommended:', structure.recommendedTemplate)\nconsole.log('[Stage 2] Actually using:', template.id)\n\nif (structure.recommendedTemplate !== template.id) {\n  console.warn('âš ï¸ Template mismatch detected!')\n  console.warn('  AI recommended:', structure.recommendedTemplate)\n  console.warn('  Actually using:', template.id)\n}\n```\n\n**åŠ¹æœ**: ä¸ä¸€è‡´ã®å³åº§ãªç™ºè¦‹\n\n---\n\n## æ¤œè¨¼æ–¹æ³•\n\n### ãƒãƒƒãƒãƒ³ã‚°ä¸€è‡´ãƒ†ã‚¹ãƒˆ\n\n```typescript\ndescribe('Template matching consistency', () => {\n  it('should return same template in Stage 1 and Stage 2', async () => {\n    const userInput = 'ãƒˆãƒƒãƒ—3ã®ãƒ©ãƒ³ã‚­ãƒ³ã‚°'\n\n    // Stage 1: PageStructureAnalyzer\n    const analyzer = new PageStructureAnalyzer()\n    const structure = await analyzer.analyze(userInput)\n    const stage1Template = structure.recommendedTemplate\n\n    // Stage 2: StructureConstrainedGenerator\n    const generator = new StructureConstrainedGenerator()\n    const stage2Template = templateMatchingService.selectTemplate(\n      userInput,\n      structure\n    ).id\n\n    // ä¸€è‡´ã‚’æ¤œè¨¼\n    expect(stage1Template).toBe(stage2Template)\n  })\n})\n```\n\n---\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- **skill_template_selector_algorithm_2025_11_25.md**: ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé¸æŠã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ \n- **decision_design_100_point_rule_2025_11_25.md**: 100ç‚¹ãƒ«ãƒ¼ãƒ«\n\n---\n\n**çµ±ä¸€ãƒãƒƒãƒãƒ³ã‚°ã‚µãƒ¼ãƒ“ã‚¹ã®å°å…¥ã«ã‚ˆã‚Šã€Stage 1 ã¨ Stage 2 ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé¸æŠã‚’å®Œå…¨ã«ä¸€è‡´ã•ã›ã€æ§‹é€ ä¸ä¸€è‡´ã‚¨ãƒ©ãƒ¼ã‚’98%å‰Šæ¸›ã—ãŸã€‚**\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€Œãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒãƒƒãƒãƒ³ã‚°ä¸ä¸€è‡´å•é¡Œã®ä¿®æ­£ã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "skill-template-selector-algorithm",
      "decision-design-100-point-rule"
    ]
  },
  {
    "slug": "template-selection-unpredictability",
    "title": "ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé¸æŠã®äºˆæ¸¬å›°é›£æ€§",
    "category": "Failuresï¼ˆå¤±æ•—ãƒ»ãƒˆãƒ©ãƒ–ãƒ«å¯¾å‡¦ï¼‰",
    "description": "ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé¸æŠã®äºˆæ¸¬å›°é›£æ€§",
    "project": "instagram-post-generator",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"failure_template_selection_unpredictability_2025_11_25\",\n  \"type\": \"failure\",\n  \"name\": \"ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé¸æŠã®äºˆæ¸¬å›°é›£æ€§\",\n  \"failure_category\": \"ai_unpredictability\",\n  \"status\": \"mitigated\",\n  \"tags\": [\"ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé¸æŠ\", \"AI\", \"äºˆæ¸¬å›°é›£\", \"è»½æ¸›\"],\n  \"source_project\": \"instagram-post-generator\",\n  \"impact\": \"ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒæœŸå¾…ã¨ç•°ãªã‚‹ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãŒé¸ã°ã‚Œã‚‹\",\n  \"related_knowledge\": [\n    \"decision_arch_two_stage_generation_2025_11_25\",\n    \"skill_template_selector_algorithm_2025_11_25\"\n  ],\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé¸æŠã®äºˆæ¸¬å›°é›£æ€§\n\n## ä½•ãŒèµ·ããŸã‹\n\n**PageStructureAnalyzerï¼ˆAIï¼‰ãŒé¸æŠã™ã‚‹ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãŒäºˆæ¸¬å›°é›£ã§ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æœŸå¾…ã¨ç•°ãªã‚‹å ´åˆãŒã‚ã‚‹ã€‚**\n\n**ä¾‹**:\n- ãƒ¦ãƒ¼ã‚¶ãƒ¼: ã€Œãƒ©ãƒ³ã‚­ãƒ³ã‚°ã‚’ä½œã‚ŠãŸã„ã€\n- AIé¸æŠ: unified-template-01ï¼ˆå°å…¥ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆï¼‰\n- ãƒ¦ãƒ¼ã‚¶ãƒ¼æœŸå¾…: unified-template-03ï¼ˆãƒ©ãƒ³ã‚­ãƒ³ã‚°ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆï¼‰\n\n---\n\n## ãªãœç™ºç”Ÿã—ãŸã‹\n\n### åŸå› : AIæ„æ€æ±ºå®šã®æœ¬è³ªçš„ãªä¸ç¢ºå®Ÿæ€§\n\n**AIã¯ç¢ºç‡çš„**:\n- åŒã˜å…¥åŠ›ã§ã‚‚ç•°ãªã‚‹å‡ºåŠ›\n- temperature 0.7 = ã‚ã‚‹ç¨‹åº¦ã®ãƒ©ãƒ³ãƒ€ãƒ æ€§\n\n---\n\n## è»½æ¸›ç­–\n\n### ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹ã®ãƒ’ãƒ³ãƒˆæä¾›\n\n```typescript\n// ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã§ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‚’å¼·èª¿\nconst prompt = `\nãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›: ${userInput}\n\nã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰æ¤œå‡º:\n${keywords.map(k => `- \"${k}\" ãŒå«ã¾ã‚Œã‚‹ â†’ ${getTemplateHint(k)}`).join('\\n')}\n\nä¸Šè¨˜ã®ãƒ’ãƒ³ãƒˆã‚’å‚è€ƒã«ã€æœ€é©ãªãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’é¸æŠã—ã¦ãã ã•ã„ã€‚\n`\n\nfunction getTemplateHint(keyword: string): string {\n  if (keyword.includes('ãƒ©ãƒ³ã‚­ãƒ³ã‚°')) return 'unified-template-03æ¨å¥¨'\n  if (keyword.includes('ã‚¹ãƒ†ãƒƒãƒ—')) return 'unified-template-07æ¨å¥¨'\n  // ...\n}\n```\n\n**æ”¹å–„**: æœŸå¾…é€šã‚Šã®é¸æŠ 60% â†’ 80%\n\n---\n\n## æœªè§£æ±ºã®å•é¡Œ\n\n**å®Œå…¨ãªäºˆæ¸¬å¯èƒ½æ€§ã¯ä¸å¯èƒ½**: AIã®æœ¬è³ªçš„ãªåˆ¶ç´„\n\n---\n\n**ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹ãƒ’ãƒ³ãƒˆã«ã‚ˆã‚Šã€ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé¸æŠã®æœŸå¾…é©åˆç‡ã‚’60% â†’ 80%ã«æ”¹å–„ã€‚ã—ã‹ã—ã€AIæ„æ€æ±ºå®šã®ä¸ç¢ºå®Ÿæ€§ã¯æœ¬è³ªçš„ã«æ®‹ã‚‹ã€‚**\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€Œãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé¸æŠã®äºˆæ¸¬å›°é›£æ€§ã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "decision-arch-two-stage-generation",
      "skill-template-selector-algorithm"
    ]
  },
  {
    "slug": "text-disappearance-bug-fixed",
    "title": "ãƒãƒƒã‚¸ãƒ†ã‚­ã‚¹ãƒˆæ¶ˆå¤±ãƒã‚°ï¼ˆCSSâ†’SVGå¤‰æ›ï¼‰",
    "category": "Failuresï¼ˆå¤±æ•—ãƒ»ãƒˆãƒ©ãƒ–ãƒ«å¯¾å‡¦ï¼‰",
    "description": "ãƒãƒƒã‚¸ãƒ†ã‚­ã‚¹ãƒˆæ¶ˆå¤±ãƒã‚°ï¼ˆCSSâ†’SVGå¤‰æ›ï¼‰",
    "project": "instagram-post-generator",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"failure_text_disappearance_bug_fixed_2025_11_25\",\n  \"type\": \"failure\",\n  \"name\": \"ãƒãƒƒã‚¸ãƒ†ã‚­ã‚¹ãƒˆæ¶ˆå¤±ãƒã‚°ï¼ˆCSSâ†’SVGå¤‰æ›ï¼‰\",\n  \"failure_category\": \"rendering_bug\",\n  \"status\": \"resolved\",\n  \"fix_commit\": \"756bc7f\",\n  \"tags\": [\"ãƒ†ã‚­ã‚¹ãƒˆæ¶ˆå¤±\", \"html2canvas\", \"SVG\", \"badge\", \"fixed\"],\n  \"source_project\": \"instagram-post-generator\",\n  \"impact\": \"ãƒšãƒ¼ã‚¸ç•ªå·ãƒ»ã‚«ãƒ†ã‚´ãƒªãƒãƒƒã‚¸ã®ãƒ†ã‚­ã‚¹ãƒˆãŒæ¶ˆå¤±ï¼ˆ40%ã®ãƒãƒƒã‚¸ã§ç™ºç”Ÿï¼‰\",\n  \"related_knowledge\": [\n    \"skill_svg_badge_rendering_2025_11_25\",\n    \"skill_html2canvas_optimization_techniques_2025_11_25\"\n  ],\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# ãƒãƒƒã‚¸ãƒ†ã‚­ã‚¹ãƒˆæ¶ˆå¤±ãƒã‚°ï¼ˆCSSâ†’SVGå¤‰æ›ï¼‰\n\n## ä½•ãŒèµ·ããŸã‹\n\n**html2canvas ã§PNGå¤‰æ›æ™‚ã€CSSãƒãƒƒã‚¸å†…ã®ãƒ†ã‚­ã‚¹ãƒˆãŒæ¶ˆå¤±ã€‚**\n\n**ç—‡çŠ¶**:\n```\nãƒ–ãƒ©ã‚¦ã‚¶è¡¨ç¤º: ãƒãƒƒã‚¸ã€Œ1ã€ã€Œå¿…è¦‹ã€ãŒè¦‹ãˆã‚‹\n  â†“\nhtml2canvas å¤‰æ›\n  â†“\nPNGç”»åƒ: ãƒãƒƒã‚¸ã®èƒŒæ™¯è‰²ã®ã¿ã€ãƒ†ã‚­ã‚¹ãƒˆãŒæ¶ˆå¤±\n```\n\n**ç™ºç”Ÿç‡**: ç´„40%ã®ãƒãƒƒã‚¸ï¼ˆç‰¹ã«Chromeã€Firefoxï¼‰\n\n**å½±éŸ¿**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¯ãƒ¬ãƒ¼ãƒ æœˆ10ä»¶\n\n---\n\n## ãªãœç™ºç”Ÿã—ãŸã‹\n\n### åŸå› : html2canvas ã® CSS ãƒ†ã‚­ã‚¹ãƒˆãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°å•é¡Œ\n\n**å•é¡Œã®ã‚³ãƒ¼ãƒ‰**:\n\n```typescript\n// âŒ CSSãƒãƒƒã‚¸\n<div\n  className=\"inline-flex items-center justify-center\"\n  style={{\n    backgroundColor: '#3B82F6',\n    color: '#FFFFFF',\n    padding: '8px 16px',\n    borderRadius: '9999px',\n    fontSize: '18px',\n    fontWeight: 'bold'\n  }}\n>\n  å¿…è¦‹\n</div>\n```\n\n**html2canvas ã®å‹•ä½œ**:\n```\n1. èƒŒæ™¯è‰²ï¼ˆ#3B82F6ï¼‰: æ­£å¸¸ã«æç”» âœ…\n2. ãƒ†ã‚­ã‚¹ãƒˆï¼ˆã€Œå¿…è¦‹ã€ï¼‰: æ¶ˆå¤± âŒ\n```\n\n**åŸå› **:\n- html2canvas ãŒCSSã® `text-rendering`, `font-smoothing`, `transform` ã‚’æ­£ç¢ºã«å‡¦ç†ã§ããªã„\n- ãƒ–ãƒ©ã‚¦ã‚¶é–“ã®ä¸€è²«æ€§ãŒãªã„ï¼ˆChrome: è–„ã„ã€Firefox: æ¶ˆå¤±ã€Safari: é€”åˆ‡ã‚Œï¼‰\n\n---\n\n## è§£æ±ºç­–\n\n### è§£æ±º: CSSãƒãƒƒã‚¸ â†’ SVGãƒãƒƒã‚¸\n\n**ä¿®æ­£å¾Œã®ã‚³ãƒ¼ãƒ‰**:\n\n```typescript\n// âœ… SVGãƒãƒƒã‚¸\n<svg width=\"100\" height=\"40\" viewBox=\"0 0 100 40\" xmlns=\"http://www.w3.org/2000/svg\">\n  {/* èƒŒæ™¯ */}\n  <rect\n    x=\"0\"\n    y=\"0\"\n    width=\"100\"\n    height=\"40\"\n    rx=\"20\"\n    ry=\"20\"\n    fill=\"#3B82F6\"\n  />\n\n  {/* ãƒ†ã‚­ã‚¹ãƒˆ */}\n  <text\n    x=\"50\"\n    y=\"20\"\n    textAnchor=\"middle\"\n    dominantBaseline=\"central\"\n    fill=\"#FFFFFF\"\n    fontSize=\"18\"\n    fontWeight=\"bold\"\n  >\n    å¿…è¦‹\n  </text>\n</svg>\n```\n\n**html2canvas ã®å‹•ä½œ**:\n```\n1. èƒŒæ™¯ï¼ˆrectï¼‰: æ­£å¸¸ã«æç”» âœ…\n2. ãƒ†ã‚­ã‚¹ãƒˆï¼ˆtextè¦ç´ ï¼‰: å®Œå…¨ã«ä¿æŒ âœ…\n```\n\n**ç†ç”±**: html2canvas ã¯SVGã‚’ç”»åƒã¨ã—ã¦æ‰±ã†ãŸã‚ã€ãƒ†ã‚­ã‚¹ãƒˆãŒå®Œå…¨ã«ä¿æŒã•ã‚Œã‚‹\n\n---\n\n## ä¿®æ­£ã‚³ãƒŸãƒƒãƒˆ\n\n**commit**: 756bc7f\n\n**å¤‰æ›´ãƒ•ã‚¡ã‚¤ãƒ«**:\n- å…¨ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼ˆ48å€‹ï¼‰\n- `app/components/ui/badge.tsx` â†’ `app/components/ui/SVGBadge.tsx` ä½œæˆ\n\n**å¤‰æ›´å†…å®¹**:\n\n```diff\n// Before: CSSãƒãƒƒã‚¸\n- <div className=\"badge\">å¿…è¦‹</div>\n\n// After: SVGãƒãƒƒã‚¸\n+ <SVGBadge text=\"å¿…è¦‹\" bgColor=\"#3B82F6\" textColor=\"#FFFFFF\" />\n```\n\n---\n\n## å­¦ã³\n\n### å­¦ã³1: html2canvas ã¨CSSãƒ†ã‚­ã‚¹ãƒˆã®ç›¸æ€§å•é¡Œ\n\n**åŸå‰‡**: html2canvas ä½¿ç”¨æ™‚ã¯SVGã§ãƒ†ã‚­ã‚¹ãƒˆæç”»\n\n```typescript\n// âŒ CSSãƒ†ã‚­ã‚¹ãƒˆ: æ¶ˆå¤±ãƒªã‚¹ã‚¯\n<div style={{ color: '#FFF' }}>Text</div>\n\n// âœ… SVGãƒ†ã‚­ã‚¹ãƒˆ: å®Œå…¨ä¿æŒ\n<svg><text fill=\"#FFF\">Text</text></svg>\n```\n\n### å­¦ã³2: ãƒ–ãƒ©ã‚¦ã‚¶é–“ã®ä¸€è²«æ€§\n\n**CSSãƒãƒƒã‚¸**: ãƒ–ãƒ©ã‚¦ã‚¶é–“ã§ä¸ä¸€è‡´\n- Chrome: 70%å¯è¦–æ€§\n- Firefox: 20%å¯è¦–æ€§\n- Safari: 50%å¯è¦–æ€§\n\n**SVGãƒãƒƒã‚¸**: å…¨ãƒ–ãƒ©ã‚¦ã‚¶ã§100%å¯è¦–æ€§\n\n---\n\n## æ¤œè¨¼æ–¹æ³•\n\n### Before/After æ¯”è¼ƒãƒ†ã‚¹ãƒˆ\n\n```typescript\n// test/badge-text-rendering.test.ts\ndescribe('Badge text rendering', () => {\n  it('CSS badge: text may disappear', async () => {\n    const cssBadge = <div className=\"badge\">Test</div>\n    const canvas = await html2canvas(cssBadge)\n\n    // ãƒ†ã‚­ã‚¹ãƒˆä¿æŒç‡: ç´„60%\n    const textVisibility = measureTextVisibility(canvas)\n    expect(textVisibility).toBeLessThan(100)\n  })\n\n  it('SVG badge: text always preserved', async () => {\n    const svgBadge = <SVGBadge text=\"Test\" />\n    const canvas = await html2canvas(svgBadge)\n\n    // ãƒ†ã‚­ã‚¹ãƒˆä¿æŒç‡: 100%\n    const textVisibility = measureTextVisibility(canvas)\n    expect(textVisibility).toBe(100)\n  })\n})\n```\n\n---\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- **skill_svg_badge_rendering_2025_11_25**: SVGãƒãƒƒã‚¸ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°\n- **skill_html2canvas_optimization_techniques_2025_11_25**: html2canvasæœ€é©åŒ–\n\n---\n\n**ã¾ã¨ã‚**: CSSãƒãƒƒã‚¸ã®ãƒ†ã‚­ã‚¹ãƒˆãŒhtml2canvaså¤‰æ›æ™‚ã«æ¶ˆå¤±ã™ã‚‹å•é¡ŒãŒç™ºç”Ÿã€‚SVGãƒãƒƒã‚¸ã«å¤‰æ›ã™ã‚‹ã“ã¨ã§ã€ãƒ†ã‚­ã‚¹ãƒˆä¿æŒç‡60% â†’ 100%ã«æ”¹å–„ã€‚ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¯ãƒ¬ãƒ¼ãƒ æœˆ10ä»¶ â†’ 0ä»¶ã«å‰Šæ¸›ã€‚\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€Œãƒãƒƒã‚¸ãƒ†ã‚­ã‚¹ãƒˆæ¶ˆå¤±ãƒã‚°ï¼ˆCSSâ†’SVGå¤‰æ›ï¼‰ã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "skill-svg-badge-rendering",
      "skill-html2canvas-optimization-techniques"
    ]
  },
  {
    "slug": "typescript-date-type-mismatch",
    "title": "æ—¥ä»˜å‹ä¸ä¸€è‡´ã‚¨ãƒ©ãƒ¼",
    "category": "Failuresï¼ˆå¤±æ•—ãƒ»ãƒˆãƒ©ãƒ–ãƒ«å¯¾å‡¦ï¼‰",
    "description": "æ—¥ä»˜å‹ä¸ä¸€è‡´ã‚¨ãƒ©ãƒ¼",
    "project": "yumesuta-management-system",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"failure_typescript_date_type_mismatch_2025_11_24\",\n  \"type\": \"failure\",\n  \"name\": \"æ—¥ä»˜å‹ä¸ä¸€è‡´ã‚¨ãƒ©ãƒ¼\",\n  \"problem_type\": \"bug\",\n  \"tags\": [\"TypeScript\", \"å‹ã‚¨ãƒ©ãƒ¼\", \"æ—¥ä»˜\", \"Google Sheets\", \"å‹ã‚¬ãƒ¼ãƒ‰\"],\n  \"source_project\": \"yumesuta-management-system\",\n  \"related_knowledge\": [\"skill_date_parsing_null_check_2025_11_24\", \"decision_arch_api_route_transformation_layer_2025_11_24\"],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-24\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# æ—¥ä»˜å‹ä¸ä¸€è‡´ã‚¨ãƒ©ãƒ¼\n\n## ä½•ãŒå•é¡Œã ã£ãŸã‹\n\nGoogle Sheetsã‹ã‚‰å–å¾—ã—ãŸæ—¥ä»˜ãƒ‡ãƒ¼ã‚¿ï¼ˆæ–‡å­—åˆ—ï¼‰ã‚’ã€TypeScript ã® `Date` å‹ã¨ã—ã¦æ‰±ãŠã†ã¨ã—ã¦ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãŸã€‚\n\n## çŠ¶æ³\n\nAPI Routeã§æ—¥ä»˜ãƒ‡ãƒ¼ã‚¿ã‚’ãƒ‘ãƒ¼ã‚¹ã™ã‚‹éš›ã€Google Sheetsã¯æ–‡å­—åˆ—ã‚’è¿”ã™ãŒã€TypeScriptã¯ `Date` å‹ã‚’æœŸå¾…ã—ã¦ã„ãŸã€‚\n\n## ä½•ã‚’ã—ã‚ˆã†ã¨ã—ãŸã‹\n\n```typescript\n// âŒ ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿ\nfunction parseDate(val: any): Date {\n  return new Date(val);  // valãŒundefined/nullã®å ´åˆã€Invalid Date\n}\n```\n\n## ä½•ãŒå•é¡Œã ã£ãŸã‹\n\n**æ ¹æœ¬åŸå› **ï¼š\n- Google Sheetsã¯æ—¥ä»˜ã‚’æ–‡å­—åˆ—ã¨ã—ã¦è¿”å´ï¼ˆä¾‹: \"2025-11-01\"ï¼‰\n- TypeScriptã¯å‹ãƒã‚§ãƒƒã‚¯ãŒç”˜ãã€`any`å‹ã‚’ä½¿ã†ã¨å®Ÿè¡Œæ™‚ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿ\n\n## ã©ã†è§£æ±ºã—ãŸã‹\n\n### å¯¾å‡¦æ³•1ï¼šæ˜ç¤ºçš„ãªå‹ã‚¬ãƒ¼ãƒ‰è¿½åŠ \n\n```typescript\n// âœ… å‹ã‚¬ãƒ¼ãƒ‰è¿½åŠ \nfunction parseDate(val: any): string {\n  if (!val || typeof val !== 'string') {\n    return '';  // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã‚’è¿”å´\n  }\n  return val;\n}\n```\n\n### å¯¾å‡¦æ³•2ï¼šæ—¥ä»˜ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆçµ±ä¸€\n\n```typescript\nfunction formatDate(val: any): string {\n  if (!val || typeof val !== 'string') return '';\n\n  // YYYY-MM-DD å½¢å¼ã«çµ±ä¸€\n  const date = new Date(val);\n  if (isNaN(date.getTime())) return '';\n\n  return date.toISOString().split('T')[0];\n}\n```\n\n## å­¦ã‚“ã ã“ã¨\n\n- Google Sheetsã¯å¸¸ã«æ–‡å­—åˆ—ã‚’è¿”ã™ãŸã‚ã€å‹ã‚¬ãƒ¼ãƒ‰ãŒå¿…é ˆ\n- `any` å‹ã¯é¿ã‘ã€æ˜ç¤ºçš„ãªå‹ãƒã‚§ãƒƒã‚¯ã‚’è¡Œã†ã¹ã\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `skill_date_parsing_null_check_2025_11_24.md` - æ—¥ä»˜ãƒ‘ãƒ¼ã‚¹æ™‚ã®Null/å‹ãƒã‚§ãƒƒã‚¯\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€Œæ—¥ä»˜å‹ä¸ä¸€è‡´ã‚¨ãƒ©ãƒ¼ã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "skill-date-parsing-null-check",
      "decision-arch-api-route-transformation-layer"
    ]
  },
  {
    "slug": "typescript-errors-bulk-fixed",
    "title": "TypeScriptå‹ã‚¨ãƒ©ãƒ¼ä¸€æ‹¬ä¿®æ­£ï¼ˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ¬ã‚¸ã‚¹ãƒˆãƒªï¼‰",
    "category": "Failuresï¼ˆå¤±æ•—ãƒ»ãƒˆãƒ©ãƒ–ãƒ«å¯¾å‡¦ï¼‰",
    "description": "TypeScriptå‹ã‚¨ãƒ©ãƒ¼ä¸€æ‹¬ä¿®æ­£ï¼ˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ¬ã‚¸ã‚¹ãƒˆãƒªï¼‰",
    "project": "instagram-post-generator",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"failure_typescript_errors_bulk_fixed_2025_11_25\",\n  \"type\": \"failure\",\n  \"name\": \"TypeScriptå‹ã‚¨ãƒ©ãƒ¼ä¸€æ‹¬ä¿®æ­£ï¼ˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ¬ã‚¸ã‚¹ãƒˆãƒªï¼‰\",\n  \"failure_category\": \"type_error\",\n  \"status\": \"resolved\",\n  \"fix_commit\": \"d47fa80, 6cf391b\",\n  \"tags\": [\"TypeScript\", \"å‹ã‚¨ãƒ©ãƒ¼\", \"ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ¬ã‚¸ã‚¹ãƒˆãƒª\", \"keywords\", \"fixed\"],\n  \"source_project\": \"instagram-post-generator\",\n  \"impact\": \"ãƒ“ãƒ«ãƒ‰ã‚¨ãƒ©ãƒ¼ï¼ˆæœ¬ç•ªãƒ‡ãƒ—ãƒ­ã‚¤ä¸å¯ï¼‰\",\n  \"related_knowledge\": [\n    \"decision_arch_template_registry_pattern_2025_11_25\"\n  ],\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# TypeScriptå‹ã‚¨ãƒ©ãƒ¼ä¸€æ‹¬ä¿®æ­£ï¼ˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ¬ã‚¸ã‚¹ãƒˆãƒªï¼‰\n\n## ä½•ãŒèµ·ããŸã‹\n\n**ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ¬ã‚¸ã‚¹ãƒˆãƒªã« `keywords` ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ãŒä¸è¶³ã—ã¦ãŠã‚Šã€è¤‡æ•°ã®TypeScriptå‹ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã€‚ãƒ“ãƒ«ãƒ‰ãŒå¤±æ•—ã—ã¦ãƒ‡ãƒ—ãƒ­ã‚¤ä¸å¯èƒ½ãªçŠ¶æ…‹ã«ã€‚**\n\n**ç—‡çŠ¶**:\n```bash\n$ npm run build\n\nType error: Property 'keywords' is missing in type\n  '{ id: string; name: string; component: FC<any>; category: string; }'\n  but required in type 'TemplateRegistryEntry'.\n\n  app/components/templates/TemplateRegistry.ts:45:5\n    45 |   'unified-template-01': {\n       |     ^\n\nFound 15 errors in 15 files.\n```\n\n**å½±éŸ¿**:\n- ãƒ“ãƒ«ãƒ‰å¤±æ•—: 100%\n- ãƒ‡ãƒ—ãƒ­ã‚¤ä¸å¯èƒ½\n- é–‹ç™ºä¸­æ–­\n\n---\n\n## ãªãœç™ºç”Ÿã—ãŸã‹\n\n### åŸå› 1: ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹å®šç¾©ã®å¾Œä»˜ã‘è¿½åŠ \n\n**æ™‚ç³»åˆ—**:\n\n1. **åˆæœŸå®Ÿè£…**: keywords ãªã—\n   ```typescript\n   // åˆæœŸã® TemplateRegistryEntry\n   interface TemplateRegistryEntry {\n     id: string\n     name: string\n     component: FC<any>\n     category: string\n   }\n   ```\n\n2. **æ©Ÿèƒ½è¿½åŠ **: ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé¸æŠã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã§ keywords å¿…è¦\n   ```typescript\n   // ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé¸æŠã§ keywords ã‚’ä½¿ç”¨\n   function selectTemplate(content: string) {\n     for (const template of templates) {\n       if (template.keywords.some(k => content.includes(k))) {\n         return template\n       }\n     }\n   }\n   ```\n\n3. **ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹æ›´æ–°**: keywords ã‚’è¿½åŠ \n   ```typescript\n   // æ›´æ–°å¾Œã® TemplateRegistryEntry\n   interface TemplateRegistryEntry {\n     id: string\n     name: string\n     component: FC<any>\n     category: string\n     keywords: string[]  // æ–°è¦è¿½åŠ \n   }\n   ```\n\n4. **æ—¢å­˜ã‚³ãƒ¼ãƒ‰æœªæ›´æ–°**: 72ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã™ã¹ã¦ã« keywords ãŒãªã„\n   ```typescript\n   // âŒ keywords ãŒç„¡ã„\n   export const TemplateRegistry: Record<string, TemplateRegistryEntry> = {\n     'unified-template-01': {\n       id: 'unified-template-01',\n       name: 'ã‚·ãƒ³ãƒ—ãƒ«å°å…¥',\n       component: UnifiedTemplate01SimpleIntro,\n       category: 'intro'\n       // keywords: ['å°å…¥', 'ã‚¤ãƒ³ãƒˆãƒ­', 'èª¬æ˜'] ãŒç„¡ã„\n     },\n     // ... 72ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã™ã¹ã¦åŒæ§˜\n   }\n   ```\n\n### åŸå› 2: æ®µéšçš„ãªå‹å®šç¾©è¿½åŠ ã®ãƒªã‚¹ã‚¯\n\n**å•é¡Œ**:\n- ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹æ›´æ–°æ™‚ã«æ—¢å­˜ã‚³ãƒ¼ãƒ‰å…¨ã¦ã‚’æ›´æ–°ã—ãªã‹ã£ãŸ\n- TypeScript strict mode ã«ã‚ˆã‚Šå¿…é ˆãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ãŒå³æ ¼ãƒã‚§ãƒƒã‚¯\n- 15ãƒ•ã‚¡ã‚¤ãƒ« Ã— 72ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ = å¤§è¦æ¨¡ä¿®æ­£ãŒå¿…è¦\n\n**æ ¹æœ¬åŸå› **: å¾Œæ–¹äº’æ›æ€§ã‚’è€ƒæ…®ã—ãªã„ breaking change\n\n---\n\n## è§£æ±ºç­–\n\n### è§£æ±º1: ã™ã¹ã¦ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã« keywords è¿½åŠ \n\n**ä¿®æ­£ã‚³ãƒŸãƒƒãƒˆ**: d47fa80, 6cf391b\n\n**ä¿®æ­£å†…å®¹**:\n\n```typescript\n// app/components/templates/TemplateRegistry.ts\n\nexport const TemplateRegistry: Record<string, TemplateRegistryEntry> = {\n  // âœ… keywords è¿½åŠ \n  'unified-template-01-simple-intro': {\n    id: 'unified-template-01-simple-intro',\n    name: 'ã‚·ãƒ³ãƒ—ãƒ«å°å…¥',\n    component: UnifiedTemplate01SimpleIntro,\n    category: 'intro',\n    keywords: ['å°å…¥', 'ã‚¤ãƒ³ãƒˆãƒ­', 'èª¬æ˜', 'æ¦‚è¦', 'ã¯ã˜ã‚ã«']\n  },\n\n  'unified-template-02-background-gradient': {\n    id: 'unified-template-02-background-gradient',\n    name: 'èƒŒæ™¯ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³',\n    component: UnifiedTemplate02BackgroundGradient,\n    category: 'visual',\n    keywords: ['èƒŒæ™¯', 'ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³', 'ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«', 'ãƒ‡ã‚¶ã‚¤ãƒ³']\n  },\n\n  'unified-template-03-top-3-ranking': {\n    id: 'unified-template-03-top-3-ranking',\n    name: 'ãƒˆãƒƒãƒ—3ãƒ©ãƒ³ã‚­ãƒ³ã‚°',\n    component: UnifiedTemplate03Top3Ranking,\n    category: 'ranking',\n    keywords: ['ãƒ©ãƒ³ã‚­ãƒ³ã‚°', 'ãƒˆãƒƒãƒ—3', 'é †ä½', 'ãƒ™ã‚¹ãƒˆ3', '1ä½', '2ä½', '3ä½']\n  },\n\n  // ... 72ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã™ã¹ã¦ã« keywords è¿½åŠ \n}\n```\n\n**è¿½åŠ ã—ãŸ keywords ã®åŸºæº–**:\n\n1. **ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆåç”±æ¥**:\n   - 'simple-intro' â†’ ['å°å…¥', 'ã‚¤ãƒ³ãƒˆãƒ­', 'èª¬æ˜']\n   - 'top-3-ranking' â†’ ['ãƒ©ãƒ³ã‚­ãƒ³ã‚°', 'ãƒˆãƒƒãƒ—3', 'é †ä½']\n\n2. **ã‚«ãƒ†ã‚´ãƒªç”±æ¥**:\n   - category: 'intro' â†’ ['ã¯ã˜ã‚ã«', 'æ¦‚è¦']\n   - category: 'ranking' â†’ ['é †ä½', 'ãƒ™ã‚¹ãƒˆ']\n\n3. **ä½¿ç”¨å ´é¢**:\n   - ä¼æ¥­ãƒ©ãƒ³ã‚­ãƒ³ã‚° â†’ ['ä¼æ¥­', 'ä¼šç¤¾', 'ãƒ©ãƒ³ã‚­ãƒ³ã‚°']\n   - ã‚¹ãƒ†ãƒƒãƒ—ã‚¬ã‚¤ãƒ‰ â†’ ['æ‰‹é †', 'ã‚¹ãƒ†ãƒƒãƒ—', 'ã‚„ã‚Šæ–¹']\n\n### è§£æ±º2: å‹å®šç¾©ã®å …ç‰¢åŒ–\n\n**ã‚ªãƒ—ã‚·ãƒ§ãƒŠãƒ«ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã®æ¤œè¨**:\n\n```typescript\n// âŒ æœ€åˆã®æ¡ˆ: keywords ã‚’ã‚ªãƒ—ã‚·ãƒ§ãƒŠãƒ«ã«\ninterface TemplateRegistryEntry {\n  id: string\n  name: string\n  component: FC<any>\n  category: string\n  keywords?: string[]  // ã‚ªãƒ—ã‚·ãƒ§ãƒŠãƒ«\n}\n\n// å•é¡Œ: ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé¸æŠã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã§ undefined ãƒã‚§ãƒƒã‚¯ãŒå¿…è¦\nif (template.keywords?.some(k => content.includes(k))) {\n  // ...\n}\n```\n\n**æ¡ç”¨ã—ãŸæ¡ˆ: keywords ã‚’å¿…é ˆã«ä¿ã¤**:\n\n```typescript\n// âœ… æ¡ç”¨: keywords ã¯å¿…é ˆ\ninterface TemplateRegistryEntry {\n  id: string\n  name: string\n  component: FC<any>\n  category: string\n  keywords: string[]  // å¿…é ˆ\n}\n\n// åˆ©ç‚¹: ç©ºé…åˆ—ã§ã‚‚OKã€undefined ãƒã‚§ãƒƒã‚¯ä¸è¦\nkeywords: []  // OKï¼ˆãƒãƒƒãƒã—ãªã„ã ã‘ï¼‰\n```\n\n**ç†ç”±**: ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé¸æŠã®å“è³ªä¿è¨¼ï¼ˆã™ã¹ã¦ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãŒé¸æŠå¯¾è±¡ï¼‰\n\n---\n\n## å­¦ã³\n\n### å­¦ã³1: ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹å¤‰æ›´ã¯ breaking change\n\n**åŸå‰‡**: å¿…é ˆãƒ—ãƒ­ãƒ‘ãƒ†ã‚£è¿½åŠ  = ã™ã¹ã¦ã®å®Ÿè£…ã‚’æ›´æ–°\n\n```typescript\n// âŒ æ®µéšçš„æ›´æ–°\n// 1. ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹æ›´æ–°\n// 2. ä¸€éƒ¨ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®ã¿æ›´æ–°\n// â†’ ãƒ“ãƒ«ãƒ‰ã‚¨ãƒ©ãƒ¼\n\n// âœ… ä¸€æ‹¬æ›´æ–°\n// 1. ã™ã¹ã¦ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã« keywords è¿½åŠ \n// 2. ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹æ›´æ–°\n// â†’ ãƒ“ãƒ«ãƒ‰æˆåŠŸ\n```\n\n### å­¦ã³2: TypeScript strict mode ã®åŠ¹æœ\n\n**strict mode ã®ãƒ¡ãƒªãƒƒãƒˆ**:\n- å¿…é ˆãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã®æ¬ è½ã‚’å³åº§ã«æ¤œå‡º\n- ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã‚¨ãƒ©ãƒ¼ã‚’é˜²æ­¢\n- ã‚³ãƒ¼ãƒ‰å“è³ªã®å‘ä¸Š\n\n**ä»Šå›ã®ã‚±ãƒ¼ã‚¹**:\n```typescript\n// strict: true ã®ãŠã‹ã’ã§ã€ãƒ‡ãƒ—ãƒ­ã‚¤å‰ã«ç™ºè¦‹\n// ãƒ‡ãƒ—ãƒ­ã‚¤å¾Œã« keywords undefined ã§ã‚¯ãƒ©ãƒƒã‚·ãƒ¥ã‚’é˜²ã„ã \n```\n\n### å­¦ã³3: keywords ã®è¨­è¨ˆã¯é‡è¦\n\n**è‰¯ã„ keywords**:\n```typescript\nkeywords: ['ãƒ©ãƒ³ã‚­ãƒ³ã‚°', 'ãƒˆãƒƒãƒ—3', 'é †ä½', 'ãƒ™ã‚¹ãƒˆ3', '1ä½', '2ä½', '3ä½']\n// â†’ å¤šæ§˜ãªè¡¨ç¾ã§ãƒãƒƒãƒãƒ³ã‚°æˆåŠŸç‡å‘ä¸Š\n```\n\n**æ‚ªã„ keywords**:\n```typescript\nkeywords: ['ãƒ©ãƒ³ã‚­ãƒ³ã‚°']\n// â†’ ãƒãƒƒãƒãƒ³ã‚°æˆåŠŸç‡ä½ä¸‹ï¼ˆã€Œãƒˆãƒƒãƒ—3ã€ã¨ã„ã†è¡¨ç¾ã‚’è¦‹é€ƒã™ï¼‰\n```\n\n### å­¦ã³4: ä¸€æ‹¬ä¿®æ­£ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®å¿…è¦æ€§\n\n**æ‰‹å‹•ä¿®æ­£ã®å•é¡Œ**:\n- 72ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ Ã— æ‰‹å‹•ç·¨é›† = ç´„2æ™‚é–“\n- ãƒŸã‚¹ã®ãƒªã‚¹ã‚¯ï¼ˆkeywords ã®é‡è¤‡ã€èª¤å­—ï¼‰\n\n**ç†æƒ³çš„ãªè§£æ±º**:\n```typescript\n// ä¸€æ‹¬ä¿®æ­£ã‚¹ã‚¯ãƒªãƒ—ãƒˆï¼ˆå°†æ¥ã®å‚è€ƒï¼‰\nconst templates = [\n  { id: 'template-01', name: 'ã‚·ãƒ³ãƒ—ãƒ«å°å…¥' },\n  // ...\n]\n\ntemplates.forEach(t => {\n  const keywords = generateKeywordsFromName(t.name)\n  console.log(`'${t.id}': { ..., keywords: ${JSON.stringify(keywords)} }`)\n})\n\nfunction generateKeywordsFromName(name: string): string[] {\n  // åå‰ã‹ã‚‰ keywords ã‚’è‡ªå‹•ç”Ÿæˆ\n  // ä¾‹: 'ã‚·ãƒ³ãƒ—ãƒ«å°å…¥' â†’ ['å°å…¥', 'ã‚¤ãƒ³ãƒˆãƒ­', 'ã‚·ãƒ³ãƒ—ãƒ«', 'èª¬æ˜']\n}\n```\n\n---\n\n## æ¤œè¨¼æ–¹æ³•\n\n### ãƒ“ãƒ«ãƒ‰ãƒ†ã‚¹ãƒˆ\n\n```bash\n# ä¿®æ­£å‰\n$ npm run build\nâŒ Found 15 errors in 15 files.\n\n# ä¿®æ­£å¾Œ\n$ npm run build\nâœ… Compiled successfully.\n```\n\n### å‹ãƒã‚§ãƒƒã‚¯ãƒ†ã‚¹ãƒˆ\n\n```bash\n$ npx tsc --noEmit\nâœ… No errors found.\n```\n\n### ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé¸æŠãƒ†ã‚¹ãƒˆ\n\n```typescript\n// test/template-selection.test.ts\ndescribe('Template selection with keywords', () => {\n  it('should select template by keyword match', () => {\n    const content = 'ãƒˆãƒƒãƒ—3ã®ãƒ©ãƒ³ã‚­ãƒ³ã‚°ã‚’ç´¹ä»‹ã—ã¾ã™'\n    const template = selectTemplate(content)\n\n    expect(template.id).toBe('unified-template-03-top-3-ranking')\n    expect(template.keywords).toContain('ãƒ©ãƒ³ã‚­ãƒ³ã‚°')\n    expect(template.keywords).toContain('ãƒˆãƒƒãƒ—3')\n  })\n\n  it('all templates should have keywords', () => {\n    const templates = Object.values(TemplateRegistry)\n\n    templates.forEach(template => {\n      expect(template.keywords).toBeDefined()\n      expect(Array.isArray(template.keywords)).toBe(true)\n      expect(template.keywords.length).toBeGreaterThan(0)\n    })\n  })\n})\n```\n\n---\n\n## ä»Šå¾Œã®å¯¾ç­–\n\n### å¯¾ç­–1: ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹å¤‰æ›´ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ\n\n**æ–°è¦ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£è¿½åŠ æ™‚**:\n- [ ] ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹æ›´æ–°\n- [ ] ã™ã¹ã¦ã®å®Ÿè£…ç®‡æ‰€ã‚’ grep æ¤œç´¢\n- [ ] ä¸€æ‹¬æ›´æ–°ï¼ˆã¾ãŸã¯ç§»è¡Œã‚¹ã‚¯ãƒªãƒ—ãƒˆä½œæˆï¼‰\n- [ ] ãƒ“ãƒ«ãƒ‰ãƒ†ã‚¹ãƒˆ\n- [ ] å‹ãƒã‚§ãƒƒã‚¯ãƒ†ã‚¹ãƒˆ\n\n### å¯¾ç­–2: ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã®æä¾›\n\n```typescript\n// ã‚ªãƒ—ã‚·ãƒ§ãƒ³: ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤æä¾›é–¢æ•°\nfunction createTemplateEntry(\n  entry: Omit<TemplateRegistryEntry, 'keywords'> & { keywords?: string[] }\n): TemplateRegistryEntry {\n  return {\n    ...entry,\n    keywords: entry.keywords || generateKeywordsFromName(entry.name)\n  }\n}\n```\n\n### å¯¾ç­–3: CI/CDã§ã®å‹ãƒã‚§ãƒƒã‚¯\n\n```yaml\n# .github/workflows/ci.yml\n- name: TypeScript type check\n  run: npx tsc --noEmit\n\n- name: Build test\n  run: npm run build\n```\n\n---\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- **decision_arch_template_registry_pattern_2025_11_25.md**: ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ¬ã‚¸ã‚¹ãƒˆãƒªè¨­è¨ˆ\n\n---\n\n**TypeScriptå‹ã‚¨ãƒ©ãƒ¼ä¸€æ‹¬ä¿®æ­£ã«ã‚ˆã‚Šã€72ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã™ã¹ã¦ã« keywords ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’è¿½åŠ ã€‚ãƒ“ãƒ«ãƒ‰ã‚¨ãƒ©ãƒ¼ã‚’è§£æ¶ˆã—ã€ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé¸æŠã®å“è³ªã‚’å‘ä¸Šã•ã›ãŸã€‚ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹å¤‰æ›´ã¯ breaking change ã§ã‚ã‚‹ã“ã¨ã‚’å†èªè­˜ã€‚**\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€ŒTypeScriptå‹ã‚¨ãƒ©ãƒ¼ä¸€æ‹¬ä¿®æ­£ï¼ˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ¬ã‚¸ã‚¹ãƒˆãƒªï¼‰ã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "decision-arch-template-registry-pattern"
    ]
  },
  {
    "slug": "wsl-localhost-resolution-issue",
    "title": "WSLç’°å¢ƒã§localhostãŒè§£æ±ºã—ãªã„å•é¡Œ",
    "category": "Failuresï¼ˆå¤±æ•—ãƒ»ãƒˆãƒ©ãƒ–ãƒ«å¯¾å‡¦ï¼‰",
    "description": "WSLç’°å¢ƒã§localhostãŒè§£æ±ºã—ãªã„å•é¡Œ",
    "project": "yumesuta-management-system",
    "usedIn": [
      "CLAUDE.md:44-49"
    ],
    "code": "```json\n{\n  \"id\": \"failure_wsl_localhost_resolution_issue_2025_11_24\",\n  \"type\": \"failure\",\n  \"name\": \"WSLç’°å¢ƒã§localhostãŒè§£æ±ºã—ãªã„å•é¡Œ\",\n  \"problem_type\": \"environment\",\n  \"tags\": [\"WSL\", \"localhost\", \"127.0.0.1\", \"ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯\", \"curl\"],\n  \"source_project\": \"yumesuta-management-system\",\n  \"source_file\": \"CLAUDE.md:44-49\",\n  \"related_knowledge\": [\"skill_url_encoding_japanese_sheet_names_2025_11_24\"],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-24\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# WSLç’°å¢ƒã§localhostãŒè§£æ±ºã—ãªã„å•é¡Œ\n\n## ä½•ãŒå•é¡Œã ã£ãŸã‹\n\nWSLç’°å¢ƒã§ `curl http://localhost:3000/api/endpoint` ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã€æ¥ç¶šã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãŸã€‚\n\n## çŠ¶æ³\n\nNext.jsé–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã¯èµ·å‹•ã—ã¦ã„ã‚‹ãŒã€WSLã®curlã‹ã‚‰ `localhost` ã§ã‚¢ã‚¯ã‚»ã‚¹ã§ããªã„ã€‚\n\n## ä½•ã‚’ã—ã‚ˆã†ã¨ã—ãŸã‹\n\n```bash\n# âŒ å¤±æ•—\ncurl \"http://localhost:3000/api/endpoint\"\n# ã‚¨ãƒ©ãƒ¼: Could not resolve host: localhost\n```\n\n## ä½•ãŒå•é¡Œã ã£ãŸã‹\n\n**æ ¹æœ¬åŸå› **ï¼š\nWSLç’°å¢ƒã§ã¯ã€`localhost` ã®ãƒ›ã‚¹ãƒˆåè§£æ±ºãŒæ­£ã—ãæ©Ÿèƒ½ã—ãªã„å ´åˆãŒã‚ã‚‹ã€‚\n\n## ã©ã†è§£æ±ºã—ãŸã‹\n\n```bash\n# âœ… æˆåŠŸï¼ˆ127.0.0.1ã‚’ä½¿ç”¨ï¼‰\ncurl \"http://127.0.0.1:3000/api/endpoint\"\n```\n\n## æœ€çµ‚çš„ãªè§£æ±ºç­–\n\n**WSLç’°å¢ƒã§ã¯å¿…ãš `127.0.0.1` ã‚’ä½¿ç”¨ã™ã‚‹**\n\n```bash\n# API ãƒ†ã‚¹ãƒˆ\ncurl -s \"http://127.0.0.1:3000/api/yumemaga-sheets?sheet=%E4%BC%81%E6%A5%AD%E3%83%9E%E3%82%B9%E3%82%BF%E3%83%BC&limit=2\" | python3 -m json.tool\n```\n\n## å­¦ã‚“ã ã“ã¨\n\n- WSLç’°å¢ƒã§ã¯ `localhost` ã§ã¯ãªã `127.0.0.1` ã‚’ä½¿ç”¨ã™ã¹ã\n- ç’°å¢ƒä¾å­˜ã®å•é¡Œã¯ã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆï¼ˆCLAUDE.mdï¼‰ã«è¨˜è¼‰ã™ã¹ã\n\n## æ¬¡å›ã©ã†é¿ã‘ã‚‹ã‹\n\n- CLAUDE.mdã«ã€ŒWSLç’°å¢ƒã§ã¯127.0.0.1ã‚’ä½¿ç”¨ã€ã¨è¨˜è¼‰\n- curlã‚³ãƒãƒ³ãƒ‰ä¾‹ã¯ã™ã¹ã¦ `127.0.0.1` ã‚’ä½¿ç”¨\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `skill_url_encoding_japanese_sheet_names_2025_11_24.md` - æ—¥æœ¬èªã‚·ãƒ¼ãƒˆåã®URLã‚¨ãƒ³ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ï¼ˆcurlã§ã®ãƒ†ã‚¹ãƒˆæ–¹æ³•ï¼‰\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€ŒWSLç’°å¢ƒã§localhostãŒè§£æ±ºã—ãªã„å•é¡Œã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "skill-url-encoding-japanese-sheet-names"
    ]
  },
  {
    "slug": "ai-blog-generator-status",
    "title": "ai-blog-generator - ç¾åœ¨ã®çŠ¶æ…‹",
    "category": "Active Systemsï¼ˆç¨¼åƒä¸­ã‚·ã‚¹ãƒ†ãƒ ï¼‰",
    "description": "ai-blog-generator - ç¾åœ¨ã®çŠ¶æ…‹",
    "project": "ai-blog-generator",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"system_ai_blog_generator_status_2025_04_22\",\n  \"type\": \"system_status\",\n  \"name\": \"ai-blog-generator - ç¾åœ¨ã®çŠ¶æ…‹\",\n  \"tags\": [\"ç¨¼åƒçŠ¶æ³\", \"å®Œæˆåº¦\"],\n  \"source_project\": \"ai-blog-generator\",\n  \"related_knowledge\": [\"workflow_blog_auto_generation_flow_2025_04_22\"],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-04-22\",\n  \"updated\": \"2025-04-22\"\n}\n```\n\n# ai-blog-generator - ç¾åœ¨ã®çŠ¶æ…‹\n\n## å®Œæˆåº¦\n\n**95%**\n\n## å®Œäº†æ©Ÿèƒ½\n\nâœ… ãƒˆãƒ¬ãƒ³ãƒ‰ãƒˆãƒ”ãƒƒã‚¯è‡ªå‹•å–å¾—\nâœ… Gemini APIè¨˜äº‹ç”Ÿæˆ\nâœ… GitHub Actionsè‡ªå‹•åŒ–\n\n## æœªå®Œäº†\n\nâ³ ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰\n\n## ç¨¼åƒçŠ¶æ³\n\n**é–‹ç™ºç’°å¢ƒ**ï¼šãƒ­ãƒ¼ã‚«ãƒ«ï¼ˆãƒ“ãƒ«ãƒ‰æ¸ˆã¿ï¼‰\n**æœ¬ç•ªç’°å¢ƒ**ï¼šä¸æ˜\n**æœ€çµ‚æ›´æ–°**ï¼š2025-04-22\n\n## æ—¢çŸ¥ã®å•é¡Œ\n\n1. ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ãŒãªã„\n2. Gitå±¥æ­´ãŒ1ã‚³ãƒŸãƒƒãƒˆã®ã¿\n\n## é–¢é€£\n\n- `workflow_blog_auto_generation_flow_2025_04_22.md`\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€Œai-blog-generator - ç¾åœ¨ã®çŠ¶æ…‹ã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "workflow-blog-auto-generation-flow"
    ]
  },
  {
    "slug": "ai-document-generator-status",
    "title": "ai-document-generator - ç¾åœ¨ã®çŠ¶æ…‹",
    "category": "Active Systemsï¼ˆç¨¼åƒä¸­ã‚·ã‚¹ãƒ†ãƒ ï¼‰",
    "description": "ai-document-generator - ç¾åœ¨ã®çŠ¶æ…‹",
    "project": "ai-document-generator",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"system_ai_document_generator_status_2025_04_11\",\n  \"type\": \"system_status\",\n  \"name\": \"ai-document-generator - ç¾åœ¨ã®çŠ¶æ…‹\",\n  \"tags\": [\"ã‚·ã‚¹ãƒ†ãƒ çŠ¶æ…‹\", \"å®Œæˆåº¦\", \"ç¨¼åƒçŠ¶æ³\", \"ãƒ‡ãƒ—ãƒ­ã‚¤\", \"æŠ€è¡“çš„è² å‚µ\", \"ä»Šå¾Œã®äºˆå®š\"],\n  \"source_project\": \"ai-document-generator\",\n  \"related_knowledge\": [\"workflow_document_creation_full_flow_2025_04_11\", \"failure_tech_debt_no_tests_validation_2025_04_11\"],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-04-11\",\n  \"updated\": \"2025-04-28\"\n}\n```\n\n# ai-document-generator - ç¾åœ¨ã®çŠ¶æ…‹\n\n## ã‚·ã‚¹ãƒ†ãƒ æ¦‚è¦\n\nAIã‚’æ´»ç”¨ã—ãŸãƒ—ãƒ­ãƒ•ã‚§ãƒƒã‚·ãƒ§ãƒŠãƒ«ãªãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”ŸæˆWebã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã€‚ãƒãƒ©ã‚·ã€ãƒ—ãƒ¬ã‚¼ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã€äº‹æ¥­è¨ˆç”»æ›¸ãªã©ã‚’ã€ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé¸æŠâ†’AIã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”Ÿæˆâ†’PDFã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã®æµã‚Œã§ä½œæˆã§ãã‚‹ã€‚\n\n**ä¸»ãªæ©Ÿèƒ½**ï¼š\n- ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚·ã‚¹ãƒ†ãƒ ï¼ˆDocument Typeã€Layoutã€Themeã€Componentï¼‰\n- AIã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”Ÿæˆï¼ˆGoogle Gemini APIï¼‰\n- PDFã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆï¼ˆPuppeteerã€jsPDFã€html2canvasï¼‰\n- ã‚°ãƒªãƒƒãƒ‰ãƒ™ãƒ¼ã‚¹ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚¨ãƒ‡ã‚£ã‚¿\n- ãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—ã€ãƒªã‚µã‚¤ã‚ºæ©Ÿèƒ½\n\n## å®Œæˆåº¦\n\n**å…¨ä½“å®Œæˆåº¦**ï¼š**75%**\n\n### å®Œäº†ã—ã¦ã„ã‚‹æ©Ÿèƒ½\n\n#### âœ… ã‚³ã‚¢æ©Ÿèƒ½ï¼ˆ100%å®Œæˆï¼‰\n\n1. **ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚·ã‚¹ãƒ†ãƒ **\n   - Document Typeå®šç¾©ï¼ˆA4ç¸¦ã€16:9ãªã©ï¼‰\n   - Layoutå®šç¾©ï¼ˆã‚°ãƒªãƒƒãƒ‰ãƒ™ãƒ¼ã‚¹ï¼‰\n   - Themeå®šç¾©ï¼ˆã‚«ãƒ©ãƒ¼ã€ã‚¿ã‚¤ãƒã‚°ãƒ©ãƒ•ã‚£ï¼‰\n   - Componentå®šç¾©ï¼ˆå†åˆ©ç”¨å¯èƒ½ãªUIè¦ç´ ï¼‰\n   - ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆäº’æ›æ€§ç®¡ç†\n\n2. **AIã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”Ÿæˆ**\n   - Google Gemini APIçµ±åˆï¼ˆgemini-1.5-flashï¼‰\n   - ã‚»ã‚¯ã‚·ãƒ§ãƒ³åˆ¥ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚°\n   - ã‚°ãƒ­ãƒ¼ãƒãƒ«ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ç®¡ç†ï¼ˆã‚¿ã‚¤ãƒˆãƒ«ã€ç›®çš„ã€å¯¾è±¡è€…ãªã©ï¼‰\n   - ç”Ÿæˆå±¥æ­´ç®¡ç†\n   - ãƒªãƒ•ã‚¡ã‚¤ãƒ³æ©Ÿèƒ½ï¼ˆè¿½åŠ æŒ‡ç¤ºã§æ”¹å–„ï¼‰\n\n3. **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚¨ãƒ‡ã‚£ã‚¿**\n   - ã‚°ãƒªãƒƒãƒ‰ãƒ™ãƒ¼ã‚¹ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚¨ãƒ‡ã‚£ã‚¿ï¼ˆReact Grid Layoutï¼‰\n   - ã‚»ã‚¯ã‚·ãƒ§ãƒ³åˆ¥ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç·¨é›†\n   - ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼\n   - ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆåˆ‡ã‚Šæ›¿ãˆ\n   - ãƒ†ãƒ¼ãƒé©ç”¨\n\n4. **PDFã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ**\n   - Puppeteerï¼ˆã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ã€é«˜å“è³ªï¼‰\n   - html2canvas + jsPDFï¼ˆã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰ã€ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ï¼‰\n   - è¤‡æ•°ãƒšãƒ¼ã‚¸å¯¾å¿œ\n   - 300 DPIå¯¾å¿œ\n\n5. **çŠ¶æ…‹ç®¡ç†**\n   - Zustandè¤‡æ•°ã‚¹ãƒˆã‚¢ï¼ˆtemplateStoreã€documentStoreã€sectionStoreã€aiGenerationStoreã€mediaStoreã€editorUIStoreï¼‰\n   - æ°¸ç¶šåŒ–ï¼ˆlocalStorageï¼‰\n\n#### âœ… UI/UXï¼ˆ80%å®Œæˆï¼‰\n\n1. **ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé¸æŠç”»é¢**ï¼ˆ`/templates`ï¼‰\n   - ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚«ãƒ¼ãƒ‰ä¸€è¦§\n   - ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ç”»åƒ\n   - ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°\n\n2. **ã‚¨ãƒ‡ã‚£ã‚¿ç”»é¢**ï¼ˆ`/editor/[documentId]`ï¼‰\n   - ãƒãƒ«ãƒã‚¿ãƒ–ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ï¼ˆãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã€ãƒ‡ã‚¶ã‚¤ãƒ³ã€ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³ï¼‰\n   - ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ‘ãƒãƒ«\n   - ãƒ•ãƒ«ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ¢ãƒ¼ãƒ‰\n\n3. **AIç”ŸæˆUI**\n   - ç”Ÿæˆãƒœã‚¿ãƒ³\n   - ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¡¨ç¤º\n   - ç”Ÿæˆçµæœãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼\n   - å†ç”Ÿæˆãƒ»ãƒªãƒ•ã‚¡ã‚¤ãƒ³ãƒœã‚¿ãƒ³\n\n4. **ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆUI**\n   - ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆãƒ€ã‚¤ã‚¢ãƒ­ã‚°\n   - è¨­å®šé …ç›®ï¼ˆãƒ•ã‚¡ã‚¤ãƒ«åã€å“è³ªã€ãƒšãƒ¼ã‚¸ç¯„å›²ï¼‰\n   - ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹è¡¨ç¤º\n\n#### âœ… ãƒ‡ãƒ¼ã‚¿ãƒ»ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆï¼ˆ60%å®Œæˆï¼‰\n\n1. **Document Type Templates**\n   - A4ç¸¦ãƒãƒ©ã‚·ï¼ˆå®Œæˆï¼‰\n   - A4æ¨ªãƒãƒ©ã‚·ï¼ˆå®Œæˆï¼‰\n   - 16:9ãƒ—ãƒ¬ã‚¼ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆå®Œæˆï¼‰\n   - äº‹æ¥­è¨ˆç”»æ›¸ï¼ˆéƒ¨åˆ†çš„ï¼‰\n   - ãƒãƒŠãƒ¼ï¼ˆéƒ¨åˆ†çš„ï¼‰\n\n2. **Layout Templates**\n   - ãƒ’ãƒ¼ãƒ­ãƒ¼+ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ï¼ˆå®Œæˆï¼‰\n   - 2ã‚«ãƒ©ãƒ ï¼ˆå®Œæˆï¼‰\n   - ç”»åƒå·¦+ãƒ†ã‚­ã‚¹ãƒˆå³ï¼ˆå®Œæˆï¼‰\n   - ç¸¦ä¸¦ã³ï¼ˆå®Œæˆï¼‰\n   - FIND to DOå°‚ç”¨ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆï¼ˆå®Œæˆï¼‰\n\n3. **Theme Templates**\n   - ãƒ¢ãƒ€ãƒ³ãƒ–ãƒ«ãƒ¼ï¼ˆå®Œæˆï¼‰\n   - ã‚³ãƒ¼ãƒãƒ¬ãƒ¼ãƒˆã‚°ãƒ¬ãƒ¼ï¼ˆå®Œæˆï¼‰\n   - ãƒ“ãƒ“ãƒƒãƒ‰ã‚ªãƒ¬ãƒ³ã‚¸ï¼ˆå®Œæˆï¼‰\n\n4. **Component Definitions**\n   - è¦‹å‡ºã—ï¼ˆå®Œæˆï¼‰\n   - ãƒ†ã‚­ã‚¹ãƒˆï¼ˆå®Œæˆï¼‰\n   - ç”»åƒï¼ˆå®Œæˆï¼‰\n   - ãƒªã‚¹ãƒˆï¼ˆå®Œæˆï¼‰\n   - ãƒãƒ£ãƒ¼ãƒˆï¼ˆå®Œæˆï¼‰\n   - ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ã‚«ãƒ¼ãƒ‰ï¼ˆå®Œæˆï¼‰\n   - ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³ï¼ˆå®Œæˆï¼‰\n   - ãªã©ã€15ç¨®é¡ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ\n\n### æœªå®Œäº†ã®æ©Ÿèƒ½\n\n#### â³ å“è³ªä¿è¨¼ï¼ˆ0%å®Œæˆï¼‰\n\n1. **ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰**ï¼ˆæœªå®Ÿè£…ï¼‰\n   - Unit Tests\n   - Integration Tests\n   - E2E Tests\n   - è©³ç´°ï¼š`failure_tech_debt_no_tests_validation_2025_04_11.md`\n\n2. **ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³**ï¼ˆéƒ¨åˆ†çš„ï¼‰\n   - ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå®šç¾©ã®ã‚¹ã‚­ãƒ¼ãƒãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆæœªå®Ÿè£…ï¼‰\n   - ãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›ã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆéƒ¨åˆ†çš„ï¼‰\n\n3. **ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°**ï¼ˆéƒ¨åˆ†çš„ï¼‰\n   - ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¨ãƒ©ãƒ¼ãƒã‚¦ãƒ³ãƒ€ãƒªï¼ˆæœªå®Ÿè£…ï¼‰\n   - API ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ï¼ˆéƒ¨åˆ†çš„ï¼‰\n\n#### â³ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–ï¼ˆ20%å®Œæˆï¼‰\n\n1. **é…å»¶ãƒ­ãƒ¼ãƒ‰**ï¼ˆæœªå®Ÿè£…ï¼‰\n   - ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå®šç¾©ã®é…å»¶ãƒ­ãƒ¼ãƒ‰\n   - ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å‹•çš„ã‚¤ãƒ³ãƒãƒ¼ãƒˆ\n\n2. **ä»®æƒ³åŒ–**ï¼ˆæœªå®Ÿè£…ï¼‰\n   - React Grid Layoutã®ä»®æƒ³åŒ–ï¼ˆå¤§é‡ã‚»ã‚¯ã‚·ãƒ§ãƒ³å¯¾å¿œï¼‰\n\n3. **ç”»åƒæœ€é©åŒ–**ï¼ˆéƒ¨åˆ†çš„ï¼‰\n   - Next.js Imageã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼ˆä¸€éƒ¨ã®ã¿ä½¿ç”¨ï¼‰\n\n#### â³ ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ï¼ˆ10%å®Œæˆï¼‰\n\n1. **ARIAãƒ©ãƒ™ãƒ«**ï¼ˆéƒ¨åˆ†çš„ï¼‰\n2. **ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³**ï¼ˆéƒ¨åˆ†çš„ï¼‰\n3. **ã‚«ãƒ©ãƒ¼ã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆ**ï¼ˆæœªæ¤œè¨¼ï¼‰\n\n#### â³ ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆ30%å®Œæˆï¼‰\n\n1. **ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¬ã‚¤ãƒ‰**ï¼ˆæœªä½œæˆï¼‰\n2. **é–‹ç™ºè€…ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**ï¼ˆéƒ¨åˆ†çš„ï¼‰\n   - ä»•æ§˜æ›¸ï¼ˆdoc/v5/ï¼‰ã¯å……å®Ÿ\n   - APIãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆï¼ˆæœªä½œæˆï¼‰\n\n#### â³ è¿½åŠ æ©Ÿèƒ½ï¼ˆæœªå®Ÿè£…ï¼‰\n\n1. **ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒãƒ¼ã‚±ãƒƒãƒˆãƒ—ãƒ¬ã‚¤ã‚¹**ï¼ˆè¨ˆç”»ã®ã¿ï¼‰\n2. **ã‚³ãƒ©ãƒœãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³æ©Ÿèƒ½**ï¼ˆè¨ˆç”»ã®ã¿ï¼‰\n3. **ç”»åƒãƒ©ã‚¤ãƒ–ãƒ©ãƒªçµ±åˆ**ï¼ˆè¨ˆç”»ã®ã¿ï¼‰\n4. **ãƒãƒ¼ã‚¸ãƒ§ãƒ³å±¥æ­´**ï¼ˆè¨ˆç”»ã®ã¿ï¼‰\n\n## ç¨¼åƒçŠ¶æ³\n\n### ç’°å¢ƒ\n\n**é–‹ç™ºç’°å¢ƒ**ï¼š\n- ãƒ­ãƒ¼ã‚«ãƒ«ï¼ˆ`npm run dev`ï¼‰\n- ãƒãƒ¼ãƒˆï¼š3000\n- æœ€çµ‚èµ·å‹•ï¼š2025-04-28\n\n**æœ¬ç•ªç’°å¢ƒ**ï¼š\n- ãƒ‡ãƒ—ãƒ­ã‚¤å…ˆï¼šæœªãƒ‡ãƒ—ãƒ­ã‚¤ï¼ˆãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºã®ã¿ï¼‰\n- äºˆå®šï¼šVercelï¼ˆNext.jsã¨ã®ç›¸æ€§ãŒè‰¯ã„ï¼‰\n\n### æœ€çµ‚æ›´æ–°\n\n- **ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆæ—¥**ï¼š2025-04-11ï¼ˆæ¨æ¸¬ã€Initial commitï¼‰\n- **æœ€çµ‚æ›´æ–°æ—¥**ï¼š2025-04-28ï¼ˆãƒ•ã‚¡ã‚¤ãƒ«ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—ã‹ã‚‰ï¼‰\n- **ä¸»è¦ãªæ›´æ–°**ï¼š\n  - 2025-04-11ã€œ04-15: ã‚³ã‚¢æ©Ÿèƒ½å®Ÿè£…\n  - 2025-04-16ã€œ04-17: ãƒ‡ãƒ¼ã‚¿ãƒ»ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆè¿½åŠ \n  - 2025-04-28: æœ€çµ‚èª¿æ•´\n\n### æ›´æ–°é »åº¦\n\n- **é–‹ç™ºæœŸé–“**ï¼šç´„3é€±é–“ï¼ˆ2025-04-11ã€œ04-28ï¼‰\n- **ã‚³ãƒŸãƒƒãƒˆæ•°**ï¼š1å›ã®ã¿ï¼ˆInitial commitï¼‰\n- **é–‹ç™ºã‚¹ã‚¿ã‚¤ãƒ«**ï¼šå˜ä¸€é–‹ç™ºè€…ã€ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—çš„é–‹ç™º\n\n## ãƒ‡ãƒ—ãƒ­ã‚¤æƒ…å ±\n\n### äºˆå®šãƒ‡ãƒ—ãƒ­ã‚¤å…ˆ\n\n**Vercel**ï¼ˆNext.jsã¨ã®ç›¸æ€§ãŒè‰¯ã„ï¼‰\n\n**å¿…è¦ãªè¨­å®š**ï¼š\n\n1. **ç’°å¢ƒå¤‰æ•°**ï¼ˆ`.env.local`ï¼‰\n   ```bash\n   GEMINI_API_KEY=xxx\n   OPENAI_API_KEY=yyy  # ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ç”¨\n   ```\n\n2. **ãƒ“ãƒ«ãƒ‰ã‚³ãƒãƒ³ãƒ‰**\n   ```bash\n   npm run build\n   ```\n\n3. **Puppeteerã®è¨­å®š**\n   - Vercelã§ã¯ãƒ˜ãƒƒãƒ‰ãƒ¬ã‚¹ãƒ–ãƒ©ã‚¦ã‚¶ãŒåˆ¶é™ã•ã‚Œã‚‹å¯èƒ½æ€§\n   - ä»£æ›¿æ¡ˆï¼šPuppeteer Coreã‚’ä½¿ç”¨ã€ã¾ãŸã¯ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰PDFç”Ÿæˆã«ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯\n\n### CI/CD\n\n**ç¾çŠ¶**ï¼šæœªè¨­å®š\n\n**äºˆå®š**ï¼š\n- GitHub Actions\n- è‡ªå‹•ãƒ†ã‚¹ãƒˆï¼ˆJestã€Playwrightï¼‰\n- è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤ï¼ˆVercelï¼‰\n\n## æ—¢çŸ¥ã®å•é¡Œ\n\n### å•é¡Œ1ï¼šãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ãŒå­˜åœ¨ã—ãªã„\n\n**è©³ç´°**ï¼š`failure_tech_debt_no_tests_validation_2025_04_11.md`\n\n**å½±éŸ¿**ï¼š\n- ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ãŒå›°é›£\n- ãƒã‚°ç™ºè¦‹ãŒé…ã„\n- æ©Ÿèƒ½è¿½åŠ ã®ãƒªã‚¹ã‚¯ãŒé«˜ã„\n\n**å¯¾å‡¦äºˆå®š**ï¼š\n- Jestã€Playwrightã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—\n- ä¸»è¦æ©Ÿèƒ½ã®ãƒ†ã‚¹ãƒˆè¿½åŠ \n\n### å•é¡Œ2ï¼šPDFç”Ÿæˆã®å“è³ªãŒä¸å®‰å®š\n\n**è©³ç´°**ï¼š\n- Puppeteerã®è¨­å®šã«ã‚ˆã‚Šã€ãƒ•ã‚©ãƒ³ãƒˆã€ç”»åƒã®å“è³ªãŒå¤‰ã‚ã‚‹\n- ä¸€éƒ¨ã®CSSãŒå°åˆ·æ™‚ã«æ­£ã—ãé©ç”¨ã•ã‚Œãªã„\n\n**å¯¾å‡¦äºˆå®š**ï¼š\n- å°åˆ·CSSï¼ˆ`@media print`ï¼‰ã®æ”¹å–„\n- ãƒ•ã‚©ãƒ³ãƒˆåŸ‹ã‚è¾¼ã¿ã®æ¤œè¨¼\n- ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã®è¿½åŠ \n\n### å•é¡Œ3ï¼šå¤§é‡ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ï¼ˆ20å€‹ä»¥ä¸Šï¼‰ã§ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ä½ä¸‹\n\n**è©³ç´°**ï¼š\n- React Grid LayoutãŒå¤§é‡ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§é…å»¶\n- å†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ãŒé »ç¹ã«ç™ºç”Ÿ\n\n**å¯¾å‡¦äºˆå®š**ï¼š\n- ä»®æƒ³åŒ–ï¼ˆreact-windowï¼‰\n- ãƒ¡ãƒ¢åŒ–ï¼ˆReact.memoã€useMemoï¼‰\n- é…å»¶ãƒ­ãƒ¼ãƒ‰\n\n### å•é¡Œ4ï¼šãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå®šç¾©ã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ä¸è¶³\n\n**è©³ç´°**ï¼š\n- JSON/YAMLãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå®šç¾©ã«èª¤ã‚ŠãŒã‚ã£ã¦ã‚‚ã€å®Ÿè¡Œæ™‚ã«ã‚¨ãƒ©ãƒ¼\n- ä¸æ­£ãªå®šç¾©ãŒæ··å…¥ã™ã‚‹å¯èƒ½æ€§\n\n**å¯¾å‡¦äºˆå®š**ï¼š\n- Zodã‚¹ã‚­ãƒ¼ãƒã®å®šç¾©\n- ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆèª­ã¿è¾¼ã¿æ™‚ã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³\n\n### å•é¡Œ5ï¼šGemini API ã®ãƒ¬ãƒ¼ãƒˆåˆ¶é™\n\n**è©³ç´°**ï¼š\n- ç„¡æ–™æ ï¼š15 RPMï¼ˆRequests Per Minuteï¼‰\n- ä¸€æ‹¬ç”Ÿæˆï¼ˆ10ã‚»ã‚¯ã‚·ãƒ§ãƒ³ï¼‰ã‚’è¤‡æ•°å›å®Ÿè¡Œã™ã‚‹ã¨ã€åˆ¶é™ã«é”ã™ã‚‹å¯èƒ½æ€§\n\n**å¯¾å‡¦äºˆå®š**ï¼š\n- ãƒ¬ãƒ¼ãƒˆåˆ¶é™ã‚¨ãƒ©ãƒ¼ã®ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°\n- ãƒªãƒˆãƒ©ã‚¤æ©Ÿæ§‹ï¼ˆæŒ‡æ•°ãƒãƒƒã‚¯ã‚ªãƒ•ï¼‰\n- OpenAI APIã¸ã®ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯\n\n## æŠ€è¡“çš„è² å‚µ\n\n### è² å‚µ1ï¼šãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰æœªå®Ÿè£…\n\n**è©³ç´°**ï¼š`failure_tech_debt_no_tests_validation_2025_04_11.md`\n\n**å„ªå…ˆåº¦**ï¼šé«˜\n\n### è² å‚µ2ï¼šãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ä¸è¶³\n\n**è©³ç´°**ï¼šãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå®šç¾©ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›ã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³\n\n**å„ªå…ˆåº¦**ï¼šé«˜\n\n### è² å‚µ3ï¼šãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–æœªå®Ÿè£…\n\n**è©³ç´°**ï¼šé…å»¶ãƒ­ãƒ¼ãƒ‰ã€ä»®æƒ³åŒ–ã€ç”»åƒæœ€é©åŒ–\n\n**å„ªå…ˆåº¦**ï¼šä¸­\n\n### è² å‚µ4ï¼šã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ä¸è¶³\n\n**è©³ç´°**ï¼šã‚¨ãƒ©ãƒ¼ãƒã‚¦ãƒ³ãƒ€ãƒªã€API ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°\n\n**å„ªå…ˆåº¦**ï¼šä¸­\n\n### è² å‚µ5ï¼šã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£å¯¾å¿œä¸è¶³\n\n**è©³ç´°**ï¼šARIAãƒ©ãƒ™ãƒ«ã€ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³\n\n**å„ªå…ˆåº¦**ï¼šä½ï¼ˆãŸã ã—ã€å°†æ¥çš„ã«ã¯å¿…é ˆï¼‰\n\n### è² å‚µ6ï¼šãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ä¸è¶³\n\n**è©³ç´°**ï¼šãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¬ã‚¤ãƒ‰ã€APIãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ\n\n**å„ªå…ˆåº¦**ï¼šä½\n\n## ä»Šå¾Œã®äºˆå®š\n\n### Phase 2ï¼šå“è³ªä¿è¨¼ï¼ˆäºˆå®šï¼š1-2é€±é–“ï¼‰\n\n1. **ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰è¿½åŠ **\n   - Jest ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—\n   - Unit Testsï¼ˆä¸»è¦æ©Ÿèƒ½ï¼‰\n   - Integration Testsï¼ˆAPI Routesï¼‰\n   - E2E Testsï¼ˆPlaywrightï¼‰\n\n2. **ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³è¿½åŠ **\n   - Zodã‚¹ã‚­ãƒ¼ãƒå®šç¾©\n   - ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå®šç¾©ã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³\n   - ãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›ã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³\n\n3. **ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°å¼·åŒ–**\n   - ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¨ãƒ©ãƒ¼ãƒã‚¦ãƒ³ãƒ€ãƒª\n   - API ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°\n   - ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯æ©Ÿæ§‹\n\n### Phase 3ï¼šãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–ï¼ˆäºˆå®šï¼š1é€±é–“ï¼‰\n\n1. **é…å»¶ãƒ­ãƒ¼ãƒ‰**\n   - ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå®šç¾©ã®é…å»¶ãƒ­ãƒ¼ãƒ‰\n   - ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å‹•çš„ã‚¤ãƒ³ãƒãƒ¼ãƒˆï¼ˆReact.lazyï¼‰\n\n2. **ä»®æƒ³åŒ–**\n   - React Grid Layoutã®ä»®æƒ³åŒ–\n   - å¤§é‡ã‚»ã‚¯ã‚·ãƒ§ãƒ³å¯¾å¿œ\n\n3. **ç”»åƒæœ€é©åŒ–**\n   - Next.js Imageã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ\n   - WebPå¤‰æ›\n   - é…å»¶ãƒ­ãƒ¼ãƒ‰\n\n### Phase 4ï¼šãƒ‡ãƒ—ãƒ­ã‚¤ï¼ˆäºˆå®šï¼šæ•°æ—¥ï¼‰\n\n1. **Vercelãƒ‡ãƒ—ãƒ­ã‚¤**\n   - ç’°å¢ƒå¤‰æ•°è¨­å®š\n   - ãƒ“ãƒ«ãƒ‰è¨­å®š\n   - Puppeteerè¨­å®š\n\n2. **CI/CDè¨­å®š**\n   - GitHub Actions\n   - è‡ªå‹•ãƒ†ã‚¹ãƒˆ\n   - è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤\n\n### Phase 5ï¼šè¿½åŠ æ©Ÿèƒ½ï¼ˆäºˆå®šï¼šæœªå®šï¼‰\n\n1. **ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒãƒ¼ã‚±ãƒƒãƒˆãƒ—ãƒ¬ã‚¤ã‚¹**\n   - ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’å…±æœ‰ãƒ»ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰\n\n2. **ã‚³ãƒ©ãƒœãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³æ©Ÿèƒ½**\n   - è¤‡æ•°ãƒ¦ãƒ¼ã‚¶ãƒ¼ã§ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç·¨é›†\n\n3. **ç”»åƒãƒ©ã‚¤ãƒ–ãƒ©ãƒªçµ±åˆ**\n   - Unsplashã€Pixabay ãªã©ã®çµ±åˆ\n\n4. **ãƒãƒ¼ã‚¸ãƒ§ãƒ³å±¥æ­´**\n   - å¤‰æ›´å±¥æ­´ã®è¨˜éŒ²\n   - ä»¥å‰ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã«æˆ»ã™æ©Ÿèƒ½\n\n## ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹æƒ…å ±\n\n### ç›£è¦–é …ç›®\n\n**ç¾çŠ¶**ï¼šç›£è¦–ãªã—\n\n**äºˆå®š**ï¼š\n1. **Gemini API ãƒ¬ãƒ¼ãƒˆåˆ¶é™**\n   - ãƒªã‚¯ã‚¨ã‚¹ãƒˆæ•°ã®ç›£è¦–\n   - åˆ¶é™åˆ°é”æ™‚ã®ã‚¢ãƒ©ãƒ¼ãƒˆ\n\n2. **PDFã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆæˆåŠŸç‡**\n   - ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆæˆåŠŸ/å¤±æ•—ã®è¨˜éŒ²\n   - å¤±æ•—æ™‚ã®ã‚¢ãƒ©ãƒ¼ãƒˆ\n\n3. **ãƒšãƒ¼ã‚¸ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹**\n   - åˆæœŸãƒ­ãƒ¼ãƒ‰æ™‚é–“\n   - ãƒšãƒ¼ã‚¸é·ç§»æ™‚é–“\n   - AIç”Ÿæˆæ™‚é–“\n\n### ã‚¢ãƒ©ãƒ¼ãƒˆè¨­å®š\n\n**ç¾çŠ¶**ï¼šæœªè¨­å®š\n\n**äºˆå®š**ï¼š\n- ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿæ™‚ã®Slacké€šçŸ¥\n- APIåˆ¶é™åˆ°é”æ™‚ã®ãƒ¡ãƒ¼ãƒ«é€šçŸ¥\n\n### ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—\n\n**ç¾çŠ¶**ï¼šãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºã®ã¿ã€Gitã§ç®¡ç†\n\n**äºˆå®š**ï¼š\n- ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãƒ‡ãƒ¼ã‚¿ã®å®šæœŸãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—\n- ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå®šç¾©ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†\n\n## ä¾å­˜é–¢ä¿‚\n\n### ä¸»è¦ãªä¾å­˜é–¢ä¿‚\n\n```json\n{\n  \"next\": \"15.3.0\",\n  \"react\": \"^19.0.0\",\n  \"zustand\": \"^5.0.3\",\n  \"@google/generative-ai\": \"^0.24.0\",\n  \"puppeteer\": \"^24.6.1\",\n  \"jspdf\": \"^3.0.1\",\n  \"html2canvas\": \"^1.4.1\",\n  \"@radix-ui/react-*\": \"^1.x.x\",\n  \"chart.js\": \"^4.4.8\",\n  \"prosemirror-*\": \"^1.x.x\",\n  \"react-dnd\": \"^16.0.1\",\n  \"react-grid-layout\": \"^1.5.1\"\n}\n```\n\n### ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆ\n\n**ç¾çŠ¶**ï¼šæœªè¨­å®š\n\n**äºˆå®š**ï¼š\n- Dependabotè¨­å®š\n- å®šæœŸçš„ãªä¾å­˜é–¢ä¿‚ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆ\n\n## ã¾ã¨ã‚\n\nai-document-generatorã¯ã€**ã‚³ã‚¢æ©Ÿèƒ½ã¯å®Œæˆã—ã¦ã„ã‚‹ãŒã€å“è³ªä¿è¨¼ãƒ»æœ€é©åŒ–ãŒæœªå®Œäº†**ã®çŠ¶æ…‹ã€‚\n\n**å¼·ã¿**ï¼š\n- æŸ”è»Ÿãªãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚·ã‚¹ãƒ†ãƒ \n- AIçµ±åˆ\n- é«˜åº¦ãªã‚¨ãƒ‡ã‚£ã‚¿\n\n**å¼±ã¿**ï¼š\n- ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰æœªå®Ÿè£…\n- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–ä¸è¶³\n- æŠ€è¡“çš„è² å‚µãŒå¤šã„\n\n**æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—**ï¼š\n- Phase 2ï¼ˆå“è³ªä¿è¨¼ï¼‰ã‚’æœ€å„ªå…ˆã§å®Ÿæ–½\n- ãƒ†ã‚¹ãƒˆã€ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã€ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã‚’è¿½åŠ \n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `workflow_document_creation_full_flow_2025_04_11.md`: ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“ã®ãƒ•ãƒ­ãƒ¼\n- `failure_tech_debt_no_tests_validation_2025_04_11.md`: æŠ€è¡“çš„è² å‚µã®è©³ç´°\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€Œai-document-generator - ç¾åœ¨ã®çŠ¶æ…‹ã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "workflow-document-creation-full-flow",
      "failure-tech-debt-no-tests-validation"
    ]
  },
  {
    "slug": "ai-integration-status-disabled",
    "title": "AIçµ±åˆçŠ¶æ…‹ï¼ˆå…¨é¢ç„¡åŠ¹åŒ–ä¸­ï¼‰",
    "category": "Active Systemsï¼ˆç¨¼åƒä¸­ã‚·ã‚¹ãƒ†ãƒ ï¼‰",
    "description": "AIçµ±åˆçŠ¶æ…‹ï¼ˆå…¨é¢ç„¡åŠ¹åŒ–ä¸­ãƒ»2025-11-25ï¼‰",
    "project": "instagram-post-generator",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"active_system_ai_integration_status_disabled_2025_11_25\",\n  \"type\": \"active-system\",\n  \"name\": \"AIçµ±åˆçŠ¶æ…‹ï¼ˆå…¨é¢ç„¡åŠ¹åŒ–ä¸­ãƒ»2025-11-25ï¼‰\",\n  \"tags\": [\"AIçµ±åˆ\", \"Gemini\", \"ç„¡åŠ¹åŒ–\", \"ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯\"],\n  \"source_project\": \"instagram-post-generator\",\n  \"status\": \"disabled\",\n  \"related_knowledge\": [\n    \"failure_ai_calls_disabled_emergency_2025_11_25\",\n    \"decision_ai_gemini_2.0_flash_lite_2025_11_25\"\n  ],\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# AIçµ±åˆçŠ¶æ…‹ï¼ˆå…¨é¢ç„¡åŠ¹åŒ–ä¸­ï¼‰\n\n## ç¾åœ¨ã®çŠ¶æ…‹\n\n**AIçµ±åˆ**: å…¨é¢ç„¡åŠ¹åŒ–\n**ç†ç”±**: ä¸æ˜ï¼ˆã€Œç·Šæ€¥å¯¾å¿œã€ã®ã¿è¨˜è¼‰ï¼‰\n**ä»£æ›¿æ‰‹æ®µ**: ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ç”Ÿæˆã®ã¿\n**å¾©æ—§äºˆå®š**: æœªå®š\n\n---\n\n## ç„¡åŠ¹åŒ–ã•ã‚Œã¦ã„ã‚‹AIæ©Ÿèƒ½\n\n### 1. Gemini APIå‘¼ã³å‡ºã—ï¼ˆ5ç®‡æ‰€ï¼‰\n\n**geminiService.ts**:\n- analyzeContentForOptimalPostï¼ˆlines 177-226ï¼‰\n- optimizeHashtagsï¼ˆlines 434-444ï¼‰\n\n**contentGeneratorService.ts**:\n- regenerateCaptionï¼ˆlines 532-535ï¼‰\n- regenerateSpecificPageï¼ˆlines 693-696ï¼‰\n- regenerateHashtagsï¼ˆlines 1470-1472ï¼‰\n\n### 2. 5æ®µéšAIãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³\n\n```\nâŒ Stage 0: ã‚¸ãƒ£ãƒ³ãƒ«æ¤œå‡ºï¼ˆç„¡åŠ¹ï¼‰\nâŒ Stage 1: ãƒšãƒ¼ã‚¸æ§‹é€ æ±ºå®šï¼ˆç„¡åŠ¹ï¼‰\nâŒ Stage 2: ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”Ÿæˆï¼ˆç„¡åŠ¹ï¼‰\nâŒ Stage 3: ã‚­ãƒ£ãƒ—ã‚·ãƒ§ãƒ³ç”Ÿæˆï¼ˆç„¡åŠ¹ï¼‰\nâŒ Stage 4: ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°æœ€é©åŒ–ï¼ˆç„¡åŠ¹ï¼‰\n```\n\n---\n\n## ç¾åœ¨ã®å‹•ä½œï¼ˆãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ï¼‰\n\n### ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯1: å›ºå®šã‚¸ãƒ£ãƒ³ãƒ«\n\n```typescript\n// Stage 0ä»£æ›¿\nconst genre = 'ãã®ä»–'  // å›ºå®šå€¤\nconst typeId = '001'    // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ\n```\n\n### ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯2: ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹èª­ã¿è¾¼ã¿\n\n```typescript\n// Stage 1-2ä»£æ›¿\nif (knowledgeBaseParams?.useKnowledgeBase) {\n  const knowledgeContent = await loadKnowledge(\n    typeId,\n    targetId,\n    knowledgeIds\n  )\n  return generateFromKnowledge(knowledgeContent)\n}\n```\n\n### ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯3: ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°\n\n```typescript\n// Stage 4ä»£æ›¿\nreturn ['#å°±æ´»', '#å­¦ç”Ÿæˆé•·', '#ã‚­ãƒ£ãƒªã‚¢', '#ã‚¹ã‚­ãƒ«ã‚¢ãƒƒãƒ—', '#è‡ªå·±æˆé•·']\n```\n\n---\n\n## å½±éŸ¿\n\n**å‰µé€ æ€§**: ã‚¼ãƒ­ï¼ˆå›ºå®šã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®ã¿ï¼‰\n**æŸ”è»Ÿæ€§**: ã‚¼ãƒ­ï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›ã«å¿œã˜ãŸå¤‰åŒ–ãªã—ï¼‰\n**å“è³ª**: ä¸­ç¨‹åº¦ï¼ˆãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹ã®å“è³ªã«ä¾å­˜ï¼‰\n**ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“**: æ‚ªåŒ–ï¼ˆæœŸå¾…ã¨ç¾å®Ÿã®ã‚®ãƒ£ãƒƒãƒ—ï¼‰\n\n---\n\n## å¾©æ—§æ‰‹é †\n\n### Step 1: åŸå› ç‰¹å®š\n\n1. APIã‚­ãƒ¼ç¢ºèª\n2. ã‚¯ã‚©ãƒ¼ã‚¿ç¢ºèª\n3. ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ç¢ºèª\n4. ã‚³ã‚¹ãƒˆç¢ºèª\n\n### Step 2: æ®µéšçš„å¾©æ—§\n\n```typescript\n// Phase 1: Stage 0ã®ã¿æœ‰åŠ¹åŒ–\nconst stage0Result = await detectGenreAndType(userInput)\n\n// ã‚¨ãƒ©ãƒ¼ãªã— â†’ Phase 2\n// ã‚¨ãƒ©ãƒ¼ã‚ã‚Š â†’ åŸå› èª¿æŸ»\n```\n\n### Step 3: ç›£è¦–ä½“åˆ¶æ§‹ç¯‰\n\n```typescript\n// APIå‘¼ã³å‡ºã—ã‚«ã‚¦ãƒ³ãƒˆ\nlet apiCallCount = 0\n\n// ã‚³ã‚¹ãƒˆè¨ˆç®—\nlet totalCost = 0\n\n// ã‚¨ãƒ©ãƒ¼è¨˜éŒ²\nconst errors = []\n```\n\n---\n\n## å­¦ã³\n\n1. **ç·Šæ€¥å¯¾å¿œæ™‚ã¯ç†ç”±ã‚’è¨˜éŒ²**\n2. **ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯æˆ¦ç•¥ã¯å¿…é ˆ**\n3. **ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°ã®é‡è¦æ€§**\n4. **æ®µéšçš„å¾©æ—§ã®åŸå‰‡**\n\n---\n\n**AIçµ±åˆã®å…¨é¢ç„¡åŠ¹åŒ–ã¯ã€ã‚·ã‚¹ãƒ†ãƒ ã®ä¾¡å€¤ã‚’å¤§ããæãªã†ã€‚æ—©æ€¥ãªå¾©æ—§ã¨å†ç™ºé˜²æ­¢ç­–ãŒå¿…è¦ã€‚**\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€ŒAIçµ±åˆçŠ¶æ…‹ï¼ˆå…¨é¢ç„¡åŠ¹åŒ–ä¸­ï¼‰ã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "failure-ai-calls-disabled-emergency",
      "decision-ai-gemini-2.0-flash-lite"
    ]
  },
  {
    "slug": "download-system-operational-status",
    "title": "ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã‚·ã‚¹ãƒ†ãƒ  - é‹ç”¨çŠ¶æ³",
    "category": "Active Systemsï¼ˆç¨¼åƒä¸­ã‚·ã‚¹ãƒ†ãƒ ï¼‰",
    "description": "ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã‚·ã‚¹ãƒ†ãƒ  - é‹ç”¨çŠ¶æ³",
    "project": "instagram-post-generator",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"system_download_system_operational_status_2025_11_25\",\n  \"type\": \"system_status\",\n  \"name\": \"ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã‚·ã‚¹ãƒ†ãƒ  - é‹ç”¨çŠ¶æ³\",\n  \"tags\": [\"ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰\", \"PNG\", \"ZIP\", \"PDF\", \"html2canvas\", \"å®Œæˆ\"],\n  \"source_project\": \"instagram-post-generator\",\n  \"related_knowledge\": [\n    \"skill_bulk_download_service_zip_2025_11_25\",\n    \"workflow_download_export_workflow_2025_11_25\"\n  ],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã‚·ã‚¹ãƒ†ãƒ  - é‹ç”¨çŠ¶æ³\n\n## ã‚·ã‚¹ãƒ†ãƒ æ¦‚è¦\n\n**InstagramæŠ•ç¨¿ã®ç”»åƒã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆæ©Ÿèƒ½ã€‚PNG/PDF/ZIPå½¢å¼ã§ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰å¯èƒ½ã€‚**\n\n---\n\n## å®Œæˆåº¦\n\n**å®Œæˆåº¦**: 100%\n\n**å®Œäº†ã—ã¦ã„ã‚‹æ©Ÿèƒ½**:\n- âœ… å˜ä¸€ãƒšãƒ¼ã‚¸PNGãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰\n- âœ… ä¸€æ‹¬ZIPãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ï¼ˆJSZipï¼‰\n- âœ… PDFç”Ÿæˆï¼ˆjsPDFï¼‰\n- âœ… ã‚­ãƒ£ãƒ—ã‚·ãƒ§ãƒ³ãƒ»ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°ãƒ†ã‚­ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«\n- âœ… ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ãƒšãƒ¼ã‚¸ç”Ÿæˆ\n- âœ… ãƒšãƒ¼ã‚¸é¸æŠæ©Ÿèƒ½\n- âœ… é€²æ—ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°UI\n- âœ… html2canvas å‹•çš„é«˜ã•å¯¾å¿œ\n\n---\n\n## ç¨¼åƒçŠ¶æ³\n\n**ç’°å¢ƒ**: ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™º\n\n**å¯¾å¿œãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ**:\n- PNG: 1080x1080 (å¯å¤‰é«˜ã•å¯¾å¿œ)\n- PDF: A4ã‚µã‚¤ã‚º\n- ZIP: è¤‡æ•°PNG + ãƒ†ã‚­ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«\n\n**å‡¦ç†æ™‚é–“**:\n- å˜ä¸€ãƒšãƒ¼ã‚¸PNG: ç´„1-2ç§’\n- 10ãƒšãƒ¼ã‚¸ZIP: ç´„8-12ç§’\n\n---\n\n## æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯\n\n```json\n{\n  \"html2canvas\": \"1.4.1\",\n  \"jspdf\": \"2.5.1\",\n  \"jszip\": \"3.10.1\"\n}\n```\n\n---\n\n## ZIPã‚¢ãƒ¼ã‚«ã‚¤ãƒ–æ§‹é€ \n\n```\ninstagram-post-2025-11-25.zip\nâ”œâ”€â”€ 00_index.png          # ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰\nâ”œâ”€â”€ 01_page-1.png          # 1ãƒšãƒ¼ã‚¸ç›®\nâ”œâ”€â”€ 02_page-2.png          # 2ãƒšãƒ¼ã‚¸ç›®\nâ”œâ”€â”€ ...\nâ”œâ”€â”€ 10_page-10.png         # 10ãƒšãƒ¼ã‚¸ç›®\nâ”œâ”€â”€ caption.txt            # ã‚­ãƒ£ãƒ—ã‚·ãƒ§ãƒ³\nâ”œâ”€â”€ hashtags.txt           # ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°\nâ””â”€â”€ selected-pages.txt     # é¸æŠãƒšãƒ¼ã‚¸æƒ…å ±\n```\n\n---\n\n## æ—¢çŸ¥ã®å•é¡Œ\n\n**ãªã—**: ã™ã¹ã¦ã®æ©Ÿèƒ½ãŒæ­£å¸¸å‹•ä½œ\n\n---\n\n## ä»Šå¾Œã®äºˆå®š\n\n**Phase 1**: ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰å±¥æ­´æ©Ÿèƒ½\n**Phase 2**: ã‚¯ãƒ©ã‚¦ãƒ‰ä¿å­˜æ©Ÿèƒ½ï¼ˆGoogleãƒ‰ãƒ©ã‚¤ãƒ–é€£æºï¼‰\n\n---\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- **skill_bulk_download_service_zip_2025_11_25.md**: ZIPä¸€æ‹¬ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰\n- **workflow_download_export_workflow_2025_11_25.md**: ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼\n\n---\n\n**ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã‚·ã‚¹ãƒ†ãƒ ã¯100%å®Œæˆã—ã€PNG/PDF/ZIPå½¢å¼ã§å®‰å®šç¨¼åƒä¸­ã€‚html2canvaså‹•çš„é«˜ã•å¯¾å¿œã«ã‚ˆã‚Šã€ã™ã¹ã¦ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã§æ­£ç¢ºãªã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆãŒå¯èƒ½ã€‚**\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€Œãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã‚·ã‚¹ãƒ†ãƒ  - é‹ç”¨çŠ¶æ³ã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "skill-bulk-download-service-zip",
      "workflow-download-export-workflow"
    ]
  },
  {
    "slug": "instagram-post-generator-status",
    "title": "InstagramæŠ•ç¨¿ç”Ÿæˆã‚·ã‚¹ãƒ†ãƒ ç¾çŠ¶ï¼ˆ2025-11-25ï¼‰",
    "category": "Active Systemsï¼ˆç¨¼åƒä¸­ã‚·ã‚¹ãƒ†ãƒ ï¼‰",
    "description": "InstagramæŠ•ç¨¿ç”Ÿæˆã‚·ã‚¹ãƒ†ãƒ ç¾çŠ¶ï¼ˆ2025-11-25ï¼‰",
    "project": "instagram-post-generator",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"active_system_instagram_post_generator_status_2025_11_25\",\n  \"type\": \"active-system\",\n  \"name\": \"InstagramæŠ•ç¨¿ç”Ÿæˆã‚·ã‚¹ãƒ†ãƒ ç¾çŠ¶ï¼ˆ2025-11-25ï¼‰\",\n  \"tags\": [\"ç¾çŠ¶\", \"ã‚·ã‚¹ãƒ†ãƒ çŠ¶æ…‹\", \"å®Œæˆåº¦\", \"èª²é¡Œ\"],\n  \"source_project\": \"instagram-post-generator\",\n  \"status\": \"partially_functional\",\n  \"completion_rate\": \"85% (AIç„¡åŠ¹åŒ–ã«ã‚ˆã‚Šå®Ÿè³ª40%)\",\n  \"related_knowledge\": [\n    \"failure_ai_calls_disabled_emergency_2025_11_25\",\n    \"failure_index_content_mismatch_unresolved_2025_11_25\"\n  ],\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# InstagramæŠ•ç¨¿ç”Ÿæˆã‚·ã‚¹ãƒ†ãƒ ç¾çŠ¶ï¼ˆ2025-11-25ï¼‰\n\n## ã‚·ã‚¹ãƒ†ãƒ æ¦‚è¦\n\n**ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå**: FIND to DO InstagramæŠ•ç¨¿ä½œæˆã‚·ã‚¹ãƒ†ãƒ \n**ç›®çš„**: å­¦ç”Ÿå‘ã‘ã‚­ãƒ£ãƒªã‚¢ãƒ»å°±æ´»ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®è‡ªå‹•ç”Ÿæˆ\n**æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯**: Next.js 15ã€Reactã€TypeScriptã€Gemini AIã€html2canvasã€jsPDF\n**å…¬ç§°å®Œæˆåº¦**: 85%\n**å®Ÿè³ªå®Œæˆåº¦**: 40%ï¼ˆAIç„¡åŠ¹åŒ–ã«ã‚ˆã‚Šä¸»è¦æ©Ÿèƒ½åœæ­¢ä¸­ï¼‰\n\n---\n\n## ç¾åœ¨ç¨¼åƒä¸­ã®æ©Ÿèƒ½\n\n### âœ… ç¨¼åƒä¸­ï¼ˆãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ãƒ»åŸºç›¤ï¼‰\n\n1. **React Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³**\n   - Next.js 15 App Router\n   - TypeScriptå®Œå…¨å¯¾å¿œ\n   - Tailwind CSS ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°\n   - ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³\n\n2. **ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚·ã‚¹ãƒ†ãƒ **\n   - 72ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆ16ãƒ¡ã‚¤ãƒ³ + ãƒãƒªã‚¨ãƒ¼ã‚·ãƒ§ãƒ³ï¼‰\n   - 44 Reactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ\n   - ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ¬ã‚¸ã‚¹ãƒˆãƒª\n\n3. **ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹ã‚·ã‚¹ãƒ†ãƒ **\n   - 190å€‹ä»¥ä¸Šã®KnowledgeContent\n   - Type-Target-Personaãƒãƒƒãƒ”ãƒ³ã‚°\n   - pageStructurePatternå®šç¾©\n\n4. **ç”»åƒç”Ÿæˆæ©Ÿèƒ½**\n   - html2canvaså¤‰æ›\n   - PNGç”Ÿæˆï¼ˆ1080x1080ï¼‰\n   - PDFç”Ÿæˆï¼ˆjsPDFï¼‰\n   - ZIPç”Ÿæˆï¼ˆJSZipï¼‰\n\n5. **UI/UX**\n   - ãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›ãƒ•ã‚©ãƒ¼ãƒ \n   - ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼\n   - ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼æ©Ÿèƒ½\n   - ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰æ©Ÿèƒ½\n\n### âš ï¸ ä¸€éƒ¨ç¨¼åƒï¼ˆãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ã®ã¿ï¼‰\n\n1. **ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”Ÿæˆ**\n   - AIç”Ÿæˆ: ç„¡åŠ¹åŒ–\n   - ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ç”Ÿæˆ: ç¨¼åƒä¸­\n   - ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹èª­ã¿è¾¼ã¿: ç¨¼åƒä¸­\n\n---\n\n## ç¾åœ¨åœæ­¢ä¸­ã®æ©Ÿèƒ½\n\n### âŒ åœæ­¢ä¸­ï¼ˆAIé–¢é€£ï¼‰\n\n1. **5æ®µéšAIãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³**\n   - Stage 0: ã‚¸ãƒ£ãƒ³ãƒ«æ¤œå‡ºï¼ˆç„¡åŠ¹åŒ–ï¼‰\n   - Stage 1: ãƒšãƒ¼ã‚¸æ§‹é€ æ±ºå®šï¼ˆç„¡åŠ¹åŒ–ï¼‰\n   - Stage 2: ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”Ÿæˆï¼ˆç„¡åŠ¹åŒ–ï¼‰\n   - Stage 3: ã‚­ãƒ£ãƒ—ã‚·ãƒ§ãƒ³ç”Ÿæˆï¼ˆç„¡åŠ¹åŒ–ï¼‰\n   - Stage 4: ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°æœ€é©åŒ–ï¼ˆç„¡åŠ¹åŒ–ï¼‰\n\n2. **å‹•çš„ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”Ÿæˆ**\n   - ãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›ã«å¿œã˜ãŸæŸ”è»Ÿãªç”Ÿæˆ\n   - å‰µé€ çš„ãªè¡¨ç¾\n   - Typeåˆ¥æˆ¦ç•¥é©ç”¨\n\n3. **ä¸¦åˆ—å‡¦ç†**\n   - Stage 2ã®ãƒšãƒ¼ã‚¸ä¸¦åˆ—ç”Ÿæˆ\n   - é«˜é€ŸåŒ–æ©Ÿèƒ½\n\n---\n\n## ã‚¯ãƒªãƒ†ã‚£ã‚«ãƒ«ãªå•é¡Œ\n\n### å•é¡Œ1: AI APIå‘¼ã³å‡ºã—å…¨é¢ç„¡åŠ¹åŒ– âš ï¸æœ€é‡è¦\n\n**çŠ¶æ…‹**: æœªè§£æ±º\n**å½±éŸ¿**: ã‚·ã‚¹ãƒ†ãƒ ã®ä¸»è¦ä¾¡å€¤ææ¡ˆãŒæ©Ÿèƒ½ã—ã¦ã„ãªã„\n**è©³ç´°**: `failure_ai_calls_disabled_emergency_2025_11_25.md`\n\n### å•é¡Œ2: INDEXãƒšãƒ¼ã‚¸å†…å®¹ä¸ä¸€è‡´ âš ï¸å“è³ªå•é¡Œ\n\n**çŠ¶æ…‹**: æœªè§£æ±º\n**å½±éŸ¿**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ã®æ··ä¹±\n**è©³ç´°**: `failure_index_content_mismatch_unresolved_2025_11_25.md`\n\n---\n\n## 2ã¤ã®ã‚·ã‚¹ãƒ†ãƒ ã®é–¢ä¿‚\n\n### React Appï¼ˆãƒ–ãƒ©ã‚¦ã‚¶ãƒ™ãƒ¼ã‚¹ï¼‰\n\n**çŠ¶æ…‹**: AIç„¡åŠ¹åŒ–ã«ã‚ˆã‚Š85% â†’ 40%\n**ç¨¼åƒ**: ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ãƒ»ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ»ç”»åƒç”Ÿæˆã®ã¿\n**åœæ­¢**: AIç”Ÿæˆå…¨åœæ­¢\n\n### ACTIVE-ROUTINESï¼ˆClaude Codeãƒ™ãƒ¼ã‚¹ï¼‰\n\n**çŠ¶æ…‹**: 100%ç¨¼åƒä¸­\n**ç¨¼åƒ**: å®Œå…¨æ©Ÿèƒ½ï¼ˆ4ãƒ«ãƒ¼ãƒ†ã‚£ãƒ¼ãƒ³å®Œå…¨çµ±åˆï¼‰\n**å®Ÿç¸¾**: ãƒªãƒ¼ãƒ«æŠ•ç¨¿95æœ¬ã€ã‚¯ã‚¤ã‚º400å•ã€ãƒ©ãƒ³ã‚­ãƒ³ã‚°25ç¨®é¡\n\n**ç›¸äº’è£œå®Œ**:\n- React Appå¾©æ—§å¾Œ: ãƒ–ãƒ©ã‚¦ã‚¶ãƒ™ãƒ¼ã‚¹é«˜é€Ÿç”Ÿæˆ\n- ACTIVE-ROUTINES: é«˜å“è³ªæ‰‹å‹•ç”Ÿæˆ\n- ä¸¡æ–¹ã‹ã‚‰çŸ¥è­˜å…±æœ‰å¯èƒ½\n\n---\n\n## å¾©æ—§è¨ˆç”»\n\n### Phase 1: AIåŸºæœ¬å¾©æ—§ï¼ˆ1-2æ—¥ï¼‰\n\n1. åŸå› ç‰¹å®šï¼ˆAPIã‚¯ã‚©ãƒ¼ã‚¿/ã‚³ã‚¹ãƒˆ/ã‚¨ãƒ©ãƒ¼ï¼‰\n2. Stage 0ã‹ã‚‰æ®µéšçš„å†æœ‰åŠ¹åŒ–\n3. ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°å¼·åŒ–\n\n### Phase 2: å“è³ªæ”¹å–„ï¼ˆ1é€±é–“ï¼‰\n\n1. INDEXä¸ä¸€è‡´å•é¡Œè§£æ±º\n2. ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒãƒƒãƒãƒ³ã‚°ç²¾åº¦å‘ä¸Š\n3. ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆæœ€é©åŒ–\n\n### Phase 3: æœ€é©åŒ–ï¼ˆ1ãƒ¶æœˆï¼‰\n\n1. ä¸¦åˆ—å‡¦ç†å®Ÿè£…\n2. ã‚­ãƒ£ãƒƒã‚·ãƒ¥å®Ÿè£…\n3. ã‚³ã‚¹ãƒˆãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°\n\n---\n\n## æŠ€è¡“çš„è² å‚µ\n\n1. **AIç„¡åŠ¹åŒ–ç†ç”±ã®è¨˜éŒ²ãªã—**\n2. **ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ã®ä¸è¶³**\n3. **ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°ã‚·ã‚¹ãƒ†ãƒ æœªå®Ÿè£…**\n4. **ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸ä¸è¶³**\n\n---\n\n## æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—\n\n1. **AIå¾©æ—§**: æœ€å„ªå…ˆ\n2. **å“è³ªå•é¡Œè§£æ±º**: INDEXä¸ä¸€è‡´ä¿®æ­£\n3. **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ•´å‚™**: ç„¡åŠ¹åŒ–ç†ç”±ç­‰ã®è¨˜éŒ²\n4. **ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°å®Ÿè£…**: APIä½¿ç”¨é‡ãƒ»ã‚³ã‚¹ãƒˆç›£è¦–\n\n---\n\n**ã‚·ã‚¹ãƒ†ãƒ ã¯åŸºç›¤ãŒæ•´ã£ã¦ã„ã‚‹ãŒã€AIç„¡åŠ¹åŒ–ã«ã‚ˆã‚Šä¸»è¦æ©Ÿèƒ½ãŒåœæ­¢ä¸­ã€‚æ—©æ€¥ãªå¾©æ—§ãŒå¿…è¦ã€‚**\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€ŒInstagramæŠ•ç¨¿ç”Ÿæˆã‚·ã‚¹ãƒ†ãƒ ç¾çŠ¶ï¼ˆ2025-11-25ï¼‰ã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "failure-ai-calls-disabled-emergency",
      "failure-index-content-mismatch-unresolved"
    ]
  },
  {
    "slug": "knowledge-base-system-status",
    "title": "ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹ã‚·ã‚¹ãƒ†ãƒ  - é‹ç”¨çŠ¶æ³",
    "category": "Active Systemsï¼ˆç¨¼åƒä¸­ã‚·ã‚¹ãƒ†ãƒ ï¼‰",
    "description": "ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹ã‚·ã‚¹ãƒ†ãƒ  - é‹ç”¨çŠ¶æ³",
    "project": "instagram-post-generator",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"system_knowledge_base_system_status_2025_11_25\",\n  \"type\": \"system_status\",\n  \"name\": \"ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹ã‚·ã‚¹ãƒ†ãƒ  - é‹ç”¨çŠ¶æ³\",\n  \"tags\": [\"ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹\", \"Type001-005\", \"T001-T030\", \"éƒ¨åˆ†ç¨¼åƒ\"],\n  \"source_project\": \"instagram-post-generator\",\n  \"related_knowledge\": [\n    \"decision_arch_knowledge_base_system_2025_11_25\"\n  ],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹ã‚·ã‚¹ãƒ†ãƒ  - é‹ç”¨çŠ¶æ³\n\n## ã‚·ã‚¹ãƒ†ãƒ æ¦‚è¦\n\n**5ã¤ã®Typeï¼ˆ001-005ï¼‰ã¨30ã®Targetï¼ˆT001-T030ï¼‰ã«ã‚ˆã‚‹ã€InstagramæŠ•ç¨¿ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹ã‚·ã‚¹ãƒ†ãƒ ã€‚**\n\n---\n\n## å®Œæˆåº¦\n\n**å®Œæˆåº¦**: 85%\n\n**å®Œäº†ã—ã¦ã„ã‚‹æ©Ÿèƒ½**:\n- âœ… Type001-005 å®šç¾©å®Œäº†\n- âœ… Target T001-T030 å®šç¾©å®Œäº†\n- âœ… pageStructurePattern å®šç¾©ï¼ˆä¸€éƒ¨ï¼‰\n- âœ… detailedContent å®šç¾©ï¼ˆä¸€éƒ¨ï¼‰\n- âœ… JSONãƒ•ã‚¡ã‚¤ãƒ«æ§‹é€ \n- âœ… ãƒŠãƒ¬ãƒƒã‚¸ãƒãƒƒãƒãƒ³ã‚°ã‚µãƒ¼ãƒ“ã‚¹\n\n**æœªå®Œäº†ã®æ©Ÿèƒ½**:\n- â³ ã™ã¹ã¦ã®Targetã®pageStructurePatternï¼ˆé€²è¡Œä¸­ï¼‰\n- â³ å®Œå…¨è‡ªå‹•ãƒãƒƒãƒãƒ³ã‚°ï¼ˆæ‰‹å‹•é¸æŠä½µç”¨ä¸­ï¼‰\n- â³ templateOverrides ã®å®Œå…¨æ´»ç”¨\n\n---\n\n## ç¨¼åƒçŠ¶æ³\n\n**ç’°å¢ƒ**: ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™º\n\n**ãƒ‡ãƒ¼ã‚¿æ§‹é€ **:\n\n```\napp/data/knowledgeBase/\nâ”œâ”€â”€ type001/\nâ”‚   â”œâ”€â”€ T001.json  # 20ä»£å¥³æ€§ãƒ»ã‚­ãƒ£ãƒªã‚¢ä¸å®‰\nâ”‚   â”œâ”€â”€ T002.json  # 20ä»£å¥³æ€§ãƒ»è‡ªå·±è‚¯å®šæ„Ÿ\nâ”‚   â””â”€â”€ ...\nâ”œâ”€â”€ type002/\nâ”‚   â”œâ”€â”€ T011.json  # 20ä»£ç”·æ€§ãƒ»å®Ÿè·µå‹\nâ”‚   â””â”€â”€ ...\nâ”œâ”€â”€ type003/\nâ”‚   â”œâ”€â”€ T021.json  # ãƒ©ãƒ³ã‚­ãƒ³ã‚°æƒ…å ±å‹\nâ”‚   â””â”€â”€ ...\nâ”œâ”€â”€ type004/\nâ”‚   â”œâ”€â”€ T026.json  # åŠ¹ç‡ã‚¢ãƒƒãƒ—ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯\nâ”‚   â””â”€â”€ ...\nâ””â”€â”€ type005/\n    â””â”€â”€ T030.json  # ãã®ä»–\n```\n\n---\n\n## Type ã¨ Target ä¸€è¦§\n\n### Type001: æ„Ÿæƒ…å…±æ„Ÿå‹ï¼ˆå¥³æ€§å‘ã‘ï¼‰\n- T001-T010ï¼ˆ10ã‚¿ãƒ¼ã‚²ãƒƒãƒˆï¼‰\n- ç‰¹å¾´: æ„Ÿæƒ…å…±æ„Ÿã€æ‚©ã¿è§£æ±º\n\n### Type002: å®Ÿè·µç¿’å¾—å‹ï¼ˆç”·æ€§å‘ã‘ï¼‰\n- T011-T020ï¼ˆ10ã‚¿ãƒ¼ã‚²ãƒƒãƒˆï¼‰\n- ç‰¹å¾´: å®Ÿè·µçš„ã€å…·ä½“çš„æ‰‹é †\n\n### Type003: ãƒ©ãƒ³ã‚­ãƒ³ã‚°æƒ…å ±å‹\n- T021-T025ï¼ˆ5ã‚¿ãƒ¼ã‚²ãƒƒãƒˆï¼‰\n- ç‰¹å¾´: ãƒ‡ãƒ¼ã‚¿ãƒ»ãƒ©ãƒ³ã‚­ãƒ³ã‚°\n\n### Type004: åŠ¹ç‡ã‚¢ãƒƒãƒ—ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯\n- T026-T029ï¼ˆ4ã‚¿ãƒ¼ã‚²ãƒƒãƒˆï¼‰\n- ç‰¹å¾´: åŠ¹ç‡åŒ–ã€æ™‚çŸ­\n\n### Type005: ãã®ä»–\n- T030ï¼ˆ1ã‚¿ãƒ¼ã‚²ãƒƒãƒˆï¼‰\n\n---\n\n## ãƒ‡ãƒ¼ã‚¿ä¾‹\n\n```json\n{\n  \"targetId\": \"T001\",\n  \"targetName\": \"20ä»£å¥³æ€§ãƒ»ã‚­ãƒ£ãƒªã‚¢ä¸å®‰å±¤\",\n  \"typeId\": \"001\",\n  \"pageStructurePattern\": {\n    \"page1\": { \"pageType\": \"basic_intro\", \"template\": \"unified-template-01\" },\n    \"page2\": { \"pageType\": \"item_list\", \"template\": \"unified-template-08\" }\n  },\n  \"detailedContent\": {\n    \"page1\": {\n      \"mainTitle\": \"ã€ã‚ãªãŸã®ã‚­ãƒ£ãƒªã‚¢ã€æœ¬å½“ã«å¤§ä¸ˆå¤«ï¼Ÿã€‘\",\n      \"subtitle\": \"20ä»£å¥³æ€§ãŒæŠ±ãˆã‚‹ã‚­ãƒ£ãƒªã‚¢ä¸å®‰ã‚’è§£æ¶ˆ\",\n      \"description\": [\"è‡ªå·±åˆ†æã®é‡è¦æ€§\", \"å¸‚å ´èª¿æŸ»ã®æ–¹æ³•\"]\n    }\n  }\n}\n```\n\n---\n\n## æ—¢çŸ¥ã®å•é¡Œ\n\n**å•é¡Œ1**: ã™ã¹ã¦ã®Targetã§ pageStructurePattern ãŒæœªå®Œæˆ\n- ç¾çŠ¶: ä¸€éƒ¨ã®Targetã®ã¿å®šç¾©æ¸ˆã¿\n- å½±éŸ¿: æ‰‹å‹•é¸æŠãŒå¿…è¦\n\n**å•é¡Œ2**: å®Œå…¨è‡ªå‹•ãƒãƒƒãƒãƒ³ã‚°ãŒæœªå®Ÿè£…\n- ç¾çŠ¶: Type/Targeté¸æŠã¯ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒæ‰‹å‹•\n- ç†æƒ³: ãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›ã‹ã‚‰è‡ªå‹•æ¤œå‡º\n\n---\n\n## æŠ€è¡“çš„è² å‚µ\n\n- 30ã‚¿ãƒ¼ã‚²ãƒƒãƒˆ Ã— è±Šå¯Œãªã‚³ãƒ³ãƒ†ãƒ³ãƒ„ = ãƒ‡ãƒ¼ã‚¿é‡å¤§\n- ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã‚³ã‚¹ãƒˆå¢—åŠ ã®ãƒªã‚¹ã‚¯\n\n---\n\n## ä»Šå¾Œã®äºˆå®š\n\n**Phase 1**: ã™ã¹ã¦ã®Target ã® pageStructurePattern å®Œæˆ\n**Phase 2**: è‡ªå‹•Type/Targetæ¤œå‡ºæ©Ÿèƒ½\n**Phase 3**: templateOverrides ã®å®Œå…¨æ´»ç”¨\n\n---\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- **decision_arch_knowledge_base_system_2025_11_25.md**: ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹è¨­è¨ˆ\n\n---\n\n**ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹ã‚·ã‚¹ãƒ†ãƒ ã¯æ§‹é€ å®Œæˆï¼ˆ85%ï¼‰ã€‚Type001-005ã€T001-T030ã™ã¹ã¦å®šç¾©æ¸ˆã¿ã ãŒã€pageStructurePattern ã®å®Œå…¨å®Ÿè£…ãŒä»Šå¾Œã®èª²é¡Œã€‚**\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€ŒãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹ã‚·ã‚¹ãƒ†ãƒ  - é‹ç”¨çŠ¶æ³ã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "decision-arch-knowledge-base-system"
    ]
  },
  {
    "slug": "novel-automation-system-status",
    "title": "Novel Automation System v2 - ç¾åœ¨ã®çŠ¶æ…‹",
    "category": "Active Systemsï¼ˆç¨¼åƒä¸­ã‚·ã‚¹ãƒ†ãƒ ï¼‰",
    "description": "Novel Automation System v2 - ç¾åœ¨ã®çŠ¶æ…‹",
    "project": "novel-automation-system-v2",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"system_novel_automation_status_2025_11_25\",\n  \"type\": \"system_status\",\n  \"name\": \"Novel Automation System v2 - ç¾åœ¨ã®çŠ¶æ…‹\",\n  \"tags\": [\"AIå°èª¬ç”Ÿæˆ\", \"Gemini API\", \"è¨˜æ†¶éšå±¤\", \"ã‚·ã‚¹ãƒ†ãƒ çŠ¶æ…‹\", \"ç¨¼åƒçŠ¶æ³\", \"Next.js\", \"TypeScript\"],\n  \"source_project\": \"novel-automation-system-v2\",\n  \"related_knowledge\": [\n    \"decision_tech_nextjs_15_choice_2025_11_25\",\n    \"decision_tech_gemini_api_choice_2025_11_25\",\n    \"decision_three_tier_memory_2025_11_25\",\n    \"skill_service_container_di_2025_11_25\"\n  ],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# Novel Automation System v2 - ç¾åœ¨ã®çŠ¶æ…‹\n\n## ã‚·ã‚¹ãƒ†ãƒ æ¦‚è¦\n\nAIï¼ˆGoogle Gemini APIï¼‰ã‚’æ´»ç”¨ã—ã¦é«˜å“è³ªãªå°èª¬ã‚’è‡ªå‹•ç”Ÿæˆãƒ»ç®¡ç†ãƒ»å…¬é–‹ã™ã‚‹ãŸã‚ã®åŒ…æ‹¬çš„ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã€‚æ¯æ—¥8000æ–‡å­—ç¨‹åº¦ã®å°èª¬ã‚’è‡ªå‹•çš„ã«ç”Ÿæˆã—ã€ä¸€è²«æ€§ã®ã‚ã‚‹é­…åŠ›çš„ãªç‰©èªã‚’ä½œã‚Šå‡ºã™ã“ã¨ã‚’ç›®æŒ‡ã—ã¦ã„ã‚‹ã€‚\n\n## å®Œæˆåº¦\n\n**å®Œæˆåº¦**: 85%\n\n**å®Œäº†ã—ã¦ã„ã‚‹æ©Ÿèƒ½**:\n- âœ… çµ±åˆè¨˜æ†¶éšå±¤ã‚·ã‚¹ãƒ†ãƒ ï¼ˆ3å±¤æ§‹é€ ï¼šçŸ­æœŸãƒ»ä¸­æœŸãƒ»é•·æœŸï¼‰\n- âœ… AIå°èª¬ç”Ÿæˆã‚¨ãƒ³ã‚¸ãƒ³ï¼ˆGemini APIçµ±åˆã€8å¤§ã‚·ã‚¹ãƒ†ãƒ çµ±åˆï¼‰\n- âœ… ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ï¼ˆ7ã‚µãƒ¼ãƒ“ã‚¹çµ±åˆï¼šCRUDã€æ¤œå‡ºã€é€²åŒ–ã€å¿ƒç†ã€é–¢ä¿‚ã€ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã€ã‚¹ã‚­ãƒ«ï¼‰\n- âœ… ãƒ—ãƒ­ãƒƒãƒˆç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ï¼ˆ3ãƒ¢ãƒ¼ãƒ‰å¯¾å¿œï¼šå…·ä½“ã€æŠ½è±¡ã€æ··åˆï¼‰\n- âœ… å“è³ªåˆ†æãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ï¼ˆãƒ†ãƒ¼ãƒã€æ–‡ä½“ã€ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã€èª­è€…ä½“é¨“ï¼‰\n- âœ… å­¦ç¿’æ—…ç¨‹ã‚·ã‚¹ãƒ†ãƒ ï¼ˆã‚³ã‚¢ãƒ­ã‚¸ãƒƒã‚¯å®Œæˆï¼‰\n- âœ… ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ»æ¤œè¨¼ã‚·ã‚¹ãƒ†ãƒ \n- âœ… React UIãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ï¼ˆ60ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼‰\n- âœ… Service Container / ä¾å­˜æ³¨å…¥ï¼ˆ5æ®µéšåˆæœŸåŒ–ï¼‰\n- âœ… ãƒ†ã‚¹ãƒˆã‚¤ãƒ³ãƒ•ãƒ©ï¼ˆJest, Playwrightè¨­å®šå®Œäº†ï¼‰\n- âœ… ä¼ç·šç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ï¼ˆè¨ˆç”»ä¼ç·šç®¡ç†ï¼‰\n- âœ… ä¸–ç•Œè¨­å®šãƒ»ãƒ†ãƒ¼ãƒãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°\n\n**æœªå®Œäº†ã®æ©Ÿèƒ½**:\n- â³ è‡ªå‹•ãƒ‡ã‚¤ãƒªãƒ¼ç”Ÿæˆï¼ˆGitHub Actionsæœªå®Ÿè£…ï¼‰\n- â³ è‡ªå‹•ãƒ¡ãƒ¢ãƒªã‚·ãƒ³ã‚¯ï¼ˆGitHub Actionsæœªå®Ÿè£…ï¼‰\n- â³ è‡ªå‹•å“è³ªãƒã‚§ãƒƒã‚¯ï¼ˆGitHub Actionsæœªå®Ÿè£…ï¼‰\n- â³ ä¼ç·šç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ã®AIç”Ÿæˆæ©Ÿèƒ½ï¼ˆçµ±åˆå¾…ã¡ï¼‰\n- â³ æœ¬ç•ªç’°å¢ƒãƒ‡ãƒ—ãƒ­ã‚¤\n\n## ç¨¼åƒçŠ¶æ³\n\n**ç’°å¢ƒ**:\n- é–‹ç™ºç’°å¢ƒï¼šãƒ­ãƒ¼ã‚«ãƒ«ï¼ˆWSL2 Ubuntuï¼‰\n- æœ¬ç•ªç’°å¢ƒï¼šæœªãƒ‡ãƒ—ãƒ­ã‚¤ï¼ˆVerceläºˆå®šï¼‰\n\n**æœ€çµ‚æ›´æ–°**: 2025-06-13\n\n**ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¦æ¨¡**:\n- TypeScriptãƒ•ã‚¡ã‚¤ãƒ«: 280å€‹\n- ç·ã‚³ãƒ¼ãƒ‰è¡Œæ•°: 163,967è¡Œ\n- å‹å®šç¾©: 3,426è¡Œï¼ˆ11ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰\n- ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚¡ã‚¤ãƒ«: 80å€‹ï¼ˆYAML/JSONï¼‰\n- ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ: 16,292è¡Œ\n- React ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ: 60å€‹\n- ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«: å¤šæ•°ï¼ˆJest, Playwrightï¼‰\n\n**ãƒ‡ãƒ¼ã‚¿è“„ç©çŠ¶æ³**:\n- çŸ­æœŸè¨˜æ†¶: `/memory/short-term/` - æœ€è¿‘ã®8ç« ã‚­ãƒ£ãƒƒã‚·ãƒ¥\n- ä¸­æœŸè¨˜æ†¶:\n  - åˆ†æçµæœ: 3.6MB\n  - ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼é€²åŒ–è¨˜éŒ²: 706KB\n  - ç‰©èªé€²è¡Œãƒ‡ãƒ¼ã‚¿: 686KB\n  - å“è³ªãƒ¡ãƒˆãƒªã‚¯ã‚¹: 29KB\n  - ã‚·ã‚¹ãƒ†ãƒ çµ±è¨ˆ: 306KB\n- é•·æœŸè¨˜æ†¶: ãƒ‘ã‚¿ãƒ¼ãƒ³å­¦ç¿’ãƒ‡ãƒ¼ã‚¿\n\n**ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿**:\n- ç™»éŒ²ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼: 5åï¼ˆä½è—¤ã€éˆ´æœ¨ã€é«˜æ©‹ã€å±±ç”°ã€ä¸­æ‘ï¼‰\n- ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚·ã‚¹ãƒ†ãƒ ç¨¼åƒä¸­\n- é–¢ä¿‚ç®¡ç†å®Ÿè£…æ¸ˆã¿\n\n## ãƒ‡ãƒ—ãƒ­ã‚¤æƒ…å ±\n\n**ãƒ‡ãƒ—ãƒ­ã‚¤å…ˆ**: Vercelï¼ˆäºˆå®šï¼‰\n\n**ç’°å¢ƒå¤‰æ•°**:\n```bash\n# å¿…é ˆ\nGEMINI_API_KEY=xxx\n\n# ã‚ªãƒ—ã‚·ãƒ§ãƒ³\nREDIS_URL=xxx\nNODE_ENV=production\n```\n\n**CI/CD**:\n- GitHub Actionsè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«å­˜åœ¨ï¼ˆ`.github/workflows/`ï¼‰\n- ãŸã ã—ã€ä¸»è¦ãªãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã¯ç©ºï¼ˆæœªå®Ÿè£…ï¼‰:\n  - `daily-generation.yml` - ç©º\n  - `memory-sync.yml` - ç©º\n  - `quality-check.yml` - ç©º\n- æ¨æ¸¬ï¼šæ‰‹å‹•ãƒ‡ãƒ—ãƒ­ã‚¤ã®ã¿ã§ã€è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤ã¯ã¾ã æ¤œè¨¼ä¸­\n\n## æ—¢çŸ¥ã®å•é¡Œ\n\n### å•é¡Œ1: GitHub Actionsæœªå®Ÿè£…\n- **çŠ¶æ³**: è‡ªå‹•ãƒ‡ã‚¤ãƒªãƒ¼ç”ŸæˆãŒæ‰‹å‹•å®Ÿè¡Œã®ã¿\n- **å½±éŸ¿**: é‹ç”¨åŠ¹ç‡ã®ä½ä¸‹\n- **å¯¾å‡¦äºˆå®š**: ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã®å®Ÿè£…\n\n### å•é¡Œ2: è¤‡æ•°ã®\"copy\"ãƒ•ã‚¡ã‚¤ãƒ«å­˜åœ¨\n- **çŠ¶æ³**: ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°é€”ä¸­\n- **ä¾‹**: `manager-copy.ts`, `evolution-system-copy.ts`\n- **å½±éŸ¿**: ã‚³ãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹ã®è¤‡é›‘åŒ–\n- **æ¨æ¸¬**: A/Bãƒ†ã‚¹ãƒˆä¸­ã‹ã€æ®µéšçš„ç½®ãæ›ãˆä¸­\n\n### å•é¡Œ3: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–é€²è¡Œä¸­\n- **çŠ¶æ³**: performance-analyzer, quality-analyzerã«\"copy\"ãƒ•ã‚¡ã‚¤ãƒ«\n- **å½±éŸ¿**: å®Ÿè£…ã®äºŒé‡åŒ–\n- **æ¨æ¸¬**: æœ€é©åŒ–ã®è©¦è¡ŒéŒ¯èª¤ä¸­\n\n### å•é¡Œ4: ãƒ‡ãƒ¼ã‚¿çµ±åˆãƒ—ãƒ­ã‚»ãƒƒã‚µãŒã‚³ãƒ¡ãƒ³ãƒˆã‚¢ã‚¦ãƒˆ\n- **çŠ¶æ³**: ä¸€éƒ¨ã®çµ±åˆå‡¦ç†ãŒç„¡åŠ¹åŒ–\n- **ç†ç”±**: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–ã®ãŸã‚ï¼Ÿ\n- **å½±éŸ¿**: ä¸æ˜ï¼ˆè¦èª¿æŸ»ï¼‰\n\n## æŠ€è¡“çš„è² å‚µ\n\n- **è² å‚µ1**: å¤ã„ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«ã®æ®‹å­˜ï¼ˆmanager-copy.tsç­‰ï¼‰â†’ ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°å®Œäº†å¾…ã¡\n- **è² å‚µ2**: GitHub Actions ã®å®Ÿè£…å®Œäº†å¾…ã¡â†’ é‹ç”¨è‡ªå‹•åŒ–ã®é…å»¶\n- **è² å‚µ3**: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚¢ãƒŠãƒ©ã‚¤ã‚¶ãƒ¼ã®äºŒé‡åŒ–â†’ ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã‚³ã‚¹ãƒˆå¢—\n- **è² å‚µ4**: ä¸€éƒ¨ã‚µãƒ¼ãƒ“ã‚¹ã®æ¡ä»¶ä»˜ãåˆæœŸåŒ–â†’ ã‚³ãƒ¼ãƒ‰ã®è¤‡é›‘æ€§å¢—åŠ \n- **è² å‚µ5**: ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã®éƒ¨åˆ†å®Ÿè£…â†’ å“è³ªä¿è¨¼ã®èª²é¡Œ\n\n## ä»Šå¾Œã®äºˆå®š\n\n### çŸ­æœŸï¼ˆ1-2ãƒ¶æœˆï¼‰\n- GitHub Actionså®Ÿè£…ï¼ˆè‡ªå‹•ãƒ‡ã‚¤ãƒªãƒ¼ç”Ÿæˆï¼‰\n- Vercelã¸ã®ãƒ‡ãƒ—ãƒ­ã‚¤\n- ä¼ç·šç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ã®AIç”Ÿæˆæ©Ÿèƒ½çµ±åˆ\n\n### ä¸­æœŸï¼ˆ3-6ãƒ¶æœˆï¼‰\n- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–å®Œäº†\n- ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°å®Œäº†ï¼ˆcopyãƒ•ã‚¡ã‚¤ãƒ«å‰Šé™¤ï¼‰\n- ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸å‘ä¸Š\n\n### é•·æœŸï¼ˆ6ãƒ¶æœˆä»¥é™ï¼‰\n- è¤‡æ•°ã‚¸ãƒ£ãƒ³ãƒ«å¯¾å¿œ\n- ãƒãƒ«ãƒãƒ¢ãƒ‡ãƒ«å¯¾å¿œï¼ˆGeminiä»¥å¤–ã®LLMï¼‰\n- é«˜åº¦ãªã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼å¿ƒç†åˆ†æ\n\n## ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹æƒ…å ±\n\n**ç›£è¦–é …ç›®**:\n- Gemini API ã®ãƒ¬ãƒ¼ãƒˆåˆ¶é™ï¼ˆ15 RPMï¼‰\n- ãƒˆãƒ¼ã‚¯ãƒ³æ¶ˆè²»é‡ï¼ˆã‚³ã‚¹ãƒˆç®¡ç†ï¼‰\n- ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡ï¼ˆè¨˜æ†¶éšå±¤ã®è‚¥å¤§åŒ–é˜²æ­¢ï¼‰\n- ç”Ÿæˆå“è³ªã‚¹ã‚³ã‚¢ï¼ˆå“è³ªãƒ¡ãƒˆãƒªã‚¯ã‚¹è¿½è·¡ï¼‰\n- ã‚·ã‚¹ãƒ†ãƒ çµ±è¨ˆï¼ˆä¸­æœŸè¨˜æ†¶ã«è“„ç©ï¼‰\n\n**ã‚¢ãƒ©ãƒ¼ãƒˆè¨­å®š**:\n- ãªã—ï¼ˆä»Šå¾Œè¿½åŠ äºˆå®šï¼‰\n- æ¨å¥¨ï¼šAPI ãƒ¬ãƒ¼ãƒˆåˆ¶é™ã‚¢ãƒ©ãƒ¼ãƒˆã€å“è³ªã‚¹ã‚³ã‚¢ä½ä¸‹ã‚¢ãƒ©ãƒ¼ãƒˆ\n\n**ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—æˆ¦ç•¥**:\n- BackupSystemã‚¯ãƒ©ã‚¹å®Ÿè£…æ¸ˆã¿\n- ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆä½œæˆæ©Ÿèƒ½ã‚ã‚Š\n- MigrationToolsã§ãƒ‡ãƒ¼ã‚¿æ•´åˆæ€§ç¢ºèª\n\n## ã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£æ¦‚è¦\n\n```\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚         React UI Dashboard (60 components)  â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n                     â†“\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚     Next.js 15 API Routes (App Router)      â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n                     â†“\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚      Service Container (DI - 5æ®µéšåˆæœŸåŒ–)    â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚  NovelGenerationEngine (8å¤§ã‚·ã‚¹ãƒ†ãƒ çµ±åˆ)     â”‚\nâ”‚  â”œâ”€ Memory Manager (3å±¤è¨˜æ†¶)                â”‚\nâ”‚  â”œâ”€ Character Manager (7ã‚µãƒ¼ãƒ“ã‚¹)           â”‚\nâ”‚  â”œâ”€ Plot Manager (3ãƒ¢ãƒ¼ãƒ‰)                  â”‚\nâ”‚  â”œâ”€ Analysis Coordinator (5åˆ†æã‚µãƒ¼ãƒ“ã‚¹)     â”‚\nâ”‚  â”œâ”€ Quality Assurance                       â”‚\nâ”‚  â”œâ”€ Learning Journey System                 â”‚\nâ”‚  â”œâ”€ Foreshadowing Manager                   â”‚\nâ”‚  â””â”€ Theme Tracker                           â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n                     â†“\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚            Gemini API (2.0 Flash Lite)      â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n                     â†“\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚       Data Storage (YAML/JSON + GitHub)     â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n```\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `decision_tech_nextjs_15_choice_2025_11_25.md`ï¼šãªãœNext.js 15ã‚’é¸ã‚“ã ã‹\n- `decision_tech_gemini_api_choice_2025_11_25.md`ï¼šãªãœGemini APIã‚’é¸ã‚“ã ã‹\n- `decision_three_tier_memory_2025_11_25.md`ï¼šãªãœ3å±¤è¨˜æ†¶ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã‹\n- `skill_service_container_di_2025_11_25.md`ï¼šService Containerå®Ÿè£…æ–¹æ³•\n- `design_pattern_memory_hierarchy_2025_11_25.md`ï¼šè¨˜æ†¶éšå±¤ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ‘ã‚¿ãƒ¼ãƒ³\n- `workflow_chapter_generation_pipeline_2025_11_25.md`ï¼šç« ç”Ÿæˆãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€ŒNovel Automation System v2 - ç¾åœ¨ã®çŠ¶æ…‹ã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "decision-tech-nextjs-15-choice",
      "decision-tech-gemini-api-choice",
      "decision-three-tier-memory",
      "skill-service-container-di"
    ]
  },
  {
    "slug": "template-system-operational-status",
    "title": "ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚·ã‚¹ãƒ†ãƒ  - é‹ç”¨çŠ¶æ³",
    "category": "Active Systemsï¼ˆç¨¼åƒä¸­ã‚·ã‚¹ãƒ†ãƒ ï¼‰",
    "description": "ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚·ã‚¹ãƒ†ãƒ  - é‹ç”¨çŠ¶æ³",
    "project": "instagram-post-generator",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"system_template_system_operational_status_2025_11_25\",\n  \"type\": \"system_status\",\n  \"name\": \"ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚·ã‚¹ãƒ†ãƒ  - é‹ç”¨çŠ¶æ³\",\n  \"tags\": [\"ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚·ã‚¹ãƒ†ãƒ \", \"é‹ç”¨çŠ¶æ³\", \"å®Œæˆ\", \"72ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ\"],\n  \"source_project\": \"instagram-post-generator\",\n  \"related_knowledge\": [\n    \"decision_arch_template_registry_pattern_2025_11_25\",\n    \"skill_dynamic_template_rendering_2025_11_25\"\n  ],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-25\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚·ã‚¹ãƒ†ãƒ  - é‹ç”¨çŠ¶æ³\n\n## ã‚·ã‚¹ãƒ†ãƒ æ¦‚è¦\n\n**InstagramæŠ•ç¨¿ç”Ÿæˆã‚·ã‚¹ãƒ†ãƒ ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚·ã‚¹ãƒ†ãƒ ã€‚72ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆï¼ˆ16ãƒ¡ã‚¤ãƒ³ + 56ãƒãƒªã‚¨ãƒ¼ã‚·ãƒ§ãƒ³ï¼‰ã‚’ç®¡ç†ã—ã€å‹•çš„ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã‚’æä¾›ã€‚**\n\n---\n\n## å®Œæˆåº¦\n\n**å®Œæˆåº¦**: 100%\n\n**å®Œäº†ã—ã¦ã„ã‚‹æ©Ÿèƒ½**:\n- âœ… 72ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå®Ÿè£…å®Œäº†\n- âœ… ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ¬ã‚¸ã‚¹ãƒˆãƒªï¼ˆãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ä»˜ãï¼‰\n- âœ… å‹•çš„ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé¸æŠ\n- âœ… 21ã‚¨ãƒ‡ã‚£ã‚¿ï¼ˆå…¨ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚¿ã‚¤ãƒ—å¯¾å¿œï¼‰\n- âœ… ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼æ›´æ–°\n- âœ… keywords ãƒ™ãƒ¼ã‚¹ãƒãƒƒãƒãƒ³ã‚°\n- âœ… ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ï¼ˆcategory, keywordsï¼‰\n\n**æœªå®Œäº†ã®æ©Ÿèƒ½**:\n- ãªã—ï¼ˆå®Œæˆï¼‰\n\n---\n\n## ç¨¼åƒçŠ¶æ³\n\n**ç’°å¢ƒ**: ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™º\n\n**æœ€çµ‚æ›´æ–°**: 2025-11-25\n\n**ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä¸€è¦§**:\n\n### 16ãƒ¡ã‚¤ãƒ³ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ:\n1. unified-template-01-simple-intro\n2. unified-template-02-background-gradient\n3. unified-template-03-top-3-ranking\n4. unified-template-04-character-blocks\n5. unified-template-05-comparison-table\n6. unified-template-06-tips-grid\n7. unified-template-07-step-guide\n8. unified-template-08-section-blocks\n9. unified-template-09-dual-enumeration\n10. unified-template-10-data-visualization\n11. unified-template-11-tools-intro\n12. unified-template-12-multiple-items-display\n13. unified-template-13-problem-solution\n14. unified-template-14-timeline\n15. unified-template-15-pros-cons\n16. unified-template-16-qa-format\n\n### 56ãƒãƒªã‚¨ãƒ¼ã‚·ãƒ§ãƒ³:\n- å„ãƒ¡ã‚¤ãƒ³ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®è‰²ãƒ»ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆãƒãƒªã‚¨ãƒ¼ã‚·ãƒ§ãƒ³\n\n---\n\n## ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ¬ã‚¸ã‚¹ãƒˆãƒªæ§‹é€ \n\n```typescript\nexport const TemplateRegistry: Record<string, TemplateRegistryEntry> = {\n  'unified-template-01-simple-intro': {\n    id: 'unified-template-01-simple-intro',\n    name: 'ã‚·ãƒ³ãƒ—ãƒ«å°å…¥',\n    component: UnifiedTemplate01SimpleIntro,\n    category: 'intro',\n    keywords: ['å°å…¥', 'ã‚¤ãƒ³ãƒˆãƒ­', 'èª¬æ˜', 'æ¦‚è¦', 'ã¯ã˜ã‚ã«']\n  },\n  // ... 72ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ\n}\n```\n\n---\n\n## æ—¢çŸ¥ã®å•é¡Œ\n\n**ãªã—**: ã™ã¹ã¦ã®æ©Ÿèƒ½ãŒæ­£å¸¸å‹•ä½œ\n\n---\n\n## æŠ€è¡“çš„è² å‚µ\n\n**æœ€å°é™**:\n- ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆæ•°ãŒå¢—åŠ ã™ã‚‹ã¨ä¿å®ˆã‚³ã‚¹ãƒˆå¢—åŠ \n- ç¾åœ¨ã®72ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã¯é©åˆ‡ãªè¦æ¨¡\n\n---\n\n## ä»Šå¾Œã®äºˆå®š\n\n**Phase 1**: AIçµ±åˆå¾©æ—§å¾Œã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé¸æŠç²¾åº¦å‘ä¸Š\n**Phase 2**: ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºæ©Ÿèƒ½ï¼ˆè‰²ã€ãƒ•ã‚©ãƒ³ãƒˆï¼‰\n**Phase 3**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ç‹¬è‡ªãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä½œæˆæ©Ÿèƒ½\n\n---\n\n## ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹æƒ…å ±\n\n**ç›£è¦–é …ç›®**: ãªã—ï¼ˆé™çš„ã‚·ã‚¹ãƒ†ãƒ ï¼‰\n\n**æ›´æ–°é »åº¦**: æ–°ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆè¿½åŠ æ™‚ã®ã¿\n\n---\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- **decision_arch_template_registry_pattern_2025_11_25.md**: ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆç®¡ç†è¨­è¨ˆ\n- **skill_dynamic_template_rendering_2025_11_25.md**: å‹•çš„ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°\n\n---\n\n**ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚·ã‚¹ãƒ†ãƒ ã¯100%å®Œæˆã—ã€å®‰å®šç¨¼åƒä¸­ã€‚72ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã™ã¹ã¦ãŒ keywords, category ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚’æŒã¡ã€å‹•çš„é¸æŠãƒ»ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ãŒå¯èƒ½ã€‚**\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€Œãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚·ã‚¹ãƒ†ãƒ  - é‹ç”¨çŠ¶æ³ã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "decision-arch-template-registry-pattern",
      "skill-dynamic-template-rendering"
    ]
  },
  {
    "slug": "yumesuta-management-system-status",
    "title": "ã‚†ã‚ã‚¹ã‚¿çµ±åˆãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚·ã‚¹ãƒ†ãƒ  - ç¾åœ¨ã®çŠ¶æ…‹",
    "category": "Active Systemsï¼ˆç¨¼åƒä¸­ã‚·ã‚¹ãƒ†ãƒ ï¼‰",
    "description": "ã‚†ã‚ã‚¹ã‚¿çµ±åˆãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚·ã‚¹ãƒ†ãƒ  - ç¾åœ¨ã®çŠ¶æ…‹",
    "project": "yumesuta-management-system",
    "usedIn": [],
    "code": "```json\n{\n  \"id\": \"system_yumesuta_management_system_status_2025_11_24\",\n  \"type\": \"system_status\",\n  \"name\": \"ã‚†ã‚ã‚¹ã‚¿çµ±åˆãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚·ã‚¹ãƒ†ãƒ  - ç¾åœ¨ã®çŠ¶æ…‹\",\n  \"tags\": [\"ç¨¼åƒçŠ¶æ³\", \"ã‚·ã‚¹ãƒ†ãƒ çŠ¶æ…‹\", \"MVP\", \"Phase 1\", \"é€²æ—ç‡\"],\n  \"source_project\": \"yumesuta-management-system\",\n  \"related_knowledge\": [\"decision_mvp_readonly_scope_2025_11_24\", \"failure_api_quota_exceeded_crisis_2025_11_24\"],\n  \"confidence\": \"å®Ÿè¨¼æ¸ˆã¿\",\n  \"created\": \"2025-11-24\",\n  \"updated\": \"2025-11-25\"\n}\n```\n\n# ã‚†ã‚ã‚¹ã‚¿çµ±åˆãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚·ã‚¹ãƒ†ãƒ  - ç¾åœ¨ã®çŠ¶æ…‹\n\n## ã‚·ã‚¹ãƒ†ãƒ æ¦‚è¦\n\nãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼1åã§ã‚‚å…¨æ¥­å‹™ã‚’é‹å–¶ã§ãã‚‹ä½“åˆ¶ã®æ§‹ç¯‰ã‚’ç›®çš„ã¨ã—ãŸã€çµ±åˆãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã€‚\n\n**ç›®çš„**ï¼š\n- å–¶æ¥­ãŒ10åã«å¢—ãˆã¦ã‚‚ç®¡ç†å·¥æ•°ã‚’å¢—ã‚„ã•ãªã„ä»•çµ„ã¿ã®å®Ÿç¾\n- è¤‡æ•°ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ»ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã«åˆ†æ•£ã—ãŸãƒ‡ãƒ¼ã‚¿ã®ä¸€å…ƒç®¡ç†\n- æ¥­å‹™ã®å¯è¦–åŒ–ãƒ»è‡ªå‹•åŒ–ãƒ»æ¨™æº–åŒ–\n\n## å®Œæˆåº¦\n\n**å®Œæˆåº¦**: 91% (Phase 1å®Œæˆã€MVPå®Œäº†)\n\n**å®Œäº†ã—ã¦ã„ã‚‹æ©Ÿèƒ½**ï¼š\n- âœ… å–¶æ¥­é€²æ—ç®¡ç† - å–¶æ¥­KPIãƒ»å¥‘ç´„çŠ¶æ³ãƒ»å…¥é‡‘ç®¡ç†ã®å¯è¦–åŒ–\n- âœ… ã‚†ã‚ãƒã‚¬åˆ¶ä½œé€²æ—ç®¡ç† - 97å·¥ç¨‹ã®åˆ¶ä½œã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ç®¡ç†\n- âœ… ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼ãƒ»ã‚¹ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿ç®¡ç† - æ²è¼‰ä¼æ¥­ãƒ»ã‚¹ã‚¿ãƒ¼ç´¹ä»‹ãƒ‡ãƒ¼ã‚¿ã®ä¸€å…ƒç®¡ç†\n- âœ… HPãƒ»LLMOåˆ†æç®¡ç† - ã‚¢ã‚¯ã‚»ã‚¹è§£æãƒ»æ¤œç´¢ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹åˆ†æï¼ˆMicrosoft Clarityé™¤ãï¼‰\n- âœ… SNSæŠ•ç¨¿ç®¡ç† - Instagramãƒ»Xã®æŠ•ç¨¿ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ç®¡ç†\n- âœ… ã‚¿ã‚¹ã‚¯ç®¡ç† - å€‹äººã‚¿ã‚¹ã‚¯ãƒ»ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚¿ã‚¹ã‚¯ã®é€²æ—ç®¡ç†\n- âœ… å¥‘ç´„ç®¡ç† - ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆæ©Ÿèƒ½\n- âœ… ä¼æ¥­ãƒã‚¹ã‚¿ãƒ¼ç®¡ç† - è¡¨è¨˜ã‚†ã‚Œå¯¾å¿œ\n- âœ… æ±ºç®—æ›¸ã‚·ã‚¹ãƒ†ãƒ  - P/Læ¯”ç‡ã€ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³äºˆæ¸¬\n- âœ… æ”¯å‡ºç®¡ç†\n- âœ… å›ºå®šè²»ç®¡ç†\n- âœ… ç«¶åˆåˆ†æ\n- âœ… ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ‘ãƒ¯ãƒ¼æ¸¬å®š\n- âœ… ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ãƒ©ãƒ³ã‚¯è¿½è·¡\n- âœ… Google Driveé€£å‹•æ©Ÿèƒ½\n- âœ… æƒ…å ±ã‚·ãƒ¼ãƒˆè‡ªå‹•å‡¦ç†\n- âœ… ã‚¤ãƒ³ã‚¿ãƒ“ãƒ¥ãƒ¼ç®¡ç†\n\n**åˆè¨ˆ17+æ©Ÿèƒ½å®Ÿè£…å®Œäº†**\n\n**æœªå®Œäº†ã®æ©Ÿèƒ½ï¼ˆPhase 2ä»¥é™ï¼‰**ï¼š\n- â³ åŒæ–¹å‘åŒæœŸï¼ˆGoogle Sheetsã¸ã®æ›¸ãè¾¼ã¿ï¼‰\n- â³ è‡ªå‹•æ›´æ–°ãƒ»ãƒãƒ¼ãƒªãƒ³ã‚°\n- â³ èªè¨¼æ©Ÿèƒ½ï¼ˆOAuth 2.0ï¼‰\n- â³ HPè‡ªå‹•æ›´æ–°æ©Ÿèƒ½\n- â³ SNSè‡ªå‹•æŠ•ç¨¿æ©Ÿèƒ½\n\n## ç¨¼åƒçŠ¶æ³\n\n**ç’°å¢ƒ**ï¼š\n- é–‹ç™ºç’°å¢ƒï¼šãƒ­ãƒ¼ã‚«ãƒ«ï¼ˆWSLï¼‰\n- æœ¬ç•ªç’°å¢ƒï¼šæœªãƒ‡ãƒ—ãƒ­ã‚¤ï¼ˆãƒ­ãƒ¼ã‚«ãƒ«é‹ç”¨ï¼‰\n\n**æœ€çµ‚æ›´æ–°**ï¼š2025-10-23\n\n**æ›´æ–°é »åº¦**ï¼šæ‰‹å‹•æ›´æ–°ï¼ˆã€Œæ›´æ–°ã€ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯æ™‚ã®ã¿APIå‘¼ã³å‡ºã—ï¼‰\n\n## ãƒ‡ãƒ—ãƒ­ã‚¤æƒ…å ±\n\n**ãƒ‡ãƒ—ãƒ­ã‚¤å…ˆ**ï¼šæœªãƒ‡ãƒ—ãƒ­ã‚¤ï¼ˆãƒ­ãƒ¼ã‚«ãƒ«é‹ç”¨ï¼‰\n\n**ç’°å¢ƒå¤‰æ•°**ï¼š\n```bash\n# Google Sheets API - ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆèªè¨¼\nGOOGLE_SERVICE_ACCOUNT_KEY='{\"type\":\"service_account\",...}'\n\n# ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆID\nSALES_SPREADSHEET_ID=your-sales-spreadsheet-id\nYUMEMAGA_SPREADSHEET_ID=your-yumemaga-spreadsheet-id\nPARTNERS_SPREADSHEET_ID=your-partners-spreadsheet-id\nSNS_SPREADSHEET_ID=your-sns-spreadsheet-id\nTASKS_SPREADSHEET_ID=your-tasks-spreadsheet-id\n\n# Google Analytics\nGA_PROPERTY_ID=your-ga-property-id\n\n# Google Search Console\nSEARCH_CONSOLE_SITE_URL=https://your-site.com\n\n# Microsoft Clarityï¼ˆç„¡åŠ¹åŒ–ï¼‰\n# CLARITY_API_TOKEN=your-clarity-api-token\n# MICROSOFT_CLARITY_PROJECT_ID=your-clarity-project-id\n```\n\n**CI/CD**ï¼šãªã—ï¼ˆãƒ­ãƒ¼ã‚«ãƒ«é‹ç”¨ï¼‰\n\n## æ—¢çŸ¥ã®å•é¡Œ\n\n### ğŸš¨ æœ€é‡è¦ï¼šGoogle Sheets APIã‚¯ã‚©ãƒ¼ã‚¿è¶…éå±æ©Ÿ\n\n**ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: `failure_api_quota_exceeded_crisis_2025_11_24.md`\n\n**ç¾çŠ¶**ï¼š\n- æ±ºç®—æ›¸ãƒšãƒ¼ã‚¸1å›æ›´æ–° = 36 APIãƒªã‚¯ã‚¨ã‚¹ãƒˆ\n- åŒã˜ã‚·ãƒ¼ãƒˆã‚’6å›èª­ã¿å–ã‚‹æ§‹é€ \n- åˆ¶é™: 60ãƒªã‚¯ã‚¨ã‚¹ãƒˆ/åˆ†\n- ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒ2ãƒšãƒ¼ã‚¸æ›´æ–°ã™ã‚‹ã¨å³åº§ã«ã‚¯ã‚©ãƒ¼ã‚¿è¶…é\n- **ã‚·ã‚¹ãƒ†ãƒ ãŒå®Ÿè³ªä½¿ç”¨ä¸èƒ½**\n\n**Phase 2è§£æ±ºç­–**ï¼š\n1. çµ±åˆAPIå®Ÿè£…ï¼ˆ`/api/financial-statements/all`ï¼‰\n2. ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ã‚­ãƒ£ãƒƒã‚·ãƒ¥ï¼ˆnode-cacheï¼‰\n3. é‡è¤‡æ’é™¤\n4. **ç›®æ¨™**: 36ãƒªã‚¯ã‚¨ã‚¹ãƒˆ â†’ 5ãƒªã‚¯ã‚¨ã‚¹ãƒˆï¼ˆ86%å‰Šæ¸›ï¼‰\n\n### å•é¡Œ2ï¼šMicrosoft Clarity APIãƒ¬ãƒ¼ãƒˆåˆ¶é™\n\n**ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: `failure_microsoft_clarity_rate_limiting_2025_11_24.md`\n\n**ç¾çŠ¶**ï¼š\n- Microsoft Clarity APIãŒãƒ¬ãƒ¼ãƒˆåˆ¶é™ã«ã‚ˆã‚Šå–å¾—å¤±æ•—\n- æ©Ÿèƒ½ã‚’ç„¡åŠ¹åŒ–ã—ã€Google Analyticsãƒ»Search Consoleã®ã¿ã§ç¶™ç¶š\n\n### å•é¡Œ3ï¼šãƒ‡ãƒ¼ã‚¿é®®åº¦æœŸå¾…å€¤ã‚®ãƒ£ãƒƒãƒ—\n\n**ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: `failure_data_freshness_expectations_gap_2025_11_24.md`\n\n**ç¾çŠ¶**ï¼š\n- 5åˆ†TTLã‚­ãƒ£ãƒƒã‚·ãƒ¥ã«ã‚ˆã‚Šã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒGoogle Sheetsã‚’æ›´æ–°ã—ã¦ã‹ã‚‰5åˆ†ä»¥å†…ã¯å¤ã„ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ‡ãƒ¼ã‚¿ãŒè¡¨ç¤ºã•ã‚Œã‚‹\n- ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯ã€Œæ›´æ–°ã€ãƒœã‚¿ãƒ³ã§æœ€æ–°ãƒ‡ãƒ¼ã‚¿ãŒå–å¾—ã•ã‚Œã‚‹ã¨æœŸå¾…\n\n**Phase 2è§£æ±ºç­–**ï¼š\n- ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—è¡¨ç¤º\n- ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚¯ãƒªã‚¢APIå®Ÿè£…\n- å¼·åˆ¶æ›´æ–°ãƒœã‚¿ãƒ³è¿½åŠ \n\n## æŠ€è¡“çš„è² å‚µ\n\n### è² å‚µ1ï¼šAPIã‚¯ã‚©ãƒ¼ã‚¿è¶…éå•é¡Œ\n\n**å†…å®¹**ï¼šæ±ºç®—æ›¸ãƒšãƒ¼ã‚¸1å›æ›´æ–°ã§36ãƒªã‚¯ã‚¨ã‚¹ãƒˆç™ºè¡Œ\n\n**å¯¾å‡¦äºˆå®š**ï¼šPhase 2ã§çµ±åˆAPIå®Ÿè£…ï¼ˆ86%å‰Šæ¸›ï¼‰\n\n### è² å‚µ2ï¼šèªè¨¼æ©Ÿèƒ½ãªã—\n\n**å†…å®¹**ï¼šMVPç¯„å›²ã§ã¯èª­ã¿å–ã‚Šå°‚ç”¨ã®ãŸã‚èªè¨¼ä¸è¦ã¨åˆ¤æ–­ã€‚Phase 2ã§æ›¸ãè¾¼ã¿æ©Ÿèƒ½å®Ÿè£…æ™‚ã«èªè¨¼å¿…é ˆã€‚\n\n**å¯¾å‡¦äºˆå®š**ï¼šPhase 2ã§OAuth 2.0èªè¨¼å®Ÿè£…\n\n### è² å‚µ3ï¼šã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆæ§‹é€ å¤‰æ›´æ¤œçŸ¥ãªã—\n\n**å†…å®¹**ï¼šãƒ¬ãƒ³ã‚¸ãŒãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‰ï¼ˆ`A1:K25`ï¼‰ã•ã‚Œã¦ãŠã‚Šã€åˆ—ã®è¿½åŠ ãƒ»å‰Šé™¤ã«è„†å¼±\n\n**å¯¾å‡¦äºˆå®š**ï¼šPhase 2ã§ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿é§†å‹•å‹ãƒ¬ãƒ³ã‚¸æŒ‡å®šå®Ÿè£…\n\n### è² å‚µ4ï¼šãƒãƒ«ãƒãƒ¦ãƒ¼ã‚¶ãƒ¼ç«¶åˆæœªè§£æ±º\n\n**å†…å®¹**ï¼šPhase 2ã§æ›¸ãè¾¼ã¿æ©Ÿèƒ½å®Ÿè£…æ™‚ã€è¤‡æ•°ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒåŒæ™‚æ›´æ–°ã™ã‚‹ã¨ç«¶åˆç™ºç”Ÿ\n\n**å¯¾å‡¦äºˆå®š**ï¼šPhase 2ã§æ¥½è¦³çš„ãƒ­ãƒƒã‚¯å®Ÿè£…\n\n## ä»Šå¾Œã®äºˆå®š\n\n### Phase 2ï¼šæ›¸ãè¾¼ã¿æ©Ÿèƒ½å®Ÿè£…\n\n**å®Ÿè£…äºˆå®š**ï¼š\n1. åŒæ–¹å‘åŒæœŸï¼ˆGoogle Sheetsã¸ã®æ›¸ãè¾¼ã¿ï¼‰\n2. OAuth 2.0èªè¨¼å®Ÿè£…\n3. ãƒ­ãƒ¼ãƒ«ãƒ™ãƒ¼ã‚¹ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡ï¼ˆRBACï¼‰\n4. æ¥½è¦³çš„ãƒ­ãƒƒã‚¯ï¼ˆç«¶åˆè§£æ±ºï¼‰\n5. APIã‚¯ã‚©ãƒ¼ã‚¿æœ€é©åŒ–ï¼ˆçµ±åˆAPIã€ã‚­ãƒ£ãƒƒã‚·ãƒ¥å®Ÿè£…ï¼‰\n\n**ç›®æ¨™å®Œæˆæ—¥**ï¼šæœªå®š\n\n### Phase 3ï¼šè‡ªå‹•åŒ–æ©Ÿèƒ½å®Ÿè£…\n\n**å®Ÿè£…äºˆå®š**ï¼š\n1. Webhookå®Ÿè£…ï¼ˆGoogle Sheetsã®å¤‰æ›´ã‚’æ¤œçŸ¥ï¼‰\n2. HPè‡ªå‹•æ›´æ–°æ©Ÿèƒ½\n3. SNSè‡ªå‹•æŠ•ç¨¿æ©Ÿèƒ½\n\n**ç›®æ¨™å®Œæˆæ—¥**ï¼šæœªå®š\n\n## ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹æƒ…å ±\n\n**ç›£è¦–é …ç›®**ï¼š\n- Google Sheets APIã‚¯ã‚©ãƒ¼ã‚¿ï¼ˆ60ãƒªã‚¯ã‚¨ã‚¹ãƒˆ/åˆ†ï¼‰\n- ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ’ãƒƒãƒˆç‡\n- ãƒ‡ãƒ¼ã‚¿é®®åº¦ï¼ˆ5åˆ†TTLï¼‰\n\n**ã‚¢ãƒ©ãƒ¼ãƒˆè¨­å®š**ï¼š\n- ãªã—ï¼ˆãƒ­ãƒ¼ã‚«ãƒ«é‹ç”¨ã®ãŸã‚ï¼‰\n\n**ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—**ï¼š\n- Google SheetsãŒå”¯ä¸€ã®ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹\n- Google Sheetsã¯ã‚¯ãƒ©ã‚¦ãƒ‰ä¿å­˜ï¼ˆè‡ªå‹•ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ï¼‰\n\n## åˆ©ç”¨çŠ¶æ³\n\n**ãƒ¦ãƒ¼ã‚¶ãƒ¼æ•°**ï¼š1åï¼ˆãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ï¼‰\n\n**åˆ©ç”¨é »åº¦**ï¼šæ¯æ—¥ï¼ˆå–¶æ¥­KPIç¢ºèªã€ã‚†ã‚ãƒã‚¬é€²æ—ç®¡ç†ç­‰ï¼‰\n\n**å¹³å‡ã‚»ãƒƒã‚·ãƒ§ãƒ³æ™‚é–“**ï¼šæœªè¨ˆæ¸¬\n\n**ã‚ˆãä½¿ã‚ã‚Œã‚‹æ©Ÿèƒ½**ï¼š\n1. å–¶æ¥­é€²æ—ç®¡ç†ï¼ˆå–¶æ¥­KPIç¢ºèªï¼‰\n2. ã‚†ã‚ãƒã‚¬åˆ¶ä½œé€²æ—ç®¡ç†ï¼ˆã‚¬ãƒ³ãƒˆãƒãƒ£ãƒ¼ãƒˆç¢ºèªï¼‰\n3. å¥‘ç´„ç®¡ç†ï¼ˆãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆæ©Ÿèƒ½ï¼‰\n\n## ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆçµ±è¨ˆ\n\n| é …ç›® | æ•°å€¤ |\n|------|------|\n| **API Routes** | 94 |\n| **Typeå®šç¾©ãƒ•ã‚¡ã‚¤ãƒ«** | 17 |\n| **Dashboard Pages** | 17+ |\n| **ä¸»è¦æŠ€è¡“æ±ºå®š** | 15+ |\n| **å®Ÿè£…ãƒ‘ã‚¿ãƒ¼ãƒ³** | 20+ |\n| **æ—¢çŸ¥ã®å•é¡Œ** | 10 |\n| **Gitã‚³ãƒŸãƒƒãƒˆæ•°** | 50+ï¼ˆç›´è¿‘2ãƒ¶æœˆï¼‰ |\n| **ã‚³ãƒ¼ãƒ‰è¡Œæ•°** | 10,000+ |\n| **Phase 1å®Œæˆåº¦** | 91% |\n\n## é–¢é€£ã™ã‚‹çŸ¥è­˜\n\n- `decision_mvp_readonly_scope_2025_11_24.md` - MVPèª­ã¿å–ã‚Šå°‚ç”¨æ–¹é‡\n- `failure_api_quota_exceeded_crisis_2025_11_24.md` - Google Sheets APIã‚¯ã‚©ãƒ¼ã‚¿è¶…éå±æ©Ÿï¼ˆæœ€é‡è¦ãƒ»æœªè§£æ±ºï¼‰\n- `failure_data_freshness_expectations_gap_2025_11_24.md` - ãƒ‡ãƒ¼ã‚¿é®®åº¦æœŸå¾…å€¤ã‚®ãƒ£ãƒƒãƒ—\n- `failure_microsoft_clarity_rate_limiting_2025_11_24.md` - Microsoft Clarity APIãƒ¬ãƒ¼ãƒˆåˆ¶é™å•é¡Œ\n- `failure_auth_vs_authorization_gap_2025_11_24.md` - èªè¨¼vsèªå¯ã®ã‚®ãƒ£ãƒƒãƒ—\n- `failure_multi_user_spreadsheet_conflicts_2025_11_24.md` - ãƒãƒ«ãƒãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆç«¶åˆ\n- `failure_spreadsheet_schema_change_detection_2025_11_24.md` - ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆæ§‹é€ å¤‰æ›´æ¤œçŸ¥\n- `failure_mvp_scope_exclusions_2025_11_24.md` - MVPç¯„å›²å¤–æ©Ÿèƒ½ï¼ˆæ„å›³çš„é™¤å¤–ï¼‰\n",
    "prompt": "ã“ã®ã‚¹ã‚­ãƒ«ã€Œã‚†ã‚ã‚¹ã‚¿çµ±åˆãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚·ã‚¹ãƒ†ãƒ  - ç¾åœ¨ã®çŠ¶æ…‹ã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\nè©³ç´°ã¯ä»¥ä¸‹ã®Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚",
    "relatedTech": [
      "decision-mvp-readonly-scope",
      "failure-api-quota-exceeded-crisis"
    ]
  }
];
